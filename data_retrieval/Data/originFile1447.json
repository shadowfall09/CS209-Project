{"items":[{"tags":["java","spring","performance","spring-data-jpa"],"comments":[{"owner":{"account_id":1795625,"reputation":1575,"user_id":1635072,"accept_rate":70,"display_name":"Don Srinath"},"score":0,"creation_date":1651579692,"post_id":71798350,"comment_id":127392214,"body_markdown":"check the stack trace in JFR to see the details on waiting threads and where it is waiting","body":"check the stack trace in JFR to see the details on waiting threads and where it is waiting"}],"owner":{"account_id":290399,"reputation":2210,"user_id":591935,"accept_rate":76,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649426315,"creation_date":1649426315,"question_id":71798350,"body_markdown":"I&#39;m having issues with one of my Java (17) Spring Boot (2.6.3) applications which is backed by an AWS Aurora Serverless v1 (Postgres). Hikari is used, and all settings are default. \r\n\r\nThe queries being run by the application are fairly simple like this\r\n```\r\nselect od.order_item_id,\r\n       od.order_id,\r\n       od.price,\r\n       od.quantity,\r\n       co.created\r\nfrom order_details od\r\n    inner join created_order co \r\n      on od.order_id=co.order_id \r\nwhere od.order_item_id=&#39;123456&#39;;\r\n```\r\nRunning this query in DataGrip typically gives me an execution time from 50-150ms. \r\n\r\nHowever my application seems to come to a grinding halt when processing a batch of queries (around ~2000). Looking at a JFR recording, I can see that for some reason a single pool thread is stuck in socket read. I also see in my other dashboards that only 1 out of 10 available Hikari connections is being used. \r\n\r\nBelow is a 5 minute snapshot, and it looks like all application threads are waiting most of the time from what I understand. I have checked my JVM metrics and can see CPU around 40%, JVM Heap around 55% and I can&#180;t find anything that can really explain what I&#39;m seeing here. \r\n\r\nAny ideas what might be going on here? \r\n[![JFR screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pbmen.png","title":"Spring Hikari DB thread pool stuck in socket read","body":"<p>I'm having issues with one of my Java (17) Spring Boot (2.6.3) applications which is backed by an AWS Aurora Serverless v1 (Postgres). Hikari is used, and all settings are default.</p>\n<p>The queries being run by the application are fairly simple like this</p>\n<pre><code>select od.order_item_id,\n       od.order_id,\n       od.price,\n       od.quantity,\n       co.created\nfrom order_details od\n    inner join created_order co \n      on od.order_id=co.order_id \nwhere od.order_item_id='123456';\n</code></pre>\n<p>Running this query in DataGrip typically gives me an execution time from 50-150ms.</p>\n<p>However my application seems to come to a grinding halt when processing a batch of queries (around ~2000). Looking at a JFR recording, I can see that for some reason a single pool thread is stuck in socket read. I also see in my other dashboards that only 1 out of 10 available Hikari connections is being used.</p>\n<p>Below is a 5 minute snapshot, and it looks like all application threads are waiting most of the time from what I understand. I have checked my JVM metrics and can see CPU around 40%, JVM Heap around 55% and I canÂ´t find anything that can really explain what I'm seeing here.</p>\n<p>Any ideas what might be going on here?\n<a href=\"https://i.stack.imgur.com/pbmen.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbmen.png\" alt=\"JFR screenshot\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5186630,"reputation":177,"user_id":4150831,"display_name":"UDS"},"score":0,"creation_date":1649231966,"post_id":71762807,"comment_id":126820768,"body_markdown":"What is the expected result?","body":"What is the expected result?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1649232265,"post_id":71762807,"comment_id":126820871,"body_markdown":"Looks like OP is trying to move one directory level up, basically...","body":"Looks like OP is trying to move one directory level up, basically..."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649237090,"creation_date":1649236475,"answer_id":71764064,"question_id":71762807,"body_markdown":"The first parameter in method [replaceAll](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)), in class `java.lang.String`, is a [regular expression](https://docs.oracle.com/javase/tutorial/essential/regex/). To escape a backslash in a regular expression, you need four backslashes, i.e. `\\\\\\\\`. Refer to [regex: How to escape backslashes and special characters?](https://stackoverflow.com/questions/4653831/regex-how-to-escape-backslashes-and-special-characters).\r\n\r\nI understand that you want to remove **all** directories named `in` in the source path. If so, then the following code uses string manipulation to achieve that result.  \r\n(Note: No need to call method `substring` before calling `replaceAll`.)\r\n```java\r\nString IN= &quot;\\\\\\\\in&quot;;\r\nString SLASH= &quot;\\\\\\\\&quot;;\r\nString path = &quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;;\r\nSystem.out.println(&quot;path: &quot; + path);\r\nString replacedPath = path.replaceAll(IN, SLASH);\r\nSystem.out.println(&quot;replacedPath: &quot; + replacedPath);\r\nString[] batchIdPath = replacedPath.split(&quot;\\\\\\\\&quot;);\r\nSystem.out.println(&quot;batchIdPath: &quot; + java.util.Arrays.toString(batchIdPath));\r\n```\r\nRunning above code produces following output:\r\n```none\r\npath: C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\in\r\nreplacedPath: C:\\Users\\Ashish.Gupta\\Documents\\\\output\\\r\nbatchIdPath: [C:, Users, Ashish.Gupta, Documents, , output]\r\n```\r\nHowever, if you are using at least Java 7, then you can use [NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html) instead of string manipulation.\r\n```java\r\n/*\r\n * import java.nio.file.Path;\r\n * import java.nio.file.Paths;\r\n * import java.util.Iterator;\r\n */\r\nPath p = Paths.get(&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;in&quot;, &quot;output&quot;, &quot;in&quot;);\r\nSystem.out.println(&quot;p = &quot; + p);\r\nPath bip = p.getRoot();\r\nIterator&lt;Path&gt; iter = p.iterator();\r\nwhile (iter.hasNext()) {\r\n    Path next = iter.next();\r\n    if (!&quot;in&quot;.equals(next.toString())) {\r\n        bip = bip.resolve(next);\r\n    }\r\n}\r\nSystem.out.println(&quot;bip = &quot; + bip);\r\n```\r\nRunning the above code produces the following output:\r\n```none\r\np = C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\in\r\nbip = C:\\Users\\Ashish.Gupta\\Documents\\output\r\n```\r\n","title":"How to replace and split file path in java","body":"<p>The first parameter in method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll</a>, in class <code>java.lang.String</code>, is a <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a>. To escape a backslash in a regular expression, you need four backslashes, i.e. <code>\\\\\\\\</code>. Refer to <a href=\"https://stackoverflow.com/questions/4653831/regex-how-to-escape-backslashes-and-special-characters\">regex: How to escape backslashes and special characters?</a>.</p>\n<p>I understand that you want to remove <strong>all</strong> directories named <code>in</code> in the source path. If so, then the following code uses string manipulation to achieve that result.<br />\n(Note: No need to call method <code>substring</code> before calling <code>replaceAll</code>.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String IN= &quot;\\\\\\\\in&quot;;\nString SLASH= &quot;\\\\\\\\&quot;;\nString path = &quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;;\nSystem.out.println(&quot;path: &quot; + path);\nString replacedPath = path.replaceAll(IN, SLASH);\nSystem.out.println(&quot;replacedPath: &quot; + replacedPath);\nString[] batchIdPath = replacedPath.split(&quot;\\\\\\\\&quot;);\nSystem.out.println(&quot;batchIdPath: &quot; + java.util.Arrays.toString(batchIdPath));\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>path: C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\in\nreplacedPath: C:\\Users\\Ashish.Gupta\\Documents\\\\output\\\nbatchIdPath: [C:, Users, Ashish.Gupta, Documents, , output]\n</code></pre>\n<p>However, if you are using at least Java 7, then you can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a> instead of string manipulation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * import java.nio.file.Path;\n * import java.nio.file.Paths;\n * import java.util.Iterator;\n */\nPath p = Paths.get(&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;in&quot;, &quot;output&quot;, &quot;in&quot;);\nSystem.out.println(&quot;p = &quot; + p);\nPath bip = p.getRoot();\nIterator&lt;Path&gt; iter = p.iterator();\nwhile (iter.hasNext()) {\n    Path next = iter.next();\n    if (!&quot;in&quot;.equals(next.toString())) {\n        bip = bip.resolve(next);\n    }\n}\nSystem.out.println(&quot;bip = &quot; + bip);\n</code></pre>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>p = C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\in\nbip = C:\\Users\\Ashish.Gupta\\Documents\\output\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649426231,"creation_date":1649236929,"answer_id":71764167,"question_id":71762807,"body_markdown":"The quick answer is to replace `replaceAll` with `replace`:\r\n\r\n        String replacedPath = path.replace(IN, SLASH);\r\n\r\n(btw I&#39;ve removed the `substring` call too, I don&#39;t know why you had it there in the first place.)\r\n\r\nThe reason your `replaceAll` didn&#39;t work was that `replaceAll` uses regex. And there is no such escape `\\i` in regex. You just want to treat the string `\\in` as a normal string to be replaced. The `replace` method does that (and, yes, it does replace all occurrences).\r\n\r\nHowever, note that this will change, for example, `C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\india` to \r\n`C:\\Users\\Ashish.Gupta\\Documents\\output\\dia` which you don&#39;t want.\r\n\r\nTo do this replacement properly, you can use `Path` and split into into components, and filter out any component named &quot;in&quot;:\r\n\r\n    Path replacedPath = StreamSupport.stream(path.spliterator(), false)\r\n            .filter(not(Path.of(&quot;in&quot;)::equals))\r\n            .reduce(path.getRoot(), Path::resolve);\r\n\r\nThis use of Path works just as well in Linux/Unix as it does in Windows.\r\n\r\n**Edit**\r\n\r\nTo split the path into components instead (as per the question):\r\n\r\n    Path replacedPath = StreamSupport.stream(path.spliterator(), false)\r\n            .filter(not(Path.of(&quot;in&quot;)::equals))\r\n            .map(Path::toString)\r\n            .toArray(String[]::new);\r\n\r\nResult: `String[] {&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;output&quot;}`","title":"How to replace and split file path in java","body":"<p>The quick answer is to replace <code>replaceAll</code> with <code>replace</code>:</p>\n<pre><code>    String replacedPath = path.replace(IN, SLASH);\n</code></pre>\n<p>(btw I've removed the <code>substring</code> call too, I don't know why you had it there in the first place.)</p>\n<p>The reason your <code>replaceAll</code> didn't work was that <code>replaceAll</code> uses regex. And there is no such escape <code>\\i</code> in regex. You just want to treat the string <code>\\in</code> as a normal string to be replaced. The <code>replace</code> method does that (and, yes, it does replace all occurrences).</p>\n<p>However, note that this will change, for example, <code>C:\\Users\\Ashish.Gupta\\Documents\\in\\output\\india</code> to\n<code>C:\\Users\\Ashish.Gupta\\Documents\\output\\dia</code> which you don't want.</p>\n<p>To do this replacement properly, you can use <code>Path</code> and split into into components, and filter out any component named &quot;in&quot;:</p>\n<pre><code>Path replacedPath = StreamSupport.stream(path.spliterator(), false)\n        .filter(not(Path.of(&quot;in&quot;)::equals))\n        .reduce(path.getRoot(), Path::resolve);\n</code></pre>\n<p>This use of Path works just as well in Linux/Unix as it does in Windows.</p>\n<p><strong>Edit</strong></p>\n<p>To split the path into components instead (as per the question):</p>\n<pre><code>Path replacedPath = StreamSupport.stream(path.spliterator(), false)\n        .filter(not(Path.of(&quot;in&quot;)::equals))\n        .map(Path::toString)\n        .toArray(String[]::new);\n</code></pre>\n<p>Result: <code>String[] {&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;output&quot;}</code></p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649341780,"creation_date":1649341780,"answer_id":71784056,"question_id":71762807,"body_markdown":"[Abra&#39;s answer][1] works very well.\r\n\r\nFor completeness&#39; sake, here is a version using the Streams API:\r\n\r\n```java\r\nPath p = Path.of(&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;in&quot;, &quot;output&quot;, &quot;in&quot;);\r\nPath bip = StreamSupport.stream(p.spliterator(), false)\r\n    .filter(element -&gt; !&quot;in&quot;.equals(element.toString()))\r\n    .reduce(p.getRoot(), Path::resolve);\r\nSystem.out.println(&quot;bip = &quot; + bip);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71764064/507738","title":"How to replace and split file path in java","body":"<p><a href=\"https://stackoverflow.com/a/71764064/507738\">Abra's answer</a> works very well.</p>\n<p>For completeness' sake, here is a version using the Streams API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path p = Path.of(&quot;C:&quot;, &quot;Users&quot;, &quot;Ashish.Gupta&quot;, &quot;Documents&quot;, &quot;in&quot;, &quot;output&quot;, &quot;in&quot;);\nPath bip = StreamSupport.stream(p.spliterator(), false)\n    .filter(element -&gt; !&quot;in&quot;.equals(element.toString()))\n    .reduce(p.getRoot(), Path::resolve);\nSystem.out.println(&quot;bip = &quot; + bip);\n</code></pre>\n"}],"owner":{"account_id":24844656,"reputation":11,"user_id":18722300,"display_name":"Ashish Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71764064,"answer_count":3,"score":-1,"last_activity_date":1649426231,"creation_date":1649230771,"question_id":71762807,"body_markdown":"I am using below code to replace `&quot;\\\\in&quot;` with `&quot;\\\\&quot;`. `&quot;\\\\in&quot;` is the folder name and it can be anything in general.\r\n\r\ninput `&quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;`\r\n\r\nExpected replacedPath = `&quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\output\\\\&quot;`\r\n\r\n```java\r\npublic class Test1 \r\n{\r\n  \tpublic static void main(String[] args) \r\n   \t{\r\n   \t\tString IN = &quot;\\\\in&quot;;\r\n   \t\tString SLASH = &quot;\\\\&quot;;\r\n   \t\tString path = &quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;;\r\n   \t\tString replacedPath = path.substring(0, path.length())\r\n                                  .replaceAll(IN, SLASH);\r\n   \t\tSystem.out.println(&quot;replacedPath&quot; + replacedPath);\r\n   \t\tString[] batchIdPath = replacedPath.split(File.separator);\r\n   \t\tSystem.out.println(&quot;batchIdPath : &quot; + batchIdPath);\r\n    }\r\n}\r\n```\r\nGetting below ERROR:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\r\nIllegal/unsupported escape sequence near index 1 \\in  ^ at\r\njava.base/java.util.regex.Pattern.error(Pattern.java:2028) at\r\njava.base/java.util.regex.Pattern.escape(Pattern.java:2608) at\r\njava.base/java.util.regex.Pattern.atom(Pattern.java:2286) at\r\njava.base/java.util.regex.Pattern.sequence(Pattern.java:2159) at\r\njava.base/java.util.regex.Pattern.expr(Pattern.java:2069) at\r\njava.base/java.util.regex.Pattern.compile(Pattern.java:1783) at\r\njava.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1430) at\r\njava.base/java.util.regex.Pattern.compile(Pattern.java:1069) at\r\njava.base/java.lang.String.replaceAll(String.java:2939) at\r\nTest1.main(Test1.java:14)\r\n```","title":"How to replace and split file path in java","body":"<p>I am using below code to replace <code>&quot;\\\\in&quot;</code> with <code>&quot;\\\\&quot;</code>. <code>&quot;\\\\in&quot;</code> is the folder name and it can be anything in general.</p>\n<p>input <code>&quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;</code></p>\n<p>Expected replacedPath = <code>&quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\output\\\\&quot;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test1 \n{\n    public static void main(String[] args) \n    {\n        String IN = &quot;\\\\in&quot;;\n        String SLASH = &quot;\\\\&quot;;\n        String path = &quot;C:\\\\Users\\\\Ashish.Gupta\\\\Documents\\\\in\\\\output\\\\in&quot;;\n        String replacedPath = path.substring(0, path.length())\n                                  .replaceAll(IN, SLASH);\n        System.out.println(&quot;replacedPath&quot; + replacedPath);\n        String[] batchIdPath = replacedPath.split(File.separator);\n        System.out.println(&quot;batchIdPath : &quot; + batchIdPath);\n    }\n}\n</code></pre>\n<p>Getting below ERROR:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\nIllegal/unsupported escape sequence near index 1 \\in  ^ at\njava.base/java.util.regex.Pattern.error(Pattern.java:2028) at\njava.base/java.util.regex.Pattern.escape(Pattern.java:2608) at\njava.base/java.util.regex.Pattern.atom(Pattern.java:2286) at\njava.base/java.util.regex.Pattern.sequence(Pattern.java:2159) at\njava.base/java.util.regex.Pattern.expr(Pattern.java:2069) at\njava.base/java.util.regex.Pattern.compile(Pattern.java:1783) at\njava.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1430) at\njava.base/java.util.regex.Pattern.compile(Pattern.java:1069) at\njava.base/java.lang.String.replaceAll(String.java:2939) at\nTest1.main(Test1.java:14)\n</code></pre>\n"},{"tags":["java","parameters","null","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3193004,"reputation":2220,"user_id":2696865,"accept_rate":86,"display_name":"Laurent B"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1517911225,"creation_date":1431532621,"answer_id":30219878,"question_id":30219486,"body_markdown":"You are right.\r\n\r\nA request has been made to support better handling of null parameters.\r\nhttps://jira.spring.io/browse/DATAJPA-121\r\n\r\nIn your case, i would advise you to write your repository implementation and to use a custom [CriteriaQuery][1] to handle your case.\r\n\r\nAlso you can use the [@Query][2] annotation with the [is null][3] syntax :\r\n\r\n    @Query(&quot;[...] where :parameter is null&quot;\r\n    public List&lt;Something&gt; getSomethingWithNullParameter();\r\n\r\n**EDIT**\r\n\r\nSince Spring data jpa 2.0, spring now supports @Nullable annotation. This can be helpful to handle null parameters passed.\r\n\r\nFrom the [documentation][4] :\r\n\r\n&gt; @Nullable â to be used on a parameter or return value that can be null.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html\r\n  [3]: https://docs.oracle.com/html/E13946_04/ejb3_langref.html#ejb3_langref_null\r\n  [4]: https://docs.spring.io/spring-data/jpa/docs/2.0.3.RELEASE/reference/html/#repositories.nullability","title":"Spring data JPA and parameters that can be null","body":"<p>You are right.</p>\n\n<p>A request has been made to support better handling of null parameters.\n<a href=\"https://jira.spring.io/browse/DATAJPA-121\" rel=\"noreferrer\">https://jira.spring.io/browse/DATAJPA-121</a></p>\n\n<p>In your case, i would advise you to write your repository implementation and to use a custom <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html\" rel=\"noreferrer\">CriteriaQuery</a> to handle your case.</p>\n\n<p>Also you can use the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html\" rel=\"noreferrer\">@Query</a> annotation with the <a href=\"https://docs.oracle.com/html/E13946_04/ejb3_langref.html#ejb3_langref_null\" rel=\"noreferrer\">is null</a> syntax :</p>\n\n<pre><code>@Query(\"[...] where :parameter is null\"\npublic List&lt;Something&gt; getSomethingWithNullParameter();\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since Spring data jpa 2.0, spring now supports @Nullable annotation. This can be helpful to handle null parameters passed.</p>\n\n<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/2.0.3.RELEASE/reference/html/#repositories.nullability\" rel=\"noreferrer\">documentation</a> :</p>\n\n<blockquote>\n  <p>@Nullable â to be used on a parameter or return value that can be null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1494929406,"creation_date":1476957967,"answer_id":40151354,"question_id":30219486,"body_markdown":"It seems [Query by Example][1] might be what you need.\r\n\r\nQuery by Example is a new feature in Spring Data ([since version Hopper][2], out April 2016), which allows one to create simple dynamic queries with a code like this\r\n\r\n    Person person = new Person();                          \r\n    person.setFirstname(&quot;Dave&quot;);                           \r\n\r\n    ExampleMatcher matcher = ExampleMatcher.matching()     \r\n      .withIncludeNullValues();                        \r\n\r\n    Example&lt;Person&gt; example = Example.of(person, matcher);\r\n\r\n    personRepository.count(example);\r\n    personRepository.findOne(example);\r\n    personRepository.findAll(example);\r\n\r\nMethods `count/findOne/findAll` that take an instance of `org.springframework.data.domain.Example` as a parameter (and some of them also take sorting/pagination parameters) are coming from `org.springframework.data.repository.query.QueryByExampleExecutor&lt;T&gt;` interface, which is extended by `org.springframework.data.jpa.repository.JpaRepository&lt;T, ID extends Serializable&gt;` interface. \r\n\r\nIn short, all `JpaRepository` instances now have these methods.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.execution\r\n  [2]: https://spring.io/blog/2016/05/03/what-s-new-in-spring-data-hopper","title":"Spring data JPA and parameters that can be null","body":"<p>It seems <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.execution\" rel=\"noreferrer\">Query by Example</a> might be what you need.</p>\n\n<p>Query by Example is a new feature in Spring Data (<a href=\"https://spring.io/blog/2016/05/03/what-s-new-in-spring-data-hopper\" rel=\"noreferrer\">since version Hopper</a>, out April 2016), which allows one to create simple dynamic queries with a code like this</p>\n\n<pre><code>Person person = new Person();                          \nperson.setFirstname(\"Dave\");                           \n\nExampleMatcher matcher = ExampleMatcher.matching()     \n  .withIncludeNullValues();                        \n\nExample&lt;Person&gt; example = Example.of(person, matcher);\n\npersonRepository.count(example);\npersonRepository.findOne(example);\npersonRepository.findAll(example);\n</code></pre>\n\n<p>Methods <code>count/findOne/findAll</code> that take an instance of <code>org.springframework.data.domain.Example</code> as a parameter (and some of them also take sorting/pagination parameters) are coming from <code>org.springframework.data.repository.query.QueryByExampleExecutor&lt;T&gt;</code> interface, which is extended by <code>org.springframework.data.jpa.repository.JpaRepository&lt;T, ID extends Serializable&gt;</code> interface. </p>\n\n<p>In short, all <code>JpaRepository</code> instances now have these methods.</p>\n"},{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1528341050,"creation_date":1528341050,"answer_id":50732399,"question_id":30219486,"body_markdown":"Today as of Jun 2018, by looking at https://jira.spring.io/browse/DATAJPA-121, the query will automatically form `is null` if your parameter is null.\r\n\r\nI did that in my project, it is true:\r\n\r\n   \r\n\r\n    compile group: &#39;org.springframework.data&#39;, name: &#39;spring-data-jpa&#39;, version: &#39;2.0.7.RELEASE&#39;\r\n\r\n--\r\n\r\n    public interface AccountDao extends CrudRepository&lt;T, ID&gt; {\r\n    \r\n    \t//this can accept null and it will become isNull\r\n    \tpublic List&lt;MyAccount&gt; findByEmail(String email);\r\n  \r\n    }\r\n\r\nif parameter is null:\r\n\r\n    select\r\n            myaccount0_.id as id1_0_,\r\n            myaccount0_.email as email2_0_,\r\n            myaccount0_.password as password3_0_,\r\n            myaccount0_.user_id as user_id4_0_ \r\n        from\r\n            my_account myaccount0_ \r\n        where\r\n            myaccount0_.email is null\r\n\r\nif parameter is not null:\r\n\r\n    select\r\n            myaccount0_.id as id1_0_,\r\n            myaccount0_.email as email2_0_,\r\n            myaccount0_.password as password3_0_,\r\n            myaccount0_.user_id as user_id4_0_ \r\n        from\r\n            my_account myaccount0_ \r\n        where\r\n            myaccount0_.email=?\r\n    11:02:41.623 [qtp1507181879-72] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [testing@hotmail.com] \r\n\r\n\r\nThen it comes to an interesting question, some developers want better control to ignore the parameter in query if it is null, this is still being under investigating in https://jira.spring.io/browse/DATAJPA-209.\r\n","title":"Spring data JPA and parameters that can be null","body":"<p>Today as of Jun 2018, by looking at <a href=\"https://jira.spring.io/browse/DATAJPA-121\" rel=\"noreferrer\">https://jira.spring.io/browse/DATAJPA-121</a>, the query will automatically form <code>is null</code> if your parameter is null.</p>\n\n<p>I did that in my project, it is true:</p>\n\n<pre><code>compile group: 'org.springframework.data', name: 'spring-data-jpa', version: '2.0.7.RELEASE'\n</code></pre>\n\n<p>--</p>\n\n<pre><code>public interface AccountDao extends CrudRepository&lt;T, ID&gt; {\n\n    //this can accept null and it will become isNull\n    public List&lt;MyAccount&gt; findByEmail(String email);\n\n}\n</code></pre>\n\n<p>if parameter is null:</p>\n\n<pre><code>select\n        myaccount0_.id as id1_0_,\n        myaccount0_.email as email2_0_,\n        myaccount0_.password as password3_0_,\n        myaccount0_.user_id as user_id4_0_ \n    from\n        my_account myaccount0_ \n    where\n        myaccount0_.email is null\n</code></pre>\n\n<p>if parameter is not null:</p>\n\n<pre><code>select\n        myaccount0_.id as id1_0_,\n        myaccount0_.email as email2_0_,\n        myaccount0_.password as password3_0_,\n        myaccount0_.user_id as user_id4_0_ \n    from\n        my_account myaccount0_ \n    where\n        myaccount0_.email=?\n11:02:41.623 [qtp1507181879-72] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [testing@hotmail.com] \n</code></pre>\n\n<p>Then it comes to an interesting question, some developers want better control to ignore the parameter in query if it is null, this is still being under investigating in <a href=\"https://jira.spring.io/browse/DATAJPA-209\" rel=\"noreferrer\">https://jira.spring.io/browse/DATAJPA-209</a>.</p>\n"},{"tags":[],"owner":{"account_id":8290964,"reputation":709,"user_id":6232632,"accept_rate":12,"display_name":"fvukovic"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1533286585,"creation_date":1530451114,"answer_id":51123647,"question_id":30219486,"body_markdown":"i found something...if u put the parameter in the jpa method like this\r\n\r\n    @Param(&quot;value&quot;) String value,\r\n   \r\nthen it can be null and in the query you will have this condition:\r\n\r\n    (table.value = :value OR :value IS NULL)\r\n\r\nif the value is null it will automatically return true and if is not null, it will search that value in the table.\r\n","title":"Spring data JPA and parameters that can be null","body":"<p>i found something...if u put the parameter in the jpa method like this</p>\n\n<pre><code>@Param(\"value\") String value,\n</code></pre>\n\n<p>then it can be null and in the query you will have this condition:</p>\n\n<pre><code>(table.value = :value OR :value IS NULL)\n</code></pre>\n\n<p>if the value is null it will automatically return true and if is not null, it will search that value in the table.</p>\n"},{"tags":[],"owner":{"account_id":7548190,"reputation":121,"user_id":5730537,"display_name":"Ashishkumar Chougule"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559242435,"creation_date":1559242435,"answer_id":56384075,"question_id":30219486,"body_markdown":"In my case membershipNumber is nullable, and I have handled it this way. This will handle all the cases where table.membershipNumber is null too.\r\n\r\n````\r\n      @Query(value = &quot;SELECT pr FROM ABCTable pr &quot; +\r\n            &quot;WHERE LOWER(pr.xyz) = LOWER(:xyz) &quot; +\r\n            &quot;and LOWER(pr.subscriptionReference) = LOWER(:subscriptionReference) &quot; +\r\n            &quot;and pr.billId = :billId &quot; +\r\n            &quot;and ((pr.membershipNumber = :membershipId) or (pr.membershipNumber = null and :membershipId = null))&quot;)\r\n    List&lt;PaymentRequest&gt; getSomething (@Param(&quot;xyz&quot;) String xyz,\r\n                                                 @Param(&quot;subscriptionReference&quot;) String subscriptionReference,\r\n                                                 @Param(&quot;billId&quot;) Integer billId,\r\n                                                 @Param(&quot;membershipId&quot;) String membershipNumber);\r\n\r\n````\r\n\r\n","title":"Spring data JPA and parameters that can be null","body":"<p>In my case membershipNumber is nullable, and I have handled it this way. This will handle all the cases where table.membershipNumber is null too.</p>\n\n<pre><code>      @Query(value = \"SELECT pr FROM ABCTable pr \" +\n            \"WHERE LOWER(pr.xyz) = LOWER(:xyz) \" +\n            \"and LOWER(pr.subscriptionReference) = LOWER(:subscriptionReference) \" +\n            \"and pr.billId = :billId \" +\n            \"and ((pr.membershipNumber = :membershipId) or (pr.membershipNumber = null and :membershipId = null))\")\n    List&lt;PaymentRequest&gt; getSomething (@Param(\"xyz\") String xyz,\n                                                 @Param(\"subscriptionReference\") String subscriptionReference,\n                                                 @Param(\"billId\") Integer billId,\n                                                 @Param(\"membershipId\") String membershipNumber);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4199908,"reputation":420,"user_id":3440284,"accept_rate":0,"display_name":"ganaraj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590123335,"creation_date":1590123335,"answer_id":61948111,"question_id":30219486,"body_markdown":"While this has been answered and the accepted answer is relevant to the current question but there is another way to handle your null parameters in a JpaRespository. Posting this here as this can be leveraged when someone wants to query by ignoring fields when null and have dynamic query built. \r\nThe below code sample should demonstrate the same\r\n\r\n    public class User{\r\n      private String firstName;\r\n      private String lastName;\r\n    }\r\n    \r\n    import javax.persistence.criteria.Predicate;\r\n    import org.springframework.data.jpa.domain.Specification;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User,Long&gt;{\r\n\r\n      public Page&lt;AppUser&gt; findAll(Specification&lt;AppUser&gt; user,Pageable page);\r\n\r\n      public default Page&lt;AppUser&gt; findAll(User user,Pageable page){\r\n        return findAll(search(user),page);\r\n      }\r\n\r\n      static Specification&lt;User&gt; search(User entity) {\r\n        return (root, cq, cb) -&gt; {\r\n          //To ensure we start with a predicate\r\n          Predicate predicate = cb.isTrue(cb.literal(true));\r\n          if(entity.getFirstName() != null &amp;&amp; !entity.getFirstName().isBlank()) {\r\n            Predicate _predicate = cb.like(cb.lower(root.get(&quot;firstName&quot;)), &quot;%&quot;+entity.getFirstName().toLowerCase()+&quot;%&quot;);\r\n            predicate = cb.and(predicate,_predicate);\r\n          }\r\n          if(entity.getLastName() != null &amp;&amp; !entity.getLastName().isBlank()) {\r\n            Predicate _predicate = cb.like(cb.lower(root.get(&quot;lastName&quot;)), &quot;%&quot;+entity.getLastName().toLowerCase()+&quot;%&quot;);\r\n            predicate = cb.and(predicate,_predicate);\r\n          }\r\n          return predicate;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Spring data JPA and parameters that can be null","body":"<p>While this has been answered and the accepted answer is relevant to the current question but there is another way to handle your null parameters in a JpaRespository. Posting this here as this can be leveraged when someone wants to query by ignoring fields when null and have dynamic query built. \nThe below code sample should demonstrate the same</p>\n\n<pre><code>public class User{\n  private String firstName;\n  private String lastName;\n}\n\nimport javax.persistence.criteria.Predicate;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt;{\n\n  public Page&lt;AppUser&gt; findAll(Specification&lt;AppUser&gt; user,Pageable page);\n\n  public default Page&lt;AppUser&gt; findAll(User user,Pageable page){\n    return findAll(search(user),page);\n  }\n\n  static Specification&lt;User&gt; search(User entity) {\n    return (root, cq, cb) -&gt; {\n      //To ensure we start with a predicate\n      Predicate predicate = cb.isTrue(cb.literal(true));\n      if(entity.getFirstName() != null &amp;&amp; !entity.getFirstName().isBlank()) {\n        Predicate _predicate = cb.like(cb.lower(root.get(\"firstName\")), \"%\"+entity.getFirstName().toLowerCase()+\"%\");\n        predicate = cb.and(predicate,_predicate);\n      }\n      if(entity.getLastName() != null &amp;&amp; !entity.getLastName().isBlank()) {\n        Predicate _predicate = cb.like(cb.lower(root.get(\"lastName\")), \"%\"+entity.getLastName().toLowerCase()+\"%\");\n        predicate = cb.and(predicate,_predicate);\n      }\n      return predicate;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8055508,"reputation":46,"user_id":6072789,"display_name":"DonAjit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634195854,"creation_date":1634195854,"answer_id":69566516,"question_id":30219486,"body_markdown":"I was able to apply `IS NULL` appropriately in case of null input using below workaround.\r\n\r\n    \t@Query(&quot;SELECT c FROM ConfigRLLOAContent c WHERE ((:suffixId IS NOT NULL AND c.suffixId = :suffixId) OR (:suffixId IS NULL AND c.suffixId IS NULL))&quot;)\r\n\tOptional&lt;ConfigRLLOAContent&gt; findByRatableUnitId(@Param(&quot;suffixId&quot;) String suffixId);\r\n\r\nAbove approach will apply filters only when `suffixId` is non-null,\r\nelse, `IS NULL` filter will be applied.\r\n\r\nThere&#39;s also an issue raised on github, to which introduction of `@NullMeans` is proposed [here][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/issues/622","title":"Spring data JPA and parameters that can be null","body":"<p>I was able to apply <code>IS NULL</code> appropriately in case of null input using below workaround.</p>\n<pre><code>    @Query(&quot;SELECT c FROM ConfigRLLOAContent c WHERE ((:suffixId IS NOT NULL AND c.suffixId = :suffixId) OR (:suffixId IS NULL AND c.suffixId IS NULL))&quot;)\nOptional&lt;ConfigRLLOAContent&gt; findByRatableUnitId(@Param(&quot;suffixId&quot;) String suffixId);\n</code></pre>\n<p>Above approach will apply filters only when <code>suffixId</code> is non-null,\nelse, <code>IS NULL</code> filter will be applied.</p>\n<p>There's also an issue raised on github, to which introduction of <code>@NullMeans</code> is proposed <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/622\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20756688,"reputation":1,"user_id":15242950,"display_name":"limeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649426183,"creation_date":1649426183,"answer_id":71798325,"question_id":30219486,"body_markdown":"I had the same issue with similar task - one parameter in the query was optional, so to get rid of this error, I managed to use the following query with 2 casts:\r\n\r\n    @Query(value = &quot;select distinct name from table &quot;\r\n            + &quot;where coalesce(cast(table.field_optional as text) = cast(?1 as text), true) &quot;\r\n            + &quot;and lower(table.non_optional_field) like ?2 &quot;\r\n            + &quot;limit ?3&quot;, nativeQuery = true)\r\n    List&lt;String&gt; method(String optionalParam, String param, int limit);\r\n\r\nThis coalesce part would transform into simple &#39;**true**&#39; if `optionalParam` is null","title":"Spring data JPA and parameters that can be null","body":"<p>I had the same issue with similar task - one parameter in the query was optional, so to get rid of this error, I managed to use the following query with 2 casts:</p>\n<pre><code>@Query(value = &quot;select distinct name from table &quot;\n        + &quot;where coalesce(cast(table.field_optional as text) = cast(?1 as text), true) &quot;\n        + &quot;and lower(table.non_optional_field) like ?2 &quot;\n        + &quot;limit ?3&quot;, nativeQuery = true)\nList&lt;String&gt; method(String optionalParam, String param, int limit);\n</code></pre>\n<p>This coalesce part would transform into simple '<strong>true</strong>' if <code>optionalParam</code> is null</p>\n"}],"owner":{"account_id":1652855,"reputation":1565,"user_id":1523090,"accept_rate":85,"display_name":"Sebastian S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109435,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":30219878,"answer_count":8,"score":46,"last_activity_date":1649426183,"creation_date":1431531531,"question_id":30219486,"body_markdown":"My understanding is, that with Spring data JPA I cannot have a query method to fetch all rows where a column equals a given non-null method parameter and use the same method to fetch all rows where this column is NULL when the method parameter is null.\r\n\r\nIs that correct?\r\n\r\nSo I have to distinguish this in my JAVA code and I must use a separate query method explicitly asking for null values, like in the example below?\r\n\r\n    // Query methods\r\n    List&lt;Something&gt; findByParameter(Parameter parameter);\r\n    List&lt;Something&gt; findByParameterIsNull();\r\n\r\n    ...\r\n\r\n    List&lt;Something&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    if (parameter == null)\r\n      result = findByParameterIsNull();\r\n    else\r\n      result = findByParameter(parameter);\r\n\r\n\r\nThat&#39;s bad, if I have 4 parameters which could be null and would have to code 16 different query methods.","title":"Spring data JPA and parameters that can be null","body":"<p>My understanding is, that with Spring data JPA I cannot have a query method to fetch all rows where a column equals a given non-null method parameter and use the same method to fetch all rows where this column is NULL when the method parameter is null.</p>\n\n<p>Is that correct?</p>\n\n<p>So I have to distinguish this in my JAVA code and I must use a separate query method explicitly asking for null values, like in the example below?</p>\n\n<pre><code>// Query methods\nList&lt;Something&gt; findByParameter(Parameter parameter);\nList&lt;Something&gt; findByParameterIsNull();\n\n...\n\nList&lt;Something&gt; result = new ArrayList&lt;&gt;();\n\nif (parameter == null)\n  result = findByParameterIsNull();\nelse\n  result = findByParameter(parameter);\n</code></pre>\n\n<p>That's bad, if I have 4 parameters which could be null and would have to code 16 different query methods.</p>\n"},{"tags":["java","gradle","netbeans"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1649427528,"post_id":71798308,"comment_id":126880080,"body_markdown":"Which NetBeans version are you using? With any recent version (12.x, 13.x) you don&#39;t need to download a Gradle plugin explicitly. When you open a Gradle project for the first time, NetBeans will ask you if you trust that project. If you don&#39;t trust the project I think NetBeans won&#39;t run the Gradle script.","body":"Which NetBeans version are you using? With any recent version (12.x, 13.x) you don&#39;t need to download a Gradle plugin explicitly. When you open a Gradle project for the first time, NetBeans will ask you if you trust that project. If you don&#39;t trust the project I think NetBeans won&#39;t run the Gradle script."},{"owner":{"account_id":24873075,"reputation":1,"user_id":18747354,"display_name":"Justin Daniel"},"score":0,"creation_date":1649428352,"post_id":71798308,"comment_id":126880431,"body_markdown":"I am using Apache Netbeans 12.6. When I open the project, the first thing that is says is that there is project problems.","body":"I am using Apache Netbeans 12.6. When I open the project, the first thing that is says is that there is project problems."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1649428659,"post_id":71798308,"comment_id":126880567,"body_markdown":"When you right-click on the project and choose &quot;Properties&quot;, you can &quot;trust&quot; the script in the &quot;Gradle Execution&quot; section.","body":"When you right-click on the project and choose &quot;Properties&quot;, you can &quot;trust&quot; the script in the &quot;Gradle Execution&quot; section."}],"owner":{"account_id":24873075,"reputation":1,"user_id":18747354,"display_name":"Justin Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649426135,"creation_date":1649426135,"question_id":71798308,"body_markdown":"I am trying to run the Gradle project for Apache NetBeans but all it says is that \r\n\r\n&quot;In order to be able to read this project, NetBeans needs to execute its Gradle scripts as priming build. Executing Gradle scripts allows arbitrary code execution, as current user, on this system.&quot;\r\n\r\n\r\nAlso I can&#39;t seem to find the Gradle plugin for Apache NetBeans. Please help.","title":"Project is not working in Gradle for Apache NetBeans","body":"<p>I am trying to run the Gradle project for Apache NetBeans but all it says is that</p>\n<p>&quot;In order to be able to read this project, NetBeans needs to execute its Gradle scripts as priming build. Executing Gradle scripts allows arbitrary code execution, as current user, on this system.&quot;</p>\n<p>Also I can't seem to find the Gradle plugin for Apache NetBeans. Please help.</p>\n"},{"tags":["java","json","visual-studio-code","cmd","org.json"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649388599,"post_id":71791256,"comment_id":126868039,"body_markdown":"If you are attempting to run the java app from inside the src folder, then you need to also place the external libraries or lib folder in the src directory (Not in a folder on an upper lever of the file structure). This `-cp lib/json.jar` is going to look for files inside the src folder only, for example, the absolute path would look like: `....../APP/src/lib/json.jar` which of course does not exist in the src folder.","body":"If you are attempting to run the java app from inside the src folder, then you need to also place the external libraries or lib folder in the src directory (Not in a folder on an upper lever of the file structure). This <code>-cp lib&#47;json.jar</code> is going to look for files inside the src folder only, for example, the absolute path would look like: <code>......&#47;APP&#47;src&#47;lib&#47;json.jar</code> which of course does not exist in the src folder."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649388733,"post_id":71791256,"comment_id":126868058,"body_markdown":"If you want to retain your file structure use `../` to move up a level like so: `-cp ../lib/json.jar`","body":"If you want to retain your file structure use <code>..&#47;</code> to move up a level like so: <code>-cp ..&#47;lib&#47;json.jar</code>"},{"owner":{"account_id":18469759,"reputation":343,"user_id":13454990,"display_name":"Bakar"},"score":0,"creation_date":1649389334,"post_id":71791256,"comment_id":126868125,"body_markdown":"I&#39;m attempting to run the file from the App folder which contains src and lib. The program compiles without errors but running &#39;java src/App.java&#39; from the App folder generates the errors. How can I resolve that?","body":"I&#39;m attempting to run the file from the App folder which contains src and lib. The program compiles without errors but running &#39;java src/App.java&#39; from the App folder generates the errors. How can I resolve that?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649389770,"post_id":71791256,"comment_id":126868174,"body_markdown":"You need to edit your post to include the error, otherwise, we can only guess. You can&#39;t run `&#39;java src/App.java` because that will look into the src folder. Make sure that the App.java file is directly in the APP folder, then from the APP folder run this command `java App.java` now what happens? If you get an error then edit your post to include ti, and show your updated file structure.","body":"You need to edit your post to include the error, otherwise, we can only guess. You can&#39;t run <code>&#39;java src&#47;App.java</code> because that will look into the src folder. Make sure that the App.java file is directly in the APP folder, then from the APP folder run this command <code>java App.java</code> now what happens? If you get an error then edit your post to include ti, and show your updated file structure."},{"owner":{"account_id":18469759,"reputation":343,"user_id":13454990,"display_name":"Bakar"},"score":0,"creation_date":1649393063,"post_id":71791256,"comment_id":126868678,"body_markdown":"I&#39;ve updated the post with the error for your reference. It says compilation failed at the bottom but when we compile with javac there are no output errors? Do you know what might be causing this to happen?","body":"I&#39;ve updated the post with the error for your reference. It says compilation failed at the bottom but when we compile with javac there are no output errors? Do you know what might be causing this to happen?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649395819,"post_id":71791256,"comment_id":126869139,"body_markdown":"Was this but a mistake `-cp ..\\bin:.\\lib\\json.jar` it shouldn&#39;t need bin, or to move up a folder level? With the updated file structure you should no longer need to move up a directory, so your original command should work `java -cp lib\\json.jar App.java`","body":"Was this but a mistake <code>-cp ..\\bin:.\\lib\\json.jar</code> it shouldn&#39;t need bin, or to move up a folder level? With the updated file structure you should no longer need to move up a directory, so your original command should work <code>java -cp lib\\json.jar App.java</code>"}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649412984,"creation_date":1649412984,"answer_id":71795297,"question_id":71791256,"body_markdown":"It&#39;s not `java xxx.java`, it&#39;s `java SomeNameoOfTheClassFileName`.\r\n\r\nYou can just click the add button on the right of `Referenced Libraries` under the `Java Projects` panel:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen you can import the `org.json.*` successfully. Then you can click the `Run Java` button on the top-right of the VSCode, the Java extension will help you compile the java code automatically.\r\n\r\nOr you just want to compile the java file manually, you can read [this article][2].\r\n\r\nDepending on the first picture&#39;s structure it will be like this:\r\n\r\nFirst\r\n\r\n    javac -cp lib\\json.jar -d classes src\\App.java\r\n\r\nAfter that, create a manifest.txt next to README.md and contains:\r\n\r\n    Main-Class: App  //if your App.java has package src, it will be src.App\r\n    Class-Path: lib\\json.jar\r\n    //need keep a blank line here\r\n\r\nThen\r\n\r\n    jar cfm App.jar manifest.txt -C classes .\r\n\r\nLast\r\n\r\n    java -jar App.jar\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VSa8q.jpg\r\n  [2]: https://www.codejava.net/java-core/tools/how-to-compile-package-and-run-a-java-program-using-command-line-tools-javac-jar-and-java","title":"Compiling java program with external libraries from command line","body":"<p>It's not <code>java xxx.java</code>, it's <code>java SomeNameoOfTheClassFileName</code>.</p>\n<p>You can just click the add button on the right of <code>Referenced Libraries</code> under the <code>Java Projects</code> panel:</p>\n<p><a href=\"https://i.stack.imgur.com/VSa8q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VSa8q.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then you can import the <code>org.json.*</code> successfully. Then you can click the <code>Run Java</code> button on the top-right of the VSCode, the Java extension will help you compile the java code automatically.</p>\n<p>Or you just want to compile the java file manually, you can read <a href=\"https://www.codejava.net/java-core/tools/how-to-compile-package-and-run-a-java-program-using-command-line-tools-javac-jar-and-java\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>Depending on the first picture's structure it will be like this:</p>\n<p>First</p>\n<pre><code>javac -cp lib\\json.jar -d classes src\\App.java\n</code></pre>\n<p>After that, create a manifest.txt next to README.md and contains:</p>\n<pre><code>Main-Class: App  //if your App.java has package src, it will be src.App\nClass-Path: lib\\json.jar\n//need keep a blank line here\n</code></pre>\n<p>Then</p>\n<pre><code>jar cfm App.jar manifest.txt -C classes .\n</code></pre>\n<p>Last</p>\n<pre><code>java -jar App.jar\n</code></pre>\n"}],"owner":{"account_id":18469759,"reputation":343,"user_id":13454990,"display_name":"Bakar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71795297,"answer_count":1,"score":1,"last_activity_date":1649426125,"creation_date":1649387375,"question_id":71791256,"body_markdown":"I am having difficulty compiling my java program from the command line. The program uses external libraries and I have had no issues compiling the program. However, upon running the program, the following error is generated:\r\n\r\n    C:\\Users\\...\\App&gt; javac -d bin -cp lib/json.jar src/*.java\r\n    \r\n    C:\\Users\\...\\App&gt; java src/App.java\r\n    src\\App.java:3: error: package org.json does not exist\r\n    import org.json.*;\r\n    ^\r\n    src\\App.java:35: error: cannot find symbol\r\n                JSONObject obj = new JSONObject(jsonString);\r\n                ^\r\n      symbol:   class JSONObject\r\n      location: class App\r\n    src\\App.java:35: error: cannot find symbol\r\n                JSONObject obj = new JSONObject(jsonString);\r\n                                     ^\r\n      symbol:   class JSONObject\r\n      location: class App\r\n    3 errors\r\n    error: compilation failed\r\n    \r\n    C:\\Users\\...\\App&gt; \r\n\r\nThe file structure looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I compile my program with its external libraries from the command line?\r\n\r\n**UPDATE**\r\n\r\nI&#39;ve rearranged the file structure as advised and is now\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHowever, I am still getting errors when compiling the program\r\n    \r\n    C:\\Users\\...\\App\\src&gt;javac -d ..\\bin -cp lib\\json.jar App.java\r\n    \r\n    C:\\Users\\...\\App\\src&gt;java -cp ..\\bin:.\\lib\\json.jar App.java\r\n    App.java:3: error: package org.json does not exist\r\n    import org.json.*;\r\n    ^\r\n    App.java:35: error: cannot find symbol\r\n                JSONObject obj = new JSONObject(jsonString);\r\n                ^\r\n      symbol:   class JSONObject\r\n      location: class App\r\n    App.java:35: error: cannot find symbol\r\n                JSONObject obj = new JSONObject(jsonString);\r\n                                     ^\r\n      symbol:   class JSONObject\r\n      location: class App\r\n    3 errors\r\n    error: compilation failed\r\n\r\n  [1]: https://i.stack.imgur.com/SfA9h.png\r\n  [2]: https://i.stack.imgur.com/lAnFb.png","title":"Compiling java program with external libraries from command line","body":"<p>I am having difficulty compiling my java program from the command line. The program uses external libraries and I have had no issues compiling the program. However, upon running the program, the following error is generated:</p>\n<pre><code>C:\\Users\\...\\App&gt; javac -d bin -cp lib/json.jar src/*.java\n\nC:\\Users\\...\\App&gt; java src/App.java\nsrc\\App.java:3: error: package org.json does not exist\nimport org.json.*;\n^\nsrc\\App.java:35: error: cannot find symbol\n            JSONObject obj = new JSONObject(jsonString);\n            ^\n  symbol:   class JSONObject\n  location: class App\nsrc\\App.java:35: error: cannot find symbol\n            JSONObject obj = new JSONObject(jsonString);\n                                 ^\n  symbol:   class JSONObject\n  location: class App\n3 errors\nerror: compilation failed\n\nC:\\Users\\...\\App&gt; \n</code></pre>\n<p>The file structure looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/SfA9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfA9h.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I compile my program with its external libraries from the command line?</p>\n<p><strong>UPDATE</strong></p>\n<p>I've rearranged the file structure as advised and is now</p>\n<p><a href=\"https://i.stack.imgur.com/lAnFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lAnFb.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I am still getting errors when compiling the program</p>\n<pre><code>C:\\Users\\...\\App\\src&gt;javac -d ..\\bin -cp lib\\json.jar App.java\n\nC:\\Users\\...\\App\\src&gt;java -cp ..\\bin:.\\lib\\json.jar App.java\nApp.java:3: error: package org.json does not exist\nimport org.json.*;\n^\nApp.java:35: error: cannot find symbol\n            JSONObject obj = new JSONObject(jsonString);\n            ^\n  symbol:   class JSONObject\n  location: class App\nApp.java:35: error: cannot find symbol\n            JSONObject obj = new JSONObject(jsonString);\n                                 ^\n  symbol:   class JSONObject\n  location: class App\n3 errors\nerror: compilation failed\n</code></pre>\n"},{"tags":["java","android","c++","android-ndk","java-native-interface"],"comments":[{"owner":{"account_id":5171142,"reputation":1569,"user_id":4139593,"display_name":"TruthSeeker"},"score":0,"creation_date":1649407222,"post_id":71793910,"comment_id":126872346,"body_markdown":"You need to expose interface from `MainActivity` to call `object` and keep the global reference to `MainActivity` inside JNI during init.","body":"You need to expose interface from <code>MainActivity</code> to call <code>object</code> and keep the global reference to <code>MainActivity</code> inside JNI during init."},{"owner":{"account_id":17797232,"reputation":13,"user_id":12924832,"display_name":"Raffaele"},"score":0,"creation_date":1649407766,"post_id":71793910,"comment_id":126872562,"body_markdown":"So I just need to implement a static method in the main activity and call it from JNI?","body":"So I just need to implement a static method in the main activity and call it from JNI?"},{"owner":{"account_id":5171142,"reputation":1569,"user_id":4139593,"display_name":"TruthSeeker"},"score":0,"creation_date":1649412625,"post_id":71793910,"comment_id":126874241,"body_markdown":"Not really just static method, bunch of other things too. I tried to summarize it in the answer","body":"Not really just static method, bunch of other things too. I tried to summarize it in the answer"}],"answers":[{"tags":[],"owner":{"account_id":5171142,"reputation":1569,"user_id":4139593,"display_name":"TruthSeeker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649426091,"creation_date":1649411970,"answer_id":71795080,"question_id":71793910,"body_markdown":"I tried to put the part of code for your use case.\r\n\r\n 1. Pass the custom object during `onCreate` to `JNI`\r\n\r\n         //MainActivity.java\r\n         public class MainActivity extends AppCompatActivity {\r\n        \r\n            // Used to load the &#39;native-lib&#39; library on application startup.\r\n        \r\n            static {\r\n                System.loadLibrary(&quot;native-lib&quot;);\r\n            }\r\n        \r\n            private MyCustomObject object;\r\n        \r\n            protected void onCreate(Bundle savedInstanceState) {\r\n        \r\n                object = new MyCustomObject();\r\n        \r\n                //object is passed tthrough JNI call\r\n                intJNI(object);\r\n            }\r\n        \r\n            public class MyCustomObject{\r\n        \r\n                public void myCustomMethod(){\r\n        \r\n                }\r\n        \r\n            }\r\n        \r\n        \r\n            /**\r\n             * A native method that is implemented by the &#39;native-lib&#39; native library,\r\n             * which is packaged with this application.\r\n             */\r\n            public native void intJNI(MyCustomObject obj);\r\n        }\r\n    \r\n    \r\n\r\n 2. At native side you keep the reference of the object and call it at appropriate time\r\n\r\n  \r\n        //JNI \r\n        static jobject globlaRefMyCustomObject;\r\n        static JavaVM *jvm;\r\n        \r\n        extern  &quot;C&quot; JNIEXPORT void JNICALL\r\n        Java_test_com_myapplication_MainActivity_intJNI(\r\n                JNIEnv* env,\r\n                jobject callingObject,\r\n                jobject myCustomObject) {\r\n        \r\n                jint rs = env-&gt;GetJavaVM(&amp;jvm);\r\n                assert (rs == JNI_OK);\r\n\r\n                //take the global reference of the object\r\n                globlaRefMyCustomObject =     env-&gt;NewGlobalRef(myCustomObject);\r\n        \r\n        }\r\n        \r\n        //this is done in any background thread in JNI \r\n        void callJavaCallbackFucntion(){\r\n\r\n             JNIEnv *env;\r\n             jint rs = jvm-&gt;AttachCurrentThread(&amp;env, NULL);\r\n             assert (rs == JNI_OK);\r\n\r\n            jclass MyCustomObjectClass = env-&gt;GetObjectClass(globlaRefMyCustomObject);\r\n            jmethodID midMyCustomMethod = env-&gt;GetMethodID(MyCustomObjectClass, &quot;myCustomMethod&quot;, &quot;()V&quot;);\r\n            env-&gt;CallVoidMethod(globlaRefMyCustomObject,midMyCustomMethod);\r\n\r\n            /* end useful code */\r\n            jvm-&gt;DetachCurrentThread();\r\n        }\r\n        \r\n        \r\n        //Release the Global refence at appropriate time\r\n        void JNI_OnUnload(JavaVM *vm, void *reserved){\r\n            JNIEnv* env;\r\n            if (vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION_1_6) != JNI_OK) {\r\n                return JNI_ERR;\r\n            }\r\n            env-&gt;DeleteGlobalRef(globlaRefMyCustomObject);\r\n        }","title":"Access Java class object methos from JNI","body":"<p>I tried to put the part of code for your use case.</p>\n<ol>\n<li><p>Pass the custom object during <code>onCreate</code> to <code>JNI</code></p>\n<pre><code> //MainActivity.java\n public class MainActivity extends AppCompatActivity {\n\n    // Used to load the 'native-lib' library on application startup.\n\n    static {\n        System.loadLibrary(&quot;native-lib&quot;);\n    }\n\n    private MyCustomObject object;\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n        object = new MyCustomObject();\n\n        //object is passed tthrough JNI call\n        intJNI(object);\n    }\n\n    public class MyCustomObject{\n\n        public void myCustomMethod(){\n\n        }\n\n    }\n\n\n    /**\n     * A native method that is implemented by the 'native-lib' native library,\n     * which is packaged with this application.\n     */\n    public native void intJNI(MyCustomObject obj);\n}\n</code></pre>\n</li>\n<li><p>At native side you keep the reference of the object and call it at appropriate time</p>\n<pre><code>//JNI \nstatic jobject globlaRefMyCustomObject;\nstatic JavaVM *jvm;\n\nextern  &quot;C&quot; JNIEXPORT void JNICALL\nJava_test_com_myapplication_MainActivity_intJNI(\n        JNIEnv* env,\n        jobject callingObject,\n        jobject myCustomObject) {\n\n        jint rs = env-&gt;GetJavaVM(&amp;jvm);\n        assert (rs == JNI_OK);\n\n        //take the global reference of the object\n        globlaRefMyCustomObject =     env-&gt;NewGlobalRef(myCustomObject);\n\n}\n\n//this is done in any background thread in JNI \nvoid callJavaCallbackFucntion(){\n\n     JNIEnv *env;\n     jint rs = jvm-&gt;AttachCurrentThread(&amp;env, NULL);\n     assert (rs == JNI_OK);\n\n    jclass MyCustomObjectClass = env-&gt;GetObjectClass(globlaRefMyCustomObject);\n    jmethodID midMyCustomMethod = env-&gt;GetMethodID(MyCustomObjectClass, &quot;myCustomMethod&quot;, &quot;()V&quot;);\n    env-&gt;CallVoidMethod(globlaRefMyCustomObject,midMyCustomMethod);\n\n    /* end useful code */\n    jvm-&gt;DetachCurrentThread();\n}\n\n\n//Release the Global refence at appropriate time\nvoid JNI_OnUnload(JavaVM *vm, void *reserved){\n    JNIEnv* env;\n    if (vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION_1_6) != JNI_OK) {\n        return JNI_ERR;\n    }\n    env-&gt;DeleteGlobalRef(globlaRefMyCustomObject);\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":17797232,"reputation":13,"user_id":12924832,"display_name":"Raffaele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71795080,"answer_count":1,"score":0,"last_activity_date":1649426091,"creation_date":1649406441,"question_id":71793910,"body_markdown":"I have an Android app in which I have implemented the connection with a WebSocket in the C++ code.\r\n\r\nNow I would like to invoke a method of an object initialized in the Java class, via C++ code with JNI.\r\n\r\nIt&#39;s possible to do it?\r\n\r\nThis is my Activity:\r\n\r\n    public class MainActivity extends AppCompatActivity{\r\n    \r\n    private MyCustomObject object; //This object is initialized in the life cycle of the activty\r\n    \r\n    }\r\n\r\nWhat I want to do is call `object.myCustomMethod()` from JNI.","title":"Access Java class object methos from JNI","body":"<p>I have an Android app in which I have implemented the connection with a WebSocket in the C++ code.</p>\n<p>Now I would like to invoke a method of an object initialized in the Java class, via C++ code with JNI.</p>\n<p>It's possible to do it?</p>\n<p>This is my Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n\nprivate MyCustomObject object; //This object is initialized in the life cycle of the activty\n\n}\n</code></pre>\n<p>What I want to do is call <code>object.myCustomMethod()</code> from JNI.</p>\n"},{"tags":["java","binary-tree","treenode"],"comments":[{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":6,"creation_date":1304952253,"post_id":5938486,"comment_id":6843786,"body_markdown":"Have you tried running it to see if the results are correct? Why do you think it might *not* be correct?","body":"Have you tried running it to see if the results are correct? Why do you think it might <i>not</i> be correct?"},{"owner":{"account_id":200733,"reputation":4871,"user_id":446747,"accept_rate":75,"display_name":"josh.trow"},"score":0,"creation_date":1304952282,"post_id":5938486,"comment_id":6843793,"body_markdown":"Have you tried it? Making a test case is one of the most important parts of coding.","body":"Have you tried it? Making a test case is one of the most important parts of coding."}],"answers":[{"tags":[],"owner":{"account_id":381332,"reputation":18533,"user_id":735926,"accept_rate":95,"display_name":"bfontaine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304952708,"creation_date":1304952346,"answer_id":5938522,"question_id":5938486,"body_markdown":"This might be better:\r\n\r\n    if(node != null){\r\n        if(node.name().equals(name)){\r\n            return node;\r\n        }\r\n        else {\r\n            Node tmp = search(name, node.left);\r\n            if (tmp != null) { // if we find it at left\r\n                return tmp; // we return it\r\n            }\r\n            // else we return the result of the search in the right node\r\n            return search(name, node.right);\r\n        }\r\n    }\r\n    return null;\r\n\r\n","title":"How to search for a node in a binary tree and return it?","body":"<p>This might be better:</p>\n\n<pre><code>if(node != null){\n    if(node.name().equals(name)){\n        return node;\n    }\n    else {\n        Node tmp = search(name, node.left);\n        if (tmp != null) { // if we find it at left\n            return tmp; // we return it\n        }\n        // else we return the result of the search in the right node\n        return search(name, node.right);\n    }\n}\nreturn null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304952367,"creation_date":1304952367,"answer_id":5938524,"question_id":5938486,"body_markdown":"you should return something if it is found in node.left or node.right\r\nso the else block should be something like that:\r\n\r\n     else{\r\n         Node temp = search(name, node.left);\r\n         if (temp != null) return temp;\r\n         temp = search(name, node.right);\r\n         if (temp != null) return temp;\r\n      }\r\n\r\n","title":"How to search for a node in a binary tree and return it?","body":"<p>you should return something if it is found in node.left or node.right\nso the else block should be something like that:</p>\n\n<pre><code> else{\n     Node temp = search(name, node.left);\n     if (temp != null) return temp;\n     temp = search(name, node.right);\n     if (temp != null) return temp;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304952429,"creation_date":1304952429,"answer_id":5938536,"question_id":5938486,"body_markdown":"you don&#39;t do anything with the result of the recursive calls\r\n\r\n    Node res = search(name, node.left);\r\n    if(res!=null)return res;\r\n    res = search(name, node.right);\r\n    if(res!=null)return res;\r\n\r\n","title":"How to search for a node in a binary tree and return it?","body":"<p>you don't do anything with the result of the recursive calls</p>\n\n<pre><code>Node res = search(name, node.left);\nif(res!=null)return res;\nres = search(name, node.right);\nif(res!=null)return res;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1432624354,"creation_date":1304952460,"answer_id":5938541,"question_id":5938486,"body_markdown":"You need to make sure your recursive calls to search return if the result isn&#39;t null.\r\n\r\nSomething like this should work...\r\n\r\n    private Node search(String name, Node node){\r\n        if(node != null){\r\n            if(node.name().equals(name)){\r\n               return node;\r\n            } else {\r\n                Node foundNode = search(name, node.left);\r\n                if(foundNode == null) {\r\n                    foundNode = search(name, node.right);\r\n                }\r\n                return foundNode;\r\n             }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n","title":"How to search for a node in a binary tree and return it?","body":"<p>You need to make sure your recursive calls to search return if the result isn't null.</p>\n\n<p>Something like this should work...</p>\n\n<pre><code>private Node search(String name, Node node){\n    if(node != null){\n        if(node.name().equals(name)){\n           return node;\n        } else {\n            Node foundNode = search(name, node.left);\n            if(foundNode == null) {\n                foundNode = search(name, node.right);\n            }\n            return foundNode;\n         }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2715019"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412321856,"creation_date":1412320440,"answer_id":26174712,"question_id":5938486,"body_markdown":"\tBoolean FindInBinaryTreeWithRecursion(TreeNode root, int data)\r\n\t{\r\n\t\tBoolean temp;\r\n\t\t// base case == emptytree\r\n\t\tif (root == null) return false;\r\n\t\telse {\r\n\t\t\tif (data == root.getData())  return true;\r\n\t\t\telse { // otherwise recur down tree\r\n\t\t\t\ttemp = FindInBinaryTreeWithRecursion(root.getLeft(), data);\r\n\t\t\t\tif (temp != true) \r\n\t\t\t\t\treturn temp;\r\n\t\t\t\telse\r\n\t\t\t\t\treturn (FindInBinaryTreeWithRecursion(root.getRight(), data));\t\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>Boolean FindInBinaryTreeWithRecursion(TreeNode root, int data)\n{\n    Boolean temp;\n    // base case == emptytree\n    if (root == null) return false;\n    else {\n        if (data == root.getData())  return true;\n        else { // otherwise recur down tree\n            temp = FindInBinaryTreeWithRecursion(root.getLeft(), data);\n            if (temp != true) \n                return temp;\n            else\n                return (FindInBinaryTreeWithRecursion(root.getRight(), data));  \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85745,"reputation":12647,"user_id":238880,"accept_rate":70,"display_name":"Pratik Khadloya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435268033,"creation_date":1435268033,"answer_id":31061179,"question_id":5938486,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    public static TreeNode findNodeInTree(TreeNode root, TreeNode nodeToFind) {\r\n      if (root == null) {\r\n        return null;\r\n      }\r\n      \r\n      if (root.data == nodeToFind.data) {\r\n        return root;\r\n      }\r\n      \r\n      TreeNode found = null;\r\n      if (root.left != null) {\r\n        found = findNodeInTree(root.left, nodeToFind);\r\n        if (found != null) {\r\n          return found;\r\n        }\r\n      }\r\n      \r\n      if (root.right != null) {\r\n        found = findNodeInTree(root.right, nodeToFind);\r\n        if (found != null) {\r\n          return found;\r\n        }\r\n      }\r\n      return null;\r\n    }","title":"How to search for a node in a binary tree and return it?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static TreeNode findNodeInTree(TreeNode root, TreeNode nodeToFind) {\n  if (root == null) {\n    return null;\n  }\n\n  if (root.data == nodeToFind.data) {\n    return root;\n  }\n\n  TreeNode found = null;\n  if (root.left != null) {\n    found = findNodeInTree(root.left, nodeToFind);\n    if (found != null) {\n      return found;\n    }\n  }\n\n  if (root.right != null) {\n    found = findNodeInTree(root.right, nodeToFind);\n    if (found != null) {\n      return found;\n    }\n  }\n  return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3170591,"reputation":113,"user_id":2679628,"display_name":"Puneet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439377681,"creation_date":1439285400,"answer_id":31938107,"question_id":5938486,"body_markdown":"\tpublic Node findNode(Node root, Node nodeToFind) {\r\n\t\tNode foundNode = null;\r\n\t\tNode traversingNode = root;\r\n\r\n\t\tif (traversingNode.data == nodeToFind.data) {\r\n\t\t\tfoundNode = traversingNode;\r\n\t\t\treturn foundNode;\r\n\t\t}\r\n\r\n\t\tif (nodeToFind.data &lt; traversingNode.data\r\n\t\t\t\t&amp;&amp; null != traversingNode.leftChild) {\r\n\t\t\tfindNode(traversingNode.leftChild, nodeToFind);\r\n\t\t} else if (nodeToFind.data &gt; traversingNode.data\r\n\t\t\t\t&amp;&amp; null != traversingNode.rightChild) {\r\n\t\t\tfindNode(traversingNode, nodeToFind);\r\n\t\t}\r\n\r\n\t\treturn foundNode;\r\n\r\n\t}\r\n","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>public Node findNode(Node root, Node nodeToFind) {\n    Node foundNode = null;\n    Node traversingNode = root;\n\n    if (traversingNode.data == nodeToFind.data) {\n        foundNode = traversingNode;\n        return foundNode;\n    }\n\n    if (nodeToFind.data &lt; traversingNode.data\n            &amp;&amp; null != traversingNode.leftChild) {\n        findNode(traversingNode.leftChild, nodeToFind);\n    } else if (nodeToFind.data &gt; traversingNode.data\n            &amp;&amp; null != traversingNode.rightChild) {\n        findNode(traversingNode, nodeToFind);\n    }\n\n    return foundNode;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2342625,"reputation":312,"user_id":2053583,"display_name":"iviorel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452002260,"creation_date":1452002260,"answer_id":34613433,"question_id":5938486,"body_markdown":"Actually, try to avoid recursivity.\r\nIn case you have big tree structure you will get stack overflow error.\r\nInstead of this you can use a list:\r\n\r\n    private Node search(String name, Node node){\r\n    \tList&lt;Node&gt; l = new ArrayList&lt;Node&gt;();\r\n    \tl.add(node);\r\n    \tWhile(!l.isEmpty()){\r\n    \t\tif (l.get(0).name().equals(name))\t\r\n    \t\t\treturn l.get(0);\r\n    \t\telse {\r\n    \t\t\tl.add(l.get(0).left);\r\n    \t\t\tl.add(l.get(0).right);\r\n    \t\t\tl.remove(0);\r\n    \t\t}\t\t\t\r\n    \t}\t\r\n    \treturn null;\r\n    }","title":"How to search for a node in a binary tree and return it?","body":"<p>Actually, try to avoid recursivity.\nIn case you have big tree structure you will get stack overflow error.\nInstead of this you can use a list:</p>\n\n<pre><code>private Node search(String name, Node node){\n    List&lt;Node&gt; l = new ArrayList&lt;Node&gt;();\n    l.add(node);\n    While(!l.isEmpty()){\n        if (l.get(0).name().equals(name))   \n            return l.get(0);\n        else {\n            l.add(l.get(0).left);\n            l.add(l.get(0).right);\n            l.remove(0);\n        }           \n    }   \n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425783,"reputation":1035,"user_id":806601,"accept_rate":22,"display_name":"Stan Bashtavenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466603825,"creation_date":1466603825,"answer_id":37970243,"question_id":5938486,"body_markdown":"Since language doesn&#39;t matter much for this question, here&#39;s what it looks in C# with pre-order traversal:\r\n\r\n    public static Node FindNode(Node n, int nodeValue)\r\n    {\r\n        if (n == null) return null;\r\n        if (n.Value == nodeValue) return n;\r\n        return FindNode(n.Left, nodeValue) ?? FindNode(n.Right, nodeValue);\r\n    }\r\n\r\n","title":"How to search for a node in a binary tree and return it?","body":"<p>Since language doesn't matter much for this question, here's what it looks in C# with pre-order traversal:</p>\n\n<pre><code>public static Node FindNode(Node n, int nodeValue)\n{\n    if (n == null) return null;\n    if (n.Value == nodeValue) return n;\n    return FindNode(n.Left, nodeValue) ?? FindNode(n.Right, nodeValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5339594,"reputation":3245,"user_id":4257225,"accept_rate":100,"display_name":"Spartan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525274364,"creation_date":1525274364,"answer_id":50138128,"question_id":5938486,"body_markdown":"\tpublic static boolean findElement(Node root, int value) {\r\n\t\tif (root != null) {\r\n\t\t\tif (root.data == value) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn findElement(root.left, value) || findElement(root.right, value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>public static boolean findElement(Node root, int value) {\n    if (root != null) {\n        if (root.data == value) {\n            return true;\n        } else {\n            return findElement(root.left, value) || findElement(root.right, value);\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564257193,"creation_date":1564257193,"answer_id":57235583,"question_id":5938486,"body_markdown":"        public TreeNode searchBST(TreeNode root, int val) {\r\n            if(root==null || root.val==val) return root;\r\n            TreeNode found = (val &lt; root.val) ? searchBST(root.left,val) : searchBST(root.right,val);\r\n            return found;\r\n        }\r\n\r\n[View Code on GitHub][1]\r\n\r\n\r\n  [1]: https://github.com/RaviTella/LeetCode/blob/master/src/tree/binaryTree/BSTFind.java","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>    public TreeNode searchBST(TreeNode root, int val) {\n        if(root==null || root.val==val) return root;\n        TreeNode found = (val &lt; root.val) ? searchBST(root.left,val) : searchBST(root.right,val);\n        return found;\n    }\n</code></pre>\n\n<p><a href=\"https://github.com/RaviTella/LeetCode/blob/master/src/tree/binaryTree/BSTFind.java\" rel=\"nofollow noreferrer\">View Code on GitHub</a></p>\n"},{"tags":[],"owner":{"account_id":7955871,"reputation":31,"user_id":6005218,"display_name":"gupi_bagha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583289387,"creation_date":1583289387,"answer_id":60518298,"question_id":5938486,"body_markdown":"    private TreeNode findX(TreeNode root, int x) {\r\n        if(root == null) return null;\r\n        if(root.val == x) return root;\r\n\r\n        TreeNode left = findX(root.left,x);\r\n        TreeNode right = findX(root.right,x);\r\n\r\n        if(left == null) return right;\r\n        return left;\r\n        \r\n    }","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>private TreeNode findX(TreeNode root, int x) {\n    if(root == null) return null;\n    if(root.val == x) return root;\n\n    TreeNode left = findX(root.left,x);\n    TreeNode right = findX(root.right,x);\n\n    if(left == null) return right;\n    return left;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13847807,"reputation":1,"user_id":10000807,"display_name":"Dhruv Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595075603,"creation_date":1595075603,"answer_id":62968627,"question_id":5938486,"body_markdown":"    Node* search(Node* root,int key){\r\n       \r\n       // If key is found or is NULL     \r\n       if (root == NULL || root-&gt;key == key) \r\n          return root;\r\n \r\n       if (root-&gt;key &lt; key) \r\n          return search(root-&gt;right, key); \r\n       \r\n       return search(root-&gt;left, key);\r\n    } ","title":"How to search for a node in a binary tree and return it?","body":"<pre><code>Node* search(Node* root,int key){\n   \n   // If key is found or is NULL     \n   if (root == NULL || root-&gt;key == key) \n      return root;\n\n   if (root-&gt;key &lt; key) \n      return search(root-&gt;right, key); \n   \n   return search(root-&gt;left, key);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17038242,"reputation":1,"user_id":12326814,"display_name":"Siddharth Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649425830,"creation_date":1649425830,"answer_id":71798231,"question_id":5938486,"body_markdown":"For C++ guys:\r\n\r\n    //search in a binary tree | O(n)\r\n    TreeNode* searchBST(TreeNode* root, int val) {\r\n        if(!root) return root;\r\n        if(root-&gt;val == val) return root;\r\n\r\n        TreeNode* temp = searchBST(root-&gt;left, val);\r\n        if(!temp){\r\n            temp = searchBST(root-&gt;right, val);\r\n        }\r\n        return temp;\r\n    }\r\n    \r\n    //search in a BST | O(logn)\r\n    TreeNode* searchBST(TreeNode* root, int val) {\r\n        if(!root) return root;\r\n        if(root-&gt;val == val) return root;\r\n        if(val &lt; root-&gt;val) return searchBST(root-&gt;left, val);\r\n        return searchBST(root-&gt;right, val);\r\n    }","title":"How to search for a node in a binary tree and return it?","body":"<p>For C++ guys:</p>\n<pre><code>//search in a binary tree | O(n)\nTreeNode* searchBST(TreeNode* root, int val) {\n    if(!root) return root;\n    if(root-&gt;val == val) return root;\n\n    TreeNode* temp = searchBST(root-&gt;left, val);\n    if(!temp){\n        temp = searchBST(root-&gt;right, val);\n    }\n    return temp;\n}\n\n//search in a BST | O(logn)\nTreeNode* searchBST(TreeNode* root, int val) {\n    if(!root) return root;\n    if(root-&gt;val == val) return root;\n    if(val &lt; root-&gt;val) return searchBST(root-&gt;left, val);\n    return searchBST(root-&gt;right, val);\n}\n</code></pre>\n"}],"owner":{"account_id":387155,"reputation":253,"user_id":745338,"accept_rate":67,"display_name":"besnico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87625,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":5938541,"answer_count":14,"score":12,"last_activity_date":1649425830,"creation_date":1304952177,"question_id":5938486,"body_markdown":"I&#39;m trying to search for a node in a binary tree and return in case it&#39;s there, otherwise, return null. By the way, the node class has a method name() that return a string with it&#39;s name...What I have so far is:\r\n\r\n    private Node search(String name, Node node){\r\n\r\n         if(node != null){\r\n             if(node.name().equals(name)){\r\n                return node;\r\n             }\r\n\r\n          else{\r\n             search(name, node.left);\r\n             search(name, node.right);\r\n          }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nIs this correct??","title":"How to search for a node in a binary tree and return it?","body":"<p>I'm trying to search for a node in a binary tree and return in case it's there, otherwise, return null. By the way, the node class has a method name() that return a string with it's name...What I have so far is:</p>\n\n<pre><code>private Node search(String name, Node node){\n\n     if(node != null){\n         if(node.name().equals(name)){\n            return node;\n         }\n\n      else{\n         search(name, node.left);\n         search(name, node.right);\n      }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Is this correct??</p>\n"},{"tags":["java","maven","maven-compiler-plugin"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1649426391,"post_id":71798200,"comment_id":126879587,"body_markdown":"Any chance your project has parent? Hard to tell without the full POM.","body":"Any chance your project has parent? Hard to tell without the full POM."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649426448,"post_id":71798200,"comment_id":126879612,"body_markdown":"There is also the option to use `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` ... It&#39;s likely that it is defined in a parent?","body":"There is also the option to use <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code> ... It&#39;s likely that it is defined in a parent?"},{"owner":{"account_id":1044767,"reputation":1686,"user_id":1050015,"accept_rate":100,"display_name":"Carlo"},"score":1,"creation_date":1649426650,"post_id":71798200,"comment_id":126879712,"body_markdown":"@PavelHoral Oh, why didn&#39;t I thought about it. I guess you already answered my question then.\nMy pom has the spring-boot-starter as a parent and I assume that in its pom I will find the configuration I am looking for.","body":"@PavelHoral Oh, why didn&#39;t I thought about it. I guess you already answered my question then. My pom has the spring-boot-starter as a parent and I assume that in its pom I will find the configuration I am looking for."},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1649427979,"post_id":71798200,"comment_id":126880271,"body_markdown":"I can see java version being set to 1.8 in spring-boot-starter-parent https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.6/spring-boot-starter-parent-2.6.6.pom. Not sure where 11 is coming from though... but it should be fairly easy to find.","body":"I can see java version being set to 1.8 in spring-boot-starter-parent <a href=\"https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.6/spring-boot-starter-parent-2.6.6.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/boot/&hellip;</a>. Not sure where 11 is coming from though... but it should be fairly easy to find."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649432316,"post_id":71798200,"comment_id":126882112,"body_markdown":"That depends on the version of spring boot you are using...","body":"That depends on the version of spring boot you are using..."}],"owner":{"account_id":1044767,"reputation":1686,"user_id":1050015,"accept_rate":100,"display_name":"Carlo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649425730,"creation_date":1649425730,"question_id":71798200,"body_markdown":"I have a Maven project and in the pom there is **nothing** like:\r\n``` lang-xml\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nIf I run `mvn clean compile` and check the bytecode with `javap -classpath ../project/target/classes/ -verbose com.xxx.Class` I see\r\n```\r\nminor version: 0\r\nmajor version: 55\r\n```\r\nwhich corresponds to Java 11.\r\n\r\nI found the bug ticket [MCOMPILER-376](https://issues.apache.org/jira/browse/MCOMPILER-376) that states that the default version should be 1.7.\r\nThis is also clearly stated in the [plugin documentation](https://maven.apache.org/plugins/maven-compiler-plugin/index.html):\r\n&gt; Also note that at present the default source setting is 1.7 and the default target setting is 1.7, independently of the JDK you run Maven with. You are highly encouraged to change these defaults by setting source and target as described in Setting the -source and -target of the Java Compiler.\r\n\r\nI also found a very detailed [Stack overflow answer](https://stackoverflow.com/a/38883073/1050015) but it did not help me finding the information I am looking for.\r\n\r\nI would like to understand how did the Maven compiler plugin knew that it had to use Java 11.\r\n","title":"How does the Maven compiler determine the default source target?","body":"<p>I have a Maven project and in the pom there is <strong>nothing</strong> like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>If I run <code>mvn clean compile</code> and check the bytecode with <code>javap -classpath ../project/target/classes/ -verbose com.xxx.Class</code> I see</p>\n<pre><code>minor version: 0\nmajor version: 55\n</code></pre>\n<p>which corresponds to Java 11.</p>\n<p>I found the bug ticket <a href=\"https://issues.apache.org/jira/browse/MCOMPILER-376\" rel=\"nofollow noreferrer\">MCOMPILER-376</a> that states that the default version should be 1.7.\nThis is also clearly stated in the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/index.html\" rel=\"nofollow noreferrer\">plugin documentation</a>:</p>\n<blockquote>\n<p>Also note that at present the default source setting is 1.7 and the default target setting is 1.7, independently of the JDK you run Maven with. You are highly encouraged to change these defaults by setting source and target as described in Setting the -source and -target of the Java Compiler.</p>\n</blockquote>\n<p>I also found a very detailed <a href=\"https://stackoverflow.com/a/38883073/1050015\">Stack overflow answer</a> but it did not help me finding the information I am looking for.</p>\n<p>I would like to understand how did the Maven compiler plugin knew that it had to use Java 11.</p>\n"},{"tags":["java","c","debugging","java-native-interface"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1648228086,"post_id":71620669,"comment_id":126579496,"body_markdown":"did you try running `ulimit -c unlimited` before starting your Java program? That might cause it to generate a core file. It says your core dumps are processed with systemd-coredump - did you check in the folder /var/lib/systemd/coredump where they are apparently saved?","body":"did you try running <code>ulimit -c unlimited</code> before starting your Java program? That might cause it to generate a core file. It says your core dumps are processed with systemd-coredump - did you check in the folder /var/lib/systemd/coredump where they are apparently saved?"},{"owner":{"account_id":970548,"reputation":2499,"user_id":1071669,"accept_rate":43,"display_name":"dargaud"},"score":0,"creation_date":1648228474,"post_id":71620669,"comment_id":126579635,"body_markdown":"It&#39;s not started manually but by some server process. Is there a global setting for ulimit ?","body":"It&#39;s not started manually but by some server process. Is there a global setting for ulimit ?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1648229151,"post_id":71620669,"comment_id":126579863,"body_markdown":"with systemd-coredumpd there are [configuration files](https://www.freedesktop.org/software/systemd/man/coredump.conf.html)","body":"with systemd-coredumpd there are <a href=\"https://www.freedesktop.org/software/systemd/man/coredump.conf.html\" rel=\"nofollow noreferrer\">configuration files</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1648240185,"post_id":71620669,"comment_id":126583039,"body_markdown":"Set your logging level to debug and read the logs your code emits when the logging level is set that high?","body":"Set your logging level to debug and read the logs your code emits when the logging level is set that high?"},{"owner":{"account_id":970548,"reputation":2499,"user_id":1071669,"accept_rate":43,"display_name":"dargaud"},"score":0,"creation_date":1648455055,"post_id":71620669,"comment_id":126618883,"body_markdown":"Now `systemd` has taken over core dumps too?!? Well, I found the dumps in `/var/lib/systemd/coredump/` where even `updatedb` wouldn&#39;t. But they are zst files and I haven&#39;t been able to get a backtrace with source lines yet.","body":"Now <code>systemd</code> has taken over core dumps too?!? Well, I found the dumps in <code>&#47;var&#47;lib&#47;systemd&#47;coredump&#47;</code> where even <code>updatedb</code> wouldn&#39;t. But they are zst files and I haven&#39;t been able to get a backtrace with source lines yet."}],"answers":[{"tags":[],"owner":{"account_id":970548,"reputation":2499,"user_id":1071669,"accept_rate":43,"display_name":"dargaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649425563,"creation_date":1649425563,"answer_id":71798161,"question_id":71620669,"body_markdown":"Simplest solution is to invoke `coredumpctl debug` to launch `gdb` with the latest core dump (there are other options).\r\n\r\nLike @user253751 said, you may have to increase the dump size in `/etc/systemd/coredump.conf`","title":"How to get more debugging info from Java calling native C code","body":"<p>Simplest solution is to invoke <code>coredumpctl debug</code> to launch <code>gdb</code> with the latest core dump (there are other options).</p>\n<p>Like @user253751 said, you may have to increase the dump size in <code>/etc/systemd/coredump.conf</code></p>\n"}],"owner":{"account_id":970548,"reputation":2499,"user_id":1071669,"accept_rate":43,"display_name":"dargaud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649425563,"creation_date":1648227950,"question_id":71620669,"body_markdown":"I&#39;m no Java programmer but I wrote (and tested) a C library called from Java JNI/Swig. Lately it crashes when called from Java and it used to work fine. I&#39;m struggling to find any meaningful info about the crashes.\r\nI get a hs_err_pid153408.log file with tons (1100 lines) of useless content in it.\r\n\r\nInside it says a core file was generated, but that is not true. So is there a way to get Java to save a core file I can then look through with gdb ?\r\n\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h&quot; (or dumping to //core.153408)\r\n\r\nThen in that log file the only reference to the C code is this: \r\n\r\n    # C  [libc.so.6+0x19557c]  __strlen_evex+0x1c\r\n\r\nBut that&#39;s no help. How can I get a complete backtrace of the C code, not just the Java ? Yes, I compile with debugging options ON.\r\nThanks","title":"How to get more debugging info from Java calling native C code","body":"<p>I'm no Java programmer but I wrote (and tested) a C library called from Java JNI/Swig. Lately it crashes when called from Java and it used to work fine. I'm struggling to find any meaningful info about the crashes.\nI get a hs_err_pid153408.log file with tons (1100 lines) of useless content in it.</p>\n<p>Inside it says a core file was generated, but that is not true. So is there a way to get Java to save a core file I can then look through with gdb ?</p>\n<pre><code># Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h&quot; (or dumping to //core.153408)\n</code></pre>\n<p>Then in that log file the only reference to the C code is this:</p>\n<pre><code># C  [libc.so.6+0x19557c]  __strlen_evex+0x1c\n</code></pre>\n<p>But that's no help. How can I get a complete backtrace of the C code, not just the Java ? Yes, I compile with debugging options ON.\nThanks</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1649341395,"post_id":71783929,"comment_id":126855646,"body_markdown":"`String` and `Integer` have almost nothing in common. How would such an `x` be useful at all?","body":"<code>String</code> and <code>Integer</code> have almost nothing in common. How would such an <code>x</code> be useful at all?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649341809,"post_id":71783929,"comment_id":126855835,"body_markdown":"This is covered in the JEP ([JEP 420](https://openjdk.java.net/jeps/420))","body":"This is covered in the JEP (<a href=\"https://openjdk.java.net/jeps/420\" rel=\"nofollow noreferrer\">JEP 420</a>)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1649342249,"post_id":71783929,"comment_id":126856040,"body_markdown":"They are both `Constable` and a `ConstantDesc`. Might be useful.","body":"They are both <code>Constable</code> and a <code>ConstantDesc</code>. Might be useful."}],"answers":[{"tags":[],"owner":{"account_id":1641927,"reputation":401,"user_id":2737142,"display_name":"Tobias Gierke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649424990,"creation_date":1649424990,"answer_id":71798034,"question_id":71783929,"body_markdown":"After reading JEP-420 again I found an explanation:\r\n\r\n[![JEP-420][1]][1]\r\n\r\nI still think this should be possible if the body of the branch does not actually refer to the case labels, for example in code like this (ApplicationState is a sealed class with several subclasses, note that I cannot use an enum here as some of the states need to hold mutable data):\r\n\r\n    private static ApplicationState checkValidTransition(ApplicationState from, ApplicationState to )\r\n    {\r\n        final boolean isValidTransition = switch(from) {\r\n            case Uninitialized ignored -&gt; to instanceof ServletContextInitializing;\r\n            case Destroyed ignored -&gt; to instanceof ServletContextInitializing;\r\n            case ServletContextInitializing ignored -&gt; to instanceof SpringContextInitializing || to instanceof Destroyed;\r\n            case SpringContextInitializing ignored -&gt; to instanceof SpringContextInitializing || to instanceof Destroyed || to instanceof WebApplicationInitFinished;\r\n            case WebApplicationInitFinished ignored -&gt; to instanceof Destroyed;\r\n        };\r\n        if ( ! isValidTransition ) {\r\n            throw new IllegalStateException( &quot;Internal error, illegal state transition &quot; + from + &quot; -&gt; &quot; + to );\r\n        }\r\n        return to;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/2rka4.png","title":"JDK17+: Why is it not possible to have a single switch branch match on multiple type patterns?","body":"<p>After reading JEP-420 again I found an explanation:</p>\n<p><a href=\"https://i.stack.imgur.com/2rka4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rka4.png\" alt=\"JEP-420\" /></a></p>\n<p>I still think this should be possible if the body of the branch does not actually refer to the case labels, for example in code like this (ApplicationState is a sealed class with several subclasses, note that I cannot use an enum here as some of the states need to hold mutable data):</p>\n<pre><code>private static ApplicationState checkValidTransition(ApplicationState from, ApplicationState to )\n{\n    final boolean isValidTransition = switch(from) {\n        case Uninitialized ignored -&gt; to instanceof ServletContextInitializing;\n        case Destroyed ignored -&gt; to instanceof ServletContextInitializing;\n        case ServletContextInitializing ignored -&gt; to instanceof SpringContextInitializing || to instanceof Destroyed;\n        case SpringContextInitializing ignored -&gt; to instanceof SpringContextInitializing || to instanceof Destroyed || to instanceof WebApplicationInitFinished;\n        case WebApplicationInitFinished ignored -&gt; to instanceof Destroyed;\n    };\n    if ( ! isValidTransition ) {\n        throw new IllegalStateException( &quot;Internal error, illegal state transition &quot; + from + &quot; -&gt; &quot; + to );\n    }\n    return to;\n}\n</code></pre>\n"}],"owner":{"account_id":1641927,"reputation":401,"user_id":2737142,"display_name":"Tobias Gierke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649424990,"creation_date":1649341292,"question_id":71783929,"body_markdown":"Just wondering what the design rationale for this is/was.\r\n\r\nI can do\r\n\r\n    int x = ...\r\n    switch( x ) {\r\n        case 1,2 -&gt; { ... stuff ...}\r\n        default -&gt; { ... something else ...}\r\n    }\r\n\r\nbut trying to do something like\r\n\r\n     Object x = ...\r\n     switch( x ) {\r\n       case String, Integer x -&gt; { ... stuff ...}\r\n       default -&gt; { ... something else ...}\r\n     } \r\n\r\ndoes not compile (I also tried things like &quot;String x, Integer x&quot; and &quot;String|Integer x&quot; but neither of them compile).\r\n\r\nIf I understood the [JLS][1] correctly, it&#39;s simply not supported - does anybody know why this is the case and if this will ever be fixed ?\r\n\r\n\r\n  [1]: https://cr.openjdk.java.net/~iris/se/17/latestSpec/specs/patterns-switch-jls.html#jls-14.30.1","title":"JDK17+: Why is it not possible to have a single switch branch match on multiple type patterns?","body":"<p>Just wondering what the design rationale for this is/was.</p>\n<p>I can do</p>\n<pre><code>int x = ...\nswitch( x ) {\n    case 1,2 -&gt; { ... stuff ...}\n    default -&gt; { ... something else ...}\n}\n</code></pre>\n<p>but trying to do something like</p>\n<pre><code> Object x = ...\n switch( x ) {\n   case String, Integer x -&gt; { ... stuff ...}\n   default -&gt; { ... something else ...}\n } \n</code></pre>\n<p>does not compile (I also tried things like &quot;String x, Integer x&quot; and &quot;String|Integer x&quot; but neither of them compile).</p>\n<p>If I understood the <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/specs/patterns-switch-jls.html#jls-14.30.1\" rel=\"nofollow noreferrer\">JLS</a> correctly, it's simply not supported - does anybody know why this is the case and if this will ever be fixed ?</p>\n"},{"tags":["java","spring-boot","certificate","resttemplate","self-signed-certificate"],"answers":[{"tags":[],"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552507530,"creation_date":1552507530,"answer_id":55150349,"question_id":55130893,"body_markdown":"I found a solution to ignoring SSL verification for RestTemplates.\r\nI can&#39;t take the credit though, I found the answer on another question: [other answer][1]\r\n\r\nHere&#39;s my code if anyone else can use it.\r\n\r\nSSLUtils\r\n--------\r\n\r\n    package com.company.project.utils.ssl;\r\n    \r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.http.client.ClientHttpRequestFactory;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.http.converter.StringHttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import com.company.project.beans.ssl.SslBypassConfiguration;\r\n    \r\n    /**\r\n     * This class contains several methods for manipulating SSL certificate verification.\r\n     * \r\n     * @author Matthew Weiler\r\n     */\r\n    public class SSLUtils\r\n    {\r\n    \t\r\n    \t/* PRIVATE CONSTANTS */\r\n    \tprivate static Logger logger = LogManager.getLogger(SSLUtils.class);\r\n    \t\r\n    \t/* PUBLIC CONSTANTS */\r\n    \tpublic static final HostnameVerifier DEFAULT_HOSTNAMEVERIFIER = HttpsURLConnection.getDefaultHostnameVerifier();\r\n    \t\r\n    \t/* PUBLIC METHODS */\r\n    \t/**\r\n    \t * This method will build a {@link RestTemplate}.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration}.\r\n    \t * @param username\r\n    \t * The username to be used when establishing a connection.\r\n    \t * @param password\r\n    \t * The password to be used when establishing a connection.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link RestTemplate}.\r\n    \t * \r\n    \t * @throws KeyManagementException\r\n    \t * @throws NoSuchAlgorithmException\r\n    \t */\r\n    \tpublic static RestTemplate buildRestTemplate(final SslBypassConfiguration sslBypassConfiguration, final String username, final String password)\r\n    \t\t\tthrows KeyManagementException, NoSuchAlgorithmException\r\n    \t{\r\n    \t\tfinal RestTemplate restTemplate = new RestTemplate(SSLUtils.createSecureTransport(sslBypassConfiguration, username, password));\r\n    \t\t\r\n    \t\trestTemplate.getMessageConverters().add(new StringHttpMessageConverter());\r\n    \t\t\r\n    \t\treturn restTemplate;\r\n    \t}\r\n    \t\r\n    \t/* PROTECTED METHODS */\r\n    \t/**\r\n    \t * This method will build a {@link ClientHttpRequestFactory}.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration}.\r\n    \t * @param username\r\n    \t * The username to be used when establishing a connection.\r\n    \t * @param password\r\n    \t * The password to be used when establishing a connection.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link ClientHttpRequestFactory}.\r\n    \t * \r\n    \t * @throws KeyManagementException\r\n    \t * @throws NoSuchAlgorithmException\r\n    \t */\r\n    \tprotected static ClientHttpRequestFactory createSecureTransport(final SslBypassConfiguration sslBypassConfiguration, final String username, final String password) throws KeyManagementException, NoSuchAlgorithmException\r\n    \t{\r\n    \t\tfinal HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\r\n    \t\t\r\n    \t\tif (sslBypassConfiguration.isSslVerificationBypassEnabled())\r\n    \t\t{\r\n    \t\t\thttpClientBuilder.setSSLHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\r\n    \t\t}\r\n    \t\t\r\n    \t\thttpClientBuilder.setSSLContext(SSLUtils.createContext(sslBypassConfiguration));\r\n    \t\t\r\n    \t\t// If credentials are supplied, apply them to the http-client-builder.\r\n    \t\tif (((username != null) &amp;&amp; (username.trim().length() &gt; 0)) || ((password != null) &amp;&amp; (password.trim().length() &gt; 0)))\r\n    \t\t{\r\n    \t\t\tfinal UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\r\n    \t\t\tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    \t\t\t\r\n    \t\t\tcredentialsProvider.setCredentials(new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM), credentials);\r\n    \t\t\t\r\n    \t\t\thttpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new HttpComponentsClientHttpRequestFactory(httpClientBuilder.build());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will build a {@link SSLContext}.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration}.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link SSLContext}.\r\n    \t * \r\n    \t * @throws NoSuchAlgorithmException\r\n    \t * @throws KeyManagementException\r\n    \t */\r\n    \tprotected static SSLContext createContext(final SslBypassConfiguration sslBypassConfiguration)\r\n    \t\t\tthrows NoSuchAlgorithmException, KeyManagementException\r\n    \t{\r\n    \t\tfinal SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\t\r\n    \t\tif (sslBypassConfiguration.isSslVerificationBypassEnabled())\r\n    \t\t{\r\n    \t\t\tfinal TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager()\r\n    \t\t\t{\r\n    \t\t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers()\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tpublic void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tpublic void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}};\r\n    \t\t\t\r\n    \t\t\tsslContext.init(null, trustAllCerts, null);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tsslContext.init(null, null, null);\r\n    \t\t}\r\n    \t\t\r\n    \t\tSSLContext.setDefault(sslContext);\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n    \t\t\r\n    \t\tif (sslBypassConfiguration.isSslVerificationBypassEnabled())\r\n    \t\t{\r\n    \t\t\tHttpsURLConnection.setDefaultHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tHttpsURLConnection.setDefaultHostnameVerifier(SSLUtils.DEFAULT_HOSTNAMEVERIFIER);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn sslContext;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nWhitelistHostnameVerifier\r\n-------------------------\r\n\r\n    package com.company.project.utils.ssl;\r\n    \r\n    import java.util.Map.Entry;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLSession;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    import com.company.project.beans.ssl.SslBypassConfiguration;\r\n    \r\n    /**\r\n     * This {@link HostnameVerifier} will ignore the SSL validation for hostnames that are on the white-list.\r\n     * \r\n     * @author Matthew Weiler\r\n     */\r\n    public class WhitelistHostnameVerifier implements HostnameVerifier\r\n    {\r\n    \t\r\n    \t/* PRIVATE CONSTANTS */\r\n    \tprivate static Logger logger = LogManager.getLogger(WhitelistHostnameVerifier.class);\r\n    \t\r\n    \t/* PRIVATE VARIABLES */\r\n    \tprivate final SslBypassConfiguration sslBypassConfiguration;\r\n    \t\r\n    \t/* CONSTRUCTORS */\r\n    \t/**\r\n    \t * This will create a new {@link WhitelistHostnameVerifier}.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration} to be used.\r\n    \t */\r\n    \tpublic WhitelistHostnameVerifier(\r\n    \t\t\tfinal SslBypassConfiguration sslBypassConfiguration)\r\n    \t{\r\n    \t\tthis.sslBypassConfiguration = sslBypassConfiguration;\r\n    \t}\r\n    \t\r\n    \t/* PUBLIC METHODS */\r\n    \t@Override\r\n    \tpublic boolean verify(final String host, final SSLSession session)\r\n    \t{\r\n    \t\tif (this.sslBypassConfiguration.isSslVerificationBypassEnabled())\r\n    \t\t{\r\n    \t\t\tif ((this.sslBypassConfiguration.getWhitelistedHostnames() != null) &amp;&amp; (this.sslBypassConfiguration.getWhitelistedHostnames().size() &gt; 0))\r\n    \t\t\t{\r\n    \t\t\t\tfor (Entry&lt;String, String&gt; whitelistEntry : this.sslBypassConfiguration.getWhitelistedHostnames().entrySet())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (whitelistEntry.getValue().equals(host))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlogger.info(&quot;Not performing validation on SSL connection for: &quot; + whitelistEntry.getKey() + &quot; (&quot; + whitelistEntry.getValue() + &quot;)&quot;);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// important: use default verifier for all other hosts\r\n    \t\treturn SSLUtils.DEFAULT_HOSTNAMEVERIFIER.verify(host, session);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will get the {@link SslBypassConfiguration}.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link SslBypassConfiguration}.\r\n    \t */\r\n    \tpublic SslBypassConfiguration getSslConfiguration()\r\n    \t{\r\n    \t\treturn this.sslBypassConfiguration;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSslBypassConfiguration\r\n----------------------\r\n\r\n    package com.company.project.mobile.beans.ssl;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.company.project.utils.StringUtils;\r\n    \r\n    /**\r\n     * This {@link HostnameVerifier} will ignore the SSL validation for hostnames that are on the white-list.\r\n     * \r\n     * @author Matthew Weiler\r\n     */\r\n    @Component\r\n    public class SslBypassConfiguration\r\n    {\r\n    \t\r\n    \t/* PRIVATE VARIABLES */\r\n    \t@Value(&quot;${application.ssl.bypass.enabled}&quot;) \r\n    \tprivate String sslVerificationBypassEnabled;\r\n    \t@Autowired\r\n    \tprivate WhitelistedConfig whitelistedConfig;\r\n    \t\r\n    \t/* PUBLIC METHODS */\r\n    \t/**\r\n    \t * This method will get the boolean flag to denote if the SSL handshake bypass is enabled.\r\n    \t * \r\n    \t * @return\r\n    \t * The boolean flag to denote if the SSL handshake bypass is enabled.\r\n    \t */\r\n    \tpublic boolean isSslVerificationBypassEnabled()\r\n    \t{\r\n    \t\treturn StringUtils.isTrue(this.sslVerificationBypassEnabled, false);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will get the {@link Map} of white-listed hostnames and their logical names as keys.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link Map} of white-listed hostnames and their logical names as keys.\r\n    \t */\r\n    \tpublic Map&lt;String, String&gt; getWhitelistedHostnames()\r\n    \t{\r\n    \t\treturn this.whitelistedConfig.getHostnames();\r\n    \t}\r\n    \t\r\n    \t/* PUBLIC CLASSES */\r\n    \t@Configuration\r\n    \t@EnableConfigurationProperties\r\n    \t@ConfigurationProperties(prefix = &quot;application.ssl.bypass.whitelisted&quot;)\r\n    \tpublic class WhitelistedConfig\r\n    \t{\r\n    \t\t\r\n    \t\t/* PRIVATE VARIABLES */\r\n    \t\tprivate Map&lt;String, String&gt; hostnames = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \t\t/* PUBLIC METHODS */\r\n    \t\t/**\r\n    \t\t * This method will get the {@link Map} of white-listed hostnames and their logical names as keys.\r\n    \t\t * \r\n    \t\t * @return\r\n    \t\t * The {@link Map} of white-listed hostnames and their logical names as keys.\r\n    \t\t */\r\n    \t\tpublic Map&lt;String, String&gt; getHostnames()\r\n    \t\t{\r\n    \t\t\treturn this.hostnames;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33619237/1827349\r\n\r\n\r\n","title":"Ignoring self-signed certificates in SpringBoot using RestTemplate","body":"<p>I found a solution to ignoring SSL verification for RestTemplates.\nI can't take the credit though, I found the answer on another question: <a href=\"https://stackoverflow.com/a/33619237/1827349\">other answer</a></p>\n\n<p>Here's my code if anyone else can use it.</p>\n\n<h2>SSLUtils</h2>\n\n<pre><code>package com.company.project.utils.ssl;\n\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.http.client.ClientHttpRequestFactory;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.http.converter.StringHttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.company.project.beans.ssl.SslBypassConfiguration;\n\n/**\n * This class contains several methods for manipulating SSL certificate verification.\n * \n * @author Matthew Weiler\n */\npublic class SSLUtils\n{\n\n    /* PRIVATE CONSTANTS */\n    private static Logger logger = LogManager.getLogger(SSLUtils.class);\n\n    /* PUBLIC CONSTANTS */\n    public static final HostnameVerifier DEFAULT_HOSTNAMEVERIFIER = HttpsURLConnection.getDefaultHostnameVerifier();\n\n    /* PUBLIC METHODS */\n    /**\n     * This method will build a {@link RestTemplate}.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration}.\n     * @param username\n     * The username to be used when establishing a connection.\n     * @param password\n     * The password to be used when establishing a connection.\n     * \n     * @return\n     * The {@link RestTemplate}.\n     * \n     * @throws KeyManagementException\n     * @throws NoSuchAlgorithmException\n     */\n    public static RestTemplate buildRestTemplate(final SslBypassConfiguration sslBypassConfiguration, final String username, final String password)\n            throws KeyManagementException, NoSuchAlgorithmException\n    {\n        final RestTemplate restTemplate = new RestTemplate(SSLUtils.createSecureTransport(sslBypassConfiguration, username, password));\n\n        restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\n\n        return restTemplate;\n    }\n\n    /* PROTECTED METHODS */\n    /**\n     * This method will build a {@link ClientHttpRequestFactory}.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration}.\n     * @param username\n     * The username to be used when establishing a connection.\n     * @param password\n     * The password to be used when establishing a connection.\n     * \n     * @return\n     * The {@link ClientHttpRequestFactory}.\n     * \n     * @throws KeyManagementException\n     * @throws NoSuchAlgorithmException\n     */\n    protected static ClientHttpRequestFactory createSecureTransport(final SslBypassConfiguration sslBypassConfiguration, final String username, final String password) throws KeyManagementException, NoSuchAlgorithmException\n    {\n        final HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\n\n        if (sslBypassConfiguration.isSslVerificationBypassEnabled())\n        {\n            httpClientBuilder.setSSLHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\n        }\n\n        httpClientBuilder.setSSLContext(SSLUtils.createContext(sslBypassConfiguration));\n\n        // If credentials are supplied, apply them to the http-client-builder.\n        if (((username != null) &amp;&amp; (username.trim().length() &gt; 0)) || ((password != null) &amp;&amp; (password.trim().length() &gt; 0)))\n        {\n            final UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n\n            credentialsProvider.setCredentials(new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM), credentials);\n\n            httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n        }\n\n        return new HttpComponentsClientHttpRequestFactory(httpClientBuilder.build());\n    }\n\n    /**\n     * This method will build a {@link SSLContext}.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration}.\n     * \n     * @return\n     * The {@link SSLContext}.\n     * \n     * @throws NoSuchAlgorithmException\n     * @throws KeyManagementException\n     */\n    protected static SSLContext createContext(final SslBypassConfiguration sslBypassConfiguration)\n            throws NoSuchAlgorithmException, KeyManagementException\n    {\n        final SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n\n        if (sslBypassConfiguration.isSslVerificationBypassEnabled())\n        {\n            final TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager()\n            {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers()\n                {\n                    return null;\n                }\n\n                public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType)\n                {\n\n                }\n\n                public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType)\n                {\n\n                }\n            }};\n\n            sslContext.init(null, trustAllCerts, null);\n        }\n        else\n        {\n            sslContext.init(null, null, null);\n        }\n\n        SSLContext.setDefault(sslContext);\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n\n        if (sslBypassConfiguration.isSslVerificationBypassEnabled())\n        {\n            HttpsURLConnection.setDefaultHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\n        }\n        else\n        {\n            HttpsURLConnection.setDefaultHostnameVerifier(SSLUtils.DEFAULT_HOSTNAMEVERIFIER);\n        }\n\n        return sslContext;\n    }\n\n}\n</code></pre>\n\n<h2>WhitelistHostnameVerifier</h2>\n\n<pre><code>package com.company.project.utils.ssl;\n\nimport java.util.Map.Entry;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLSession;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport com.company.project.beans.ssl.SslBypassConfiguration;\n\n/**\n * This {@link HostnameVerifier} will ignore the SSL validation for hostnames that are on the white-list.\n * \n * @author Matthew Weiler\n */\npublic class WhitelistHostnameVerifier implements HostnameVerifier\n{\n\n    /* PRIVATE CONSTANTS */\n    private static Logger logger = LogManager.getLogger(WhitelistHostnameVerifier.class);\n\n    /* PRIVATE VARIABLES */\n    private final SslBypassConfiguration sslBypassConfiguration;\n\n    /* CONSTRUCTORS */\n    /**\n     * This will create a new {@link WhitelistHostnameVerifier}.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration} to be used.\n     */\n    public WhitelistHostnameVerifier(\n            final SslBypassConfiguration sslBypassConfiguration)\n    {\n        this.sslBypassConfiguration = sslBypassConfiguration;\n    }\n\n    /* PUBLIC METHODS */\n    @Override\n    public boolean verify(final String host, final SSLSession session)\n    {\n        if (this.sslBypassConfiguration.isSslVerificationBypassEnabled())\n        {\n            if ((this.sslBypassConfiguration.getWhitelistedHostnames() != null) &amp;&amp; (this.sslBypassConfiguration.getWhitelistedHostnames().size() &gt; 0))\n            {\n                for (Entry&lt;String, String&gt; whitelistEntry : this.sslBypassConfiguration.getWhitelistedHostnames().entrySet())\n                {\n                    if (whitelistEntry.getValue().equals(host))\n                    {\n                        logger.info(\"Not performing validation on SSL connection for: \" + whitelistEntry.getKey() + \" (\" + whitelistEntry.getValue() + \")\");\n\n                        return true;\n                    }\n                }\n            }\n        }\n\n        // important: use default verifier for all other hosts\n        return SSLUtils.DEFAULT_HOSTNAMEVERIFIER.verify(host, session);\n    }\n\n    /**\n     * This method will get the {@link SslBypassConfiguration}.\n     * \n     * @return\n     * The {@link SslBypassConfiguration}.\n     */\n    public SslBypassConfiguration getSslConfiguration()\n    {\n        return this.sslBypassConfiguration;\n    }\n\n}\n</code></pre>\n\n<h2>SslBypassConfiguration</h2>\n\n<pre><code>package com.company.project.mobile.beans.ssl;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.net.ssl.HostnameVerifier;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\nimport com.company.project.utils.StringUtils;\n\n/**\n * This {@link HostnameVerifier} will ignore the SSL validation for hostnames that are on the white-list.\n * \n * @author Matthew Weiler\n */\n@Component\npublic class SslBypassConfiguration\n{\n\n    /* PRIVATE VARIABLES */\n    @Value(\"${application.ssl.bypass.enabled}\") \n    private String sslVerificationBypassEnabled;\n    @Autowired\n    private WhitelistedConfig whitelistedConfig;\n\n    /* PUBLIC METHODS */\n    /**\n     * This method will get the boolean flag to denote if the SSL handshake bypass is enabled.\n     * \n     * @return\n     * The boolean flag to denote if the SSL handshake bypass is enabled.\n     */\n    public boolean isSslVerificationBypassEnabled()\n    {\n        return StringUtils.isTrue(this.sslVerificationBypassEnabled, false);\n    }\n\n    /**\n     * This method will get the {@link Map} of white-listed hostnames and their logical names as keys.\n     * \n     * @return\n     * The {@link Map} of white-listed hostnames and their logical names as keys.\n     */\n    public Map&lt;String, String&gt; getWhitelistedHostnames()\n    {\n        return this.whitelistedConfig.getHostnames();\n    }\n\n    /* PUBLIC CLASSES */\n    @Configuration\n    @EnableConfigurationProperties\n    @ConfigurationProperties(prefix = \"application.ssl.bypass.whitelisted\")\n    public class WhitelistedConfig\n    {\n\n        /* PRIVATE VARIABLES */\n        private Map&lt;String, String&gt; hostnames = new HashMap&lt;String, String&gt;();\n\n        /* PUBLIC METHODS */\n        /**\n         * This method will get the {@link Map} of white-listed hostnames and their logical names as keys.\n         * \n         * @return\n         * The {@link Map} of white-listed hostnames and their logical names as keys.\n         */\n        public Map&lt;String, String&gt; getHostnames()\n        {\n            return this.hostnames;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1583158,"reputation":616,"user_id":1468045,"accept_rate":80,"display_name":"Wilson Campusano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649424671,"creation_date":1568466846,"answer_id":57935842,"question_id":55130893,"body_markdown":"The simplest configuration that turn off all ssl verification is: \r\n    \r\nwith a factory \r\n    \r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    \r\ntrust all TLS with the `org.apache.http.conn.ssl.NoopHostnameVerifier` class from \r\n    \r\n    `&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;` \r\n\r\nCreate a new client\r\n         \r\n        SSLContext sslcontext = SSLContexts.custom() .loadTrustMaterial(null, (chain, authType) -&gt; true) .build(); \r\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[]{&quot;TLSv1&quot;}, null, new NoopHostnameVerifier()); \r\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n    \r\nCreate a new resttemplate with this new client \r\n    \r\n        requestFactory.setHttpClient(httpClient);\r\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\r\nresuming: \r\n\r\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        \r\n    SSLContext sslcontext = SSLContexts.custom() .loadTrustMaterial(null, (chain, authType) -&gt; true) .build(); \r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[]{&quot;TLSv1&quot;}, null, new NoopHostnameVerifier()); \r\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n        \r\n        \r\n    requestFactory.setHttpClient(httpClient);\r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);","title":"Ignoring self-signed certificates in SpringBoot using RestTemplate","body":"<p>The simplest configuration that turn off all ssl verification is:</p>\n<p>with a factory</p>\n<pre><code>    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n</code></pre>\n<p>trust all TLS with the <code>org.apache.http.conn.ssl.NoopHostnameVerifier</code> class from</p>\n<pre><code>`&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;` \n</code></pre>\n<p>Create a new client</p>\n<pre><code>    SSLContext sslcontext = SSLContexts.custom() .loadTrustMaterial(null, (chain, authType) -&gt; true) .build(); \n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[]{&quot;TLSv1&quot;}, null, new NoopHostnameVerifier()); \n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n</code></pre>\n<p>Create a new resttemplate with this new client</p>\n<pre><code>    requestFactory.setHttpClient(httpClient);\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n<p>resuming:</p>\n<pre><code>HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n    \nSSLContext sslcontext = SSLContexts.custom() .loadTrustMaterial(null, (chain, authType) -&gt; true) .build(); \nSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[]{&quot;TLSv1&quot;}, null, new NoopHostnameVerifier()); \nCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n    \n    \nrequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17056488,"reputation":11,"user_id":12340887,"display_name":"yilia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573178097,"creation_date":1573178097,"answer_id":58759360,"question_id":55130893,"body_markdown":"RestTemplateè·³è¿httpsè¯·æ±è¯ä¹¦éªè¯é®é¢ï¼ \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Override\r\n    protected void prepareConnection(HttpURLConnection connection, String httpMethod) {\r\n    \t \r\n        try {\r\n            if (!(connection instanceof HttpsURLConnection)) {\r\n                throw new RuntimeException(&quot;An instance of HttpsURLConnection is expected&quot;);\r\n            }\r\n \r\n            HttpsURLConnection httpsConnection = (HttpsURLConnection) connection;\r\n \r\n            TrustManager[] trustAllCerts = new TrustManager[]{\r\n                    new X509TrustManager() {\r\n                        @Override\r\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                            return null;\r\n                        }\r\n                        @Override\r\n                        public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                        }\r\n                        @Override\r\n                        public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                        }\r\n \r\n                    }\r\n            };\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            httpsConnection.setSSLSocketFactory(new MyCustomSSLSocketFactory(sslContext.getSocketFactory()));\r\n \r\n            httpsConnection.setHostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String s, SSLSession sslSession) {\r\n                    return true;\r\n                }\r\n            });\r\n \r\n            super.prepareConnection(httpsConnection, httpMethod);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n \r\n \r\n    // SSLSocketFactoryç¨äºåå»º SSLSockets\r\n    private static class MyCustomSSLSocketFactory extends SSLSocketFactory {\r\n \r\n        private final SSLSocketFactory delegate;\r\n \r\n        public MyCustomSSLSocketFactory(SSLSocketFactory delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n \r\n        // è¿åé»è®¤å¯ç¨çå¯ç å¥ä»¶ãé¤éä¸ä¸ªåè¡¨å¯ç¨ï¼å¯¹SSLè¿æ¥çæ¡æä¼ä½¿ç¨è¿äºå¯ç å¥ä»¶ã\r\n        // è¿äºé»è®¤çæå¡çæä½è´¨éè¦æ±ä¿å¯ä¿æ¤åæå¡å¨èº«ä»½éªè¯\r\n        @Override\r\n        public String[] getDefaultCipherSuites() {\r\n            return delegate.getDefaultCipherSuites();\r\n        }\r\n \r\n        // è¿åçå¯ç å¥ä»¶å¯ç¨äºSSLè¿æ¥å¯ç¨çåå­\r\n        @Override\r\n        public String[] getSupportedCipherSuites() {\r\n            return delegate.getSupportedCipherSuites();\r\n        }\r\n \r\n \r\n        @Override\r\n        public Socket createSocket(final Socket socket, final String host, final int port, \r\n        \t\tfinal boolean autoClose) throws IOException {\r\n        \t Socket underlyingSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\tunderlyingSocket = delegate.createSocket(socket, host, port, autoClose);\r\n\t\t\t} catch (java.io.IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n            return overrideProtocol(underlyingSocket);\r\n        }\r\n \r\n \r\n        @Override\r\n        public Socket createSocket(final String host, final int port) throws IOException {\r\n            Socket underlyingSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\tunderlyingSocket = delegate.createSocket(host, port);\r\n\t\t\t} catch (java.io.IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n            return overrideProtocol(underlyingSocket);\r\n        }\r\n \r\n        @Override\r\n        public Socket createSocket(final String host, final int port, final InetAddress localAddress, \r\n        \t\tfinal int localPort) throws\r\n                IOException {\r\n            Socket underlyingSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\tunderlyingSocket = delegate.createSocket(host, port, localAddress, localPort);\r\n\t\t\t} catch (java.io.IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n            return overrideProtocol(underlyingSocket);\r\n        }\r\n \r\n        @Override\r\n        public Socket createSocket(final InetAddress host, final int port) throws IOException {\r\n            Socket underlyingSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\tunderlyingSocket = delegate.createSocket(host, port);\r\n\t\t\t} catch (java.io.IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n            return overrideProtocol(underlyingSocket);\r\n        }\r\n \r\n        @Override\r\n        public Socket createSocket(final InetAddress host, final int port, final InetAddress localAddress, \r\n        \t\tfinal int localPort) throws\r\n                IOException {\r\n            Socket underlyingSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\tunderlyingSocket = delegate.createSocket(host, port, localAddress, localPort);\r\n\t\t\t} catch (java.io.IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n            return overrideProtocol(underlyingSocket);\r\n        }\r\n \r\n        private Socket overrideProtocol(final Socket socket) {\r\n            if (!(socket instanceof SSLSocket)) {\r\n                throw new RuntimeException(&quot;An instance of SSLSocket is expected&quot;);\r\n            }\r\n            ((SSLSocket) socket).setEnabledProtocols(new String[]{&quot;TLSv1&quot;});\r\n            return socket;\r\n        }\r\n    }","title":"Ignoring self-signed certificates in SpringBoot using RestTemplate","body":"<p>RestTemplateè·³è¿httpsè¯·æ±è¯ä¹¦éªè¯é®é¢ï¼ </p>\n\n<p>@Override\n    protected void prepareConnection(HttpURLConnection connection, String httpMethod) {</p>\n\n<pre><code>    try {\n        if (!(connection instanceof HttpsURLConnection)) {\n            throw new RuntimeException(\"An instance of HttpsURLConnection is expected\");\n        }\n\n        HttpsURLConnection httpsConnection = (HttpsURLConnection) connection;\n\n        TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return null;\n                    }\n                    @Override\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                    }\n                    @Override\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                    }\n\n                }\n        };\n        SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n        sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n        httpsConnection.setSSLSocketFactory(new MyCustomSSLSocketFactory(sslContext.getSocketFactory()));\n\n        httpsConnection.setHostnameVerifier(new HostnameVerifier() {\n            @Override\n            public boolean verify(String s, SSLSession sslSession) {\n                return true;\n            }\n        });\n\n        super.prepareConnection(httpsConnection, httpMethod);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\n// SSLSocketFactoryç¨äºåå»º SSLSockets\nprivate static class MyCustomSSLSocketFactory extends SSLSocketFactory {\n\n    private final SSLSocketFactory delegate;\n\n    public MyCustomSSLSocketFactory(SSLSocketFactory delegate) {\n        this.delegate = delegate;\n    }\n\n    // è¿åé»è®¤å¯ç¨çå¯ç å¥ä»¶ãé¤éä¸ä¸ªåè¡¨å¯ç¨ï¼å¯¹SSLè¿æ¥çæ¡æä¼ä½¿ç¨è¿äºå¯ç å¥ä»¶ã\n    // è¿äºé»è®¤çæå¡çæä½è´¨éè¦æ±ä¿å¯ä¿æ¤åæå¡å¨èº«ä»½éªè¯\n    @Override\n    public String[] getDefaultCipherSuites() {\n        return delegate.getDefaultCipherSuites();\n    }\n\n    // è¿åçå¯ç å¥ä»¶å¯ç¨äºSSLè¿æ¥å¯ç¨çåå­\n    @Override\n    public String[] getSupportedCipherSuites() {\n        return delegate.getSupportedCipherSuites();\n    }\n\n\n    @Override\n    public Socket createSocket(final Socket socket, final String host, final int port, \n            final boolean autoClose) throws IOException {\n         Socket underlyingSocket = null;\n        try {\n            underlyingSocket = delegate.createSocket(socket, host, port, autoClose);\n        } catch (java.io.IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return overrideProtocol(underlyingSocket);\n    }\n\n\n    @Override\n    public Socket createSocket(final String host, final int port) throws IOException {\n        Socket underlyingSocket = null;\n        try {\n            underlyingSocket = delegate.createSocket(host, port);\n        } catch (java.io.IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return overrideProtocol(underlyingSocket);\n    }\n\n    @Override\n    public Socket createSocket(final String host, final int port, final InetAddress localAddress, \n            final int localPort) throws\n            IOException {\n        Socket underlyingSocket = null;\n        try {\n            underlyingSocket = delegate.createSocket(host, port, localAddress, localPort);\n        } catch (java.io.IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return overrideProtocol(underlyingSocket);\n    }\n\n    @Override\n    public Socket createSocket(final InetAddress host, final int port) throws IOException {\n        Socket underlyingSocket = null;\n        try {\n            underlyingSocket = delegate.createSocket(host, port);\n        } catch (java.io.IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return overrideProtocol(underlyingSocket);\n    }\n\n    @Override\n    public Socket createSocket(final InetAddress host, final int port, final InetAddress localAddress, \n            final int localPort) throws\n            IOException {\n        Socket underlyingSocket = null;\n        try {\n            underlyingSocket = delegate.createSocket(host, port, localAddress, localPort);\n        } catch (java.io.IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return overrideProtocol(underlyingSocket);\n    }\n\n    private Socket overrideProtocol(final Socket socket) {\n        if (!(socket instanceof SSLSocket)) {\n            throw new RuntimeException(\"An instance of SSLSocket is expected\");\n        }\n        ((SSLSocket) socket).setEnabledProtocols(new String[]{\"TLSv1\"});\n        return socket;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57935842,"answer_count":3,"score":0,"last_activity_date":1649424671,"creation_date":1552426032,"question_id":55130893,"body_markdown":"I&#39;m working on a SpringBoot application which needs to make RESTful calls to an internal API that uses a self-signed certificate.\r\n\r\nI&#39;m only having this issue in DEV and QA since in UAT and PROD they&#39;re using a properly signed certificate.\r\n\r\nI&#39;m developing on a Windows 10 machine and using Java 8.\r\n\r\n\r\n----------\r\n\r\n\r\n**I&#39;ve tried the below with no luck:**\r\n\r\nAdded certificate to Windows trusted certificates\r\n-------------------------------------------------\r\n\r\n 1. I downloaded the certificate from Chrome (in the address bar where\r\n    it shows that the certificate is not valid).\r\n 2. Then, in Windows Explorer, I right-clicked the certificate file and selected **Install Certificate** and followed the wizard.\r\n\r\n\r\nAdding code to ignore SSL verification\r\n--------------------------------------\r\nI called the **SSLUtils.buildRestTemplate** method when creating a **RestTemplate**.\r\n\r\n    package com.company.project.utils.ssl;\r\n    \r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Map.Entry;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.ssl.TrustStrategy;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import com.company.project.beans.ssl.SslBypassConfiguration;\r\n    \r\n    /**\r\n     * This class contains several methods for manipulating SSL certificate verification.\r\n     */\r\n    public class SSLUtils\r\n    {\r\n    \t\r\n    \t/* PRIVATE CONSTANTS */\r\n    \tprivate static Logger logger = LogManager.getLogger(SSLUtils.class);\r\n    \t\r\n    \t/* PRIVATE VARIABLES */\r\n    \tprivate static HostnameVerifier defaultHostnameVerifier = HttpsURLConnection.getDefaultHostnameVerifier();\r\n    \t\r\n    \t/* PUBLIC METHODS */\r\n    \t/**\r\n    \t * This method will set custom SSL certificate verification which will\r\n    \t * only forgo SSL certificate verification for white-listed hostnames.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration} that contains the details needed.\r\n    \t * \r\n    \t * @return\r\n    \t * The boolean flag to denote if the operation was successful.\r\n    \t * \r\n    \t * @throws NoSuchAlgorithmException\r\n    \t * If no Provider supports aSSLContextSpi implementation for the\r\n    \t * specified protocol.\r\n    \t * @throws KeyManagementException\r\n    \t * If the initialization fails.\r\n    \t */\r\n    \tpublic static boolean setCustomSslChecking(final SslBypassConfiguration sslBypassConfiguration)\r\n    \t\t\tthrows NoSuchAlgorithmException, KeyManagementException\r\n    \t{\r\n    \t\t// If the SSL bypass is enabled, then keep going.\r\n    \t\tif (sslBypassConfiguration.isSslVerificationBypassEnabled())\r\n    \t\t{\r\n    \t\t\t// If there are some hostnames to white-list, then keep going.\r\n    \t\t\tif ((sslBypassConfiguration.getWhitelistedHostnames() != null) &amp;&amp; (sslBypassConfiguration.getWhitelistedHostnames().size() &gt; 0))\r\n    \t\t\t{\r\n    \t\t\t\tfinal StringBuilder sb = new StringBuilder(&quot;Hostnames Being White-Listed:\\n&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t// Loop over all white-listed hostnames and log them.\r\n    \t\t\t\tfor (Entry&lt;String, String&gt; whitelistedHostname : sslBypassConfiguration.getWhitelistedHostnames().entrySet())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tsb.append(whitelistedHostname.getKey())\r\n    \t\t\t\t\t.append(&quot; (&quot;)\r\n    \t\t\t\t\t.append(whitelistedHostname.getValue())\r\n    \t\t\t\t\t.append(&quot;)&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tlogger.warn(sb.toString());\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tlogger.warn(&quot;SSL certificate verification bypass is enabled, but no white-listed hostnames have been specified.&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Create the hostname verifier to be used.\r\n    \t\t\tfinal WhitelistHostnameVerifier whitelistHostnameVerifier = new WhitelistHostnameVerifier(sslBypassConfiguration);\r\n    \t\t\t\r\n    \t\t\t// Create the trust manager to be used.\r\n    \t\t\tfinal X509TrustManager trustManager = new TrustingX509TrustManager();\r\n    \t\t\t\r\n    \t\t\t// Assign the custom hostname verifier and trust manager.\r\n    \t\t\tSSLUtils.setCustomSslChecking(whitelistHostnameVerifier, trustManager);\r\n    \t\t\t\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will set custom SSL certificate verification.\r\n    \t * \r\n    \t * @param hostnameVerifier\r\n    \t * The {@link javax.net.ssl.HostnameVerifier} that will be used to verify hostnames.\r\n    \t * @param trustManager\r\n    \t * The {@link X509TrustManager} that will be used to verify certificates.\r\n    \t * \r\n    \t * @throws NoSuchAlgorithmException\r\n    \t * If no Provider supports aSSLContextSpi implementation for the specified protocol.\r\n    \t * @throws KeyManagementException\r\n    \t * If the initialization fails.\r\n    \t */\r\n    \tpublic static void setCustomSslChecking(\r\n    \t\t\tfinal javax.net.ssl.HostnameVerifier hostnameVerifier,\r\n    \t\t\tfinal X509TrustManager trustManager)\r\n    \t\t\tthrows NoSuchAlgorithmException, KeyManagementException\r\n    \t{\r\n    \t\t// Get an instance of the SSLContent.\r\n    \t\tfinal SSLContext sslContent = SSLContext.getInstance(&quot;SSL&quot;); // TLS\r\n    \t\t\r\n    \t\t// Set the state using the specified TrustManager.\r\n    \t\tsslContent.init(null, new TrustManager[] {trustManager}, null);\r\n    \t\t\r\n    \t\t// Set the derived SSL socket factory.\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContent.getSocketFactory());\r\n    \t\t\r\n    \t\t// Define the default hostname verifier.\r\n    \t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will set the default SSL certificate verification.\r\n    \t * \r\n    \t * @throws NoSuchAlgorithmException\r\n    \t * If no Provider supports aSSLContextSpi implementation for the specified protocol.\r\n    \t * @throws KeyManagementException\r\n    \t * If the initialization fails.\r\n    \t */\r\n    \tpublic static void setDefaultSslChecking()\r\n    \t\t\tthrows NoSuchAlgorithmException, KeyManagementException\r\n    \t{\r\n    \t\t// Get an instance of the SSLContent.\r\n    \t\tfinal SSLContext sslContent = SSLContext.getInstance(&quot;SSL&quot;); // TLS\r\n    \t\t\r\n    \t\t// Return it to the initial state (discovered by reflection, now hardcoded).\r\n    \t\tsslContent.init(null, null, null);\r\n    \t\t\r\n    \t\t// Set the default SSL socket factory.\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContent.getSocketFactory());\r\n    \t\t\r\n    \t\t// Define the default hostname verifier.\r\n    \t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(SSLUtils.defaultHostnameVerifier);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * This method will build a new {@link RestTemplate}.\r\n    \t * \r\n    \t * @param sslBypassConfiguration\r\n    \t * The {@link SslBypassConfiguration}.\r\n    \t * \r\n    \t * @return\r\n    \t * The {@link RestTemplate}.\r\n    \t * \r\n    \t * @throws KeyManagementException\r\n    \t * @throws NoSuchAlgorithmException\r\n    \t * @throws KeyStoreException\r\n    \t */\r\n    \tpublic static RestTemplate buildRestTemplate(final SslBypassConfiguration sslBypassConfiguration)\r\n    \t\t\tthrows KeyManagementException, NoSuchAlgorithmException, KeyStoreException\r\n    \t{\r\n    \t\tif ((sslBypassConfiguration == null) || (!sslBypassConfiguration.isSslVerificationBypassEnabled()))\r\n    \t\t{\r\n    \t\t\treturn new RestTemplate();\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinal TrustStrategy acceptingTrustStrategy = new TrustStrategy()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean isTrusted(final java.security.cert.X509Certificate[] chain, final String authType)\r\n    \t\t\t\t\tthrows java.security.cert.CertificateException\r\n    \t\t\t{\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\tfinal HttpClientBuilder httpClientBuilder = HttpClients.custom();\r\n    \t\t\r\n    \t\t\r\n    \t\tfinal SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n    \t\tfinal SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n    \t\t\r\n    \t\thttpClientBuilder.setSSLSocketFactory(csf);\r\n    \t\thttpClientBuilder.setSSLHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\r\n    \t\t\r\n    \t\tfinal HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    \t\t\r\n    \t\trequestFactory.setHttpClient(httpClientBuilder.build());\r\n    \t\t\r\n    \t\treturn new RestTemplate(requestFactory);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n\r\nPossible Idea\r\n-------------\r\n\r\nIs there an application that could accept HTTP connections and route them to an externally hosted HTTPS endpoint?\r\n\r\nThis application would have to ignore any certificate issues.","title":"Ignoring self-signed certificates in SpringBoot using RestTemplate","body":"<p>I'm working on a SpringBoot application which needs to make RESTful calls to an internal API that uses a self-signed certificate.</p>\n\n<p>I'm only having this issue in DEV and QA since in UAT and PROD they're using a properly signed certificate.</p>\n\n<p>I'm developing on a Windows 10 machine and using Java 8.</p>\n\n<hr>\n\n<p><strong>I've tried the below with no luck:</strong></p>\n\n<h2>Added certificate to Windows trusted certificates</h2>\n\n<ol>\n<li>I downloaded the certificate from Chrome (in the address bar where\nit shows that the certificate is not valid).</li>\n<li>Then, in Windows Explorer, I right-clicked the certificate file and selected <strong>Install Certificate</strong> and followed the wizard.</li>\n</ol>\n\n<h2>Adding code to ignore SSL verification</h2>\n\n<p>I called the <strong>SSLUtils.buildRestTemplate</strong> method when creating a <strong>RestTemplate</strong>.</p>\n\n<pre><code>package com.company.project.utils.ssl;\n\nimport java.security.KeyManagementException;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Map.Entry;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.ssl.TrustStrategy;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.company.project.beans.ssl.SslBypassConfiguration;\n\n/**\n * This class contains several methods for manipulating SSL certificate verification.\n */\npublic class SSLUtils\n{\n\n    /* PRIVATE CONSTANTS */\n    private static Logger logger = LogManager.getLogger(SSLUtils.class);\n\n    /* PRIVATE VARIABLES */\n    private static HostnameVerifier defaultHostnameVerifier = HttpsURLConnection.getDefaultHostnameVerifier();\n\n    /* PUBLIC METHODS */\n    /**\n     * This method will set custom SSL certificate verification which will\n     * only forgo SSL certificate verification for white-listed hostnames.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration} that contains the details needed.\n     * \n     * @return\n     * The boolean flag to denote if the operation was successful.\n     * \n     * @throws NoSuchAlgorithmException\n     * If no Provider supports aSSLContextSpi implementation for the\n     * specified protocol.\n     * @throws KeyManagementException\n     * If the initialization fails.\n     */\n    public static boolean setCustomSslChecking(final SslBypassConfiguration sslBypassConfiguration)\n            throws NoSuchAlgorithmException, KeyManagementException\n    {\n        // If the SSL bypass is enabled, then keep going.\n        if (sslBypassConfiguration.isSslVerificationBypassEnabled())\n        {\n            // If there are some hostnames to white-list, then keep going.\n            if ((sslBypassConfiguration.getWhitelistedHostnames() != null) &amp;&amp; (sslBypassConfiguration.getWhitelistedHostnames().size() &gt; 0))\n            {\n                final StringBuilder sb = new StringBuilder(\"Hostnames Being White-Listed:\\n\");\n\n                // Loop over all white-listed hostnames and log them.\n                for (Entry&lt;String, String&gt; whitelistedHostname : sslBypassConfiguration.getWhitelistedHostnames().entrySet())\n                {\n                    sb.append(whitelistedHostname.getKey())\n                    .append(\" (\")\n                    .append(whitelistedHostname.getValue())\n                    .append(\")\");\n                }\n\n                logger.warn(sb.toString());\n            }\n            else\n            {\n                logger.warn(\"SSL certificate verification bypass is enabled, but no white-listed hostnames have been specified.\");\n            }\n\n            // Create the hostname verifier to be used.\n            final WhitelistHostnameVerifier whitelistHostnameVerifier = new WhitelistHostnameVerifier(sslBypassConfiguration);\n\n            // Create the trust manager to be used.\n            final X509TrustManager trustManager = new TrustingX509TrustManager();\n\n            // Assign the custom hostname verifier and trust manager.\n            SSLUtils.setCustomSslChecking(whitelistHostnameVerifier, trustManager);\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * This method will set custom SSL certificate verification.\n     * \n     * @param hostnameVerifier\n     * The {@link javax.net.ssl.HostnameVerifier} that will be used to verify hostnames.\n     * @param trustManager\n     * The {@link X509TrustManager} that will be used to verify certificates.\n     * \n     * @throws NoSuchAlgorithmException\n     * If no Provider supports aSSLContextSpi implementation for the specified protocol.\n     * @throws KeyManagementException\n     * If the initialization fails.\n     */\n    public static void setCustomSslChecking(\n            final javax.net.ssl.HostnameVerifier hostnameVerifier,\n            final X509TrustManager trustManager)\n            throws NoSuchAlgorithmException, KeyManagementException\n    {\n        // Get an instance of the SSLContent.\n        final SSLContext sslContent = SSLContext.getInstance(\"SSL\"); // TLS\n\n        // Set the state using the specified TrustManager.\n        sslContent.init(null, new TrustManager[] {trustManager}, null);\n\n        // Set the derived SSL socket factory.\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContent.getSocketFactory());\n\n        // Define the default hostname verifier.\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n    }\n\n    /**\n     * This method will set the default SSL certificate verification.\n     * \n     * @throws NoSuchAlgorithmException\n     * If no Provider supports aSSLContextSpi implementation for the specified protocol.\n     * @throws KeyManagementException\n     * If the initialization fails.\n     */\n    public static void setDefaultSslChecking()\n            throws NoSuchAlgorithmException, KeyManagementException\n    {\n        // Get an instance of the SSLContent.\n        final SSLContext sslContent = SSLContext.getInstance(\"SSL\"); // TLS\n\n        // Return it to the initial state (discovered by reflection, now hardcoded).\n        sslContent.init(null, null, null);\n\n        // Set the default SSL socket factory.\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContent.getSocketFactory());\n\n        // Define the default hostname verifier.\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(SSLUtils.defaultHostnameVerifier);\n    }\n\n    /**\n     * This method will build a new {@link RestTemplate}.\n     * \n     * @param sslBypassConfiguration\n     * The {@link SslBypassConfiguration}.\n     * \n     * @return\n     * The {@link RestTemplate}.\n     * \n     * @throws KeyManagementException\n     * @throws NoSuchAlgorithmException\n     * @throws KeyStoreException\n     */\n    public static RestTemplate buildRestTemplate(final SslBypassConfiguration sslBypassConfiguration)\n            throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException\n    {\n        if ((sslBypassConfiguration == null) || (!sslBypassConfiguration.isSslVerificationBypassEnabled()))\n        {\n            return new RestTemplate();\n        }\n\n        final TrustStrategy acceptingTrustStrategy = new TrustStrategy()\n        {\n            @Override\n            public boolean isTrusted(final java.security.cert.X509Certificate[] chain, final String authType)\n                    throws java.security.cert.CertificateException\n            {\n                return true;\n            }\n        };\n\n        final HttpClientBuilder httpClientBuilder = HttpClients.custom();\n\n\n        final SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n        final SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n        httpClientBuilder.setSSLSocketFactory(csf);\n        httpClientBuilder.setSSLHostnameVerifier(new WhitelistHostnameVerifier(sslBypassConfiguration));\n\n        final HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n\n        requestFactory.setHttpClient(httpClientBuilder.build());\n\n        return new RestTemplate(requestFactory);\n    }\n\n}\n</code></pre>\n\n<h2>Possible Idea</h2>\n\n<p>Is there an application that could accept HTTP connections and route them to an externally hosted HTTPS endpoint?</p>\n\n<p>This application would have to ignore any certificate issues.</p>\n"},{"tags":["java","flutter","dart","jwt"],"comments":[{"owner":{"account_id":1379881,"reputation":1077,"user_id":1313127,"accept_rate":60,"display_name":"xurei"},"score":0,"creation_date":1598359027,"post_id":63578979,"comment_id":112427857,"body_markdown":"Have you checked on jwt.io the content of your token ? Could you paste it here ?","body":"Have you checked on jwt.io the content of your token ? Could you paste it here ?"},{"owner":{"account_id":19321831,"reputation":135,"user_id":14125366,"display_name":"Chethan Venkataramaiah"},"score":0,"creation_date":1598360710,"post_id":63578979,"comment_id":112428798,"body_markdown":"@xurei using HS256 I could check the contents of my token in jwt.io . It is fine","body":"@xurei using HS256 I could check the contents of my token in jwt.io . It is fine"},{"owner":{"account_id":1379881,"reputation":1077,"user_id":1313127,"accept_rate":60,"display_name":"xurei"},"score":0,"creation_date":1598360830,"post_id":63578979,"comment_id":112428865,"body_markdown":"Then I would guess that some required fields are missing in the payload, or that the signature is invalid. Can you check the exception and see if there is any details provided ?","body":"Then I would guess that some required fields are missing in the payload, or that the signature is invalid. Can you check the exception and see if there is any details provided ?"},{"owner":{"account_id":19321831,"reputation":135,"user_id":14125366,"display_name":"Chethan Venkataramaiah"},"score":1,"creation_date":1598361073,"post_id":63578979,"comment_id":112429011,"body_markdown":"It is pointing to this block of code in the jsonwebtoken library @override\n  List&lt;int&gt; sign(Key key, List&lt;int&gt; body) {\n    assert(key is PrivateKey, &#39;key must be a PrivateKey&#39;);\n    final privateKey = key as PrivateKey;\n\n    final parser = RSAPKCSParser();\n    RSAKeyPair pair;\n\n    try {\n      pair = parser.parsePEM(privateKey.key, password: privateKey.passphrase);\n      assert(pair.private != null);\n    } catch (ex) {\n\n      throw JWTInvalidError(&#39;invalid private RSA key&#39;);\n    }","body":"It is pointing to this block of code in the jsonwebtoken library @override   List&lt;int&gt; sign(Key key, List&lt;int&gt; body) {     assert(key is PrivateKey, &#39;key must be a PrivateKey&#39;);     final privateKey = key as PrivateKey;      final parser = RSAPKCSParser();     RSAKeyPair pair;      try {       pair = parser.parsePEM(privateKey.key, password: privateKey.passphrase);       assert(pair.private != null);     } catch (ex) {        throw JWTInvalidError(&#39;invalid private RSA key&#39;);     }"},{"owner":{"account_id":19321831,"reputation":135,"user_id":14125366,"display_name":"Chethan Venkataramaiah"},"score":0,"creation_date":1598361135,"post_id":63578979,"comment_id":112429045,"body_markdown":"So it is basically saying invalid private key.But using the Java code it is able to generate the token","body":"So it is basically saying invalid private key.But using the Java code it is able to generate the token"},{"owner":{"account_id":1379881,"reputation":1077,"user_id":1313127,"accept_rate":60,"display_name":"xurei"},"score":0,"creation_date":1598361221,"post_id":63578979,"comment_id":112429092,"body_markdown":"That probably means that you are not using the same key or signature algorithm in Dart vs Java. I never had to write one so I can&#39;t help you much more on this :-\\","body":"That probably means that you are not using the same key or signature algorithm in Dart vs Java. I never had to write one so I can&#39;t help you much more on this :-\\"},{"owner":{"account_id":1379881,"reputation":1077,"user_id":1313127,"accept_rate":60,"display_name":"xurei"},"score":0,"creation_date":1598361301,"post_id":63578979,"comment_id":112429146,"body_markdown":"Some ideas : check the encoding (UTF-8 vs something else ?), check the keys.\nAlso : try to create a token with dart and validate it with dart, same thing with Java. Maybe you&#39;ll find something strange.","body":"Some ideas : check the encoding (UTF-8 vs something else ?), check the keys. Also : try to create a token with dart and validate it with dart, same thing with Java. Maybe you&#39;ll find something strange."},{"owner":{"account_id":19321831,"reputation":135,"user_id":14125366,"display_name":"Chethan Venkataramaiah"},"score":0,"creation_date":1598361675,"post_id":63578979,"comment_id":112429336,"body_markdown":"@xurei Thanks for all the help you could do.Ok I will","body":"@xurei Thanks for all the help you could do.Ok I will"}],"owner":{"account_id":19321831,"reputation":135,"user_id":14125366,"display_name":"Chethan Venkataramaiah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3089,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1649424294,"creation_date":1598358877,"question_id":63578979,"body_markdown":"I have a generate a token from a key in flutter.This token will serve as the header(authorisation) for the API call request. I am using the https://pub.dev/packages/dart_jsonwebtoken plugin to generate the token\r\n\r\nI am able to generate the token using HS256 algorithm. But in my case I have to generate the token using RS256 algorithm.When I try to generate using RS256 algorithm it throws the following error\r\nInstance of &#39;JWTInvalidError&#39;. You can refer the screenshot as well.\r\n\r\nThe key is valid because in Java code the person was able to implement that.WHat is missing?\r\n\r\nThis is the code I have implemented using flutter dart_jsonwebtoken package:\r\n\r\n    import &#39;package:dart_jsonwebtoken/dart_jsonwebtoken.dart&#39;;\r\n    \r\n    String token;\r\n    \r\n    void dartJsonWebTokenGenerator() {\r\n      Duration delay = new Duration( minutes:3);\r\n      final jwt = JWT(\r\n        payload:\r\n        {\r\n          &quot;version&quot;: &quot;13&quot;,\r\n        &#39;user_id&#39;: &#39;XXXXXXXXX&#39;,\r\n        },\r\n        issuer: &#39;https://github.com/jonasroussel/jsonwebtoken&#39;,\r\n        audience: &#39;live-tv&#39;,\r\n      );\r\n    \r\n    \r\n    // Sign it (default with HS256 algorithm)\r\n      token = jwt.sign(PrivateKey(&#39;XXXXXXXXXXXXXXXXXXXXXXXXX&#39;),\r\n          algorithm: JWTAlgorithm.RS256,expiresIn: delay );\r\n    \r\n      print(&#39;Signed token: $token\\n&#39;);\r\n    }\r\n\r\nThe equivalent Java code which is to be implemented:\r\n\r\n    import android.util.Log;\r\n    \r\n    import java.security.GeneralSecurityException;\r\n    import java.security.KeyFactory;\r\n    import java.security.PrivateKey;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import java.util.Date;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    \r\n    public class RSAKeyGenerator {\r\n        private static PrivateKey getPrivateKey() throws GeneralSecurityException {\r\n            String pKey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            byte[] decode;\r\n            decode = android.util.Base64.decode(pKey, android.util.Base64.DEFAULT);\r\n            PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(decode);\r\n            return kf.generatePrivate(keySpecPKCS8);\r\n        }\r\n        public static String getJwtToken() {\r\n            final long VALIDITY_MS = TimeUnit.MINUTES.toMillis(60);\r\n            long nowMillis = System.currentTimeMillis();\r\n            Date now = new Date(nowMillis);\r\n            Date exp = new Date(nowMillis + VALIDITY_MS);\r\n            PrivateKey privateKey = null;\r\n            try {\r\n                privateKey = getPrivateKey();\r\n            } catch (GeneralSecurityException e) {\r\n                e.printStackTrace();\r\n            }\r\n            String jws = Jwts.builder()\r\n                    .claim(&quot;version&quot;, &quot;13&quot;)\r\n                    .claim(&quot;user_id&quot;, &quot;xxxxxxxxxxxxxxxxxxx&quot;)\r\n                    .setIssuedAt(now)\r\n                    .setExpiration(exp)\r\n                    .signWith(privateKey, SignatureAlgorithm.RS256)\r\n                    .setAudience(&quot;live-tv&quot;)\r\n                    .compact();\r\n            Log.d(&quot;111__&quot;, jws);\r\n            SpUtil.Companion.getInstance().putString(J_TOKEN, jws);\r\n            return jws;\r\n        }\r\n    }\r\n\r\nAlong with this I have tried the jose library,corsac_jwt and a few more but I am not getting the proper results in the first place.So if you have any library you can recommend to me ,your are most welcome\r\n\r\n[RSA 256 token error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X3L3s.png\r\n","title":"How to generate a JWT in flutter from a key?","body":"<p>I have a generate a token from a key in flutter.This token will serve as the header(authorisation) for the API call request. I am using the <a href=\"https://pub.dev/packages/dart_jsonwebtoken\" rel=\"nofollow noreferrer\">https://pub.dev/packages/dart_jsonwebtoken</a> plugin to generate the token</p>\n<p>I am able to generate the token using HS256 algorithm. But in my case I have to generate the token using RS256 algorithm.When I try to generate using RS256 algorithm it throws the following error\nInstance of 'JWTInvalidError'. You can refer the screenshot as well.</p>\n<p>The key is valid because in Java code the person was able to implement that.WHat is missing?</p>\n<p>This is the code I have implemented using flutter dart_jsonwebtoken package:</p>\n<pre><code>import 'package:dart_jsonwebtoken/dart_jsonwebtoken.dart';\n\nString token;\n\nvoid dartJsonWebTokenGenerator() {\n  Duration delay = new Duration( minutes:3);\n  final jwt = JWT(\n    payload:\n    {\n      &quot;version&quot;: &quot;13&quot;,\n    'user_id': 'XXXXXXXXX',\n    },\n    issuer: 'https://github.com/jonasroussel/jsonwebtoken',\n    audience: 'live-tv',\n  );\n\n\n// Sign it (default with HS256 algorithm)\n  token = jwt.sign(PrivateKey('XXXXXXXXXXXXXXXXXXXXXXXXX'),\n      algorithm: JWTAlgorithm.RS256,expiresIn: delay );\n\n  print('Signed token: $token\\n');\n}\n</code></pre>\n<p>The equivalent Java code which is to be implemented:</p>\n<pre><code>import android.util.Log;\n\nimport java.security.GeneralSecurityException;\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\n\npublic class RSAKeyGenerator {\n    private static PrivateKey getPrivateKey() throws GeneralSecurityException {\n        String pKey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        byte[] decode;\n        decode = android.util.Base64.decode(pKey, android.util.Base64.DEFAULT);\n        PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(decode);\n        return kf.generatePrivate(keySpecPKCS8);\n    }\n    public static String getJwtToken() {\n        final long VALIDITY_MS = TimeUnit.MINUTES.toMillis(60);\n        long nowMillis = System.currentTimeMillis();\n        Date now = new Date(nowMillis);\n        Date exp = new Date(nowMillis + VALIDITY_MS);\n        PrivateKey privateKey = null;\n        try {\n            privateKey = getPrivateKey();\n        } catch (GeneralSecurityException e) {\n            e.printStackTrace();\n        }\n        String jws = Jwts.builder()\n                .claim(&quot;version&quot;, &quot;13&quot;)\n                .claim(&quot;user_id&quot;, &quot;xxxxxxxxxxxxxxxxxxx&quot;)\n                .setIssuedAt(now)\n                .setExpiration(exp)\n                .signWith(privateKey, SignatureAlgorithm.RS256)\n                .setAudience(&quot;live-tv&quot;)\n                .compact();\n        Log.d(&quot;111__&quot;, jws);\n        SpUtil.Companion.getInstance().putString(J_TOKEN, jws);\n        return jws;\n    }\n}\n</code></pre>\n<p>Along with this I have tried the jose library,corsac_jwt and a few more but I am not getting the proper results in the first place.So if you have any library you can recommend to me ,your are most welcome</p>\n<p><a href=\"https://i.stack.imgur.com/X3L3s.png\" rel=\"nofollow noreferrer\">RSA 256 token error</a></p>\n"},{"tags":["java","amazon-s3","hadoop","databricks"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649424278,"post_id":71791996,"comment_id":126878697,"body_markdown":"A cast exception has nothing to do with access keys. You need to change your imports to use the shaded databricks s3a filesystem. And you don&#39;t pass the keys through the config, you export them in environment variables before running the code","body":"A cast exception has nothing to do with access keys. You need to change your imports to use the shaded databricks s3a filesystem. And you don&#39;t pass the keys through the config, you export them in environment variables before running the code"},{"owner":{"account_id":15893067,"reputation":159,"user_id":11467608,"display_name":"Babu"},"score":0,"creation_date":1649425256,"post_id":71791996,"comment_id":126879077,"body_markdown":"thank you for your response. Can you guide me on which maven package we need to add to have databricks s3a filesystem?","body":"thank you for your response. Can you guide me on which maven package we need to add to have databricks s3a filesystem?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649426416,"post_id":71791996,"comment_id":126879600,"body_markdown":"Which dependency do you have already? Are you referring to DBFS?","body":"Which dependency do you have already? Are you referring to DBFS?"},{"owner":{"account_id":15893067,"reputation":159,"user_id":11467608,"display_name":"Babu"},"score":0,"creation_date":1649444360,"post_id":71791996,"comment_id":126886072,"body_markdown":"I have org.apache.hadoop.fs._ . As you mentioned  &quot;imports to use the shaded databricks s3a filesystem&quot;, what library I need to add?","body":"I have org.apache.hadoop.fs._ . As you mentioned  &quot;imports to use the shaded databricks s3a filesystem&quot;, what library I need to add?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649457154,"post_id":71791996,"comment_id":126889019,"body_markdown":"According to your error, you dont need to add anything; you already have it. I was saying replace `import org.apache.hadoop.fs.s3a.S3AFileSystem` line with `import shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem`","body":"According to your error, you dont need to add anything; you already have it. I was saying replace <code>import org.apache.hadoop.fs.s3a.S3AFileSystem</code> line with <code>import shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem</code>"}],"owner":{"account_id":15893067,"reputation":159,"user_id":11467608,"display_name":"Babu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649424233,"creation_date":1649395063,"question_id":71791996,"body_markdown":"I am trying to read/write the S3 bucket and develop code in JAVA. While I am running the code I am getting authorization error for Access key and Secret key.\r\n\r\nI have defined fs as follows:\r\n\r\n    Configuration conf = new Configuration()\r\n    S3AFileSystem fs = (S3AFileSystem) FileSystem.get(conf)\r\n    FSDataOutputStream ostm = fs.open(new Path(s3bucketpath))\r\n\r\nwhile it is creating fs, it is throwing an error :\r\n\r\n    shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem cannot be cast to org.apache.hadoop.fs.s3a.S3AFileSystem\r\n    java.lang.ClassCastException: shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem cannot be cast to org.apache.hadoop.fs.s3a.S3AFileSystem\r\n\r\n\r\nLooks like it is looking for access key and secret key while creating fs and could someone guide me how we can pass them to FileSystem(conf).\r\n\r\nPlease provide sample code if you can guide me to implement this.\r\n\r\nThanks\r\n","title":"S3AFileSystem - S3 Access Key and Secret Key","body":"<p>I am trying to read/write the S3 bucket and develop code in JAVA. While I am running the code I am getting authorization error for Access key and Secret key.</p>\n<p>I have defined fs as follows:</p>\n<pre><code>Configuration conf = new Configuration()\nS3AFileSystem fs = (S3AFileSystem) FileSystem.get(conf)\nFSDataOutputStream ostm = fs.open(new Path(s3bucketpath))\n</code></pre>\n<p>while it is creating fs, it is throwing an error :</p>\n<pre><code>shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem cannot be cast to org.apache.hadoop.fs.s3a.S3AFileSystem\njava.lang.ClassCastException: shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem cannot be cast to org.apache.hadoop.fs.s3a.S3AFileSystem\n</code></pre>\n<p>Looks like it is looking for access key and secret key while creating fs and could someone guide me how we can pass them to FileSystem(conf).</p>\n<p>Please provide sample code if you can guide me to implement this.</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","azure-functions"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649424611,"post_id":71797784,"comment_id":126878829,"body_markdown":"Well, what happens when you give the trigger your on prem bootstrap server?","body":"Well, what happens when you give the trigger your on prem bootstrap server?"},{"owner":{"account_id":7867974,"reputation":41,"user_id":5946233,"display_name":"Shaho Shahbazpanahi"},"score":0,"creation_date":1649425866,"post_id":71797784,"comment_id":126879355,"body_markdown":"I am very new to the azure function but based on my experience with Kafka, I need to set some parameters(eg. `ssl.keystore.location`) to be able to consume the message in topic. while I was going to use [KafkaTrigger Interface](https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.functions.annotation.kafkatrigger?view=azure-java-legacy) I don&#39;t know how to setup this parameters.","body":"I am very new to the azure function but based on my experience with Kafka, I need to set some parameters(eg. <code>ssl.keystore.location</code>) to be able to consume the message in topic. while I was going to use <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.functions.annotation.kafkatrigger?view=azure-java-legacy\" rel=\"nofollow noreferrer\">KafkaTrigger Interface</a> I don&#39;t know how to setup this parameters."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1649426551,"post_id":71797784,"comment_id":126879660,"body_markdown":"That&#39;s a Java property, not for librdkafka configuration that Azure uses. You can see the methods listed in the docs there that correspond to the ssl properties that can be set","body":"That&#39;s a Java property, not for librdkafka configuration that Azure uses. You can see the methods listed in the docs there that correspond to the ssl properties that can be set"}],"owner":{"account_id":7867974,"reputation":41,"user_id":5946233,"display_name":"Shaho Shahbazpanahi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649424072,"creation_date":1649424072,"question_id":71797784,"body_markdown":"Is it possible to have HTTPtrigger for a java azure function that can be triggered by a message from a topic? Please note, that our kafka servers(broker, zookeeper,...) are not Azure cloud. if yes, how can we set the configuration parameters to be able to consume topic?","title":"how to use Azure kakaTrigger wih On-Prem Kafka","body":"<p>Is it possible to have HTTPtrigger for a java azure function that can be triggered by a message from a topic? Please note, that our kafka servers(broker, zookeeper,...) are not Azure cloud. if yes, how can we set the configuration parameters to be able to consume topic?</p>\n"},{"tags":["java","swing","user-interface","png","bufferedimage"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649424352,"post_id":71797654,"comment_id":126878725,"body_markdown":"I think transparency works if you load your image as an icon on the JLabel.","body":"I think transparency works if you load your image as an icon on the JLabel."},{"owner":{"account_id":19932760,"reputation":49,"user_id":14606099,"display_name":"ilMichigan"},"score":0,"creation_date":1649424470,"post_id":71797654,"comment_id":126878771,"body_markdown":"Now I&#39;m gonna try it","body":"Now I&#39;m gonna try it"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1649424673,"post_id":71797654,"comment_id":126878856,"body_markdown":"If you&#39;re not going to use any text on the label, just set the image as the label&#39;s icon:  https://stackoverflow.com/questions/55736459/how-to-draw-on-jlabel-with-image-icon-in-java","body":"If you&#39;re not going to use any text on the label, just set the image as the label&#39;s icon:  <a href=\"https://stackoverflow.com/questions/55736459/how-to-draw-on-jlabel-with-image-icon-in-java\" title=\"how to draw on jlabel with image icon in java\">stackoverflow.com/questions/55736459/&hellip;</a>"},{"owner":{"account_id":19932760,"reputation":49,"user_id":14606099,"display_name":"ilMichigan"},"score":0,"creation_date":1649425239,"post_id":71797654,"comment_id":126879072,"body_markdown":"it didn&#39;t work, maybe I am doing something wrong.","body":"it didn&#39;t work, maybe I am doing something wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649427648,"post_id":71797654,"comment_id":126880128,"body_markdown":"**4)** disposing the `Graphics2D` that was not created in that method! ***5)*** `clearRect` ?  that will clear the background, that is, fill with the background color, basically *removing* the transparency, over-painting what was already there","body":"<b>4)</b> disposing the <code>Graphics2D</code> that was not created in that method! <b><i>5)</i></b> <code>clearRect</code> ?  that will clear the background, that is, fill with the background color, basically <i>removing</i> the transparency, over-painting what was already there"},{"owner":{"account_id":19932760,"reputation":49,"user_id":14606099,"display_name":"ilMichigan"},"score":0,"creation_date":1649428332,"post_id":71797654,"comment_id":126880423,"body_markdown":"Thank you!! Removing the clearRect worked!!","body":"Thank you!! Removing the clearRect worked!!"}],"owner":{"account_id":19932760,"reputation":49,"user_id":14606099,"display_name":"ilMichigan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649423879,"creation_date":1649423536,"question_id":71797654,"body_markdown":"I have a JLabel on which a png like a BufferedImage is drawn. The problem is that although the background of the png is transparent, it is displayed with the background.\r\n\r\nThe &quot;CentreOnDefaultScreen&quot; class detects which screen is the primary and takes its size, then centers the JFrame in the center of the screen.\r\n\r\nThe &quot;Shape&quot; class simply defines the position, length and height of the JLabel rectangle, and an Optional of the direction in which the object will move.\r\n\r\nThe &quot;ImageLoader&quot; class simply looks for the png given a title and returns a BufferedImage. If the direction is RIGHT, the image returns to the right and vice versa\r\n\r\nI don&#39;t know what to do to make the background of the png transparent. I think JLabel is creating the background but I don&#39;t know how to prevent this.\r\n\r\n```java\r\npublic class Actor extends JLabel{\r\n    \r\n    /**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1967410748214691856L;\r\n\r\n\r\n    private static final int SIZEX = CenterOnDefaultScreen.center().width*70/100;\r\n    private static final int SIZEY = CenterOnDefaultScreen.center().height*70/100;\r\n    \r\n\tprivate Shape s;\r\n    private final ImageLoader iLoader = new ImageLoader();\r\n\r\n    public Actor(Shape s){\r\n        this.s = s;\r\n        \r\n        super.setBounds(this.s.getRectangle());\r\n        super.setOpaque(false);\r\n        \r\n    }\r\n    \r\n    public void changeLocation(BirdPos2D pos){\r\n\r\n        super.setLocation(pos.x, pos.y);\r\n        this.s = new Shape(pos, this.s.getDimensions().getX(), \r\n        this.s.getDimensions().getY(), Optional.of(this.getShape().getDireciton()));  \r\n    }\r\n\r\n    public Shape getShape(){\r\n        return this.s;\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n\r\n        Graphics2D g2 = (Graphics2D) g;\r\n\r\n        g2.clearRect(0, 0, SIZEX, SIZEY);\r\n\r\n        g2.drawImage(iLoader.getBirdImage(this.getShape().getDireciton() == Directions.RIGHT ? Directions.RIGHT : Directions.LEFT), \r\n                0, 0, null);\r\n\r\n        g2.dispose();\r\n    }\r\n}\r\n```\r\n\r\nTo paint this JLabel on the JFrame I have a Visual class which extends Thread in which run() method for each position change I repaint it. It all works fine but my only problem is the png background.","title":"BufferedImage drawn on JLabel doesn keep transparent background","body":"<p>I have a JLabel on which a png like a BufferedImage is drawn. The problem is that although the background of the png is transparent, it is displayed with the background.</p>\n<p>The &quot;CentreOnDefaultScreen&quot; class detects which screen is the primary and takes its size, then centers the JFrame in the center of the screen.</p>\n<p>The &quot;Shape&quot; class simply defines the position, length and height of the JLabel rectangle, and an Optional of the direction in which the object will move.</p>\n<p>The &quot;ImageLoader&quot; class simply looks for the png given a title and returns a BufferedImage. If the direction is RIGHT, the image returns to the right and vice versa</p>\n<p>I don't know what to do to make the background of the png transparent. I think JLabel is creating the background but I don't know how to prevent this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Actor extends JLabel{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1967410748214691856L;\n\n\n    private static final int SIZEX = CenterOnDefaultScreen.center().width*70/100;\n    private static final int SIZEY = CenterOnDefaultScreen.center().height*70/100;\n    \n    private Shape s;\n    private final ImageLoader iLoader = new ImageLoader();\n\n    public Actor(Shape s){\n        this.s = s;\n        \n        super.setBounds(this.s.getRectangle());\n        super.setOpaque(false);\n        \n    }\n    \n    public void changeLocation(BirdPos2D pos){\n\n        super.setLocation(pos.x, pos.y);\n        this.s = new Shape(pos, this.s.getDimensions().getX(), \n        this.s.getDimensions().getY(), Optional.of(this.getShape().getDireciton()));  \n    }\n\n    public Shape getShape(){\n        return this.s;\n    }\n\n    public void paint(Graphics g) {\n\n        Graphics2D g2 = (Graphics2D) g;\n\n        g2.clearRect(0, 0, SIZEX, SIZEY);\n\n        g2.drawImage(iLoader.getBirdImage(this.getShape().getDireciton() == Directions.RIGHT ? Directions.RIGHT : Directions.LEFT), \n                0, 0, null);\n\n        g2.dispose();\n    }\n}\n</code></pre>\n<p>To paint this JLabel on the JFrame I have a Visual class which extends Thread in which run() method for each position change I repaint it. It all works fine but my only problem is the png background.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"score":0,"creation_date":1649420819,"post_id":71796912,"comment_id":126877219,"body_markdown":"The use of that status code is to indicate that the resource has been created and you provide the Location of said resource in the response. See [Docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201). To do what you want, look at this approach: https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity","body":"The use of that status code is to indicate that the resource has been created and you provide the Location of said resource in the response. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201\" rel=\"nofollow noreferrer\">Docs</a>. To do what you want, look at this approach: <a href=\"https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity\" title=\"how to return created status 201 http in responseentity\">stackoverflow.com/questions/62323734/&hellip;</a>"},{"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"score":0,"creation_date":1649420870,"post_id":71796912,"comment_id":126877248,"body_markdown":"Does this answer your question? [How to return CREATED status (201 HTTP) in ResponseEntity](https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity\">How to return CREATED status (201 HTTP) in ResponseEntity</a>"}],"answers":[{"tags":[],"owner":{"account_id":1753492,"reputation":9138,"user_id":1602049,"accept_rate":40,"display_name":"nitishagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649423871,"creation_date":1649423871,"answer_id":71797736,"question_id":71796912,"body_markdown":"Looking at the [docs][1], the key difference is as follows:\r\n- `ResponseEntity::ok` - returns &quot;*the created **ResponseEntity***&quot;\r\n- `ResponseEntity::created` - returns &quot;*the created **builder***&quot;\r\n\r\nSo, you need an additional step with `created` and call `.build()` to get expected behavior.Something like:\r\n```\r\n  ...result.map(uri -&gt; ResponseEntity.created(uri).build())...\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html","title":"How to return Http Status CREATED instead of OK","body":"<p>Looking at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">docs</a>, the key difference is as follows:</p>\n<ul>\n<li><code>ResponseEntity::ok</code> - returns &quot;<em>the created <strong>ResponseEntity</strong></em>&quot;</li>\n<li><code>ResponseEntity::created</code> - returns &quot;<em>the created <strong>builder</strong></em>&quot;</li>\n</ul>\n<p>So, you need an additional step with <code>created</code> and call <code>.build()</code> to get expected behavior.Something like:</p>\n<pre><code>  ...result.map(uri -&gt; ResponseEntity.created(uri).build())...\n</code></pre>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649423871,"creation_date":1649420505,"question_id":71796912,"body_markdown":"I have no idea why but I&#39;m not able to send http `created` instead of `ok` with my code.\r\n\r\nAny help??\r\n\r\n    Optional&lt;UserDTO&gt; result = userService.save(userDTO);\r\n    return result.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.badRequest().build()); // This works\r\n\r\nDoesn&#39;t work:\r\n\r\n     Optional&lt;UserDTO&gt; result = userService.save(userDTO);\r\n     return result.map(ResponseEntity::created).orElseGet(() -&gt; ResponseEntity.badRequest().build()); //error Incompatible types: UserDTO is not convertible to URI","title":"How to return Http Status CREATED instead of OK","body":"<p>I have no idea why but I'm not able to send http <code>created</code> instead of <code>ok</code> with my code.</p>\n<p>Any help??</p>\n<pre><code>Optional&lt;UserDTO&gt; result = userService.save(userDTO);\nreturn result.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.badRequest().build()); // This works\n</code></pre>\n<p>Doesn't work:</p>\n<pre><code> Optional&lt;UserDTO&gt; result = userService.save(userDTO);\n return result.map(ResponseEntity::created).orElseGet(() -&gt; ResponseEntity.badRequest().build()); //error Incompatible types: UserDTO is not convertible to URI\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1649448899,"post_id":71796597,"comment_id":126887298,"body_markdown":"This happens when something causes the bean that extends `WebMvcConfigurationSupport` to be created earlier then expected, and before the `ServletContext` is available. If you can share a minimal, reproducible example it should be possible to determine the cause of the early initialization.","body":"This happens when something causes the bean that extends <code>WebMvcConfigurationSupport</code> to be created earlier then expected, and before the <code>ServletContext</code> is available. If you can share a minimal, reproducible example it should be possible to determine the cause of the early initialization."},{"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"score":0,"creation_date":1649840325,"post_id":71796597,"comment_id":126975236,"body_markdown":"Yes indeed, a bean (`PropertySourcesPlaceholderConfigurer` in my case) declared in WebMvcConfiguration was the cause of this behaviour. I detected it in debug by adding a breakpoint for each bean. This bean was not necessary in the second application so I deleted it and it works fine now. Thank you for the lead you gave me.","body":"Yes indeed, a bean (<code>PropertySourcesPlaceholderConfigurer</code> in my case) declared in WebMvcConfiguration was the cause of this behaviour. I detected it in debug by adding a breakpoint for each bean. This bean was not necessary in the second application so I deleted it and it works fine now. Thank you for the lead you gave me."}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649423603,"creation_date":1649419048,"question_id":71796597,"body_markdown":"I have 2 spring boot applications.\r\nOne is working fine but for the second one I have the following error when starting the application:\r\n\r\n    Caused by: java.lang.IllegalStateException: No ServletContext set\r\n    \tat org.springframework.util.Assert.state(Assert.java:76)\r\n    \tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\r\n\r\nWhen I debug, the following method is called in first application but not in the second one:\r\n\r\n    WebMvcConfigurationSupport.setServletContext(@Nullable ServletContext servletContext)\r\n\r\nI saw in Spring that it is set by a call to `ServletContextAwareProcessor.postProcessBeforeInitialization(Object bean, String beanName)`. The `ServletContextAwareProcessor` is initialized with a `servletContext` (not null) for the first application but the `servletContext` is null for the second application.\r\n\r\nI do not understand why because all the configuration (WebMvcConfiguration, SecurityConfiguration, SwaggerConfiguration...) seems to be the same. Any idea?\r\n\r\nThank you.","title":"WebMvcConfiguration: WebMvcConfigurationSupport.setServletContext(@Nullable ServletContext servletContext)","body":"<p>I have 2 spring boot applications.\nOne is working fine but for the second one I have the following error when starting the application:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\n</code></pre>\n<p>When I debug, the following method is called in first application but not in the second one:</p>\n<pre><code>WebMvcConfigurationSupport.setServletContext(@Nullable ServletContext servletContext)\n</code></pre>\n<p>I saw in Spring that it is set by a call to <code>ServletContextAwareProcessor.postProcessBeforeInitialization(Object bean, String beanName)</code>. The <code>ServletContextAwareProcessor</code> is initialized with a <code>servletContext</code> (not null) for the first application but the <code>servletContext</code> is null for the second application.</p>\n<p>I do not understand why because all the configuration (WebMvcConfiguration, SecurityConfiguration, SwaggerConfiguration...) seems to be the same. Any idea?</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","mapping"],"comments":[{"owner":{"account_id":3213014,"reputation":2577,"user_id":2712553,"display_name":"Milan Gaty&#225;s"},"score":0,"creation_date":1649428341,"post_id":71797595,"comment_id":126880426,"body_markdown":"Probably it&#39;s not possible to do it in DynamoDB natively. You can do mapping in Java however, possibly with reflection to map the JSON model to the DB model","body":"Probably it&#39;s not possible to do it in DynamoDB natively. You can do mapping in Java however, possibly with reflection to map the JSON model to the DB model"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1649429677,"post_id":71797595,"comment_id":126881007,"body_markdown":"The Enhanced Client - that is part of the AWS SDK for Java V2 maps a Java class like Asset to a DynamoDB table. See this doc topic for more information - https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html","body":"The Enhanced Client - that is part of the AWS SDK for Java V2 maps a Java class like Asset to a DynamoDB table. See this doc topic for more information - <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":470951,"reputation":658,"user_id":878429,"accept_rate":33,"display_name":"corsair"},"score":0,"creation_date":1649531861,"post_id":71797595,"comment_id":126901241,"body_markdown":"To map &quot;id&quot; and &quot;listId&quot; is pretty simple, but how to populate the &quot;metaData&quot; property I do not have any idea.","body":"To map &quot;id&quot; and &quot;listId&quot; is pretty simple, but how to populate the &quot;metaData&quot; property I do not have any idea."},{"owner":{"account_id":1753492,"reputation":9138,"user_id":1602049,"accept_rate":40,"display_name":"nitishagar"},"score":0,"creation_date":1649694267,"post_id":71797595,"comment_id":126935687,"body_markdown":"@corsair I would prefer to go for &quot;metadata&quot; as key which holds this UUID map. But if you still are looking to go for dynamic attribute map, here is an issue where we have a custom attribute-convertor used: https://github.com/aws/aws-sdk-java-v2/issues/1902","body":"@corsair I would prefer to go for &quot;metadata&quot; as key which holds this UUID map. But if you still are looking to go for dynamic attribute map, here is an issue where we have a custom attribute-convertor used: <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1902\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java-v2/issues/1902</a>"}],"owner":{"account_id":470951,"reputation":658,"user_id":878429,"accept_rate":33,"display_name":"corsair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649423277,"creation_date":1649423277,"question_id":71797595,"body_markdown":"I try to find a way how to map the next json with a dynamic set of properties\r\n```json\r\n{\r\n  &quot;id&quot; : &quot;078c590a-f379-44d6-acfa-e4f4bf6d1c1e&quot;,\r\n  &quot;list_id&quot; : &quot;6a9b8285-c798-471a-912f-e8ab7492f935&quot;,\r\n\r\n  &quot;2b5b4df1-8f4d-4f6c-9c66-d5486c0639e9&quot; : &quot;USA&quot;,\r\n  &quot;1768bc2a-c0fd-403a-9770-974c7cf4f920&quot; : &quot;NY&quot;,\r\n  &quot;052d7982-4930-4fe8-91dc-e352a6e04112&quot; : &quot;5th avenue&quot;\r\n}\r\n```\r\nto the class\r\n```java\r\npublic static class Asset {\r\n   private String id;\r\n   private String listId;\r\n   private Map&lt;String, String&gt; metaData;\r\n   // all getters and setters\r\n}\r\n```\r\nusing the AWS DynamoDB enhanced client.\r\n","title":"AWS DynamoDB java enhanced client mapping of dynamic set of properties","body":"<p>I try to find a way how to map the next json with a dynamic set of properties</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot; : &quot;078c590a-f379-44d6-acfa-e4f4bf6d1c1e&quot;,\n  &quot;list_id&quot; : &quot;6a9b8285-c798-471a-912f-e8ab7492f935&quot;,\n\n  &quot;2b5b4df1-8f4d-4f6c-9c66-d5486c0639e9&quot; : &quot;USA&quot;,\n  &quot;1768bc2a-c0fd-403a-9770-974c7cf4f920&quot; : &quot;NY&quot;,\n  &quot;052d7982-4930-4fe8-91dc-e352a6e04112&quot; : &quot;5th avenue&quot;\n}\n</code></pre>\n<p>to the class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Asset {\n   private String id;\n   private String listId;\n   private Map&lt;String, String&gt; metaData;\n   // all getters and setters\n}\n</code></pre>\n<p>using the AWS DynamoDB enhanced client.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpql"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan Ä°lleez"},"score":0,"creation_date":1649406276,"post_id":71793723,"comment_id":126872001,"body_markdown":"You don&#39;t need to use complex query for post&#39;s comments","body":"You don&#39;t need to use complex query for post&#39;s comments"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan Ä°lleez"},"score":0,"creation_date":1649406309,"post_id":71793723,"comment_id":126872014,"body_markdown":"Are you using spring data ?","body":"Are you using spring data ?"},{"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"score":0,"creation_date":1649416484,"post_id":71793723,"comment_id":126875562,"body_markdown":"@GurkanÄ°lleez I am actually looking for Posts with comments of a particular user","body":"@GurkanÄ°lleez I am actually looking for Posts with comments of a particular user"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan Ä°lleez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649423264,"creation_date":1649406818,"answer_id":71793997,"question_id":71793723,"body_markdown":"    public interface PostRepository extends CrudRepository&lt;Integer, Post&gt; {\r\n\r\n        @Query(&quot;select p from Post p inner join p.comments c where c.userId =:userId&quot;)\r\n        List&lt;Post&gt; findByCommentsUserId(@Param(&quot;userId&quot;) Integer userId);\r\n    }\r\n\r\n    Set&lt;Post&gt; posts = new HashSet&lt;&gt;(findByCommentsUserId(&quot;anyUserId&quot;));\r\n\r\nI write this code without executing it so It is pseodocode but it will be similar","title":"JPQL complex One to Many join query result","body":"<pre><code>public interface PostRepository extends CrudRepository&lt;Integer, Post&gt; {\n\n    @Query(&quot;select p from Post p inner join p.comments c where c.userId =:userId&quot;)\n    List&lt;Post&gt; findByCommentsUserId(@Param(&quot;userId&quot;) Integer userId);\n}\n\nSet&lt;Post&gt; posts = new HashSet&lt;&gt;(findByCommentsUserId(&quot;anyUserId&quot;));\n</code></pre>\n<p>I write this code without executing it so It is pseodocode but it will be similar</p>\n"}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71793997,"answer_count":1,"score":0,"last_activity_date":1649423264,"creation_date":1649405461,"question_id":71793723,"body_markdown":"I have two simple DTOs,\r\n\r\n    class Post{\r\n       @Id\r\n       private int postId;\r\n       private String text;\r\n\r\n       @OneToMany(mappedBy = &quot;post&quot;) \r\n       private List&lt;Comment&gt; comments = new ArrayList&lt;Comment&gt;();\r\n    }\r\n    \r\n    class Comment{\r\n      @Id\r\n      private int commentId;\r\n      private int userId;\r\n      private into text;\r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;postId&quot;)\r\n      private Post post;\r\n    }\r\n\r\n- A post can have multiple comments by different users\r\n- A post can also have multiple comments by the same user\r\n\r\nNow, using JPQL, I want to find all the posts along with the user comments, where post has comment(s) by the given user.\r\n\r\nSo, essentially I want a list of &#39;Post&#39; objects along with the qualifying comments encapsulated in each post. \r\n\r\nSample SQL might look like this:\r\n\r\n    select *\r\n    from post p\r\n    inner join comment c\r\n      on p.post_id = c.post_id\r\n    where c.user_id = {given user id}","title":"JPQL complex One to Many join query result","body":"<p>I have two simple DTOs,</p>\n<pre><code>class Post{\n   @Id\n   private int postId;\n   private String text;\n\n   @OneToMany(mappedBy = &quot;post&quot;) \n   private List&lt;Comment&gt; comments = new ArrayList&lt;Comment&gt;();\n}\n\nclass Comment{\n  @Id\n  private int commentId;\n  private int userId;\n  private into text;\n  @ManyToOne\n  @JoinColumn(name = &quot;postId&quot;)\n  private Post post;\n}\n</code></pre>\n<ul>\n<li>A post can have multiple comments by different users</li>\n<li>A post can also have multiple comments by the same user</li>\n</ul>\n<p>Now, using JPQL, I want to find all the posts along with the user comments, where post has comment(s) by the given user.</p>\n<p>So, essentially I want a list of 'Post' objects along with the qualifying comments encapsulated in each post.</p>\n<p>Sample SQL might look like this:</p>\n<pre><code>select *\nfrom post p\ninner join comment c\n  on p.post_id = c.post_id\nwhere c.user_id = {given user id}\n</code></pre>\n"},{"tags":["java","mysql","spring","docker","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":488477,"reputation":34119,"user_id":1094246,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1649423048,"creation_date":1532554699,"answer_id":51528057,"question_id":51527683,"body_markdown":"Since this is not container to container communication you have to bind the MySQL port to a port in the host:\r\n\r\n    docker run -p 3306:3306 --name mysql-standalone -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa -e MYSQL_PASSWORD=password -d mysql:5.6\r\n               ^^^^^^^^^^^^\r\n\r\nAnd point to `localhost`:\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test\r\n","title":"java.net.UnknownHostException dockerized mysql from spring boot application","body":"<p>Since this is not container to container communication you have to bind the MySQL port to a port in the host:</p>\n<pre><code>docker run -p 3306:3306 --name mysql-standalone -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa -e MYSQL_PASSWORD=password -d mysql:5.6\n           ^^^^^^^^^^^^\n</code></pre>\n<p>And point to <code>localhost</code>:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3203248,"reputation":3773,"user_id":2704895,"accept_rate":33,"display_name":"sam100rav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1555796333,"creation_date":1555796333,"answer_id":55777970,"question_id":51527683,"body_markdown":"Run mysql container exposing the port as below.\r\n\r\n&gt; docker run --name mysql-standalone -e\r\n&gt; MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa\r\n&gt; -e MYSQL_PASSWORD=password -p 3306:3306 -d mysql:5.6\r\n\r\nAnd in you spring boot `application.properties` file, modify as below.\r\n\r\n&gt; spring.datasource.url = jdbc:mysql://localhost:3306/test?useSSL=false\r\n\r\nDon&#39;t forget to add `useSSL=false`, else you might get below error.\r\n\r\n    Spring Boot: Jdbc javax.net.ssl.SSLException: closing inbound before receiving peer&#39;s close_notify","title":"java.net.UnknownHostException dockerized mysql from spring boot application","body":"<p>Run mysql container exposing the port as below.</p>\n\n<blockquote>\n  <p>docker run --name mysql-standalone -e\n  MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa\n  -e MYSQL_PASSWORD=password -p 3306:3306 -d mysql:5.6</p>\n</blockquote>\n\n<p>And in you spring boot <code>application.properties</code> file, modify as below.</p>\n\n<blockquote>\n  <p>spring.datasource.url = jdbc:mysql://localhost:3306/test?useSSL=false</p>\n</blockquote>\n\n<p>Don't forget to add <code>useSSL=false</code>, else you might get below error.</p>\n\n<pre><code>Spring Boot: Jdbc javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify\n</code></pre>\n"}],"owner":{"account_id":1291294,"reputation":1764,"user_id":1243350,"accept_rate":72,"display_name":"Ugur Artun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8861,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":55777970,"answer_count":2,"score":10,"last_activity_date":1649423048,"creation_date":1532552934,"question_id":51527683,"body_markdown":"I have a spring boot application and dockerized mysql db.\nMy docker container is up and result of **docker ps** command below.\n\n    cf7936857c6f        mysql:5.6           &quot;docker-entrypoint.sâ¦&quot;   7 minutes ago       Up 7 minutes        3306/tcp            mysql-standalone\n\n\napplication properties file configuration here;\n\n\n&gt; spring.datasource.url = jdbc:mysql://mysql-standalone:3306/test\n&gt;\n&gt; spring.datasource.username = sa\n&gt;\n&gt; spring.datasource.password = password\n\n\n I have run mysql docker container like this\n\n    docker run --name mysql-standalone -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa -e MYSQL_PASSWORD=password -d mysql:5.6\n\nAnd when I try to start my spring boot application on IDE \nI have faced \n\n&gt; java.net.UnknownHostException: mysql-standalone\n\nIs there any missing configuration in my property file? ","title":"java.net.UnknownHostException dockerized mysql from spring boot application","body":"<p>I have a spring boot application and dockerized mysql db.\nMy docker container is up and result of <strong>docker ps</strong> command below.</p>\n<pre><code>cf7936857c6f        mysql:5.6           &quot;docker-entrypoint.sâ¦&quot;   7 minutes ago       Up 7 minutes        3306/tcp            mysql-standalone\n</code></pre>\n<p>application properties file configuration here;</p>\n<blockquote>\n<p>spring.datasource.url = jdbc:mysql://mysql-standalone:3306/test</p>\n<p>spring.datasource.username = sa</p>\n<p>spring.datasource.password = password</p>\n</blockquote>\n<p>I have run mysql docker container like this</p>\n<pre><code>docker run --name mysql-standalone -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=test -e MYSQL_USER=sa -e MYSQL_PASSWORD=password -d mysql:5.6\n</code></pre>\n<p>And when I try to start my spring boot application on IDE\nI have faced</p>\n<blockquote>\n<p>java.net.UnknownHostException: mysql-standalone</p>\n</blockquote>\n<p>Is there any missing configuration in my property file?</p>\n"},{"tags":["java","oracle","liquibase"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1483655998,"post_id":41494270,"comment_id":70198168,"body_markdown":"A regular user does not have access to `dba_tables` - maybe that&#39;s the problem. You should use `all_tables` instead (or even `user_tables`)","body":"A regular user does not have access to <code>dba_tables</code> - maybe that&#39;s the problem. You should use <code>all_tables</code> instead (or even <code>user_tables</code>)"}],"answers":[{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483649733,"creation_date":1483649733,"answer_id":41494553,"question_id":41494270,"body_markdown":"Never mind, I solved this myself\r\n\r\nThe ordering of the precondition was important, updated to the following, it ran fine this time \r\n\r\n    --liquibase formatted sql\r\n    \r\n    --changeset nvoxland:3\r\n    --preconditions onFail:MARK_RAN onError:MARK_RAN\r\n    --precondition-sql-check expectedResult:0 select COUNT(*) C from dba_tables where UPPER(table_name) = &#39;PERSON&#39; and upper(owner) = &#39;INT&#39;\r\n    create table int.person (\r\n      id int not null primary key,\r\n      firstname varchar(80),\r\n      lastname varchar(80) not null,\r\n      state varchar(2)\r\n    );","title":"Liquibase sql precondition is not checked","body":"<p>Never mind, I solved this myself</p>\n\n<p>The ordering of the precondition was important, updated to the following, it ran fine this time </p>\n\n<pre><code>--liquibase formatted sql\n\n--changeset nvoxland:3\n--preconditions onFail:MARK_RAN onError:MARK_RAN\n--precondition-sql-check expectedResult:0 select COUNT(*) C from dba_tables where UPPER(table_name) = 'PERSON' and upper(owner) = 'INT'\ncreate table int.person (\n  id int not null primary key,\n  firstname varchar(80),\n  lastname varchar(80) not null,\n  state varchar(2)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4238400,"reputation":111,"user_id":3468985,"display_name":"Bhanu Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649422933,"creation_date":1649422933,"answer_id":71797518,"question_id":41494270,"body_markdown":"-- noinspection SqlNoDataSourceInspectionForFile \r\n\r\ncan cause the same problem\r\n\r\nremove it \r\n","title":"Liquibase sql precondition is not checked","body":"<p>-- noinspection SqlNoDataSourceInspectionForFile</p>\n<p>can cause the same problem</p>\n<p>remove it</p>\n"}],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649422933,"creation_date":1483648730,"question_id":41494270,"body_markdown":"I have multiple changelogs and one of the change log has the precondition on it to check if table exists, if so, skip running the migration. \r\n\r\nMy change log file\r\n\r\n\r\n    --liquibase formatted sql\r\n    \r\n    --preconditions onFail:MARK_RAN onError:MARK_RAN\r\n    --precondition-sql-check expectedResult:0 select COUNT(*) C from dba_tables where UPPER(table_name) = &#39;PERSON&#39; and upper(owner) = &#39;INT&#39;\r\n    \r\n    --changeset nvoxland:3\r\n    create table int.person (\r\n      id int not null primary key,\r\n      firstname varchar(80),\r\n      lastname varchar(80) not null,\r\n      state varchar(2)\r\n    );\r\n\r\nThe precondition is never checked, it directly goes to creating the &#39;person&#39; table. I have this table in this db instance because of the refresh, i&#39;d like this migration to run if it does not exist and skip on precondition. \r\n\r\n**error I get** \r\n\r\n\r\n    C:\\Project\\Tools\\liquibase-3.5.3-bin&gt;liquibase --driver=oracle.jdbc.driver.Oracl\r\n    eDriver --changeLogFile=C:\\Project\\Tools\\Migrations\\liquibase\\master.xml --url=&quot;\r\n    jdbc:oracle:thin:@database:1521:name&quot; --username=user --password=dpass migrate\r\n    Unexpected error running Liquibase: ORA-00955: name is already used by an existi\r\n    ng object\r\n     [Failed SQL: create table int.person (\r\n      id int not null primary key,\r\n      firstname varchar(80),\r\n      lastname varchar(80) not null,\r\n      state varchar(2)\r\n    )]","title":"Liquibase sql precondition is not checked","body":"<p>I have multiple changelogs and one of the change log has the precondition on it to check if table exists, if so, skip running the migration. </p>\n\n<p>My change log file</p>\n\n<pre><code>--liquibase formatted sql\n\n--preconditions onFail:MARK_RAN onError:MARK_RAN\n--precondition-sql-check expectedResult:0 select COUNT(*) C from dba_tables where UPPER(table_name) = 'PERSON' and upper(owner) = 'INT'\n\n--changeset nvoxland:3\ncreate table int.person (\n  id int not null primary key,\n  firstname varchar(80),\n  lastname varchar(80) not null,\n  state varchar(2)\n);\n</code></pre>\n\n<p>The precondition is never checked, it directly goes to creating the 'person' table. I have this table in this db instance because of the refresh, i'd like this migration to run if it does not exist and skip on precondition. </p>\n\n<p><strong>error I get</strong> </p>\n\n<pre><code>C:\\Project\\Tools\\liquibase-3.5.3-bin&gt;liquibase --driver=oracle.jdbc.driver.Oracl\neDriver --changeLogFile=C:\\Project\\Tools\\Migrations\\liquibase\\master.xml --url=\"\njdbc:oracle:thin:@database:1521:name\" --username=user --password=dpass migrate\nUnexpected error running Liquibase: ORA-00955: name is already used by an existi\nng object\n [Failed SQL: create table int.person (\n  id int not null primary key,\n  firstname varchar(80),\n  lastname varchar(80) not null,\n  state varchar(2)\n)]\n</code></pre>\n"},{"tags":["java","spring","angular","auth0","sockjs"],"answers":[{"tags":[],"owner":{"account_id":6761817,"reputation":1032,"user_id":5208282,"display_name":"VikingCode"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1492168078,"creation_date":1492158746,"answer_id":43408007,"question_id":43114750,"body_markdown":"This has nothing to do with your spring or angular app code. \r\n\r\n**Intro to your problem**&lt;br /&gt;\r\nThe **Access-Control-Allow-Origin** is a part of CORS *(Cross-Origin Resource Sharing)* mechanism that gives web servers cross-domain access controls. It is in place to protect your app/site from CSRF *(Cross-Site Request Forgery)*.\r\n\r\n[CORS][1] / [CSRF][2]\r\n\r\n**The problem**&lt;br /&gt;\r\nNow if we read your error carefully \r\n\r\n    The value of the &#39;Access-Control-Allow-Origin&#39; header in the response must \r\n    not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;. \r\n    Origin &#39;http://localhost:4200&#39; is therefore not allowed access.\r\n\r\nIt says that **Access-Control-Allow-Origin** header cannot be a wildcard.\r\n\r\nWith other words, now your back-end is saying everybody from allover the web can run code on my site. \r\n\r\n**What we want to achieve**: Limit the origin to only your front-end app (ng2). \r\n\r\n**Solution**\r\nNow because you are using Spring I will assume that you are using it with Apache Tomcat as your back-end webserver.\r\n\r\nCORS are difined as filter in your web.conf (tomcat folder)\r\n\r\nfind this line \r\n\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n      &lt;param-value&gt;*&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nand change the * to http://localhost:4200\r\n\r\nfor more information about config of CORS in Tomcat [please read this][3]\r\n\r\n**EDIT** ( Spring boot ) &lt;br /&gt;\r\nBecause you are using spring boot, you can delegate configuration of cors to the framework. \r\n\r\nPlease follow [this tutorial on spring.io][4] ( like chsdk proposed )to get a better grasp of CORS configuration with spring boot . \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\r\n  [2]: https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)\r\n  [3]: https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\r\n  [4]: https://spring.io/guides/gs/rest-service-cors/","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p>This has nothing to do with your spring or angular app code. </p>\n\n<p><strong>Intro to your problem</strong><br />\nThe <strong>Access-Control-Allow-Origin</strong> is a part of CORS <em>(Cross-Origin Resource Sharing)</em> mechanism that gives web servers cross-domain access controls. It is in place to protect your app/site from CSRF <em>(Cross-Site Request Forgery)</em>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" rel=\"nofollow noreferrer\">CORS</a> / <a href=\"https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)\" rel=\"nofollow noreferrer\">CSRF</a></p>\n\n<p><strong>The problem</strong><br />\nNow if we read your error carefully </p>\n\n<pre><code>The value of the 'Access-Control-Allow-Origin' header in the response must \nnot be the wildcard '*' when the request's credentials mode is 'include'. \nOrigin 'http://localhost:4200' is therefore not allowed access.\n</code></pre>\n\n<p>It says that <strong>Access-Control-Allow-Origin</strong> header cannot be a wildcard.</p>\n\n<p>With other words, now your back-end is saying everybody from allover the web can run code on my site. </p>\n\n<p><strong>What we want to achieve</strong>: Limit the origin to only your front-end app (ng2). </p>\n\n<p><strong>Solution</strong>\nNow because you are using Spring I will assume that you are using it with Apache Tomcat as your back-end webserver.</p>\n\n<p>CORS are difined as filter in your web.conf (tomcat folder)</p>\n\n<p>find this line </p>\n\n<pre><code>&lt;init-param&gt;\n  &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n  &lt;param-value&gt;*&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>and change the * to <a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a></p>\n\n<p>for more information about config of CORS in Tomcat <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\" rel=\"nofollow noreferrer\">please read this</a></p>\n\n<p><strong>EDIT</strong> ( Spring boot ) <br />\nBecause you are using spring boot, you can delegate configuration of cors to the framework. </p>\n\n<p>Please follow <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">this tutorial on spring.io</a> ( like chsdk proposed )to get a better grasp of CORS configuration with spring boot . </p>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cÐ½Ådk"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1492167968,"creation_date":1492162938,"answer_id":43409061,"question_id":43114750,"body_markdown":"**Problem:**\r\n\r\nYou are not configuring `&#39;Access-Control-Allow-Origin&#39;` correctly and your current configuration is simply ignored by the server.\r\n\r\n**Situation:**\r\n\r\nThe Error stack trace says:\r\n\r\n&gt;  The value of the `&#39;Access-Control-Allow-Origin&#39;` header in the response must not be the wildcard `&#39;*&#39;` when the request&#39;s credentials mode is &#39;include&#39;. Origin &#39;http://localhost:4200&#39; is therefore not allowed access.\r\n\r\n\r\nIt means that apart from the fact that you can&#39;t set `&#39;Access-Control-Allow-Origin&#39;` to the wildcard `&quot;*&quot;`, your domain `&#39;http://localhost:4200&#39;` is not allowed access too.\r\n\r\nTo answer your question:\r\n\r\n&gt; How can I resolve this when I&#39;ve already set the allowed origin in the WebSocketConfig to the client domain?\r\n\r\n**Solution:**\r\n\r\nI guess you don&#39;t need to set the allowed origin in the `WebSocketConfig` because it&#39;s meant to configure *WebSocket-style messaging in web applications* as stated in [**WebSocket Support** in Spring documentation](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html), you will need to configure it in a `CORSFilter` configuration class as it&#39;s meant to configure Spring Filters for Web application access.\r\n\r\nThis is what you will need in your `CORSFilter.java` configuration class:\r\n\r\n\r\n    public class CORSFilter implements Filter {\r\n\r\n    \t// This is to be replaced with a list of domains allowed to access the server\r\n      //You can include more than one origin here\r\n    \tprivate final List&lt;String&gt; allowedOrigins = Arrays.asList(&quot;http://localhost:4200&quot;); \r\n\r\n    \tpublic void destroy() {\r\n    \t\t\r\n    \t}\r\n\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\t// Lets make sure that we are working with HTTP (that is, against HttpServletRequest and HttpServletResponse objects)\r\n    \t\tif (req instanceof HttpServletRequest &amp;&amp; res instanceof HttpServletResponse) {\r\n    \t\t\tHttpServletRequest request = (HttpServletRequest) req;\r\n    \t\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\r\n    \t\t\t// Access-Control-Allow-Origin\r\n    \t\t\tString origin = request.getHeader(&quot;Origin&quot;);\r\n    \t\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, allowedOrigins.contains(origin) ? origin : &quot;&quot;);\r\n    \t\t\tresponse.setHeader(&quot;Vary&quot;, &quot;Origin&quot;);\r\n\r\n    \t\t\t// Access-Control-Max-Age\r\n    \t\t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\r\n    \t\t\t// Access-Control-Allow-Credentials\r\n    \t\t\tresponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\r\n    \t\t\t// Access-Control-Allow-Methods\r\n    \t\t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n\r\n    \t\t\t// Access-Control-Allow-Headers\r\n    \t\t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;,\r\n    \t\t\t\t&quot;Origin, X-Requested-With, Content-Type, Accept, &quot; + &quot;X-CSRF-TOKEN&quot;);\r\n    \t\t}\r\n\r\n    \t\tchain.doFilter(req, res);\r\n    \t}\r\n\r\n    \tpublic void init(FilterConfig filterConfig) {\r\n    \t}\r\n    }\r\n\r\nYou can see the use of :\r\n\r\n    private final List&lt;String&gt; allowedOrigins = Arrays.asList(&quot;http://localhost:4200&quot;);\r\n\r\nTo set the list of domains allowed to access the server.\r\n\r\n\r\n**References:**\r\n\r\nYou may need to take a look at [**CORS support in Spring Framework**](https://spring.io/blog/2015/06/08/cors-support-in-spring-framework) and [**Enabling Cross Origin Requests for a RESTful Web Service**](https://spring.io/guides/gs/rest-service-cors/) for further reading about it.\r\n\r\n","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p><strong>Problem:</strong></p>\n\n<p>You are not configuring <code>'Access-Control-Allow-Origin'</code> correctly and your current configuration is simply ignored by the server.</p>\n\n<p><strong>Situation:</strong></p>\n\n<p>The Error stack trace says:</p>\n\n<blockquote>\n  <p>The value of the <code>'Access-Control-Allow-Origin'</code> header in the response must not be the wildcard <code>'*'</code> when the request's credentials mode is 'include'. Origin '<a href=\"http://localhost:4200\" rel=\"noreferrer\">http://localhost:4200</a>' is therefore not allowed access.</p>\n</blockquote>\n\n<p>It means that apart from the fact that you can't set <code>'Access-Control-Allow-Origin'</code> to the wildcard <code>\"*\"</code>, your domain <code>'http://localhost:4200'</code> is not allowed access too.</p>\n\n<p>To answer your question:</p>\n\n<blockquote>\n  <p>How can I resolve this when I've already set the allowed origin in the WebSocketConfig to the client domain?</p>\n</blockquote>\n\n<p><strong>Solution:</strong></p>\n\n<p>I guess you don't need to set the allowed origin in the <code>WebSocketConfig</code> because it's meant to configure <em>WebSocket-style messaging in web applications</em> as stated in <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html\" rel=\"noreferrer\"><strong>WebSocket Support</strong> in Spring documentation</a>, you will need to configure it in a <code>CORSFilter</code> configuration class as it's meant to configure Spring Filters for Web application access.</p>\n\n<p>This is what you will need in your <code>CORSFilter.java</code> configuration class:</p>\n\n<pre><code>public class CORSFilter implements Filter {\n\n    // This is to be replaced with a list of domains allowed to access the server\n  //You can include more than one origin here\n    private final List&lt;String&gt; allowedOrigins = Arrays.asList(\"http://localhost:4200\"); \n\n    public void destroy() {\n\n    }\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        // Lets make sure that we are working with HTTP (that is, against HttpServletRequest and HttpServletResponse objects)\n        if (req instanceof HttpServletRequest &amp;&amp; res instanceof HttpServletResponse) {\n            HttpServletRequest request = (HttpServletRequest) req;\n            HttpServletResponse response = (HttpServletResponse) res;\n\n            // Access-Control-Allow-Origin\n            String origin = request.getHeader(\"Origin\");\n            response.setHeader(\"Access-Control-Allow-Origin\", allowedOrigins.contains(origin) ? origin : \"\");\n            response.setHeader(\"Vary\", \"Origin\");\n\n            // Access-Control-Max-Age\n            response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n\n            // Access-Control-Allow-Credentials\n            response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n\n            // Access-Control-Allow-Methods\n            response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n\n            // Access-Control-Allow-Headers\n            response.setHeader(\"Access-Control-Allow-Headers\",\n                \"Origin, X-Requested-With, Content-Type, Accept, \" + \"X-CSRF-TOKEN\");\n        }\n\n        chain.doFilter(req, res);\n    }\n\n    public void init(FilterConfig filterConfig) {\n    }\n}\n</code></pre>\n\n<p>You can see the use of :</p>\n\n<pre><code>private final List&lt;String&gt; allowedOrigins = Arrays.asList(\"http://localhost:4200\");\n</code></pre>\n\n<p>To set the list of domains allowed to access the server.</p>\n\n<p><strong>References:</strong></p>\n\n<p>You may need to take a look at <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"noreferrer\"><strong>CORS support in Spring Framework</strong></a> and <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"noreferrer\"><strong>Enabling Cross Origin Requests for a RESTful Web Service</strong></a> for further reading about it.</p>\n"},{"tags":[],"owner":{"account_id":8404205,"reputation":111,"user_id":6308200,"display_name":"Wentao Wan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1499080295,"creation_date":1499080295,"answer_id":44884105,"question_id":43114750,"body_markdown":"Just add `.setAllowedOrigins(&quot;*&quot;)` at webSocket config.\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\r\n        stompEndpointRegistry.addEndpoint(&quot;/yourEndpoint&quot;);\r\n        stompEndpointRegistry.addEndpoint(&quot;/yourEndpoint&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }\r\nThe version of webSocket is 1.4.1.RELEASE,you should update your version if the method wasn&#39;t shown.","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p>Just add <code>.setAllowedOrigins(\"*\")</code> at webSocket config.</p>\n\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\n    stompEndpointRegistry.addEndpoint(\"/yourEndpoint\");\n    stompEndpointRegistry.addEndpoint(\"/yourEndpoint\").setAllowedOrigins(\"*\").withSockJS();\n}\n</code></pre>\n\n<p>The version of webSocket is 1.4.1.RELEASE,you should update your version if the method wasn't shown.</p>\n"},{"tags":[],"owner":{"account_id":12108734,"reputation":340,"user_id":8846445,"accept_rate":75,"display_name":"BenFarhat Souhaib"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518980824,"creation_date":1518980824,"answer_id":48855487,"question_id":43114750,"body_markdown":"my answer is too late but i&#39;m posting this if anyone could face the same problem, i&#39;ve been facing the same cross-origin issue.\r\n\r\nBasically if you are using Spring Security implemented on your server side application, Probably it is he who blocks websocket handshaker\r\n\r\n\r\n\r\n***You have to tell Spring security to allow your websocket endpoints in order to allow socket handshake...***\r\nusing \r\n\r\n    .antMatchers(&quot;/socket/**&quot;).permitAll()\r\n\r\n\r\nSo sockjs will be able now to send a GET (Http) request for handshaking before switching to Websocket protocol\r\n\r\n\r\n**This is Spring security Configuration**\r\n\r\n    package org.souhaib.caremy.security.module.config;\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint).and()\r\n                .authorizeRequests()\r\n                .antMatchers(SecurityParams.PUBLIC_ROUTES).permitAll()\r\n                .antMatchers(&quot;/socket/**&quot;).permitAll();\r\n\r\n        http.csrf().disable();\r\n    }}\r\n\r\n\r\n**This is WebSocket Broker configuration**\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/socket&quot;)\r\n                    .setAllowedOrigins(&quot;http://localhost:4200&quot;)\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;)\r\n                    .enableSimpleBroker(&quot;/chat&quot;);\r\n        }\r\n    }","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p>my answer is too late but i'm posting this if anyone could face the same problem, i've been facing the same cross-origin issue.</p>\n\n<p>Basically if you are using Spring Security implemented on your server side application, Probably it is he who blocks websocket handshaker</p>\n\n<p><strong><em>You have to tell Spring security to allow your websocket endpoints in order to allow socket handshake...</em></strong>\nusing </p>\n\n<pre><code>.antMatchers(\"/socket/**\").permitAll()\n</code></pre>\n\n<p>So sockjs will be able now to send a GET (Http) request for handshaking before switching to Websocket protocol</p>\n\n<p><strong>This is Spring security Configuration</strong></p>\n\n<pre><code>package org.souhaib.caremy.security.module.config;\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint).and()\n            .authorizeRequests()\n            .antMatchers(SecurityParams.PUBLIC_ROUTES).permitAll()\n            .antMatchers(\"/socket/**\").permitAll();\n\n    http.csrf().disable();\n}}\n</code></pre>\n\n<p><strong>This is WebSocket Broker configuration</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(\"/socket\")\n                .setAllowedOrigins(\"http://localhost:4200\")\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.setApplicationDestinationPrefixes(\"/app\")\n                .enableSimpleBroker(\"/chat\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17607784,"reputation":141,"user_id":12776496,"display_name":"Mukendi Emmanuel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649422809,"creation_date":1649422196,"answer_id":71797323,"question_id":43114750,"body_markdown":"you just need to configure your Cors like this below\r\n\r\nand othorize OPTION method as given in my class\r\n\r\n        @Component\r\n    public class CORSFilter extends GenericFilterBean {\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            String origin = request.getHeader(&quot;Origin&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, origin );\r\n    \r\n                 response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;authorization, content-type, xsrf-token, Sec-Fetch-Mode, Sec-Fetch-Site, Sec-Fetch-Dest&quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\r\n            if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n\r\n\r\n\r\npay attention to this code. because it will redirect the first OPTION request from browser\r\n\r\n    if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n\r\n\r\nat this line of configuration you allow credentials\r\n        \r\n\r\n     response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\r\nand from this line you accept every orgin it will take de browser orgin it&#39;s not recommanded but ...\r\n\r\n    String origin = request.getHeader(&quot;Origin&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, origin );","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p>you just need to configure your Cors like this below</p>\n<p>and othorize OPTION method as given in my class</p>\n<pre><code>    @Component\npublic class CORSFilter extends GenericFilterBean {\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        String origin = request.getHeader(&quot;Origin&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, origin );\n\n             response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;authorization, content-type, xsrf-token, Sec-Fetch-Mode, Sec-Fetch-Site, Sec-Fetch-Dest&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\n        if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n</code></pre>\n<p>pay attention to this code. because it will redirect the first OPTION request from browser</p>\n<pre><code>if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n</code></pre>\n<p>at this line of configuration you allow credentials</p>\n<pre><code> response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n</code></pre>\n<p>and from this line you accept every orgin it will take de browser orgin it's not recommanded but ...</p>\n<pre><code>String origin = request.getHeader(&quot;Origin&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, origin );\n</code></pre>\n"}],"owner":{"account_id":6210533,"reputation":1313,"user_id":4836952,"accept_rate":50,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129848,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":43409061,"answer_count":5,"score":50,"last_activity_date":1649422809,"creation_date":1490868561,"question_id":43114750,"body_markdown":"I&#39;m using `Auth0` for my user authentication to only allow logged in users to access a Spring (Boot) `RestController`. At this point I&#39;m creating a real-time message functionality where users can send messages from the `Angular 2` client (`localhost:4200`) to the Spring server (localhost:8081) using `stompjs` and `sockjs`.\r\n\r\nWhen trying to create a Stomp-client and starting a connection I receive the following console-error:\r\n\r\n     The value of the &#39;Access-Control-Allow-Origin&#39; header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;. Origin &#39;http://localhost:4200&#39; is therefore not allowed access. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\r\n\r\nAfter researching this problem it looks like it is not possible to set the option origins = * and credentials = true at the same time. How can I resolve this when I&#39;ve already set the allowed origin in the WebSocketConfig to the client domain?\r\n\r\nAngular 2 component\r\n\r\n    connect() {\r\n\t\tvar socket = new SockJS(&#39;http://localhost:8081/chat&#39;);\r\n\t\tthis.stompClient = Stomp.over(socket);  \r\n\t\tthis.stompClient.connect({}, function(result) {\r\n\t\t\tconsole.log(&#39;Connected: &#39; + result);\r\n\t\t\tthis.stompClient.subscribe(&#39;/topic/messages&#39;, function(message) {\r\n\t\t\t\tconsole.log(message);\r\n\t\t\t});\r\n\t\t});\r\n\t}    \r\n\r\nWebSocketConfig \r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/chat&quot;).setAllowedOrigins(&quot;http://localhost:4200&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\nlocalhost:8081/chat/info?t=1490866768565\r\n\r\n    {&quot;entropy&quot;:-1720701276,&quot;origins&quot;:[&quot;*:*&quot;],&quot;cookie_needed&quot;:true,&quot;websocket&quot;:true}\r\n\r\nMessageController \r\n\r\n    public class MessageController {\r\n        @MessageMapping(&quot;/chat&quot;)\r\n        @SendTo(&quot;/topic/messages&quot;)\r\n        public Message send(Message message) throws Exception {\r\n            return new Message(message.getFrom(), message.getText());\r\n        }\r\n    }\r\n\r\n\r\nSecurityConfig (temporarily permits all)\r\n\r\n    public class SecurityConfig extends Auth0SecurityConfig {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().anyRequest().permitAll();\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nAfter some more testing and researching it seems that the problem only happens using Chrome. Problem maybe related to: https://github.com/sockjs/sockjs-node/issues/177\r\n\r\n**UPDATE**\r\n\r\nI created the CORSFilter like chsdk mentioned and used the addFilterBefore() method: https://stackoverflow.com/a/40300363/4836952.\r\n\r\n    @Bean\r\n    CORSFilter corsFilter() {\r\n        CORSFilter filter = new CORSFilter();\r\n        return filter;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.addFilterBefore(corsFilter(), SessionManagementFilter.class).authorizeRequests().anyRequest().permitAll();\r\n        http.csrf().disable();\r\n    }\r\n\r\nI can see that the Filter is called by debugging it but the error message keeps appearing on the clientside even if the correct Access-Control-Allow-Origin gets set:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/BK1Ux.png","title":"Header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;","body":"<p>I'm using <code>Auth0</code> for my user authentication to only allow logged in users to access a Spring (Boot) <code>RestController</code>. At this point I'm creating a real-time message functionality where users can send messages from the <code>Angular 2</code> client (<code>localhost:4200</code>) to the Spring server (localhost:8081) using <code>stompjs</code> and <code>sockjs</code>.</p>\n\n<p>When trying to create a Stomp-client and starting a connection I receive the following console-error:</p>\n\n<pre><code> The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. Origin 'http://localhost:4200' is therefore not allowed access. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\n</code></pre>\n\n<p>After researching this problem it looks like it is not possible to set the option origins = * and credentials = true at the same time. How can I resolve this when I've already set the allowed origin in the WebSocketConfig to the client domain?</p>\n\n<p>Angular 2 component</p>\n\n<pre><code>connect() {\n    var socket = new SockJS('http://localhost:8081/chat');\n    this.stompClient = Stomp.over(socket);  \n    this.stompClient.connect({}, function(result) {\n        console.log('Connected: ' + result);\n        this.stompClient.subscribe('/topic/messages', function(message) {\n            console.log(message);\n        });\n    });\n}    \n</code></pre>\n\n<p>WebSocketConfig </p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(\"/topic\");\n        config.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(\"/chat\").setAllowedOrigins(\"http://localhost:4200\").withSockJS();\n    }\n}\n</code></pre>\n\n<p>localhost:8081/chat/info?t=1490866768565</p>\n\n<pre><code>{\"entropy\":-1720701276,\"origins\":[\"*:*\"],\"cookie_needed\":true,\"websocket\":true}\n</code></pre>\n\n<p>MessageController </p>\n\n<pre><code>public class MessageController {\n    @MessageMapping(\"/chat\")\n    @SendTo(\"/topic/messages\")\n    public Message send(Message message) throws Exception {\n        return new Message(message.getFrom(), message.getText());\n    }\n}\n</code></pre>\n\n<p>SecurityConfig (temporarily permits all)</p>\n\n<pre><code>public class SecurityConfig extends Auth0SecurityConfig {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After some more testing and researching it seems that the problem only happens using Chrome. Problem maybe related to: <a href=\"https://github.com/sockjs/sockjs-node/issues/177\" rel=\"noreferrer\">https://github.com/sockjs/sockjs-node/issues/177</a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I created the CORSFilter like chsdk mentioned and used the addFilterBefore() method: <a href=\"https://stackoverflow.com/a/40300363/4836952\">https://stackoverflow.com/a/40300363/4836952</a>.</p>\n\n<pre><code>@Bean\nCORSFilter corsFilter() {\n    CORSFilter filter = new CORSFilter();\n    return filter;\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.addFilterBefore(corsFilter(), SessionManagementFilter.class).authorizeRequests().anyRequest().permitAll();\n    http.csrf().disable();\n}\n</code></pre>\n\n<p>I can see that the Filter is called by debugging it but the error message keeps appearing on the clientside even if the correct Access-Control-Allow-Origin gets set:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BK1Ux.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BK1Ux.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1449574533,"post_id":34154804,"comment_id":56056462,"body_markdown":"Did you try `h2` instead of `H2`?","body":"Did you try <code>h2</code> instead of <code>H2</code>?"},{"owner":{"account_id":4771126,"reputation":163,"user_id":3855849,"accept_rate":18,"display_name":"Pankaj Sharma"},"score":0,"creation_date":1449574618,"post_id":34154804,"comment_id":56056512,"body_markdown":"Yes I tried that only first but still not working. I am getting output as 85 however there is no h2 tag on my page.","body":"Yes I tried that only first but still not working. I am getting output as 85 however there is no h2 tag on my page."},{"owner":{"account_id":4771126,"reputation":163,"user_id":3855849,"accept_rate":18,"display_name":"Pankaj Sharma"},"score":0,"creation_date":1450800717,"post_id":34154804,"comment_id":56581255,"body_markdown":"Can anyone please help me with this.","body":"Can anyone please help me with this."}],"answers":[{"tags":[],"owner":{"account_id":7955034,"reputation":2789,"user_id":6004650,"accept_rate":80,"display_name":"MikeJRamsey56"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456940670,"creation_date":1456940670,"answer_id":35754464,"question_id":34154804,"body_markdown":"It is possible that the page is not yet fully loaded.  Well it is loaded but JavaScript may still be adding elements.  If the h2 elements are deeply embedded in HTML it might help to find an element higher in the path and then do your findElement for the h2 tags on that intermediate WebElement (shortens the search; you wouldn&#39;t want that search to timeout before it reaches the h2 tags).","title":"Selenium java code to find number of H2 tag on web page","body":"<p>It is possible that the page is not yet fully loaded.  Well it is loaded but JavaScript may still be adding elements.  If the h2 elements are deeply embedded in HTML it might help to find an element higher in the path and then do your findElement for the h2 tags on that intermediate WebElement (shortens the search; you wouldn't want that search to timeout before it reaches the h2 tags).</p>\n"},{"tags":[],"owner":{"account_id":24869162,"reputation":1,"user_id":18743883,"display_name":"user18743883"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649422596,"creation_date":1649400478,"answer_id":71792768,"question_id":34154804,"body_markdown":"This is an example code to extract h2 tags using Java:\r\n\r\n    String Tag = &quot;h2&quot;; \r\n\tList&lt;WebElement&gt; myTags =  driver.findElements(By.tagName(Tag));\r\n\t// now extracting the value \r\n\t// this for loop will print/extract all the values for tag &#39;H2&#39;.\r\n\tfor(int l=0;l&lt;myTags.size();l++){\r\n    \t// extracting tags text\r\n\t    String value_h2 = myTags.get(l).getText();\r\n    \tSystem.out.println(Tag + &quot;is : &quot; + myTags.get(l).getText());\r\n    }","title":"Selenium java code to find number of H2 tag on web page","body":"<p>This is an example code to extract h2 tags using Java:</p>\n<pre><code>String Tag = &quot;h2&quot;; \nList&lt;WebElement&gt; myTags =  driver.findElements(By.tagName(Tag));\n// now extracting the value \n// this for loop will print/extract all the values for tag 'H2'.\nfor(int l=0;l&lt;myTags.size();l++){\n    // extracting tags text\n    String value_h2 = myTags.get(l).getText();\n    System.out.println(Tag + &quot;is : &quot; + myTags.get(l).getText());\n}\n</code></pre>\n"}],"owner":{"account_id":4771126,"reputation":163,"user_id":3855849,"accept_rate":18,"display_name":"Pankaj Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649422596,"creation_date":1449574366,"question_id":34154804,"body_markdown":"Please suggest a code to find total number of H2 tags on a web page.\r\n\r\nBelow is my code but giving incorrect output\r\n\r\nURL to check: http://www.marksandspencer.com/l/lingerie/sexy-lingerie\r\n\r\n    public class H1andh2 {\r\n      WebDriver driver;\r\n    \t@BeforeTest\r\n    \tpublic void beforeTest(){\r\n    \t\tdriver= new FirefoxDriver();\r\n    \t}\r\n    \t\r\n    \t\r\n      @Test(priority=2)\r\n      public void pid(){\r\n      \t\t\r\n      \t\tdriver.get(&quot;http://www.marksandspencer.com/l/lingerie/sexy-lingerie&quot;);\r\n      \t\tList&lt;WebElement&gt; h1= driver.findElements(By.tagName(&quot;h1&quot;));\r\n      \t\tSystem.out.println(&quot;number of H1 tags are:&quot;+ h1.size());\r\n      \t\tList&lt;WebElement&gt; h2= driver.findElements(By.tagName(&quot;H2&quot;));\r\n      \t\tSystem.out.println(&quot;number of H2 tags are:&quot;+ h2.size());\r\n      \t\t\r\n      \t\r\n      \t}\r\n    }","title":"Selenium java code to find number of H2 tag on web page","body":"<p>Please suggest a code to find total number of H2 tags on a web page.</p>\n\n<p>Below is my code but giving incorrect output</p>\n\n<p>URL to check: <a href=\"http://www.marksandspencer.com/l/lingerie/sexy-lingerie\" rel=\"nofollow\">http://www.marksandspencer.com/l/lingerie/sexy-lingerie</a></p>\n\n<pre><code>public class H1andh2 {\n  WebDriver driver;\n    @BeforeTest\n    public void beforeTest(){\n        driver= new FirefoxDriver();\n    }\n\n\n  @Test(priority=2)\n  public void pid(){\n\n        driver.get(\"http://www.marksandspencer.com/l/lingerie/sexy-lingerie\");\n        List&lt;WebElement&gt; h1= driver.findElements(By.tagName(\"h1\"));\n        System.out.println(\"number of H1 tags are:\"+ h1.size());\n        List&lt;WebElement&gt; h2= driver.findElements(By.tagName(\"H2\"));\n        System.out.println(\"number of H2 tags are:\"+ h2.size());\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","hql","distinct","one-to-many"],"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":1,"creation_date":1378944501,"post_id":18753245,"comment_id":27643216,"body_markdown":"why you make `left join`, just simple `from Department` also your fetch type is eager. What is the sql output?","body":"why you make <code>left join</code>, just simple <code>from Department</code> also your fetch type is eager. What is the sql output?"},{"owner":{"account_id":2627802,"reputation":1110,"user_id":2274471,"accept_rate":86,"display_name":"bogdan.herti"},"score":1,"creation_date":1378973382,"post_id":18753245,"comment_id":27652101,"body_markdown":"acctually the query has a where clause, I need to put a condition for each employee and a `from Department` wont help me in this case. \n\n\n`select dep from Department as dep left join dep.employees emp where emp.enddate &gt; current_date()`","body":"acctually the query has a where clause, I need to put a condition for each employee and a <code>from Department</code> wont help me in this case.    <code>select dep from Department as dep left join dep.employees emp where emp.enddate &gt; current_date()</code>"}],"answers":[{"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"down_vote_count":1,"up_vote_count":99,"is_accepted":true,"score":98,"last_activity_date":1644392992,"creation_date":1378944542,"answer_id":18753303,"question_id":18753245,"body_markdown":"This question is thoroughly explained on [Hibernate FAQ][1]: \r\n\r\n\r\n&gt; First, you need to understand SQL and how OUTER JOINs work in SQL. If\r\n&gt; you do not fully understand and comprehend outer joins in SQL, do not\r\n&gt; continue reading this FAQ item but consult a SQL manual or tutorial.\r\n&gt; Otherwise you will not understand the following explanation and you\r\n&gt; will complain about this behavior on the Hibernate forum.   Typical\r\n&gt; examples that might return duplicate references of the same Order\r\n&gt; object:\r\n\r\n\r\n    List result = session.createCriteria(Order.class)  \r\n                            .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)  \r\n                            .list();\r\n\r\n    &lt;class name=&quot;Order&quot;&gt;           \r\n        &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\r\n        ...\r\n    &lt;/class&gt;\r\n\r\n    List result = session.createCriteria(Order.class)  \r\n                            .list();  \r\n\r\n----------\r\n\r\n\r\n    List result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();  \r\n    \r\n\r\n&gt;  All of these examples produce the same SQL statement:\r\n \r\n    \r\n    SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID   \r\n\r\n&gt;   Want to know why the duplicates are there? Look at the SQL\r\n&gt; resultset, Hibernate does not hide these duplicates on the left side\r\n&gt; of the outer joined result but returns all the duplicates of the\r\n&gt; driving table. If you have 5 orders in the database, and each order\r\n&gt; has 3 line items, the resultset will be 15 rows. The Java result list\r\n&gt; of these queries will have 15 elements, all of type Order. Only 5\r\n&gt; Order instances will be created by Hibernate, but duplicates of the\r\n&gt; SQL resultset are preserved as duplicate references to these 5\r\n&gt; instances. If you do not understand this last sentence, you need to\r\n&gt; read up on Java and the difference between an instance on the Java\r\n&gt; heap and a reference to such an instance.   (Why a left outer join? If\r\n&gt; you&#39;d have an additional order with no line items, the result set\r\n&gt; would be 16 rows with NULL filling up the right side, where the line\r\n&gt; item data is for other order. You want orders even if they don&#39;t have\r\n&gt; line items, right? If not, use an inner join fetch in your HQL).  \r\n&gt; Hibernate does not filter out these duplicate references by default.\r\n&gt; Some people (not you) actually want this. How can you filter them out?\r\n&gt; Like this:\r\n&gt; \r\n&gt;     Collection result = new LinkedHashSet( session.create*(...).list() );  \r\n&gt; \r\n&gt;   A LinkedHashSet filteres out duplicate references (it&#39;s a set) and\r\n&gt; it preserves insertion order (order of elements in your result). That\r\n&gt; was too easy, so you can do it in many different and more difficult\r\n&gt; ways:\r\n\r\n\r\n    List result = session.createCriteria(Order.class)  \r\n                            .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)  \r\n                            .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \r\n                            .list();  \r\n\r\n     \r\n    &lt;class name=&quot;Order&quot;&gt;  \r\n        ...  \r\n        &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;  \r\n      \r\n    List result = session.createCriteria(Order.class)  \r\n                            .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \r\n                            .list();  \r\n     \r\n    List result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;)  \r\n                          .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY) // Yes, really!  \r\n                          .list();  \r\n     \r\n    List result = session.createQuery(&quot;select distinct o from Order o left join fetch o.lineItems&quot;).list();       \r\n\r\n&gt;   The last one is special. It looks like you are using the SQL\r\n&gt; DISTINCT keyword here. Of course, this is not SQL, this is HQL. This\r\n&gt; distinct is just a shortcut for the result transformer, in this case.\r\n&gt; Yes, in other cases an HQL distinct will translate straight into a SQL\r\n&gt; DISTINCT. Not in this case: you can not filter out duplicates at the\r\n&gt; SQL level, the very nature of a product/join forbids this - you want\r\n&gt; the duplicates or you don&#39;t get all the data you need.   All of this\r\n&gt; filtering of duplicates happens in-memory, when the resultset is\r\n&gt; marshalled into objects.   It should be also obvious why resultset\r\n&gt; row-based &quot;limit&quot; operations, such as setFirstResult(5) and\r\n&gt; setMaxResults(10)  do not work with these kind of eager fetch queries.\r\n&gt; If you limit the resultset to a certain number of rows, you cut off\r\n&gt; data randomly. One day Hibernate might be smart enough to know that if\r\n&gt; you call setFirstResult() or setMaxResults() it should not use a join,\r\n&gt; but a second SQL SELECT. Try it, your version of Hibernate might\r\n&gt; already be smart enough. If not, write two queries, one for limiting\r\n&gt; stuff, the other for eager fetching.   Do you want to know why the\r\n&gt; example with the Criteria query did not ignore the fetch=&quot;join&quot;\r\n&gt; setting in the mapping but HQL didn&#39;t care? Read the next FAQ item.\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\r\n","title":"One-To-Many relationship gets duplicate objects without using &quot;distinct&quot;. Why?","body":"<p>This question is thoroughly explained on <a href=\"https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\" rel=\"nofollow noreferrer\">Hibernate FAQ</a>:</p>\n<blockquote>\n<p>First, you need to understand SQL and how OUTER JOINs work in SQL. If\nyou do not fully understand and comprehend outer joins in SQL, do not\ncontinue reading this FAQ item but consult a SQL manual or tutorial.\nOtherwise you will not understand the following explanation and you\nwill complain about this behavior on the Hibernate forum.   Typical\nexamples that might return duplicate references of the same Order\nobject:</p>\n</blockquote>\n<pre><code>List result = session.createCriteria(Order.class)  \n                        .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)  \n                        .list();\n\n&lt;class name=&quot;Order&quot;&gt;           \n    &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\n    ...\n&lt;/class&gt;\n\nList result = session.createCriteria(Order.class)  \n                        .list();  \n</code></pre>\n<hr />\n<pre><code>List result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();  \n</code></pre>\n<blockquote>\n<p>All of these examples produce the same SQL statement:</p>\n</blockquote>\n<pre><code>SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID   \n</code></pre>\n<blockquote>\n<p>Want to know why the duplicates are there? Look at the SQL\nresultset, Hibernate does not hide these duplicates on the left side\nof the outer joined result but returns all the duplicates of the\ndriving table. If you have 5 orders in the database, and each order\nhas 3 line items, the resultset will be 15 rows. The Java result list\nof these queries will have 15 elements, all of type Order. Only 5\nOrder instances will be created by Hibernate, but duplicates of the\nSQL resultset are preserved as duplicate references to these 5\ninstances. If you do not understand this last sentence, you need to\nread up on Java and the difference between an instance on the Java\nheap and a reference to such an instance.   (Why a left outer join? If\nyou'd have an additional order with no line items, the result set\nwould be 16 rows with NULL filling up the right side, where the line\nitem data is for other order. You want orders even if they don't have\nline items, right? If not, use an inner join fetch in your HQL).<br />\nHibernate does not filter out these duplicate references by default.\nSome people (not you) actually want this. How can you filter them out?\nLike this:</p>\n<pre><code>Collection result = new LinkedHashSet( session.create*(...).list() );  \n</code></pre>\n<p>A LinkedHashSet filteres out duplicate references (it's a set) and\nit preserves insertion order (order of elements in your result). That\nwas too easy, so you can do it in many different and more difficult\nways:</p>\n</blockquote>\n<pre><code>List result = session.createCriteria(Order.class)  \n                        .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)  \n                        .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \n                        .list();  \n\n \n&lt;class name=&quot;Order&quot;&gt;  \n    ...  \n    &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;  \n  \nList result = session.createCriteria(Order.class)  \n                        .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \n                        .list();  \n \nList result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;)  \n                      .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY) // Yes, really!  \n                      .list();  \n \nList result = session.createQuery(&quot;select distinct o from Order o left join fetch o.lineItems&quot;).list();       \n</code></pre>\n<blockquote>\n<p>The last one is special. It looks like you are using the SQL\nDISTINCT keyword here. Of course, this is not SQL, this is HQL. This\ndistinct is just a shortcut for the result transformer, in this case.\nYes, in other cases an HQL distinct will translate straight into a SQL\nDISTINCT. Not in this case: you can not filter out duplicates at the\nSQL level, the very nature of a product/join forbids this - you want\nthe duplicates or you don't get all the data you need.   All of this\nfiltering of duplicates happens in-memory, when the resultset is\nmarshalled into objects.   It should be also obvious why resultset\nrow-based &quot;limit&quot; operations, such as setFirstResult(5) and\nsetMaxResults(10)  do not work with these kind of eager fetch queries.\nIf you limit the resultset to a certain number of rows, you cut off\ndata randomly. One day Hibernate might be smart enough to know that if\nyou call setFirstResult() or setMaxResults() it should not use a join,\nbut a second SQL SELECT. Try it, your version of Hibernate might\nalready be smart enough. If not, write two queries, one for limiting\nstuff, the other for eager fetching.   Do you want to know why the\nexample with the Criteria query did not ignore the fetch=&quot;join&quot;\nsetting in the mapping but HQL didn't care? Read the next FAQ item.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5946027,"reputation":692,"user_id":4675501,"accept_rate":85,"display_name":"Jayram Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576489184,"creation_date":1576489184,"answer_id":59353933,"question_id":18753245,"body_markdown":"Use the result transformer `Criteria.DISTINCT_ROOT_ENTITY`:\r\n\r\n    List result = session.createQuery(&quot;hql query&quot;)  \r\n                            .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \r\n                            .list();","title":"One-To-Many relationship gets duplicate objects without using &quot;distinct&quot;. Why?","body":"<p>Use the result transformer <code>Criteria.DISTINCT_ROOT_ENTITY</code>:</p>\n\n<pre><code>List result = session.createQuery(\"hql query\")  \n                        .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)  \n                        .list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11728787,"reputation":95,"user_id":8585072,"display_name":"Muhammad Ali"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599872675,"creation_date":1599872675,"answer_id":63855939,"question_id":18753245,"body_markdown":"Here&#39;s a great tip I learned about from Mr. Vlad Mihalcea. For more tips:\r\nhttps://vladmihalcea.com/tutorials/hibernate/\r\n\r\n        list = session.createQuery(&quot;SELECT DISTINCT c FROM Supplier c &quot;\r\n                +&quot;LEFT JOIN FETCH c.salesList WHERE c.name LIKE :p1&quot;\r\n                , Supplier.class)\r\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n                .setParameter(&quot;p1&quot;, name + &quot;%&quot;)\r\n                .list();\r\n","title":"One-To-Many relationship gets duplicate objects without using &quot;distinct&quot;. Why?","body":"<p>Here's a great tip I learned about from Mr. Vlad Mihalcea. For more tips:\n<a href=\"https://vladmihalcea.com/tutorials/hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/tutorials/hibernate/</a></p>\n<pre><code>    list = session.createQuery(&quot;SELECT DISTINCT c FROM Supplier c &quot;\n            +&quot;LEFT JOIN FETCH c.salesList WHERE c.name LIKE :p1&quot;\n            , Supplier.class)\n            .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n            .setParameter(&quot;p1&quot;, name + &quot;%&quot;)\n            .list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":486041,"reputation":125,"user_id":902707,"display_name":"Liqun Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649422567,"creation_date":1649422567,"answer_id":71797416,"question_id":18753245,"body_markdown":"Try this way:\r\n\r\n    Query query = session.createQuery(&quot;queryStringWithEagerFetch&quot;).setHint(QueryHints.HINT_PASS_DISTINCT_THROUGH,false)\r\n    List result = query.list()","title":"One-To-Many relationship gets duplicate objects without using &quot;distinct&quot;. Why?","body":"<p>Try this way:</p>\n<pre><code>Query query = session.createQuery(&quot;queryStringWithEagerFetch&quot;).setHint(QueryHints.HINT_PASS_DISTINCT_THROUGH,false)\nList result = query.list()\n</code></pre>\n"}],"owner":{"account_id":2627802,"reputation":1110,"user_id":2274471,"accept_rate":86,"display_name":"bogdan.herti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52545,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":18753303,"answer_count":4,"score":55,"last_activity_date":1649422567,"creation_date":1378943976,"question_id":18753245,"body_markdown":"I have 2 classes in a one-to-many relationship and a HQL query that is a bit strange. Even if I have read some questions already posted, it does not seem clear to me.\r\n\r\n    Class Department{\r\n       @OneToMany(fetch=FetchType.EAGER, mappedBy=&quot;department&quot;)\r\n       Set&lt;Employee&gt; employees;\r\n    }\r\n    Class Employee{\r\n       @ManyToOne\r\n       @JoinColumn(name=&quot;id_department&quot;)\r\n       Department department;\r\n    }\r\n\r\nWhen I use the following query I get duplicates Department objects: \r\n\r\n`session.createQuery(&quot;select dep from Department as dep left join dep.employees&quot;);`\r\n\r\nThus, I have to use distinct:\r\n\r\n`session.createQuery(&quot;select distinct dep from Department as dep left join dep.employees&quot;);`\r\n\r\nIs this behaviour an expected one? I consider this unusual, as comparing it with SQL.","title":"One-To-Many relationship gets duplicate objects without using &quot;distinct&quot;. Why?","body":"<p>I have 2 classes in a one-to-many relationship and a HQL query that is a bit strange. Even if I have read some questions already posted, it does not seem clear to me.</p>\n\n<pre><code>Class Department{\n   @OneToMany(fetch=FetchType.EAGER, mappedBy=\"department\")\n   Set&lt;Employee&gt; employees;\n}\nClass Employee{\n   @ManyToOne\n   @JoinColumn(name=\"id_department\")\n   Department department;\n}\n</code></pre>\n\n<p>When I use the following query I get duplicates Department objects: </p>\n\n<p><code>session.createQuery(\"select dep from Department as dep left join dep.employees\");</code></p>\n\n<p>Thus, I have to use distinct:</p>\n\n<p><code>session.createQuery(\"select distinct dep from Department as dep left join dep.employees\");</code></p>\n\n<p>Is this behaviour an expected one? I consider this unusual, as comparing it with SQL.</p>\n"},{"tags":["java","json","maven"],"comments":[{"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"score":0,"creation_date":1547577152,"post_id":54204596,"comment_id":95236480,"body_markdown":"Are you able to run it on your IDE and the issue happens only when you export the JAR?","body":"Are you able to run it on your IDE and the issue happens only when you export the JAR?"},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1547577338,"post_id":54204596,"comment_id":95236558,"body_markdown":"I&#39;m running this on a macOS terminal. I do have NetBeans installed but I&#39;m not using it for this.","body":"I&#39;m running this on a macOS terminal. I do have NetBeans installed but I&#39;m not using it for this."},{"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"score":0,"creation_date":1547577541,"post_id":54204596,"comment_id":95236637,"body_markdown":"So you are running the generated JAR only?","body":"So you are running the generated JAR only?"},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1547577855,"post_id":54204596,"comment_id":95236791,"body_markdown":"Misunderstood, yes,  I&#39;m running the JAR generated by Maven. I go into the target/classes directory and type in the command \n&quot;java com.mycompany.App&quot; to run the program. \n\nThis has worked fine for a simpler program I made using Maven as practice a little earlier.","body":"Misunderstood, yes,  I&#39;m running the JAR generated by Maven. I go into the target/classes directory and type in the command  &quot;java com.mycompany.App&quot; to run the program.   This has worked fine for a simpler program I made using Maven as practice a little earlier."},{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1666650385,"post_id":54204596,"comment_id":130983468,"body_markdown":"THANKS! The &lt;pluginManagement&gt; tag was the issue in my case. For background: Eclipse automatically updated to 2022-09 and then I started seeing this NoClassDef error, when I previously didn&#39;t have it. The strange thing is that before that Eclipse updated I was already using such tag... somehow the 2022-09 broke something in the way... thanks a lot again :)","body":"THANKS! The &lt;pluginManagement&gt; tag was the issue in my case. For background: Eclipse automatically updated to 2022-09 and then I started seeing this NoClassDef error, when I previously didn&#39;t have it. The strange thing is that before that Eclipse updated I was already using such tag... somehow the 2022-09 broke something in the way... thanks a lot again :)"}],"answers":[{"tags":[],"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547578870,"creation_date":1547578224,"answer_id":54205134,"question_id":54204596,"body_markdown":"Usually `NoClassDefFound` errors are related to missing libraries at runtime.\r\n\r\nSince you are running using the terminal I supose you are building your project using Maven, and running the generated JAR,\r\n\r\nI would recommend to you to use the `maven-shade-plugin` and generate an **uber-jar** as I explained on [this question][1].\r\n\r\nThe purpose generating a uber-jar is to carry all the needed dependencies inside of it (available on the application classpath).\r\n\r\nImplement the plugin and try to run using the new JAR.\r\n\r\nPS: Remember to check [this section][2] related to *Executable Jars*\r\n\r\n**UPDATE:** Remove the `&lt;scope&gt;provided&lt;/scope&gt;` of your `jsoup` dependency, to enforce Maven to package it along your app, with the provided scope you are saying that this dependency will be provided by the JDK at runtime.\r\n\r\n  [1]: https://stackoverflow.com/questions/53980308/java-lang-noclassdeffounderror-org-apache-poi-ss-usermodel-row/53980660#53980660\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html","title":"Can&#39;t resolve the error: java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException","body":"<p>Usually <code>NoClassDefFound</code> errors are related to missing libraries at runtime.</p>\n\n<p>Since you are running using the terminal I supose you are building your project using Maven, and running the generated JAR,</p>\n\n<p>I would recommend to you to use the <code>maven-shade-plugin</code> and generate an <strong>uber-jar</strong> as I explained on <a href=\"https://stackoverflow.com/questions/53980308/java-lang-noclassdeffounderror-org-apache-poi-ss-usermodel-row/53980660#53980660\">this question</a>.</p>\n\n<p>The purpose generating a uber-jar is to carry all the needed dependencies inside of it (available on the application classpath).</p>\n\n<p>Implement the plugin and try to run using the new JAR.</p>\n\n<p>PS: Remember to check <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">this section</a> related to <em>Executable Jars</em></p>\n\n<p><strong>UPDATE:</strong> Remove the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> of your <code>jsoup</code> dependency, to enforce Maven to package it along your app, with the provided scope you are saying that this dependency will be provided by the JDK at runtime.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649422525,"creation_date":1547579355,"answer_id":54205367,"question_id":54204596,"body_markdown":"The jars that you identify in your dependencies must be present in the Runtime classpath.\r\nThis is not the classpath that is available when you compile the code;\r\nit is the classpath on the host where you run the application.\r\n\r\nYou must install these jars on the target host.\r\n\r\nEdit: More details\r\n\r\nYou must do the following:\r\n\r\n  1. Identify the runtime host.\r\n  1. Create a directory on the runtime host into which you will install the dependent jar files.\r\n  1. Include every jar in the classpath.\r\n\r\nConsider abandoning the &quot;roll-your-own&quot; path.\r\nIf you use Spring Boot\r\n(I like it,\r\nI don&#39;t work for them).\r\nOne feature of spring boot is a reinvented &quot;Fat Jar&quot; that will include the dependencies inside one deliverable artifact (the fat jar) and will add them to the classpath at startup.\r\n\r\nEdit:  \r\nThe Spring boot executable jar file is not a &quot;Fat Jar&quot;,\r\ninstead it includes the dependencies in a directory in the\r\nexecutable jar and adds said jars to the classpath on startup.","title":"Can&#39;t resolve the error: java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException","body":"<p>The jars that you identify in your dependencies must be present in the Runtime classpath.\nThis is not the classpath that is available when you compile the code;\nit is the classpath on the host where you run the application.</p>\n<p>You must install these jars on the target host.</p>\n<p>Edit: More details</p>\n<p>You must do the following:</p>\n<ol>\n<li>Identify the runtime host.</li>\n<li>Create a directory on the runtime host into which you will install the dependent jar files.</li>\n<li>Include every jar in the classpath.</li>\n</ol>\n<p>Consider abandoning the &quot;roll-your-own&quot; path.\nIf you use Spring Boot\n(I like it,\nI don't work for them).\nOne feature of spring boot is a reinvented &quot;Fat Jar&quot; that will include the dependencies inside one deliverable artifact (the fat jar) and will add them to the classpath at startup.</p>\n<p>Edit:<br />\nThe Spring boot executable jar file is not a &quot;Fat Jar&quot;,\ninstead it includes the dependencies in a directory in the\nexecutable jar and adds said jars to the classpath on startup.</p>\n"}],"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649422525,"creation_date":1547575730,"question_id":54204596,"body_markdown":"Trying to use Maven to organize my project and I keep running into the following error. I know that this error means the file is present at compile time but for some reason it can&#39;t be found at runtime.\r\n\r\n\tError: A JNI error has occurred, please check your installation and try again\r\n\tException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException\r\n\r\n\r\nSo I&#39;m working on a project in Java that will take a user query, search Google Images and then download some of the results onto my computer. To that end I&#39;ve had to use some third party libraries like JSoup, Json-Simple, and Gson. \r\n\r\nI initially added Jsoup to my classpath manually and it worked, but then I heard about Maven and started using it instead. My issue is that when I try to run my code I get the error above.\r\n\r\nI&#39;m just not sure how to resolve this. I&#39;ve seen a bunch of other posts about similar errors and I&#39;ve tried to modify my pom.xml accordingly but \r\nI just can&#39;t get it to work. I&#39;ve tried removing the ~/.m2 file, ran mvn clean, mvn install, mvn package, mvn compile, and it all works fine. But when it comes time to run, I keep getting that error. \r\n\r\n\r\nHere&#39;s most of my pom.xml file.\r\n\r\n \t&lt;repositories&gt;\r\n     \t&lt;repository&gt;\r\n       \t&lt;id&gt;central&lt;/id&gt;\r\n       &lt;name&gt;Maven repository&lt;/name&gt;\r\n       &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n     &lt;/repository&gt;\r\n   &lt;/repositories&gt;\r\n\r\n  \t&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n   \r\n    &lt;dependency&gt;\r\n      &lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\r\n      &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.3&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n \t&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n\r\nFOUND SOLUTION: So I left out some parts of the pom.xml file to make it easier to read, and because all the other parts were generated by Maven itself so I figured there couldn&#39;t be an issue with anything there. But it adds a tag called &quot;pluginManagement&quot; that encloses all other plugins and apparently this does not allow the Shade plugin to run. \r\n\r\nBetween ngueno&#39;s guidance and this post https://stackoverflow.com/questions/42208526/maven-shade-plugin-is-not-called-automatically-for-goal-package \r\nI was able to figure out my issue, though I&#39;m still not entirely sure why it is an issue. Anyways, I figured I&#39;d update this post in case someone else with a similar problem stumbles across it. This was on Mac OS btw, in case it makes a difference. Thanks for your help everyone. ","title":"Can&#39;t resolve the error: java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException","body":"<p>Trying to use Maven to organize my project and I keep running into the following error. I know that this error means the file is present at compile time but for some reason it can't be found at runtime.</p>\n\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread \"main\" java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException\n</code></pre>\n\n<p>So I'm working on a project in Java that will take a user query, search Google Images and then download some of the results onto my computer. To that end I've had to use some third party libraries like JSoup, Json-Simple, and Gson. </p>\n\n<p>I initially added Jsoup to my classpath manually and it worked, but then I heard about Maven and started using it instead. My issue is that when I try to run my code I get the error above.</p>\n\n<p>I'm just not sure how to resolve this. I've seen a bunch of other posts about similar errors and I've tried to modify my pom.xml accordingly but \nI just can't get it to work. I've tried removing the ~/.m2 file, ran mvn clean, mvn install, mvn package, mvn compile, and it all works fine. But when it comes time to run, I keep getting that error. </p>\n\n<p>Here's most of my pom.xml file.</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n    &lt;id&gt;central&lt;/id&gt;\n   &lt;name&gt;Maven repository&lt;/name&gt;\n   &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n &lt;/repository&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\n  &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n  &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n  &lt;version&gt;1.11.3&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>FOUND SOLUTION: So I left out some parts of the pom.xml file to make it easier to read, and because all the other parts were generated by Maven itself so I figured there couldn't be an issue with anything there. But it adds a tag called \"pluginManagement\" that encloses all other plugins and apparently this does not allow the Shade plugin to run. </p>\n\n<p>Between ngueno's guidance and this post <a href=\"https://stackoverflow.com/questions/42208526/maven-shade-plugin-is-not-called-automatically-for-goal-package\">Maven shade plugin is not called automatically for goal &quot;package&quot;</a> \nI was able to figure out my issue, though I'm still not entirely sure why it is an issue. Anyways, I figured I'd update this post in case someone else with a similar problem stumbles across it. This was on Mac OS btw, in case it makes a difference. Thanks for your help everyone. </p>\n"},{"tags":["java","spring-boot","installation","path","spring-tools-4"],"answers":[{"tags":[],"owner":{"account_id":16857411,"reputation":93,"user_id":12189042,"display_name":"Morty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649352077,"creation_date":1649352077,"answer_id":71786467,"question_id":71786086,"body_markdown":"Since you are on windows and your path looks like the jar file is in a user specific Directory it might be a authentication issue.\r\n\r\nTry:\r\n\r\n    Move jar fiele to example c:/test/test.jar\r\n\r\nand run in command inside c:/test:\r\n\r\n    java -jar test.jar\r\n\r\n","title":"Problem installing Spring Boot or running any .jar file","body":"<p>Since you are on windows and your path looks like the jar file is in a user specific Directory it might be a authentication issue.</p>\n<p>Try:</p>\n<pre><code>Move jar fiele to example c:/test/test.jar\n</code></pre>\n<p>and run in command inside c:/test:</p>\n<pre><code>java -jar test.jar\n</code></pre>\n"}],"owner":{"account_id":24519050,"reputation":9,"user_id":18432393,"display_name":"Greckon121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649422379,"creation_date":1649350124,"question_id":71786086,"body_markdown":"I&#39;m trying to install Spring Boot STS but unfortunately I always get the same error (sorry for the blacked up part in path in pictures, my name is shown)\r\n\r\n[Error I get when I try to run Spring Boot after downloading it][1]\r\n\r\n\r\nThings I tried:\r\n1. Installed Java from Java Oracle (I tried versions 18,17 and 8 all giving me the same error in Spring Boot STS)\r\n2. When I run Java -version in command prompt it seems it is installed correctly\r\n3. Configured my environment variables in System Variables \r\n [in Path][2] and also I put in User variables [PATH and CROSSPATH][3]\r\n4. Tried to install Eclipse but get this [error][4]\r\n5. Tried Jarfix, doesn&#39;t work\r\n6. Tried run.bat with java -jar FileName.jar, doesn&#39;t work\r\n7. Tried reinstalling everything and restarting my laptop,nothing works \r\n\r\nDo you have any suggestions what might be the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WKj9K.jpg\r\n  [2]: https://i.stack.imgur.com/ac3Ag.jpg\r\n  [3]: https://i.stack.imgur.com/utGF4.jpg\r\n  [4]: https://i.stack.imgur.com/LnxE4.jpg","title":"Problem installing Spring Boot or running any .jar file","body":"<p>I'm trying to install Spring Boot STS but unfortunately I always get the same error (sorry for the blacked up part in path in pictures, my name is shown)</p>\n<p><a href=\"https://i.stack.imgur.com/WKj9K.jpg\" rel=\"nofollow noreferrer\">Error I get when I try to run Spring Boot after downloading it</a></p>\n<p>Things I tried:</p>\n<ol>\n<li>Installed Java from Java Oracle (I tried versions 18,17 and 8 all giving me the same error in Spring Boot STS)</li>\n<li>When I run Java -version in command prompt it seems it is installed correctly</li>\n<li>Configured my environment variables in System Variables\n<a href=\"https://i.stack.imgur.com/ac3Ag.jpg\" rel=\"nofollow noreferrer\">in Path</a> and also I put in User variables <a href=\"https://i.stack.imgur.com/utGF4.jpg\" rel=\"nofollow noreferrer\">PATH and CROSSPATH</a></li>\n<li>Tried to install Eclipse but get this <a href=\"https://i.stack.imgur.com/LnxE4.jpg\" rel=\"nofollow noreferrer\">error</a></li>\n<li>Tried Jarfix, doesn't work</li>\n<li>Tried run.bat with java -jar FileName.jar, doesn't work</li>\n<li>Tried reinstalling everything and restarting my laptop,nothing works</li>\n</ol>\n<p>Do you have any suggestions what might be the problem?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":0,"creation_date":1649422074,"post_id":71797238,"comment_id":126877747,"body_markdown":"Probably transaction management","body":"Probably transaction management"},{"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"score":0,"creation_date":1649422395,"post_id":71797238,"comment_id":126877880,"body_markdown":"Yes, It&#39;s working when I add the @Transactional annotation to my service class. I&#39;ve been writing rest-apis for a few days but this is the first time it&#39;s happened to me. Can you guys explain why do I have to use this annotation?","body":"Yes, It&#39;s working when I add the @Transactional annotation to my service class. I&#39;ve been writing rest-apis for a few days but this is the first time it&#39;s happened to me. Can you guys explain why do I have to use this annotation?"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":1,"creation_date":1649422779,"post_id":71797238,"comment_id":126878038,"body_markdown":"Certainly because these annotation is handling the way your database related operations are treated by the framework. To simplify a lot, by default : without any COMMIT statment, nothing is persisted in your database. These annotation is using AOP to take care of the boilerplate code handling databases operations. Look at the `@Transactional` interface definition.","body":"Certainly because these annotation is handling the way your database related operations are treated by the framework. To simplify a lot, by default : without any COMMIT statment, nothing is persisted in your database. These annotation is using AOP to take care of the boilerplate code handling databases operations. Look at the <code>@Transactional</code> interface definition."}],"answers":[{"tags":[],"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649422355,"creation_date":1649422355,"answer_id":71797359,"question_id":71797238,"body_markdown":"I had to use @Transactional annotation. ","title":"SpringBoot update methods is working fine but doesn&#39;t update to entity on database","body":"<p>I had to use @Transactional annotation.</p>\n"}],"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649422355,"creation_date":1649421860,"question_id":71797238,"body_markdown":"This is my service method.\r\n\r\n        public UserDto updateUserS(Long id, UserDto userDto) {\r\n\r\n        UserDto userDtoNew = null;\r\n\r\n        if (userRepository.findById(id).isPresent()) {\r\n\r\n            User existingUser = userRepository.findById(id).get();\r\n            existingUser.setPassword(userDto.getPassword());\r\n            existingUser.setUserName(userDto.getUserName());\r\n            userDtoNew = userMapper.toDto(existingUser);\r\n\r\n            return userDtoNew;\r\n        }\r\n\r\n        return userDtoNew;\r\n    }\r\n\r\nAnd this is my controller method.\r\n\r\n\r\n    @PutMapping(&quot;/update/{id}&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; updateUser(@PathVariable Long id, @RequestBody UserDto \r\n     userDto) {\r\n\r\n        return ResponseEntity.ok(userService.updateUserS(id, userDto));\r\n\r\n    }\r\n\r\nWhen I try to update my User by put request on a new json via Postman. My controller is working. I can see the new User on the Postman. But When I check my database  I saw the entity doesn&#39;t update in my database.\r\n\r\nI didn&#39;t share all my codes like: entity, dto, repository, mapper. I&#39;m using mapstruct as a mapper. Everythings is working fine.\r\n\r\n I hope you can understand what am I missing.","title":"SpringBoot update methods is working fine but doesn&#39;t update to entity on database","body":"<p>This is my service method.</p>\n<pre><code>    public UserDto updateUserS(Long id, UserDto userDto) {\n\n    UserDto userDtoNew = null;\n\n    if (userRepository.findById(id).isPresent()) {\n\n        User existingUser = userRepository.findById(id).get();\n        existingUser.setPassword(userDto.getPassword());\n        existingUser.setUserName(userDto.getUserName());\n        userDtoNew = userMapper.toDto(existingUser);\n\n        return userDtoNew;\n    }\n\n    return userDtoNew;\n}\n</code></pre>\n<p>And this is my controller method.</p>\n<pre><code>@PutMapping(&quot;/update/{id}&quot;)\npublic ResponseEntity&lt;UserDto&gt; updateUser(@PathVariable Long id, @RequestBody UserDto \n userDto) {\n\n    return ResponseEntity.ok(userService.updateUserS(id, userDto));\n\n}\n</code></pre>\n<p>When I try to update my User by put request on a new json via Postman. My controller is working. I can see the new User on the Postman. But When I check my database  I saw the entity doesn't update in my database.</p>\n<p>I didn't share all my codes like: entity, dto, repository, mapper. I'm using mapstruct as a mapper. Everythings is working fine.</p>\n<p>I hope you can understand what am I missing.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649420922,"creation_date":1649420370,"answer_id":71796886,"question_id":71796818,"body_markdown":"You have a bug in your code. Instead of updating the existing record, you just save the inputed movie object, which will result in creating a new row in the db.\r\n\r\nShould be `return movieRepository.save(currentMovie);`\r\n\r\n","title":"During the update it increments a new data Springboot java","body":"<p>You have a bug in your code. Instead of updating the existing record, you just save the inputed movie object, which will result in creating a new row in the db.</p>\n<p>Should be <code>return movieRepository.save(currentMovie);</code></p>\n"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71796886,"answer_count":1,"score":0,"last_activity_date":1649420922,"creation_date":1649420066,"question_id":71796818,"body_markdown":"I&#39;m training with springboot,h2 hibernate, tried to do a full crud. Everything works except that when I modify a data, it modifies the selected data but it adds one more to my list. Who can tell me what is wrong with my code? thanks in advance.\r\n\r\ncontroller:\r\n```\r\n@PutMapping(&quot;/updateMovie/{id}&quot;)\r\n    public ResponseEntity updateMovie(@PathVariable Long id, @RequestBody Movie movie){\r\n        \r\n        return ResponseEntity.ok(movieService.updateMovie(id, movie));\r\n    }\r\n```\r\nService\r\n```\r\npublic Movie updateMovie(@PathVariable Long id, @RequestBody Movie movie){\r\n\r\n        Movie currentMovie = movieRepository.findById(id).orElseThrow(RuntimeException::new);\r\n        currentMovie.setTitle(movie.getTitle());\r\n        currentMovie.setDescription(movie.getDescription());\r\n        currentMovie.setDuration(movie.getDuration());\r\n       \r\n        return movieRepository.save(movie);\r\n    }\r\n```\r\nModel\r\n```\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name= &quot;title&quot;)\r\n    private String title;\r\n\r\n    @NonNull\r\n    @Column(name= &quot;duration&quot;)\r\n    private Integer duration;\r\n\r\n    @Column(name= &quot;description&quot;)\r\n    private String description;\r\n}\r\n```","title":"During the update it increments a new data Springboot java","body":"<p>I'm training with springboot,h2 hibernate, tried to do a full crud. Everything works except that when I modify a data, it modifies the selected data but it adds one more to my list. Who can tell me what is wrong with my code? thanks in advance.</p>\n<p>controller:</p>\n<pre><code>@PutMapping(&quot;/updateMovie/{id}&quot;)\n    public ResponseEntity updateMovie(@PathVariable Long id, @RequestBody Movie movie){\n        \n        return ResponseEntity.ok(movieService.updateMovie(id, movie));\n    }\n</code></pre>\n<p>Service</p>\n<pre><code>public Movie updateMovie(@PathVariable Long id, @RequestBody Movie movie){\n\n        Movie currentMovie = movieRepository.findById(id).orElseThrow(RuntimeException::new);\n        currentMovie.setTitle(movie.getTitle());\n        currentMovie.setDescription(movie.getDescription());\n        currentMovie.setDuration(movie.getDuration());\n       \n        return movieRepository.save(movie);\n    }\n</code></pre>\n<p>Model</p>\n<pre><code>public class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n\n    @Column(name= &quot;title&quot;)\n    private String title;\n\n    @NonNull\n    @Column(name= &quot;duration&quot;)\n    private Integer duration;\n\n    @Column(name= &quot;description&quot;)\n    private String description;\n}\n</code></pre>\n"},{"tags":["java","class","linked-list","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1648355366,"post_id":71624483,"comment_id":126601076,"body_markdown":"Just a hint here: try to avoid *explaining* your code. Human language is ambiguous. Always try to give a [mcve]. Less words, more code ;-)","body":"Just a hint here: try to avoid <i>explaining</i> your code. Human language is ambiguous. Always try to give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Less words, more code ;-)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648689969,"post_id":71624483,"comment_id":126690892,"body_markdown":"They are neither &#39;on the heap with it&#39; nor &#39;on the stack&#39;. They are in the heap with the *class.* The JVM knows to invoke `myLinkedList.addLast()` because that&#39;s what you told it in the code.","body":"They are neither &#39;on the heap with it&#39; nor &#39;on the stack&#39;. They are in the heap with the <i>class.</i> The JVM knows to invoke <code>myLinkedList.addLast()</code> because that&#39;s what you told it in the code."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648255674,"creation_date":1648255674,"answer_id":71624503,"question_id":71624483,"body_markdown":"You can think of the object you&#39;re calling a method *on* (i.e. the thing before the `.`) as an extra argument to the function. So, conceptually, you can think of `myLinkedList1.addLast(elt)` as being somewhat like\r\n\r\n    LinkedList.addLast(myLinkedList1, elt)\r\n\r\nso the &quot;invocant&quot; is an additional piece of information passed to the method. Some languages make this explicit. For instance, in Lua, `foo:bar(1)` is *exactly* equivalent to `foo.bar(foo, 1)`, and in Python `foo.bar(1)` is roughly equivalent to `Foo.bar(foo, 1)`. But in Java, this all happens in the background and is a bit more complicated, but conceptually it&#39;s the same idea.","title":"How are an object&#39;s instance methods used and stored?","body":"<p>You can think of the object you're calling a method <em>on</em> (i.e. the thing before the <code>.</code>) as an extra argument to the function. So, conceptually, you can think of <code>myLinkedList1.addLast(elt)</code> as being somewhat like</p>\n<pre><code>LinkedList.addLast(myLinkedList1, elt)\n</code></pre>\n<p>so the &quot;invocant&quot; is an additional piece of information passed to the method. Some languages make this explicit. For instance, in Lua, <code>foo:bar(1)</code> is <em>exactly</em> equivalent to <code>foo.bar(foo, 1)</code>, and in Python <code>foo.bar(1)</code> is roughly equivalent to <code>Foo.bar(foo, 1)</code>. But in Java, this all happens in the background and is a bit more complicated, but conceptually it's the same idea.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1648257790,"creation_date":1648257790,"answer_id":71624632,"question_id":71624483,"body_markdown":"An object, in memory, contains the following information:\r\n\r\n* A pointer that points at the actual class that this object is an instance of.\r\n* Enough room for all the fields. Given that java is reference based, every field is at most 64 bit - they&#39;re all fixed size, so this is not complicated.\r\n* Other stuff which isn&#39;t relevant for your question.\r\n\r\nCrucially they __do not contain any methods, at all__.\r\n\r\n&gt; I thought they were put on the stack.\r\n\r\nMethods? On the stack? That makes no sense. You must be misinformed. Methods aren&#39;t on the stack. They aren&#39;t really in heap either. They live as singletons in the class definition which is loaded only once for any class. On modern JVMs, those technically do live in the heap, but, crucially, nowhere near the heap space dedicated to storing your object. They live in the heap space dedicated to storing the definition (the bytecode, or rather, the transformed, hotspotted, etc bytecode) of the class. No matter how many LinkedList instances you make, there&#39;s only one LinkedList class, so 1 million LinkedList instances still means you only have the actual body content of the `addLast` method stored once in memory. Yes, `addLast` is an instance method. There&#39;s still only one copy of it in memory (unlike instance fields; each instance has its own copy of each non-static field).\r\n\r\nAny given class is loaded _at most once_ for the entire JVM (why load it more than once? These things are constant, it&#39;d be a waste of memory). A class contains __all methods__ (instance and static).\r\n\r\nIn fact, there is, as far as a method is concerned, no different at all between static and non-static methods as far as the JVM is concerned. An instance method simply has as first argument its &#39;receiver&#39; - for example, `String`&#39;s `toLowerCase()` method is a method that takes 1 argument, of type `String`. There is _very little_ difference between:\r\n\r\n```\r\npublic String toLowerCase() {\r\n  return this.doTheThing();\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\npublic static String toLowerCase(String in) {\r\n  return in.doTheThing();\r\n}\r\n```\r\n\r\nSo, when you write, in java, `foo.bar();`, you get 2 unrelated steps: First, `javac` turns it into bytecode, which is stored in a class file. Then, 5 days later on a completely different machine, someone runs your class file and then the JVM sees the bytecode and runs it.\r\n\r\n`javac` first tries to figure out which precise `bar()` you are calling there, by checking what the type of `foo` is. Once `javac` figures that out, you end up with the bytecode:\r\n\r\n```\r\nINVOKEVIRTUAL com.pkg.FullTypeOfWhateverFooIsThere :: bar :: ()V\r\n```\r\n\r\nThat third bit is the &#39;signature&#39; (the parameter types and return types, which in java are an inherent part of a method&#39;s identity). That&#39;s it - the arguments to all things are on the stack. This particular method has one argument (the receiver - something that is an instance of `com.pkg.FullTypeOfWhateverFooIsThere`), which will have to be on the stack. `javac` ensures it is true. The JVM checks the bytecode and if it can&#39;t confirm it is true, it will reject the class file with a VerifierError (this cannot happen unless you manually mess with the bytecode, or have a corrupt disk).\r\n\r\nThen, the JVM &#39;follows the pointer&#39; and checks what that first argument&#39;s _actual_ type is, and will then find the loaded class that represents that precise type. It then checks __that class__ (and not `com.pkg.FullTypeOfWhateverFooIsThere` - at least, not if the actual class is a subclass) for a method named `foo` with signature `()V`. If it finds it, it runs it. If it doesn&#39;t, it goes up one class in the hierarchy and keeps looking for `foo::()V` until it finds it (which it will, otherwise your code wouldn&#39;t have compiled in the first place).\r\n\r\nWhen the code for `addLast` runs, there are 2 things on the stack as that method begins execution:\r\n\r\n1. An instance of `LinkedList` or some subclass thereof.\r\n2. A new element of type Object. (at the JVM level, generics are erased).\r\n\r\nThe method can do its work just fine with that; LinkedLists have fields that store this data, the code of addLast will interact with these fields in order to do what its javadoc says it should do. Specifically, a LinkedList has a &#39;head&#39; field that points at a node that contains a reference to the object (that&#39;ll be the first object in the list) and a pointer to another node. The addLast code keeps looping, grabbing the &#39;next pointer&#39;, until the next pointer is null. At that point it makes a new Node object, sets its &#39;value&#39; to that second thing on the stack, and then updates the &#39;next&#39; pointer of the last visited node to point at this newly created one, and then it is done.\r\n\r\nHence:\r\n\r\n* All that the JVM needs to &#39;find&#39; the `addLast` code, is to know which method was intended (which is in the bytecode), and a pointer to the singleton &#39;loaded class&#39; in memory for the actual type that is top-of-stack (well, below the parameters) when the INVOKEVIRTUAL command is called, which is easy, as all objects have a pointer to it, so that&#39;s just a matter of looking it up. Thus, the JVM can execute addLast.\r\n\r\n* All that the `addLast` code needs to know which list to operate on, is.. the list. The receiver is passed as first parameter: `foo.addLast(elem)` ends up being called with the stack having first `foo` and then `elem` on it. This&#39;d be no different from a static method having signature (`addLast(LinkedList&lt;E&gt; list, E elem)`) - any invocations to such a method would have 2 things on stack as well when they begin execution (static methods don&#39;t have a receiver, they _just_ have their params on stack).\r\n","title":"How are an object&#39;s instance methods used and stored?","body":"<p>An object, in memory, contains the following information:</p>\n<ul>\n<li>A pointer that points at the actual class that this object is an instance of.</li>\n<li>Enough room for all the fields. Given that java is reference based, every field is at most 64 bit - they're all fixed size, so this is not complicated.</li>\n<li>Other stuff which isn't relevant for your question.</li>\n</ul>\n<p>Crucially they <strong>do not contain any methods, at all</strong>.</p>\n<blockquote>\n<p>I thought they were put on the stack.</p>\n</blockquote>\n<p>Methods? On the stack? That makes no sense. You must be misinformed. Methods aren't on the stack. They aren't really in heap either. They live as singletons in the class definition which is loaded only once for any class. On modern JVMs, those technically do live in the heap, but, crucially, nowhere near the heap space dedicated to storing your object. They live in the heap space dedicated to storing the definition (the bytecode, or rather, the transformed, hotspotted, etc bytecode) of the class. No matter how many LinkedList instances you make, there's only one LinkedList class, so 1 million LinkedList instances still means you only have the actual body content of the <code>addLast</code> method stored once in memory. Yes, <code>addLast</code> is an instance method. There's still only one copy of it in memory (unlike instance fields; each instance has its own copy of each non-static field).</p>\n<p>Any given class is loaded <em>at most once</em> for the entire JVM (why load it more than once? These things are constant, it'd be a waste of memory). A class contains <strong>all methods</strong> (instance and static).</p>\n<p>In fact, there is, as far as a method is concerned, no different at all between static and non-static methods as far as the JVM is concerned. An instance method simply has as first argument its 'receiver' - for example, <code>String</code>'s <code>toLowerCase()</code> method is a method that takes 1 argument, of type <code>String</code>. There is <em>very little</em> difference between:</p>\n<pre><code>public String toLowerCase() {\n  return this.doTheThing();\n}\n</code></pre>\n<p>and</p>\n<pre><code>public static String toLowerCase(String in) {\n  return in.doTheThing();\n}\n</code></pre>\n<p>So, when you write, in java, <code>foo.bar();</code>, you get 2 unrelated steps: First, <code>javac</code> turns it into bytecode, which is stored in a class file. Then, 5 days later on a completely different machine, someone runs your class file and then the JVM sees the bytecode and runs it.</p>\n<p><code>javac</code> first tries to figure out which precise <code>bar()</code> you are calling there, by checking what the type of <code>foo</code> is. Once <code>javac</code> figures that out, you end up with the bytecode:</p>\n<pre><code>INVOKEVIRTUAL com.pkg.FullTypeOfWhateverFooIsThere :: bar :: ()V\n</code></pre>\n<p>That third bit is the 'signature' (the parameter types and return types, which in java are an inherent part of a method's identity). That's it - the arguments to all things are on the stack. This particular method has one argument (the receiver - something that is an instance of <code>com.pkg.FullTypeOfWhateverFooIsThere</code>), which will have to be on the stack. <code>javac</code> ensures it is true. The JVM checks the bytecode and if it can't confirm it is true, it will reject the class file with a VerifierError (this cannot happen unless you manually mess with the bytecode, or have a corrupt disk).</p>\n<p>Then, the JVM 'follows the pointer' and checks what that first argument's <em>actual</em> type is, and will then find the loaded class that represents that precise type. It then checks <strong>that class</strong> (and not <code>com.pkg.FullTypeOfWhateverFooIsThere</code> - at least, not if the actual class is a subclass) for a method named <code>foo</code> with signature <code>()V</code>. If it finds it, it runs it. If it doesn't, it goes up one class in the hierarchy and keeps looking for <code>foo::()V</code> until it finds it (which it will, otherwise your code wouldn't have compiled in the first place).</p>\n<p>When the code for <code>addLast</code> runs, there are 2 things on the stack as that method begins execution:</p>\n<ol>\n<li>An instance of <code>LinkedList</code> or some subclass thereof.</li>\n<li>A new element of type Object. (at the JVM level, generics are erased).</li>\n</ol>\n<p>The method can do its work just fine with that; LinkedLists have fields that store this data, the code of addLast will interact with these fields in order to do what its javadoc says it should do. Specifically, a LinkedList has a 'head' field that points at a node that contains a reference to the object (that'll be the first object in the list) and a pointer to another node. The addLast code keeps looping, grabbing the 'next pointer', until the next pointer is null. At that point it makes a new Node object, sets its 'value' to that second thing on the stack, and then updates the 'next' pointer of the last visited node to point at this newly created one, and then it is done.</p>\n<p>Hence:</p>\n<ul>\n<li><p>All that the JVM needs to 'find' the <code>addLast</code> code, is to know which method was intended (which is in the bytecode), and a pointer to the singleton 'loaded class' in memory for the actual type that is top-of-stack (well, below the parameters) when the INVOKEVIRTUAL command is called, which is easy, as all objects have a pointer to it, so that's just a matter of looking it up. Thus, the JVM can execute addLast.</p>\n</li>\n<li><p>All that the <code>addLast</code> code needs to know which list to operate on, is.. the list. The receiver is passed as first parameter: <code>foo.addLast(elem)</code> ends up being called with the stack having first <code>foo</code> and then <code>elem</code> on it. This'd be no different from a static method having signature (<code>addLast(LinkedList&lt;E&gt; list, E elem)</code>) - any invocations to such a method would have 2 things on stack as well when they begin execution (static methods don't have a receiver, they <em>just</em> have their params on stack).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1648689974,"accepted_answer_id":71624632,"answer_count":2,"score":0,"last_activity_date":1649420761,"creation_date":1648255404,"question_id":71624483,"body_markdown":"Letâs say in my main method I have the line of code `LinkedList&lt;E&gt; myLinkedList = new LinkedList&lt;&gt;()`, so now I have a reference/pointer variable named `myLinkedList1` to an object (and the constructor is stored in its own LinkedList class in another `.java` file not the same `.java` file the main method is in).\r\n\r\nAnd now I make another reference/pointer variable named `myLinkedList2`. I use the method `addLast(E newElement)` (this method is stored in the `LinkedList` class of course), but I only use it on `myLinkedList1` (so it is `myLinkedList.addLast(E newElement)`), how does the JVM know to use this method only on `myLinkedList1` and not `myLinkedList2`, are the objects methods stored in the heap with it? I thought they were put on the stack.\r\n\r\n\r\n\r\n","title":"How are an object&#39;s instance methods used and stored?","body":"<p>Letâs say in my main method I have the line of code <code>LinkedList&lt;E&gt; myLinkedList = new LinkedList&lt;&gt;()</code>, so now I have a reference/pointer variable named <code>myLinkedList1</code> to an object (and the constructor is stored in its own LinkedList class in another <code>.java</code> file not the same <code>.java</code> file the main method is in).</p>\n<p>And now I make another reference/pointer variable named <code>myLinkedList2</code>. I use the method <code>addLast(E newElement)</code> (this method is stored in the <code>LinkedList</code> class of course), but I only use it on <code>myLinkedList1</code> (so it is <code>myLinkedList.addLast(E newElement)</code>), how does the JVM know to use this method only on <code>myLinkedList1</code> and not <code>myLinkedList2</code>, are the objects methods stored in the heap with it? I thought they were put on the stack.</p>\n"},{"tags":["java","jdbc","ibm-midrange","db2-400","jtopen"],"comments":[{"owner":{"account_id":904213,"reputation":1004,"user_id":939484,"display_name":"Dam"},"score":0,"creation_date":1649328130,"post_id":71779094,"comment_id":126850161,"body_markdown":"Strange I use the last version without any problem. Are you sure jt400.jar is on the class path? And did you select the right version of jt400.jar for your Java version?","body":"Strange I use the last version without any problem. Are you sure jt400.jar is on the class path? And did you select the right version of jt400.jar for your Java version?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1649328906,"post_id":71779094,"comment_id":126850496,"body_markdown":"What happens if you explicitly try to load the driver class with `Class.forName`? Does it throw an exception, if so, what is the exception stacktrace?","body":"What happens if you explicitly try to load the driver class with <code>Class.forName</code>? Does it throw an exception, if so, what is the exception stacktrace?"},{"owner":{"account_id":5077215,"reputation":193,"user_id":4074281,"accept_rate":67,"display_name":"4integration"},"score":0,"creation_date":1649336801,"post_id":71779094,"comment_id":126853576,"body_markdown":"When adding `Class.forName(&quot;com.ibm.as400.access.AS400JDBCDriver&quot;);` it works. This is however a test app but in reality we are using Kafka Connect with Java 17. \nCannot run `Class.forName...` in Kafka Connect\nUsing the jt400.jar from the root of `libs`","body":"When adding <code>Class.forName(&quot;com.ibm.as400.access.AS400JDBCDriver&quot;);</code> it works. This is however a test app but in reality we are using Kafka Connect with Java 17.  Cannot run <code>Class.forName...</code> in Kafka Connect Using the jt400.jar from the root of <code>libs</code>"}],"answers":[{"tags":[],"owner":{"account_id":5077215,"reputation":193,"user_id":4074281,"accept_rate":67,"display_name":"4integration"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649420753,"creation_date":1649420753,"answer_id":71796978,"question_id":71779094,"body_markdown":"Even though we are using Java 17, I tested with the one in `java8/jt400.jar` and that works fine. The main jar in root works if you add `Class.forName...`\r\n\r\n```\r\nJar file          Contents\r\n--------          --------\r\njt400.jar(*)         This is the main JTOpen jar file. It contains almost all open\r\n                     source code (except for the few Toolbox classes that could\r\n                     not be open-sourced), including the utilities package,\r\n                     and the JDBC driver (JDBC 3.0).\r\n\r\njava8/jt400.jar(*)   This is the main JTOpen jar file compiled for Java 8. \r\n                     A Java 8 JVM is required to use this class. \r\n```","title":"Upgrade of JTOpen throws an error (No suitable driver)","body":"<p>Even though we are using Java 17, I tested with the one in <code>java8/jt400.jar</code> and that works fine. The main jar in root works if you add <code>Class.forName...</code></p>\n<pre><code>Jar file          Contents\n--------          --------\njt400.jar(*)         This is the main JTOpen jar file. It contains almost all open\n                     source code (except for the few Toolbox classes that could\n                     not be open-sourced), including the utilities package,\n                     and the JDBC driver (JDBC 3.0).\n\njava8/jt400.jar(*)   This is the main JTOpen jar file compiled for Java 8. \n                     A Java 8 JVM is required to use this class. \n</code></pre>\n"}],"owner":{"account_id":5077215,"reputation":193,"user_id":4074281,"accept_rate":67,"display_name":"4integration"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649420753,"creation_date":1649321599,"question_id":71779094,"body_markdown":"We are using Java applications with JDBC/JTOpen to AS400/IBM i DB2.\r\nCurrently using JTOpen v.10.5 which works fine.\r\nTrying to upgrade to latest v.10.7 but it fails with:\r\n\r\n```\r\njava.sql.SQLException: No suitable driver found for jdbc:as400://myserver.domain.net/MYDB;\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat TestMain.main(TestMain.java:14)\r\n```\r\nSame goes for v.10.6\r\n\r\nUsing a very simple test client:\r\n```\r\n\r\nimport java.sql.*;\r\n\r\npublic class TestMain {\r\n   static final String DB_URL = &quot;jdbc:as400://myserver.domain.net/MYDB;&quot;;\r\n   static final String USER = &quot;myuser&quot;;\r\n   static final String PASS = &quot;mypasswd&quot;;\r\n   static final String QUERY = &quot;select * from MYTABLE&quot;;\r\n\r\n   public static void main(String[] args) {\r\n     try(Connection conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n         Statement stmt = conn.createStatement();\r\n         ResultSet rs = stmt.executeQuery(QUERY);) {\r\n         while (rs.next()) {\r\n            System.out.print(&quot;IRAVTNR: &quot; + rs.getString(&quot;IRAVTNR&quot;));\r\n            System.out.println(&quot;, IRISUF: &quot; + rs.getInt(&quot;IRISUF&quot;));\r\n         }\r\n      } catch (SQLException e) {\r\n         e.printStackTrace();\r\n      } \r\n   }\r\n}\r\n```\r\n\r\nI cannot see anything relevant in the changelog.\r\nDo you have any idea what is failing?","title":"Upgrade of JTOpen throws an error (No suitable driver)","body":"<p>We are using Java applications with JDBC/JTOpen to AS400/IBM i DB2.\nCurrently using JTOpen v.10.5 which works fine.\nTrying to upgrade to latest v.10.7 but it fails with:</p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:as400://myserver.domain.net/MYDB;\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at TestMain.main(TestMain.java:14)\n</code></pre>\n<p>Same goes for v.10.6</p>\n<p>Using a very simple test client:</p>\n<pre><code>\nimport java.sql.*;\n\npublic class TestMain {\n   static final String DB_URL = &quot;jdbc:as400://myserver.domain.net/MYDB;&quot;;\n   static final String USER = &quot;myuser&quot;;\n   static final String PASS = &quot;mypasswd&quot;;\n   static final String QUERY = &quot;select * from MYTABLE&quot;;\n\n   public static void main(String[] args) {\n     try(Connection conn = DriverManager.getConnection(DB_URL, USER, PASS);\n         Statement stmt = conn.createStatement();\n         ResultSet rs = stmt.executeQuery(QUERY);) {\n         while (rs.next()) {\n            System.out.print(&quot;IRAVTNR: &quot; + rs.getString(&quot;IRAVTNR&quot;));\n            System.out.println(&quot;, IRISUF: &quot; + rs.getInt(&quot;IRISUF&quot;));\n         }\n      } catch (SQLException e) {\n         e.printStackTrace();\n      } \n   }\n}\n</code></pre>\n<p>I cannot see anything relevant in the changelog.\nDo you have any idea what is failing?</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1649418659,"post_id":71796335,"comment_id":126876360,"body_markdown":"`&quot;countryGroup&quot;: null` and `private String currencyGroup = &quot;&quot;;`. You see the difference?","body":"<code>&quot;countryGroup&quot;: null</code> and <code>private String currencyGroup = &quot;&quot;;</code>. You see the difference?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1649418687,"post_id":71796335,"comment_id":126876369,"body_markdown":"Atribute in example json is `countryGroup`, while field in entity `currencyGroup`. Typo in question, or???","body":"Atribute in example json is <code>countryGroup</code>, while field in entity <code>currencyGroup</code>. Typo in question, or???"},{"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"score":0,"creation_date":1649420596,"post_id":71796335,"comment_id":126877125,"body_markdown":"Yep typo they should all be the same. Corrected (actually I have 2 fields with the same issue one is currency and the other is country)","body":"Yep typo they should all be the same. Corrected (actually I have 2 fields with the same issue one is currency and the other is country)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1649432203,"post_id":71796335,"comment_id":126882063,"body_markdown":"Can you add your object mapper config? I can&#39;t reproduce the issue locally with basic configuration.","body":"Can you add your object mapper config? I can&#39;t reproduce the issue locally with basic configuration."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1662281734,"post_id":71796335,"comment_id":129966195,"body_markdown":"@JsonSetter(nulls = Nulls.SKIP), use it on a setter, it shall work","body":"@JsonSetter(nulls = Nulls.SKIP), use it on a setter, it shall work"}],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649420719,"creation_date":1649417791,"question_id":71796335,"body_markdown":"When a json request is sent to create a new Entity via our internal API the Jackson Json deserializer always sets the countryGroup as null even though the field is annotated with @JsonSetter(nulls = Nulls.SKIP). This throws an exception when the entity is validated ( as field is annotated with @NotNull) before committed to the DB by Spring/Hibernate.\r\n\r\n(I have simplified the request and entity to make it easier to understand)&#128513; \r\n\r\nrequest looks like:\r\n\r\n```\r\n{\r\n     //...other fields in actual entity\r\n     &quot;countryGroup&quot;: null\r\n}\r\n```\r\n\r\nwith an entity class defined like this:\r\n\r\n\r\n    @Entity\r\n    public class Entity{\r\n\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Long id;\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        //...other fields in actual entity\r\n\r\n        @JsonSetter(nulls = Nulls.SKIP)\r\n        @NotNull\r\n        @Column(name = &quot;country_group&quot;, length = 64)\r\n        private String countryGroup = &quot;&quot;;// default value\r\n        \r\n        public String getCountryGroup() {\r\n            return countryGroup;\r\n        }\r\n     }\r\n\r\n\r\nAs previously mentioned there are other fields being set properly but the `countryGroup` filed always gets set to null. We are using Jackson 2.9 so this should be supported. As far as I can see I have set the annotation correctly, could there any other configuration that could be overriding this? Or some other reason as to why this does not work.\r\n\r\nI have tried to debug and I can see the default `&quot;&quot;` value for `countryGroup` set by the default constructor but this is always overridden when the property exists in the json object, if it is not in the json it keep the default value.\r\n\r\n\r\n[EDIT] Fixed typo","title":"Jackson Deserialiser ignoring @JsonSetter(nulls = Nulls.SKIP) annotation on field, always sets null values","body":"<p>When a json request is sent to create a new Entity via our internal API the Jackson Json deserializer always sets the countryGroup as null even though the field is annotated with @JsonSetter(nulls = Nulls.SKIP). This throws an exception when the entity is validated ( as field is annotated with @NotNull) before committed to the DB by Spring/Hibernate.</p>\n<p>(I have simplified the request and entity to make it easier to understand)ð</p>\n<p>request looks like:</p>\n<pre><code>{\n     //...other fields in actual entity\n     &quot;countryGroup&quot;: null\n}\n</code></pre>\n<p>with an entity class defined like this:</p>\n<pre><code>@Entity\npublic class Entity{\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Long id;\n    public Long getId() {\n        return id;\n    }\n\n    //...other fields in actual entity\n\n    @JsonSetter(nulls = Nulls.SKIP)\n    @NotNull\n    @Column(name = &quot;country_group&quot;, length = 64)\n    private String countryGroup = &quot;&quot;;// default value\n    \n    public String getCountryGroup() {\n        return countryGroup;\n    }\n }\n</code></pre>\n<p>As previously mentioned there are other fields being set properly but the <code>countryGroup</code> filed always gets set to null. We are using Jackson 2.9 so this should be supported. As far as I can see I have set the annotation correctly, could there any other configuration that could be overriding this? Or some other reason as to why this does not work.</p>\n<p>I have tried to debug and I can see the default <code>&quot;&quot;</code> value for <code>countryGroup</code> set by the default constructor but this is always overridden when the property exists in the json object, if it is not in the json it keep the default value.</p>\n<p>[EDIT] Fixed typo</p>\n"},{"tags":["java","class","reference","initialization","loading"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1472536665,"post_id":39219683,"comment_id":65777433,"body_markdown":"Why don&#39;t you test yourself? Add a static initializer to `A` that prints something to `System.out`: `static { System.out.println(&quot;initializing A&quot;); }`","body":"Why don&#39;t you test yourself? Add a static initializer to <code>A</code> that prints something to <code>System.out</code>: <code>static { System.out.println(&quot;initializing A&quot;); }</code>"},{"owner":{"account_id":317220,"reputation":4366,"user_id":1597771,"accept_rate":58,"display_name":"SpiXel"},"score":0,"creation_date":1472536683,"post_id":39219683,"comment_id":65777440,"body_markdown":"You haven&#39;t yet instantiated the &quot;A&quot;, If you instantiate it, the static block will be called.\nA a = new A();","body":"You haven&#39;t yet instantiated the &quot;A&quot;, If you instantiate it, the static block will be called. A a = new A();"},{"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"MichaÅ Szewczyk"},"score":0,"creation_date":1472642836,"post_id":39219683,"comment_id":65832513,"body_markdown":"Yes, becouse I just wanted to ask if creating the reference causes class loading.","body":"Yes, becouse I just wanted to ask if creating the reference causes class loading."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1472652206,"post_id":39219683,"comment_id":65839254,"body_markdown":"It might help understanding that unused local variables are a compile-time artifact. When you compile that class without debug information, there will be no reference to `A` inside the class file of `Main`","body":"It might help understanding that unused local variables are a compile-time artifact. When you compile that class without debug information, there will be no reference to <code>A</code> inside the class file of <code>Main</code>"},{"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"MichaÅ Szewczyk"},"score":0,"creation_date":1472667038,"post_id":39219683,"comment_id":65848465,"body_markdown":"Thanks @Holger it realy helped me to understand.","body":"Thanks @Holger it realy helped me to understand."}],"answers":[{"tags":[],"owner":{"account_id":4985856,"reputation":4155,"user_id":4009517,"display_name":"Silas Reinagel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1472537759,"creation_date":1472536547,"answer_id":39219723,"question_id":39219683,"body_markdown":"Yes. Static initializers are called when a class method is called or an instance is instantiated.\r\n\r\nFrom your example you can do one of the following:\r\n\r\n### 1. Create New Instance ###\r\n\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n    }\r\n\r\n### 2. Call Static Class Method ###\r\n\r\n    public static void main(String[] args) {\r\n        int f = A.f();\r\n    }","title":"Is the class loaded when its reference is declared?","body":"<p>Yes. Static initializers are called when a class method is called or an instance is instantiated.</p>\n\n<p>From your example you can do one of the following:</p>\n\n<h3>1. Create New Instance</h3>\n\n<pre><code>public static void main(String[] args) {\n    A a = new A();\n}\n</code></pre>\n\n<h3>2. Call Static Class Method</h3>\n\n<pre><code>public static void main(String[] args) {\n    int f = A.f();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472723150,"creation_date":1472723150,"answer_id":39268133,"question_id":39219683,"body_markdown":"Itâs a common mistake to treat loading and initialization of a class as being the same thing.\n\nThe [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/index.html) differentiates between\n\n - [Loading](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.2)\n   &gt; *Loading* refers to the process of finding the binary form of a class or interface type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a Java compiler, and constructing, from that binary form, a `Class` object to represent the class or interface.\n\n - [Linking](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.3)\n\n   &gt; *Linking* is the process of taking a binary form of a class or interface type and combining it into the run-time state of the Java Virtual Machine, so that it can be executed. A class or interface type is always loaded before it is linked.\n   &gt;\n   &gt; Three different activities are involved in linking: verification, preparation, and resolution of symbolic references.\n - [Initialization](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4)\n\n   &gt; *Initialization* of a class consists of executing its `static` initializers and the initializers for static fields (class variables) declared in the class.  \n   &gt; *Initialization* of an interface consists of executing the initializers for fields (constants) declared in the interface.\n\nFor most cases, the exact time of loading and linking doesnât matter, so itâs no problem that the specification provides some freedom to JVM implementations regarding the exact time. Only in the erroneous case, e.g. when a class is absent or there are incompatibilities (linkage or verify errors), JVM specific differences can show up, regarding the exact time when the associated `Error` is thrown.\n\nSo what your question is aiming at, is not *loading*, but *initialization* as you are looking at the side effect produced by the execution of the `static` class intializer.\n\nThe time of initialization is [precisely defined](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4.1):\n\n&gt; ### &#167;12.4.1. When Initialization Occurs\n&gt; A class or interface type T will be initialized immediately before the first occurrence of any one of the following:\n&gt;\n&gt; - `T` is a class and an instance of `T` is created.\n&gt; - A `static` method declared by `T` is invoked.\n&gt; - A `static` field declared by `T` is assigned.\n&gt; - A `static` field declared by `T` is used and the field is not a constant variable ([&#167;4.12.4](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4)).\n&gt; - `T` is a top level class ([&#167;7.6](https://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.6)) and an `assert` statement ([&#167;14.10](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10)) lexically nested within `T` ([&#167;8.1.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3)) is executed.\n&gt;\n&gt; When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces ([&#167;8.1.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.5)) that declare any default methods ([&#167;9.4.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.3)) (if they have not been previously initialized). Initialization of an interface does not, of itself, cause initialization of any of its superinterfaces.\n\nSo from the specification, you can draw the conclusion that the mere presence of a local variable will never trigger an initialization. When assigning a non-`null` value to a variable of a reference type, there must have been a preceding instantiation of that type that already triggered its initialization. An unused local variable, however, has no impact.\n\nWhen it comes to *loading* rather than initialization, there can be subtle differences, as shown is [this scenario](https://stackoverflow.com/q/38673384/2711488).","title":"Is the class loaded when its reference is declared?","body":"<p>Itâs a common mistake to treat loading and initialization of a class as being the same thing.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification</a> differentiates between</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.2\" rel=\"nofollow noreferrer\">Loading</a></p>\n<blockquote>\n<p><em>Loading</em> refers to the process of finding the binary form of a class or interface type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a Java compiler, and constructing, from that binary form, a <code>Class</code> object to represent the class or interface.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.3\" rel=\"nofollow noreferrer\">Linking</a></p>\n<blockquote>\n<p><em>Linking</em> is the process of taking a binary form of a class or interface type and combining it into the run-time state of the Java Virtual Machine, so that it can be executed. A class or interface type is always loaded before it is linked.</p>\n<p>Three different activities are involved in linking: verification, preparation, and resolution of symbolic references.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4\" rel=\"nofollow noreferrer\">Initialization</a></p>\n<blockquote>\n<p><em>Initialization</em> of a class consists of executing its <code>static</code> initializers and the initializers for static fields (class variables) declared in the class.<br />\n<em>Initialization</em> of an interface consists of executing the initializers for fields (constants) declared in the interface.</p>\n</blockquote>\n</li>\n</ul>\n<p>For most cases, the exact time of loading and linking doesnât matter, so itâs no problem that the specification provides some freedom to JVM implementations regarding the exact time. Only in the erroneous case, e.g. when a class is absent or there are incompatibilities (linkage or verify errors), JVM specific differences can show up, regarding the exact time when the associated <code>Error</code> is thrown.</p>\n<p>So what your question is aiming at, is not <em>loading</em>, but <em>initialization</em> as you are looking at the side effect produced by the execution of the <code>static</code> class intializer.</p>\n<p>The time of initialization is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">precisely defined</a>:</p>\n<blockquote>\n<h3>Â§12.4.1. When Initialization Occurs</h3>\n<p>A class or interface type T will be initialized immediately before the first occurrence of any one of the following:</p>\n<ul>\n<li><code>T</code> is a class and an instance of <code>T</code> is created.</li>\n<li>A <code>static</code> method declared by <code>T</code> is invoked.</li>\n<li>A <code>static</code> field declared by <code>T</code> is assigned.</li>\n<li>A <code>static</code> field declared by <code>T</code> is used and the field is not a constant variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">Â§4.12.4</a>).</li>\n<li><code>T</code> is a top level class (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.6\" rel=\"nofollow noreferrer\">Â§7.6</a>) and an <code>assert</code> statement (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10\" rel=\"nofollow noreferrer\">Â§14.10</a>) lexically nested within <code>T</code> (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">Â§8.1.3</a>) is executed.</li>\n</ul>\n<p>When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.5\" rel=\"nofollow noreferrer\">Â§8.1.5</a>) that declare any default methods (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.3\" rel=\"nofollow noreferrer\">Â§9.4.3</a>) (if they have not been previously initialized). Initialization of an interface does not, of itself, cause initialization of any of its superinterfaces.</p>\n</blockquote>\n<p>So from the specification, you can draw the conclusion that the mere presence of a local variable will never trigger an initialization. When assigning a non-<code>null</code> value to a variable of a reference type, there must have been a preceding instantiation of that type that already triggered its initialization. An unused local variable, however, has no impact.</p>\n<p>When it comes to <em>loading</em> rather than initialization, there can be subtle differences, as shown is <a href=\"https://stackoverflow.com/q/38673384/2711488\">this scenario</a>.</p>\n"}],"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"MichaÅ Szewczyk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39219723,"answer_count":2,"score":3,"last_activity_date":1649420649,"creation_date":1472536357,"question_id":39219683,"body_markdown":"Does creating a reference to an object of a class cause the class to be loaded?\r\n\r\nStatic variables are initialized when the class is loaded, so considering the following code the answer is no, am I right?\r\n\r\n        class A{\r\n            static int f(){\r\n                System.out.println(&quot;initializing!&quot;);\r\n                return 0;\r\n            }\r\n            static final int i = f();\r\n        }\r\n        public class Main {\r\n            public static void main(String[] args) {\r\n                A a;\r\n            }\r\n        }\r\n\r\nThe code doesn&#39;t give any output.\r\n\r\n\r\n\r\n","title":"Is the class loaded when its reference is declared?","body":"<p>Does creating a reference to an object of a class cause the class to be loaded?</p>\n<p>Static variables are initialized when the class is loaded, so considering the following code the answer is no, am I right?</p>\n<pre><code>    class A{\n        static int f(){\n            System.out.println(&quot;initializing!&quot;);\n            return 0;\n        }\n        static final int i = f();\n    }\n    public class Main {\n        public static void main(String[] args) {\n            A a;\n        }\n    }\n</code></pre>\n<p>The code doesn't give any output.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","onclicklistener"],"comments":[{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":1,"creation_date":1649367538,"post_id":71787071,"comment_id":126864582,"body_markdown":"You wrote `getAbsoluteAdapterPosition()` instead of `holder.getAbsoluteAdapterPosition()` in your switch in MyMovieAdapter.java. Maybe that&#39;s the issue.","body":"You wrote <code>getAbsoluteAdapterPosition()</code> instead of <code>holder.getAbsoluteAdapterPosition()</code> in your switch in MyMovieAdapter.java. Maybe that&#39;s the issue."},{"owner":{"account_id":12927307,"reputation":189,"user_id":10859978,"display_name":"Emma.bk"},"score":0,"creation_date":1649420387,"post_id":71787071,"comment_id":126877031,"body_markdown":"@JanRozenbajgier Exactly that! It was so simple I can&#39;t believe I missed it, thank you!","body":"@JanRozenbajgier Exactly that! It was so simple I can&#39;t believe I missed it, thank you!"}],"owner":{"account_id":12927307,"reputation":189,"user_id":10859978,"display_name":"Emma.bk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649420638,"creation_date":1649355216,"question_id":71787071,"body_markdown":"This is the first time that I work with a RecyclerView, I can display a `Toast` for each item but I can&#39;t seem to get the `getAbsoluteAdapterPosition()` in my `onBindViewHolder`to get the position of my items so that I can make a switch to open a different Activity for each of them.\r\n\r\nMyMovieAdapter.java\r\n\r\n    public class MyMovieAdapter extends RecyclerView.Adapter&lt;MyMovieAdapter.ViewHolder&gt; {\r\n\r\n    MyMovieData[] myMovieData;\r\n    Context context;\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, int position) {\r\n        final MyMovieData myMovieDataList = myMovieData[position];\r\n        holder.textViewName.setText(myMovieDataList.getMovieName());\r\n        holder.textViewDate.setText(myMovieDataList.getMovieDate());\r\n        holder.movieImage.setImageResource(myMovieDataList.getMovieImage());\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(context, myMovieDataList.getMovieName(), Toast.LENGTH_SHORT).show();\r\n                Log.d(TAG, &quot;position = &quot; + holder.getAbsoluteAdapterPosition());\r\n\r\n                final Intent intent;\r\n                switch (getAbsoluteAdapterPosition()){\r\n                    case 0:\r\n                        intent =  new Intent(context, Activity1.class);\r\n                        break;\r\n\r\n                    case 1:\r\n                        intent =  new Intent(context, Activity2.class);\r\n                        break;\r\n\r\n                    default:\r\n                        intent =  new Intent(context, Activity3.class);\r\n                        break;\r\n                }\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nI tried putting the OnClick in the MainActivity like that :\r\n\r\n        public void onItemClick(View view, int position) {\r\n        Context context=view.getContext();\r\n        Intent intent= new Intent();\r\n        switch (position){\r\n            case 0:\r\n                intent =  new Intent(context, Activity1.class);\r\n                context.startActivity(intent);\r\n                break;\r\n        }\r\n    }\r\n\r\nBut it doesn&#39;t work either. Any idea what I am doing wrong ?\r\n\r\nAnswer: I forgot to put `holder.` before my `getAbsoluteAdapterPosition()`.","title":"Recyclerview opens different Activities with OnClick","body":"<p>This is the first time that I work with a RecyclerView, I can display a <code>Toast</code> for each item but I can't seem to get the <code>getAbsoluteAdapterPosition()</code> in my <code>onBindViewHolder</code>to get the position of my items so that I can make a switch to open a different Activity for each of them.</p>\n<p>MyMovieAdapter.java</p>\n<pre><code>public class MyMovieAdapter extends RecyclerView.Adapter&lt;MyMovieAdapter.ViewHolder&gt; {\n\nMyMovieData[] myMovieData;\nContext context;\n\n@Override\npublic void onBindViewHolder(@NonNull final ViewHolder holder, int position) {\n    final MyMovieData myMovieDataList = myMovieData[position];\n    holder.textViewName.setText(myMovieDataList.getMovieName());\n    holder.textViewDate.setText(myMovieDataList.getMovieDate());\n    holder.movieImage.setImageResource(myMovieDataList.getMovieImage());\n\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Toast.makeText(context, myMovieDataList.getMovieName(), Toast.LENGTH_SHORT).show();\n            Log.d(TAG, &quot;position = &quot; + holder.getAbsoluteAdapterPosition());\n\n            final Intent intent;\n            switch (getAbsoluteAdapterPosition()){\n                case 0:\n                    intent =  new Intent(context, Activity1.class);\n                    break;\n\n                case 1:\n                    intent =  new Intent(context, Activity2.class);\n                    break;\n\n                default:\n                    intent =  new Intent(context, Activity3.class);\n                    break;\n            }\n            context.startActivity(intent);\n        }\n    });\n}\n</code></pre>\n<p>I tried putting the OnClick in the MainActivity like that :</p>\n<pre><code>    public void onItemClick(View view, int position) {\n    Context context=view.getContext();\n    Intent intent= new Intent();\n    switch (position){\n        case 0:\n            intent =  new Intent(context, Activity1.class);\n            context.startActivity(intent);\n            break;\n    }\n}\n</code></pre>\n<p>But it doesn't work either. Any idea what I am doing wrong ?</p>\n<p>Answer: I forgot to put <code>holder.</code> before my <code>getAbsoluteAdapterPosition()</code>.</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1638296209,"post_id":70066889,"comment_id":124049196,"body_markdown":"what error do you get ? A screen show would be nice.","body":"what error do you get ? A screen show would be nice."}],"answers":[{"tags":[],"owner":{"account_id":104210,"reputation":1661,"user_id":278740,"accept_rate":61,"display_name":"jayjaypg22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649420603,"creation_date":1649420603,"answer_id":71796936,"question_id":70066889,"body_markdown":"Sorry my question was not complete indeed. I don&#39;t have the error log anymore but it was a configuration mistake AND an adaptation one : With this use I don&#39;t need the -p option. It &#39;s already define in my blabla.xsd.\r\n\r\n    &lt;exec executable=&quot;xjc&quot;&gt;\r\n    \t\t&lt;arg value=&quot;-d&quot;/&gt;\r\n    \t    &lt;arg value=&quot;${generated.sources.path}&quot;/&gt;\r\n    \t    &lt;arg value=&quot;${xjc.xsd.dir}/blabla.xsd&quot;/&gt;\r\n    \t&lt;/exec&gt;\r\n\r\n","title":"Ant formulation transformation from taskdef to exec problem","body":"<p>Sorry my question was not complete indeed. I don't have the error log anymore but it was a configuration mistake AND an adaptation one : With this use I don't need the -p option. It 's already define in my blabla.xsd.</p>\n<pre><code>&lt;exec executable=&quot;xjc&quot;&gt;\n        &lt;arg value=&quot;-d&quot;/&gt;\n        &lt;arg value=&quot;${generated.sources.path}&quot;/&gt;\n        &lt;arg value=&quot;${xjc.xsd.dir}/blabla.xsd&quot;/&gt;\n    &lt;/exec&gt;\n</code></pre>\n"}],"owner":{"account_id":104210,"reputation":1661,"user_id":278740,"accept_rate":61,"display_name":"jayjaypg22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649420603,"creation_date":1637589223,"question_id":70066889,"body_markdown":"Due to the same problem than [this question][1]I hava to transform this :\r\n\r\n    \t&lt;target name=&quot;generateStubs&quot; depends=&quot;init&quot;&gt;\r\n\t\r\n\t\t&lt;echo message=&quot;Generation des stubs depuis project-model&quot;/&gt;\r\n\t\t\r\n\t\t&lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&gt;\r\n\t\t\t&lt;classpath&gt;\r\n\t\t\t\t&lt;fileset dir=&quot;../src/lib/&quot; includes=&quot;*.jar&quot; /&gt;\r\n\t\t\t&lt;/classpath&gt;\r\n\t\t&lt;/taskdef&gt;\r\n\t\t\r\n\t\t&lt;xjc destdir=&quot;${generated.sources.path}&quot;&gt;\r\n\t\t\t&lt;schema  dir=&quot;../project-model/src/main/resources/xsd/&quot; includes=&quot;*.xsd&quot;/&gt;\r\n\t\t\t&lt;produces dir=&quot;${generated.sources.path}&quot; includes=&quot;**/*&quot; /&gt;\r\n\t\t&lt;/xjc&gt;\t\t\t\r\n\t&lt;/target&gt;\r\n\r\nusing this kind of formulation :\r\n\r\n    \t&lt;exec executable=&quot;xjc&quot;&gt;\r\n\t\t\t&lt;arg value=&quot;-d&quot;/&gt;\r\n\t\t    &lt;arg value=&quot;../src/lib/&quot;/&gt;\r\n\t\t    &lt;arg value=&quot;-p&quot;/&gt;\r\n\t\t    &lt;arg value=&quot;bla.bla.bla&quot;/&gt;\r\n\t\t    &lt;arg value=&quot;${xjc.in.dir}/bla.xsd&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\r\nI&#39;ve try some stuff, but I can&#39;t figure this out, any idea ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14523042/ant-cant-find-an-ant-class-dateutils-while-building/32630924#32630924","title":"Ant formulation transformation from taskdef to exec problem","body":"<p>Due to the same problem than <a href=\"https://stackoverflow.com/questions/14523042/ant-cant-find-an-ant-class-dateutils-while-building/32630924#32630924\">this question</a>I hava to transform this :</p>\n<pre><code>    &lt;target name=&quot;generateStubs&quot; depends=&quot;init&quot;&gt;\n\n    &lt;echo message=&quot;Generation des stubs depuis project-model&quot;/&gt;\n    \n    &lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&gt;\n        &lt;classpath&gt;\n            &lt;fileset dir=&quot;../src/lib/&quot; includes=&quot;*.jar&quot; /&gt;\n        &lt;/classpath&gt;\n    &lt;/taskdef&gt;\n    \n    &lt;xjc destdir=&quot;${generated.sources.path}&quot;&gt;\n        &lt;schema  dir=&quot;../project-model/src/main/resources/xsd/&quot; includes=&quot;*.xsd&quot;/&gt;\n        &lt;produces dir=&quot;${generated.sources.path}&quot; includes=&quot;**/*&quot; /&gt;\n    &lt;/xjc&gt;          \n&lt;/target&gt;\n</code></pre>\n<p>using this kind of formulation :</p>\n<pre><code>    &lt;exec executable=&quot;xjc&quot;&gt;\n        &lt;arg value=&quot;-d&quot;/&gt;\n        &lt;arg value=&quot;../src/lib/&quot;/&gt;\n        &lt;arg value=&quot;-p&quot;/&gt;\n        &lt;arg value=&quot;bla.bla.bla&quot;/&gt;\n        &lt;arg value=&quot;${xjc.in.dir}/bla.xsd&quot;/&gt;\n    &lt;/exec&gt;\n</code></pre>\n<p>I've try some stuff, but I can't figure this out, any idea ?</p>\n"},{"tags":["java","class","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648254190,"post_id":71623983,"comment_id":126585816,"body_markdown":"@MartinZeitler It does almost entirely! I see now that the classes you make are not all loaded until they are needed to be used in the program. I am still unsure where the classes I make are stored inside the heap. Was I correct that they are stored inside the `Method Area` of the heap, or are they stored elsewhere? Also is the `file.class` that the JVM makes on program startup, have all the classes?","body":"@MartinZeitler It does almost entirely! I see now that the classes you make are not all loaded until they are needed to be used in the program. I am still unsure where the classes I make are stored inside the heap. Was I correct that they are stored inside the <code>Method Area</code> of the heap, or are they stored elsewhere? Also is the <code>file.class</code> that the JVM makes on program startup, have all the classes?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648288902,"post_id":71623983,"comment_id":126590059,"body_markdown":"Out of curiosity, why do you care? Beyond that, please understand that you are supposed to do some research prior posting, and the official JVM spec is very clear what is stored in the method area: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.4","body":"Out of curiosity, why do you care? Beyond that, please understand that you are supposed to do some research prior posting, and the official JVM spec is very clear what is stored in the method area: <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se8/html/&hellip;</a>"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":1,"creation_date":1648312077,"post_id":71623983,"comment_id":126594582,"body_markdown":"**PART 1** @GhostCat Two things!  I also did a lot of supplemental reading on the JRE, JVM, JDK, and the Java Architecture in general. Which helped me understand bytecode, and source codes journey from getting compiled into bytecode -&gt; then the JIT Compiler turning the bytecode into machinecode. Which also led me to understanding where the classpath is located, and how it is all used. As for why I care, to be perfectly honest, I am just extremely interested in actually understanding the innerworkings of what im doing, and not just saying &quot;If I cant see it, it doesnt matter to me&quot;, Ive been on","body":"<b>PART 1</b> @GhostCat Two things!  I also did a lot of supplemental reading on the JRE, JVM, JDK, and the Java Architecture in general. Which helped me understand bytecode, and source codes journey from getting compiled into bytecode -&gt; then the JIT Compiler turning the bytecode into machinecode. Which also led me to understanding where the classpath is located, and how it is all used. As for why I care, to be perfectly honest, I am just extremely interested in actually understanding the innerworkings of what im doing, and not just saying &quot;If I cant see it, it doesnt matter to me&quot;, Ive been on"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":1,"creation_date":1648312366,"post_id":71623983,"comment_id":126594645,"body_markdown":"**PART 2** @GhostCat a three day journey down the rabbit whole of the Java Architecture, It all started with me wanting to know if Objects(not their reference/pointer variables) are stored on the stack or heap(which peaked my interest because the next subject in my Data Structures class is on the topic of the heap and Trees and Binary Search Tree and such, so I thought why not get a little early &quot;self-learning&quot; in), and after learning that I kept going down the Architecture wanting to know how it all works together in unison, to compile and run!","body":"<b>PART 2</b> @GhostCat a three day journey down the rabbit whole of the Java Architecture, It all started with me wanting to know if Objects(not their reference/pointer variables) are stored on the stack or heap(which peaked my interest because the next subject in my Data Structures class is on the topic of the heap and Trees and Binary Search Tree and such, so I thought why not get a little early &quot;self-learning&quot; in), and after learning that I kept going down the Architecture wanting to know how it all works together in unison, to compile and run!"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648312652,"post_id":71623983,"comment_id":126594721,"body_markdown":"@GhostCat I read your account, and your history sounds super interesting, and I love that you said &quot;my main love is still Java&quot; because I was initially turned off to Java by so many people saying they hated it, but not really ever explaining why. And now that I have been using it, and understanding its inner-workings, I&#39;m starting to love it! Is there a reason everyone hates on Java?","body":"@GhostCat I read your account, and your history sounds super interesting, and I love that you said &quot;my main love is still Java&quot; because I was initially turned off to Java by so many people saying they hated it, but not really ever explaining why. And now that I have been using it, and understanding its inner-workings, I&#39;m starting to love it! Is there a reason everyone hates on Java?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648354891,"post_id":71623983,"comment_id":126601036,"body_markdown":"Great comments, first of all. Too many people just don&#39;t care about &quot;inner workings&quot;.  Apply some stuff they find on the interwebs, and then wonder when things break apart later on and they don&#39;t have any clue. Yeah, that inner drive to *understand* what is going on, that is so important. So Java ... I guess it is an age thing. Before I met Java in university, we were using obscure functional languages with unstable tooling. And then C++. Which gave you a segfault if you put the wrong char here or there.","body":"Great comments, first of all. Too many people just don&#39;t care about &quot;inner workings&quot;.  Apply some stuff they find on the interwebs, and then wonder when things break apart later on and they don&#39;t have any clue. Yeah, that inner drive to <i>understand</i> what is going on, that is so important. So Java ... I guess it is an age thing. Before I met Java in university, we were using obscure functional languages with unstable tooling. And then C++. Which gave you a segfault if you put the wrong char here or there."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648355084,"post_id":71623983,"comment_id":126601052,"body_markdown":"With Java in the early days; it was just fresh, and surprisingly stable. Simple, but powerful. Of course, over the years, a lot of things got added, and not every decision the language owners made really worked out. And to a certain degree, it became the new COBOL. And you know, young people today want to ride a Tesla sports car. They don&#39;t understand why &quot;them boomers&quot; still love their clumsy semi truck that maybe needs a lot of fossil fuel, but allows them to do everything and go everywhere.","body":"With Java in the early days; it was just fresh, and surprisingly stable. Simple, but powerful. Of course, over the years, a lot of things got added, and not every decision the language owners made really worked out. And to a certain degree, it became the new COBOL. And you know, young people today want to ride a Tesla sports car. They don&#39;t understand why &quot;them boomers&quot; still love their clumsy semi truck that maybe needs a lot of fossil fuel, but allows them to do everything and go everywhere."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648355273,"post_id":71623983,"comment_id":126601068,"body_markdown":"So, for me personally: a good programmer can (more easily than in other languages, imho) write &quot;good code&quot; with Java: code that runs fast (enough), is on the right level of abstraction to focus on the BUSINESS problem, and that is easy to read&amp;understand&amp;enhance. Other languages (like C++) somehow get you to always think about &quot;how to make it as fast as possible&quot;, instead of first going &quot;what is the problem we want to solve?&quot;. On the other hand, stuff like Scala went overboard, easily leading to code that only a computer science PhD person can really understand.","body":"So, for me personally: a good programmer can (more easily than in other languages, imho) write &quot;good code&quot; with Java: code that runs fast (enough), is on the right level of abstraction to focus on the BUSINESS problem, and that is easy to read&amp;understand&amp;enhance. Other languages (like C++) somehow get you to always think about &quot;how to make it as fast as possible&quot;, instead of first going &quot;what is the problem we want to solve?&quot;. On the other hand, stuff like Scala went overboard, easily leading to code that only a computer science PhD person can really understand."},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":1,"creation_date":1648521348,"post_id":71623983,"comment_id":126639139,"body_markdown":"@GhostCat Sorry for the late reply, I was celebrating my fathers birthday! Thank you so much for the encouraging words, it not only helps me to push forward, but push forward harder! And ahhhh I see now, so people have their reasons, but in the end Java is great (to me and most definitely you, it is haha). Having used: C#, Lua, and Java, I can most definitely tell you Im having my favorite time with Java. I totally agree with your sentiments that Java without a doubt lets you write &quot;good code&quot;","body":"@GhostCat Sorry for the late reply, I was celebrating my fathers birthday! Thank you so much for the encouraging words, it not only helps me to push forward, but push forward harder! And ahhhh I see now, so people have their reasons, but in the end Java is great (to me and most definitely you, it is haha). Having used: C#, Lua, and Java, I can most definitely tell you Im having my favorite time with Java. I totally agree with your sentiments that Java without a doubt lets you write &quot;good code&quot;"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":1,"creation_date":1648521374,"post_id":71623983,"comment_id":126639144,"body_markdown":"@GhostCat (Im one of those few young people that drive one of those darned &quot;old&quot; BMW e30s, so what can you expect :)). Thank you again for your knowledgeable response!","body":"@GhostCat (Im one of those few young people that drive one of those darned &quot;old&quot; BMW e30s, so what can you expect :)). Thank you again for your knowledgeable response!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648527217,"post_id":71623983,"comment_id":126639900,"body_markdown":"You are very welcome!","body":"You are very welcome!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649245421,"post_id":71623983,"comment_id":126825824,"body_markdown":"I extended the duplicates list, as these other questions have answers going more into detail. Maybe, [this answer](https://stackoverflow.com/a/39268133/2711488) should be the first to read, as it is important to know the terms and distinguish the different operations.","body":"I extended the duplicates list, as these other questions have answers going more into detail. Maybe, <a href=\"https://stackoverflow.com/a/39268133/2711488\">this answer</a> should be the first to read, as it is important to know the terms and distinguish the different operations."}],"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648255992,"answer_count":0,"score":0,"last_activity_date":1649420549,"creation_date":1648249397,"question_id":71623983,"body_markdown":"Letâs say that I run a program I made that uses four different classes (denoted with `public class ExampleClass1{*code inside*}`) in their own `.java` files.\r\n\r\nDo all four of these classes get stored in the _Method Area_ of the _Heap_ on start-up?\r\n\r\nOr does only the class that with the main method that I ran get stored into the Heap on start-up and the other three classes wait to get stored, until they have code that needs to be run inside of them (i.e. object creation using their constructors, and using the object&#39;s methods)?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How are classes loaded in JVM?","body":"<p>Letâs say that I run a program I made that uses four different classes (denoted with <code>public class ExampleClass1{*code inside*}</code>) in their own <code>.java</code> files.</p>\n<p>Do all four of these classes get stored in the <em>Method Area</em> of the <em>Heap</em> on start-up?</p>\n<p>Or does only the class that with the main method that I ran get stored into the Heap on start-up and the other three classes wait to get stored, until they have code that needs to be run inside of them (i.e. object creation using their constructors, and using the object's methods)?</p>\n"},{"tags":["java","arraylist","split"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649419908,"post_id":71796639,"comment_id":126876844,"body_markdown":"Define &quot;isn&#39;t working&quot;, see [mcve].","body":"Define &quot;isn&#39;t working&quot;, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649419796,"creation_date":1649419796,"answer_id":71796759,"question_id":71796639,"body_markdown":"The problem isn&#39;t related to the list. It&#39;s the `split` command. The argument isn&#39;t &quot;Split on this string&quot;. The argument is actually a _regular expression_. And `|` is regular expression-ese for &#39;or&#39;, as in, either the thing to the left of me, or to the right of me. Given that there is nothing to its left and nothing to its right, it&#39;s identical to `.split(&quot;&quot;)`, i.e. gives a list of characters.\r\n\r\nThe solution is to write a regular expression that matches a `|` symbol: `payment.split(&quot;\\\\|&quot;)` will do it. As a general principle, `payment.split(Pattern.quote(&quot;|&quot;))` also works - and is the generalized way to solve the problem: &quot;I want to split on this exact text, regardless of what that text is&quot; - ask the regex library to escape whatever needs escaping, using its `quote` method.\r\n","title":"How to split String based on a Char, if it is in an ArrayList?","body":"<p>The problem isn't related to the list. It's the <code>split</code> command. The argument isn't &quot;Split on this string&quot;. The argument is actually a <em>regular expression</em>. And <code>|</code> is regular expression-ese for 'or', as in, either the thing to the left of me, or to the right of me. Given that there is nothing to its left and nothing to its right, it's identical to <code>.split(&quot;&quot;)</code>, i.e. gives a list of characters.</p>\n<p>The solution is to write a regular expression that matches a <code>|</code> symbol: <code>payment.split(&quot;\\\\|&quot;)</code> will do it. As a general principle, <code>payment.split(Pattern.quote(&quot;|&quot;))</code> also works - and is the generalized way to solve the problem: &quot;I want to split on this exact text, regardless of what that text is&quot; - ask the regex library to escape whatever needs escaping, using its <code>quote</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6598671,"reputation":83,"user_id":5097619,"display_name":"Rage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649419912,"creation_date":1649419912,"answer_id":71796781,"question_id":71796639,"body_markdown":"First of all, you are triggering a Regex with your split parameter.\r\n\r\nCorrect use would be `String[] data = payment.split(&quot;\\\\|&quot;);`\r\n\r\nThen, to get your currency, use `System.out.println(data[1]);`.\r\nList- and Array-Indices start with a 0, so your required second field\r\nis accessible with `[1]`.\r\n\r\nIf you use Java 8, you could \r\n\r\n \r\n\r\n    List&lt;String&gt; btcUsers =\r\n                   payments\r\n                            .stream()\r\n                            .filter(\r\n                                    payment -&gt; payment.split(&quot;\\\\|&quot;)[1]\r\n                                            .toLowerCase(Locale.ROOT)\r\n                                            .equals(&quot;btc&quot;))\r\n                           .toList();\r\n\r\nWhich results in \r\n\r\n    System.out.println(btcUsers);\r\n    [Hannah|BTC|20.0, Halim|btc|-50.0]\r\n\r\n","title":"How to split String based on a Char, if it is in an ArrayList?","body":"<p>First of all, you are triggering a Regex with your split parameter.</p>\n<p>Correct use would be <code>String[] data = payment.split(&quot;\\\\|&quot;);</code></p>\n<p>Then, to get your currency, use <code>System.out.println(data[1]);</code>.\nList- and Array-Indices start with a 0, so your required second field\nis accessible with <code>[1]</code>.</p>\n<p>If you use Java 8, you could</p>\n<pre><code>List&lt;String&gt; btcUsers =\n               payments\n                        .stream()\n                        .filter(\n                                payment -&gt; payment.split(&quot;\\\\|&quot;)[1]\n                                        .toLowerCase(Locale.ROOT)\n                                        .equals(&quot;btc&quot;))\n                       .toList();\n</code></pre>\n<p>Which results in</p>\n<pre><code>System.out.println(btcUsers);\n[Hannah|BTC|20.0, Halim|btc|-50.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2467818,"reputation":29,"user_id":2150485,"display_name":"Nikolao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649420342,"creation_date":1649420342,"answer_id":71796882,"question_id":71796639,"body_markdown":"You should keep in mind that split function take a pattern of regex and is not like PHP for example. So you need escape characters like below\r\n\r\n `String[] data = payment.split(&quot;\\\\|&quot;);`","title":"How to split String based on a Char, if it is in an ArrayList?","body":"<p>You should keep in mind that split function take a pattern of regex and is not like PHP for example. So you need escape characters like below</p>\n<p><code>String[] data = payment.split(&quot;\\\\|&quot;);</code></p>\n"}],"owner":{"account_id":17868854,"reputation":135,"user_id":12980614,"display_name":"mrkn0007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71796781,"answer_count":3,"score":1,"last_activity_date":1649420342,"creation_date":1649419298,"question_id":71796639,"body_markdown":"I have an arraylist with data structured like so:\r\n\r\n```\r\n        ArrayList&lt;String&gt; payments = new ArrayList&lt;&gt;();\r\n        payments.add(&quot;Sam|gbp|10000.0&quot;);\r\n        payments.add(&quot;John|usd|-100000.0&quot;);\r\n        payments.add(&quot;Hannah|BTC|20.0&quot;);\r\n        payments.add(&quot;Halim|btc|-50.0&quot;);\r\n```\r\n\r\nI would like to get each line, and then to do it&#39;s split, but it&#39;s not working.\r\n\r\n```\r\n for (String payment : payments) {\r\n                 String[] data = payment.split(&quot;|&quot;);\r\n                 System.out.println(data[2]);\r\n                 // Gives a list of characters.\r\n\r\n}\r\n```\r\n\r\nHow can I get each line to split and within each line, I can get the data out.\r\n\r\nForexample, to do a check of which currency is being used.\r\n","title":"How to split String based on a Char, if it is in an ArrayList?","body":"<p>I have an arraylist with data structured like so:</p>\n<pre><code>        ArrayList&lt;String&gt; payments = new ArrayList&lt;&gt;();\n        payments.add(&quot;Sam|gbp|10000.0&quot;);\n        payments.add(&quot;John|usd|-100000.0&quot;);\n        payments.add(&quot;Hannah|BTC|20.0&quot;);\n        payments.add(&quot;Halim|btc|-50.0&quot;);\n</code></pre>\n<p>I would like to get each line, and then to do it's split, but it's not working.</p>\n<pre><code> for (String payment : payments) {\n                 String[] data = payment.split(&quot;|&quot;);\n                 System.out.println(data[2]);\n                 // Gives a list of characters.\n\n}\n</code></pre>\n<p>How can I get each line to split and within each line, I can get the data out.</p>\n<p>Forexample, to do a check of which currency is being used.</p>\n"},{"tags":["java","spring","gwt"],"answers":[{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1313938786,"creation_date":1224517499,"answer_id":218878,"question_id":217775,"body_markdown":"There&#39;s an application template for Spring-GWT apps available [here][1], that you may find useful. I haven&#39;t tried it out, but I believe it&#39;s implemented as a Maven archetype. \r\n\r\nFor more background on exactly what this template does for you, and how to integrate GWT with Spring, check out the following (video) [presentation][2].\r\n\r\n\r\n  [1]: http://bram.jteam.nl/index.php/2007/06/20/springone-2007-slides-sample-code/\r\n  [2]: http://www.parleys.com/d/142","title":"Access spring bean that is exposed using http invoker from GWT application","body":"<p>There's an application template for Spring-GWT apps available <a href=\"http://bram.jteam.nl/index.php/2007/06/20/springone-2007-slides-sample-code/\" rel=\"nofollow noreferrer\">here</a>, that you may find useful. I haven't tried it out, but I believe it's implemented as a Maven archetype. </p>\n\n<p>For more background on exactly what this template does for you, and how to integrate GWT with Spring, check out the following (video) <a href=\"http://www.parleys.com/d/142\" rel=\"nofollow noreferrer\">presentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306441721,"creation_date":1306441721,"answer_id":6144656,"question_id":217775,"body_markdown":"you can try my way of GWT and Spring integration: https://code.google.com/p/gspring.\r\n\r\nIt&#39;s simple and clear.","title":"Access spring bean that is exposed using http invoker from GWT application","body":"<p>you can try my way of GWT and Spring integration: <a href=\"https://code.google.com/p/gspring\" rel=\"nofollow\">https://code.google.com/p/gspring</a>.</p>\n\n<p>It's simple and clear.</p>\n"},{"tags":[],"owner":{"account_id":318130,"reputation":4243,"user_id":635171,"accept_rate":78,"display_name":"Arun Manivannan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335289727,"creation_date":1335289727,"answer_id":10303245,"question_id":217775,"body_markdown":"I have very good experience with Spring4GWT. Did the entire integration in a about 30 minutes. (including ORM). I used this link &lt;http://www.javacodegeeks.com/2010/05/gwt-2-spring-3-jpa-2-hibernate-35.html&gt; \r\n\r\nManaged to integrate UI Binder into the stack too. Will be pushing in the code shortly to google code. (will come back to update the link here). But if you need it before that, please drop a note.\r\n","title":"Access spring bean that is exposed using http invoker from GWT application","body":"<p>I have very good experience with Spring4GWT. Did the entire integration in a about 30 minutes. (including ORM). I used this link <a href=\"http://www.javacodegeeks.com/2010/05/gwt-2-spring-3-jpa-2-hibernate-35.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2010/05/gwt-2-spring-3-jpa-2-hibernate-35.html</a> </p>\n\n<p>Managed to integrate UI Binder into the stack too. Will be pushing in the code shortly to google code. (will come back to update the link here). But if you need it before that, please drop a note.</p>\n"}],"owner":{"account_id":10582,"reputation":2468,"user_id":20065,"accept_rate":76,"display_name":"Yonatan Maman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":218878,"answer_count":3,"score":2,"last_activity_date":1649420290,"creation_date":1224491224,"question_id":217775,"body_markdown":"Can I access spring bean that exposed using http invoker (server) from GWT application (client)?\r\n\r\nIf so is there any example / tutorial for that?\r\n","title":"Access spring bean that is exposed using http invoker from GWT application","body":"<p>Can I access spring bean that exposed using http invoker (server) from GWT application (client)?</p>\n<p>If so is there any example / tutorial for that?</p>\n"},{"tags":["java","linked-list","nodes"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648007285,"post_id":71581518,"comment_id":126512448,"body_markdown":"`link` is a reference to a `Node` instance on the heap, exactly as `temp2` is.","body":"<code>link</code> is a reference to a <code>Node</code> instance on the heap, exactly as <code>temp2</code> is."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":1,"creation_date":1648007528,"post_id":71581518,"comment_id":126512489,"body_markdown":"Seems to me like you are struggling with the idea of pointers. Yes, references are pointers into the heap.  All objects are on the heap from the moment you create them (even the reference to `this` is a pointer into the heap). Yes, objects can have cyclical references (self-referential references are fine). When an object has a field with an object of any type, it is always a pointer so there are no issues caused by self-referential types. To learn more about how the Oracle JVM does references, you might find this interesting(or slightly confusing): https://stackoverflow.com/q/58387338/5987669","body":"Seems to me like you are struggling with the idea of pointers. Yes, references are pointers into the heap.  All objects are on the heap from the moment you create them (even the reference to <code>this</code> is a pointer into the heap). Yes, objects can have cyclical references (self-referential references are fine). When an object has a field with an object of any type, it is always a pointer so there are no issues caused by self-referential types. To learn more about how the Oracle JVM does references, you might find this interesting(or slightly confusing): <a href=\"https://stackoverflow.com/q/58387338/5987669\">stackoverflow.com/q/58387338/5987669</a>"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":1,"creation_date":1648007797,"post_id":71581518,"comment_id":126512534,"body_markdown":"If you use backticks(\\`) instead of single quotes(&#39;), you can make code blocks in your question. It is normally the same button as ~, but I don&#39;t know it is available on all mobile devices.","body":"If you use backticks(`) instead of single quotes(&#39;), you can make code blocks in your question. It is normally the same button as ~, but I don&#39;t know it is available on all mobile devices."},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648011351,"post_id":71581518,"comment_id":126513111,"body_markdown":"@Locke Thank you for the link, that was super interesting, and exactly the type of stuff I&#39;m into!","body":"@Locke Thank you for the link, that was super interesting, and exactly the type of stuff I&#39;m into!"}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648009047,"creation_date":1648009047,"answer_id":71581777,"question_id":71581518,"body_markdown":"&gt; Is the `link` Node an object itself in a way?\r\n\r\nIt points to a `Node` the same way `temp1` or `temp2` does. There is not really a concept of ownership though. `link` is not a node, but it can tell you where to find one. You can think of `link` as just an index in memory. It links that node to the next one by acting as a pointer to the next node in the chain. `link` could be `null`, the same `Node` (although that would not make much sense for a linked list), or a different `Node`.\r\n\r\n\r\n&gt; SO when I do `temp1.link = temp2` does that mean `temp1.link` as an entirety equal `temp2` or does that mean just the `.link` portion of `temp1.link` equal temp2?\r\n\r\nIt means that `temp1.link` is the same pointer as `temp2`. Conceptually you only ever work with references in Java since you can&#39;t actually allocate an object on the stack.\r\n\r\n```java\r\npublic class Node {\r\n    int value;\r\n    Node link;\r\n}\r\n\r\n\r\n// a and b point to the data of each node\r\nNode a = new Node();\r\nNode b = new Node();\r\n\r\n// Give some data\r\na.value = 2;\r\nb.value = 9;\r\n\r\n// Now a contains a pointer to the data of b.\r\na.link = b;\r\n\r\n// We can check this by printing the value of the linked node\r\nSystem.out.println(a.value); // 2\r\nSystem.out.println(a.link.value); // 9\r\n\r\n// We can also have an object store a pointer to itself\r\nb.link = b;\r\n\r\n// We can check this by printing the value of the linked node\r\nSystem.out.println(b.link.value);\r\n\r\n// We can also check b and b.link are the same pointers.\r\nSystem.out.println(b == b.link); // true\r\n```\r\n\r\n&gt; I am confused because since `link` is a Node does that mean it is a reference variable to an object on its own? Can an object have an attribute that is also the same datatype(like self-referential)?\r\n\r\nDon&#39;t think of `link` as a `Node`. `link` is just a pointer to something of type `Node`. Because it is just a pointer, it can be self-referential.\r\n\r\n\r\n&gt; Does the `link` pointer, point to `temp2` objects address in memory heap. Or does the `link` pointer point to the object reference variable `temp2` FIRST and then `temp2` points to the object address in memory and returns it up the line to `link`?\r\n\r\nBoth `link` and `temp2` point to the data in the heap for the same `Node`. Pointers are just integers so `link` and `temp2` are completely indistinguishable in memory. Java does not let you use raw pointers so it is not possible to take a pointer to a variable on the stack.","title":"Understanding the Node &#39;link&#39; in the Node Class","body":"<blockquote>\n<p>Is the <code>link</code> Node an object itself in a way?</p>\n</blockquote>\n<p>It points to a <code>Node</code> the same way <code>temp1</code> or <code>temp2</code> does. There is not really a concept of ownership though. <code>link</code> is not a node, but it can tell you where to find one. You can think of <code>link</code> as just an index in memory. It links that node to the next one by acting as a pointer to the next node in the chain. <code>link</code> could be <code>null</code>, the same <code>Node</code> (although that would not make much sense for a linked list), or a different <code>Node</code>.</p>\n<blockquote>\n<p>SO when I do <code>temp1.link = temp2</code> does that mean <code>temp1.link</code> as an entirety equal <code>temp2</code> or does that mean just the <code>.link</code> portion of <code>temp1.link</code> equal temp2?</p>\n</blockquote>\n<p>It means that <code>temp1.link</code> is the same pointer as <code>temp2</code>. Conceptually you only ever work with references in Java since you can't actually allocate an object on the stack.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node {\n    int value;\n    Node link;\n}\n\n\n// a and b point to the data of each node\nNode a = new Node();\nNode b = new Node();\n\n// Give some data\na.value = 2;\nb.value = 9;\n\n// Now a contains a pointer to the data of b.\na.link = b;\n\n// We can check this by printing the value of the linked node\nSystem.out.println(a.value); // 2\nSystem.out.println(a.link.value); // 9\n\n// We can also have an object store a pointer to itself\nb.link = b;\n\n// We can check this by printing the value of the linked node\nSystem.out.println(b.link.value);\n\n// We can also check b and b.link are the same pointers.\nSystem.out.println(b == b.link); // true\n</code></pre>\n<blockquote>\n<p>I am confused because since <code>link</code> is a Node does that mean it is a reference variable to an object on its own? Can an object have an attribute that is also the same datatype(like self-referential)?</p>\n</blockquote>\n<p>Don't think of <code>link</code> as a <code>Node</code>. <code>link</code> is just a pointer to something of type <code>Node</code>. Because it is just a pointer, it can be self-referential.</p>\n<blockquote>\n<p>Does the <code>link</code> pointer, point to <code>temp2</code> objects address in memory heap. Or does the <code>link</code> pointer point to the object reference variable <code>temp2</code> FIRST and then <code>temp2</code> points to the object address in memory and returns it up the line to <code>link</code>?</p>\n</blockquote>\n<p>Both <code>link</code> and <code>temp2</code> point to the data in the heap for the same <code>Node</code>. Pointers are just integers so <code>link</code> and <code>temp2</code> are completely indistinguishable in memory. Java does not let you use raw pointers so it is not possible to take a pointer to a variable on the stack.</p>\n"}],"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71581777,"answer_count":1,"score":0,"last_activity_date":1649420210,"creation_date":1648006411,"question_id":71581518,"body_markdown":"So in the Node Class one of the Node objects attributes is `link` which itself a Node. Is the `link` Node an object itself in a way? To truly explain my question letâs say we have a LinkedList with:\r\n\r\n`temp1` being the 1st Node in the list and `temp2` being the 2nd Node in the list.\r\n\r\nIn reality, `temp1` and `temp2` are just reference variables to the real objects in the heap. So when I do `temp1.link` (`temp1.link = temp2`), does that mean `temp1.link` as an entirety equal `temp2` or does that mean just the `.link` portion of `temp1.link` equal `temp2`?\r\n\r\nI am confused because since `link` is a Node does that mean it is a reference variable to an object on its own? Can an object have an attribute that is also the same datatype (like self-referential)?\r\n\r\nDoes the `link` pointer, point to `temp2` objects address in memory heap. Or does the `link` pointer point to the object reference variable `temp2` FIRST and then &#39;temp2&#39; points to the object address in memory and returns it up the line to `link`?\r\n\r\nWhat *started* this question in the first place was:\r\nWhat does `newTreeNode.compareTo(current)//TreeNode current = root` do compared to `newTreeNode.data.compareTo(current.data)` because doesnât only the object reference variable `newTreeNode` have access to using the `compareTo()` method and not `newTreeNode.data`?\r\n\r\n\r\n\r\n","title":"Understanding the Node &#39;link&#39; in the Node Class","body":"<p>So in the Node Class one of the Node objects attributes is <code>link</code> which itself a Node. Is the <code>link</code> Node an object itself in a way? To truly explain my question letâs say we have a LinkedList with:</p>\n<p><code>temp1</code> being the 1st Node in the list and <code>temp2</code> being the 2nd Node in the list.</p>\n<p>In reality, <code>temp1</code> and <code>temp2</code> are just reference variables to the real objects in the heap. So when I do <code>temp1.link</code> (<code>temp1.link = temp2</code>), does that mean <code>temp1.link</code> as an entirety equal <code>temp2</code> or does that mean just the <code>.link</code> portion of <code>temp1.link</code> equal <code>temp2</code>?</p>\n<p>I am confused because since <code>link</code> is a Node does that mean it is a reference variable to an object on its own? Can an object have an attribute that is also the same datatype (like self-referential)?</p>\n<p>Does the <code>link</code> pointer, point to <code>temp2</code> objects address in memory heap. Or does the <code>link</code> pointer point to the object reference variable <code>temp2</code> FIRST and then 'temp2' points to the object address in memory and returns it up the line to <code>link</code>?</p>\n<p>What <em>started</em> this question in the first place was:\nWhat does <code>newTreeNode.compareTo(current)//TreeNode current = root</code> do compared to <code>newTreeNode.data.compareTo(current.data)</code> because doesnât only the object reference variable <code>newTreeNode</code> have access to using the <code>compareTo()</code> method and not <code>newTreeNode.data</code>?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649412949,"post_id":71795221,"comment_id":126874333,"body_markdown":"Which method returns null?","body":"Which method returns null?"},{"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"score":0,"creation_date":1649414969,"post_id":71795221,"comment_id":126875035,"body_markdown":"In BloodBank.java &quot;OnAuthStateChange&quot;","body":"In BloodBank.java &quot;OnAuthStateChange&quot;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649416409,"post_id":71795221,"comment_id":126875534,"body_markdown":"What exactly inside it is null?","body":"What exactly inside it is null?"},{"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"score":0,"creation_date":1649431867,"post_id":71795221,"comment_id":126881912,"body_markdown":"After loged in the current user shouldn&#39;t null but it&#39;s returning null i mean no user loged in","body":"After loged in the current user shouldn&#39;t null but it&#39;s returning null i mean no user loged in"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649431897,"post_id":71795221,"comment_id":126881928,"body_markdown":"So make sure the uses is logged in, and try again.","body":"So make sure the uses is logged in, and try again."},{"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"score":0,"creation_date":1649432542,"post_id":71795221,"comment_id":126882209,"body_markdown":"Yes I tried after logged in but it&#39;s return null user that&#39;s why o posted it here","body":"Yes I tried after logged in but it&#39;s return null user that&#39;s why o posted it here"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649446489,"post_id":71795221,"comment_id":126886623,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649420036,"creation_date":1649412612,"question_id":71795221,"body_markdown":"After Successful log in my SignIn activity intent to BloodBank activity and the activity check if there any Currentuser or not.\r\nIn my case when it comes to BloodBank activity after log in, the method returning current user is null always\r\nIs there any idea how I can resolve this issue?\r\n\r\nHere is my SignIn Activity.java\r\n\r\n    public class SignIn extends AppCompatActivity {\r\n\r\n    Button signIn,forgetPass;\r\n    TextView backToSignUp,number,password;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n\r\n        signIn=findViewById(R.id.signInButtonId);\r\n        forgetPass=findViewById(R.id.forgetPassButtonId);\r\n        backToSignUp=findViewById(R.id.signUpBack);\r\n        number=findViewById(R.id.signInNumberId);\r\n        password=findViewById(R.id.signInPasswordId);\r\n\r\n\r\n        signIn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                final String _phone = number.getText().toString().trim();\r\n                final String _password = password.getText().toString().trim();\r\n\r\n                if (_phone.isEmpty()) {\r\n                    number.setError(&quot;Enter Your Phone Number&quot;);\r\n                    number.requestFocus();\r\n                    return;\r\n                }\r\n                if (_password.isEmpty()) {\r\n                    password.setError(&quot;Enter a password&quot;);\r\n                    password.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;BloodBank_users&quot;);\r\n                Query checkUser=reference.orderByChild(&quot;phone&quot;).equalTo(_phone);\r\n\r\n                checkUser.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (snapshot.exists()) {\r\n                            number.setError(null);\r\n                            number.setEnabled(true);\r\n\r\n                            String passwordFromDB = snapshot.child(_phone).child(&quot;password&quot;).getValue(String.class);\r\n\r\n                            if (passwordFromDB.equals(_password)) {\r\n\r\n                                password.setError(null);\r\n                                password.setEnabled(true);\r\n\r\n                                Intent intent = new Intent(getApplicationContext(),BloodBankMain.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            } else {\r\n                                password.setError(&quot;Wrong Password Or User Name&quot;);\r\n                                password.requestFocus();\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            number.setError(&quot;This Number Is Not Registered&quot;);\r\n                            number.requestFocus();\r\n                        }\r\n                    }\r\n\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\nHere is my BloodBank.Java\r\n\r\n    public class BloodBank extends AppCompatActivity {\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    FirebaseAuth.AuthStateListener mAuthListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_blood_bank);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        mAuthListener = new FirebaseAuth.AuthStateListener(){\r\n            @Override\r\n            public  void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth){\r\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if(user!=null){\r\n                    Intent intent = new Intent(BloodBank.this, BloodBankMain.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n                else{\r\n                    Intent intent = new Intent(BloodBank.this,SignIn.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n\r\n\r\n\r\n        };\r\n\r\n\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        firebaseAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        firebaseAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        firebaseAuth.removeAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n \r\n    }","title":"Firebase get Current User null in new activity after logged in user","body":"<p>After Successful log in my SignIn activity intent to BloodBank activity and the activity check if there any Currentuser or not.\nIn my case when it comes to BloodBank activity after log in, the method returning current user is null always\nIs there any idea how I can resolve this issue?</p>\n<p>Here is my SignIn Activity.java</p>\n<pre><code>public class SignIn extends AppCompatActivity {\n\nButton signIn,forgetPass;\nTextView backToSignUp,number,password;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_sign_in);\n\n    signIn=findViewById(R.id.signInButtonId);\n    forgetPass=findViewById(R.id.forgetPassButtonId);\n    backToSignUp=findViewById(R.id.signUpBack);\n    number=findViewById(R.id.signInNumberId);\n    password=findViewById(R.id.signInPasswordId);\n\n\n    signIn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            final String _phone = number.getText().toString().trim();\n            final String _password = password.getText().toString().trim();\n\n            if (_phone.isEmpty()) {\n                number.setError(&quot;Enter Your Phone Number&quot;);\n                number.requestFocus();\n                return;\n            }\n            if (_password.isEmpty()) {\n                password.setError(&quot;Enter a password&quot;);\n                password.requestFocus();\n                return;\n            }\n\n            DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;BloodBank_users&quot;);\n            Query checkUser=reference.orderByChild(&quot;phone&quot;).equalTo(_phone);\n\n            checkUser.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (snapshot.exists()) {\n                        number.setError(null);\n                        number.setEnabled(true);\n\n                        String passwordFromDB = snapshot.child(_phone).child(&quot;password&quot;).getValue(String.class);\n\n                        if (passwordFromDB.equals(_password)) {\n\n                            password.setError(null);\n                            password.setEnabled(true);\n\n                            Intent intent = new Intent(getApplicationContext(),BloodBankMain.class);\n                            startActivity(intent);\n                            finish();\n                        } else {\n                            password.setError(&quot;Wrong Password Or User Name&quot;);\n                            password.requestFocus();\n                        }\n\n                    }\n                    else {\n                        number.setError(&quot;This Number Is Not Registered&quot;);\n                        number.requestFocus();\n                    }\n                }\n\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n\n        }\n    });\n}\n}\n</code></pre>\n<p>Here is my BloodBank.Java</p>\n<pre><code>public class BloodBank extends AppCompatActivity {\n\nprivate FirebaseAuth firebaseAuth;\nFirebaseAuth.AuthStateListener mAuthListener;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_blood_bank);\n\n    firebaseAuth = FirebaseAuth.getInstance();\n\n    mAuthListener = new FirebaseAuth.AuthStateListener(){\n        @Override\n        public  void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth){\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n            if(user!=null){\n                Intent intent = new Intent(BloodBank.this, BloodBankMain.class);\n                startActivity(intent);\n                finish();\n            }\n            else{\n                Intent intent = new Intent(BloodBank.this,SignIn.class);\n                startActivity(intent);\n                finish();\n            }\n        }\n\n\n\n    };\n\n\n}\n@Override\nprotected void onStart() {\n    super.onStart();\n    firebaseAuth.addAuthStateListener(mAuthListener);\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    firebaseAuth.addAuthStateListener(mAuthListener);\n}\n\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    firebaseAuth.removeAuthStateListener(mAuthListener);\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":23874,"reputation":1068,"user_id":60231,"accept_rate":88,"display_name":"JediPotPie"},"score":0,"creation_date":1291237851,"post_id":4326037,"comment_id":4704638,"body_markdown":"As pointed out by Andi Krusch, don&#39;t get caught up in the &quot;name&quot; attributes I used in the XML.  They are just there to make my question easier to understand. (I thought) :-)","body":"As pointed out by Andi Krusch, don&#39;t get caught up in the &quot;name&quot; attributes I used in the XML.  They are just there to make my question easier to understand. (I thought) :-)"},{"owner":{"account_id":23874,"reputation":1068,"user_id":60231,"accept_rate":88,"display_name":"JediPotPie"},"score":0,"creation_date":1292253462,"post_id":4326037,"comment_id":4835043,"body_markdown":"wow!  I thought this would be an easy one for somebody.  So, is the community saying that it can&#39;t be done?","body":"wow!  I thought this would be an easy one for somebody.  So, is the community saying that it can&#39;t be done?"}],"answers":[{"tags":[],"owner":{"account_id":249644,"reputation":1383,"user_id":525856,"display_name":"Andi Krusch"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1291219135,"creation_date":1291219135,"answer_id":4326242,"question_id":4326037,"body_markdown":"An Array isn&#39;t a name/value pair. You only can access the elements by number. The syntax in the xml is wrong. It should be that way:\r\n\r\n\r\n    &lt;string-array name=&quot;string_array_name&quot;&gt;\r\n        &lt;item&gt;text_string1&lt;/item&gt;\r\n        &lt;item&gt;text_string2&lt;/item&gt;\r\n     &lt;/string-array&gt;\r\n\r\n","title":"Android Resource - Array of Arrays","body":"<p>An Array isn't a name/value pair. You only can access the elements by number. The syntax in the xml is wrong. It should be that way:</p>\n\n<pre><code>&lt;string-array name=\"string_array_name\"&gt;\n    &lt;item&gt;text_string1&lt;/item&gt;\n    &lt;item&gt;text_string2&lt;/item&gt;\n &lt;/string-array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":125,"is_accepted":true,"score":124,"last_activity_date":1304897291,"creation_date":1304897291,"answer_id":5931094,"question_id":4326037,"body_markdown":"You can almost do what you want. You have to declare each array separately and then an array of references. Something like this:\r\n\r\n    &lt;string-array name=&quot;array01&quot;&gt;\r\n        &lt;item name=&quot;id&quot;&gt;1&lt;/item&gt;\r\n        &lt;item name=&quot;title&quot;&gt;item one&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    &lt;!-- etc. --&gt;\r\n    &lt;array name=&quot;array0&quot;&gt;\r\n        &lt;item&gt;@array/array01&lt;/item&gt;\r\n        &lt;!-- etc. --&gt;\r\n    &lt;/array&gt;\r\n\r\nThen in your code you do something like this:\r\n\r\n    Resources res = getResources();\r\n    TypedArray ta = res.obtainTypedArray(R.array.array0);\r\n    int n = ta.length();\r\n    String[][] array = new String[n][];\r\n    for (int i = 0; i &lt; n; ++i) {\r\n        int id = ta.getResourceId(i, 0);\r\n        if (id &gt; 0) {\r\n            array[i] = res.getStringArray(id);\r\n        } else {\r\n            // something wrong with the XML\r\n        }\r\n    }\r\n    ta.recycle(); // Important!","title":"Android Resource - Array of Arrays","body":"<p>You can almost do what you want. You have to declare each array separately and then an array of references. Something like this:</p>\n\n<pre><code>&lt;string-array name=\"array01\"&gt;\n    &lt;item name=\"id\"&gt;1&lt;/item&gt;\n    &lt;item name=\"title\"&gt;item one&lt;/item&gt;\n&lt;/string-array&gt;\n&lt;!-- etc. --&gt;\n&lt;array name=\"array0\"&gt;\n    &lt;item&gt;@array/array01&lt;/item&gt;\n    &lt;!-- etc. --&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>Then in your code you do something like this:</p>\n\n<pre><code>Resources res = getResources();\nTypedArray ta = res.obtainTypedArray(R.array.array0);\nint n = ta.length();\nString[][] array = new String[n][];\nfor (int i = 0; i &lt; n; ++i) {\n    int id = ta.getResourceId(i, 0);\n    if (id &gt; 0) {\n        array[i] = res.getStringArray(id);\n    } else {\n        // something wrong with the XML\n    }\n}\nta.recycle(); // Important!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9072440,"reputation":21,"user_id":6755109,"display_name":"Tuan Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473579895,"creation_date":1473572720,"answer_id":39433239,"question_id":4326037,"body_markdown":"according to @Ted Hopp answer, more elegant way:\r\n\r\n    &lt;integer-array name=&quot;id_array&quot;&gt;\r\n        &lt;item&gt;1&lt;/item&gt;\r\n        &lt;item&gt;2&lt;/item&gt;\r\n        &lt;item&gt;3&lt;/item&gt;\r\n    &lt;/integer-array&gt;\r\n    &lt;string-array name=&quot;name_array&quot;&gt;\r\n        &lt;item&gt;name 1&lt;/item&gt;\r\n        &lt;item&gt;name 2&lt;/item&gt;\r\n        &lt;item&gt;name 3&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    &lt;array name=&quot;array0&quot;&gt;\r\n        &lt;item&gt;@array/id_array&lt;/item&gt;\r\n        &lt;item&gt;@array/name_array&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nmake sure sub arrays row count is identical.&lt;br /&gt;\r\nenjoy write code to access array cells!&lt;br /&gt;\r\nandroid is still a kid while maintain the ugly &quot;item&quot; tag of the TypedArray &quot;array0&quot;.&lt;br /&gt;\r\nin my opinion, the most flexible should be:\r\n\r\n    &lt;array name=&quot;array0&quot;&gt;\r\n        &lt;integer-array name=&quot;id_array&quot;&gt;\r\n            &lt;item&gt;1&lt;/item&gt;\r\n            &lt;item&gt;2&lt;/item&gt;\r\n            &lt;item&gt;3&lt;/item&gt;\r\n        &lt;/integer-array&gt;\r\n        &lt;string-array name=&quot;name_array&quot;&gt;\r\n            &lt;item&gt;name 1&lt;/item&gt;\r\n            &lt;item&gt;name 2&lt;/item&gt;\r\n            &lt;item&gt;name 3&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n    &lt;/array&gt;\r\n\r\nbut don&#39;t do that because that&#39;s not android way :)","title":"Android Resource - Array of Arrays","body":"<p>according to @Ted Hopp answer, more elegant way:</p>\n\n<pre><code>&lt;integer-array name=\"id_array\"&gt;\n    &lt;item&gt;1&lt;/item&gt;\n    &lt;item&gt;2&lt;/item&gt;\n    &lt;item&gt;3&lt;/item&gt;\n&lt;/integer-array&gt;\n&lt;string-array name=\"name_array\"&gt;\n    &lt;item&gt;name 1&lt;/item&gt;\n    &lt;item&gt;name 2&lt;/item&gt;\n    &lt;item&gt;name 3&lt;/item&gt;\n&lt;/string-array&gt;\n&lt;array name=\"array0\"&gt;\n    &lt;item&gt;@array/id_array&lt;/item&gt;\n    &lt;item&gt;@array/name_array&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>make sure sub arrays row count is identical.<br />\nenjoy write code to access array cells!<br />\nandroid is still a kid while maintain the ugly \"item\" tag of the TypedArray \"array0\".<br />\nin my opinion, the most flexible should be:</p>\n\n<pre><code>&lt;array name=\"array0\"&gt;\n    &lt;integer-array name=\"id_array\"&gt;\n        &lt;item&gt;1&lt;/item&gt;\n        &lt;item&gt;2&lt;/item&gt;\n        &lt;item&gt;3&lt;/item&gt;\n    &lt;/integer-array&gt;\n    &lt;string-array name=\"name_array\"&gt;\n        &lt;item&gt;name 1&lt;/item&gt;\n        &lt;item&gt;name 2&lt;/item&gt;\n        &lt;item&gt;name 3&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>but don't do that because that's not android way :)</p>\n"},{"tags":[],"owner":{"account_id":3188586,"reputation":1268,"user_id":2693502,"display_name":"Bill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492481986,"creation_date":1492481986,"answer_id":43462518,"question_id":4326037,"body_markdown":"https://developer.android.com/guide/topics/resources/more-resources.html#Color\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;array name=&quot;icons&quot;&gt;\r\n            &lt;item&gt;@drawable/home&lt;/item&gt;\r\n            &lt;item&gt;@drawable/settings&lt;/item&gt;\r\n            &lt;item&gt;@drawable/logout&lt;/item&gt;\r\n        &lt;/array&gt;\r\n        &lt;array name=&quot;colors&quot;&gt;\r\n            &lt;item&gt;#FFFF0000&lt;/item&gt;\r\n            &lt;item&gt;#FF00FF00&lt;/item&gt;\r\n            &lt;item&gt;#FF0000FF&lt;/item&gt;\r\n        &lt;/array&gt;\r\n    &lt;/resources&gt;\r\n\r\nThis application code retrieves each array and then obtains the first entry in each array:\r\n\r\n    Resources res = getResources();\r\n    TypedArray icons = res.obtainTypedArray(R.array.icons);\r\n    Drawable drawable = icons.getDrawable(0);\r\n    TypedArray colors = res.obtainTypedArray(R.array.colors);\r\n    int color = colors.getColor(0,0);","title":"Android Resource - Array of Arrays","body":"<p><a href=\"https://developer.android.com/guide/topics/resources/more-resources.html#Color\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/more-resources.html#Color</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;array name=\"icons\"&gt;\n        &lt;item&gt;@drawable/home&lt;/item&gt;\n        &lt;item&gt;@drawable/settings&lt;/item&gt;\n        &lt;item&gt;@drawable/logout&lt;/item&gt;\n    &lt;/array&gt;\n    &lt;array name=\"colors\"&gt;\n        &lt;item&gt;#FFFF0000&lt;/item&gt;\n        &lt;item&gt;#FF00FF00&lt;/item&gt;\n        &lt;item&gt;#FF0000FF&lt;/item&gt;\n    &lt;/array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>This application code retrieves each array and then obtains the first entry in each array:</p>\n\n<pre><code>Resources res = getResources();\nTypedArray icons = res.obtainTypedArray(R.array.icons);\nDrawable drawable = icons.getDrawable(0);\nTypedArray colors = res.obtainTypedArray(R.array.colors);\nint color = colors.getColor(0,0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649419896,"creation_date":1648871794,"answer_id":71714750,"question_id":4326037,"body_markdown":"pros:\r\n1. auto-generated id\r\n2. styleable attribute\r\n3. access other resource reference in xml, compile error if the referred resource miss\r\n4. compile-time syntax check, compile error if you set wrong data type \r\n\r\n.............................................................\r\n1. declare DataItem class for deserialize\r\n\r\nDataListItem.java\r\n```\r\nclass DataListItem {\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DataListItem{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, drawable=&quot; + drawable +\r\n                &quot;, flags=&quot; + flags +\r\n                &quot;, enums=&quot; + enums +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public DataListItem(@IdRes int id, String name, Drawable drawable, int flags, int enums) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.drawable = drawable;\r\n        this.flags = flags;\r\n        this.enums = enums;\r\n    }\r\n\r\n    public int id;\r\n    public String name;\r\n    public Drawable drawable;\r\n    public int flags;\r\n    public int enums;\r\n}\r\n```\r\n2. declare styleable attributes\r\n\r\nattrs.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;declare-styleable name=&quot;DataTestItem&quot;&gt;\r\n        &lt;attr name=&quot;android:id&quot; format=&quot;reference&quot;/&gt;\r\n        &lt;attr name=&quot;android:drawable&quot; format=&quot;reference&quot;/&gt;\r\n        &lt;attr name=&quot;android:name&quot; format=&quot;string&quot;/&gt;\r\n        &lt;attr name=&quot;name2&quot; format=&quot;flags&quot;&gt;\r\n            &lt;flag name=&quot;flag1&quot; value=&quot;1&quot;/&gt;\r\n            &lt;flag name=&quot;flag2&quot; value=&quot;2&quot;/&gt;\r\n            &lt;flag name=&quot;flag3&quot; value=&quot;4&quot;/&gt;\r\n        &lt;/attr&gt;\r\n        &lt;attr name=&quot;name3&quot; format=&quot;enum&quot;&gt;\r\n            &lt;enum name=&quot;enum1&quot; value=&quot;1&quot;/&gt;\r\n            &lt;enum name=&quot;enum2&quot; value=&quot;2&quot;/&gt;\r\n            &lt;enum name=&quot;enum3&quot; value=&quot;3&quot;/&gt;\r\n        &lt;/attr&gt;\r\n    &lt;/declare-styleable&gt;\r\n&lt;/resources&gt;\r\n```\r\n3. create xml resource for DataItem list &amp; map\r\n\r\ntest_list.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item\r\n        android:name=&quot;@string/app_name&quot;\r\n        android:id=&quot;@+id/data1&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\r\n        app:name2=&quot;flag1|flag2&quot;\r\n        app:name3=&quot;enum1&quot;/&gt;\r\n    &lt;item\r\n        android:name=&quot;@string/app_name&quot;\r\n        android:id=&quot;@+id/data2&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\r\n        app:name2=&quot;flag2&quot;\r\n        app:name3=&quot;enum2&quot;/&gt;\r\n    &lt;item\r\n        android:name=&quot;@string/app_name&quot;\r\n        android:id=&quot;@+id/data3&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\r\n        app:name2=&quot;flag3|flag2&quot;\r\n        app:name3=&quot;enum3&quot;/&gt;\r\n&lt;/list&gt;\r\n```\r\ntest_map.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;map xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/data1&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/data2&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/data3&quot;\r\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n&lt;/map&gt;\r\n```\r\ntest_set.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\r\n    &lt;item android:name=&quot;@string/app_name2&quot; /&gt;\r\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\r\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\r\n&lt;/set&gt;\r\n```\r\n4. load DataItem list &amp; map from xml resource\r\n\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        try {\r\n            List&lt;DataListItem&gt; dataListItems = loadListFromXml(this,\r\n                    R.xml.test_list,\r\n                    R.styleable.DataTestItem,\r\n                    ArrayList::new,\r\n                    (s) -&gt; new DataListItem(\r\n                            s.getResourceId(R.styleable.DataTestItem_android_id, 0),\r\n                            s.getString(R.styleable.DataTestItem_android_name),\r\n                            s.getDrawable(R.styleable.DataTestItem_android_drawable),\r\n                            s.getInteger(R.styleable.DataTestItem_name2, 0),\r\n                            s.getInteger(R.styleable.DataTestItem_name3, 0)));\r\n\r\n            Map&lt;Integer, Drawable&gt; dataMapItem = loadMapFromXML(this,\r\n                    R.xml.test_map,\r\n                    R.styleable.DataTestItem,\r\n                    HashMap::new,\r\n                    (s) -&gt; s.getResourceId(R.styleable.DataTestItem_android_id, 0),\r\n                    (s) -&gt; s.getDrawable(R.styleable.DataTestItem_android_drawable));\r\n\r\n            Set&lt;String&gt; dataSetItems = loadSetFromXml(this,\r\n                    R.xml.test_set,\r\n                    R.styleable.DataTestItem,\r\n                    HashSet::new,\r\n                    (s) -&gt; s.getString(R.styleable.DataTestItem_android_name));\r\n\r\n\r\n            Log.d(TAG, &quot;loadListFromXml return &quot; + dataListItems + &quot;, loadMapFromXML return &quot; + dataMapItem + &quot;, loadSetFromXml return &quot; + dataSetItems);\r\n\r\n        } catch (IOException | XmlPullParserException e) {\r\n            Log.w(TAG, &quot;onCreate: fail to parse&quot;, e);\r\n        }\r\n    }\r\n\r\n    static &lt;T&gt; List&lt;T&gt; loadListFromXml(Context context,\r\n                                       @XmlRes int xml_resid,\r\n                                       @StyleableRes int[] attrs,\r\n                                       Supplier&lt;List&lt;T&gt;&gt; supplier,\r\n                                       Function&lt;TypedArray, ? extends T&gt; inflater) throws IOException, XmlPullParserException {\r\n        return collectFromXml(context,\r\n                xml_resid,\r\n                &quot;list&quot;,\r\n                &quot;item&quot;,\r\n                attrs,\r\n                supplier,\r\n                (s, ta) -&gt; s.add(inflater.apply(ta)));\r\n    }\r\n\r\n    static &lt;T&gt; Set&lt;T&gt; loadSetFromXml(Context context,\r\n                                     @XmlRes int xml_resid,\r\n                                     @StyleableRes int[] attrs,\r\n                                     Supplier&lt;Set&lt;T&gt;&gt; supplier,\r\n                                     Function&lt;TypedArray, ? extends T&gt; inflater) throws IOException, XmlPullParserException {\r\n        return collectFromXml(context,\r\n                xml_resid,\r\n                &quot;set&quot;,\r\n                &quot;item&quot;,\r\n                attrs,\r\n                supplier,\r\n                (s, ta) -&gt; s.add(inflater.apply(ta)));\r\n    }\r\n\r\n    static &lt;K, V&gt; Map&lt;K, V&gt; loadMapFromXML(Context context,\r\n                                           @XmlRes int xml_resid,\r\n                                           @StyleableRes int[] attrs,\r\n                                           Supplier&lt;Map&lt;K, V&gt;&gt; supplier,\r\n                                           Function&lt;TypedArray, ? extends K&gt; keyInflater,\r\n                                           Function&lt;TypedArray, ? extends V&gt; valueInflater) throws IOException, XmlPullParserException {\r\n        return collectFromXml(context,\r\n                xml_resid,\r\n                &quot;map&quot;,\r\n                &quot;item&quot;,\r\n                attrs,\r\n                supplier,\r\n                (s, ta) -&gt; s.put(keyInflater.apply(ta), valueInflater.apply(ta)));\r\n    }\r\n\r\n\r\n    static &lt;R&gt; R collectFromXml(Context context,\r\n                                @XmlRes int xml_resid,\r\n                                @Nullable String rootNodeName,\r\n                                @Nullable String itemNodeName,\r\n                                @StyleableRes int[] attrs,\r\n                                Supplier&lt;R&gt; supplier,\r\n                                BiConsumer&lt;R, TypedArray&gt; accumulator) throws IOException, XmlPullParserException {\r\n        try (XmlResourceParser xml = context.getResources().getXml(xml_resid)) {\r\n            final R ret = supplier.get();\r\n            if (xml.next() == START_DOCUMENT) {\r\n                if (xml.nextTag() == START_TAG &amp;&amp; ((rootNodeName == null) || rootNodeName.equals(xml.getName()))) {\r\n                    while (xml.nextTag() == START_TAG &amp;&amp; ((itemNodeName == null) || itemNodeName.equals(xml.getName()))) {\r\n                        final TypedArray ta = context.obtainStyledAttributes(xml, attrs);\r\n                        accumulator.accept(ret, ta);\r\n                        ta.recycle();\r\n                        if (xml.nextTag() != END_TAG) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Android Resource - Array of Arrays","body":"<p>pros:</p>\n<ol>\n<li>auto-generated id</li>\n<li>styleable attribute</li>\n<li>access other resource reference in xml, compile error if the referred resource miss</li>\n<li>compile-time syntax check, compile error if you set wrong data type</li>\n</ol>\n<p>.............................................................</p>\n<ol>\n<li>declare DataItem class for deserialize</li>\n</ol>\n<p>DataListItem.java</p>\n<pre><code>class DataListItem {\n    @Override\n    public String toString() {\n        return &quot;DataListItem{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, drawable=&quot; + drawable +\n                &quot;, flags=&quot; + flags +\n                &quot;, enums=&quot; + enums +\n                '}';\n    }\n\n    public DataListItem(@IdRes int id, String name, Drawable drawable, int flags, int enums) {\n        this.id = id;\n        this.name = name;\n        this.drawable = drawable;\n        this.flags = flags;\n        this.enums = enums;\n    }\n\n    public int id;\n    public String name;\n    public Drawable drawable;\n    public int flags;\n    public int enums;\n}\n</code></pre>\n<ol start=\"2\">\n<li>declare styleable attributes</li>\n</ol>\n<p>attrs.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;declare-styleable name=&quot;DataTestItem&quot;&gt;\n        &lt;attr name=&quot;android:id&quot; format=&quot;reference&quot;/&gt;\n        &lt;attr name=&quot;android:drawable&quot; format=&quot;reference&quot;/&gt;\n        &lt;attr name=&quot;android:name&quot; format=&quot;string&quot;/&gt;\n        &lt;attr name=&quot;name2&quot; format=&quot;flags&quot;&gt;\n            &lt;flag name=&quot;flag1&quot; value=&quot;1&quot;/&gt;\n            &lt;flag name=&quot;flag2&quot; value=&quot;2&quot;/&gt;\n            &lt;flag name=&quot;flag3&quot; value=&quot;4&quot;/&gt;\n        &lt;/attr&gt;\n        &lt;attr name=&quot;name3&quot; format=&quot;enum&quot;&gt;\n            &lt;enum name=&quot;enum1&quot; value=&quot;1&quot;/&gt;\n            &lt;enum name=&quot;enum2&quot; value=&quot;2&quot;/&gt;\n            &lt;enum name=&quot;enum3&quot; value=&quot;3&quot;/&gt;\n        &lt;/attr&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<ol start=\"3\">\n<li>create xml resource for DataItem list &amp; map</li>\n</ol>\n<p>test_list.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:name=&quot;@string/app_name&quot;\n        android:id=&quot;@+id/data1&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\n        app:name2=&quot;flag1|flag2&quot;\n        app:name3=&quot;enum1&quot;/&gt;\n    &lt;item\n        android:name=&quot;@string/app_name&quot;\n        android:id=&quot;@+id/data2&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\n        app:name2=&quot;flag2&quot;\n        app:name3=&quot;enum2&quot;/&gt;\n    &lt;item\n        android:name=&quot;@string/app_name&quot;\n        android:id=&quot;@+id/data3&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot;\n        app:name2=&quot;flag3|flag2&quot;\n        app:name3=&quot;enum3&quot;/&gt;\n&lt;/list&gt;\n</code></pre>\n<p>test_map.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;map xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/data1&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/data2&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/data3&quot;\n        android:drawable=&quot;@drawable/ic_launcher_background&quot; /&gt;\n&lt;/map&gt;\n</code></pre>\n<p>test_set.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\n    &lt;item android:name=&quot;@string/app_name2&quot; /&gt;\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\n    &lt;item android:name=&quot;@string/app_name&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<ol start=\"4\">\n<li>load DataItem list &amp; map from xml resource</li>\n</ol>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        try {\n            List&lt;DataListItem&gt; dataListItems = loadListFromXml(this,\n                    R.xml.test_list,\n                    R.styleable.DataTestItem,\n                    ArrayList::new,\n                    (s) -&gt; new DataListItem(\n                            s.getResourceId(R.styleable.DataTestItem_android_id, 0),\n                            s.getString(R.styleable.DataTestItem_android_name),\n                            s.getDrawable(R.styleable.DataTestItem_android_drawable),\n                            s.getInteger(R.styleable.DataTestItem_name2, 0),\n                            s.getInteger(R.styleable.DataTestItem_name3, 0)));\n\n            Map&lt;Integer, Drawable&gt; dataMapItem = loadMapFromXML(this,\n                    R.xml.test_map,\n                    R.styleable.DataTestItem,\n                    HashMap::new,\n                    (s) -&gt; s.getResourceId(R.styleable.DataTestItem_android_id, 0),\n                    (s) -&gt; s.getDrawable(R.styleable.DataTestItem_android_drawable));\n\n            Set&lt;String&gt; dataSetItems = loadSetFromXml(this,\n                    R.xml.test_set,\n                    R.styleable.DataTestItem,\n                    HashSet::new,\n                    (s) -&gt; s.getString(R.styleable.DataTestItem_android_name));\n\n\n            Log.d(TAG, &quot;loadListFromXml return &quot; + dataListItems + &quot;, loadMapFromXML return &quot; + dataMapItem + &quot;, loadSetFromXml return &quot; + dataSetItems);\n\n        } catch (IOException | XmlPullParserException e) {\n            Log.w(TAG, &quot;onCreate: fail to parse&quot;, e);\n        }\n    }\n\n    static &lt;T&gt; List&lt;T&gt; loadListFromXml(Context context,\n                                       @XmlRes int xml_resid,\n                                       @StyleableRes int[] attrs,\n                                       Supplier&lt;List&lt;T&gt;&gt; supplier,\n                                       Function&lt;TypedArray, ? extends T&gt; inflater) throws IOException, XmlPullParserException {\n        return collectFromXml(context,\n                xml_resid,\n                &quot;list&quot;,\n                &quot;item&quot;,\n                attrs,\n                supplier,\n                (s, ta) -&gt; s.add(inflater.apply(ta)));\n    }\n\n    static &lt;T&gt; Set&lt;T&gt; loadSetFromXml(Context context,\n                                     @XmlRes int xml_resid,\n                                     @StyleableRes int[] attrs,\n                                     Supplier&lt;Set&lt;T&gt;&gt; supplier,\n                                     Function&lt;TypedArray, ? extends T&gt; inflater) throws IOException, XmlPullParserException {\n        return collectFromXml(context,\n                xml_resid,\n                &quot;set&quot;,\n                &quot;item&quot;,\n                attrs,\n                supplier,\n                (s, ta) -&gt; s.add(inflater.apply(ta)));\n    }\n\n    static &lt;K, V&gt; Map&lt;K, V&gt; loadMapFromXML(Context context,\n                                           @XmlRes int xml_resid,\n                                           @StyleableRes int[] attrs,\n                                           Supplier&lt;Map&lt;K, V&gt;&gt; supplier,\n                                           Function&lt;TypedArray, ? extends K&gt; keyInflater,\n                                           Function&lt;TypedArray, ? extends V&gt; valueInflater) throws IOException, XmlPullParserException {\n        return collectFromXml(context,\n                xml_resid,\n                &quot;map&quot;,\n                &quot;item&quot;,\n                attrs,\n                supplier,\n                (s, ta) -&gt; s.put(keyInflater.apply(ta), valueInflater.apply(ta)));\n    }\n\n\n    static &lt;R&gt; R collectFromXml(Context context,\n                                @XmlRes int xml_resid,\n                                @Nullable String rootNodeName,\n                                @Nullable String itemNodeName,\n                                @StyleableRes int[] attrs,\n                                Supplier&lt;R&gt; supplier,\n                                BiConsumer&lt;R, TypedArray&gt; accumulator) throws IOException, XmlPullParserException {\n        try (XmlResourceParser xml = context.getResources().getXml(xml_resid)) {\n            final R ret = supplier.get();\n            if (xml.next() == START_DOCUMENT) {\n                if (xml.nextTag() == START_TAG &amp;&amp; ((rootNodeName == null) || rootNodeName.equals(xml.getName()))) {\n                    while (xml.nextTag() == START_TAG &amp;&amp; ((itemNodeName == null) || itemNodeName.equals(xml.getName()))) {\n                        final TypedArray ta = context.obtainStyledAttributes(xml, attrs);\n                        accumulator.accept(ret, ta);\n                        ta.recycle();\n                        if (xml.nextTag() != END_TAG) {\n                            break;\n                        }\n                    }\n                }\n            }\n            return ret;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23874,"reputation":1068,"user_id":60231,"accept_rate":88,"display_name":"JediPotPie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36849,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":5931094,"answer_count":5,"score":47,"last_activity_date":1649419896,"creation_date":1291217898,"question_id":4326037,"body_markdown":"I am trying to implement a resource data structure that includes an array of arrays, specifically strings.  The issue I run into is how to get the sub-array objects and their specific values.  Here is what my resource file looks like....\r\n\r\n    &lt;resources&gt;\r\n       &lt;array name=&quot;array0&quot;&gt;\r\n         &lt;item&gt;\r\n           &lt;string-array name=&quot;array01&quot;&gt;\r\n             &lt;item name=&quot;id&quot;&gt;1&lt;/item&gt;\r\n             &lt;item name=&quot;title&quot;&gt;item one&lt;/item&gt;\r\n           &lt;/string-array&gt;\r\n         &lt;/item&gt;\r\n         &lt;item&gt;\r\n           &lt;string-array name=&quot;array02&quot;&gt;\r\n             &lt;item name=&quot;id&quot;&gt;2&lt;/item&gt;\r\n             &lt;item name=&quot;title&quot;&gt;item two&lt;/item&gt;\r\n           &lt;/string-array&gt;\r\n         &lt;/item&gt;\r\n         &lt;item&gt;\r\n           &lt;string-array name=&quot;array03&quot;&gt;\r\n             &lt;item name=&quot;id&quot;&gt;3&lt;/item&gt;\r\n             &lt;item name=&quot;title&quot;&gt;item three&lt;/item&gt;\r\n           &lt;/string-array&gt;\r\n         &lt;/item&gt;\r\n       &lt;/array&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen, in my Java code I retrieve the array and try to access the sub elements like so...\r\n\r\n    TypedArray typedArray = getResources().obtainTypedArray(R.array.array0);\r\n\r\n    TypedValue typedValue = null;\r\n\r\n    typedArray.getValue(0, typedValue);\r\n\r\nAt this point the typedArray object should represent the string-array &quot;array01&quot;, however, I don&#39;t see how to retrieve the &quot;id&quot; and &quot;title&quot; string elements.  Any help would be appreciated, thanks in advance.","title":"Android Resource - Array of Arrays","body":"<p>I am trying to implement a resource data structure that includes an array of arrays, specifically strings.  The issue I run into is how to get the sub-array objects and their specific values.  Here is what my resource file looks like....</p>\n\n<pre><code>&lt;resources&gt;\n   &lt;array name=\"array0\"&gt;\n     &lt;item&gt;\n       &lt;string-array name=\"array01\"&gt;\n         &lt;item name=\"id\"&gt;1&lt;/item&gt;\n         &lt;item name=\"title\"&gt;item one&lt;/item&gt;\n       &lt;/string-array&gt;\n     &lt;/item&gt;\n     &lt;item&gt;\n       &lt;string-array name=\"array02\"&gt;\n         &lt;item name=\"id\"&gt;2&lt;/item&gt;\n         &lt;item name=\"title\"&gt;item two&lt;/item&gt;\n       &lt;/string-array&gt;\n     &lt;/item&gt;\n     &lt;item&gt;\n       &lt;string-array name=\"array03\"&gt;\n         &lt;item name=\"id\"&gt;3&lt;/item&gt;\n         &lt;item name=\"title\"&gt;item three&lt;/item&gt;\n       &lt;/string-array&gt;\n     &lt;/item&gt;\n   &lt;/array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then, in my Java code I retrieve the array and try to access the sub elements like so...</p>\n\n<pre><code>TypedArray typedArray = getResources().obtainTypedArray(R.array.array0);\n\nTypedValue typedValue = null;\n\ntypedArray.getValue(0, typedValue);\n</code></pre>\n\n<p>At this point the typedArray object should represent the string-array \"array01\", however, I don't see how to retrieve the \"id\" and \"title\" string elements.  Any help would be appreciated, thanks in advance.</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":12358760,"reputation":687,"user_id":9013717,"display_name":"Sankar"},"score":1,"creation_date":1523859893,"post_id":12078669,"comment_id":86716010,"body_markdown":"@sbzomm I&#39;m having the same scenario, Did you find the solution?","body":"@sbzomm I&#39;m having the same scenario, Did you find the solution?"},{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":0,"creation_date":1564559453,"post_id":12078669,"comment_id":101066514,"body_markdown":"Try this approach - https://blog.marcosbarbero.com/multiple-mongodb-connectors-in-spring-boot/. Looks fairly clean and extensible.","body":"Try this approach - <a href=\"https://blog.marcosbarbero.com/multiple-mongodb-connectors-in-spring-boot/\" rel=\"nofollow noreferrer\">blog.marcosbarbero.com/&hellip;</a>. Looks fairly clean and extensible."}],"answers":[{"tags":[],"owner":{"account_id":953660,"reputation":351,"user_id":979346,"display_name":"baja"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1457698715,"creation_date":1345676217,"answer_id":12082518,"question_id":12078669,"body_markdown":"You may want to sub-class `SimpleMongoDbFactory` and strategize how the default DB as returned by `getDb` is returned. One option is to use thread-local variables to decide on the Db to use, instead of using multiple MongoTemplates.\r\n\r\nSomething like this:\r\n\r\n    public class ThreadLocalDbNameMongoDbFactory extends SimpleMongoDbFactory {\r\n        private static final ThreadLocal&lt;String&gt; dbName = new ThreadLocal&lt;String&gt;();\r\n        private final String defaultName; // init in c&#39;tor before calling super\r\n\r\n        // omitted constructor for clarity\r\n\r\n        public static void setDefaultNameForCurrentThread(String tlName) {\r\n            dbName.set(tlName);\r\n        }\r\n        public static void clearDefaultNameForCurrentThread() {\r\n            dbName.remove();\r\n        }\r\n\r\n        public DB getDb() {\r\n            String tlName = dbName.get();\r\n            return super.getDb(tlName != null ? tlName : defaultName);\r\n        }\r\n    }\r\n\r\nThen, override `mongoDBFactory()` in your `@Configuration` class that extends from `AbstractMongoConfiguration` like so:\r\n\r\n    @Bean\r\n    @Override\r\n    public MongoDbFactory mongoDbFactory() throws Exception {\r\n      if (getUserCredentials() == null) {\r\n\t      return new ThreadLocalDbNameMongoDbFactory(mongo(), getDatabaseName());\r\n      } else {\r\n          return new ThreadLocalDbNameMongoDbFactory(mongo(), getDatabaseName(), getUserCredentials());\r\n      }\r\n    }\r\n\r\nIn your client code (maybe a ServletFilter or some such) you will need to call:\r\n`ThreadLocalDBNameMongoRepository.setDefaultNameForCurrentThread()`\r\nbefore doing any Mongo work and subsequently reset it with:\r\n`ThreadLocalDBNameMongoRepository.clearDefaultNameForCurrentThread()`\r\nafter you are done.","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>You may want to sub-class <code>SimpleMongoDbFactory</code> and strategize how the default DB as returned by <code>getDb</code> is returned. One option is to use thread-local variables to decide on the Db to use, instead of using multiple MongoTemplates.</p>\n\n<p>Something like this:</p>\n\n<pre><code>public class ThreadLocalDbNameMongoDbFactory extends SimpleMongoDbFactory {\n    private static final ThreadLocal&lt;String&gt; dbName = new ThreadLocal&lt;String&gt;();\n    private final String defaultName; // init in c'tor before calling super\n\n    // omitted constructor for clarity\n\n    public static void setDefaultNameForCurrentThread(String tlName) {\n        dbName.set(tlName);\n    }\n    public static void clearDefaultNameForCurrentThread() {\n        dbName.remove();\n    }\n\n    public DB getDb() {\n        String tlName = dbName.get();\n        return super.getDb(tlName != null ? tlName : defaultName);\n    }\n}\n</code></pre>\n\n<p>Then, override <code>mongoDBFactory()</code> in your <code>@Configuration</code> class that extends from <code>AbstractMongoConfiguration</code> like so:</p>\n\n<pre><code>@Bean\n@Override\npublic MongoDbFactory mongoDbFactory() throws Exception {\n  if (getUserCredentials() == null) {\n      return new ThreadLocalDbNameMongoDbFactory(mongo(), getDatabaseName());\n  } else {\n      return new ThreadLocalDbNameMongoDbFactory(mongo(), getDatabaseName(), getUserCredentials());\n  }\n}\n</code></pre>\n\n<p>In your client code (maybe a ServletFilter or some such) you will need to call:\n<code>ThreadLocalDBNameMongoRepository.setDefaultNameForCurrentThread()</code>\nbefore doing any Mongo work and subsequently reset it with:\n<code>ThreadLocalDBNameMongoRepository.clearDefaultNameForCurrentThread()</code>\nafter you are done.</p>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345739028,"creation_date":1345739028,"answer_id":12096122,"question_id":12078669,"body_markdown":"The spot to look at is the `MongoDbFactory` interface. The basic implementation of that takes a Mongo instance and works with that throughout all the application lifetime. To achieve a per-thread (and thus per-request) database usage you&#39;ll probably have to implement something along the lines of [AbstractRoutingDataSource][1]. The idea is pretty much that you have a template method that will have to lookup the tenant per invocation (`ThreadLocal` bound I guess) and then select a `Mongo` instance from a set of predefined ones or some custom logic to come up with a fresh one for a new tenant etc.\r\n\r\nKeep in mind that `MongoDbFactory` usually get&#39;s used through the `getDb()` method. However, there are features in MongoDB that need us to provide a `getDb(String name)`. `DBRef`s (sth. like a foreign key in the relational world) can point to documents an entirely different database. So if you&#39;re doing the delegation either avoid using that feature (I think the `DBRef`s pointing to another DB are the only places calling `getDb(name)`) or explicitly handle it.\r\n\r\nFrom a configuration point of view you could either simply override `mongoDbFactory()` entirely or simply not extend the base class at all and come up with your own Java based configuration.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>The spot to look at is the <code>MongoDbFactory</code> interface. The basic implementation of that takes a Mongo instance and works with that throughout all the application lifetime. To achieve a per-thread (and thus per-request) database usage you'll probably have to implement something along the lines of <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\" rel=\"nofollow\">AbstractRoutingDataSource</a>. The idea is pretty much that you have a template method that will have to lookup the tenant per invocation (<code>ThreadLocal</code> bound I guess) and then select a <code>Mongo</code> instance from a set of predefined ones or some custom logic to come up with a fresh one for a new tenant etc.</p>\n\n<p>Keep in mind that <code>MongoDbFactory</code> usually get's used through the <code>getDb()</code> method. However, there are features in MongoDB that need us to provide a <code>getDb(String name)</code>. <code>DBRef</code>s (sth. like a foreign key in the relational world) can point to documents an entirely different database. So if you're doing the delegation either avoid using that feature (I think the <code>DBRef</code>s pointing to another DB are the only places calling <code>getDb(name)</code>) or explicitly handle it.</p>\n\n<p>From a configuration point of view you could either simply override <code>mongoDbFactory()</code> entirely or simply not extend the base class at all and come up with your own Java based configuration.</p>\n"},{"tags":[],"owner":{"account_id":1798465,"reputation":149,"user_id":1637340,"display_name":"john"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1487146853,"creation_date":1346447675,"answer_id":12222549,"question_id":12078669,"body_markdown":"Here is a link to an article I think is what you are looking for http://michaelbarnesjr.wordpress.com/2012/01/19/spring-data-mongo/\r\n\r\nThe key is to provide multiple templates\r\n\r\nconfigure a template for each database.\r\n\r\n    &lt;bean id=&quot;vehicleTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;mongoConnection&quot;/&gt;\r\n        &lt;constructor-arg name=&quot;databaseName&quot; value=&quot;vehicledatabase&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nconfigure a template for each database.\r\n\t\r\n\r\n    &lt;bean id=&quot;imageTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n    \t    &lt;constructor-arg ref=&quot;mongoConnection&quot;/&gt;\r\n    \t    &lt;constructor-arg name=&quot;databaseName&quot; value=&quot;imagedatabase&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \t \r\n    &lt;bean id=&quot;vehicleTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;mongoConnection&quot;/&gt;\r\n    \t&lt;constructor-arg name=&quot;databaseName&quot; value=&quot;vehicledatabase&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nNow, you need to tell Spring where your repositories are so it can inject them. They must all be in the same directory. I tried to have them in different sub-directories, and it did not work correctly. So they are all in the repository directory.\r\n\r\n    &lt;mongo:repositories base-package=&quot;my.package.repository&quot;&gt;\r\n        &lt;mongo:repository id=&quot;imageRepository&quot; mongo-template-ref=&quot;imageTemplate&quot;/&gt;\r\n        &lt;mongo:repository id=&quot;carRepository&quot; mongo-template-ref=&quot;vehicleTemplate&quot;/&gt;\r\n        &lt;mongo:repository id=&quot;truckRepository&quot; mongo-template-ref=&quot;vehicleTemplate&quot;/&gt;\r\n    &lt;/mongo:repositories&gt;\r\n\r\nEach repository is an Interface and is written as follows (yes, you can leave them blank):\r\n\r\n    @Repository\r\n    public interface ImageRepository extends MongoRepository&lt;Image, String&gt; {\r\n\r\n    }\r\n    \r\n    @Repository\r\n    public interface TruckRepository extends MongoRepository&lt;Truck, String&gt; {\r\n\r\n    }\r\n\r\nThe name of the private variable `imageRepository` is the collection! _Image.java_ will be saved to the image collection within the imagedb database.\r\n\r\nHere is how you can *find*, *insert*, and *delete* records:\r\n\r\n    @Service\r\n    public class ImageService {\r\n    \r\n        @Autowired\r\n        private ImageRepository imageRepository;\r\n    }\r\n\r\nBy Autowiring you match the variable name to the name (id) in your configuration.","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>Here is a link to an article I think is what you are looking for <a href=\"http://michaelbarnesjr.wordpress.com/2012/01/19/spring-data-mongo/\" rel=\"nofollow noreferrer\">http://michaelbarnesjr.wordpress.com/2012/01/19/spring-data-mongo/</a></p>\n\n<p>The key is to provide multiple templates</p>\n\n<p>configure a template for each database.</p>\n\n<pre><code>&lt;bean id=\"vehicleTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg ref=\"mongoConnection\"/&gt;\n    &lt;constructor-arg name=\"databaseName\" value=\"vehicledatabase\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>configure a template for each database.</p>\n\n<pre><code>&lt;bean id=\"imageTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n        &lt;constructor-arg ref=\"mongoConnection\"/&gt;\n        &lt;constructor-arg name=\"databaseName\" value=\"imagedatabase\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"vehicleTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg ref=\"mongoConnection\"/&gt;\n    &lt;constructor-arg name=\"databaseName\" value=\"vehicledatabase\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Now, you need to tell Spring where your repositories are so it can inject them. They must all be in the same directory. I tried to have them in different sub-directories, and it did not work correctly. So they are all in the repository directory.</p>\n\n<pre><code>&lt;mongo:repositories base-package=\"my.package.repository\"&gt;\n    &lt;mongo:repository id=\"imageRepository\" mongo-template-ref=\"imageTemplate\"/&gt;\n    &lt;mongo:repository id=\"carRepository\" mongo-template-ref=\"vehicleTemplate\"/&gt;\n    &lt;mongo:repository id=\"truckRepository\" mongo-template-ref=\"vehicleTemplate\"/&gt;\n&lt;/mongo:repositories&gt;\n</code></pre>\n\n<p>Each repository is an Interface and is written as follows (yes, you can leave them blank):</p>\n\n<pre><code>@Repository\npublic interface ImageRepository extends MongoRepository&lt;Image, String&gt; {\n\n}\n\n@Repository\npublic interface TruckRepository extends MongoRepository&lt;Truck, String&gt; {\n\n}\n</code></pre>\n\n<p>The name of the private variable <code>imageRepository</code> is the collection! <em>Image.java</em> will be saved to the image collection within the imagedb database.</p>\n\n<p>Here is how you can <em>find</em>, <em>insert</em>, and <em>delete</em> records:</p>\n\n<pre><code>@Service\npublic class ImageService {\n\n    @Autowired\n    private ImageRepository imageRepository;\n}\n</code></pre>\n\n<p>By Autowiring you match the variable name to the name (id) in your configuration.</p>\n"},{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1349795875,"creation_date":1349795875,"answer_id":12803252,"question_id":12078669,"body_markdown":"So after much research and experimentation, I have concluded that this is not yet possibly with the current `spring-data-mongodb` project. I tried baja&#39;s method above and ran into a specific hurdle. The `MongoTemplate` runs its `ensureIndexes()` method from within its constructor. This method calls out the the database to make sure annotated indexes exist in the database. The constructor for `MongoTemplate` gets called when `Spring` starts up so I never even have a chance to set a `ThreadLocal` variable. I have to have a default already set when `Spring` starts, then change it when a request comes in. This is not allowable because I don&#39;t want nor do I have a default database.\r\n\r\nAll was not lost though. Our original plan was to have each client running on its own application server, pointed at its own `MongoDB` database on the `MongoDB` server. Then we can provide a `-Dprovider=` system variable and each server runs pointing only to one database.\r\n\r\nWe were instructed to have a multi-tenant application, hence the attempt at the `ThreadLocal` variable. But since it did not work, we were able to run the application the way we had originally designed.\r\n\r\nI believe there is a way though to make this all work, it just takes more than is described in the other posts. You have to make your own `RepositoryFactoryBean`. Here is the example from the [Spring Data MongoDB Reference Docs][1]. You would still have to implement your own `MongoTemplate` and delay or remove the `ensureIndexes()` call. But you would have to rewrite a few classes to make sure your `MongoTemplate` is called instead of `Spring&#39;s`. In other words, a lot of work. Work that I would like to see happen or even do, I just did not have the time.\r\n\r\nThanks for the responses.\r\n\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories\r\n","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>So after much research and experimentation, I have concluded that this is not yet possibly with the current <code>spring-data-mongodb</code> project. I tried baja's method above and ran into a specific hurdle. The <code>MongoTemplate</code> runs its <code>ensureIndexes()</code> method from within its constructor. This method calls out the the database to make sure annotated indexes exist in the database. The constructor for <code>MongoTemplate</code> gets called when <code>Spring</code> starts up so I never even have a chance to set a <code>ThreadLocal</code> variable. I have to have a default already set when <code>Spring</code> starts, then change it when a request comes in. This is not allowable because I don't want nor do I have a default database.</p>\n\n<p>All was not lost though. Our original plan was to have each client running on its own application server, pointed at its own <code>MongoDB</code> database on the <code>MongoDB</code> server. Then we can provide a <code>-Dprovider=</code> system variable and each server runs pointing only to one database.</p>\n\n<p>We were instructed to have a multi-tenant application, hence the attempt at the <code>ThreadLocal</code> variable. But since it did not work, we were able to run the application the way we had originally designed.</p>\n\n<p>I believe there is a way though to make this all work, it just takes more than is described in the other posts. You have to make your own <code>RepositoryFactoryBean</code>. Here is the example from the <a href=\"http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"noreferrer\">Spring Data MongoDB Reference Docs</a>. You would still have to implement your own <code>MongoTemplate</code> and delay or remove the <code>ensureIndexes()</code> call. But you would have to rewrite a few classes to make sure your <code>MongoTemplate</code> is called instead of <code>Spring's</code>. In other words, a lot of work. Work that I would like to see happen or even do, I just did not have the time.</p>\n\n<p>Thanks for the responses.</p>\n"},{"tags":[],"owner":{"account_id":3967415,"reputation":45,"user_id":3272931,"accept_rate":38,"display_name":"user3272931"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444753274,"creation_date":1443117979,"answer_id":32768067,"question_id":12078669,"body_markdown":"I used different DB using java Config, this is how i did it:\r\n\r\n\r\n\t\r\n\t@Bean \r\n\tpublic MongoDbFactory mongoRestDbFactory() throws Exception { \r\n\t\tMongoClientURI uri=new MongoClientURI(environment.getProperty(&quot;mongo.uri&quot;)); \r\n\t  \treturn new SimpleMongoDbFactory(uri);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getDatabaseName() {\r\n\t\treturn &quot;rest&quot;;\r\n\t}\r\n\r\n    @Override\r\n    public @Bean(name = &quot;secondaryMongoTemplate&quot;) MongoTemplate mongoTemplate() throws Exception{ //hay que cambiar el nombre de los templates para que el contendor de beans sepa la diferencia  \r\n        return new MongoTemplate(mongoRestDbFactory());    \r\n    }\r\n\t\r\n\r\nAnd the other was like this:  \r\n\r\n\t@Bean \r\n\tpublic MongoDbFactory restDbFactory() throws Exception {\r\n\t\tMongoClientURI uri = new MongoClientURI(environment.getProperty(&quot;mongo.urirestaurants&quot;)); \r\n\t  \treturn new SimpleMongoDbFactory(uri);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getDatabaseName() {\r\n\t\treturn &quot;rest&quot;;\r\n\t}\r\n\r\n    @Override\r\n    public @Bean(name = &quot;primaryMongoTemplate&quot;) MongoTemplate mongoTemplate() throws Exception{ \r\n        return new MongoTemplate(restDbFactory());    \r\n    }\r\n\t\r\nSo when i need to change my database i only select which Config to use","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>I used different DB using java Config, this is how i did it:</p>\n\n<pre><code>@Bean \npublic MongoDbFactory mongoRestDbFactory() throws Exception { \n    MongoClientURI uri=new MongoClientURI(environment.getProperty(\"mongo.uri\")); \n    return new SimpleMongoDbFactory(uri);\n}\n\n@Override\npublic String getDatabaseName() {\n    return \"rest\";\n}\n\n@Override\npublic @Bean(name = \"secondaryMongoTemplate\") MongoTemplate mongoTemplate() throws Exception{ //hay que cambiar el nombre de los templates para que el contendor de beans sepa la diferencia  \n    return new MongoTemplate(mongoRestDbFactory());    \n}\n</code></pre>\n\n<p>And the other was like this:  </p>\n\n<pre><code>@Bean \npublic MongoDbFactory restDbFactory() throws Exception {\n    MongoClientURI uri = new MongoClientURI(environment.getProperty(\"mongo.urirestaurants\")); \n    return new SimpleMongoDbFactory(uri);\n}\n\n@Override\npublic String getDatabaseName() {\n    return \"rest\";\n}\n\n@Override\npublic @Bean(name = \"primaryMongoTemplate\") MongoTemplate mongoTemplate() throws Exception{ \n    return new MongoTemplate(restDbFactory());    \n}\n</code></pre>\n\n<p>So when i need to change my database i only select which Config to use</p>\n"},{"tags":[],"owner":{"account_id":10042527,"reputation":1,"user_id":7424937,"display_name":"Mario Paulo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1490698599,"creation_date":1490614363,"answer_id":43045254,"question_id":12078669,"body_markdown":"As far as I understand, you want more flexibility in changing the current db on the fly.\r\n\r\nI&#39;ve linked a project that implements multi tenancy in a simple way.\r\n\r\nIt could be used as a starting point for the application.\r\n\r\nIt implements SimpleMongoDbFactory and provide a custom getDB method to resolve the correct db to use in certain moment. It can be improved in many ways, for example, by retrieving the db details from a HttpSession from SpringSession object, which for instance could be cached by Redis .   \r\n\r\nTo have different mongoTemplates using different dbs at the same time, maybe change the scope of your mongoDbFactory to session.\r\n\r\n\r\nReferences:\r\n\r\n[multi-tenant-spring-mongodb][1]\r\n\r\n[1]: https://github.com/Loki-Afro/multi-tenant-spring-mongodb","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>As far as I understand, you want more flexibility in changing the current db on the fly.</p>\n\n<p>I've linked a project that implements multi tenancy in a simple way.</p>\n\n<p>It could be used as a starting point for the application.</p>\n\n<p>It implements SimpleMongoDbFactory and provide a custom getDB method to resolve the correct db to use in certain moment. It can be improved in many ways, for example, by retrieving the db details from a HttpSession from SpringSession object, which for instance could be cached by Redis .   </p>\n\n<p>To have different mongoTemplates using different dbs at the same time, maybe change the scope of your mongoDbFactory to session.</p>\n\n<p>References:</p>\n\n<p><a href=\"https://github.com/Loki-Afro/multi-tenant-spring-mongodb\" rel=\"nofollow noreferrer\">multi-tenant-spring-mongodb</a></p>\n"},{"tags":[],"owner":{"account_id":12384539,"reputation":19,"user_id":9028458,"display_name":"Camille Desmots"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649419815,"creation_date":1649419815,"answer_id":71796763,"question_id":12078669,"body_markdown":"An example with Spring boot V2.6.2 :\r\n\r\nContent of your &quot;application.yml&quot; file :\r\n\r\n    spring:\r\n      application:\r\n        name: myApp\r\n      autoconfigure:\r\n      data:\r\n        mongodb:\r\n          host: localhost\r\n          port: 27017\r\n          database: FirstDatabase\r\n        mongodbreference:\r\n          host: localhost\r\n          port: 27017\r\n          database: SecondDatabase\r\n\r\nIn a Classe named &quot;MultipleMongoProperties.java&quot; :\r\n\r\n    package your.packagename;\r\n    \r\n    import lombok.Data;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.mongo.MongoProperties;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;spring.data&quot;)\r\n    public class MultipleMongoProperties {\r\n    \r\n        private MongoProperties mongodb = new MongoProperties();\r\n    \r\n        private MongoProperties mongodbreference = new MongoProperties();\r\n    }\r\n\r\nAnd finaly the class &quot;MultipleMongoConfig.java&quot; :\r\n\r\n        package your.package;\r\n        \r\n        import com.mongodb.client.MongoClients;\r\n        import lombok.RequiredArgsConstructor;\r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        import org.springframework.boot.autoconfigure.mongo.MongoProperties;\r\n        import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.context.annotation.Primary;\r\n        import org.springframework.data.mongodb.MongoDatabaseFactory;\r\n        import org.springframework.data.mongodb.core.MongoTemplate;\r\n        import org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\r\n        \r\n        @Configuration\r\n        @RequiredArgsConstructor\r\n        @EnableConfigurationProperties(MultipleMongoProperties.class)\r\n        public class MultipleMongoConfig {\r\n        \r\n            private static final Logger LOG = LoggerFactory.getLogger(Multip\r\n    \r\n    leMongoConfig.class);\r\n    \r\n        private final MultipleMongoProperties mongoProperties;\r\n    \r\n        private MongoProperties mongoDestination;\r\n    \r\n        @Bean(&quot;referenceMongoTemplate&quot;)\r\n        @Primary\r\n        public MongoTemplate referenceMongoTemplate() {\r\n    \r\n            return new MongoTemplate(referenceFactory(this.mongoProperties.getMongodbreference()));\r\n        }\r\n    \r\n        @Bean(&quot;destinationMongoTemplate&quot;)\r\n        public MongoTemplate destinationMongoTemplate() {\r\n            return new MongoTemplate(destinationFactory(this.mongoProperties.getMongodb()));\r\n        }\r\n    \r\n        public MongoDatabaseFactory referenceFactory(final MongoProperties mongo) {\r\n            this.setUriToMongoProperties(mongo);\r\n    \r\n            return new SimpleMongoClientDatabaseFactory(MongoClients.create(mongo.getUri()), mongo.getDatabase());\r\n        }\r\n    \r\n        public MongoDatabaseFactory destinationFactory(final MongoProperties mongo) {\r\n            this.setUriToMongoProperties(mongo);\r\n            return new SimpleMongoClientDatabaseFactory(MongoClients.create(mongo.getUri()), mongo.getDatabase());\r\n        }\r\n    \r\n        private void setUriToMongoProperties(MongoProperties mongo) {\r\n            mongo.setUri(&quot;mongodb://&quot; + mongo.getUsername() + &quot;:&quot; + String.valueOf(mongo.getPassword()) + &quot;@&quot; + mongo.getHost() + &quot;:&quot; + mongo.getPort() + &quot;/&quot; + mongo.getAuthenticationDatabase());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nIn another class you just have to implement : \r\n\r\n    package your.package;\r\n    \r\n    import com.mongodb.bulk.BulkWriteResult;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CollectionRepositoryImpl implements CollectionsRepository {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;referenceMongoTemplate&quot;)\r\n        private MongoTemplate referenceMongoTemplate;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;destinationMongoTemplate&quot;)\r\n        private MongoTemplate destinationMongoTemplate;\r\n    ...\r\n\r\n\r\n\r\n","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>An example with Spring boot V2.6.2 :</p>\n<p>Content of your &quot;application.yml&quot; file :</p>\n<pre><code>spring:\n  application:\n    name: myApp\n  autoconfigure:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: FirstDatabase\n    mongodbreference:\n      host: localhost\n      port: 27017\n      database: SecondDatabase\n</code></pre>\n<p>In a Classe named &quot;MultipleMongoProperties.java&quot; :</p>\n<pre><code>package your.packagename;\n\nimport lombok.Data;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@Data\n@ConfigurationProperties(prefix = &quot;spring.data&quot;)\npublic class MultipleMongoProperties {\n\n    private MongoProperties mongodb = new MongoProperties();\n\n    private MongoProperties mongodbreference = new MongoProperties();\n}\n</code></pre>\n<p>And finaly the class &quot;MultipleMongoConfig.java&quot; :</p>\n<pre><code>    package your.package;\n    \n    import com.mongodb.client.MongoClients;\n    import lombok.RequiredArgsConstructor;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.boot.autoconfigure.mongo.MongoProperties;\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.context.annotation.Primary;\n    import org.springframework.data.mongodb.MongoDatabaseFactory;\n    import org.springframework.data.mongodb.core.MongoTemplate;\n    import org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\n    \n    @Configuration\n    @RequiredArgsConstructor\n    @EnableConfigurationProperties(MultipleMongoProperties.class)\n    public class MultipleMongoConfig {\n    \n        private static final Logger LOG = LoggerFactory.getLogger(Multip\n\nleMongoConfig.class);\n\n    private final MultipleMongoProperties mongoProperties;\n\n    private MongoProperties mongoDestination;\n\n    @Bean(&quot;referenceMongoTemplate&quot;)\n    @Primary\n    public MongoTemplate referenceMongoTemplate() {\n\n        return new MongoTemplate(referenceFactory(this.mongoProperties.getMongodbreference()));\n    }\n\n    @Bean(&quot;destinationMongoTemplate&quot;)\n    public MongoTemplate destinationMongoTemplate() {\n        return new MongoTemplate(destinationFactory(this.mongoProperties.getMongodb()));\n    }\n\n    public MongoDatabaseFactory referenceFactory(final MongoProperties mongo) {\n        this.setUriToMongoProperties(mongo);\n\n        return new SimpleMongoClientDatabaseFactory(MongoClients.create(mongo.getUri()), mongo.getDatabase());\n    }\n\n    public MongoDatabaseFactory destinationFactory(final MongoProperties mongo) {\n        this.setUriToMongoProperties(mongo);\n        return new SimpleMongoClientDatabaseFactory(MongoClients.create(mongo.getUri()), mongo.getDatabase());\n    }\n\n    private void setUriToMongoProperties(MongoProperties mongo) {\n        mongo.setUri(&quot;mongodb://&quot; + mongo.getUsername() + &quot;:&quot; + String.valueOf(mongo.getPassword()) + &quot;@&quot; + mongo.getHost() + &quot;:&quot; + mongo.getPort() + &quot;/&quot; + mongo.getAuthenticationDatabase());\n\n    }\n\n}\n</code></pre>\n<p>In another class you just have to implement :</p>\n<pre><code>package your.package;\n\nimport com.mongodb.bulk.BulkWriteResult;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CollectionRepositoryImpl implements CollectionsRepository {\n\n    @Autowired\n    @Qualifier(&quot;referenceMongoTemplate&quot;)\n    private MongoTemplate referenceMongoTemplate;\n\n    @Autowired\n    @Qualifier(&quot;destinationMongoTemplate&quot;)\n    private MongoTemplate destinationMongoTemplate;\n...\n</code></pre>\n"}],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41091,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":12803252,"answer_count":7,"score":28,"last_activity_date":1649419815,"creation_date":1345657676,"question_id":12078669,"body_markdown":"I am using the latest spring-data-mongodb (1.1.0.M2) and the latest Mongo Driver (2.9.0-RC1). I have a situation where I have multiple clients connecting to my application and I want to give each one their own &quot;schema/database&quot; in the same Mongo server. This is not a very difficult task to achieve if I was using the driver directly:\r\n\r\n    Mongo mongo = new Mongo( new DBAddress( &quot;localhost&quot;, 127017 ) );\r\n\r\n    DB client1DB = mongo.getDB( &quot;client1&quot; );\r\n    DBCollection client1TTestCollection = client1DB.getCollection( &quot;test&quot; );\r\n    long client1TestCollectionCount = client1TTestCollection.count();\r\n\r\n    DB client2DB = mongo.getDB( &quot;client2&quot; );\r\n    DBCollection client2TTestCollection = client2DB.getCollection( &quot;test&quot; );\r\n    long client2TestCollectionCount = client2TTestCollection.count();\r\n\r\nSee, easy. But spring-data-mongodb does not allow an easy way to use multiple databases. The preferred way of setting up a connection to `Mongo` is to extend the [AbstractMongoConfiguration][1] class: \r\n\r\nYou will see that you override the following method:\r\n\r\n    getDatabaseName()\r\n\r\nSo it forces you to use one database name. The repository interfaces that you then build use that database name inside the MongoTemplate that is passed into the `SimpleMongoRepository` class.\r\n\r\nWhere on earth would I stick multiple database names? I have to make multiple database names, multiple `MongoTempate`s (one per database name), and multiple other config classes. And that still doesn&#39;t get my repository interfaces to use the correct template. If anyone has tried such a thing let me know. If I figure it out I will post the answer here.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.M2/api/org/springframework/data/mongodb/config/AbstractMongoConfiguration.html","title":"Spring-data-mongodb connect to multiple databases in one Mongo instance","body":"<p>I am using the latest spring-data-mongodb (1.1.0.M2) and the latest Mongo Driver (2.9.0-RC1). I have a situation where I have multiple clients connecting to my application and I want to give each one their own \"schema/database\" in the same Mongo server. This is not a very difficult task to achieve if I was using the driver directly:</p>\n\n<pre><code>Mongo mongo = new Mongo( new DBAddress( \"localhost\", 127017 ) );\n\nDB client1DB = mongo.getDB( \"client1\" );\nDBCollection client1TTestCollection = client1DB.getCollection( \"test\" );\nlong client1TestCollectionCount = client1TTestCollection.count();\n\nDB client2DB = mongo.getDB( \"client2\" );\nDBCollection client2TTestCollection = client2DB.getCollection( \"test\" );\nlong client2TestCollectionCount = client2TTestCollection.count();\n</code></pre>\n\n<p>See, easy. But spring-data-mongodb does not allow an easy way to use multiple databases. The preferred way of setting up a connection to <code>Mongo</code> is to extend the <a href=\"http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.M2/api/org/springframework/data/mongodb/config/AbstractMongoConfiguration.html\" rel=\"noreferrer\">AbstractMongoConfiguration</a> class: </p>\n\n<p>You will see that you override the following method:</p>\n\n<pre><code>getDatabaseName()\n</code></pre>\n\n<p>So it forces you to use one database name. The repository interfaces that you then build use that database name inside the MongoTemplate that is passed into the <code>SimpleMongoRepository</code> class.</p>\n\n<p>Where on earth would I stick multiple database names? I have to make multiple database names, multiple <code>MongoTempate</code>s (one per database name), and multiple other config classes. And that still doesn't get my repository interfaces to use the correct template. If anyone has tried such a thing let me know. If I figure it out I will post the answer here.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","tomcat","http-status-code-404"],"answers":[{"tags":[],"owner":{"account_id":15088930,"reputation":26,"user_id":10889374,"display_name":"Tamir Hazut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649226931,"creation_date":1649226931,"answer_id":71762074,"question_id":71761758,"body_markdown":"try removing\r\n\r\n    @ComponentScan(basePackages = &quot;in.njari&quot;)\r\n\r\nthe annotation `@RestController` is a java bean that the system will recognize and initialize by its own, Other then that your code seems to work I have tested it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4nUaw.png","title":"Spring Boot - Controller is recognised but the api is not binded","body":"<p>try removing</p>\n<pre><code>@ComponentScan(basePackages = &quot;in.njari&quot;)\n</code></pre>\n<p>the annotation <code>@RestController</code> is a java bean that the system will recognize and initialize by its own, Other then that your code seems to work I have tested it.</p>\n<p><a href=\"https://i.stack.imgur.com/4nUaw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4nUaw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649419814,"creation_date":1649227297,"answer_id":71762126,"question_id":71761758,"body_markdown":"If you explicitly want to scan base packages, use &lt;br/&gt;\r\n```\r\n@SpringBootApplication(scanBasePackages = &quot;in.njari&quot;)\r\n```\r\n\r\nEdit: Updating answer w.r.t. your code&lt;br/&gt;\r\nChange spring-web dependency to\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring Boot - Controller is recognised but the api is not binded","body":"<p>If you explicitly want to scan base packages, use <br/></p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;in.njari&quot;)\n</code></pre>\n<p>Edit: Updating answer w.r.t. your code<br/>\nChange spring-web dependency to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71762126,"answer_count":2,"score":0,"last_activity_date":1649419814,"creation_date":1649225138,"question_id":71761758,"body_markdown":"I have two files in my application. \r\n\r\nThe Main class file. \r\n\r\n```\r\npackage in.njari.util;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class UtilApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\tSpringApplication.run(UtilApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe controller class.\r\n\r\n```\r\npackage in.njari.util.controller;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class UtilController {\r\n    @GetMapping(&quot;/util&quot;)\r\n    public ResponseEntity&lt;?&gt; f(){\r\n        return new ResponseEntity&lt;&gt;(&quot;I provide insights.&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nMy application.properties looks like :\r\n\r\n```\r\nserver.servlet.context-path=/util-service\r\nlogging.level.org.springframework.core.io.support=DEBUG\r\nlogging.level.org.springframework.context.annotation=DEBUG\r\n``` \r\n\r\nHere&#39;s what my console looks like : \r\n\r\n```  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.5.RELEASE)\r\n\r\n2022-04-06 11:19:53.819  INFO 57700 --- [           main] in.njari.util.UtilApplication            : Starting UtilApplication on njari-MacBook-Pro.local with PID 57700 (/Users/rajdeep/X/util/target/classes started by rajdeep in /Users/rajdeep/X/util)\r\n2022-04-06 11:19:53.821  INFO 57700 --- [           main] in.njari.util.UtilApplication            : No active profile set, falling back to default profiles: default\r\n2022-04-06 11:19:54.005 DEBUG 57700 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/njari/X/util/target/classes/in/njari/util/src/controller/UtilController.class]\r\n2022-04-06 11:19:54.615  INFO 57700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-04-06 11:19:54.627  INFO 57700 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-04-06 11:19:54.627  INFO 57700 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\r\n2022-04-06 11:19:54.708  INFO 57700 --- [           main] o.a.c.c.C.[.[localhost].[/util-service]  : Initializing Spring embedded WebApplicationContext\r\n2022-04-06 11:19:54.709  INFO 57700 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 830 ms\r\n2022-04-06 11:19:54.861  INFO 57700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;/util-service&#39;\r\n2022-04-06 11:19:54.866  INFO 57700 --- [           main] in.njari.util.UtilApplication            : Started UtilApplication in 6.463 seconds (JVM running for 6.993) \r\n```\r\n\r\nI tried hitting the api with the url : \r\n`http://localhost:8080/util-service/util` and this throws up a 404 error.\r\n\r\nSo even though the controller is picked up for component scanning(according to the logs), the request within it isn&#39;t mapped. Not sure why this is happening.\r\n\r\nI suspect there is something wrong with the way i&#39;m configuring my request here! Haven&#39;t been able to pinpoint what it really is though.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot - Controller is recognised but the api is not binded","body":"<p>I have two files in my application.</p>\n<p>The Main class file.</p>\n<pre><code>package in.njari.util;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class UtilApplication {\n\n    public static void main(String[] args) {\n    SpringApplication.run(UtilApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>The controller class.</p>\n<pre><code>package in.njari.util.controller;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class UtilController {\n    @GetMapping(&quot;/util&quot;)\n    public ResponseEntity&lt;?&gt; f(){\n        return new ResponseEntity&lt;&gt;(&quot;I provide insights.&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>My application.properties looks like :</p>\n<pre><code>server.servlet.context-path=/util-service\nlogging.level.org.springframework.core.io.support=DEBUG\nlogging.level.org.springframework.context.annotation=DEBUG\n</code></pre>\n<p>Here's what my console looks like :</p>\n<pre><code> /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.5.RELEASE)\n\n2022-04-06 11:19:53.819  INFO 57700 --- [           main] in.njari.util.UtilApplication            : Starting UtilApplication on njari-MacBook-Pro.local with PID 57700 (/Users/rajdeep/X/util/target/classes started by rajdeep in /Users/rajdeep/X/util)\n2022-04-06 11:19:53.821  INFO 57700 --- [           main] in.njari.util.UtilApplication            : No active profile set, falling back to default profiles: default\n2022-04-06 11:19:54.005 DEBUG 57700 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/njari/X/util/target/classes/in/njari/util/src/controller/UtilController.class]\n2022-04-06 11:19:54.615  INFO 57700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-04-06 11:19:54.627  INFO 57700 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-04-06 11:19:54.627  INFO 57700 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\n2022-04-06 11:19:54.708  INFO 57700 --- [           main] o.a.c.c.C.[.[localhost].[/util-service]  : Initializing Spring embedded WebApplicationContext\n2022-04-06 11:19:54.709  INFO 57700 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 830 ms\n2022-04-06 11:19:54.861  INFO 57700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/util-service'\n2022-04-06 11:19:54.866  INFO 57700 --- [           main] in.njari.util.UtilApplication            : Started UtilApplication in 6.463 seconds (JVM running for 6.993) \n</code></pre>\n<p>I tried hitting the api with the url :\n<code>http://localhost:8080/util-service/util</code> and this throws up a 404 error.</p>\n<p>So even though the controller is picked up for component scanning(according to the logs), the request within it isn't mapped. Not sure why this is happening.</p>\n<p>I suspect there is something wrong with the way i'm configuring my request here! Haven't been able to pinpoint what it really is though.</p>\n"},{"tags":["java","hash","md5"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649417639,"post_id":71796009,"comment_id":126875997,"body_markdown":"Hashing algorithms have nothing to do with encryption *per se*. It would be like taking `x % y = z` and expecting to get something back from `z`","body":"Hashing algorithms have nothing to do with encryption <i>per se</i>. It would be like taking <code>x % y = z</code> and expecting to get something back from <code>z</code>"}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649419756,"creation_date":1649418903,"answer_id":71796562,"question_id":71796009,"body_markdown":"You can&#39;t. That&#39;s what hashing is about. This is not a API or library limitation but a mathematical one, which is there by design.\r\n\r\nYou need to understand that hashing and encryption/ decryption are two completely different things (which are often used together). \r\n\r\n## Hashing\r\nA hash, or to be precise, [a cryptographic hash](https://en.wikipedia.org/wiki/Cryptographic_hash_function), is the result of a [mathematical one-way function](https://en.wikipedia.org/wiki/Hash_function) which means it is meant to be irreversible. Once something is hashed, it is not possible to get the text that was hashed back from it. This is at least true for good hash algorithms, which are not considered broken. `MD5` as well as `SHA1` are considered broken, so if you need this in a security context, use `SHA-256` or even `SHA-512` instead. If you just need this for a checksum, `MD5` should be fine. \r\nYou can just use an MD5 hash value and type it into Google and get the result back. That is not what you want from a hash function. E.g. take your the hash `1cb251ec0d568de6a929b520c4aed8d1` which is the MD5 hash of your message `text` and you&#39;ll get a [website](https://md5hashing.net/hash/md5/1cb251ec0d568de6a929b520c4aed8d1) which shows you the original text. \r\n\r\nAnother property of a hash it that for two different inputs it should ideally never have the same output. That is of course impossible as the set of possible messages to hash is much much bigger then the set of possible hash messages as hashes have a fixed length. But it should not be possible to generate such a [hash collision](https://en.wikipedia.org/wiki/Hash_collision) artificially following some algorithm or clever input. \r\n\r\nThe only way to find out what was hashed is to hash many messages ([brute-force](https://en.wikipedia.org/wiki/Brute-force_search)) and see if the computed hash matches the hash to be cracked. See [Rainbow tables](https://en.wikipedia.org/wiki/Rainbow_table) for more information on this.\r\n\r\nHashes are mostly used to ensure integrity i.e. no modification was done to a message sent over the network. It is often used in conjunction with encryption algorithms (that&#39;s probably where your confusion originates from) as you need more than integrity to guarantee secure communication i.e. additionally authentication (e.g. by using certificates) and confidentiality (this is provided by encryption algorithms).\r\n\r\n## Encryption\r\nAn [encryption](https://en.wikipedia.org/wiki/Encryption) function is a function which takes a message and a key and produces a result which is not readable unless you have the key. Side note: there may be one or two keys for encryption/ decryption depending on the algorithm you use ([symmetric vs. asymmetric](https://www.ssl2buy.com/wiki/symmetric-vs-asymmetric-encryption-what-are-differences)). If you have the key, it is reversible by applying the decryption function. If it was a one-way function like a hash, encryption would make no sense, as a recipient of a message would not be able to retrieve the message. ","title":"how to decrypt using DatatypeConverter MD5 In JAVA?","body":"<p>You can't. That's what hashing is about. This is not a API or library limitation but a mathematical one, which is there by design.</p>\n<p>You need to understand that hashing and encryption/ decryption are two completely different things (which are often used together).</p>\n<h2>Hashing</h2>\n<p>A hash, or to be precise, <a href=\"https://en.wikipedia.org/wiki/Cryptographic_hash_function\" rel=\"nofollow noreferrer\">a cryptographic hash</a>, is the result of a <a href=\"https://en.wikipedia.org/wiki/Hash_function\" rel=\"nofollow noreferrer\">mathematical one-way function</a> which means it is meant to be irreversible. Once something is hashed, it is not possible to get the text that was hashed back from it. This is at least true for good hash algorithms, which are not considered broken. <code>MD5</code> as well as <code>SHA1</code> are considered broken, so if you need this in a security context, use <code>SHA-256</code> or even <code>SHA-512</code> instead. If you just need this for a checksum, <code>MD5</code> should be fine.\nYou can just use an MD5 hash value and type it into Google and get the result back. That is not what you want from a hash function. E.g. take your the hash <code>1cb251ec0d568de6a929b520c4aed8d1</code> which is the MD5 hash of your message <code>text</code> and you'll get a <a href=\"https://md5hashing.net/hash/md5/1cb251ec0d568de6a929b520c4aed8d1\" rel=\"nofollow noreferrer\">website</a> which shows you the original text.</p>\n<p>Another property of a hash it that for two different inputs it should ideally never have the same output. That is of course impossible as the set of possible messages to hash is much much bigger then the set of possible hash messages as hashes have a fixed length. But it should not be possible to generate such a <a href=\"https://en.wikipedia.org/wiki/Hash_collision\" rel=\"nofollow noreferrer\">hash collision</a> artificially following some algorithm or clever input.</p>\n<p>The only way to find out what was hashed is to hash many messages (<a href=\"https://en.wikipedia.org/wiki/Brute-force_search\" rel=\"nofollow noreferrer\">brute-force</a>) and see if the computed hash matches the hash to be cracked. See <a href=\"https://en.wikipedia.org/wiki/Rainbow_table\" rel=\"nofollow noreferrer\">Rainbow tables</a> for more information on this.</p>\n<p>Hashes are mostly used to ensure integrity i.e. no modification was done to a message sent over the network. It is often used in conjunction with encryption algorithms (that's probably where your confusion originates from) as you need more than integrity to guarantee secure communication i.e. additionally authentication (e.g. by using certificates) and confidentiality (this is provided by encryption algorithms).</p>\n<h2>Encryption</h2>\n<p>An <a href=\"https://en.wikipedia.org/wiki/Encryption\" rel=\"nofollow noreferrer\">encryption</a> function is a function which takes a message and a key and produces a result which is not readable unless you have the key. Side note: there may be one or two keys for encryption/ decryption depending on the algorithm you use (<a href=\"https://www.ssl2buy.com/wiki/symmetric-vs-asymmetric-encryption-what-are-differences\" rel=\"nofollow noreferrer\">symmetric vs. asymmetric</a>). If you have the key, it is reversible by applying the decryption function. If it was a one-way function like a hash, encryption would make no sense, as a recipient of a message would not be able to retrieve the message.</p>\n"}],"owner":{"account_id":23777805,"reputation":31,"user_id":17817629,"display_name":"ÙØ­ÙØ¯ ÙØ­ÙØ¯"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71796562,"answer_count":1,"score":1,"last_activity_date":1649419756,"creation_date":1649416385,"question_id":71796009,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n    String s = &quot;text&quot;;\t\r\n    hash=DatatypeConverter.printHexBinary(MessageDigest.getInstance(&quot;MD5&quot;).digest(s.getBytes(&quot;UTF8&quot;)))\r\n    System.err.println(hash);\r\n}\r\n```","title":"how to decrypt using DatatypeConverter MD5 In JAVA?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String s = &quot;text&quot;;  \n    hash=DatatypeConverter.printHexBinary(MessageDigest.getInstance(&quot;MD5&quot;).digest(s.getBytes(&quot;UTF8&quot;)))\n    System.err.println(hash);\n}\n</code></pre>\n"},{"tags":["java","methods","jvm"],"comments":[{"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":2,"creation_date":1648722477,"post_id":71685749,"comment_id":126699211,"body_markdown":"you&#39;re probably better off going through a technical reference (or maybe a blog article summarizing one) than asking this sort of question here.  it&#39;s hard work to write a good explanation of something this complicated here.  the answer depends a lot on how abstractly you&#39;re thinking, e.g. JIT compilation could result in the operation being inlined, while a naive interpreter would need to do more lookups","body":"you&#39;re probably better off going through a technical reference (or maybe a blog article summarizing one) than asking this sort of question here.  it&#39;s hard work to write a good explanation of something this complicated here.  the answer depends a lot on how abstractly you&#39;re thinking, e.g. JIT compilation could result in the operation being inlined, while a naive interpreter would need to do more lookups"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648767970,"post_id":71685749,"comment_id":126715178,"body_markdown":"@Holger **PART 1: ** Thank you for the reply Holger! In previous versions of this question I went more in depth on not just what I currently know, but what I was asking (which problematically split into multiple questions), but due to the question being more general in nature it kepted being closed for not being focused enough. So I thought asking different questions bit by bit and stripping it down to the bare minimum would help. I totally understand your pedal analogy, but it does not mean I am not willing to learn it! I still have the drive of curoisty to find out! I have done a lot of","body":"@Holger **PART 1: ** Thank you for the reply Holger! In previous versions of this question I went more in depth on not just what I currently know, but what I was asking (which problematically split into multiple questions), but due to the question being more general in nature it kepted being closed for not being focused enough. So I thought asking different questions bit by bit and stripping it down to the bare minimum would help. I totally understand your pedal analogy, but it does not mean I am not willing to learn it! I still have the drive of curoisty to find out! I have done a lot of"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648768311,"post_id":71685749,"comment_id":126715234,"body_markdown":"@Holger **PART 2:** digging around to try, and get an answer to my overall question not just the &quot;dot-notation invoking&quot; question. But it is hard to find someone willing to write an article going into the meat and potatos of it all! I wont lie the journey has led me to understanding and learning a lot, like understanding bytecode, and source codes journey from getting compiled into bytecode -&gt; then the JIT Compiler turning the bytecode into machine code! I am still pretty new to Stack overflow as a hole and now I realize it is probably not the place to be asking these types of questions","body":"@Holger <b>PART 2:</b> digging around to try, and get an answer to my overall question not just the &quot;dot-notation invoking&quot; question. But it is hard to find someone willing to write an article going into the meat and potatos of it all! I wont lie the journey has led me to understanding and learning a lot, like understanding bytecode, and source codes journey from getting compiled into bytecode -&gt; then the JIT Compiler turning the bytecode into machine code! I am still pretty new to Stack overflow as a hole and now I realize it is probably not the place to be asking these types of questions"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648768362,"post_id":71685749,"comment_id":126715243,"body_markdown":"@Holger **PART 3:** If you have any tips on where you think I should look next please let me know!","body":"@Holger <b>PART 3:</b> If you have any tips on where you think I should look next please let me know!"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648768569,"post_id":71685749,"comment_id":126715280,"body_markdown":"@SamMason Thank you very much for the response! Youre right! I have realized that this isn&#39;t quite the place for these longer form questions, more specific questions on one idea. Problem is I have been running into this problem with articles as well, not digging into the meat and potatos, or not really answering what I exactly had in mind (instead being more surface level, and following the &quot;If I cant see it, then I dont need to worry about it&quot; type of way). I will continue my rabbit hole search though!","body":"@SamMason Thank you very much for the response! Youre right! I have realized that this isn&#39;t quite the place for these longer form questions, more specific questions on one idea. Problem is I have been running into this problem with articles as well, not digging into the meat and potatos, or not really answering what I exactly had in mind (instead being more surface level, and following the &quot;If I cant see it, then I dont need to worry about it&quot; type of way). I will continue my rabbit hole search though!"},{"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"score":0,"creation_date":1648769317,"post_id":71685749,"comment_id":126715418,"body_markdown":"@SamMason Just to add! I think im having a hard time figuring out what level of abstraction I am thinking at!","body":"@SamMason Just to add! I think im having a hard time figuring out what level of abstraction I am thinking at!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1648794502,"post_id":71685749,"comment_id":126719153,"body_markdown":"[The Java&#174; Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se17/html/index.html) is *the* place to find all the details about Java bytecode and the (formal) behavior it can expect from a JVM. For the widespread implementation, HotSpot, thereâs [this overview](http://openjdk.java.net/groups/hotspot/docs/RuntimeOverview.html) and [the OpenJDK wiki](https://wiki.openjdk.java.net/display/HotSpot), the latter containing lots of details how certain things have been implemented or optimized. Itâs also worth knowing [vtable](https://en.wikipedia.org/wiki/Virtual_method_table).","body":"<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/index.html\" rel=\"nofollow noreferrer\">The Java&#174; Virtual Machine Specification</a> is <i>the</i> place to find all the details about Java bytecode and the (formal) behavior it can expect from a JVM. For the widespread implementation, HotSpot, thereâs <a href=\"http://openjdk.java.net/groups/hotspot/docs/RuntimeOverview.html\" rel=\"nofollow noreferrer\">this overview</a> and <a href=\"https://wiki.openjdk.java.net/display/HotSpot\" rel=\"nofollow noreferrer\">the OpenJDK wiki</a>, the latter containing lots of details how certain things have been implemented or optimized. Itâs also worth knowing <a href=\"https://en.wikipedia.org/wiki/Virtual_method_table\" rel=\"nofollow noreferrer\">vtable</a>."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":2,"creation_date":1648853916,"post_id":71685749,"comment_id":126737654,"body_markdown":"As revised, I think this question is answerable by discussing what the line translates to in bytecode (pretty simple), and then how the method call is performed at runtime (more complex, but fits within the scope of an answer).","body":"As revised, I think this question is answerable by discussing what the line translates to in bytecode (pretty simple), and then how the method call is performed at runtime (more complex, but fits within the scope of an answer)."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649096230,"creation_date":1649096230,"answer_id":71741962,"question_id":71685749,"body_markdown":"Ordinary instance method invocations get compiled to `invokevirtual` instructions.\r\n\r\nThis has been described in [JVMS, &#167;3.7. Invoking Methods]:\r\n\r\n&gt; The normal method invocation for a instance method dispatches on the run-time type of the object. (They are virtual, in C++ terms.) Such an invocation is implemented using the *invokevirtual* instruction, which takes as its argument an index to a run-time constant pool entry giving the internal form of the binary name of the class type of the object, the name of the method to invoke, and that method&#39;s descriptor ([&#167;4.3.3]). To invoke the `addTwo` method, defined earlier as an instance method, we might write:\r\n&gt; \r\n&gt; ```java\r\n&gt; int add12and13() {\r\n&gt;     return addTwo(12, 13);\r\n&gt; }\r\n&gt; ```\r\n&gt; This compiles to:\r\n&gt; ```none\r\n&gt; Method int add12and13()\r\n&gt; 0   aload_0             // Push local variable 0 (this)\r\n&gt; 1   bipush 12           // Push int constant 12\r\n&gt; 3   bipush 13           // Push int constant 13\r\n&gt; 5   invokevirtual #4    // Method Example.addtwo(II)I\r\n&gt; 8   ireturn             // Return int on top of operand stack;\r\n&gt;                         // it is the int result of addTwo()\r\n&gt; ```\r\n&gt; The invocation is set up by first pushing a `reference` to the current instance, `this`, on to the operand stack. The method invocation&#39;s arguments, `int` values `12` and `13`, are then pushed. When the frame for the `addTwo` method is created, the arguments passed to the method become the initial values of the new frame&#39;s local variables. That is, the `reference` for `this` and the two arguments, pushed onto the operand stack by the invoker, will become the initial values of local variables `0`, `1`, and `2` of the invoked method.\r\n\r\n---\r\n\r\nItâs up to the particular JVM implementation, how to perform the invocation at runtime, but using a [vtable] is very common. This basically matches the graphic in your question. The reference to the receiver object, which will become the `this` reference for the invoked method, is used to retrieve a method table.\r\n\r\nIn the HotSpot JVM, the metadata structure is called `Klass` (actually a common name, even across different implementations). See [âObject header layoutâ on the OpenJDK Wiki]:\r\n\r\n&gt; An object header consists of a native-sized mark word, a klass word, a 32-bit length word (if the object is an array), a 32-bit gap (if required by alignment rules), and then zero or more instance fields, array elements, or metadata fields. (Interesting Trivia: Klass metaobjects contain a C++ vtable immediately after the klass word.)\r\n\r\nWhen resolving a symbolic reference to a method, its corresponding index in the table will be identified and remembered for subsequent invocations, as it never changes. Then, the entry of the actual objectâs class can be used for the invocation. Subclasses will have the entries of the superclass, new methods appended to the end, with the entries of overridden methods replaced.\r\n\r\n---\r\n\r\nThis is the simple, unoptimized scenario. Most runtime optimizations work better when methods are inlined, to have the context of caller and callee in one piece of code to transform. Therefore, the HotSpot JVM will attempt inlining even for *invokevirtual* instructions to potentially overridable methods. As [the wiki says]:\r\n\r\n&gt; - Virtual (and interface) invocations are often demoted to &quot;special&quot; invocations, if the class hierarchy permits it. A dependency is registered in case further class loading spoils things.\r\n&gt; - Virtual (and interface) invocations with a lopsided type profile are compiled with an optimistic check in favor of the historically common type (or two types).\r\n&gt; - Depending on the profile, a failure of the optimistic check will either deoptimize or run through a (slow) vtable/itable call.\r\n&gt; - On the fast path of an optimistically typed call, inlining is common. The best case is a de facto monomorphic call which is inlined. Such calls, if back-to-back, will perform the receiver type check only once.\r\n\r\nThis aggressive or optimistic inlining will sometime require [Deoptimization] but will usually yield an overall higher performance.\r\n\r\n[JVMS, &#167;3.7. Invoking Methods]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-3.html#jvms-3.7\r\n[&#167;4.3.3]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.3.3 (4.3.3. Method Descriptors)\r\n[vtable]: https://en.wikipedia.org/wiki/Virtual_method_table\r\n[âObject header layoutâ on the OpenJDK Wiki]: https://wiki.openjdk.java.net/display/HotSpot/CompressedOops#CompressedOops-Objectheaderlayout\r\n[the wiki says]: https://wiki.openjdk.java.net/display/HotSpot/PerformanceTechniques#PerformanceTechniques-Methods\r\n[Deoptimization]: https://wiki.openjdk.java.net/display/HotSpot/PerformanceTechniques#PerformanceTechniques-Deoptimization","title":"What exactly happens in the JVM when invoking an object&#39;s instance method?","body":"<p>Ordinary instance method invocations get compiled to <code>invokevirtual</code> instructions.</p>\n<p>This has been described in <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-3.html#jvms-3.7\" rel=\"noreferrer\">JVMS, Â§3.7. Invoking Methods</a>:</p>\n<blockquote>\n<p>The normal method invocation for a instance method dispatches on the run-time type of the object. (They are virtual, in C++ terms.) Such an invocation is implemented using the <em>invokevirtual</em> instruction, which takes as its argument an index to a run-time constant pool entry giving the internal form of the binary name of the class type of the object, the name of the method to invoke, and that method's descriptor (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.3.3\" rel=\"noreferrer\" title=\"4.3.3. Method Descriptors\">Â§4.3.3</a>). To invoke the <code>addTwo</code> method, defined earlier as an instance method, we might write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int add12and13() {\n    return addTwo(12, 13);\n}\n</code></pre>\n<p>This compiles to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Method int add12and13()\n0   aload_0             // Push local variable 0 (this)\n1   bipush 12           // Push int constant 12\n3   bipush 13           // Push int constant 13\n5   invokevirtual #4    // Method Example.addtwo(II)I\n8   ireturn             // Return int on top of operand stack;\n                        // it is the int result of addTwo()\n</code></pre>\n<p>The invocation is set up by first pushing a <code>reference</code> to the current instance, <code>this</code>, on to the operand stack. The method invocation's arguments, <code>int</code> values <code>12</code> and <code>13</code>, are then pushed. When the frame for the <code>addTwo</code> method is created, the arguments passed to the method become the initial values of the new frame's local variables. That is, the <code>reference</code> for <code>this</code> and the two arguments, pushed onto the operand stack by the invoker, will become the initial values of local variables <code>0</code>, <code>1</code>, and <code>2</code> of the invoked method.</p>\n</blockquote>\n<hr />\n<p>Itâs up to the particular JVM implementation, how to perform the invocation at runtime, but using a <a href=\"https://en.wikipedia.org/wiki/Virtual_method_table\" rel=\"noreferrer\">vtable</a> is very common. This basically matches the graphic in your question. The reference to the receiver object, which will become the <code>this</code> reference for the invoked method, is used to retrieve a method table.</p>\n<p>In the HotSpot JVM, the metadata structure is called <code>Klass</code> (actually a common name, even across different implementations). See <a href=\"https://wiki.openjdk.java.net/display/HotSpot/CompressedOops#CompressedOops-Objectheaderlayout\" rel=\"noreferrer\">âObject header layoutâ on the OpenJDK Wiki</a>:</p>\n<blockquote>\n<p>An object header consists of a native-sized mark word, a klass word, a 32-bit length word (if the object is an array), a 32-bit gap (if required by alignment rules), and then zero or more instance fields, array elements, or metadata fields. (Interesting Trivia: Klass metaobjects contain a C++ vtable immediately after the klass word.)</p>\n</blockquote>\n<p>When resolving a symbolic reference to a method, its corresponding index in the table will be identified and remembered for subsequent invocations, as it never changes. Then, the entry of the actual objectâs class can be used for the invocation. Subclasses will have the entries of the superclass, new methods appended to the end, with the entries of overridden methods replaced.</p>\n<hr />\n<p>This is the simple, unoptimized scenario. Most runtime optimizations work better when methods are inlined, to have the context of caller and callee in one piece of code to transform. Therefore, the HotSpot JVM will attempt inlining even for <em>invokevirtual</em> instructions to potentially overridable methods. As <a href=\"https://wiki.openjdk.java.net/display/HotSpot/PerformanceTechniques#PerformanceTechniques-Methods\" rel=\"noreferrer\">the wiki says</a>:</p>\n<blockquote>\n<ul>\n<li>Virtual (and interface) invocations are often demoted to &quot;special&quot; invocations, if the class hierarchy permits it. A dependency is registered in case further class loading spoils things.</li>\n<li>Virtual (and interface) invocations with a lopsided type profile are compiled with an optimistic check in favor of the historically common type (or two types).</li>\n<li>Depending on the profile, a failure of the optimistic check will either deoptimize or run through a (slow) vtable/itable call.</li>\n<li>On the fast path of an optimistically typed call, inlining is common. The best case is a de facto monomorphic call which is inlined. Such calls, if back-to-back, will perform the receiver type check only once.</li>\n</ul>\n</blockquote>\n<p>This aggressive or optimistic inlining will sometime require <a href=\"https://wiki.openjdk.java.net/display/HotSpot/PerformanceTechniques#PerformanceTechniques-Deoptimization\" rel=\"noreferrer\">Deoptimization</a> but will usually yield an overall higher performance.</p>\n"}],"owner":{"account_id":22935208,"reputation":101,"user_id":17068775,"display_name":"ZenPyro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":71741962,"answer_count":1,"score":0,"last_activity_date":1649419599,"creation_date":1648688790,"question_id":71685749,"body_markdown":"I think I have finally found out how to word, what is giving me so much trouble in understanding: how the virtual machine can access a classes methods and use it only on a given instance (object) with the catch that the virtual machine is only being given the reference/pointer variable.\r\n\r\nThis was compounded by the fact that most visualizations of the methods interacting with the stack/heap (that is shown to most beginner Java programmers) donât quite go deep enough into the depth I am in looking for.\r\n\r\nI have done a lot of research, and I want to say a good summary of what I learned, and I am asking if you could please correct me where I am wrong (or elaborate further if you think there is more that could be said)! Note that I am using this portion of an article I found (I am using it more as a visual reference, I understand some of the text in the article does not pertain to the question), so please take a look at it before reading onward:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nSo letâs say I have a reference/pointer variable `foo1` that is of type `Foo`(was created using a constructor called `Foo`). `foo1` is stored on the stack, but the object it points to is stored on the heap (the `Foo` object having an instance variable `int size;`).\r\n\r\nSo I understand how `foo1.size` would give the integer value of `size` because the value of `foo1` is dereferenced to get the value field of `size` (the reference/pointer variable has a direct address where the `size` field is stored on the heap in the object).\r\n\r\nBut when `foo1.bar()` is ran, what exactly does its bytecode translate to? And how is this method call performed at runtime (would it be correct to say the value of `foo1` is being dereferenced to get method `bar()`)?\r\n\r\nDoes it relate correctly to the diagram in the image above (all in the JVM: does it go from the reference/pointer variable `foo1` on the stack to the heap which is actually a pointer to another pointer (which points to the bytecode of all the class data) `full class data` (in a `method table` which is just an array of pointers to the data for each instance method that can be invoked on objects of that class) in the method area which then itself has &quot;pointer variables&quot; to the actual bytecode `method data`)?\r\n\r\nI apologize for how long-winded this post is, but I want to be extremely specific since I have had major trouble the past week trying to word my question properly. I know I sound sceptical of the article I am referencing, but it seems there is a lot of junk visualizations out there and I want to be sure that Iâm continuing my Java programming correctly, and not on incorrect notions.\r\n\r\n  [1]: https://i.stack.imgur.com/mKbzX.jpg\r\n\r\n\r\n\r\n","title":"What exactly happens in the JVM when invoking an object&#39;s instance method?","body":"<p>I think I have finally found out how to word, what is giving me so much trouble in understanding: how the virtual machine can access a classes methods and use it only on a given instance (object) with the catch that the virtual machine is only being given the reference/pointer variable.</p>\n<p>This was compounded by the fact that most visualizations of the methods interacting with the stack/heap (that is shown to most beginner Java programmers) donât quite go deep enough into the depth I am in looking for.</p>\n<p>I have done a lot of research, and I want to say a good summary of what I learned, and I am asking if you could please correct me where I am wrong (or elaborate further if you think there is more that could be said)! Note that I am using this portion of an article I found (I am using it more as a visual reference, I understand some of the text in the article does not pertain to the question), so please take a look at it before reading onward:</p>\n<p><a href=\"https://i.stack.imgur.com/mKbzX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mKbzX.jpg\" alt=\"Enter image description here\" /></a></p>\n<p>So letâs say I have a reference/pointer variable <code>foo1</code> that is of type <code>Foo</code>(was created using a constructor called <code>Foo</code>). <code>foo1</code> is stored on the stack, but the object it points to is stored on the heap (the <code>Foo</code> object having an instance variable <code>int size;</code>).</p>\n<p>So I understand how <code>foo1.size</code> would give the integer value of <code>size</code> because the value of <code>foo1</code> is dereferenced to get the value field of <code>size</code> (the reference/pointer variable has a direct address where the <code>size</code> field is stored on the heap in the object).</p>\n<p>But when <code>foo1.bar()</code> is ran, what exactly does its bytecode translate to? And how is this method call performed at runtime (would it be correct to say the value of <code>foo1</code> is being dereferenced to get method <code>bar()</code>)?</p>\n<p>Does it relate correctly to the diagram in the image above (all in the JVM: does it go from the reference/pointer variable <code>foo1</code> on the stack to the heap which is actually a pointer to another pointer (which points to the bytecode of all the class data) <code>full class data</code> (in a <code>method table</code> which is just an array of pointers to the data for each instance method that can be invoked on objects of that class) in the method area which then itself has &quot;pointer variables&quot; to the actual bytecode <code>method data</code>)?</p>\n<p>I apologize for how long-winded this post is, but I want to be extremely specific since I have had major trouble the past week trying to word my question properly. I know I sound sceptical of the article I am referencing, but it seems there is a lot of junk visualizations out there and I want to be sure that Iâm continuing my Java programming correctly, and not on incorrect notions.</p>\n"},{"tags":["java","algorithm","stack","output","breadth-first-search"],"comments":[{"owner":{"account_id":24865023,"reputation":13,"user_id":18740236,"display_name":"rhlcreations rhl"},"score":0,"creation_date":1649407785,"post_id":71793683,"comment_id":126872567,"body_markdown":"it only has x and y coordinates","body":"it only has x and y coordinates"}],"answers":[{"tags":[],"owner":{"account_id":6832552,"reputation":101,"user_id":5256067,"display_name":"tvili999"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649419380,"creation_date":1649405638,"answer_id":71793750,"question_id":71793683,"body_markdown":"The simplest way is to define a function that takes two coordinates, and returns the direction, then iterate through the coordinates and check if there is a change compared to the next one.\r\n\r\n```java\r\npublic static String getDirection(int x1, int y1, int x2, int y2) {\r\n    if(x1 == x2 &amp;&amp; y1 &gt; y2)\r\n        return &quot;up&quot;;\r\n    if(x1 == x2 &amp;&amp; y1 &lt; y2)\r\n        return &quot;down&quot;;\r\n    if(y1 == y2 &amp;&amp; x1 &lt; x2)\r\n        return &quot;right&quot;;\r\n    if(y1 == y2 &amp;&amp; x1 &gt; x2)\r\n        return &quot;left&quot;;\r\n    return &quot;undecidable&quot;;\r\n}\r\n\r\n// It is written so just for simplicity. \r\n// Use an array of Coord structs or something like that.\r\npublic static void printDirections(int[] x, int[] y) {\r\n    System.out.printf(&quot;Start - x = %d y = %d\\n&quot;, x[0], y[0]);\r\n\r\n    String lastDirection = getDirection(x[0], y[0], x[1], y[1]);\r\n    for(int i = 1; i &lt; x.length - 1; i++) {\r\n        String direction = getDirection(x[i], y[i], x[i + 1], y[i + 1]);\r\n        if(!lastDirection.equals(direction)) {\r\n            System.out.printf(&quot;Move %s to x = %d y = %d&quot;, lastDirection, x[i], y[i]);\r\n        }\r\n\r\n        lastDirection = direction;\r\n    }\r\n    System.out.printf(&quot;Move %s to x = %d y = %d&quot;, lastDirection, x[x.length - 1], y[y.length - 1]);\r\n}\r\n```","title":"How to output direction of shortest path?","body":"<p>The simplest way is to define a function that takes two coordinates, and returns the direction, then iterate through the coordinates and check if there is a change compared to the next one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getDirection(int x1, int y1, int x2, int y2) {\n    if(x1 == x2 &amp;&amp; y1 &gt; y2)\n        return &quot;up&quot;;\n    if(x1 == x2 &amp;&amp; y1 &lt; y2)\n        return &quot;down&quot;;\n    if(y1 == y2 &amp;&amp; x1 &lt; x2)\n        return &quot;right&quot;;\n    if(y1 == y2 &amp;&amp; x1 &gt; x2)\n        return &quot;left&quot;;\n    return &quot;undecidable&quot;;\n}\n\n// It is written so just for simplicity. \n// Use an array of Coord structs or something like that.\npublic static void printDirections(int[] x, int[] y) {\n    System.out.printf(&quot;Start - x = %d y = %d\\n&quot;, x[0], y[0]);\n\n    String lastDirection = getDirection(x[0], y[0], x[1], y[1]);\n    for(int i = 1; i &lt; x.length - 1; i++) {\n        String direction = getDirection(x[i], y[i], x[i + 1], y[i + 1]);\n        if(!lastDirection.equals(direction)) {\n            System.out.printf(&quot;Move %s to x = %d y = %d&quot;, lastDirection, x[i], y[i]);\n        }\n\n        lastDirection = direction;\n    }\n    System.out.printf(&quot;Move %s to x = %d y = %d&quot;, lastDirection, x[x.length - 1], y[y.length - 1]);\n}\n</code></pre>\n"}],"owner":{"account_id":24865023,"reputation":13,"user_id":18740236,"display_name":"rhlcreations rhl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71793750,"answer_count":1,"score":1,"last_activity_date":1649419380,"creation_date":1649405227,"question_id":71793683,"body_markdown":"This is a simple maze solver program. \r\n\r\n    .0........\r\n    ..........\r\n    .0...0.0.0\r\n    ...0...0..\r\n    ..........\r\n    .0.0......\r\n    .........0\r\n    ...F....0.\r\n    ..........\r\n    S.0...0...\r\n\r\nthis is the simple maze i&#39;m working on. I implemented a solution to output cordinates of the path as follow.(cordinates aquired from a BFS algorithm)\r\n\r\n    Start - x = 9 y = 0\r\n    Move up to - x = 8 y = 0\r\n    Move up to - x = 7 y = 0\r\n    Move Right to - x = 7 y = 1\r\n    Move Right to - x = 7 y = 2\r\n    Move Right to - x = 7 y = 3\r\n    Finish\r\n\r\nbut I want to output like below(omit same direction and only output direction and last coordinate to same direction),\r\n\r\n    Start        - x = 9 y = 0\r\n    Move up to   - x = 7 y = 0\r\n    Move Right to- x = 7 y = 3\r\n    Finish\r\nthis all coordinates are allocated to a stack.below is my code,\r\n\r\n    System.out.println(&quot;Start - &quot; + curr);\r\n            curr = stack.pop();\r\n    \r\n    \r\n            while (!stack.isEmpty()) {\r\n                System.out.println(curr);\r\n                curr = stack.pop();\r\n            }\r\n            System.out.println(curr);\r\n    \r\n        }","title":"How to output direction of shortest path?","body":"<p>This is a simple maze solver program.</p>\n<pre><code>.0........\n..........\n.0...0.0.0\n...0...0..\n..........\n.0.0......\n.........0\n...F....0.\n..........\nS.0...0...\n</code></pre>\n<p>this is the simple maze i'm working on. I implemented a solution to output cordinates of the path as follow.(cordinates aquired from a BFS algorithm)</p>\n<pre><code>Start - x = 9 y = 0\nMove up to - x = 8 y = 0\nMove up to - x = 7 y = 0\nMove Right to - x = 7 y = 1\nMove Right to - x = 7 y = 2\nMove Right to - x = 7 y = 3\nFinish\n</code></pre>\n<p>but I want to output like below(omit same direction and only output direction and last coordinate to same direction),</p>\n<pre><code>Start        - x = 9 y = 0\nMove up to   - x = 7 y = 0\nMove Right to- x = 7 y = 3\nFinish\n</code></pre>\n<p>this all coordinates are allocated to a stack.below is my code,</p>\n<pre><code>System.out.println(&quot;Start - &quot; + curr);\n        curr = stack.pop();\n\n\n        while (!stack.isEmpty()) {\n            System.out.println(curr);\n            curr = stack.pop();\n        }\n        System.out.println(curr);\n\n    }\n</code></pre>\n"},{"tags":["java","maven","gradle","intellij-idea","github-package-registry"],"comments":[{"owner":{"account_id":2826365,"reputation":144,"user_id":7534931,"display_name":"Simone Celia"},"score":0,"creation_date":1649419418,"post_id":71796613,"comment_id":126876648,"body_markdown":"I thinks it depens on your intellij-idea configuration and .gitignore","body":"I thinks it depens on your intellij-idea configuration and .gitignore"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649484866,"post_id":71796613,"comment_id":126892129,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24588610,"reputation":1,"user_id":18492807,"display_name":"Harish Madineni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649419178,"creation_date":1649419178,"question_id":71796613,"body_markdown":"f i am publishing my build.gradle to github packages only the dependencies are published or the plugins and tasks are also published. If the tasks and plugins are also published how can i do that ?","title":"While publishing to github packages using gradle, only the dependencies are added?","body":"<p>f i am publishing my build.gradle to github packages only the dependencies are published or the plugins and tasks are also published. If the tasks and plugins are also published how can i do that ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1649419211,"post_id":71796567,"comment_id":126876565,"body_markdown":"What is the output of `which java` and `/usr/libexec/java_home`","body":"What is the output of <code>which java</code> and <code>&#47;usr&#47;libexec&#47;java_home</code>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1649419459,"post_id":71796567,"comment_id":126876672,"body_markdown":"Also it&#39;s not `/library/java` it&#39;s `/Library/Java`","body":"Also it&#39;s not <code>&#47;library&#47;java</code> it&#39;s <code>&#47;Library&#47;Java</code>"},{"owner":{"account_id":24871851,"reputation":9,"user_id":18746263,"display_name":"Odriv"},"score":0,"creation_date":1649419923,"post_id":71796567,"comment_id":126876850,"body_markdown":"I entered which java in terminal, and output was /usr/bin/java","body":"I entered which java in terminal, and output was /usr/bin/java"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1649419973,"post_id":71796567,"comment_id":126876868,"body_markdown":"@Odriv Yes, hence why the next suggestion by @Karthikeyan was: .. and now run `/usr/libexec/java_home`. Which tells you what `/usr/bin/java` actually ends up doing.","body":"@Odriv Yes, hence why the next suggestion by @Karthikeyan was: .. and now run <code>&#47;usr&#47;libexec&#47;java_home</code>. Which tells you what <code>&#47;usr&#47;bin&#47;java</code> actually ends up doing."},{"owner":{"account_id":24871851,"reputation":9,"user_id":18746263,"display_name":"Odriv"},"score":0,"creation_date":1649420307,"post_id":71796567,"comment_id":126876992,"body_markdown":"I runed /usr/libexec/java_home. Am I done now?","body":"I runed /usr/libexec/java_home. Am I done now?"},{"owner":{"account_id":24871851,"reputation":9,"user_id":18746263,"display_name":"Odriv"},"score":0,"creation_date":1649420504,"post_id":71796567,"comment_id":126877082,"body_markdown":"Oh, I just have found the JAVA folder. Thanks for helping me!","body":"Oh, I just have found the JAVA folder. Thanks for helping me!"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1649420610,"post_id":71796567,"comment_id":126877132,"body_markdown":"@Odriv where was the java folder?","body":"@Odriv where was the java folder?"},{"owner":{"account_id":24871851,"reputation":9,"user_id":18746263,"display_name":"Odriv"},"score":2,"creation_date":1649421367,"post_id":71796567,"comment_id":126877456,"body_markdown":"Macintosh HD/Library/Java.","body":"Macintosh HD/Library/Java."}],"owner":{"account_id":24871851,"reputation":9,"user_id":18746263,"display_name":"Odriv"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649419104,"creation_date":1649418925,"question_id":71796567,"body_markdown":"I bought M1 MacBook Pro first in this time.\r\n\r\nI downloaded JDK 18 for Mac, and I tried to set up the environment variable.\r\n\r\nBut I can&#39;t find /library/java folder.\r\n\r\nI found library folder, but there is no java folder in there.\r\n\r\nSomebody plz help me...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SBQKd.png","title":"M1 Mac, There is no Java folder in library folder","body":"<p>I bought M1 MacBook Pro first in this time.</p>\n<p>I downloaded JDK 18 for Mac, and I tried to set up the environment variable.</p>\n<p>But I can't find /library/java folder.</p>\n<p>I found library folder, but there is no java folder in there.</p>\n<p>Somebody plz help me...</p>\n<p><a href=\"https://i.stack.imgur.com/SBQKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SBQKd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"score":0,"creation_date":1649418933,"post_id":71796268,"comment_id":126876457,"body_markdown":"The point of the `collect()` method of a Stream is to transform this stream into a `List`. Also, Sonar just send warning, this should compile and run. What&#39;s the matter with Sonar sending you this error ?","body":"The point of the <code>collect()</code> method of a Stream is to transform this stream into a <code>List</code>. Also, Sonar just send warning, this should compile and run. What&#39;s the matter with Sonar sending you this error ?"},{"owner":{"account_id":16600082,"reputation":1,"user_id":11996010,"display_name":"hanene"},"score":0,"creation_date":1649419148,"post_id":71796268,"comment_id":126876541,"body_markdown":"Thank you for your feedback\nit is a bug in the sonar analysis it must be corrected","body":"Thank you for your feedback it is a bug in the sonar analysis it must be corrected"},{"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"score":0,"creation_date":1649419269,"post_id":71796268,"comment_id":126876596,"body_markdown":"I don&#39;t think it&#39;s a bug, it&#39;s more of a rule defined in Sonar. Though it&#39;s right, if you don&#39;t need the newly mapped list, don&#39;t use a collector. But you might be using `map` incorrectly; maybe you&#39;re looking for `forEach`.","body":"I don&#39;t think it&#39;s a bug, it&#39;s more of a rule defined in Sonar. Though it&#39;s right, if you don&#39;t need the newly mapped list, don&#39;t use a collector. But you might be using <code>map</code> incorrectly; maybe you&#39;re looking for <code>forEach</code>."}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649419101,"creation_date":1649418449,"answer_id":71796461,"question_id":71796268,"body_markdown":"Your method returns a List. You never use it. \r\n\r\n       List&lt;YourObject&gt; yourNewList = eventList.stream().map(event -&gt; {\r\n            .....\r\n            \r\n            return event;\r\n            \r\n        }).collect(Collectors.toList());","title":"The return value of &quot;collect&quot; must be used : error sonar java","body":"<p>Your method returns a List. You never use it.</p>\n<pre><code>   List&lt;YourObject&gt; yourNewList = eventList.stream().map(event -&gt; {\n        .....\n        \n        return event;\n        \n    }).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":16600082,"reputation":1,"user_id":11996010,"display_name":"hanene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1591,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649419101,"creation_date":1649417518,"question_id":71796268,"body_markdown":"I want to achieve something like this:\r\n\r\n    List&lt;Event&gt; list = query.getResultList();\r\n\t\tif (!query.getResultList().isEmpty()) {\r\n\r\n\t\t\tlist.stream().map(event -&gt; {\r\n\t\t\t\t.....\r\n\t\t\t\t\r\n\t\t\t\treturn event;\r\n\t\t\t\t\r\n\t\t\t}).collect(Collectors.toList());\r\n\t\t}\r\n\r\nbut i have error sonar: the return value of collect must be used\r\n\r\nHelp please!","title":"The return value of &quot;collect&quot; must be used : error sonar java","body":"<p>I want to achieve something like this:</p>\n<pre><code>List&lt;Event&gt; list = query.getResultList();\n    if (!query.getResultList().isEmpty()) {\n\n        list.stream().map(event -&gt; {\n            .....\n            \n            return event;\n            \n        }).collect(Collectors.toList());\n    }\n</code></pre>\n<p>but i have error sonar: the return value of collect must be used</p>\n<p>Help please!</p>\n"},{"tags":["java","code-coverage","jacoco"],"owner":{"account_id":13678283,"reputation":109,"user_id":9869222,"display_name":"swati chiniwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1649419047,"creation_date":1649418605,"question_id":71796496,"body_markdown":"I am using jacoco jar (not maven plugin) to generate code coverage report. I have created jacoco.exec file by setting -javaagent as jvm option in my server startup script. Now I want to generate coverage report using the coverage exec file and I have access only to application jar but not to source/class files path.\r\n\r\nI&#39;ve gone through all Jacoco report generation options (maven, API etc..) However all these options required to have path to class files(which i dont have access in my case). I&#39;m trying to generate coverage for application jar file where as sources and class files are not available. In that case, is there a workaround to achieve coverage generation.","title":"Is it mandatory to point to class files and source files for jacoco report generation","body":"<p>I am using jacoco jar (not maven plugin) to generate code coverage report. I have created jacoco.exec file by setting -javaagent as jvm option in my server startup script. Now I want to generate coverage report using the coverage exec file and I have access only to application jar but not to source/class files path.</p>\n<p>I've gone through all Jacoco report generation options (maven, API etc..) However all these options required to have path to class files(which i dont have access in my case). I'm trying to generate coverage for application jar file where as sources and class files are not available. In that case, is there a workaround to achieve coverage generation.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":1,"creation_date":1545142439,"post_id":53834643,"comment_id":94517866,"body_markdown":"There&#39;s a mention in the error about the classpath of the application. Mind adding it to the question? It seems like there is a double reference to internalTransactionalEventListenerFactory somehow.","body":"There&#39;s a mention in the error about the classpath of the application. Mind adding it to the question? It seems like there is a double reference to internalTransactionalEventListenerFactory somehow."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":1,"creation_date":1545148075,"post_id":53834643,"comment_id":94521166,"body_markdown":"The classpath involves more than 100+ third party and application specific libraries. Btw, the classes in the error message aren&#39;t classes or beans that we configure in the application code. It looks like something internal to spring transaction management.","body":"The classpath involves more than 100+ third party and application specific libraries. Btw, the classes in the error message aren&#39;t classes or beans that we configure in the application code. It looks like something internal to spring transaction management."},{"owner":{"account_id":4254480,"reputation":1409,"user_id":3480525,"accept_rate":69,"display_name":"Praveesh P"},"score":0,"creation_date":1587145499,"post_id":53834643,"comment_id":108403804,"body_markdown":"@AndyDufresne, did you find the actually issue?","body":"@AndyDufresne, did you find the actually issue?"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1587194245,"post_id":53834643,"comment_id":108417707,"body_markdown":"@PraveeshP - Since this has been more than a year ago, I don&#39;t recollect much but I think we had to go with the below property.","body":"@PraveeshP - Since this has been more than a year ago, I don&#39;t recollect much but I think we had to go with the below property."}],"answers":[{"tags":[],"owner":{"account_id":4602762,"reputation":408,"user_id":3733043,"display_name":"david.delamo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1545291785,"creation_date":1545291785,"answer_id":53864341,"question_id":53834643,"body_markdown":"I was having a similar problem with my tests after an update to Spring Boot 2.1. In my case was solved setting the property `spring.main.allow-bean-definition-overriding` to `true`. Maybe this can help in your case too.","title":"Spring Boot Upgrade Error - Invalid bean definition with name org.springframework.transaction.config.internalTransactionalEventListenerFactory","body":"<p>I was having a similar problem with my tests after an update to Spring Boot 2.1. In my case was solved setting the property <code>spring.main.allow-bean-definition-overriding</code> to <code>true</code>. Maybe this can help in your case too.</p>\n"},{"tags":[],"owner":{"account_id":11821986,"reputation":11,"user_id":8650857,"display_name":"Jeff Yu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649418689,"creation_date":1649376326,"answer_id":71790254,"question_id":53834643,"body_markdown":"I had similar issue, but the root cause of my issue is, that there are multiple `tx:annotation-driven` tags defined in `applicationContext.xml`.","title":"Spring Boot Upgrade Error - Invalid bean definition with name org.springframework.transaction.config.internalTransactionalEventListenerFactory","body":"<p>I had similar issue, but the root cause of my issue is, that there are multiple <code>tx:annotation-driven</code> tags defined in <code>applicationContext.xml</code>.</p>\n"}],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19981,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1649418689,"creation_date":1545141446,"question_id":53834643,"body_markdown":"In an attempt to upgrade spring boot to the latest version 2.1.1 &amp; spring framework to 5.1.3 in a java based web application, I get the following error\r\n\r\n    Invalid bean definition with name &#39;org.springframework.transaction.config.internalTransactionalEventListenerFactory&#39; defined in null\r\n\r\nThe complete stacktrace is as follows. Any thoughts on troubleshooting further would be helpful\r\n\r\n    Failure starting application: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;org.springframework.transaction.config.internalTransactionalEventListenerFactory&#39; defined in null: Cannot register bean definition [Root bean: class [org.springframework.transaction.event.TransactionalEventListenerFactory]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean &#39;org.springframework.transaction.config.internalTransactionalEventListenerFactory&#39;: There is already [Root bean: class [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=transactionalEventListenerFactory; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]] bound.\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:894)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionReaderUtils.registerBeanDefinition(BeanDefinitionReaderUtils.java:166)\r\n    \tat org.springframework.beans.factory.xml.ParserContext.registerBeanComponent(ParserContext.java:125)\r\n    \tat org.springframework.transaction.config.AnnotationDrivenBeanDefinitionParser.registerTransactionalEventListenerFactory(AnnotationDrivenBeanDefinitionParser.java:111)\r\n    \tat org.springframework.transaction.config.AnnotationDrivenBeanDefinitionParser.parse(AnnotationDrivenBeanDefinitionParser.java:63)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1366)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1352)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:513)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:393)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportedResources$0(ConfigurationClassBeanDefinitionReader.java:358)\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportedResources(ConfigurationClassBeanDefinitionReader.java:325)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\r\nThanks!\r\n\r\n**Update 1**\r\n\r\nThe issue was suppressed by turning on bean overriding that was by default disabled in spring boot 2.1.0 RELEASE\r\n\r\n    spring.main.allow-bean-definition-overriding=true\r\n\r\nAfter this workaround, the application startup fails with an OOM error as below\r\n\r\n    Application run failed java.lang.OutOfMemoryError: Requested array size exceeds VM limit","title":"Spring Boot Upgrade Error - Invalid bean definition with name org.springframework.transaction.config.internalTransactionalEventListenerFactory","body":"<p>In an attempt to upgrade spring boot to the latest version 2.1.1 &amp; spring framework to 5.1.3 in a java based web application, I get the following error</p>\n\n<pre><code>Invalid bean definition with name 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' defined in null\n</code></pre>\n\n<p>The complete stacktrace is as follows. Any thoughts on troubleshooting further would be helpful</p>\n\n<pre><code>Failure starting application: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' defined in null: Cannot register bean definition [Root bean: class [org.springframework.transaction.event.TransactionalEventListenerFactory]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory': There is already [Root bean: class [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=transactionalEventListenerFactory; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]] bound.\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:894)\n    at org.springframework.beans.factory.support.BeanDefinitionReaderUtils.registerBeanDefinition(BeanDefinitionReaderUtils.java:166)\n    at org.springframework.beans.factory.xml.ParserContext.registerBeanComponent(ParserContext.java:125)\n    at org.springframework.transaction.config.AnnotationDrivenBeanDefinitionParser.registerTransactionalEventListenerFactory(AnnotationDrivenBeanDefinitionParser.java:111)\n    at org.springframework.transaction.config.AnnotationDrivenBeanDefinitionParser.parse(AnnotationDrivenBeanDefinitionParser.java:63)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1366)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1352)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:513)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:393)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportedResources$0(ConfigurationClassBeanDefinitionReader.java:358)\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportedResources(ConfigurationClassBeanDefinitionReader.java:325)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n</code></pre>\n\n<p>Thanks!</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>The issue was suppressed by turning on bean overriding that was by default disabled in spring boot 2.1.0 RELEASE</p>\n\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n\n<p>After this workaround, the application startup fails with an OOM error as below</p>\n\n<pre><code>Application run failed java.lang.OutOfMemoryError: Requested array size exceeds VM limit\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1649220914,"post_id":71761217,"comment_id":126817695,"body_markdown":"You don&#39;t have to initialize fields (unless declared `final`). They&#39;re defaulted to 0.","body":"You don&#39;t have to initialize fields (unless declared <code>final</code>). They&#39;re defaulted to 0."},{"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"score":0,"creation_date":1649221327,"post_id":71761217,"comment_id":126817754,"body_markdown":"I&#39;ve tested that scenario in java console and it crashes why is that? @shmosel","body":"I&#39;ve tested that scenario in java console and it crashes why is that? @shmosel"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1649221413,"post_id":71761217,"comment_id":126817763,"body_markdown":"You&#39;ve tested what?","body":"You&#39;ve tested what?"},{"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"score":0,"creation_date":1649221791,"post_id":71761217,"comment_id":126817820,"body_markdown":"`if(questionCounter &lt; questionCountTotal)` without initializing the `questionCounter` to any value and it crashes the app in java console. I&#39;ve initialize `questionCountTotal to 10` @shmosel","body":"<code>if(questionCounter &lt; questionCountTotal)</code> without initializing the <code>questionCounter</code> to any value and it crashes the app in java console. I&#39;ve initialize <code>questionCountTotal to 10</code> @shmosel"},{"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"score":0,"creation_date":1649221824,"post_id":71761217,"comment_id":126817826,"body_markdown":"`if(questionCounter &lt; questionCountTotal){\n            System.out.println(&quot;BOOM&quot;);\n        }else{\n            System.out.println(&quot;OUT&quot;);\n        }`","body":"<code>if(questionCounter &lt; questionCountTotal){             System.out.println(&quot;BOOM&quot;);         }else{             System.out.println(&quot;OUT&quot;);         }</code>"},{"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"score":0,"creation_date":1649221935,"post_id":71761217,"comment_id":126817842,"body_markdown":"`error: variable questionCounter might not have been initialized`","body":"<code>error: variable questionCounter might not have been initialized</code>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649241588,"post_id":71761217,"comment_id":126824377,"body_markdown":"@shmosel. 0 only for int. Not for others","body":"@shmosel. 0 only for int. Not for others"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1649259008,"post_id":71761217,"comment_id":126831782,"body_markdown":"Variables are different from fields.","body":"Variables are different from fields."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649241557,"creation_date":1649241005,"answer_id":71765134,"question_id":71761217,"body_markdown":"`int`, `long`, `double`, `boolean`, `char` etc... are primitive type variables. They can never be null. They get these default values even if not initialised:\r\n\r\n\r\n| Data Type\t| Default Value (for fields) |\r\n  --------  |  --------------------------\r\n| byte    |\t0                    |\r\n| short   |\t0                    |\r\n| int     | 0                    |\r\n| long    |\t0L                   |\r\n| float   |\t0.0f                 |\r\n| double  |\t0.0d                 |\r\n| char    |\t&#39;\\u0000&#39;             |\r\n| String  | (or any object) null |\r\n| boolean |\tfalse                |\r\n\r\n\r\nNow, when you check them and try to print them in log, you will see these values. But, on the same place, if you try to use objects without initialising them, you get a [NullPointerException](https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true)","title":"My variable is not initialized but the code block is executed","body":"<p><code>int</code>, <code>long</code>, <code>double</code>, <code>boolean</code>, <code>char</code> etc... are primitive type variables. They can never be null. They get these default values even if not initialised:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Data Type</th>\n<th>Default Value (for fields)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>byte</td>\n<td>0</td>\n</tr>\n<tr>\n<td>short</td>\n<td>0</td>\n</tr>\n<tr>\n<td>int</td>\n<td>0</td>\n</tr>\n<tr>\n<td>long</td>\n<td>0L</td>\n</tr>\n<tr>\n<td>float</td>\n<td>0.0f</td>\n</tr>\n<tr>\n<td>double</td>\n<td>0.0d</td>\n</tr>\n<tr>\n<td>char</td>\n<td>'\\u0000'</td>\n</tr>\n<tr>\n<td>String</td>\n<td>(or any object) null</td>\n</tr>\n<tr>\n<td>boolean</td>\n<td>false</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now, when you check them and try to print them in log, you will see these values. But, on the same place, if you try to use objects without initialising them, you get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true\" rel=\"nofollow noreferrer\">NullPointerException</a></p>\n"}],"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649418517,"creation_date":1649220860,"question_id":71761217,"body_markdown":"In my `QuizActivity` I have this code:\r\n\r\n    \r\n    public class QuizActivity extends AppCompatActivity {\r\n       \r\n        private int questionCounter;\r\n    \r\n        private int questionCountTotal;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_quiz); \r\n    \r\n            questionCountTotal = questionList.size();\r\n    \r\n            showNextQuestion();\r\n    \r\n        }\r\n    \r\n        private void showNextQuestion() {\r\n    \r\n            rb1.setTextColor(textColorDefaultRb);\r\n            rb2.setTextColor(textColorDefaultRb);\r\n            rb3.setTextColor(textColorDefaultRb);\r\n            rbGroup.clearCheck();\r\n    \r\n            if(questionCounter &lt; questionCountTotal){\r\n                currentQuestion = questionList.get(questionCounter);\r\n    \r\n                textViewQuestion.setText(currentQuestion.getQuestion());\r\n                rb1.setText(currentQuestion.getOption1());\r\n                rb2.setText(currentQuestion.getOption2());\r\n                rb3.setText(currentQuestion.getOption3());\r\n    \r\n                questionCounter++;\r\n                textViewQuestionCount.setText(&quot;Question: &quot; + questionCounter + &quot;/&quot; + questionCountTotal);\r\n                answered = false;\r\n                buttonConfirmNext.setText(&quot;Confirm&quot;);\r\n    \r\n            }else{\r\n                finishQuiz();\r\n            }\r\n        }\r\n    \r\n       \r\n    }\r\n\r\n`questionCounter` is not initialize to `0 or to any int value` why is it the program is reading `if(questionCounter &lt; questionCountTotal)`? the code block inside the if statement is executed, why is that? as far as I know, you can&#39;t compare values that is not initialized\r\n\r\nIt should crash the app while reading `if(questionCounter &lt; questionCountTotal)`","title":"My variable is not initialized but the code block is executed","body":"<p>In my <code>QuizActivity</code> I have this code:</p>\n<pre><code>public class QuizActivity extends AppCompatActivity {\n   \n    private int questionCounter;\n\n    private int questionCountTotal;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_quiz); \n\n        questionCountTotal = questionList.size();\n\n        showNextQuestion();\n\n    }\n\n    private void showNextQuestion() {\n\n        rb1.setTextColor(textColorDefaultRb);\n        rb2.setTextColor(textColorDefaultRb);\n        rb3.setTextColor(textColorDefaultRb);\n        rbGroup.clearCheck();\n\n        if(questionCounter &lt; questionCountTotal){\n            currentQuestion = questionList.get(questionCounter);\n\n            textViewQuestion.setText(currentQuestion.getQuestion());\n            rb1.setText(currentQuestion.getOption1());\n            rb2.setText(currentQuestion.getOption2());\n            rb3.setText(currentQuestion.getOption3());\n\n            questionCounter++;\n            textViewQuestionCount.setText(&quot;Question: &quot; + questionCounter + &quot;/&quot; + questionCountTotal);\n            answered = false;\n            buttonConfirmNext.setText(&quot;Confirm&quot;);\n\n        }else{\n            finishQuiz();\n        }\n    }\n\n   \n}\n</code></pre>\n<p><code>questionCounter</code> is not initialize to <code>0 or to any int value</code> why is it the program is reading <code>if(questionCounter &lt; questionCountTotal)</code>? the code block inside the if statement is executed, why is that? as far as I know, you can't compare values that is not initialized</p>\n<p>It should crash the app while reading <code>if(questionCounter &lt; questionCountTotal)</code></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2826365,"reputation":144,"user_id":7534931,"display_name":"Simone Celia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649418401,"creation_date":1649418401,"answer_id":71796452,"question_id":71796246,"body_markdown":"the URL you entered is invalid, double `?`, you have to use `&amp;` for the second parameter\r\n\r\ncorrect one: `http://localhost:8080/contactnote?entryDate=2022-02-01&amp;contactType=T`\r\n\r\nthis code work, use `name` instead `value`\r\n\r\n    @GetMapping(path= &quot;/contactnote&quot;)\r\n\t@ResponseBody\r\n\tpublic String findByEntryDateGreaterThanAndContactTypeWith(\r\n\t\t\t@RequestParam(name = &quot;entryDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate,\r\n\t\t\t@RequestParam(name = &quot;contactType&quot;, required = false) String contactType) {\r\n\r\n\t\treturn &quot;Hello World&quot;;\r\n\t}\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kia3C.png","title":"How can I use more then one param in a spring boot rest Controller?","body":"<p>the URL you entered is invalid, double <code>?</code>, you have to use <code>&amp;</code> for the second parameter</p>\n<p>correct one: <code>http://localhost:8080/contactnote?entryDate=2022-02-01&amp;contactType=T</code></p>\n<p>this code work, use <code>name</code> instead <code>value</code></p>\n<pre><code>@GetMapping(path= &quot;/contactnote&quot;)\n@ResponseBody\npublic String findByEntryDateGreaterThanAndContactTypeWith(\n        @RequestParam(name = &quot;entryDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate,\n        @RequestParam(name = &quot;contactType&quot;, required = false) String contactType) {\n\n    return &quot;Hello World&quot;;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kia3C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kia3C.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10898331,"reputation":225,"user_id":8011460,"display_name":"Schwenk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71796452,"answer_count":1,"score":1,"last_activity_date":1649418401,"creation_date":1649417411,"question_id":71796246,"body_markdown":"I want to achive the follwing URL to access my data with 2 params:\r\n\r\n`http://localhost:8080/contactnote?entryDate=2022-02-01?contactType=T`\r\n\r\nBoth mappings with a single param is working:\r\n\r\n```\r\n@GetMapping(params ={&quot;contactType&quot;})\r\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findContactNotesWithEntryDateGreaterThan(@RequestParam(value = &quot;contactType&quot;)  String contactType) {\r\n        return new ResponseEntity&lt;&gt;(repository.findByContactType(contactType), HttpStatus.OK);\r\n    }\r\n    @GetMapping(params ={&quot;entryDate&quot;})\r\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findContactNotesWithDateTilGreaterThan(@RequestParam(value = &quot;entryDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate) {\r\n        return new ResponseEntity&lt;&gt;(repository.findByEntryDateGreaterThan(entryDate), HttpStatus.OK);\r\n```\r\n\r\n\r\nBut when I try to combine them with two params it wont work, not one of them is usable.\r\n\r\n```\r\n@GetMapping(params ={&quot;entryDate&quot;, &quot;contactType&quot;})\r\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findByEntryDateGreaterThanAndContactTypeWith(\r\n            @RequestParam(value = &quot;entryDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate,\r\n            @RequestParam(value = &quot;contactType&quot;) String contactType\r\n    )\r\n```\r\nMy reposiitory looks like this:\r\n\r\n```\r\nimport de.bhm.zvoove.api.domain.ContactNote;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface ContactNoteRepository extends JpaRepository&lt;ContactNote, Long&gt; {\r\n    List&lt;ContactNote&gt; findByContactType(String ContactType);\r\n    List&lt;ContactNote&gt; findByEntryDateGreaterThanAndContactType(Date entryDate , String ContactType);\r\n\r\n}\r\n```\r\n\r\n","title":"How can I use more then one param in a spring boot rest Controller?","body":"<p>I want to achive the follwing URL to access my data with 2 params:</p>\n<p><code>http://localhost:8080/contactnote?entryDate=2022-02-01?contactType=T</code></p>\n<p>Both mappings with a single param is working:</p>\n<pre><code>@GetMapping(params ={&quot;contactType&quot;})\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findContactNotesWithEntryDateGreaterThan(@RequestParam(value = &quot;contactType&quot;)  String contactType) {\n        return new ResponseEntity&lt;&gt;(repository.findByContactType(contactType), HttpStatus.OK);\n    }\n    @GetMapping(params ={&quot;entryDate&quot;})\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findContactNotesWithDateTilGreaterThan(@RequestParam(value = &quot;entryDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate) {\n        return new ResponseEntity&lt;&gt;(repository.findByEntryDateGreaterThan(entryDate), HttpStatus.OK);\n</code></pre>\n<p>But when I try to combine them with two params it wont work, not one of them is usable.</p>\n<pre><code>@GetMapping(params ={&quot;entryDate&quot;, &quot;contactType&quot;})\n    public ResponseEntity&lt;Collection&lt;ContactNote&gt;&gt; findByEntryDateGreaterThanAndContactTypeWith(\n            @RequestParam(value = &quot;entryDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date entryDate,\n            @RequestParam(value = &quot;contactType&quot;) String contactType\n    )\n</code></pre>\n<p>My reposiitory looks like this:</p>\n<pre><code>import de.bhm.zvoove.api.domain.ContactNote;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Date;\nimport java.util.List;\n\n@Repository\npublic interface ContactNoteRepository extends JpaRepository&lt;ContactNote, Long&gt; {\n    List&lt;ContactNote&gt; findByContactType(String ContactType);\n    List&lt;ContactNote&gt; findByEntryDateGreaterThanAndContactType(Date entryDate , String ContactType);\n\n}\n</code></pre>\n"},{"tags":["java","design-patterns","file-processing"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649418383,"creation_date":1649346023,"answer_id":71785105,"question_id":71784155,"body_markdown":"You can do something like this:\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(get file input stream here));\r\n    int maxSize = 3;\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;(maxSize);\r\n    String line = reader.readLine();\r\n    while (line != null) {\r\n      String[] data = line.split(&quot;\\\\s+&quot;);//some dummy parsing\r\n      String key = data[1];\r\n      String value = data[2];\r\n      map.put(key, value);\r\n      if (map.size() == maxSize) {\r\n        //do whatever operations you need\r\n        System.out.println(map);\r\n        map.clear();\r\n      }\r\n      line = reader.readLine();\r\n    }\r\n    if (map.size() &gt; 0) {\r\n      //deal with leftovers\r\n      System.out.println(map);\r\n    }\r\n  }\r\n}\r\n```\r\nBasically read and parse until map reaches max size, then operate on the contents and empty it. Keep doing until you have read entire file. At the end operate on the leftover contents, if there are any.\r\n\r\n**Edit:** You need to wrap reading inside iterator and also keep the max number of lines to read at once.\r\n```\r\npublic class CountingFileLineIterator implements Iterator&lt;Iterable&lt;String&gt;&gt; {\r\n\r\n  private final BufferedReader reader;\r\n  private String line;\r\n  private final int maxDataCount;\r\n\r\n  public CountingFileLineIterator(InputStream inputStream, int maxDataCount) {\r\n    this.reader = new BufferedReader(new InputStreamReader(inputStream));\r\n    this.setLine();\r\n    this.maxDataCount = maxDataCount;\r\n  }\r\n\r\n  private void setLine() {\r\n    try {\r\n      this.line = this.reader.readLine();\r\n    } catch (IOException exc) {\r\n      //handle however you need\r\n      throw new RuntimeException(&quot;Error reading&quot;, exc);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    return this.line != null;\r\n  }\r\n\r\n  @Override\r\n  public Iterable&lt;String&gt; next() {\r\n    List&lt;String&gt; next = new ArrayList&lt;&gt;(this.maxDataCount);\r\n    for (int i = 0; i &lt; this.maxDataCount; i++) {\r\n      if (!this.hasNext()) {\r\n        break;\r\n      }\r\n      next.add(this.line);\r\n      this.setLine();\r\n    }\r\n    return next;\r\n  }\r\n}\r\n```\r\nThis is only one possible solution, which returns an [Iterable][1](a `List` in this exact implementation), containing up to the maximum number of lines to be processed at once. This was what i came up with in order to keep the processing done by the iterator to the absolute minimum. You can (and should) have another class, which actually handles the processing of the data(parse it to a `Map` and so on). The thing is, even like this, the iterator has more responsibility than it should - creating the batches of data.\r\n\r\nMy proposition would be to have the iterator only return the next line, no processing at all - this is exactly what it should be doing.\r\n```\r\npublic class FileLineIterator implements Iterator&lt;String&gt; {\r\n\r\n  private final BufferedReader reader;\r\n  private String line;\r\n\r\n  public FileLineIterator(InputStream inputStream) {\r\n    this.reader = new BufferedReader(new InputStreamReader(inputStream));\r\n    this.setLine();\r\n  }\r\n\r\n  private void setLine() {\r\n    try {\r\n      this.line = this.reader.readLine();\r\n    } catch (IOException exc) {\r\n      //handle however you need\r\n      throw new RuntimeException(&quot;Error reading&quot;, exc);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    return this.line != null;\r\n  }\r\n\r\n  @Override\r\n  public String next() {\r\n    String line = this.line;\r\n    this.setLine();\r\n    return line;\r\n  }\r\n}\r\n```\r\nThen create an abstraction, which will prepare data for handling:\r\n```\r\npublic interface DataPreparer {\r\n\r\n  boolean hasMoreData();\r\n  DataHandler prepareData();\r\n}\r\n```\r\nLike this you can have implementations to prepare data in batches(your case), or line by line, or all at once, however you need. Exact implementation for batches may be:\r\n```\r\npublic class BatchDataPreparer implements DataPreparer {\r\n\r\n  private final Iterator&lt;String&gt; iterator;\r\n  private final int batchSize;\r\n\r\n  public BatchDataPreparer(Iterator&lt;String&gt; iterator, int batchSize) {\r\n    this.iterator = iterator;\r\n    this.batchSize = batchSize;\r\n  }\r\n\r\n  @Override\r\n  public boolean hasMoreData() {\r\n    return this.iterator.hasNext();\r\n  }\r\n\r\n  @Override\r\n  public DataHandler prepareData() {\r\n    Map&lt;String, String&gt; data = new LinkedHashMap&lt;&gt;(this.batchSize);\r\n    while (this.iterator.hasNext()) {\r\n      String line = this.iterator.next();\r\n      //parse in whatever way you need\r\n      String[] parsed = line.split(&quot;\\\\s+&quot;);\r\n      data.put(parsed[0] + &quot; - &quot; + parsed[1], parsed[2]);\r\n      if (data.size() == this.batchSize) {\r\n        break;\r\n      }\r\n    }\r\n    return new SimpleDataHandler(data);\r\n  }\r\n}\r\n```\r\nData parsing **should** be done separately(you can create abstraction for this as well), but for this example i won&#39;t to do it.\r\n\r\nThe `DataHandler` interface from above:\r\n```\r\npublic interface DataHandler {\r\n\r\n  void handleData();\r\n}\r\n```\r\nAnd simple implementation:\r\n```\r\npublic class SimpleDataHandler implements DataHandler {\r\n\r\n  private final Map&lt;String, String&gt; data;\r\n\r\n  public SimpleDataHandler(Map&lt;String, String&gt; data) {\r\n    this.data = data;\r\n  }\r\n\r\n  @Override\r\n  public void handleData() {\r\n    //handle however you need\r\n    System.out.println(this.data);\r\n    this.data.clear();\r\n  }\r\n}\r\n```\r\nAnd combining all into one:\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) {\r\n    int maxDataCount = 3;\r\n    System.out.println(&quot;------------------------Concern Separation Result-------------------------------&quot;);\r\n    Iterator&lt;String&gt; iterator = new FileLineIterator(InputStream);\r\n    DataPreparer dataPreparer = new BatchDataPreparer(iterator, maxDataCount);\r\n    while (dataPreparer.hasMoreData()) {\r\n      DataHandler dataHandler = dataPreparer.prepareData();\r\n      dataHandler.handleData();\r\n    }\r\n    System.out.println(&quot;------------------------Counting Iterator Result--------------------------------&quot;);\r\n    System.out.println(&quot;------------------------Just to test it works-----------------------------------&quot;);\r\n    Iterator&lt;Iterable&lt;String&gt;&gt; anotherIterator = new CountingFileLineIterator(InputStream, maxDataCount);\r\n    while (anotherIterator.hasNext()) {\r\n      Iterable&lt;String&gt; lines = anotherIterator.next();\r\n      //some handling\r\n      System.out.println(lines);\r\n    }\r\n  }\r\n}\r\n```\r\n - Your main(or however your program is structured) does not care how data is prepared, `DataPreparer` implementations are concerned about that\r\n - Neither preparer, nor main, are concerned how data is handled, only `DataHandler` is\r\n - It&#39;s easy to change behaviour, fix bugs and not break something else, extend functionality, etc.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html","title":"How to use iterator pattern in java to load file into hashmap in batches","body":"<p>You can do something like this:</p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) throws Exception {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(get file input stream here));\n    int maxSize = 3;\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;(maxSize);\n    String line = reader.readLine();\n    while (line != null) {\n      String[] data = line.split(&quot;\\\\s+&quot;);//some dummy parsing\n      String key = data[1];\n      String value = data[2];\n      map.put(key, value);\n      if (map.size() == maxSize) {\n        //do whatever operations you need\n        System.out.println(map);\n        map.clear();\n      }\n      line = reader.readLine();\n    }\n    if (map.size() &gt; 0) {\n      //deal with leftovers\n      System.out.println(map);\n    }\n  }\n}\n</code></pre>\n<p>Basically read and parse until map reaches max size, then operate on the contents and empty it. Keep doing until you have read entire file. At the end operate on the leftover contents, if there are any.</p>\n<p><strong>Edit:</strong> You need to wrap reading inside iterator and also keep the max number of lines to read at once.</p>\n<pre><code>public class CountingFileLineIterator implements Iterator&lt;Iterable&lt;String&gt;&gt; {\n\n  private final BufferedReader reader;\n  private String line;\n  private final int maxDataCount;\n\n  public CountingFileLineIterator(InputStream inputStream, int maxDataCount) {\n    this.reader = new BufferedReader(new InputStreamReader(inputStream));\n    this.setLine();\n    this.maxDataCount = maxDataCount;\n  }\n\n  private void setLine() {\n    try {\n      this.line = this.reader.readLine();\n    } catch (IOException exc) {\n      //handle however you need\n      throw new RuntimeException(&quot;Error reading&quot;, exc);\n    }\n  }\n\n  @Override\n  public boolean hasNext() {\n    return this.line != null;\n  }\n\n  @Override\n  public Iterable&lt;String&gt; next() {\n    List&lt;String&gt; next = new ArrayList&lt;&gt;(this.maxDataCount);\n    for (int i = 0; i &lt; this.maxDataCount; i++) {\n      if (!this.hasNext()) {\n        break;\n      }\n      next.add(this.line);\n      this.setLine();\n    }\n    return next;\n  }\n}\n</code></pre>\n<p>This is only one possible solution, which returns an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Iterable</a>(a <code>List</code> in this exact implementation), containing up to the maximum number of lines to be processed at once. This was what i came up with in order to keep the processing done by the iterator to the absolute minimum. You can (and should) have another class, which actually handles the processing of the data(parse it to a <code>Map</code> and so on). The thing is, even like this, the iterator has more responsibility than it should - creating the batches of data.</p>\n<p>My proposition would be to have the iterator only return the next line, no processing at all - this is exactly what it should be doing.</p>\n<pre><code>public class FileLineIterator implements Iterator&lt;String&gt; {\n\n  private final BufferedReader reader;\n  private String line;\n\n  public FileLineIterator(InputStream inputStream) {\n    this.reader = new BufferedReader(new InputStreamReader(inputStream));\n    this.setLine();\n  }\n\n  private void setLine() {\n    try {\n      this.line = this.reader.readLine();\n    } catch (IOException exc) {\n      //handle however you need\n      throw new RuntimeException(&quot;Error reading&quot;, exc);\n    }\n  }\n\n  @Override\n  public boolean hasNext() {\n    return this.line != null;\n  }\n\n  @Override\n  public String next() {\n    String line = this.line;\n    this.setLine();\n    return line;\n  }\n}\n</code></pre>\n<p>Then create an abstraction, which will prepare data for handling:</p>\n<pre><code>public interface DataPreparer {\n\n  boolean hasMoreData();\n  DataHandler prepareData();\n}\n</code></pre>\n<p>Like this you can have implementations to prepare data in batches(your case), or line by line, or all at once, however you need. Exact implementation for batches may be:</p>\n<pre><code>public class BatchDataPreparer implements DataPreparer {\n\n  private final Iterator&lt;String&gt; iterator;\n  private final int batchSize;\n\n  public BatchDataPreparer(Iterator&lt;String&gt; iterator, int batchSize) {\n    this.iterator = iterator;\n    this.batchSize = batchSize;\n  }\n\n  @Override\n  public boolean hasMoreData() {\n    return this.iterator.hasNext();\n  }\n\n  @Override\n  public DataHandler prepareData() {\n    Map&lt;String, String&gt; data = new LinkedHashMap&lt;&gt;(this.batchSize);\n    while (this.iterator.hasNext()) {\n      String line = this.iterator.next();\n      //parse in whatever way you need\n      String[] parsed = line.split(&quot;\\\\s+&quot;);\n      data.put(parsed[0] + &quot; - &quot; + parsed[1], parsed[2]);\n      if (data.size() == this.batchSize) {\n        break;\n      }\n    }\n    return new SimpleDataHandler(data);\n  }\n}\n</code></pre>\n<p>Data parsing <strong>should</strong> be done separately(you can create abstraction for this as well), but for this example i won't to do it.</p>\n<p>The <code>DataHandler</code> interface from above:</p>\n<pre><code>public interface DataHandler {\n\n  void handleData();\n}\n</code></pre>\n<p>And simple implementation:</p>\n<pre><code>public class SimpleDataHandler implements DataHandler {\n\n  private final Map&lt;String, String&gt; data;\n\n  public SimpleDataHandler(Map&lt;String, String&gt; data) {\n    this.data = data;\n  }\n\n  @Override\n  public void handleData() {\n    //handle however you need\n    System.out.println(this.data);\n    this.data.clear();\n  }\n}\n</code></pre>\n<p>And combining all into one:</p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) {\n    int maxDataCount = 3;\n    System.out.println(&quot;------------------------Concern Separation Result-------------------------------&quot;);\n    Iterator&lt;String&gt; iterator = new FileLineIterator(InputStream);\n    DataPreparer dataPreparer = new BatchDataPreparer(iterator, maxDataCount);\n    while (dataPreparer.hasMoreData()) {\n      DataHandler dataHandler = dataPreparer.prepareData();\n      dataHandler.handleData();\n    }\n    System.out.println(&quot;------------------------Counting Iterator Result--------------------------------&quot;);\n    System.out.println(&quot;------------------------Just to test it works-----------------------------------&quot;);\n    Iterator&lt;Iterable&lt;String&gt;&gt; anotherIterator = new CountingFileLineIterator(InputStream, maxDataCount);\n    while (anotherIterator.hasNext()) {\n      Iterable&lt;String&gt; lines = anotherIterator.next();\n      //some handling\n      System.out.println(lines);\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>Your main(or however your program is structured) does not care how data is prepared, <code>DataPreparer</code> implementations are concerned about that</li>\n<li>Neither preparer, nor main, are concerned how data is handled, only <code>DataHandler</code> is</li>\n<li>It's easy to change behaviour, fix bugs and not break something else, extend functionality, etc.</li>\n</ul>\n"}],"owner":{"account_id":24561261,"reputation":13,"user_id":18468968,"display_name":"Devanshi_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71785105,"answer_count":1,"score":1,"last_activity_date":1649418383,"creation_date":1649342277,"question_id":71784155,"body_markdown":"I have a large file containing two million lines . I&#39;m looking to traverse through each line of the file and, process it into a key value pair and store it into a hashmap to make comparisons later on. However, I do not want to have a hashmap with 2 million key value pairs in the interest of space complexity. Instead , I would like to iterate through N lines of the files and load their key value pairs in the hashmap , make comparisons and then load the next N lines into the hashmap and so on.\r\n\r\nAn example of the use case : \r\n\r\nFile.txt:\r\n```\r\n1 Jack London\r\n2 Mary Boston\r\n3 Jay  Chicago\r\n4 Mia  Amsterdam\r\n5 Leah New York\r\n6 Bob  Denver\r\n.\r\n.\r\n.\r\n```\r\n\r\nAssuming N=3 as the size of my hashmap, at the first iteration my hashmap would store key value pairs for the first three lines of the file i.e\r\n```\r\n1 Jack London\r\n2 Mary Boston\r\n3 Jay  Chicago\r\n```\r\n\r\nAfter making comparisons on these key value pairs , the next 3 lines are loaded into the hashmap as key value pairs:\r\n```\r\n4 Mia  Amsterdam\r\n5 Leah New York\r\n6 Bob  Denver\r\n```\r\nand so on until all the lines in the file have been iterated over. How do I implement this using the iterator design pattern in java? \r\n","title":"How to use iterator pattern in java to load file into hashmap in batches","body":"<p>I have a large file containing two million lines . I'm looking to traverse through each line of the file and, process it into a key value pair and store it into a hashmap to make comparisons later on. However, I do not want to have a hashmap with 2 million key value pairs in the interest of space complexity. Instead , I would like to iterate through N lines of the files and load their key value pairs in the hashmap , make comparisons and then load the next N lines into the hashmap and so on.</p>\n<p>An example of the use case :</p>\n<p>File.txt:</p>\n<pre><code>1 Jack London\n2 Mary Boston\n3 Jay  Chicago\n4 Mia  Amsterdam\n5 Leah New York\n6 Bob  Denver\n.\n.\n.\n</code></pre>\n<p>Assuming N=3 as the size of my hashmap, at the first iteration my hashmap would store key value pairs for the first three lines of the file i.e</p>\n<pre><code>1 Jack London\n2 Mary Boston\n3 Jay  Chicago\n</code></pre>\n<p>After making comparisons on these key value pairs , the next 3 lines are loaded into the hashmap as key value pairs:</p>\n<pre><code>4 Mia  Amsterdam\n5 Leah New York\n6 Bob  Denver\n</code></pre>\n<p>and so on until all the lines in the file have been iterated over. How do I implement this using the iterator design pattern in java?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1649410739,"post_id":71794760,"comment_id":126873570,"body_markdown":"Why do you expect 2 rather than 3 list elements?","body":"Why do you expect 2 rather than 3 list elements?"},{"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"score":0,"creation_date":1649411844,"post_id":71794760,"comment_id":126873950,"body_markdown":"@jorn reversing the list would still give me the same elements but in reversed order.","body":"@jorn reversing the list would still give me the same elements but in reversed order."},{"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"score":0,"creation_date":1649411977,"post_id":71794760,"comment_id":126874000,"body_markdown":"@TimBiegeleisen I have some business logic I need the ```sub1-sub2``` part for some validation. I don&#39;t care how many ```-``` are in the string, but all I need is to split it in two parts. One should be the first from right and second should be the rest.","body":"@TimBiegeleisen I have some business logic I need the <code>sub1-sub2</code> part for some validation. I don&#39;t care how many <code>-</code> are in the string, but all I need is to split it in two parts. One should be the first from right and second should be the rest."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649412260,"post_id":71794760,"comment_id":126874121,"body_markdown":"Why not just use lastIndexOf() and substring yourself on that?","body":"Why not just use lastIndexOf() and substring yourself on that?"},{"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"score":0,"creation_date":1649414808,"post_id":71794760,"comment_id":126874976,"body_markdown":"just did it. @GhostCat","body":"just did it. @GhostCat"}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649411982,"creation_date":1649411982,"answer_id":71795083,"question_id":71794760,"body_markdown":"A quick and dirty solution i cam up with would be \r\n\r\n        String str = &quot;sub1-sub2-sub3&quot;;\r\n        str = StringUtils.reverse(str);\r\n\r\n        String[] split = str.split(&quot;-&quot;, 2);\r\n        split[0] = StringUtils.reverse(split[0]);\r\n        split[1] = StringUtils.reverse(split[1]);\r\n\r\n        System.out.println(&quot;Result :&quot; + split[0] + &quot; #### &quot; + split[1]);\r\n\r\nanother way would be https://stackoverflow.com/questions/27763984/java-how-to-split-string-from-end \r\n\r\n","title":"Split string in reverse","body":"<p>A quick and dirty solution i cam up with would be</p>\n<pre><code>    String str = &quot;sub1-sub2-sub3&quot;;\n    str = StringUtils.reverse(str);\n\n    String[] split = str.split(&quot;-&quot;, 2);\n    split[0] = StringUtils.reverse(split[0]);\n    split[1] = StringUtils.reverse(split[1]);\n\n    System.out.println(&quot;Result :&quot; + split[0] + &quot; #### &quot; + split[1]);\n</code></pre>\n<p>another way would be <a href=\"https://stackoverflow.com/questions/27763984/java-how-to-split-string-from-end\">java how to split string from end</a></p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649412127,"creation_date":1649412127,"answer_id":71795117,"question_id":71794760,"body_markdown":"You could do a regex split on `-(?!.*-)`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;sub1-sub2-sub3&quot;;\r\n    String[] parts = str.split(&quot;-(?!.*-)&quot;);\r\n    System.out.println(Arrays.toString(parts));  // [sub1-sub2, sub3]\r\n\r\nThe regex pattern used here will only match the final dash.","title":"Split string in reverse","body":"<p>You could do a regex split on <code>-(?!.*-)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;sub1-sub2-sub3&quot;;\nString[] parts = str.split(&quot;-(?!.*-)&quot;);\nSystem.out.println(Arrays.toString(parts));  // [sub1-sub2, sub3]\n</code></pre>\n<p>The regex pattern used here will only match the final dash.</p>\n"},{"tags":[],"owner":{"account_id":17596063,"reputation":53,"user_id":12766940,"display_name":"Novacean Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649412362,"creation_date":1649412362,"answer_id":71795164,"question_id":71794760,"body_markdown":"One way would be to reverse the string before the split and then reverse the resulting strings.\r\n\r\n```\r\nString str = &quot;sub1-sub2-sub3&quot;;\r\nArrays.stream(StringUtils.reverse(str).split(&quot;-&quot;,2))\r\n      .map(StringUtils::reverse)\r\n      .forEach(System.out::println);\r\n```\r\n\r\nOutput:\r\n```\r\nsub3\r\nsub1-sub2\r\n```\r\n\r\nIt won&#39;t yield the same result as requested but maybe it will help.\r\n\r\nP.S. util class used is from apache: org.apache.commons.lang3.StringUtils","title":"Split string in reverse","body":"<p>One way would be to reverse the string before the split and then reverse the resulting strings.</p>\n<pre><code>String str = &quot;sub1-sub2-sub3&quot;;\nArrays.stream(StringUtils.reverse(str).split(&quot;-&quot;,2))\n      .map(StringUtils::reverse)\n      .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>sub3\nsub1-sub2\n</code></pre>\n<p>It won't yield the same result as requested but maybe it will help.</p>\n<p>P.S. util class used is from apache: org.apache.commons.lang3.StringUtils</p>\n"},{"tags":[],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649418301,"creation_date":1649413158,"answer_id":71795329,"question_id":71794760,"body_markdown":"A generic solution as utility method that takes limit as input with java 8:\r\n\r\n    public List&lt;String&gt; splitReverse(String input, String regex, int limit) {\r\n        return Arrays.stream(reverse(input).split(regex, limit))\r\n                .map(this::reverse)\r\n                .collect(Collectors.toList());\r\n    }\r\n    \r\n    private String reverse(String i){\r\n        return new StringBuilder(i).reverse().toString();\r\n    }\r\n\r\n\r\n`reverse()` code taken from [here][1]\r\n\r\nInput: `sub1-sub2-sub3`\r\n\r\nReverse input: `3bus-2bus-1bus`\r\n\r\nSplit(rev,2): `[3bus] , [2bus-1bus]`\r\n\r\nReverse each: `[sub3] , [sub1-sub2]`\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/7569335/8283737","title":"Split string in reverse","body":"<p>A generic solution as utility method that takes limit as input with java 8:</p>\n<pre><code>public List&lt;String&gt; splitReverse(String input, String regex, int limit) {\n    return Arrays.stream(reverse(input).split(regex, limit))\n            .map(this::reverse)\n            .collect(Collectors.toList());\n}\n\nprivate String reverse(String i){\n    return new StringBuilder(i).reverse().toString();\n}\n</code></pre>\n<p><code>reverse()</code> code taken from <a href=\"https://stackoverflow.com/q/7569335/8283737\">here</a></p>\n<p>Input: <code>sub1-sub2-sub3</code></p>\n<p>Reverse input: <code>3bus-2bus-1bus</code></p>\n<p>Split(rev,2): <code>[3bus] , [2bus-1bus]</code></p>\n<p>Reverse each: <code>[sub3] , [sub1-sub2]</code></p>\n"},{"tags":[],"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649415026,"creation_date":1649415026,"answer_id":71795722,"question_id":71794760,"body_markdown":"The below solution worked for me fine :\r\n```\r\nstr.substring(0, str.lastIndexOf(&quot;-&quot;));\r\nstr.substring(str.lastIndexOf(&quot;-&quot;));\r\n```","title":"Split string in reverse","body":"<p>The below solution worked for me fine :</p>\n<pre><code>str.substring(0, str.lastIndexOf(&quot;-&quot;));\nstr.substring(str.lastIndexOf(&quot;-&quot;));\n</code></pre>\n"}],"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1649418301,"creation_date":1649410565,"question_id":71794760,"body_markdown":"I have a string ```sub1-sub2-sub3``` which I want to split from right to left. Currently I am using split function like this which splits the string from left to right -\r\n```\r\nString str = &quot;sub1-sub2-sub3&quot;;\r\nSystem.out.println(&quot;Result :&quot; + str.split(&quot;-&quot;, 2));\r\n```\r\nElements in output :\r\n```\r\nsub1\r\nsub2-sub3\r\n```\r\n\r\nDesired output :\r\n```\r\nsub1-sub2\r\nsub3\r\n```\r\n\r\nIs there a way where I can split my string on ```-``` starting from right?","title":"Split string in reverse","body":"<p>I have a string <code>sub1-sub2-sub3</code> which I want to split from right to left. Currently I am using split function like this which splits the string from left to right -</p>\n<pre><code>String str = &quot;sub1-sub2-sub3&quot;;\nSystem.out.println(&quot;Result :&quot; + str.split(&quot;-&quot;, 2));\n</code></pre>\n<p>Elements in output :</p>\n<pre><code>sub1\nsub2-sub3\n</code></pre>\n<p>Desired output :</p>\n<pre><code>sub1-sub2\nsub3\n</code></pre>\n<p>Is there a way where I can split my string on <code>-</code> starting from right?</p>\n"},{"tags":["java","selenium","gradle","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558951118,"creation_date":1519793797,"answer_id":49022224,"question_id":49021707,"body_markdown":"This error message...\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError:\r\n    com.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V\r\n\r\n...implies that the _Java Client_ was unable to find `ChromeDriver()`.\r\n\r\nIssue &amp; Solution\r\n----------------\r\nAs per the _Selenium - Java code_ you have shared, the `System.setProperty()` line is used to set the **ChromeDriver** binary path **not the chrome binary path**. For that you have to download the _ChromeDriver_ binary from the [_ChromeDriver - WebDriver for Chrome_][1] and place it in your system and mention the absolute path of the _ChromeDriver_ through `System.setProperty()` line. Hence you have to change :\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\r\n\tWebDriver driver = new ChromeDriver();\r\n\t\r\nTo :\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);\r\n\tWebDriver driver = new ChromeDriver();\r\n\r\n\r\n  [1]: https://sites.google.com/a/chromium.org/chromedriver/","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>This error message...</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError:\ncom.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V\n</code></pre>\n\n<p>...implies that the <em>Java Client</em> was unable to find <code>ChromeDriver()</code>.</p>\n\n<h2>Issue &amp; Solution</h2>\n\n<p>As per the <em>Selenium - Java code</em> you have shared, the <code>System.setProperty()</code> line is used to set the <strong>ChromeDriver</strong> binary path <strong>not the chrome binary path</strong>. For that you have to download the <em>ChromeDriver</em> binary from the <a href=\"https://sites.google.com/a/chromium.org/chromedriver/\" rel=\"nofollow noreferrer\"><em>ChromeDriver - WebDriver for Chrome</em></a> and place it in your system and mention the absolute path of the <em>ChromeDriver</em> through <code>System.setProperty()</code> line. Hence you have to change :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\");\nWebDriver driver = new ChromeDriver();\n</code></pre>\n\n<p>To :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\path\\\\to\\\\chromedriver.exe\");\nWebDriver driver = new ChromeDriver();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5952037,"reputation":433,"user_id":4679732,"display_name":"Paul Isaris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552395762,"creation_date":1552393835,"answer_id":55121534,"question_id":49021707,"body_markdown":"I have the exact same problem (I am using Maven though).\r\n\r\nI noticed that the problem is that using one of `com.google.api-client`, or `com.google.oauth-client`, or `com.google.apis:google-api-services-sheets` alongside `org.seleniumhq.selenium` causes the error.\r\n\r\nThe problem is that both dependencies depend on a different `com.google.guava:guava` artifact.\r\n\r\nIn order to solve the error, you should explicitly depend on a single `com.google.guava:guava` artifact.\r\nSo go ahead and add the following in your `build.gradle`:\r\n\r\n`compile &#39;com.google.guava:guava:27.0.1-jre&#39;`\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>I have the exact same problem (I am using Maven though).</p>\n\n<p>I noticed that the problem is that using one of <code>com.google.api-client</code>, or <code>com.google.oauth-client</code>, or <code>com.google.apis:google-api-services-sheets</code> alongside <code>org.seleniumhq.selenium</code> causes the error.</p>\n\n<p>The problem is that both dependencies depend on a different <code>com.google.guava:guava</code> artifact.</p>\n\n<p>In order to solve the error, you should explicitly depend on a single <code>com.google.guava:guava</code> artifact.\nSo go ahead and add the following in your <code>build.gradle</code>:</p>\n\n<p><code>compile 'com.google.guava:guava:27.0.1-jre'</code></p>\n"},{"tags":[],"owner":{"account_id":2439957,"reputation":1966,"user_id":2128767,"accept_rate":56,"display_name":"Reza"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1552828321,"creation_date":1552828321,"answer_id":55207437,"question_id":49021707,"body_markdown":"Try to update your Guava to \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;27.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIt will solve your issue.","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>Try to update your Guava to </p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;27.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It will solve your issue.</p>\n"},{"tags":[],"owner":{"account_id":38191,"reputation":4217,"user_id":109458,"accept_rate":100,"display_name":"kamranicus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563804663,"creation_date":1563804663,"answer_id":57147909,"question_id":49021707,"body_markdown":"Just wanted to post here in case anyone else comes to this from Google like I did. For whatever reason, I needed to run with `sudo`. I was having issues using the npm `selenium-standalone` package and running:\r\n\r\n    /node_modules/selenium-standalone/bin/selenium-standalone start\r\n\r\nAnd it would show that error. What fixed it was running with sudo\r\n\r\n    sudo /node_modules/selenium-standalone/bin/selenium-standalone start\r\n\r\nI don&#39;t think I needed to do this before but suddenly it&#39;s the only way it works now.","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>Just wanted to post here in case anyone else comes to this from Google like I did. For whatever reason, I needed to run with <code>sudo</code>. I was having issues using the npm <code>selenium-standalone</code> package and running:</p>\n\n<pre><code>/node_modules/selenium-standalone/bin/selenium-standalone start\n</code></pre>\n\n<p>And it would show that error. What fixed it was running with sudo</p>\n\n<pre><code>sudo /node_modules/selenium-standalone/bin/selenium-standalone start\n</code></pre>\n\n<p>I don't think I needed to do this before but suddenly it's the only way it works now.</p>\n"},{"tags":[],"owner":{"account_id":12048967,"reputation":1,"user_id":8812786,"display_name":"John M Iriye Esq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564926904,"creation_date":1564926904,"answer_id":57347140,"question_id":49021707,"body_markdown":"I had the same problem and ran a dependency check and found that there were conflicts. The solution that worked for me was to exclude the conflicting dependencies.\r\n\r\nYour project will probably have different dependencies than mine.  So, listing the specific conflicts in my project may not be helpful.  ","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>I had the same problem and ran a dependency check and found that there were conflicts. The solution that worked for me was to exclude the conflicting dependencies.</p>\n\n<p>Your project will probably have different dependencies than mine.  So, listing the specific conflicts in my project may not be helpful.  </p>\n"},{"tags":[],"owner":{"account_id":17963638,"reputation":1,"user_id":13054040,"display_name":"Nadia Sawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584050611,"creation_date":1584050611,"answer_id":60662412,"question_id":49021707,"body_markdown":"copy and paste the following dependencies in the pom.xml and then do a maven build:\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n          &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-path --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/xml-path --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/java-hamcrest --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-hamcrest&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        \r\n        &lt;!-- cucumber dependency begins --&gt;\r\n        \r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- starts here --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-html --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/gherkin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.2&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/com.theoryinpractise/cucumber-testng-factory --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng-factory&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--   https://stackoverflow.com/questions/49021707/java-lang-nosuchmethoderror-com-google-common-base-preconditions-checkstatezlj?rq=1  --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;27.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n      &lt;/dependencies&gt;\r\n\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>copy and paste the following dependencies in the pom.xml and then do a maven build:</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n      &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-path --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/xml-path --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/java-hamcrest --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;java-hamcrest&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n\n    &lt;!-- cucumber dependency begins --&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n    &lt;version&gt;4.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- starts here --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-html --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\n    &lt;version&gt;0.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/gherkin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n    &lt;version&gt;2.12.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;5.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.theoryinpractise/cucumber-testng-factory --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng-factory&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--   https://stackoverflow.com/questions/49021707/java-lang-nosuchmethoderror-com-google-common-base-preconditions-checkstatezlj?rq=1  --&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;27.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601591464,"creation_date":1601591464,"answer_id":64164001,"question_id":49021707,"body_markdown":"Just adding the below was not enough\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;27.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt was not working first. Then I moved this dependency up higher in pom.xml\r\nthan junit dependency and it worked. So, make sure that in pom file ,it is higher than junit or testng  or whatever runner you are using\r\n\r\nA comment in [this](https://stackoverflow.com/questions/38530745/how-do-i-resolve-dependency-conflict-for-a-java-file-in-intellij-idea) post helped","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>Just adding the below was not enough</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;27.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It was not working first. Then I moved this dependency up higher in pom.xml\nthan junit dependency and it worked. So, make sure that in pom file ,it is higher than junit or testng  or whatever runner you are using</p>\n<p>A comment in <a href=\"https://stackoverflow.com/questions/38530745/how-do-i-resolve-dependency-conflict-for-a-java-file-in-intellij-idea\">this</a> post helped</p>\n"},{"tags":[],"owner":{"account_id":19265522,"reputation":75,"user_id":14080558,"display_name":"Gaurav Jollly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634466539,"creation_date":1634466539,"answer_id":69603394,"question_id":49021707,"body_markdown":"Adding guava dependency and chromedriver version dependency worked for me -\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;25.0-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>Adding guava dependency and chromedriver version dependency worked for me -</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;25.0-jre&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19179,"reputation":4543,"user_id":44715,"accept_rate":81,"display_name":"Riho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649418290,"creation_date":1649418290,"answer_id":71796431,"question_id":49021707,"body_markdown":"Problem might be also in inclusion of the google-collections:\r\n\r\n    // https://mvnrepository.com/artifact/com.google.collections/google-collections\r\n    implementation &#39;com.google.collections:google-collections:1.0&#39;\r\n\r\nI had this included in one library that I linnked in and it drived me nuts finding the reason.\r\nIncluding parameter *-verbose:class* into JVM helped to pinpoint the culprit.\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>Problem might be also in inclusion of the google-collections:</p>\n<pre><code>// https://mvnrepository.com/artifact/com.google.collections/google-collections\nimplementation 'com.google.collections:google-collections:1.0'\n</code></pre>\n<p>I had this included in one library that I linnked in and it drived me nuts finding the reason.\nIncluding parameter <em>-verbose:class</em> into JVM helped to pinpoint the culprit.</p>\n"}],"owner":{"account_id":126322,"reputation":51,"user_id":9421732,"display_name":"Swati Thorve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24750,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":9,"score":5,"last_activity_date":1649418290,"creation_date":1519790080,"question_id":49021707,"body_markdown":"I am trying to use Selenium api with Gradle. This is my build.gradle dependency section: \r\n\r\n    dependencies {\r\n        compile &#39;com.google.api-client:google-api-client:1.23.0&#39;\r\n        compile &#39;com.google.oauth-client:google-oauth-client-jetty:1.23.0&#39;\r\n        compile &#39;com.google.apis:google-api-services-sheets:v4-rev506-1.23.0&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version:        &#39;2.9.0&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;2.9.0&#39; }\r\n\r\nMy selenium - Java code:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files(x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n\r\nCode works fine, and I am able to get Chrome browser opened. \r\nHowever, in build.gradle, I am using 2.9.0 version of selenium and chromedriver. If I try to use any version after 2.9.0, it gives me below error in WebDriver driver = new ChromeDriver(); method:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V\r\n            at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n            at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\r\n            at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\r\n            at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:339)\r\n            at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n            at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n            at Quickstart.main(Quickstart.java:130)\r\n\r\nI tried looking for gradle+Maven+selenium supported version. Was not able to find any good info. Any idea? \r\n\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;) with Selenium, gradle and ChromeDriver","body":"<p>I am trying to use Selenium api with Gradle. This is my build.gradle dependency section: </p>\n\n<pre><code>dependencies {\n    compile 'com.google.api-client:google-api-client:1.23.0'\n    compile 'com.google.oauth-client:google-oauth-client-jetty:1.23.0'\n    compile 'com.google.apis:google-api-services-sheets:v4-rev506-1.23.0'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version:        '2.9.0'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '2.9.0' }\n</code></pre>\n\n<p>My selenium - Java code:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Program Files(x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\");\nWebDriver driver = new ChromeDriver();\n</code></pre>\n\n<p>Code works fine, and I am able to get Chrome browser opened. \nHowever, in build.gradle, I am using 2.9.0 version of selenium and chromedriver. If I try to use any version after 2.9.0, it gives me below error in WebDriver driver = new ChromeDriver(); method:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V\n        at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n        at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\n        at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:339)\n        at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n        at Quickstart.main(Quickstart.java:130)\n</code></pre>\n\n<p>I tried looking for gradle+Maven+selenium supported version. Was not able to find any good info. Any idea? </p>\n"},{"tags":["java","android","arrays","list","arraylist"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1649416785,"post_id":71796018,"comment_id":126875662,"body_markdown":"You are not chaining the sorts properly. First you sort by the time, then you overwrite the sort by sorting again by `pinned`. `Comparator.comparing(Group::isPinned).thenComparing(Group::getTime)` could work","body":"You are not chaining the sorts properly. First you sort by the time, then you overwrite the sort by sorting again by <code>pinned</code>. <code>Comparator.comparing(Group::isPinned).thenComparing(Group::g&zwnj;&#8203;etTime)</code> could work"},{"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"score":0,"creation_date":1649416941,"post_id":71796018,"comment_id":126875735,"body_markdown":"Oh... My... God... Thank you so much that fixed it. I thought it would do the same thing, since they would only be sorted by 1 and 0 after. Thank you","body":"Oh... My... God... Thank you so much that fixed it. I thought it would do the same thing, since they would only be sorted by 1 and 0 after. Thank you"},{"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"score":0,"creation_date":1649417242,"post_id":71796018,"comment_id":126875859,"body_markdown":"Umm @XtremeBaumer so I just added your method and it seems like it worked for the first time, however after adding some more groups the exact same issue reproduced as described above","body":"Umm @XtremeBaumer so I just added your method and it seems like it worked for the first time, however after adding some more groups the exact same issue reproduced as described above"}],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649418095,"creation_date":1649418095,"answer_id":71796405,"question_id":71796018,"body_markdown":"Here is a fully functional example for your case. It works as expected. If you get different results when displaying, then you should have a look at your displaying method, as that one probably mixes the groups again (or uses a data type that doesn&#39;t ensure order)\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Group&gt; allGroups = new ArrayList&lt;&gt;();\r\n    \t\tfor (int i = 0; i &lt; 500; i++) {\r\n    \t\t\tGroup group = new Test().new Group((&quot;grp&quot; + i), (long) (Math.random() * 1649157582577L));\r\n    \t\t\tif (Math.random() &gt; 0.9) {\r\n    \t\t\t\tallGroups.add(group.makePinned(true));\r\n    \t\t\t} else {\r\n    \t\t\t\tallGroups.add(group);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tsortGroups(allGroups);\r\n    \r\n    \t\tfor (Group g : allGroups) {\r\n    \t\t\tSystem.out.println(g);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void sortGroups(List&lt;Group&gt; list) {\r\n    \t\tlist.sort(Comparator.comparing(Group::isPinned).thenComparing(Group::getTime));\r\n    \t\tCollections.reverse(list);\r\n    \t}\r\n    \r\n    \tprivate class Group {\r\n    \t\tString name;\r\n    \t\tLong time;\r\n    \t\tboolean pinned = false;\r\n    \r\n    \t\tpublic Group(String name, long time) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.time = time;\r\n    \t\t}\r\n    \r\n    \t\tpublic Group makePinned(boolean pinned) {\r\n    \t\t\tthis.pinned = pinned;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Long getTime() {\r\n    \t\t\treturn time;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isPinned() {\r\n    \t\t\treturn pinned;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Group [name=&quot; + name + &quot;, time=&quot; + new Date(time) + &quot;, pinned=&quot; + pinned + &quot;]&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"Dual comparator sort sorts list with repeated, wrong, pattern","body":"<p>Here is a fully functional example for your case. It works as expected. If you get different results when displaying, then you should have a look at your displaying method, as that one probably mixes the groups again (or uses a data type that doesn't ensure order)</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        List&lt;Group&gt; allGroups = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 500; i++) {\n            Group group = new Test().new Group((&quot;grp&quot; + i), (long) (Math.random() * 1649157582577L));\n            if (Math.random() &gt; 0.9) {\n                allGroups.add(group.makePinned(true));\n            } else {\n                allGroups.add(group);\n            }\n        }\n        sortGroups(allGroups);\n\n        for (Group g : allGroups) {\n            System.out.println(g);\n        }\n\n    }\n\n    public static void sortGroups(List&lt;Group&gt; list) {\n        list.sort(Comparator.comparing(Group::isPinned).thenComparing(Group::getTime));\n        Collections.reverse(list);\n    }\n\n    private class Group {\n        String name;\n        Long time;\n        boolean pinned = false;\n\n        public Group(String name, long time) {\n            this.name = name;\n            this.time = time;\n        }\n\n        public Group makePinned(boolean pinned) {\n            this.pinned = pinned;\n            return this;\n        }\n\n        public Long getTime() {\n            return time;\n        }\n\n        public boolean isPinned() {\n            return pinned;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Group [name=&quot; + name + &quot;, time=&quot; + new Date(time) + &quot;, pinned=&quot; + pinned + &quot;]&quot;;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649418095,"creation_date":1649416428,"question_id":71796018,"body_markdown":"So I have an object called group, of which many are stored in an ArrayList.\r\n\r\nGroup:\r\n\r\n    long id;\r\n    String name;\r\n    String logo;\r\n    Long time;\r\n    String message;\r\n    boolean pinned = false;\r\n\r\n    public Group(String name, String logo, long time, String message) {\r\n        this.name = name;\r\n        this.logo = logo;\r\n        this.time = time;\r\n        this.message = message;\r\n    }\r\n    public Group makePinned(boolean pinned) {\r\n        this.pinned = pinned;\r\n        return this;\r\n    }\r\n\r\nTo the ArrayList, I add groups as follows:\r\nAdding Groups:\r\n\r\n    Group group = new Group(\r\n            new BigInteger(130, new java.util.Random()).toString(32),\r\n            &quot;PB&quot;,\r\n            (long) (Math.random() * 1649157582577L),\r\n            new BigInteger(260, new java.util.Random()).toString(32)\r\n    );\r\n    if (Math.random() &gt; 0.9) {\r\n        allGroups.add(group.makePinned(true));\r\n    } else {\r\n        allGroups.add(group);\r\n    }\r\n    sortGroups(allGroups);\r\n\r\nI display this ArrayList in a RecyclerView on Android, however I want to sort this list by 2 factors: Primary, whether they are pinned or not, and secondary, what their time is.\r\nI do this by sorting them twice, with a different comparator each, and then reversing the list so that the latest time is always on top:\r\n\r\nSorter:\r\n\r\n    public static void sortGroups(ArrayList&lt;Group&gt; list) {\r\n        list.sort(Comparator.comparing(Group::getTime));\r\n        list.sort(Comparator.comparing(Group::isPinned));\r\n        Collections.reverse(list);\r\n    }\r\n\r\nTo test this, I created 56 groups and displayed them in their order after they have been sorted.\r\nWhen displaying them however, they group into a weird pattern:\r\n- for one, all unpinned groups are, even if not in the same consecutive non-pinned groups row, sorted by time\r\n- all pinned groups are sorted by time the same as all unpinned ones, with the exception of the first consecutive row\r\n\r\noverall, without regarding the pinned status of the groups, all but index 0 through 7 are sorted by time from top to bottom\r\n- Index 0-7: Pinned, sorted by time (other than all others)\r\n- Index 8-10: Unpinned (highest of 8-56)\r\n- Index 11-18: Pinned, sorted by time\r\n- Index 19-21: Unpinned\r\n- Index 22-29: Pinned, sorted by time\r\n- Index 30-32: Unpinned\r\n- Index 33-40: Pinned, sorted by time\r\n- Index 41-43: Unpinned\r\n- Index 44-51: Pinned, sorted by time\r\nIndex 52: Unpinned (Pattern broke likely due to not enough groups)\r\nIndex 53-56: Pinned, sorted by time (lowest of 8-56)\r\n\r\nHere is a scrollshot of how the groups are displayed on my phone, time was translated from timeInMillis to datetime:\r\nhttps://i.stack.imgur.com/tmhuX.jpg","title":"Dual comparator sort sorts list with repeated, wrong, pattern","body":"<p>So I have an object called group, of which many are stored in an ArrayList.</p>\n<p>Group:</p>\n<pre><code>long id;\nString name;\nString logo;\nLong time;\nString message;\nboolean pinned = false;\n\npublic Group(String name, String logo, long time, String message) {\n    this.name = name;\n    this.logo = logo;\n    this.time = time;\n    this.message = message;\n}\npublic Group makePinned(boolean pinned) {\n    this.pinned = pinned;\n    return this;\n}\n</code></pre>\n<p>To the ArrayList, I add groups as follows:\nAdding Groups:</p>\n<pre><code>Group group = new Group(\n        new BigInteger(130, new java.util.Random()).toString(32),\n        &quot;PB&quot;,\n        (long) (Math.random() * 1649157582577L),\n        new BigInteger(260, new java.util.Random()).toString(32)\n);\nif (Math.random() &gt; 0.9) {\n    allGroups.add(group.makePinned(true));\n} else {\n    allGroups.add(group);\n}\nsortGroups(allGroups);\n</code></pre>\n<p>I display this ArrayList in a RecyclerView on Android, however I want to sort this list by 2 factors: Primary, whether they are pinned or not, and secondary, what their time is.\nI do this by sorting them twice, with a different comparator each, and then reversing the list so that the latest time is always on top:</p>\n<p>Sorter:</p>\n<pre><code>public static void sortGroups(ArrayList&lt;Group&gt; list) {\n    list.sort(Comparator.comparing(Group::getTime));\n    list.sort(Comparator.comparing(Group::isPinned));\n    Collections.reverse(list);\n}\n</code></pre>\n<p>To test this, I created 56 groups and displayed them in their order after they have been sorted.\nWhen displaying them however, they group into a weird pattern:</p>\n<ul>\n<li>for one, all unpinned groups are, even if not in the same consecutive non-pinned groups row, sorted by time</li>\n<li>all pinned groups are sorted by time the same as all unpinned ones, with the exception of the first consecutive row</li>\n</ul>\n<p>overall, without regarding the pinned status of the groups, all but index 0 through 7 are sorted by time from top to bottom</p>\n<ul>\n<li>Index 0-7: Pinned, sorted by time (other than all others)</li>\n<li>Index 8-10: Unpinned (highest of 8-56)</li>\n<li>Index 11-18: Pinned, sorted by time</li>\n<li>Index 19-21: Unpinned</li>\n<li>Index 22-29: Pinned, sorted by time</li>\n<li>Index 30-32: Unpinned</li>\n<li>Index 33-40: Pinned, sorted by time</li>\n<li>Index 41-43: Unpinned</li>\n<li>Index 44-51: Pinned, sorted by time\nIndex 52: Unpinned (Pattern broke likely due to not enough groups)\nIndex 53-56: Pinned, sorted by time (lowest of 8-56)</li>\n</ul>\n<p>Here is a scrollshot of how the groups are displayed on my phone, time was translated from timeInMillis to datetime:\n<a href=\"https://i.stack.imgur.com/tmhuX.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tmhuX.jpg</a></p>\n"},{"tags":["java","sql-server","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1649416374,"post_id":71795450,"comment_id":126875527,"body_markdown":"Looks like hibernate is working as expected... you save a dog first, which requires an insert to animal and an insert to dog. Then you save a cat, which in turn requires an insert to animal and an insert to cat","body":"Looks like hibernate is working as expected... you save a dog first, which requires an insert to animal and an insert to dog. Then you save a cat, which in turn requires an insert to animal and an insert to cat"},{"owner":{"account_id":8565296,"reputation":109,"user_id":6417952,"display_name":"rupesh"},"score":0,"creation_date":1649417761,"post_id":71795450,"comment_id":126876046,"body_markdown":"It is true that parent has to be inserted first. But, same is the case with any foreign key relation. I expected that as order_inserts is true, inserts should be rearranged so that batching can be performed.","body":"It is true that parent has to be inserted first. But, same is the case with any foreign key relation. I expected that as order_inserts is true, inserts should be rearranged so that batching can be performed."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1649426129,"post_id":71795450,"comment_id":126879482,"body_markdown":"You are in the same transaction of course.","body":"You are in the same transaction of course."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1649442663,"post_id":71795450,"comment_id":126885595,"body_markdown":"Duplicate of https://stackoverflow.com/questions/32500406/hibernate-is-batching-disabled-for-single-table-inheritance but it has no answer. I&#39;d suggest looking at single table inheritance, or an alternate provider (I believe EclipseLink supports this level of statement rearranging for batching)","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/32500406/hibernate-is-batching-disabled-for-single-table-inheritance\" title=\"hibernate is batching disabled for single table inheritance\">stackoverflow.com/questions/32500406/&hellip;</a> but it has no answer. I&#39;d suggest looking at single table inheritance, or an alternate provider (I believe EclipseLink supports this level of statement rearranging for batching)"}],"owner":{"account_id":8565296,"reputation":109,"user_id":6417952,"display_name":"rupesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649418051,"creation_date":1649413770,"question_id":71795450,"body_markdown":"When using JOINED inheritence strategy hibernate is not ordering inserts and as a result batch inserts are not working.\r\nThis is causing a performance hit. Is there any way to keep using the strategy and configure hibernate to order the inserts?\r\nI have used id generation strategy as sequence so that is not the issue.\r\n\r\nAs an example say we have abstraction `Animal`. `Dog`, `Cat` etc.. are the concrete entities.\r\nFollowing are the operations.\r\n```\r\nAnimal a = new Dog();\r\nAnimal b = new Cat();\r\nsave(a);\r\nsave(b);\r\n```\r\nSQL statements in console that are logged.\r\n```\r\ninsert into animal...;\r\ninsert into dog...;\r\ninsert into animal...;\r\ninsert into cat...;\r\n```\r\nWhat I expect hibernate to do..\r\n```\r\ninsert into animal...;\r\ninsert into animal...;\r\nexecuting batch of size 2;\r\ninsert into dog..;\r\ninsert into cat..;\r\n```","title":"Order inserts not working with Hibernate JOINED inheritence strategy","body":"<p>When using JOINED inheritence strategy hibernate is not ordering inserts and as a result batch inserts are not working.\nThis is causing a performance hit. Is there any way to keep using the strategy and configure hibernate to order the inserts?\nI have used id generation strategy as sequence so that is not the issue.</p>\n<p>As an example say we have abstraction <code>Animal</code>. <code>Dog</code>, <code>Cat</code> etc.. are the concrete entities.\nFollowing are the operations.</p>\n<pre><code>Animal a = new Dog();\nAnimal b = new Cat();\nsave(a);\nsave(b);\n</code></pre>\n<p>SQL statements in console that are logged.</p>\n<pre><code>insert into animal...;\ninsert into dog...;\ninsert into animal...;\ninsert into cat...;\n</code></pre>\n<p>What I expect hibernate to do..</p>\n<pre><code>insert into animal...;\ninsert into animal...;\nexecuting batch of size 2;\ninsert into dog..;\ninsert into cat..;\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":19183011,"reputation":84,"user_id":14014316,"display_name":"Paramesh Sriram"},"score":0,"creation_date":1649392152,"post_id":71791454,"comment_id":126868553,"body_markdown":"Have you downloaded the correct JDBC drivers ? Also, I would recommend that you fix the indentations to make your code more readable.","body":"Have you downloaded the correct JDBC drivers ? Also, I would recommend that you fix the indentations to make your code more readable."},{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":0,"creation_date":1649472266,"post_id":71791454,"comment_id":126890916,"body_markdown":"@ParameshSriram What&#39;s wrong with my indentation?","body":"@ParameshSriram What&#39;s wrong with my indentation?"},{"owner":{"account_id":19183011,"reputation":84,"user_id":14014316,"display_name":"Paramesh Sriram"},"score":0,"creation_date":1649578726,"post_id":71791454,"comment_id":126907284,"body_markdown":"The thing is, I would recommend using a line break after each try or catch statement. For example, use `try { //next line\nInsert code //next line }` . This makes the code more readable.","body":"The thing is, I would recommend using a line break after each try or catch statement. For example, use <code>try { &#47;&#47;next line Insert code &#47;&#47;next line }</code> . This makes the code more readable."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649392708,"creation_date":1649392250,"answer_id":71791700,"question_id":71791454,"body_markdown":"# JDBC drivers automatically registered in modern Java\r\n\r\nYou said:\r\n\r\n&gt;I was taught to use Class.forName\r\n\r\nYour teacher is very much out-of-date.\r\n\r\nIn modern Java, you no longer need to call `Class.forName`. JDBC drivers are now automatically loaded via the Java [*Service Provider Interface (SPI)*][1]. If curious about how this works, see [this Question](https://stackoverflow.com/q/46834483/642706).\r\n\r\nIf your JDBC driver fails to be automatically registered, verify its inclusion within your project, or if in a Jakarta EE (Java EE) server, verify the proper location within that environment. You have not posted enough details about your development and deployment scenario for us to diagnose. And verify that you have the right version, which generally should support [JDBC 4.x][2] (4.3 is current). \r\n\r\nIf you continue to have trouble, write a throwaway console app that does *nothing* but connect to your database. Eliminate as much complexity and distraction as possible.\r\n\r\nRegarding the code you show, I have no idea why you would want to be de-registering any drivers. Basically, all of the code you showed in your Question should be unnecessary.\r\n\r\n\r\n# `DataSource`\r\n\r\n\r\nFurthermore, usually best to use a `DataSource` as the way to get connections to your database. A `DataSource` object holds the information required to connect: server address, port number, username, password, and various proprietary settings specific to your database server product. \r\n\r\nI have written a few Answers on Stack Overflow with complete working examples for MySQL, Postgres, &amp; H2. Like [this one][3]. I suggest you search for such example from me and the many other fine authors on Stack Overflow.\r\n\r\nHere is one such example. The code shown here should be sufficient as the MySQL driver should be automatically loaded.\r\n\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        System.out.println( &quot;INFO - `configureDataSource` method. &quot; + Instant.now() );\r\n\r\n        com.mysql.cj.jdbc.MysqlDataSource dataSource = Objects.requireNonNull( new com.mysql.cj.jdbc.MysqlDataSource() );  // Implementation of `DataSource`.\r\n        dataSource.setServerName( &quot;db-mysql-lon2-722-do-user-89973-1.x.db.ondigitalocean.com&quot; );\r\n        dataSource.setPortNumber( 24_090 );\r\n        dataSource.setDatabaseName( &quot;defaultdb&quot; );\r\n        dataSource.setUser( &quot;scott&quot; );\r\n        dataSource.setPassword( &quot;tiger&quot; );\r\n        return dataSource;\r\n    }\r\n\r\nUsage:\r\n\r\n    Connection conn = myDataSource.getConnection() ;\r\n\r\nOf course you should obtain a `DataSource` implementation that addresses your needs. For example, some provide fresh new connections while others provide connection pooling. Some are provided by the vendor of your database, and some are third-party. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Service_provider_interface\r\n  [2]: https://www.jcp.org/en/jsr/detail?id=221\r\n  [3]: https://stackoverflow.com/a/70219064/642706","title":"Why does Class.forName not seem to register driver with DriverManager","body":"<h1>JDBC drivers automatically registered in modern Java</h1>\n<p>You said:</p>\n<blockquote>\n<p>I was taught to use Class.forName</p>\n</blockquote>\n<p>Your teacher is very much out-of-date.</p>\n<p>In modern Java, you no longer need to call <code>Class.forName</code>. JDBC drivers are now automatically loaded via the Java <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\"><em>Service Provider Interface (SPI)</em></a>. If curious about how this works, see <a href=\"https://stackoverflow.com/q/46834483/642706\">this Question</a>.</p>\n<p>If your JDBC driver fails to be automatically registered, verify its inclusion within your project, or if in a Jakarta EE (Java EE) server, verify the proper location within that environment. You have not posted enough details about your development and deployment scenario for us to diagnose. And verify that you have the right version, which generally should support <a href=\"https://www.jcp.org/en/jsr/detail?id=221\" rel=\"nofollow noreferrer\">JDBC 4.x</a> (4.3 is current).</p>\n<p>If you continue to have trouble, write a throwaway console app that does <em>nothing</em> but connect to your database. Eliminate as much complexity and distraction as possible.</p>\n<p>Regarding the code you show, I have no idea why you would want to be de-registering any drivers. Basically, all of the code you showed in your Question should be unnecessary.</p>\n<h1><code>DataSource</code></h1>\n<p>Furthermore, usually best to use a <code>DataSource</code> as the way to get connections to your database. A <code>DataSource</code> object holds the information required to connect: server address, port number, username, password, and various proprietary settings specific to your database server product.</p>\n<p>I have written a few Answers on Stack Overflow with complete working examples for MySQL, Postgres, &amp; H2. Like <a href=\"https://stackoverflow.com/a/70219064/642706\">this one</a>. I suggest you search for such example from me and the many other fine authors on Stack Overflow.</p>\n<p>Here is one such example. The code shown here should be sufficient as the MySQL driver should be automatically loaded.</p>\n<pre><code>private DataSource configureDataSource ( )\n{\n    System.out.println( &quot;INFO - `configureDataSource` method. &quot; + Instant.now() );\n\n    com.mysql.cj.jdbc.MysqlDataSource dataSource = Objects.requireNonNull( new com.mysql.cj.jdbc.MysqlDataSource() );  // Implementation of `DataSource`.\n    dataSource.setServerName( &quot;db-mysql-lon2-722-do-user-89973-1.x.db.ondigitalocean.com&quot; );\n    dataSource.setPortNumber( 24_090 );\n    dataSource.setDatabaseName( &quot;defaultdb&quot; );\n    dataSource.setUser( &quot;scott&quot; );\n    dataSource.setPassword( &quot;tiger&quot; );\n    return dataSource;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>Connection conn = myDataSource.getConnection() ;\n</code></pre>\n<p>Of course you should obtain a <code>DataSource</code> implementation that addresses your needs. For example, some provide fresh new connections while others provide connection pooling. Some are provided by the vendor of your database, and some are third-party.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649417085,"creation_date":1649416319,"answer_id":71796002,"question_id":71791454,"body_markdown":"Since Java 6 (assuming a JDBC 4.0 or higher driver on the initial classpath), JDBC drivers are loaded automatically. This means that the driver was loaded automatically the moment `DriverManager` was class loaded and initialized.\r\n\r\nThe static initializer of the driver class is what registers a driver with the driver manager. This static initializer is run when the class is loaded. As the driver class was already loaded, a subsequent `Class.forName` returns the already loaded class, and the static initializer does not run again, so nothing is registered with `DriverManager`.\r\n\r\nIn other words:\r\n\r\n1. `DriverManager` is class loaded and loads drivers using `ServiceLoader`\r\n   - `com.mysql.cj.jdbc.Driver` is loaded through `ServiceLoader` and its static initializer registers an instance with `DriverManager`\r\n2. You remove all drivers from `DriverManager`\r\n3. You call `Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)`\r\n   - Given the class was already class loaded, Java returns the already loaded class\r\n   - Nothing is registered as the static intializer doesn&#39;t run again\r\n4. You manually register an instance with `DriverManager` (BTW, this is not something you should normally do, `DriverManager.registerDriver` is for JDBC drivers to call).\r\n","title":"Why does Class.forName not seem to register driver with DriverManager","body":"<p>Since Java 6 (assuming a JDBC 4.0 or higher driver on the initial classpath), JDBC drivers are loaded automatically. This means that the driver was loaded automatically the moment <code>DriverManager</code> was class loaded and initialized.</p>\n<p>The static initializer of the driver class is what registers a driver with the driver manager. This static initializer is run when the class is loaded. As the driver class was already loaded, a subsequent <code>Class.forName</code> returns the already loaded class, and the static initializer does not run again, so nothing is registered with <code>DriverManager</code>.</p>\n<p>In other words:</p>\n<ol>\n<li><code>DriverManager</code> is class loaded and loads drivers using <code>ServiceLoader</code>\n<ul>\n<li><code>com.mysql.cj.jdbc.Driver</code> is loaded through <code>ServiceLoader</code> and its static initializer registers an instance with <code>DriverManager</code></li>\n</ul>\n</li>\n<li>You remove all drivers from <code>DriverManager</code></li>\n<li>You call <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)</code>\n<ul>\n<li>Given the class was already class loaded, Java returns the already loaded class</li>\n<li>Nothing is registered as the static intializer doesn't run again</li>\n</ul>\n</li>\n<li>You manually register an instance with <code>DriverManager</code> (BTW, this is not something you should normally do, <code>DriverManager.registerDriver</code> is for JDBC drivers to call).</li>\n</ol>\n"}],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71796002,"answer_count":2,"score":2,"last_activity_date":1649417951,"creation_date":1649389539,"question_id":71791454,"body_markdown":"Being new to JDBC, I was taught to use `Class.forName` to register a driver to `DriverManager`,\r\nwhich does not seem to work for my code though:\r\n\r\n```java\r\npublic static void main(String[] args)\r\n{\r\n\tSystem.out.println(DriverManager.drivers().count());\r\n\r\n\t// clear all loaded drivers\r\n\tIterator&lt;Driver&gt; it = DriverManager.drivers().iterator();\r\n\r\n\twhile (it.hasNext())\r\n\t{\r\n\t\ttry { DriverManager.deregisterDriver(it.next()); }\r\n\t\tcatch (SQLException e) { e.printStackTrace(); }\r\n\t}\r\n\r\n\tSystem.out.println(DriverManager.drivers().count());\r\n\r\n\t// register mysql driver with forName\r\n\ttry { Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); }\r\n\tcatch (ClassNotFoundException e) { e.printStackTrace(); }\r\n\r\n\tSystem.out.println(DriverManager.drivers().count());\r\n\r\n\t// register with constructor - works fine\r\n\ttry { DriverManager.registerDriver(new com.mysql.cj.jdbc.Driver()); }\r\n\tcatch (SQLException e) { e.printStackTrace(); }\r\n\r\n\tSystem.out.println(DriverManager.drivers().count());\r\n}\r\n```\r\n\r\nWhich always results in 1, 0, 0, 1 whenever I compile and run.\r\nWhere have I gone wrong?","title":"Why does Class.forName not seem to register driver with DriverManager","body":"<p>Being new to JDBC, I was taught to use <code>Class.forName</code> to register a driver to <code>DriverManager</code>,\nwhich does not seem to work for my code though:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n{\n    System.out.println(DriverManager.drivers().count());\n\n    // clear all loaded drivers\n    Iterator&lt;Driver&gt; it = DriverManager.drivers().iterator();\n\n    while (it.hasNext())\n    {\n        try { DriverManager.deregisterDriver(it.next()); }\n        catch (SQLException e) { e.printStackTrace(); }\n    }\n\n    System.out.println(DriverManager.drivers().count());\n\n    // register mysql driver with forName\n    try { Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); }\n    catch (ClassNotFoundException e) { e.printStackTrace(); }\n\n    System.out.println(DriverManager.drivers().count());\n\n    // register with constructor - works fine\n    try { DriverManager.registerDriver(new com.mysql.cj.jdbc.Driver()); }\n    catch (SQLException e) { e.printStackTrace(); }\n\n    System.out.println(DriverManager.drivers().count());\n}\n</code></pre>\n<p>Which always results in 1, 0, 0, 1 whenever I compile and run.\nWhere have I gone wrong?</p>\n"},{"tags":["java","mysql","hibernate","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637848560,"creation_date":1637848560,"answer_id":70112342,"question_id":70112269,"body_markdown":"You need to change in the `CTable ` class this line \r\n\r\n```\r\n@OneToOne(mappedBy = &quot;table&quot;)\r\nprivate User currentUser;\r\n```\r\n\r\nto \r\n\r\n```\r\n@OneToOne(mappedBy = &quot;currenTable&quot;)\r\nprivate User currentUser;\r\n```\r\n\r\n`mappedBy` takes in the name of a Java field as the input parameter.","title":"Mapping one to one relationships in Spring Boot","body":"<p>You need to change in the <code>CTable </code> class this line</p>\n<pre><code>@OneToOne(mappedBy = &quot;table&quot;)\nprivate User currentUser;\n</code></pre>\n<p>to</p>\n<pre><code>@OneToOne(mappedBy = &quot;currenTable&quot;)\nprivate User currentUser;\n</code></pre>\n<p><code>mappedBy</code> takes in the name of a Java field as the input parameter.</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642928934,"creation_date":1637854286,"answer_id":70113708,"question_id":70112269,"body_markdown":"You don&#39;t mapped parent entity with child entity properly.In parent table object of `CTable` is `currenTable` and you mapped by with `table`. \r\n\r\nChange:\r\n```\r\n@OneToOne(mappedBy = &quot;table&quot;)\r\n```\r\n\r\nTo:\r\n```\r\n@OneToOne(mappedBy = &quot;currenTable&quot;)\r\n```","title":"Mapping one to one relationships in Spring Boot","body":"<p>You don't mapped parent entity with child entity properly.In parent table object of <code>CTable</code> is <code>currenTable</code> and you mapped by with <code>table</code>.</p>\n<p>Change:</p>\n<pre><code>@OneToOne(mappedBy = &quot;table&quot;)\n</code></pre>\n<p>To:</p>\n<pre><code>@OneToOne(mappedBy = &quot;currenTable&quot;)\n</code></pre>\n"}],"owner":{"account_id":22494861,"reputation":33,"user_id":16692026,"display_name":"Mile Stanislavov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70113708,"answer_count":2,"score":1,"last_activity_date":1649417796,"creation_date":1637848289,"question_id":70112269,"body_markdown":"I am trying to map a User with a certain Table in a one to one relationship.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown mappedBy in: com.mile.restoraunt.web.app.entity.CTable.currentUser, referenced property unknown: com.mile.restoraunt.web.app.entity.User.table\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar:2.5.7]\r\n\tat com.mile.restoraunt.web.app.MileRestorauntWebAppApplication.main(MileRestorauntWebAppApplication.java:19) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.5.7.jar:2.5.7]\r\nCaused by: org.hibernate.AnnotationException: Unknown mappedBy in: com.mile.restoraunt.web.app.entity.CTable.currentUser, referenced property unknown: com.mile.restoraunt.web.app.entity.User.table\r\n\tat org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:171) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1693) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1661) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.13.jar:5.3.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.13.jar:5.3.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.13.jar:5.3.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.13.jar:5.3.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 21 common frames omitted\r\n```\r\n\r\nThis here is my code, id appreciate if u take a look at it:\r\n\r\n`User` class:\r\n\r\n```java\r\nimport java.util.Collection;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.OneToOne;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate Long number;\r\n\tprivate int balance;\r\n\t@ManyToMany(fetch = FetchType.EAGER)\r\n\tprivate Collection&lt;Role&gt; roles;\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;table_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate CTable currenTable;\r\n\t\r\n}\r\n```\r\nThe `Table` class:\r\n\r\n```java\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Table(name = &quot;table&quot;)\r\npublic class CTable {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\tprivate Boolean available;\r\n\t@OneToOne(mappedBy = &quot;table&quot;)\r\n\tprivate User currentUser;\r\n\tprivate Date currentDate;\r\n}\r\n```","title":"Mapping one to one relationships in Spring Boot","body":"<p>I am trying to map a User with a certain Table in a one to one relationship.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown mappedBy in: com.mile.restoraunt.web.app.entity.CTable.currentUser, referenced property unknown: com.mile.restoraunt.web.app.entity.User.table\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar:2.5.7]\n    at com.mile.restoraunt.web.app.MileRestorauntWebAppApplication.main(MileRestorauntWebAppApplication.java:19) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.5.7.jar:2.5.7]\nCaused by: org.hibernate.AnnotationException: Unknown mappedBy in: com.mile.restoraunt.web.app.entity.CTable.currentUser, referenced property unknown: com.mile.restoraunt.web.app.entity.User.table\n    at org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:171) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1693) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1661) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 21 common frames omitted\n</code></pre>\n<p>This here is my code, id appreciate if u take a look at it:</p>\n<p><code>User</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collection;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.OneToOne;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    private String username;\n    private String password;\n    private Long number;\n    private int balance;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Collection&lt;Role&gt; roles;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;table_id&quot;, referencedColumnName = &quot;id&quot;)\n    private CTable currenTable;\n    \n}\n</code></pre>\n<p>The <code>Table</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Table(name = &quot;table&quot;)\npublic class CTable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    private Boolean available;\n    @OneToOne(mappedBy = &quot;table&quot;)\n    private User currentUser;\n    private Date currentDate;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jsp","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649352491,"creation_date":1649352491,"answer_id":71786568,"question_id":71783262,"body_markdown":"Your request mapping should not be empty. Try to map the correct view (maybe `value = &quot;/index&quot;`)? Try something like this:\r\n\r\n    @Autowired\r\n    ContactDAO contactDAO;\r\n\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public ModelAndView listContact() {\r\n        // Create new ModelAndView\r\n        ModelAndView mv = new ModelAndView(); \r\n        // Get DAO resources\r\n        List&lt;Contact&gt; getListContact = contactDAO.getAll();\r\n        Contact c = new Contact();\r\n        // Add objects to view\r\n        mv.addObject(&quot;contact&quot;, c); \r\n        mv.addObject(&quot;listContact&quot;, getListContact);\r\n        mv.setViewName(&quot;index&quot;);\r\n        // return ModelAndView\r\n        return mv;      \r\n    }\r\n  \r\nAlso if you want me to help you i need more:\r\n    - Full stack\r\n    - Contact.java\r\n    - index.jsp\r\n\r\nIf you&#39;d like a way to properly structure and map your frontend try https://tiles.apache.org/framework/tutorial/basic/pages.html ","title":"JSP table not display data from database","body":"<p>Your request mapping should not be empty. Try to map the correct view (maybe <code>value = &quot;/index&quot;</code>)? Try something like this:</p>\n<pre><code>@Autowired\nContactDAO contactDAO;\n\n@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\npublic ModelAndView listContact() {\n    // Create new ModelAndView\n    ModelAndView mv = new ModelAndView(); \n    // Get DAO resources\n    List&lt;Contact&gt; getListContact = contactDAO.getAll();\n    Contact c = new Contact();\n    // Add objects to view\n    mv.addObject(&quot;contact&quot;, c); \n    mv.addObject(&quot;listContact&quot;, getListContact);\n    mv.setViewName(&quot;index&quot;);\n    // return ModelAndView\n    return mv;      \n}\n</code></pre>\n<p>Also if you want me to help you i need more:\n- Full stack\n- Contact.java\n- index.jsp</p>\n<p>If you'd like a way to properly structure and map your frontend try <a href=\"https://tiles.apache.org/framework/tutorial/basic/pages.html\" rel=\"nofollow noreferrer\">https://tiles.apache.org/framework/tutorial/basic/pages.html</a></p>\n"},{"tags":[],"owner":{"account_id":19348730,"reputation":1,"user_id":14146630,"display_name":"ASha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649417775,"creation_date":1649417775,"answer_id":71796329,"question_id":71783262,"body_markdown":"I found the solution the index.jsp is in web pages I try moving the index to web pages/WEB-INF/views and then when I rerun the program then it&#39;s working. ","title":"JSP table not display data from database","body":"<p>I found the solution the index.jsp is in web pages I try moving the index to web pages/WEB-INF/views and then when I rerun the program then it's working.</p>\n"}],"owner":{"account_id":19348730,"reputation":1,"user_id":14146630,"display_name":"ASha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649417775,"creation_date":1649338934,"question_id":71783262,"body_markdown":"I try everything but it still not working.I use tomcat 9 and java 8.\r\nI already check the database connectivity and it&#39;s fine.\r\nData just don&#39;t display in jsp file.\r\nsorry for my english.\r\nThis is pom file\r\n\r\n``` &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nThis is JSP file\r\n```         &lt;div align=&quot;center&quot;&gt;\r\n            &lt;h1&gt;Contact List&lt;/h1&gt;\r\n            &lt;h3&gt;&lt;a href=&quot;new&quot;&gt;New Contact&lt;/a&gt;&lt;/h3&gt;\r\n            &lt;table border=&quot;1&quot; width=&quot;1000px&quot; height=&quot;50px&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;No&lt;/th&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Address&lt;/th&gt;\r\n                    &lt;th&gt;Phone&lt;/th&gt;\r\n                    &lt;th&gt;Action&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;c:forEach var=&quot;c&quot; items=&quot;${listContact}&quot; varStatus=&quot;status&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;${status.index+1}&lt;/td&gt;\r\n                        &lt;td&gt;${c.name}&lt;/td&gt;\r\n                        &lt;td&gt;${c.email}&lt;/td&gt;\r\n                        &lt;td&gt;${c.address}&lt;/td&gt;\r\n                        &lt;td&gt;${c.phone}&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/c:forEach&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt; ```\r\n\r\nThis is main controller file\r\n\r\n```  @Autowired\r\n    private ContactDAO contactDAO;\r\n\r\n    @RequestMapping(value = &quot;/&quot;,method = RequestMethod.GET)\r\n    public ModelAndView listContact(ModelAndView mv) throws IOException {\r\n        List&lt;Contact&gt; getListContact = contactDAO.getAll();\r\n        mv.addObject(&quot;listContact&quot;, getListContact);\r\n        mv.setViewName(&quot;index&quot;);\r\n        return mv;```\r\n","title":"JSP table not display data from database","body":"<p>I try everything but it still not working.I use tomcat 9 and java 8.\nI already check the database connectivity and it's fine.\nData just don't display in jsp file.\nsorry for my english.\nThis is pom file</p>\n<pre><code>            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>This is JSP file</p>\n<pre><code>            &lt;h1&gt;Contact List&lt;/h1&gt;\n            &lt;h3&gt;&lt;a href=&quot;new&quot;&gt;New Contact&lt;/a&gt;&lt;/h3&gt;\n            &lt;table border=&quot;1&quot; width=&quot;1000px&quot; height=&quot;50px&quot;&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;No&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Address&lt;/th&gt;\n                    &lt;th&gt;Phone&lt;/th&gt;\n                    &lt;th&gt;Action&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;c:forEach var=&quot;c&quot; items=&quot;${listContact}&quot; varStatus=&quot;status&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;${status.index+1}&lt;/td&gt;\n                        &lt;td&gt;${c.name}&lt;/td&gt;\n                        &lt;td&gt;${c.email}&lt;/td&gt;\n                        &lt;td&gt;${c.address}&lt;/td&gt;\n                        &lt;td&gt;${c.phone}&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/c:forEach&gt;\n            &lt;/table&gt;\n        &lt;/div&gt; ```\n\nThis is main controller file\n\n```  @Autowired\n    private ContactDAO contactDAO;\n\n    @RequestMapping(value = &quot;/&quot;,method = RequestMethod.GET)\n    public ModelAndView listContact(ModelAndView mv) throws IOException {\n        List&lt;Contact&gt; getListContact = contactDAO.getAll();\n        mv.addObject(&quot;listContact&quot;, getListContact);\n        mv.setViewName(&quot;index&quot;);\n        return mv;```\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649412814,"post_id":71795199,"comment_id":126874294,"body_markdown":"And well, when you read how to do format patterns, **padding** is explained as well. Most likely, you can do all of the formatting with a single call. So, simply study the rules for formatting patterns in more depth.","body":"And well, when you read how to do format patterns, <b>padding</b> is explained as well. Most likely, you can do all of the formatting with a single call. So, simply study the rules for formatting patterns in more depth."},{"owner":{"account_id":13559594,"reputation":158,"user_id":9781827,"display_name":"Hereks"},"score":0,"creation_date":1649415197,"post_id":71795199,"comment_id":126875108,"body_markdown":"Obviously I can concat everything into one call, but that becomes harder to read than my current implementation.","body":"Obviously I can concat everything into one call, but that becomes harder to read than my current implementation."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649415563,"post_id":71795199,"comment_id":126875249,"body_markdown":"No, that is *not* obvious. If you use the standard library, and use a readable formatting pattern (based again on the java standards) ... then a single call with a single pattern is more readable. Because any decent java programmer should be able to understand what is going on. Just see the answer you got from Mark. Does that look &quot;more&quot; complicated than what you have above?","body":"No, that is <i>not</i> obvious. If you use the standard library, and use a readable formatting pattern (based again on the java standards) ... then a single call with a single pattern is more readable. Because any decent java programmer should be able to understand what is going on. Just see the answer you got from Mark. Does that look &quot;more&quot; complicated than what you have above?"},{"owner":{"account_id":13559594,"reputation":158,"user_id":9781827,"display_name":"Hereks"},"score":0,"creation_date":1649415984,"post_id":71795199,"comment_id":126875400,"body_markdown":"Yes every decent java programmer will understand the one liner, just like every decent java programmer will understand Marks answer and my original code. But I want the effort to understand whats actually going on to be minimal. And I think a oneliner requires more effort than my original code.","body":"Yes every decent java programmer will understand the one liner, just like every decent java programmer will understand Marks answer and my original code. But I want the effort to understand whats actually going on to be minimal. And I think a oneliner requires more effort than my original code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649417012,"post_id":71795199,"comment_id":126875766,"body_markdown":"Effort in terms of runtime performance? Then Marks solution probably beats yours. The expensive part is establish the setup to process the pattern, and your solution already does that. But your solution also includes the cost to iterate the string for the replace. Seriously: if the performance penalty for Mark makes a real significant difference for your workload ... then you would be in a very luxurious position. And note: in the end, java performance comes out of the JIT. And the JIT can optimize SMALL straight forward code MUCH better.","body":"Effort in terms of runtime performance? Then Marks solution probably beats yours. The expensive part is establish the setup to process the pattern, and your solution already does that. But your solution also includes the cost to iterate the string for the replace. Seriously: if the performance penalty for Mark makes a real significant difference for your workload ... then you would be in a very luxurious position. And note: in the end, java performance comes out of the JIT. And the JIT can optimize SMALL straight forward code MUCH better."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649417145,"post_id":71795199,"comment_id":126875820,"body_markdown":"Efforts in terms of programmers dealing with the code? Your solution is about reading multiple lines of code, it is about understanding what your custom padding function does, it is about PUSHING aside the thoughts of &quot;why isn&#39;t he just using format() to do all of that at once&quot;?  It very much depends on your audience what &quot;efficiency&quot; means here. And when it is only about yourself: rather adapt to the short solution by Mark. Because that is the canonical way of solving such things. THAT is the sort of code you should be writing, and you should &quot;like&quot; to read.","body":"Efforts in terms of programmers dealing with the code? Your solution is about reading multiple lines of code, it is about understanding what your custom padding function does, it is about PUSHING aside the thoughts of &quot;why isn&#39;t he just using format() to do all of that at once&quot;?  It very much depends on your audience what &quot;efficiency&quot; means here. And when it is only about yourself: rather adapt to the short solution by Mark. Because that is the canonical way of solving such things. THAT is the sort of code you should be writing, and you should &quot;like&quot; to read."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649417278,"post_id":71795199,"comment_id":126875872,"body_markdown":"When you are in Rome, do as the Romans do. So, long story short, &quot;efficiency&quot; points to Marks answer, too. I can understand that it can give a new java programmer some trouble, but as said: that is the preferred way to do it in Java. You can decide to deviate from that, but deviation comes at cost.","body":"When you are in Rome, do as the Romans do. So, long story short, &quot;efficiency&quot; points to Marks answer, too. I can understand that it can give a new java programmer some trouble, but as said: that is the preferred way to do it in Java. You can decide to deviate from that, but deviation comes at cost."},{"owner":{"account_id":13559594,"reputation":158,"user_id":9781827,"display_name":"Hereks"},"score":1,"creation_date":1649417875,"post_id":71795199,"comment_id":126876093,"body_markdown":"Not in terms of runtime performance. Sorry, I thought i put enough emphasis on the readability aspect. I get that readability differs by audience but I thought there is some general consensus or way to perfom multiple formatting operations which is not doing everything in one line. In this case, the audience is other employees that work on the same code basis. Your comment leads me to thinking that the most readable way therefore, is Marks answer.","body":"Not in terms of runtime performance. Sorry, I thought i put enough emphasis on the readability aspect. I get that readability differs by audience but I thought there is some general consensus or way to perfom multiple formatting operations which is not doing everything in one line. In this case, the audience is other employees that work on the same code basis. Your comment leads me to thinking that the most readable way therefore, is Marks answer."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649419445,"post_id":71795199,"comment_id":126876663,"body_markdown":"You are right, and that is an aspect I discussed with other folks many times: &quot;readability&quot; depends on skill levels. For a total newbie, your initial solution might be just fine. Because your code does things (mostly) in a very explicit way. And that is what people do initially: write a lot of &quot;low level&quot; code that does things &quot;manually&quot;. But then, the more you understand about the standard libraries, you better change. You prefer to do things on a &quot;higher&quot; level, *assuming* that every reader is familiar with the abstractions you/the library calls are making.","body":"You are right, and that is an aspect I discussed with other folks many times: &quot;readability&quot; depends on skill levels. For a total newbie, your initial solution might be just fine. Because your code does things (mostly) in a very explicit way. And that is what people do initially: write a lot of &quot;low level&quot; code that does things &quot;manually&quot;. But then, the more you understand about the standard libraries, you better change. You prefer to do things on a &quot;higher&quot; level, <i>assuming</i> that every reader is familiar with the abstractions you/the library calls are making."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649417719,"creation_date":1649415485,"answer_id":71795830,"question_id":71795199,"body_markdown":"You can do this in one statement by using a Locale that uses a `,` as the decimal separator (e.g. `Locale.GERMANY`), and specifying the width format option:\r\n\r\n```java\r\ndouble price = 20.2;\r\nString formatted = String.format(Locale.GERMANY, &quot;%10.2f&quot;, price);\r\nSystem.out.println(formatted);\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n     20,20\r\n```\r\n\r\nSee the [format string syntax][1] for details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax","title":"How to format a String multiple times?","body":"<p>You can do this in one statement by using a Locale that uses a <code>,</code> as the decimal separator (e.g. <code>Locale.GERMANY</code>), and specifying the width format option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double price = 20.2;\nString formatted = String.format(Locale.GERMANY, &quot;%10.2f&quot;, price);\nSystem.out.println(formatted);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>     20,20\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">format string syntax</a> for details.</p>\n"}],"owner":{"account_id":13559594,"reputation":158,"user_id":9781827,"display_name":"Hereks"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71795830,"answer_count":1,"score":-1,"last_activity_date":1649417719,"creation_date":1649412524,"question_id":71795199,"body_markdown":"in Java 7, I need to perform multiple formatting operations on a double before further processing it. I currently do it like so:\r\n\r\n    double price = lemon.getPrice(); // Something like 20.2 or 19.235\r\n    String priceWith2Digits = String.format(&quot;%.02f&quot;, price); // 20.20\r\n    String priceWithDecimalComma = priceWith2Digits.replace(&#39;.&#39;, &#39;,&#39;); // 20,20\r\n    String pricePadded = selfMadePaddingFunction(priceWithDecimalComma, 10, &#39; &#39;); // &quot;     20,20&quot;\r\n    result.setPrice(pricePadded);\r\n\r\nNow I wonder if there is a way to increase readability while reducing the number of String variables.  \r\nEdit: This question is **not about padding**, its about increasing code readability, which is not done by doing everything in one row.\r\n\r\n ","title":"How to format a String multiple times?","body":"<p>in Java 7, I need to perform multiple formatting operations on a double before further processing it. I currently do it like so:</p>\n<pre><code>double price = lemon.getPrice(); // Something like 20.2 or 19.235\nString priceWith2Digits = String.format(&quot;%.02f&quot;, price); // 20.20\nString priceWithDecimalComma = priceWith2Digits.replace('.', ','); // 20,20\nString pricePadded = selfMadePaddingFunction(priceWithDecimalComma, 10, ' '); // &quot;     20,20&quot;\nresult.setPrice(pricePadded);\n</code></pre>\n<p>Now I wonder if there is a way to increase readability while reducing the number of String variables.<br />\nEdit: This question is <strong>not about padding</strong>, its about increasing code readability, which is not done by doing everything in one row.</p>\n"},{"tags":["python","java","flutter","dart","web"],"answers":[{"tags":[],"owner":{"account_id":14364594,"reputation":475,"user_id":10376031,"display_name":"batuhand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649417647,"creation_date":1649417647,"answer_id":71796299,"question_id":71796235,"body_markdown":"You can achieve that with creating a class about it\r\n\r\n    class CompanyStatus{\r\n        String company_name;\r\n        bool isChecked;\r\n    }\r\n\r\nAnd when you create an object from that class, you should be able to retrieve the name and check status of that object\r\n\r\nExample\r\n\r\n    var company = CompanyStatus(company_name : &quot;Example Company&quot;, isChecked: false);\r\n    \r\n    print(company.isChecked);\r\n    print(company.company_name);","title":"Can you derive a new variable from two other variables in flutter","body":"<p>You can achieve that with creating a class about it</p>\n<pre><code>class CompanyStatus{\n    String company_name;\n    bool isChecked;\n}\n</code></pre>\n<p>And when you create an object from that class, you should be able to retrieve the name and check status of that object</p>\n<p>Example</p>\n<pre><code>var company = CompanyStatus(company_name : &quot;Example Company&quot;, isChecked: false);\n\nprint(company.isChecked);\nprint(company.company_name);\n</code></pre>\n"}],"owner":{"account_id":11070613,"reputation":115,"user_id":8128856,"display_name":"SKS81"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649417647,"creation_date":1649417359,"question_id":71796235,"body_markdown":"I&#39;m a bit new to flutter so please bare with me\r\nfor example \r\n\r\n    company_name =&#39;MarioInc&quot;\r\n    isChecked = false\r\n\r\nstring concatenation is something I get (I think) and below is an example\r\ndone with `&#39;${company_name}.${isChecked}&#39;` which should give you `MarioInc.false` as a string. However I want it to return a new variable called `company_name.isChecked` not as a string. Can this be done?","title":"Can you derive a new variable from two other variables in flutter","body":"<p>I'm a bit new to flutter so please bare with me\nfor example</p>\n<pre><code>company_name ='MarioInc&quot;\nisChecked = false\n</code></pre>\n<p>string concatenation is something I get (I think) and below is an example\ndone with <code>'${company_name}.${isChecked}'</code> which should give you <code>MarioInc.false</code> as a string. However I want it to return a new variable called <code>company_name.isChecked</code> not as a string. Can this be done?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649484591,"post_id":71796219,"comment_id":126892085,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":20181770,"reputation":1,"user_id":14802145,"display_name":"Abdel"},"score":0,"creation_date":1649542988,"post_id":71796219,"comment_id":126903204,"body_markdown":"I wanna know how to do multiple test with one deployment archive in arquilian","body":"I wanna know how to do multiple test with one deployment archive in arquilian"}],"owner":{"account_id":20181770,"reputation":1,"user_id":14802145,"display_name":"Abdel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649417269,"creation_date":1649417269,"question_id":71796219,"body_markdown":"I&#39;m kind new of arquilian and i wanna know is there a fix of timeouting test in arquilian,\r\nI see that when doing test it takes more time, and I need to see is there a new solution to run multiple tests using a single deployment archive","title":"How To fix Timeouting Test In Arquilian","body":"<p>I'm kind new of arquilian and i wanna know is there a fix of timeouting test in arquilian,\nI see that when doing test it takes more time, and I need to see is there a new solution to run multiple tests using a single deployment archive</p>\n"},{"tags":["java","time"],"answers":[{"tags":[],"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649411890,"creation_date":1649411373,"answer_id":71794939,"question_id":71794792,"body_markdown":"I don&#39;t know about an official way, but two for loops are pretty quick about it.\r\n\r\nYou could of course do a lot of complicated things with a date and time library, but why make it difficult when it can be done easily?\r\n\r\nSee it online: https://ideone.com/swFbz2\r\n\r\n```java\r\n        String[] quarters = {&quot;00&quot;, &quot;15&quot;, &quot;30&quot;, &quot;45&quot;};\r\n\t\tArrayList&lt;String&gt; hours = new ArrayList&lt;&gt;(24*4);\r\n\t\tfor(int i = 0; i &lt; 24; i++) {\r\n\t\t\tfor(int j = 0; j &lt; 4; j++) {\r\n\t\t\t\thours.add((i &lt; 10 ? &quot;0&quot; + i : i) + &quot;:&quot; + quarters[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n\t\tfor (int i=0; i &lt;= 10; i++) {\r\n \r\n                output.add(&quot;&lt;tr &gt;&quot;);\r\n                output.add(&quot;  &lt;td&gt;thingy/td&gt;&quot;);\r\n \r\n                for (int quarter=0; quarter &lt; 24*4; quarter++) {\r\n                    output.add(&quot;  &lt;td&gt;&quot;+hours.get(quarter)+&quot; jobstatus is perfectly fine.... believe me.&lt;/td&gt;&quot;);\r\n                }\r\n                output.add(&quot;&lt;/tr&gt;&quot;);\r\n\t\t}\r\n\t\t//System.out.println(String.join(&quot;\\n&quot;,hours));\r\n\t\tSystem.out.println(String.join(&quot;\\n&quot;, output));\r\n```","title":"How to print times (hh:mm) in a quarter-hour cycle?","body":"<p>I don't know about an official way, but two for loops are pretty quick about it.</p>\n<p>You could of course do a lot of complicated things with a date and time library, but why make it difficult when it can be done easily?</p>\n<p>See it online: <a href=\"https://ideone.com/swFbz2\" rel=\"nofollow noreferrer\">https://ideone.com/swFbz2</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] quarters = {&quot;00&quot;, &quot;15&quot;, &quot;30&quot;, &quot;45&quot;};\n        ArrayList&lt;String&gt; hours = new ArrayList&lt;&gt;(24*4);\n        for(int i = 0; i &lt; 24; i++) {\n            for(int j = 0; j &lt; 4; j++) {\n                hours.add((i &lt; 10 ? &quot;0&quot; + i : i) + &quot;:&quot; + quarters[j]);\n            }\n        }\n        ArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\n        for (int i=0; i &lt;= 10; i++) {\n \n                output.add(&quot;&lt;tr &gt;&quot;);\n                output.add(&quot;  &lt;td&gt;thingy/td&gt;&quot;);\n \n                for (int quarter=0; quarter &lt; 24*4; quarter++) {\n                    output.add(&quot;  &lt;td&gt;&quot;+hours.get(quarter)+&quot; jobstatus is perfectly fine.... believe me.&lt;/td&gt;&quot;);\n                }\n                output.add(&quot;&lt;/tr&gt;&quot;);\n        }\n        //System.out.println(String.join(&quot;\\n&quot;,hours));\n        System.out.println(String.join(&quot;\\n&quot;, output));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649416132,"creation_date":1649411889,"answer_id":71795055,"question_id":71794792,"body_markdown":"Can be done using the `java.time.LocalTime`:\r\n\r\n````java\r\nvar time = LocalTime.MIN;\r\ndo {\r\n    System.out.println(time);\r\n    time = time.plusMinutes(15);\r\n} while (!time.equals(LocalTime.MIN));\r\n````\r\n\r\nIt can also be done with a `for` loop, just consider that `LocalTime` does not accept `24:00`, so `23:45 + 0:15` results in `00:00`.\r\n\r\n-----\r\n\r\nThe default format used by `LocalTime.toString()` is `HH:MM` if seconds and fraction of seconds is zero. A `DateTimeFormat` can be used to format the tine using a different format.","title":"How to print times (hh:mm) in a quarter-hour cycle?","body":"<p>Can be done using the <code>java.time.LocalTime</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var time = LocalTime.MIN;\ndo {\n    System.out.println(time);\n    time = time.plusMinutes(15);\n} while (!time.equals(LocalTime.MIN));\n</code></pre>\n<p>It can also be done with a <code>for</code> loop, just consider that <code>LocalTime</code> does not accept <code>24:00</code>, so <code>23:45 + 0:15</code> results in <code>00:00</code>.</p>\n<hr />\n<p>The default format used by <code>LocalTime.toString()</code> is <code>HH:MM</code> if seconds and fraction of seconds is zero. A <code>DateTimeFormat</code> can be used to format the tine using a different format.</p>\n"}],"owner":{"account_id":24847266,"reputation":11,"user_id":18724667,"display_name":"crankerh4x0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71795055,"answer_count":2,"score":1,"last_activity_date":1649416132,"creation_date":1649410698,"question_id":71794792,"body_markdown":"I need to basically print every quarter-hour of the day from 00:00 to 23:45 (so 96 different times) in hh:mm format to create a html report.  Is there a standard library to do that? Or another way?\r\n```\r\nPrintStream fillStatus = new PrintStream(&quot;Report.html&quot;);\r\n\t\t\tfor (int(int i=0; i &lt;= 116; i++) {\r\n\t\t\t    jobStatus[] = FileMonitorLog.getStatusOfJob(i) \r\n\t\t\t    \t\t\t\r\n\t\t\t    \t\t\r\n\t\t\t    fillStatus.println(&quot;&lt;tr &gt;&quot;);\r\n\t\t\t    fillStatus.println(&quot;&lt;td&gt;&quot;+hh:mmTime+&quot;&lt;/td&gt;&quot;);\r\n\t\t\t    \r\n\t\t\t    for (quarter=0; quarter &lt;= 96; quarter++) {\r\n\t\t\t    \tfillStatus.println(&quot;&lt;td&gt;&quot;+getHtmlStatus(jobStatus[quarter]).&quot;&lt;/td&gt;&quot;);\r\n```","title":"How to print times (hh:mm) in a quarter-hour cycle?","body":"<p>I need to basically print every quarter-hour of the day from 00:00 to 23:45 (so 96 different times) in hh:mm format to create a html report.  Is there a standard library to do that? Or another way?</p>\n<pre><code>PrintStream fillStatus = new PrintStream(&quot;Report.html&quot;);\n            for (int(int i=0; i &lt;= 116; i++) {\n                jobStatus[] = FileMonitorLog.getStatusOfJob(i) \n                            \n                        \n                fillStatus.println(&quot;&lt;tr &gt;&quot;);\n                fillStatus.println(&quot;&lt;td&gt;&quot;+hh:mmTime+&quot;&lt;/td&gt;&quot;);\n                \n                for (quarter=0; quarter &lt;= 96; quarter++) {\n                    fillStatus.println(&quot;&lt;td&gt;&quot;+getHtmlStatus(jobStatus[quarter]).&quot;&lt;/td&gt;&quot;);\n</code></pre>\n"},{"tags":["java","date","iso"],"comments":[{"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"score":0,"creation_date":1649365057,"post_id":71788574,"comment_id":126863913,"body_markdown":"@user16320675 Instant.now().toString();","body":"@user16320675 Instant.now().toString();"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1649365817,"post_id":71788574,"comment_id":126864117,"body_markdown":"like `&quot;2022-04-07T21:07:26.961524500Z&quot;`? so just `Instant.parse(text)` and then `ZonedDateTime.ofInstant()` with the desired `ZoneId` (e.g. `TimeZone.getDefault().toZoneId()`)","body":"like <code>&quot;2022-04-07T21:07:26.961524500Z&quot;</code>? so just <code>Instant.parse(text)</code> and then <code>ZonedDateTime.ofInstant()</code> with the desired <code>ZoneId</code> (e.g. <code>TimeZone.getDefault().toZoneId()</code>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649395645,"post_id":71788574,"comment_id":126869112,"body_markdown":"[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) comes in many variants. Please paste an example or two of what you have got.","body":"<a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> comes in many variants. Please paste an example or two of what you have got."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649587178,"post_id":71788574,"comment_id":126908873,"body_markdown":"@learner *why is it being downvoted?* I didnât downvote either. My guess is itâs for lack of demonstration of a search and research effort on your part. Itâs better to tell us what your search brought up and specify in what way it was insufficient for reaching your goal.","body":"@learner <i>why is it being downvoted?</i> I didnât downvote either. My guess is itâs for lack of demonstration of a search and research effort on your part. Itâs better to tell us what your search brought up and specify in what way it was insufficient for reaching your goal."}],"answers":[{"tags":[],"owner":{"account_id":24865174,"reputation":11,"user_id":18740371,"display_name":"pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649363821,"creation_date":1649363821,"answer_id":71788631,"question_id":71788574,"body_markdown":"I think that you can see [this link here](https://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date) you might find some answers.\r\n\r\nBut for example, you can see this example here. I have a String format and I transform it into a Date object.\r\n\r\n```java\r\nDateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\nString string1 = &quot;2001-07-04T12:08:56.235-0700&quot;;\r\nDate result1 = df1.parse(string1);\r\n```","title":"How to get time in current time zone from ISO 8601 strings?","body":"<p>I think that you can see <a href=\"https://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\">this link here</a> you might find some answers.</p>\n<p>But for example, you can see this example here. I have a String format and I transform it into a Date object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;);\nString string1 = &quot;2001-07-04T12:08:56.235-0700&quot;;\nDate result1 = df1.parse(string1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649365122,"creation_date":1649365122,"answer_id":71788842,"question_id":71788574,"body_markdown":"Read the Wikipedia page on [ISO 8601][1].\r\n\r\n# *java.time*\r\n\r\nCapture the current moment as seen in UTC.\r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nGenerate ISO 8601 string.\r\n\r\n    String output = instant.toString() ;\r\n\r\nThe `Z` on the end of that resulting string means an offset-from-UTC of zero hours-minutes-seconds.\r\n\r\nAdjust into a particular time zone.\r\n\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nUnfortunately, the ISO 8601 standard does not define a format for a moment as seen in a time zone. The `ZonedDateTime#toString` method uses a format similar to ISO 8601 but appends the name of the time zone in square brackets. This is a smart solution.\r\n\r\n    String output = zdt.toString() ; \r\n\r\nMuch of your Question in not clear. I am guessing you want to pull the date and time portions from a `ZonedDateTime`. But I am not sure using such values to query your database makes sense. But if you insist:\r\n\r\n    LocalDate ld = zdt.toLocalDate() ;\r\n    LocalTime lt = zdt.toLocalTime() ;\r\n\r\nYou can get an ISO 8601 string for each.\r\n\r\n    String ldOutput = ld.toString() ;\r\n    String ltOutput = lt.toString() ;\r\n\r\nNotice there is no need for the string manipulations you mentioned in your Question.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to get time in current time zone from ISO 8601 strings?","body":"<p>Read the Wikipedia page on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>.</p>\n<h1><em>java.time</em></h1>\n<p>Capture the current moment as seen in UTC.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Generate ISO 8601 string.</p>\n<pre><code>String output = instant.toString() ;\n</code></pre>\n<p>The <code>Z</code> on the end of that resulting string means an offset-from-UTC of zero hours-minutes-seconds.</p>\n<p>Adjust into a particular time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Unfortunately, the ISO 8601 standard does not define a format for a moment as seen in a time zone. The <code>ZonedDateTime#toString</code> method uses a format similar to ISO 8601 but appends the name of the time zone in square brackets. This is a smart solution.</p>\n<pre><code>String output = zdt.toString() ; \n</code></pre>\n<p>Much of your Question in not clear. I am guessing you want to pull the date and time portions from a <code>ZonedDateTime</code>. But I am not sure using such values to query your database makes sense. But if you insist:</p>\n<pre><code>LocalDate ld = zdt.toLocalDate() ;\nLocalTime lt = zdt.toLocalTime() ;\n</code></pre>\n<p>You can get an ISO 8601 string for each.</p>\n<pre><code>String ldOutput = ld.toString() ;\nString ltOutput = lt.toString() ;\n</code></pre>\n<p>Notice there is no need for the string manipulations you mentioned in your Question.</p>\n"}],"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1649415963,"creation_date":1649363465,"question_id":71788574,"body_markdown":"In my sqlite database I have a table with a field `created_at` that stores time in ISO8601 as `text`. In the object corresponding to this table I have two fields `String date, String time` for the `created_at` attribute. Now, while querying for this table and creating a corresponding object I am stuck at converting the ISO8601 string to the current user&#39;s timezone&#39;s date (YYYY/MM/DD), time (XX:YY pm). Could anyone help me out? I thought of using substring to split the string but then the timezone is UTC for ISO8601 strings. \r\n\r\nThe ISO8601 string is stored in the database using Instant.now().toString()\r\n\r\n**tldr:** created_at = ISO8601 time string; need to extract date and time portion from it for the current user. \r\n","title":"How to get time in current time zone from ISO 8601 strings?","body":"<p>In my sqlite database I have a table with a field <code>created_at</code> that stores time in ISO8601 as <code>text</code>. In the object corresponding to this table I have two fields <code>String date, String time</code> for the <code>created_at</code> attribute. Now, while querying for this table and creating a corresponding object I am stuck at converting the ISO8601 string to the current user's timezone's date (YYYY/MM/DD), time (XX:YY pm). Could anyone help me out? I thought of using substring to split the string but then the timezone is UTC for ISO8601 strings.</p>\n<p>The ISO8601 string is stored in the database using Instant.now().toString()</p>\n<p><strong>tldr:</strong> created_at = ISO8601 time string; need to extract date and time portion from it for the current user.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18016023,"reputation":122,"user_id":13094525,"display_name":"wquinoa"},"score":0,"creation_date":1649414372,"post_id":71795481,"comment_id":126874823,"body_markdown":"maybe you meant &quot;companyBindingId&quot;?","body":"maybe you meant &quot;companyBindingId&quot;?"},{"owner":{"account_id":19695043,"reputation":181,"user_id":14419099,"display_name":"firefighter"},"score":0,"creation_date":1649415474,"post_id":71795481,"comment_id":126875211,"body_markdown":"no actually, that would be easy. I am trying to find by a field which is inside CompanyEntity.","body":"no actually, that would be easy. I am trying to find by a field which is inside CompanyEntity."}],"answers":[{"tags":[],"owner":{"account_id":24869682,"reputation":1,"user_id":18744338,"display_name":"mln2012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649415260,"creation_date":1649415260,"answer_id":71795774,"question_id":71795481,"body_markdown":"First, you need to define an association between CompanyBindingEntity and CompanyEntity, for example:\r\n\r\n     @NotNull\r\n     @Embedded\r\n     @Valid\r\n     @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetchType = FetchType.EAGER)\r\n     @JoinColumn(name = &quot;COMPANY_ID&quot;)\r\n     private CompanyEntity company; \r\n\r\nThen in the table that holds CompanyBindingEntity define a foreign key to bind &quot;COMPANY_ID&quot; to the ID for CompanyEntity.","title":"Spring Boot: Could not locate field name [companyId] on class [...Entity]","body":"<p>First, you need to define an association between CompanyBindingEntity and CompanyEntity, for example:</p>\n<pre><code> @NotNull\n @Embedded\n @Valid\n @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetchType = FetchType.EAGER)\n @JoinColumn(name = &quot;COMPANY_ID&quot;)\n private CompanyEntity company; \n</code></pre>\n<p>Then in the table that holds CompanyBindingEntity define a foreign key to bind &quot;COMPANY_ID&quot; to the ID for CompanyEntity.</p>\n"}],"owner":{"account_id":19695043,"reputation":181,"user_id":14419099,"display_name":"firefighter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649415775,"creation_date":1649413940,"question_id":71795481,"body_markdown":"I have a question:\r\n\r\nHere is my entity:\r\n\r\n    public class CompanyBindingEntity {\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n         @Column(name = &quot;BINDING_ID&quot;, nullable = false)\r\n         private int companyBindingId;\r\n     \r\n         @NotNull\r\n         @Embedded\r\n         @Valid\r\n         private CompanyEntity company; \r\n        ....\r\n    }\r\n\r\nHere is CompanyEntity:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    @Builder\r\n    @Data\r\n    public class CompanyEntity {\r\n    \r\n        @Id\r\n        @NotNull\r\n        @Column(name = &quot;COMPANY_ID&quot;)\r\n        private Integer companyId;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;COMPANY_NAME&quot;)\r\n        private String companyName;    \r\n    }\r\n\r\nAnd I want to implement \r\n\r\n    findByCompanyId(int companyId)\r\n\r\nmethod in my service and repository. But I am receiving this error: \r\n\r\n&gt; `Could not locate field name [companyId] on class [...Entity]`\r\n\r\nbecause the `companyId` is inside `CompanyEntity`, not in `CompanyBindingEntity`. I need to find a way about how to solve this. Am I missing a special annotation to search for a nested element?\r\n\r\nThanks a lot for reading!","title":"Spring Boot: Could not locate field name [companyId] on class [...Entity]","body":"<p>I have a question:</p>\n<p>Here is my entity:</p>\n<pre><code>public class CompanyBindingEntity {\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\n     @Column(name = &quot;BINDING_ID&quot;, nullable = false)\n     private int companyBindingId;\n \n     @NotNull\n     @Embedded\n     @Valid\n     private CompanyEntity company; \n    ....\n}\n</code></pre>\n<p>Here is CompanyEntity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\n@Builder\n@Data\npublic class CompanyEntity {\n\n    @Id\n    @NotNull\n    @Column(name = &quot;COMPANY_ID&quot;)\n    private Integer companyId;\n\n    @NotNull\n    @Column(name = &quot;COMPANY_NAME&quot;)\n    private String companyName;    \n}\n</code></pre>\n<p>And I want to implement</p>\n<pre><code>findByCompanyId(int companyId)\n</code></pre>\n<p>method in my service and repository. But I am receiving this error:</p>\n<blockquote>\n<p><code>Could not locate field name [companyId] on class [...Entity]</code></p>\n</blockquote>\n<p>because the <code>companyId</code> is inside <code>CompanyEntity</code>, not in <code>CompanyBindingEntity</code>. I need to find a way about how to solve this. Am I missing a special annotation to search for a nested element?</p>\n<p>Thanks a lot for reading!</p>\n"},{"tags":["java","interface","java-8"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1395919401,"post_id":22685930,"comment_id":34561544,"body_markdown":"What If `I2` extends `I1` and `C1` implements `I2` !!? I think this will compile...or am I wrong ?","body":"What If <code>I2</code> extends <code>I1</code> and <code>C1</code> implements <code>I2</code> !!? I think this will compile...or am I wrong ?"},{"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"score":0,"creation_date":1395919996,"post_id":22685930,"comment_id":34561976,"body_markdown":"Thanks for the question! I just tried out: yes this will compile, regardless getGreeting() in I1 is abstract or default. If the method in I1 is default, this means that you can override the default implementation in interface-intheritance...","body":"Thanks for the question! I just tried out: yes this will compile, regardless getGreeting() in I1 is abstract or default. If the method in I1 is default, this means that you can override the default implementation in interface-intheritance..."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1395920198,"post_id":22685930,"comment_id":34562108,"body_markdown":"Yes exactly...It will be inherited method.","body":"Yes exactly...It will be inherited method."},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1396291721,"post_id":22685930,"comment_id":34713115,"body_markdown":"Here is an article on Default methods : [Java 8 : Default method in Interface](http://java8.in/java-8-default-method-in-interface/)","body":"Here is an article on Default methods : <a href=\"http://java8.in/java-8-default-method-in-interface/\" rel=\"nofollow noreferrer\">Java 8 : Default method in Interface</a>"},{"owner":{"account_id":1445843,"reputation":1494,"user_id":1364368,"accept_rate":100,"display_name":"user1364368"},"score":0,"creation_date":1700668816,"post_id":22685930,"comment_id":136683508,"body_markdown":"Eclipse 2023-09 gives me the following compiler error for this: &quot;Duplicate default methods named getGreeting with the parameters () and () are inherited from the types I2 and I1&quot;","body":"Eclipse 2023-09 gives me the following compiler error for this: &quot;Duplicate default methods named getGreeting with the parameters () and () are inherited from the types I2 and I1&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1395918929,"creation_date":1395918929,"answer_id":22685931,"question_id":22685930,"body_markdown":"This is a compile-time error. You cannot have two implementation from two interfaces.\r\n\r\nHowever, it is correct, if you implement the `getGreeting` method in `C1`:\r\n\r\n    public class C1 implements I1, I2 // this will compile, bacause we have overridden getGreeting()\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(new C1().getGreeting());\r\n        }\r\n    \r\n        @Override public String getGreeting()\r\n        {\r\n            return &quot;Good Evening!&quot;;\r\n        }\r\n    }\r\n\r\nI just want to add that even if the method in I1 is abstract, and default in I2, you cannot implement both of them. So this is also a compile-time error:\r\n\r\n    public interface I1\r\n    {\r\n        String getGreeting();\r\n    }\r\n\r\n    public interface I2\r\n    {\r\n        default String getGreeting() {\r\n            return &quot;Good afternoon!&quot;;\r\n        }\r\n    }\r\n\r\n    public class C1 implements I1, I2 // won&#39;t compile\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(new C1().getGreeting());\r\n        }\r\n    }\r\n\r\n","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>This is a compile-time error. You cannot have two implementation from two interfaces.</p>\n\n<p>However, it is correct, if you implement the <code>getGreeting</code> method in <code>C1</code>:</p>\n\n<pre><code>public class C1 implements I1, I2 // this will compile, bacause we have overridden getGreeting()\n{\n    public static void main(String[] args)\n    {\n        System.out.println(new C1().getGreeting());\n    }\n\n    @Override public String getGreeting()\n    {\n        return \"Good Evening!\";\n    }\n}\n</code></pre>\n\n<p>I just want to add that even if the method in I1 is abstract, and default in I2, you cannot implement both of them. So this is also a compile-time error:</p>\n\n<pre><code>public interface I1\n{\n    String getGreeting();\n}\n\npublic interface I2\n{\n    default String getGreeting() {\n        return \"Good afternoon!\";\n    }\n}\n\npublic class C1 implements I1, I2 // won't compile\n{\n    public static void main(String[] args)\n    {\n        System.out.println(new C1().getGreeting());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1602775869,"creation_date":1395920066,"answer_id":22686386,"question_id":22685930,"body_markdown":"This is not specific to the question. But, I still think that it adds some value to the context.  As an addition to @toni77&#39;s answer, I would like to add that the default method can be invoked from an implementing class as shown below. In the below code, the default method `getGreeting()` from `interface I1` is invoked from an overridden method:\r\n\r\n    public interface I1 {\r\n         default String getGreeting() {\r\n            return &quot;Good Morning!&quot;;\r\n         }\r\n    }\r\n\r\n    public interface I2 {\r\n        default String getGreeting() {\r\n            return &quot;Good Night!&quot;;\r\n        }\r\n    }\r\n\r\n    public class C1 implements I1, I2 {       \r\n        @Override\r\n        public String getGreeting() {\r\n            return I1.super.getGreeting();\r\n        }\r\n    }","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>This is not specific to the question. But, I still think that it adds some value to the context.  As an addition to @toni77's answer, I would like to add that the default method can be invoked from an implementing class as shown below. In the below code, the default method <code>getGreeting()</code> from <code>interface I1</code> is invoked from an overridden method:</p>\n<pre><code>public interface I1 {\n     default String getGreeting() {\n        return &quot;Good Morning!&quot;;\n     }\n}\n\npublic interface I2 {\n    default String getGreeting() {\n        return &quot;Good Night!&quot;;\n    }\n}\n\npublic class C1 implements I1, I2 {       \n    @Override\n    public String getGreeting() {\n        return I1.super.getGreeting();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1399198241,"creation_date":1399197905,"answer_id":23454932,"question_id":22685930,"body_markdown":"If a class implements 2 interfaces both of which have a java-8 default method with the same signature (as in your example) the implementing class is [obliged to override the method][1]. The class [can still access the default method](https://stackoverflow.com/a/19976615/2187042) using `I1.super.getGreeting();`. It can access either, both or neither. So the following would be a valid implementation of C1\r\n\r\n    public class C1 implements I1, I2{\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(new C1().getGreeting());\r\n        }\r\n    \r\n        @Override //class is obliged to override this method\r\n        public String getGreeting() {\r\n            //can use both default methods\r\n            return I1.super.getGreeting()+I2.super.getGreeting();\r\n        }\r\n    \r\n        public String useOne() {\r\n            //can use the default method within annother method\r\n            return &quot;One &quot;+I1.super.getGreeting();\r\n        }\r\n    \r\n        public String useTheOther() {\r\n            //can use the default method within annother method\r\n            return &quot;Two &quot;+I2.super.getGreeting();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n  [1]: http://java8.in/java-8-default-method-in-interface/","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>If a class implements 2 interfaces both of which have a java-8 default method with the same signature (as in your example) the implementing class is <a href=\"http://java8.in/java-8-default-method-in-interface/\" rel=\"noreferrer\">obliged to override the method</a>. The class <a href=\"https://stackoverflow.com/a/19976615/2187042\">can still access the default method</a> using <code>I1.super.getGreeting();</code>. It can access either, both or neither. So the following would be a valid implementation of C1</p>\n\n<pre><code>public class C1 implements I1, I2{\n    public static void main(String[] args)\n    {\n        System.out.println(new C1().getGreeting());\n    }\n\n    @Override //class is obliged to override this method\n    public String getGreeting() {\n        //can use both default methods\n        return I1.super.getGreeting()+I2.super.getGreeting();\n    }\n\n    public String useOne() {\n        //can use the default method within annother method\n        return \"One \"+I1.super.getGreeting();\n    }\n\n    public String useTheOther() {\n        //can use the default method within annother method\n        return \"Two \"+I2.super.getGreeting();\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1410875762,"creation_date":1410875321,"answer_id":25870578,"question_id":22685930,"body_markdown":"There is a case where this actually works according to the resolution rules. If one of the interfaces extends one of the others.\r\n\r\nUsing the example from above:\r\n\r\n    public interface I2 extends I1 {\r\n        default String getGreeting() {\r\n            return &quot;Good Afternoon!&quot;;\r\n        }\r\n    }\r\n\r\nThe result would be:\r\n\r\nGood Afternoon!\r\n\r\nHowever, I believe this is going to be a big problem. The whole reason for default interfaces is to allow library developers to evolve apis without breaking implementers.\r\n\r\nUnderstandably they don&#39;t allow the methods to compile without the inheritance structure via extension because a library developer could potentially hijack behavior.\r\n\r\nHowever, this has the potential to be self defeating. If a class implements two interfaces that are not related from a hierarchical view, but both define the same default method signature, then the class that extends both interfaces will not compile. (as demonstrated above)\r\n\r\nIt is conceivable that two different library developers could decide to add default methods at different times using common signatures; in fact it is probable that this will happen in libraries that implement similar concepts such as math libraries. If you happen to be the sorry soul implementing both interfaces in the same class you will be broken on update. ","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>There is a case where this actually works according to the resolution rules. If one of the interfaces extends one of the others.</p>\n\n<p>Using the example from above:</p>\n\n<pre><code>public interface I2 extends I1 {\n    default String getGreeting() {\n        return \"Good Afternoon!\";\n    }\n}\n</code></pre>\n\n<p>The result would be:</p>\n\n<p>Good Afternoon!</p>\n\n<p>However, I believe this is going to be a big problem. The whole reason for default interfaces is to allow library developers to evolve apis without breaking implementers.</p>\n\n<p>Understandably they don't allow the methods to compile without the inheritance structure via extension because a library developer could potentially hijack behavior.</p>\n\n<p>However, this has the potential to be self defeating. If a class implements two interfaces that are not related from a hierarchical view, but both define the same default method signature, then the class that extends both interfaces will not compile. (as demonstrated above)</p>\n\n<p>It is conceivable that two different library developers could decide to add default methods at different times using common signatures; in fact it is probable that this will happen in libraries that implement similar concepts such as math libraries. If you happen to be the sorry soul implementing both interfaces in the same class you will be broken on update. </p>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522206796,"creation_date":1522206796,"answer_id":49525476,"question_id":22685930,"body_markdown":"I believe the rule is that the class implementing the duplicate default methods &#39;must&#39; override the implementation.. The following compiles and runs fine...\r\n\r\n    public class DupeDefaultInterfaceMethods {\r\n\r\n    interface FirstAbility {\r\n        public default boolean doSomething() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    interface SecondAbility {\r\n        public default boolean doSomething() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    class Dupe implements FirstAbility, SecondAbility {\r\n        @Override\r\n        public boolean doSomething() {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        DupeDefaultInterfaceMethods ddif = new DupeDefaultInterfaceMethods();\r\n        Dupe dupe = ddif.new Dupe();\r\n        System.out.println(dupe.doSomething());\r\n\r\n        }\r\n    }\r\n\r\n---\r\n    &gt; false","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>I believe the rule is that the class implementing the duplicate default methods 'must' override the implementation.. The following compiles and runs fine...</p>\n\n<pre><code>public class DupeDefaultInterfaceMethods {\n\ninterface FirstAbility {\n    public default boolean doSomething() {\n        return true;\n    }\n}\n\ninterface SecondAbility {\n    public default boolean doSomething() {\n        return true;\n    }\n}\n\nclass Dupe implements FirstAbility, SecondAbility {\n    @Override\n    public boolean doSomething() {\n        return false;\n    }\n}\n\npublic static void main(String[] args) {\n    DupeDefaultInterfaceMethods ddif = new DupeDefaultInterfaceMethods();\n    Dupe dupe = ddif.new Dupe();\n    System.out.println(dupe.doSomething());\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&gt; false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9857096,"reputation":1052,"user_id":7301274,"display_name":"Khyati Vara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601727193,"creation_date":1601727193,"answer_id":64184120,"question_id":22685930,"body_markdown":"Default methods in Java 8 can be viewed as a form of multiple inheritance (except that attribute can not be inherited).\r\n\r\nThe main motivation behind default methods is that if at some point we need to add a method to an existing interface, we can add a method without changing the existing implementation classes. In this way, the interface is still compatible with older versions. This is a cool feature. However, we should remember the motivation of using Default Methods and should keep the separation of interface and implementation.\r\n\r\n    interface First{ \r\n        // default method \r\n        default void show(){ \r\n             System.out.println(&quot;Default method implementation of First interface.&quot;); \r\n    }  } \r\n\r\n    interface Second{ \r\n       // Default method \r\n       default void show(){ \r\n            System.out.println(&quot;Default method implementation of Second interface.&quot;); \r\n    }  } \r\n\r\n    // Implementation class code \r\n    public class Example implements First, Second{ \r\n        // Overriding default show method \r\n        public void show(){\r\n           First.super.show();\r\n           Second.super.show();\r\n    } \r\n        public static void main(String args[]){ \r\n           Example e = new Example(); \r\n           e.show(); \r\n    }  }","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>Default methods in Java 8 can be viewed as a form of multiple inheritance (except that attribute can not be inherited).</p>\n<p>The main motivation behind default methods is that if at some point we need to add a method to an existing interface, we can add a method without changing the existing implementation classes. In this way, the interface is still compatible with older versions. This is a cool feature. However, we should remember the motivation of using Default Methods and should keep the separation of interface and implementation.</p>\n<pre><code>interface First{ \n    // default method \n    default void show(){ \n         System.out.println(&quot;Default method implementation of First interface.&quot;); \n}  } \n\ninterface Second{ \n   // Default method \n   default void show(){ \n        System.out.println(&quot;Default method implementation of Second interface.&quot;); \n}  } \n\n// Implementation class code \npublic class Example implements First, Second{ \n    // Overriding default show method \n    public void show(){\n       First.super.show();\n       Second.super.show();\n} \n    public static void main(String args[]){ \n       Example e = new Example(); \n       e.show(); \n}  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649415347,"creation_date":1649412623,"answer_id":71795225,"question_id":22685930,"body_markdown":"This is the simple way:\r\n\r\n    public interface Circle{\r\n     default String shape() {\r\n        return &quot;Circle drawn...&quot;;\r\n     }\r\n    }\r\n\r\n    public interface Rectangle{\r\n    default String shape() {\r\n        return &quot;Rectangle drawn...&quot;;\r\n    }\r\n    }\r\n\r\n    public class Main implements Circle, Rectangle{       \r\n    @Override\r\n    public String shape() {\r\n        return Circle.super.shape();// called using InterfaceName.super.methodName\r\n    }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; Circle drawn...","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>This is the simple way:</p>\n<pre><code>public interface Circle{\n default String shape() {\n    return &quot;Circle drawn...&quot;;\n }\n}\n\npublic interface Rectangle{\ndefault String shape() {\n    return &quot;Rectangle drawn...&quot;;\n}\n}\n\npublic class Main implements Circle, Rectangle{       \n@Override\npublic String shape() {\n    return Circle.super.shape();// called using InterfaceName.super.methodName\n}\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Circle drawn...</p>\n</blockquote>\n"}],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46804,"favorite_count":0,"down_vote_count":1,"up_vote_count":74,"accepted_answer_id":22685931,"answer_count":7,"score":73,"last_activity_date":1649415347,"creation_date":1395918929,"question_id":22685930,"body_markdown":"Suppose I have two interfaces:\r\n\r\n    public interface I1\r\n    {\r\n        default String getGreeting() {\r\n            return &quot;Good Morning!&quot;;\r\n        }\r\n    }\r\n\r\n    public interface I2\r\n    {\r\n        default String getGreeting() {\r\n            return &quot;Good Afternoon!&quot;;\r\n        }\r\n    }\r\n\r\nIf I want to implement both of them, what implementation will be used?\r\n\r\n    public class C1 implements I1, I2\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(new C1().getGreeting());\r\n        }\r\n    }\r\n","title":"Implementing two interfaces with two default methods of the same signature in Java 8","body":"<p>Suppose I have two interfaces:</p>\n\n<pre><code>public interface I1\n{\n    default String getGreeting() {\n        return \"Good Morning!\";\n    }\n}\n\npublic interface I2\n{\n    default String getGreeting() {\n        return \"Good Afternoon!\";\n    }\n}\n</code></pre>\n\n<p>If I want to implement both of them, what implementation will be used?</p>\n\n<pre><code>public class C1 implements I1, I2\n{\n    public static void main(String[] args)\n    {\n        System.out.println(new C1().getGreeting());\n    }\n}\n</code></pre>\n"},{"tags":["java","interface","closures","multiple-inheritance","java-8"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1319268923,"post_id":7857832,"comment_id":108928798,"body_markdown":"The video session to watch is here http://medianetwork.oracle.com/video/player/1113272518001 This is the designer talking about the feature called Virtual Extensions. He also talks about how this doesn&#39;t break backward compatibility.","body":"The video session to watch is here <a href=\"http://medianetwork.oracle.com/video/player/1113272518001\" rel=\"nofollow noreferrer\">medianetwork.oracle.com/video/player/1113272518001</a> This is the designer talking about the feature called Virtual Extensions. He also talks about how this doesn&#39;t break backward compatibility."},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":0,"creation_date":1319271332,"post_id":7857832,"comment_id":108928799,"body_markdown":"So the answer to my example is currently you get a compiler error.  But they are open to other solutions.","body":"So the answer to my example is currently you get a compiler error.  But they are open to other solutions."},{"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"score":0,"creation_date":1340548772,"post_id":7857832,"comment_id":14666540,"body_markdown":"Another useful material for this is http://cr.openjdk.java.net/~briangoetz/lambda/Defender%20Methods%20v4.pdf","body":"Another useful material for this is <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/Defender%20Methods%20v4.pdf\" rel=\"nofollow noreferrer\">cr.openjdk.java.net/~briangoetz/lambda/&hellip;</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1369669636,"post_id":7857832,"comment_id":24172414,"body_markdown":"Sidenote: the final syntax for default implementations of interface methods turned out to be different (code block instead of a reference to an external class).","body":"Sidenote: the final syntax for default implementations of interface methods turned out to be different (code block instead of a reference to an external class)."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1403316324,"post_id":7857832,"comment_id":37623935,"body_markdown":"Java has always had multiple inheritance of *types*.  Default methods add multiple inheritance of *behavior*, but not of *state*.  (Multiple inheritance of state in languages like C++ is where most of the trouble comes from.)","body":"Java has always had multiple inheritance of <i>types</i>.  Default methods add multiple inheritance of <i>behavior</i>, but not of <i>state</i>.  (Multiple inheritance of state in languages like C++ is where most of the trouble comes from.)"},{"owner":{"account_id":1789907,"reputation":9472,"user_id":1809377,"accept_rate":76,"display_name":"ajay"},"score":0,"creation_date":1424943699,"post_id":7857832,"comment_id":108928800,"body_markdown":"@Pyrolistical could you please explain what `open to other solutions` means?","body":"@Pyrolistical could you please explain what <code>open to other solutions</code> means?"},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":0,"creation_date":1425086305,"post_id":7857832,"comment_id":108928801,"body_markdown":"@ajay I forget, but its kind of moot now that Java 8 is out now.  You can run that code and see for yourself what actually happens.","body":"@ajay I forget, but its kind of moot now that Java 8 is out now.  You can run that code and see for yourself what actually happens."}],"answers":[{"tags":[],"owner":{"account_id":18906,"reputation":3169,"user_id":43814,"display_name":"H-Man2"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1319265730,"creation_date":1319265730,"answer_id":7857884,"question_id":7857832,"body_markdown":"The answer to the duplicate operation is:\r\n\r\n&gt; To solve multiple inheritance issue a class implementing two interfaces providing a default implementation for the same method name and signature must provide an implementation of the method. [[Full Article]][1]\r\n\r\nMy answer to your question is: Yes, it is a form of multiple inheritance, because you can inherit behavior from different parents. What&#39;s missing is to inherit states, i. e., attributes.\r\n\r\n\r\n  [1]: http://www.baptiste-wicht.com/2010/05/java-7-add-public-defender-methods-to-java-interfaces/","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>The answer to the duplicate operation is:</p>\n\n<blockquote>\n  <p>To solve multiple inheritance issue a class implementing two interfaces providing a default implementation for the same method name and signature must provide an implementation of the method. <a href=\"http://www.baptiste-wicht.com/2010/05/java-7-add-public-defender-methods-to-java-interfaces/\" rel=\"noreferrer\">[Full Article]</a></p>\n</blockquote>\n\n<p>My answer to your question is: Yes, it is a form of multiple inheritance, because you can inherit behavior from different parents. What's missing is to inherit states, i. e., attributes.</p>\n"},{"tags":[],"owner":{"account_id":1670747,"reputation":1545,"user_id":1537246,"accept_rate":26,"display_name":"OlliP"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343290185,"creation_date":1343290185,"answer_id":11664997,"question_id":7857832,"body_markdown":"&gt; My answer to your question is: Yes, it is a form of multiple inheritance, because you can inherit behavior from different parents. What&#39;s missing is to inherit states, i. e., attributes.\r\n\r\nYes, but you can add getters and setters to your interface that the implementing classes then must implement. Nevertheless, the implementing classes don&#39;t inherit attributes. So, AFAICS, it&#39;s more like a trait-style solution rather than a multiple inheritance style solution. ","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<blockquote>\n  <p>My answer to your question is: Yes, it is a form of multiple inheritance, because you can inherit behavior from different parents. What's missing is to inherit states, i. e., attributes.</p>\n</blockquote>\n\n<p>Yes, but you can add getters and setters to your interface that the implementing classes then must implement. Nevertheless, the implementing classes don't inherit attributes. So, AFAICS, it's more like a trait-style solution rather than a multiple inheritance style solution. </p>\n"},{"tags":[],"owner":{"account_id":1636041,"reputation":376,"user_id":1509498,"display_name":"Enkk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376540927,"creation_date":1376540927,"answer_id":18246336,"question_id":7857832,"body_markdown":"I know this is a old post, but as i&#39;m working with this stuff...\r\n\r\nYou will have an error from the compiler, telling you that:\r\n\r\n&gt;ï¿¼ class TimeTravelingStudent inherits unrelated defaults for present() from types Attendance and Timeline\r\n&gt; reference to present is ambiguous, both method present() in Timeline and method present() in Attendance match.","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>I know this is a old post, but as i'm working with this stuff...</p>\n\n<p>You will have an error from the compiler, telling you that:</p>\n\n<blockquote>\n  <p>ï¿¼ class TimeTravelingStudent inherits unrelated defaults for present() from types Attendance and Timeline\n  reference to present is ambiguous, both method present() in Timeline and method present() in Attendance match.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3333476,"reputation":1769,"user_id":2801774,"display_name":"Peter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389024954,"creation_date":1389024954,"answer_id":20954233,"question_id":7857832,"body_markdown":"As far as I see it, it is no multiple inheritance because they are stateless.\r\nSo virtual extension methods don&#39;t support full object or class functionality. \r\n","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>As far as I see it, it is no multiple inheritance because they are stateless.\nSo virtual extension methods don't support full object or class functionality. </p>\n"},{"tags":[],"owner":{"account_id":2572252,"reputation":121,"user_id":2230652,"display_name":"mithil-studytrails"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407134783,"creation_date":1407134783,"answer_id":25113053,"question_id":7857832,"body_markdown":"If anyone&#39;s still looking for an answer, in case a class implements two interfaces with the same default method then the class needs to resolve the disambiguity by providing an implementation of its own. Look at [this][1] tutorial for more details on how inheritance in default methods work.\r\n\r\n\r\n  [1]: http://www.studytrails.com/java/java8/java8_default_methods.jsp","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>If anyone's still looking for an answer, in case a class implements two interfaces with the same default method then the class needs to resolve the disambiguity by providing an implementation of its own. Look at <a href=\"http://www.studytrails.com/java/java8/java8_default_methods.jsp\" rel=\"nofollow\">this</a> tutorial for more details on how inheritance in default methods work.</p>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540013552,"creation_date":1468904893,"answer_id":38449973,"question_id":7857832,"body_markdown":"In short: it&#39;s a compile time error, must override the method by hand in the implementation.\r\n\r\n---\r\nPurpose of default method\r\n---\r\n\r\nThe major purpose to introduce default method in Java 8, is to make interface extendable, without breaking existing implementations (there are so many 3rd party Java libraries).\r\n\r\nAnd `multiple inheritance` like in C++ is actually intended to be avoided, that&#39;s definitely not the purpose of default method in Java.\r\n\r\n---\r\nHow to override\r\n---\r\n\r\n2 options:\r\n\r\n - Override the method, with its own logic.\r\n - Override the method, call one of the interface&#39;s method via `super`, format: `&lt;interface_name&gt;.super.&lt;method_name&gt;();`\r\n\r\nTips:\r\n\r\n - method from interface is default to public, so don&#39;t forget to add `public` keyword when override it.\r\n \r\n","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>In short: it's a compile time error, must override the method by hand in the implementation.</p>\n\n<hr>\n\n<h2>Purpose of default method</h2>\n\n<p>The major purpose to introduce default method in Java 8, is to make interface extendable, without breaking existing implementations (there are so many 3rd party Java libraries).</p>\n\n<p>And <code>multiple inheritance</code> like in C++ is actually intended to be avoided, that's definitely not the purpose of default method in Java.</p>\n\n<hr>\n\n<h2>How to override</h2>\n\n<p>2 options:</p>\n\n<ul>\n<li>Override the method, with its own logic.</li>\n<li>Override the method, call one of the interface's method via <code>super</code>, format: <code>&lt;interface_name&gt;.super.&lt;method_name&gt;();</code></li>\n</ul>\n\n<p>Tips:</p>\n\n<ul>\n<li>method from interface is default to public, so don't forget to add <code>public</code> keyword when override it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1494531255,"creation_date":1494531255,"answer_id":43924137,"question_id":7857832,"body_markdown":"There are **two** scenarios:\r\n\r\n1) First, that was mentioned, where there is **no most specific interface**\r\n\r\n    public interface A {\r\n       default void doStuff(){ /* implementation */ }\r\n    }\r\n    \r\n    public interface B {\r\n       default void doStuff() { /* implementation */ } \r\n    }\r\n    \r\n    public class C implements A, B {\r\n    // option 1: own implementation\r\n    // OR\r\n    // option 2: use new syntax to call specific interface or face compilation error\r\n      void doStuff(){\r\n          B.super.doStuff();\r\n      }\r\n    }\r\n\r\n2) Second, when there **IS a more specific interface:**\r\n\r\n\r\n       public interface A {\r\n           default void doStuff() { /* implementation */ } \r\n        }\r\n        \r\n        public interface B extends A {\r\n           default void doStuff() { /* implementation */ } \r\n        }\r\n        \r\n        public class C implements A, B {\r\n        // will use method from B, as it is &quot;closer&quot; to C\r\n        }","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>There are <strong>two</strong> scenarios:</p>\n\n<p>1) First, that was mentioned, where there is <strong>no most specific interface</strong></p>\n\n<pre><code>public interface A {\n   default void doStuff(){ /* implementation */ }\n}\n\npublic interface B {\n   default void doStuff() { /* implementation */ } \n}\n\npublic class C implements A, B {\n// option 1: own implementation\n// OR\n// option 2: use new syntax to call specific interface or face compilation error\n  void doStuff(){\n      B.super.doStuff();\n  }\n}\n</code></pre>\n\n<p>2) Second, when there <strong>IS a more specific interface:</strong></p>\n\n<pre><code>   public interface A {\n       default void doStuff() { /* implementation */ } \n    }\n\n    public interface B extends A {\n       default void doStuff() { /* implementation */ } \n    }\n\n    public class C implements A, B {\n    // will use method from B, as it is \"closer\" to C\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1328876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545826076,"creation_date":1545826076,"answer_id":53931908,"question_id":7857832,"body_markdown":" &quot;How will we distinguish the methods&quot; was a question that was put on Stackoverflow and referred to this question https://stackoverflow.com/questions/15968987/concrete-methods-in-interfaces-java1-8  \r\n\r\nThe following is an example that should answer that question: \r\n\r\n    interface A{\r\n    default public void m(){\r\n    System.out.println(&quot;Interface A: m()&quot;);\r\n    }\r\n    }\r\n    \r\n    interface B{\r\n    default public void m(){\r\n    System.out.println(&quot;Interface B: m()&quot;);\r\n    }\r\n    }\r\n    \r\n     class C implements A,B { \r\n         \r\n     public void m(){\r\n      System.out.println(&quot;Concrete C: m()&quot;);   \r\n     }\r\n    \r\n    public static void main(String[] args) {\r\n       C aC = new C();\r\n       aC.m();\r\n       new A(){}.m();\r\n       new B(){}.m();\r\n    }\r\n    }\r\n\r\nClass C above **must implement** its own **concrete method** of the interfaces A and B. Namely:\r\n\r\n         \r\n     public void m(){\r\n      System.out.println(&quot;Interface C: m()&quot;);   \r\n     }\r\n\r\nTo call a **concrete implementation** of a **method** from a **specific interface**, you can **instantiate** the **interface** and *explicitly call* the *concrete method* of that *interface* \r\n\r\nFor example, the following code calls the *concrete* implementation of the method **m()** from *interface A*:\r\n\r\n    new A(){}.m();\r\n\r\nThe output of the above would be: \r\n\r\n*Interface A: m()*\r\n\r\n\r\n","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>\"How will we distinguish the methods\" was a question that was put on Stackoverflow and referred to this question <a href=\"https://stackoverflow.com/questions/15968987/concrete-methods-in-interfaces-java1-8\">concrete methods in interfaces Java1.8</a>  </p>\n\n<p>The following is an example that should answer that question: </p>\n\n<pre><code>interface A{\ndefault public void m(){\nSystem.out.println(\"Interface A: m()\");\n}\n}\n\ninterface B{\ndefault public void m(){\nSystem.out.println(\"Interface B: m()\");\n}\n}\n\n class C implements A,B { \n\n public void m(){\n  System.out.println(\"Concrete C: m()\");   \n }\n\npublic static void main(String[] args) {\n   C aC = new C();\n   aC.m();\n   new A(){}.m();\n   new B(){}.m();\n}\n}\n</code></pre>\n\n<p>Class C above <strong>must implement</strong> its own <strong>concrete method</strong> of the interfaces A and B. Namely:</p>\n\n<pre><code> public void m(){\n  System.out.println(\"Interface C: m()\");   \n }\n</code></pre>\n\n<p>To call a <strong>concrete implementation</strong> of a <strong>method</strong> from a <strong>specific interface</strong>, you can <strong>instantiate</strong> the <strong>interface</strong> and <em>explicitly call</em> the <em>concrete method</em> of that <em>interface</em> </p>\n\n<p>For example, the following code calls the <em>concrete</em> implementation of the method <strong>m()</strong> from <em>interface A</em>:</p>\n\n<pre><code>new A(){}.m();\n</code></pre>\n\n<p>The output of the above would be: </p>\n\n<p><em>Interface A: m()</em></p>\n"}],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21334,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"answer_count":8,"score":86,"last_activity_date":1649415331,"creation_date":1319264743,"question_id":7857832,"body_markdown":"A new feature coming in JDK 8 allows you to add to an existing interface while preserving binary compatibility.\r\n\r\nThe syntax is like\r\n\r\n    public interface SomeInterface() {\r\n      void existingInterface();\r\n      void newInterface() default SomeClass.defaultImplementation;\r\n    }\r\n\r\nThis way for all existing implementations of `SomeInterface` when they upgrade to this new version they don&#39;t all suddenly have compiles errors around `newInterface()`.\r\n\r\nWhile this is neat, what happens when you are implementing two interfaces which both have added a new defaulted method which you did not implement?  Let me explain with an example.\r\n\r\n    public interface Attendance {\r\n       boolean present() default DefaultAttendance.present;\r\n    }\r\n\r\n    public interface Timeline {\r\n       boolean present() default DefaultTimeline.present;\r\n    }\r\n\r\n    public class TimeTravelingStudent implements Attendance, Timeline {\r\n\r\n    }\r\n\r\n    // which code gets called?\r\n    new TimeTravelingStudent().present();\r\n\r\nHas this been defined as part of JDK 8 yet?\r\n\r\nI found the Java gods talking about something similar here http://cs.oswego.edu/pipermail/lambda-lib/2011-February/000068.html, but its part of private mailing list and I cannot ask them directly.\r\n\r\n\r\nSee this for more details on how defaults are going to be used in JDK 8 and extending the Collection interface to support lambdas:\r\nhttps://oracleus.wingateweb.com/published/oracleus2011/sessions/25066/25066_Cho223662.pdf","title":"Are defaults in JDK 8 a form of multiple inheritance in Java?","body":"<p>A new feature coming in JDK 8 allows you to add to an existing interface while preserving binary compatibility.</p>\n\n<p>The syntax is like</p>\n\n<pre><code>public interface SomeInterface() {\n  void existingInterface();\n  void newInterface() default SomeClass.defaultImplementation;\n}\n</code></pre>\n\n<p>This way for all existing implementations of <code>SomeInterface</code> when they upgrade to this new version they don't all suddenly have compiles errors around <code>newInterface()</code>.</p>\n\n<p>While this is neat, what happens when you are implementing two interfaces which both have added a new defaulted method which you did not implement?  Let me explain with an example.</p>\n\n<pre><code>public interface Attendance {\n   boolean present() default DefaultAttendance.present;\n}\n\npublic interface Timeline {\n   boolean present() default DefaultTimeline.present;\n}\n\npublic class TimeTravelingStudent implements Attendance, Timeline {\n\n}\n\n// which code gets called?\nnew TimeTravelingStudent().present();\n</code></pre>\n\n<p>Has this been defined as part of JDK 8 yet?</p>\n\n<p>I found the Java gods talking about something similar here <a href=\"http://cs.oswego.edu/pipermail/lambda-lib/2011-February/000068.html\" rel=\"noreferrer\">http://cs.oswego.edu/pipermail/lambda-lib/2011-February/000068.html</a>, but its part of private mailing list and I cannot ask them directly.</p>\n\n<p>See this for more details on how defaults are going to be used in JDK 8 and extending the Collection interface to support lambdas:\n<a href=\"https://oracleus.wingateweb.com/published/oracleus2011/sessions/25066/25066_Cho223662.pdf\" rel=\"noreferrer\">https://oracleus.wingateweb.com/published/oracleus2011/sessions/25066/25066_Cho223662.pdf</a></p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"score":0,"creation_date":1649415432,"post_id":71795670,"comment_id":126875196,"body_markdown":"Please clarify if `A__B.C.D` should be valid or not.","body":"Please clarify if <code>A__B.C.D</code> should be valid or not."},{"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"score":2,"creation_date":1649417691,"post_id":71795670,"comment_id":126876018,"body_markdown":"A___B should be valid as it is a word character","body":"A___B should be valid as it is a word character"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649415106,"creation_date":1649415106,"answer_id":71795744,"question_id":71795670,"body_markdown":"You may use this regex for matching these combinations:\r\n\r\n```Java\r\n^\\w+(?:\\.\\w+){0,4}(?:-\\w+(?:\\.\\w+){0,4})?$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/lxCFXy/1\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `\\w+`: Match 1+ word characters\r\n- `(?:\\.\\w+){0,4}`: Match 0 or 4 words separated by a dot\r\n- `(?:`: Start non-capture group\r\n  - `-`: Match a hyphen\r\n  - `\\w+`: Match 1+ word characters\r\n  - `(?:\\.\\w+){0,4}`: Match 0 or 4 words separated by a dot\r\n- `)?`: End non-capture group. `?` makes it an optional group\r\n- `$`: End","title":"how to match a group of word and hypen characters with a separator that can occur zero or n times?","body":"<p>You may use this regex for matching these combinations:</p>\n<pre><code>^\\w+(?:\\.\\w+){0,4}(?:-\\w+(?:\\.\\w+){0,4})?$\n</code></pre>\n<p><a href=\"https://regex101.com/r/lxCFXy/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>\\w+</code>: Match 1+ word characters</li>\n<li><code>(?:\\.\\w+){0,4}</code>: Match 0 or 4 words separated by a dot</li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>-</code>: Match a hyphen</li>\n<li><code>\\w+</code>: Match 1+ word characters</li>\n<li><code>(?:\\.\\w+){0,4}</code>: Match 0 or 4 words separated by a dot</li>\n</ul>\n</li>\n<li><code>)?</code>: End non-capture group. <code>?</code> makes it an optional group</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649415106,"creation_date":1649414795,"question_id":71795670,"body_markdown":"My regex to match the below pattern doesn&#39;t work . Please can you let me know where I am going wrong?\r\n\r\nI can have groups of word characters and hyphen separated by zero to four dots\r\n\r\n    [\\w-]*(\\.\\w*)?\\.\\w*\\.\\w*\\.\\w*\r\n\r\nSOME EXAMPLES ARE AS BLEOW\r\n\r\n    A.B.C.D.E\r\n    A\r\n    A.B\r\n    A-B.C\r\n    A_B-C.D.E\r\n    A.B-C.D.E\r\n    A.B.C_D-E.F\r\n    A.B.C","title":"how to match a group of word and hypen characters with a separator that can occur zero or n times?","body":"<p>My regex to match the below pattern doesn't work . Please can you let me know where I am going wrong?</p>\n<p>I can have groups of word characters and hyphen separated by zero to four dots</p>\n<pre><code>[\\w-]*(\\.\\w*)?\\.\\w*\\.\\w*\\.\\w*\n</code></pre>\n<p>SOME EXAMPLES ARE AS BLEOW</p>\n<pre><code>A.B.C.D.E\nA\nA.B\nA-B.C\nA_B-C.D.E\nA.B-C.D.E\nA.B.C_D-E.F\nA.B.C\n</code></pre>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":372544,"reputation":325,"user_id":721650,"accept_rate":100,"display_name":"kvgr"},"score":1,"creation_date":1470138320,"post_id":37180378,"comment_id":64815085,"body_markdown":"Hi, did you find the solution? I am battling with the same problem. I used the tutorial here http://stackoverflow.com/questions/27406303/opencv-in-android-studio ..","body":"Hi, did you find the solution? I am battling with the same problem. I used the tutorial here <a href=\"http://stackoverflow.com/questions/27406303/opencv-in-android-studio\" title=\"opencv in android studio\">stackoverflow.com/questions/27406303/opencv-in-android-studi&zwnj;&#8203;o</a> .."},{"owner":{"account_id":7214282,"reputation":881,"user_id":5507319,"accept_rate":43,"display_name":"Yirga"},"score":0,"creation_date":1490157787,"post_id":37180378,"comment_id":72982193,"body_markdown":"@Mohammad have you solved your problem i having the same problem can share your answer if you solved it?","body":"@Mohammad have you solved your problem i having the same problem can share your answer if you solved it?"},{"owner":{"account_id":3056412,"reputation":386,"user_id":2589909,"display_name":"Azahar"},"score":0,"creation_date":1589260030,"post_id":37180378,"comment_id":109214660,"body_markdown":"someone in May 2020, and want to solve using deprecated ndk, Please add &#39;  \n ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;\n        }&#39;\ninside defaultConfig(App level Gradle)\nand add &#39;android.useDeprecatedNdk=true&#39; inside gradle.properties.","body":"someone in May 2020, and want to solve using deprecated ndk, Please add &#39;    ndk {             abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;         }&#39; inside defaultConfig(App level Gradle) and add &#39;android.useDeprecatedNdk=true&#39; inside gradle.properties."},{"owner":{"account_id":15146658,"reputation":389,"user_id":10930194,"display_name":"Freddy Daniel"},"score":0,"creation_date":1616812901,"post_id":37180378,"comment_id":118128643,"body_markdown":"I also have the same problem.. I&#39;m using JavaCameraView and after 20 seconds it throw that message and reset the app","body":"I also have the same problem.. I&#39;m using JavaCameraView and after 20 seconds it throw that message and reset the app"}],"answers":[{"tags":[],"owner":{"account_id":7244931,"reputation":31,"user_id":6183171,"display_name":"Icehour"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489412521,"creation_date":1481858196,"answer_id":41176743,"question_id":37180378,"body_markdown":"You can try to include `opencv_java3` into `jniLibs` folder, like this:\r\n\r\n[![Android Studio Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UBItS.jpg","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>You can try to include <code>opencv_java3</code> into <code>jniLibs</code> folder, like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UBItS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UBItS.jpg\" alt=\"Android Studio Image\"></a></p>\n"},{"tags":[],"owner":{"account_id":10425271,"reputation":361,"user_id":7686765,"display_name":"FD3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494424367,"creation_date":1494424367,"answer_id":43894529,"question_id":37180378,"body_markdown":"Over a year later but I found this to work for me.  In you app Module gradle file, add:\r\n\r\n    splits {\r\n            abi {\r\n                enable true\r\n                reset()\r\n                include &#39;x86&#39;, &#39;armeabi-v7a&#39;, &#39;x86_64&#39;\r\n                universalApk true\r\n            }\r\n        }\r\n    \r\nThis should be put in with the android brackets.  Obviously adjust your includes for which ever you may need.","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>Over a year later but I found this to work for me.  In you app Module gradle file, add:</p>\n\n<pre><code>splits {\n        abi {\n            enable true\n            reset()\n            include 'x86', 'armeabi-v7a', 'x86_64'\n            universalApk true\n        }\n    }\n</code></pre>\n\n<p>This should be put in with the android brackets.  Obviously adjust your includes for which ever you may need.</p>\n"},{"tags":[],"owner":{"account_id":13455897,"reputation":71,"user_id":9709476,"display_name":"Grubsy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524821972,"creation_date":1524821972,"answer_id":50059567,"question_id":37180378,"body_markdown":"Most online tutorial will tell you to add just `armeabi-v7a` and `x86_64` into your `jniLibs` folder, but this can cause errors in recent versions of OpenCV. The following briefly describes a few tweaks I used to fix this error when I was experiencing the same issue.\r\n\r\n**Solution 1:**\r\n\r\nMake sure the JNI folder you are placing the OpenCV libraries in is named `jniLibs`\r\n\r\n[jniLibs Folder][1]\r\n\r\n**Solution 2:**\r\n\r\nCopy *ALL* the directories found in `OpenCV-android-skd/sdk/native/libs` to your `jniLibs` folder.\r\n\r\n[jniLibs folder with all OpenCV libraries added][2]\r\n\r\n**Recommended:**\r\n\r\nEven though it is a separate issue involving the emulator, you should also add the code snippet posted by [FD3](https://stackoverflow.com/a/43894529/9709476) in your app Module Gradle file. This will prevent the [INSTALL_FAILED_NO_MATCHING_ABIS](https://stackoverflow.com/q/24572052/9709476) error from occuring after attempting to run your app on an emulator.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4rU7e.png\r\n  [2]: https://i.stack.imgur.com/2iv0m.png","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>Most online tutorial will tell you to add just <code>armeabi-v7a</code> and <code>x86_64</code> into your <code>jniLibs</code> folder, but this can cause errors in recent versions of OpenCV. The following briefly describes a few tweaks I used to fix this error when I was experiencing the same issue.</p>\n\n<p><strong>Solution 1:</strong></p>\n\n<p>Make sure the JNI folder you are placing the OpenCV libraries in is named <code>jniLibs</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/4rU7e.png\" rel=\"noreferrer\">jniLibs Folder</a></p>\n\n<p><strong>Solution 2:</strong></p>\n\n<p>Copy <em>ALL</em> the directories found in <code>OpenCV-android-skd/sdk/native/libs</code> to your <code>jniLibs</code> folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2iv0m.png\" rel=\"noreferrer\">jniLibs folder with all OpenCV libraries added</a></p>\n\n<p><strong>Recommended:</strong></p>\n\n<p>Even though it is a separate issue involving the emulator, you should also add the code snippet posted by <a href=\"https://stackoverflow.com/a/43894529/9709476\">FD3</a> in your app Module Gradle file. This will prevent the <a href=\"https://stackoverflow.com/q/24572052/9709476\">INSTALL_FAILED_NO_MATCHING_ABIS</a> error from occuring after attempting to run your app on an emulator.</p>\n"},{"tags":[],"owner":{"account_id":119801,"reputation":1754,"user_id":311786,"accept_rate":55,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1584099430,"creation_date":1584099430,"answer_id":60669766,"question_id":37180378,"body_markdown":"If someone is still (March 2020) searching for this error -\r\n\r\n     E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\r\n\r\nand ends up here on this StackOverflow discussion, here is a helpful clarification from the OpenCV contributor on their site itself. \r\n\r\n&gt; Ignore this error message. &quot;Info library&quot; is used for special Android\r\n&gt; configurations, like builds with CUDA support.\r\n\r\nPlease see this (currently open) issue here - https://github.com/opencv/opencv/issues/15567\r\n","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>If someone is still (March 2020) searching for this error -</p>\n\n<pre><code> E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\n</code></pre>\n\n<p>and ends up here on this StackOverflow discussion, here is a helpful clarification from the OpenCV contributor on their site itself. </p>\n\n<blockquote>\n  <p>Ignore this error message. \"Info library\" is used for special Android\n  configurations, like builds with CUDA support.</p>\n</blockquote>\n\n<p>Please see this (currently open) issue here - <a href=\"https://github.com/opencv/opencv/issues/15567\" rel=\"noreferrer\">https://github.com/opencv/opencv/issues/15567</a></p>\n"},{"tags":[],"owner":{"account_id":14823131,"reputation":1,"user_id":14019579,"display_name":"Shubham Rimjha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621581229,"creation_date":1621581229,"answer_id":67632337,"question_id":37180378,"body_markdown":"possibly missing **libc++_shared.so** library that comes with the Android NDK as explained in https://stackoverflow.com/a/66692717/14019579.\r\n\r\n**Solution**  \r\n1. Download the whole ndk or download [**libc++_shared.so**](https://github.com/urho3d/android-ndk/blob/master/sources/cxx-stl/llvm-libc%2B%2B/libs/armeabi-v7a/libc%2B%2B_shared.so)\r\n2. copy this library to all the subfolders. [Your proj structure should look like this now][1].\r\n\r\n*doing this after the first link worked on Studio V4.2.1 and OpenCV 4.5.2*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HEoMC.png","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>possibly missing <strong>libc++_shared.so</strong> library that comes with the Android NDK as explained in <a href=\"https://stackoverflow.com/a/66692717/14019579\">https://stackoverflow.com/a/66692717/14019579</a>.</p>\n<p><strong>Solution</strong></p>\n<ol>\n<li>Download the whole ndk or download <a href=\"https://github.com/urho3d/android-ndk/blob/master/sources/cxx-stl/llvm-libc%2B%2B/libs/armeabi-v7a/libc%2B%2B_shared.so\" rel=\"nofollow noreferrer\"><strong>libc++_shared.so</strong></a></li>\n<li>copy this library to all the subfolders. <a href=\"https://i.stack.imgur.com/HEoMC.png\" rel=\"nofollow noreferrer\">Your proj structure should look like this now</a>.</li>\n</ol>\n<p><em>doing this after the first link worked on Studio V4.2.1 and OpenCV 4.5.2</em></p>\n"}],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27584,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1649415066,"creation_date":1463038935,"question_id":37180378,"body_markdown":"I already setup OpenCV SDK in Android Studio (https://www.learn2crack.com/2016/03/setup-opencv-sdk-android-studio.html) but it seems I got this kind of error message.\r\n\r\n    05-12 03:30:08.819 5480-5480/my.xxxxx I/art: Late-enabling -Xcheck:jni\r\n    05-12 03:30:08.925 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to get library list\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Library list: &quot;&quot;\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: First attempt to load libs\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to init OpenCV libs\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to load library opencv_java3\r\n    05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Cannot load library &quot;opencv_java3&quot;\r\n\r\nI already include `opencv_java3` into `JNI` folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/yemVE.png","title":"Android - OpenCV error: Cannot load info library for OpenCV","body":"<p>I already setup OpenCV SDK in Android Studio (<a href=\"https://www.learn2crack.com/2016/03/setup-opencv-sdk-android-studio.html\" rel=\"noreferrer\">https://www.learn2crack.com/2016/03/setup-opencv-sdk-android-studio.html</a>) but it seems I got this kind of error message.</p>\n\n<pre><code>05-12 03:30:08.819 5480-5480/my.xxxxx I/art: Late-enabling -Xcheck:jni\n05-12 03:30:08.925 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to get library list\n05-12 03:30:08.926 5480-5480/my.xxxxx E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\n05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Library list: \"\"\n05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: First attempt to load libs\n05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to init OpenCV libs\n05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Trying to load library opencv_java3\n05-12 03:30:08.926 5480-5480/my.xxxxx D/OpenCV/StaticHelper: Cannot load library \"opencv_java3\"\n</code></pre>\n\n<p>I already include <code>opencv_java3</code> into <code>JNI</code> folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yemVE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yemVE.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","opencv","gradle","dependencies"],"comments":[{"owner":{"account_id":15146658,"reputation":389,"user_id":10930194,"display_name":"Freddy Daniel"},"score":0,"creation_date":1619647991,"post_id":67300498,"comment_id":118972245,"body_markdown":"https://github.com/alcarazolabs/surflaweb-scripts/blob/main/4-Manual%20para%20agregar%20opencv%20a%20android%20studio%202021%20v2.pdf","body":"<a href=\"https://github.com/alcarazolabs/surflaweb-scripts/blob/main/4-Manual%20para%20agregar%20opencv%20a%20android%20studio%202021%20v2.pdf\" rel=\"nofollow noreferrer\">github.com/alcarazolabs/surflaweb-scripts/blob/main/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12582966,"reputation":725,"user_id":9152984,"accept_rate":50,"display_name":"Powercoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619640138,"creation_date":1619640138,"answer_id":67307152,"question_id":67300498,"body_markdown":"Seems like I have found the solution **(worked for OpenCV 3)**. It was needed to copy folder `sdk\\native\\libs` from downloaded SDK into the project&#39;s root and name it `jniLibs`. Each of its forders has single file named `libopencv_java3.so`, as follows:\r\n\r\n[![jniLibs in project structure][1]][1]\r\n\r\nAlso, probably, it is useful to add this code to your main activity:\r\n\r\n```\r\nstatic {\r\n    if (OpenCVLoader.initDebug()) {\r\n        Log.d(TAG, &quot;OPENCV INITIALIZATION SUCCEEDED&quot;);\r\n    } else {\r\n        Log.d(TAG, &quot;OPENCV INITIALIZATION FAILED BUT TRYING TO RELOAD&quot;);\r\n        System.loadLibrary(&quot;opencv_java3&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Bad side:** these files add 80 Mb to your APK after build. Better solutions are welcome.\r\n\r\n  [1]: https://i.stack.imgur.com/ddKqr.png","title":"Android, opencv - No implementation found for long org.opencv.core.Mat.n_Mat() when trying to initialize Mat","body":"<p>Seems like I have found the solution <strong>(worked for OpenCV 3)</strong>. It was needed to copy folder <code>sdk\\native\\libs</code> from downloaded SDK into the project's root and name it <code>jniLibs</code>. Each of its forders has single file named <code>libopencv_java3.so</code>, as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/ddKqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddKqr.png\" alt=\"jniLibs in project structure\" /></a></p>\n<p>Also, probably, it is useful to add this code to your main activity:</p>\n<pre><code>static {\n    if (OpenCVLoader.initDebug()) {\n        Log.d(TAG, &quot;OPENCV INITIALIZATION SUCCEEDED&quot;);\n    } else {\n        Log.d(TAG, &quot;OPENCV INITIALIZATION FAILED BUT TRYING TO RELOAD&quot;);\n        System.loadLibrary(&quot;opencv_java3&quot;);\n    }\n}\n</code></pre>\n<p><strong>Bad side:</strong> these files add 80 Mb to your APK after build. Better solutions are welcome.</p>\n"},{"tags":[],"owner":{"account_id":6465383,"reputation":363,"user_id":5007540,"display_name":"JOE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649415012,"creation_date":1619667781,"answer_id":67310743,"question_id":67300498,"body_markdown":"It is suggested to use CMake to link the SDK rather than copying the compiled file.\r\n\r\nYou can add OpenCV_DIR cmake argument in your application build.gradle under\r\nandroid &gt; defaultConfig &gt; externalNativeBuild &gt; cmake\r\n\r\n    arguments &quot;-DOpenCV_DIR=&quot; + file(&#39;../sdk&#39;).absolutePath + &quot;/native/jni&quot;,\r\n            &quot;-DANDROID_TOOLCHAIN=clang&quot;,\r\n            &quot;-DANDROID_STL=c++_shared&quot;\r\n\r\nThen use find_package to install OpenCV in CMake\r\n\r\n    set(ANDROID_OPENCV_COMPONENTS &quot;opencv_java&quot; CACHE STRING &quot;&quot;)\r\n    message(STATUS &quot;ANDROID_ABI=${ANDROID_ABI}&quot;)\r\n    find_package(OpenCV REQUIRED COMPONENTS ${ANDROID_OPENCV_COMPONENTS})\r\n","title":"Android, opencv - No implementation found for long org.opencv.core.Mat.n_Mat() when trying to initialize Mat","body":"<p>It is suggested to use CMake to link the SDK rather than copying the compiled file.</p>\n<p>You can add OpenCV_DIR cmake argument in your application build.gradle under\nandroid &gt; defaultConfig &gt; externalNativeBuild &gt; cmake</p>\n<pre><code>arguments &quot;-DOpenCV_DIR=&quot; + file('../sdk').absolutePath + &quot;/native/jni&quot;,\n        &quot;-DANDROID_TOOLCHAIN=clang&quot;,\n        &quot;-DANDROID_STL=c++_shared&quot;\n</code></pre>\n<p>Then use find_package to install OpenCV in CMake</p>\n<pre><code>set(ANDROID_OPENCV_COMPONENTS &quot;opencv_java&quot; CACHE STRING &quot;&quot;)\nmessage(STATUS &quot;ANDROID_ABI=${ANDROID_ABI}&quot;)\nfind_package(OpenCV REQUIRED COMPONENTS ${ANDROID_OPENCV_COMPONENTS})\n</code></pre>\n"}],"owner":{"account_id":12582966,"reputation":725,"user_id":9152984,"accept_rate":50,"display_name":"Powercoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67307152,"answer_count":2,"score":1,"last_activity_date":1649415012,"creation_date":1619613894,"question_id":67300498,"body_markdown":"I want to do some things using OpenCV and I&#39;m trying to create `Mat` object:\r\n\r\n```\r\nimport org.opencv.core.CvType;\r\nimport org.opencv.core.Mat;\r\n...\r\nMat imageMat = new Mat(CvType.CV_8U);\r\n```\r\n\r\nOn this line I get the error:\r\n\r\n```\r\n2021-04-28 15:13:44.657 23613-23613/xxxx.yyyy E/art: No implementation found for long org.opencv.core.Mat.n_Mat() (tried Java_org_opencv_core_Mat_n_1Mat and Java_org_opencv_core_Mat_n_1Mat__)\r\n2021-04-28 15:13:44.676 23613-23613/xxxx.yyyy D/AndroidRuntime: Shutting down VM\r\n2021-04-28 15:13:44.686 23613-23613/xxxx.yyyy E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: xxxx.yyyy, PID: 23613\r\n    java.lang.UnsatisfiedLinkError: No implementation found for long org.opencv.core.Mat.n_Mat() (tried Java_org_opencv_core_Mat_n_1Mat and Java_org_opencv_core_Mat_n_1Mat__)\r\n        at org.opencv.core.Mat.n_Mat(Native Method)\r\n        at org.opencv.core.Mat.&lt;init&gt;(Mat.java:26)\r\n        at org.opencv.core.MatOfPoint2f.&lt;init&gt;(MatOfPoint2f.java:12)\r\n        at xxxx.yyyy.Utils.quadrilateralToRect(Utils.java:77)\r\n        at xxxx.yyyy.activities.CropActivity$1.onClick(CropActivity.java:74)\r\n        at android.view.View.performClick(View.java:5619)\r\n        at android.view.View$PerformClick.run(View.java:22298)\r\n        at android.os.Handler.handleCallback(Handler.java:754)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:165)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\r\n```\r\n\r\nI have OpenCV as separate module in my android project and have imported it into my main module by adding `implementation project(path: &#39;:OpenCV&#39;)` in its build.gradle in `dependencies` section.\r\n\r\n\r\nI have seen one [simillar][1] question but it is answered with using OpenCvManager which I wouldn&#39;t like to use in my project. If I&#39;m getting right, my users will be forced to install this manager separately before using my app, right? It is disgousting.\r\n\r\n**UPD 1**\r\n\r\nI&#39;ve added \r\n```\r\nstatic {\r\n        Log.d(TAG, &quot;OPENCV INITIALIZATION &quot; + (OpenCVLoader.initDebug() ? &quot;SUCCEEDED&quot; : &quot;FAILED&quot;));\r\n    }\r\n```\r\nin my `MainActivity.java`. It prints &quot;SUCCEEDED&quot; but the error hasn&#39;t gone. However, it changed:\r\n\r\n```\r\n2021-04-28 21:09:47.798 22656-22656/xxxx.yyyy E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: xxxx.yyyy, PID: 22656\r\n    java.lang.UnsupportedOperationException: Native object address is NULL\r\n        at org.opencv.core.Mat.&lt;init&gt;(Mat.java:14)\r\n        at xxxx.yyyy.Utils.quadrilateralToRect(Utils.java:94)\r\n        at xxxx.yyyy.activities.CropActivity$1.onClick(CropActivity.java:74)\r\n        at android.view.View.performClick(View.java:5619)\r\n        at android.view.View$PerformClick.run(View.java:22298)\r\n        at android.os.Handler.handleCallback(Handler.java:754)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:165)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\r\n```\r\n\r\n**UPD 2**\r\n\r\nOops error in UPD 1 was because of argument in `new Mat()`. With no args there is no errors yet. Investigation continues.\r\n\r\n  [1]: https://stackoverflow.com/questions/35090838/no-implementation-found-for-long-org-opencv-core-mat-n-mat-error-using-opencv","title":"Android, opencv - No implementation found for long org.opencv.core.Mat.n_Mat() when trying to initialize Mat","body":"<p>I want to do some things using OpenCV and I'm trying to create <code>Mat</code> object:</p>\n<pre><code>import org.opencv.core.CvType;\nimport org.opencv.core.Mat;\n...\nMat imageMat = new Mat(CvType.CV_8U);\n</code></pre>\n<p>On this line I get the error:</p>\n<pre><code>2021-04-28 15:13:44.657 23613-23613/xxxx.yyyy E/art: No implementation found for long org.opencv.core.Mat.n_Mat() (tried Java_org_opencv_core_Mat_n_1Mat and Java_org_opencv_core_Mat_n_1Mat__)\n2021-04-28 15:13:44.676 23613-23613/xxxx.yyyy D/AndroidRuntime: Shutting down VM\n2021-04-28 15:13:44.686 23613-23613/xxxx.yyyy E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: xxxx.yyyy, PID: 23613\n    java.lang.UnsatisfiedLinkError: No implementation found for long org.opencv.core.Mat.n_Mat() (tried Java_org_opencv_core_Mat_n_1Mat and Java_org_opencv_core_Mat_n_1Mat__)\n        at org.opencv.core.Mat.n_Mat(Native Method)\n        at org.opencv.core.Mat.&lt;init&gt;(Mat.java:26)\n        at org.opencv.core.MatOfPoint2f.&lt;init&gt;(MatOfPoint2f.java:12)\n        at xxxx.yyyy.Utils.quadrilateralToRect(Utils.java:77)\n        at xxxx.yyyy.activities.CropActivity$1.onClick(CropActivity.java:74)\n        at android.view.View.performClick(View.java:5619)\n        at android.view.View$PerformClick.run(View.java:22298)\n        at android.os.Handler.handleCallback(Handler.java:754)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:165)\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\n</code></pre>\n<p>I have OpenCV as separate module in my android project and have imported it into my main module by adding <code>implementation project(path: ':OpenCV')</code> in its build.gradle in <code>dependencies</code> section.</p>\n<p>I have seen one <a href=\"https://stackoverflow.com/questions/35090838/no-implementation-found-for-long-org-opencv-core-mat-n-mat-error-using-opencv\">simillar</a> question but it is answered with using OpenCvManager which I wouldn't like to use in my project. If I'm getting right, my users will be forced to install this manager separately before using my app, right? It is disgousting.</p>\n<p><strong>UPD 1</strong></p>\n<p>I've added</p>\n<pre><code>static {\n        Log.d(TAG, &quot;OPENCV INITIALIZATION &quot; + (OpenCVLoader.initDebug() ? &quot;SUCCEEDED&quot; : &quot;FAILED&quot;));\n    }\n</code></pre>\n<p>in my <code>MainActivity.java</code>. It prints &quot;SUCCEEDED&quot; but the error hasn't gone. However, it changed:</p>\n<pre><code>2021-04-28 21:09:47.798 22656-22656/xxxx.yyyy E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: xxxx.yyyy, PID: 22656\n    java.lang.UnsupportedOperationException: Native object address is NULL\n        at org.opencv.core.Mat.&lt;init&gt;(Mat.java:14)\n        at xxxx.yyyy.Utils.quadrilateralToRect(Utils.java:94)\n        at xxxx.yyyy.activities.CropActivity$1.onClick(CropActivity.java:74)\n        at android.view.View.performClick(View.java:5619)\n        at android.view.View$PerformClick.run(View.java:22298)\n        at android.os.Handler.handleCallback(Handler.java:754)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:165)\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\n</code></pre>\n<p><strong>UPD 2</strong></p>\n<p>Oops error in UPD 1 was because of argument in <code>new Mat()</code>. With no args there is no errors yet. Investigation continues.</p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1649413277,"post_id":71795162,"comment_id":126874438,"body_markdown":"So you just want to find timezones that would have the minimum and maximum offset at that instant?","body":"So you just want to find timezones that would have the minimum and maximum offset at that instant?"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1649413429,"post_id":71795162,"comment_id":126874500,"body_markdown":"@sweeper : I will need to extract two `LocalDateTime` (at the same instant). The offsets and TZ will be discarded.","body":"@sweeper : I will need to extract two <code>LocalDateTime</code> (at the same instant). The offsets and TZ will be discarded."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649414814,"creation_date":1649414814,"answer_id":71795675,"question_id":71795162,"body_markdown":"You can do a stream on `ZoneId.getAvailableZoneIds()`.\r\n\r\n    var instant = Instant.parse(&quot;2022-01-01T14:00:00Z&quot;);\r\n    var minMax = ZoneId.getAvailableZoneIds().stream()\r\n        .mapToInt(x -&gt; ZoneId.of(x).getRules().getOffset(instant).getTotalSeconds())\r\n        .summaryStatistics();\r\n\r\n    var latestLocalTime = instant.atOffset(ZoneOffset.ofTotalSeconds(minMax.getMax())).toLocalDateTime();\r\n    var earliestLocalTime = instant.atOffset(ZoneOffset.ofTotalSeconds(minMax.getMin())).toLocalDateTime();\r\n    System.out.println(latestLocalTime);\r\n    System.out.println(earliestLocalTime);\r\n\r\n\r\nNotice that this prints out, in Java 17:\r\n\r\n```\r\n2022-01-02T04:00\r\n2022-01-01T02:00\r\n```\r\n\r\nThe earliest time is different from what you expect. I looked into what this timezone is:\r\n\r\n\r\n    System.out.println(ZoneId.getAvailableZoneIds().stream()\r\n        .map(ZoneId::of).min(Comparator.comparingInt(\r\n            x -&gt; x.getRules().getOffset(instant).getTotalSeconds()\r\n        )));\r\n\r\nIt is apparently the timezone `Etc/GMT+12`. Despite its identifier, this timezone actually has an offset of -12 hours, because the `Etc/GMT` identifiers use the opposite signs. Anyway, [UTC-12](https://en.wikipedia.org/wiki/UTC%E2%88%9212:00) is technically observed in Baker Island and Howland Island, according to Wikipedia.","title":"Earliest and Latest ZonedDateTimes on Earth from an UTC reference time","body":"<p>You can do a stream on <code>ZoneId.getAvailableZoneIds()</code>.</p>\n<pre><code>var instant = Instant.parse(&quot;2022-01-01T14:00:00Z&quot;);\nvar minMax = ZoneId.getAvailableZoneIds().stream()\n    .mapToInt(x -&gt; ZoneId.of(x).getRules().getOffset(instant).getTotalSeconds())\n    .summaryStatistics();\n\nvar latestLocalTime = instant.atOffset(ZoneOffset.ofTotalSeconds(minMax.getMax())).toLocalDateTime();\nvar earliestLocalTime = instant.atOffset(ZoneOffset.ofTotalSeconds(minMax.getMin())).toLocalDateTime();\nSystem.out.println(latestLocalTime);\nSystem.out.println(earliestLocalTime);\n</code></pre>\n<p>Notice that this prints out, in Java 17:</p>\n<pre><code>2022-01-02T04:00\n2022-01-01T02:00\n</code></pre>\n<p>The earliest time is different from what you expect. I looked into what this timezone is:</p>\n<pre><code>System.out.println(ZoneId.getAvailableZoneIds().stream()\n    .map(ZoneId::of).min(Comparator.comparingInt(\n        x -&gt; x.getRules().getOffset(instant).getTotalSeconds()\n    )));\n</code></pre>\n<p>It is apparently the timezone <code>Etc/GMT+12</code>. Despite its identifier, this timezone actually has an offset of -12 hours, because the <code>Etc/GMT</code> identifiers use the opposite signs. Anyway, <a href=\"https://en.wikipedia.org/wiki/UTC%E2%88%9212:00\" rel=\"nofollow noreferrer\">UTC-12</a> is technically observed in Baker Island and Howland Island, according to Wikipedia.</p>\n"}],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71795675,"answer_count":1,"score":-1,"last_activity_date":1649414814,"creation_date":1649412354,"question_id":71795162,"body_markdown":"I have a reference ZonedDateTime in UTC:\r\n\r\n    var ref = ZonedDateTime.parse(&quot;2022-01-01T14:00Z&quot;);\r\n\r\nWe must find the earliest and latest times on Earth based on the most extreme known TimeZones.\r\n\r\nThat would be: \r\n* `2022-01-02T04:00+14`\r\n* `2022-01-01T03:00-11`\r\n\r\nWhat is the most reliable way to achieve this?\r\n\r\nI&#39;m thinking about `OffsetDateTime`, but I&#39;m not sure it will handle daylight times correctly. Are there constants for the minimum and maximum offsets and/or TZ?","title":"Earliest and Latest ZonedDateTimes on Earth from an UTC reference time","body":"<p>I have a reference ZonedDateTime in UTC:</p>\n<pre><code>var ref = ZonedDateTime.parse(&quot;2022-01-01T14:00Z&quot;);\n</code></pre>\n<p>We must find the earliest and latest times on Earth based on the most extreme known TimeZones.</p>\n<p>That would be:</p>\n<ul>\n<li><code>2022-01-02T04:00+14</code></li>\n<li><code>2022-01-01T03:00-11</code></li>\n</ul>\n<p>What is the most reliable way to achieve this?</p>\n<p>I'm thinking about <code>OffsetDateTime</code>, but I'm not sure it will handle daylight times correctly. Are there constants for the minimum and maximum offsets and/or TZ?</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649414356,"creation_date":1649413645,"answer_id":71795435,"question_id":71795091,"body_markdown":"//try this bro\r\n\r\n \r\n\r\n    //in your adapter\r\n        int count=1;\r\n      \r\n        @Override\r\n            public void onBindViewHolder(ViewHolder holder, int position) {\r\n                String animal = mData.get(position);\r\n                holder.myTextView.setText(animal);\r\n                holder.plus.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n        \r\n                        mClickListener.onItemClick(view,count) \r\n                        count++;\r\n                        }\r\n        \r\n                    });\r\n        }\r\n    \r\n    //in your fragment\r\n    @Override\r\n    public void onItemClick(View view, int position) {\r\n        anytextview.settext(String.valueof(position);\r\n    }","title":"How to Use recyclerview adapter layout objects in fragment?","body":"<p>//try this bro</p>\n<pre><code>//in your adapter\n    int count=1;\n  \n    @Override\n        public void onBindViewHolder(ViewHolder holder, int position) {\n            String animal = mData.get(position);\n            holder.myTextView.setText(animal);\n            holder.plus.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n    \n                    mClickListener.onItemClick(view,count) \n                    count++;\n                    }\n    \n                });\n    }\n\n//in your fragment\n@Override\npublic void onItemClick(View view, int position) {\n    anytextview.settext(String.valueof(position);\n}\n</code></pre>\n"}],"owner":{"account_id":18350826,"reputation":13,"user_id":13365040,"display_name":"Ali Soltani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71795435,"answer_count":1,"score":0,"last_activity_date":1649414356,"creation_date":1649412017,"question_id":71795091,"body_markdown":"i have a fragment and a simple recyclerview.\r\n\r\nrecyclerview have to item , a textview and a button for each item.\r\n\r\ni want when user clicked on plus button , the textview(counter) get increase or change , how i shoud do this?\r\n\r\nnow i just have a simple toast for button plus click.\r\n\r\nthis is my adapter:\r\n```\r\npublic class MyRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;String&gt; mData;\r\n    private LayoutInflater mInflater;\r\n    private ItemClickListener mClickListener;\r\n\r\n    // data is passed into the constructor\r\n    MyRecyclerViewAdapter(Context context, List&lt;String&gt; data) {\r\n        this.mInflater = LayoutInflater.from(context);\r\n        this.mData = data;\r\n    }\r\n\r\n    // inflates the row layout from xml when needed\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view = mInflater.inflate(R.layout.recyclerview_row, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    // binds the data to the TextView in each row\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n        String animal = mData.get(position);\r\n        holder.myTextView.setText(animal);\r\n    }\r\n\r\n    // total number of rows\r\n    @Override\r\n    public int getItemCount() {\r\n        return mData.size();\r\n    }\r\n\r\n\r\n    // stores and recycles views as they are scrolled off screen\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        TextView myTextView;\r\n        Button plus;\r\n\r\n        ViewHolder(View itemView) {\r\n            super(itemView);\r\n            myTextView = itemView.findViewById(R.id.tvAnimalName);\r\n            plus = itemView.findViewById(R.id.buttonplus);\r\n            itemView.setOnClickListener(this);\r\n\r\n            plus.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    Toast.makeText(itemView.getContext(), &quot;test&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (mClickListener != null) mClickListener.onItemClick(view, getAdapterPosition());\r\n        }\r\n    }\r\n\r\n    // convenience method for getting data at click position\r\n    String getItem(int id) {\r\n        return mData.get(id);\r\n    }\r\n\r\n    // allows clicks events to be caught\r\n    void setClickListener(ItemClickListener itemClickListener) {\r\n        this.mClickListener = itemClickListener;\r\n    }\r\n\r\n    // parent activity will implement this method to respond to click events\r\n    public interface ItemClickListener {\r\n        void onItemClick(View view, int position);\r\n    }\r\n}\r\n```\r\n\r\nand my adapter row layout:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvAnimalName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;20sp&quot;/&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonplus&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Plus&quot;\r\n    &gt;\r\n\r\n    &lt;/Button&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nand there is my fragment java:\r\n\r\n    public class FirstFragment extends Fragment implements MyRecyclerViewAdapter.ItemClickListener {\r\n    MyRecyclerViewAdapter adapter;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_first, container, false);\r\n\r\n        // data to populate the RecyclerView with\r\n        ArrayList&lt;String&gt; animalNames = new ArrayList&lt;&gt;();\r\n        animalNames.add(&quot;Horse&quot;);\r\n        animalNames.add(&quot;Cow&quot;);\r\n        animalNames.add(&quot;Camel&quot;);\r\n        animalNames.add(&quot;Sheep&quot;);\r\n        animalNames.add(&quot;Goat&quot;);\r\n\r\n        // set up the RecyclerView\r\n        RecyclerView recyclerView = v.findViewById(R.id.rvAnimals);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        adapter = new MyRecyclerViewAdapter(getContext(), animalNames);\r\n        adapter.setClickListener(this);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(View view, int position) {\r\n        \r\n    }\r\n    }\r\n\r\nand my fragment layout:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rvAnimals&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/counter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:text=&quot;1&quot;\r\n        &gt;\r\n\r\n    &lt;/TextView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How to Use recyclerview adapter layout objects in fragment?","body":"<p>i have a fragment and a simple recyclerview.</p>\n<p>recyclerview have to item , a textview and a button for each item.</p>\n<p>i want when user clicked on plus button , the textview(counter) get increase or change , how i shoud do this?</p>\n<p>now i just have a simple toast for button plus click.</p>\n<p>this is my adapter:</p>\n<pre><code>public class MyRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyRecyclerViewAdapter.ViewHolder&gt; {\n\n    private List&lt;String&gt; mData;\n    private LayoutInflater mInflater;\n    private ItemClickListener mClickListener;\n\n    // data is passed into the constructor\n    MyRecyclerViewAdapter(Context context, List&lt;String&gt; data) {\n        this.mInflater = LayoutInflater.from(context);\n        this.mData = data;\n    }\n\n    // inflates the row layout from xml when needed\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = mInflater.inflate(R.layout.recyclerview_row, parent, false);\n        return new ViewHolder(view);\n    }\n\n    // binds the data to the TextView in each row\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        String animal = mData.get(position);\n        holder.myTextView.setText(animal);\n    }\n\n    // total number of rows\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n\n    // stores and recycles views as they are scrolled off screen\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        TextView myTextView;\n        Button plus;\n\n        ViewHolder(View itemView) {\n            super(itemView);\n            myTextView = itemView.findViewById(R.id.tvAnimalName);\n            plus = itemView.findViewById(R.id.buttonplus);\n            itemView.setOnClickListener(this);\n\n            plus.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    Toast.makeText(itemView.getContext(), &quot;test&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n\n            });\n\n        }\n\n        @Override\n        public void onClick(View view) {\n            if (mClickListener != null) mClickListener.onItemClick(view, getAdapterPosition());\n        }\n    }\n\n    // convenience method for getting data at click position\n    String getItem(int id) {\n        return mData.get(id);\n    }\n\n    // allows clicks events to be caught\n    void setClickListener(ItemClickListener itemClickListener) {\n        this.mClickListener = itemClickListener;\n    }\n\n    // parent activity will implement this method to respond to click events\n    public interface ItemClickListener {\n        void onItemClick(View view, int position);\n    }\n}\n</code></pre>\n<p>and my adapter row layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvAnimalName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;20sp&quot;/&gt;\n    &lt;Button\n        android:id=&quot;@+id/buttonplus&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Plus&quot;\n    &gt;\n\n    &lt;/Button&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and there is my fragment java:</p>\n<pre><code>public class FirstFragment extends Fragment implements MyRecyclerViewAdapter.ItemClickListener {\nMyRecyclerViewAdapter adapter;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.fragment_first, container, false);\n\n    // data to populate the RecyclerView with\n    ArrayList&lt;String&gt; animalNames = new ArrayList&lt;&gt;();\n    animalNames.add(&quot;Horse&quot;);\n    animalNames.add(&quot;Cow&quot;);\n    animalNames.add(&quot;Camel&quot;);\n    animalNames.add(&quot;Sheep&quot;);\n    animalNames.add(&quot;Goat&quot;);\n\n    // set up the RecyclerView\n    RecyclerView recyclerView = v.findViewById(R.id.rvAnimals);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    adapter = new MyRecyclerViewAdapter(getContext(), animalNames);\n    adapter.setClickListener(this);\n    recyclerView.setAdapter(adapter);\n\n    return v;\n}\n\n@Override\npublic void onItemClick(View view, int position) {\n    \n}\n}\n</code></pre>\n<p>and my fragment layout:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.FirstFragment&quot;&gt;\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rvAnimals&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/counter&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:text=&quot;1&quot;\n    &gt;\n\n&lt;/TextView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","charsequence"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648118741,"post_id":71600902,"comment_id":126545493,"body_markdown":"if you will use UTF32 encoding for emoji and text you should see that each of them have same size, should be 4. also proper emoji should be 16-bit hex code, so U+0061 = (binary)0000 0000 0110 0001. so it should have length of 4 in UTF-8 encoding, i wonder why it&#39;s only 2 in your example","body":"if you will use UTF32 encoding for emoji and text you should see that each of them have same size, should be 4. also proper emoji should be 16-bit hex code, so U+0061 = (binary)0000 0000 0110 0001. so it should have length of 4 in UTF-8 encoding, i wonder why it&#39;s only 2 in your example"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648119675,"post_id":71600902,"comment_id":126545887,"body_markdown":"@Szprota21 that emoji is `U+1F970`, so it actually takes two UTF &quot;characters&quot;.","body":"@Szprota21 that emoji is <code>U+1F970</code>, so it actually takes two UTF &quot;characters&quot;."},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":1,"creation_date":1649414157,"post_id":71600902,"comment_id":126874744,"body_markdown":"What language is that? Java doesn&#39;t have those string formatting features.","body":"What language is that? Java doesn&#39;t have those string formatting features."}],"answers":[{"tags":[],"owner":{"account_id":14981823,"reputation":339,"user_id":10815621,"display_name":"ZSpirytus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649414152,"creation_date":1649414152,"answer_id":71795520,"question_id":71600902,"body_markdown":"Finally, I find the solution inspired by this [post](https://stackoverflow.com/a/59762318/10815621). Since UTF-8 is variable length, to call `CharSequence.subSequence` and get correct result, we can get every grapheme&#39;s start index in this sentence by magic `BreakIterator`:\r\n\r\n```kotlin\r\nfun CharSequence.removeLast(): CharSequence {\r\n    val graphemeStartIndexes = computeGraphemesStartIndexes(this)\r\n    return this.subSequence(0, graphemeStartIndexes.last())\r\n}\r\n\r\nprivate fun computeGraphemesStartIndexes(sequence: CharSequence): List&lt;Int&gt; {\r\n    val breakIterator = BreakIterator.getCharacterInstance()\r\n    breakIterator.setText(sequence.toString())\r\n    val graphemesStartIndexes = mutableListOf&lt;Int&gt;()\r\n\r\n    val start = breakIterator.first()\r\n    graphemesStartIndexes.add(start)\r\n    while (breakIterator.next() != BreakIterator.DONE) {\r\n        graphemesStartIndexes.add(breakIterator.current())\r\n    }\r\n    return graphemesStartIndexes.apply { removeAt(size - 1) }\r\n}\r\n```\r\n\r\nExample:\r\n\r\n```kotlin\r\nval plainTextEmojiSequence = &quot;Hello&#128522;&quot;\r\nval plainTextOnlySequence = &quot;Hi~!&quot;\r\n\r\nprintln(plainTextEmojiSequence.removeLast()) // &quot;Hello&quot;\r\nprintln(plainTextOnlySequence.removeLast())  // &quot;Hi~&quot;\r\n```","title":"Correct way to remove last grapheme of CharSequence","body":"<p>Finally, I find the solution inspired by this <a href=\"https://stackoverflow.com/a/59762318/10815621\">post</a>. Since UTF-8 is variable length, to call <code>CharSequence.subSequence</code> and get correct result, we can get every grapheme's start index in this sentence by magic <code>BreakIterator</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun CharSequence.removeLast(): CharSequence {\n    val graphemeStartIndexes = computeGraphemesStartIndexes(this)\n    return this.subSequence(0, graphemeStartIndexes.last())\n}\n\nprivate fun computeGraphemesStartIndexes(sequence: CharSequence): List&lt;Int&gt; {\n    val breakIterator = BreakIterator.getCharacterInstance()\n    breakIterator.setText(sequence.toString())\n    val graphemesStartIndexes = mutableListOf&lt;Int&gt;()\n\n    val start = breakIterator.first()\n    graphemesStartIndexes.add(start)\n    while (breakIterator.next() != BreakIterator.DONE) {\n        graphemesStartIndexes.add(breakIterator.current())\n    }\n    return graphemesStartIndexes.apply { removeAt(size - 1) }\n}\n</code></pre>\n<p>Example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val plainTextEmojiSequence = &quot;Helloð&quot;\nval plainTextOnlySequence = &quot;Hi~!&quot;\n\nprintln(plainTextEmojiSequence.removeLast()) // &quot;Hello&quot;\nprintln(plainTextOnlySequence.removeLast())  // &quot;Hi~&quot;\n</code></pre>\n"}],"owner":{"account_id":14981823,"reputation":339,"user_id":10815621,"display_name":"ZSpirytus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649414152,"creation_date":1648118213,"question_id":71600902,"body_markdown":"The code:\r\n```kotlin\r\nval plainText = &quot;plainText&quot;\r\nval plainTextWithEmoji = &quot;plainText&#129392;&#129392;&#129392;&quot;\r\n\r\nprintln(&quot;plainText=$plainText, length=${plainText.length}&quot;)\r\nprintln(&quot;plainTextWithEmoji=$plainText, length=${plainTextWithEmoji.length}&quot;)\r\n\r\n// Output:\r\n// plainText=plainText, length=9\r\n// plainTextWithEmoji=plainText&#129392;&#129392;&#129392;, length=15\r\n```\r\n\r\nThis code imply that emoji character&#39;s length is **2**, not **1**.\r\n\r\nWhen I want to remove the last character&#39;s:\r\n    \r\nIf I call `plainText.subSequence(0, plainTextWithEmoji.length - 1)`, the result is wrong, because emoji character length is more than 1.\r\n\r\nTo call subSequence and get the correct result, do this: `plainText.subSequence(0, plainTextWithEmoji.length - 2)`\r\n\r\nBut in general, We can not know **if the last character&#39;s length is 1**. When we want to remove the last character, simply call `charSequence.subSequence(0, charSequence.length - 1)` will return a wrong result.\r\n\r\nSo, it is any way to remove last grapheme of CharSequence? Thx!","title":"Correct way to remove last grapheme of CharSequence","body":"<p>The code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val plainText = &quot;plainText&quot;\nval plainTextWithEmoji = &quot;plainTextð¥°ð¥°ð¥°&quot;\n\nprintln(&quot;plainText=$plainText, length=${plainText.length}&quot;)\nprintln(&quot;plainTextWithEmoji=$plainText, length=${plainTextWithEmoji.length}&quot;)\n\n// Output:\n// plainText=plainText, length=9\n// plainTextWithEmoji=plainTextð¥°ð¥°ð¥°, length=15\n</code></pre>\n<p>This code imply that emoji character's length is <strong>2</strong>, not <strong>1</strong>.</p>\n<p>When I want to remove the last character's:</p>\n<p>If I call <code>plainText.subSequence(0, plainTextWithEmoji.length - 1)</code>, the result is wrong, because emoji character length is more than 1.</p>\n<p>To call subSequence and get the correct result, do this: <code>plainText.subSequence(0, plainTextWithEmoji.length - 2)</code></p>\n<p>But in general, We can not know <strong>if the last character's length is 1</strong>. When we want to remove the last character, simply call <code>charSequence.subSequence(0, charSequence.length - 1)</code> will return a wrong result.</p>\n<p>So, it is any way to remove last grapheme of CharSequence? Thx!</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":2,"creation_date":1649414184,"post_id":71795432,"comment_id":126874751,"body_markdown":"Does this answer your question? [Fragment MyFragment not attached to Activity](https://stackoverflow.com/questions/10919240/fragment-myfragment-not-attached-to-activity)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10919240/fragment-myfragment-not-attached-to-activity\">Fragment MyFragment not attached to Activity</a>"}],"answers":[{"tags":[],"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649413920,"creation_date":1649413920,"answer_id":71795478,"question_id":71795432,"body_markdown":"Initialise dbHelper in onCreateView  method,\r\n\r\n    DBHelper dbHelper;\r\n    \r\n    public DashboardFragment() {}\r\n    \r\n    \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_dashboard,container,false);\r\n       dbHelper = new DBHelper(getActivity());\r\n    }","title":"Runtime Exception java.lang.IllegalStateException: Fragment not attached to activity","body":"<p>Initialise dbHelper in onCreateView  method,</p>\n<pre><code>DBHelper dbHelper;\n\npublic DashboardFragment() {}\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_dashboard,container,false);\n   dbHelper = new DBHelper(getActivity());\n}\n</code></pre>\n"}],"owner":{"account_id":22908750,"reputation":3,"user_id":17046378,"display_name":"Hafeez Niazi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71795478,"answer_count":1,"score":-1,"last_activity_date":1649413920,"creation_date":1649413620,"question_id":71795432,"body_markdown":"I am getting a runtime exception in my fragment. I have passed the context during the initialization of my DBHelper class. I want to display the number of entries in database.\r\n\r\nFragment Code:\r\n```public class DashboardFragment extends Fragment {\r\n    DBHelper dbHelper = new DBHelper(requireContext());\r\n\r\n\r\n    public DashboardFragment() {}\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_dashboard,container,false);\r\n        TextView textView1 = view.findViewById(R.id.text_top);\r\n        TextView textView2 = view.findViewById(R.id.text_top2);\r\n        TextView recordEntries = view.findViewById(R.id.record_entries);\r\n\r\n        recordEntries.setText(dbHelper.countEntries());\r\n```\r\nDBHelper Code:\r\n```public class DBHelper extends SQLiteOpenHelper {\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, Params.DB_NAME , null, Params.DB_VERSION);\r\n    }\r\n\r\n public int countEntries()\r\n    {\r\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor cursor = db.rawQuery(query,null);\r\n        return cursor.getCount();\r\n    }\r\n```\r\n","title":"Runtime Exception java.lang.IllegalStateException: Fragment not attached to activity","body":"<p>I am getting a runtime exception in my fragment. I have passed the context during the initialization of my DBHelper class. I want to display the number of entries in database.</p>\n<p>Fragment Code:</p>\n<pre><code>    DBHelper dbHelper = new DBHelper(requireContext());\n\n\n    public DashboardFragment() {}\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_dashboard,container,false);\n        TextView textView1 = view.findViewById(R.id.text_top);\n        TextView textView2 = view.findViewById(R.id.text_top2);\n        TextView recordEntries = view.findViewById(R.id.record_entries);\n\n        recordEntries.setText(dbHelper.countEntries());\n</code></pre>\n<p>DBHelper Code:</p>\n<pre><code>    public DBHelper(@Nullable Context context) {\n        super(context, Params.DB_NAME , null, Params.DB_VERSION);\n    }\n\n public int countEntries()\n    {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(query,null);\n        return cursor.getCount();\n    }\n</code></pre>\n"},{"tags":["java","gmail","imap","jakarta-mail"],"comments":[{"owner":{"account_id":109557,"reputation":14543,"user_id":290213,"accept_rate":43,"display_name":"dkarp"},"score":1,"creation_date":1296021090,"post_id":4790844,"comment_id":5321548,"body_markdown":"Why on earth did you accept an answer that didn&#39;t give you the results you were looking for?","body":"Why on earth did you accept an answer that didn&#39;t give you the results you were looking for?"}],"answers":[{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1370505341,"creation_date":1295939553,"answer_id":4790865,"question_id":4790844,"body_markdown":"Here is the code that works. This will give you handle to all the Labels. To go deeper in a `folder`, you may perform `folder.list()` or you can use `store.getDefaultFolder().list(&quot;*&quot;)` to retrieve all the folders and sub-folders as suggested in the other answer.\r\n\r\n\tProperties props = System.getProperties();\r\n\tprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n\tSession session = Session.getDefaultInstance(props, null);\r\n\tStore store = session.getStore(&quot;imaps&quot;);\r\n\tstore.connect(&quot;imap.gmail.com&quot;, &quot;YOURMAILID@gmail.com&quot;, &quot;UR_P@ZZWRD&quot;);\r\n\tSystem.out.println(store);\r\n\r\n\tFolder[] f = store.getDefaultFolder().list();\r\n\tfor(Folder fd:f)\r\n\t\tSystem.out.println(&quot;&gt;&gt; &quot;+fd.getName());\r\n\r\nOutput:\r\n\r\n&gt;&amp;gt;&amp;gt; INBOX&lt;br/&gt;\r\n&amp;gt;&amp;gt; Personal&lt;br/&gt;\r\n&amp;gt;&amp;gt; Receipts&lt;br/&gt;\r\n&amp;gt;&amp;gt; Travel&lt;br/&gt;\r\n&amp;gt;&amp;gt; Work&lt;br/&gt;\r\n&amp;gt;&amp;gt; [Gmail]\r\n\r\n---\r\n\r\n_OLD ANSWER_ \r\n\r\nPlease note this is not correct, it&#39;s rightly pointed in [this answer][1] by [dkarp][2]\r\n\r\n&lt;strike&gt;These should do:\r\n\r\nhttp://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getSharedNamespaces%28%29\r\n\r\n\r\nhttp://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getUserNamespaces%28java.lang.String%29 &lt;/strike&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4790844/how-to-get-the-list-of-available-folders-in-a-mail-account-using-java-mail/4801728#4801728\r\n  [2]: https://stackoverflow.com/users/290213/dkarp","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>Here is the code that works. This will give you handle to all the Labels. To go deeper in a <code>folder</code>, you may perform <code>folder.list()</code> or you can use <code>store.getDefaultFolder().list(\"*\")</code> to retrieve all the folders and sub-folders as suggested in the other answer.</p>\n\n<pre><code>Properties props = System.getProperties();\nprops.setProperty(\"mail.store.protocol\", \"imaps\");\nSession session = Session.getDefaultInstance(props, null);\nStore store = session.getStore(\"imaps\");\nstore.connect(\"imap.gmail.com\", \"YOURMAILID@gmail.com\", \"UR_P@ZZWRD\");\nSystem.out.println(store);\n\nFolder[] f = store.getDefaultFolder().list();\nfor(Folder fd:f)\n    System.out.println(\"&gt;&gt; \"+fd.getName());\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>&gt;&gt; INBOX<br/>\n  &gt;&gt; Personal<br/>\n  &gt;&gt; Receipts<br/>\n  &gt;&gt; Travel<br/>\n  &gt;&gt; Work<br/>\n  &gt;&gt; [Gmail]</p>\n</blockquote>\n\n<hr>\n\n<p><em>OLD ANSWER</em> </p>\n\n<p>Please note this is not correct, it's rightly pointed in <a href=\"https://stackoverflow.com/questions/4790844/how-to-get-the-list-of-available-folders-in-a-mail-account-using-java-mail/4801728#4801728\">this answer</a> by <a href=\"https://stackoverflow.com/users/290213/dkarp\">dkarp</a></p>\n\n<p><strike>These should do:</p>\n\n<p><a href=\"http://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getSharedNamespaces%28%29\" rel=\"noreferrer\">http://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getSharedNamespaces%28%29</a></p>\n\n<p><a href=\"http://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getUserNamespaces%28java.lang.String%29\" rel=\"noreferrer\">http://java.sun.com/products/javamail/javadocs/javax/mail/Store.html#getUserNamespaces%28java.lang.String%29</a> </strike></p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370505364,"creation_date":1295941282,"answer_id":4791034,"question_id":4790844,"body_markdown":"How about `store.getDefaultFolder().list()`? Just a guess, though.","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>How about <code>store.getDefaultFolder().list()</code>? Just a guess, though.</p>\n"},{"tags":[],"owner":{"account_id":109557,"reputation":14543,"user_id":290213,"accept_rate":43,"display_name":"dkarp"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1370505450,"creation_date":1296020877,"answer_id":4801728,"question_id":4790844,"body_markdown":"Sergey is close, but by default JavaMail&#39;s `list()` does a `LIST &quot;&quot; %`, which gives you only top-level folders.  GMail puts its system folders (All Mail, Drafts, Sent Mail, Spam, Starred, and Trash) under the non-selectable folder `[Gmail]`, so you really need to do a `LIST &quot;&quot; *` instead.  Otherwise, you&#39;ll just get back `INBOX`, `[Gmail]`, and your labels.\r\n\r\nHere&#39;s some sample code that connects to GMail, fetches the folder list, and prints out the name and message count for each non-`\\NoSelect` folder (i.e. the ones that aren&#39;t just hierarchy placeholders, like `[Gmail]`):\r\n\r\n    Properties props = System.getProperties();\r\n    props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n    try {\r\n        Session session = Session.getDefaultInstance(props, null);\r\n        javax.mail.Store store = session.getStore(&quot;imaps&quot;);\r\n        store.connect(&quot;imap.gmail.com&quot;, &quot;&lt;username&gt;@gmail.com&quot;, &quot;&lt;password&gt;&quot;);\r\n        javax.mail.Folder[] folders = store.getDefaultFolder().list(&quot;*&quot;);\r\n        for (javax.mail.Folder folder : folders) {\r\n            if ((folder.getType() &amp; javax.mail.Folder.HOLDS_MESSAGES) != 0) {\r\n                System.out.println(folder.getFullName() + &quot;: &quot; + folder.getMessageCount());\r\n            }\r\n        }\r\n    } catch (MessagingException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>Sergey is close, but by default JavaMail's <code>list()</code> does a <code>LIST \"\" %</code>, which gives you only top-level folders.  GMail puts its system folders (All Mail, Drafts, Sent Mail, Spam, Starred, and Trash) under the non-selectable folder <code>[Gmail]</code>, so you really need to do a <code>LIST \"\" *</code> instead.  Otherwise, you'll just get back <code>INBOX</code>, <code>[Gmail]</code>, and your labels.</p>\n\n<p>Here's some sample code that connects to GMail, fetches the folder list, and prints out the name and message count for each non-<code>\\NoSelect</code> folder (i.e. the ones that aren't just hierarchy placeholders, like <code>[Gmail]</code>):</p>\n\n<pre><code>Properties props = System.getProperties();\nprops.setProperty(\"mail.store.protocol\", \"imaps\");\ntry {\n    Session session = Session.getDefaultInstance(props, null);\n    javax.mail.Store store = session.getStore(\"imaps\");\n    store.connect(\"imap.gmail.com\", \"&lt;username&gt;@gmail.com\", \"&lt;password&gt;\");\n    javax.mail.Folder[] folders = store.getDefaultFolder().list(\"*\");\n    for (javax.mail.Folder folder : folders) {\n        if ((folder.getType() &amp; javax.mail.Folder.HOLDS_MESSAGES) != 0) {\n            System.out.println(folder.getFullName() + \": \" + folder.getMessageCount());\n        }\n    }\n} catch (MessagingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477724,"reputation":89,"user_id":889386,"display_name":"user889386"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1325790037,"creation_date":1314076516,"answer_id":7156549,"question_id":4790844,"body_markdown":"You can access other folders like this \r\n\r\n    store.getFolder(&quot;[Gmail]/Sent Mail&quot;);\r\n    store.getFolder(&quot;[Gmail]/Drafts&quot;);\r\n\r\netc.","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>You can access other folders like this </p>\n\n<pre><code>store.getFolder(\"[Gmail]/Sent Mail\");\nstore.getFolder(\"[Gmail]/Drafts\");\n</code></pre>\n\n<p>etc.</p>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572344166,"creation_date":1572290314,"answer_id":58597127,"question_id":4790844,"body_markdown":"You can try this:\r\n\r\n    Folder[] folderList = store.getDefaultFolder().list(&quot;*&quot;);","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>You can try this:</p>\n\n<pre><code>Folder[] folderList = store.getDefaultFolder().list(\"*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16328224,"reputation":1,"user_id":11792279,"display_name":"Sardaar54"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649413817,"creation_date":1649413817,"answer_id":71795460,"question_id":4790844,"body_markdown":"You can right-click on different buttons on the side panel of your mail box and inspect the names for different folders that are used in different mails.\r\n\r\nThis works for every email client. The list command works but I felt this makes the process quicker.","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>You can right-click on different buttons on the side panel of your mail box and inspect the names for different folders that are used in different mails.</p>\n<p>This works for every email client. The list command works but I felt this makes the process quicker.</p>\n"}],"owner":{"account_id":145954,"reputation":6549,"user_id":356108,"accept_rate":42,"display_name":"Jagadesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67886,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":4790865,"answer_count":6,"score":47,"last_activity_date":1649413817,"creation_date":1295939313,"question_id":4790844,"body_markdown":"I am using JavaMail API to connect to my personal account. I have list of folders (labels) in my Gmail account which I created + the default folders like Inbox, Drafts etc. How can I list all the available folders (the default and the user created)? \r\n\r\nI can access the particular folder using this API: `Folder inbox = store.getFolder(&quot;Inbox&quot;);`. Is there any other API to get the list of folders available in a mail account?","title":"How to get the list of available folders in a mail account using JavaMail","body":"<p>I am using JavaMail API to connect to my personal account. I have list of folders (labels) in my Gmail account which I created + the default folders like Inbox, Drafts etc. How can I list all the available folders (the default and the user created)? </p>\n\n<p>I can access the particular folder using this API: <code>Folder inbox = store.getFolder(\"Inbox\");</code>. Is there any other API to get the list of folders available in a mail account?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1647610972,"post_id":71527809,"comment_id":126420415,"body_markdown":"Yes, you can configure a Swing clock, but you have to create the GUI and write the code to make customization possible.","body":"Yes, you can configure a Swing clock, but you have to create the GUI and write the code to make customization possible."}],"answers":[{"tags":[],"owner":{"account_id":385780,"reputation":73,"user_id":743148,"accept_rate":25,"display_name":"Praveen Jayapal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649413777,"creation_date":1649413777,"answer_id":71795452,"question_id":71527809,"body_markdown":"Being a configurable application we have two options\r\n\r\n 1. Database\r\n 2. File\r\n\r\nIf it&#39;s a small application then choosing a database is completely waste of time and memory. We can achieve the same via writing/reading the file. \r\n\r\nAgain, if we are packing the configuration.properties or reference file along with our runnable jar. It will **fail** because all the files within jar are read only, we cannot write into it. \r\nSo the only possibility is to \r\n\r\n&gt; **create a temp file either in the same location of the jar or in system\r\n&gt; temp folder**\r\n\r\n","title":"configurable jframe elements","body":"<p>Being a configurable application we have two options</p>\n<ol>\n<li>Database</li>\n<li>File</li>\n</ol>\n<p>If it's a small application then choosing a database is completely waste of time and memory. We can achieve the same via writing/reading the file.</p>\n<p>Again, if we are packing the configuration.properties or reference file along with our runnable jar. It will <strong>fail</strong> because all the files within jar are read only, we cannot write into it.\nSo the only possibility is to</p>\n<blockquote>\n<p><strong>create a temp file either in the same location of the jar or in system\ntemp folder</strong></p>\n</blockquote>\n"}],"owner":{"account_id":385780,"reputation":73,"user_id":743148,"accept_rate":25,"display_name":"Praveen Jayapal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649413777,"creation_date":1647610332,"question_id":71527809,"body_markdown":"I have build a digital clock using Swing JFrame, for now the clock is live but it will always show a set of timezone. Is that possible for me to configure the timezone?\r\n\r\nI want to set the timezone, name of the label, show/hide the clock. \r\nIs these are possible in executable jar?","title":"configurable jframe elements","body":"<p>I have build a digital clock using Swing JFrame, for now the clock is live but it will always show a set of timezone. Is that possible for me to configure the timezone?</p>\n<p>I want to set the timezone, name of the label, show/hide the clock.\nIs these are possible in executable jar?</p>\n"},{"tags":["java","xml","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1649219102,"post_id":71751045,"comment_id":126817407,"body_markdown":"Why are you using such an old version of Apache POI with known security issues? Why haven&#39;t you upgraded to the latest supported version?","body":"Why are you using such an old version of Apache POI with known security issues? Why haven&#39;t you upgraded to the latest supported version?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649225599,"post_id":71751045,"comment_id":126818631,"body_markdown":"The compiling the Java classes from the XSD is done using [XMLBeans](https://xmlbeans.apache.org/). But that is only one thing. To be able to access `commentsExtended.xml` and `commentsExtensible.xml` there would must be classes in `XWPF` which are subclasses of [POIXMLDocumentPart](https://poi.apache.org/apidocs/dev/org/apache/poi/ooxml/POIXMLDocumentPart.html). Until now not even the default `comments.xml` is included in `XWPF` as such. See https://stackoverflow.com/questions/44491860/how-to-add-comment-by-apache-poi/44511824#44511824.","body":"The compiling the Java classes from the XSD is done using <a href=\"https://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">XMLBeans</a>. But that is only one thing. To be able to access <code>commentsExtended.xml</code> and <code>commentsExtensible.xml</code> there would must be classes in <code>XWPF</code> which are subclasses of <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ooxml/POIXMLDocumentPart.html\" rel=\"nofollow noreferrer\">POIXMLDocumentPart</a>. Until now not even the default <code>comments.xml</code> is included in <code>XWPF</code> as such. See <a href=\"https://stackoverflow.com/questions/44491860/how-to-add-comment-by-apache-poi/44511824#44511824\" title=\"how to add comment by apache poi\">stackoverflow.com/questions/44491860/&hellip;</a>."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649239012,"post_id":71751045,"comment_id":126823394,"body_markdown":"It was pretty Old code base &amp; it was holding up fine till now. Hence it remained unaltered for so long. [Gagravarr](https://stackoverflow.com/users/685641/gagravarr)","body":"It was pretty Old code base &amp; it was holding up fine till now. Hence it remained unaltered for so long. <a href=\"https://stackoverflow.com/users/685641/gagravarr\">Gagravarr</a>"},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649239481,"post_id":71751045,"comment_id":126823582,"body_markdown":"Oh Okk Thanks Alex. So if my understanding is fine compiling XSD using Xmlbeans will only generate low level CT Classes is this correct ? To get high level POI classes we need to write those classes from our end is that so ?  [Alex Richter](https://stackoverflow.com/users/3915431/axel-richter)","body":"Oh Okk Thanks Alex. So if my understanding is fine compiling XSD using Xmlbeans will only generate low level CT Classes is this correct ? To get high level POI classes we need to write those classes from our end is that so ?  <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex Richter</a>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649240091,"post_id":71751045,"comment_id":126823800,"body_markdown":"@logesh ramasamy: Correct.","body":"@logesh ramasamy: Correct."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649243147,"post_id":71751045,"comment_id":126824980,"body_markdown":"Okk thanks a lot [Alex Ritcher](https://stackoverflow.com/users/3915431/axel-richter). I had CommentsExtended.xml &amp; CommentsExtensible.xml XSD downloaded from this [site](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117).\nIs this proper schemas for those ? Is there any other offical site to download schemas for MS Word features ?","body":"Okk thanks a lot <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex Ritcher</a>. I had CommentsExtended.xml &amp; CommentsExtensible.xml XSD downloaded from this <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117\" rel=\"nofollow noreferrer\">site</a>. Is this proper schemas for those ? Is there any other offical site to download schemas for MS Word features ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649245463,"post_id":71751045,"comment_id":126825842,"body_markdown":"Your schema is the correct one. But it refers to types of namespace=&quot;schemas.openxmlformats.org/wordprocessingml/2006/main&quot; too. So to be able to compile it using XMLBeans you will need all the schemas of Office Open XML published in [ECMA-376](https://www.ecma-international.org/publications-and-standards/standards/ecma-376/). Additional you might need schemas.microsoft.com/office/word/2010/wordml Schema too. So good luck!","body":"Your schema is the correct one. But it refers to types of namespace=&quot;schemas.openxmlformats.org/wordprocessingml/2006/&zwnj;&#8203;main&quot; too. So to be able to compile it using XMLBeans you will need all the schemas of Office Open XML published in <a href=\"https://www.ecma-international.org/publications-and-standards/standards/ecma-376/\" rel=\"nofollow noreferrer\">ECMA-376</a>. Additional you might need schemas.microsoft.com/office/word/2010/wordml Schema too. So good luck!"},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649252893,"post_id":71751045,"comment_id":126828991,"body_markdown":"Okk thanks a ton. Will try it out Alex.","body":"Okk thanks a ton. Will try it out Alex."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649316298,"post_id":71751045,"comment_id":126845820,"body_markdown":"At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. What am I doint wronng ? How to achieve the same ?\n\nHave added code below","body":"At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. What am I doint wronng ? How to achieve the same ?  Have added code below"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649412947,"creation_date":1649344793,"answer_id":71784799,"question_id":71751045,"body_markdown":"To explain the principle, I will try give a complete example which is as minimal as possible.\r\n\r\nAt first: Apache POI 3.14 is too old. My answer relies on current `apache poi 5.2.2`.\r\n\r\n**Generating the `com.microsoft.schemas.office.word.x2012.wordml.*` classes from the `*.xsd` schema files using [XMLBeans](https://xmlbeans.apache.org/)**\r\n\r\nThe `word12.xsd` can be got from the Microsoft source: [5.2 http://schemas.microsoft.com/office/word/2012/wordml Schema](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117). But it has to be changed a little bit to be compilable.\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:**w12**=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot; ...&gt;\r\n\r\nWhy is the `wordprocessingml/2006/` name space prefixed `w12`? That&#39;s irritating and should better be `w06`.\r\n\r\n    &lt;xsd:import id=&quot;w12&quot; namespace=**&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;** ...&gt;\r\n\r\nWhy get the well known `wordprocessingml/2006/` name space additional imported as `w12`? That violates the given `targetNamespace`. It should be \r\n\r\n    &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; ...&gt;\r\n\r\nAnd since ECMA-376-Fifth-Edition the types `ST_OnOff` and `ST_String` are not more in `http://schemas.openxmlformats.org/wordprocessingml/2006/main` namespace but in `http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes`. So we need an additional namespace:\r\n\r\n    ... xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot; ...\r\n\r\nThe complete `word12.xsd`:\r\n\r\n     &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n      xmlns:w06=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;\r\n      xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot;\r\n      elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot; blockDefault=&quot;#all&quot; \r\n      xmlns=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; \r\n      targetNamespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot;&gt;\r\n       &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; schemaLocation=&quot;word12.xsd&quot;/&gt;\r\n       &lt;xsd:element name=&quot;color&quot; type=&quot;w06:CT_Color&quot;/&gt;\r\n       &lt;xsd:simpleType name=&quot;ST_SdtAppearance&quot;&gt;\r\n         &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n           &lt;xsd:enumeration value=&quot;boundingBox&quot;/&gt;\r\n           &lt;xsd:enumeration value=&quot;tags&quot;/&gt;\r\n           &lt;xsd:enumeration value=&quot;hidden&quot;/&gt;\r\n         &lt;/xsd:restriction&gt;\r\n       &lt;/xsd:simpleType&gt;\r\n       &lt;xsd:element name=&quot;dataBinding&quot; type=&quot;w06:CT_DataBinding&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_SdtAppearance&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_SdtAppearance&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;appearance&quot; type=&quot;CT_SdtAppearance&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_CommentsEx&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;commentEx&quot; type=&quot;CT_CommentEx&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_CommentEx&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;paraId&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;required&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;paraIdParent&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;optional&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;done&quot; type=&quot;w06st:ST_OnOff&quot; use=&quot;optional&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;commentsEx&quot; type=&quot;CT_CommentsEx&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_People&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;person&quot; type=&quot;CT_Person&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_PresenceInfo&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;providerId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;userId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_Person&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;presenceInfo&quot; type=&quot;CT_PresenceInfo&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n         &lt;xsd:attribute name=&quot;author&quot; type=&quot;w06st:ST_String&quot; use=&quot;required&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;people&quot; type=&quot;CT_People&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_SdtRepeatedSection&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;sectionTitle&quot; type=&quot;w06:CT_String&quot; minOccurs=&quot;0&quot;/&gt;\r\n           &lt;xsd:element name=&quot;doNotAllowInsertDeleteSection&quot; type=&quot;w06:CT_OnOff&quot; minOccurs=&quot;0&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:simpleType name=&quot;ST_Guid&quot;&gt;\r\n         &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;\r\n           &lt;xsd:pattern value=&quot;\\{[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}\\}&quot;/&gt;\r\n         &lt;/xsd:restriction&gt;\r\n       &lt;/xsd:simpleType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_Guid&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_Guid&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;repeatingSection&quot; type=&quot;CT_SdtRepeatedSection&quot;/&gt;\r\n       &lt;xsd:element name=&quot;repeatingSectionItem&quot; type=&quot;w06:CT_Empty&quot;/&gt;\r\n       &lt;xsd:element name=&quot;chartTrackingRefBased&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;collapsed&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;docId&quot; type=&quot;CT_Guid&quot;/&gt;\r\n       &lt;xsd:element name=&quot;footnoteColumns&quot; type=&quot;w06:CT_DecimalNumber&quot;/&gt;\r\n       &lt;xsd:element name=&quot;webExtensionLinked&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;webExtensionCreated&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:attribute name=&quot;restartNumberingAfterBreak&quot; type=&quot;w06st:ST_OnOff&quot;/&gt;\r\n     &lt;/xsd:schema&gt;\r\n\r\nThe `word12.xsd` refers to other types. So additional schemes needs to be accessible while compiling. Those can be got from [ECMA-376](https://www.ecma-international.org/publications-and-standards/standards/ecma-376/), Download part 4 and unpack `OfficeOpenXML-XMLSchema-Transitional.zip` of \r\n`ECMA-376-Fifth-Edition-Part-4-Transitional-Migration-Features.zip` to a directory of your filesystem. I have done this to `./xsd/ooxml` (replace the `.` with your special location). Copy `word12.xsd` to this directory too.\r\n\r\nNow we can do the compiling using `scomp`.\r\n\r\n    scomp -src ./xmlbeans/ooxml/src -out ./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar ./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd\r\n\r\nThis compiles the three schema files `./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd` and creates the JAR `./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar` and puts the `*.java` source files in `./xmlbeans/ooxml/src`.\r\n\r\nAfter compiling you have the `ooxml-schemas-word12-5.2.2.jar` containing the new `com.microsoft.schemas.office.word.x2012.wordml.*` classes. If there are problems with compiling using XmlBeans, here is the resulting [ooxml-schemas-word12-5.2.2.jar](https://github.com/AxelRichter/apache-poi/tree/main/ooxml/word12). This must be in class path while compiling and running following code.\r\n\r\n\r\n**Using the `com.microsoft.schemas.office.word.x2012.wordml.*` classes in `ooxml-schemas-word12-5.2.2.jar` to create a `XWPFDocument` having comments and using extended comment properties**\r\n\r\nWe know we need `/word/comments.xml` and `/word/commentsExtended.xml` in the `*.docx` ZIP archive. In `apache poi` `ooxml` this XML files are called document parts. There must be `XWPF` classes which extend `POIXMLDocumentPart` to handle those document parts. This classes need override `protected void commit()` to be able to save the content while `XWPFDocument.write`. Additional we need a method to create (add) this document parts to the `OPCPackage` (`ZipPackage`) of the `XWPFDocument`. The relation between the document parts and the `OPCPackage` is saved using a `POIXMLRelation`. So we need the `XWPFRelation.COMMENT`, which is already provided in `apache poi`, and additional `XWPFCommentsExRelation` which extends `POIXMLRelation`.\r\n\r\nTo be referable in `CTCommentsEx` the paragraphs in `CTComment` need attribute `paraId` from namespace `http://schemas.microsoft.com/office/word/2010/wordml`. We should avoid importing and compiling the [5.1 http://schemas.microsoft.com/office/word/2010/wordml Schema](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/9704b59f-bc49-4618-ac66-41beb82a0d7f) only to be able to set this attribute. So we use `XmlCursor.insertAttributeWithValue` to add that attribute to `CTP` in `CTComment`. (Note: The above linked XSD seems not even to be the full schema for namespace `http://schemas.microsoft.com/office/word/2010/wordml`. At least there is no definition for atribute `paraId` in `CT_P`.)\r\n\r\nPutting all this together we can have following code:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.apache.poi.ooxml.*;\r\n    import static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    import com.microsoft.schemas.office.word.x2012.wordml.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.math.BigInteger;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class CreateWordWithCommentsAndCommentsEx {\r\n    \r\n    //a method for creating the CommentsDocument /word/comments.xml in the *.docx ZIP archive  \r\n     private static MyXWPFCommentsDocument createCommentsDocument(XWPFDocument document) throws Exception {\r\n      OPCPackage oPCPackage = document.getPackage();\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/comments.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml&quot;);\r\n      MyXWPFCommentsDocument myXWPFCommentsDocument = new MyXWPFCommentsDocument(part);\r\n     \r\n      String rId = document.addRelation(null, XWPFRelation.COMMENT, myXWPFCommentsDocument).getRelationship().getId();\r\n    \r\n      return myXWPFCommentsDocument;\r\n     }\r\n     \r\n    //a method for creating the CommentsExtendedDocument /word/commentsExtended.xml in the *.docx ZIP archive  \r\n     private static MyXWPFCommentsExtendedDocument createCommentsExtendedDocument(XWPFDocument document) throws Exception {\r\n      OPCPackage oPCPackage = document.getPackage();\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;);\r\n      MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = new MyXWPFCommentsExtendedDocument(part);\r\n     \r\n      String rId = document.addRelation(null, new XWPFCommentsExRelation(), myXWPFCommentsExtendedDocument).getRelationship().getId();\r\n    \r\n      return myXWPFCommentsExtendedDocument;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n     \r\n      MyXWPFCommentsDocument myXWPFCommentsDocument = createCommentsDocument(document);\r\n      MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = createCommentsExtendedDocument(document);\r\n     \r\n      CTComments comments = myXWPFCommentsDocument.getComments();\r\n      CTCommentsEx commentsEx = myXWPFCommentsExtendedDocument.getCommentsEx();\r\n      \r\n      CTComment ctComment;\r\n      CTCommentEx ctCommentEx;\r\n      CTP ctP;\r\n      XWPFParagraph paragraph;\r\n      XWPFRun run;\r\n      BigInteger cId;\r\n      XmlCursor cursor;\r\n    \r\n    //first comment\r\n      cId = BigInteger.ZERO;\r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctP = ctComment.addNewP();\r\n      cursor = ctP.newCursor();\r\n      cursor.toNextToken();\r\n      cursor.insertAttributeWithValueâ(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020304&quot;);\r\n      cursor.dispose();\r\n      ctP.addNewR().addNewT().setStringValue(&quot;The first comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n      ctCommentEx = commentsEx.addNewCommentEx();\r\n      ctCommentEx.setParaId(new byte[]{1,2,3,4});\r\n      \r\n      paragraph = document.createParagraph();\r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n    \r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph with the first comment.&quot;);\r\n    \r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n    \r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //sub comment to first comment\r\n      cId = cId.add(BigInteger.ONE);\r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctP = ctComment.addNewP();\r\n      cursor = ctP.newCursor();\r\n      cursor.toNextToken();\r\n      cursor.insertAttributeWithValueâ(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020305&quot;);\r\n      cursor.dispose();\r\n      ctP.addNewR().addNewT().setStringValue(&quot;Sub comment to the first comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n      ctCommentEx = commentsEx.addNewCommentEx();\r\n      ctCommentEx.setParaId(new byte[]{1,2,3,5});\r\n      ctCommentEx.setParaIdParent(new byte[]{1,2,3,4});\r\n      \r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //paragraph without comment\r\n      paragraph = document.createParagraph();\r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph without comment.&quot;);\r\n    \r\n    //second comment\r\n      cId = cId.add(BigInteger.ONE);\r\n    \r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctComment.addNewP().addNewR().addNewT().setStringValue(&quot;The second comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n     // ctCommentEx = commentsEx.addNewCommentEx();\r\n    \r\n      paragraph = document.createParagraph();\r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n    \r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph with the second comment.&quot;);\r\n    \r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n    \r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //write document\r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordWithComments.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    \r\n    //a wrapper class for the CommentsDocument /word/comments.xml in the *.docx ZIP archive\r\n     private static class MyXWPFCommentsDocument extends POIXMLDocumentPart {\r\n    \r\n      private CTComments comments;\r\n    \r\n      private MyXWPFCommentsDocument(PackagePart part) throws Exception {\r\n       super(part);\r\n       comments = CommentsDocument.Factory.newInstance().addNewComments();\r\n      }\r\n    \r\n      private CTComments getComments() {\r\n       return comments;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTComments.type.getName().getNamespaceURI(), &quot;comments&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       comments.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n     \r\n    //a wrapper class for the CommentsExDocument /word/commentsExtended.xml in the *.docx ZIP archive\r\n     private static class MyXWPFCommentsExtendedDocument extends POIXMLDocumentPart {\r\n    \r\n      private CTCommentsEx commentsEx;\r\n    \r\n      private MyXWPFCommentsExtendedDocument(PackagePart part) throws Exception {\r\n       super(part);\r\n       commentsEx = CommentsExDocument.Factory.newInstance().addNewCommentsEx();\r\n      }\r\n    \r\n      private CTCommentsEx getCommentsEx() {\r\n       return commentsEx;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTCommentsEx.type.getName().getNamespaceURI(), &quot;commentsExtended&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       commentsEx.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n     \r\n     //the XWPFRelation for /word/commentsExtended.xml\r\n     private final static class XWPFCommentsExRelation extends POIXMLRelation {\r\n      private XWPFCommentsExRelation() {\r\n       super(\r\n        &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;, \r\n        &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;, \r\n        &quot;/word/commentsExtended.xml&quot;);\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\nThis generates:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7A70H.png","title":"How to add Classes for CommentsExtended.xml &amp; CommentsExtensible.xml to POI 3.14","body":"<p>To explain the principle, I will try give a complete example which is as minimal as possible.</p>\n<p>At first: Apache POI 3.14 is too old. My answer relies on current <code>apache poi 5.2.2</code>.</p>\n<p><strong>Generating the <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes from the <code>*.xsd</code> schema files using <a href=\"https://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">XMLBeans</a></strong></p>\n<p>The <code>word12.xsd</code> can be got from the Microsoft source: <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117\" rel=\"nofollow noreferrer\">5.2 http://schemas.microsoft.com/office/word/2012/wordml Schema</a>. But it has to be changed a little bit to be compilable.</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:**w12**=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot; ...&gt;\n</code></pre>\n<p>Why is the <code>wordprocessingml/2006/</code> name space prefixed <code>w12</code>? That's irritating and should better be <code>w06</code>.</p>\n<pre><code>&lt;xsd:import id=&quot;w12&quot; namespace=**&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;** ...&gt;\n</code></pre>\n<p>Why get the well known <code>wordprocessingml/2006/</code> name space additional imported as <code>w12</code>? That violates the given <code>targetNamespace</code>. It should be</p>\n<pre><code>&lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; ...&gt;\n</code></pre>\n<p>And since ECMA-376-Fifth-Edition the types <code>ST_OnOff</code> and <code>ST_String</code> are not more in <code>http://schemas.openxmlformats.org/wordprocessingml/2006/main</code> namespace but in <code>http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes</code>. So we need an additional namespace:</p>\n<pre><code>... xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot; ...\n</code></pre>\n<p>The complete <code>word12.xsd</code>:</p>\n<pre><code> &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \n  xmlns:w06=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;\n  xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot;\n  elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot; blockDefault=&quot;#all&quot; \n  xmlns=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; \n  targetNamespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot;&gt;\n   &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; schemaLocation=&quot;word12.xsd&quot;/&gt;\n   &lt;xsd:element name=&quot;color&quot; type=&quot;w06:CT_Color&quot;/&gt;\n   &lt;xsd:simpleType name=&quot;ST_SdtAppearance&quot;&gt;\n     &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n       &lt;xsd:enumeration value=&quot;boundingBox&quot;/&gt;\n       &lt;xsd:enumeration value=&quot;tags&quot;/&gt;\n       &lt;xsd:enumeration value=&quot;hidden&quot;/&gt;\n     &lt;/xsd:restriction&gt;\n   &lt;/xsd:simpleType&gt;\n   &lt;xsd:element name=&quot;dataBinding&quot; type=&quot;w06:CT_DataBinding&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_SdtAppearance&quot;&gt;\n     &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_SdtAppearance&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;appearance&quot; type=&quot;CT_SdtAppearance&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_CommentsEx&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;commentEx&quot; type=&quot;CT_CommentEx&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_CommentEx&quot;&gt;\n     &lt;xsd:attribute name=&quot;paraId&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;required&quot;/&gt;\n     &lt;xsd:attribute name=&quot;paraIdParent&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;optional&quot;/&gt;\n     &lt;xsd:attribute name=&quot;done&quot; type=&quot;w06st:ST_OnOff&quot; use=&quot;optional&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;commentsEx&quot; type=&quot;CT_CommentsEx&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_People&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;person&quot; type=&quot;CT_Person&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_PresenceInfo&quot;&gt;\n     &lt;xsd:attribute name=&quot;providerId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n     &lt;xsd:attribute name=&quot;userId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_Person&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;presenceInfo&quot; type=&quot;CT_PresenceInfo&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n     &lt;xsd:attribute name=&quot;author&quot; type=&quot;w06st:ST_String&quot; use=&quot;required&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;people&quot; type=&quot;CT_People&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_SdtRepeatedSection&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;sectionTitle&quot; type=&quot;w06:CT_String&quot; minOccurs=&quot;0&quot;/&gt;\n       &lt;xsd:element name=&quot;doNotAllowInsertDeleteSection&quot; type=&quot;w06:CT_OnOff&quot; minOccurs=&quot;0&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:simpleType name=&quot;ST_Guid&quot;&gt;\n     &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;\n       &lt;xsd:pattern value=&quot;\\{[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}\\}&quot;/&gt;\n     &lt;/xsd:restriction&gt;\n   &lt;/xsd:simpleType&gt;\n   &lt;xsd:complexType name=&quot;CT_Guid&quot;&gt;\n     &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_Guid&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;repeatingSection&quot; type=&quot;CT_SdtRepeatedSection&quot;/&gt;\n   &lt;xsd:element name=&quot;repeatingSectionItem&quot; type=&quot;w06:CT_Empty&quot;/&gt;\n   &lt;xsd:element name=&quot;chartTrackingRefBased&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;collapsed&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;docId&quot; type=&quot;CT_Guid&quot;/&gt;\n   &lt;xsd:element name=&quot;footnoteColumns&quot; type=&quot;w06:CT_DecimalNumber&quot;/&gt;\n   &lt;xsd:element name=&quot;webExtensionLinked&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;webExtensionCreated&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:attribute name=&quot;restartNumberingAfterBreak&quot; type=&quot;w06st:ST_OnOff&quot;/&gt;\n &lt;/xsd:schema&gt;\n</code></pre>\n<p>The <code>word12.xsd</code> refers to other types. So additional schemes needs to be accessible while compiling. Those can be got from <a href=\"https://www.ecma-international.org/publications-and-standards/standards/ecma-376/\" rel=\"nofollow noreferrer\">ECMA-376</a>, Download part 4 and unpack <code>OfficeOpenXML-XMLSchema-Transitional.zip</code> of\n<code>ECMA-376-Fifth-Edition-Part-4-Transitional-Migration-Features.zip</code> to a directory of your filesystem. I have done this to <code>./xsd/ooxml</code> (replace the <code>.</code> with your special location). Copy <code>word12.xsd</code> to this directory too.</p>\n<p>Now we can do the compiling using <code>scomp</code>.</p>\n<pre><code>scomp -src ./xmlbeans/ooxml/src -out ./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar ./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd\n</code></pre>\n<p>This compiles the three schema files <code>./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd</code> and creates the JAR <code>./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar</code> and puts the <code>*.java</code> source files in <code>./xmlbeans/ooxml/src</code>.</p>\n<p>After compiling you have the <code>ooxml-schemas-word12-5.2.2.jar</code> containing the new <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes. If there are problems with compiling using XmlBeans, here is the resulting <a href=\"https://github.com/AxelRichter/apache-poi/tree/main/ooxml/word12\" rel=\"nofollow noreferrer\">ooxml-schemas-word12-5.2.2.jar</a>. This must be in class path while compiling and running following code.</p>\n<p><strong>Using the <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes in <code>ooxml-schemas-word12-5.2.2.jar</code> to create a <code>XWPFDocument</code> having comments and using extended comment properties</strong></p>\n<p>We know we need <code>/word/comments.xml</code> and <code>/word/commentsExtended.xml</code> in the <code>*.docx</code> ZIP archive. In <code>apache poi</code> <code>ooxml</code> this XML files are called document parts. There must be <code>XWPF</code> classes which extend <code>POIXMLDocumentPart</code> to handle those document parts. This classes need override <code>protected void commit()</code> to be able to save the content while <code>XWPFDocument.write</code>. Additional we need a method to create (add) this document parts to the <code>OPCPackage</code> (<code>ZipPackage</code>) of the <code>XWPFDocument</code>. The relation between the document parts and the <code>OPCPackage</code> is saved using a <code>POIXMLRelation</code>. So we need the <code>XWPFRelation.COMMENT</code>, which is already provided in <code>apache poi</code>, and additional <code>XWPFCommentsExRelation</code> which extends <code>POIXMLRelation</code>.</p>\n<p>To be referable in <code>CTCommentsEx</code> the paragraphs in <code>CTComment</code> need attribute <code>paraId</code> from namespace <code>http://schemas.microsoft.com/office/word/2010/wordml</code>. We should avoid importing and compiling the <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/9704b59f-bc49-4618-ac66-41beb82a0d7f\" rel=\"nofollow noreferrer\">5.1 http://schemas.microsoft.com/office/word/2010/wordml Schema</a> only to be able to set this attribute. So we use <code>XmlCursor.insertAttributeWithValue</code> to add that attribute to <code>CTP</code> in <code>CTComment</code>. (Note: The above linked XSD seems not even to be the full schema for namespace <code>http://schemas.microsoft.com/office/word/2010/wordml</code>. At least there is no definition for atribute <code>paraId</code> in <code>CT_P</code>.)</p>\n<p>Putting all this together we can have following code:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.openxml4j.opc.*;\nimport org.apache.xmlbeans.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.apache.poi.ooxml.*;\nimport static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\nimport com.microsoft.schemas.office.word.x2012.wordml.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.math.BigInteger;\nimport java.util.GregorianCalendar;\nimport java.util.Locale;\n\n\npublic class CreateWordWithCommentsAndCommentsEx {\n\n//a method for creating the CommentsDocument /word/comments.xml in the *.docx ZIP archive  \n private static MyXWPFCommentsDocument createCommentsDocument(XWPFDocument document) throws Exception {\n  OPCPackage oPCPackage = document.getPackage();\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/comments.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml&quot;);\n  MyXWPFCommentsDocument myXWPFCommentsDocument = new MyXWPFCommentsDocument(part);\n \n  String rId = document.addRelation(null, XWPFRelation.COMMENT, myXWPFCommentsDocument).getRelationship().getId();\n\n  return myXWPFCommentsDocument;\n }\n \n//a method for creating the CommentsExtendedDocument /word/commentsExtended.xml in the *.docx ZIP archive  \n private static MyXWPFCommentsExtendedDocument createCommentsExtendedDocument(XWPFDocument document) throws Exception {\n  OPCPackage oPCPackage = document.getPackage();\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;);\n  MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = new MyXWPFCommentsExtendedDocument(part);\n \n  String rId = document.addRelation(null, new XWPFCommentsExRelation(), myXWPFCommentsExtendedDocument).getRelationship().getId();\n\n  return myXWPFCommentsExtendedDocument;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n \n  MyXWPFCommentsDocument myXWPFCommentsDocument = createCommentsDocument(document);\n  MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = createCommentsExtendedDocument(document);\n \n  CTComments comments = myXWPFCommentsDocument.getComments();\n  CTCommentsEx commentsEx = myXWPFCommentsExtendedDocument.getCommentsEx();\n  \n  CTComment ctComment;\n  CTCommentEx ctCommentEx;\n  CTP ctP;\n  XWPFParagraph paragraph;\n  XWPFRun run;\n  BigInteger cId;\n  XmlCursor cursor;\n\n//first comment\n  cId = BigInteger.ZERO;\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctP = ctComment.addNewP();\n  cursor = ctP.newCursor();\n  cursor.toNextToken();\n  cursor.insertAttributeWithValueâ(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020304&quot;);\n  cursor.dispose();\n  ctP.addNewR().addNewT().setStringValue(&quot;The first comment.&quot;);\n  ctComment.setId(cId);\n  \n  ctCommentEx = commentsEx.addNewCommentEx();\n  ctCommentEx.setParaId(new byte[]{1,2,3,4});\n  \n  paragraph = document.createParagraph();\n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph with the first comment.&quot;);\n\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//sub comment to first comment\n  cId = cId.add(BigInteger.ONE);\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctP = ctComment.addNewP();\n  cursor = ctP.newCursor();\n  cursor.toNextToken();\n  cursor.insertAttributeWithValueâ(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020305&quot;);\n  cursor.dispose();\n  ctP.addNewR().addNewT().setStringValue(&quot;Sub comment to the first comment.&quot;);\n  ctComment.setId(cId);\n  \n  ctCommentEx = commentsEx.addNewCommentEx();\n  ctCommentEx.setParaId(new byte[]{1,2,3,5});\n  ctCommentEx.setParaIdParent(new byte[]{1,2,3,4});\n  \n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//paragraph without comment\n  paragraph = document.createParagraph();\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph without comment.&quot;);\n\n//second comment\n  cId = cId.add(BigInteger.ONE);\n\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctComment.addNewP().addNewR().addNewT().setStringValue(&quot;The second comment.&quot;);\n  ctComment.setId(cId);\n  \n // ctCommentEx = commentsEx.addNewCommentEx();\n\n  paragraph = document.createParagraph();\n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph with the second comment.&quot;);\n\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//write document\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordWithComments.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n\n//a wrapper class for the CommentsDocument /word/comments.xml in the *.docx ZIP archive\n private static class MyXWPFCommentsDocument extends POIXMLDocumentPart {\n\n  private CTComments comments;\n\n  private MyXWPFCommentsDocument(PackagePart part) throws Exception {\n   super(part);\n   comments = CommentsDocument.Factory.newInstance().addNewComments();\n  }\n\n  private CTComments getComments() {\n   return comments;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTComments.type.getName().getNamespaceURI(), &quot;comments&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   comments.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n \n//a wrapper class for the CommentsExDocument /word/commentsExtended.xml in the *.docx ZIP archive\n private static class MyXWPFCommentsExtendedDocument extends POIXMLDocumentPart {\n\n  private CTCommentsEx commentsEx;\n\n  private MyXWPFCommentsExtendedDocument(PackagePart part) throws Exception {\n   super(part);\n   commentsEx = CommentsExDocument.Factory.newInstance().addNewCommentsEx();\n  }\n\n  private CTCommentsEx getCommentsEx() {\n   return commentsEx;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTCommentsEx.type.getName().getNamespaceURI(), &quot;commentsExtended&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   commentsEx.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n \n //the XWPFRelation for /word/commentsExtended.xml\n private final static class XWPFCommentsExRelation extends POIXMLRelation {\n  private XWPFCommentsExRelation() {\n   super(\n    &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;, \n    &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;, \n    &quot;/word/commentsExtended.xml&quot;);\n  }\n }\n\n}\n</code></pre>\n<p>This generates:</p>\n<p><a href=\"https://i.stack.imgur.com/7A70H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7A70H.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71784799,"answer_count":1,"score":0,"last_activity_date":1649412947,"creation_date":1649158502,"question_id":71751045,"body_markdown":"I know that POI only supports XSD of 2007 but CommentsExtended.xml &amp; CommentsExtensible.xml were introduced in 2012. But I need to add this functionality in POI &amp; use it in our end. I have downloded XSD for both these files. But don&#39;t know where to get started. I know in general that POI uses Xmlbeans to generate low level classes for XSD Schemas. But don&#39;t know where to start &amp; how to proceed. Any help will be really appreciable. \r\n\r\n**First Attempt**\r\n\r\nAt first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. \r\n**What am I doing wrong ? How to add realtion for commentsExtended file in the document.xml.rels itself ?** [Alex ritcher](https://stackoverflow.com/users/3915431/axel-richter)\r\n\r\n    public static void main(String[] args) throws Exception {       \r\n            createCommentsExtendedPackage();\r\n    }\r\n    \r\n    private static void createCommentsExtendedPackage() throws Exception {\r\n    \r\n            XWPFDocument document = new XWPFDocument();\r\n            PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n            OPCPackage opcPackage = document.getPackage();\r\n            PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\r\n            OutputStream outputStream = part.getOutputStream();\r\n            outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\r\n            outputStream.close();\r\n            \r\n            //Creates commentsExtended.xml.rels file which is not needed.\r\n            document.getPackagePart().addRelationship(partName, TargetMode.INTERNAL, PackageRelationshipTypes.CUSTOM_XML);\r\n            \r\n            //When trying to add relationShip in document getting NULL Pointer Exception\r\n            POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\r\n            String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\r\n            document.addRelation(rIdExtLink, documentPart);\r\n            \r\n            // Save document\r\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n            document.write(outStream);\r\n            byte[] fileBytes = outStream.toByteArray();\r\n            FileUtil.write(&quot;CommentsExtended.docx&quot;, fileBytes); //no i18n\r\n        }\r\n\r\n**Second Attempt:**\r\nI am now able to add commentsExtended.xml relations in document.xml.rels using below code but now my value in commentsExtended.xml is being cleared upon save. How to retain value in commentsExtended.xml when value is set. **Any help is highly appreciable.**\r\n\r\n    private static void createCommentsExtendedPackage() throws Exception {\r\n    \r\n    \t\tXWPFDocument document = new XWPFDocument();\r\n    \t\tOPCPackage opcPackage = document.getPackage();\r\n    \t\t\r\n    \t\tPackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n    \t\tPackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\r\n    \t\t\r\n    \t\tclass CommentsExtendedRelation extends POIXMLRelation {\r\n                private CommentsExtendedRelation() {\r\n                    super(  &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;,\r\n                            &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;,\r\n                            &quot;/word/commentsExtended.xml&quot;);\r\n                }\r\n            }\r\n    \t\t\r\n    \t\t//Adding relation in document.xml.rels\r\n            POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\r\n            String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\r\n            document.addRelation(rIdExtLink, new CommentsExtendedRelation() , documentPart);    \t\t\r\n    \t\t           \r\n            OutputStream outputStream = part.getOutputStream();\r\n    \t\toutputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\r\n    \t\toutputStream.close();\r\n    \t\t\r\n    \t\t// Create main document part\r\n    \t\tByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \t\tdocument.write(outStream);\r\n    \t\tbyte[] fileBytes = outStream.toByteArray();\r\n    \t\tFileUtil.write(&quot;CommentsExtendedOld.docx&quot;, fileBytes); //no i18n\r\n    \t}","title":"How to add Classes for CommentsExtended.xml &amp; CommentsExtensible.xml to POI 3.14","body":"<p>I know that POI only supports XSD of 2007 but CommentsExtended.xml &amp; CommentsExtensible.xml were introduced in 2012. But I need to add this functionality in POI &amp; use it in our end. I have downloded XSD for both these files. But don't know where to get started. I know in general that POI uses Xmlbeans to generate low level classes for XSD Schemas. But don't know where to start &amp; how to proceed. Any help will be really appreciable.</p>\n<p><strong>First Attempt</strong></p>\n<p>At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels.\n<strong>What am I doing wrong ? How to add realtion for commentsExtended file in the document.xml.rels itself ?</strong> <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex ritcher</a></p>\n<pre><code>public static void main(String[] args) throws Exception {       \n        createCommentsExtendedPackage();\n}\n\nprivate static void createCommentsExtendedPackage() throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n        PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n        OPCPackage opcPackage = document.getPackage();\n        PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\n        OutputStream outputStream = part.getOutputStream();\n        outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\n        outputStream.close();\n        \n        //Creates commentsExtended.xml.rels file which is not needed.\n        document.getPackagePart().addRelationship(partName, TargetMode.INTERNAL, PackageRelationshipTypes.CUSTOM_XML);\n        \n        //When trying to add relationShip in document getting NULL Pointer Exception\n        POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\n        String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\n        document.addRelation(rIdExtLink, documentPart);\n        \n        // Save document\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n        document.write(outStream);\n        byte[] fileBytes = outStream.toByteArray();\n        FileUtil.write(&quot;CommentsExtended.docx&quot;, fileBytes); //no i18n\n    }\n</code></pre>\n<p><strong>Second Attempt:</strong>\nI am now able to add commentsExtended.xml relations in document.xml.rels using below code but now my value in commentsExtended.xml is being cleared upon save. How to retain value in commentsExtended.xml when value is set. <strong>Any help is highly appreciable.</strong></p>\n<pre><code>private static void createCommentsExtendedPackage() throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n        OPCPackage opcPackage = document.getPackage();\n        \n        PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n        PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\n        \n        class CommentsExtendedRelation extends POIXMLRelation {\n            private CommentsExtendedRelation() {\n                super(  &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;,\n                        &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;,\n                        &quot;/word/commentsExtended.xml&quot;);\n            }\n        }\n        \n        //Adding relation in document.xml.rels\n        POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\n        String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\n        document.addRelation(rIdExtLink, new CommentsExtendedRelation() , documentPart);            \n                   \n        OutputStream outputStream = part.getOutputStream();\n        outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\n        outputStream.close();\n        \n        // Create main document part\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n        document.write(outStream);\n        byte[] fileBytes = outStream.toByteArray();\n        FileUtil.write(&quot;CommentsExtendedOld.docx&quot;, fileBytes); //no i18n\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","stored-procedures","testcontainers"],"comments":[{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1649232221,"post_id":71762480,"comment_id":126820860,"body_markdown":"&#39;If you use the mysql client program ...you must redefine the delimiter &#39; - https://dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.html ..you aren&#39;t using a mysql client program , have you tried without delimiters?","body":"&#39;If you use the mysql client program ...you must redefine the delimiter &#39; - <a href=\"https://dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.htm&zwnj;&#8203;l</a> ..you aren&#39;t using a mysql client program , have you tried without delimiters?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1649236907,"post_id":71762480,"comment_id":126822608,"body_markdown":"`DELIMITER` is **not** SQL statement but client command. It shouldn&#39;t present in your script. Read the manual for your language and MySQL accessing library/framework for correct delimiter changing in the batch script.","body":"<code>DELIMITER</code> is <b>not</b> SQL statement but client command. It shouldn&#39;t present in your script. Read the manual for your language and MySQL accessing library/framework for correct delimiter changing in the batch script."},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1649243678,"post_id":71762480,"comment_id":126825185,"body_markdown":"yes I have tried without and its not working. i&#39;m not sure r2dbc has that delimeter functionality.","body":"yes I have tried without and its not working. i&#39;m not sure r2dbc has that delimeter functionality."}],"answers":[{"tags":[],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649412617,"creation_date":1649412617,"answer_id":71795222,"question_id":71762480,"body_markdown":"So the best way is to copy the sql file to the container and have it executed in the initialization of the container with /docker-entrypoint-initdb.d. This is the recommendation by sql team. So this is how to achieve it.\r\n\r\n     private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\r\n        static {\r\n            try {\r\n                database.withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema2.sql&quot;), &quot;/docker-entrypoint-initdb.d/schema.sql&quot;);\r\n                database.start();\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }       \r\n        }","title":"fixing Mysql Delimiter syntax error in testcontainers init script","body":"<p>So the best way is to copy the sql file to the container and have it executed in the initialization of the container with /docker-entrypoint-initdb.d. This is the recommendation by sql team. So this is how to achieve it.</p>\n<pre><code> private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\n    static {\n        try {\n            database.withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema2.sql&quot;), &quot;/docker-entrypoint-initdb.d/schema.sql&quot;);\n            database.start();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }       \n    }\n</code></pre>\n"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71795222,"answer_count":1,"score":1,"last_activity_date":1649412617,"creation_date":1649229203,"question_id":71762480,"body_markdown":"I want to test a stored procedure with testcontainers. So I am initializing my container with an SQL script containing the definition of the stored procedure but I am getting this syntax error\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;initializer&#39; defined in com.api.bankApi.services.TransactionServiceTest$TestConfig: Invocation of init method failed; nested exception is org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n    Caused by: org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n    Caused by: io.r2dbc.spi.R2dbcBadGrammarException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n\r\nfrom mysql documentation the delimiter syntax seems to be correct I am wondering what could be the issue\r\n\r\nthis is the initializtion code \r\n\r\n    @TestConfiguration\r\n        static class TestConfig {\r\n            @Bean\r\n            public ConnectionFactoryInitializer initializer() {\r\n                ConnectionFactoryOptions options = MySQLR2DBCDatabaseContainer.getOptions(database);\r\n    \r\n                ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n                initializer.setConnectionFactory(ConnectionFactories.get(options));\r\n    \r\n                CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n                populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\r\n                populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\r\n                initializer.setDatabasePopulator(populator);\r\n    \r\n                return initializer;\r\n            }\r\n        }\r\n\r\nNOTE: when I remove the stored procedure code the script runs ok. and the stored procedure is running fine in my local database as well\r\n\r\nscript\r\n\r\n    DROP TABLE IF EXISTS `bank_account`;\r\n    \r\n    CREATE TABLE `bank_account` (\r\n      `id` int NOT NULL AUTO_INCREMENT,\r\n      `balance` decimal(17,2) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    DROP TABLE IF EXISTS `transactions`;\r\n    \r\n    CREATE TABLE `transactions` (\r\n      `id` int NOT NULL AUTO_INCREMENT,\r\n      `transaction_type` varchar(255) DEFAULT NULL,\r\n      `reference` varchar(255) DEFAULT NULL,\r\n      `amount` decimal(17,2) DEFAULT NULL,\r\n      `creation_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    DROP TABLE IF EXISTS `error_log`;\r\n    \r\n    CREATE TABLE `error_log` (\r\n      `id` int unsigned NOT NULL AUTO_INCREMENT,\r\n      `date_in` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n      `corrected_by` varchar(255) NOT NULL DEFAULT &#39;&#39;,\r\n      `proc_name` varchar(50) NOT NULL DEFAULT &#39;&#39;,\r\n      `node_id` int NOT NULL DEFAULT &#39;-1&#39;,\r\n      `err_no` int NOT NULL DEFAULT &#39;0&#39;,\r\n      `err_text` varchar(255) DEFAULT &#39;&#39;,\r\n      `row_no` int NOT NULL DEFAULT &#39;0&#39;,\r\n      `value1` varchar(255) DEFAULT &#39;&#39;,\r\n      `value2` varchar(255) DEFAULT &#39;&#39;,\r\n      `text1` varchar(255) DEFAULT &#39;&#39;,\r\n      `text2` varchar(255) DEFAULT &#39;&#39;,\r\n      `long_text` mediumtext,\r\n      PRIMARY KEY (`id`) USING BTREE,\r\n      KEY `err_log_time_idx` (`date_in`) USING BTREE\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 ROW_FORMAT=COMPACT;\r\n    \r\n    DELIMITER $$\r\n    \r\n    CREATE  PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) )\r\n    exitSub:BEGIN\r\n     \r\n    \t\tDECLARE EXIT HANDLER for SQLEXCEPTION\r\n    \t\tBEGIN\r\n    \t\t  DECLARE errNom INT UNSIGNED DEFAULT 0;\r\n    \t\t  DECLARE errText VARCHAR (50);\r\n    \t\t  GET DIAGNOSTICS CONDITION 1 errText = MESSAGE_TEXT, errNom = MYSQL_ERRNO;\r\n    \t\t  INSERT INTO error_log(proc_name,err_no,err_text,row_no,value1,long_text)\r\n    \t\t\t   VALUES (&#39;make_transaction&#39;,errNom,errText,rowNo,concat(&#39;trans_id:&#39;,trans_id),&#39;EXCEPTION&#39;);\r\n    \t\tEND;\r\n            if v_amount &lt; 0 then select &#39;negative amounts not allowed&#39; as description; LEAVE exitSub; end if;\r\n            if not exists(select `reference` from transactions where `reference`=trans_id)\tthen\r\n    \t\t\tinsert into transactions (transaction_type,amount,`reference`)\r\n                values(trans_type,v_amount,trans_id);\r\n                update bank_account set balance = if(trans_type=&#39;DEPOSIT&#39;,balance+v_amount,balance-v_amount);\r\n                select &#39;success&#39; as description;\r\n                LEAVE exitSub;\r\n            end if;\r\n            select &#39;dupicate transaction&#39; as description;\r\n    \r\n    END $$\r\n    DELIMITER ;\r\n\r\nEDIT:\r\n\r\nafter research I used testcontainers initscript its now executing without breaking but now it seems all other statements are being executed except creation of the stored procedure. because when i run the tests I get PROCEDURE does not exist error for tests that execute the procedure.\r\n\r\n    private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\r\n        static {\r\n            try {\r\n                final String script = Resources.toString(Resources.getResource(&quot;schema.sql&quot;), Charsets.UTF_8);\r\n                database.start();\r\n                ScriptUtils.executeDatabaseScript(new JdbcDatabaseDelegate(database,&quot;&quot;), &quot;schema.sql&quot;, script, false, false, DEFAULT_COMMENT_PREFIX, \r\n                        DEFAULT_STATEMENT_SEPARATOR, &quot;$$&quot;, &quot;$$$&quot;);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(TransactionServiceTest.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\nfailed tests errors\r\n\r\n    TransactionServiceTest.depositFundsSuccess expectation &quot;assertNext&quot; failed (expected: onNext();\r\n    actual:onError(org.springframework.r2dbc.BadSqlGrammarException: \r\n    executeMany; bad SQL grammar [call make_transaction(?,?,?)]; \r\n    nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1305] [42000] PROCEDURE test.make_transaction does not exist))\r\n\r\n","title":"fixing Mysql Delimiter syntax error in testcontainers init script","body":"<p>I want to test a stored procedure with testcontainers. So I am initializing my container with an SQL script containing the definition of the stored procedure but I am getting this syntax error</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initializer' defined in com.api.bankApi.services.TransactionServiceTest$TestConfig: Invocation of init method failed; nested exception is org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\nCaused by: org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\nCaused by: io.r2dbc.spi.R2dbcBadGrammarException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\n</code></pre>\n<p>from mysql documentation the delimiter syntax seems to be correct I am wondering what could be the issue</p>\n<p>this is the initializtion code</p>\n<pre><code>@TestConfiguration\n    static class TestConfig {\n        @Bean\n        public ConnectionFactoryInitializer initializer() {\n            ConnectionFactoryOptions options = MySQLR2DBCDatabaseContainer.getOptions(database);\n\n            ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n            initializer.setConnectionFactory(ConnectionFactories.get(options));\n\n            CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n            populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\n            populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\n            initializer.setDatabasePopulator(populator);\n\n            return initializer;\n        }\n    }\n</code></pre>\n<p>NOTE: when I remove the stored procedure code the script runs ok. and the stored procedure is running fine in my local database as well</p>\n<p>script</p>\n<pre><code>DROP TABLE IF EXISTS `bank_account`;\n\nCREATE TABLE `bank_account` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `balance` decimal(17,2) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nDROP TABLE IF EXISTS `transactions`;\n\nCREATE TABLE `transactions` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `transaction_type` varchar(255) DEFAULT NULL,\n  `reference` varchar(255) DEFAULT NULL,\n  `amount` decimal(17,2) DEFAULT NULL,\n  `creation_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\nDROP TABLE IF EXISTS `error_log`;\n\nCREATE TABLE `error_log` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `date_in` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `corrected_by` varchar(255) NOT NULL DEFAULT '',\n  `proc_name` varchar(50) NOT NULL DEFAULT '',\n  `node_id` int NOT NULL DEFAULT '-1',\n  `err_no` int NOT NULL DEFAULT '0',\n  `err_text` varchar(255) DEFAULT '',\n  `row_no` int NOT NULL DEFAULT '0',\n  `value1` varchar(255) DEFAULT '',\n  `value2` varchar(255) DEFAULT '',\n  `text1` varchar(255) DEFAULT '',\n  `text2` varchar(255) DEFAULT '',\n  `long_text` mediumtext,\n  PRIMARY KEY (`id`) USING BTREE,\n  KEY `err_log_time_idx` (`date_in`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 ROW_FORMAT=COMPACT;\n\nDELIMITER $$\n\nCREATE  PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) )\nexitSub:BEGIN\n \n        DECLARE EXIT HANDLER for SQLEXCEPTION\n        BEGIN\n          DECLARE errNom INT UNSIGNED DEFAULT 0;\n          DECLARE errText VARCHAR (50);\n          GET DIAGNOSTICS CONDITION 1 errText = MESSAGE_TEXT, errNom = MYSQL_ERRNO;\n          INSERT INTO error_log(proc_name,err_no,err_text,row_no,value1,long_text)\n               VALUES ('make_transaction',errNom,errText,rowNo,concat('trans_id:',trans_id),'EXCEPTION');\n        END;\n        if v_amount &lt; 0 then select 'negative amounts not allowed' as description; LEAVE exitSub; end if;\n        if not exists(select `reference` from transactions where `reference`=trans_id)  then\n            insert into transactions (transaction_type,amount,`reference`)\n            values(trans_type,v_amount,trans_id);\n            update bank_account set balance = if(trans_type='DEPOSIT',balance+v_amount,balance-v_amount);\n            select 'success' as description;\n            LEAVE exitSub;\n        end if;\n        select 'dupicate transaction' as description;\n\nEND $$\nDELIMITER ;\n</code></pre>\n<p>EDIT:</p>\n<p>after research I used testcontainers initscript its now executing without breaking but now it seems all other statements are being executed except creation of the stored procedure. because when i run the tests I get PROCEDURE does not exist error for tests that execute the procedure.</p>\n<pre><code>private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\n    static {\n        try {\n            final String script = Resources.toString(Resources.getResource(&quot;schema.sql&quot;), Charsets.UTF_8);\n            database.start();\n            ScriptUtils.executeDatabaseScript(new JdbcDatabaseDelegate(database,&quot;&quot;), &quot;schema.sql&quot;, script, false, false, DEFAULT_COMMENT_PREFIX, \n                    DEFAULT_STATEMENT_SEPARATOR, &quot;$$&quot;, &quot;$$$&quot;);\n        } catch (Exception ex) {\n            Logger.getLogger(TransactionServiceTest.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n</code></pre>\n<p>failed tests errors</p>\n<pre><code>TransactionServiceTest.depositFundsSuccess expectation &quot;assertNext&quot; failed (expected: onNext();\nactual:onError(org.springframework.r2dbc.BadSqlGrammarException: \nexecuteMany; bad SQL grammar [call make_transaction(?,?,?)]; \nnested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1305] [42000] PROCEDURE test.make_transaction does not exist))\n</code></pre>\n"},{"tags":["java","ide"],"comments":[{"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1268896183,"post_id":2468059,"comment_id":2458010,"body_markdown":"You have to elaborate more. What is the context? What are you trying to achieve?","body":"You have to elaborate more. What is the context? What are you trying to achieve?"},{"owner":{"account_id":39033,"reputation":475,"user_id":112495,"accept_rate":57,"display_name":"Dipak Chaudhari"},"score":0,"creation_date":1268896450,"post_id":2468059,"comment_id":2458028,"body_markdown":"I want to execute some additional code in case its running inside Eclipse IDE","body":"I want to execute some additional code in case its running inside Eclipse IDE"},{"owner":{"account_id":21712,"reputation":4129,"user_id":53009,"accept_rate":80,"display_name":"chburd"},"score":2,"creation_date":1268909856,"post_id":2468059,"comment_id":2459151,"body_markdown":"warning ! bad practice detected !","body":"warning ! bad practice detected !"}],"answers":[{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1268896547,"creation_date":1268896547,"answer_id":2468091,"question_id":2468059,"body_markdown":"I am not aware of a generic way to get this kind of information.\r\n\r\nOne suggestion:\r\n\r\nWhen you start a Java program (or a web server) inside Tomcat, simply add an argument that will indicate that this program is launched by Eclipse.\r\n\r\nYou can do that by opening the &quot;Open Run Dialog&quot; (&quot;Run&quot; menu), then select your type of application and add in the &quot;Arguments&quot; tab a `-DrunInEclipse=true`.\r\n\r\nIn your Java code, you can check the value of the property:\r\n\r\n    String inEclipseStr = System.getProperty(&quot;runInEclipse&quot;);\r\n    boolean inEclipse = &quot;true&quot;.equalsIgnoreCase(inEclipseStr);\r\n\r\nThis way, if the program is not running inside Eclipse (or unfortunately if you forgot to set the property) the property will be `null` and then the boolean `inEclipse` will be equal to false.","title":"How to detect that code is running inside eclipse IDE","body":"<p>I am not aware of a generic way to get this kind of information.</p>\n\n<p>One suggestion:</p>\n\n<p>When you start a Java program (or a web server) inside Tomcat, simply add an argument that will indicate that this program is launched by Eclipse.</p>\n\n<p>You can do that by opening the \"Open Run Dialog\" (\"Run\" menu), then select your type of application and add in the \"Arguments\" tab a <code>-DrunInEclipse=true</code>.</p>\n\n<p>In your Java code, you can check the value of the property:</p>\n\n<pre><code>String inEclipseStr = System.getProperty(\"runInEclipse\");\nboolean inEclipse = \"true\".equalsIgnoreCase(inEclipseStr);\n</code></pre>\n\n<p>This way, if the program is not running inside Eclipse (or unfortunately if you forgot to set the property) the property will be <code>null</code> and then the boolean <code>inEclipse</code> will be equal to false.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268900453,"creation_date":1268900453,"answer_id":2468313,"question_id":2468059,"body_markdown":"I don&#39;t think there is any way to do this.  But what I would suggest is just a command line argument such as &#39;debug&#39;.  Then in your main method just do \r\n\r\n    if (args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(&quot;debug&quot;)) {\r\n      // do whatever extra work you require here or set a flag for the rest of the code\r\n    }\r\n\r\nThis way you can also get your extra code to run whenever you want just by specifiying the debug parameter but under normal conditions it will never execute.","title":"How to detect that code is running inside eclipse IDE","body":"<p>I don't think there is any way to do this.  But what I would suggest is just a command line argument such as 'debug'.  Then in your main method just do </p>\n\n<pre><code>if (args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(\"debug\")) {\n  // do whatever extra work you require here or set a flag for the rest of the code\n}\n</code></pre>\n\n<p>This way you can also get your extra code to run whenever you want just by specifiying the debug parameter but under normal conditions it will never execute.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268902401,"creation_date":1268902401,"answer_id":2468451,"question_id":2468059,"body_markdown":"Actually the code is not being run inside Eclipse, but in a separate Java process started by Eclipse, and there is per default nothing being done by Eclipse to make it any different than any other invocation of your program.\r\n\r\nIs the thing you want to know, if your program is being run under a debugger?  If so, you cannot say for certain.  You CAN, however, inspect the arguments used to invoke your program and see if there is anything in there you do not like.","title":"How to detect that code is running inside eclipse IDE","body":"<p>Actually the code is not being run inside Eclipse, but in a separate Java process started by Eclipse, and there is per default nothing being done by Eclipse to make it any different than any other invocation of your program.</p>\n\n<p>Is the thing you want to know, if your program is being run under a debugger?  If so, you cannot say for certain.  You CAN, however, inspect the arguments used to invoke your program and see if there is anything in there you do not like.</p>\n"},{"tags":[],"owner":{"account_id":2296458,"reputation":1,"user_id":2017775,"display_name":"Dirk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1359368299,"creation_date":1359368299,"answer_id":14559838,"question_id":2468059,"body_markdown":"You may try something like this:\r\n\r\n    if (ClassLoader.getSystemResource(&quot;org/eclipse/jdt/core/BindingKey.class&quot;)!=null){ \r\n        System.out.println(&quot;Running within Eclipse!!!&quot;); \r\n    } else {\r\n        System.out.println(&quot;Running outside Eclipse!!!&quot;);\r\n    }\r\n","title":"How to detect that code is running inside eclipse IDE","body":"<p>You may try something like this:</p>\n\n<pre><code>if (ClassLoader.getSystemResource(\"org/eclipse/jdt/core/BindingKey.class\")!=null){ \n    System.out.println(\"Running within Eclipse!!!\"); \n} else {\n    System.out.println(\"Running outside Eclipse!!!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300215,"reputation":7638,"user_id":1250303,"display_name":"Java42"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1364048788,"creation_date":1364048788,"answer_id":15587859,"question_id":2468059,"body_markdown":"1) Create a helper method like:\r\n\r\n\r\n    public boolean isDevelopmentEnvironment() {\r\n        boolean isEclipse = true;\r\n        if (System.getenv(&quot;eclipse42&quot;) == null) {\r\n            isEclipse = false;\r\n        }\r\n        return isEclipse;\r\n    }\r\n\r\n\r\n2) Add an environment variable to your launch configuration:\r\n\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n3) Usage example:\r\n\r\n\r\n    if (isDevelopmentEnvironment()) {\r\n        // Do bla_yada_bla because the IDE launched this app\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vCcZ8.png\r\n  [2]: http://i.stack.imgur.com/qdXCf.png","title":"How to detect that code is running inside eclipse IDE","body":"<p>1) Create a helper method like:</p>\n\n<pre><code>public boolean isDevelopmentEnvironment() {\n    boolean isEclipse = true;\n    if (System.getenv(\"eclipse42\") == null) {\n        isEclipse = false;\n    }\n    return isEclipse;\n}\n</code></pre>\n\n<p>2) Add an environment variable to your launch configuration:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vCcZ8.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/qdXCf.png\" alt=\"enter image description here\"></p>\n\n<p>3) Usage example:</p>\n\n<pre><code>if (isDevelopmentEnvironment()) {\n    // Do bla_yada_bla because the IDE launched this app\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407406747,"creation_date":1380920113,"answer_id":19190632,"question_id":2468059,"body_markdown":"If your workspace matches some pattern like &quot;/home/user/workspace/Project&quot; you can use the code below:\r\n\r\n\r\n\tBoolean desenv = null;\r\n\r\n\tboolean isDevelopment() {\r\n\t\tif (desenv != null) return desenv;\r\n\r\n\t\ttry {\r\n\t\t\tdesenv = new File(&quot;.&quot;).getCanonicalPath().contains(&quot;workspace&quot;);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn desenv;\r\n\t}","title":"How to detect that code is running inside eclipse IDE","body":"<p>If your workspace matches some pattern like \"/home/user/workspace/Project\" you can use the code below:</p>\n\n<pre><code>Boolean desenv = null;\n\nboolean isDevelopment() {\n    if (desenv != null) return desenv;\n\n    try {\n        desenv = new File(\".\").getCanonicalPath().contains(\"workspace\");\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return desenv;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453163084,"creation_date":1453163084,"answer_id":34866518,"question_id":2468059,"body_markdown":"A more generic and precise way, that can be used on any IDE would be loop at:  \r\n\r\n`ManagementFactory.getRuntimeMXBean().getInputArguments()`\r\n\r\nlooking for &quot;-Xdebug&quot; || (starting with) &quot;-agentlib:jdwp=&quot;.\r\n\r\nI came with this from @saugata comment [here](https://stackoverflow.com/a/2468451/1422630).\r\n\r\nThis is excellent if you want to throw a conditional exception preventing the application from simply exiting. Use a boolean like &quot;ideWait&quot; and add it to Eclipse watch expressions as ideWait=false, so whenever you stop at that throw, and &quot;drop to frame&quot; you can continue debugging happily (I mean it!)","title":"How to detect that code is running inside eclipse IDE","body":"<p>A more generic and precise way, that can be used on any IDE would be loop at:  </p>\n\n<p><code>ManagementFactory.getRuntimeMXBean().getInputArguments()</code></p>\n\n<p>looking for \"-Xdebug\" || (starting with) \"-agentlib:jdwp=\".</p>\n\n<p>I came with this from @saugata comment <a href=\"https://stackoverflow.com/a/2468451/1422630\">here</a>.</p>\n\n<p>This is excellent if you want to throw a conditional exception preventing the application from simply exiting. Use a boolean like \"ideWait\" and add it to Eclipse watch expressions as ideWait=false, so whenever you stop at that throw, and \"drop to frame\" you can continue debugging happily (I mean it!)</p>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462114474,"creation_date":1462114474,"answer_id":36968018,"question_id":2468059,"body_markdown":"This might work if your alternative execution work flow provides a different set of dependencies:\r\n\r\n    boolean isRunningInEclipe = false;\r\n    try {\r\n    \tWorkbench.getInstance();\r\n    \tisRunningInEclipe = true;\r\n    } catch (NoClassDefFoundError error) {\r\n    \t//not running in Eclipse that would provide the Workbench class\r\n    } ","title":"How to detect that code is running inside eclipse IDE","body":"<p>This might work if your alternative execution work flow provides a different set of dependencies:</p>\n\n<pre><code>boolean isRunningInEclipe = false;\ntry {\n    Workbench.getInstance();\n    isRunningInEclipe = true;\n} catch (NoClassDefFoundError error) {\n    //not running in Eclipse that would provide the Workbench class\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506351809,"creation_date":1506351809,"answer_id":46408445,"question_id":2468059,"body_markdown":"You could detect if you&#39;re inside a JAR or not, as per https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar\r\n\r\nEclipse will run your app from the `classes/` dir, whereas most of your end users will be running the app from a JAR.","title":"How to detect that code is running inside eclipse IDE","body":"<p>You could detect if you're inside a JAR or not, as per <a href=\"https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar\">Can you tell on runtime if you&#39;re running java from within a jar?</a></p>\n\n<p>Eclipse will run your app from the <code>classes/</code> dir, whereas most of your end users will be running the app from a JAR.</p>\n"},{"tags":[],"owner":{"account_id":362118,"reputation":532,"user_id":705147,"display_name":"cbaldan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633907149,"creation_date":1515680783,"answer_id":48209330,"question_id":2468059,"body_markdown":"Although I agree that having the code detecting a single IDE as the dev env is not an optimal solution, the following code works.\r\n\r\nLike others proposed, using a flag at runtime is better.\r\n\r\n    public static boolean isEclipse() {\r\n        boolean isEclipse = System.getProperty(&quot;java.class.path&quot;).toLowerCase().contains(&quot;eclipse&quot;);\r\n        return isEclipse;\r\n    }\r\n\r\n","title":"How to detect that code is running inside eclipse IDE","body":"<p>Although I agree that having the code detecting a single IDE as the dev env is not an optimal solution, the following code works.</p>\n<p>Like others proposed, using a flag at runtime is better.</p>\n<pre><code>public static boolean isEclipse() {\n    boolean isEclipse = System.getProperty(&quot;java.class.path&quot;).toLowerCase().contains(&quot;eclipse&quot;);\n    return isEclipse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941567,"reputation":76,"user_id":3978127,"display_name":"Display Name"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649412137,"creation_date":1649412137,"answer_id":71795120,"question_id":2468059,"body_markdown":"    System.out.println(&quot;Is my parent eclipse[.exe]? &quot; + \r\n        ProcessHandle.current()\r\n                     .parent()\r\n                     .flatMap(parent -&gt; parent.info().command())                                                                       \r\n                     .orElse(&quot;&quot;)\r\n                     .matches(&quot;^.*eclipse(\\\\.exe)?$&quot;));","title":"How to detect that code is running inside eclipse IDE","body":"<pre><code>System.out.println(&quot;Is my parent eclipse[.exe]? &quot; + \n    ProcessHandle.current()\n                 .parent()\n                 .flatMap(parent -&gt; parent.info().command())                                                                       \n                 .orElse(&quot;&quot;)\n                 .matches(&quot;^.*eclipse(\\\\.exe)?$&quot;));\n</code></pre>\n"}],"owner":{"account_id":39033,"reputation":475,"user_id":112495,"accept_rate":57,"display_name":"Dipak Chaudhari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15243,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":11,"score":31,"last_activity_date":1649412137,"creation_date":1268895985,"question_id":2468059,"body_markdown":"How to  detect that code is running inside eclipse IDE","title":"How to detect that code is running inside eclipse IDE","body":"<p>How to  detect that code is running inside eclipse IDE</p>\n"},{"tags":["java","spring"],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649411968,"creation_date":1649411968,"question_id":71795079,"body_markdown":"I&#39;m trying to test a GET endpoint with `@Context Principal principal` but this endpoint has this line of code in the beginning of the endpoint \r\n\r\n`String principalName = UserUtils.getPrincipalName(principal);`\r\n\r\n&gt; ERROR: org.springframework.web.server.ResponseStatusException: 401\r\n&gt; UNAUTHORIZED &quot;Invalid user id&quot;\r\n\r\nThis is a h2 test case with no data when I call the GET. How do I pass the principal into the endpoint?","title":"How to test endpoint with Principal","body":"<p>I'm trying to test a GET endpoint with <code>@Context Principal principal</code> but this endpoint has this line of code in the beginning of the endpoint</p>\n<p><code>String principalName = UserUtils.getPrincipalName(principal);</code></p>\n<blockquote>\n<p>ERROR: org.springframework.web.server.ResponseStatusException: 401\nUNAUTHORIZED &quot;Invalid user id&quot;</p>\n</blockquote>\n<p>This is a h2 test case with no data when I call the GET. How do I pass the principal into the endpoint?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"score":0,"creation_date":1649127267,"post_id":71745642,"comment_id":126791436,"body_markdown":"In `opt_A()` after `sourceFile &gt;&gt; taxPayers;` you making one pass over `taxPayerr` but only comparing `taxPayers.salesstaff(i)` to `salesStaff[6]` (which only has **five** valid indexes `0 - 5`). So you are invoking undefined behavior by referencing `salesStaff` beyond your data. (out of bounds)","body":"In <code>opt_A()</code> after <code>sourceFile &gt;&gt; taxPayers;</code> you making one pass over <code>taxPayerr</code> but only comparing <code>taxPayers.salesstaff(i)</code> to <code>salesStaff[6]</code> (which only has <b>five</b> valid indexes <code>0 - 5</code>). So you are invoking undefined behavior by referencing <code>salesStaff</code> beyond your data. (out of bounds)"},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649128410,"post_id":71745642,"comment_id":126791575,"body_markdown":"So what should i do to get the wanted output?","body":"So what should i do to get the wanted output?"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":1,"creation_date":1649128638,"post_id":71745642,"comment_id":126791603,"body_markdown":"@Happyman Only you can answer that, because you&#39;re the one who wrote `salesStaff[6]` with no documentation about what it&#39;s supposed to do. That array index does not exist. If you were expecting the _last_ element of the array, it&#39;s `salesStaff[5]` because arrays are indexed starting from zero. If you&#39;re not convinced, write down the numbers 0 through to 5 and count them.","body":"@Happyman Only you can answer that, because you&#39;re the one who wrote <code>salesStaff[6]</code> with no documentation about what it&#39;s supposed to do. That array index does not exist. If you were expecting the <i>last</i> element of the array, it&#39;s <code>salesStaff[5]</code> because arrays are indexed starting from zero. If you&#39;re not convinced, write down the numbers 0 through to 5 and count them."},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649130579,"post_id":71745642,"comment_id":126791850,"body_markdown":"Im trying to compare taxPayers.salesstaff(i) and salesStaff[] array together. Then finding which salesstaff data doesnt contain a element from the salesStaff[] array. But also allowing blank data points as valid. But i don&#39;t know how to do that.","body":"Im trying to compare taxPayers.salesstaff(i) and salesStaff[] array together. Then finding which salesstaff data doesnt contain a element from the salesStaff[] array. But also allowing blank data points as valid. But i don&#39;t know how to do that."}],"answers":[{"tags":[],"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649133133,"creation_date":1649132743,"answer_id":71746293,"question_id":71745642,"body_markdown":"You have a more complex comparison than you are doing. You have two primary conditions:\r\n\r\n 1. Is `taxPayers.salesstaff(i)` empty? (if so, you are done); or\r\n 2. Does each of the `taxPayers.salesstaff(i)` components, e.g. `staff1:staff2:...` appear in the `salesStaff[]` array?\r\n\r\nIt is this second condition that is a *many-to-many* relationship that has many subconditions. In order to make this determination, you must separate the `taxPayers.salesstaff(i)` entry on `&#39;:&#39;` (much like you did input from your data file on `&#39;,&#39;`). Then you must loop over each entry and compare the entry against each in the `salesStaff[]` array. If ONE of the entries in `taxPayers.salesstaff(i)` does not match ANY of the entries in the `salesStaff[]` array. then you have a bad entry.\r\n\r\nYou can use a couple of `bool` flags to help you work through the checks. One way to do that is:\r\n\r\n```c++\r\nvoid opt_A()\r\n{\r\n    std::ifstream sourceFile(ffname);\r\n\r\n    if (!sourceFile.is_open())\r\n    {\r\n        cout &lt;&lt; &quot;No file found, please check for files again&quot; &lt;&lt; endl;\r\n        return;\r\n    }\r\n\r\n    string salesStaff[] = { &quot;Brad&quot;, &quot;Janet&quot;, &quot;Dr Scott&quot;, \r\n                            &quot;Rifraf&quot;, &quot;Nell&quot;, &quot;Eddie&quot; };\r\n    size_t nsstaff = sizeof salesStaff / sizeof *salesStaff;\r\n    TaxPayers taxPayers{};\r\n    sourceFile &gt;&gt; taxPayers;\r\n    int x = 0;\r\n\r\n    /* output list heading before loop */\r\n    cout &lt;&lt; &quot;Audit Report&quot; &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n            &quot;-------------------&quot; &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n            &quot;File: &quot; &lt;&lt; ffname &lt;&lt; &quot;\\n\\n&quot;;\r\n    \r\n    /* loop over each taxpayer */\r\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\r\n    {\r\n        bool nomatch = false;   /* flag, no match for non-empty entry */\r\n        \r\n        /* only check salesstaff if not empty */\r\n        if (!taxPayers.salesstaff(i).empty())\r\n        {\r\n            /* instringstream to split taxPayers.salesstaff on &#39;:&#39; */\r\n            istringstream iss {taxPayers.salesstaff(i)};\r\n            std::string staff{};    /* temporary for each taxpayer staff */\r\n            \r\n            /* loop over each taxpayer.salesstaff staff1:staff2:... entry */\r\n            while (getline (iss, staff, &#39;:&#39;))\r\n            {   \r\n                bool matched = false;  /* is entry matched in salesStaff[] */\r\n                \r\n                /* loop over each valid salesStaff */\r\n                for (size_t j = 0; j &lt; nsstaff; j++)\r\n                {\r\n                    /* if staff matches valid salesStaff */\r\n                    if (staff == salesStaff[j]) {\r\n                        matched = true;  /* set found flag true */\r\n                        break;\r\n                    } \r\n                }\r\n                \r\n                /* after looping over all, check if no match found */\r\n                if (!matched)\r\n                {\r\n                    nomatch = true;   /* set nomatch flag */\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (nomatch)  /* only print details if no match for salesstaff enty */\r\n        {\r\n          cout &lt;&lt; &quot;Account Details    : &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n                  &quot;Details            : &quot; &lt;&lt; taxPayers.salesstaff(i) &lt;&lt; &quot;\\n\\n&quot;;\r\n          x++;\r\n        }\r\n    }\r\n    \r\n    /* output summary after loop */\r\n    cout &lt;&lt; &quot;Total count of bad data found: &quot; &lt;&lt; (x) &lt;&lt; &quot;\\n\\n&quot;;\r\n}\r\n```\r\n\r\n(**note:** above the heading and summary data go outside the loop unless you want that printed for each bad record -- which doesn&#39;t seem correct given the summary line)\r\n\r\nAlso note, there are many more ways you can do this. You can reduce the number of loops and avoid splitting `taxPayers.salesstaff(i)` by looping over each in the `salesStaff[]` array and using `.substr()` to determine if that staff occurs as one of the parts of `taxPayers.salesstaff(i)`. How you want to do it is up to you.\r\n\r\nAlso note, as I explained in your last question, you need to **validate** each input.\r\n\r\n**Example Use/Output**\r\n\r\nWith your data in my file `dat/taxpayers.txt`, running the program you would get:\r\n\r\n```none\r\n$ ./bin/taxpayercheck\r\nAudit Report\r\n-------------------\r\nFile: dat/taxpayers.txt\r\n\r\nAccount Details    : 10011265 Mr Alexander Marshall Chemicals Ltd\r\nDetails            : Eddie:rippa mate!:Brad:\r\n\r\nTotal count of bad data found: 1\r\n```\r\n\r\nLet me know if you have further questions.","title":"Can&#39;t intent in new activitys java","body":"<p>You have a more complex comparison than you are doing. You have two primary conditions:</p>\n<ol>\n<li>Is <code>taxPayers.salesstaff(i)</code> empty? (if so, you are done); or</li>\n<li>Does each of the <code>taxPayers.salesstaff(i)</code> components, e.g. <code>staff1:staff2:...</code> appear in the <code>salesStaff[]</code> array?</li>\n</ol>\n<p>It is this second condition that is a <em>many-to-many</em> relationship that has many subconditions. In order to make this determination, you must separate the <code>taxPayers.salesstaff(i)</code> entry on <code>':'</code> (much like you did input from your data file on <code>','</code>). Then you must loop over each entry and compare the entry against each in the <code>salesStaff[]</code> array. If ONE of the entries in <code>taxPayers.salesstaff(i)</code> does not match ANY of the entries in the <code>salesStaff[]</code> array. then you have a bad entry.</p>\n<p>You can use a couple of <code>bool</code> flags to help you work through the checks. One way to do that is:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void opt_A()\n{\n    std::ifstream sourceFile(ffname);\n\n    if (!sourceFile.is_open())\n    {\n        cout &lt;&lt; &quot;No file found, please check for files again&quot; &lt;&lt; endl;\n        return;\n    }\n\n    string salesStaff[] = { &quot;Brad&quot;, &quot;Janet&quot;, &quot;Dr Scott&quot;, \n                            &quot;Rifraf&quot;, &quot;Nell&quot;, &quot;Eddie&quot; };\n    size_t nsstaff = sizeof salesStaff / sizeof *salesStaff;\n    TaxPayers taxPayers{};\n    sourceFile &gt;&gt; taxPayers;\n    int x = 0;\n\n    /* output list heading before loop */\n    cout &lt;&lt; &quot;Audit Report&quot; &lt;&lt; '\\n' &lt;&lt;\n            &quot;-------------------&quot; &lt;&lt; '\\n' &lt;&lt;\n            &quot;File: &quot; &lt;&lt; ffname &lt;&lt; &quot;\\n\\n&quot;;\n    \n    /* loop over each taxpayer */\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\n    {\n        bool nomatch = false;   /* flag, no match for non-empty entry */\n        \n        /* only check salesstaff if not empty */\n        if (!taxPayers.salesstaff(i).empty())\n        {\n            /* instringstream to split taxPayers.salesstaff on ':' */\n            istringstream iss {taxPayers.salesstaff(i)};\n            std::string staff{};    /* temporary for each taxpayer staff */\n            \n            /* loop over each taxpayer.salesstaff staff1:staff2:... entry */\n            while (getline (iss, staff, ':'))\n            {   \n                bool matched = false;  /* is entry matched in salesStaff[] */\n                \n                /* loop over each valid salesStaff */\n                for (size_t j = 0; j &lt; nsstaff; j++)\n                {\n                    /* if staff matches valid salesStaff */\n                    if (staff == salesStaff[j]) {\n                        matched = true;  /* set found flag true */\n                        break;\n                    } \n                }\n                \n                /* after looping over all, check if no match found */\n                if (!matched)\n                {\n                    nomatch = true;   /* set nomatch flag */\n                }\n            }\n        }\n        \n        if (nomatch)  /* only print details if no match for salesstaff enty */\n        {\n          cout &lt;&lt; &quot;Account Details    : &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; '\\n' &lt;&lt;\n                  &quot;Details            : &quot; &lt;&lt; taxPayers.salesstaff(i) &lt;&lt; &quot;\\n\\n&quot;;\n          x++;\n        }\n    }\n    \n    /* output summary after loop */\n    cout &lt;&lt; &quot;Total count of bad data found: &quot; &lt;&lt; (x) &lt;&lt; &quot;\\n\\n&quot;;\n}\n</code></pre>\n<p>(<strong>note:</strong> above the heading and summary data go outside the loop unless you want that printed for each bad record -- which doesn't seem correct given the summary line)</p>\n<p>Also note, there are many more ways you can do this. You can reduce the number of loops and avoid splitting <code>taxPayers.salesstaff(i)</code> by looping over each in the <code>salesStaff[]</code> array and using <code>.substr()</code> to determine if that staff occurs as one of the parts of <code>taxPayers.salesstaff(i)</code>. How you want to do it is up to you.</p>\n<p>Also note, as I explained in your last question, you need to <strong>validate</strong> each input.</p>\n<p><strong>Example Use/Output</strong></p>\n<p>With your data in my file <code>dat/taxpayers.txt</code>, running the program you would get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ ./bin/taxpayercheck\nAudit Report\n-------------------\nFile: dat/taxpayers.txt\n\nAccount Details    : 10011265 Mr Alexander Marshall Chemicals Ltd\nDetails            : Eddie:rippa mate!:Brad:\n\nTotal count of bad data found: 1\n</code></pre>\n<p>Let me know if you have further questions.</p>\n"}],"owner":{"display_name":"user18668826"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746293,"answer_count":1,"score":0,"last_activity_date":1649411940,"creation_date":1649124933,"question_id":71745642,"body_markdown":"I&#39;m creating a file explorer synchronize with an ftp directory. I have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:\r\n\r\n    private fun openFile(file: File) {\r\n            val myMime = MimeTypeMap.getSingleton()\r\n            val intent = Intent(Intent.ACTION_VIEW)\r\n    \r\n            val mimeType = myMime.getMimeTypeFromExtension(file.extension)\r\n            if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\r\n                intent.setDataAndType(fileURI, mimeType)\r\n            } else {\r\n                intent.setDataAndType(Uri.fromFile(file), mimeType)\r\n            }\r\n            intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            try {\r\n                context.startActivity(intent)\r\n            } catch (e: ActivityNotFoundException) {\r\n                Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n    }","title":"Can&#39;t intent in new activitys java","body":"<p>I'm creating a file explorer synchronize with an ftp directory. I have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:</p>\n<pre><code>private fun openFile(file: File) {\n        val myMime = MimeTypeMap.getSingleton()\n        val intent = Intent(Intent.ACTION_VIEW)\n\n        val mimeType = myMime.getMimeTypeFromExtension(file.extension)\n        if (Build.VERSION.SDK_INT &gt;= 24) {\n            val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\n            intent.setDataAndType(fileURI, mimeType)\n        } else {\n            intent.setDataAndType(Uri.fromFile(file), mimeType)\n        }\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\n        try {\n            context.startActivity(intent)\n        } catch (e: ActivityNotFoundException) {\n            Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\n        }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":175154,"reputation":65054,"user_id":404970,"display_name":"molbdnilo"},"score":0,"creation_date":1649059432,"post_id":71733542,"comment_id":126771015,"body_markdown":"Some questions for you to think about: When do you expect `taxPayers.dupID(i) == taxPayers.dupID(i)` to be false? If you want to compare two different objects, don&#39;t you need two different indices? Shouldn&#39;t you gather all the information *before* printing the report? Isn&#39;t `((i + x) - (i))` just `x`?","body":"Some questions for you to think about: When do you expect <code>taxPayers.dupID(i) == taxPayers.dupID(i)</code> to be false? If you want to compare two different objects, don&#39;t you need two different indices? Shouldn&#39;t you gather all the information <i>before</i> printing the report? Isn&#39;t <code>((i + x) - (i))</code> just <code>x</code>?"},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649061198,"post_id":71733542,"comment_id":126771594,"body_markdown":"How would I go about this? I expect taxPayers.dupID(i) == taxPayers.dupID(i) with every other ID except the identical ones and thank you for the x thing, over-complicating something for no reason.","body":"How would I go about this? I expect taxPayers.dupID(i) == taxPayers.dupID(i) with every other ID except the identical ones and thank you for the x thing, over-complicating something for no reason."},{"owner":{"account_id":175154,"reputation":65054,"user_id":404970,"display_name":"molbdnilo"},"score":0,"creation_date":1649061831,"post_id":71733542,"comment_id":126771830,"body_markdown":"Why do you expect `i` to have two *different* values is `taxPayers.dupID(i) == taxPayers.dupID(i)`? (Hint: you can have a loop within a loop.)","body":"Why do you expect <code>i</code> to have two <i>different</i> values is <code>taxPayers.dupID(i) == taxPayers.dupID(i)</code>? (Hint: you can have a loop within a loop.)"}],"answers":[{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649062312,"creation_date":1649061418,"answer_id":71734208,"question_id":71733542,"body_markdown":"First of all in opt_D() method you should find the duplicate dupIDs and insert them into a list. \r\nThen in order to give the output you should traverse the duplicate list and find corresponding vales from taxPayers.\r\n\r\n     // define a list for duplicate ids. \r\n\r\n    \r\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\r\n        {\r\n         for (size_t j = i+1; j &lt; taxPayers.taxPayers.size(); ++j)\r\n              {\r\n                if (taxPayers.dupID(i) == taxPayers.dupID(j))\r\n                {\r\n\r\n                 // push taxPayers.dupID(i) to the duplicate id list\r\n\r\n\r\n               }\r\n            }\r\n        }\r\n\r\n\r\n    // print duplicate list size as output\r\n    // traverse the duplicate id list and find taxPayers having the same dupID from taxPayers list and print their info.\r\n\r\n","title":"POST request endpoint using Java/Spring-boot OWL","body":"<p>First of all in opt_D() method you should find the duplicate dupIDs and insert them into a list.\nThen in order to give the output you should traverse the duplicate list and find corresponding vales from taxPayers.</p>\n<pre><code> // define a list for duplicate ids. \n\n\nfor (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\n    {\n     for (size_t j = i+1; j &lt; taxPayers.taxPayers.size(); ++j)\n          {\n            if (taxPayers.dupID(i) == taxPayers.dupID(j))\n            {\n\n             // push taxPayers.dupID(i) to the duplicate id list\n\n\n           }\n        }\n    }\n\n\n// print duplicate list size as output\n// traverse the duplicate id list and find taxPayers having the same dupID from taxPayers list and print their info.\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71734208,"answer_count":1,"score":0,"last_activity_date":1649411892,"creation_date":1649057880,"question_id":71733542,"body_markdown":"I&#39;m trying to make a post request endpoint to send some form values to my database. When I test the request with postman, I get a 400 bad request error and this message in my console\r\n\r\nJSON parse error: Cannot deserialize value of type abcd.Model.Quote from Array value (token JsonToken.START_ARRAY);\r\n\r\nthis is my controller:\r\n\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n        @PostMapping(&quot;/createQuote&quot;)\r\n        public boolean newQuote(@RequestBody Quote newQuote) {\r\n        return quoteDB.saveQuote(newQuote);\r\n    };\r\nmy model:\r\n\r\n    public class Quote {\r\n    public int id;\r\n    public String type_building;\r\n    public int numElevator;\r\n    public String typeService;\r\n    public double total;\r\n    public double totalElevatorPrice;\r\n    \r\n    public Quote(\r\n            int _id,\r\n            String _type_building,\r\n            int _numElevator,\r\n            String _typeService,\r\n            double _total,\r\n            double _totalElevatorPrice\r\n    ){\r\n        this.id = _id;\r\n        this.type_building = _type_building;\r\n        this.numElevator = _numElevator;\r\n        this.typeService = _typeService;\r\n        this.total = _total;\r\n        this.totalElevatorPrice = _totalElevatorPrice;\r\n    \r\n    }\r\n    public String getType_building() { return type_building; }\r\n    public void setType_building(String type_building) { this.type_building = type_building; }\r\n    \r\n    public int getNumElevator() { return numElevator; }\r\n    public void setNumElevator(int numElevator) { this.numElevator = numElevator; }\r\n    \r\n    public String getTypeService() { return typeService; }\r\n    public void setTypeService(String typeService) { this.typeService = typeService; }\r\n    \r\n    public double getTotal() { return total; }\r\n    public void setTotal(int total) { this.total = total; }\r\n    \r\n    public double getTotalElevatorPrice() { return totalElevatorPrice; }\r\n    public void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\r\n\r\n\r\n","title":"POST request endpoint using Java/Spring-boot OWL","body":"<p>I'm trying to make a post request endpoint to send some form values to my database. When I test the request with postman, I get a 400 bad request error and this message in my console</p>\n<p>JSON parse error: Cannot deserialize value of type abcd.Model.Quote from Array value (token JsonToken.START_ARRAY);</p>\n<p>this is my controller:</p>\n<pre><code>@ResponseStatus(HttpStatus.CREATED)\n    @PostMapping(&quot;/createQuote&quot;)\n    public boolean newQuote(@RequestBody Quote newQuote) {\n    return quoteDB.saveQuote(newQuote);\n};\n</code></pre>\n<p>my model:</p>\n<pre><code>public class Quote {\npublic int id;\npublic String type_building;\npublic int numElevator;\npublic String typeService;\npublic double total;\npublic double totalElevatorPrice;\n\npublic Quote(\n        int _id,\n        String _type_building,\n        int _numElevator,\n        String _typeService,\n        double _total,\n        double _totalElevatorPrice\n){\n    this.id = _id;\n    this.type_building = _type_building;\n    this.numElevator = _numElevator;\n    this.typeService = _typeService;\n    this.total = _total;\n    this.totalElevatorPrice = _totalElevatorPrice;\n\n}\npublic String getType_building() { return type_building; }\npublic void setType_building(String type_building) { this.type_building = type_building; }\n\npublic int getNumElevator() { return numElevator; }\npublic void setNumElevator(int numElevator) { this.numElevator = numElevator; }\n\npublic String getTypeService() { return typeService; }\npublic void setTypeService(String typeService) { this.typeService = typeService; }\n\npublic double getTotal() { return total; }\npublic void setTotal(int total) { this.total = total; }\n\npublic double getTotalElevatorPrice() { return totalElevatorPrice; }\npublic void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\n</code></pre>\n"},{"tags":["java","owl"],"comments":[{"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"score":0,"creation_date":1649026184,"post_id":71730365,"comment_id":126765205,"body_markdown":"Well:\n the for loop in showinfo() loops to the end of the vector; that taxpayer&#39;s info is returned. You call that function n times: n times the last taxpayer is returned ;-). Perhaps you intended originally to print in that function? Otherwise you need either an index parameter (which payer&#39;s info) or assemble a string that contains all lines.","body":"Well:  the for loop in showinfo() loops to the end of the vector; that taxpayer&#39;s info is returned. You call that function n times: n times the last taxpayer is returned ;-). Perhaps you intended originally to print in that function? Otherwise you need either an index parameter (which payer&#39;s info) or assemble a string that contains all lines."},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649029101,"post_id":71730365,"comment_id":126765576,"body_markdown":"How would I do this?","body":"How would I do this?"},{"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"score":0,"creation_date":1649029926,"post_id":71730365,"comment_id":126765687,"body_markdown":"I wrote a short answer to demonstrate.","body":"I wrote a short answer to demonstrate."}],"answers":[{"tags":[],"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649029913,"creation_date":1649029913,"answer_id":71730721,"question_id":71730365,"body_markdown":"I would write a function \r\n\r\n```\r\nstring showinfo(size_t i) {\r\n        string info = taxPayers[i].taxpayerId + &quot; &quot; + taxPayers[i].name + &quot; &quot; +\r\n            taxPayers[i].address + &quot; &quot; + taxPayers[i].postcode;\r\n        return info;\r\n}\r\n```\r\n\r\nand call that with \r\n```\r\nfor (int i = 0; i &lt; taxPayers.taxPayers.size(); i++)\r\n    {\r\n        cout &lt;&lt; &quot;[&quot; &lt;&lt; i &lt;&lt; &quot;] - &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; endl;\r\n    }\r\n```","title":"How to parse syntax using OWL API? Java","body":"<p>I would write a function</p>\n<pre><code>string showinfo(size_t i) {\n        string info = taxPayers[i].taxpayerId + &quot; &quot; + taxPayers[i].name + &quot; &quot; +\n            taxPayers[i].address + &quot; &quot; + taxPayers[i].postcode;\n        return info;\n}\n</code></pre>\n<p>and call that with</p>\n<pre><code>for (int i = 0; i &lt; taxPayers.taxPayers.size(); i++)\n    {\n        cout &lt;&lt; &quot;[&quot; &lt;&lt; i &lt;&lt; &quot;] - &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; endl;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71730721,"answer_count":1,"score":0,"last_activity_date":1649411809,"creation_date":1649025414,"question_id":71730365,"body_markdown":"I am a beginner in OWL API and am learning how to parse functional syntax. So far I have been unable to do it, and cannot figure out where I am going wrong. For example, consider a short and simple OWL file having the following(just a random example) -\r\n\r\nEquivalentClasses(:TestPizza ObjectIntersectionOf(DataMinCardinality(20 :hasToppingValue xsd:double) :Pizza))\r\n\r\nThe problem is I can&#39;t even create an OWLFunctionalSyntaxParser variable since it is showing undefined( I am using the latest version - 5.1.18).\r\n\r\nCould anyone help by providing a code example on how to parse it?\r\n","title":"How to parse syntax using OWL API? Java","body":"<p>I am a beginner in OWL API and am learning how to parse functional syntax. So far I have been unable to do it, and cannot figure out where I am going wrong. For example, consider a short and simple OWL file having the following(just a random example) -</p>\n<p>EquivalentClasses(:TestPizza ObjectIntersectionOf(DataMinCardinality(20 :hasToppingValue xsd:double) :Pizza))</p>\n<p>The problem is I can't even create an OWLFunctionalSyntaxParser variable since it is showing undefined( I am using the latest version - 5.1.18).</p>\n<p>Could anyone help by providing a code example on how to parse it?</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":16805054,"reputation":22950,"user_id":12149471,"display_name":"Andreas Wenzel"},"score":0,"creation_date":1648925856,"post_id":71720310,"comment_id":126748301,"body_markdown":"Please post the output of the program as text, not as an image, unless you have a specific reason to do so. You may want to read this: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/q/285551/12149471)","body":"Please post the output of the program as text, not as an image, unless you have a specific reason to do so. You may want to read this: <a href=\"https://meta.stackoverflow.com/q/285551/12149471\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1648925979,"post_id":71720310,"comment_id":126748331,"body_markdown":"Your variable i is local and not going to help to know the total records. You could declare it as `global` variable, increment for every taxpayer record you print to output stream.","body":"Your variable i is local and not going to help to know the total records. You could declare it as <code>global</code> variable, increment for every taxpayer record you print to output stream."}],"answers":[{"tags":[],"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648926014,"creation_date":1648926014,"answer_id":71720399,"question_id":71720310,"body_markdown":"Looks like you may need to split your `if` statement:\r\n\r\n    unsigned int line_count = 0U;\r\n    if (std::getline(is, line))\r\n    {\r\n        ++line_count;\r\n        if (not line.empty())\r\n        {\r\n\r\nEvery time you read a text line into the string variable, increment a counter.  \r\n","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>Looks like you may need to split your <code>if</code> statement:</p>\n<pre><code>unsigned int line_count = 0U;\nif (std::getline(is, line))\n{\n    ++line_count;\n    if (not line.empty())\n    {\n</code></pre>\n<p>Every time you read a text line into the string variable, increment a counter.</p>\n"},{"tags":[],"owner":{"account_id":9214660,"reputation":78,"user_id":6846345,"display_name":"manchi_o6o7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648927039,"creation_date":1648926292,"answer_id":71720436,"question_id":71720310,"body_markdown":"I think that this should work in your case:\r\n\r\n    int i = taxPayers.taxPayers.size();","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>I think that this should work in your case:</p>\n<pre><code>int i = taxPayers.taxPayers.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62599,"reputation":3114,"user_id":185881,"accept_rate":71,"display_name":"ern0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648926466,"creation_date":1648926466,"answer_id":71720459,"question_id":71720310,"body_markdown":"I started investigating why it displays zero as count-of-records. I&#39;ve found that this line prints the count:\r\n\r\n    cout &lt;&lt; &quot;Count of Records  : &quot; &lt;&lt; i &lt;&lt; endl;\r\n\r\nSo, you print out the value of the variable `i`. I found only one point where the variable `i` is mentioned, some lines above:\r\n\r\n    int i = 0;\r\n\r\nIt&#39;s a proper initialization. But there&#39;s no more reference to `i`. So, the problem is: your program actually doesn&#39;t count the lines. \r\n\r\nI would say, you forgot it, but as you haven&#39;t figured out it yourself, I have to say, this exercise is too hard for you. You may try to understand the concept of variables etc., read some tutorials, or watch videos in the topics.","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>I started investigating why it displays zero as count-of-records. I've found that this line prints the count:</p>\n<pre><code>cout &lt;&lt; &quot;Count of Records  : &quot; &lt;&lt; i &lt;&lt; endl;\n</code></pre>\n<p>So, you print out the value of the variable <code>i</code>. I found only one point where the variable <code>i</code> is mentioned, some lines above:</p>\n<pre><code>int i = 0;\n</code></pre>\n<p>It's a proper initialization. But there's no more reference to <code>i</code>. So, the problem is: your program actually doesn't count the lines.</p>\n<p>I would say, you forgot it, but as you haven't figured out it yourself, I have to say, this exercise is too hard for you. You may try to understand the concept of variables etc., read some tutorials, or watch videos in the topics.</p>\n"},{"tags":[],"owner":{"account_id":19864086,"reputation":411,"user_id":14551796,"display_name":"L8R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648927506,"creation_date":1648927506,"answer_id":71720599,"question_id":71720310,"body_markdown":"\r\n```c+\r\n#include&lt;iostream&gt;\r\n#include&lt;fstream&gt;\r\n#include&lt;string&gt;\r\n \r\nusing namespace std;\r\n \r\nint main()\r\n{\r\n\tstring filename;   // Name of the file\r\n\tcout&lt;&lt;&quot;Enter filename:&quot;;\r\n\tcin&gt;&gt;filename;\r\n \r\n\tstring line;   // To read each line from code\r\n\tint count=0;    // Variable to keep count of each line\r\n\t\r\n\tifstream mFile (filename);   \r\n\t\r\n\tif(mFile.is_open()) \r\n\t{\r\n\t\twhile(mFile.peek()!=EOF)\r\n\t\t{\r\n\t\t\tgetline(mFile, line);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tmFile.close();\r\n\t\tcout&lt;&lt;&quot;Number of lines in the file are: &quot;&lt;&lt;count&lt;&lt;endl;\r\n\t}\r\n\telse\r\n\t\tcout&lt;&lt;&quot;Couldn&#39;t open the file\\n&quot;;\r\n \r\n\treturn 0;\r\n}\r\n```\r\nCode taken from [java2blog.com][1]\r\n\r\n\r\n  [1]: https://java2blog.com/cpp-count-lines-in-file/#:~:text=#include%3Ciostream%3E,%7D","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;string&gt;\n \nusing namespace std;\n \nint main()\n{\n    string filename;   // Name of the file\n    cout&lt;&lt;&quot;Enter filename:&quot;;\n    cin&gt;&gt;filename;\n \n    string line;   // To read each line from code\n    int count=0;    // Variable to keep count of each line\n    \n    ifstream mFile (filename);   \n    \n    if(mFile.is_open()) \n    {\n        while(mFile.peek()!=EOF)\n        {\n            getline(mFile, line);\n            count++;\n        }\n        mFile.close();\n        cout&lt;&lt;&quot;Number of lines in the file are: &quot;&lt;&lt;count&lt;&lt;endl;\n    }\n    else\n        cout&lt;&lt;&quot;Couldn't open the file\\n&quot;;\n \n    return 0;\n}\n</code></pre>\n<p>Code taken from <a href=\"https://java2blog.com/cpp-count-lines-in-file/#:%7E:text=#include%3Ciostream%3E,%7D\" rel=\"nofollow noreferrer\">java2blog.com</a></p>\n"}],"owner":{"display_name":"user18668826"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71720436,"answer_count":4,"score":0,"last_activity_date":1649411747,"creation_date":1648925298,"question_id":71720310,"body_markdown":"Hello I am doing a mod in forge 1.18.1Minecraft I created a new class for my item ,I need help because I am trying to Clear fall Damage When someone has an item in his hand!.I searched on google but i didn&#39;t find something!\r\n\r\n    import net.minecraft.world.item.Item;\r\n    import net.minecraft.world.item.ItemStack;\r\n    import net.minecraft.world.level.Level;\r\n    \r\n    public class NoFallDamageIItem extends Item {\r\n        public NoFallDamageIItem(Properties pProperties) {\r\n            super(pProperties);\r\n        }\r\n\r\n} `","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>Hello I am doing a mod in forge 1.18.1Minecraft I created a new class for my item ,I need help because I am trying to Clear fall Damage When someone has an item in his hand!.I searched on google but i didn't find something!</p>\n<pre><code>import net.minecraft.world.item.Item;\nimport net.minecraft.world.item.ItemStack;\nimport net.minecraft.world.level.Level;\n\npublic class NoFallDamageIItem extends Item {\n    public NoFallDamageIItem(Properties pProperties) {\n        super(pProperties);\n    }\n</code></pre>\n<p>} `</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"score":0,"creation_date":1648876088,"post_id":71714989,"comment_id":126739982,"body_markdown":"You will need to read each line into a `std::string` with `getline()` and create a `std::stringstream` from the string containing the line and then read from the `std::stringstream` with `getline()` using the delimiter or `&#39;,&#39;` and keep track of the number of columns and sum the ones you need. Please add the code showing what you have tried so far and where you are stuck.","body":"You will need to read each line into a <code>std::string</code> with <code>getline()</code> and create a <code>std::stringstream</code> from the string containing the line and then read from the <code>std::stringstream</code> with <code>getline()</code> using the delimiter or <code>&#39;,&#39;</code> and keep track of the number of columns and sum the ones you need. Please add the code showing what you have tried so far and where you are stuck."}],"answers":[{"tags":[],"owner":{"account_id":11334812,"reputation":14889,"user_id":9666018,"display_name":"A M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648884192,"creation_date":1648884192,"answer_id":71715617,"question_id":71714989,"body_markdown":"There are different things that you need to understand. For example:\r\n\r\nData, belonging together, but having a different type, will be stored in a class or struct.\r\n\r\nMany data of the same type, will be stored in an array or in this example in a `std::vector` because that can grow dynamically.\r\n\r\nSo, as you already did, you will put the data of one row or, in database language, of one record, in a struct.\r\n\r\nSo, your approach is correct, to define the TaxPayer class. But now, because you want to accumulate the sum of one data field of many TaxPayers, you need to put all the TaxPayers in a `std::vector` and encapsulate this in a second class. Then you add additional functions to that class, to calculate sums of the records (TaxPayer) in the `std::vector`.\r\n\r\nExample:\r\n```\r\n#include &lt;string&gt;\r\n#include &lt;vector&gt;\r\n\r\nstruct TaxPayer {\r\n    std::string taxpayerId{};\r\n    std::string name{};\r\n    std::string address{};\r\n    std::string postcode{};\r\n    int salary{};\r\n    int deductions{};\r\n    double taxDue{};\r\n};\r\nstruct TaxPayers {\r\n    std::vector&lt;TaxPayer&gt; taxPayers{};\r\n};\r\n```\r\n\r\nI just show the data members here. And you may reuse your existing functions of course.\r\n\r\nNow, we just need to add basically 2 important functions:\r\n\r\n1. Split one source row into its elements and then assign it to the taxPayer data fields\r\n2. Read all taxPayers\r\n\r\nThe task number one is splitting so called CSV (Comma Separated Values) data. You will find at least 1000 examples here on stackoverflow on how to do this. A very popular method is to use `std::getline` and read a part of the text until the separator &#39;,&#39;. \r\n\r\nTo be more on the save side, first a complete line of the source file is read via `std::getline`. Then, this will be put into a `stringstream` and the further extraction of data is done from there.\r\n\r\nAll this will be embedded in an overwritten &quot;extraction&quot; operator `&gt;&gt;`, that handles your specific data.\r\n\r\nThe signature of such an operator is:\r\n```\r\nfriend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) \r\n```\r\n\r\nAfter implementation of the functionality, you can simply use the `&gt;&gt;` operator, to read a complete row and parse it in one step.\r\n\r\nIn you TaxPayers class you need to define also such an operator and read all lines using the extractor from the definition above. \r\n\r\nBy this method, by splitting a big task into smaller tasks, the solution will get very simple at the end.\r\n\r\nLast but not least, we need to add you accumulation functions of the data in the `std::vector`. That can be either done with a simple loop, or, a little bit more advanced, with `std::accumulate`.\r\n\r\nYou may use the below example as an idea to refactor cour existing code:\r\n\r\n```\r\n#include &lt;iostream&gt;\r\n#include &lt;fstream&gt;\r\n#include &lt;sstream&gt;\r\n#include &lt;string&gt;\r\n#include &lt;vector&gt;\r\n\r\nstruct TaxPayer {\r\n    // Data part\r\n    std::string taxpayerId{};\r\n    std::string name{};\r\n    std::string address{};\r\n    std::string postcode{};\r\n    int salary{};\r\n    int deductions{};\r\n    double taxDue{};\r\n\r\n    // Extractor\r\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) {\r\n        // Read a complete line\r\n        std::string line{};\r\n        if (std::getline(is, line) and not line.empty()) {\r\n\r\n\r\n            // Put it into a stringstream for further extraction\r\n            std::istringstream iss{ line };\r\n\r\n            // Now, extract the data parts\r\n            std::getline(iss, tp.taxpayerId, &#39;,&#39;);\r\n            std::getline(iss, tp.name, &#39;,&#39;);\r\n            std::getline(iss, tp.address, &#39;,&#39;);\r\n            std::getline(iss, tp.postcode, &#39;,&#39;);\r\n\r\n            // Read and convert\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.salary = std::stoi(line);\r\n\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.deductions = std::stoi(line);\r\n\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.taxDue = std::stod(line);\r\n        }\r\n        return is;\r\n    }\r\n    // Simple inserter\r\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayer&amp; tp) {\r\n        return os &lt;&lt; tp.taxpayerId &lt;&lt; &#39; &#39; &lt;&lt; tp.name &lt;&lt; &#39; &#39; &lt;&lt; tp.address &lt;&lt; &#39; &#39; &lt;&lt; tp.postcode\r\n            &lt;&lt; &#39; &#39; &lt;&lt; tp.salary &lt;&lt; &#39; &#39; &lt;&lt; tp.deductions &lt;&lt; &#39; &#39; &lt;&lt; tp.taxDue &lt;&lt; &#39;\\n&#39;;\r\n    }\r\n\r\n};\r\nstruct TaxPayers {\r\n    // Data\r\n    std::vector&lt;TaxPayer&gt; taxPayers{};\r\n\r\n    // Sum functions\r\n    int sumSalary() {\r\n        int result{};\r\n        for (const TaxPayer&amp; taxPayer : taxPayers)\r\n            result += taxPayer.salary;\r\n        return result;\r\n    }\r\n    int sumDeductions() {\r\n        int result{};\r\n        for (const TaxPayer&amp; taxPayer : taxPayers)\r\n            result += taxPayer.deductions;\r\n        return result;\r\n    }\r\n\r\n    // Extractor\r\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayers&amp; tp) {\r\n        // clar old data\r\n        tp.taxPayers.clear();\r\n\r\n        // Read all new existing data and store in vector\r\n        TaxPayer taxPayer{};\r\n\r\n        while (is &gt;&gt; taxPayer)\r\n            tp.taxPayers.push_back(taxPayer);\r\n        return is;\r\n    }\r\n    // Simple inserter\r\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayers&amp; tp) {\r\n        for (const TaxPayer&amp; taxPayer : tp.taxPayers)\r\n            os &lt;&lt; taxPayer;\r\n        return os;\r\n    }\r\n\r\n\r\n};\r\n\r\n// Same as a file, I just use it here for better visibility\r\nstd::istringstream sourceFile{ R&quot;(7101003,Mike,23 boinig road,2615,48000,12000,0\r\n7201003,Jane Philips,29 boinig cresent,2616,47000,12000,0\r\n7301003,Philip Jane,23 bong road,2615,49000,000,0\r\n7401004,Peta,23 bong bong road,2615,148000,19000,0\r\n7101205,Abdulla,23 Station st,2615,80000,21000,0)&quot; };\r\n\r\nint main() {\r\n\r\n    TaxPayers taxPayers{};\r\n\r\n    // Read and parse all tax payers\r\n    sourceFile &gt;&gt; taxPayers;\r\n\r\n    // Debug output: Show, what we just read\r\n    std::cout &lt;&lt; taxPayers;\r\n\r\n    // Show sums\r\n    std::cout &lt;&lt; &quot;\\n\\n\\nSummary\\n\\nSalary:\\t\\t&quot; &lt;&lt; taxPayers.sumSalary() &lt;&lt; &quot;\\nDeductions:\\t&quot; &lt;&lt; taxPayers.sumDeductions() &lt;&lt; &#39;\\n&#39;;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Javascript font size changes from win 10 to win 11","body":"<p>There are different things that you need to understand. For example:</p>\n<p>Data, belonging together, but having a different type, will be stored in a class or struct.</p>\n<p>Many data of the same type, will be stored in an array or in this example in a <code>std::vector</code> because that can grow dynamically.</p>\n<p>So, as you already did, you will put the data of one row or, in database language, of one record, in a struct.</p>\n<p>So, your approach is correct, to define the TaxPayer class. But now, because you want to accumulate the sum of one data field of many TaxPayers, you need to put all the TaxPayers in a <code>std::vector</code> and encapsulate this in a second class. Then you add additional functions to that class, to calculate sums of the records (TaxPayer) in the <code>std::vector</code>.</p>\n<p>Example:</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct TaxPayer {\n    std::string taxpayerId{};\n    std::string name{};\n    std::string address{};\n    std::string postcode{};\n    int salary{};\n    int deductions{};\n    double taxDue{};\n};\nstruct TaxPayers {\n    std::vector&lt;TaxPayer&gt; taxPayers{};\n};\n</code></pre>\n<p>I just show the data members here. And you may reuse your existing functions of course.</p>\n<p>Now, we just need to add basically 2 important functions:</p>\n<ol>\n<li>Split one source row into its elements and then assign it to the taxPayer data fields</li>\n<li>Read all taxPayers</li>\n</ol>\n<p>The task number one is splitting so called CSV (Comma Separated Values) data. You will find at least 1000 examples here on stackoverflow on how to do this. A very popular method is to use <code>std::getline</code> and read a part of the text until the separator ','.</p>\n<p>To be more on the save side, first a complete line of the source file is read via <code>std::getline</code>. Then, this will be put into a <code>stringstream</code> and the further extraction of data is done from there.</p>\n<p>All this will be embedded in an overwritten &quot;extraction&quot; operator <code>&gt;&gt;</code>, that handles your specific data.</p>\n<p>The signature of such an operator is:</p>\n<pre><code>friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) \n</code></pre>\n<p>After implementation of the functionality, you can simply use the <code>&gt;&gt;</code> operator, to read a complete row and parse it in one step.</p>\n<p>In you TaxPayers class you need to define also such an operator and read all lines using the extractor from the definition above.</p>\n<p>By this method, by splitting a big task into smaller tasks, the solution will get very simple at the end.</p>\n<p>Last but not least, we need to add you accumulation functions of the data in the <code>std::vector</code>. That can be either done with a simple loop, or, a little bit more advanced, with <code>std::accumulate</code>.</p>\n<p>You may use the below example as an idea to refactor cour existing code:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct TaxPayer {\n    // Data part\n    std::string taxpayerId{};\n    std::string name{};\n    std::string address{};\n    std::string postcode{};\n    int salary{};\n    int deductions{};\n    double taxDue{};\n\n    // Extractor\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) {\n        // Read a complete line\n        std::string line{};\n        if (std::getline(is, line) and not line.empty()) {\n\n\n            // Put it into a stringstream for further extraction\n            std::istringstream iss{ line };\n\n            // Now, extract the data parts\n            std::getline(iss, tp.taxpayerId, ',');\n            std::getline(iss, tp.name, ',');\n            std::getline(iss, tp.address, ',');\n            std::getline(iss, tp.postcode, ',');\n\n            // Read and convert\n            std::getline(iss, line, ',');\n            tp.salary = std::stoi(line);\n\n            std::getline(iss, line, ',');\n            tp.deductions = std::stoi(line);\n\n            std::getline(iss, line, ',');\n            tp.taxDue = std::stod(line);\n        }\n        return is;\n    }\n    // Simple inserter\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayer&amp; tp) {\n        return os &lt;&lt; tp.taxpayerId &lt;&lt; ' ' &lt;&lt; tp.name &lt;&lt; ' ' &lt;&lt; tp.address &lt;&lt; ' ' &lt;&lt; tp.postcode\n            &lt;&lt; ' ' &lt;&lt; tp.salary &lt;&lt; ' ' &lt;&lt; tp.deductions &lt;&lt; ' ' &lt;&lt; tp.taxDue &lt;&lt; '\\n';\n    }\n\n};\nstruct TaxPayers {\n    // Data\n    std::vector&lt;TaxPayer&gt; taxPayers{};\n\n    // Sum functions\n    int sumSalary() {\n        int result{};\n        for (const TaxPayer&amp; taxPayer : taxPayers)\n            result += taxPayer.salary;\n        return result;\n    }\n    int sumDeductions() {\n        int result{};\n        for (const TaxPayer&amp; taxPayer : taxPayers)\n            result += taxPayer.deductions;\n        return result;\n    }\n\n    // Extractor\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayers&amp; tp) {\n        // clar old data\n        tp.taxPayers.clear();\n\n        // Read all new existing data and store in vector\n        TaxPayer taxPayer{};\n\n        while (is &gt;&gt; taxPayer)\n            tp.taxPayers.push_back(taxPayer);\n        return is;\n    }\n    // Simple inserter\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayers&amp; tp) {\n        for (const TaxPayer&amp; taxPayer : tp.taxPayers)\n            os &lt;&lt; taxPayer;\n        return os;\n    }\n\n\n};\n\n// Same as a file, I just use it here for better visibility\nstd::istringstream sourceFile{ R&quot;(7101003,Mike,23 boinig road,2615,48000,12000,0\n7201003,Jane Philips,29 boinig cresent,2616,47000,12000,0\n7301003,Philip Jane,23 bong road,2615,49000,000,0\n7401004,Peta,23 bong bong road,2615,148000,19000,0\n7101205,Abdulla,23 Station st,2615,80000,21000,0)&quot; };\n\nint main() {\n\n    TaxPayers taxPayers{};\n\n    // Read and parse all tax payers\n    sourceFile &gt;&gt; taxPayers;\n\n    // Debug output: Show, what we just read\n    std::cout &lt;&lt; taxPayers;\n\n    // Show sums\n    std::cout &lt;&lt; &quot;\\n\\n\\nSummary\\n\\nSalary:\\t\\t&quot; &lt;&lt; taxPayers.sumSalary() &lt;&lt; &quot;\\nDeductions:\\t&quot; &lt;&lt; taxPayers.sumDeductions() &lt;&lt; '\\n';\n}\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71715617,"answer_count":1,"score":0,"last_activity_date":1649411660,"creation_date":1648875601,"question_id":71714989,"body_markdown":"We have a large Java application that looks fine with Win 10. When we test it on Win 11, about 1/2 the controls have a much smaller font than the others.\r\n\r\nThis is using the same version of the Open JDK Java 11 VM on both machines.\r\n\r\nMy searches haven&#39;t found anything, but it seems odd that it would only be our Java app with this issue.\r\n\r\nAt one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..). That was years ago, and I can&#39;t seem to find one that does that now.\r\n\r\nAny ideas on why some fonts would change size on Win 11?\r\n\r\n","title":"Javascript font size changes from win 10 to win 11","body":"<p>We have a large Java application that looks fine with Win 10. When we test it on Win 11, about 1/2 the controls have a much smaller font than the others.</p>\n<p>This is using the same version of the Open JDK Java 11 VM on both machines.</p>\n<p>My searches haven't found anything, but it seems odd that it would only be our Java app with this issue.</p>\n<p>At one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..). That was years ago, and I can't seem to find one that does that now.</p>\n<p>Any ideas on why some fonts would change size on Win 11?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649410365,"creation_date":1649410365,"answer_id":71794709,"question_id":71794646,"body_markdown":"You can use\r\n```java\r\nString result = line.replaceAll(&quot;\\\\d&quot;, &quot; $0&quot;);\r\n```\r\nOr, if you do not want to add a space at the start:\r\n```java\r\nString result = line.replaceAll(&quot;(?!^)\\\\d&quot;, &quot; $0&quot;);\r\n```\r\nThe `\\d` pattern matches any digit, and `replaceAll` will match and replace all occurrences, `/g` at the end of the pattern only does harm and needs removing. `(?!^)` means &quot;not at the start of the string&quot;.\r\n\r\nThe `$0` placeholder/replacement backreference in the replacement refers to the whole match value.\r\n\r\nSee the [regex demo][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/7FDiSc/1","title":"Java : regex to add space before number","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = line.replaceAll(&quot;\\\\d&quot;, &quot; $0&quot;);\n</code></pre>\n<p>Or, if you do not want to add a space at the start:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = line.replaceAll(&quot;(?!^)\\\\d&quot;, &quot; $0&quot;);\n</code></pre>\n<p>The <code>\\d</code> pattern matches any digit, and <code>replaceAll</code> will match and replace all occurrences, <code>/g</code> at the end of the pattern only does harm and needs removing. <code>(?!^)</code> means &quot;not at the start of the string&quot;.</p>\n<p>The <code>$0</code> placeholder/replacement backreference in the replacement refers to the whole match value.</p>\n<p>See the <a href=\"https://regex101.com/r/7FDiSc/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71794709,"answer_count":1,"score":1,"last_activity_date":1649410890,"creation_date":1649410100,"question_id":71794646,"body_markdown":"I would like to add a space before each number.  \r\n\r\nHere : `AS400` would become `AS 4 0 0`  \r\n\r\nI have tried : `line.replaceAll(&quot;[0-9]/g&quot;, &quot; &quot;))`\r\n  \r\nbut it doesn&#39;t seem to do the job.  \r\n","title":"Java : regex to add space before number","body":"<p>I would like to add a space before each number.</p>\n<p>Here : <code>AS400</code> would become <code>AS 4 0 0</code></p>\n<p>I have tried : <code>line.replaceAll(&quot;[0-9]/g&quot;, &quot; &quot;))</code></p>\n<p>but it doesn't seem to do the job.</p>\n"},{"tags":["java","serialization","lambda","classcastexception","circular-reference"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1649412597,"post_id":71794821,"comment_id":126874233,"body_markdown":"Seems like serializing lambda expressions is [strongly discouraged](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization), just like [inner classes](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#serialization), because of the dynamic creation of synthetic constructs (as the tutorial reads). If you replace `this` in the body of your lambda with for example the empty string, then running your code yields a different class on deserialization, than the one serialized...","body":"Seems like serializing lambda expressions is <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization\" rel=\"nofollow noreferrer\">strongly discouraged</a>, just like <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#serialization\" rel=\"nofollow noreferrer\">inner classes</a>, because of the dynamic creation of synthetic constructs (as the tutorial reads). If you replace <code>this</code> in the body of your lambda with for example the empty string, then running your code yields a different class on deserialization, than the one serialized..."}],"owner":{"account_id":16032980,"reputation":11,"user_id":11571376,"display_name":"Thomas Bihrer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649410862,"creation_date":1649410862,"question_id":71794821,"body_markdown":"`ClassCastException` is thrown by java8 when a lambda expression which contains a cirular reference via its expression arguments to itself, is deserialized. \r\n\r\nThe exception only is thrown when the lambda is serialized before the object creating the circular reference.\r\n\r\nTested on openjdk version &quot;1.8.0_292&quot; and &quot;11.0.14.1&quot;. Please find test code on how to reproduce:\r\n```\r\nimport java.io.*;\r\n\r\npublic class TestLambdaSerialization\r\n{\r\n    interface SerRunnable extends Runnable, Serializable\r\n    {\r\n    }\r\n\r\n    static class A implements Serializable\r\n    {\r\n        SerRunnable runnable;\r\n\r\n        A()\r\n        {\r\n            runnable = () -&gt; System.out.println(this);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) throws Exception\r\n    {\r\n        System.out.println(System.getProperty(&quot;java.version&quot;));\r\n        A a = new A();\r\n        serializeDeserialize(a);\r\n        serializeDeserialize(a.runnable);\r\n    }\r\n\r\n    public static void serializeDeserialize(Object o1) throws Exception\r\n    {\r\n        System.out.printf(&quot;Starting object %s%n&quot;, o1);\r\n        try (ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\r\n             ObjectOutputStream out = new ObjectOutputStream(outBytes)) {\r\n            out.writeObject(o1);\r\n            out.flush();\r\n            try (ByteArrayInputStream inBytes = new ByteArrayInputStream(outBytes.toByteArray());\r\n                ObjectInputStream in = new ObjectInputStream(inBytes)) {\r\n                Object o2 = in.readObject();\r\n                System.out.printf(&quot;Deserialized object %s%n&quot;, o2);\r\n            }\r\n            catch (ClassCastException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n1.8.0_292\r\nStarting object TestLambdaSerialization$A@b4c966a\r\nDeserialized object TestLambdaSerialization$A@7106e68e\r\nStarting object TestLambdaSerialization$A$$Lambda$1/1480010240@34a245ab\r\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field TestLambdaSerialization$A.runnable of type TestLambdaSerialization$SerRunnable in instance of TestLambdaSerialization$A\r\n\tat java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301)\r\n\tat java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2411)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2093)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1655)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat TestLambdaSerialization.serializeDeserialize(TestLambdaSerialization.java:36)\r\n\tat TestLambdaSerialization.main(TestLambdaSerialization.java:24)\r\n```\r\n\r\nDeserialization of object **a** doesn&#39;t throw the exception, when the lambda expression is the starting point a `ClassCastException` is thrown.\r\n\r\nDoes the order of serialization in case of lambda expressions matter? If yes is there a workaround beside avoiding lambda (replacing them by anonymous inner class)?","title":"Why order of serializing a lambda expression containing a cirular-self-reference matters and can throw a ClassCastException?","body":"<p><code>ClassCastException</code> is thrown by java8 when a lambda expression which contains a cirular reference via its expression arguments to itself, is deserialized.</p>\n<p>The exception only is thrown when the lambda is serialized before the object creating the circular reference.</p>\n<p>Tested on openjdk version &quot;1.8.0_292&quot; and &quot;11.0.14.1&quot;. Please find test code on how to reproduce:</p>\n<pre><code>import java.io.*;\n\npublic class TestLambdaSerialization\n{\n    interface SerRunnable extends Runnable, Serializable\n    {\n    }\n\n    static class A implements Serializable\n    {\n        SerRunnable runnable;\n\n        A()\n        {\n            runnable = () -&gt; System.out.println(this);\n        }\n    }\n\n    public static void main(String args[]) throws Exception\n    {\n        System.out.println(System.getProperty(&quot;java.version&quot;));\n        A a = new A();\n        serializeDeserialize(a);\n        serializeDeserialize(a.runnable);\n    }\n\n    public static void serializeDeserialize(Object o1) throws Exception\n    {\n        System.out.printf(&quot;Starting object %s%n&quot;, o1);\n        try (ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\n             ObjectOutputStream out = new ObjectOutputStream(outBytes)) {\n            out.writeObject(o1);\n            out.flush();\n            try (ByteArrayInputStream inBytes = new ByteArrayInputStream(outBytes.toByteArray());\n                ObjectInputStream in = new ObjectInputStream(inBytes)) {\n                Object o2 = in.readObject();\n                System.out.printf(&quot;Deserialized object %s%n&quot;, o2);\n            }\n            catch (ClassCastException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1.8.0_292\nStarting object TestLambdaSerialization$A@b4c966a\nDeserialized object TestLambdaSerialization$A@7106e68e\nStarting object TestLambdaSerialization$A$$Lambda$1/1480010240@34a245ab\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field TestLambdaSerialization$A.runnable of type TestLambdaSerialization$SerRunnable in instance of TestLambdaSerialization$A\n    at java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301)\n    at java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2411)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2093)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1655)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at TestLambdaSerialization.serializeDeserialize(TestLambdaSerialization.java:36)\n    at TestLambdaSerialization.main(TestLambdaSerialization.java:24)\n</code></pre>\n<p>Deserialization of object <strong>a</strong> doesn't throw the exception, when the lambda expression is the starting point a <code>ClassCastException</code> is thrown.</p>\n<p>Does the order of serialization in case of lambda expressions matter? If yes is there a workaround beside avoiding lambda (replacing them by anonymous inner class)?</p>\n"},{"tags":["java","spring","mockito","spring-webflux","webclient"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1649345570,"post_id":71784395,"comment_id":126857482,"body_markdown":"Please include more details, the source for the test where you&#39;re trying to mock out the headers would help.","body":"Please include more details, the source for the test where you&#39;re trying to mock out the headers would help."},{"owner":{"account_id":19476892,"reputation":1,"user_id":14248135,"display_name":"cornelF"},"score":0,"creation_date":1649410796,"post_id":71784395,"comment_id":126873591,"body_markdown":"i added the unit test mocks","body":"i added the unit test mocks"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1649442838,"post_id":71784395,"comment_id":126885654,"body_markdown":"Please read through this [document](https://stackoverflow.com/help/minimal-reproducible-example) as there still aren&#39;t enough details in your question to properly answer it.","body":"Please read through this <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">document</a> as there still aren&#39;t enough details in your question to properly answer it."}],"answers":[{"tags":[],"owner":{"account_id":13590609,"reputation":1,"user_id":9804016,"display_name":"suraj salunkhe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649360297,"creation_date":1649347199,"answer_id":71785391,"question_id":71784395,"body_markdown":"You can try something like below \r\n\r\n    .withHeader(\r\n      HttpHeaders.ACCEPT, \r\n      containing(org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\r\n    )","title":"I m trying to mock the .header but it does not work, does anyone has an idea?","body":"<p>You can try something like below</p>\n<pre><code>.withHeader(\n  HttpHeaders.ACCEPT, \n  containing(org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\n)\n</code></pre>\n"}],"owner":{"account_id":19476892,"reputation":1,"user_id":14248135,"display_name":"cornelF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649410766,"creation_date":1649343169,"question_id":71784395,"body_markdown":"i tried to mock the header with  when(requestHeadersSpec.header(notNull(), notNull())).thenReturn(requestHeadersSpec);, or something similar but i does not work, does anyone has an idea? \r\n\r\n      return defaultWebClient\r\n                .get()\r\n                .uri(some uri)\r\n                .headers(httpHeaders -&gt; httpHeaders.set(&quot;Content-Type&quot;, &quot;application/pdf&quot;))\r\n                .retrieve()\r\n                .bodyToFlux(DataBuffer.class)\r\n.....\r\n    }\r\n\r\n\r\nthis is how i tried to write the unit test \r\n   when(defaultWebClient.get()).thenReturn(requestHeadersUriSpec);\r\n        doReturn(requestHeadersSpec).when(requestHeadersUriSpec).uri(anyString());\r\n        Mockito.when(requestHeadersSpec.header(anyString())).thenReturn(requestHeadersSpec);\r\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n        DefaultDataBufferFactory factory = new DefaultDataBufferFactory();\r\n\r\n        DefaultDataBuffer dataBuffer =\r\n            factory.wrap(ByteBuffer.wrap(&quot;{\\&quot;username\\&quot;:\\&quot;foo\\&quot;,\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;.getBytes(StandardCharsets.UTF_8)));\r\n        when(responseSpec.bodyToFlux(DataBuffer.class))\r\n            .thenReturn(Flux.just(dataBuffer));","title":"I m trying to mock the .header but it does not work, does anyone has an idea?","body":"<p>i tried to mock the header with  when(requestHeadersSpec.header(notNull(), notNull())).thenReturn(requestHeadersSpec);, or something similar but i does not work, does anyone has an idea?</p>\n<pre><code>  return defaultWebClient\n            .get()\n            .uri(some uri)\n            .headers(httpHeaders -&gt; httpHeaders.set(&quot;Content-Type&quot;, &quot;application/pdf&quot;))\n            .retrieve()\n            .bodyToFlux(DataBuffer.class)\n</code></pre>\n<p>.....\n}</p>\n<p>this is how i tried to write the unit test\nwhen(defaultWebClient.get()).thenReturn(requestHeadersUriSpec);\ndoReturn(requestHeadersSpec).when(requestHeadersUriSpec).uri(anyString());\nMockito.when(requestHeadersSpec.header(anyString())).thenReturn(requestHeadersSpec);\nwhen(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\nDefaultDataBufferFactory factory = new DefaultDataBufferFactory();</p>\n<pre><code>    DefaultDataBuffer dataBuffer =\n        factory.wrap(ByteBuffer.wrap(&quot;{\\&quot;username\\&quot;:\\&quot;foo\\&quot;,\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;.getBytes(StandardCharsets.UTF_8)));\n    when(responseSpec.bodyToFlux(DataBuffer.class))\n        .thenReturn(Flux.just(dataBuffer));\n</code></pre>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649411346,"post_id":71794783,"comment_id":126873777,"body_markdown":"Which surefire plugin version? How does your pom look like? How does your test look like?","body":"Which surefire plugin version? How does your pom look like? How does your test look like?"},{"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"score":1,"creation_date":1649420146,"post_id":71794783,"comment_id":126876931,"body_markdown":"@khmarbaise I was using 2.19.1 and it was updated to 3.0.0-M6 . After the update the count is correct.","body":"@khmarbaise I was using 2.19.1 and it was updated to 3.0.0-M6 . After the update the count is correct."}],"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649410661,"creation_date":1649410661,"question_id":71794783,"body_markdown":"I am using `mvn clean test` to trigger the TestNG test cases for my automation framework.\r\nI have implemented TestNG test retry mechanism in the framework. I have intentionally failed one test case to check the mechanism. When i used the maven command the skiped test case count is displayed as O instead of 1\r\nTestNG version-7.5\r\nMaven version-3.6.3\r\nJdk version -8\r\n","title":"Skipped TestNG test case count is wrong while running test cases using Maven command","body":"<p>I am using <code>mvn clean test</code> to trigger the TestNG test cases for my automation framework.\nI have implemented TestNG test retry mechanism in the framework. I have intentionally failed one test case to check the mechanism. When i used the maven command the skiped test case count is displayed as O instead of 1\nTestNG version-7.5\nMaven version-3.6.3\nJdk version -8</p>\n"},{"tags":["java","importerror","dagger"],"comments":[{"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"score":1,"creation_date":1383264549,"post_id":19718662,"comment_id":29294625,"body_markdown":"Make sure you have java EE 6 packages download, alternatively: on intelliJ, you can hit alt+enter and there will be an option such as &quot;search the web for this package&quot; and it will give you a list of jars that have that package.","body":"Make sure you have java EE 6 packages download, alternatively: on intelliJ, you can hit alt+enter and there will be an option such as &quot;search the web for this package&quot; and it will give you a list of jars that have that package."},{"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"score":0,"creation_date":1383265144,"post_id":19718662,"comment_id":29294764,"body_markdown":"When I use IntelliJ to search for jars, it tells me that there are no jars available for &#39;javax.inject.Inject&#39;.","body":"When I use IntelliJ to search for jars, it tells me that there are no jars available for &#39;javax.inject.Inject&#39;."},{"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"score":1,"creation_date":1383275558,"post_id":19718662,"comment_id":29296863,"body_markdown":"Turns out it was a combination of factors:\n\n1.Turn on Annotations in your IntelliJ preferences: http://www.jetbrains.com/idea/webhelp/using-external-annotations.html\n\n2.Include the inject jars: http://mvnrepository.com/artifact/javax.inject/javax.inject\n\n3.Profit","body":"Turns out it was a combination of factors:  1.Turn on Annotations in your IntelliJ preferences: <a href=\"http://www.jetbrains.com/idea/webhelp/using-external-annotations.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/webhelp/using-external-annotations.html</a>  2.Include the inject jars: <a href=\"http://mvnrepository.com/artifact/javax.inject/javax.inject\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.inject/javax.inject</a>  3.Profit"}],"answers":[{"tags":[],"owner":{"account_id":44914,"reputation":75768,"user_id":132047,"accept_rate":88,"display_name":"Jake Wharton"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1383272289,"creation_date":1383272289,"answer_id":19719828,"question_id":19718662,"body_markdown":"Dagger depends on JSR 330, the Java standard annotations which are used for dependency injection (think: `@Inject`, `@Singleton`, etc.).\r\n\r\nThis is a separate jar that you have to include. If you were using a build system with integrated dependency management (Maven, Gradle, Ant+Ivy, sbt) you&#39;d get this for free. If you&#39;re still copying around jars then you have to add it manually.\r\n\r\nYou can download the latest jar from [Maven central][1] (at the bottom).\r\n\r\n [1]: http://search.maven.org/#artifactdetails%7Cjavax.inject%7Cjavax.inject%7C1%7Cjar","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>Dagger depends on JSR 330, the Java standard annotations which are used for dependency injection (think: <code>@Inject</code>, <code>@Singleton</code>, etc.).</p>\n\n<p>This is a separate jar that you have to include. If you were using a build system with integrated dependency management (Maven, Gradle, Ant+Ivy, sbt) you'd get this for free. If you're still copying around jars then you have to add it manually.</p>\n\n<p>You can download the latest jar from <a href=\"http://search.maven.org/#artifactdetails%7Cjavax.inject%7Cjavax.inject%7C1%7Cjar\">Maven central</a> (at the bottom).</p>\n"},{"tags":[],"owner":{"account_id":6850827,"reputation":445,"user_id":5268054,"accept_rate":75,"display_name":"Dwight Lisper"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1465198614,"creation_date":1458568407,"answer_id":36132880,"question_id":19718662,"body_markdown":"add this to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>add this to your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6293679,"reputation":441,"user_id":5971147,"display_name":"hasskell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466664923,"creation_date":1466664923,"answer_id":37984278,"question_id":19718662,"body_markdown":"In case if anyone using plain Java project not Maven or Gradle or e.t.c. You can download a separate Jar file from here [Inject Jar file][1]\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/javax.inject/javax.inject/1\r\nand then add to your external libraries, in IDEA you can do that as follows:\r\nFile -&gt; Project Structure -&gt; Libraries -&gt; New Project Library (+)\r\n\r\nThen find the path to library and job is done.\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>In case if anyone using plain Java project not Maven or Gradle or e.t.c. You can download a separate Jar file from here <a href=\"http://mvnrepository.com/artifact/javax.inject/javax.inject/1\" rel=\"nofollow\">Inject Jar file</a></p>\n\n<p>and then add to your external libraries, in IDEA you can do that as follows:\nFile -> Project Structure -> Libraries -> New Project Library (+)</p>\n\n<p>Then find the path to library and job is done.</p>\n"},{"tags":[],"owner":{"account_id":14496804,"reputation":1,"user_id":10471113,"display_name":"Liubomyr Protsyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538973537,"creation_date":1538973537,"answer_id":52695466,"question_id":19718662,"body_markdown":"// dependency injection\r\n    implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    // dependency injection\r\n        implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n        implementation {\r\n            exclude(group: &#39;javax.inject&#39;, module: &#39;javax.inject&#39;)\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>// dependency injection\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// dependency injection\r\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"\r\n    implementation {\r\n        exclude(group: 'javax.inject', module: 'javax.inject')\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587027204,"creation_date":1587027204,"answer_id":61246275,"question_id":19718662,"body_markdown":"Add the inject library directly from Maven like this: \r\n\r\n- File -&gt; Project Structure -&gt; Project Settings -&gt; Libraries -&gt; Add -&gt; From Maven\r\n- Search for `javax.inject:javax.inject:1`\r\n- After it&#39;s been found click OK\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X80EE.png\r\n\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>Add the inject library directly from Maven like this: </p>\n\n<ul>\n<li>File -> Project Structure -> Project Settings -> Libraries -> Add -> From Maven</li>\n<li>Search for <code>javax.inject:javax.inject:1</code></li>\n<li>After it's been found click OK</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/X80EE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X80EE.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7073752,"reputation":1085,"user_id":5414535,"accept_rate":0,"display_name":"Josef Vancura"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649410568,"creation_date":1649410568,"answer_id":71794762,"question_id":19718662,"body_markdown":"put to gradle\r\n\r\n    implementation &#39;javax.inject:javax.inject:1&#39;","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>put to gradle</p>\n<pre><code>implementation 'javax.inject:javax.inject:1'\n</code></pre>\n"}],"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91997,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":6,"score":50,"last_activity_date":1649410568,"creation_date":1383263737,"question_id":19718662,"body_markdown":"I&#39;m trying to implement Dagger as a dependency injector in an IntelliJ project, but my code is failing on:\r\n\r\n    import javax.inject.Inject;\r\n\r\nIntellij is finding the &#39;`javax`&#39; package, but not the &#39;`inject`&#39; package, so it fails.\r\n\r\nI am new to Android, so I apologize if this is a no brainer, but can anyone tell me why the inject package is not being found?\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>I'm trying to implement Dagger as a dependency injector in an IntelliJ project, but my code is failing on:</p>\n\n<pre><code>import javax.inject.Inject;\n</code></pre>\n\n<p>Intellij is finding the '<code>javax</code>' package, but not the '<code>inject</code>' package, so it fails.</p>\n\n<p>I am new to Android, so I apologize if this is a no brainer, but can anyone tell me why the inject package is not being found?</p>\n"},{"tags":["java","spring-boot","autowired","dto","mapstruct"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1649354839,"post_id":71782882,"comment_id":126860864,"body_markdown":"Please edit your question to add the [maven-compiler-plugin](https://mapstruct.org/documentation/stable/reference/html/#_set_up) element from your pom.xml file.","body":"Please edit your question to add the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_set_up\" rel=\"nofollow noreferrer\">maven-compiler-plugin</a> element from your pom.xml file."},{"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"score":0,"creation_date":1649408524,"post_id":71782882,"comment_id":126872838,"body_markdown":"I&#39;ve added the pom.xml.","body":"I&#39;ve added the pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":14584814,"reputation":151,"user_id":10534024,"display_name":"Alexandr Ter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649410364,"creation_date":1649410364,"answer_id":71794708,"question_id":71782882,"body_markdown":"An annotation processor must be added to the compiler plugin in order to generate an implementation for `UserMapper` interface.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t&lt;/annotationProcessorPaths&gt;\r\n\t  &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso I don&#39;t think can remove `uses = UserService.class`, considering that `UserService` is not a Mapper. Here is the official documentation of `uses` annotation parameter: \r\n&gt; Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No cycle between generated mapper classes must be created.\r\n\r\n\r\n","title":"SpringBoot Could not autowire. No beans of &#39;UserMapper&#39; type found error for Mapstruct Mappers","body":"<p>An annotation processor must be added to the compiler plugin in order to generate an implementation for <code>UserMapper</code> interface.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n    &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Also I don't think can remove <code>uses = UserService.class</code>, considering that <code>UserService</code> is not a Mapper. Here is the official documentation of <code>uses</code> annotation parameter:</p>\n<blockquote>\n<p>Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No cycle between generated mapper classes must be created.</p>\n</blockquote>\n"}],"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71794708,"answer_count":1,"score":2,"last_activity_date":1649410364,"creation_date":1649337369,"question_id":71782882,"body_markdown":"This is my User class.\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_table&quot;)\r\n    @Data\r\n    public class User {\r\n\r\n    @Id\r\n    private Long id;\r\n    private String userName;\r\n    private String password;\r\n     }\r\n\r\nThis is my UserDto, I know the fields name are same. But I&#39;m trying to understand the concept.\r\n\r\n    @Data\r\n    public class UserDto {\r\n\r\n    private Long id;\r\n    private String userName;\r\n    private String password;\r\n    }\r\n\r\n\r\nI wanted to use MapStruct for to Entity-Dto and Dto-Entity convertions. So I&#39;ve wrote a base interface like EntityMapper. \r\n\r\n\r\n    public interface EntityMapper&lt;D, E&gt; {\r\n\r\n    E toEntity(D dto);\r\n\r\n    D toDto(E entity);\r\n\r\n    List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\r\n\r\n    List&lt;D&gt; toDto(List&lt;E&gt; entityList);\r\n\r\n    }\r\n\r\n\r\nThen I created a new Interface which is extends EntityMapper\r\n.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = UserService.class)\r\n \r\n    public interface UserMapper extends EntityMapper&lt;UserDto , User&gt; {\r\n\r\n\r\n    @Mapping(source = &quot;id&quot;, target = &quot;id&quot;)\r\n    @Mapping(source = &quot;userName&quot;, target = &quot;userName&quot;)\r\n    @Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\r\n    @Override\r\n    User toEntity(UserDto dto);\r\n\r\n    @Override\r\n    UserDto toDto(User entity);\r\n\r\n    @Override\r\n    List&lt;User&gt; toEntity(List&lt;UserDto&gt; dtoList);\r\n\r\n    @Override\r\n    List&lt;UserDto&gt; toDto(List&lt;User&gt; entityList);\r\n\r\n\r\n\r\n This my controller \r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/api/users&quot;)\r\n    public class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto){\r\n\r\n        UserDto res = userService.saveUser(userDto);\r\n        return ResponseEntity.ok(res);\r\n    }\r\n    }\r\n\r\n\r\n\r\nAnd finally when I try to create a new service class and use a reference from UserMapper interface. The spring tells me \r\n \r\nCould not autowire. No beans of &#39;UserMapper&#39; type found.\r\n\r\nfor this line \r\n\r\n       private final UserMapper userMapper;\r\n\r\nAnd this is my whole Service Class. When I delete the  @Service annotation the error is fixing. But this is a service class so I have to put @Service annotation I think.\r\n\r\nI&#39;ve tried to add @Component annotation to UserMapper. But application failed to start.\r\n\r\n  \r\n    @Service\r\n    public class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final UserMapper userMapper;\r\n\r\n    public UserService(UserRepository userRepository, UserMapper userMapper) {\r\n        this.userRepository = userRepository;\r\n        this.userMapper = userMapper;\r\n    }\r\n\r\n    public UserDto saveUser(UserDto userDto){\r\n\r\n        User user = userMapper.toEntity(userDto);\r\n        user = userRepository.save(user);\r\n        UserDto res = userMapper.toDto(user);\r\n        return res;\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\nHere is the pom.xml. \r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n          https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AprilSevenApp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;AprilSevenApp&lt;/name&gt;\r\n    &lt;description&gt;AprilSevenApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;util&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nI just added to this dependency for mapstruct. If is there a different dependencies that I have to add, I did&#39;nt know.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct -- \r\n     &gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"SpringBoot Could not autowire. No beans of &#39;UserMapper&#39; type found error for Mapstruct Mappers","body":"<p>This is my User class.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_table&quot;)\n@Data\npublic class User {\n\n@Id\nprivate Long id;\nprivate String userName;\nprivate String password;\n }\n</code></pre>\n<p>This is my UserDto, I know the fields name are same. But I'm trying to understand the concept.</p>\n<pre><code>@Data\npublic class UserDto {\n\nprivate Long id;\nprivate String userName;\nprivate String password;\n}\n</code></pre>\n<p>I wanted to use MapStruct for to Entity-Dto and Dto-Entity convertions. So I've wrote a base interface like EntityMapper.</p>\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n\nE toEntity(D dto);\n\nD toDto(E entity);\n\nList&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n\nList&lt;D&gt; toDto(List&lt;E&gt; entityList);\n\n}\n</code></pre>\n<p>Then I created a new Interface which is extends EntityMapper\n.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = UserService.class)\n\npublic interface UserMapper extends EntityMapper&lt;UserDto , User&gt; {\n\n\n@Mapping(source = &quot;id&quot;, target = &quot;id&quot;)\n@Mapping(source = &quot;userName&quot;, target = &quot;userName&quot;)\n@Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\n@Override\nUser toEntity(UserDto dto);\n\n@Override\nUserDto toDto(User entity);\n\n@Override\nList&lt;User&gt; toEntity(List&lt;UserDto&gt; dtoList);\n\n@Override\nList&lt;UserDto&gt; toDto(List&lt;User&gt; entityList);\n</code></pre>\n<p>This my controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/api/users&quot;)\npublic class UserController {\n\nprivate final UserService userService;\n\npublic UserController(UserService userService) {\n    this.userService = userService;\n}\n\n@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto){\n\n    UserDto res = userService.saveUser(userDto);\n    return ResponseEntity.ok(res);\n}\n}\n</code></pre>\n<p>And finally when I try to create a new service class and use a reference from UserMapper interface. The spring tells me</p>\n<p>Could not autowire. No beans of 'UserMapper' type found.</p>\n<p>for this line</p>\n<pre><code>   private final UserMapper userMapper;\n</code></pre>\n<p>And this is my whole Service Class. When I delete the  @Service annotation the error is fixing. But this is a service class so I have to put @Service annotation I think.</p>\n<p>I've tried to add @Component annotation to UserMapper. But application failed to start.</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final UserRepository userRepository;\nprivate final UserMapper userMapper;\n\npublic UserService(UserRepository userRepository, UserMapper userMapper) {\n    this.userRepository = userRepository;\n    this.userMapper = userMapper;\n}\n\npublic UserDto saveUser(UserDto userDto){\n\n    User user = userMapper.toEntity(userDto);\n    user = userRepository.save(user);\n    UserDto res = userMapper.toDto(user);\n    return res;\n}\n\n}\n</code></pre>\n<p>Here is the pom.xml.</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n      https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;AprilSevenApp&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;AprilSevenApp&lt;/name&gt;\n&lt;description&gt;AprilSevenApp&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dot&lt;/groupId&gt;\n        &lt;artifactId&gt;util&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I just added to this dependency for mapstruct. If is there a different dependencies that I have to add, I did'nt know.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct -- \n &gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","plugins","properties","jar"],"comments":[{"owner":{"account_id":20268,"reputation":5582,"user_id":48234,"accept_rate":41,"display_name":"Cogsy"},"score":0,"creation_date":1244020340,"post_id":943774,"comment_id":751853,"body_markdown":"What build tool are you using? ANT, Maven, or even just the command line Jar tool?","body":"What build tool are you using? ANT, Maven, or even just the command line Jar tool?"},{"owner":{"display_name":"Flustered"},"score":0,"creation_date":1244020688,"post_id":943774,"comment_id":751867,"body_markdown":"@Cogsy, I am trying to create the jar file with Eclipse export.","body":"@Cogsy, I am trying to create the jar file with Eclipse export."},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":0,"creation_date":1244021207,"post_id":943774,"comment_id":751894,"body_markdown":"How are you trying to access the property files from pluginC?","body":"How are you trying to access the property files from pluginC?"}],"answers":[{"tags":[],"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244020268,"creation_date":1244020268,"answer_id":943786,"question_id":943774,"body_markdown":"Not sure to understand your problem.\r\nDo you have the jar classpath (in META file) containing the folder where your property files  are stored ?","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>Not sure to understand your problem.\nDo you have the jar classpath (in META file) containing the folder where your property files  are stored ?</p>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244020643,"creation_date":1244020643,"answer_id":943803,"question_id":943774,"body_markdown":"When pluginA should use classes frmo pluginB, pluginA has to put the package path to the runtime packages. You can find the configuration in MANIFEST-&gt;Runtime-&gt;&quot;Exported Packages&quot;\r\n\r\nWhen you want to use properties files, you have to use the bundle of the called plugin, to find the right properties file.\r\nTry to get the in pluginC the default plugin implementation of pluginA \r\n\r\n&gt; AbstractUIPlugin.getDefault()\r\n\r\nThan search for the bundle object and use the findResource method to find the properties file.\r\n\r\n\r\nAnother way is to write a Utility class in pluginA that gives you the property value for a specific key. This class you can call from every plugin you want.\r\n\r\n\r\nYou can test your jars in Eclipse by calling\r\n\r\n&gt; Export -&gt; Deployable plug-ins and\r\n&gt; fragments\r\n\r\nThan you can check if the export works and all files are inside the jar. If not, you have to update your MANIFEST or build.properties file\r\n","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>When pluginA should use classes frmo pluginB, pluginA has to put the package path to the runtime packages. You can find the configuration in MANIFEST->Runtime->\"Exported Packages\"</p>\n\n<p>When you want to use properties files, you have to use the bundle of the called plugin, to find the right properties file.\nTry to get the in pluginC the default plugin implementation of pluginA </p>\n\n<blockquote>\n  <p>AbstractUIPlugin.getDefault()</p>\n</blockquote>\n\n<p>Than search for the bundle object and use the findResource method to find the properties file.</p>\n\n<p>Another way is to write a Utility class in pluginA that gives you the property value for a specific key. This class you can call from every plugin you want.</p>\n\n<p>You can test your jars in Eclipse by calling</p>\n\n<blockquote>\n  <p>Export -> Deployable plug-ins and\n  fragments</p>\n</blockquote>\n\n<p>Than you can check if the export works and all files are inside the jar. If not, you have to update your MANIFEST or build.properties file</p>\n"}],"owner":{"display_name":"Flustered"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649410150,"creation_date":1244020021,"question_id":943774,"body_markdown":"It has been a frustrating day trying to package multiple plugins and their property files into an executable jar.\r\n\r\nHow to I package these plugins into a single jar, leaving the properties files outside:\r\n- pluginA with pluginA.properties\r\n- pluginB with pluginB.properties\r\n- pluginC that requires pluginA and pluginB\r\n\r\nThe property files are accessible from within their relevant plugin, e.g. pluginA.properties is accessible from pluginA.  \r\nHowever, the properties files are not accessible from pluginC.","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>It has been a frustrating day trying to package multiple plugins and their property files into an executable jar.</p>\n<p>How to I package these plugins into a single jar, leaving the properties files outside:</p>\n<ul>\n<li>pluginA with pluginA.properties</li>\n<li>pluginB with pluginB.properties</li>\n<li>pluginC that requires pluginA and pluginB</li>\n</ul>\n<p>The property files are accessible from within their relevant plugin, e.g. pluginA.properties is accessible from pluginA.<br />\nHowever, the properties files are not accessible from pluginC.</p>\n"},{"tags":["java","algorithm","substring"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368009,"post_id":27764640,"comment_id":43939964,"body_markdown":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.","body":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368020,"post_id":27764640,"comment_id":43939971,"body_markdown":"Not sure why this question is voted off as &quot;too broad&quot; - there is a specific question at hand, and @Program_Dude also provided what he has tried and why it failed.","body":"Not sure why this question is voted off as &quot;too broad&quot; - there is a specific question at hand, and @Program_Dude also provided what he has tried and why it failed."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368153,"post_id":27764640,"comment_id":43940011,"body_markdown":"@Amit what he did? he asked for some code? So it is off-topic","body":"@Amit what he did? he asked for some code? So it is off-topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":2,"creation_date":1420368204,"post_id":27764640,"comment_id":43940032,"body_markdown":"@Eliyahu It is completely on-topic. He described a problem, described a solution, explained why the suggested solution fails, and asked for an alternative. More &quot;advanced&quot; problem than &quot;How to parse a string?&quot; is perfectly on topic.","body":"@Eliyahu It is completely on-topic. He described a problem, described a solution, explained why the suggested solution fails, and asked for an alternative. More &quot;advanced&quot; problem than &quot;How to parse a string?&quot; is perfectly on topic."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368249,"post_id":27764640,"comment_id":43940045,"body_markdown":"you have to share some code so if someone can answer you concern can guide you to specific point in the code, to enhance or alter, otherwise, anyone have to solve the whole question in order to present a sol. which is not the purpose of this website, thats why your question is voted `too broad`","body":"you have to share some code so if someone can answer you concern can guide you to specific point in the code, to enhance or alter, otherwise, anyone have to solve the whole question in order to present a sol. which is not the purpose of this website, thats why your question is voted <code>too broad</code>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368285,"post_id":27764640,"comment_id":43940050,"body_markdown":"@Amit especially after your editing where you deleted the problematic part of the question","body":"@Amit especially after your editing where you deleted the problematic part of the question"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368379,"post_id":27764640,"comment_id":43940075,"body_markdown":"i think **too broad\nThere are either too many possible answers, or good answers would be too long for this format. Please add details to narrow the answer set or to isolate an issue that can be answered in a few paragraphs.** fits here, the OP not only asking for an answer, but OP asks for the best answer, a fast answer, which will be somehow off-topic","body":"i think <b>too broad There are either too many possible answers, or good answers would be too long for this format. Please add details to narrow the answer set or to isolate an issue that can be answered in a few paragraphs.</b> fits here, the OP not only asking for an answer, but OP asks for the best answer, a fast answer, which will be somehow off-topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368407,"post_id":27764640,"comment_id":43940085,"body_markdown":"@Yazan Do you see code in these problems: [Pair socks from a pile](http://stackoverflow.com/questions/14415881/pair-socks-from-a-pile-efficiently), [Algorithm improvement for Coca-Cola can shape recognition](http://stackoverflow.com/questions/10168686/algorithm-improvement-for-coca-cola-can-shape-recognition) , [Plain English explanation of Big O](http://stackoverflow.com/q/487258/572670)? Yet they are perfectly on topic","body":"@Yazan Do you see code in these problems: <a href=\"http://stackoverflow.com/questions/14415881/pair-socks-from-a-pile-efficiently\">Pair socks from a pile</a>, <a href=\"http://stackoverflow.com/questions/10168686/algorithm-improvement-for-coca-cola-can-shape-recognition\">Algorithm improvement for Coca-Cola can shape recognition</a> , <a href=\"http://stackoverflow.com/q/487258/572670\">Plain English explanation of Big O</a>? Yet they are perfectly on topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368473,"post_id":27764640,"comment_id":43940100,"body_markdown":"@Eliyahu That&#39;s why we have editting powers, as more experienced users, we can easily make question more understandable and fit perfectly. These tools should be used before voting to close.","body":"@Eliyahu That&#39;s why we have editting powers, as more experienced users, we can easily make question more understandable and fit perfectly. These tools should be used before voting to close."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368698,"post_id":27764640,"comment_id":43940136,"body_markdown":"@amit i don&#39;t want to argue on this just for arguing, and it&#39;s good that you have brought some older questions, it&#39;s clear that these questions are way better and higher quality than this one. thats my opinion, i did not even downvote or flag this question, just saying :)","body":"@amit i don&#39;t want to argue on this just for arguing, and it&#39;s good that you have brought some older questions, it&#39;s clear that these questions are way better and higher quality than this one. thats my opinion, i did not even downvote or flag this question, just saying :)"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368849,"post_id":27764640,"comment_id":43940167,"body_markdown":"@Amit If so there should also be an option to remove the moderation flag by the reviewer. I saw this question before your editing, it was bad and I suggested removing / editing it. After your edit the question looks better so my flag will be disputed or even reclined. Do you think it&#39;s fair?","body":"@Amit If so there should also be an option to remove the moderation flag by the reviewer. I saw this question before your editing, it was bad and I suggested removing / editing it. After your edit the question looks better so my flag will be disputed or even reclined. Do you think it&#39;s fair?"}],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420369288,"creation_date":1420368655,"answer_id":27764747,"question_id":27764640,"body_markdown":"1) You should look at using a suffix tree data structure. \r\n\r\n[Suffix Tree][1]\r\n\r\nThis data structure can be built in O(N * log N) time  \r\n(I think even in O(N) time using Ukkonen&#39;s algorithm)  \r\nwhere N is the size/length of the input string.  \r\nIt then allows for solving many (otherwise) difficult  \r\ntasks in O(M) time where M is the size/length of the pattern. \r\n\r\nSo even though I didn&#39;t try your particular problem, I am pretty sure that    \r\nif you use a suffix tree and a smart formulation of your problem, then the    \r\nproblem can be solved by using a suffix tree (in reasonable O time). \r\n\r\n2) A very good book on these (and related) subjects is this one:\r\n\r\n[Algorithms on Strings, Trees and Sequences][2]\r\n\r\nIt&#39;s not really easy to read though unless you&#39;re well-trained in algorithms.   \r\nBut OK, reading such things is the only way to get well-trained ;)\r\n\r\n3) I suggest you have a quick look at this algorithm too. \r\n\r\n[Aho-Corasick Algorithm][3]\r\n\r\nEven though, I am not sure but... this one might be somewhat   \r\noff-topic with respect to your particular problem.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Suffix_tree\r\n  [2]: http://www.amazon.com/Algorithms-Strings-Trees-Sequences-Computational/dp/0521585198\r\n  [3]: http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm\r\n","title":"Find repeating substring of Length N","body":"<p>1) You should look at using a suffix tree data structure. </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Suffix_tree\" rel=\"nofollow noreferrer\">Suffix Tree</a></p>\n\n<p>This data structure can be built in O(N * log N) time<br>\n(I think even in O(N) time using Ukkonen's algorithm)<br>\nwhere N is the size/length of the input string.<br>\nIt then allows for solving many (otherwise) difficult<br>\ntasks in O(M) time where M is the size/length of the pattern. </p>\n\n<p>So even though I didn't try your particular problem, I am pretty sure that<br>\nif you use a suffix tree and a smart formulation of your problem, then the<br>\nproblem can be solved by using a suffix tree (in reasonable O time). </p>\n\n<p>2) A very good book on these (and related) subjects is this one:</p>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0521585198\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Algorithms on Strings, Trees and Sequences</a></p>\n\n<p>It's not really easy to read though unless you're well-trained in algorithms.<br>\nBut OK, reading such things is the only way to get well-trained ;)</p>\n\n<p>3) I suggest you have a quick look at this algorithm too. </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm\" rel=\"nofollow noreferrer\">Aho-Corasick Algorithm</a></p>\n\n<p>Even though, I am not sure but... this one might be somewhat<br>\noff-topic with respect to your particular problem.</p>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420375536,"creation_date":1420369849,"answer_id":27764909,"question_id":27764640,"body_markdown":"I am going to take @peter.petrov&#39;s suggestion and enhance it by explaining how can one actually use a suffix tree to solve the problem:\r\n\r\n     1. Create a suffix tree from the string, let it be `T`.\r\n     2. Find all nodes of depth `n` in the tree, let that set of nodes be `S`. This can be done using DFS, for example.\r\n     3. For each node `n` in `S`, do the following:\r\n         3.1. Do a DFS, and count the number of terminals `n` leads to. Let this number be `count`\r\n         3.2. If `count&gt;1`, yield the substring that is related to `n` (the path from root to `n`), and `count`\r\n\r\nNote that this algorithm treats any substring of length `n` and add it to the set `S`, and from there it search for how many times this was actually a substring by counting the number of terminals this substring leads to.\r\n\r\nThis means that the complexity of the problem is `O(Creation + Traversal)` - meaning, you first create the tree and then you traverse it (easy to see you don&#39;t traverse in steps 2-3 each node in the tree more than once). Since the traversal is obviously &quot;faster&quot; than creation of the tree - it leaves you with `O(Creation)`, which as was pointed by @perer.petrov is `O(|S|)` or `O(|S|log|S|)` depending on your algorithm of choice.","title":"Find repeating substring of Length N","body":"<p>I am going to take @peter.petrov's suggestion and enhance it by explaining how can one actually use a suffix tree to solve the problem:</p>\n\n<pre><code> 1. Create a suffix tree from the string, let it be `T`.\n 2. Find all nodes of depth `n` in the tree, let that set of nodes be `S`. This can be done using DFS, for example.\n 3. For each node `n` in `S`, do the following:\n     3.1. Do a DFS, and count the number of terminals `n` leads to. Let this number be `count`\n     3.2. If `count&gt;1`, yield the substring that is related to `n` (the path from root to `n`), and `count`\n</code></pre>\n\n<p>Note that this algorithm treats any substring of length <code>n</code> and add it to the set <code>S</code>, and from there it search for how many times this was actually a substring by counting the number of terminals this substring leads to.</p>\n\n<p>This means that the complexity of the problem is <code>O(Creation + Traversal)</code> - meaning, you first create the tree and then you traverse it (easy to see you don't traverse in steps 2-3 each node in the tree more than once). Since the traversal is obviously \"faster\" than creation of the tree - it leaves you with <code>O(Creation)</code>, which as was pointed by @perer.petrov is <code>O(|S|)</code> or <code>O(|S|log|S|)</code> depending on your algorithm of choice.</p>\n"}],"owner":{"account_id":5505472,"reputation":99,"user_id":4373429,"display_name":"text_math"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1649410010,"creation_date":1420367851,"question_id":27764640,"body_markdown":"I have to make a Java program which finds all repeating sub-strings of length n in a given String. The input is string is extremely long and a brute-force approach takes too much time. \r\n\r\n**I alread tried:**\r\n&lt;br&gt;Presently I am finding each sub-string separately and checking for repetitions of that sub-string using the [KMP alogrithm][1]. This too is taking too much time.\r\n\r\nWhat is a more efficient approach for this problem?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm","title":"Find repeating substring of Length N","body":"<p>I have to make a Java program which finds all repeating sub-strings of length n in a given String. The input is string is extremely long and a brute-force approach takes too much time. </p>\n\n<p><strong>I alread tried:</strong>\n<br>Presently I am finding each sub-string separately and checking for repetitions of that sub-string using the <a href=\"http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm\" rel=\"noreferrer\">KMP alogrithm</a>. This too is taking too much time.</p>\n\n<p>What is a more efficient approach for this problem?</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649409703,"creation_date":1649409703,"answer_id":71794574,"question_id":71794304,"body_markdown":"Suppose you have these lombok annotations on your classes (It&#39;s fine if you don&#39;t have lombok - you can just add these boilerplate to your classes if you don&#39;t have them already):\r\n\r\n```\r\n@Getter\r\nclass A {\r\n    private String a1;\r\n    private String a2;\r\n    private String a3;\r\n    private String a4;\r\n    private String a5;\r\n    private String a6;\r\n}\r\n\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(exclude = &quot;a2&quot;)\r\nclass B {\r\n    private String a1;\r\n    private String a2;\r\n}\r\n\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(exclude = &quot;a4&quot;)\r\nclass C {\r\n    private String a3;\r\n    private String a4;\r\n}\r\n\r\n@AllArgsConstructor\r\nclass D {\r\n    private String a5;\r\n    private String a6;\r\n}\r\n```\r\n\r\nNote that it is important that `B` and `C`&#39;s `equals` and `hashCode` only depend on `a1` and `a3` respectively.\r\n\r\nThen given `List&lt;A&gt; aList`, you can nest the `groupingBy` collectors like this, and at the very end, map each thing to a `D`.\r\n\r\n    var map = aList.stream().collect(\r\n        Collectors.groupingBy(\r\n            x -&gt; new B(x.getA1(), x.getA2()),\r\n            Collectors.groupingBy(\r\n                x -&gt; new C(x.getA3(), x.getA4()),\r\n                Collectors.mapping(\r\n                    x -&gt; new D(x.getA5(), x.getA6()),\r\n                    Collectors.toList()\r\n                )\r\n            )\r\n        )\r\n    );\r\n\r\nand `map` will be a `Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;`.","title":"Grouping a list of flat objects in a nested structure","body":"<p>Suppose you have these lombok annotations on your classes (It's fine if you don't have lombok - you can just add these boilerplate to your classes if you don't have them already):</p>\n<pre><code>@Getter\nclass A {\n    private String a1;\n    private String a2;\n    private String a3;\n    private String a4;\n    private String a5;\n    private String a6;\n}\n\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = &quot;a2&quot;)\nclass B {\n    private String a1;\n    private String a2;\n}\n\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = &quot;a4&quot;)\nclass C {\n    private String a3;\n    private String a4;\n}\n\n@AllArgsConstructor\nclass D {\n    private String a5;\n    private String a6;\n}\n</code></pre>\n<p>Note that it is important that <code>B</code> and <code>C</code>'s <code>equals</code> and <code>hashCode</code> only depend on <code>a1</code> and <code>a3</code> respectively.</p>\n<p>Then given <code>List&lt;A&gt; aList</code>, you can nest the <code>groupingBy</code> collectors like this, and at the very end, map each thing to a <code>D</code>.</p>\n<pre><code>var map = aList.stream().collect(\n    Collectors.groupingBy(\n        x -&gt; new B(x.getA1(), x.getA2()),\n        Collectors.groupingBy(\n            x -&gt; new C(x.getA3(), x.getA4()),\n            Collectors.mapping(\n                x -&gt; new D(x.getA5(), x.getA6()),\n                Collectors.toList()\n            )\n        )\n    )\n);\n</code></pre>\n<p>and <code>map</code> will be a <code>Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":24645270,"reputation":137,"user_id":18542993,"display_name":"tazmin32w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71794574,"answer_count":1,"score":1,"last_activity_date":1649409703,"creation_date":1649408430,"question_id":71794304,"body_markdown":"I have a List of objects A, where the object A has this form:\r\n\r\n    Class A {\r\n    private String a1;\r\n    private String a2;\r\n    private String a3;\r\n    private String a4;\r\n    private String a5;\r\n    private String a6;\r\n    }\r\n\r\nI need to group this List&lt;A&gt; first by a1 and then by a3, resulting in this way: \r\n`Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;`, where the object B has this form\r\n\r\n    Class B {\r\n    private String a1; \r\n    private String a2;\r\n    }\r\n\r\nand where the object C has this form\r\n\r\n    Class C {\r\n    private String a3;\r\n    private String a4;\r\n    }\r\n\r\nand where the object D has this form\r\n\r\n    Class D {\r\n    private String a5;\r\n    private String a6;\r\n    }\r\n\r\nIs this possibile with streams in Java 11? Any other ways to achieve this goal are welcome, thanks very much!","title":"Grouping a list of flat objects in a nested structure","body":"<p>I have a List of objects A, where the object A has this form:</p>\n<pre><code>Class A {\nprivate String a1;\nprivate String a2;\nprivate String a3;\nprivate String a4;\nprivate String a5;\nprivate String a6;\n}\n</code></pre>\n<p>I need to group this List first by a1 and then by a3, resulting in this way:\n<code>Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;</code>, where the object B has this form</p>\n<pre><code>Class B {\nprivate String a1; \nprivate String a2;\n}\n</code></pre>\n<p>and where the object C has this form</p>\n<pre><code>Class C {\nprivate String a3;\nprivate String a4;\n}\n</code></pre>\n<p>and where the object D has this form</p>\n<pre><code>Class D {\nprivate String a5;\nprivate String a6;\n}\n</code></pre>\n<p>Is this possibile with streams in Java 11? Any other ways to achieve this goal are welcome, thanks very much!</p>\n"},{"tags":["java","spring","mongodb"],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649409638,"creation_date":1649406554,"question_id":71793936,"body_markdown":"My junit tests worked fine on 2.5.3 until I upgraded to the 2.6.X version.\r\nNow I&#39;m getting this error on every class used in the tests:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class XXXXXX\r\n\r\nTest dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI&#39;m using mongo embedded for testing:\r\n\r\n`spring.mongodb.embedded.version=3.3.5`\r\n\r\nTests are basic `@SpringBootTest` with `@Test` annotation\r\n\r\nEDIT:\r\n\r\nI saw the issue is the mongodb version `spring.mongodb.embedded.version=4.4.13`\r\n\r\nIt&#39;s trying to get the mongo from a bad url: \r\n\r\nCould not open inputStream for https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip\r\n\r\nIt should be -&gt; https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip\r\n\r\nWhat is happening?","title":"Tests do not execute on Spring 2.6.X","body":"<p>My junit tests worked fine on 2.5.3 until I upgraded to the 2.6.X version.\nNow I'm getting this error on every class used in the tests:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Could not initialize class XXXXXX</p>\n</blockquote>\n<p>Test dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm using mongo embedded for testing:</p>\n<p><code>spring.mongodb.embedded.version=3.3.5</code></p>\n<p>Tests are basic <code>@SpringBootTest</code> with <code>@Test</code> annotation</p>\n<p>EDIT:</p>\n<p>I saw the issue is the mongodb version <code>spring.mongodb.embedded.version=4.4.13</code></p>\n<p>It's trying to get the mongo from a bad url:</p>\n<p>Could not open inputStream for <a href=\"https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip\" rel=\"nofollow noreferrer\">https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip</a></p>\n<p>It should be -&gt; <a href=\"https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip\" rel=\"nofollow noreferrer\">https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip</a></p>\n<p>What is happening?</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649409466,"creation_date":1649409466,"answer_id":71794528,"question_id":71788702,"body_markdown":"I think that the problem is related to the type of the return value of the method ***evaluate***. The Spark compiler expects a String, as you put in the dataType method, so it detects that type mismatch. If you drop the .toArray and return a String in the ***evaluate*** method, that error should disappear. ","title":"Scala: SPARK UDAF for polynomial curve fitting in Scala, got &quot; type (char[]) cannot be converted to the string type&quot; error","body":"<p>I think that the problem is related to the type of the return value of the method <em><strong>evaluate</strong></em>. The Spark compiler expects a String, as you put in the dataType method, so it detects that type mismatch. If you drop the .toArray and return a String in the <em><strong>evaluate</strong></em> method, that error should disappear.</p>\n"}],"owner":{"account_id":2387330,"reputation":3,"user_id":2088020,"display_name":"conge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71794528,"answer_count":1,"score":0,"last_activity_date":1649409466,"creation_date":1649364290,"question_id":71788702,"body_markdown":"I am trying to do Polynomial curve-fitting on a Spark data frame similar to the one below (Using SPARK version 2.4.0.7.1.5,  Scala version 2.11.12 (OpenJDK 64-Bit Server VM, Java 1.8.0_232)). \r\n\r\nI wrote a UDAF for this, it can be registered but then I get an error at runtime. \r\n\r\nI am new to Scala and UDAF. Could you help me to take a look at my function to see what is wrong with it? \r\n\r\nThanks,\r\n\r\n## Example df\r\n\r\n```\r\nval n = 2\r\n\r\nval data = Seq(\r\n  (1,80.0,-0.361982467), (1,70.0,0.067847447),  (1,50.0,-0.196768255), \r\n  (1,40.0,-0.135489192), (1,65.0,0.005993648),  (1,75.0,0.037561161), \r\n  (1,60.0,-0.212658599), (1,55.0,-0.187080872), (1,85.0, 0.382061571),\r\n  (2,80.0,-0.301982467), (2,70.0,0.097847447),  (2,50.0,-0.186768255), \r\n  (2,40.0,-0.105489192), (2,65.0,0.007993648),  (2,75.0,0.037561161), \r\n  (2,60.0,-0.226528599), (2,55.0,-0.170870872), (2,85.0, 0.320615718)\r\n)\r\n\r\nval df = data.toDF(&quot;id&quot;, &quot;x&quot;,&quot;y&quot;)\r\n```\r\n\r\n## UDAF code\r\n\r\n```\r\nimport org.apache.spark.sql.functions.udf\r\nimport org.apache.spark.sql.{DataFrame, Row}\r\nimport org.apache.spark.sql.types._\r\nimport org.apache.spark.sql.expressions.{MutableAggregationBuffer, UserDefinedAggregateFunction}\r\n\r\n\r\nclass Fitter extends UserDefinedAggregateFunction {\r\n  /**\r\n   * Polynomial curve fitting\r\n   *   y = c + a1*x + a2*x^2 + ...+ an * x^n\r\n   * parameters:\r\n   *    x: Array[Double]\r\n   *    y: Array[Double]\r\n   *    n: Int, polynomial degree\r\n   * Return:\r\n   *  coeff: the fitted parameters [c, a1, a2,...,an]\r\n   */\r\n\r\n  private def polyCurveFitting= (x: Array[Double], y: Array[Double], n: Int) =&gt; {\r\n\r\n    val obs = new WeightedObservedPoints()\r\n\r\n    for (i &lt;- 0 until x.size) {\r\n      obs.add(x(i), y(i))\r\n    }\r\n\r\n    // Instantiate a second-degree polynomial fitter.\r\n    val fitter = PolynomialCurveFitter.create(n)\r\n\r\n    // Retrieve fitted parameters (coefficients of the polynomial function).\r\n    val coeff = fitter.fit(obs.toList())\r\n\r\n    coeff.mkString(&quot;|&quot;)\r\n  }\r\n\r\n  override def inputSchema: StructType =\r\n    new StructType().add(StructField(&quot;x&quot;, DoubleType))\r\n                    .add(StructField(&quot;y&quot;, DoubleType))\r\n                    .add(StructField(&quot;n&quot;, IntegerType))\r\n\r\n  override def bufferSchema: StructType =\r\n    new StructType().add(StructField(&quot;x_&quot;, ArrayType(DoubleType, false)))\r\n                    .add(StructField(&quot;y_&quot;, ArrayType(DoubleType, false)))\r\n                    .add(StructField(&quot;n_&quot;, IntegerType))\r\n\r\n  override def dataType: DataType = StringType\r\n\r\n  override def deterministic: Boolean = true\r\n\r\n  override def initialize(buffer: MutableAggregationBuffer): Unit = {\r\n    buffer.update(0, Array[Double]())\r\n    buffer.update(1, Array[Double]())\r\n    buffer.update(2, 0)\r\n  }\r\n\r\n  override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\r\n    if(!input.isNullAt(0)) {\r\n      buffer(0) = buffer.getSeq[Double](0).toArray :+ input.getAs[Double](0)\r\n      buffer(1) = buffer.getSeq[Double](1).toArray :+ input.getAs[Double](1)\r\n      buffer(2) = input.getAs[Int](2)\r\n    }\r\n  }\r\n\r\n  def merge(buffer1: MutableAggregationBuffer, buffer2: Row): Unit = {\r\n    buffer1(0) = buffer1.getSeq[Double](0).toArray ++ buffer2.getSeq[Double](0)\r\n    buffer1(1) = buffer1.getSeq[Double](1).toArray ++ buffer2.getSeq[Double](1)\r\n    buffer1(2) = buffer2.getAs[Int](2)\r\n  }\r\n\r\ndef evaluate(buffer: Row): Array[Char] =\r\n   polyCurveFitting(buffer.getSeq[Double](0).toArray,\r\n                    buffer.getSeq[Double](1).toArray,\r\n                    buffer.getAs[Int](2)).toArray\r\n}\r\n\r\n\r\n```\r\n\r\n## Calling the function\r\n\r\n```\r\nval fitter_test = new Fitter()\r\n\r\nspark.udf.register(&quot;fitter&quot;, fitter_test)\r\n\r\ndf.createOrReplaceTempView(&quot;test&quot;)\r\n\r\nspark.sql(&quot;select fitter(x,y,2) from test group by id&quot;).show()\r\n\r\nval df_poly = df.groupBy(&quot;id&quot;).agg(fitter($&quot;x&quot;,$&quot;y&quot;,lit(n)).as(&quot;estimated_parameters&quot;))\r\n\r\ndf_poly.show()\r\n```\r\n\r\n## Expected output(pseudo):\r\n\r\n```\r\n+---+-----------------------------------------------------------------+\r\n| id|                                             estimated_parameters|\r\n+---+-----------------------------------------------------------------+\r\n|  1|&quot;0.5034579587428405|-0.026916449551428016|2.6802822386554184E-4&quot; |\r\n|  2|&quot;0.5344951514280016|-0.020286916457958744|2.6916469164575874E-4&quot; |\r\n+---+-----------------------------------------------------------------+\r\n\r\n```\r\n\r\n## Error message:\r\n\r\n```\r\nWARN scheduler.TaskSetManager: Lost task 18.0 in stage 7.0 (TID 27, -----.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@52a57e78) of the type (char[]) cannot be converted to the string type\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n\tat org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nERROR scheduler.TaskSetManager: Task 18 in stage 7.0 failed 4 times; aborting job\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 18 in stage 7.0 failed 4 times, most recent failure: Lost task 18.3 in stage 7.0 (TID 52, --------.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n\tat org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nCaused by: java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n  at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n  at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n  at org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n  at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n  at java.lang.Thread.run(Thread.java:748)\r\n\r\n```","title":"Scala: SPARK UDAF for polynomial curve fitting in Scala, got &quot; type (char[]) cannot be converted to the string type&quot; error","body":"<p>I am trying to do Polynomial curve-fitting on a Spark data frame similar to the one below (Using SPARK version 2.4.0.7.1.5,  Scala version 2.11.12 (OpenJDK 64-Bit Server VM, Java 1.8.0_232)).</p>\n<p>I wrote a UDAF for this, it can be registered but then I get an error at runtime.</p>\n<p>I am new to Scala and UDAF. Could you help me to take a look at my function to see what is wrong with it?</p>\n<p>Thanks,</p>\n<h2>Example df</h2>\n<pre><code>val n = 2\n\nval data = Seq(\n  (1,80.0,-0.361982467), (1,70.0,0.067847447),  (1,50.0,-0.196768255), \n  (1,40.0,-0.135489192), (1,65.0,0.005993648),  (1,75.0,0.037561161), \n  (1,60.0,-0.212658599), (1,55.0,-0.187080872), (1,85.0, 0.382061571),\n  (2,80.0,-0.301982467), (2,70.0,0.097847447),  (2,50.0,-0.186768255), \n  (2,40.0,-0.105489192), (2,65.0,0.007993648),  (2,75.0,0.037561161), \n  (2,60.0,-0.226528599), (2,55.0,-0.170870872), (2,85.0, 0.320615718)\n)\n\nval df = data.toDF(&quot;id&quot;, &quot;x&quot;,&quot;y&quot;)\n</code></pre>\n<h2>UDAF code</h2>\n<pre><code>import org.apache.spark.sql.functions.udf\nimport org.apache.spark.sql.{DataFrame, Row}\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql.expressions.{MutableAggregationBuffer, UserDefinedAggregateFunction}\n\n\nclass Fitter extends UserDefinedAggregateFunction {\n  /**\n   * Polynomial curve fitting\n   *   y = c + a1*x + a2*x^2 + ...+ an * x^n\n   * parameters:\n   *    x: Array[Double]\n   *    y: Array[Double]\n   *    n: Int, polynomial degree\n   * Return:\n   *  coeff: the fitted parameters [c, a1, a2,...,an]\n   */\n\n  private def polyCurveFitting= (x: Array[Double], y: Array[Double], n: Int) =&gt; {\n\n    val obs = new WeightedObservedPoints()\n\n    for (i &lt;- 0 until x.size) {\n      obs.add(x(i), y(i))\n    }\n\n    // Instantiate a second-degree polynomial fitter.\n    val fitter = PolynomialCurveFitter.create(n)\n\n    // Retrieve fitted parameters (coefficients of the polynomial function).\n    val coeff = fitter.fit(obs.toList())\n\n    coeff.mkString(&quot;|&quot;)\n  }\n\n  override def inputSchema: StructType =\n    new StructType().add(StructField(&quot;x&quot;, DoubleType))\n                    .add(StructField(&quot;y&quot;, DoubleType))\n                    .add(StructField(&quot;n&quot;, IntegerType))\n\n  override def bufferSchema: StructType =\n    new StructType().add(StructField(&quot;x_&quot;, ArrayType(DoubleType, false)))\n                    .add(StructField(&quot;y_&quot;, ArrayType(DoubleType, false)))\n                    .add(StructField(&quot;n_&quot;, IntegerType))\n\n  override def dataType: DataType = StringType\n\n  override def deterministic: Boolean = true\n\n  override def initialize(buffer: MutableAggregationBuffer): Unit = {\n    buffer.update(0, Array[Double]())\n    buffer.update(1, Array[Double]())\n    buffer.update(2, 0)\n  }\n\n  override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\n    if(!input.isNullAt(0)) {\n      buffer(0) = buffer.getSeq[Double](0).toArray :+ input.getAs[Double](0)\n      buffer(1) = buffer.getSeq[Double](1).toArray :+ input.getAs[Double](1)\n      buffer(2) = input.getAs[Int](2)\n    }\n  }\n\n  def merge(buffer1: MutableAggregationBuffer, buffer2: Row): Unit = {\n    buffer1(0) = buffer1.getSeq[Double](0).toArray ++ buffer2.getSeq[Double](0)\n    buffer1(1) = buffer1.getSeq[Double](1).toArray ++ buffer2.getSeq[Double](1)\n    buffer1(2) = buffer2.getAs[Int](2)\n  }\n\ndef evaluate(buffer: Row): Array[Char] =\n   polyCurveFitting(buffer.getSeq[Double](0).toArray,\n                    buffer.getSeq[Double](1).toArray,\n                    buffer.getAs[Int](2)).toArray\n}\n\n\n</code></pre>\n<h2>Calling the function</h2>\n<pre><code>val fitter_test = new Fitter()\n\nspark.udf.register(&quot;fitter&quot;, fitter_test)\n\ndf.createOrReplaceTempView(&quot;test&quot;)\n\nspark.sql(&quot;select fitter(x,y,2) from test group by id&quot;).show()\n\nval df_poly = df.groupBy(&quot;id&quot;).agg(fitter($&quot;x&quot;,$&quot;y&quot;,lit(n)).as(&quot;estimated_parameters&quot;))\n\ndf_poly.show()\n</code></pre>\n<h2>Expected output(pseudo):</h2>\n<pre><code>+---+-----------------------------------------------------------------+\n| id|                                             estimated_parameters|\n+---+-----------------------------------------------------------------+\n|  1|&quot;0.5034579587428405|-0.026916449551428016|2.6802822386554184E-4&quot; |\n|  2|&quot;0.5344951514280016|-0.020286916457958744|2.6916469164575874E-4&quot; |\n+---+-----------------------------------------------------------------+\n\n</code></pre>\n<h2>Error message:</h2>\n<pre><code>WARN scheduler.TaskSetManager: Lost task 18.0 in stage 7.0 (TID 27, -----.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@52a57e78) of the type (char[]) cannot be converted to the string type\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n    at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nERROR scheduler.TaskSetManager: Task 18 in stage 7.0 failed 4 times; aborting job\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 18 in stage 7.0 failed 4 times, most recent failure: Lost task 18.3 in stage 7.0 (TID 52, --------.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n    at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n  at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n  at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n  at org.apache.spark.scheduler.Task.run(Task.scala:123)\n  at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n"},{"tags":["java","jvm","jit","micro-optimization"],"answers":[{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649409022,"creation_date":1247851515,"answer_id":1144650,"question_id":1144624,"body_markdown":"It&#39;s beyond impressive. All of these are things you `can&#39;t` do in C++ (certainly to the same extent Java does). Keep in mind that early versions of Java started the &quot;slow&quot; reputation by not having these things, and we keep improving *significantly* over time. This is still a big research area.\r\n\r\n* [Efficient interface dispatch.][1]\r\n* [Inlining and direct dispatch of virtual method calls.][2]\r\n* Very fast object allocation with [bump pointers][3] (slide 19 or so) and [escape analysis][4].\r\n\r\n  [1]: http://www.springerlink.com/content/9lvkunnh80fapue7/\r\n  [2]: https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.34.3108\r\n  [3]: https://www.oracle.com/java/technologies/javase/javase-core-technologies-apis.html\r\n  [4]: https://web.archive.org/web/20150527090724/http://java.dzone.com/articles/escape-analysis-java-6-update","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>It's beyond impressive. All of these are things you <code>can't</code> do in C++ (certainly to the same extent Java does). Keep in mind that early versions of Java started the &quot;slow&quot; reputation by not having these things, and we keep improving <em>significantly</em> over time. This is still a big research area.</p>\n<ul>\n<li><a href=\"http://www.springerlink.com/content/9lvkunnh80fapue7/\" rel=\"nofollow noreferrer\">Efficient interface dispatch.</a></li>\n<li><a href=\"https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.34.3108\" rel=\"nofollow noreferrer\">Inlining and direct dispatch of virtual method calls.</a></li>\n<li>Very fast object allocation with <a href=\"https://www.oracle.com/java/technologies/javase/javase-core-technologies-apis.html\" rel=\"nofollow noreferrer\">bump pointers</a> (slide 19 or so) and <a href=\"https://web.archive.org/web/20150527090724/http://java.dzone.com/articles/escape-analysis-java-6-update\" rel=\"nofollow noreferrer\">escape analysis</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1247856663,"creation_date":1247856663,"answer_id":1145041,"question_id":1144624,"body_markdown":"Java is smarter at inlining as it can\r\n\r\n - inline code only available at runtime\r\n   or even dynamically generated.\r\n - inline virtual methods (up to two at once)\r\n - perform escape analysis on inlined methods and the methods they were inlined to. (Much harder to do\r\n   in C++)\r\n\r\n","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Java is smarter at inlining as it can</p>\n\n<ul>\n<li>inline code only available at runtime\nor even dynamically generated.</li>\n<li>inline virtual methods (up to two at once)</li>\n<li>perform escape analysis on inlined methods and the methods they were inlined to. (Much harder to do\nin C++)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450885185,"creation_date":1248759107,"answer_id":1192078,"question_id":1144624,"body_markdown":"Oracle has a wiki on [Performance techniques used in the Hotspot JVM][1].\r\n\r\n [1]: http://www.oracle.com/technetwork/java/whitepaper-135217.html","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Oracle has a wiki on <a href=\"http://www.oracle.com/technetwork/java/whitepaper-135217.html\" rel=\"nofollow noreferrer\">Performance techniques used in the Hotspot JVM</a>.</p>\n"}],"owner":{"account_id":7944,"reputation":21068,"user_id":14007,"accept_rate":92,"display_name":"Alex Beardsley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1649409022,"creation_date":1247851141,"question_id":1144624,"body_markdown":"Over time, Sun&#39;s JVM and JIT have gotten pretty smart.  Things that used to be common knowledge as being a necessary micro-optimization are no longer needed, because it gets taken care of for you.\r\n\r\nFor example, it used to be the case that you should mark all possible classes as final, so the JVM inlines as much code as possible.  However now, the JIT knows whether your class is final based on what classes get loaded in at runtime, and if you load a class to make the original one non-final-able, it un-inlines the methods and un-marks it as final.\r\n\r\nWhat other smart micro-optimizations does the JVM or JIT do for you?\r\n\r\n**EDIT**: I made this a community wiki; I&#39;d like to collect these over time.","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Over time, Sun's JVM and JIT have gotten pretty smart.  Things that used to be common knowledge as being a necessary micro-optimization are no longer needed, because it gets taken care of for you.</p>\n\n<p>For example, it used to be the case that you should mark all possible classes as final, so the JVM inlines as much code as possible.  However now, the JIT knows whether your class is final based on what classes get loaded in at runtime, and if you load a class to make the original one non-final-able, it un-inlines the methods and un-marks it as final.</p>\n\n<p>What other smart micro-optimizations does the JVM or JIT do for you?</p>\n\n<p><strong>EDIT</strong>: I made this a community wiki; I'd like to collect these over time.</p>\n"},{"tags":["java","outputstream","fileoutputstream","bean-io"],"comments":[{"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"score":0,"creation_date":1650538090,"post_id":71786926,"comment_id":127144066,"body_markdown":"Did you solve your problem?","body":"Did you solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649408655,"creation_date":1649408655,"answer_id":71794351,"question_id":71786926,"body_markdown":"It looks like you haven&#39;t written enough data to the `OutputstreamWriter` for it to push some data to the underlying `ByteArrayOutputStream`. You have 2 options here.\r\n\r\n 1. Flush the `writer` object manually and then close it. This will then write the data to the `outputStream`. I would not recommend this approach because the `writer` may not be flushed or closed should there be any Exception before you could manually flush and close the `writer`.\r\n 2. Use a `try-with-resource` block for the `writer` which should take care of closing the `writer` and ultimately flushing the data to the `outputStream`\r\n\r\nThis should do the trick:\r\n\r\n    final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    try (final OutputStreamWriter writer = new OutputStreamWriter(outputStream) ) {\r\n      final BeanWriter bw = factory.createWriter(&quot;sb&quot;, writer);\r\n    \r\n      final Team teamVO = new Team();\r\n      teamVO.setName(&quot;TESTING&quot;);\r\n    \r\n      bw.write(teamVO); // teamVO has some value.\r\n    }\r\n    \r\n    try (OutputStream os = new FileOutputStream(&quot;file.txt&quot;) ) {\r\n      outputStream.writeTo(os); // Doing this only to check outputStream has some value\r\n    }\r\n","title":"Beanio - How to write to stream object","body":"<p>It looks like you haven't written enough data to the <code>OutputstreamWriter</code> for it to push some data to the underlying <code>ByteArrayOutputStream</code>. You have 2 options here.</p>\n<ol>\n<li>Flush the <code>writer</code> object manually and then close it. This will then write the data to the <code>outputStream</code>. I would not recommend this approach because the <code>writer</code> may not be flushed or closed should there be any Exception before you could manually flush and close the <code>writer</code>.</li>\n<li>Use a <code>try-with-resource</code> block for the <code>writer</code> which should take care of closing the <code>writer</code> and ultimately flushing the data to the <code>outputStream</code></li>\n</ol>\n<p>This should do the trick:</p>\n<pre><code>final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ntry (final OutputStreamWriter writer = new OutputStreamWriter(outputStream) ) {\n  final BeanWriter bw = factory.createWriter(&quot;sb&quot;, writer);\n\n  final Team teamVO = new Team();\n  teamVO.setName(&quot;TESTING&quot;);\n\n  bw.write(teamVO); // teamVO has some value.\n}\n\ntry (OutputStream os = new FileOutputStream(&quot;file.txt&quot;) ) {\n  outputStream.writeTo(os); // Doing this only to check outputStream has some value\n}\n</code></pre>\n"}],"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649408655,"creation_date":1649354425,"question_id":71786926,"body_markdown":"I am trying to create a fixed length file output using beanio. I don&#39;t want to write the physical file, instead I want to write content to an OutputStream.\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    StreamFactory factory = StreamFactory.newInstance(); \r\n    StreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\r\n                .format(&quot;fixedlength&quot;)\r\n                .parser(new FixedLengthParserBuilder())\r\n                .addRecord(Team.class);\r\n    \r\n    factory.define(builder);\r\n    OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n    BeanWriter bw = sf.createWriter(&quot;sb&quot;, writer);\r\n    \r\n    bw.write(teamVO) // teamVO has some value.\r\n    \r\n    try(OutputStream os = new FileOutputStream(&quot;file.txt&quot;)){\r\n    \toutputStream.writeTo(os); //Doing this only to check outputStream has some value\r\n    }\r\n\r\nHere the file created, file.txt has no content in it, It is of size 0 kb.\r\n\r\nI am able to write the file in the following method, but as I don&#39;t want to write the file in physical location, I thought of writing the contents in to a outputStream and then later in a different method, it can be converted in to a file\r\n\r\n    //This is working and creates file successfully\r\n    StreamFactory factory = StreamFactory.newInstance();\r\n    StreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\r\n    \t\t\t\t.format(&quot;fixedlength&quot;)\r\n    \t\t\t\t.parser(new FixedLengthParserBuilder())\r\n    \t\t\t\t.addRecord(Team.class)\r\n    \t\t\r\n    factory.define(builder);\r\n    BeanWriter bw = factory.createWriter(&quot;sb&quot;, new File(&quot;file.txt&quot;));\r\n    bw.write(teamVO);\r\n\r\nWhy in the first approach the file is created with size 0 kb?","title":"Beanio - How to write to stream object","body":"<p>I am trying to create a fixed length file output using beanio. I don't want to write the physical file, instead I want to write content to an OutputStream.</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\nStreamFactory factory = StreamFactory.newInstance(); \nStreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\n            .format(&quot;fixedlength&quot;)\n            .parser(new FixedLengthParserBuilder())\n            .addRecord(Team.class);\n\nfactory.define(builder);\nOutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\nBeanWriter bw = sf.createWriter(&quot;sb&quot;, writer);\n\nbw.write(teamVO) // teamVO has some value.\n\ntry(OutputStream os = new FileOutputStream(&quot;file.txt&quot;)){\n    outputStream.writeTo(os); //Doing this only to check outputStream has some value\n}\n</code></pre>\n<p>Here the file created, file.txt has no content in it, It is of size 0 kb.</p>\n<p>I am able to write the file in the following method, but as I don't want to write the file in physical location, I thought of writing the contents in to a outputStream and then later in a different method, it can be converted in to a file</p>\n<pre><code>//This is working and creates file successfully\nStreamFactory factory = StreamFactory.newInstance();\nStreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\n                .format(&quot;fixedlength&quot;)\n                .parser(new FixedLengthParserBuilder())\n                .addRecord(Team.class)\n        \nfactory.define(builder);\nBeanWriter bw = factory.createWriter(&quot;sb&quot;, new File(&quot;file.txt&quot;));\nbw.write(teamVO);\n</code></pre>\n<p>Why in the first approach the file is created with size 0 kb?</p>\n"},{"tags":["java","hibernate","dropwizard"],"comments":[{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649407397,"post_id":71794010,"comment_id":126872422,"body_markdown":"Please, specify library version you are using and provide error stacktrace in full.","body":"Please, specify library version you are using and provide error stacktrace in full."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649408785,"post_id":71794010,"comment_id":126872919,"body_markdown":"@YuriiMelnychuk have added version and stack trace","body":"@YuriiMelnychuk have added version and stack trace"},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649408881,"post_id":71794010,"comment_id":126872950,"body_markdown":"Thanks. Error says `Classes must have either one (and only one) constructor annotated with\n@Inject or a zero-argument constructor that is not private.` so I would suggest adding `@Inject` annotation to your constructor.","body":"Thanks. Error says <code>Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.</code> so I would suggest adding <code>@Inject</code> annotation to your constructor."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649409094,"post_id":71794010,"comment_id":126873006,"body_markdown":"Had tried with injection error shifts to dao class\n1) Could not find a suitable constructor in com.mySite.surfservice.core.dao.MyRequestDao. Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.\n  at com.mySite.surfservice.core.dao.MyRequestDao.class(MyRequestDao.java:9)","body":"Had tried with injection error shifts to dao class 1) Could not find a suitable constructor in com.mySite.surfservice.core.dao.MyRequestDao. Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.   at com.mySite.surfservice.core.dao.MyRequestDao.class(MyRequest&zwnj;&#8203;Dao.java:9)"},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649409170,"post_id":71794010,"comment_id":126873020,"body_markdown":"So do the same with dao class. And read documentation regarding DI in Dropwizard.","body":"So do the same with dao class. And read documentation regarding DI in Dropwizard."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649409277,"post_id":71794010,"comment_id":126873049,"body_markdown":"Dao layer takes sessionFactory as argument in constructor, so error is thrown\ncom.google.inject.CreationException: Unable to create injector, see the following errors:\n1) No implementation for org.hibernate.SessionFactory was bound.","body":"Dao layer takes sessionFactory as argument in constructor, so error is thrown com.google.inject.CreationException: Unable to create injector, see the following errors: 1) No implementation for org.hibernate.SessionFactory was bound."},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649419898,"post_id":71794010,"comment_id":126876838,"body_markdown":"Per error message, `SessionFactory` should be present in DI container. I recommend you check your DI config.","body":"Per error message, <code>SessionFactory</code> should be present in DI container. I recommend you check your DI config."}],"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649408653,"creation_date":1649406871,"question_id":71794010,"body_markdown":"(Dropwizard-core:1.3.12)\r\n\r\nBelow are my resource,dao and server class. I looked into dropwizard tutorials(https://www.dropwizard.io/en/latest/manual/hibernate.html) regarding this but not able to remove constructor error \r\n```\r\n1) Could not find a suitable constructor in com.mySite.surfService.server.resources.v1.MyResource. Classes must have either one (and only one) constructor annotated with\r\n@Inject or a zero-argument constructor that is not private.\r\nat com.mySite.surfService.server.resources.v1.MyResource.class(MyResource.java:31)\r\nat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.ResourceInstaller.install(ResourceInstaller.java:46)\r\nru.vyarus.dropwizard.guice.module.GuiceSupportModule -&gt; ru.vyarus.dropwizard.guice.module.installer.InstallerModule)\r\n1 error\r\n\tat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:543)\r\n```\r\n\r\n\r\nTried @Inject in MyResource also but did not work\r\n```\r\npublic class MyResource {\r\n    private final MyDao mydao;\r\n\r\n    public MyResource(MyDao mydao) {\r\n        this.mydao = mydao;\r\n    }\r\n\r\n\r\n    @POST\r\n    @Path(&quot;v1/getById&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    @UnitOfWork\r\n    public Response getById() {\r\n        mydao.getById();\r\n        ........\r\n    }\r\n }\r\n\r\n\r\n public class MyDao extends AbstractDAO&lt;MyRequest&gt; {\r\n    public MyDao(SessionFactory sessionFactory) {\r\n        super(sessionFactory);\r\n    }\r\n\r\n    public MyRequest findById(Long id) {\r\n        return get(id);\r\n    }\r\n}\r\n\r\npublic class Server extends Application&lt;T&gt; {\r\n@Override\r\n    protected void run(DropwizardConfiguration configuration, Environment e) throws Exception {\r\n        ...\r\n        MyDao dao = new MyDao(hibernate.getSessionFactory());\r\n        MyResource myResource = new MyResource(dao);\r\n        e.jersey().register(myResource);\r\n    }\r\n\r\n    private HibernateBundle&lt;DropwizardConfiguration&gt; hibernate = new HibernateBundle&lt;DropwizardConfiguration&gt;(MyRequest.class) {\r\n        @Override\r\n        public DataSourceFactory getDataSourceFactory(DropwizardConfiguration configuration) {\r\n            return configuration.getDataSourceFactory();\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void initialize(Bootstrap&lt;DropwizardConfiguration&gt; bootstrap) {\r\n        ...\r\n        bootstrap.addBundle(hibernate);\r\n    }\r\n}\r\n```","title":"Could not find a suitable constructor using dropwizard","body":"<p>(Dropwizard-core:1.3.12)</p>\n<p>Below are my resource,dao and server class. I looked into dropwizard tutorials(<a href=\"https://www.dropwizard.io/en/latest/manual/hibernate.html\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/en/latest/manual/hibernate.html</a>) regarding this but not able to remove constructor error</p>\n<pre><code>1) Could not find a suitable constructor in com.mySite.surfService.server.resources.v1.MyResource. Classes must have either one (and only one) constructor annotated with\n@Inject or a zero-argument constructor that is not private.\nat com.mySite.surfService.server.resources.v1.MyResource.class(MyResource.java:31)\nat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.ResourceInstaller.install(ResourceInstaller.java:46)\nru.vyarus.dropwizard.guice.module.GuiceSupportModule -&gt; ru.vyarus.dropwizard.guice.module.installer.InstallerModule)\n1 error\n    at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:543)\n</code></pre>\n<p>Tried @Inject in MyResource also but did not work</p>\n<pre><code>public class MyResource {\n    private final MyDao mydao;\n\n    public MyResource(MyDao mydao) {\n        this.mydao = mydao;\n    }\n\n\n    @POST\n    @Path(&quot;v1/getById&quot;)\n    @Produces(&quot;application/json&quot;)\n    @UnitOfWork\n    public Response getById() {\n        mydao.getById();\n        ........\n    }\n }\n\n\n public class MyDao extends AbstractDAO&lt;MyRequest&gt; {\n    public MyDao(SessionFactory sessionFactory) {\n        super(sessionFactory);\n    }\n\n    public MyRequest findById(Long id) {\n        return get(id);\n    }\n}\n\npublic class Server extends Application&lt;T&gt; {\n@Override\n    protected void run(DropwizardConfiguration configuration, Environment e) throws Exception {\n        ...\n        MyDao dao = new MyDao(hibernate.getSessionFactory());\n        MyResource myResource = new MyResource(dao);\n        e.jersey().register(myResource);\n    }\n\n    private HibernateBundle&lt;DropwizardConfiguration&gt; hibernate = new HibernateBundle&lt;DropwizardConfiguration&gt;(MyRequest.class) {\n        @Override\n        public DataSourceFactory getDataSourceFactory(DropwizardConfiguration configuration) {\n            return configuration.getDataSourceFactory();\n        }\n    };\n\n    @Override\n    protected void initialize(Bootstrap&lt;DropwizardConfiguration&gt; bootstrap) {\n        ...\n        bootstrap.addBundle(hibernate);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8545,"page":1447,"page_size":100}
