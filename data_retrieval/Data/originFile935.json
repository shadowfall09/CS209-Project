{"items":[{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1666723096,"post_id":74198682,"comment_id":131002704,"body_markdown":"`Maven home: /opt/maven` vs. `Maven home: /usr/share/maven`!? (&gt;privilged user&#39;s $path is different;)","body":"<code>Maven home: &#47;opt&#47;maven</code> vs. <code>Maven home: &#47;usr&#47;share&#47;maven</code>!? (&gt;privilged user&#39;s $path is different;)"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723343,"post_id":74198682,"comment_id":131002782,"body_markdown":"/opt/maven is where i the downloaded maven manually","body":"/opt/maven is where i the downloaded maven manually"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666723391,"post_id":74198682,"comment_id":131002795,"body_markdown":"[How to keep environment variables when using sudo](https://stackoverflow.com/q/8633461/592355)","body":"<a href=\"https://stackoverflow.com/q/8633461/592355\">How to keep environment variables when using sudo</a>"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723640,"post_id":74198682,"comment_id":131002864,"body_markdown":"sudo ln -s /opt/apache-maven-3.8.4 /opt/maven","body":"sudo ln -s /opt/apache-maven-3.8.4 /opt/maven"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723655,"post_id":74198682,"comment_id":131002871,"body_markdown":"sudo nano /etc/profile.d/maven.sh","body":"sudo nano /etc/profile.d/maven.sh"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723705,"post_id":74198682,"comment_id":131002884,"body_markdown":"after this i added the following in maven,sh\n\nexport JAVA_HOME=/usr/lib/jvm/default-java\nexport M2_HOME=/opt/maven\nexport MAVEN_HOME=/opt/maven\nexport PATH=${M2_HOME}/bin:${PATH}","body":"after this i added the following in maven,sh  export JAVA_HOME=/usr/lib/jvm/default-java export M2_HOME=/opt/maven export MAVEN_HOME=/opt/maven export PATH=${M2_HOME}/bin:${PATH}"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666775217,"post_id":74198682,"comment_id":131013783,"body_markdown":"`[sudo?] visudo` ... ?","body":"<code>[sudo?] visudo</code> ... ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666775233,"post_id":74198682,"comment_id":131013790,"body_markdown":"Does this answer your question? [How to keep environment variables when using sudo](https://stackoverflow.com/questions/8633461/how-to-keep-environment-variables-when-using-sudo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8633461/how-to-keep-environment-variables-when-using-sudo\">How to keep environment variables when using sudo</a>"}],"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666723253,"creation_date":1666722862,"question_id":74198682,"body_markdown":"When i did mvn --version it shows me version is 3.8.6\r\n```\r\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ mvn --version\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/maven\r\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\r\n```\r\n\r\nWhen I did sudo mvn --version it shows me version is 3.6.3\r\n```\r\n\r\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ sudo mvn --version\r\n[sudo] password for rohail: \r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\r\n```\r\nI want the latest version of maven to be installed, I tried to remove the older one but failed to do so.\r\n\r\n[![This is the terminal image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IcUcn.png","title":"sudo mvn --version and mvn --version shows different versions","body":"<p>When i did mvn --version it shows me version is 3.8.6</p>\n<pre><code>rohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/maven\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\n</code></pre>\n<p>When I did sudo mvn --version it shows me version is 3.6.3</p>\n<pre><code>\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ sudo mvn --version\n[sudo] password for rohail: \nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\n</code></pre>\n<p>I want the latest version of maven to be installed, I tried to remove the older one but failed to do so.</p>\n<p><a href=\"https://i.stack.imgur.com/IcUcn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IcUcn.png\" alt=\"This is the terminal image\" /></a></p>\n"},{"tags":["java","replit"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1666722885,"post_id":74198664,"comment_id":131002644,"body_markdown":"Did you forget to post the error message?","body":"Did you forget to post the error message?"},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666722966,"post_id":74198664,"comment_id":131002663,"body_markdown":"No? It&#39;s this : java -classpath .:target/dependency/* Main\nHello world!","body":"No? It&#39;s this : java -classpath .:target/dependency/* Main Hello world!"},{"owner":{"account_id":3760875,"reputation":1756,"user_id":3125916,"accept_rate":69,"display_name":"rodit"},"score":0,"creation_date":1666723021,"post_id":74198664,"comment_id":131002687,"body_markdown":"Replit requires your class to be called Main not Somme.","body":"Replit requires your class to be called Main not Somme."},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666723086,"post_id":74198664,"comment_id":131002701,"body_markdown":"Omg! It work! Thank you! I will know now for the future.","body":"Omg! It work! Thank you! I will know now for the future."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666723112,"post_id":74198664,"comment_id":131002708,"body_markdown":"That&#39;s not an error message. That just looks like Repl.it running another class, `Main` (not `Somme`), and producing the output `Hello world!`.","body":"That&#39;s not an error message. That just looks like Repl.it running another class, <code>Main</code> (not <code>Somme</code>), and producing the output <code>Hello world!</code>."},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666723324,"post_id":74198664,"comment_id":131002776,"body_markdown":"Now that I work, I see that it was there anyway, I thought it was the error. Thank you for your time!","body":"Now that I work, I see that it was there anyway, I thought it was the error. Thank you for your time!"}],"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666722784,"creation_date":1666722784,"question_id":74198664,"body_markdown":"So while searching the error message I had when running my code, it talked about target class reference, here is the error message: (I use replit and am writing in java)\r\n\r\n```\r\n java -classpath .:target/dependency/* Main\r\nHello world!\r\n```\r\n\r\nHere is the code:\r\n\r\n```\r\nclass Somme { \r\n  public static void main(String[] args) {\r\n    long somme = 0;\r\nfor(long i = 0; i &lt;= 10000; i++) {\r\n  if ((i/100)%10 != 3 &amp;&amp; (i/100)%10 != 2 &amp;&amp; i%3 != 0); { \r\n    somme = somme + i ;\r\n}\r\n}\r\nSystem.out.println (somme);\r\n  }\r\n}\r\n```\r\n\r\nI don&#39;t reference anything but the variable &#39;somme&#39; and &#39;i&#39;, so I don&#39;t understand how I can have a reference error message. This is a standalone code and in my research, the error message seemed to talk about when you have more than one files for a project. Am I wrong? Any push in the right direction is appreciated. I am clearly confuse, but don&#39;t know what I am confused about.\r\n\r\nI saw [this](https://stackoverflow.com/questions/12048675/deploy-java-on-heroku-cannot-find-main-class-in-target-dependency) user that had the same error message as me. However their problem seemed to be because of multiple files. I did not saw other explanation that seemed to fit with my code.","title":"How can there be a target class problem, when there is no class reference?","body":"<p>So while searching the error message I had when running my code, it talked about target class reference, here is the error message: (I use replit and am writing in java)</p>\n<pre><code> java -classpath .:target/dependency/* Main\nHello world!\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>class Somme { \n  public static void main(String[] args) {\n    long somme = 0;\nfor(long i = 0; i &lt;= 10000; i++) {\n  if ((i/100)%10 != 3 &amp;&amp; (i/100)%10 != 2 &amp;&amp; i%3 != 0); { \n    somme = somme + i ;\n}\n}\nSystem.out.println (somme);\n  }\n}\n</code></pre>\n<p>I don't reference anything but the variable 'somme' and 'i', so I don't understand how I can have a reference error message. This is a standalone code and in my research, the error message seemed to talk about when you have more than one files for a project. Am I wrong? Any push in the right direction is appreciated. I am clearly confuse, but don't know what I am confused about.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/12048675/deploy-java-on-heroku-cannot-find-main-class-in-target-dependency\">this</a> user that had the same error message as me. However their problem seemed to be because of multiple files. I did not saw other explanation that seemed to fit with my code.</p>\n"},{"tags":["java","spring","caching","redis","ttl"],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666722644,"creation_date":1666721764,"question_id":74198513,"body_markdown":"I am working on a bug for a Spring service that uses Redis to cache the results of a query for 30 minutes. *The TTL should **only** be set when it is first saved in the cache and the time should NOT be renewed by subsequent queries.* This is the default behavior for Redis.\r\n\r\nAnd yet I have found that the source of the bug is that every call to the cache renews the TTL. It is particularly puzzling that the default behavior is not being implemented because there is remarkably little Redis configuration in the project. \r\n\r\nThe only Redis configuration is in the Pojo being cached which is annotated with - \r\n\r\n```@RedisHash(value = &quot;POJO_NAME&quot;, timeToLive = 1800)```\r\n\r\nThe only other Redis config are some values set in the application.yml\r\n```\r\nredis:\r\n    service:\r\n      name: project-cache\r\n    host: localhost\r\n    port: 6379\r\n    jedis:\r\n      pool:\r\n        max-total: 16\r\n        max-idle: 8\r\n        min-idle: 4\r\n    timeout: 250\r\n```\r\n\r\nHere is the pom.xml\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n      &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n      &lt;version&gt;0.7.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"How to prevent Redis TTL from renewing?","body":"<p>I am working on a bug for a Spring service that uses Redis to cache the results of a query for 30 minutes. <em>The TTL should <strong>only</strong> be set when it is first saved in the cache and the time should NOT be renewed by subsequent queries.</em> This is the default behavior for Redis.</p>\n<p>And yet I have found that the source of the bug is that every call to the cache renews the TTL. It is particularly puzzling that the default behavior is not being implemented because there is remarkably little Redis configuration in the project.</p>\n<p>The only Redis configuration is in the Pojo being cached which is annotated with -</p>\n<p><code>@RedisHash(value = &quot;POJO_NAME&quot;, timeToLive = 1800)</code></p>\n<p>The only other Redis config are some values set in the application.yml</p>\n<pre><code>redis:\n    service:\n      name: project-cache\n    host: localhost\n    port: 6379\n    jedis:\n      pool:\n        max-total: 16\n        max-idle: 8\n        min-idle: 4\n    timeout: 250\n</code></pre>\n<p>Here is the pom.xml</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n      &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n      &lt;version&gt;0.7.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1666690898,"post_id":74191403,"comment_id":130991562,"body_markdown":"This question currently includes multiple questions in one. It should focus on one problem only.","body":"This question currently includes multiple questions in one. It should focus on one problem only."},{"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"score":0,"creation_date":1666708368,"post_id":74191403,"comment_id":130997748,"body_markdown":"Maybe I wasn&#39;t clear. I have rephrased the main question. And what&#39;s the problem with having an additional question on the same topic?","body":"Maybe I wasn&#39;t clear. I have rephrased the main question. And what&#39;s the problem with having an additional question on the same topic?"},{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1666717571,"post_id":74191403,"comment_id":131001115,"body_markdown":"There should be *one* question.  No one can definitively answer this until that change is made.","body":"There should be <i>one</i> question.  No one can definitively answer this until that change is made."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666722320,"post_id":74191403,"comment_id":131002497,"body_markdown":"@possum Each of the questions are related to one another. And they can be answered together.","body":"@possum Each of the questions are related to one another. And they can be answered together."}],"answers":[{"comments":[{"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"score":0,"creation_date":1666717832,"post_id":74196675,"comment_id":131001190,"body_markdown":"Thank you! But why do I have to call `pause()`? Do you have a concurrent situation in mind with one thread doing the poll loop and another one that tries to modify the offsets using `seek()`?","body":"Thank you! But why do I have to call <code>pause()</code>? Do you have a concurrent situation in mind with one thread doing the poll loop and another one that tries to modify the offsets using <code>seek()</code>?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666719563,"post_id":74196675,"comment_id":131001687,"body_markdown":"KafkaConsumer is not thread safe, so you should definitely stop/pause it before trying to do anything with the offsets it&#39;ll poll on the next call, especially if [multithreading](https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#multithreaded)","body":"KafkaConsumer is not thread safe, so you should definitely stop/pause it before trying to do anything with the offsets it&#39;ll poll on the next call, especially if <a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#multithreaded\" rel=\"nofollow noreferrer\">multithreading</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666722415,"creation_date":1666712246,"answer_id":74196675,"question_id":74191403,"body_markdown":"It refers to the fact that you&#39;d first poll up to `max.poll.records` (default 500), and then be in the middle of processing those, and regardless of committing, you will modify where the next poll will happen. Meaning, you could skip records, i.e. lose records (seek forward), or eventually cause duplicate processing (seek backward). \r\n\r\nIdeally, you&#39;d break any loop over the consumed records, `commitSync()` with what you have processed (or not if seeking backwards), call `consumer.pause()`, and **then** `seek`. Or yes, seek (and commit the seeked offsets) before you poll. \r\n\r\nIf you do not pause/stop the consumer, then it&#39;s possible the consumer will rebalance while seeking since `max.poll.interval.ms` could be exceeded. ","title":"Understanding KafkaConsumer seek","body":"<p>It refers to the fact that you'd first poll up to <code>max.poll.records</code> (default 500), and then be in the middle of processing those, and regardless of committing, you will modify where the next poll will happen. Meaning, you could skip records, i.e. lose records (seek forward), or eventually cause duplicate processing (seek backward).</p>\n<p>Ideally, you'd break any loop over the consumed records, <code>commitSync()</code> with what you have processed (or not if seeking backwards), call <code>consumer.pause()</code>, and <strong>then</strong> <code>seek</code>. Or yes, seek (and commit the seeked offsets) before you poll.</p>\n<p>If you do not pause/stop the consumer, then it's possible the consumer will rebalance while seeking since <code>max.poll.interval.ms</code> could be exceeded.</p>\n"}],"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74196675,"answer_count":1,"score":0,"last_activity_date":1666722415,"creation_date":1666687693,"question_id":74191403,"body_markdown":"The method [seek()][1] in the KafkaConsumer class has this javadoc comment:\r\n\r\n&gt; Overrides the fetch offsets that the consumer will use on the next poll(timeout). If this API is invoked for the same partition more than once, the latest offset will be used on the next poll(). **Note that you may lose data if this API is arbitrarily used in the middle of consumption**, to reset the fetch offsets\r\n\r\nI wonder what is meant by &quot;in the middle of consumption&quot;? Does it mean I can&#39;t safely call seek in a poll loop and should I do it only *before* the first poll? Moreover, what happens when invoking seek followed by a commitAsync() or commitSync()? Will the seek position be committed?\r\n\r\nThanks for clarification!\r\n\r\n  [1]: https://kafka.apache.org/33/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seek-org.apache.kafka.common.TopicPartition-long-","title":"Understanding KafkaConsumer seek","body":"<p>The method <a href=\"https://kafka.apache.org/33/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seek-org.apache.kafka.common.TopicPartition-long-\" rel=\"nofollow noreferrer\">seek()</a> in the KafkaConsumer class has this javadoc comment:</p>\n<blockquote>\n<p>Overrides the fetch offsets that the consumer will use on the next poll(timeout). If this API is invoked for the same partition more than once, the latest offset will be used on the next poll(). <strong>Note that you may lose data if this API is arbitrarily used in the middle of consumption</strong>, to reset the fetch offsets</p>\n</blockquote>\n<p>I wonder what is meant by &quot;in the middle of consumption&quot;? Does it mean I can't safely call seek in a poll loop and should I do it only <em>before</em> the first poll? Moreover, what happens when invoking seek followed by a commitAsync() or commitSync()? Will the seek position be committed?</p>\n<p>Thanks for clarification!</p>\n"},{"tags":["java","android","android-webview","darkmode"],"owner":{"account_id":8364667,"reputation":122,"user_id":6281778,"accept_rate":80,"display_name":"Rafail Antoniadis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666722373,"creation_date":1666706714,"question_id":74195371,"body_markdown":"I made a webview app and disable Dark Mode with the following:\r\n\r\n     WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\r\n\r\nThe problem starts when I changed to targetSdk 33. This method is deprecated and I tried the following:\r\n\r\n    if (SDK_INT &gt;= 33) {\r\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\r\n                WebSettingsCompat.setAlgorithmicDarkeningAllowed(settings, false);\r\n            }\r\n        }else{\r\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\r\n                WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\r\n            }\r\n        }\r\nAfter this I installed the app in my phone (Xiaomi Redmi 8T) and dark mode destroyed my app. \r\n\r\nAfter that I tried a lot of things that I found here but nothing worked. \r\n\r\n- I tried to copy themes.xml to dark/themes.xml\r\n\r\n- I tried to add this to onCreate:\r\n\r\n`AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);`\r\n- I tried to add this on themes.xml\r\n\r\n    `&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;`\r\n\r\n- I tried to change \r\nTheme.MaterialComponents.DayNight.DarkActionBar to Theme.MaterialComponents.Light.DarkActionBar\r\n\r\n- I tried all of them together\r\n\r\nBut nothing worked... \r\nWhy is so difficult to add just a simple choice for disabling Dark Mode.\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nI have problem with dark mode on my phone but the app worked perfect on android studio emulator. \r\n\r\nAfter that I realized that there is a problem on MIUI (Xiaomi) and found a solution here:\r\nSo I tried to find a solution and finally I found one here:\r\nhttps://stackoverflow.com/a/66640823/6281778","title":"How to disable dark mode on Android Api 33","body":"<p>I made a webview app and disable Dark Mode with the following:</p>\n<pre><code> WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\n</code></pre>\n<p>The problem starts when I changed to targetSdk 33. This method is deprecated and I tried the following:</p>\n<pre><code>if (SDK_INT &gt;= 33) {\n        if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\n            WebSettingsCompat.setAlgorithmicDarkeningAllowed(settings, false);\n        }\n    }else{\n        if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\n            WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\n        }\n    }\n</code></pre>\n<p>After this I installed the app in my phone (Xiaomi Redmi 8T) and dark mode destroyed my app.</p>\n<p>After that I tried a lot of things that I found here but nothing worked.</p>\n<ul>\n<li><p>I tried to copy themes.xml to dark/themes.xml</p>\n</li>\n<li><p>I tried to add this to onCreate:</p>\n</li>\n</ul>\n<p><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);</code></p>\n<ul>\n<li><p>I tried to add this on themes.xml</p>\n<p><code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;</code></p>\n</li>\n<li><p>I tried to change\nTheme.MaterialComponents.DayNight.DarkActionBar to Theme.MaterialComponents.Light.DarkActionBar</p>\n</li>\n<li><p>I tried all of them together</p>\n</li>\n</ul>\n<p>But nothing worked...\nWhy is so difficult to add just a simple choice for disabling Dark Mode.</p>\n<p><strong>UPDATE</strong></p>\n<p>I have problem with dark mode on my phone but the app worked perfect on android studio emulator.</p>\n<p>After that I realized that there is a problem on MIUI (Xiaomi) and found a solution here:\nSo I tried to find a solution and finally I found one here:\n<a href=\"https://stackoverflow.com/a/66640823/6281778\">https://stackoverflow.com/a/66640823/6281778</a></p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1666721538,"post_id":74198420,"comment_id":131002265,"body_markdown":"You can pass a String to makeStairs initially equals to “”, and in each recursive call add a space, then you have to print first this string and then |_. And you have to first print and then make the recursive call","body":"You can pass a String to makeStairs initially equals to “”, and in each recursive call add a space, then you have to print first this string and then |_. And you have to first print and then make the recursive call"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1666721807,"post_id":74198420,"comment_id":131002335,"body_markdown":"Your `int steps` parameter is being used only to limit the depth of the recursion. In addition to that, use it to determine how far to indent.","body":"Your <code>int steps</code> parameter is being used only to limit the depth of the recursion. In addition to that, use it to determine how far to indent."}],"answers":[{"tags":[],"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666721731,"creation_date":1666721731,"answer_id":74198508,"question_id":74198420,"body_markdown":"You are just trying to call make steps recursively, but within each recursion, you need to print whitespace, and since you are printing while you are exiting the recursion, you may want to do some math to determine the number of blanks to print.\r\nLooks like a homework problem so wont give the full solution here.","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>You are just trying to call make steps recursively, but within each recursion, you need to print whitespace, and since you are printing while you are exiting the recursion, you may want to do some math to determine the number of blanks to print.\nLooks like a homework problem so wont give the full solution here.</p>\n"},{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666722343,"creation_date":1666722343,"answer_id":74198589,"question_id":74198420,"body_markdown":"You can solve this easily by printing some blank spaces `  ` immediately before printing the step itself `|_`\r\n\r\nThe number of spaces `  ` will be equal to the value `steps`\r\n\r\n*Keep in mind that each space is actually 2 spaces*\r\n\r\nSo, you can use a for loop as follows\r\n\r\n    for (int i = 1; i &lt; steps; i++){\r\n        System.out.print(&quot;  &quot;);\r\n    }\r\n\r\nPlace this between `makeStairs(steps - 1);` and your `printf` statement\r\n\r\n**Output**\r\n\r\n    |_\r\n      |_\r\n        |_\r\n          |_","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>You can solve this easily by printing some blank spaces <code>  </code> immediately before printing the step itself <code>|_</code></p>\n<p>The number of spaces <code>  </code> will be equal to the value <code>steps</code></p>\n<p><em>Keep in mind that each space is actually 2 spaces</em></p>\n<p>So, you can use a for loop as follows</p>\n<pre><code>for (int i = 1; i &lt; steps; i++){\n    System.out.print(&quot;  &quot;);\n}\n</code></pre>\n<p>Place this between <code>makeStairs(steps - 1);</code> and your <code>printf</code> statement</p>\n<p><strong>Output</strong></p>\n<pre><code>|_\n  |_\n    |_\n      |_\n</code></pre>\n"}],"owner":{"account_id":26576062,"reputation":1,"user_id":20201440,"display_name":"yaboyHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666722343,"creation_date":1666721271,"question_id":74198420,"body_markdown":"I&#39;m new to recursive methods. I am trying to create a simple JAVA program that creates a number of steps using this symbol |\\_ depending on the input. each recursion is supposed to print |\\_ then proceed to the next line and print |\\_ slightly further than the previous one creating a stair-like structure.\r\n\r\n```\r\n public static void main(String[] args) {\r\n\r\n        makeStairs(4); // invoking the method\r\n\r\n    }\r\n\r\n    private static void makeStairs(int steps) {\r\n\r\n        int numstp = 0;\r\n        if (steps &gt; 0) {\r\n\r\n            if (numstp != steps) {\r\n                makeStairs(steps - 1);\r\n                System.out.printf(&quot;|_\\n&quot;);\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nthe output that I&#39;m looking for:\r\n\r\n```\r\n|_\r\n  |_\r\n    |_\r\n      |_\r\n```\r\n\r\nthe output I have:\r\n\r\n```\r\n|_\r\n|_   \r\n|_\r\n|_\r\n```\r\n\r\nHelp would be highly appreciated.","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>I'm new to recursive methods. I am trying to create a simple JAVA program that creates a number of steps using this symbol |_ depending on the input. each recursion is supposed to print |_ then proceed to the next line and print |_ slightly further than the previous one creating a stair-like structure.</p>\n<pre><code> public static void main(String[] args) {\n\n        makeStairs(4); // invoking the method\n\n    }\n\n    private static void makeStairs(int steps) {\n\n        int numstp = 0;\n        if (steps &gt; 0) {\n\n            if (numstp != steps) {\n                makeStairs(steps - 1);\n                System.out.printf(&quot;|_\\n&quot;);\n\n            }\n        }\n\n    }\n</code></pre>\n<p>the output that I'm looking for:</p>\n<pre><code>|_\n  |_\n    |_\n      |_\n</code></pre>\n<p>the output I have:</p>\n<pre><code>|_\n|_   \n|_\n|_\n</code></pre>\n<p>Help would be highly appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"score":0,"creation_date":1664450015,"post_id":73893392,"comment_id":130477038,"body_markdown":"Thanks for your answer, Alex. actually this method helped me to get the **messageID** but also I will have many messages in the node of  **messageReceiverID** so how this method actually work , is it get last message or how ?","body":"Thanks for your answer, Alex. actually this method helped me to get the <b>messageID</b> but also I will have many messages in the node of  <b>messageReceiverID</b> so how this method actually work , is it get last message or how ?"},{"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"score":0,"creation_date":1664450428,"post_id":73893392,"comment_id":130477170,"body_markdown":"Also , i would like to mention that I am using `if (position == userMessagesList.size()-1)` and `if (userMessagesList.get(position).isSeen())` to check **UserMessageSeenStatus**","body":"Also , i would like to mention that I am using <code>if (position == userMessagesList.size()-1)</code> and <code>if (userMessagesList.get(position).isSeen())</code> to check <b>UserMessageSeenStatus</b>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664460956,"post_id":73893392,"comment_id":130481396,"body_markdown":"Your question sounds like &quot;How to get automatically generated firebase push id&quot;. And the solution is in my answer above. If you have any other question that derives from this one, then it&#39;s considered a new question and should be added separately. So please post a new question, here on StackOverflow, using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"Your question sounds like &quot;How to get automatically generated firebase push id&quot;. And the solution is in my answer above. If you have any other question that derives from this one, then it&#39;s considered a new question and should be added separately. So please post a new question, here on StackOverflow, using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664444431,"creation_date":1664444431,"answer_id":73893392,"question_id":73884931,"body_markdown":"If you want to read the value of `messageID` field, then you should create a reference that points to the `cG6v...PXi1` node and use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference messagesRef = db.child(&quot;Messages&quot;);\r\n    DatabaseReference messageReceiverIdRef = messagesRef.child(messageSenderID).child(messageReceiverID);\r\n    messageReceiverIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString messageId = ds.child(&quot;messageID&quot;).getValue(String.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, messageId);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThe result in the logcat will be:\r\n\r\n    -ND-fz....l2krv\r\n    ...","title":"How to get automatically generated Firebase push ID from Firebase Realtime Database?","body":"<p>If you want to read the value of <code>messageID</code> field, then you should create a reference that points to the <code>cG6v...PXi1</code> node and use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference messagesRef = db.child(&quot;Messages&quot;);\nDatabaseReference messageReceiverIdRef = messagesRef.child(messageSenderID).child(messageReceiverID);\nmessageReceiverIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String messageId = ds.child(&quot;messageID&quot;).getValue(String.class);\n                Log.d(&quot;TAG&quot;, messageId);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>-ND-fz....l2krv\n...\n</code></pre>\n"}],"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73893392,"answer_count":1,"score":1,"last_activity_date":1666721701,"creation_date":1664382685,"question_id":73884931,"body_markdown":"My app sends every message with a unique id (using push() method) so how can I get this id?\r\n\r\nmy code to send message : \r\n\r\n    String messageSenderRef = &quot;Messages/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\r\n            String messageReceiverRef = &quot;Messages/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\r\n\r\n            DatabaseReference userMessagesKeyRef = reference.child(&quot;Messages&quot;)\r\n                    .child(messageSenderID).child(messageReceiverID).push();\r\n\r\n            String messagePushID = userMessagesKeyRef.getKey();\r\n\r\n            Map messageTextBody = new HashMap();\r\n            messageTextBody.put(&quot;message&quot;,messageText);\r\n            messageTextBody.put(&quot;type&quot;,&quot;text&quot;);\r\n            messageTextBody.put(&quot;to&quot;,messageReceiverID);\r\n            messageTextBody.put(&quot;from&quot;,messageSenderID);\r\n            messageTextBody.put(&quot;time&quot;,time);\r\n            messageTextBody.put(&quot;date&quot;,date);\r\n            messageTextBody.put(&quot;isSeen&quot;,false);\r\n            messageTextBody.put(&quot;messageID&quot;,messagePushID);\r\n\r\n\r\n            Map messageBodyDetails = new HashMap();\r\n            messageBodyDetails.put(messageSenderRef + &quot;/&quot; + messagePushID,messageTextBody);\r\n            messageBodyDetails.put(messageReceiverRef + &quot;/&quot; + messagePushID,messageTextBody);\r\n\r\nMy Firebase database node:\r\n\r\nFirebase Node:\r\n\r\n![firebase node][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/weZyV.png","title":"How to get automatically generated Firebase push ID from Firebase Realtime Database?","body":"<p>My app sends every message with a unique id (using push() method) so how can I get this id?</p>\n<p>my code to send message :</p>\n<pre><code>String messageSenderRef = &quot;Messages/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\n        String messageReceiverRef = &quot;Messages/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\n\n        DatabaseReference userMessagesKeyRef = reference.child(&quot;Messages&quot;)\n                .child(messageSenderID).child(messageReceiverID).push();\n\n        String messagePushID = userMessagesKeyRef.getKey();\n\n        Map messageTextBody = new HashMap();\n        messageTextBody.put(&quot;message&quot;,messageText);\n        messageTextBody.put(&quot;type&quot;,&quot;text&quot;);\n        messageTextBody.put(&quot;to&quot;,messageReceiverID);\n        messageTextBody.put(&quot;from&quot;,messageSenderID);\n        messageTextBody.put(&quot;time&quot;,time);\n        messageTextBody.put(&quot;date&quot;,date);\n        messageTextBody.put(&quot;isSeen&quot;,false);\n        messageTextBody.put(&quot;messageID&quot;,messagePushID);\n\n\n        Map messageBodyDetails = new HashMap();\n        messageBodyDetails.put(messageSenderRef + &quot;/&quot; + messagePushID,messageTextBody);\n        messageBodyDetails.put(messageReceiverRef + &quot;/&quot; + messagePushID,messageTextBody);\n</code></pre>\n<p>My Firebase database node:</p>\n<p>Firebase Node:</p>\n<p><img src=\"https://i.stack.imgur.com/weZyV.png\" alt=\"firebase node\" /></p>\n"},{"tags":["java","git-annex"],"answers":[{"tags":[],"owner":{"account_id":3703341,"reputation":3062,"user_id":3082472,"accept_rate":92,"display_name":"akraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666721187,"creation_date":1666721187,"answer_id":74198406,"question_id":74198405,"body_markdown":"Turns out that the java binary tries to find its own path, as can be seen by calling `strace java -version`:\r\n\r\n```\r\n&lt; ... lots of strace output... &gt;\r\nreadlink(&quot;/proc/self/exe&quot;, &quot;/proj/.git/annex/objects/X5/f3/M&quot;..., 4096) = 120\r\n&lt; ... more strace output ...&gt;\r\n```\r\n\r\nThe `readlink` syscall leads into the `.git/annex/objects` directory where git-annex saves big files. Thus, `java` gets the wrong answer what is its installation directory and thus fails.\r\n\r\nThe solution is to `git annex unlock $JAVA_HOME/bin/java` (where `$JAVA_HOME` is the folder you extracted java to). The same must be done with `$JAVA_HOME/lib/amd64/server/libjvm.so` which tries the same manoever.\r\n\r\nFinally, the files must be committed in unlocked state. In effect, the files\r\nmust not be symlinks into the git-annex object storage but regular files.","title":"Cannot run java in my git-annex&#39;ed project","body":"<p>Turns out that the java binary tries to find its own path, as can be seen by calling <code>strace java -version</code>:</p>\n<pre><code>&lt; ... lots of strace output... &gt;\nreadlink(&quot;/proc/self/exe&quot;, &quot;/proj/.git/annex/objects/X5/f3/M&quot;..., 4096) = 120\n&lt; ... more strace output ...&gt;\n</code></pre>\n<p>The <code>readlink</code> syscall leads into the <code>.git/annex/objects</code> directory where git-annex saves big files. Thus, <code>java</code> gets the wrong answer what is its installation directory and thus fails.</p>\n<p>The solution is to <code>git annex unlock $JAVA_HOME/bin/java</code> (where <code>$JAVA_HOME</code> is the folder you extracted java to). The same must be done with <code>$JAVA_HOME/lib/amd64/server/libjvm.so</code> which tries the same manoever.</p>\n<p>Finally, the files must be committed in unlocked state. In effect, the files\nmust not be symlinks into the git-annex object storage but regular files.</p>\n"}],"owner":{"account_id":3703341,"reputation":3062,"user_id":3082472,"accept_rate":92,"display_name":"akraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666721187,"creation_date":1666721187,"question_id":74198405,"body_markdown":"I have code of a research project managed by [datalad](https://datalad.org) (which is a frontend for git and git-annex). It contains my code together with a Singularity container for reproducibility. \r\n\r\nI installed java manually into this directory. I could run `java -version` initially but once I have committed my changes using `git annex add &lt;java_dir&gt;`, `git add .` and `git commit`, I cannot start java anymore. I get the following error message:\r\n\r\n```\r\nError: could not find libjava.so\r\nError: Could not find Java SE Runtime Environment.\r\n```\r\n\r\nHow can I avoid this incompatibility between java and git-annex?\r\n\r\n## (Annex: how I installed java)\r\n\r\n```\r\nmkdir lib\r\ncd lib\r\nwget https://javadl.oracle.com/webapps/download/AutoDL?BundleId=246799_424b9da4b48848379167015dcc250d8d -O jre_8_341.tgz\r\ntar -xf ./jre_8_341.tgz # creates jre1.8.0_341/\r\nrm jre_8_341.tgz\r\ncd jre1.8.0_341/bin\r\n```","title":"Cannot run java in my git-annex&#39;ed project","body":"<p>I have code of a research project managed by <a href=\"https://datalad.org\" rel=\"nofollow noreferrer\">datalad</a> (which is a frontend for git and git-annex). It contains my code together with a Singularity container for reproducibility.</p>\n<p>I installed java manually into this directory. I could run <code>java -version</code> initially but once I have committed my changes using <code>git annex add &lt;java_dir&gt;</code>, <code>git add .</code> and <code>git commit</code>, I cannot start java anymore. I get the following error message:</p>\n<pre><code>Error: could not find libjava.so\nError: Could not find Java SE Runtime Environment.\n</code></pre>\n<p>How can I avoid this incompatibility between java and git-annex?</p>\n<h2>(Annex: how I installed java)</h2>\n<pre><code>mkdir lib\ncd lib\nwget https://javadl.oracle.com/webapps/download/AutoDL?BundleId=246799_424b9da4b48848379167015dcc250d8d -O jre_8_341.tgz\ntar -xf ./jre_8_341.tgz # creates jre1.8.0_341/\nrm jre_8_341.tgz\ncd jre1.8.0_341/bin\n</code></pre>\n"},{"tags":["java","generics","search"],"owner":{"account_id":26730506,"reputation":11,"user_id":20332939,"display_name":"java_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666720943,"creation_date":1666720852,"question_id":74198336,"body_markdown":"I have a file system FileSystem that contains files in the form of the matrix. Each of these files have the following 4 attributes:\r\n\r\n- size;\r\n- name;\r\n- timeCreated;\r\n- permission;\r\n\r\nI need to implement search  based on any combination of attributes.\r\n\r\nInstead of defining separate search method for each combination of criteria, I thought that there has to be a way to implement generic search function.\r\n\r\n\r\n     @Data\r\n     @AllArgsConstructor\r\n     public class File {\r\n       private long size;\r\n       private String name;\r\n       private LocalDateTime timeCreated;\r\n       private Permissions permission;\r\n     }\r\n\r\n\r\n\r\n\r\n    public static void searchFilesStream() {\r\n    \r\n        System.out.println(&quot;Search files using stream: &quot;);\r\n        Arrays.stream(FileSystem.files)\r\n                .flatMap(Arrays::stream)\r\n                .filter(file -&gt; Permissions.W.equals(file.getPermission())\r\n                        &amp;&amp; LocalDate.of(2022, 10, 25).isBefore(ChronoLocalDate.from(file.getTimeCreated()))\r\n                ).map(File::getName)\r\n                .filter(f-&gt; f.equals(&quot;file40&quot;))\r\n                .collect(Collectors.toList())\r\n                .forEach(System.out::println)\r\n        ;\r\n\r\n    }\r\n\r\n","title":"Search based on any combination of attributes","body":"<p>I have a file system FileSystem that contains files in the form of the matrix. Each of these files have the following 4 attributes:</p>\n<ul>\n<li>size;</li>\n<li>name;</li>\n<li>timeCreated;</li>\n<li>permission;</li>\n</ul>\n<p>I need to implement search  based on any combination of attributes.</p>\n<p>Instead of defining separate search method for each combination of criteria, I thought that there has to be a way to implement generic search function.</p>\n<pre><code> @Data\n @AllArgsConstructor\n public class File {\n   private long size;\n   private String name;\n   private LocalDateTime timeCreated;\n   private Permissions permission;\n }\n\n\n\n\npublic static void searchFilesStream() {\n\n    System.out.println(&quot;Search files using stream: &quot;);\n    Arrays.stream(FileSystem.files)\n            .flatMap(Arrays::stream)\n            .filter(file -&gt; Permissions.W.equals(file.getPermission())\n                    &amp;&amp; LocalDate.of(2022, 10, 25).isBefore(ChronoLocalDate.from(file.getTimeCreated()))\n            ).map(File::getName)\n            .filter(f-&gt; f.equals(&quot;file40&quot;))\n            .collect(Collectors.toList())\n            .forEach(System.out::println)\n    ;\n\n}\n</code></pre>\n"},{"tags":["java","sqrt"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1466832867,"post_id":38025181,"comment_id":63491385,"body_markdown":"Ummm.... `int` vs `long`?","body":"Ummm.... <code>int</code> vs <code>long</code>?"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1466832946,"post_id":38025181,"comment_id":63491399,"body_markdown":"convert i and x to long","body":"convert i and x to long"}],"answers":[{"tags":[],"owner":{"account_id":7222810,"reputation":3315,"user_id":5512611,"display_name":"Huy"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1466832678,"creation_date":1466832678,"answer_id":38025327,"question_id":38025181,"body_markdown":"You can try my code:\r\n\r\n    public int mySqrt(int x) {\r\n            long i = 0;\r\n            long j = x;\r\n            int mid = 0;\r\n            if (x == 0) {\r\n                return 0;\r\n            }\r\n            if (x == 1) {\r\n                return 1;\r\n            }\r\n            while (i &lt;= j) {\r\n                mid = (int)(i + j)/2;\r\n                if (x/mid == mid) {\r\n                    return (int)mid;\r\n                } else if (x/mid &gt; mid) {\r\n                    i = mid + 1;\r\n                } else if (x/mid &lt; mid) {\r\n                    j = mid - 1;\r\n                }\r\n            }\r\n            return (int)j;\r\n            }","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>You can try my code:</p>\n\n<pre><code>public int mySqrt(int x) {\n        long i = 0;\n        long j = x;\n        int mid = 0;\n        if (x == 0) {\n            return 0;\n        }\n        if (x == 1) {\n            return 1;\n        }\n        while (i &lt;= j) {\n            mid = (int)(i + j)/2;\n            if (x/mid == mid) {\n                return (int)mid;\n            } else if (x/mid &gt; mid) {\n                i = mid + 1;\n            } else if (x/mid &lt; mid) {\n                j = mid - 1;\n            }\n        }\n        return (int)j;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704734,"reputation":77,"user_id":6513230,"display_name":"Brandon Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468384061,"creation_date":1468384061,"answer_id":38342680,"question_id":38025181,"body_markdown":"Instead of int, use long. This is because int only goes up to 2147395600, while long goes much higher than that. However, the expense is that you would have to convert to long, then back to int. ","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>Instead of int, use long. This is because int only goes up to 2147395600, while long goes much higher than that. However, the expense is that you would have to convert to long, then back to int. </p>\n"},{"tags":[],"owner":{"account_id":25232344,"reputation":1,"user_id":19067346,"display_name":"Rajdeep Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652002589,"creation_date":1652002589,"answer_id":72159732,"question_id":38025181,"body_markdown":"I had the same problem but simply by add a typecast (long) in front of the i*i expression, I solved it. The problem lay with the fact that i*i was exceeding the limit of the value that can be held by int and hence a garbage value was being returned. \r\n\r\nPS: This solution is super slow so do consider other solutions like Binary Search provided above.\r\n","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>I had the same problem but simply by add a typecast (long) in front of the i<em>i expression, I solved it. The problem lay with the fact that i</em>i was exceeding the limit of the value that can be held by int and hence a garbage value was being returned.</p>\n<p>PS: This solution is super slow so do consider other solutions like Binary Search provided above.</p>\n"},{"tags":[],"owner":{"account_id":11331526,"reputation":1,"user_id":8308923,"display_name":"Rayed Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666720404,"creation_date":1666720367,"answer_id":74198245,"question_id":38025181,"body_markdown":"You have declared i as an int and trying to do sqaure of i, which will throw error as int cannot hold such large values, use long to declare i or caste it i to long. But why do this when you can do it in O(log n) using Binary Search.","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>You have declared i as an int and trying to do sqaure of i, which will throw error as int cannot hold such large values, use long to declare i or caste it i to long. But why do this when you can do it in O(log n) using Binary Search.</p>\n"}],"owner":{"account_id":8686067,"reputation":23,"user_id":6500460,"display_name":"Steve Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1358,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":38025327,"answer_count":4,"score":0,"last_activity_date":1666720404,"creation_date":1466831311,"question_id":38025181,"body_markdown":"I am working on the LeetCode question No.69 named sqrt(x)(https://leetcode.com/problems/sqrtx/). It asked me to return the square root of the integer also in another integer. Below is my solution.\r\n       \r\n    public class Solution {\r\n        public int mySqrt(int x) {\r\n        int i = 0;\r\n        if(x==0)\r\n        {\r\n            return 0;\r\n        }\r\n        for(i = 1;i&lt;x/2;i++)\r\n        {\r\n            if(((i*i)&lt;=x)&amp;&amp;((i+1)*(i+1)&gt;x))\r\n            {\r\n                break;\r\n            }\r\n        }\r\n        \r\n        return i;\r\n       }\r\n    }\r\n\r\nAfter I submit the code, all the test cases where x &gt;= 2147395600 are all failed. When x = 2147395600, it is returning a 289398 instead of  46340, which is the right answer. What is the problem with my code? ","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>I am working on the LeetCode question No.69 named sqrt(x)(<a href=\"https://leetcode.com/problems/sqrtx/\" rel=\"nofollow\">https://leetcode.com/problems/sqrtx/</a>). It asked me to return the square root of the integer also in another integer. Below is my solution.</p>\n\n<pre><code>public class Solution {\n    public int mySqrt(int x) {\n    int i = 0;\n    if(x==0)\n    {\n        return 0;\n    }\n    for(i = 1;i&lt;x/2;i++)\n    {\n        if(((i*i)&lt;=x)&amp;&amp;((i+1)*(i+1)&gt;x))\n        {\n            break;\n        }\n    }\n\n    return i;\n   }\n}\n</code></pre>\n\n<p>After I submit the code, all the test cases where x >= 2147395600 are all failed. When x = 2147395600, it is returning a 289398 instead of  46340, which is the right answer. What is the problem with my code? </p>\n"},{"tags":["java","android","google-signin","google-play-games"],"comments":[{"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"score":0,"creation_date":1527246246,"post_id":50527420,"comment_id":88066910,"body_markdown":"anyone please give me a solution","body":"anyone please give me a solution"},{"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"score":0,"creation_date":1528026005,"post_id":50527420,"comment_id":88341854,"body_markdown":"error will be solved","body":"error will be solved"},{"owner":{"account_id":1410231,"reputation":1707,"user_id":1336989,"accept_rate":61,"display_name":"phcaze"},"score":0,"creation_date":1528173854,"post_id":50527420,"comment_id":88393862,"body_markdown":"Same problem here, it seems that Firebase is not saving the SHA-1 key","body":"Same problem here, it seems that Firebase is not saving the SHA-1 key"}],"answers":[{"comments":[{"owner":{"account_id":4448774,"reputation":3273,"user_id":3621353,"accept_rate":50,"display_name":"Kiryl Tkach"},"score":1,"creation_date":1530820887,"post_id":50666009,"comment_id":89379753,"body_markdown":"Please can you write exactly what you did to fix this error, where to get sha1 key and where to copy it","body":"Please can you write exactly what you did to fix this error, where to get sha1 key and where to copy it"},{"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"score":0,"creation_date":1531893319,"post_id":50666009,"comment_id":89760237,"body_markdown":"get SHA1 in your android studio, then go to your project from firebase settings--&gt;Add Fingerprint place your SHA1 key.","body":"get SHA1 in your android studio, then go to your project from firebase settings--&gt;Add Fingerprint place your SHA1 key."},{"owner":{"account_id":7023916,"reputation":1284,"user_id":5434860,"accept_rate":40,"display_name":"retodaredevil"},"score":0,"creation_date":1556149357,"post_id":50666009,"comment_id":98343471,"body_markdown":"Does your app have to be a firebase app? I&#39;ve been trying to do this all day while my app has nothing to do with firebase. If I just add firebase to my project will it start working?","body":"Does your app have to be a firebase app? I&#39;ve been trying to do this all day while my app has nothing to do with firebase. If I just add firebase to my project will it start working?"},{"owner":{"account_id":7023916,"reputation":1284,"user_id":5434860,"accept_rate":40,"display_name":"retodaredevil"},"score":0,"creation_date":1556210392,"post_id":50666009,"comment_id":98369563,"body_markdown":"So I was actually able to login without my app having anything to do with firebase. I had the incorrect SHA1 key in console.developers.google.com. Once I put my SHA1 key from my jks in the correct spot there, since it was connected to my Game Service on Google play.\n\nThanks for responding. I&#39;ll try integrating with firebase if I run into more problems.","body":"So I was actually able to login without my app having anything to do with firebase. I had the incorrect SHA1 key in console.developers.google.com. Once I put my SHA1 key from my jks in the correct spot there, since it was connected to my Game Service on Google play.  Thanks for responding. I&#39;ll try integrating with firebase if I run into more problems."},{"owner":{"account_id":8336117,"reputation":3451,"user_id":6263015,"display_name":"MSARKrish"},"score":0,"creation_date":1588690334,"post_id":50666009,"comment_id":108991896,"body_markdown":"@MathanChinna i don&#39;t have firebase project for my application, then how to solve this problem bro?","body":"@MathanChinna i don&#39;t have firebase project for my application, then how to solve this problem bro?"},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":0,"creation_date":1598072852,"post_id":50666009,"comment_id":112345213,"body_markdown":"Nothing in your question suggest that you use firebase. Not just no tag for the question but I dont&#39; even see any firebase dependency in your build.gradle snippet.","body":"Nothing in your question suggest that you use firebase. Not just no tag for the question but I dont&#39; even see any firebase dependency in your build.gradle snippet."},{"owner":{"account_id":6617866,"reputation":2097,"user_id":5110536,"accept_rate":11,"display_name":"Usman Rana"},"score":0,"creation_date":1621575195,"post_id":50666009,"comment_id":119541777,"body_markdown":"I&#39;m facing same issue although SHA-1 is same.","body":"I&#39;m facing same issue although SHA-1 is same."}],"tags":[],"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528026169,"creation_date":1528026169,"answer_id":50666009,"question_id":50527420,"body_markdown":"error will be solved...\r\n\r\nAnyone having this type of problem please check first your SHA 1 key from your Firebase project settings.\r\n\r\nMy SHA 1 key is mismatched from Firebase project settings. \r\n\r\nNow am change that and work perfectly..\r\n\r\nThank you..","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>error will be solved...</p>\n\n<p>Anyone having this type of problem please check first your SHA 1 key from your Firebase project settings.</p>\n\n<p>My SHA 1 key is mismatched from Firebase project settings. </p>\n\n<p>Now am change that and work perfectly..</p>\n\n<p>Thank you..</p>\n"},{"tags":[],"owner":{"account_id":1155287,"reputation":1046,"user_id":1136074,"accept_rate":60,"display_name":"gor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574235883,"creation_date":1574235883,"answer_id":58949130,"question_id":50527420,"body_markdown":"it turns out whenver you add/edit your **Firebase** app settings (SHA certificate fingerprints) it generate the correlate credentials in your application **Google Api** console. Although the fingerprint was the same it didnt work until i deleted the cradential from Google Api and let Firebase generate it for me - i guess its ID related.   ","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>it turns out whenver you add/edit your <strong>Firebase</strong> app settings (SHA certificate fingerprints) it generate the correlate credentials in your application <strong>Google Api</strong> console. Although the fingerprint was the same it didnt work until i deleted the cradential from Google Api and let Firebase generate it for me - i guess its ID related.   </p>\n"},{"tags":[],"owner":{"account_id":10549169,"reputation":134,"user_id":7772358,"display_name":"nandur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595412787,"creation_date":1595390372,"answer_id":63026633,"question_id":50527420,"body_markdown":"&gt; **Follow this steps until you get the SHA-1 in Android Studio**\r\n&gt; \r\n&gt; [https://stackoverflow.com/a/33479550/7772358][1]\r\n\r\n&gt; **Then go to this link**\r\n&gt; \r\n&gt; [https://console.firebase.google.com/][2]\r\n\r\n \r\n\r\n1. Click setting gear Icon near the Project Overview under Firebase\r\n    Logo on the left top\r\n 2. Click on the Project setting and make sure you choose the right\r\n    Project in the dropdown list In the General tab.\r\n 3. Scroll down and find the SHA certificate fingerprints\r\n 4. Click Add Fingerprint Copy and paste the SHA-1 from the Android\r\n    studio console to the Certificate fingerprint column then click Save\r\n 5. Restart the App that require firebase and google login.\r\n\r\nViola.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33479550/7772358\r\n  [2]: https://console.firebase.google.com/","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<blockquote>\n<p><strong>Follow this steps until you get the SHA-1 in Android Studio</strong></p>\n<p><a href=\"https://stackoverflow.com/a/33479550/7772358\">https://stackoverflow.com/a/33479550/7772358</a></p>\n</blockquote>\n<blockquote>\n<p><strong>Then go to this link</strong></p>\n<p><a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">https://console.firebase.google.com/</a></p>\n</blockquote>\n<ol>\n<li>Click setting gear Icon near the Project Overview under Firebase\nLogo on the left top</li>\n<li>Click on the Project setting and make sure you choose the right\nProject in the dropdown list In the General tab.</li>\n<li>Scroll down and find the SHA certificate fingerprints</li>\n<li>Click Add Fingerprint Copy and paste the SHA-1 from the Android\nstudio console to the Certificate fingerprint column then click Save</li>\n<li>Restart the App that require firebase and google login.</li>\n</ol>\n<p>Viola.</p>\n"},{"tags":[],"owner":{"account_id":26032731,"reputation":1,"user_id":19738681,"display_name":"Fabi Ramos Sandoval"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666720106,"creation_date":1666720106,"answer_id":74198210,"question_id":50527420,"body_markdown":"My solution was to synchronize my project so that it takes the updated SHA&#39;s.\r\n\r\n- Download updated google-services.json\r\n- Place it in your andorid studio project, in the app folder.\r\n- In the top bar of the IDE Andorid Studio-&gt; File-&gt; Sync Project with Gradel Files.\r\n\r\nSolution.","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>My solution was to synchronize my project so that it takes the updated SHA's.</p>\n<ul>\n<li>Download updated google-services.json</li>\n<li>Place it in your andorid studio project, in the app folder.</li>\n<li>In the top bar of the IDE Andorid Studio-&gt; File-&gt; Sync Project with Gradel Files.</li>\n</ul>\n<p>Solution.</p>\n"}],"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5450,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":50666009,"answer_count":4,"score":5,"last_activity_date":1666720106,"creation_date":1527245129,"question_id":50527420,"body_markdown":"am using google play services silent login, but it always CompleteListener show com.google.android.gms.common.api.ApiException: 4: &#39;SIGN_IN_REQUIRED&#39; but am a test user in my application. My code is below,\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            mGoogleSignInClient = GoogleSignIn.getClient(this, new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).build());\r\n    }\r\n\r\n    @Override\r\n       protected void onResume() {\r\n           super.onResume();\r\n           signInSilently();\r\n    }\r\n\r\n    private void signInSilently() {\r\n\r\n        mGoogleSignInClient.silentSignIn().addOnCompleteListener(this, new OnCompleteListener&lt;GoogleSignInAccount&gt;() {\r\n        @Override\r\n           public void onComplete(@NonNull Task&lt;GoogleSignInAccount&gt; task) {\r\n               if (task.isSuccessful()) {\r\n                  try {\r\n                       GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\r\n                  } catch (ApiException apiException) {\r\n                       System.out.println(&quot;CATE_RESULT_CODE &quot; + apiException.getLocalizedMessage()+&quot; &quot; +apiException.getStatusMessage()+ &quot; &quot; +apiException.getMessage()+ &quot; &quot;+apiException.getCause() );\r\n                  }\r\n               } else {\r\n                    try {\r\n                        GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\r\n                    } catch (ApiException apiException) {\r\n                          System.out.println(&quot;CATE_RESULT_CODE &quot; + apiException.getLocalizedMessage()+&quot; &quot; +apiException.getStatusMessage()+ &quot; &quot; +apiException.getMessage()+ &quot; &quot;+apiException.getCause() );\r\n                    }\r\n               }\r\n            }\r\n         });\r\n      }\r\n\r\nMy gradle file dependencies :\r\n\r\n    dependencies {\r\n     ext {\r\n        support_library_version = &#39;27.0.2&#39;\r\n        google_play_services_version = &#39;15.0.2&#39;\r\n      }\r\n        implementation &quot;com.android.support:appcompat-v7:${support_library_version}&quot;\r\n        implementation &quot;com.android.support:design:${support_library_version}&quot;\r\n         implementation &quot;com.android.support:recyclerview-v7:${support_library_version}&quot;\r\n         implementation &quot;com.android.support:cardview-v7:${support_library_version}&quot;\r\n         implementation &#39;com.google.android.gms:play-services-auth:15.0.1&#39;\r\n         implementation &#39;com.google.android.gms:play-services-games:15.0.1&#39;\r\n     }\r\n\r\n     erorr :\r\n      com.google.android.gms.common.api.ApiException: 4: \r\n        at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source)\r\n        at com.google.android.gms.common.internal.zzk.convert(Unknown Source)\r\n        at com.google.android.gms.common.internal.zzl.onComplete(Unknown Source)\r\n        at com.google.android.gms.common.api.internal.BasePendingResult.zza(Unknown Source)\r\n        at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source)\r\n        at com.google.android.gms.auth.api.signin.internal.zzk.zzd(Unknown Source)\r\n        at com.google.android.gms.auth.api.signin.internal.zzu.dispatchTransaction(Unknown Source)\r\n        at com.google.android.gms.internal.auth.zze.onTransact(Unknown Source)\r\n        at android.os.Binder.execTransact(Binder.java:404)\r\n        at dalvik.system.NativeStart.run(Native Method)\r\n\r\nalso adding app id in Manifest file.\r\n\r\nPlease give me a solution for this problem. Advance thanks","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>am using google play services silent login, but it always CompleteListener show com.google.android.gms.common.api.ApiException: 4: 'SIGN_IN_REQUIRED' but am a test user in my application. My code is below,</p>\n\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mGoogleSignInClient = GoogleSignIn.getClient(this, new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).build());\n}\n\n@Override\n   protected void onResume() {\n       super.onResume();\n       signInSilently();\n}\n\nprivate void signInSilently() {\n\n    mGoogleSignInClient.silentSignIn().addOnCompleteListener(this, new OnCompleteListener&lt;GoogleSignInAccount&gt;() {\n    @Override\n       public void onComplete(@NonNull Task&lt;GoogleSignInAccount&gt; task) {\n           if (task.isSuccessful()) {\n              try {\n                   GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\n              } catch (ApiException apiException) {\n                   System.out.println(\"CATE_RESULT_CODE \" + apiException.getLocalizedMessage()+\" \" +apiException.getStatusMessage()+ \" \" +apiException.getMessage()+ \" \"+apiException.getCause() );\n              }\n           } else {\n                try {\n                    GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\n                } catch (ApiException apiException) {\n                      System.out.println(\"CATE_RESULT_CODE \" + apiException.getLocalizedMessage()+\" \" +apiException.getStatusMessage()+ \" \" +apiException.getMessage()+ \" \"+apiException.getCause() );\n                }\n           }\n        }\n     });\n  }\n</code></pre>\n\n<p>My gradle file dependencies :</p>\n\n<pre><code>dependencies {\n ext {\n    support_library_version = '27.0.2'\n    google_play_services_version = '15.0.2'\n  }\n    implementation \"com.android.support:appcompat-v7:${support_library_version}\"\n    implementation \"com.android.support:design:${support_library_version}\"\n     implementation \"com.android.support:recyclerview-v7:${support_library_version}\"\n     implementation \"com.android.support:cardview-v7:${support_library_version}\"\n     implementation 'com.google.android.gms:play-services-auth:15.0.1'\n     implementation 'com.google.android.gms:play-services-games:15.0.1'\n }\n\n erorr :\n  com.google.android.gms.common.api.ApiException: 4: \n    at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source)\n    at com.google.android.gms.common.internal.zzk.convert(Unknown Source)\n    at com.google.android.gms.common.internal.zzl.onComplete(Unknown Source)\n    at com.google.android.gms.common.api.internal.BasePendingResult.zza(Unknown Source)\n    at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source)\n    at com.google.android.gms.auth.api.signin.internal.zzk.zzd(Unknown Source)\n    at com.google.android.gms.auth.api.signin.internal.zzu.dispatchTransaction(Unknown Source)\n    at com.google.android.gms.internal.auth.zze.onTransact(Unknown Source)\n    at android.os.Binder.execTransact(Binder.java:404)\n    at dalvik.system.NativeStart.run(Native Method)\n</code></pre>\n\n<p>also adding app id in Manifest file.</p>\n\n<p>Please give me a solution for this problem. Advance thanks</p>\n"},{"tags":["java","selenium","maven","testng","selenium-extent-report"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666719326,"creation_date":1666719326,"answer_id":74198077,"question_id":74192635,"body_markdown":"Your problem has nothing to to with caches and its validity. You&#39;re just breaking Java syntax.\r\n\r\nYou&#39;re trying to call method of a field inside enclosing class body. You need to have some method in your `FrameworkReporter` and move your calls there, so that you would have something like this:\r\n\r\n```java\r\npublic class FrameworkReporter{\r\n\r\n  ExtentReports extent = new ExtentReports();\r\n  WebDriver driver = new ChromeDriver();\r\n\r\n  public void someMethod(){\r\n    extent.attachReporter();\r\n    driver.get(&quot;&quot;);\r\n  }\r\n\r\n}\r\n```","title":"Intellij not recognizing the refrence variable and also not showing the methods list of a object reference","body":"<p>Your problem has nothing to to with caches and its validity. You're just breaking Java syntax.</p>\n<p>You're trying to call method of a field inside enclosing class body. You need to have some method in your <code>FrameworkReporter</code> and move your calls there, so that you would have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FrameworkReporter{\n\n  ExtentReports extent = new ExtentReports();\n  WebDriver driver = new ChromeDriver();\n\n  public void someMethod(){\n    extent.attachReporter();\n    driver.get(&quot;&quot;);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3216779,"reputation":69,"user_id":5450448,"accept_rate":25,"display_name":"user8971"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74198077,"answer_count":1,"score":0,"last_activity_date":1666719326,"creation_date":1666693750,"question_id":74192635,"body_markdown":"I am working on Intellij IDE and trying to create extent report and whenever I create a reference of ExtentReports class, it doesn&#39;t recognize that variable i.e. whenever I use that variable to access the methods of that class it doesn&#39;t show the methods present in that class. Same thing is happening for WebDriver reference. It doesn&#39;t recognize the variable and also not showing the methods that are available in these classes or interfaces. I have already tried to do File-&gt;Invalidate cache and restart but it didn&#39;t resolve the issue. I have checked the dependency list and these Maven dependencies are present in the local repo. Please assist me in resolving this issue. I have added a pic of the code and IDE that I have worked. Kindly provide some help. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4o5Lf.png","title":"Intellij not recognizing the refrence variable and also not showing the methods list of a object reference","body":"<p>I am working on Intellij IDE and trying to create extent report and whenever I create a reference of ExtentReports class, it doesn't recognize that variable i.e. whenever I use that variable to access the methods of that class it doesn't show the methods present in that class. Same thing is happening for WebDriver reference. It doesn't recognize the variable and also not showing the methods that are available in these classes or interfaces. I have already tried to do File-&gt;Invalidate cache and restart but it didn't resolve the issue. I have checked the dependency list and these Maven dependencies are present in the local repo. Please assist me in resolving this issue. I have added a pic of the code and IDE that I have worked. Kindly provide some help. <a href=\"https://i.stack.imgur.com/4o5Lf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4o5Lf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666714986,"post_id":74196963,"comment_id":131000288,"body_markdown":"Surely not everything within an action listener. This, however doesn’t imply that you need more classes. Just calling a method of the surrounding class would be enough. For example, create a method `showSettingsDialog` in the surrounding class and use a delegating listener like `settingsB.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { showSettingsDialog(); } });` or even simpler `settingsB.addActionListener(e -&gt; showSettingsDialog());`","body":"Surely not everything within an action listener. This, however doesn’t imply that you need more classes. Just calling a method of the surrounding class would be enough. For example, create a method <code>showSettingsDialog</code> in the surrounding class and use a delegating listener like <code>settingsB.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { showSettingsDialog(); } });</code> or even simpler <code>settingsB.addActionListener(e -&gt; showSettingsDialog());</code>"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666717939,"post_id":74196963,"comment_id":131001224,"body_markdown":"Thank you for your answer. I got it to work that with a click on settings button a jframe opens and a boolean &quot;isSettingsOpen&quot; makes sure that only one setting menu can be opened at a time. But how do I check for the window to be closde again?","body":"Thank you for your answer. I got it to work that with a click on settings button a jframe opens and a boolean &quot;isSettingsOpen&quot; makes sure that only one setting menu can be opened at a time. But how do I check for the window to be closde again?"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666718777,"post_id":74196963,"comment_id":131001455,"body_markdown":"My current solution is like this:","body":"My current solution is like this:"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666718918,"post_id":74196963,"comment_id":131001503,"body_markdown":"private void showSettingsDialogue() {\n\t\tif(settingsOpen) {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tsettingsOpen = true;\n\t\t\tsettingWindow = new SettingsWindow();\n\t\t\tsettingWindow.addWindowListener(new WindowListener() {\n\t\t\t\t\n\t\t\t@Override\n\t\t\t\tpublic void windowClosed(WindowEvent e) {\n\t\t\t\t\tsettingsOpen = false;\n\t\t\t\t\t\n\t\t\t\t} I have to implement all the other methods too. Is there a more  efficient way?","body":"private void showSettingsDialogue() { \t\tif(settingsOpen) { \t\t\treturn; \t\t} \t\telse { \t\t\tsettingsOpen = true; \t\t\tsettingWindow = new SettingsWindow(); \t\t\tsettingWindow.addWindowListener(new WindowListener() { \t\t\t\t \t\t\t@Override \t\t\t\tpublic void windowClosed(WindowEvent e) { \t\t\t\t\tsettingsOpen = false; \t\t\t\t\t \t\t\t\t} I have to implement all the other methods too. Is there a more  efficient way?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666719415,"post_id":74196963,"comment_id":131001644,"body_markdown":"You can extend [`WindowAdapter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/WindowAdapter.html) instead of implementing `WindowListener`. `settingWindow.addWindowListener(new WindowAdapter() { @Override public void windowClosed(WindowEvent e) { settingsOpen = false; } });`","body":"You can extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/WindowAdapter.html\" rel=\"nofollow noreferrer\"><code>WindowAdapter</code></a> instead of implementing <code>WindowListener</code>. <code>settingWindow.addWindowListener(new WindowAdapter() { @Override public void windowClosed(WindowEvent e) { settingsOpen = false; } });</code>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666734130,"post_id":74196963,"comment_id":131005741,"body_markdown":"You probably should use a `JDialog` for the settings.","body":"You probably should use a <code>JDialog</code> for the settings."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1666736344,"post_id":74196963,"comment_id":131006231,"body_markdown":"Don&#39;t use extra booleans to track state.  Just disable the button when the dialog opens and re-enable when it closes.","body":"Don&#39;t use extra booleans to track state.  Just disable the button when the dialog opens and re-enable when it closes."}],"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666719224,"creation_date":1666713553,"question_id":74196963,"body_markdown":"I am curently working on a GUI and when clicking a certain button:\r\n\r\n\r\n    settingsB.addActionListener(new ActionListener() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tSystem.out.println(&quot;Settings&quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t});\r\n\r\nInstead of just printing it there should a new window open where you can adjust settings with sliders textboxes, ... How would you approach that? With new classes or all inside the action listener?\r\n\r\n\r\nEdit:\r\nMy &quot;current solution&quot; is based on the great suggestion from user Holger to call a method showSettingsDialogue():\r\n\r\n    private void showSettingsDialogue() {\r\n    \t\tif(settingsOpen) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsettingsOpen = true;\r\n    \t\t\tsettingWindow = new SettingsWindow();\r\n    \t\t\tsettingWindow.addWindowListener(new WindowListener() {\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowOpened(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowIconified(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowDeiconified(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowDeactivated(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowClosing(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowClosed(WindowEvent e) {\r\n    \t\t\t\t\tsettingsOpen = false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowActivated(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n\r\nUnfortunally with this way I have to write down even unimplemented methods. Any bether solution then this?\r\n","title":"Java Settings Menu","body":"<p>I am curently working on a GUI and when clicking a certain button:</p>\n<pre><code>settingsB.addActionListener(new ActionListener() {\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(&quot;Settings&quot;);\n            \n        }\n    });\n</code></pre>\n<p>Instead of just printing it there should a new window open where you can adjust settings with sliders textboxes, ... How would you approach that? With new classes or all inside the action listener?</p>\n<p>Edit:\nMy &quot;current solution&quot; is based on the great suggestion from user Holger to call a method showSettingsDialogue():</p>\n<pre><code>private void showSettingsDialogue() {\n        if(settingsOpen) {\n            return;\n        }\n        else {\n            settingsOpen = true;\n            settingWindow = new SettingsWindow();\n            settingWindow.addWindowListener(new WindowListener() {\n                \n                @Override\n                public void windowOpened(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowIconified(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowDeiconified(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowDeactivated(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowClosing(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowClosed(WindowEvent e) {\n                    settingsOpen = false;\n                    \n                }\n                \n                @Override\n                public void windowActivated(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n            });\n        }\n</code></pre>\n<p>Unfortunally with this way I have to write down even unimplemented methods. Any bether solution then this?</p>\n"},{"tags":["java","spring","proxy","feign"],"owner":{"account_id":4116414,"reputation":165,"user_id":3377848,"display_name":"marting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666718611,"creation_date":1624499243,"question_id":68108713,"body_markdown":"I have the following in my feign configuration class:\r\n\r\n```\r\n    @Bean\r\n    public Client feignClient() {\r\n        return new Client.Proxied(null, null,\r\n                new Proxy(Proxy.Type.HTTP,\r\n                        new InetSocketAddress(proxyHost, Integer.parseInt(proxyPort))),\r\n                        proxyUsername, proxyPassword);\r\n    }\r\n```\r\n\r\nBut it doesn&#39;t authenticate. It does work with OkHttpClient though, so I believe the username and password are ok. Can you say what is missing?","title":"Spring Boot Feign client proxy authentication","body":"<p>I have the following in my feign configuration class:</p>\n<pre><code>    @Bean\n    public Client feignClient() {\n        return new Client.Proxied(null, null,\n                new Proxy(Proxy.Type.HTTP,\n                        new InetSocketAddress(proxyHost, Integer.parseInt(proxyPort))),\n                        proxyUsername, proxyPassword);\n    }\n</code></pre>\n<p>But it doesn't authenticate. It does work with OkHttpClient though, so I believe the username and password are ok. Can you say what is missing?</p>\n"},{"tags":["java","functional-programming","java-stream","method-reference","functional-interface"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666372676,"post_id":74157023,"comment_id":130929654,"body_markdown":"You cannot specify generic parameters for a variable or field declaration. However, you can make the entire field/lambda into a _method_ `&lt;T,R&gt; Stream&lt;R&gt; mapAndFlatten(Stream&lt;T&gt; inStream, Function&lt;T, List&lt;R&gt;&gt; lstGetter) { ... }`, but you would need to pass the Stream itself. Keep in mind, the lambdas within your stream operations operate on _single elements_, not the stream overall. Also, functional interfaces are isomorphic to (the &quot;same&quot; as) method signatures, and in fact are specified by method signatures.","body":"You cannot specify generic parameters for a variable or field declaration. However, you can make the entire field/lambda into a <i>method</i> <code>&lt;T,R&gt; Stream&lt;R&gt; mapAndFlatten(Stream&lt;T&gt; inStream, Function&lt;T, List&lt;R&gt;&gt; lstGetter) { ... }</code>, but you would need to pass the Stream itself. Keep in mind, the lambdas within your stream operations operate on <i>single elements</i>, not the stream overall. Also, functional interfaces are isomorphic to (the &quot;same&quot; as) method signatures, and in fact are specified by method signatures."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666685723,"post_id":74157258,"comment_id":130989741,"body_markdown":"Of course, the `flatMap` approach could be written as one step too, `return t -&gt; { List&lt;R&gt; list = mapper.apply(t); return list != null) list.stream(): null; };`, not so different from the `mapMulti` variant. Alternatively, `return t -&gt; Stream.ofNullable(mapper.apply(t)) .flatMap(Collection::stream);`","body":"Of course, the <code>flatMap</code> approach could be written as one step too, <code>return t -&gt; { List&lt;R&gt; list = mapper.apply(t); return list != null) list.stream(): null; };</code>, not so different from the <code>mapMulti</code> variant. Alternatively, <code>return t -&gt; Stream.ofNullable(mapper.apply(t)) .flatMap(Collection::stream);</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666718639,"post_id":74157258,"comment_id":131001408,"body_markdown":"@Holger I really like this advice, incorporated the second approach into the answer. Should it be `return list != null ? list.stream() : Stream.empty();` in the first one?","body":"@Holger I really like this advice, incorporated the second approach into the answer. Should it be <code>return list != null ? list.stream() : Stream.empty();</code> in the first one?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666719816,"post_id":74157258,"comment_id":131001765,"body_markdown":"The [contract of `flatMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function):~:text=If%20a%20mapped%20stream%20is%20null,instead) allows to return `null` instead of `Stream.empty()`. So you can also use `return list != null? list.stream(): null;` (could raise a stylistic debate whether to always use `Stream.empty()` though) I had a typo, a `)` where it should be a `?`…","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function):~:text=If%20a%20mapped%20stream%20is%20null,instead\" rel=\"nofollow noreferrer\">contract of <code>flatMap</code></a> allows to return <code>null</code> instead of <code>Stream.empty()</code>. So you can also use <code>return list != null? list.stream(): null;</code> (could raise a stylistic debate whether to always use <code>Stream.empty()</code> though) I had a typo, a <code>)</code> where it should be a <code>?</code>…"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666722354,"post_id":74157258,"comment_id":131002504,"body_markdown":"@Holger You&#39;re right, *&quot;If a mapped stream is null an empty stream is used, instead.&quot;*, that&#39;s an interesting peculiarity, which I didn&#39;t notice before.","body":"@Holger You&#39;re right, <i>&quot;If a mapped stream is null an empty stream is used, instead.&quot;</i>, that&#39;s an interesting peculiarity, which I didn&#39;t notice before."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666718252,"creation_date":1666373382,"answer_id":74157258,"question_id":74157023,"body_markdown":"&gt; it obvious that I cant use generics with a BiFunction?\r\n\r\nYou can use generics with functions. But you can&#39;t provide a function which consumes a stream as an argument of the `map()` operation, which expects an argument of type `Function&lt;? super T,? extends R&gt;`. I.e. consumes a *stream element*, **not** a *stream*. And not that expected type is `Function`, not `BiFunction`.\r\n\r\nAnd since you&#39;re flattening the data, it would not work with `map` because `map` is meant to perform *one-to-one* transformations (meanwhile you have *one-to-many* transformation).\r\n\r\nAs the hosting operation for `mapAndFlatten` you need either `flatMap()` or `mapMulti()`.\r\n\r\n# flatMap()\r\n\r\n[`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) expects a function consuming stream element and producing a stream of the resulting type `Function&lt;T, Stream&lt;R&gt;&gt;`.\r\n\r\nThat&#39;s how you can generate such function (Credits to *@Holger* for this concise implementation):\r\n\r\n    private static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\r\n        \r\n        return t -&gt; Stream.ofNullable(mapper.apply(t))\r\n            .flatMap(Collection::stream);\r\n    }\r\n\r\nAnd the stream would look like this:\r\n```java\r\nStream.of(t1, t2, t3)\r\n    .flatMap(mapAndFlatten(Method_Ref_1))\r\n    .flatMap(mapAndFlatten(Method_Ref_2))\r\n    .forEach(Perform_Some_Operations);\r\n```\r\n\r\n*Dummy Example:* [*a link to Online Demo*](https://www.jdoodle.com/ia/xME)\r\n\r\n# mapMulty()\r\n\r\nAnother option would be to make use of Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)). This operation expects an argument of type `BiConsumer`, which in turn consumes an element of the initial type and consumer of the resulting type. Every element fed to the consumer of the resulting type becomes a replacement of the initial element.\r\n\r\n    public static &lt;T, R&gt; BiConsumer&lt;T, Consumer&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\r\n        \r\n        return (t, consumer) -&gt; {\r\n            List&lt;R&gt; list = mapper.apply(t);\r\n            if (list != null) list.forEach(consumer);\r\n        };\r\n    }\r\n\r\nAnd the stream might look as follows:\r\n\r\n```\r\nStream.of(t1, t2, t3)\r\n    .&lt;R1&gt;mapMulti(mapAndFlatten(Method_Ref_1)) // with mapMulti() type inference mechanism would potentially require a hand in the form of type-witness &lt;R&gt;\r\n    .&lt;R2&gt;mapMulti(mapAndFlatten(Method_Ref_2))\r\n    .forEach(Perform_Some_Operations);\r\n```\r\n\r\n*Dummy Example:* [*a link to Online Demo*](https://www.jdoodle.com/ia/xMD)\r\n\r\n**Note**\r\n\r\n* When you need to return a Collection, it&#39;s always a good idea to return an *empty Collection* instead of `null`. You might find this suggestion in many authoritative sources, such as &quot;Effective Java&quot; by Joshua Bloch. It makes interaction with the resulting value way simpler.","title":"Abstracting repeated Intermediate Stream-operations into a single Function","body":"<blockquote>\n<p>it obvious that I cant use generics with a BiFunction?</p>\n</blockquote>\n<p>You can use generics with functions. But you can't provide a function which consumes a stream as an argument of the <code>map()</code> operation, which expects an argument of type <code>Function&lt;? super T,? extends R&gt;</code>. I.e. consumes a <em>stream element</em>, <strong>not</strong> a <em>stream</em>. And not that expected type is <code>Function</code>, not <code>BiFunction</code>.</p>\n<p>And since you're flattening the data, it would not work with <code>map</code> because <code>map</code> is meant to perform <em>one-to-one</em> transformations (meanwhile you have <em>one-to-many</em> transformation).</p>\n<p>As the hosting operation for <code>mapAndFlatten</code> you need either <code>flatMap()</code> or <code>mapMulti()</code>.</p>\n<h1>flatMap()</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> expects a function consuming stream element and producing a stream of the resulting type <code>Function&lt;T, Stream&lt;R&gt;&gt;</code>.</p>\n<p>That's how you can generate such function (Credits to <em>@Holger</em> for this concise implementation):</p>\n<pre><code>private static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\n    \n    return t -&gt; Stream.ofNullable(mapper.apply(t))\n        .flatMap(Collection::stream);\n}\n</code></pre>\n<p>And the stream would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(t1, t2, t3)\n    .flatMap(mapAndFlatten(Method_Ref_1))\n    .flatMap(mapAndFlatten(Method_Ref_2))\n    .forEach(Perform_Some_Operations);\n</code></pre>\n<p><em>Dummy Example:</em> <a href=\"https://www.jdoodle.com/ia/xME\" rel=\"nofollow noreferrer\"><em>a link to Online Demo</em></a></p>\n<h1>mapMulty()</h1>\n<p>Another option would be to make use of Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a>. This operation expects an argument of type <code>BiConsumer</code>, which in turn consumes an element of the initial type and consumer of the resulting type. Every element fed to the consumer of the resulting type becomes a replacement of the initial element.</p>\n<pre><code>public static &lt;T, R&gt; BiConsumer&lt;T, Consumer&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\n    \n    return (t, consumer) -&gt; {\n        List&lt;R&gt; list = mapper.apply(t);\n        if (list != null) list.forEach(consumer);\n    };\n}\n</code></pre>\n<p>And the stream might look as follows:</p>\n<pre><code>Stream.of(t1, t2, t3)\n    .&lt;R1&gt;mapMulti(mapAndFlatten(Method_Ref_1)) // with mapMulti() type inference mechanism would potentially require a hand in the form of type-witness &lt;R&gt;\n    .&lt;R2&gt;mapMulti(mapAndFlatten(Method_Ref_2))\n    .forEach(Perform_Some_Operations);\n</code></pre>\n<p><em>Dummy Example:</em> <a href=\"https://www.jdoodle.com/ia/xMD\" rel=\"nofollow noreferrer\"><em>a link to Online Demo</em></a></p>\n<p><strong>Note</strong></p>\n<ul>\n<li>When you need to return a Collection, it's always a good idea to return an <em>empty Collection</em> instead of <code>null</code>. You might find this suggestion in many authoritative sources, such as &quot;Effective Java&quot; by Joshua Bloch. It makes interaction with the resulting value way simpler.</li>\n</ul>\n"}],"owner":{"account_id":14245681,"reputation":33,"user_id":12453572,"display_name":"Dan Birmingham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74157258,"answer_count":1,"score":1,"last_activity_date":1666718252,"creation_date":1666372057,"question_id":74157023,"body_markdown":"I am working with a large data structure where I want to perform a series of stream operations of the pattern:\r\n\r\n``` java\r\n&lt;some stream&gt;\r\n    .map(&lt;method reference getter that returns List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\r\n    .map(&lt;method reference getter that returns another sub-List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\r\n    .forEach(&lt;perform some operations&gt;)\r\n```\r\n\r\nI would like to compose a definition that abstracts the `map`, `filter`, and `flatMap` operations into a single function that I can apply to the stream with a `map` or pass the stream to; in my head it looks something like this:\r\n\r\n``` java\r\nprivate static final &lt;T,R&gt; BiFunction&lt;Stream&lt;T&gt;, Function&lt;T,List&lt;R&gt;&gt;, Stream&lt;R&gt;&gt; mapAndFlatten =\r\n    (inStream, lstGetter) -&gt; {\r\n        return inStream.map(lstGetter)\r\n            .filter(Objects::nonNull)\r\n            .flatmap(Collections::stream);\r\n}\r\n```\r\n\r\nHowever, I&#39;m not conceptualizing some things correctly. For one, the above syntax isn&#39;t right; is it obvious that I can&#39;t use generics with a `BiFunction`? Is there an existing framework/pattern to accomplish what I&#39;m trying to do? Composing functions that make up subsequent `map` operations seems straight forward enough, so what about the addition of `filter` and `flatMap` is making it so hard for me to develop a solution? I&#39;m struggling to find helpful information/examples. Am I conflating OO and functional concepts in a way that doesn&#39;t make sense?\r\n\r\nMaybe I&#39;m working too hard for a solution that doesn&#39;t need to exist; its not all that difficult to write `.filter(Objects::nonNull).flatmap(Collections::stream)`, but it feels verbose.","title":"Abstracting repeated Intermediate Stream-operations into a single Function","body":"<p>I am working with a large data structure where I want to perform a series of stream operations of the pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;some stream&gt;\n    .map(&lt;method reference getter that returns List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\n    .map(&lt;method reference getter that returns another sub-List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\n    .forEach(&lt;perform some operations&gt;)\n</code></pre>\n<p>I would like to compose a definition that abstracts the <code>map</code>, <code>filter</code>, and <code>flatMap</code> operations into a single function that I can apply to the stream with a <code>map</code> or pass the stream to; in my head it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final &lt;T,R&gt; BiFunction&lt;Stream&lt;T&gt;, Function&lt;T,List&lt;R&gt;&gt;, Stream&lt;R&gt;&gt; mapAndFlatten =\n    (inStream, lstGetter) -&gt; {\n        return inStream.map(lstGetter)\n            .filter(Objects::nonNull)\n            .flatmap(Collections::stream);\n}\n</code></pre>\n<p>However, I'm not conceptualizing some things correctly. For one, the above syntax isn't right; is it obvious that I can't use generics with a <code>BiFunction</code>? Is there an existing framework/pattern to accomplish what I'm trying to do? Composing functions that make up subsequent <code>map</code> operations seems straight forward enough, so what about the addition of <code>filter</code> and <code>flatMap</code> is making it so hard for me to develop a solution? I'm struggling to find helpful information/examples. Am I conflating OO and functional concepts in a way that doesn't make sense?</p>\n<p>Maybe I'm working too hard for a solution that doesn't need to exist; its not all that difficult to write <code>.filter(Objects::nonNull).flatmap(Collections::stream)</code>, but it feels verbose.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1666711506,"post_id":74196467,"comment_id":130999011,"body_markdown":"Because a `List&lt;Values&gt;` is not an `AmountDetail`. If you&#39;re looking to push this out through a REST query, you likely either need a way to convert both values into a string form, or you need to return a common superclass (which in this case, might only be `Object`).","body":"Because a <code>List&lt;Values&gt;</code> is not an <code>AmountDetail</code>. If you&#39;re looking to push this out through a REST query, you likely either need a way to convert both values into a string form, or you need to return a common superclass (which in this case, might only be <code>Object</code>)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666711530,"post_id":74196467,"comment_id":130999015,"body_markdown":"Please provide a [mcve]. You haven&#39;t shown the class declaration for `AmountDetail`, or the implementation of `ser.getDetails()`.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You haven&#39;t shown the class declaration for <code>AmountDetail</code>, or the implementation of <code>ser.getDetails()</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1666711560,"post_id":74196467,"comment_id":130999020,"body_markdown":"@Rogue: My guess is that `AmountDetail` *might* actually derive from `List&lt;Value&gt;`, but it&#39;s very hard to tell due to the incomplete pseudo-code instead of a [mcve]...","body":"@Rogue: My guess is that <code>AmountDetail</code> <i>might</i> actually derive from <code>List&lt;Value&gt;</code>, but it&#39;s very hard to tell due to the incomplete pseudo-code instead of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>..."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666712099,"post_id":74196467,"comment_id":130999240,"body_markdown":"@JonSkeet I feel like we wouldn&#39;t see a CCE in that case, unless perhaps we&#39;re seeing a subtype/supertype of `Values` if `AmountDetail extends List&lt;&quot;Values&quot;&gt;`","body":"@JonSkeet I feel like we wouldn&#39;t see a CCE in that case, unless perhaps we&#39;re seeing a subtype/supertype of <code>Values</code> if <code>AmountDetail extends List&lt;&quot;Values&quot;&gt;</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666712369,"post_id":74196467,"comment_id":130999337,"body_markdown":"Again, we can&#39;t really tell without more information. I don&#39;t think it&#39;s worth speculating further. Let&#39;s just see if the OP decides to provide the info...","body":"Again, we can&#39;t really tell without more information. I don&#39;t think it&#39;s worth speculating further. Let&#39;s just see if the OP decides to provide the info..."},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666852052,"post_id":74196467,"comment_id":131034228,"body_markdown":"No AmountDetail does not extend List&lt;Values&gt;. Declaration of all the classes are given","body":"No AmountDetail does not extend List&lt;Values&gt;. Declaration of all the classes are given"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666718004,"creation_date":1666718004,"answer_id":74197868,"question_id":74196467,"body_markdown":"&gt;      // here I am getting error while hitting the API\r\n&gt;       return (AmountDetail) getSoDetails(accId);\r\n\r\nFor this line to compile, `getSoDetails(...)` needs to return something that can be cast into `AmountDetail`.\r\n\r\n&gt;     public List&lt;Values&gt; getSoDetails(String accId) {\r\n\r\nBut `getSoDetails(...)` returns a `List&lt;Values&gt;` which cannot be cast into an `AmountDetail`.  You should probably do something like:\r\n\r\n    List&lt;Values&gt; values = getSoDetails(accId);\r\n    return new AccountDetail(accId, values);\r\n\r\nYou make the call to the `getSoDetails(...)` and then call the `AccountDetail` constructor to return the correct object.  I&#39;m not sure if `accId` is an appropriate value for `AccountDetail` field `fieId` but you get the idea.\r\n","title":"How to solve classcastexception while using List","body":"<blockquote>\n<pre><code> // here I am getting error while hitting the API\n  return (AmountDetail) getSoDetails(accId);\n</code></pre>\n</blockquote>\n<p>For this line to compile, <code>getSoDetails(...)</code> needs to return something that can be cast into <code>AmountDetail</code>.</p>\n<blockquote>\n<pre><code>public List&lt;Values&gt; getSoDetails(String accId) {\n</code></pre>\n</blockquote>\n<p>But <code>getSoDetails(...)</code> returns a <code>List&lt;Values&gt;</code> which cannot be cast into an <code>AmountDetail</code>.  You should probably do something like:</p>\n<pre><code>List&lt;Values&gt; values = getSoDetails(accId);\nreturn new AccountDetail(accId, values);\n</code></pre>\n<p>You make the call to the <code>getSoDetails(...)</code> and then call the <code>AccountDetail</code> constructor to return the correct object.  I'm not sure if <code>accId</code> is an appropriate value for <code>AccountDetail</code> field <code>fieId</code> but you get the idea.</p>\n"}],"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666718004,"creation_date":1666711384,"question_id":74196467,"body_markdown":"    public AmountDetail getAmount(String accId) {\r\n        Optional&lt;Acc&gt; acc = accRepository.findById(accId);\r\n        if (acc.isPresent())\r\n          // this is fine and it&#39;s response type is -&gt; AmountDetail\r\n          return fetchDetails(accId);\r\n        else if (!acc.isPresent())\r\n          // here I am getting error while hitting the API\r\n          return (AmountDetail) getSoDetails(accId);\r\n    }\r\n\r\n    public List&lt;Values&gt; getSoDetails(String accId) {\r\n        List&lt;Values&gt; val = ser.getDetails(accId)\r\n    }\r\n    \r\nValues.java\r\n\r\n    {\r\n        private String acc;\r\n        private String email;\r\n    }\r\n\r\n    \r\nAmountDetail.java \r\n\r\n    {\r\n        private String fieId;\r\n        private List&lt;DetailsConsumer&gt; cons;\r\n    }\r\n\r\nWhen I am hitting the API in postman if clause is working fine but if I want to check for else it is giving error. I feel casting is the issue here but I am not sure how can I return the values of else block.\r\n\r\n\r\n\r\n\r\n","title":"How to solve classcastexception while using List","body":"<pre><code>public AmountDetail getAmount(String accId) {\n    Optional&lt;Acc&gt; acc = accRepository.findById(accId);\n    if (acc.isPresent())\n      // this is fine and it's response type is -&gt; AmountDetail\n      return fetchDetails(accId);\n    else if (!acc.isPresent())\n      // here I am getting error while hitting the API\n      return (AmountDetail) getSoDetails(accId);\n}\n\npublic List&lt;Values&gt; getSoDetails(String accId) {\n    List&lt;Values&gt; val = ser.getDetails(accId)\n}\n</code></pre>\n<p>Values.java</p>\n<pre><code>{\n    private String acc;\n    private String email;\n}\n</code></pre>\n<p>AmountDetail.java</p>\n<pre><code>{\n    private String fieId;\n    private List&lt;DetailsConsumer&gt; cons;\n}\n</code></pre>\n<p>When I am hitting the API in postman if clause is working fine but if I want to check for else it is giving error. I feel casting is the issue here but I am not sure how can I return the values of else block.</p>\n"},{"tags":["java","android-volley"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666711665,"post_id":74195843,"comment_id":130999054,"body_markdown":"It looks to me like you want to throw exceptions from methods of an anonymous inner class. If that&#39;s correct, you might want to edit the title of your question. Maybe &quot;Throwing exceptions from methods of an anonymous inner class?&quot;","body":"It looks to me like you want to throw exceptions from methods of an anonymous inner class. If that&#39;s correct, you might want to edit the title of your question. Maybe &quot;Throwing exceptions from methods of an anonymous inner class?&quot;"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666711866,"post_id":74195843,"comment_id":130999129,"body_markdown":"It also looks like you&#39;re trying initialize the JsonArrayRequest by typing all of the arguments directly into the parameter list, even when the parameters are quite complicated and involve code.  This is poor style imo.  Declare some private methods that return the proper values and put the code in those methods.  It&#39;ll be much cleaner to read.  I don&#39;t know if what you have now is considered good style in JavaScript, but I definitely wouldn&#39;t use it with Java.","body":"It also looks like you&#39;re trying initialize the JsonArrayRequest by typing all of the arguments directly into the parameter list, even when the parameters are quite complicated and involve code.  This is poor style imo.  Declare some private methods that return the proper values and put the code in those methods.  It&#39;ll be much cleaner to read.  I don&#39;t know if what you have now is considered good style in JavaScript, but I definitely wouldn&#39;t use it with Java."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666712001,"post_id":74195843,"comment_id":130999196,"body_markdown":"Also I don&#39;t understand this: `catch (JSONException error) { throw new JSONException(error);` why are you catching an exception only to throw the exact same exception?  This makes no sense.  I think you need to explain in more detail what you are asking help with.  We can&#39;t help you if we don&#39;t understand the issue.","body":"Also I don&#39;t understand this: <code>catch (JSONException error) { throw new JSONException(error);</code> why are you catching an exception only to throw the exact same exception?  This makes no sense.  I think you need to explain in more detail what you are asking help with.  We can&#39;t help you if we don&#39;t understand the issue."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666712837,"post_id":74195843,"comment_id":130999512,"body_markdown":"There appear to be some examples of catching errors with Volley/Gson on the Volley web page.  These examples are much clearer imo that what you are showing or trying to do.  Please take a look: https://google.github.io/volley/request-custom.html","body":"There appear to be some examples of catching errors with Volley/Gson on the Volley web page.  These examples are much clearer imo that what you are showing or trying to do.  Please take a look: <a href=\"https://google.github.io/volley/request-custom.html\" rel=\"nofollow noreferrer\">google.github.io/volley/request-custom.html</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666750284,"post_id":74195843,"comment_id":131008382,"body_markdown":"Have you tried creating complete code that attempts this?  How did the compiler respond?","body":"Have you tried creating complete code that attempts this?  How did the compiler respond?"}],"owner":{"account_id":19080080,"reputation":67,"user_id":13932483,"display_name":"Isaac Qadri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666717786,"creation_date":1666708688,"question_id":74195843,"body_markdown":"I want to catch Volley Errors That occur in onResponse and onErrorResponse to throw them inside fetchAdmins Method.\r\n\r\n```\r\npublic void fetchAdmins () throws JSONException, VolleyError {\r\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\r\n            ...\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n                    try {\r\n                        ...\r\n                        }\r\n\r\n                    } catch (JSONException error) {\r\n// i want to throw this error in fetchAdmins.\r\n                        throw new JSONException(error);\r\n                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n// + i want to throw this error in fetchAdmins.\r\n            throw new VolleyError(error);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nPlease suggest me a way for achieving this in java if that&#39;s possible.\r\n","title":"Java - Throwing exceptions from methods of an anonymous inner class that&#39;s declared inside a method","body":"<p>I want to catch Volley Errors That occur in onResponse and onErrorResponse to throw them inside fetchAdmins Method.</p>\n<pre><code>public void fetchAdmins () throws JSONException, VolleyError {\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\n            ...\n                @Override\n                public void onResponse(JSONArray response) {\n                    try {\n                        ...\n                        }\n\n                    } catch (JSONException error) {\n// i want to throw this error in fetchAdmins.\n                        throw new JSONException(error);\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n// + i want to throw this error in fetchAdmins.\n            throw new VolleyError(error);\n        }\n    });\n}\n</code></pre>\n<p>Please suggest me a way for achieving this in java if that's possible.</p>\n"},{"tags":["java","xpath","xpath-2.0"],"answers":[{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303901901,"creation_date":1303901901,"answer_id":5802937,"question_id":5802895,"body_markdown":"I don&#39;t know if Java 6 does, but I&#39;m pretty sure Saxon (http://saxon.sourceforge.net/) does.","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>I don't know if Java 6 does, but I'm pretty sure Saxon (http://saxon.sourceforge.net/) does.</p>\n"},{"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":2,"creation_date":1303904071,"post_id":5803028,"comment_id":6655752,"body_markdown":"as always, RTFM saves the day. My bad, didn&#39;t look close enough. Thank you, McDowell","body":"as always, RTFM saves the day. My bad, didn&#39;t look close enough. Thank you, McDowell"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1303907068,"post_id":5803028,"comment_id":6656600,"body_markdown":"&quot;Support&quot; is a terrible word, it should be banned from the lexicon. The XPath processor bundled with Java 6 is an XPath 1.0 processor. There are a number of XPath 2.0 processors available that work with Java 6 but are not part of Java 6, including Saxon and PsychoPath. Hope that answers your question.","body":"&quot;Support&quot; is a terrible word, it should be banned from the lexicon. The XPath processor bundled with Java 6 is an XPath 1.0 processor. There are a number of XPath 2.0 processors available that work with Java 6 but are not part of Java 6, including Saxon and PsychoPath. Hope that answers your question."},{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":0,"creation_date":1303908647,"post_id":5803028,"comment_id":6657141,"body_markdown":"@Michael Kay - I used &quot;support&quot; because I am not really aware of the inner workings of XPath and JDK and thus could not have used &quot;bundled processor&quot; or such :) Unfortunately I am restricted to pure JDK unless I can provide a \n**major** reason to use an external lib...which I can&#39;t because the &quot;shortcomings&quot; of XPath 1.0 can be resolved programmatically. Thank you","body":"@Michael Kay - I used &quot;support&quot; because I am not really aware of the inner workings of XPath and JDK and thus could not have used &quot;bundled processor&quot; or such :) Unfortunately I am restricted to pure JDK unless I can provide a  <b>major</b> reason to use an external lib...which I can&#39;t because the &quot;shortcomings&quot; of XPath 1.0 can be resolved programmatically. Thank you"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1666717573,"creation_date":1303902313,"answer_id":5803028,"question_id":5802895,"body_markdown":"According to [the javadoc][1], Java 6 supports [XML Path Language (XPath) Version 1.0][2]\r\n\r\nThis is still [true as of Java 17][3].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/package-summary.html\r\n  [2]: http://www.w3.org/TR/xpath\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>According to <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\">the javadoc</a>, Java 6 supports <a href=\"http://www.w3.org/TR/xpath\" rel=\"nofollow noreferrer\">XML Path Language (XPath) Version 1.0</a></p>\n<p>This is still <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html\" rel=\"nofollow noreferrer\">true as of Java 17</a>.</p>\n"},{"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":0,"creation_date":1304345583,"post_id":5857753,"comment_id":6732149,"body_markdown":"You&#39;re right - it was a typical case of confusing the language with the libs provided with the JDK on my part :) I will change the title accordingly. Unfortunately I am restricted to the JDK, as the policy in our current project is to avoid using 3rd party libs. It is surely very arguable, but it&#39;s not my call.","body":"You&#39;re right - it was a typical case of confusing the language with the libs provided with the JDK on my part :) I will change the title accordingly. Unfortunately I am restricted to the JDK, as the policy in our current project is to avoid using 3rd party libs. It is surely very arguable, but it&#39;s not my call."},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1304809804,"post_id":5857753,"comment_id":6824144,"body_markdown":"@kostja: I am glad my answer was useful. Please, feel free to upvote/accept it. :)","body":"@kostja: I am glad my answer was useful. Please, feel free to upvote/accept it. :)"}],"tags":[],"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304344106,"creation_date":1304342968,"answer_id":5857753,"question_id":5802895,"body_markdown":"Java is a programming language and it doesn&#39;t have direct language constructs, especially designed for evaluating XPath expressions.\r\n\r\nIt is totally different that some classes can come bundled with the Java distribution, that implement an XPath engine.\r\n\r\nAFAIK, these XPath-engine implementing classes at present only implement XPath 1.0.\r\n\r\nOf course, there are a number of 3rd party Java-based products, such as Saxon, which I am using every day in my free time. Another one I have seen mentioned is PsychoPath.\r\n\r\n","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>Java is a programming language and it doesn't have direct language constructs, especially designed for evaluating XPath expressions.</p>\n\n<p>It is totally different that some classes can come bundled with the Java distribution, that implement an XPath engine.</p>\n\n<p>AFAIK, these XPath-engine implementing classes at present only implement XPath 1.0.</p>\n\n<p>Of course, there are a number of 3rd party Java-based products, such as Saxon, which I am using every day in my free time. Another one I have seen mentioned is PsychoPath.</p>\n"}],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1978,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5803028,"answer_count":3,"score":6,"last_activity_date":1666717573,"creation_date":1303901636,"question_id":5802895,"body_markdown":"like `for`, `sum`, `if`, `intersect`...and if not, or not entirely, where can I find the details? And if it does, where can I find an official confirmation?","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>like <code>for</code>, <code>sum</code>, <code>if</code>, <code>intersect</code>...and if not, or not entirely, where can I find the details? And if it does, where can I find an official confirmation?</p>\n"},{"tags":["java","algorithm","recursion","permutation"],"comments":[{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1666728842,"post_id":74197773,"comment_id":131004355,"body_markdown":"Generating *all* possibilities in order to return a small sample is a really bad idea. Even with small values of the parameters, the full list of possibilities can be enormous. For example, if you want strings of length 6 from the alphabet consisting of upper and lower case letters and digits, you will produce 56,800,235,584 strings. If all you needed was eight of them, you will have unnecessarily produced 56,800,235,576 strings, which is going to take a noticeable amount of time (and quite possibly blow up your memory while it tries to store them).","body":"Generating <i>all</i> possibilities in order to return a small sample is a really bad idea. Even with small values of the parameters, the full list of possibilities can be enormous. For example, if you want strings of length 6 from the alphabet consisting of upper and lower case letters and digits, you will produce 56,800,235,584 strings. If all you needed was eight of them, you will have unnecessarily produced 56,800,235,576 strings, which is going to take a noticeable amount of time (and quite possibly blow up your memory while it tries to store them)."},{"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"score":0,"creation_date":1666729850,"post_id":74197773,"comment_id":131004631,"body_markdown":"Actually i dont want to make all possible strings from alphabet, im passing String and later converting it to char array and I&#39;m creating permutations of string from given chars so in example i passed &quot;abcd&quot;","body":"Actually i dont want to make all possible strings from alphabet, im passing String and later converting it to char array and I&#39;m creating permutations of string from given chars so in example i passed &quot;abcd&quot;"}],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666717405,"creation_date":1666717405,"question_id":74197773,"body_markdown":"i know there was some questions similar to this one but i couldn&#39;t find answer exactly on this problem or come up with solution so here i am.\r\n\r\nI have a task that says: \r\n\r\n&gt; Users should be able to define how long the string will be (min and max length), specify possible chars of string (from what characters string should be made) and how much strings he wants.\r\n\r\nSo i almost finished it but there is one main problem with Min and Max length of String. From what i understand when user put for example `minLength = 2, maxLength = 5` it should print all combination with 2 characters, 3, 4 and 5. \r\n\r\nI would like to know what statement should i put in my code to work as it should. For now my code looks like this \r\n```\r\n  private void iterate(char[] chars, int maxLength, int minLength, int howMany, char[] build, int pos) {\r\n        while (check &lt; howMany) {\r\n\r\n            if (pos == maxLength || ????) { // what to do here\r\n                Word word = new Word(null, new String(build));\r\n                SetOfWords.add(word);\r\n                save(word);\r\n                check++;\r\n                return;\r\n            }\r\n\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                build[pos] = chars[i];\r\n                iterate(chars, maxLength, minLength, howMany, build, pos + 1);\r\n            }\r\n        }\r\n    }\r\n```\r\nAnd when i pass let&#39;s say 4 as a maxLength it generates all combination but with only 4 characters like this.\r\n```\r\n {\r\n        &quot;id&quot;: 1,\r\n        &quot;word&quot;: &quot;aaaa&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 4,\r\n        &quot;word&quot;: &quot;aaad&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;word&quot;: &quot;aaab&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;word&quot;: &quot;aaac&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 5,\r\n        &quot;word&quot;: &quot;aaba&quot;\r\n    }\r\n]\r\n```\r\n I want it to generate all possibilities from 1 character to 5 and then eventually set lower limit.","title":"Every combination from given characters from given minimum length to maximum","body":"<p>i know there was some questions similar to this one but i couldn't find answer exactly on this problem or come up with solution so here i am.</p>\n<p>I have a task that says:</p>\n<blockquote>\n<p>Users should be able to define how long the string will be (min and max length), specify possible chars of string (from what characters string should be made) and how much strings he wants.</p>\n</blockquote>\n<p>So i almost finished it but there is one main problem with Min and Max length of String. From what i understand when user put for example <code>minLength = 2, maxLength = 5</code> it should print all combination with 2 characters, 3, 4 and 5.</p>\n<p>I would like to know what statement should i put in my code to work as it should. For now my code looks like this</p>\n<pre><code>  private void iterate(char[] chars, int maxLength, int minLength, int howMany, char[] build, int pos) {\n        while (check &lt; howMany) {\n\n            if (pos == maxLength || ????) { // what to do here\n                Word word = new Word(null, new String(build));\n                SetOfWords.add(word);\n                save(word);\n                check++;\n                return;\n            }\n\n            for (int i = 0; i &lt; chars.length; i++) {\n                build[pos] = chars[i];\n                iterate(chars, maxLength, minLength, howMany, build, pos + 1);\n            }\n        }\n    }\n</code></pre>\n<p>And when i pass let's say 4 as a maxLength it generates all combination but with only 4 characters like this.</p>\n<pre><code> {\n        &quot;id&quot;: 1,\n        &quot;word&quot;: &quot;aaaa&quot;\n    },\n    {\n        &quot;id&quot;: 4,\n        &quot;word&quot;: &quot;aaad&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;word&quot;: &quot;aaab&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;word&quot;: &quot;aaac&quot;\n    },\n    {\n        &quot;id&quot;: 5,\n        &quot;word&quot;: &quot;aaba&quot;\n    }\n]\n</code></pre>\n<p>I want it to generate all possibilities from 1 character to 5 and then eventually set lower limit.</p>\n"},{"tags":["java","spring","spring-boot","java-stream","lightweight-stream-api"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666701879,"creation_date":1666701879,"answer_id":74194312,"question_id":74194148,"body_markdown":"The solution would be:\r\n```java\r\nbookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType, Collectors.counting()));\r\n```\r\nFor reference: [Collectors.counting()][1]\r\n\r\n\r\n  [1]: https://stackabuse.com/guide-to-java-8-collectors-counting/","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>The solution would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType, Collectors.counting()));\n</code></pre>\n<p>For reference: <a href=\"https://stackabuse.com/guide-to-java-8-collectors-counting/\" rel=\"nofollow noreferrer\">Collectors.counting()</a></p>\n"},{"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1666702099,"post_id":74194326,"comment_id":130995394,"body_markdown":"This is wrong, you are grouping by id, instead of OfficeType.","body":"This is wrong, you are grouping by id, instead of OfficeType."},{"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"score":0,"creation_date":1666702175,"post_id":74194326,"comment_id":130995413,"body_markdown":"Sorry, that is a demo. I have edited just now.","body":"Sorry, that is a demo. I have edited just now."}],"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666702129,"creation_date":1666701986,"answer_id":74194326,"question_id":74194148,"body_markdown":"Use lambda expression like below:\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType,Collectors.counting()));\r\n```","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>Use lambda expression like below:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType,Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666716998,"creation_date":1666702604,"answer_id":74194460,"question_id":74194148,"body_markdown":"To generate a `Map` of type `Map&lt;OfficeType,Integer&gt;` you can either use *three-args* version of Collector `toMap()`, or a combination of Collectors `collectiongAndThen()` and `groupingBy()` + collector `counting()` as a downstream of grouping.\r\n\r\n# toMap()\r\n\r\nIf you&#39;re not expecting a large amount of elements having the same `id`, you can use the following single-collector solution based on *three-args* [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n        \r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\r\n    .collect(Collectors.toMap(\r\n        OfficeType::getId,\r\n        i -&gt; 1,\r\n        Integer::sum\r\n    ));\r\n```\r\n\r\n**Note regarding performance:**\r\n\r\nThere can be a small overhead caused generating new instances of `Integer` (because code above operates with wrapper type and primitive `int`). But all instances of `Integer` having a value of less than `128` are cached by the JVM (i.e. they would be created only once, and then the same reference would be used). So if there&#39;s roughly a hundred of elements having identical `id` there would be **no** tangible difference between this single collector-solution and the one listed below.\r\n\r\n# collectiongAndThen() &amp; groupingBy()\r\n\r\nThis approach [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)) in conjunction with [`counting()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()) as a downstream might be more performant when number if the data is massive. In this case, accumulation through collector `counting()`, which calculates resulting value using primitive `long`, can more advantages.\r\n\r\nTo transform the `Long` into `Integer` we can wrap `groupingBy()` with [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)).\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n        \r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\r\n    .collect(Collectors.collectingAndThen(\r\n        Collectors.groupingBy(OfficeType::getId, Collectors.counting()),\r\n        Long::intValue)\r\n    ));\r\n```","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>To generate a <code>Map</code> of type <code>Map&lt;OfficeType,Integer&gt;</code> you can either use <em>three-args</em> version of Collector <code>toMap()</code>, or a combination of Collectors <code>collectiongAndThen()</code> and <code>groupingBy()</code> + collector <code>counting()</code> as a downstream of grouping.</p>\n<h1>toMap()</h1>\n<p>If you're not expecting a large amount of elements having the same <code>id</code>, you can use the following single-collector solution based on <em>three-args</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        \nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\n    .collect(Collectors.toMap(\n        OfficeType::getId,\n        i -&gt; 1,\n        Integer::sum\n    ));\n</code></pre>\n<p><strong>Note regarding performance:</strong></p>\n<p>There can be a small overhead caused generating new instances of <code>Integer</code> (because code above operates with wrapper type and primitive <code>int</code>). But all instances of <code>Integer</code> having a value of less than <code>128</code> are cached by the JVM (i.e. they would be created only once, and then the same reference would be used). So if there's roughly a hundred of elements having identical <code>id</code> there would be <strong>no</strong> tangible difference between this single collector-solution and the one listed below.</p>\n<h1>collectiongAndThen() &amp; groupingBy()</h1>\n<p>This approach <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()\" rel=\"nofollow noreferrer\"><code>counting()</code></a> as a downstream might be more performant when number if the data is massive. In this case, accumulation through collector <code>counting()</code>, which calculates resulting value using primitive <code>long</code>, can more advantages.</p>\n<p>To transform the <code>Long</code> into <code>Integer</code> we can wrap <code>groupingBy()</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a>.</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        \nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\n    .collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(OfficeType::getId, Collectors.counting()),\n        Long::intValue)\n    ));\n</code></pre>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74194326,"answer_count":3,"score":0,"last_activity_date":1666716998,"creation_date":1666701207,"question_id":74194148,"body_markdown":"I have a list of Booking and this Booking has field OfficeType as enum as follow\r\n\r\n    @Data\r\n    @Entity\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class Booking {\r\n    @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n        private String id;\r\n    \r\n       \r\n    \r\n        @Column(name = &quot;office_type&quot;)\r\n        private OfficeType officeType;\r\n\r\nI get the list of Booking from db, and I need to return to client that list and grouped by *Office type* and *count* as:\r\n\r\n    List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n            Map&lt;OfficeType, Integer&gt; officeTypeMap = new HashMap&lt;&gt;();\r\n\r\nHow can I stream that list into that map grouping by OfficeType and counts ?","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>I have a list of Booking and this Booking has field OfficeType as enum as follow</p>\n<pre><code>@Data\n@Entity\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class Booking {\n@Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n    private String id;\n\n   \n\n    @Column(name = &quot;office_type&quot;)\n    private OfficeType officeType;\n</code></pre>\n<p>I get the list of Booking from db, and I need to return to client that list and grouped by <em>Office type</em> and <em>count</em> as:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        Map&lt;OfficeType, Integer&gt; officeTypeMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>How can I stream that list into that map grouping by OfficeType and counts ?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543784844,"post_id":53583955,"comment_id":94032706,"body_markdown":"Looks like it might be a bug and a workaround might be to add a meaningless `userInfoUri` to your .yml file. https://github.com/spring-projects/spring-boot/issues/8565","body":"Looks like it might be a bug and a workaround might be to add a meaningless <code>userInfoUri</code> to your .yml file. <a href=\"https://github.com/spring-projects/spring-boot/issues/8565\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/8565</a>"},{"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"score":0,"creation_date":1543789564,"post_id":53583955,"comment_id":94033871,"body_markdown":"@EdwinDiaz-Mendez Thanks, I tried that too, didn&#39;t work.","body":"@EdwinDiaz-Mendez Thanks, I tried that too, didn&#39;t work."},{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543789876,"post_id":53583955,"comment_id":94033956,"body_markdown":"Okay. Question to you would be how come you are using a . properties file to configure a .yml file? Is it to avoid source control? Also are you sure there are no conflicts there?","body":"Okay. Question to you would be how come you are using a . properties file to configure a .yml file? Is it to avoid source control? Also are you sure there are no conflicts there?"},{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543790218,"post_id":53583955,"comment_id":94034035,"body_markdown":"Also please change `keyUri` to `key-uri` and let me know if it helps.","body":"Also please change <code>keyUri</code> to <code>key-uri</code> and let me know if it helps."},{"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"score":0,"creation_date":1543853630,"post_id":53583955,"comment_id":94057804,"body_markdown":"@EdwinDiaz-Mendez thanks, I already tried that too, didn&#39;t work. I think the `key-uri` format is to be followed only if you have a .properties file. I am using a .yml file instead, which needs a `keyUri` format.","body":"@EdwinDiaz-Mendez thanks, I already tried that too, didn&#39;t work. I think the <code>key-uri</code> format is to be followed only if you have a .properties file. I am using a .yml file instead, which needs a <code>keyUri</code> format."}],"answers":[{"tags":[],"owner":{"account_id":2770655,"reputation":419,"user_id":2385319,"accept_rate":0,"display_name":"IndikaM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556496763,"creation_date":1556496763,"answer_id":55895638,"question_id":53583955,"body_markdown":"    security:\r\n      oauth2:\r\n        client:\r\n          clientId: xxxx\r\n          clientSecret: xxxx\r\n          accessTokenUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n          userAuthorizationUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n          scope: openid profile email\r\n        resource:\r\n          userInfoUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n        sso:\r\n          loginpath: /authorization-code/callback\r\n\r\nin an application.yaml file did the trick for me.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<pre><code>security:\n  oauth2:\n    client:\n      clientId: xxxx\n      clientSecret: xxxx\n      accessTokenUri: https://www/yyy.com/.well-known/oauth-authorization-server\n      userAuthorizationUri: https://www/yyy.com/.well-known/oauth-authorization-server\n      scope: openid profile email\n    resource:\n      userInfoUri: https://www/yyy.com/.well-known/oauth-authorization-server\n    sso:\n      loginpath: /authorization-code/callback\n</code></pre>\n\n<p>in an application.yaml file did the trick for me.</p>\n"},{"comments":[{"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"score":0,"creation_date":1581683291,"post_id":60187899,"comment_id":106527997,"body_markdown":"It looks like typo in `userInoUri`. Shouldn&#39;t it be `userInfoUri`?","body":"It looks like typo in <code>userInoUri</code>. Shouldn&#39;t it be <code>userInfoUri</code>?"},{"owner":{"account_id":7355217,"reputation":512,"user_id":5600195,"display_name":"Utkarsh"},"score":0,"creation_date":1581748050,"post_id":60187899,"comment_id":106547565,"body_markdown":"@amra That&#39;s a typo indeed, edited the answer. Thanks!","body":"@amra That&#39;s a typo indeed, edited the answer. Thanks!"}],"tags":[],"owner":{"account_id":7355217,"reputation":512,"user_id":5600195,"display_name":"Utkarsh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581748058,"creation_date":1581508944,"answer_id":60187899,"question_id":53583955,"body_markdown":"    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            clientId: xxxxxxxxxxxxxxxxxxxx\r\n            clientSecret: xxxxxxxxxxxxxxxxxxxxxxxx\r\n            accessTokenUri: https:graph.facebook.com/oauth/access_token\r\n            userAuthorizationUri: https://www.facebook.com/dialog/oauth\r\n            tokenName:  oauth_token\r\n            authenticationScheme: query\r\n            clientAuthenticationScheme: form\r\n            scope: profile email\r\n          resource:\r\n            userInfoUri: https://graph.facebook.com/me\r\n\r\nI used this in my application.yml and it finally works. You just need to sublevel it with **spring:** (this worked for me).\r\n\r\nMoreover, I think you should use spring-boot-starter-oauth2-client instead.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        clientId: xxxxxxxxxxxxxxxxxxxx\n        clientSecret: xxxxxxxxxxxxxxxxxxxxxxxx\n        accessTokenUri: https:graph.facebook.com/oauth/access_token\n        userAuthorizationUri: https://www.facebook.com/dialog/oauth\n        tokenName:  oauth_token\n        authenticationScheme: query\n        clientAuthenticationScheme: form\n        scope: profile email\n      resource:\n        userInfoUri: https://graph.facebook.com/me\n</code></pre>\n\n<p>I used this in my application.yml and it finally works. You just need to sublevel it with <strong>spring:</strong> (this worked for me).</p>\n\n<p>Moreover, I think you should use spring-boot-starter-oauth2-client instead.</p>\n"}],"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666716653,"creation_date":1543779931,"question_id":53583955,"body_markdown":"I am migrating an application from Spring Boot 1.5 to Spring Boot 2. This entails updating the oAuth2 library that the project uses, since as of Spring Boot 2, the `spring-security-oauth2` library has been replaced with `spring-security-oauth2-autoconfigure` (as per my understanding).\r\n\r\nEither ways, during startup my project complains about the JWT verifier key (required by oAuth2) as missing, even though I clearly have the URI to the key defined in my `application.yml` file, along with other oAuth2 config, as follows:\r\n\r\n    security:\r\n      oauth2:\r\n        client:\r\n          userAuthorizationUri: ${uaa.url}/oauth/authorize\r\n          accessTokenUri: ${uaa.url}/oauth/token\r\n          clientId: ${security.oauth2.client.client-id}\r\n          clientSecret: ${security.oauth2.client.client-secret}\r\n        resource:\r\n          jwt:\r\n            keyUri: ${uaa.url}/oauth/token_key\r\n\r\nThe error that I get during startup is:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Binding to target org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties@468bb799 failed:\r\n    \r\n        Property: resourceServerProperties.tokenInfoUri\r\n        Value: null\r\n        Reason: Missing tokenInfoUri and userInfoUri and there is no JWT verifier key\r\n\r\nThis configuration worked perfectly until I was using Spring Boot 1.5.x, but after upgrading to Spring Boot 2 (and moving to the `spring-security-oauth2-autoconfigure` library), I have started getting this problem.\r\n\r\nI can access the key in my browser by visiting the URL defined as `keyUri: ${uaa.url}/oauth/token_key` in the config above, so it&#39;s clearly a valid URL. What could be the problem here?\r\n\r\nEdit: One of the solutions I found online at several places was adding a dummy userInfoUri value, like this:\r\n\r\n    security:\r\n      oauth2:\r\n        resource:\r\n          userInfoUri: BUGFIX\r\n\r\nI tried this, still getting the same error.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<p>I am migrating an application from Spring Boot 1.5 to Spring Boot 2. This entails updating the oAuth2 library that the project uses, since as of Spring Boot 2, the <code>spring-security-oauth2</code> library has been replaced with <code>spring-security-oauth2-autoconfigure</code> (as per my understanding).</p>\n\n<p>Either ways, during startup my project complains about the JWT verifier key (required by oAuth2) as missing, even though I clearly have the URI to the key defined in my <code>application.yml</code> file, along with other oAuth2 config, as follows:</p>\n\n<pre><code>security:\n  oauth2:\n    client:\n      userAuthorizationUri: ${uaa.url}/oauth/authorize\n      accessTokenUri: ${uaa.url}/oauth/token\n      clientId: ${security.oauth2.client.client-id}\n      clientSecret: ${security.oauth2.client.client-secret}\n    resource:\n      jwt:\n        keyUri: ${uaa.url}/oauth/token_key\n</code></pre>\n\n<p>The error that I get during startup is:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nBinding to target org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties@468bb799 failed:\n\n    Property: resourceServerProperties.tokenInfoUri\n    Value: null\n    Reason: Missing tokenInfoUri and userInfoUri and there is no JWT verifier key\n</code></pre>\n\n<p>This configuration worked perfectly until I was using Spring Boot 1.5.x, but after upgrading to Spring Boot 2 (and moving to the <code>spring-security-oauth2-autoconfigure</code> library), I have started getting this problem.</p>\n\n<p>I can access the key in my browser by visiting the URL defined as <code>keyUri: ${uaa.url}/oauth/token_key</code> in the config above, so it's clearly a valid URL. What could be the problem here?</p>\n\n<p>Edit: One of the solutions I found online at several places was adding a dummy userInfoUri value, like this:</p>\n\n<pre><code>security:\n  oauth2:\n    resource:\n      userInfoUri: BUGFIX\n</code></pre>\n\n<p>I tried this, still getting the same error.</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666715894,"creation_date":1666715894,"answer_id":74197475,"question_id":74196026,"body_markdown":"The units are the PDF default user space units which default to &lt;sup&gt;1&lt;/sup&gt;/&lt;sub&gt;72&lt;/sub&gt; inch.\r\n\r\nOn a per-page basis this unit can be changed by setting the **UserUnit** page property:\r\n\r\n|Key|Type|Value|\r\n|-|-|-|\r\n|**UserUnit**|number|(*Optional; PDF 1.6*) A positive number that shall give the size of default user space units, in multiples of 1 ⁄ 72 inch. The range of supported values shall be implementation-dependent.&lt;br/&gt;Default value: _1.0_ (user space unit is 1 ⁄ 72 inch).|\r\n\r\n*(ISO 32000-2, Table 31 — Entries in a page object)*\r\n\r\nBeware and take _The range of supported values shall be implementation-dependent_ seriously - some viewers only support positive integer values, some only values &gt;=1, some ignore it altogether.","title":"What units does itext use for page size and margin?","body":"<p>The units are the PDF default user space units which default to <sup>1</sup>/<sub>72</sub> inch.</p>\n<p>On a per-page basis this unit can be changed by setting the <strong>UserUnit</strong> page property:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Key</th>\n<th>Type</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>UserUnit</strong></td>\n<td>number</td>\n<td>(<em>Optional; PDF 1.6</em>) A positive number that shall give the size of default user space units, in multiples of 1 ⁄ 72 inch. The range of supported values shall be implementation-dependent.<br/>Default value: <em>1.0</em> (user space unit is 1 ⁄ 72 inch).</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><em>(ISO 32000-2, Table 31 — Entries in a page object)</em></p>\n<p>Beware and take <em>The range of supported values shall be implementation-dependent</em> seriously - some viewers only support positive integer values, some only values &gt;=1, some ignore it altogether.</p>\n"}],"owner":{"account_id":21074091,"reputation":45,"user_id":15489717,"display_name":"mfullstackdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666715894,"creation_date":1666709551,"question_id":74196026,"body_markdown":"What units does itext use for page size and margin? What is llx, lly, urx, ury?  \r\n    Document document = new Document(\r\n                new RectangleReadOnly(dimension.getRectangle()),\r\n                marginLeft, 0, marginTop, 0\r\n        );\r\n\r\n    public RectangleReadOnly(Rectangle rect) {\r\n        super(rect.llx, rect.lly, rect.urx, rect.ury);\r\n        super.cloneNonPositionParameters(rect);\r\n    }\r\n\r\n    public Document(Rectangle pageSize, float marginLeft, float marginRight, float marginTop, float marginBottom) {\r\n","title":"What units does itext use for page size and margin?","body":"<p>What units does itext use for page size and margin? What is llx, lly, urx, ury?<br />\nDocument document = new Document(\nnew RectangleReadOnly(dimension.getRectangle()),\nmarginLeft, 0, marginTop, 0\n);</p>\n<pre><code>public RectangleReadOnly(Rectangle rect) {\n    super(rect.llx, rect.lly, rect.urx, rect.ury);\n    super.cloneNonPositionParameters(rect);\n}\n\npublic Document(Rectangle pageSize, float marginLeft, float marginRight, float marginTop, float marginBottom) {\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1510522860,"post_id":47253118,"comment_id":81458974,"body_markdown":"Actually I&#39;m facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I&#39;m getting\n\n&quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;. \n\nthis is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof!","body":"Actually I&#39;m facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I&#39;m getting  &quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.   this is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof!"},{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1510523317,"post_id":47253118,"comment_id":81459167,"body_markdown":"Using blocking queue and ... \nint threadCOunt=1;\n                    BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);\n                    RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();\n                    ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);","body":"Using blocking queue and ...  int threadCOunt=1;                     BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);                     RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();                     ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);"},{"owner":{"account_id":78975,"reputation":13896,"user_id":224334,"accept_rate":89,"display_name":"RyanWilcox"},"score":0,"creation_date":1510523565,"post_id":47253118,"comment_id":81459246,"body_markdown":"My bet is that you can extract your post out of your Kafka program and it will give the same error. I would try to debug the issue by seperating the two things: &quot;it throws an error connecting to the server!?&#39; and &#39;how do I make Kafka do what I (think I) want?&#39;","body":"My bet is that you can extract your post out of your Kafka program and it will give the same error. I would try to debug the issue by seperating the two things: &quot;it throws an error connecting to the server!?&#39; and &#39;how do I make Kafka do what I (think I) want?&#39;"},{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1510523901,"post_id":47253118,"comment_id":81459356,"body_markdown":"I made the edits to the question. Multithreading in kafka was done to increase performance but then i started getting the PKIX exception","body":"I made the edits to the question. Multithreading in kafka was done to increase performance but then i started getting the PKIX exception"}],"tags":[],"owner":{"account_id":78975,"reputation":13896,"user_id":224334,"accept_rate":89,"display_name":"RyanWilcox"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510515582,"creation_date":1510515582,"answer_id":47253118,"question_id":47250781,"body_markdown":"I see what you want to do, and I&#39;m not sure that&#39;s the best idea (I&#39;m also not sure it&#39;s _not_).\r\n\r\nThe `poll` / `commit` model of Kafka allows simple backpressure and retention of the last item processed if you crashed. By returning to your poll loop &quot;immediately&quot; you are telling Kafka &quot;I am ready for more&quot;, and committing the offset (manually or automatically) tells Kafka that you have successfully read up to that point.\r\n\r\nWhat you seem to want to do is read off Kafka as fast as possible, committing offsets, then putting the Kafka records into an executor queue then you balance your requests per second etc from that.\r\n\r\nI&#39;m not 100% sure that&#39;s a good idea: what happens if your app crashes? You may have committed some Kafka messages that actually didn&#39;t make it upstream. If you do really want to do this, I would suggest manually committing the offset (via `commitSync`) upon completion of the `Runnable`, instead of letting the high level consumer do it for you.\r\n\r\nWhy might you want to use a thread executor: I think these can be accomplished with Kafka too.\r\n\r\nYou may want to post multiple messages to the web server at the same time. A well paritioned Kafka topic will let multiple consumers / consumer groups consumer multiple partitions, thus - assuming a perfectly scaling HTTP server - would let you parallelize the posting of messages to your server. Yay for process based concurrency!\r\n\r\nMaybe the web server is not perfectly scalable, or slow for this request (say each request takes 1 second): you need to limit the number of requests per second the web server takes, if you have a queue you might have a couple threads posting while not backing up Kafka.\r\n\r\nIn this case you can set [max.poll.records][1] to a scalable value that your web server requires. There&#39;s probably a better way to do this too, although it&#39;s escaping me at the moment.\r\n\r\nIf your web server takes a long time to respond you may get errors related to failing heartbeats. In that case I direct you to [this SO answer on the timeout / heartbeat topic][2].\r\n\r\nInstead of using a thread executioner, thus making synchronous HTTP requests appear to be async, I would use an evented HTTP client like [Netty][3], thus achieving parallelism without thread based concurrency.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-41%3A+KafkaConsumer+Max+Records\r\n  [2]: https://stackoverflow.com/a/43992308/224334\r\n  [3]: https://netty.io/","title":"parallel stream with kafka consumer records","body":"<p>I see what you want to do, and I'm not sure that's the best idea (I'm also not sure it's <em>not</em>).</p>\n\n<p>The <code>poll</code> / <code>commit</code> model of Kafka allows simple backpressure and retention of the last item processed if you crashed. By returning to your poll loop \"immediately\" you are telling Kafka \"I am ready for more\", and committing the offset (manually or automatically) tells Kafka that you have successfully read up to that point.</p>\n\n<p>What you seem to want to do is read off Kafka as fast as possible, committing offsets, then putting the Kafka records into an executor queue then you balance your requests per second etc from that.</p>\n\n<p>I'm not 100% sure that's a good idea: what happens if your app crashes? You may have committed some Kafka messages that actually didn't make it upstream. If you do really want to do this, I would suggest manually committing the offset (via <code>commitSync</code>) upon completion of the <code>Runnable</code>, instead of letting the high level consumer do it for you.</p>\n\n<p>Why might you want to use a thread executor: I think these can be accomplished with Kafka too.</p>\n\n<p>You may want to post multiple messages to the web server at the same time. A well paritioned Kafka topic will let multiple consumers / consumer groups consumer multiple partitions, thus - assuming a perfectly scaling HTTP server - would let you parallelize the posting of messages to your server. Yay for process based concurrency!</p>\n\n<p>Maybe the web server is not perfectly scalable, or slow for this request (say each request takes 1 second): you need to limit the number of requests per second the web server takes, if you have a queue you might have a couple threads posting while not backing up Kafka.</p>\n\n<p>In this case you can set <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-41%3A+KafkaConsumer+Max+Records\" rel=\"nofollow noreferrer\">max.poll.records</a> to a scalable value that your web server requires. There's probably a better way to do this too, although it's escaping me at the moment.</p>\n\n<p>If your web server takes a long time to respond you may get errors related to failing heartbeats. In that case I direct you to <a href=\"https://stackoverflow.com/a/43992308/224334\">this SO answer on the timeout / heartbeat topic</a>.</p>\n\n<p>Instead of using a thread executioner, thus making synchronous HTTP requests appear to be async, I would use an evented HTTP client like <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">Netty</a>, thus achieving parallelism without thread based concurrency.</p>\n"},{"tags":[],"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666715212,"creation_date":1666715212,"answer_id":74197320,"question_id":47250781,"body_markdown":"For solving a &quot;slow consumer&quot; use case where you&#39;re doing I/O processing, you should use something like [Parallel Consumer][1] (PC) to avoid the &quot;[head of line blocking][2]&quot; problem you&#39;re describing.\r\n\r\nBy using PC, you can processing all your keys in parallel, regardless of how long it takes to do your I/O.\r\n\r\nIt also comes with a non blocking Vert.x module which more efficiently uses the CPU.\r\n\r\nPC directly solves for this, by sub partitioning the input partitions by key and processing each key in parallel.\r\nIt also tracks per record acknowledgement. Check out [Parallel Consumer on GitHub][1] (it&#39;s open source BTW, and I&#39;m the author).\r\n\r\n\r\n  [1]: https://github.com/confluentinc/parallel-consumer\r\n  [2]: https://en.wikipedia.org/wiki/Head-of-line_blocking","title":"parallel stream with kafka consumer records","body":"<p>For solving a &quot;slow consumer&quot; use case where you're doing I/O processing, you should use something like <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">Parallel Consumer</a> (PC) to avoid the &quot;<a href=\"https://en.wikipedia.org/wiki/Head-of-line_blocking\" rel=\"nofollow noreferrer\">head of line blocking</a>&quot; problem you're describing.</p>\n<p>By using PC, you can processing all your keys in parallel, regardless of how long it takes to do your I/O.</p>\n<p>It also comes with a non blocking Vert.x module which more efficiently uses the CPU.</p>\n<p>PC directly solves for this, by sub partitioning the input partitions by key and processing each key in parallel.\nIt also tracks per record acknowledgement. Check out <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">Parallel Consumer on GitHub</a> (it's open source BTW, and I'm the author).</p>\n"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47253118,"answer_count":2,"score":1,"last_activity_date":1666715212,"creation_date":1510502013,"question_id":47250781,"body_markdown":"I have kafka records:\r\n\r\n    ConsumerRecords&lt;String, Events&gt; records = kafkaConsumer.poll(POLL_TIMEOUT);\r\n\r\nI want to run the below code using parallel streams, not multithreading.\r\n\r\n                    records.forEach((record) -&gt; {\r\n                    Event event = record.value();\r\n                    \r\n                           HTTPSend.send(event);\r\n  \r\n                });\r\n\r\nI tried with mlutithreading but I want to try parallelstream:\r\n\r\n    for (ConsumerRecord&lt;String, Event&gt; record : records) {\r\n                            executor.execute(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n    \r\n                                            HTTPSend.send(Event);\r\n                              \r\n                                }\r\n                            });\r\n    \r\n                        }\r\n\r\nActually I&#39;m facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I&#39;m getting\r\n \r\n`&quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;`. \r\nThis is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof! \r\n\r\nFor multithreading i&#39;m using:\r\n\r\n    int threadCOunt=1;\r\n                    BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);\r\n                    RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();\r\n                    ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);\r\n\r\nHTTPSend.send() is:\r\n\r\n    long sizeSend = 0;\r\n        SSLContext sc = null;\r\n\r\n        try {\r\n            sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sc.init(null, TRUST_ALL_CERTS, new SecureRandom());\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            LOGGER.error(&quot;Failed to create SSL context&quot;, e);\r\n        }\r\n\r\n        // Ignore differences between given hostname and certificate hostname\r\n        HostnameVerifier hv = (hostname, session) -&gt; true;\r\n\r\n        // Create the REST client and configure it to connect meta\r\n        Client client = ClientBuilder.newBuilder()\r\n                .hostnameVerifier(hv)\r\n                .sslContext(sc).build();\r\n\r\n        WebTarget baseTarget = client.target(getURL()).path(HTTP_PATH);\r\n        Response jsonResponse = null;\r\n\r\n        try {\r\n            StringBuilder eventsBatchString = new StringBuilder();\r\n            eventsBatchString.append(this.getEvent(event));\r\n            Entity&lt;String&gt; entity = Entity.entity(eventsBatchString.toString(), MediaType.APPLICATION_JSON_TYPE);\r\n            builder = baseTarget.request();\r\n            LOGGER.debug(&quot;about to send the event {} and URL {}&quot;, entity, getURL());\r\n            jsonResponse = builder.header(HTTP_ACK_CHANNEL, guid.toString())\r\n                    .header(&quot;Content-type&quot;, MediaType.APPLICATION_JSON)\r\n                    .header(&quot;Authorization&quot;, String.format(&quot;Meta %s&quot;, eventsModuleConfig.getSecretKey()))\r\n                    .post(entity);","title":"parallel stream with kafka consumer records","body":"<p>I have kafka records:</p>\n\n<pre><code>ConsumerRecords&lt;String, Events&gt; records = kafkaConsumer.poll(POLL_TIMEOUT);\n</code></pre>\n\n<p>I want to run the below code using parallel streams, not multithreading.</p>\n\n<pre><code>                records.forEach((record) -&gt; {\n                Event event = record.value();\n\n                       HTTPSend.send(event);\n\n            });\n</code></pre>\n\n<p>I tried with mlutithreading but I want to try parallelstream:</p>\n\n<pre><code>for (ConsumerRecord&lt;String, Event&gt; record : records) {\n                        executor.execute(new Runnable() {\n                            @Override\n                            public void run() {\n\n                                        HTTPSend.send(Event);\n\n                            }\n                        });\n\n                    }\n</code></pre>\n\n<p>Actually I'm facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I'm getting</p>\n\n<p><code>\"Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\"</code>. \nThis is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof! </p>\n\n<p>For multithreading i'm using:</p>\n\n<pre><code>int threadCOunt=1;\n                BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);\n                RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();\n                ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);\n</code></pre>\n\n<p>HTTPSend.send() is:</p>\n\n<pre><code>long sizeSend = 0;\n    SSLContext sc = null;\n\n    try {\n        sc = SSLContext.getInstance(\"TLS\");\n        sc.init(null, TRUST_ALL_CERTS, new SecureRandom());\n    } catch (NoSuchAlgorithmException | KeyManagementException e) {\n        LOGGER.error(\"Failed to create SSL context\", e);\n    }\n\n    // Ignore differences between given hostname and certificate hostname\n    HostnameVerifier hv = (hostname, session) -&gt; true;\n\n    // Create the REST client and configure it to connect meta\n    Client client = ClientBuilder.newBuilder()\n            .hostnameVerifier(hv)\n            .sslContext(sc).build();\n\n    WebTarget baseTarget = client.target(getURL()).path(HTTP_PATH);\n    Response jsonResponse = null;\n\n    try {\n        StringBuilder eventsBatchString = new StringBuilder();\n        eventsBatchString.append(this.getEvent(event));\n        Entity&lt;String&gt; entity = Entity.entity(eventsBatchString.toString(), MediaType.APPLICATION_JSON_TYPE);\n        builder = baseTarget.request();\n        LOGGER.debug(\"about to send the event {} and URL {}\", entity, getURL());\n        jsonResponse = builder.header(HTTP_ACK_CHANNEL, guid.toString())\n                .header(\"Content-type\", MediaType.APPLICATION_JSON)\n                .header(\"Authorization\", String.format(\"Meta %s\", eventsModuleConfig.getSecretKey()))\n                .post(entity);\n</code></pre>\n"},{"tags":["java","spring-boot","auth0"],"answers":[{"comments":[{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1666627363,"post_id":74160433,"comment_id":130976691,"body_markdown":"I understand I don&#39;t need to construct the URL myself. The second URL listed above is the one Spring generates. I added the applicaiton.properties configuration to the question.","body":"I understand I don&#39;t need to construct the URL myself. The second URL listed above is the one Spring generates. I added the applicaiton.properties configuration to the question."}],"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401251,"creation_date":1666400800,"answer_id":74160433,"question_id":74159954,"body_markdown":"Spring Security comes with with mostly preconfigured Auth0 module. Unless you&#39;re doing something specific, there&#39;s no need to construct URL yourself.  \r\nHave you done Spring configuration as said in the link you&#39;ve posted: https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security ?\r\n\r\n```\r\n# src/main/resources/application.yml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          auth0:\r\n            ...\r\n```","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>Spring Security comes with with mostly preconfigured Auth0 module. Unless you're doing something specific, there's no need to construct URL yourself.<br />\nHave you done Spring configuration as said in the link you've posted: <a href=\"https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security</a> ?</p>\n<pre><code># src/main/resources/application.yml\nspring:\n  security:\n    oauth2:\n      client:\n        registration:\n          auth0:\n            ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1666646823,"post_id":74184348,"comment_id":130982660,"body_markdown":"That looks like it may work. I&#39;m working on setting it up, but at the end of Step 2, it has: http.oauth2Login()\n          .authorizationEndpoint()\n          .authorizationRequestResolver(\n            new CustomAuthorizationRequestResolver(\n              clientRegistrationRepository(), &quot;/oauth2/authorize-client&quot;)). The method &quot;clientRegistrationRepository()&quot; isn&#39;t defined anywhere. I don&#39;t want to override the default ClientRegistration, just add to it. How do I pass the default?","body":"That looks like it may work. I&#39;m working on setting it up, but at the end of Step 2, it has: http.oauth2Login()           .authorizationEndpoint()           .authorizationRequestResolver(             new CustomAuthorizationRequestResolver(               clientRegistrationRepository(), &quot;/oauth2/authorize-client&quot;)). The method &quot;clientRegistrationRepository()&quot; isn&#39;t defined anywhere. I don&#39;t want to override the default ClientRegistration, just add to it. How do I pass the default?"},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1666647824,"post_id":74184348,"comment_id":130982915,"body_markdown":"I&#39;ve overlooked that one. You might be able to inject it (see my update). I haven&#39;t tried it though. It&#39;s unfortunately typical for Spring: If you provide your own implementation of a class, it can quickly get out of hand.","body":"I&#39;ve overlooked that one. You might be able to inject it (see my update). I haven&#39;t tried it though. It&#39;s unfortunately typical for Spring: If you provide your own implementation of a class, it can quickly get out of hand."}],"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666647606,"creation_date":1666630151,"answer_id":74184348,"question_id":74159954,"body_markdown":"You are looking for a way to add an additional parameter to the authorization URI. It&#39;s isn&#39;t as straightforward as one would like but doable.\r\n\r\nFortunately, it&#39;s described in [Customizing Authorization and Token Requests with Spring Security 5.1 Client](https://www.baeldung.com/spring-security-custom-oauth-requests).\r\n\r\nYou probably want to implement the steps 2 and 4:\r\n\r\n- Add your own implementation of `OAuth2AuthorizationRequestResolver`, override both `resolve()` methods to call `customizeAuthorizationRequest()`\r\n- Implement `customizeAuthorizationRequest()` to add the additional `connection` parameter (`OAuth2AuthorizationRequest` already support additional parameters)\r\n- Implement a security configuration class to register `CustomAuthorizationRequestResolver` as the authorization request resolver\r\n\r\nSeveral issues on [GitHub](https://github.com/spring-projects/spring-security) ask for a simpler way. But the issues are still open (or closed as duplicates).\r\n\r\n**Update**\r\n\r\nInstead of `clientRegistrationRepository()` (at the end of step 2), you could declare `clientRegistrationRepository` as an injected dependency and the use it without parentheses:\r\n\r\n```\r\n@Autowired\r\nprivate ClientRegistrationRepository clientRegistrationRepository;\r\n```","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>You are looking for a way to add an additional parameter to the authorization URI. It's isn't as straightforward as one would like but doable.</p>\n<p>Fortunately, it's described in <a href=\"https://www.baeldung.com/spring-security-custom-oauth-requests\" rel=\"nofollow noreferrer\">Customizing Authorization and Token Requests with Spring Security 5.1 Client</a>.</p>\n<p>You probably want to implement the steps 2 and 4:</p>\n<ul>\n<li>Add your own implementation of <code>OAuth2AuthorizationRequestResolver</code>, override both <code>resolve()</code> methods to call <code>customizeAuthorizationRequest()</code></li>\n<li>Implement <code>customizeAuthorizationRequest()</code> to add the additional <code>connection</code> parameter (<code>OAuth2AuthorizationRequest</code> already support additional parameters)</li>\n<li>Implement a security configuration class to register <code>CustomAuthorizationRequestResolver</code> as the authorization request resolver</li>\n</ul>\n<p>Several issues on <a href=\"https://github.com/spring-projects/spring-security\" rel=\"nofollow noreferrer\">GitHub</a> ask for a simpler way. But the issues are still open (or closed as duplicates).</p>\n<p><strong>Update</strong></p>\n<p>Instead of <code>clientRegistrationRepository()</code> (at the end of step 2), you could declare <code>clientRegistrationRepository</code> as an injected dependency and the use it without parentheses:</p>\n<pre><code>@Autowired\nprivate ClientRegistrationRepository clientRegistrationRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666649114,"creation_date":1666649114,"answer_id":74187284,"question_id":74159954,"body_markdown":"Here&#39;s another option (untested):\r\n\r\nIn `application.properties`, specify all URLs separately. So instead of:\r\n\r\n```ini\r\nspring.security.oauth2.client.provider.auth0.issuer-uri=xyz.us.auth0.com\r\n```\r\n\r\nSpecify:\r\n\r\n```ini\r\nspring.security.oauth2.client.provider.auth0.authorization-uri=https://xyz.us.auth0.com/authorize?connection=azuread\r\nspring.security.oauth2.client.provider.auth0.token-uri=https://xyz.us.auth0.com/oauth/token\r\nspring.security.oauth2.client.provider.auth0.jwk-set-uri=https://xyz.us.auth0.com/=.well-known/jwks.json\r\nspring.security.oauth2.client.provider.auth0.user-info-uri=https://xyz.us.auth0.com/userinfo\r\n```\r\n\r\nNote that the authorization URI already includes the *connection* parameters. All the other parameters should then be appended.\r\n\r\nYou can get all the URIs at https://xyz.us.auth0.com/.well-known/openid-configuration (just replace &quot;xyz&quot; and put the URL in your browser).","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>Here's another option (untested):</p>\n<p>In <code>application.properties</code>, specify all URLs separately. So instead of:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.security.oauth2.client.provider.auth0.issuer-uri=xyz.us.auth0.com\n</code></pre>\n<p>Specify:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.security.oauth2.client.provider.auth0.authorization-uri=https://xyz.us.auth0.com/authorize?connection=azuread\nspring.security.oauth2.client.provider.auth0.token-uri=https://xyz.us.auth0.com/oauth/token\nspring.security.oauth2.client.provider.auth0.jwk-set-uri=https://xyz.us.auth0.com/=.well-known/jwks.json\nspring.security.oauth2.client.provider.auth0.user-info-uri=https://xyz.us.auth0.com/userinfo\n</code></pre>\n<p>Note that the authorization URI already includes the <em>connection</em> parameters. All the other parameters should then be appended.</p>\n<p>You can get all the URIs at <a href=\"https://xyz.us.auth0.com/.well-known/openid-configuration\" rel=\"nofollow noreferrer\">https://xyz.us.auth0.com/.well-known/openid-configuration</a> (just replace &quot;xyz&quot; and put the URL in your browser).</p>\n"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74184348,"answer_count":3,"score":0,"last_activity_date":1666715067,"creation_date":1666393879,"question_id":74159954,"body_markdown":"I am working on setting up an application using Spring Boot and Auth0. We are refactoring from a legacy codebase to use Spring Boot. In the legacy code, the Auth0 URL is created manually by appending the URL parameters: \r\n\r\n    https://[removed].auth0.com/authorize?\r\n    \tresponse_type=code\r\n    \t&amp;client_id=[removed]\r\n    \t&amp;scope=openid email profile\r\n    \t&amp;connection=[removed]\r\n    \t&amp;state=[removed]\r\n    \t&amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\r\n\r\nWith the Spring Boot configuration (guide here: https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login), this is the URL that generates: \r\n\r\n    https://[removed].auth0.com/authorize?\r\n    \tresponse_type=code\r\n    \t&amp;client_id=[removed]\r\n    \t&amp;scope=openid email profile\r\n    \t&amp;state=[removed]\r\n    \t&amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\r\n\r\nThe Spring Boot URL is giving me an error &quot;[invalid_request] no connections enabled for the client&quot;. \r\n\r\nI am missing the &quot;connection&quot; parameter with the Spring Boot setup. I have tested by manually copying the URL and adding the &quot;connection&quot; parameter and I get the login page. Without it, I get the error. \r\n\r\nOn Spring&#39;s configuration page (https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings), I don&#39;t see an option for Connection. I didn&#39;t see anything on the SecurityFilterChain that would allow me to change this either. \r\n\r\nI see that Auth0.js has a function that allows a &quot;connection&quot; parameter (https://auth0.com/docs/libraries/auth0js). How do I add this using Spring Boot/Java? \r\n\r\n**EDIT**\r\n\r\napplication.properties:\r\n\r\n    spring.security.oauth2.client.registration.auth0.client-id=[removed]\r\n    spring.security.oauth2.client.registration.auth0.client-secret=[removed]\r\n    spring.security.oauth2.client.registration.auth0.scope[0]=openid\r\n    spring.security.oauth2.client.registration.auth0.scope[1]=email\r\n    spring.security.oauth2.client.registration.auth0.scope[2]=profile\r\n    spring.security.oauth2.client.provider.auth0.issuer-uri=[removed]\r\n\r\n**EDIT 2**\r\n\r\nWe were working in conjunction with Auth0 Support - they provided us the following information: \r\n\r\n&gt; In case an Enterprise connection is the only enabled connection for an\r\n&gt; application and the &quot;connection&quot; parameter is not specified on the\r\n&gt; /authorize request, you need to enable the &quot;show as a button&quot; setting\r\n&gt; on that enterprise connection, otherwise you will get &quot;no connections\r\n&gt; enabled for the client&quot; error.\r\n&gt; \r\n&gt; The &quot;Display connection as a button&quot; checkbox is on the &quot;Login\r\n&gt; Experience&quot; tab of the connection setting page.\r\n\r\nWeird configuration requirement - you can&#39;t go directly to the login page. You have to have a button to take you there. This did resolve the original issue; however, I marked @Codo answer below as accepted, as it did answer this question and appears it would work from initial testing. ","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>I am working on setting up an application using Spring Boot and Auth0. We are refactoring from a legacy codebase to use Spring Boot. In the legacy code, the Auth0 URL is created manually by appending the URL parameters:</p>\n<pre><code>https://[removed].auth0.com/authorize?\n    response_type=code\n    &amp;client_id=[removed]\n    &amp;scope=openid email profile\n    &amp;connection=[removed]\n    &amp;state=[removed]\n    &amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\n</code></pre>\n<p>With the Spring Boot configuration (guide here: <a href=\"https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login</a>), this is the URL that generates:</p>\n<pre><code>https://[removed].auth0.com/authorize?\n    response_type=code\n    &amp;client_id=[removed]\n    &amp;scope=openid email profile\n    &amp;state=[removed]\n    &amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\n</code></pre>\n<p>The Spring Boot URL is giving me an error &quot;[invalid_request] no connections enabled for the client&quot;.</p>\n<p>I am missing the &quot;connection&quot; parameter with the Spring Boot setup. I have tested by manually copying the URL and adding the &quot;connection&quot; parameter and I get the login page. Without it, I get the error.</p>\n<p>On Spring's configuration page (<a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings</a>), I don't see an option for Connection. I didn't see anything on the SecurityFilterChain that would allow me to change this either.</p>\n<p>I see that Auth0.js has a function that allows a &quot;connection&quot; parameter (<a href=\"https://auth0.com/docs/libraries/auth0js\" rel=\"nofollow noreferrer\">https://auth0.com/docs/libraries/auth0js</a>). How do I add this using Spring Boot/Java?</p>\n<p><strong>EDIT</strong></p>\n<p>application.properties:</p>\n<pre><code>spring.security.oauth2.client.registration.auth0.client-id=[removed]\nspring.security.oauth2.client.registration.auth0.client-secret=[removed]\nspring.security.oauth2.client.registration.auth0.scope[0]=openid\nspring.security.oauth2.client.registration.auth0.scope[1]=email\nspring.security.oauth2.client.registration.auth0.scope[2]=profile\nspring.security.oauth2.client.provider.auth0.issuer-uri=[removed]\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>We were working in conjunction with Auth0 Support - they provided us the following information:</p>\n<blockquote>\n<p>In case an Enterprise connection is the only enabled connection for an\napplication and the &quot;connection&quot; parameter is not specified on the\n/authorize request, you need to enable the &quot;show as a button&quot; setting\non that enterprise connection, otherwise you will get &quot;no connections\nenabled for the client&quot; error.</p>\n<p>The &quot;Display connection as a button&quot; checkbox is on the &quot;Login\nExperience&quot; tab of the connection setting page.</p>\n</blockquote>\n<p>Weird configuration requirement - you can't go directly to the login page. You have to have a button to take you there. This did resolve the original issue; however, I marked @Codo answer below as accepted, as it did answer this question and appears it would work from initial testing.</p>\n"},{"tags":["java","list","loops","hashmap"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666696248,"creation_date":1666695787,"answer_id":74193070,"question_id":74192643,"body_markdown":"You were thinking in the right direction. Generating a `Map` which associates `companyId` of each customer with a `companyName` would be a more performant approach than using a nested `for`-loop.\r\n\r\nWhen we have a `Map`, the only thing left is iterate through the list of `Employee` and if its `companyId` exists in the Map replace the `companyName` with the one that is stored in the Map.\r\n\r\n    public static void setCompanyNames(List&lt;Customer&gt; customerList,\r\n                                       List&lt;Employee&gt; employeeList) {\r\n        \r\n        Map&lt;Long, String&gt; companyNameByCustomerId = customerList.stream()\r\n            .collect(Collectors.toMap(\r\n                Customer::getCompanyId,   // generating Keys\r\n                Customer::getCompanyName, // generating Values\r\n                (left, right) -&gt; left     // resolving duplicates (this argument is need if there could be several customers with the same companyId)\r\n            )); \r\n        \r\n        for (Employee employee: employeeList) {\r\n            Long id = employee.getCompanyId();\r\n            if (companyNameByCustomerId.containsKey(id)) {\r\n                employee.setCompanyName(companyNameByCustomerId.get(id));\r\n            }\r\n        }\r\n    }","title":"How to check two lists with different Types but having a Common property","body":"<p>You were thinking in the right direction. Generating a <code>Map</code> which associates <code>companyId</code> of each customer with a <code>companyName</code> would be a more performant approach than using a nested <code>for</code>-loop.</p>\n<p>When we have a <code>Map</code>, the only thing left is iterate through the list of <code>Employee</code> and if its <code>companyId</code> exists in the Map replace the <code>companyName</code> with the one that is stored in the Map.</p>\n<pre><code>public static void setCompanyNames(List&lt;Customer&gt; customerList,\n                                   List&lt;Employee&gt; employeeList) {\n    \n    Map&lt;Long, String&gt; companyNameByCustomerId = customerList.stream()\n        .collect(Collectors.toMap(\n            Customer::getCompanyId,   // generating Keys\n            Customer::getCompanyName, // generating Values\n            (left, right) -&gt; left     // resolving duplicates (this argument is need if there could be several customers with the same companyId)\n        )); \n    \n    for (Employee employee: employeeList) {\n        Long id = employee.getCompanyId();\n        if (companyNameByCustomerId.containsKey(id)) {\n            employee.setCompanyName(companyNameByCustomerId.get(id));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74193070,"answer_count":1,"score":0,"last_activity_date":1666714797,"creation_date":1666693782,"question_id":74192643,"body_markdown":"Assume I have two lists with different domain objects of different types: `Customer` and `Employee`.\r\n\r\nAnd these objects have the common `companyId` property.\r\n\r\n`Customer` class:\r\n\r\n    public static class Customer {\r\n        private Long companyId;\r\n        private String companyName;\r\n    }\r\n\r\n`Employee` class:\r\n\r\n    public static class Employee {\r\n        private Long companyId;\r\n        private String companyName;\r\n    }\r\n\r\n`Employee` has this property in common `companyId` assigned, but the `companyName` is missing.\r\n\r\nI have two lists:\r\n\r\n``` \r\nList&lt;Customer&gt; customerList;\r\nList&lt;Employee&gt; employeeList;\r\n``` \r\n\r\nWhat I want to do is to set the `companyName` for each `Employee` where the `companyId` from `Employee` == `companyId` of `Customer`\r\n\r\nFirst I tried with two nested `for`-loops, but I think it is not very performance-vice, if I have over 1000 elements.\r\n\r\nWhat is the best way with respect to performance to achieve this?\r\n\r\nMaybe store the data from `customerList` as a `HashMap` and then for each `Employee` do `get(companyId)` or so?","title":"How to check two lists with different Types but having a Common property","body":"<p>Assume I have two lists with different domain objects of different types: <code>Customer</code> and <code>Employee</code>.</p>\n<p>And these objects have the common <code>companyId</code> property.</p>\n<p><code>Customer</code> class:</p>\n<pre><code>public static class Customer {\n    private Long companyId;\n    private String companyName;\n}\n</code></pre>\n<p><code>Employee</code> class:</p>\n<pre><code>public static class Employee {\n    private Long companyId;\n    private String companyName;\n}\n</code></pre>\n<p><code>Employee</code> has this property in common <code>companyId</code> assigned, but the <code>companyName</code> is missing.</p>\n<p>I have two lists:</p>\n<pre><code>List&lt;Customer&gt; customerList;\nList&lt;Employee&gt; employeeList;\n</code></pre>\n<p>What I want to do is to set the <code>companyName</code> for each <code>Employee</code> where the <code>companyId</code> from <code>Employee</code> == <code>companyId</code> of <code>Customer</code></p>\n<p>First I tried with two nested <code>for</code>-loops, but I think it is not very performance-vice, if I have over 1000 elements.</p>\n<p>What is the best way with respect to performance to achieve this?</p>\n<p>Maybe store the data from <code>customerList</code> as a <code>HashMap</code> and then for each <code>Employee</code> do <code>get(companyId)</code> or so?</p>\n"},{"tags":["java","selenium","maven","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1666713756,"post_id":74196916,"comment_id":130999858,"body_markdown":"In order to help you we need to see all your Selenium code including the link to the page you are working on","body":"In order to help you we need to see all your Selenium code including the link to the page you are working on"},{"owner":{"account_id":26729392,"reputation":1,"user_id":20332019,"display_name":"Pardeep Punian"},"score":0,"creation_date":1666714069,"post_id":74196916,"comment_id":130999970,"body_markdown":"my HTML code is:         &lt;body class=&quot;main-template&quot; style=&quot;&quot;&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;header&gt;\n                &lt;div class=&quot;container&quot;&gt;\n                    &lt;ul class=&quot;control-bar&quot;&gt;\n                        &lt;li&gt;&lt;a href=&quot;/login&quot; class=&quot;btn border&quot;&gt;&lt;span class=&quot;help&quot;&gt;LOG in&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;","body":"my HTML code is:         &lt;body class=&quot;main-template&quot; style=&quot;&quot;&gt;         &lt;div class=&quot;wrapper&quot;&gt;             &lt;header&gt;                 &lt;div class=&quot;container&quot;&gt;                     &lt;ul class=&quot;control-bar&quot;&gt;                         &lt;li&gt;&lt;a href=&quot;/login&quot; class=&quot;btn border&quot;&gt;&lt;span class=&quot;help&quot;&gt;LOG in&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":2,"creation_date":1666714417,"post_id":74196916,"comment_id":131000109,"body_markdown":"This is absolutely not enough","body":"This is absolutely not enough"},{"owner":{"account_id":25717722,"reputation":10119,"user_id":19475185,"display_name":"Barry the Platipus"},"score":2,"creation_date":1666715525,"post_id":74196916,"comment_id":131000454,"body_markdown":"Please post a minimal reproducible example, see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please post a minimal reproducible example, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":18857259,"reputation":99,"user_id":13754928,"display_name":"Potato"},"score":0,"creation_date":1666742563,"post_id":74196916,"comment_id":131007212,"body_markdown":"You have to add a bit more detail, this is very vague and one can&#39;t tell what&#39;s really going on. But to be sure you&#39;re using the right XPATH variable, you can inspect the button on the webpage, right click and copy XPath","body":"You have to add a bit more detail, this is very vague and one can&#39;t tell what&#39;s really going on. But to be sure you&#39;re using the right XPATH variable, you can inspect the button on the webpage, right click and copy XPath"}],"owner":{"account_id":26729392,"reputation":1,"user_id":20332019,"display_name":"Pardeep Punian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666713578,"creation_date":1666713355,"question_id":74196916,"body_markdown":"I am trying to click on Span element link which is exiting inside &lt;a href&gt; tag. I tried it by copied Path but its didn&#39;t go through. Can you please help me to solve it\r\n\r\nI tried it by using following code:\r\n1.\r\n```java\r\ndriver.findElement(By.xpath(&quot;/html/body/div[@class=&#39;wrapper&#39;]/header[@class=&#39;header-fixed&#39;]/div[@class=&#39;container&#39;]/ul[@class=&#39;control-bar&#39;]/li[1]/a[@href=&#39;/login&#39;]/span[text()=&#39;LOG in&#39;]&quot;)).click();\r\n```\r\n\r\n2.\r\n```java\r\ndriver.findElement(By.xpath(&quot;//span[contains(@class, &#39;help&#39;) and text()=&#39;LOG in&#39;]&quot;)).click();\r\n```","title":"Clicking on Span element in selenium which is inside &lt;a href&gt; tag","body":"<p>I am trying to click on Span element link which is exiting inside  tag. I tried it by copied Path but its didn't go through. Can you please help me to solve it</p>\n<p>I tried it by using following code:\n1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;/html/body/div[@class='wrapper']/header[@class='header-fixed']/div[@class='container']/ul[@class='control-bar']/li[1]/a[@href='/login']/span[text()='LOG in']&quot;)).click();\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//span[contains(@class, 'help') and text()='LOG in']&quot;)).click();\n</code></pre>\n"},{"tags":["java","testing","quarkus","junit5","rest-assured"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1666904684,"post_id":74196965,"comment_id":131052012,"body_markdown":"localhost does not have subdomains, you can define subdomains like https://stackoverflow.com/a/19016600/175554 and after that you can write a server to listen to **sub.localhost** domain which does not feel very useful. if you want to separate rest endpoints you can use context path **localhost/context1** and **localhost/context2** or api/v1 api/v2 etc..","body":"localhost does not have subdomains, you can define subdomains like <a href=\"https://stackoverflow.com/a/19016600/175554\">stackoverflow.com/a/19016600/175554</a> and after that you can write a server to listen to <b>sub.localhost</b> domain which does not feel very useful. if you want to separate rest endpoints you can use context path <b>localhost/context1</b> and <b>localhost/context2</b> or api/v1 api/v2 etc.."}],"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666713562,"creation_date":1666713562,"question_id":74196965,"body_markdown":"I&#39;m creating a test that is trying to invoke an endpoint in my system.  \r\n\r\n---\r\n\r\nthe flow is like that  \r\nwhen i run the test i see that Quarkus test web server is listening on localhost  \r\n`INFO: Quarkus 2.4.1.Final on JVM started in 25.464s. Listening on: http://localhost:8081`\r\n\r\nIm addressing (with rest assured) the subdomain `subdomain.localhost`  \r\n\r\n\r\n```\r\n@QuarkusTest\r\nclass TestClass {\r\n\r\n    @Test\r\n    public void someTest() {\r\n\r\n       RestAssured.given().log().all()\r\n             .baseUri(&quot;http://subdomain.localhost:8081&quot;) &lt;--\r\n             .basePath(&quot;/api&quot;)\r\n             .contentType(ContentType.JSON)\r\n             .accept(ContentType.JSON)\r\n             .get(&quot;/endpoint&quot;)\r\n             .then()\r\n             .statusCode(200);\r\n    }\r\n}\r\n```\r\n\r\nand getting exception:  \r\n```\r\njava.net.UnknownHostException: subdomain.localhost: nodename nor servname provided, or not known\r\n```\r\n\r\n----\r\ni found that if adding the subdomain to the `hosts` file (on mac `\\etc\\hosts`)  \r\n`127.0.0.1    subdomain.localhost`  \r\nit works but I&#39;m looking for a different solution  \r\n\r\n---\r\n\r\nis there any way to make Quarkus test web server listen to subdomain as well?\r\n\r\n","title":"Access subdomain in Quarkus test mode","body":"<p>I'm creating a test that is trying to invoke an endpoint in my system.</p>\n<hr />\n<p>the flow is like that<br />\nwhen i run the test i see that Quarkus test web server is listening on localhost<br />\n<code>INFO: Quarkus 2.4.1.Final on JVM started in 25.464s. Listening on: http://localhost:8081</code></p>\n<p>Im addressing (with rest assured) the subdomain <code>subdomain.localhost</code></p>\n<pre><code>@QuarkusTest\nclass TestClass {\n\n    @Test\n    public void someTest() {\n\n       RestAssured.given().log().all()\n             .baseUri(&quot;http://subdomain.localhost:8081&quot;) &lt;--\n             .basePath(&quot;/api&quot;)\n             .contentType(ContentType.JSON)\n             .accept(ContentType.JSON)\n             .get(&quot;/endpoint&quot;)\n             .then()\n             .statusCode(200);\n    }\n}\n</code></pre>\n<p>and getting exception:</p>\n<pre><code>java.net.UnknownHostException: subdomain.localhost: nodename nor servname provided, or not known\n</code></pre>\n<hr />\n<p>i found that if adding the subdomain to the <code>hosts</code> file (on mac <code>\\etc\\hosts</code>)<br />\n<code>127.0.0.1    subdomain.localhost</code><br />\nit works but I'm looking for a different solution</p>\n<hr />\n<p>is there any way to make Quarkus test web server listen to subdomain as well?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666701688,"post_id":74193874,"comment_id":130995246,"body_markdown":"no screenshots of plain text please (c&amp;p the error message)","body":"no screenshots of plain text please (c&amp;p the error message)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666724411,"post_id":74193874,"comment_id":131003092,"body_markdown":"This simply is not going to work at all.  `ant-javafx.jar` and `jfxrt.jar` are obsolete and don&#39;t exist in modern JavaFX versions.  `javafx.graphics.jar`, etc. are not names of JavaFX jars. Instead, follow the instructions at https://openjfx.io/openjfx-docs/.  Use a modern build tool (I suggest Maven).","body":"This simply is not going to work at all.  <code>ant-javafx.jar</code> and <code>jfxrt.jar</code> are obsolete and don&#39;t exist in modern JavaFX versions.  <code>javafx.graphics.jar</code>, etc. are not names of JavaFX jars. Instead, follow the instructions at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>.  Use a modern build tool (I suggest Maven)."}],"owner":{"account_id":10833389,"reputation":1,"user_id":7967011,"display_name":"user7967011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666713383,"creation_date":1666699886,"question_id":74193874,"body_markdown":"I am struggling with the error on the 3rd day.\r\nMy jdk version is 18 and My javafx version is javafx-sdk-19\r\ni&#39;m trying build but it is error\r\n\r\nWhen I run the javafx project in Eclipse, it works normally, but when I build through build.xml, the following error occurs.\r\n\r\n\r\n[src path info][1]\r\n\r\n[build path info][2]\r\n\r\n        \r\n\r\n    module javafx_test1 {\r\n    \trequires javafx.controls;\r\n    \trequires javafx.fxml;\r\n    \t\r\n    \topens application to javafx.graphics, javafx.fxml;\r\n    }\r\n\r\nabove code is module-info.java\r\n\r\n   \r\n\r\n     do-compile:\r\n       [delete] Deleting directory D:\\workspace\\javafx_test1\\build\\build\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\src\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\libs\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\classes\r\n         [copy] Copying 8 files to D:\\workspace\\javafx_test1\\build\\build\\libs\r\n         [copy] Copying 5 files to D:\\workspace\\javafx_test1\\build\\build\\src\r\n        [javac] Compiling 3 source files to D:\\workspace\\javafx_test1\\build\\build\\classes\r\n        [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:2: error: module not found: javafx.controls\r\n        [javac] \trequires javafx.controls;\r\n        [javac] \t               ^\r\n        [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:3: error: module not found: javafx.fxml\r\n        [javac] \trequires javafx.fxml;\r\n        [javac] \t               ^\r\n        [javac] 2 errors\r\n    \r\n    BUILD FAILED\r\n    D:\\workspace\\javafx_test1\\build\\build.xml:101: Compile failed; see the compiler error output for details.\r\n\r\n\r\nabove code is error\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project name=&quot;javafx_test1&quot; default=&quot;do-deploy&quot; basedir=&quot;.&quot;  xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\r\n\t&lt;target name=&quot;init-fx-tasks&quot;&gt;\r\n\t\t&lt;path id=&quot;fxant&quot;&gt;\r\n\t\t\t&lt;filelist&gt;\r\n\t\t\t\t&lt;file name=&quot;${java.home}\\..\\lib\\ant-javafx.jar&quot;/&gt;\r\n\t\t\t\t&lt;file name=&quot;${java.home}\\lib\\jfxrt.jar&quot;/&gt;\r\n\t\t\t&lt;/filelist&gt;\r\n\t\t&lt;/path&gt;\r\n\t\r\n\t\t&lt;taskdef resource=&quot;com/sun/javafx/tools/ant/antlib.xml&quot;\r\n\t\t\turi=&quot;javafx:com.sun.javafx.tools.ant&quot;\r\n\t\t\tclasspathref=&quot;fxant&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&quot;setup-staging-area&quot;&gt;\r\n\t\t&lt;delete dir=&quot;externalLibs&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;project&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;projectRefs&quot; /&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;externalLibs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;project&quot; /&gt;\r\n\t\t&lt;copy todir=&quot;project&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;D:\\workspace\\javafx_test1&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;src/**&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;projectRefs&quot; /&gt;\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&#39;do-compile&#39;&gt;\r\n\t\t&lt;delete dir=&quot;build&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/src&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/libs&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/classes&quot; /&gt;\r\n\t\r\n\t\t&lt;!-- Copy project-libs references --&gt;\r\n\t\t&lt;copy todir=&quot;build/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;!-- Copy project references --&gt;\r\n\t\r\n\t\t&lt;!-- Copy project sources itself --&gt;\r\n\t\t&lt;copy todir=&quot;build/src&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;**/*&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;javac includeantruntime=&quot;false&quot; source=&quot;18&quot; target=&quot;18&quot; srcdir=&quot;build/src&quot; destdir=&quot;build/classes&quot; encoding=&quot;UTF-8&quot;&gt;\r\n\t\t\t&lt;classpath&gt;\r\n\t\t\t\t&lt;fileset dir=&quot;build/libs&quot;&gt;\r\n\t\t\t\t\t&lt;include name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t\t&lt;/fileset&gt;\r\n\t\t\t\t&lt;filelist&gt;\r\n\t\t\t\t\t&lt;file name=&quot;C:\\test\\jdk-18.0.2.1\\lib\\jfxrt.jar&quot;/&gt;\r\n\t\t\t\t&lt;/filelist&gt;\r\n\t\t\t&lt;/classpath&gt;\r\n\t\t\r\n\t\t&lt;/javac&gt;\r\n\t\r\n\t\t&lt;!-- Copy over none Java-Files --&gt;\r\n\t\t&lt;copy todir=&quot;build/classes&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t&lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&quot;do-deploy&quot; depends=&quot;setup-staging-area, do-compile, init-fx-tasks&quot;&gt;\r\n\t\t&lt;delete file=&quot;dist&quot;/&gt;\r\n\t\t&lt;delete file=&quot;deploy&quot; /&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;dist&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;dist/libs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;dist/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;*&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\r\n\t\t&lt;fx:resources id=&quot;appRes&quot;&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;javafx_test1.jar&quot;/&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;libs/*&quot;/&gt;\r\n\t\t&lt;/fx:resources&gt;\r\n\t\r\n\t\t&lt;fx:application id=&quot;fxApplication&quot;\r\n\t\t\tname=&quot;test34345&quot;\r\n\t\t\tmainClass=&quot;application.Main&quot;\r\n\t\t/&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;build/classes/META-INF&quot; /&gt;\r\n\t\r\n\t\r\n\t\r\n\t\t&lt;fx:jar destfile=&quot;dist/javafx_test1.jar&quot;&gt;\r\n\t\t\t&lt;fx:application refid=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fileset dir=&quot;build/classes&quot;&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;makery.ch&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Title&quot; value=&quot;test34345&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Version&quot; value=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;JavaFX-Feature-Proxy&quot; value=&quot;None&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t&lt;/fx:jar&gt;\r\n\t\r\n\t\r\n\t\t&lt;mkdir dir=&quot;deploy&quot; /&gt;\r\n\t\t&lt;!-- Need to use ${basedir} because somehow the ant task is calculating the directory differently --&gt;\r\n\t\t&lt;fx:deploy\r\n\t\t\tembedJNLP=&quot;false&quot;\r\n\t\t\textension=&quot;false&quot;\r\n\t\t\tincludeDT=&quot;false&quot;\r\n\t\t\tofflineAllowed=&quot;true&quot;\r\n\t\t\toutdir=&quot;${basedir}/deploy&quot;\r\n\t\t\toutfile=&quot;javafx_test1&quot; nativeBundles=&quot;exe&quot;\r\n\t\t\tupdatemode=&quot;background&quot; &gt;\r\n\t\r\n\t\t\t&lt;fx:platform basedir=&quot;${java.home}&quot;/&gt;\r\n\t\t\t&lt;fx:info title=&quot;javafx_test1&quot; vendor=&quot;makery.ch&quot;/&gt;\r\n\t\r\n\t\t\t&lt;fx:application refId=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\t&lt;/fx:deploy&gt;\r\n\t\r\n\t\r\n\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nabove code is build.xml\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/phsAU.jpg\r\n  [2]: https://i.stack.imgur.com/26T2k.jpg\r\n  [3]: https://i.stack.imgur.com/513t3.jpg\r\n","title":"I have built javafx through &quot;ant build&quot; in eclipse, but I get an error","body":"<p>I am struggling with the error on the 3rd day.\nMy jdk version is 18 and My javafx version is javafx-sdk-19\ni'm trying build but it is error</p>\n<p>When I run the javafx project in Eclipse, it works normally, but when I build through build.xml, the following error occurs.</p>\n<p><a href=\"https://i.stack.imgur.com/phsAU.jpg\" rel=\"nofollow noreferrer\">src path info</a></p>\n<p><a href=\"https://i.stack.imgur.com/26T2k.jpg\" rel=\"nofollow noreferrer\">build path info</a></p>\n<pre><code>module javafx_test1 {\n    requires javafx.controls;\n    requires javafx.fxml;\n    \n    opens application to javafx.graphics, javafx.fxml;\n}\n</code></pre>\n<p>above code is module-info.java</p>\n<pre><code> do-compile:\n   [delete] Deleting directory D:\\workspace\\javafx_test1\\build\\build\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\src\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\libs\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\classes\n     [copy] Copying 8 files to D:\\workspace\\javafx_test1\\build\\build\\libs\n     [copy] Copying 5 files to D:\\workspace\\javafx_test1\\build\\build\\src\n    [javac] Compiling 3 source files to D:\\workspace\\javafx_test1\\build\\build\\classes\n    [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:2: error: module not found: javafx.controls\n    [javac]     requires javafx.controls;\n    [javac]                    ^\n    [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:3: error: module not found: javafx.fxml\n    [javac]     requires javafx.fxml;\n    [javac]                    ^\n    [javac] 2 errors\n\nBUILD FAILED\nD:\\workspace\\javafx_test1\\build\\build.xml:101: Compile failed; see the compiler error output for details.\n</code></pre>\n<p>above code is error</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project name=&quot;javafx_test1&quot; default=&quot;do-deploy&quot; basedir=&quot;.&quot;  xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\n&lt;target name=&quot;init-fx-tasks&quot;&gt;\n    &lt;path id=&quot;fxant&quot;&gt;\n        &lt;filelist&gt;\n            &lt;file name=&quot;${java.home}\\..\\lib\\ant-javafx.jar&quot;/&gt;\n            &lt;file name=&quot;${java.home}\\lib\\jfxrt.jar&quot;/&gt;\n        &lt;/filelist&gt;\n    &lt;/path&gt;\n\n    &lt;taskdef resource=&quot;com/sun/javafx/tools/ant/antlib.xml&quot;\n        uri=&quot;javafx:com.sun.javafx.tools.ant&quot;\n        classpathref=&quot;fxant&quot;/&gt;\n&lt;/target&gt;\n&lt;target name=&quot;setup-staging-area&quot;&gt;\n    &lt;delete dir=&quot;externalLibs&quot; /&gt;\n    &lt;delete dir=&quot;project&quot; /&gt;\n    &lt;delete dir=&quot;projectRefs&quot; /&gt;\n\n    &lt;mkdir dir=&quot;externalLibs&quot; /&gt;\n\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.controls.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.swing.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.base.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx-swt.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.graphics.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.media.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.web.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.fxml.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;mkdir dir=&quot;project&quot; /&gt;\n    &lt;copy todir=&quot;project&quot;&gt;\n        &lt;fileset dir=&quot;D:\\workspace\\javafx_test1&quot;&gt;\n            &lt;include name=&quot;src/**&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;mkdir dir=&quot;projectRefs&quot; /&gt;\n&lt;/target&gt;\n&lt;target name='do-compile'&gt;\n    &lt;delete dir=&quot;build&quot; /&gt;\n    &lt;mkdir dir=&quot;build/src&quot; /&gt;\n    &lt;mkdir dir=&quot;build/libs&quot; /&gt;\n    &lt;mkdir dir=&quot;build/classes&quot; /&gt;\n\n    &lt;!-- Copy project-libs references --&gt;\n    &lt;copy todir=&quot;build/libs&quot;&gt;\n        &lt;fileset dir=&quot;externalLibs&quot;&gt;\n            &lt;include name=&quot;javafx-swt.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.swing.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.base.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.web.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.controls.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.media.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;!-- Copy project references --&gt;\n\n    &lt;!-- Copy project sources itself --&gt;\n    &lt;copy todir=&quot;build/src&quot;&gt;\n        &lt;fileset dir=&quot;project/src&quot;&gt;\n            &lt;include name=&quot;**/*&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;javac includeantruntime=&quot;false&quot; source=&quot;18&quot; target=&quot;18&quot; srcdir=&quot;build/src&quot; destdir=&quot;build/classes&quot; encoding=&quot;UTF-8&quot;&gt;\n        &lt;classpath&gt;\n            &lt;fileset dir=&quot;build/libs&quot;&gt;\n                &lt;include name=&quot;javafx-swt.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.swing.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.base.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.web.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.controls.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.media.jar&quot;/&gt;\n            &lt;/fileset&gt;\n            &lt;filelist&gt;\n                &lt;file name=&quot;C:\\test\\jdk-18.0.2.1\\lib\\jfxrt.jar&quot;/&gt;\n            &lt;/filelist&gt;\n        &lt;/classpath&gt;\n    \n    &lt;/javac&gt;\n\n    &lt;!-- Copy over none Java-Files --&gt;\n    &lt;copy todir=&quot;build/classes&quot;&gt;\n    &lt;fileset dir=&quot;project/src&quot;&gt;\n        &lt;exclude name=&quot;**/*.java&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n\n&lt;/target&gt;\n&lt;target name=&quot;do-deploy&quot; depends=&quot;setup-staging-area, do-compile, init-fx-tasks&quot;&gt;\n    &lt;delete file=&quot;dist&quot;/&gt;\n    &lt;delete file=&quot;deploy&quot; /&gt;\n\n    &lt;mkdir dir=&quot;dist&quot; /&gt;\n    &lt;mkdir dir=&quot;dist/libs&quot; /&gt;\n\n    &lt;copy todir=&quot;dist/libs&quot;&gt;\n        &lt;fileset dir=&quot;externalLibs&quot;&gt;\n            &lt;include name=&quot;*&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n\n    &lt;fx:resources id=&quot;appRes&quot;&gt;\n        &lt;fx:fileset dir=&quot;dist&quot; includes=&quot;javafx_test1.jar&quot;/&gt;\n        &lt;fx:fileset dir=&quot;dist&quot; includes=&quot;libs/*&quot;/&gt;\n    &lt;/fx:resources&gt;\n\n    &lt;fx:application id=&quot;fxApplication&quot;\n        name=&quot;test34345&quot;\n        mainClass=&quot;application.Main&quot;\n    /&gt;\n\n    &lt;mkdir dir=&quot;build/classes/META-INF&quot; /&gt;\n\n\n\n    &lt;fx:jar destfile=&quot;dist/javafx_test1.jar&quot;&gt;\n        &lt;fx:application refid=&quot;fxApplication&quot;/&gt;\n        &lt;fileset dir=&quot;build/classes&quot;&gt;\n        &lt;/fileset&gt;\n        &lt;fx:resources refid=&quot;appRes&quot;/&gt;\n\n        &lt;manifest&gt;\n            &lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;makery.ch&quot;/&gt;\n            &lt;attribute name=&quot;Implementation-Title&quot; value=&quot;test34345&quot;/&gt;\n            &lt;attribute name=&quot;Implementation-Version&quot; value=&quot;1.0&quot;/&gt;\n            &lt;attribute name=&quot;JavaFX-Feature-Proxy&quot; value=&quot;None&quot;/&gt;\n        &lt;/manifest&gt;\n    &lt;/fx:jar&gt;\n\n\n    &lt;mkdir dir=&quot;deploy&quot; /&gt;\n    &lt;!-- Need to use ${basedir} because somehow the ant task is calculating the directory differently --&gt;\n    &lt;fx:deploy\n        embedJNLP=&quot;false&quot;\n        extension=&quot;false&quot;\n        includeDT=&quot;false&quot;\n        offlineAllowed=&quot;true&quot;\n        outdir=&quot;${basedir}/deploy&quot;\n        outfile=&quot;javafx_test1&quot; nativeBundles=&quot;exe&quot;\n        updatemode=&quot;background&quot; &gt;\n\n        &lt;fx:platform basedir=&quot;${java.home}&quot;/&gt;\n        &lt;fx:info title=&quot;javafx_test1&quot; vendor=&quot;makery.ch&quot;/&gt;\n\n        &lt;fx:application refId=&quot;fxApplication&quot;/&gt;\n        &lt;fx:resources refid=&quot;appRes&quot;/&gt;\n    &lt;/fx:deploy&gt;\n\n\n&lt;/target&gt;\n</code></pre>\n\n<p>above code is build.xml</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"comments":[{"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"score":3,"creation_date":1368025203,"post_id":16442839,"comment_id":23585225,"body_markdown":"Using the namespace configuration like above generates the following XML: `&lt;Foo xmlns=&quot;name&quot;&gt;\n  &lt;Bar&gt;\n    &lt;x&gt;x&lt;/x&gt;\n    &lt;y&gt;y&lt;/y&gt;\n  &lt;/Bar&gt;\n&lt;/Foo&gt;` - Can I assume this is synonymous with the sample XML I gave before?","body":"Using the namespace configuration like above generates the following XML: <code>&lt;Foo xmlns=&quot;name&quot;&gt;   &lt;Bar&gt;     &lt;x&gt;x&lt;&#47;x&gt;     &lt;y&gt;y&lt;&#47;y&gt;   &lt;&#47;Bar&gt; &lt;&#47;Foo&gt;</code> - Can I assume this is synonymous with the sample XML I gave before?"},{"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"score":1,"creation_date":1368025507,"post_id":16442839,"comment_id":23585405,"body_markdown":"@jtyler yes, this xml is similar to yours","body":"@jtyler yes, this xml is similar to yours"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":2,"creation_date":1473135447,"post_id":16442839,"comment_id":66011999,"body_markdown":"@Ilya: I am facing the same issue as in this question. I am also getting `&lt;Foo xmlns=&quot;name&quot;&gt; &lt;Bar&gt; &lt;x&gt;x&lt;/x&gt; &lt;y&gt;y&lt;/y&gt; &lt;/Bar&gt; &lt;/Foo&gt;`. How is this same as `&lt;name:foo&gt;&lt;/name:foo&gt;` ?? The prefix is not getting added. Can you elaborate ?","body":"@Ilya: I am facing the same issue as in this question. I am also getting <code>&lt;Foo xmlns=&quot;name&quot;&gt; &lt;Bar&gt; &lt;x&gt;x&lt;&#47;x&gt; &lt;y&gt;y&lt;&#47;y&gt; &lt;&#47;Bar&gt; &lt;&#47;Foo&gt;</code>. How is this same as <code>&lt;name:foo&gt;&lt;&#47;name:foo&gt;</code> ?? The prefix is not getting added. Can you elaborate ?"},{"owner":{"account_id":8229310,"reputation":619,"user_id":6190527,"display_name":"Christophe"},"score":0,"creation_date":1591871638,"post_id":16442839,"comment_id":110222677,"body_markdown":"@SiddharthTrikha my understanding is either you use xmlns directly with a name as you stated &lt;Foo xmlns=&quot;name&quot;&gt; which means the Foo tag is defined in the &quot;name&quot; namespace, or you give an alias to this namespace and use it like &lt;mynamespace:Foo xmlns:mynamespace=&quot;name&quot;&gt;","body":"@SiddharthTrikha my understanding is either you use xmlns directly with a name as you stated &lt;Foo xmlns=&quot;name&quot;&gt; which means the Foo tag is defined in the &quot;name&quot; namespace, or you give an alias to this namespace and use it like &lt;mynamespace:Foo xmlns:mynamespace=&quot;name&quot;&gt;"}],"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1368022461,"creation_date":1368021997,"answer_id":16442839,"question_id":16442805,"body_markdown":"`JacksonXmlProperty` annotation has property `namespace`. Use it for defining `namespace`  \r\n\r\n    public class Bar {\r\n        @JacksonXmlProperty(namespace = &quot;name&quot;,localName=&quot;x&quot;)\r\n        public String x = &quot;x&quot;;\r\n        @JacksonXmlProperty(namespace = &quot;name&quot;,localName=&quot;y&quot;)\r\n        public String y = &quot;y&quot;;\r\n    } \r\n\r\n    @JacksonXmlRootElement(namespace = &quot;name&quot;, localName = &quot;Foo&quot;)\r\n    public class Foo {\r\n       private Bar bar;\r\n    \r\n       @JacksonXmlProperty(namespace = &quot;name&quot;, localName = &quot;Bar&quot;)\r\n       public Bar getBar() {\r\n          return bar;\r\n       }\r\n    \r\n       public void setBar(Bar bar) {\r\n          this.bar = bar;\r\n       }\r\n    }\r\n\r\n  ","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p><code>JacksonXmlProperty</code> annotation has property <code>namespace</code>. Use it for defining <code>namespace</code>  </p>\n\n<pre><code>public class Bar {\n    @JacksonXmlProperty(namespace = \"name\",localName=\"x\")\n    public String x = \"x\";\n    @JacksonXmlProperty(namespace = \"name\",localName=\"y\")\n    public String y = \"y\";\n} \n\n@JacksonXmlRootElement(namespace = \"name\", localName = \"Foo\")\npublic class Foo {\n   private Bar bar;\n\n   @JacksonXmlProperty(namespace = \"name\", localName = \"Bar\")\n   public Bar getBar() {\n      return bar;\n   }\n\n   public void setBar(Bar bar) {\n      this.bar = bar;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617196382,"creation_date":1617196382,"answer_id":66888609,"question_id":16442805,"body_markdown":"Though this is an old post, I just ran into this issue and the only solution to match the XML required for my service calls was something like this, where the namespace declaration also uses the prefix.\r\n\r\n\r\n    @JacksonXmlRootElement(localName = &quot;entry&quot;)\r\n    abstract class BaseEntry implements Serializable { \r\n    \tprivate static final long serialVersionUID = 6835429382441010779L;\r\n        private final String xmlns = &quot;com.foo.bar&quot;; \r\n    \tprivate String type;\r\n    \t\r\n    \tprotected BaseEntry(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \t@JacksonXmlProperty(isAttribute = true)\r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \t\r\n    \t@JacksonXmlProperty(localName = &quot;xmlns:ns2&quot;, isAttribute = true)\r\n    \tpublic String getXmlns() {\r\n    \t\treturn xmlns;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nThis produces something like:\r\n\r\n    &lt;entry type=&quot;com.foo.bar&quot; xmlns:ns2=&quot;com.foo.bar&quot;&gt;\r\n    ...\r\n    &lt;/entry&gt;\r\n","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>Though this is an old post, I just ran into this issue and the only solution to match the XML required for my service calls was something like this, where the namespace declaration also uses the prefix.</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;entry&quot;)\nabstract class BaseEntry implements Serializable { \n    private static final long serialVersionUID = 6835429382441010779L;\n    private final String xmlns = &quot;com.foo.bar&quot;; \n    private String type;\n    \n    protected BaseEntry(String type) {\n        this.type = type;\n    }\n\n    @JacksonXmlProperty(isAttribute = true)\n    public String getType() {\n        return type;\n    }\n    \n    @JacksonXmlProperty(localName = &quot;xmlns:ns2&quot;, isAttribute = true)\n    public String getXmlns() {\n        return xmlns;\n    }\n}\n</code></pre>\n<p>This produces something like:</p>\n<pre><code>&lt;entry type=&quot;com.foo.bar&quot; xmlns:ns2=&quot;com.foo.bar&quot;&gt;\n...\n&lt;/entry&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666713325,"creation_date":1666713325,"answer_id":74196908,"question_id":16442805,"body_markdown":"Configuring the `xmlMapper` to ignore the namespace could avoid this exception.\r\n```java\r\nXMLInputFactory input = new WstxInputFactory();\r\ninput.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, Boolean.FALSE);\r\nXmlMapper xmlMapper = new XmlMapper(new XmlFactory(input, new WstxOutputFactory()));\r\n```\r\nComes from [this answer](https://stackoverflow.com/a/39343366/6483409).","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>Configuring the <code>xmlMapper</code> to ignore the namespace could avoid this exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>XMLInputFactory input = new WstxInputFactory();\ninput.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, Boolean.FALSE);\nXmlMapper xmlMapper = new XmlMapper(new XmlFactory(input, new WstxOutputFactory()));\n</code></pre>\n<p>Comes from <a href=\"https://stackoverflow.com/a/39343366/6483409\">this answer</a>.</p>\n"}],"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22516,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":16442839,"answer_count":3,"score":11,"last_activity_date":1666713325,"creation_date":1368021882,"question_id":16442805,"body_markdown":"I&#39;m working with the Jackson XML plugin (https://github.com/FasterXML/jackson-dataformat-xml), and I&#39;m not sure if it&#39;s supported, but I&#39;m wondering if it&#39;s possible to both serialize and deserialize XML with namespace prefixes, like so:\r\n\r\n    &lt;name:Foo&gt;\r\n      &lt;name:Bar&gt;\r\n        &lt;name:x&gt;x&lt;/name:x&gt;\r\n        &lt;name:y&gt;y&lt;/name:y&gt;\r\n      &lt;/name:Bar&gt;\r\n    &lt;/name:Foo&gt;\r\n\r\nI can generate this type of XML using Jackson&#39;s plugin like so:\r\n\r\n    @JacksonXmlProperty(localName=&quot;name:Bar&quot;)\r\n    public Bar getBar() {\r\n        return bar;\r\n    }\r\n\r\nHowever, I can&#39;t find a way to configure my POJOs to deserialize from the XML generated. Please see the following example code:\r\n\r\n    public class Bar{\r\n        @JacksonXmlProperty(localName=&quot;name:x&quot;)\r\n        public String x = &quot;x&quot;;\r\n        @JacksonXmlProperty(localName=&quot;name:y&quot;)\r\n        public String y = &quot;y&quot;;\r\n    }\r\n\r\n----\r\n\r\n    @JacksonXmlRootElement(localName=&quot;name:Foo&quot;)\r\n        public class Foo{\r\n            private Bar bar;\r\n\r\n            @JacksonXmlProperty(localName=&quot;name:Bar&quot;)\r\n            public Bar getBar() {\r\n\t           return bar;\r\n            }\r\n\r\n            public void setBar(Bar bar) {\r\n                this.bar = bar;\r\n            }\t\r\n    }\r\n\r\n----\r\n\r\n    public class TestDeserialization {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            Foo foo = new Foo();\r\n            foo.setBar(new Bar());\r\n\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            String xml = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(foo);\r\n            System.out.println(xml);\r\n            System.out.println(&quot;XML Desearialzing....&quot;);\r\n            Foo foo2= xmlMapper.readValue(xml, Foo.class);\r\n            System.out.println(xmlMapper.writeValueAsString(foo2));\r\n         }\r\n    }\r\n\r\nTrying to run this test gives me an exception: \r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: com.ctc.wstx.exc.WstxParsingException: Undeclared namespace prefix &quot;name&quot;\r\n\r\nwhich is understandable, but I was wondering if there&#39;s a way to get this to work with Jackson XML?","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>I'm working with the Jackson XML plugin (<a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml</a>), and I'm not sure if it's supported, but I'm wondering if it's possible to both serialize and deserialize XML with namespace prefixes, like so:</p>\n\n<pre><code>&lt;name:Foo&gt;\n  &lt;name:Bar&gt;\n    &lt;name:x&gt;x&lt;/name:x&gt;\n    &lt;name:y&gt;y&lt;/name:y&gt;\n  &lt;/name:Bar&gt;\n&lt;/name:Foo&gt;\n</code></pre>\n\n<p>I can generate this type of XML using Jackson's plugin like so:</p>\n\n<pre><code>@JacksonXmlProperty(localName=\"name:Bar\")\npublic Bar getBar() {\n    return bar;\n}\n</code></pre>\n\n<p>However, I can't find a way to configure my POJOs to deserialize from the XML generated. Please see the following example code:</p>\n\n<pre><code>public class Bar{\n    @JacksonXmlProperty(localName=\"name:x\")\n    public String x = \"x\";\n    @JacksonXmlProperty(localName=\"name:y\")\n    public String y = \"y\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@JacksonXmlRootElement(localName=\"name:Foo\")\n    public class Foo{\n        private Bar bar;\n\n        @JacksonXmlProperty(localName=\"name:Bar\")\n        public Bar getBar() {\n           return bar;\n        }\n\n        public void setBar(Bar bar) {\n            this.bar = bar;\n        }   \n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class TestDeserialization {\n\n    public static void main(String[] args) throws Exception {\n        Foo foo = new Foo();\n        foo.setBar(new Bar());\n\n        XmlMapper xmlMapper = new XmlMapper();\n        String xml = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(foo);\n        System.out.println(xml);\n        System.out.println(\"XML Desearialzing....\");\n        Foo foo2= xmlMapper.readValue(xml, Foo.class);\n        System.out.println(xmlMapper.writeValueAsString(foo2));\n     }\n}\n</code></pre>\n\n<p>Trying to run this test gives me an exception: </p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: com.ctc.wstx.exc.WstxParsingException: Undeclared namespace prefix \"name\"\n</code></pre>\n\n<p>which is understandable, but I was wondering if there's a way to get this to work with Jackson XML?</p>\n"},{"tags":["java","process","clearcase"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1489013347,"post_id":42683393,"comment_id":72490917,"body_markdown":"`destroyForcibly()`?","body":"<code>destroyForcibly()</code>?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1489013525,"post_id":42683393,"comment_id":72490996,"body_markdown":"Are you using a dynamic view and cleartool setview?","body":"Are you using a dynamic view and cleartool setview?"},{"owner":{"account_id":1742600,"reputation":151,"user_id":1593577,"accept_rate":0,"display_name":"RockManX77777"},"score":0,"creation_date":1489066178,"post_id":42683393,"comment_id":72515147,"body_markdown":"I tried `destroyForcibly()` at first but no change. I&#39;m using a snapshot view just having the process run in the `view` dir.","body":"I tried <code>destroyForcibly()</code> at first but no change. I&#39;m using a snapshot view just having the process run in the <code>view</code> dir."}],"answers":[{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489013401,"creation_date":1489013401,"answer_id":42683444,"question_id":42683393,"body_markdown":"see:\r\nhttps://stackoverflow.com/questions/6356340/killing-a-process-using-java\r\n\r\nBut be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092).\r\n","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>see:\n<a href=\"https://stackoverflow.com/questions/6356340/killing-a-process-using-java\">Killing a process using Java</a></p>\n<p>But be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092</a>).</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666712977,"creation_date":1666712977,"answer_id":74196832,"question_id":42683393,"body_markdown":"With `Java 9`, you can kill the subprocess of the main process reference.\r\n\r\n\r\n\r\n    LOGGER.info(&quot;Going to stop the process descendants (subprocesses) {}&quot;, this.process.descendants().collect(Collectors.toList()));\r\n    process.descendants().forEach((ProcessHandle d) -&gt; {\r\n        d.destroy();\r\n    });\r\n    \r\n    LOGGER.info(&quot;Going to stop the process {}&quot;, this.process);\r\n    process.destroy();\r\n\r\n\r\n\r\n","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>With <code>Java 9</code>, you can kill the subprocess of the main process reference.</p>\n<pre><code>LOGGER.info(&quot;Going to stop the process descendants (subprocesses) {}&quot;, this.process.descendants().collect(Collectors.toList()));\nprocess.descendants().forEach((ProcessHandle d) -&gt; {\n    d.destroy();\n});\n\nLOGGER.info(&quot;Going to stop the process {}&quot;, this.process);\nprocess.destroy();\n</code></pre>\n"}],"owner":{"account_id":1742600,"reputation":151,"user_id":1593577,"accept_rate":0,"display_name":"RockManX77777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666712977,"creation_date":1489013172,"question_id":42683393,"body_markdown":"I have a GUI that has many buttons. Each button creates a `Process` (`ProcessBuilder.start()`) that send of a predetermined ClearCase command with pre-set arguments.\r\n\r\nAfter calling `ProcessBuilder.start()`, I add the process to a list. When the program shuts down, I iterate through this list and call `destroy()` on each process. I&#39;m using `Runtime.getRuntime().addShutdownHook()` to try to iterate through my list.\r\n\r\nHowever, when I look in Windows Task Manager, I see that some `conhost.exe` and `cleartool.exe` processes are still alive. I suspect `Process.destroy()` is either not working or not propagating. Is there a way to completely clean up the program and kill all subprocesses when the user clicks X?","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>I have a GUI that has many buttons. Each button creates a <code>Process</code> (<code>ProcessBuilder.start()</code>) that send of a predetermined ClearCase command with pre-set arguments.</p>\n\n<p>After calling <code>ProcessBuilder.start()</code>, I add the process to a list. When the program shuts down, I iterate through this list and call <code>destroy()</code> on each process. I'm using <code>Runtime.getRuntime().addShutdownHook()</code> to try to iterate through my list.</p>\n\n<p>However, when I look in Windows Task Manager, I see that some <code>conhost.exe</code> and <code>cleartool.exe</code> processes are still alive. I suspect <code>Process.destroy()</code> is either not working or not propagating. Is there a way to completely clean up the program and kill all subprocesses when the user clicks X?</p>\n"},{"tags":["java","spring-boot","jwt","sign-in-with-apple"],"answers":[{"comments":[{"owner":{"account_id":4363480,"reputation":1648,"user_id":3559908,"display_name":"Vall0n"},"score":0,"creation_date":1591797076,"post_id":59873136,"comment_id":110192916,"body_markdown":"Also make sure to also set the `Content-Length` header correctly for the https://appleid.apple.com/auth/token call","body":"Also make sure to also set the <code>Content-Length</code> header correctly for the <a href=\"https://appleid.apple.com/auth/token\" rel=\"nofollow noreferrer\">appleid.apple.com/auth/token</a> call"}],"tags":[],"owner":{"account_id":7772956,"reputation":4764,"user_id":5881884,"accept_rate":75,"display_name":"DevB2F"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1579766419,"creation_date":1579763062,"answer_id":59873136,"question_id":59654777,"body_markdown":"This line caught my attention:\n\n    map.add(&quot;code&quot;, authorizationCode);  // JWT code we got from iOS\n\n\nThe `authorizationCode` is not a `jwt` \n\nJSON Web Tokens consist of 3 parts separated by dots\n\nbut the `authorizationCode` has 4 parts like this:\n\n    text1.text2.0.text3\n\n\nYou are probably using the `identityToken` from the iOS app instead of the `authorizationCode`\n\nThis is how you retrieve it:\n\n    let authorizationCode = String(data: appleIDCredential.authorizationCode!, encoding: .utf8)!\n    print(&quot;authorizationCode: \\(authorizationCode)&quot;)\n\n\nAlso good to have the following in mind for those who might come here after getting the same `invalid_client` error:\n\n&gt; 1. kid is the id for the private key from developer.apple.com/account/resources/authkeys/list\n&gt;\n&gt; 2. keyFile is the file holding the private key downloaded from developer.apple.com\n&gt;\n&gt; 3. teamID can be found by logging in to developer.apple.com and clicking on account, the teamID can be seen in the upper right corner\n&gt;\n&gt; 4. the value in aud should be https://appleid.apple.com\n&gt;\n&gt; 5. app_id is the bundle identifier for the app\n\n\nIn case it might help, here is a working solution in python to create a client_secret:\n\n    # $ pip install pyjwt\n    import jwt\n    import time\n\n    kid = &quot;myKeyId&quot;  \n    keyFile = &quot;/pathToFile/AuthKey.p8&quot;\n    key = &quot;&quot;\n    with open(keyFile, &#39;r&#39;) as myFile:\n        key = myFile.read()\n\n    print(key)\n\n    timeNow = int(round(time.time()))\n    time3Months = timeNow + 86400*90\n\n    claims = {\n        &#39;iss&#39;: teamID,\n        &#39;iat&#39;: timeNow,\n        &#39;exp&#39;: time3Months,\n        &#39;aud&#39;: &#39;https://appleid.apple.com&#39;,\n        &#39;sub&#39;: app_id,\n    }\n\n\n    secret = jwt.encode(claims, key, algorithm=&#39;ES256&#39;, headers={&#39;kid&#39;: kid})\n    print(&quot;secret:&quot;)\n    print(secret)\n    client_secret = secret.decode(&quot;utf-8&quot;)\n    print(client_secret)","title":"invalid_client for sign in with apple","body":"<p>This line caught my attention:</p>\n<pre><code>map.add(&quot;code&quot;, authorizationCode);  // JWT code we got from iOS\n</code></pre>\n<p>The <code>authorizationCode</code> is not a <code>jwt</code></p>\n<p>JSON Web Tokens consist of 3 parts separated by dots</p>\n<p>but the <code>authorizationCode</code> has 4 parts like this:</p>\n<pre><code>text1.text2.0.text3\n</code></pre>\n<p>You are probably using the <code>identityToken</code> from the iOS app instead of the <code>authorizationCode</code></p>\n<p>This is how you retrieve it:</p>\n<pre><code>let authorizationCode = String(data: appleIDCredential.authorizationCode!, encoding: .utf8)!\nprint(&quot;authorizationCode: \\(authorizationCode)&quot;)\n</code></pre>\n<p>Also good to have the following in mind for those who might come here after getting the same <code>invalid_client</code> error:</p>\n<blockquote>\n<ol>\n<li><p>kid is the id for the private key from developer.apple.com/account/resources/authkeys/list</p>\n</li>\n<li><p>keyFile is the file holding the private key downloaded from developer.apple.com</p>\n</li>\n<li><p>teamID can be found by logging in to developer.apple.com and clicking on account, the teamID can be seen in the upper right corner</p>\n</li>\n<li><p>the value in aud should be <a href=\"https://appleid.apple.com\" rel=\"nofollow noreferrer\">https://appleid.apple.com</a></p>\n</li>\n<li><p>app_id is the bundle identifier for the app</p>\n</li>\n</ol>\n</blockquote>\n<p>In case it might help, here is a working solution in python to create a client_secret:</p>\n<pre><code># $ pip install pyjwt\nimport jwt\nimport time\n\nkid = &quot;myKeyId&quot;  \nkeyFile = &quot;/pathToFile/AuthKey.p8&quot;\nkey = &quot;&quot;\nwith open(keyFile, 'r') as myFile:\n    key = myFile.read()\n\nprint(key)\n\ntimeNow = int(round(time.time()))\ntime3Months = timeNow + 86400*90\n\nclaims = {\n    'iss': teamID,\n    'iat': timeNow,\n    'exp': time3Months,\n    'aud': 'https://appleid.apple.com',\n    'sub': app_id,\n}\n\n\nsecret = jwt.encode(claims, key, algorithm='ES256', headers={'kid': kid})\nprint(&quot;secret:&quot;)\nprint(secret)\nclient_secret = secret.decode(&quot;utf-8&quot;)\nprint(client_secret)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7546583,"reputation":439,"user_id":5729377,"display_name":"Mujahed Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666712923,"creation_date":1666691307,"answer_id":74192126,"question_id":59654777,"body_markdown":"Save the clientSecret and appleToken into the local DB at login time with Apple ID.\r\n\r\n    func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {\r\n    print(&quot;didCompleteWithAuthorization : -\\(authorization)&quot;)\r\n    switch authorization.credential {\r\n    case let appleIDCredential as ASAuthorizationAppleIDCredential:\r\n        // Create an account in your system.\r\n        let userIdentifier = appleIDCredential.user\r\n        let fullName = appleIDCredential.fullName?.givenName\r\n        let email = appleIDCredential.email\r\n        \r\n        guard let appleIDToken = appleIDCredential.identityToken else {\r\n            print(&quot;Unable to fetch identity token&quot;)\r\n            return\r\n        }\r\n        guard let idTokenString = String(data: appleIDToken, encoding: .utf8) else {\r\n            return\r\n        }\r\n        StorageServices.storeInDefaults(object: idTokenString, key: &quot;appleToken&quot;)\r\n        // Add new code below\r\n        if let authorizationCode = appleIDCredential.authorizationCode,\r\n           let codeString = String(data: authorizationCode, encoding: .utf8) {\r\n            StorageServices.storeInDefaults(object: codeString, key: &quot;clientSecret&quot;)\r\n        }\r\n       \r\n    default:\r\n        break\r\n    }\r\n\r\n**call the apple token revoke api.**\r\n\r\n    \r\n    func callRevokeTokenAPI() {\r\n        guard let clientSecret =  StorageServices.readFromDefaults(key: &quot;clientSecret&quot;) as? String else {return}\r\n        guard let appleToken = StorageServices.readFromDefaults(key: &quot;appleToken&quot;) as? String  else {return}\r\n        let parameters = &quot;client_id=com.oxstren.Actofit-Wear&amp;client_secret=\\(clientSecret)&amp;token=\\(appleToken)&amp;token_type_hint=access_token&quot;\r\n        print(parameters)\r\n        let postData =  parameters.data(using: .utf8)\r\n        var request = URLRequest(url: URL(string: &quot;https://appleid.apple.com/auth/revoke&quot;)!,timeoutInterval: Double.infinity)\r\n        request.addValue(&quot;application/x-www-form-urlencoded&quot;, forHTTPHeaderField: &quot;Content-Type&quot;)\r\n        request.httpMethod = &quot;POST&quot;\r\n        request.httpBody = postData\r\n        let task = URLSession.shared.dataTask(with: request) { data, response, error in\r\n            guard let response = response as? HTTPURLResponse, error == nil else {\r\n                print(&quot;error&quot;, error ?? URLError(.badServerResponse))\r\n                return\r\n            }\r\n            print(response)\r\n          guard let data = data else {\r\n            print(String(describing: error))\r\n            return\r\n          }\r\n          print(String(data: data, encoding: .utf8)!)\r\n        }\r\n        task.resume()\r\n    } //end function body.","title":"invalid_client for sign in with apple","body":"<p>Save the clientSecret and appleToken into the local DB at login time with Apple ID.</p>\n<pre><code>func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {\nprint(&quot;didCompleteWithAuthorization : -\\(authorization)&quot;)\nswitch authorization.credential {\ncase let appleIDCredential as ASAuthorizationAppleIDCredential:\n    // Create an account in your system.\n    let userIdentifier = appleIDCredential.user\n    let fullName = appleIDCredential.fullName?.givenName\n    let email = appleIDCredential.email\n    \n    guard let appleIDToken = appleIDCredential.identityToken else {\n        print(&quot;Unable to fetch identity token&quot;)\n        return\n    }\n    guard let idTokenString = String(data: appleIDToken, encoding: .utf8) else {\n        return\n    }\n    StorageServices.storeInDefaults(object: idTokenString, key: &quot;appleToken&quot;)\n    // Add new code below\n    if let authorizationCode = appleIDCredential.authorizationCode,\n       let codeString = String(data: authorizationCode, encoding: .utf8) {\n        StorageServices.storeInDefaults(object: codeString, key: &quot;clientSecret&quot;)\n    }\n   \ndefault:\n    break\n}\n</code></pre>\n<p><strong>call the apple token revoke api.</strong></p>\n<pre><code>func callRevokeTokenAPI() {\n    guard let clientSecret =  StorageServices.readFromDefaults(key: &quot;clientSecret&quot;) as? String else {return}\n    guard let appleToken = StorageServices.readFromDefaults(key: &quot;appleToken&quot;) as? String  else {return}\n    let parameters = &quot;client_id=com.oxstren.Actofit-Wear&amp;client_secret=\\(clientSecret)&amp;token=\\(appleToken)&amp;token_type_hint=access_token&quot;\n    print(parameters)\n    let postData =  parameters.data(using: .utf8)\n    var request = URLRequest(url: URL(string: &quot;https://appleid.apple.com/auth/revoke&quot;)!,timeoutInterval: Double.infinity)\n    request.addValue(&quot;application/x-www-form-urlencoded&quot;, forHTTPHeaderField: &quot;Content-Type&quot;)\n    request.httpMethod = &quot;POST&quot;\n    request.httpBody = postData\n    let task = URLSession.shared.dataTask(with: request) { data, response, error in\n        guard let response = response as? HTTPURLResponse, error == nil else {\n            print(&quot;error&quot;, error ?? URLError(.badServerResponse))\n            return\n        }\n        print(response)\n      guard let data = data else {\n        print(String(describing: error))\n        return\n      }\n      print(String(data: data, encoding: .utf8)!)\n    }\n    task.resume()\n} //end function body.\n</code></pre>\n"}],"owner":{"account_id":744529,"reputation":409,"user_id":899178,"accept_rate":80,"display_name":"Irina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5270,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59873136,"answer_count":2,"score":5,"last_activity_date":1666712923,"creation_date":1578523057,"question_id":59654777,"body_markdown":"What I try to achieve:\r\n\r\n- iOS client sends a JWT token to the backend.\r\n- Backend (Java) calls https://appleid.apple.com/auth/token to verify the token.\r\n\r\nwhat I have so far:\r\n\r\nto make Apple verification call:\r\n```\r\n        restTemplate = new RestTemplate();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n        map.add(&quot;client_id&quot;, clientId); // app_id like com.app.id\r\n        String token = generateJWT();   // generated jwt\r\n        map.add(&quot;client_secret&quot;, token); \r\n        map.add(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n        map.add(&quot;code&quot;, authorizationCode);  // JWT code we got from iOS\r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n\r\n        final String appleAuthURL = &quot;https://appleid.apple.com/auth/token&quot;;\r\n        String response = restTemplate.postForObject(appleAuthURL, request, String.class);\r\n```\r\n\r\ntoken generation:\r\n```\r\n        final PrivateKey privateKey = getPrivateKey();\r\n        final int expiration = 1000 * 60 * 5;\r\n\r\n        String token = Jwts.builder()\r\n                .setHeaderParam(JwsHeader.KEY_ID, keyId) // key id I got from Apple \r\n                .setIssuer(teamId)  \r\n                .setAudience(&quot;https://appleid.apple.com&quot;)\r\n                .setSubject(clientId) // app id com.app.id\r\n                .setExpiration(new Date(System.currentTimeMillis() + expiration))\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .signWith(SignatureAlgorithm.ES256, privateKey) // ECDSA using P-256 and SHA-256\r\n                .compact();\r\n\r\n        return token;\r\n```\r\n\r\nto get my private key from the file:\r\n```\r\n        final Reader pemReader = new StringReader(getKeyData());\r\n        final PEMParser pemParser = new PEMParser(pemReader);\r\n        final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n        final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\r\n        final PrivateKey pKey = converter.getPrivateKey(object);\r\n```\r\n\r\nI confirmed my JWT has all required fields: \r\n```\r\n{\r\n  &quot;kid&quot;: &quot;SAME KEY AS MY KEY ID&quot;,\r\n  &quot;alg&quot;: &quot;ES256&quot;\r\n}\r\n\r\n{\r\n  &quot;iss&quot;: &quot;Blahblah&quot;,\r\n  &quot;aud&quot;: &quot;https://appleid.apple.com&quot;,\r\n  &quot;sub&quot;: &quot;com.app.id&quot;,\r\n  &quot;exp&quot;: 1578513833,\r\n  &quot;iat&quot;: 1578513533\r\n}\r\n```\r\n\r\n","title":"invalid_client for sign in with apple","body":"<p>What I try to achieve:</p>\n\n<ul>\n<li>iOS client sends a JWT token to the backend.</li>\n<li>Backend (Java) calls <a href=\"https://appleid.apple.com/auth/token\" rel=\"noreferrer\">https://appleid.apple.com/auth/token</a> to verify the token.</li>\n</ul>\n\n<p>what I have so far:</p>\n\n<p>to make Apple verification call:</p>\n\n<pre><code>        restTemplate = new RestTemplate();\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n        map.add(\"client_id\", clientId); // app_id like com.app.id\n        String token = generateJWT();   // generated jwt\n        map.add(\"client_secret\", token); \n        map.add(\"grant_type\", \"authorization_code\");\n        map.add(\"code\", authorizationCode);  // JWT code we got from iOS\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n\n        final String appleAuthURL = \"https://appleid.apple.com/auth/token\";\n        String response = restTemplate.postForObject(appleAuthURL, request, String.class);\n</code></pre>\n\n<p>token generation:</p>\n\n<pre><code>        final PrivateKey privateKey = getPrivateKey();\n        final int expiration = 1000 * 60 * 5;\n\n        String token = Jwts.builder()\n                .setHeaderParam(JwsHeader.KEY_ID, keyId) // key id I got from Apple \n                .setIssuer(teamId)  \n                .setAudience(\"https://appleid.apple.com\")\n                .setSubject(clientId) // app id com.app.id\n                .setExpiration(new Date(System.currentTimeMillis() + expiration))\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .signWith(SignatureAlgorithm.ES256, privateKey) // ECDSA using P-256 and SHA-256\n                .compact();\n\n        return token;\n</code></pre>\n\n<p>to get my private key from the file:</p>\n\n<pre><code>        final Reader pemReader = new StringReader(getKeyData());\n        final PEMParser pemParser = new PEMParser(pemReader);\n        final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n        final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\n        final PrivateKey pKey = converter.getPrivateKey(object);\n</code></pre>\n\n<p>I confirmed my JWT has all required fields: </p>\n\n<pre><code>{\n  \"kid\": \"SAME KEY AS MY KEY ID\",\n  \"alg\": \"ES256\"\n}\n\n{\n  \"iss\": \"Blahblah\",\n  \"aud\": \"https://appleid.apple.com\",\n  \"sub\": \"com.app.id\",\n  \"exp\": 1578513833,\n  \"iat\": 1578513533\n}\n</code></pre>\n"},{"tags":["java","hadoop","oom"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666712808,"post_id":74191471,"comment_id":130999501,"body_markdown":"Add more RAM to your node","body":"Add more RAM to your node"},{"owner":{"account_id":9788208,"reputation":1,"user_id":7253828,"display_name":"kant"},"score":0,"creation_date":1666721908,"post_id":74191471,"comment_id":131002366,"body_markdown":"Thanks\n This issue is because of i forgot to mention g with memory options in saprk-submit.\nit got fixed.\nBut getting different error now:\n\tdoes not existread &quot;main&quot; java.io.FileNotFoundException: File file:&lt;full ptah &amp; filename&gt; at org.apache.hadoop.fs.RawLocalFileSystem.deprecatedGetFileStatus(RawLocalFileSystem.java:634)","body":"Thanks  This issue is because of i forgot to mention g with memory options in saprk-submit. it got fixed. But getting different error now: \tdoes not existread &quot;main&quot; java.io.FileNotFoundException: File file:&lt;full ptah &amp; filename&gt; at org.apache.hadoop.fs.RawLocalFileSystem.deprecatedGetFileSta&zwnj;&#8203;tus(RawLocalFileSyst&zwnj;&#8203;em.java:634)"}],"owner":{"account_id":9788208,"reputation":1,"user_id":7253828,"display_name":"kant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666968669,"answer_count":0,"score":0,"last_activity_date":1666712821,"creation_date":1666688049,"question_id":74191471,"body_markdown":"Trying to submit job to dataproc cluster from edge node.\r\nGetting error - My java version installed \r\nwhich java \r\n/usr/bin/java\r\n\r\nopenjdk version &quot;1.8.0_332&quot;\r\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)\r\nOpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)\r\n \r\n\r\n        Error: A JNI error has occurred, please check your installation and try again\r\n        Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at sun.misc.IOUtils.readNBytes(IOUtils.java:213)\r\n        at sun.misc.IOUtils.readAllBytes(IOUtils.java:116)\r\n        at java.util.jar.JarFile.getBytes(JarFile.java:441)\r\n        at java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:575)\r\n        at java.util.jar.JarFile.hasClassPathAttribute(JarFile.java:538)\r\n        at java.util.jar.JavaUtilJarAccessImpl.jarFileHasClassPathAttribute(JavaUtilJarAccessImpl.java:37\r\n        at sun.misc.URLClassPath$JarLoader.getClassPath(URLClassPath.java:1212)\r\n        at sun.misc.URLClassPath.getLoader(URLClassPath.java:533)\r\n        at sun.misc.URLClassPath.getNextLoader(URLClassPath.java:495)\r\n        at sun.misc.URLClassPath.getResource(URLClassPath.java:249)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)&gt;","title":"Hadoop edge node Issues","body":"<p>Trying to submit job to dataproc cluster from edge node.\nGetting error - My java version installed\nwhich java\n/usr/bin/java</p>\n<p>openjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)</p>\n<pre><code>    Error: A JNI error has occurred, please check your installation and try again\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at sun.misc.IOUtils.readNBytes(IOUtils.java:213)\n    at sun.misc.IOUtils.readAllBytes(IOUtils.java:116)\n    at java.util.jar.JarFile.getBytes(JarFile.java:441)\n    at java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:575)\n    at java.util.jar.JarFile.hasClassPathAttribute(JarFile.java:538)\n    at java.util.jar.JavaUtilJarAccessImpl.jarFileHasClassPathAttribute(JavaUtilJarAccessImpl.java:37\n    at sun.misc.URLClassPath$JarLoader.getClassPath(URLClassPath.java:1212)\n    at sun.misc.URLClassPath.getLoader(URLClassPath.java:533)\n    at sun.misc.URLClassPath.getNextLoader(URLClassPath.java:495)\n    at sun.misc.URLClassPath.getResource(URLClassPath.java:249)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666712455,"creation_date":1666712455,"answer_id":74196721,"question_id":74196234,"body_markdown":"I expect most of these issues will be solved if you drop the partition decorator from `dest`. In most cases the BigQuery APIs for loading data will  be able to figure out the right partition based on the messages themselves.\r\n\r\nSo try changing your definition of `dest` to:\r\n\r\n```\r\nString dest = String.format(&quot;%s.%s.%s&quot;, project, dataset, table);\r\n```","title":"Apache Beam Streaming unable to write to BigQuery column-based partition","body":"<p>I expect most of these issues will be solved if you drop the partition decorator from <code>dest</code>. In most cases the BigQuery APIs for loading data will  be able to figure out the right partition based on the messages themselves.</p>\n<p>So try changing your definition of <code>dest</code> to:</p>\n<pre><code>String dest = String.format(&quot;%s.%s.%s&quot;, project, dataset, table);\n</code></pre>\n"}],"owner":{"account_id":15985780,"reputation":59,"user_id":11536314,"display_name":"Jay-r Bangit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74196721,"answer_count":1,"score":1,"last_activity_date":1666712707,"creation_date":1666710410,"question_id":74196234,"body_markdown":"I&#39;m currently building a streaming pipeline using Java SDK and trying to write to a BigQuery partitioned table using the BigQueryIO write/writeTableRows. I explored a couple of patterns but none of them succeed; few of them are below.\r\n\r\n- Using SerializableFunction to determine TableDestination\r\n\r\n```\r\n.withSchema(TableSchemaFactory.buildLineageSchema())\r\n.withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED) or CREATE_NEVER\r\n.withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND)\r\n\r\n\r\nand then calling this function inside the .to() method\r\n\r\n    @Override\r\n    public TableDestination apply(ValueInSingleWindow&lt;TableRow&gt; input) {\r\n\r\n        TimePartitioning timePartitioning = new TimePartitioning();\r\n        timePartitioning.setField(&quot;processingdate&quot;);\r\n        String dest = String.format(&quot;%s.%s.%s&quot;, project, dataset, table);\r\n        return new TableDestination(dest, null, timePartitioning);\r\n\r\n```\r\n\r\nI also tried to format the partition column obtained from input and add it as part of the String location with $ annotation, like below:\r\n\r\n```\r\n@Override\r\npublic TableDestination apply(ValueInSingleWindow&lt;TableRow&gt; input) {\r\n\r\n        input.get(&quot;processingDate&quot;)\r\n        ...convert to string MMddYYYY format\r\n    \r\n        TimePartitioning timePartitioning = new TimePartitioning();\r\n        timePartitioning.setField(&quot;processingdate&quot;);\r\n        String dest = String.format(&quot;%s.%s.%s$%s&quot;, project, dataset, table, convertedDate);\r\n        return new TableDestination(dest, null, timePartitioning);\r\n```\r\n\r\nhowever, none of them succeed, either failing with \r\n - invalid timestamp\r\n - timestamp field value out of range\r\n - You can only stream to partitions within 0 days in the past and 0 days in the future relative to the current date.\r\n - The destination table&#39;s partition is not supported for streaming. You can only stream to meta-table of date partitioned tables.\r\n - Streaming to metadata partition of column based partitioning table is disallowed.\r\n\r\nI can&#39;t seem to get the right combination. Has anyone encountered the same issue before? Can anyone point me to the right direction or give me some pointers? what I want to achieve is load the streaming data based on the date column defined and not on processing time.\r\n\r\nThank you!\r\n","title":"Apache Beam Streaming unable to write to BigQuery column-based partition","body":"<p>I'm currently building a streaming pipeline using Java SDK and trying to write to a BigQuery partitioned table using the BigQueryIO write/writeTableRows. I explored a couple of patterns but none of them succeed; few of them are below.</p>\n<ul>\n<li>Using SerializableFunction to determine TableDestination</li>\n</ul>\n<pre><code>.withSchema(TableSchemaFactory.buildLineageSchema())\n.withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED) or CREATE_NEVER\n.withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND)\n\n\nand then calling this function inside the .to() method\n\n    @Override\n    public TableDestination apply(ValueInSingleWindow&lt;TableRow&gt; input) {\n\n        TimePartitioning timePartitioning = new TimePartitioning();\n        timePartitioning.setField(&quot;processingdate&quot;);\n        String dest = String.format(&quot;%s.%s.%s&quot;, project, dataset, table);\n        return new TableDestination(dest, null, timePartitioning);\n\n</code></pre>\n<p>I also tried to format the partition column obtained from input and add it as part of the String location with $ annotation, like below:</p>\n<pre><code>@Override\npublic TableDestination apply(ValueInSingleWindow&lt;TableRow&gt; input) {\n\n        input.get(&quot;processingDate&quot;)\n        ...convert to string MMddYYYY format\n    \n        TimePartitioning timePartitioning = new TimePartitioning();\n        timePartitioning.setField(&quot;processingdate&quot;);\n        String dest = String.format(&quot;%s.%s.%s$%s&quot;, project, dataset, table, convertedDate);\n        return new TableDestination(dest, null, timePartitioning);\n</code></pre>\n<p>however, none of them succeed, either failing with</p>\n<ul>\n<li>invalid timestamp</li>\n<li>timestamp field value out of range</li>\n<li>You can only stream to partitions within 0 days in the past and 0 days in the future relative to the current date.</li>\n<li>The destination table's partition is not supported for streaming. You can only stream to meta-table of date partitioned tables.</li>\n<li>Streaming to metadata partition of column based partitioning table is disallowed.</li>\n</ul>\n<p>I can't seem to get the right combination. Has anyone encountered the same issue before? Can anyone point me to the right direction or give me some pointers? what I want to achieve is load the streaming data based on the date column defined and not on processing time.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1595230469,"post_id":62990401,"comment_id":111391027,"body_markdown":"Have already read [the spring framework docs on task scheduling](https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/scheduling.html)? Could you explain a bit more what exactly is unclear to you about the provided Scheduler implementations?","body":"Have already read <a href=\"https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/scheduling.html\" rel=\"nofollow noreferrer\">the spring framework docs on task scheduling</a>? Could you explain a bit more what exactly is unclear to you about the provided Scheduler implementations?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1595230560,"post_id":62990401,"comment_id":111391069,"body_markdown":"Read the Spring Boot Documentation. https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-task-execution-scheduling There is also Quartz https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-quartz","body":"Read the Spring Boot Documentation. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-task-execution-scheduling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> There is also Quartz <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-quartz\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":14012694,"reputation":1,"user_id":10120923,"display_name":"suraj singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666712542,"creation_date":1595229656,"question_id":62990401,"body_markdown":"I am working on project where task scheduling is going to use and I have confusion that which task scheduler implements class is use for me where `n` number of requests will arrive in my API and process the task in given scheduling time.\r\n\r\nList of class are:\r\n1. concurrent task scheduling\r\n2. thread pool task scheduling\r\n3. others\r\n","title":"Difference Between of different types of taskscheduler implements classes?","body":"<p>I am working on project where task scheduling is going to use and I have confusion that which task scheduler implements class is use for me where <code>n</code> number of requests will arrive in my API and process the task in given scheduling time.</p>\n<p>List of class are:</p>\n<ol>\n<li>concurrent task scheduling</li>\n<li>thread pool task scheduling</li>\n<li>others</li>\n</ol>\n"},{"tags":["java","amazon-web-services","uuid"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1558331881,"post_id":40421193,"comment_id":99050790,"body_markdown":"The [`UUID`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/UUID.html) class built into Java can *represent* any Version of UUID (1, 2, 3, 4, and 5) value, but can only *generate* Version 4 values. Generating the other types means either looking for a library or using an external resource such as your database.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> class built into Java can <i>represent</i> any Version of UUID (1, 2, 3, 4, and 5) value, but can only <i>generate</i> Version 4 values. Generating the other types means either looking for a library or using an external resource such as your database."}],"answers":[{"comments":[{"owner":{"account_id":3397118,"reputation":683,"user_id":2850437,"accept_rate":35,"display_name":"Eric"},"score":0,"creation_date":1478346476,"post_id":40434286,"comment_id":68122942,"body_markdown":"I think this is what I should use. But how can I get the key after the PutItemRequest? With the java sdk [withReturnValues](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/PutItemRequest.html#withReturnValues-com.amazonaws.services.dynamodbv2.model.ReturnValue-)  of `PutItemRequest` can only return old values.","body":"I think this is what I should use. But how can I get the key after the PutItemRequest? With the java sdk <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/PutItemRequest.html#withReturnValues-com.amazonaws.services.dynamodbv2.model.ReturnValue-\" rel=\"nofollow noreferrer\">withReturnValues</a>  of <code>PutItemRequest</code> can only return old values."},{"owner":{"account_id":1645844,"reputation":5449,"user_id":1517410,"display_name":"ketan vijayvargiya"},"score":0,"creation_date":1478346624,"post_id":40434286,"comment_id":68122982,"body_markdown":"use DynamoDBMapper. it&#39;ll return the entire saved object.","body":"use DynamoDBMapper. it&#39;ll return the entire saved object."}],"tags":[],"owner":{"account_id":1645844,"reputation":5449,"user_id":1517410,"display_name":"ketan vijayvargiya"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478314385,"creation_date":1478314385,"answer_id":40434286,"question_id":40421193,"body_markdown":"If all you care about is randomly generated strings in a distributed environment, you should be able to rely on `UUID.randomUUID()` from [java.util.UUID][1].\r\n\r\nFor e.g., look at the [DynamoDBMapper][2] class, that provides high-level abstraction for DynamoDB APIs. For all `@DynamoDBHashKey` fields that are marked as `@DynamoDBAutoGeneratedKey`, it internally uses the above method:\r\n\r\n&gt; Marks a partition key or sort key property as being auto-generated. DynamoDBMapper will generate a random [UUID][3] when saving these attributes.\r\n\r\nIf it works for DynamoDB, chances are high that it&#39;ll work for you too!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\r\n  [2]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html","title":"Generate UUID Version 2 in Java","body":"<p>If all you care about is randomly generated strings in a distributed environment, you should be able to rely on <code>UUID.randomUUID()</code> from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">java.util.UUID</a>.</p>\n\n<p>For e.g., look at the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\" rel=\"nofollow noreferrer\">DynamoDBMapper</a> class, that provides high-level abstraction for DynamoDB APIs. For all <code>@DynamoDBHashKey</code> fields that are marked as <code>@DynamoDBAutoGeneratedKey</code>, it internally uses the above method:</p>\n\n<blockquote>\n  <p>Marks a partition key or sort key property as being auto-generated. DynamoDBMapper will generate a random <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">UUID</a> when saving these attributes.</p>\n</blockquote>\n\n<p>If it works for DynamoDB, chances are high that it'll work for you too!</p>\n"},{"tags":[],"owner":{"account_id":3984083,"reputation":321,"user_id":3285233,"display_name":"trindflo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558330626,"creation_date":1558130692,"answer_id":56194105,"question_id":40421193,"body_markdown":"Yes, it exists, but it is not a good use of resources for most applications.  I spent a while trying to find it, which is why I&#39;m posting a link here:\r\n[Java Practices -&gt; Generating Unique IDs][1]\r\n\r\nIt is a significant article, and it does not seem appropriate to simply copy the work to post it here.  In summary, you must generate a random number then use its digest to form an appropriate length string.  Doing this can be time consuming and thus inappropriate for IDs you want to create &quot;on the fly&quot;.\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=56","title":"Generate UUID Version 2 in Java","body":"<p>Yes, it exists, but it is not a good use of resources for most applications.  I spent a while trying to find it, which is why I'm posting a link here:\n<a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=56\" rel=\"nofollow noreferrer\">Java Practices -> Generating Unique IDs</a></p>\n\n<p>It is a significant article, and it does not seem appropriate to simply copy the work to post it here.  In summary, you must generate a random number then use its digest to form an appropriate length string.  Doing this can be time consuming and thus inappropriate for IDs you want to create \"on the fly\".</p>\n"},{"comments":[{"owner":{"account_id":2479785,"reputation":311,"user_id":2159487,"accept_rate":40,"display_name":"Anurag Ratna"},"score":1,"creation_date":1587050232,"post_id":57346823,"comment_id":108362217,"body_markdown":"Generators.timeBasedGenerator() method will generate type-1 UUID.\nIt will not generate UUID-2","body":"Generators.timeBasedGenerator() method will generate type-1 UUID. It will not generate UUID-2"}],"tags":[],"owner":{"account_id":481449,"reputation":1180,"user_id":895295,"accept_rate":50,"display_name":"Leo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666712349,"creation_date":1564924095,"answer_id":57346823,"question_id":40421193,"body_markdown":"Here&#39;s a quick excerpt for a type 1 (not random-based, but rather time-based UUID):\r\n\r\nMaven Dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSample App:\r\n```\r\n\r\nimport com.fasterxml.uuid.EthernetAddress;\r\nimport com.fasterxml.uuid.Generators;\r\n\r\n/**\r\n * Java UUID Generator\r\n *\r\n */\r\npublic class UUIDVersionExample {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n    String uuidType1= Generators.timeBasedGenerator(EthernetAddress.fromInterface()).generate().toString();\r\n       System.out.println(&quot;UUID=&quot; +uuidType1);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"Generate UUID Version 2 in Java","body":"<p>Here's a quick excerpt for a type 1 (not random-based, but rather time-based UUID):</p>\n<p>Maven Dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n    &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Sample App:</p>\n<pre><code>\nimport com.fasterxml.uuid.EthernetAddress;\nimport com.fasterxml.uuid.Generators;\n\n/**\n * Java UUID Generator\n *\n */\npublic class UUIDVersionExample {\n\n    public static void main(String[] args) {\n        \n    String uuidType1= Generators.timeBasedGenerator(EthernetAddress.fromInterface()).generate().toString();\n       System.out.println(&quot;UUID=&quot; +uuidType1);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3397118,"reputation":683,"user_id":2850437,"accept_rate":35,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3737,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666712349,"creation_date":1478257897,"question_id":40421193,"body_markdown":"I&#39;m about to create a distributed computing environment in Java hosted on aws. I will have several computing nodes and need to generate unique UUIDs (will be used as database keys later on).\r\n\r\nAs far as I understand the [UUID][1] specification says only [UUID Version 2][2] is safe for a dce.\r\n\r\nIs there any existing implementation in Java?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_2_(date-time_and_MAC_address,_DCE_security_version)","title":"Generate UUID Version 2 in Java","body":"<p>I'm about to create a distributed computing environment in Java hosted on aws. I will have several computing nodes and need to generate unique UUIDs (will be used as database keys later on).</p>\n\n<p>As far as I understand the <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> specification says only <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_2_(date-time_and_MAC_address,_DCE_security_version)\" rel=\"nofollow noreferrer\">UUID Version 2</a> is safe for a dce.</p>\n\n<p>Is there any existing implementation in Java?</p>\n"},{"tags":["java","spring","ssl","https","microservices"],"answers":[{"tags":[],"owner":{"account_id":26729105,"reputation":11,"user_id":20331781,"display_name":"chetna pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666711671,"creation_date":1666711671,"answer_id":74196535,"question_id":72447658,"body_markdown":"The same problem is encountered,While working with microservice architecture the solution which i used is this:\r\n\r\n 1. Enable https only on spring cloud gateway.\r\n 2. No need to enable https on microservice.\r\n \r\nIn that way you are able to call your microservices from spring cloud gateway.\r\nI hope this solution will provide you help!!\r\n\r\n ","title":"Spring cloud gateway This combination of host and port requires TLS","body":"<p>The same problem is encountered,While working with microservice architecture the solution which i used is this:</p>\n<ol>\n<li>Enable https only on spring cloud gateway.</li>\n<li>No need to enable https on microservice.</li>\n</ol>\n<p>In that way you are able to call your microservices from spring cloud gateway.\nI hope this solution will provide you help!!</p>\n"}],"owner":{"account_id":25325713,"reputation":23,"user_id":19146401,"display_name":"Lucidity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666711671,"creation_date":1653999447,"question_id":72447658,"body_markdown":"I&#39;m working on microservices using spring cloud gateway to centralize all the requests, and then I changed to use https. Untill now everything is working greate I created my self signed certificate and used it in evey microservice and made a test of sending GET,POST,DELETE to evey micro and everything is greate, and then the problem comes in when I tried to send http requests to the micros via the spring cloud gateway it displays this `Bad Request\r\nThis combination of host and port requires TLS.\r\n`\r\n\r\nI generated my certificate with this command:\r\n\r\n    keytool -genkeypair -alias statement -keystore src/main/resources/statement-keystore.p12 -keypass secret -storeType PKCS12 -storepass secret -keyalg RSA -keysize 2048 -validity 365 -dname &quot;C=MA, ST=ST, L=L, O=statement, OU=statement, CN=localhost&quot; -ext &quot;SAN=dns:localhost&quot;\r\n\r\nspring cloud gateway app.yml:\r\n\r\n    server:\r\n        port: 8765\r\n        ssl:\r\n            enabled: true\r\n            key-alias: statement\r\n            key-store: classpath:statement-keystore.p12\r\n            key-store-password: secret\r\n            key-store-type: PKCS12\r\n\r\n\r\nexample:\r\nI have one micro running on port `8081` so if I test GET request like this `https://localhost:8081/api/v1/statemnts` it returns 200 and displays the data, but if I try with spring cloud port `https://localhost:8765/api/v1/statemnts` this returns `This combination of host and port requires TLS.`\r\n\r\nPS:\r\n- I&#39;m using zipkin and rabbitmq as tracing system using http.\r\n- I uploaded my certificate to postman even that the problem occurs.\r\n- This is happening in both postman and browser\r\n- If any other details needed I&#39;ll add more\r\n\r\nThanks in advance.","title":"Spring cloud gateway This combination of host and port requires TLS","body":"<p>I'm working on microservices using spring cloud gateway to centralize all the requests, and then I changed to use https. Untill now everything is working greate I created my self signed certificate and used it in evey microservice and made a test of sending GET,POST,DELETE to evey micro and everything is greate, and then the problem comes in when I tried to send http requests to the micros via the spring cloud gateway it displays this <code>Bad Request This combination of host and port requires TLS. </code></p>\n<p>I generated my certificate with this command:</p>\n<pre><code>keytool -genkeypair -alias statement -keystore src/main/resources/statement-keystore.p12 -keypass secret -storeType PKCS12 -storepass secret -keyalg RSA -keysize 2048 -validity 365 -dname &quot;C=MA, ST=ST, L=L, O=statement, OU=statement, CN=localhost&quot; -ext &quot;SAN=dns:localhost&quot;\n</code></pre>\n<p>spring cloud gateway app.yml:</p>\n<pre><code>server:\n    port: 8765\n    ssl:\n        enabled: true\n        key-alias: statement\n        key-store: classpath:statement-keystore.p12\n        key-store-password: secret\n        key-store-type: PKCS12\n</code></pre>\n<p>example:\nI have one micro running on port <code>8081</code> so if I test GET request like this <code>https://localhost:8081/api/v1/statemnts</code> it returns 200 and displays the data, but if I try with spring cloud port <code>https://localhost:8765/api/v1/statemnts</code> this returns <code>This combination of host and port requires TLS.</code></p>\n<p>PS:</p>\n<ul>\n<li>I'm using zipkin and rabbitmq as tracing system using http.</li>\n<li>I uploaded my certificate to postman even that the problem occurs.</li>\n<li>This is happening in both postman and browser</li>\n<li>If any other details needed I'll add more</li>\n</ul>\n<p>Thanks in advance.</p>\n"},{"tags":["java","servlets","servlet-filters"],"comments":[{"owner":{"account_id":4130036,"reputation":3449,"user_id":3388227,"accept_rate":71,"display_name":"Nazaret K."},"score":0,"creation_date":1570100302,"post_id":58217121,"comment_id":102811365,"body_markdown":"Sounds strange.. Are you setting any response headers anywhere (e.g. in another Filter?). Or maybe the access_blocked.html contains any special characters? See: https://stackoverflow.com/questions/19257824/what-determines-whether-a-browser-will-open-or-download-a-txt-file","body":"Sounds strange.. Are you setting any response headers anywhere (e.g. in another Filter?). Or maybe the access_blocked.html contains any special characters? See: <a href=\"https://stackoverflow.com/questions/19257824/what-determines-whether-a-browser-will-open-or-download-a-txt-file\" title=\"what determines whether a browser will open or download a txt file\">stackoverflow.com/questions/19257824/&hellip;</a>"},{"owner":{"account_id":16816974,"reputation":1,"user_id":12158550,"display_name":"ash_raw"},"score":0,"creation_date":1570101155,"post_id":58217121,"comment_id":102811846,"body_markdown":"Yes I have tried setting the header to &quot;text/html&quot; but still getting same issue. When I try to access &quot;access_blocked.html&quot; from browser address bar, it is accessible.","body":"Yes I have tried setting the header to &quot;text/html&quot; but still getting same issue. When I try to access &quot;access_blocked.html&quot; from browser address bar, it is accessible."},{"owner":{"account_id":16816974,"reputation":1,"user_id":12158550,"display_name":"ash_raw"},"score":0,"creation_date":1570101303,"post_id":58217121,"comment_id":102811923,"body_markdown":"Tried changing the file name but no success. File only contains simple characters like this - &lt;html&gt;\n&lt;body&gt;\n\t&lt;div&gt;Access blocked to this page&lt;/div&gt;\n\t\n&lt;/body&gt;\n&lt;/html&gt;","body":"Tried changing the file name but no success. File only contains simple characters like this - &lt;html&gt; &lt;body&gt; \t&lt;div&gt;Access blocked to this page&lt;/div&gt; \t &lt;/body&gt; &lt;/html&gt;"}],"answers":[{"tags":[],"owner":{"account_id":23212374,"reputation":1,"user_id":17305639,"display_name":"JAYDEEP 1086"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666711365,"creation_date":1666614325,"answer_id":74181072,"question_id":58217121,"body_markdown":"Did you get the solution to this, I&#39;m facing same kind of problem.\r\n\r\nI found one solution to this problem, that instead of writing &quot;txt/html&quot; simply write &quot;.html&quot; . Its the only thing working for me.","title":"html file is getting downloaded instead of getting redirected to it","body":"<p>Did you get the solution to this, I'm facing same kind of problem.</p>\n<p>I found one solution to this problem, that instead of writing &quot;txt/html&quot; simply write &quot;.html&quot; . Its the only thing working for me.</p>\n"}],"owner":{"account_id":16816974,"reputation":1,"user_id":12158550,"display_name":"ash_raw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666711365,"creation_date":1570098180,"question_id":58217121,"body_markdown":"I am trying to redirect my request to a page &quot;/access_blocked.html&quot; from inside a java.servlet.Filter. But when I am trying to do it using `response.redirect(&quot;/access_blocked.html&quot;)`, my file &quot;access_blocked.html&quot; is getting downloaded on my browser instead of getting redirected.\r\nFYI - The request is coming from the browsers anchor tag and the server is designed using spring boot which has tomcat embedded.\r\n\r\nI have also tried to forward the request with `request.getRequestDispatcher(&quot;/access_blocked.html&quot;).forward(request,response)` but got no success.\r\n\r\n    @Component\r\n    public class TransactionFilter implements Filter {\r\n\r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \r\n    \t\tHttpServletRequest req = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse res = (HttpServletResponse) response;\r\n    \t\tString url = req.getRequestURI();\r\n    \t\tif (url.startsWith(&quot;/sdks/&quot;)) {\r\n    \t\t\tres.sendRedirect(&quot;/access_blocked.html&quot;);\r\n    \t\t\treturn;\r\n    \t\t} else {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nExpected result - On my browser the request should get redirected to &quot;/access_blocked.html&quot;.","title":"html file is getting downloaded instead of getting redirected to it","body":"<p>I am trying to redirect my request to a page \"/access_blocked.html\" from inside a java.servlet.Filter. But when I am trying to do it using <code>response.redirect(\"/access_blocked.html\")</code>, my file \"access_blocked.html\" is getting downloaded on my browser instead of getting redirected.\nFYI - The request is coming from the browsers anchor tag and the server is designed using spring boot which has tomcat embedded.</p>\n\n<p>I have also tried to forward the request with <code>request.getRequestDispatcher(\"/access_blocked.html\").forward(request,response)</code> but got no success.</p>\n\n<pre><code>@Component\npublic class TransactionFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        String url = req.getRequestURI();\n        if (url.startsWith(\"/sdks/\")) {\n            res.sendRedirect(\"/access_blocked.html\");\n            return;\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n\n<p>Expected result - On my browser the request should get redirected to \"/access_blocked.html\".</p>\n"},{"tags":["java","hibernate","kotlin","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666711145,"creation_date":1666711145,"answer_id":74196411,"question_id":74195603,"body_markdown":"First of all, you should separate the logic (e.g., transaction operations) from the entity.\r\n\r\nThe entity should be (more or less) a pojo, you create another class for those business logic implementations.\r\n\r\nA typical architecture would be:\r\n\r\n- entities: pojos\r\n- dao or repositories: each repository usually talks (read/write) to one entity class\r\n- services (here you can modify as many entities as you need through required repositories)\r\n\r\n","title":"How to correctly implement entities that modify other entities with JPA/Hibernate?","body":"<p>First of all, you should separate the logic (e.g., transaction operations) from the entity.</p>\n<p>The entity should be (more or less) a pojo, you create another class for those business logic implementations.</p>\n<p>A typical architecture would be:</p>\n<ul>\n<li>entities: pojos</li>\n<li>dao or repositories: each repository usually talks (read/write) to one entity class</li>\n<li>services (here you can modify as many entities as you need through required repositories)</li>\n</ul>\n"}],"owner":{"account_id":17422753,"reputation":25,"user_id":12628027,"display_name":"Celestine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74196411,"answer_count":1,"score":0,"last_activity_date":1666711145,"creation_date":1666707710,"question_id":74195603,"body_markdown":"I&#39;m new to &quot;normal&quot; back-end development and I&#39;m trying to implement comment system for my Spring Web application. The catch here is that if a comment gets downvoted then comment owner&#39;s &quot;karma&quot; must be decremented as well.\r\n\r\nNow, I had some experience with web development in PHP with some self-made spaghetti-coded frameworks, where one could implement the said logic with something like that:\r\n```php\r\nclass Comment {\r\n    function getUser() { return db_find(&quot;users&quot;, User::class, $this-&gt;columns-&gt;owner); }\r\n\r\n    function downvote() {\r\n        $user = $this-&gt;getUser();\r\n        $user-&gt;columns-&gt;karma--;\r\n        db_persist(&quot;users&quot;, $user);\r\n    }\r\n}\r\n```\r\nJPA beans are made differently so I couldn&#39;t reapply the above solution to it, although my initial idea was pretty similar. I believe it is possible to achieve something like that by passing Session to the downvote method this way:\r\n```kotlin\r\nclass Comment {\r\n    // ...\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;owner_id&quot;)\r\n    var owner: User? = null\r\n\r\n    fun downvote(session: Session) {\r\n        this.rating -= 1;\r\n\r\n        this.owner.karma -= 1;\r\n        session.save(this.owner)\r\n        session.save(this)\r\n    }\r\n}\r\n```\r\nBut it seems really wrong and unnatural to me. I&#39;ve also had an idea to put this logic in controller, but that one seems like a bad practice too...\r\n\r\nSo, I kinda have an entity (comment) that should modify another entity (user) on modification (call to downvote) and I&#39;m not sure how to implement all this in JPA-like way.\r\n","title":"How to correctly implement entities that modify other entities with JPA/Hibernate?","body":"<p>I'm new to &quot;normal&quot; back-end development and I'm trying to implement comment system for my Spring Web application. The catch here is that if a comment gets downvoted then comment owner's &quot;karma&quot; must be decremented as well.</p>\n<p>Now, I had some experience with web development in PHP with some self-made spaghetti-coded frameworks, where one could implement the said logic with something like that:</p>\n<pre class=\"lang-php prettyprint-override\"><code>class Comment {\n    function getUser() { return db_find(&quot;users&quot;, User::class, $this-&gt;columns-&gt;owner); }\n\n    function downvote() {\n        $user = $this-&gt;getUser();\n        $user-&gt;columns-&gt;karma--;\n        db_persist(&quot;users&quot;, $user);\n    }\n}\n</code></pre>\n<p>JPA beans are made differently so I couldn't reapply the above solution to it, although my initial idea was pretty similar. I believe it is possible to achieve something like that by passing Session to the downvote method this way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Comment {\n    // ...\n    @ManyToOne\n    @JoinColumn(name = &quot;owner_id&quot;)\n    var owner: User? = null\n\n    fun downvote(session: Session) {\n        this.rating -= 1;\n\n        this.owner.karma -= 1;\n        session.save(this.owner)\n        session.save(this)\n    }\n}\n</code></pre>\n<p>But it seems really wrong and unnatural to me. I've also had an idea to put this logic in controller, but that one seems like a bad practice too...</p>\n<p>So, I kinda have an entity (comment) that should modify another entity (user) on modification (call to downvote) and I'm not sure how to implement all this in JPA-like way.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1666691500,"post_id":74190552,"comment_id":130991754,"body_markdown":"One `JPanel` is above the other.  &quot;On top&quot; implies they occupy part of the same 2D plane.  English aside, create two `JPanels`, one blue and one red.  A `JFrame` has a default `BorderLayout`, so place the blue `JPanel` in NORTH and the red `JPanel` in CENTER.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"One <code>JPanel</code> is above the other.  &quot;On top&quot; implies they occupy part of the same 2D plane.  English aside, create two <code>JPanels</code>, one blue and one red.  A <code>JFrame</code> has a default <code>BorderLayout</code>, so place the blue <code>JPanel</code> in NORTH and the red <code>JPanel</code> in CENTER.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":25494869,"reputation":1,"user_id":19289077,"display_name":"Habs Andfs"},"score":0,"creation_date":1666695869,"post_id":74190552,"comment_id":130993256,"body_markdown":"Hello, English is not my main language so... Im gonna try your tip! Currently Im confused about all these layout managers because they are all so different etc","body":"Hello, English is not my main language so... Im gonna try your tip! Currently Im confused about all these layout managers because they are all so different etc"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666706414,"post_id":74190552,"comment_id":130996974,"body_markdown":"*they are all so different* - that is the point, they should be different because they provide a different layout. You use the layout or combination of layouts that allows you to achieve your desired layout.","body":"<i>they are all so different</i> - that is the point, they should be different because they provide a different layout. You use the layout or combination of layouts that allows you to achieve your desired layout."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666711066,"creation_date":1666711066,"answer_id":74196393,"question_id":74190552,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nAs I said in my comment, you create two `JPanels`.  Here&#39;s an example.\r\n\r\n[![Example][1]][1]\r\n\r\nHere&#39;s the complete runable code to create this example.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class BorderLayoutExampleGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new BorderLayoutExampleGUI());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;BorderLayout Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createButtonPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tpanel.setPreferredSize(new Dimension(600, 100));\r\n    \t\tpanel.setBackground(Color.blue);\r\n    \r\n    \t\t// Add the buttons and text fields\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tpanel.setPreferredSize(new Dimension(600, 380));\r\n    \t\tpanel.setBackground(Color.red);\r\n    \r\n    \t\t// Add the drawing code\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/02eHA.png\r\n","title":"How to draw two JPanels on top of each other?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>As I said in my comment, you create two <code>JPanels</code>.  Here's an example.</p>\n<p><a href=\"https://i.stack.imgur.com/02eHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02eHA.png\" alt=\"Example\" /></a></p>\n<p>Here's the complete runable code to create this example.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class BorderLayoutExampleGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new BorderLayoutExampleGUI());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;BorderLayout Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createButtonPanel(), BorderLayout.NORTH);\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        panel.setPreferredSize(new Dimension(600, 100));\n        panel.setBackground(Color.blue);\n\n        // Add the buttons and text fields\n\n        return panel;\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        panel.setPreferredSize(new Dimension(600, 380));\n        panel.setBackground(Color.red);\n\n        // Add the drawing code\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25494869,"reputation":1,"user_id":19289077,"display_name":"Habs Andfs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666711066,"creation_date":1666683537,"question_id":74190552,"body_markdown":"I am currently working on a **N-Body simulation** and I have made particles move on a black screen. My current problem is that there is no way of controlling it. \r\n\r\n#### My plan:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/dG2C4.jpg\r\n\r\nEach color stands for a different `JPanel`. The blue one should contain the buttons and text fields, the red one the viewport.\r\n\r\nBut with my small knowledge in Java, I didn&#39;t succeed in creating this. I first tried with `setBounds` and `setLayoutManager(null)`, in vain.\r\n\r\nMy structure goes like that:\r\n\r\n * `Window` class extends `JFrame`\r\n\r\n * `Simulation` class creating `blueJPanel` class (extends `JPanel`) and `redJPanel`,\r\n\r\n * adds them to the window.\r\n\r\nBut this is garbage code... So how would you draw these simple panels on top of each other?      ","title":"How to draw two JPanels on top of each other?","body":"<p>I am currently working on a <strong>N-Body simulation</strong> and I have made particles move on a black screen. My current problem is that there is no way of controlling it.</p>\n<h4>My plan:</h4>\n<p><img src=\"https://i.stack.imgur.com/dG2C4.jpg\" alt=\"enter image description here\" /></p>\n<p>Each color stands for a different <code>JPanel</code>. The blue one should contain the buttons and text fields, the red one the viewport.</p>\n<p>But with my small knowledge in Java, I didn't succeed in creating this. I first tried with <code>setBounds</code> and <code>setLayoutManager(null)</code>, in vain.</p>\n<p>My structure goes like that:</p>\n<ul>\n<li><p><code>Window</code> class extends <code>JFrame</code></p>\n</li>\n<li><p><code>Simulation</code> class creating <code>blueJPanel</code> class (extends <code>JPanel</code>) and <code>redJPanel</code>,</p>\n</li>\n<li><p>adds them to the window.</p>\n</li>\n</ul>\n<p>But this is garbage code... So how would you draw these simple panels on top of each other?</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666710723,"creation_date":1666710723,"answer_id":74196316,"question_id":74195652,"body_markdown":"    TableColumn testColumn = table.getColumnModel().getColumn(2);\r\n    testColumn.setCellEditor(new DefaultCellEditor(comboBox));\r\n    table.setModel(DbUtils.resultSetToTableModel(rp));\r\n\r\nWhen the model is reset a new `TableColumnModel` is created so you lose the customization of the editors and renderers.\r\n\r\nThe editor needs to be set AFTER the model is set:\r\n\r\n    table.setModel(DbUtils.resultSetToTableModel(rp));\r\n    TableColumn testColumn = table.getColumnModel().getColumn(2);\r\n    testColumn.setCellEditor(new DefaultCellEditor(comboBox));\r\n\r\nYour renderer is being set correctly.\r\n","title":"Jtable with Combobox","body":"<pre><code>TableColumn testColumn = table.getColumnModel().getColumn(2);\ntestColumn.setCellEditor(new DefaultCellEditor(comboBox));\ntable.setModel(DbUtils.resultSetToTableModel(rp));\n</code></pre>\n<p>When the model is reset a new <code>TableColumnModel</code> is created so you lose the customization of the editors and renderers.</p>\n<p>The editor needs to be set AFTER the model is set:</p>\n<pre><code>table.setModel(DbUtils.resultSetToTableModel(rp));\nTableColumn testColumn = table.getColumnModel().getColumn(2);\ntestColumn.setCellEditor(new DefaultCellEditor(comboBox));\n</code></pre>\n<p>Your renderer is being set correctly.</p>\n"}],"owner":{"account_id":26728450,"reputation":3,"user_id":20331215,"display_name":"Diogo Malta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74196316,"answer_count":1,"score":0,"last_activity_date":1666710850,"creation_date":1666707886,"question_id":74195652,"body_markdown":"I&#39;m making a program in JavaGUI where I&#39;m going to get some information from the database and in JTable I can change the values ​​and update the database.\r\nBut in one of the columns of the database I want a combobox to appear with all the options that the user can choose.\r\nWhen running the program, the query appears and I can edit it, but in the column I want the combobox nothing appears\r\n\r\n```java\r\nPreparedStatement pst = con.prepareStatement(m);\r\n\r\nrp = pst.executeQuery();\r\n\r\nDefaultTableCellRenderer direita = new DefaultTableCellRenderer();\r\n\r\nJComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;();\r\ncomboBox.addItem(&quot;Asia&quot;);\r\ncomboBox.addItem(&quot;Europe&quot;);\r\ncomboBox.addItem(&quot;North America&quot;);\r\ncomboBox.addItem(&quot;South America&quot;);\r\ncomboBox.addItem(&quot;Africa&quot;);\r\ncomboBox.addItem(&quot;Antartica&quot;);\r\ncomboBox.addItem(&quot;Australia&quot;);\r\nTableColumn testColumn = table.getColumnModel().getColumn(2);\r\ntestColumn.setCellEditor(new DefaultCellEditor(comboBox));\r\ndireita.setHorizontalAlignment(SwingConstants.RIGHT);\r\ntable.setModel(DbUtils.resultSetToTableModel(rp));\r\ntable.getColumnModel().getColumn(2).setCellRenderer((TableCellRenderer) comboBox);\r\n```","title":"Jtable with Combobox","body":"<p>I'm making a program in JavaGUI where I'm going to get some information from the database and in JTable I can change the values ​​and update the database.\nBut in one of the columns of the database I want a combobox to appear with all the options that the user can choose.\nWhen running the program, the query appears and I can edit it, but in the column I want the combobox nothing appears</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement pst = con.prepareStatement(m);\n\nrp = pst.executeQuery();\n\nDefaultTableCellRenderer direita = new DefaultTableCellRenderer();\n\nJComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;();\ncomboBox.addItem(&quot;Asia&quot;);\ncomboBox.addItem(&quot;Europe&quot;);\ncomboBox.addItem(&quot;North America&quot;);\ncomboBox.addItem(&quot;South America&quot;);\ncomboBox.addItem(&quot;Africa&quot;);\ncomboBox.addItem(&quot;Antartica&quot;);\ncomboBox.addItem(&quot;Australia&quot;);\nTableColumn testColumn = table.getColumnModel().getColumn(2);\ntestColumn.setCellEditor(new DefaultCellEditor(comboBox));\ndireita.setHorizontalAlignment(SwingConstants.RIGHT);\ntable.setModel(DbUtils.resultSetToTableModel(rp));\ntable.getColumnModel().getColumn(2).setCellRenderer((TableCellRenderer) comboBox);\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1665895922,"post_id":74084661,"comment_id":130803965,"body_markdown":"Have you consulted the [documentation on updating a document](https://firebase.google.com/docs/firestore/manage-data/add-data#update-data)?  If so, what did you try, and what happened that didn&#39;t work the way you expect?  Please edit the question with your code and debugging details.","body":"Have you consulted the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update-data\" rel=\"nofollow noreferrer\">documentation on updating a document</a>?  If so, what did you try, and what happened that didn&#39;t work the way you expect?  Please edit the question with your code and debugging details."}],"answers":[{"comments":[{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666798893,"post_id":74196306,"comment_id":131022518,"body_markdown":"Hey Alex, Thanks for your answer! How to know if all the updates are successful so that I can display a success message to the user?","body":"Hey Alex, Thanks for your answer! How to know if all the updates are successful so that I can display a success message to the user?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666799032,"post_id":74196306,"comment_id":131022572,"body_markdown":"I recently answered a similar [question](https://stackoverflow.com/questions/74163477/random-questions-from-different-child-from-firebase-to-java-andoird-studio/74209329#74209329). It&#39;s for reading data, but the same rules apply in case of updates. Give it a try and tell me if it works.","body":"I recently answered a similar <a href=\"https://stackoverflow.com/questions/74163477/random-questions-from-different-child-from-firebase-to-java-andoird-studio/74209329#74209329\">question</a>. It&#39;s for reading data, but the same rules apply in case of updates. Give it a try and tell me if it works."},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666799251,"post_id":74196306,"comment_id":131022654,"body_markdown":"I get it. Thanks Alex!","body":"I get it. Thanks Alex!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666799263,"post_id":74196306,"comment_id":131022659,"body_markdown":"You&#39;re very welcome, Vince.","body":"You&#39;re very welcome, Vince."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666710683,"creation_date":1666710683,"answer_id":74196306,"question_id":74084661,"body_markdown":"If you&#39;re thinking of updating multiple documents that exist within multiple collections or subcollections in one go, please note that this is not possible. To solve this, you have to create three different operations.\r\n\r\nNow to be able to update the &quot;fullName&quot; of &quot;member 1&quot; from &quot;Vince Melmar Ybanez&quot; to &quot;Vince Ybanez&quot; in the Faculty Collection, please use the following lines of code:\r\n\r\n    DocumentReference facultyDocOneRef = db.collection(&quot;Faculty&quot;).document(&quot;Document1&quot;);\r\n    Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n    update.put(&quot;fullName&quot;, &quot;Vince Ybanez&quot;);\r\n    facultyDocOneRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(TAG, &quot;Document updated successfully.&quot;);\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nNow to be able to update the remaining two fields within the other collections, you only need to create the references and use the exact same code as above:\r\n\r\n    DocumentReference annualDueDocOneRef = db.collection(&quot;AnnualDue&quot;).document(&quot;Document1&quot;);\r\n    annualDueDocOneRef.update(update).addOnCompleteListener(/*...*/);\r\n\r\nAnd the last one:\r\n\r\n    DocumentReference facultyAnnualDueDocOneRef = db\r\n               .collection(&quot;Faculty&quot;).document(&quot;Document1&quot;)\r\n               .collection(&quot;AnnualDue&quot;).document(&quot;Document1&quot;);\r\n    facultyAnnualDueDocOneRef.update(update).addOnCompleteListener(/*...*/);","title":"How to update specific field inside collection and subcollection?","body":"<p>If you're thinking of updating multiple documents that exist within multiple collections or subcollections in one go, please note that this is not possible. To solve this, you have to create three different operations.</p>\n<p>Now to be able to update the &quot;fullName&quot; of &quot;member 1&quot; from &quot;Vince Melmar Ybanez&quot; to &quot;Vince Ybanez&quot; in the Faculty Collection, please use the following lines of code:</p>\n<pre><code>DocumentReference facultyDocOneRef = db.collection(&quot;Faculty&quot;).document(&quot;Document1&quot;);\nMap&lt;String, Object&gt; update = new HashMap&lt;&gt;();\nupdate.put(&quot;fullName&quot;, &quot;Vince Ybanez&quot;);\nfacultyDocOneRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(TAG, &quot;Document updated successfully.&quot;);\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>Now to be able to update the remaining two fields within the other collections, you only need to create the references and use the exact same code as above:</p>\n<pre><code>DocumentReference annualDueDocOneRef = db.collection(&quot;AnnualDue&quot;).document(&quot;Document1&quot;);\nannualDueDocOneRef.update(update).addOnCompleteListener(/*...*/);\n</code></pre>\n<p>And the last one:</p>\n<pre><code>DocumentReference facultyAnnualDueDocOneRef = db\n           .collection(&quot;Faculty&quot;).document(&quot;Document1&quot;)\n           .collection(&quot;AnnualDue&quot;).document(&quot;Document1&quot;);\nfacultyAnnualDueDocOneRef.update(update).addOnCompleteListener(/*...*/);\n</code></pre>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74196306,"answer_count":1,"score":1,"last_activity_date":1666710715,"creation_date":1665895481,"question_id":74084661,"body_markdown":"Here is my Firestore database structure:\r\n\r\n    Faculty (Collection)\r\n    --Document1\r\n      -memberId: &quot;77777&quot;\r\n      -fullName: &quot;Vince Melmar Ybanez&quot;\r\n    --Document2\r\n      -memberId: &quot;12345&quot;\r\n      -fullName: &quot;John Doe&quot;\r\n    --Document3\r\n\r\n    AnnualDue (Sub-Collection of Document1 in Faculty)\r\n    --Document1\r\n      -memberId: &quot;77777&quot;\r\n      -fullName: &quot;Vince Melmar Ybanez&quot;\r\n    --Document2\r\n      -memberId: &quot;77777&quot;\r\n      -fullName: &quot;Vince Melmar Ybanez&quot;\r\n\r\n    AnnualDue (Sub-Collection of Document2 in Faculty)\r\n    --Document3\r\n      -memberId: &quot;12345&quot;\r\n      -fullName: &quot;John Doe&quot;\r\n\r\n    AnnualDue (Collection)\r\n    --Document1\r\n      -memberId: &quot;77777&quot;\r\n      -fullName: &quot;Vince Melmar Ybanez&quot;\r\n    --Document2\r\n      -memberId: &quot;77777&quot;\r\n      -fullName: &quot;Vince Melmar Ybanez&quot;\r\n    --Document3\r\n      -memberId: &quot;12345&quot;\r\n      -fullName: &quot;John Doe&quot;\r\n\r\nHow to update the `fullName` of member 1 (Document 1) from Vince Melmar Ybanez to Vince Ybanez in Faculty Collection, Annual Due Collection, and AnnualDue Sub-Collection?","title":"How to update specific field inside collection and subcollection?","body":"<p>Here is my Firestore database structure:</p>\n<pre><code>Faculty (Collection)\n--Document1\n  -memberId: &quot;77777&quot;\n  -fullName: &quot;Vince Melmar Ybanez&quot;\n--Document2\n  -memberId: &quot;12345&quot;\n  -fullName: &quot;John Doe&quot;\n--Document3\n\nAnnualDue (Sub-Collection of Document1 in Faculty)\n--Document1\n  -memberId: &quot;77777&quot;\n  -fullName: &quot;Vince Melmar Ybanez&quot;\n--Document2\n  -memberId: &quot;77777&quot;\n  -fullName: &quot;Vince Melmar Ybanez&quot;\n\nAnnualDue (Sub-Collection of Document2 in Faculty)\n--Document3\n  -memberId: &quot;12345&quot;\n  -fullName: &quot;John Doe&quot;\n\nAnnualDue (Collection)\n--Document1\n  -memberId: &quot;77777&quot;\n  -fullName: &quot;Vince Melmar Ybanez&quot;\n--Document2\n  -memberId: &quot;77777&quot;\n  -fullName: &quot;Vince Melmar Ybanez&quot;\n--Document3\n  -memberId: &quot;12345&quot;\n  -fullName: &quot;John Doe&quot;\n</code></pre>\n<p>How to update the <code>fullName</code> of member 1 (Document 1) from Vince Melmar Ybanez to Vince Ybanez in Faculty Collection, Annual Due Collection, and AnnualDue Sub-Collection?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666703448,"post_id":74194594,"comment_id":130995855,"body_markdown":"Some of the code would be hepful. How/where do you store the data and how do you propagate them to the adapter.","body":"Some of the code would be hepful. How/where do you store the data and how do you propagate them to the adapter."},{"owner":{"account_id":5213225,"reputation":205,"user_id":4168955,"display_name":"CarlesCF"},"score":0,"creation_date":1666703714,"post_id":74194594,"comment_id":130995940,"body_markdown":"Also, it is not clear what you expect to happen. A detailed example would be very helpful","body":"Also, it is not clear what you expect to happen. A detailed example would be very helpful"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1666704311,"post_id":74194594,"comment_id":130996118,"body_markdown":"Firebase Database queries can only order/filter on a single property. In many cases it is possible to combine the values you want to filter on into a single (synthetic) property. For example, you could create `&quot;Category_NotInStock&quot;: &quot;Fruits_True&quot;` and filter on that. For a longer example of this and other approaches, see my answer here: https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase","body":"Firebase Database queries can only order/filter on a single property. In many cases it is possible to combine the values you want to filter on into a single (synthetic) property. For example, you could create <code>&quot;Category_NotInStock&quot;: &quot;Fruits_True&quot;</code> and filter on that. For a longer example of this and other approaches, see my answer here: <a href=\"https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\" title=\"query based on multiple where clauses in firebase\">stackoverflow.com/questions/26700924/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666710539,"creation_date":1666703641,"answer_id":74194675,"question_id":74194594,"body_markdown":"Per documentation of [#orderByChild](https://firebase.google.com/docs/reference/node/firebase.database.Reference#orderbychild):\r\n\r\n&gt; Queries can only order by one key at a time. Calling orderByChild() multiple times on the same query is an error.\r\n\r\nThis is further emphasized in the &quot;Sorting Data&quot; section under their [Lists of Data](https://firebase.google.com/docs/database/web/lists-of-data#sort_data) page:\r\n\r\n&gt; You can only use **one** order-by method at a time. Calling an order-by method multiple times in the same query throws an error.\r\n\r\nIn a typical SQL environment, it&#39;d be a simple `ORDER BY NotInStock ASC, Category`. As far as alternative approaches (bearing in mind firebase&#39;s limitations):\r\n\r\n1) You can query the relevant data twice, first for in-stock items, then again for out-of-stock once you&#39;ve exhausted the &quot;in-stock&quot; data.\r\n\r\n2) You can query all of the data at once, and then sort/categorize the data further once you have retrieved it from firebase.\r\n\r\n3) You can follow further additional approaches outlined in the above linked  duplicate question: [Query based on multiple where clauses in Firebase](https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase)","title":"Is it possible to use two orderby conditions in a firebase query?","body":"<p>Per documentation of <a href=\"https://firebase.google.com/docs/reference/node/firebase.database.Reference#orderbychild\" rel=\"nofollow noreferrer\">#orderByChild</a>:</p>\n<blockquote>\n<p>Queries can only order by one key at a time. Calling orderByChild() multiple times on the same query is an error.</p>\n</blockquote>\n<p>This is further emphasized in the &quot;Sorting Data&quot; section under their <a href=\"https://firebase.google.com/docs/database/web/lists-of-data#sort_data\" rel=\"nofollow noreferrer\">Lists of Data</a> page:</p>\n<blockquote>\n<p>You can only use <strong>one</strong> order-by method at a time. Calling an order-by method multiple times in the same query throws an error.</p>\n</blockquote>\n<p>In a typical SQL environment, it'd be a simple <code>ORDER BY NotInStock ASC, Category</code>. As far as alternative approaches (bearing in mind firebase's limitations):</p>\n<ol>\n<li><p>You can query the relevant data twice, first for in-stock items, then again for out-of-stock once you've exhausted the &quot;in-stock&quot; data.</p>\n</li>\n<li><p>You can query all of the data at once, and then sort/categorize the data further once you have retrieved it from firebase.</p>\n</li>\n<li><p>You can follow further additional approaches outlined in the above linked  duplicate question: <a href=\"https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\">Query based on multiple where clauses in Firebase</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":21576434,"reputation":17,"user_id":15908480,"display_name":"Francis Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666704319,"answer_count":1,"score":0,"last_activity_date":1666710539,"creation_date":1666703232,"question_id":74194594,"body_markdown":"I have a recyclerview. In that I&#39;m displaying data from Firebase Realtime DB. \r\nIt is a grocery App. I have Fruits, vegetables and Provisional Items. \r\nI have used (My firebase path.... child(..).orderbyChild(&quot;Category&quot;).equalto(&quot;Fruits&quot;). \r\n\r\nUpto this, it&#39;s working fine. I&#39;m getting Fruits alone. \r\n\r\nNext thing is, I need to keep all the not in stock products at the bottom of my recycler view. If I add one more orderbyChild(&quot;NotInStock&quot;), the app is crashing. \r\n\r\nIs there any way to solve this or alternate way to achieve this.. \r\nNeed some help here. ","title":"Is it possible to use two orderby conditions in a firebase query?","body":"<p>I have a recyclerview. In that I'm displaying data from Firebase Realtime DB.\nIt is a grocery App. I have Fruits, vegetables and Provisional Items.\nI have used (My firebase path.... child(..).orderbyChild(&quot;Category&quot;).equalto(&quot;Fruits&quot;).</p>\n<p>Upto this, it's working fine. I'm getting Fruits alone.</p>\n<p>Next thing is, I need to keep all the not in stock products at the bottom of my recycler view. If I add one more orderbyChild(&quot;NotInStock&quot;), the app is crashing.</p>\n<p>Is there any way to solve this or alternate way to achieve this..\nNeed some help here.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666708911,"post_id":74195818,"comment_id":130997958,"body_markdown":"Do you really need the `FileProvider` as a parameter? Parameters get persisted into the database and thus converted to a string. Nonetheless the web based converters aren&#39;t used by SPring Batch (AFAIK) so you would need to configure that one instead of the mvc one. Also Spring Batch 5 isn&#39;t final yet and a work-in-progress.","body":"Do you really need the <code>FileProvider</code> as a parameter? Parameters get persisted into the database and thus converted to a string. Nonetheless the web based converters aren&#39;t used by SPring Batch (AFAIK) so you would need to configure that one instead of the mvc one. Also Spring Batch 5 isn&#39;t final yet and a work-in-progress."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666709733,"creation_date":1666709733,"answer_id":74196062,"question_id":74195818,"body_markdown":"There is no relation between web converters and batch converters. You should not be expecting that converters registered through `WebMvcConfigurer` are going to be used by Spring Batch.\r\n\r\n&gt; And even if I extend DefaultBatchConfiguration and set the converter in a @PostConstruct method with calls like getConversionService().addConverter(new FileConverter()),\r\n\r\nThis won&#39;t work as `getConversionService()` always return a new instance of `DefaultConversionService`. You need to override `DefaultBatchConfiguration#getConversionService` and return the instance of the conversion service you want to use for your job parameters, including all your converters. Here is a typical example:\r\n\r\n```\r\n@Configuration\r\npublic class MyJobConfiguration extends DefaultBatchConfiguration {\r\n\r\n\t@Bean\r\n\tpublic Job job(JobRepository jobRepository) {\r\n\t\t// define your job\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected ConfigurableConversionService getConversionService() {\r\n\t\tDefaultConversionService conversionService = new DefaultConversionService();\r\n\t\t// add converters to conversionService\r\n\t\treturn conversionService;\r\n\t}\r\n}\r\n```","title":"Spring Batch Parameter conversion unclear","body":"<p>There is no relation between web converters and batch converters. You should not be expecting that converters registered through <code>WebMvcConfigurer</code> are going to be used by Spring Batch.</p>\n<blockquote>\n<p>And even if I extend DefaultBatchConfiguration and set the converter in a @PostConstruct method with calls like getConversionService().addConverter(new FileConverter()),</p>\n</blockquote>\n<p>This won't work as <code>getConversionService()</code> always return a new instance of <code>DefaultConversionService</code>. You need to override <code>DefaultBatchConfiguration#getConversionService</code> and return the instance of the conversion service you want to use for your job parameters, including all your converters. Here is a typical example:</p>\n<pre><code>@Configuration\npublic class MyJobConfiguration extends DefaultBatchConfiguration {\n\n    @Bean\n    public Job job(JobRepository jobRepository) {\n        // define your job\n        return null;\n    }\n\n    @Override\n    protected ConfigurableConversionService getConversionService() {\n        DefaultConversionService conversionService = new DefaultConversionService();\n        // add converters to conversionService\n        return conversionService;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666710317,"creation_date":1666710317,"answer_id":74196215,"question_id":74195818,"body_markdown":"I found it, pretty obvious once you see it. Override `DefaultBatchConfiguration#getConversionService()`, like this:\r\n```\r\n    @Override\r\n    protected ConfigurableConversionService getConversionService() {\r\n        ConfigurableConversionService conversionService = super.getConversionService();\r\n        conversionService.addConverter(new MyOwnConverter&lt;&gt;());\r\n        return conversionService;\r\n    }\r\n```\r\n","title":"Spring Batch Parameter conversion unclear","body":"<p>I found it, pretty obvious once you see it. Override <code>DefaultBatchConfiguration#getConversionService()</code>, like this:</p>\n<pre><code>    @Override\n    protected ConfigurableConversionService getConversionService() {\n        ConfigurableConversionService conversionService = super.getConversionService();\n        conversionService.addConverter(new MyOwnConverter&lt;&gt;());\n        return conversionService;\n    }\n</code></pre>\n"}],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74196062,"answer_count":2,"score":1,"last_activity_date":1666710317,"creation_date":1666708547,"question_id":74195818,"body_markdown":"When I run a job with the new Spring Batch 5 RC1, it comes always to the following error:\r\n\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [my.package.FileProvider] to type [java.lang.String]\r\n\r\nSo, it seems that I need to provide a `GenericConverter`. But the standard ways aren&#39;t working.\r\n\r\nIf I register them via:\r\n```\r\n    @Configuration\r\n    public class ConverterRegistration implements WebMvcConfigurer {\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(new FileConverter&lt;&gt;());\r\n            registry.addConverterFactory(new FileConverterFactory());\r\n        }\r\n    }\r\n```\r\nit doesn&#39;t work. And even if I extend `DefaultBatchConfiguration` and set the converter in a `@PostConstruct` method with calls like `getConversionService().addConverter(new FileConverter())`,\r\nmy debugger shows that the list of converters stays always the same, at the point where the exception comes from: `GenericConversionService`. It seems that the Jobs have their own local list of converters. A first stop at a breakpoint shows that `GenericConversionService` has 129 converters, including my custom ones, and at a later stop, when the exceptions gets thrown, it has always 52 converters.\r\n\r\nHow do I add a converter there?\r\n\r\nAt the JobBuilder?\r\n```\r\n    return new JobBuilder(JOB_IMPORT, jobRepository)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(infoImport)\r\n                .end()\r\n                .build();\r\n```\r\nAt the step builder?\r\n```\r\n    new StepBuilder(getStepName(), jobRepository)\r\n         .&lt;I, O&gt;chunk(chunkSize, platformTransactionManager)\r\n         .listener(readListener)\r\n         .reader(reader)\r\n         .processor(processor)\r\n         .writer(writer)\r\n```\r\n\r\nMost likely the job parameters, but how?\r\n```\r\n    JobParameters jobParameters = new JobParametersBuilder()\r\n                .addJobParameter(FILE_PROVIDER,\r\n                        new JobParameter&lt;&gt;(fileProvider, FileProvider.class))\r\n                .addString(INFO_FILE_NAME, fileInfo)\r\n                .toJobParameters();\r\n    jobLauncher.run(fileImportJob, jobParameters);\r\n```\r\n\r\nCan somebody show me where and how I can set my custom `GenericConverter`?\r\nOr is it somehow a `JobParametersConverter` which is needed, but then: How to set *that*\r\n(the documentation at [Spring Batch 5 RC1, Java Config](https://docs.spring.io/spring-batch/docs/5.0.0-RC1/reference/html/job.html#javaConfig/html/job.html#javaConfig) seems incomplete)?","title":"Spring Batch Parameter conversion unclear","body":"<p>When I run a job with the new Spring Batch 5 RC1, it comes always to the following error:</p>\n<p>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [my.package.FileProvider] to type [java.lang.String]</p>\n<p>So, it seems that I need to provide a <code>GenericConverter</code>. But the standard ways aren't working.</p>\n<p>If I register them via:</p>\n<pre><code>    @Configuration\n    public class ConverterRegistration implements WebMvcConfigurer {\n        public void addFormatters(FormatterRegistry registry) {\n            registry.addConverter(new FileConverter&lt;&gt;());\n            registry.addConverterFactory(new FileConverterFactory());\n        }\n    }\n</code></pre>\n<p>it doesn't work. And even if I extend <code>DefaultBatchConfiguration</code> and set the converter in a <code>@PostConstruct</code> method with calls like <code>getConversionService().addConverter(new FileConverter())</code>,\nmy debugger shows that the list of converters stays always the same, at the point where the exception comes from: <code>GenericConversionService</code>. It seems that the Jobs have their own local list of converters. A first stop at a breakpoint shows that <code>GenericConversionService</code> has 129 converters, including my custom ones, and at a later stop, when the exceptions gets thrown, it has always 52 converters.</p>\n<p>How do I add a converter there?</p>\n<p>At the JobBuilder?</p>\n<pre><code>    return new JobBuilder(JOB_IMPORT, jobRepository)\n                .incrementer(new RunIdIncrementer())\n                .start(infoImport)\n                .end()\n                .build();\n</code></pre>\n<p>At the step builder?</p>\n<pre><code>    new StepBuilder(getStepName(), jobRepository)\n         .&lt;I, O&gt;chunk(chunkSize, platformTransactionManager)\n         .listener(readListener)\n         .reader(reader)\n         .processor(processor)\n         .writer(writer)\n</code></pre>\n<p>Most likely the job parameters, but how?</p>\n<pre><code>    JobParameters jobParameters = new JobParametersBuilder()\n                .addJobParameter(FILE_PROVIDER,\n                        new JobParameter&lt;&gt;(fileProvider, FileProvider.class))\n                .addString(INFO_FILE_NAME, fileInfo)\n                .toJobParameters();\n    jobLauncher.run(fileImportJob, jobParameters);\n</code></pre>\n<p>Can somebody show me where and how I can set my custom <code>GenericConverter</code>?\nOr is it somehow a <code>JobParametersConverter</code> which is needed, but then: How to set <em>that</em>\n(the documentation at <a href=\"https://docs.spring.io/spring-batch/docs/5.0.0-RC1/reference/html/job.html#javaConfig/html/job.html#javaConfig\" rel=\"nofollow noreferrer\">Spring Batch 5 RC1, Java Config</a> seems incomplete)?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":26213768,"reputation":1,"user_id":19892176,"display_name":"Jade Shi"},"score":0,"creation_date":1666710276,"post_id":74196034,"comment_id":130998538,"body_markdown":"All right,i change the pictures into codes","body":"All right,i change the pictures into codes"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1666711991,"post_id":74196034,"comment_id":130999188,"body_markdown":"You cannot start an activity from the background on modern versions of Android. Also, modern versions of Android will show a `Toast` for some clipboard operations.","body":"You cannot start an activity from the background on modern versions of Android. Also, modern versions of Android will show a <code>Toast</code> for some clipboard operations."},{"owner":{"account_id":26213768,"reputation":1,"user_id":19892176,"display_name":"Jade Shi"},"score":0,"creation_date":1666753193,"post_id":74196034,"comment_id":131008840,"body_markdown":"I understand ，thank you.But how can I show a page/start an activity through the broadcast receicer?","body":"I understand ，thank you.But how can I show a page/start an activity through the broadcast receicer?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666784906,"post_id":74196034,"comment_id":131016866,"body_markdown":"&quot;But how can I show a page/start an activity through the broadcast receicer?&quot; -- that is not possible in general on modern versions of Android. Please raise a `Notification` instead.","body":"&quot;But how can I show a page/start an activity through the broadcast receicer?&quot; -- that is not possible in general on modern versions of Android. Please raise a <code>Notification</code> instead."}],"owner":{"account_id":26213768,"reputation":1,"user_id":19892176,"display_name":"Jade Shi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666710199,"creation_date":1666709611,"question_id":74196034,"body_markdown":"I start a service to listen the change in clipboard.\r\nIf the clipboard has the right string that i need,then the service send the broadcast.\r\n\r\n        @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        cm.addPrimaryClipChangedListener(new ClipboardManager.OnPrimaryClipChangedListener() {\r\n            @Override\r\n            public void onPrimaryClipChanged() {\r\n                ClipData.Item item = cm.getPrimaryClip().getItemAt(0);\r\n                // Gets the clipboard as text.\r\n                pasteData = (String) item.getText();\r\n                if (pasteData.equals(&quot;SE123456&quot;)){\r\n                    Intent intent=new Intent();\r\n                    intent.setAction(&quot;HAS_STUDENT_RECORD&quot;);\r\n                    intent.putExtra(&quot;clipboard&quot;,pasteData);\r\n                    sendBroadcast(intent);\r\n                }\r\n            }\r\n        });\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\nThe broadcast than start the activity.\r\n\r\n    public class StudentRecordBroadcastReceiver extends BroadcastReceiver {\r\n    private static final String action=&quot;HAS_STUDENT_RECORD&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // TODO: This method is called when the BroadcastReceiver is receiving\r\n        // an Intent broadcast.\r\n        if (intent.getAction().equals(action)){\r\n            Intent intent12=new Intent(context,ActivityStudent.class);\r\n            intent12.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(intent12);\r\n        }\r\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n}\r\n\r\nBut when i copy the string into the clipboard,the activity doesn&#39;t show.However,It make a Toast,but i don&#39;t know where the Toast came from.\r\n[![enter image description here](https://i.stack.imgur.com/tW93G.png)](https://i.stack.imgur.com/tW93G.png)\r\n\r\n\r\nI don&#39;t know the reason.","title":"Why the broadcast receiver doesn&#39;t work in Android","body":"<p>I start a service to listen the change in clipboard.\nIf the clipboard has the right string that i need,then the service send the broadcast.</p>\n<pre><code>    @Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    cm.addPrimaryClipChangedListener(new ClipboardManager.OnPrimaryClipChangedListener() {\n        @Override\n        public void onPrimaryClipChanged() {\n            ClipData.Item item = cm.getPrimaryClip().getItemAt(0);\n            // Gets the clipboard as text.\n            pasteData = (String) item.getText();\n            if (pasteData.equals(&quot;SE123456&quot;)){\n                Intent intent=new Intent();\n                intent.setAction(&quot;HAS_STUDENT_RECORD&quot;);\n                intent.putExtra(&quot;clipboard&quot;,pasteData);\n                sendBroadcast(intent);\n            }\n        }\n    });\n    return super.onStartCommand(intent, flags, startId);\n}\n</code></pre>\n<p>The broadcast than start the activity.</p>\n<pre><code>public class StudentRecordBroadcastReceiver extends BroadcastReceiver {\nprivate static final String action=&quot;HAS_STUDENT_RECORD&quot;;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // TODO: This method is called when the BroadcastReceiver is receiving\n    // an Intent broadcast.\n    if (intent.getAction().equals(action)){\n        Intent intent12=new Intent(context,ActivityStudent.class);\n        intent12.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(intent12);\n    }\n    throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>But when i copy the string into the clipboard,the activity doesn't show.However,It make a Toast,but i don't know where the Toast came from.\n<a href=\"https://i.stack.imgur.com/tW93G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tW93G.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know the reason.</p>\n"},{"tags":["java","mysql","search"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1666710173,"post_id":74195837,"comment_id":130998499,"body_markdown":"Keeping multiple values inside of a single entry is almost always a code smell that your database is not [normalized](https://en.wikipedia.org/wiki/Database_normalization), and thus not storing things in a manner that makes operating over the data in SQL simple and &quot;standard&quot;. While it doesn&#39;t answer the question directly posed, I&#39;d say that fixing your normalization would be the first step to resolving this and future issues.","body":"Keeping multiple values inside of a single entry is almost always a code smell that your database is not <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow noreferrer\">normalized</a>, and thus not storing things in a manner that makes operating over the data in SQL simple and &quot;standard&quot;. While it doesn&#39;t answer the question directly posed, I&#39;d say that fixing your normalization would be the first step to resolving this and future issues."},{"owner":{"account_id":2246677,"reputation":384,"user_id":1979870,"accept_rate":83,"display_name":"Mahesh Budeti"},"score":0,"creation_date":1666770800,"post_id":74195837,"comment_id":131012337,"body_markdown":"As suggested I have given some thoughts to split the search terms to different table but not sure how I can query with an &amp;&amp; on the new table with search terms on multiple rows.","body":"As suggested I have given some thoughts to split the search terms to different table but not sure how I can query with an &amp;&amp; on the new table with search terms on multiple rows."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666798853,"post_id":74195837,"comment_id":131022502,"body_markdown":"You can keep things like `first_name`, `last_name`, and `birth_year` in a table of `people`. Then this type of search would be a straightforward `OR` clause: `WHERE first_name = :fname OR last_name = :lname OR birth_year = :byear` (using `:param` as a placeholder for PreparedStatement parameters).","body":"You can keep things like <code>first_name</code>, <code>last_name</code>, and <code>birth_year</code> in a table of <code>people</code>. Then this type of search would be a straightforward <code>OR</code> clause: <code>WHERE first_name = :fname OR last_name = :lname OR birth_year = :byear</code> (using <code>:param</code> as a placeholder for PreparedStatement parameters)."}],"owner":{"account_id":2246677,"reputation":384,"user_id":1979870,"accept_rate":83,"display_name":"Mahesh Budeti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666710022,"creation_date":1666708676,"question_id":74195837,"body_markdown":"The following challenge is driving me crazy from couple of days to find the efficient way of performing a reverse search. \r\n\r\nI have an event object like below: \r\n\r\n**Data_to_search**\r\n```\r\n{\r\n\t&quot;data&quot;: {\r\n\t\t&quot;id&quot;: 123456,\r\n\t\t&quot;first_name&quot;: &quot;rajesh&quot;,\r\n\t\t&quot;last_name&quot;: &quot;kumar&quot;,\r\n\t\t&quot;birth_year&quot;: &quot;2020&quot;\r\n       }\r\n}\r\n```\r\n**Database Table**\r\n\r\n| id|SearchTerms(String Type in Database) |\r\n|:---- |:-----|\r\n| 1  | Ranjan Palekar,2021 |\r\n| 2  | Naresh Thalwar,2020 |\r\n| 3  | Rajesh,2020 |\r\n| 4  | kumar |\r\n| 5  | 2020 |\r\n| 6  | aprajith kumar, 2020 |\r\n\r\nThe above &quot;Data_to_search&quot; should query in &quot;Database Table&quot; and give the below results only: \r\n\r\n| id|SearchTerms |\r\n|:---- |:-----|\r\n| 3  | Rajesh,2020 |\r\n| 4  | kumar |\r\n| 5  | 2020 |\r\n| 6  | aprajith kumar, 2020 |\r\n\r\nAs you could observe The first 2 from Database are not appearing in end results cause for first one nothing matched and although for the second record 2020 is matched the first string(Naresh Thalwar) didn&#39;t matched. \r\n\r\nSome ways I could think of but not efficient: \r\n1) I used regular expression to behave like ```(?=.*word1)(?=.*word2)(?=.*word3)``` but the problem with it is records 4,5,6 wont come in end result\r\n2) I know looping DB column by splitting would be most inefficient way\r\n\r\nI am using Java latest version(17) and MySQL latest version(8)\r\n\r\nAny Ideas/thoughts are really appreciated thanks in advance.\r\n","title":"Java Search Array of Strings in MySQL database column with comma separated multiple strings","body":"<p>The following challenge is driving me crazy from couple of days to find the efficient way of performing a reverse search.</p>\n<p>I have an event object like below:</p>\n<p><strong>Data_to_search</strong></p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;id&quot;: 123456,\n        &quot;first_name&quot;: &quot;rajesh&quot;,\n        &quot;last_name&quot;: &quot;kumar&quot;,\n        &quot;birth_year&quot;: &quot;2020&quot;\n       }\n}\n</code></pre>\n<p><strong>Database Table</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">SearchTerms(String Type in Database)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">Ranjan Palekar,2021</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">Naresh Thalwar,2020</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">Rajesh,2020</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">kumar</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">2020</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">aprajith kumar, 2020</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The above &quot;Data_to_search&quot; should query in &quot;Database Table&quot; and give the below results only:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">SearchTerms</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">Rajesh,2020</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">kumar</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">2020</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">aprajith kumar, 2020</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>As you could observe The first 2 from Database are not appearing in end results cause for first one nothing matched and although for the second record 2020 is matched the first string(Naresh Thalwar) didn't matched.</p>\n<p>Some ways I could think of but not efficient:</p>\n<ol>\n<li>I used regular expression to behave like <code>(?=.*word1)(?=.*word2)(?=.*word3)</code> but the problem with it is records 4,5,6 wont come in end result</li>\n<li>I know looping DB column by splitting would be most inefficient way</li>\n</ol>\n<p>I am using Java latest version(17) and MySQL latest version(8)</p>\n<p>Any Ideas/thoughts are really appreciated thanks in advance.</p>\n"},{"tags":["java","spring-boot","jackson","jackson2"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666708665,"post_id":74195415,"comment_id":130997859,"body_markdown":"Why do you want this to be set? It only has meaning if there is a DTD declaration as well else it is useless. Also this configuration overrides the default jackson configuration so it might even interfere with other parts of the Spring Boot setup.","body":"Why do you want this to be set? It only has meaning if there is a DTD declaration as well else it is useless. Also this configuration overrides the default jackson configuration so it might even interfere with other parts of the Spring Boot setup."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666709614,"creation_date":1666709614,"answer_id":74196035,"question_id":74195415,"body_markdown":"Looks like [tag:jackson] can do it only with a (custom) `BufferingXmlWriter`:\r\n\r\n- https://www.google.com/search?q=xmlmapper+add+standalone\r\n- https://stackoverflow.com/a/63505475/592355\r\n- http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.13/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.Feature.html\r\n\r\nBut you have &quot;spring alternatives&quot;:\r\n- [`Jaxb2RootElementHttpMessageConverter`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/xml/Jaxb2RootElementHttpMessageConverter.html)\r\n- alternatively [`MarshallingHttpMessageConverter`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/xml/MarshallingHttpMessageConverter.html) in combination with [tag:spring-oxm].\r\n\r\n..can achieve it/have it as default.\r\n\r\n- https://www.google.com/search?q=spring+boot+xml+standalone%3Dyes","title":"SpringBoot/Jackson 2.13.x - outputting standalone=&quot;yes&quot; in XML Header","body":"<p>Looks like <a href=\"/questions/tagged/jackson\" class=\"post-tag\" title=\"show questions tagged &#39;jackson&#39;\" aria-label=\"show questions tagged &#39;jackson&#39;\" rel=\"tag\" aria-labelledby=\"jackson-container\">jackson</a> can do it only with a (custom) <code>BufferingXmlWriter</code>:</p>\n<ul>\n<li><a href=\"https://www.google.com/search?q=xmlmapper+add+standalone\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=xmlmapper+add+standalone</a></li>\n<li><a href=\"https://stackoverflow.com/a/63505475/592355\">https://stackoverflow.com/a/63505475/592355</a></li>\n<li><a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.13/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.Feature.html\" rel=\"nofollow noreferrer\">http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.13/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.Feature.html</a></li>\n</ul>\n<p>But you have &quot;spring alternatives&quot;:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/xml/Jaxb2RootElementHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>Jaxb2RootElementHttpMessageConverter</code></a></li>\n<li>alternatively <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/xml/MarshallingHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>MarshallingHttpMessageConverter</code></a> in combination with <a href=\"/questions/tagged/spring-oxm\" class=\"post-tag\" title=\"show questions tagged &#39;spring-oxm&#39;\" aria-label=\"show questions tagged &#39;spring-oxm&#39;\" rel=\"tag\" aria-labelledby=\"spring-oxm-container\">spring-oxm</a>.</li>\n</ul>\n<p>..can achieve it/have it as default.</p>\n<ul>\n<li><a href=\"https://www.google.com/search?q=spring+boot+xml+standalone%3Dyes\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=spring+boot+xml+standalone%3Dyes</a></li>\n</ul>\n"}],"owner":{"account_id":1769502,"reputation":198,"user_id":1614626,"accept_rate":58,"display_name":"Chris Spiking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666709614,"creation_date":1666706900,"question_id":74195415,"body_markdown":"I&#39;m configuring my ObjectMapper/XmlMessageConverter in Spring Boot with the following Beans: \r\n\r\n        @Bean\r\n        public Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder()\r\n        {\r\n            final AnnotationIntrospector introspector = new JaxbAnnotationIntrospector(TypeFactory.defaultInstance());\r\n            return new Jackson2ObjectMapperBuilder().serializationInclusion(JsonInclude.Include.NON_NULL).defaultUseWrapper(false)\r\n                                                    .annotationIntrospector(introspector);\r\n        }\r\n        \r\n        @Bean\r\n        @Autowired\r\n        public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder)\r\n        {\r\n            final XmlMapper xmlMapper = builder.createXmlMapper(true).build();\r\n            xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n            xmlMapper.getFactory().getXMLOutputFactory().setProperty(WstxOutputProperties.P_USE_DOUBLE_QUOTES_IN_XML_DECL, true);\r\n            return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\r\n        }\r\n\r\nBut I can&#39;t seem to find a way for force the output of standalone=&quot;yes&quot; into the xml header.\r\n\r\nDoes anyone know how I can do this?","title":"SpringBoot/Jackson 2.13.x - outputting standalone=&quot;yes&quot; in XML Header","body":"<p>I'm configuring my ObjectMapper/XmlMessageConverter in Spring Boot with the following Beans:</p>\n<pre><code>    @Bean\n    public Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder()\n    {\n        final AnnotationIntrospector introspector = new JaxbAnnotationIntrospector(TypeFactory.defaultInstance());\n        return new Jackson2ObjectMapperBuilder().serializationInclusion(JsonInclude.Include.NON_NULL).defaultUseWrapper(false)\n                                                .annotationIntrospector(introspector);\n    }\n    \n    @Bean\n    @Autowired\n    public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder)\n    {\n        final XmlMapper xmlMapper = builder.createXmlMapper(true).build();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n        xmlMapper.getFactory().getXMLOutputFactory().setProperty(WstxOutputProperties.P_USE_DOUBLE_QUOTES_IN_XML_DECL, true);\n        return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\n    }\n</code></pre>\n<p>But I can't seem to find a way for force the output of standalone=&quot;yes&quot; into the xml header.</p>\n<p>Does anyone know how I can do this?</p>\n"},{"tags":["java","postgresql","api","rest"],"comments":[{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1666687086,"post_id":74190988,"comment_id":130990292,"body_markdown":"You are searching for the fieldname &quot;namet&quot;, while you only have a field &quot;name&quot;.  But I guess you mean with fieldname, the column name right? So you don&#39;t have to declare it with p.   Can you try to make your query like this:&quot;SELECT * FROM products WHERE&quot; +fieldname +&quot; LIKE &#39;%&#39;+value+&#39;%&#39;.","body":"You are searching for the fieldname &quot;namet&quot;, while you only have a field &quot;name&quot;.  But I guess you mean with fieldname, the column name right? So you don&#39;t have to declare it with p.   Can you try to make your query like this:&quot;SELECT * FROM products WHERE&quot; +fieldname +&quot; LIKE &#39;%&#39;+value+&#39;%&#39;."},{"owner":{"account_id":23996635,"reputation":41,"user_id":17982074,"display_name":"moritzknrd"},"score":0,"creation_date":1666689979,"post_id":74190988,"comment_id":130991262,"body_markdown":"I tried it and it helped a bit but now i always get null as response from the api. But even when theres nothing in the database it should return an empty list","body":"I tried it and it helped a bit but now i always get null as response from the api. But even when theres nothing in the database it should return an empty list"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666691694,"post_id":74190988,"comment_id":130991809,"body_markdown":"Be careful! This introduces a [SQL injection security vulnerability](https://en.wikipedia.org/wiki/SQL_injection). You need to validate that the field name received exactly matches a column name in the table and use a [prepared statement and bind parameter](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) for the value.","body":"Be careful! This introduces a <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection security vulnerability</a>. You need to validate that the field name received exactly matches a column name in the table and use a <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">prepared statement and bind parameter</a> for the value."},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1666692064,"post_id":74190988,"comment_id":130991941,"body_markdown":"Doesn&#39;t an empty list always gets presented as a null value? It does work when you have a value?","body":"Doesn&#39;t an empty list always gets presented as a null value? It does work when you have a value?"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1666693171,"post_id":74190988,"comment_id":130992334,"body_markdown":"When you execute the query in your postgres, does it return values correct than? When the query works it is indeed better to make it prepared statement. But that depends what you are doing this for. (maybe you are just learning..)","body":"When you execute the query in your postgres, does it return values correct than? When the query works it is indeed better to make it prepared statement. But that depends what you are doing this for. (maybe you are just learning..)"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1667239781,"post_id":74190988,"comment_id":131118773,"body_markdown":"Check if this helps: https://www.baeldung.com/spring-data-rest-intro","body":"Check if this helps: <a href=\"https://www.baeldung.com/spring-data-rest-intro\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-rest-intro</a>"}],"owner":{"account_id":23996635,"reputation":41,"user_id":17982074,"display_name":"moritzknrd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666709496,"creation_date":1666685752,"question_id":74190988,"body_markdown":"I&#39;m trying to perform a get request to my PostgreSQL Database which is supposed to work as an adaptable Search. For this request I have the parameters &quot;columName&quot; and &quot;value&quot;.\r\nMy Java Code is the following:\r\n\r\n    @GetMapping(&quot;/product/search&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public ProductList searchProduct(@RequestParam(name = &quot;fieldName&quot;) String fieldName,\r\n                                     @RequestParam(name = &quot;value&quot;) String value\r\n                                     ){\r\n        ProductList productList = new ProductList();\r\n        productList.searchProduct(fieldName, value);\r\n        return productList;\r\n    }\r\n\r\nand\r\n\r\n    public void searchProduct(String fieldName, String value){\r\n\t\tProductManager productManager = PostgresProductManagerImpl.getPostgresProductManagerImpl();\r\n\t\tproductManager.searchProduct(fieldName, value);\r\n\t}\r\n\r\nand\r\n\r\n    public Collection&lt;Product&gt; searchProduct(String fieldName, String value) {\r\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n        Statement stmt = null;\r\n        Connection connection = null;\r\n        try {\r\n            connection = basicDataSource.getConnection();\r\n            stmt = connection.createStatement();\r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products p WHERE p.&quot;+fieldName+&quot; = &quot; + value);\r\n            while (rs.next()){\r\n                products.add(\r\n                        new Product(\r\n                                rs.getString(&quot;name&quot;),\r\n                                rs.getString(&quot;description&quot;),\r\n                                rs.getString(&quot;location&quot;),\r\n                                rs.getString(&quot;alcoholContent&quot;),\r\n                                rs.getInt(&quot;likes&quot;),\r\n                                rs.getInt(&quot;dislikes&quot;),\r\n                                rs.getInt(&quot;productID&quot;)\r\n                        )\r\n                );\r\n            }\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            stmt.close();\r\n            connection.close();\r\n        }catch (SQLException e){\r\n            e.printStackTrace();\r\n        }\r\n        return products;\r\n    }\r\n    \r\nI tried some stuff out by now but nothing really made it work.\r\nIn my RestClient I request a get method with\r\n\r\n    /api/v1.0/product/search?fieldName=namet&amp;value=beer\r\n\r\nI hope that I described my problem well enough for some help.","title":"How can I perform a get request to my Database with a REST API in Java having the Requestparameters &quot;columnName&quot; and &quot;columnValue&quot;?","body":"<p>I'm trying to perform a get request to my PostgreSQL Database which is supposed to work as an adaptable Search. For this request I have the parameters &quot;columName&quot; and &quot;value&quot;.\nMy Java Code is the following:</p>\n<pre><code>@GetMapping(&quot;/product/search&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic ProductList searchProduct(@RequestParam(name = &quot;fieldName&quot;) String fieldName,\n                                 @RequestParam(name = &quot;value&quot;) String value\n                                 ){\n    ProductList productList = new ProductList();\n    productList.searchProduct(fieldName, value);\n    return productList;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public void searchProduct(String fieldName, String value){\n    ProductManager productManager = PostgresProductManagerImpl.getPostgresProductManagerImpl();\n    productManager.searchProduct(fieldName, value);\n}\n</code></pre>\n<p>and</p>\n<pre><code>public Collection&lt;Product&gt; searchProduct(String fieldName, String value) {\n    List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n    Statement stmt = null;\n    Connection connection = null;\n    try {\n        connection = basicDataSource.getConnection();\n        stmt = connection.createStatement();\n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products p WHERE p.&quot;+fieldName+&quot; = &quot; + value);\n        while (rs.next()){\n            products.add(\n                    new Product(\n                            rs.getString(&quot;name&quot;),\n                            rs.getString(&quot;description&quot;),\n                            rs.getString(&quot;location&quot;),\n                            rs.getString(&quot;alcoholContent&quot;),\n                            rs.getInt(&quot;likes&quot;),\n                            rs.getInt(&quot;dislikes&quot;),\n                            rs.getInt(&quot;productID&quot;)\n                    )\n            );\n        }\n    }catch (SQLException e) {\n        e.printStackTrace();\n    }\n    try {\n        stmt.close();\n        connection.close();\n    }catch (SQLException e){\n        e.printStackTrace();\n    }\n    return products;\n}\n</code></pre>\n<p>I tried some stuff out by now but nothing really made it work.\nIn my RestClient I request a get method with</p>\n<pre><code>/api/v1.0/product/search?fieldName=namet&amp;value=beer\n</code></pre>\n<p>I hope that I described my problem well enough for some help.</p>\n"},{"tags":["java","testing","junit","return"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1666620384,"post_id":74182226,"comment_id":130973969,"body_markdown":"Your 2nd method seems to be a `setter` (not `getter`). You may want to read the following in its entirety:  https://stackoverflow.com/questions/21354311/junit-test-of-setters-and-getters-of-instance-variables","body":"Your 2nd method seems to be a <code>setter</code> (not <code>getter</code>). You may want to read the following in its entirety:  <a href=\"https://stackoverflow.com/questions/21354311/junit-test-of-setters-and-getters-of-instance-variables\" title=\"junit test of setters and getters of instance variables\">stackoverflow.com/questions/21354311/&hellip;</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666620764,"post_id":74182226,"comment_id":130974120,"body_markdown":"You execute the method and compare the result to the expected one. E.g. you define an input (obviously, you have to construct an instance of some unknown class and set the class variable `LvlCode`), then you execute the method and use some assertion (JUnit has several of them) to compare the result with the expected result.","body":"You execute the method and compare the result to the expected one. E.g. you define an input (obviously, you have to construct an instance of some unknown class and set the class variable <code>LvlCode</code>), then you execute the method and use some assertion (JUnit has several of them) to compare the result with the expected result."},{"owner":{"account_id":26717902,"reputation":1,"user_id":20322245,"display_name":"Xavier"},"score":0,"creation_date":1666709183,"post_id":74182226,"comment_id":130998083,"body_markdown":"putting get twice was a mistype after retyping the code...","body":"putting get twice was a mistype after retyping the code..."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666628018,"creation_date":1666628018,"answer_id":74183974,"question_id":74182226,"body_markdown":"Assuming your class looks like this:\r\n```\r\nclass Example {\r\n    private String lvlCode;\r\n\r\n    public String getLvlCode() {\r\n        return LvlCode;\r\n    }\r\n\r\n    public void setLvlCode(String lvlCode) {\r\n        this.lvlCode = lvlCode;\r\n    }\r\n}\r\n```\r\n\r\nOne test you could write for it is:\r\n```\r\nimport org.junit.Assert;\r\n\r\nclass ExampleTest {\r\n\r\n    @Test\r\n    public void testLvlCodeSetter() {\r\n        final String EXPECTED_CODE = &quot;ABCD_1234&quot;;\r\n        Example example = new Example();\r\n        example.setLvlCode(EXPECTED_CODE):\r\n\r\n        Assert.assertEquals(EXPECTED_CODE, example.getLvlCode());\r\n    }\r\n}\r\n```\r\n","title":"Testing Return Statements","body":"<p>Assuming your class looks like this:</p>\n<pre><code>class Example {\n    private String lvlCode;\n\n    public String getLvlCode() {\n        return LvlCode;\n    }\n\n    public void setLvlCode(String lvlCode) {\n        this.lvlCode = lvlCode;\n    }\n}\n</code></pre>\n<p>One test you could write for it is:</p>\n<pre><code>import org.junit.Assert;\n\nclass ExampleTest {\n\n    @Test\n    public void testLvlCodeSetter() {\n        final String EXPECTED_CODE = &quot;ABCD_1234&quot;;\n        Example example = new Example();\n        example.setLvlCode(EXPECTED_CODE):\n\n        Assert.assertEquals(EXPECTED_CODE, example.getLvlCode());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26717902,"reputation":1,"user_id":20322245,"display_name":"Xavier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666628242,"answer_count":1,"score":-1,"last_activity_date":1666709230,"creation_date":1666619787,"question_id":74182226,"body_markdown":"so I&#39;m pretty new to JUnit testing so I&#39;m a bit stuck here.\r\nI have to test this method for an assignment but I&#39;m nor sure how I would test a return statement. Does anyone have any ideas?\r\n\r\n```\r\npublic String getLvlCode() {\r\n  return LvlCode;\r\n}\r\n\r\npublic void setLvlCode(String lvlCode) {\r\n  this.lvlCode = lvlCode;\r\n}\r\n```","title":"Testing Return Statements","body":"<p>so I'm pretty new to JUnit testing so I'm a bit stuck here.\nI have to test this method for an assignment but I'm nor sure how I would test a return statement. Does anyone have any ideas?</p>\n<pre><code>public String getLvlCode() {\n  return LvlCode;\n}\n\npublic void setLvlCode(String lvlCode) {\n  this.lvlCode = lvlCode;\n}\n</code></pre>\n"},{"tags":["java","server","wildfly","java-ee-6","jasypt"],"comments":[{"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"score":0,"creation_date":1666665465,"post_id":74187912,"comment_id":130985736,"body_markdown":"This kind of error is often caused due server misconfiguration. Review your configuration and class loaders. Maybe, share your configuration to help find the issue.","body":"This kind of error is often caused due server misconfiguration. Review your configuration and class loaders. Maybe, share your configuration to help find the issue."},{"owner":{"account_id":21568711,"reputation":11,"user_id":16923165,"display_name":"Facundo Suarez"},"score":0,"creation_date":1666708376,"post_id":74187912,"comment_id":130997750,"body_markdown":"Hi!, @HaroldoMacedo i edit my question and added my server standalone.xml configuration","body":"Hi!, @HaroldoMacedo i edit my question and added my server standalone.xml configuration"}],"owner":{"account_id":21568711,"reputation":11,"user_id":16923165,"display_name":"Facundo Suarez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666708269,"creation_date":1666656021,"question_id":74187912,"body_markdown":"Hi i have a javaEE application with wildfly server i use the library jasypt to encrypt password and at the time to run my server app it throws me this jasypt.StrongPasswordEncryptor class not found exception and other exceptions, any ideas of what is this exception caused by? here&#39;s the \r\nserver output:\r\n       \r\n    18:51:59,300 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.subunit.&quot;ProyectoServidor.ear&quot;.&quot;ProyectoEJB-ejb.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;ProyectoServidor.ear&quot;.&quot;ProyectoEJB-ejb.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of subdeployment &quot;ProyectoEJB-ejb.jar&quot; of deployment &quot;ProyectoServidor.ear&quot;\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n        \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n        Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class com.fannog.proyectoservidor.utils.Encryptor with ClassLoader ModuleClassLoader for Module &quot;deployment.ProyectoServidor.ear.ProyectoEJB-ejb.jar&quot; from Service Module Loader\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:78)\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.ClassReflectionIndexUtil.findMethod(ClassReflectionIndexUtil.java:57)\r\n        \tat org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.deployment.processors.dd.DeploymentDescriptorMethodProcessor.handleStatelessSessionBean(DeploymentDescriptorMethodProcessor.java:99)\r\n        \tat org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.deployment.processors.dd.DeploymentDescriptorMethodProcessor.deploy(DeploymentDescriptorMethodProcessor.java:76)\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n        \t... 8 more\r\n        Caused by: java.lang.NoClassDefFoundError: org/jasypt/util/password/StrongPasswordEncryptor\r\n        \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n        \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n        \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.ClassReflectionIndex.&lt;init&gt;(ClassReflectionIndex.java:72)\r\n        \tat org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:70)\r\n        \t... 12 more\r\n        Caused by: java.lang.ClassNotFoundException: org.jasypt.util.password.StrongPasswordEncryptor from [Module &quot;deployment.ProyectoServidor.ear.ProyectoEJB-ejb.jar&quot; from Service Module Loader]\r\n        \tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\r\n        \tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n        \tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n        \tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n        \t... 17 more\r\n\r\nHere is the wildfly server configuration (Standalone.xml) im using wildfly server wildfly-26.1.0.Final version\r\n\r\n**LINK:** https://docs.google.com/document/d/1jBfLbo2Wm-3M8gR5Xw65zNyPBTQv-EynkvWb4gwVkQ4/edit?usp=sharing","title":"error when deploying my javaEE app - class not found jasypt/StrongPasswordEncryptor","body":"<p>Hi i have a javaEE application with wildfly server i use the library jasypt to encrypt password and at the time to run my server app it throws me this jasypt.StrongPasswordEncryptor class not found exception and other exceptions, any ideas of what is this exception caused by? here's the\nserver output:</p>\n<pre><code>18:51:59,300 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.subunit.&quot;ProyectoServidor.ear&quot;.&quot;ProyectoEJB-ejb.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;ProyectoServidor.ear&quot;.&quot;ProyectoEJB-ejb.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of subdeployment &quot;ProyectoEJB-ejb.jar&quot; of deployment &quot;ProyectoServidor.ear&quot;\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class com.fannog.proyectoservidor.utils.Encryptor with ClassLoader ModuleClassLoader for Module &quot;deployment.ProyectoServidor.ear.ProyectoEJB-ejb.jar&quot; from Service Module Loader\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:78)\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.ClassReflectionIndexUtil.findMethod(ClassReflectionIndexUtil.java:57)\n        at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.deployment.processors.dd.DeploymentDescriptorMethodProcessor.handleStatelessSessionBean(DeploymentDescriptorMethodProcessor.java:99)\n        at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.deployment.processors.dd.DeploymentDescriptorMethodProcessor.deploy(DeploymentDescriptorMethodProcessor.java:76)\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n        ... 8 more\n    Caused by: java.lang.NoClassDefFoundError: org/jasypt/util/password/StrongPasswordEncryptor\n        at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\n        at java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.ClassReflectionIndex.&lt;init&gt;(ClassReflectionIndex.java:72)\n        at org.jboss.as.server@18.1.0.Final//org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:70)\n        ... 12 more\n    Caused by: java.lang.ClassNotFoundException: org.jasypt.util.password.StrongPasswordEncryptor from [Module &quot;deployment.ProyectoServidor.ear.ProyectoEJB-ejb.jar&quot; from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n        ... 17 more\n</code></pre>\n<p>Here is the wildfly server configuration (Standalone.xml) im using wildfly server wildfly-26.1.0.Final version</p>\n<p><strong>LINK:</strong> <a href=\"https://docs.google.com/document/d/1jBfLbo2Wm-3M8gR5Xw65zNyPBTQv-EynkvWb4gwVkQ4/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/1jBfLbo2Wm-3M8gR5Xw65zNyPBTQv-EynkvWb4gwVkQ4/edit?usp=sharing</a></p>\n"},{"tags":["java","csv","iteration","row","across"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1666705448,"post_id":74195011,"comment_id":130996552,"body_markdown":"tbh: This looks totally fine. There may be a performance problem when you get a `List` that has no `O(1)` access time on its `get()` method (i.e. when using a `LinkedList`). An alternative would be to use an `iterator()` on which you just call `next()` twice per iteration","body":"tbh: This looks totally fine. There may be a performance problem when you get a <code>List</code> that has no <code>O(1)</code> access time on its <code>get()</code> method (i.e. when using a <code>LinkedList</code>). An alternative would be to use an <code>iterator()</code> on which you just call <code>next()</code> twice per iteration"}],"answers":[{"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666708173,"post_id":74195489,"comment_id":130997662,"body_markdown":"`String production` -&gt; `String injection`.","body":"<code>String production</code> -&gt; <code>String injection</code>."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666708210,"creation_date":1666707222,"answer_id":74195489,"question_id":74195011,"body_markdown":"&gt; I do believe there should a &#39;cleaner&#39; solution for this.\r\n\r\nIt&#39;s not clear what you have in mind when you say &quot;cleaner&quot;, but here are some suggestions that I think would improve your code:\r\n\r\n 1. Consider reading CSV lines as you need them, instead of slurping them all into memory first, then going back and iterating over them.  If you were using [the `CsvReader` of OpenCSV][1], then that would imply using the `readNext()` method instead of the `readAll()` method.  It&#39;s unclear if or how the same could be done with the unspecified `CsvReader` you&#39;re actually using.\r\n\r\n 2. Use an object that represents the current state of the iteration instead of iterating by index.  If you persist in collecting all the lines into a `List`, then that would mean using the list&#39;s `Iterator` to obtain individual lines.  If you implement the above suggestion (1), then the `CsvReader` itself would be the wanted object.\r\n\r\n 3. With (2) in place, simply loop until the source of lines has no more (pairs of) lines to provide.\r\n\r\nFor example,\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    try (var reader = new CsvReader(\r\n            new FileReader(&quot;src/main/java/com/kdh/snippets/loops/dummy.csv&quot;))) {\r\n        for (String[] line = reader.nextLine(); line != null; line = reader.nextLine()) {\r\n            String consumption = line[8];\r\n\r\n            line = reader.nextLine();\r\n            if (line == null) {\r\n                // warn about an odd number of lines?\r\n                break;\r\n            }\r\n            String injection = line[8];\r\n\r\n            System.out.println(&quot;Consumption: &quot; + consumption + &quot;, Injection: &quot; + injection);\r\n        }\r\n    } catch (IOException ex) {\r\n        System.out.println(ex);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVReader.html","title":"Reading multiple lines from a List with one iteration","body":"<blockquote>\n<p>I do believe there should a 'cleaner' solution for this.</p>\n</blockquote>\n<p>It's not clear what you have in mind when you say &quot;cleaner&quot;, but here are some suggestions that I think would improve your code:</p>\n<ol>\n<li><p>Consider reading CSV lines as you need them, instead of slurping them all into memory first, then going back and iterating over them.  If you were using <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVReader.html\" rel=\"nofollow noreferrer\">the <code>CsvReader</code> of OpenCSV</a>, then that would imply using the <code>readNext()</code> method instead of the <code>readAll()</code> method.  It's unclear if or how the same could be done with the unspecified <code>CsvReader</code> you're actually using.</p>\n</li>\n<li><p>Use an object that represents the current state of the iteration instead of iterating by index.  If you persist in collecting all the lines into a <code>List</code>, then that would mean using the list's <code>Iterator</code> to obtain individual lines.  If you implement the above suggestion (1), then the <code>CsvReader</code> itself would be the wanted object.</p>\n</li>\n<li><p>With (2) in place, simply loop until the source of lines has no more (pairs of) lines to provide.</p>\n</li>\n</ol>\n<p>For example,</p>\n<pre><code>public static void main(String[] args) {\n\n    try (var reader = new CsvReader(\n            new FileReader(&quot;src/main/java/com/kdh/snippets/loops/dummy.csv&quot;))) {\n        for (String[] line = reader.nextLine(); line != null; line = reader.nextLine()) {\n            String consumption = line[8];\n\n            line = reader.nextLine();\n            if (line == null) {\n                // warn about an odd number of lines?\n                break;\n            }\n            String injection = line[8];\n\n            System.out.println(&quot;Consumption: &quot; + consumption + &quot;, Injection: &quot; + injection);\n        }\n    } catch (IOException ex) {\n        System.out.println(ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25775187,"reputation":1,"user_id":19522162,"display_name":"kdh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666708210,"creation_date":1666705256,"question_id":74195011,"body_markdown":"When reading a CSV file, I want to remember/store data across multiple rows of that particular file, e.g. to make an object based on columns from line 1+2, line 3+4, etc.\r\n\r\nWhile I&#39;ve found a solution, I do believe there should a &#39;cleaner&#39; solution for this. This is what I came up with:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    try (var reader = new FileReader(&quot;src/main/java/com/kdh/snippets/loops/dummy.csv&quot;)) {\r\n        List&lt;String[]&gt; rows = CsvReader.read(reader);\r\n\r\n        var index1 = 0;\r\n        var index2 = 1;\r\n\r\n        // 50 lines in file = 25 iterations\r\n        for (int i = 0; i &lt; rows.size() / 2; i++) {\r\n            String[] consumption = rows.get(index1);\r\n            String[] injection = rows.get(index2);\r\n            System.out.println(&quot;Consumption: &quot; + consumption[8] + &quot;, Injection: &quot; + injection[8]);\r\n            index1 += 2;\r\n            index2 += 2;\r\n        }\r\n    } catch (IOException ex) {\r\n        System.out.println(ex);\r\n    }\r\n}\r\n```","title":"Reading multiple lines from a List with one iteration","body":"<p>When reading a CSV file, I want to remember/store data across multiple rows of that particular file, e.g. to make an object based on columns from line 1+2, line 3+4, etc.</p>\n<p>While I've found a solution, I do believe there should a 'cleaner' solution for this. This is what I came up with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    try (var reader = new FileReader(&quot;src/main/java/com/kdh/snippets/loops/dummy.csv&quot;)) {\n        List&lt;String[]&gt; rows = CsvReader.read(reader);\n\n        var index1 = 0;\n        var index2 = 1;\n\n        // 50 lines in file = 25 iterations\n        for (int i = 0; i &lt; rows.size() / 2; i++) {\n            String[] consumption = rows.get(index1);\n            String[] injection = rows.get(index2);\n            System.out.println(&quot;Consumption: &quot; + consumption[8] + &quot;, Injection: &quot; + injection[8]);\n            index1 += 2;\n            index2 += 2;\n        }\n    } catch (IOException ex) {\n        System.out.println(ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","memory","javafx-2"],"comments":[{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1345294043,"post_id":12018675,"comment_id":16036636,"body_markdown":"What platform are you working on? Linux, Win, Mac?","body":"What platform are you working on? Linux, Win, Mac?"},{"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"score":0,"creation_date":1345294068,"post_id":12018675,"comment_id":16036644,"body_markdown":"@Bal&#225;zsM&#225;riaN&#233;meth - Linux (Ubuntu 10.10).","body":"@Bal&#225;zsM&#225;riaN&#233;meth - Linux (Ubuntu 10.10)."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1573136457,"post_id":12018675,"comment_id":103789679,"body_markdown":"Possible duplicate of [How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console](https://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin\">How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console</a>"}],"answers":[{"comments":[{"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"score":0,"creation_date":1345294347,"post_id":12018715,"comment_id":16036698,"body_markdown":"I&#39;m looking for some memory leaks, maybe even in native libs :(","body":"I&#39;m looking for some memory leaks, maybe even in native libs :("},{"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"score":0,"creation_date":1345294598,"post_id":12018715,"comment_id":16036743,"body_markdown":"It will be rather tricky to find a leak if it is indeed caused by the JavaFX classes (though I am not aware of any issues there). If you have access to it, I recommend getting JProfiler for this, though I am sure that other applications (that i may be unaware of) can do the job as well. The basic approach is getting a heap dump, examining fishy looking object populations and using the tool to trace the instances back to their GC roots (something you don&#39;t want to do by hand). This feature will basically tell why an instance has not been garbage collected.","body":"It will be rather tricky to find a leak if it is indeed caused by the JavaFX classes (though I am not aware of any issues there). If you have access to it, I recommend getting JProfiler for this, though I am sure that other applications (that i may be unaware of) can do the job as well. The basic approach is getting a heap dump, examining fishy looking object populations and using the tool to trace the instances back to their GC roots (something you don&#39;t want to do by hand). This feature will basically tell why an instance has not been garbage collected."},{"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"score":0,"creation_date":1345295438,"post_id":12018715,"comment_id":16036884,"body_markdown":"I am using jvisalvm now, and judging by the fact that my application has slowly growing heap size, it&#39;s not the result of native leaks - but leaks of java objects. Thus I hope that it would be easy to solve. Thanks for your help!","body":"I am using jvisalvm now, and judging by the fact that my application has slowly growing heap size, it&#39;s not the result of native leaks - but leaks of java objects. Thus I hope that it would be easy to solve. Thanks for your help!"},{"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"score":0,"creation_date":1345297057,"post_id":12018715,"comment_id":16037178,"body_markdown":"Keep in mind though that a constantly growing heap does not prove a memory leak until you actually get the OOMException. Depending on your garbage collector it might just be uncollected garbage that is left until a full collection is necessary.","body":"Keep in mind though that a constantly growing heap does not prove a memory leak until you actually get the OOMException. Depending on your garbage collector it might just be uncollected garbage that is left until a full collection is necessary."},{"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"score":0,"creation_date":1345307181,"post_id":12018715,"comment_id":16039322,"body_markdown":"Unfortunately, I checked (by forcing GC from jvisualvm) and it doesn&#39;t seem to be uncollected garbage. The actual problem is that memory keeps to accumulate even if application sits doing absolutely nothing.","body":"Unfortunately, I checked (by forcing GC from jvisualvm) and it doesn&#39;t seem to be uncollected garbage. The actual problem is that memory keeps to accumulate even if application sits doing absolutely nothing."},{"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"score":0,"creation_date":1345308420,"post_id":12018715,"comment_id":16039632,"body_markdown":"Well it will be doing something if it is accumulating garbage. Have you checked (via JVisualVM) where CPU time is being spent?","body":"Well it will be doing something if it is accumulating garbage. Have you checked (via JVisualVM) where CPU time is being spent?"}],"tags":[],"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1345294189,"creation_date":1345294189,"answer_id":12018715,"question_id":12018675,"body_markdown":"There are lots of ways to get a heap dump, starting with simple tools like jmap to more fancy stuff like JVisualVM or even commerical tools as JProfiler. Correctly interpreting those dumps can be tricky though, so you might want to post exactly what you are looking for. Are going hunting for a memory leak, or are you interested in getting a general feel for your application?","title":"Making a &quot;memory dump&quot; of java application?","body":"<p>There are lots of ways to get a heap dump, starting with simple tools like jmap to more fancy stuff like JVisualVM or even commerical tools as JProfiler. Correctly interpreting those dumps can be tricky though, so you might want to post exactly what you are looking for. Are going hunting for a memory leak, or are you interested in getting a general feel for your application?</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1345294200,"creation_date":1345294200,"answer_id":12018718,"question_id":12018675,"body_markdown":"You can use [jvisualvm](http://visualvm.java.net/). It has plugin to see live memory and get a dump out of it.","title":"Making a &quot;memory dump&quot; of java application?","body":"<p>You can use <a href=\"http://visualvm.java.net/\" rel=\"noreferrer\">jvisualvm</a>. It has plugin to see live memory and get a dump out of it.</p>\n"},{"tags":[],"owner":{"account_id":208463,"reputation":1156,"user_id":458965,"display_name":"pjklauser"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1390563627,"creation_date":1390563627,"answer_id":21331750,"question_id":12018675,"body_markdown":"Use `jmap -heap:format=b &lt;process-id&gt;` to create a binary dump of the heap which can then be loaded into several tools - my favorite being the &quot;Eclipse Memory Analyzer&quot;","title":"Making a &quot;memory dump&quot; of java application?","body":"<p>Use <code>jmap -heap:format=b &lt;process-id&gt;</code> to create a binary dump of the heap which can then be loaded into several tools - my favorite being the \"Eclipse Memory Analyzer\"</p>\n"},{"tags":[],"owner":{"account_id":412545,"reputation":5279,"user_id":785663,"accept_rate":75,"display_name":"mabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666707911,"creation_date":1477044491,"answer_id":40173835,"question_id":12018675,"body_markdown":"I just re-discovered [this article (archive.org archive)](https://web.archive.org/web/20200810143815/https://www.atlassian.com/blog/archives/so-you-want-your-jvms-heap) when researching ways to grab &quot;JVM state right at this moment&quot; - after a heap I pulled with `jmap` was about half the size of what the MBeans reported. I&#39;ll add it for completeness:\r\n\r\n    su $JVM_OWNER -c &quot;gcore -o /tmp/jvm.core $YOUR_JVM_PID&quot;\r\n    su $JVM_OWNER -c &quot;jmap -dump:format=b,file=jvm.hprof /usr/bin/java /tmp/jvm.core&quot;\r\n\r\nRequires gdb installed (for `gcore`) and a JDK installation (for jmap). Also note you&#39;d might need to adjust `/usr/bin/java` to the path of the JVM used for the process.","title":"Making a &quot;memory dump&quot; of java application?","body":"<p>I just re-discovered <a href=\"https://web.archive.org/web/20200810143815/https://www.atlassian.com/blog/archives/so-you-want-your-jvms-heap\" rel=\"nofollow noreferrer\">this article (archive.org archive)</a> when researching ways to grab &quot;JVM state right at this moment&quot; - after a heap I pulled with <code>jmap</code> was about half the size of what the MBeans reported. I'll add it for completeness:</p>\n<pre><code>su $JVM_OWNER -c &quot;gcore -o /tmp/jvm.core $YOUR_JVM_PID&quot;\nsu $JVM_OWNER -c &quot;jmap -dump:format=b,file=jvm.hprof /usr/bin/java /tmp/jvm.core&quot;\n</code></pre>\n<p>Requires gdb installed (for <code>gcore</code>) and a JDK installation (for jmap). Also note you'd might need to adjust <code>/usr/bin/java</code> to the path of the JVM used for the process.</p>\n"}],"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30217,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":12018715,"answer_count":4,"score":15,"last_activity_date":1666707911,"creation_date":1345293839,"question_id":12018675,"body_markdown":"I have Java application, which, unfortunately, begins to consume quite big amounts of memory after some time. To complicate things, it&#39;s not only Java application, it is also JavaFX 2 application.\r\n\r\nI suspect that there is some memory leak, maybe even in underlying JavaFX calls and native libs.\r\n\r\nThe ideal solution would be to get a dump of all java objects at some moment (with their memory usage), and then analyze that dump. Is there some way to achieve this?","title":"Making a &quot;memory dump&quot; of java application?","body":"<p>I have Java application, which, unfortunately, begins to consume quite big amounts of memory after some time. To complicate things, it's not only Java application, it is also JavaFX 2 application.</p>\n\n<p>I suspect that there is some memory leak, maybe even in underlying JavaFX calls and native libs.</p>\n\n<p>The ideal solution would be to get a dump of all java objects at some moment (with their memory usage), and then analyze that dump. Is there some way to achieve this?</p>\n"},{"tags":["java","image","javadoc"],"comments":[{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":2,"creation_date":1338177744,"post_id":10779169,"comment_id":14018126,"body_markdown":"Why not show us what you&#39;re trying to do with some code?  Use the [edit] link to add it. Good luck! :)","body":"Why not show us what you&#39;re trying to do with some code?  Use the <a href=\"https://stackoverflow.com/posts/10779169/edit\">edit</a> link to add it. Good luck! :)"},{"owner":{"account_id":341953,"reputation":12842,"user_id":672841,"accept_rate":72,"display_name":"Can&#39;t Tell"},"score":1,"creation_date":1338180546,"post_id":10779169,"comment_id":14018533,"body_markdown":"Is [this](http://stackoverflow.com/a/2903393/672841) what you are trying to achieve?","body":"Is <a href=\"http://stackoverflow.com/a/2903393/672841\">this</a> what you are trying to achieve?"}],"answers":[{"comments":[{"owner":{"account_id":1416578,"reputation":1743,"user_id":1342121,"display_name":"ianpojman"},"score":0,"creation_date":1338246971,"post_id":10790401,"comment_id":14037274,"body_markdown":"thanks - but that requires me to run the javadoc utility, which i hoped to avoid  (and probably makes this situation impossible...)","body":"thanks - but that requires me to run the javadoc utility, which i hoped to avoid  (and probably makes this situation impossible...)"},{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":2,"creation_date":1517462131,"post_id":10790401,"comment_id":84107652,"body_markdown":"Uploading the image to a site like [imgur](https://imgur.com/) works a treat: `&lt;img src=&quot;https://i.imgur.com/GPzGu1N.png&quot; /&gt;` [In action in IntelliJ](https://i.imgur.com/WPtqCjV.png)","body":"Uploading the image to a site like <a href=\"https://imgur.com/\" rel=\"nofollow noreferrer\">imgur</a> works a treat: <code>&lt;img src=&quot;https:&#47;&#47;i.imgur.com&#47;GPzGu1N.png&quot; &#47;&gt;</code> <a href=\"https://i.imgur.com/WPtqCjV.png\" rel=\"nofollow noreferrer\">In action in IntelliJ</a>"},{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":9,"creation_date":1566569841,"post_id":10790401,"comment_id":101709754,"body_markdown":"@BradTurek that seems like a bad plan. Documentation should not disappear when some random website moves or closes down.","body":"@BradTurek that seems like a bad plan. Documentation should not disappear when some random website moves or closes down."},{"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"score":3,"creation_date":1595403575,"post_id":10790401,"comment_id":111458534,"body_markdown":"With the recent IntelliJ (2020) this works out of the box (cf. https://blog.jetbrains.com/idea/2020/03/intellij-idea-2020-1-eap8/) - you can place them in any path, the rendered does not care, you only need to reference them with a proper relative path (i.e. as src=&#39;doc-files/img.png&#39;). Note: if you are working with Scala, there was an issue with ScalaDoc, which was fixed recently (it may take a few months before the fix will find its way into the stable plugin version).","body":"With the recent IntelliJ (2020) this works out of the box (cf. <a href=\"https://blog.jetbrains.com/idea/2020/03/intellij-idea-2020-1-eap8/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2020/03/intellij-idea-2020-1-eap8</a>) - you can place them in any path, the rendered does not care, you only need to reference them with a proper relative path (i.e. as src=&#39;doc-files/img.png&#39;). Note: if you are working with Scala, there was an issue with ScalaDoc, which was fixed recently (it may take a few months before the fix will find its way into the stable plugin version)."}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1338239070,"creation_date":1338239070,"answer_id":10790401,"question_id":10779169,"body_markdown":"As you didn&#39;t show any sources, I can only do a glass-ball guess ...\r\n\r\nFor any files which are needed for documentation purposes, one should put them in a subdirectory named `doc-files` of your package directories. These will then be simply copied by Javadoc to the output directory. Then use a relative path in the `&lt;img&gt;` element.\r\n\r\nI&#39;m not sure if your IDE&#39;s Javadoc renderer will do the same, but it is worth a try.","title":"Including images in javadocs","body":"<p>As you didn't show any sources, I can only do a glass-ball guess ...</p>\n\n<p>For any files which are needed for documentation purposes, one should put them in a subdirectory named <code>doc-files</code> of your package directories. These will then be simply copied by Javadoc to the output directory. Then use a relative path in the <code>&lt;img&gt;</code> element.</p>\n\n<p>I'm not sure if your IDE's Javadoc renderer will do the same, but it is worth a try.</p>\n"},{"comments":[{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1338247625,"post_id":10790684,"comment_id":14037404,"body_markdown":"You can use a normal image as explained by Paulo, but that means a separate file to manage.","body":"You can use a normal image as explained by Paulo, but that means a separate file to manage."},{"owner":{"account_id":1197535,"reputation":1116,"user_id":1168929,"display_name":"mariopce"},"score":7,"creation_date":1456142064,"post_id":10790684,"comment_id":58793778,"body_markdown":"inteliJ does&#39;t see that image","body":"inteliJ does&#39;t see that image"},{"owner":{"account_id":290252,"reputation":3161,"user_id":958866,"accept_rate":20,"display_name":"Kiran"},"score":0,"creation_date":1533971507,"post_id":10790684,"comment_id":90551733,"body_markdown":"I too used base64 encoding in displaying image.  When application is run from IntelliJ the image is shown sometimes as blank.  But the same works when the application is run in isolation after deploying.  Anything wrong that I&#39;m doing?","body":"I too used base64 encoding in displaying image.  When application is run from IntelliJ the image is shown sometimes as blank.  But the same works when the application is run in isolation after deploying.  Anything wrong that I&#39;m doing?"},{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":1,"creation_date":1666302175,"post_id":10790684,"comment_id":130911389,"body_markdown":"Here in the 2022 future, IntelliJ *does* support base64-encoded images in the Javadocs.","body":"Here in the 2022 future, IntelliJ <i>does</i> support base64-encoded images in the Javadocs."}],"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1666706705,"creation_date":1338241202,"answer_id":10790684,"question_id":10779169,"body_markdown":"A bit far fetched, but you can inline the images in the documentation by converting them into Base64. It would look like this:\r\n\r\n    &lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...&quot; /&gt;\r\n\r\nThere are online tools available to do the conversion:\r\n\r\n* http://www.base64-image.de\r\n* http://www.freeformatter.com/base64-encoder.html\r\n","title":"Including images in javadocs","body":"<p>A bit far fetched, but you can inline the images in the documentation by converting them into Base64. It would look like this:</p>\n<pre><code>&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...&quot; /&gt;\n</code></pre>\n<p>There are online tools available to do the conversion:</p>\n<ul>\n<li><a href=\"http://www.base64-image.de\" rel=\"nofollow noreferrer\">http://www.base64-image.de</a></li>\n<li><a href=\"http://www.freeformatter.com/base64-encoder.html\" rel=\"nofollow noreferrer\">http://www.freeformatter.com/base64-encoder.html</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":125755,"reputation":1627,"user_id":321747,"accept_rate":50,"display_name":"fishjd"},"score":0,"creation_date":1510000069,"post_id":31482231,"comment_id":81240500,"body_markdown":"Android Studio 3.0 (a.k.a IntelliJ) displays the image in the &#39;Quick Documentation&#39;  popup.","body":"Android Studio 3.0 (a.k.a IntelliJ) displays the image in the &#39;Quick Documentation&#39;  popup."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1694996793,"post_id":31482231,"comment_id":135960979,"body_markdown":"The `style=&quot;width: 100%;&quot;` attribute had no effect when I tried it. I wish it would work, because it&#39;s a much better way to do it.","body":"The <code>style=&quot;width: 100%;&quot;</code> attribute had no effect when I tried it. I wish it would work, because it&#39;s a much better way to do it."}],"tags":[],"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1459615037,"creation_date":1437157033,"answer_id":31482231,"question_id":10779169,"body_markdown":"With Eclipse Luna the following works for me.\r\n\r\n * com\r\n    * company\r\n     * somepackage\r\n         * doc-files\r\n             * image.png\r\n         * Test.java\r\n\r\nNow in Test.java&#39;s javadoc:\r\n\r\n\t/**\r\n\t * &lt;img src=&quot;./doc-files/image.png&quot; /&gt;\r\n\t */\r\nAnd Eclipse shows the image both in popup help, when you hover the mouse, and in the Javadoc View.\r\n\r\nYou can even add `style=&quot;width: 100%;&quot;` to the `img` tag, so the image adjusts to the view/popup size.","title":"Including images in javadocs","body":"<p>With Eclipse Luna the following works for me.</p>\n\n<ul>\n<li>com\n\n<ul>\n<li>company\n\n<ul>\n<li>somepackage\n\n<ul>\n<li>doc-files\n\n<ul>\n<li>image.png</li>\n</ul></li>\n<li>Test.java</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Now in Test.java's javadoc:</p>\n\n<pre><code>/**\n * &lt;img src=\"./doc-files/image.png\" /&gt;\n */\n</code></pre>\n\n<p>And Eclipse shows the image both in popup help, when you hover the mouse, and in the Javadoc View.</p>\n\n<p>You can even add <code>style=\"width: 100%;\"</code> to the <code>img</code> tag, so the image adjusts to the view/popup size.</p>\n"},{"tags":[],"owner":{"account_id":2302993,"reputation":2591,"user_id":2022885,"accept_rate":100,"display_name":"Jason"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1454605051,"creation_date":1454603661,"answer_id":35206489,"question_id":10779169,"body_markdown":"To expand a little on Paŭlo&#39;s answer assuming a maven build here is what worked for me with JDK-8 (stricter HTML validation), with the stipulation that you&#39;re willing to run the javadoc tool.\r\n\r\nUnfortunately with Netbeans I cannot see the image in the IDE&#39;s javadoc popup, I just opened [this netbeans bug][1].\r\n\r\nAssume this is part of the javadoc for com.foo.File.java (notice no img end tag, which is the right way per w3schools):\r\n\r\n    &lt;img src=&quot;doc-files/foo.png&quot; alt=&quot;Foo&quot;&gt;\r\n\r\nIn the maven directory structure you&#39;ll find the image here: `src/main/javadoc/com/foo/doc-files/foo.png`\r\n\r\nAnd last, in the pom.xml (notice [docfilessubdirs][2] is set to true):\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;docfilessubdirs&gt;true&lt;/docfilessubdirs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n\r\n\r\n  [1]: https://netbeans.org/bugzilla/show_bug.cgi?id=257848\r\n  [2]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#docfilessubdirs","title":"Including images in javadocs","body":"<p>To expand a little on Paŭlo's answer assuming a maven build here is what worked for me with JDK-8 (stricter HTML validation), with the stipulation that you're willing to run the javadoc tool.</p>\n\n<p>Unfortunately with Netbeans I cannot see the image in the IDE's javadoc popup, I just opened <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=257848\" rel=\"nofollow\">this netbeans bug</a>.</p>\n\n<p>Assume this is part of the javadoc for com.foo.File.java (notice no img end tag, which is the right way per w3schools):</p>\n\n<pre><code>&lt;img src=\"doc-files/foo.png\" alt=\"Foo\"&gt;\n</code></pre>\n\n<p>In the maven directory structure you'll find the image here: <code>src/main/javadoc/com/foo/doc-files/foo.png</code></p>\n\n<p>And last, in the pom.xml (notice <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#docfilessubdirs\" rel=\"nofollow\">docfilessubdirs</a> is set to true):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;docfilessubdirs&gt;true&lt;/docfilessubdirs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499169197,"creation_date":1499169197,"answer_id":44905302,"question_id":10779169,"body_markdown":"I stumbled upon this question as I as well wanted to show a preview of my icons. After reading the answers, I was not yet satisfied and tried it for myself. That&#39;s what I now got:\r\n\r\n         /**\r\n         * &lt;img src=&quot;../../../../../../resources/com/my/project/client/images/myImage.png&quot;&gt;&lt;br&gt;\r\n         * Icon for myImage.\r\n         *\r\n         * @return the icon\r\n         */\r\n\r\nlike this I don&#39;t need to manage more images than before by simply going to the folder the actual images lie in.","title":"Including images in javadocs","body":"<p>I stumbled upon this question as I as well wanted to show a preview of my icons. After reading the answers, I was not yet satisfied and tried it for myself. That's what I now got:</p>\n\n<pre><code>     /**\n     * &lt;img src=\"../../../../../../resources/com/my/project/client/images/myImage.png\"&gt;&lt;br&gt;\n     * Icon for myImage.\n     *\n     * @return the icon\n     */\n</code></pre>\n\n<p>like this I don't need to manage more images than before by simply going to the folder the actual images lie in.</p>\n"},{"tags":[],"owner":{"account_id":6344985,"reputation":161,"user_id":5078916,"display_name":"Roger Neyman"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528165529,"creation_date":1528090059,"answer_id":50673863,"question_id":10779169,"body_markdown":"To expand a bit on Vsevolod Golovanov and Paulo Ebermann&#39;s answer above, here is a concrete example and further elaboration. \r\n\r\nThe Javadocs documentation states: \r\n\r\n&gt; To include unprocessed files, put them in a directory called doc-files which can be a subdirectory of any package directory that contains source files.\r\n\r\nIf you place the image files in that folder they will be available to the Javadocs HTML files via the relative path from the generated HTML. \r\n\r\nSo, if your project is named &lt;b&gt;MyProject&lt;/b&gt; and the class you are adding Javadoc commentary to is &lt;b&gt;org.foo.app.MyApp&lt;/b&gt;, the source folder for which is &lt;b&gt;MyProject/src/org/foo/app/MyApp.java&lt;/b&gt; and you want to include &lt;b&gt;MyImage.jpg&lt;/b&gt; in it&#39;s Javadoc, then:\r\n \r\n Create the folder &lt;b&gt;MyProject/src/org/foo/app/doc-files&lt;/b&gt;, and place the image file in it. \r\n\r\nAt that point your Javadocs text can reference it thus: \r\n\r\n    &lt;img src=&quot;doc-files/MyImage.jpg&quot; width=&quot;500&quot; alt=&quot;description of MyImage&quot;&gt;\r\n\r\nAnd the Javadocs-generated HTML will reflect be coded accordingly. \r\n\r\nNote the &quot;width&quot; attribute, allowing scaling of the image. The height is scaled proportionally. \r\n\r\nWhen you run Javadocs, the &lt;b&gt;doc-files&lt;/b&gt; folders will all be copied to the Javadocs output folders and the resources within them will be available for use by the HTML. ","title":"Including images in javadocs","body":"<p>To expand a bit on Vsevolod Golovanov and Paulo Ebermann's answer above, here is a concrete example and further elaboration. </p>\n\n<p>The Javadocs documentation states: </p>\n\n<blockquote>\n  <p>To include unprocessed files, put them in a directory called doc-files which can be a subdirectory of any package directory that contains source files.</p>\n</blockquote>\n\n<p>If you place the image files in that folder they will be available to the Javadocs HTML files via the relative path from the generated HTML. </p>\n\n<p>So, if your project is named <b>MyProject</b> and the class you are adding Javadoc commentary to is <b>org.foo.app.MyApp</b>, the source folder for which is <b>MyProject/src/org/foo/app/MyApp.java</b> and you want to include <b>MyImage.jpg</b> in it's Javadoc, then:</p>\n\n<p>Create the folder <b>MyProject/src/org/foo/app/doc-files</b>, and place the image file in it. </p>\n\n<p>At that point your Javadocs text can reference it thus: </p>\n\n<pre><code>&lt;img src=\"doc-files/MyImage.jpg\" width=\"500\" alt=\"description of MyImage\"&gt;\n</code></pre>\n\n<p>And the Javadocs-generated HTML will reflect be coded accordingly. </p>\n\n<p>Note the \"width\" attribute, allowing scaling of the image. The height is scaled proportionally. </p>\n\n<p>When you run Javadocs, the <b>doc-files</b> folders will all be copied to the Javadocs output folders and the resources within them will be available for use by the HTML. </p>\n"},{"comments":[{"owner":{"account_id":14141125,"reputation":171,"user_id":10215887,"display_name":"Julia Hin&#223;en IT.NRW"},"score":1,"creation_date":1660049813,"post_id":55498819,"comment_id":129436738,"body_markdown":"Using an IDE like IntelliJ, {@docRoot} references the root folder with all the java source files, for example src/main/java.\nWith the Javadoc tag [{@docRoot}](https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#docRoot) you can save all images for the javadoc at a centralized place and always reference them in the same way.\nIf you have a folder /src/main/resources/javadoc containing your image files, then you can use `&lt;img src=&quot;{@docRoot}/../resources/javadoc/my-image.png&quot; /&gt;` in your javadoc in your java class file.","body":"Using an IDE like IntelliJ, {@docRoot} references the root folder with all the java source files, for example src/main/java. With the Javadoc tag <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#docRoot\" rel=\"nofollow noreferrer\">{@docRoot}</a> you can save all images for the javadoc at a centralized place and always reference them in the same way. If you have a folder /src/main/resources/javadoc containing your image files, then you can use <code>&lt;img src=&quot;{@docRoot}&#47;..&#47;resources&#47;javadoc&#47;my-image.png&quot; &#47;&gt;</code> in your javadoc in your java class file."}],"tags":[],"owner":{"account_id":15669717,"reputation":61,"user_id":11306588,"display_name":"Сергей Камынин"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1554306676,"creation_date":1554305130,"answer_id":55498819,"question_id":10779169,"body_markdown":"Try this way\r\n\r\n```\r\n/**\r\n * @author KamyninSA\r\n * @version 1\r\n * &lt;p&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/p&gt;\r\n * &lt;p&gt;&lt;img src=&quot;{@docRoot}/../src/test/resources/doc-files/ads.png&quot; alt=&quot;alternative directory&quot;&gt;&lt;/p&gt;\r\n * */\r\n```","title":"Including images in javadocs","body":"<p>Try this way</p>\n\n<pre><code>/**\n * @author KamyninSA\n * @version 1\n * &lt;p&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/p&gt;\n * &lt;p&gt;&lt;img src=\"{@docRoot}/../src/test/resources/doc-files/ads.png\" alt=\"alternative directory\"&gt;&lt;/p&gt;\n * */\n</code></pre>\n"}],"owner":{"account_id":1416578,"reputation":1743,"user_id":1342121,"display_name":"ianpojman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19609,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":10790401,"answer_count":7,"score":38,"last_activity_date":1666706705,"creation_date":1338177215,"question_id":10779169,"body_markdown":"I work with a lot of sample test cases that are visual. Is there any convenient way to include them in my Java source and link them in Javadocs, so my IDE can automatically show them while coding (by invoking a javadoc renderer feature in my IDE?)\r\n\r\nI tried putting an image next to the Java source and using `&lt;img&gt;`, but it&#39;s not taking (I used a png).\r\n \r\n(note - it&#39;s in my test sources in this case)","title":"Including images in javadocs","body":"<p>I work with a lot of sample test cases that are visual. Is there any convenient way to include them in my Java source and link them in Javadocs, so my IDE can automatically show them while coding (by invoking a javadoc renderer feature in my IDE?)</p>\n\n<p>I tried putting an image next to the Java source and using <code>&lt;img&gt;</code>, but it's not taking (I used a png).</p>\n\n<p>(note - it's in my test sources in this case)</p>\n"},{"tags":["java","methods","coding-style","refactoring","conventions"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1389109593,"post_id":20975859,"comment_id":31513862,"body_markdown":"Yes. But they&#39;re conventions and not universal truths. I would just group by access modifier, but some people prefer to define things before they are called.","body":"Yes. But they&#39;re conventions and not universal truths. I would just group by access modifier, but some people prefer to define things before they are called."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1389109597,"post_id":20975859,"comment_id":31513866,"body_markdown":"I think this question is not fit in here. Since this question regarding code formating and there is no direct answer other than a good practice.","body":"I think this question is not fit in here. Since this question regarding code formating and there is no direct answer other than a good practice."}],"answers":[{"comments":[{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1421669304,"post_id":20975932,"comment_id":44434037,"body_markdown":"It seems the convention is usually &quot;public before private&quot; and this is also the default &quot;Members Sort Order&quot; in Eclipse (if &quot;Sort members in same category by visibility&quot; is ticked) so I&#39;m going with this.","body":"It seems the convention is usually &quot;public before private&quot; and this is also the default &quot;Members Sort Order&quot; in Eclipse (if &quot;Sort members in same category by visibility&quot; is ticked) so I&#39;m going with this."}],"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1389109713,"creation_date":1389109713,"answer_id":20975932,"question_id":20975859,"body_markdown":"Following the [top-down](http://en.wikipedia.org/wiki/Top-down_and_bottom-up_design) design, I first write the methods calls, then implement them, so they&#39;ll be under. \r\n\r\nOthers prefer them to be above the caller since it&#39;s clearer (You first encounter the implementation, then see the call).\r\n\r\nOne thing for sure, follow your convention.","title":"Should private methods be placed above or below public methods?","body":"<p>Following the <a href=\"http://en.wikipedia.org/wiki/Top-down_and_bottom-up_design\" rel=\"nofollow\">top-down</a> design, I first write the methods calls, then implement them, so they'll be under. </p>\n\n<p>Others prefer them to be above the caller since it's clearer (You first encounter the implementation, then see the call).</p>\n\n<p>One thing for sure, follow your convention.</p>\n"},{"comments":[{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1389110175,"post_id":20976052,"comment_id":31514319,"body_markdown":"I&#39;m looking for a convention as to what is most commonly done or expected - e.g. where would you look for such a method if you were scrolling through file of code in a text editor with no IDE tools? One theoretical way to answer this would be to get hold of all the code that has ever been written and count the number of methods that are above/below their callers - would be surprised if it were a 50/50 split!","body":"I&#39;m looking for a convention as to what is most commonly done or expected - e.g. where would you look for such a method if you were scrolling through file of code in a text editor with no IDE tools? One theoretical way to answer this would be to get hold of all the code that has ever been written and count the number of methods that are above/below their callers - would be surprised if it were a 50/50 split!"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1389110362,"post_id":20976052,"comment_id":31514455,"body_markdown":"I would *not* be surprised if it was a 50/50 split. I think you&#39;re more likely to find one of the (admittedly arbitrary) &quot;conventions&quot; I mentioned than you are to find an above/below convention.","body":"I would <i>not</i> be surprised if it was a 50/50 split. I think you&#39;re more likely to find one of the (admittedly arbitrary) &quot;conventions&quot; I mentioned than you are to find an above/below convention."}],"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389110430,"creation_date":1389109989,"answer_id":20976052,"question_id":20975859,"body_markdown":"20 people are going to answer this question, and you&#39;re going to end up with 25 different answers.\r\n\r\nI don&#39;t think there&#39;s a standard convention, and in Java it doesn&#39;t matter. You could list them alphabetically, or group related methods together, or list private methods first and then public methods, or group setters first and then getters, or list getters and setters together in pairs, etc.\r\n\r\nYou should do whatever feels most natural to you, unless your professor or boss has defined another convention.\r\n\r\nEdit: to see just how arbitrary it is, take a look at all the similar questions in the &quot;related&quot; bar to the right.","title":"Should private methods be placed above or below public methods?","body":"<p>20 people are going to answer this question, and you're going to end up with 25 different answers.</p>\n\n<p>I don't think there's a standard convention, and in Java it doesn't matter. You could list them alphabetically, or group related methods together, or list private methods first and then public methods, or group setters first and then getters, or list getters and setters together in pairs, etc.</p>\n\n<p>You should do whatever feels most natural to you, unless your professor or boss has defined another convention.</p>\n\n<p>Edit: to see just how arbitrary it is, take a look at all the similar questions in the \"related\" bar to the right.</p>\n"},{"tags":[],"owner":{"account_id":3345714,"reputation":279,"user_id":2810910,"display_name":"user2810910"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389110008,"creation_date":1389110008,"answer_id":20976062,"question_id":20975859,"body_markdown":"I don&#39;t think there is a convention. However, I usually put belowCaller below. It&#39;s a supporting function of the main function and I don&#39;t want to look at it until I come across it in the main function&#39;s content. That being said, I put all public functions first, followed by all private functions. I put class variables at the top. Also, javadoc for each non obvious function will help a lot in understanding the code.","title":"Should private methods be placed above or below public methods?","body":"<p>I don't think there is a convention. However, I usually put belowCaller below. It's a supporting function of the main function and I don't want to look at it until I come across it in the main function's content. That being said, I put all public functions first, followed by all private functions. I put class variables at the top. Also, javadoc for each non obvious function will help a lot in understanding the code.</p>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1469,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1389163372,"accepted_answer_id":20975932,"answer_count":3,"score":5,"last_activity_date":1666706476,"creation_date":1389109503,"question_id":20975859,"body_markdown":"Are there any conventions as to whether private methods should generally be placed above or below public methods? E.g. say `caller()` was refactored into two methods - where would be the more standard place out of `aboveCaller()` or `belowCaller()`?\r\n\r\n    private void aboveCaller() { /*...here?...*/ }\r\n\r\n    public void caller() {\r\n        aboveCaller();\r\n        belowCaller();\r\n    }\r\n\r\n    private void belowCaller() { /*...or here?...*/ }\r\n\r\nAlthough this is in Java, it is a general programming question and not really aimed at a specific language. (Apologies if it has been asked before - tried searching on here but didn&#39;t come up with anything). ","title":"Should private methods be placed above or below public methods?","body":"<p>Are there any conventions as to whether private methods should generally be placed above or below public methods? E.g. say <code>caller()</code> was refactored into two methods - where would be the more standard place out of <code>aboveCaller()</code> or <code>belowCaller()</code>?</p>\n<pre><code>private void aboveCaller() { /*...here?...*/ }\n\npublic void caller() {\n    aboveCaller();\n    belowCaller();\n}\n\nprivate void belowCaller() { /*...or here?...*/ }\n</code></pre>\n<p>Although this is in Java, it is a general programming question and not really aimed at a specific language. (Apologies if it has been asked before - tried searching on here but didn't come up with anything).</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1438249940,"post_id":31720328,"comment_id":51377748,"body_markdown":"were any other dependencies downloaded? if yes then try second solution from my answer","body":"were any other dependencies downloaded? if yes then try second solution from my answer"},{"owner":{"account_id":1287252,"reputation":4312,"user_id":1240092,"accept_rate":79,"display_name":"tremendows"},"score":0,"creation_date":1526301177,"post_id":31720328,"comment_id":87676734,"body_markdown":"be sure you have already saved the pom.xml, and run &quot;mvn install&quot;","body":"be sure you have already saved the pom.xml, and run &quot;mvn install&quot;"}],"answers":[{"comments":[{"owner":{"account_id":7943207,"reputation":519,"user_id":5996498,"accept_rate":62,"display_name":"Galilo Galilo"},"score":0,"creation_date":1611205379,"post_id":31720448,"comment_id":116377220,"body_markdown":"I am new to jee, eclipse, maven and all the stuff. pls where to add the proxy and where are .lastupdated files","body":"I am new to jee, eclipse, maven and all the stuff. pls where to add the proxy and where are .lastupdated files"},{"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"score":2,"creation_date":1621244090,"post_id":31720448,"comment_id":119427362,"body_markdown":"Proxy usually present in setting.xml file, last update happen in repo path. The dependency which gives error having a relative path in your local machine, navigate to that location , you can find last update files. @GaliloGalilo","body":"Proxy usually present in setting.xml file, last update happen in repo path. The dependency which gives error having a relative path in your local machine, navigate to that location , you can find last update files. @GaliloGalilo"}],"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1438254582,"creation_date":1438249776,"answer_id":31720448,"question_id":31720328,"body_markdown":"&gt;Solution 1:\r\n\r\nSet correct proxy:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;proxy&gt;\r\n        &lt;id&gt;optional&lt;/id&gt;\r\n        &lt;active&gt;false&lt;/active&gt;\r\n        &lt;protocol&gt;http&lt;/protocol&gt;\r\n        &lt;username&gt;&lt;/username&gt;\r\n        &lt;password&gt;&lt;/password&gt;\r\n        &lt;host&gt;172.27.171.91&lt;/host&gt;\r\n        &lt;port&gt;8080&lt;/port&gt;\r\n    &lt;/proxy&gt;\r\n\r\n&gt;Solution2 :\r\n\r\njust delete \r\n\r\n    lastupdated extension files from folder\r\n\r\n and try updating maven.\r\n\r\n**[Most of the times this solution will work]**\r\n\r\n\r\n \r\n","title":"Maven not downloading dependencies in Eclipse","body":"<blockquote>\n  <p>Solution 1:</p>\n</blockquote>\n\n<p>Set correct proxy:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;proxy&gt;\n    &lt;id&gt;optional&lt;/id&gt;\n    &lt;active&gt;false&lt;/active&gt;\n    &lt;protocol&gt;http&lt;/protocol&gt;\n    &lt;username&gt;&lt;/username&gt;\n    &lt;password&gt;&lt;/password&gt;\n    &lt;host&gt;172.27.171.91&lt;/host&gt;\n    &lt;port&gt;8080&lt;/port&gt;\n&lt;/proxy&gt;\n</code></pre>\n\n<blockquote>\n  <p>Solution2 :</p>\n</blockquote>\n\n<p>just delete </p>\n\n<pre><code>lastupdated extension files from folder\n</code></pre>\n\n<p>and try updating maven.</p>\n\n<p><strong>[Most of the times this solution will work]</strong></p>\n"},{"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1438250715,"post_id":31720528,"comment_id":51378239,"body_markdown":"Not always its guaranteed, you might not get few dependencies. And we need to delete lastmodified file from folder and retry","body":"Not always its guaranteed, you might not get few dependencies. And we need to delete lastmodified file from folder and retry"},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":1,"creation_date":1438252324,"post_id":31720528,"comment_id":51379142,"body_markdown":"Many times I solved these Kind of problem running from command line mvn install -U then you can try to execute mvn project update from eclipse","body":"Many times I solved these Kind of problem running from command line mvn install -U then you can try to execute mvn project update from eclipse"},{"owner":{"account_id":3916678,"reputation":406,"user_id":3240343,"display_name":"Julien R"},"score":0,"creation_date":1697721464,"post_id":31720528,"comment_id":136317367,"body_markdown":"Valid solution for me at the time of this comment october 2023","body":"Valid solution for me at the time of this comment october 2023"}],"tags":[],"owner":{"account_id":5746837,"reputation":3806,"user_id":4537840,"accept_rate":80,"display_name":"Saket Mittal"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1438249968,"creation_date":1438249968,"answer_id":31720528,"question_id":31720328,"body_markdown":" I got the same problem and this is how i solved. :\r\n\r\n1. Right click your project, choose Run As -&gt; Maven install.\r\n    Observe the output console to see the installation progress. After\r\n    the installation is finished, you can continue to the next step.\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n 2. Right click your Spring MVC project, choose Maven -&gt; Update Project.\r\n\r\n![enter image description here][3]\r\n\r\n 3. Choose your project and click OK. Wait until update process is\r\n    finished.\r\n 4. The error still yet, then do Project-&gt;Clean and then be sure you have selected our project directory and then do the follow Project-&gt;Build.\r\n\r\n  [1]: http://i.stack.imgur.com/O23H3.png\r\n  [2]: http://i.stack.imgur.com/f4Jxj.png\r\n  [3]: http://i.stack.imgur.com/FnK5Q.png","title":"Maven not downloading dependencies in Eclipse","body":"<p>I got the same problem and this is how i solved. :</p>\n\n<ol>\n<li>Right click your project, choose Run As -> Maven install.\nObserve the output console to see the installation progress. After\nthe installation is finished, you can continue to the next step.</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/O23H3.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/f4Jxj.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li>Right click your Spring MVC project, choose Maven -> Update Project.</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/FnK5Q.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"3\">\n<li>Choose your project and click OK. Wait until update process is\nfinished.</li>\n<li>The error still yet, then do Project->Clean and then be sure you have selected our project directory and then do the follow Project->Build.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499238114,"creation_date":1499238114,"answer_id":44919097,"question_id":31720328,"body_markdown":"In my case, I had unchecked `Build automatically`. Checking it again started downloading the jars.","title":"Maven not downloading dependencies in Eclipse","body":"<p>In my case, I had unchecked <code>Build automatically</code>. Checking it again started downloading the jars.</p>\n"},{"tags":[],"owner":{"account_id":4867478,"reputation":348,"user_id":3925201,"accept_rate":50,"display_name":"SachinB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503556687,"creation_date":1503556687,"answer_id":45854547,"question_id":31720328,"body_markdown":"I was facing similar sort of issue. I tried deleting folders inside .m2 and again building maven project.&lt;br/&gt;\r\nI could download all dependency except one dependency which we have created by ourselves and published on Nexus. &lt;br/&gt;\r\nThen I changed by java pointing from JRE to JDK which solved my problem\r\n","title":"Maven not downloading dependencies in Eclipse","body":"<p>I was facing similar sort of issue. I tried deleting folders inside .m2 and again building maven project.<br/>\nI could download all dependency except one dependency which we have created by ourselves and published on Nexus. <br/>\nThen I changed by java pointing from JRE to JDK which solved my problem</p>\n"},{"tags":[],"owner":{"account_id":13617724,"reputation":1,"user_id":9823192,"display_name":"vinayrao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526910383,"creation_date":1526908417,"answer_id":50449723,"question_id":31720328,"body_markdown":"The following worked for me.&lt;br&gt;\nJust right-click on `Project -&gt; Maven -&gt; Update Project...` such as it is shown [here][1].\n\n[1]: https://i.stack.imgur.com/8E1j1.png","title":"Maven not downloading dependencies in Eclipse","body":"<p>The following worked for me.<br>\nJust right-click on <code>Project -&gt; Maven -&gt; Update Project...</code> such as it is shown <a href=\"https://i.stack.imgur.com/8E1j1.png\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2652739,"reputation":533,"user_id":2294031,"display_name":"domids"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527607031,"creation_date":1527607031,"answer_id":50587820,"question_id":31720328,"body_markdown":"Sometimes there is an error downloading a dependency - eg. some files are downloaded but the actual JAR is missing from the local Maven repository.\r\n\r\nIn this case I had to **delete the whole folder of the problematic dependency in the local maven repository**. Only then did Maven update work (Right-click on the project and select `Project &gt; Maven &gt; Update Project...`. )\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9zId.png\r\n  [2]: https://i.stack.imgur.com/FiFBw.png","title":"Maven not downloading dependencies in Eclipse","body":"<p>Sometimes there is an error downloading a dependency - eg. some files are downloaded but the actual JAR is missing from the local Maven repository.</p>\n\n<p>In this case I had to <strong>delete the whole folder of the problematic dependency in the local maven repository</strong>. Only then did Maven update work (Right-click on the project and select <code>Project &gt; Maven &gt; Update Project...</code>. )\n<a href=\"https://i.stack.imgur.com/V9zId.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V9zId.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/FiFBw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FiFBw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12865502,"reputation":11,"user_id":9305931,"display_name":"PAQuality101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543316577,"creation_date":1543313055,"answer_id":53497153,"question_id":31720328,"body_markdown":"I had faced a similar issue and following the below steps helped me fix it.\r\n\r\n 1. Delete the last modified jar from respective folders.\r\n 2. Select the project \r\n   \r\n  - Right Click -&gt; Maven\r\n\r\n  - Update project..\r\n\r\nIt will download all the missing Jars.","title":"Maven not downloading dependencies in Eclipse","body":"<p>I had faced a similar issue and following the below steps helped me fix it.</p>\n\n<ol>\n<li>Delete the last modified jar from respective folders.</li>\n<li><p>Select the project </p>\n\n<ul>\n<li><p>Right Click -> Maven</p></li>\n<li><p>Update project..</p></li>\n</ul></li>\n</ol>\n\n<p>It will download all the missing Jars.</p>\n"},{"tags":[],"owner":{"account_id":5036338,"reputation":1142,"user_id":4044987,"display_name":"Sumanth Varada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553513132,"creation_date":1553513132,"answer_id":55336746,"question_id":31720328,"body_markdown":"I have come across the same issue recently.\r\n\r\nFirst of all you have to configure proxy settings in settings.xml in your maven repository.\r\n\r\nIf you are using eclipse/STS then please do verify following.\r\n\r\n    Window -&gt; Preferences -&gt; Maven -&gt; User Settings -&gt; update user settings by pointing your settings.xml\r\n\r\nNow it&#39;s set to update the maven project. It worked for me. ","title":"Maven not downloading dependencies in Eclipse","body":"<p>I have come across the same issue recently.</p>\n\n<p>First of all you have to configure proxy settings in settings.xml in your maven repository.</p>\n\n<p>If you are using eclipse/STS then please do verify following.</p>\n\n<pre><code>Window -&gt; Preferences -&gt; Maven -&gt; User Settings -&gt; update user settings by pointing your settings.xml\n</code></pre>\n\n<p>Now it's set to update the maven project. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":6574296,"reputation":1818,"user_id":5081033,"display_name":"Shubham Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581568859,"creation_date":1574767973,"answer_id":59050017,"question_id":31720328,"body_markdown":"For me I changed the packaging from pom to jar, and then the dependency got downloaded.\r\n\r\n\tso I changed from &lt;packaging&gt;pom&lt;/packaging&gt; to &lt;packaging&gt;jar&lt;/packaging&gt;\r\n","title":"Maven not downloading dependencies in Eclipse","body":"<p>For me I changed the packaging from pom to jar, and then the dependency got downloaded.</p>\n\n<pre><code>so I changed from &lt;packaging&gt;pom&lt;/packaging&gt; to &lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11306958,"reputation":61,"user_id":8291270,"display_name":"Ankush kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579498890,"creation_date":1579498890,"answer_id":59817552,"question_id":31720328,"body_markdown":"1. Try to move your dependencies from &quot;type&quot; tag to &quot;scope&quot; tag like below\r\n\r\nor\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;net.xyz.xyz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xyz-xyz&lt;/artifactId&gt;\r\n            &lt;version&gt;x.y.z&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n     &lt;/dependency&gt;\r\n\r\nor \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;net.xyz.xyz&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xyz-xyz&lt;/artifactId&gt;\r\n                &lt;version&gt;x.y.z&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt; \r\n         &lt;/dependency&gt;\r\n\r\n**then further Maven &gt; Update Project** \r\n","title":"Maven not downloading dependencies in Eclipse","body":"<ol>\n<li>Try to move your dependencies from \"type\" tag to \"scope\" tag like below</li>\n</ol>\n\n<p>or</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;net.xyz.xyz&lt;/groupId&gt;\n        &lt;artifactId&gt;xyz-xyz&lt;/artifactId&gt;\n        &lt;version&gt;x.y.z&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;net.xyz.xyz&lt;/groupId&gt;\n            &lt;artifactId&gt;xyz-xyz&lt;/artifactId&gt;\n            &lt;version&gt;x.y.z&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt; \n     &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>then further Maven > Update Project</strong> </p>\n"},{"tags":[],"owner":{"account_id":347913,"reputation":755,"user_id":682312,"accept_rate":40,"display_name":"Puneet Lamba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586293757,"creation_date":1586293757,"answer_id":61089453,"question_id":31720328,"body_markdown":"Make sure you&#39;re defining the dependency as close as possible to the leaf of the project tree where it is needed. **Otherwise, Maven might ignore it.** \r\n\r\nFor example, if you have a parent project that references projects A and B and the dependency is with respect to project A, then defining the dependency in the parent&#39;s pom.xml might get ignored by Maven. So, define it in project A&#39;s pom.xml.\r\n\r\n    Parent Project&#39;s pom.xml\r\n       Sub-project A&#39;s pom.xml &lt;&lt;&lt; define the dependency where it is needed\r\n       Sub-project B&#39;s pom.xml\r\n\r\n","title":"Maven not downloading dependencies in Eclipse","body":"<p>Make sure you're defining the dependency as close as possible to the leaf of the project tree where it is needed. <strong>Otherwise, Maven might ignore it.</strong> </p>\n\n<p>For example, if you have a parent project that references projects A and B and the dependency is with respect to project A, then defining the dependency in the parent's pom.xml might get ignored by Maven. So, define it in project A's pom.xml.</p>\n\n<pre><code>Parent Project's pom.xml\n   Sub-project A's pom.xml &lt;&lt;&lt; define the dependency where it is needed\n   Sub-project B's pom.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666706430,"creation_date":1666706430,"answer_id":74195299,"question_id":31720328,"body_markdown":"I hope this helps someone as it took me 2 days to realize. I re-imported the project multiple times and followed every possible step I&#39;ve seen online and in the end I had added a small piece of xml code within the `pom.xml`. Even though it wasn&#39;t erroring or even showing a warning it was preventing maven from reading the `lifecycle-mappings`.\r\n\r\nClick into your pom.xml and go to the `dependencies` tab on the bottom left, if you see an error there it&#39;s likely your `pom.xml` is corrupted in some way and maven will never attempt to download the dependencies even though you won&#39;t get any real error. I had looked back at a previous PR and noticed where/what I added and removed it and was able to get maven to work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/VOyWO.png","title":"Maven not downloading dependencies in Eclipse","body":"<p>I hope this helps someone as it took me 2 days to realize. I re-imported the project multiple times and followed every possible step I've seen online and in the end I had added a small piece of xml code within the <code>pom.xml</code>. Even though it wasn't erroring or even showing a warning it was preventing maven from reading the <code>lifecycle-mappings</code>.</p>\n<p>Click into your pom.xml and go to the <code>dependencies</code> tab on the bottom left, if you see an error there it's likely your <code>pom.xml</code> is corrupted in some way and maven will never attempt to download the dependencies even though you won't get any real error. I had looked back at a previous PR and noticed where/what I added and removed it and was able to get maven to work.</p>\n<p><a href=\"https://i.stack.imgur.com/VOyWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOyWO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2476093,"reputation":2653,"user_id":2156718,"accept_rate":56,"display_name":"Ankur Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131741,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":31720448,"answer_count":12,"score":32,"last_activity_date":1666706430,"creation_date":1438249459,"question_id":31720328,"body_markdown":"I am setting up a project in eclipse . This projects builds successfully through command line(all `mvn` commands like `mvn package`, `mvn compile`, `mvn clean install`) work perfectly fine. While setting up this project on STS or Eclipse . I see some of the dependencies are not getting downloaded even though they are present in `pom.xml`. However, searching them in the maven repository and downloading the jar to my local computer and then adding them to build path makes it work on Eclipse. \r\n\r\nIs there anything that we need to do to eclipse to make sure it downloads all the dependencies from the repository.\r\n\r\n**My POM**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bookkeeper-server-compat410&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bookkeeper-server&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bookkeeper-server-compat420&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bookkeeper-server&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBoth these artifacts were not downloaded for eclipse and there jars found http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat410/4.1.0 and http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat420/4.2.0 were not present in the folder for MavenDependencies and were subsequently giving errors in Eclipse.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nHowever manually adding them to the build path created a new folder (Reference Library) and resolved the Eclipse Errors . Why did Eclipse not download and import these dependencies by themselves from the maven repository ?? Is it a bug in Eclipse or some problem from my side . Please help.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/U9lNs.png\r\n  [2]: http://i.stack.imgur.com/4vEVJ.png","title":"Maven not downloading dependencies in Eclipse","body":"<p>I am setting up a project in eclipse . This projects builds successfully through command line(all <code>mvn</code> commands like <code>mvn package</code>, <code>mvn compile</code>, <code>mvn clean install</code>) work perfectly fine. While setting up this project on STS or Eclipse . I see some of the dependencies are not getting downloaded even though they are present in <code>pom.xml</code>. However, searching them in the maven repository and downloading the jar to my local computer and then adding them to build path makes it work on Eclipse. </p>\n\n<p>Is there anything that we need to do to eclipse to make sure it downloads all the dependencies from the repository.</p>\n\n<p><strong>My POM</strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\n    &lt;artifactId&gt;bookkeeper-server-compat410&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\n            &lt;artifactId&gt;bookkeeper-server&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\n    &lt;artifactId&gt;bookkeeper-server-compat420&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.bookkeeper&lt;/groupId&gt;\n            &lt;artifactId&gt;bookkeeper-server&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Both these artifacts were not downloaded for eclipse and there jars found <a href=\"http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat410/4.1.0\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat410/4.1.0</a> and <a href=\"http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat420/4.2.0\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.apache.bookkeeper/bookkeeper-server-compat420/4.2.0</a> were not present in the folder for MavenDependencies and were subsequently giving errors in Eclipse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/U9lNs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/U9lNs.png\" alt=\"enter image description here\"></a></p>\n\n<p>However manually adding them to the build path created a new folder (Reference Library) and resolved the Eclipse Errors . Why did Eclipse not download and import these dependencies by themselves from the maven repository ?? Is it a bug in Eclipse or some problem from my side . Please help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4vEVJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4vEVJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","jdbc","singleton"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1666627419,"post_id":74183544,"comment_id":130976711,"body_markdown":"Don&#39;t do this. This is a bad idea, as it will not be possible to recover from connection failures.","body":"Don&#39;t do this. This is a bad idea, as it will not be possible to recover from connection failures."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666632569,"post_id":74183544,"comment_id":130978388,"body_markdown":"This is not a Singleton, nothing prevents people from creating multiple instances (except maybe running out of database connections). A Singleton will have a private constructor in addition to the static `get...` method. That said, don&#39;t use Singletons. They tend do get in the way of testing, even if you avoid doing the work in a `static` block.","body":"This is not a Singleton, nothing prevents people from creating multiple instances (except maybe running out of database connections). A Singleton will have a private constructor in addition to the static <code>get...</code> method. That said, don&#39;t use Singletons. They tend do get in the way of testing, even if you avoid doing the work in a <code>static</code> block."}],"answers":[{"tags":[],"owner":{"account_id":11365395,"reputation":17,"user_id":8332452,"display_name":"Mandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666706310,"creation_date":1666706310,"answer_id":74195276,"question_id":74183544,"body_markdown":"It&#39;s not quite a singleton object. In the singleton pattern you&#39;re calling a single instance of the object, whereas with this use of a static class you aren&#39;t really dealing with an instance.\r\n\r\nLarger issues with the implementation:\r\n\r\n1. You can&#39;t really close a connection. If you do close it, you won&#39;t be able to reopen it.\r\n2. `catch (SQLException e) { throw new RuntimeException(e); }` makes it difficult to recover from connection failures.\r\n\r\nYou want something more like:\r\n\r\n```\r\npublic class DbConnection {\r\n\r\n    private static DbConnection instance = null;\r\n    private Connection conn = null;\r\n\r\n    private DbConnection() {}\r\n\r\n    private void init() throws SQLException {\r\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\r\n        final String USER = &quot;root&quot;;\r\n        final String PASS = &quot;12345&quot;;\r\n        \r\n        conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n\r\n        System.out.println(&quot;Connected to database&quot;);\r\n    }\r\n\r\n    public Connection getConnection() {\r\n        return conn;\r\n    }\r\n\r\n    public static Connection getInstance() throws SQLException {\r\n        if (instance != null &amp;&amp; !instance.getConnection().isClosed()) {\r\n            return instance;\r\n        } else {\r\n            instance = new DbConnection();\r\n            instance.init();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `private DbConnection() {}` overrides the default public constructor, meaning other classes won&#39;t be able to create a new instance of your class. The class maintains a single reference to an instance.\r\n\r\nThe check for `!instance.getConnection().isClosed()` makes sure that you return a new instance if the previous connection was closed.","title":"get connection with singleton pattern","body":"<p>It's not quite a singleton object. In the singleton pattern you're calling a single instance of the object, whereas with this use of a static class you aren't really dealing with an instance.</p>\n<p>Larger issues with the implementation:</p>\n<ol>\n<li>You can't really close a connection. If you do close it, you won't be able to reopen it.</li>\n<li><code>catch (SQLException e) { throw new RuntimeException(e); }</code> makes it difficult to recover from connection failures.</li>\n</ol>\n<p>You want something more like:</p>\n<pre><code>public class DbConnection {\n\n    private static DbConnection instance = null;\n    private Connection conn = null;\n\n    private DbConnection() {}\n\n    private void init() throws SQLException {\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\n        final String USER = &quot;root&quot;;\n        final String PASS = &quot;12345&quot;;\n        \n        conn = DriverManager.getConnection(DB_URL, USER, PASS);\n\n        System.out.println(&quot;Connected to database&quot;);\n    }\n\n    public Connection getConnection() {\n        return conn;\n    }\n\n    public static Connection getInstance() throws SQLException {\n        if (instance != null &amp;&amp; !instance.getConnection().isClosed()) {\n            return instance;\n        } else {\n            instance = new DbConnection();\n            instance.init();\n        }\n    }\n}\n</code></pre>\n<p>The <code>private DbConnection() {}</code> overrides the default public constructor, meaning other classes won't be able to create a new instance of your class. The class maintains a single reference to an instance.</p>\n<p>The check for <code>!instance.getConnection().isClosed()</code> makes sure that you return a new instance if the previous connection was closed.</p>\n"}],"owner":{"account_id":13493299,"reputation":1,"user_id":20323067,"display_name":"Mustn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1086,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666706310,"creation_date":1666625754,"question_id":74183544,"body_markdown":"My task is to get connection with jdbc using singleton pattern. I wanted to ask whether I am using the pattern or not?\r\n```\r\npublic class DbUtils {\r\n    private static Connection conn = null;\r\n    static {\r\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\r\n        final String  USER = &quot;root&quot;;\r\n        final String PASS = &quot;12345&quot;;\r\n        try {\r\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        System.out.println(&quot;Connected to database&quot;);\r\n    }\r\n    public static Connection getConnection() {\r\n        return conn;\r\n    }\r\n}\r\n```","title":"get connection with singleton pattern","body":"<p>My task is to get connection with jdbc using singleton pattern. I wanted to ask whether I am using the pattern or not?</p>\n<pre><code>public class DbUtils {\n    private static Connection conn = null;\n    static {\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\n        final String  USER = &quot;root&quot;;\n        final String PASS = &quot;12345&quot;;\n        try {\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n\n        System.out.println(&quot;Connected to database&quot;);\n    }\n    public static Connection getConnection() {\n        return conn;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666554635,"post_id":74162755,"comment_id":130959685,"body_markdown":"Your problem seems to be n+1. We solve this with @Transactional at the top of the method on the jpa side and annotations from the Jackson library on the entity side.","body":"Your problem seems to be n+1. We solve this with @Transactional at the top of the method on the jpa side and annotations from the Jackson library on the entity side."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1666555773,"post_id":74162755,"comment_id":130959888,"body_markdown":"@debugmode The [@EntityGraph](https://medium.com/geekculture/jpa-entitygraphs-a-solution-to-n-1-query-problem-e29c28abe5fb) solves N+1 problem. The actual problem mentioned in the question is that all columns of the Book entity are fetched. I&#39;ll update the question to make it clear.","body":"@debugmode The <a href=\"https://medium.com/geekculture/jpa-entitygraphs-a-solution-to-n-1-query-problem-e29c28abe5fb\" rel=\"nofollow noreferrer\">@EntityGraph</a> solves N+1 problem. The actual problem mentioned in the question is that all columns of the Book entity are fetched. I&#39;ll update the question to make it clear."},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666556550,"post_id":74162755,"comment_id":130960070,"body_markdown":"as I understand you want to fetching only specific data that you want if you sure that then use @Transient annotation in your field that couldn&#39;t fetch during persistence time.","body":"as I understand you want to fetching only specific data that you want if you sure that then use @Transient annotation in your field that couldn&#39;t fetch during persistence time."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1666558190,"post_id":74162755,"comment_id":130960390,"body_markdown":"@debugmode `@Transient` annotation is used to indicate that a field is not to be persisted in the database.","body":"@debugmode <code>@Transient</code> annotation is used to indicate that a field is not to be persisted in the database."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1692345967,"post_id":74162755,"comment_id":135613123,"body_markdown":"[Closed Projection does not work with @EntityGraph](https://github.com/spring-projects/spring-data-jpa/issues/1814)","body":"<a href=\"https://github.com/spring-projects/spring-data-jpa/issues/1814\" rel=\"nofollow noreferrer\">Closed Projection does not work with @EntityGraph</a>"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666705956,"creation_date":1666705956,"answer_id":74195189,"question_id":74162755,"body_markdown":"Recently, I found out [Blaze Persistence - Entity View Module][1], which looks promising.\r\n\r\nAccording to [@Christian Beikov&#39;s answer][2], `EntityView` projections can be used almost like Spring Data Projections with [the Spring Data integration][3], and those projections fetch only the necessary properties. Additionally, there is no need to use `@EntityGraph`, since the integration handles it ad-hoc by adapting the query generation.\r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/\r\n  [2]: https://stackoverflow.com/questions/73589164/spring-boot-rest-api-jpa-entities-dtos-what-is-the-best-approach/73606143#73606143\r\n  [3]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-features","title":"Interface projections with nested associations","body":"<p>Recently, I found out <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/\" rel=\"nofollow noreferrer\">Blaze Persistence - Entity View Module</a>, which looks promising.</p>\n<p>According to <a href=\"https://stackoverflow.com/questions/73589164/spring-boot-rest-api-jpa-entities-dtos-what-is-the-best-approach/73606143#73606143\">@Christian Beikov's answer</a>, <code>EntityView</code> projections can be used almost like Spring Data Projections with <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-features\" rel=\"nofollow noreferrer\">the Spring Data integration</a>, and those projections fetch only the necessary properties. Additionally, there is no need to use <code>@EntityGraph</code>, since the integration handles it ad-hoc by adapting the query generation.</p>\n"}],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666705956,"creation_date":1666434631,"question_id":74162755,"body_markdown":"Let&#39;s assume there are two entities:\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Author {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n  private String firstName;\r\n  private String lastName;\r\n  @ManyToMany(mappedBy = &quot;authors&quot;)\r\n  private Set&lt;Book&gt; books;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Book {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n  private String title;\r\n  private String fileName;\r\n  private String fileType;\r\n  @Lob\r\n  private byte[] data;\r\n  @ManyToMany\r\n  @JoinTable(\r\n      name = &quot;book_authors&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n      inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;))\r\n  private Set&lt;Author&gt; authors;\r\n}\r\n```\r\nThe following DTO interface projection is used to query only the columns that are needed. \r\n```java\r\npublic interface AuthorView {\r\n    String getFirstName();\r\n    String getLastName();\r\n    Set&lt;BookView&gt; getBooks();\r\n     \r\n    interface BookView {\r\n        String getTitle();\r\n    }\r\n}\r\n```\r\nA simple `findAllBy` query method is declared in the repository:\r\n\r\n```java\r\npublic interface AuthorRepository extends JpaRepository&lt;Author, Long&gt; {\r\n    @EntityGraph(attributePaths = &quot;books&quot;)\r\n    List&lt;AuthorView&gt; findAllBy();\r\n}\r\n```\r\nThe method executes the following query:\r\n```sql\r\nselect\r\n    author0_.id as id1_0_0_,\r\n    book2_.id as id1_1_1_,\r\n    author0_.first_name as first_na2_0_0_,\r\n    author0_.last_name as last_nam3_0_0_,\r\n    book2_.data as data2_1_1_,\r\n    book2_.file_name as file_nam3_1_1_,\r\n    book2_.file_type as file_typ4_1_1_,\r\n    book2_.title as title4_1_1_,\r\n    books1_.author_id as author_i2_2_0__,\r\n    books1_.book_id as book_id1_2_0__ \r\nfrom\r\n    author author0_ \r\nleft outer join\r\n    book_authors books1_ \r\n        on author0_.id=books1_.author_id \r\nleft outer join\r\n    book book2_ \r\n        on books1_.book_id=book2_.id\r\n```\r\nEven though the projection doesn&#39;t contain `data`, `file_name`, and `file_type` properties, they are fetched from the database which is causing performance issues, especially if the files are large.\r\n\r\nThe problem is that Spring Data JPA fetches the entire entities and uses them to perform a programmatic mapping, according to [Thorben Janssen&#39;s blog][1].\r\n\r\nIs there any solution to prevent fetching entire entities when using interface-based DTO projections except for writing massive queries?\r\n\r\n\r\n  [1]: https://thorben-janssen.com/spring-data-jpa-query-projections/","title":"Interface projections with nested associations","body":"<p>Let's assume there are two entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Author {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String firstName;\n  private String lastName;\n  @ManyToMany(mappedBy = &quot;authors&quot;)\n  private Set&lt;Book&gt; books;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Book {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String title;\n  private String fileName;\n  private String fileType;\n  @Lob\n  private byte[] data;\n  @ManyToMany\n  @JoinTable(\n      name = &quot;book_authors&quot;,\n      joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n      inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;))\n  private Set&lt;Author&gt; authors;\n}\n</code></pre>\n<p>The following DTO interface projection is used to query only the columns that are needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AuthorView {\n    String getFirstName();\n    String getLastName();\n    Set&lt;BookView&gt; getBooks();\n     \n    interface BookView {\n        String getTitle();\n    }\n}\n</code></pre>\n<p>A simple <code>findAllBy</code> query method is declared in the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AuthorRepository extends JpaRepository&lt;Author, Long&gt; {\n    @EntityGraph(attributePaths = &quot;books&quot;)\n    List&lt;AuthorView&gt; findAllBy();\n}\n</code></pre>\n<p>The method executes the following query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    author0_.id as id1_0_0_,\n    book2_.id as id1_1_1_,\n    author0_.first_name as first_na2_0_0_,\n    author0_.last_name as last_nam3_0_0_,\n    book2_.data as data2_1_1_,\n    book2_.file_name as file_nam3_1_1_,\n    book2_.file_type as file_typ4_1_1_,\n    book2_.title as title4_1_1_,\n    books1_.author_id as author_i2_2_0__,\n    books1_.book_id as book_id1_2_0__ \nfrom\n    author author0_ \nleft outer join\n    book_authors books1_ \n        on author0_.id=books1_.author_id \nleft outer join\n    book book2_ \n        on books1_.book_id=book2_.id\n</code></pre>\n<p>Even though the projection doesn't contain <code>data</code>, <code>file_name</code>, and <code>file_type</code> properties, they are fetched from the database which is causing performance issues, especially if the files are large.</p>\n<p>The problem is that Spring Data JPA fetches the entire entities and uses them to perform a programmatic mapping, according to <a href=\"https://thorben-janssen.com/spring-data-jpa-query-projections/\" rel=\"nofollow noreferrer\">Thorben Janssen's blog</a>.</p>\n<p>Is there any solution to prevent fetching entire entities when using interface-based DTO projections except for writing massive queries?</p>\n"},{"tags":["java","android","ios","admob"],"comments":[{"owner":{"account_id":2441570,"reputation":109958,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1666729198,"post_id":74195175,"comment_id":131004454,"body_markdown":"You would have to make the ad rating match the app rating. You can&#39;t really know the age of the user.","body":"You would have to make the ad rating match the app rating. You can&#39;t really know the age of the user."},{"owner":{"account_id":2412133,"reputation":1,"user_id":2106986,"display_name":"Toby"},"score":0,"creation_date":1667070545,"post_id":74195175,"comment_id":131085610,"body_markdown":"Thanks @Paulw11 Could you please clarify what exactly the &quot;app rating&quot; means in case of Android app? Is it PEGI rating or ESRB rating (cause they are different) or any other? Which rating should I match exactly?","body":"Thanks @Paulw11 Could you please clarify what exactly the &quot;app rating&quot; means in case of Android app? Is it PEGI rating or ESRB rating (cause they are different) or any other? Which rating should I match exactly?"}],"owner":{"account_id":2412133,"reputation":1,"user_id":2106986,"display_name":"Toby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666705909,"creation_date":1666705909,"question_id":74195175,"body_markdown":"As we know there are different content ad ratings from G for children up to MA for adults.\r\n\r\nNow If I have an app that is PEGI 3, I would like to display G ads if a young user is using my app, but if an adult is using my app I would like to display him MA ads as they are better paid.\r\nBut how do I know which user is using the app, a child or an adult? What is the standard way of doing it?","title":"How to serve proper user age-based ads with AdMob?","body":"<p>As we know there are different content ad ratings from G for children up to MA for adults.</p>\n<p>Now If I have an app that is PEGI 3, I would like to display G ads if a young user is using my app, but if an adult is using my app I would like to display him MA ads as they are better paid.\nBut how do I know which user is using the app, a child or an adult? What is the standard way of doing it?</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"owner":{"account_id":26383776,"reputation":13,"user_id":20036630,"display_name":"Rodrigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666705866,"creation_date":1666701092,"question_id":74194123,"body_markdown":"I am retrieving ```Cloud Firestore``` data in ```Modelo.class``` and I&#39;m trying to pass these variables from the to fragment ```DescDenuncia``` using a adapter ```Adapter.class``` but to do that I need to get the context tfor it using the I&#39;ve already tried use ```AppCompatActivity activity = (AppCompatActivity) view.getContext();```, but my app crashes every time I run this line, and is necessary to use a Context in the getSupportFragmentManager() to it works. If i&#39;m doing this in a wrong way please tell me I truly don&#39;t know what I should do, please someone answer me\r\n\r\nI&#39;m using this video &lt;https://www.youtube.com/watch?v=QgfNl541oso&amp;t=2449s&gt;\r\n\r\nModelo.java\r\n\r\n```\r\npackage com.example.safe;\r\n\r\npublic class Modelo {\r\n\r\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\r\n\r\n    public Modelo() {\r\n    }\r\n\r\n\r\n    public Modelo(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\r\n        this.empresa = empresa;\r\n        this.area = area;\r\n        this.setor = setor;\r\n        this.tipo = tipo;\r\n        this.risco = risco;\r\n        this.img = img;\r\n        this.data = data;\r\n        this.prazo = prazo;\r\n        this.desc = desc;\r\n        this.resolucao = resolucao;\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getEmpresa() {\r\n        return empresa;\r\n    }\r\n\r\n    public void setEmpresa(String empresa) {\r\n        this.empresa = empresa;\r\n    }\r\n\r\n    public String getArea() {\r\n        return area;\r\n    }\r\n\r\n    public void setArea(String area) {\r\n        this.area = area;\r\n    }\r\n\r\n    public String getSetor() {\r\n        return setor;\r\n    }\r\n\r\n    public void setSetor(String setor) {\r\n        this.setor = setor;\r\n    }\r\n\r\n    public String getTipo() {\r\n        return tipo;\r\n    }\r\n\r\n    public void setTipo(String tipo) {\r\n        this.tipo = tipo;\r\n    }\r\n\r\n    public String getRisco() {\r\n        return risco;\r\n    }\r\n\r\n    public void setRisco(String risco) {\r\n        this.risco = risco;\r\n    }\r\n\r\n    public String getImg() {\r\n        return img;\r\n    }\r\n\r\n    public void setImg(String img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public String getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getPrazo() {\r\n        return prazo;\r\n    }\r\n\r\n    public void setPrazo(String prazo) {\r\n        this.prazo = prazo;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public String getResolucao() {\r\n        return resolucao;\r\n    }\r\n\r\n    public void setResolucao(String resolucao) {\r\n        this.resolucao = resolucao;\r\n    }\r\n\r\n    public String getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(String ID) {\r\n        this.ID = ID;\r\n    }\r\n}\r\n```\r\nHome.java\r\n```\r\npackage com.example.safe;\r\n\r\nimport android.os.Bundle;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\n\r\npublic class Home extends Fragment {\r\n\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n    RecyclerView recview;\r\n    Adapter adapter;\r\n\r\n\r\n    public static Home newInstance(String param1, String param2) {\r\n        Home fragment = new Home();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n\r\n    }\r\n\r\n    public Home() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        recview = view.findViewById(R.id.rvDenuncias);\r\n        recview.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n\r\n        Query query = FirebaseFirestore.getInstance()\r\n                .collection(&quot;Ocorrencias&quot;)\r\n                .limit(50);\r\n\r\n        FirestoreRecyclerOptions&lt;Modelo&gt; options = new FirestoreRecyclerOptions.Builder&lt;Modelo&gt;()\r\n                .setQuery(query, Modelo.class)\r\n                .build();\r\n\r\n        adapter = new Adapter(options);\r\n        recview.setAdapter(adapter);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n}\r\n````\r\nAdapter.java\r\n```\r\npackage com.example.safe;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n\r\n//Vinculando o reclycler view ao firestore\r\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\r\n\r\n\r\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    //Sobrescrevendo o m&#233;todo\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull Modelo model) {\r\n        //Associando os itens do atalho ocorr&#234;ncias\r\n        holder.IDText.setText(model.getID());\r\n        holder.tipoText.setText(model.getTipo());\r\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\r\n\r\n        //A&#231;&#227;o de entrar abrir a ocorr&#234;ncia\r\n        holder.RLAYOUT.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\r\n                AppCompatActivity activity = (AppCompatActivity) view.getContext();\r\n                activity.getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\r\n                        //importando as vari&#225;veis do Modelo e enviado para o DescDenun\r\n                        model.getEmpresa(),\r\n                        model.getArea(),\r\n                        model.getSetor(),\r\n                        model.getTipo(),\r\n                        model.getRisco(),\r\n                        model.getImg(),\r\n                        model.getData(),\r\n                        model.getPrazo(),\r\n                        model.getDesc(),\r\n                        model.getResolucao(),\r\n                        model.getID()\r\n                        )).addToBackStack(null).commit();\r\n            }\r\n        });\r\n \r\n/////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\r\n        return new myviewholder(view);\r\n\r\n    }\r\n\r\n    //Cone&#231;&#227;o do reclycler view com essa classe\r\n    public class myviewholder extends RecyclerView.ViewHolder {\r\n\r\n        //Vari&#225;veis do modelo atalho\r\n        TextView tipoText, IDText;\r\n        RelativeLayout RLAYOUT;\r\n        ImageView img1;\r\n\r\n        //Associando os objetos ao modelo atalho\r\n        public myviewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n\r\n            tipoText = itemView.findViewById(R.id.txtTipo);\r\n            img1 = itemView.findViewById(R.id.imageView);\r\n            IDText = itemView.findViewById(R.id.txtModeloID);\r\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n``` \r\nDescDenuncia.java\r\n```\r\npackage com.example.safe;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class DescDenuncia extends Fragment {\r\n\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\r\n    ImageButton bt_Voltar, bt_Manutencao;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public DescDenuncia() {\r\n\r\n    }\r\n\r\n    public DescDenuncia(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\r\n        this.empresa = empresa;\r\n        this.area = area;\r\n        this.setor = setor;\r\n        this.tipo = tipo;\r\n        this.risco = risco;\r\n        this.img = img;\r\n        this.data = data;\r\n        this.prazo = prazo;\r\n        this.desc = desc;\r\n        this.resolucao = resolucao;\r\n        this.ID = ID;\r\n    }\r\n\r\n    public static DescDenuncia newInstance(String param1, String param2) {\r\n        DescDenuncia fragment = new DescDenuncia();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_desc_denuncia, container, false);\r\n\r\n\r\n        TextView EmprHolder = view.findViewById(R.id.txtDenunEmpr);\r\n        TextView AreaHolder = view.findViewById(R.id.txtDenunArea);\r\n        TextView SetorHolder = view.findViewById(R.id.txtDenunSetor);\r\n        TextView TipoHolder = view.findViewById(R.id.txtDenunTipo);\r\n        TextView RiscoHolder = view.findViewById(R.id.txtDenunRisco);\r\n        ImageView ImgDenun = view.findViewById(R.id.txtDenunImg);\r\n        TextView DataHolder = view.findViewById(R.id.txtDenunData);\r\n        TextView PrazoHolder = view.findViewById(R.id.txtDenunPrazo);\r\n        TextView DescHolder = view.findViewById(R.id.txtDesc);\r\n        TextView ResolHolder = view.findViewById(R.id.txtFeedback);\r\n\r\n        //Definindo os as vari&#225;veis para o valor\r\n        EmprHolder.setText(empresa);\r\n        AreaHolder.setText(area);\r\n        SetorHolder.setText(setor);\r\n        TipoHolder.setText(tipo);\r\n        RiscoHolder.setText(risco);\r\n        Glide.with(getContext()).load(img).into(ImgDenun);\r\n        DataHolder.setText(data);\r\n        PrazoHolder.setText(prazo);\r\n        DescHolder.setText(desc);\r\n        ResolHolder.setText(resolucao);\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onBackPressed()\r\n    {\r\n\r\n        AppCompatActivity activity=(AppCompatActivity)getContext();\r\n        activity.getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,new Home()).addToBackStack(null).commit();\r\n\r\n    }\r\n}","title":"How to Pass data with onclickListener to other fragment in RecyclerView","body":"<p>I am retrieving <code>Cloud Firestore</code> data in <code>Modelo.class</code> and I'm trying to pass these variables from the to fragment <code>DescDenuncia</code> using a adapter <code>Adapter.class</code> but to do that I need to get the context tfor it using the I've already tried use <code>AppCompatActivity activity = (AppCompatActivity) view.getContext();</code>, but my app crashes every time I run this line, and is necessary to use a Context in the getSupportFragmentManager() to it works. If i'm doing this in a wrong way please tell me I truly don't know what I should do, please someone answer me</p>\n<p>I'm using this video <a href=\"https://www.youtube.com/watch?v=QgfNl541oso&amp;t=2449s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=QgfNl541oso&amp;t=2449s</a></p>\n<p>Modelo.java</p>\n<pre><code>package com.example.safe;\n\npublic class Modelo {\n\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\n\n    public Modelo() {\n    }\n\n\n    public Modelo(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\n        this.empresa = empresa;\n        this.area = area;\n        this.setor = setor;\n        this.tipo = tipo;\n        this.risco = risco;\n        this.img = img;\n        this.data = data;\n        this.prazo = prazo;\n        this.desc = desc;\n        this.resolucao = resolucao;\n        this.ID = ID;\n    }\n\n    public String getEmpresa() {\n        return empresa;\n    }\n\n    public void setEmpresa(String empresa) {\n        this.empresa = empresa;\n    }\n\n    public String getArea() {\n        return area;\n    }\n\n    public void setArea(String area) {\n        this.area = area;\n    }\n\n    public String getSetor() {\n        return setor;\n    }\n\n    public void setSetor(String setor) {\n        this.setor = setor;\n    }\n\n    public String getTipo() {\n        return tipo;\n    }\n\n    public void setTipo(String tipo) {\n        this.tipo = tipo;\n    }\n\n    public String getRisco() {\n        return risco;\n    }\n\n    public void setRisco(String risco) {\n        this.risco = risco;\n    }\n\n    public String getImg() {\n        return img;\n    }\n\n    public void setImg(String img) {\n        this.img = img;\n    }\n\n    public String getData() {\n        return data;\n    }\n\n    public void setData(String data) {\n        this.data = data;\n    }\n\n    public String getPrazo() {\n        return prazo;\n    }\n\n    public void setPrazo(String prazo) {\n        this.prazo = prazo;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    public String getResolucao() {\n        return resolucao;\n    }\n\n    public void setResolucao(String resolucao) {\n        this.resolucao = resolucao;\n    }\n\n    public String getID() {\n        return ID;\n    }\n\n    public void setID(String ID) {\n        this.ID = ID;\n    }\n}\n</code></pre>\n<p>Home.java</p>\n<pre><code>package com.example.safe;\n\nimport android.os.Bundle;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\npublic class Home extends Fragment {\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n    RecyclerView recview;\n    Adapter adapter;\n\n\n    public static Home newInstance(String param1, String param2) {\n        Home fragment = new Home();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n\n    }\n\n    public Home() {\n\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n        recview = view.findViewById(R.id.rvDenuncias);\n        recview.setLayoutManager(new LinearLayoutManager(getContext()));\n\n\n        Query query = FirebaseFirestore.getInstance()\n                .collection(&quot;Ocorrencias&quot;)\n                .limit(50);\n\n        FirestoreRecyclerOptions&lt;Modelo&gt; options = new FirestoreRecyclerOptions.Builder&lt;Modelo&gt;()\n                .setQuery(query, Modelo.class)\n                .build();\n\n        adapter = new Adapter(options);\n        recview.setAdapter(adapter);\n\n        return view;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n}\n</code></pre>\n<p>Adapter.java</p>\n<pre><code>package com.example.safe;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\n\n//Vinculando o reclycler view ao firestore\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\n\n\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\n        super(options);\n    }\n\n    //Sobrescrevendo o método\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull Modelo model) {\n        //Associando os itens do atalho ocorrências\n        holder.IDText.setText(model.getID());\n        holder.tipoText.setText(model.getTipo());\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\n\n        //Ação de entrar abrir a ocorrência\n        holder.RLAYOUT.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\n                AppCompatActivity activity = (AppCompatActivity) view.getContext();\n                activity.getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\n                        //importando as variáveis do Modelo e enviado para o DescDenun\n                        model.getEmpresa(),\n                        model.getArea(),\n                        model.getSetor(),\n                        model.getTipo(),\n                        model.getRisco(),\n                        model.getImg(),\n                        model.getData(),\n                        model.getPrazo(),\n                        model.getDesc(),\n                        model.getResolucao(),\n                        model.getID()\n                        )).addToBackStack(null).commit();\n            }\n        });\n \n/////////////////////////////////////////////////////////////////////////////////////////////////////\n    }\n\n\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\n        return new myviewholder(view);\n\n    }\n\n    //Coneção do reclycler view com essa classe\n    public class myviewholder extends RecyclerView.ViewHolder {\n\n        //Variáveis do modelo atalho\n        TextView tipoText, IDText;\n        RelativeLayout RLAYOUT;\n        ImageView img1;\n\n        //Associando os objetos ao modelo atalho\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n\n\n            tipoText = itemView.findViewById(R.id.txtTipo);\n            img1 = itemView.findViewById(R.id.imageView);\n            IDText = itemView.findViewById(R.id.txtModeloID);\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\n        }\n\n    }\n}\n\n</code></pre>\n<p>DescDenuncia.java</p>\n<pre><code>package com.example.safe;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\npublic class DescDenuncia extends Fragment {\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\n    ImageButton bt_Voltar, bt_Manutencao;\n\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n    public DescDenuncia() {\n\n    }\n\n    public DescDenuncia(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\n        this.empresa = empresa;\n        this.area = area;\n        this.setor = setor;\n        this.tipo = tipo;\n        this.risco = risco;\n        this.img = img;\n        this.data = data;\n        this.prazo = prazo;\n        this.desc = desc;\n        this.resolucao = resolucao;\n        this.ID = ID;\n    }\n\n    public static DescDenuncia newInstance(String param1, String param2) {\n        DescDenuncia fragment = new DescDenuncia();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_desc_denuncia, container, false);\n\n\n        TextView EmprHolder = view.findViewById(R.id.txtDenunEmpr);\n        TextView AreaHolder = view.findViewById(R.id.txtDenunArea);\n        TextView SetorHolder = view.findViewById(R.id.txtDenunSetor);\n        TextView TipoHolder = view.findViewById(R.id.txtDenunTipo);\n        TextView RiscoHolder = view.findViewById(R.id.txtDenunRisco);\n        ImageView ImgDenun = view.findViewById(R.id.txtDenunImg);\n        TextView DataHolder = view.findViewById(R.id.txtDenunData);\n        TextView PrazoHolder = view.findViewById(R.id.txtDenunPrazo);\n        TextView DescHolder = view.findViewById(R.id.txtDesc);\n        TextView ResolHolder = view.findViewById(R.id.txtFeedback);\n\n        //Definindo os as variáveis para o valor\n        EmprHolder.setText(empresa);\n        AreaHolder.setText(area);\n        SetorHolder.setText(setor);\n        TipoHolder.setText(tipo);\n        RiscoHolder.setText(risco);\n        Glide.with(getContext()).load(img).into(ImgDenun);\n        DataHolder.setText(data);\n        PrazoHolder.setText(prazo);\n        DescHolder.setText(desc);\n        ResolHolder.setText(resolucao);\n\n\n        return view;\n    }\n\n    public void onBackPressed()\n    {\n\n        AppCompatActivity activity=(AppCompatActivity)getContext();\n        activity.getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,new Home()).addToBackStack(null).commit();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","microservices"],"answers":[{"comments":[{"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"score":0,"creation_date":1666705784,"post_id":74194886,"comment_id":130996708,"body_markdown":"Sorry I&#39;ve just forgotten to clean them up &quot;@JoinColumn &amp; @ManyToOne&quot; from the example","body":"Sorry I&#39;ve just forgotten to clean them up &quot;@JoinColumn &amp; @ManyToOne&quot; from the example"}],"tags":[],"owner":{"account_id":11365395,"reputation":17,"user_id":8332452,"display_name":"Mandeep"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666704722,"creation_date":1666704722,"answer_id":74194886,"question_id":74191867,"body_markdown":"Usually a microservice is entirely self-contained, including not sharing a database. That way a microservice actually **has** to call another service if it wants e.g. the address data. If they share a database then it doesn&#39;t really have to.\r\n\r\nAssuming you want to share a database though: I&#39;d personally just avoid joining the table in your application code. If you want to make it more difficult for your service to join the table then your approach works, but I&#39;d also rename the int `account` to `accountId`, and remove the annotations `@JoinColumn` &amp; `@ManyToOne`.","title":"Splitting monolith data layer to microservices with no schema changes","body":"<p>Usually a microservice is entirely self-contained, including not sharing a database. That way a microservice actually <strong>has</strong> to call another service if it wants e.g. the address data. If they share a database then it doesn't really have to.</p>\n<p>Assuming you want to share a database though: I'd personally just avoid joining the table in your application code. If you want to make it more difficult for your service to join the table then your approach works, but I'd also rename the int <code>account</code> to <code>accountId</code>, and remove the annotations <code>@JoinColumn</code> &amp; <code>@ManyToOne</code>.</p>\n"}],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666705727,"creation_date":1666690014,"question_id":74191867,"body_markdown":"I have a question about splitting the monolith (spring &amp; hibernate) into micro-services. And especially I&#39;m interested in the correct way of splitting the data layer.\r\n\r\nI’ll take a simple example, the app manages users&#39; accounts with those postal addresses, CRUD for account and addresses. DB schema is simple \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nRespectively there are the two related Hibernate entities\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe goal is to split the app no two micro-services the account-service and the address-service but the **DB should remain the same one instance with no schema changes**.\r\n\r\nI what fairly split the responsibility between the services and not pull unnecessary code. \r\nSo I updated my entities in a way that they have no mere dependencies between them. \r\n[![enter image description here][3]][3]\r\nGiven that the database has not changed, are the new entities correct on point of view of Hibernate and microservices architecture patterns?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mmLjI.png\r\n  [2]: https://i.stack.imgur.com/M8xTN.png\r\n  [3]: https://i.stack.imgur.com/cNKwQ.png","title":"Splitting monolith data layer to microservices with no schema changes","body":"<p>I have a question about splitting the monolith (spring &amp; hibernate) into micro-services. And especially I'm interested in the correct way of splitting the data layer.</p>\n<p>I’ll take a simple example, the app manages users' accounts with those postal addresses, CRUD for account and addresses. DB schema is simple</p>\n<p><a href=\"https://i.stack.imgur.com/mmLjI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mmLjI.png\" alt=\"enter image description here\" /></a></p>\n<p>Respectively there are the two related Hibernate entities\n<a href=\"https://i.stack.imgur.com/M8xTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8xTN.png\" alt=\"enter image description here\" /></a></p>\n<p>The goal is to split the app no two micro-services the account-service and the address-service but the <strong>DB should remain the same one instance with no schema changes</strong>.</p>\n<p>I what fairly split the responsibility between the services and not pull unnecessary code.\nSo I updated my entities in a way that they have no mere dependencies between them.\n<a href=\"https://i.stack.imgur.com/cNKwQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNKwQ.png\" alt=\"enter image description here\" /></a>\nGiven that the database has not changed, are the new entities correct on point of view of Hibernate and microservices architecture patterns?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway","spring-cloud-sleuth"],"answers":[{"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1687257535,"post_id":74190730,"comment_id":134908101,"body_markdown":"i used the same approach that worked in spring 2.x but i does not work in spring 3.x. currentSpan() is null. Do you have additional settings in application.yml?","body":"i used the same approach that worked in spring 2.x but i does not work in spring 3.x. currentSpan() is null. Do you have additional settings in application.yml?"},{"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"score":0,"creation_date":1687355542,"post_id":74190730,"comment_id":134925347,"body_markdown":"Spring Cloud Sleuth is designed to work with Spring 2.x. Use Spring Cloud distributed tracing with Spring 3.x.","body":"Spring Cloud Sleuth is designed to work with Spring 2.x. Use Spring Cloud distributed tracing with Spring 3.x."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1687408044,"post_id":74190730,"comment_id":134933148,"body_markdown":"yes i tried it with micrometer tracing but it does not work.","body":"yes i tried it with micrometer tracing but it does not work."}],"tags":[],"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666687045,"creation_date":1666684430,"answer_id":74190730,"question_id":74189198,"body_markdown":"The problem is that the currentSpan will expire in the then() method and when you want to get it, it simply doesn&#39;t exist. Hence, you should take it sooner.\r\n\r\nHere&#39;s a solution where you can get the current span and retrieve the traceId:\r\n\r\n```\r\n    @Bean\r\n    public GlobalFilter postGlobalFilter() {\r\n        return (exchange, chain) -&gt; {\r\n            final String traceId = Optional.ofNullable(tracer.currentSpan())\r\n                    .map(Span::context)\r\n                    .map(TraceContext::traceIdString)\r\n                    .orElse(&quot;null&quot;);\r\n\r\n            return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\r\n                logger.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\r\n                exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\r\n                logger.debug(&quot;Completing outgoing request for {}.&quot;,\r\n                        exchange.getRequest().getURI());\r\n            }));\r\n        };\r\n    }\r\n```\r\n\r\nNote that I have used Java&#39;s Optional to deal with null values.\r\nYou can use Mono.just(...).map(...).switchIfEmpty(...) as well.\r\n\r\n### Here&#39;s a cleaner way you could configure Spring Cloud Gateway&#39;s filter:\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@Profile({&quot;dev&quot;,&quot;stage&quot;})\r\n@RequiredArgsConstructor\r\npublic class ResponseFilter implements GlobalFilter {\r\n    private final Tracer tracer;\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n        final String traceId = Optional.ofNullable(tracer.currentSpan())\r\n                .map(Span::context)\r\n                .map(TraceContext::traceIdString)\r\n                .orElse(&quot;null&quot;);\r\n\r\n        return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\r\n            log.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\r\n            exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\r\n            log.debug(&quot;Completing outgoing request for {}.&quot;,\r\n                    exchange.getRequest().getURI());\r\n        }));\r\n    }\r\n\r\n}\r\n```\r\nKeep in mind that exposing traceId in the http response of the gateway is usually not a good idea (according to Spring Cloud Sleuth Documentation), unless you are in dev or stage and you want to use it for debugging purposes.","title":"Spring Cloud Sleuth: tracer.getCurrentSpan() is NULL","body":"<p>The problem is that the currentSpan will expire in the then() method and when you want to get it, it simply doesn't exist. Hence, you should take it sooner.</p>\n<p>Here's a solution where you can get the current span and retrieve the traceId:</p>\n<pre><code>    @Bean\n    public GlobalFilter postGlobalFilter() {\n        return (exchange, chain) -&gt; {\n            final String traceId = Optional.ofNullable(tracer.currentSpan())\n                    .map(Span::context)\n                    .map(TraceContext::traceIdString)\n                    .orElse(&quot;null&quot;);\n\n            return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\n                logger.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\n                exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\n                logger.debug(&quot;Completing outgoing request for {}.&quot;,\n                        exchange.getRequest().getURI());\n            }));\n        };\n    }\n</code></pre>\n<p>Note that I have used Java's Optional to deal with null values.\nYou can use Mono.just(...).map(...).switchIfEmpty(...) as well.</p>\n<h3>Here's a cleaner way you could configure Spring Cloud Gateway's filter:</h3>\n<pre><code>@Slf4j\n@Configuration\n@Profile({&quot;dev&quot;,&quot;stage&quot;})\n@RequiredArgsConstructor\npublic class ResponseFilter implements GlobalFilter {\n    private final Tracer tracer;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        final String traceId = Optional.ofNullable(tracer.currentSpan())\n                .map(Span::context)\n                .map(TraceContext::traceIdString)\n                .orElse(&quot;null&quot;);\n\n        return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\n            log.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\n            exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\n            log.debug(&quot;Completing outgoing request for {}.&quot;,\n                    exchange.getRequest().getURI());\n        }));\n    }\n\n}\n</code></pre>\n<p>Keep in mind that exposing traceId in the http response of the gateway is usually not a good idea (according to Spring Cloud Sleuth Documentation), unless you are in dev or stage and you want to use it for debugging purposes.</p>\n"}],"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74190730,"answer_count":1,"score":1,"last_activity_date":1666705611,"creation_date":1666672794,"question_id":74189198,"body_markdown":"Using Spring Cloud Sleuth version 3.1.4 and I want to insert the trace ID in the HTTP response headers. I created a bean of type GlobalFilter and trying to retrieve the trace ID string as follows\r\n\r\n    @Configuration\r\n    public class ResponseFilter {\r\n    \r\n    \t@Autowired\r\n    \tTracer tracer;\r\n    \t\r\n    \t@Autowired\r\n    \tFilterUtils filterUtils;\r\n    \t\r\n    \tfinal Logger logger =LoggerFactory.getLogger(ResponseFilter.class);\r\n    \t\r\n    \t@Bean\r\n        public GlobalFilter postGlobalFilter() {\r\n            return (exchange, chain) -&gt; {\r\n                return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\r\n                \t  \r\n                \t  String traceId = tracer.currentSpan().context().traceIdString();\r\n                \t  logger.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\r\n                      exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\r\n                      logger.debug(&quot;Completing outgoing request for {}.&quot;, exchange.getRequest().getURI());\r\n                  }));\r\n            };\r\n        }\r\n    }\r\n\r\nI am getting `tracer.currentSpan()` as NULL which is why it gives NPE for the above code.\r\n\r\n","title":"Spring Cloud Sleuth: tracer.getCurrentSpan() is NULL","body":"<p>Using Spring Cloud Sleuth version 3.1.4 and I want to insert the trace ID in the HTTP response headers. I created a bean of type GlobalFilter and trying to retrieve the trace ID string as follows</p>\n<pre><code>@Configuration\npublic class ResponseFilter {\n\n    @Autowired\n    Tracer tracer;\n    \n    @Autowired\n    FilterUtils filterUtils;\n    \n    final Logger logger =LoggerFactory.getLogger(ResponseFilter.class);\n    \n    @Bean\n    public GlobalFilter postGlobalFilter() {\n        return (exchange, chain) -&gt; {\n            return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; {\n                  \n                  String traceId = tracer.currentSpan().context().traceIdString();\n                  logger.debug(&quot;Adding the correlation id to the outbound headers. {}&quot;, traceId);\n                  exchange.getResponse().getHeaders().add(FilterUtils.CORRELATION_ID, traceId);\n                  logger.debug(&quot;Completing outgoing request for {}.&quot;, exchange.getRequest().getURI());\n              }));\n        };\n    }\n}\n</code></pre>\n<p>I am getting <code>tracer.currentSpan()</code> as NULL which is why it gives NPE for the above code.</p>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"comments":[{"owner":{"account_id":24482162,"reputation":15,"user_id":18400406,"display_name":"hosein.nzd"},"score":0,"creation_date":1666718026,"post_id":74195105,"comment_id":131001253,"body_markdown":"Yes, it is completely correct, thank you for your answer","body":"Yes, it is completely correct, thank you for your answer"}],"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666705600,"creation_date":1666705600,"answer_id":74195105,"question_id":74192501,"body_markdown":"It imported ContextCompat fine. Notice there is no error on the import line.\r\n\r\nYou are not supposed to instantiate ContextCompat like that. It has a private constructor and only static methods so it is similar to a Kotlin `object`.\r\n\r\nTo use ContextCompat, you call the function directly on `ContextCompat`. For example, to use its `getColor` function, you would do:\r\n\r\n```\r\nval myColor = ContextCompat.getColor(this, R.id.my_color)\r\n```\r\nThe first argument is the Context. When in an Activity class, you can pass `this` as the first argument. In a Fragment, you would pass `requireContext()` as the first argument.\r\n","title":"Not imported ContextCompat in my android studio","body":"<p>It imported ContextCompat fine. Notice there is no error on the import line.</p>\n<p>You are not supposed to instantiate ContextCompat like that. It has a private constructor and only static methods so it is similar to a Kotlin <code>object</code>.</p>\n<p>To use ContextCompat, you call the function directly on <code>ContextCompat</code>. For example, to use its <code>getColor</code> function, you would do:</p>\n<pre><code>val myColor = ContextCompat.getColor(this, R.id.my_color)\n</code></pre>\n<p>The first argument is the Context. When in an Activity class, you can pass <code>this</code> as the first argument. In a Fragment, you would pass <code>requireContext()</code> as the first argument.</p>\n"}],"owner":{"account_id":24482162,"reputation":15,"user_id":18400406,"display_name":"hosein.nzd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74195105,"answer_count":1,"score":0,"last_activity_date":1666705600,"creation_date":1666693042,"question_id":74192501,"body_markdown":"My Contextcompat is imported but it still gives this error\r\n\r\nimage\r\n[enter image description here][1]\r\n\r\nmy build.gradle\r\n\r\n    plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n        }\r\n    \r\n    android {\r\n        namespace &#39;com.nzd.library&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.nzd.library&quot;\r\n            minSdk 23\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    }\r\n\r\nThese two entered\r\n\r\n`android.useAndroidX=true\r\nandroid.enableJetifier=true`\r\n\r\nI paste the image in the question kindly see it. I am looking forward for the solution, if someone will help, it will be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/LFBa9.png","title":"Not imported ContextCompat in my android studio","body":"<p>My Contextcompat is imported but it still gives this error</p>\n<p>image\n<a href=\"https://i.stack.imgur.com/LFBa9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>my build.gradle</p>\n<pre><code>plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n    }\n\nandroid {\n    namespace 'com.nzd.library'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.nzd.library&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.5.0'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n}\n</code></pre>\n<p>These two entered</p>\n<p><code>android.useAndroidX=true android.enableJetifier=true</code></p>\n<p>I paste the image in the question kindly see it. I am looking forward for the solution, if someone will help, it will be appreciated.</p>\n"},{"tags":["java","json","tree","jolt"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666687624,"post_id":74191074,"comment_id":130990479,"body_markdown":"You may consider another library [Josson](https://github.com/octomix/josson). The transformation query for this task is `item.cumulateCollect(field(item:), item)`","body":"You may consider another library <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">Josson</a>. The transformation query for this task is <code>item.cumulateCollect(field(item:), item)</code>"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1666699611,"post_id":74191074,"comment_id":130994473,"body_markdown":"@RaymondChoi but we need to write the transformation in a Json and not in a code","body":"@RaymondChoi but we need to write the transformation in a Json and not in a code"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666704733,"post_id":74191074,"comment_id":130996260,"body_markdown":"Actually, _Josson_ transform and query JSON by pure text query statement, not by Java code. I will add an answer to show the solution for unlimited level.","body":"Actually, <i>Josson</i> transform and query JSON by pure text query statement, not by Java code. I will add an answer to show the solution for unlimited level."}],"answers":[{"comments":[{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1666700600,"post_id":74193803,"comment_id":130994814,"body_markdown":"if I want to get all the object of each item (in case I&#39;ve another properties in addition to the id)\n{\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;quantity&quot;: 1,\n      &quot;action&quot;: &quot;add&quot;,\n      &quot;state&quot;: &quot;x&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;quantity&quot;: 1,\n      &quot;action&quot;: &quot;add&quot;,\n      &quot;state&quot;: &quot;x&quot;\n    }\n  ]\n}","body":"if I want to get all the object of each item (in case I&#39;ve another properties in addition to the id) {   &quot;item&quot;: [     {       &quot;id&quot;: 1,       &quot;quantity&quot;: 1,       &quot;action&quot;: &quot;add&quot;,       &quot;state&quot;: &quot;x&quot;     },     {       &quot;id&quot;: 2,       &quot;quantity&quot;: 1,       &quot;action&quot;: &quot;add&quot;,       &quot;state&quot;: &quot;x&quot;     }   ] }"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1666701622,"post_id":74193803,"comment_id":130995218,"body_markdown":"then just convert the pieces `&quot;id&quot;: &quot;&amp;&quot;` to `&quot;*&quot;: &quot;&amp;&quot;` within the first, and `&quot;spec&quot;: { &quot;id&quot;: {...` to `&quot;spec&quot;: { &quot;*&quot;: {...` within the second spec @Michal","body":"then just convert the pieces <code>&quot;id&quot;: &quot;&amp;&quot;</code> to <code>&quot;*&quot;: &quot;&amp;&quot;</code> within the first, and <code>&quot;spec&quot;: { &quot;id&quot;: {...</code> to <code>&quot;spec&quot;: { &quot;*&quot;: {...</code> within the second spec @Michal"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":1,"creation_date":1666778316,"post_id":74193803,"comment_id":131014778,"body_markdown":"thanks, I have a slightly more complex case, I will write a new question.","body":"thanks, I have a slightly more complex case, I will write a new question."},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1666786664,"post_id":74193803,"comment_id":131017522,"body_markdown":"The new Q: https://stackoverflow.com/questions/74207632/jolt-shift-transformation-collect-all-the-items-from-all-the-levels-without-kno","body":"The new Q: <a href=\"https://stackoverflow.com/questions/74207632/jolt-shift-transformation-collect-all-the-items-from-all-the-levels-without-kno\" title=\"jolt shift transformation collect all the items from all the levels without kno\">stackoverflow.com/questions/74207632/&hellip;</a>"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666702721,"creation_date":1666699432,"answer_id":74193803,"question_id":74191074,"body_markdown":"If the inputs have at most 3 levels as in your case, then use this spec\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;id&quot;: &quot;&amp;&quot;,\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;id&quot;: &quot;&amp;&quot;,\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;id&quot;: &quot;&amp;&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;id&quot;: {\r\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nin order to handle the both cases using only this one. If one more level is needed as well, then add\r\n```json\r\n,\r\n&quot;item&quot;: {\r\n  &quot;*&quot;: {\r\n    &quot;id&quot;: &quot;&amp;&quot;\r\n  }\r\n}\r\n```\r\njust after the inner most \r\n\r\n```json\r\n&quot;id&quot;: &quot;&amp;&quot;\r\n```\r\n\r\n**Edit** : If you have some other attributes than `id` as lately commented like in the below input sample\r\n```json\r\n{\r\n  &quot;id&quot;: 11,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;11_1&quot;,\r\n      &quot;quantity&quot;: 1,\r\n      &quot;action&quot;: &quot;add&quot;,\r\n      &quot;state&quot;: &quot;x&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;11_1_1&quot;,\r\n          &quot;quantity&quot;: 2,\r\n          &quot;action&quot;: &quot;drop&quot;,\r\n          &quot;state&quot;: &quot;y&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;11_1_2&quot;,\r\n          &quot;quantity&quot;: 3,\r\n          &quot;action&quot;: &quot;modify&quot;,\r\n          &quot;state&quot;: &quot;z&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n``` \r\nthan just a little modification would handle your new case :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;&amp;&quot;,\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: &quot;&amp;&quot;,\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;*&quot;: &quot;&amp;&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nwhich would generate :\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;11_1&quot;,\r\n    &quot;quantity&quot;: 1,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;state&quot;: &quot;x&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_1&quot;,\r\n    &quot;quantity&quot;: 2,\r\n    &quot;action&quot;: &quot;drop&quot;,\r\n    &quot;state&quot;: &quot;y&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_2&quot;,\r\n    &quot;quantity&quot;: 3,\r\n    &quot;action&quot;: &quot;modify&quot;,\r\n    &quot;state&quot;: &quot;z&quot;\r\n  }\r\n]\r\n```","title":"JOLT shift transformation: collect all the items from all the levels without knowing how many levels","body":"<p>If the inputs have at most 3 levels as in your case, then use this spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;id&quot;: &quot;&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;id&quot;: &quot;&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;id&quot;: &quot;&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;id&quot;: {\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>in order to handle the both cases using only this one. If one more level is needed as well, then add</p>\n<pre class=\"lang-json prettyprint-override\"><code>,\n&quot;item&quot;: {\n  &quot;*&quot;: {\n    &quot;id&quot;: &quot;&amp;&quot;\n  }\n}\n</code></pre>\n<p>just after the inner most</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;id&quot;: &quot;&amp;&quot;\n</code></pre>\n<p><strong>Edit</strong> : If you have some other attributes than <code>id</code> as lately commented like in the below input sample</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 11,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;11_1&quot;,\n      &quot;quantity&quot;: 1,\n      &quot;action&quot;: &quot;add&quot;,\n      &quot;state&quot;: &quot;x&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;11_1_1&quot;,\n          &quot;quantity&quot;: 2,\n          &quot;action&quot;: &quot;drop&quot;,\n          &quot;state&quot;: &quot;y&quot;\n        },\n        {\n          &quot;id&quot;: &quot;11_1_2&quot;,\n          &quot;quantity&quot;: 3,\n          &quot;action&quot;: &quot;modify&quot;,\n          &quot;state&quot;: &quot;z&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>than just a little modification would handle your new case :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;*&quot;: &quot;&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;*&quot;: &quot;&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>which would generate :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;11_1&quot;,\n    &quot;quantity&quot;: 1,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;state&quot;: &quot;x&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_1&quot;,\n    &quot;quantity&quot;: 2,\n    &quot;action&quot;: &quot;drop&quot;,\n    &quot;state&quot;: &quot;y&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_2&quot;,\n    &quot;quantity&quot;: 3,\n    &quot;action&quot;: &quot;modify&quot;,\n    &quot;state&quot;: &quot;z&quot;\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666705509,"creation_date":1666705509,"answer_id":74195078,"question_id":74191074,"body_markdown":"Solution for unlimited levels using library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: 11,&quot; +\r\n        &quot;  \\&quot;item\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\r\n        &quot;      \\&quot;quantity\\&quot;: 1,&quot; +\r\n        &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;      \\&quot;state\\&quot;: \\&quot;x\\&quot;,&quot; +\r\n        &quot;      \\&quot;item\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\r\n        &quot;          \\&quot;quantity\\&quot;: 2,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;drop\\&quot;,&quot; +\r\n        &quot;          \\&quot;state\\&quot;: \\&quot;y\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\r\n        &quot;          \\&quot;quantity\\&quot;: 3,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;modify\\&quot;,&quot; +\r\n        &quot;          \\&quot;state\\&quot;: \\&quot;z\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;      ]&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(&quot;item.cumulateCollect(field(item:), item)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nStatement `field(item:)` removes field `item` from the current object.  \r\nThe 2nd argument of `cumulateCollect()` means the next level. In this case is `item`.\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;id&quot; : &quot;11_1&quot;,\r\n      &quot;quantity&quot; : 1,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;state&quot; : &quot;x&quot;\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_1&quot;,\r\n      &quot;quantity&quot; : 2,\r\n      &quot;action&quot; : &quot;drop&quot;,\r\n      &quot;state&quot; : &quot;y&quot;\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_2&quot;,\r\n      &quot;quantity&quot; : 3,\r\n      &quot;action&quot; : &quot;modify&quot;,\r\n      &quot;state&quot; : &quot;z&quot;\r\n    } ]","title":"JOLT shift transformation: collect all the items from all the levels without knowing how many levels","body":"<p>Solution for unlimited levels using library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: 11,&quot; +\n    &quot;  \\&quot;item\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\n    &quot;      \\&quot;quantity\\&quot;: 1,&quot; +\n    &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;      \\&quot;state\\&quot;: \\&quot;x\\&quot;,&quot; +\n    &quot;      \\&quot;item\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\n    &quot;          \\&quot;quantity\\&quot;: 2,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;drop\\&quot;,&quot; +\n    &quot;          \\&quot;state\\&quot;: \\&quot;y\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\n    &quot;          \\&quot;quantity\\&quot;: 3,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;modify\\&quot;,&quot; +\n    &quot;          \\&quot;state\\&quot;: \\&quot;z\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;      ]&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(&quot;item.cumulateCollect(field(item:), item)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Statement <code>field(item:)</code> removes field <code>item</code> from the current object.<br />\nThe 2nd argument of <code>cumulateCollect()</code> means the next level. In this case is <code>item</code>.</p>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;id&quot; : &quot;11_1&quot;,\n  &quot;quantity&quot; : 1,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;state&quot; : &quot;x&quot;\n}, {\n  &quot;id&quot; : &quot;11_1_1&quot;,\n  &quot;quantity&quot; : 2,\n  &quot;action&quot; : &quot;drop&quot;,\n  &quot;state&quot; : &quot;y&quot;\n}, {\n  &quot;id&quot; : &quot;11_1_2&quot;,\n  &quot;quantity&quot; : 3,\n  &quot;action&quot; : &quot;modify&quot;,\n  &quot;state&quot; : &quot;z&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74193803,"answer_count":2,"score":1,"last_activity_date":1666705509,"creation_date":1666686143,"question_id":74191074,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get all the items from all the levels into an array.\r\n\r\n**My goal is to get an array that contains all the items without knowing how many levels I have in the json.**\r\n\r\nHere is my input and expected output:\r\n\r\nif I&#39;ve 3 levels:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 11,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;11_1&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;11_1_1&quot;,\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_1_1&quot;\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;11_1_2&quot;,\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_2_1&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;11_1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_1&quot;\r\n  },\r\n    {\r\n    &quot;id&quot;: &quot;11_1_1_1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_2&quot;\r\n  },\r\n    {\r\n    &quot;id&quot;: &quot;11_1_2_1&quot;\r\n  }\r\n]\r\n```\r\nif I&#39;ve 2 levels:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 11,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;11_1&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;11_1_1&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;11_1_2&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;11_1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_2&quot;\r\n  }\r\n]\r\n```\r\n\r\nI tried to write something like:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {   //to cover the second level\r\n        &quot;*&quot;: &quot;item&quot;\r\n      }\r\n    }\r\n    },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {    //to cover the 3td level\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: &quot;item&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    }\r\n]\r\n```\r\n\r\nThe result was null, if I run each transformation separately, I get results when applicable\r\nCan you please help me to write a simple spec that will do this?","title":"JOLT shift transformation: collect all the items from all the levels without knowing how many levels","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get all the items from all the levels into an array.</p>\n<p><strong>My goal is to get an array that contains all the items without knowing how many levels I have in the json.</strong></p>\n<p>Here is my input and expected output:</p>\n<p>if I've 3 levels:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 11,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;11_1&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;11_1_1&quot;,\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_1_1&quot;\n            }\n          ]\n        },\n        {\n          &quot;id&quot;: &quot;11_1_2&quot;,\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_2_1&quot;\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;11_1&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_1&quot;\n  },\n    {\n    &quot;id&quot;: &quot;11_1_1_1&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_2&quot;\n  },\n    {\n    &quot;id&quot;: &quot;11_1_2_1&quot;\n  }\n]\n</code></pre>\n<p>if I've 2 levels:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 11,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;11_1&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;11_1_1&quot;\n        },\n        {\n          &quot;id&quot;: &quot;11_1_2&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;11_1&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_1&quot;\n  },\n  {\n    &quot;id&quot;: &quot;11_1_2&quot;\n  }\n]\n</code></pre>\n<p>I tried to write something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {   //to cover the second level\n        &quot;*&quot;: &quot;item&quot;\n      }\n    }\n    },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {    //to cover the 3td level\n          &quot;item&quot;: {\n            &quot;*&quot;: &quot;item&quot;\n          }\n        }\n      }\n    }\n    }\n]\n</code></pre>\n<p>The result was null, if I run each transformation separately, I get results when applicable\nCan you please help me to write a simple spec that will do this?</p>\n"},{"tags":["java","cron","timeout","scheduler"],"answers":[{"tags":[],"owner":{"account_id":11365395,"reputation":17,"user_id":8332452,"display_name":"Mandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666705309,"creation_date":1666705309,"answer_id":74195030,"question_id":74189535,"body_markdown":"By tickets you mean support tickets? It sounds like a strange ticketing tool you&#39;re calling. Just so I understand correctly: you receive a call to create a ticket or something, and you call another ticketing tool to create a ticket, but it doesn&#39;t respond to your request immediately? Instead, it sends your application a webhook once it&#39;s processed your request?\r\n\r\nIf that&#39;s correct then I imagine you would maintain a local database of the tickets you&#39;ve created, or at least the requests you&#39;ve sent the external service, because you&#39;d need to look up against this to process the webhook from the other ticketing tool. So you can just store a timestamp in your local database, compare the time of the webhook against that timestamp, and reject it if it exceeds 10 minutes or so.","title":"Rest Api calls restricted after specific time","body":"<p>By tickets you mean support tickets? It sounds like a strange ticketing tool you're calling. Just so I understand correctly: you receive a call to create a ticket or something, and you call another ticketing tool to create a ticket, but it doesn't respond to your request immediately? Instead, it sends your application a webhook once it's processed your request?</p>\n<p>If that's correct then I imagine you would maintain a local database of the tickets you've created, or at least the requests you've sent the external service, because you'd need to look up against this to process the webhook from the other ticketing tool. So you can just store a timestamp in your local database, compare the time of the webhook against that timestamp, and reject it if it exceeds 10 minutes or so.</p>\n"}],"owner":{"account_id":20488574,"reputation":13,"user_id":15035144,"display_name":"iulia_g31"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666705309,"creation_date":1666676574,"question_id":74189535,"body_markdown":"I need to implement something like a timeout for a http request on a ticketing application.\r\nLet&#39;s say someone create a POST request and a new ticket is created. \r\n\r\nThe issue is, we are only integrated with another ticketing tool and after the Post request is called, we just receive an acknowledge response by the other ticketing tool.. something like &quot; we received your request and we will handle it later&quot;.\r\n\r\nThey response with an actual ticket id by calling a PATCH and thus, we will receive the final ticket id. \r\n\r\nHowever, we should restrict the timline in wichi they are allowed to response. For example, if they call the patch after we did the Post request 10 minutes ago, let&#39;s suppose it is too late and the ticket should be invalid and they shouldn&#39;t be allowed to update the ticket with ticket id anymore.\r\n\r\nIs there a way we can do this in java?","title":"Rest Api calls restricted after specific time","body":"<p>I need to implement something like a timeout for a http request on a ticketing application.\nLet's say someone create a POST request and a new ticket is created.</p>\n<p>The issue is, we are only integrated with another ticketing tool and after the Post request is called, we just receive an acknowledge response by the other ticketing tool.. something like &quot; we received your request and we will handle it later&quot;.</p>\n<p>They response with an actual ticket id by calling a PATCH and thus, we will receive the final ticket id.</p>\n<p>However, we should restrict the timline in wichi they are allowed to response. For example, if they call the patch after we did the Post request 10 minutes ago, let's suppose it is too late and the ticket should be invalid and they shouldn't be allowed to update the ticket with ticket id anymore.</p>\n<p>Is there a way we can do this in java?</p>\n"},{"tags":["java","mockito","callable"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666706296,"post_id":74195024,"comment_id":130996920,"body_markdown":"Why is it/you think `Callable&lt;String&gt;`? It looks rather like `Callable&lt;Void&gt;`","body":"Why is it/you think <code>Callable&lt;String&gt;</code>? It looks rather like <code>Callable&lt;Void&gt;</code>"},{"owner":{"account_id":3035884,"reputation":103,"user_id":2573991,"display_name":"Tirlipirli"},"score":0,"creation_date":1666707125,"post_id":74195024,"comment_id":130997241,"body_markdown":"This is just an example. In real code, I am using this task.run method with various calls to various methods, parameters differ.","body":"This is just an example. In real code, I am using this task.run method with various calls to various methods, parameters differ."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1666730236,"post_id":74195024,"comment_id":131004753,"body_markdown":"I&#39;ve marked this as a duplicate that discusses verification in particular, but the dupe answer also mentions [capturing using captors](https://stackoverflow.com/q/34807210/1426891). If these aren&#39;t applicable your case, please edit your question to explain the difference and I can reopen.","body":"I&#39;ve marked this as a duplicate that discusses verification in particular, but the dupe answer also mentions <a href=\"https://stackoverflow.com/q/34807210/1426891\">capturing using captors</a>. If these aren&#39;t applicable your case, please edit your question to explain the difference and I can reopen."},{"owner":{"account_id":3035884,"reputation":103,"user_id":2573991,"display_name":"Tirlipirli"},"score":0,"creation_date":1666766320,"post_id":74195024,"comment_id":131011019,"body_markdown":"Similar, except that solution provided there is exactly the one that I tried - and get mentioned exception","body":"Similar, except that solution provided there is exactly the one that I tried - and get mentioned exception"},{"owner":{"account_id":3035884,"reputation":103,"user_id":2573991,"display_name":"Tirlipirli"},"score":2,"creation_date":1666793095,"post_id":74195024,"comment_id":131020088,"body_markdown":"@xerx593 - thank you for your comment! It pointed me to the right direction. Problem was that in fact, I wasn&#39;t calling Callable method, but similar one, also defined, taking Runnable as parameter and then in my test I needed to mock Runnable version instead of Callable. And when I changed Captor to ArgumentCaptor&lt;Runnable&gt;, all started to work. And therefore this question is a duplicate as marked.","body":"@xerx593 - thank you for your comment! It pointed me to the right direction. Problem was that in fact, I wasn&#39;t calling Callable method, but similar one, also defined, taking Runnable as parameter and then in my test I needed to mock Runnable version instead of Callable. And when I changed Captor to ArgumentCaptor&lt;Runnable&gt;, all started to work. And therefore this question is a duplicate as marked."}],"owner":{"account_id":3035884,"reputation":103,"user_id":2573991,"display_name":"Tirlipirli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666730155,"answer_count":0,"score":1,"last_activity_date":1666705299,"creation_date":1666705299,"question_id":74195024,"body_markdown":"I have a following class:\r\n```\r\npublic class Task {\r\n\r\n    public &lt;V&gt; V run(Callable&lt;V&gt; callable) {\r\n        //...\r\n        callable.call()\r\n    }\r\n}\r\n```\r\nAnd I have a class that uses the above:\r\n```\r\npublic MyClass {\r\n    Task task;\r\n    Provider provider;\r\n\r\n    public void doYourJob() {\r\n           String parameter = &quot;Test&quot;;\r\n           task.run(() -&gt; provider.save(parameter)); \r\n    }\r\n\r\n}\r\n```\r\n\r\nI need to now write unit test to this piece, so that it checks if I actually called provider with proper parameters.\r\n\r\nI tried approach with argumentCaptors:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyClassTest {\r\n    @Mock\r\n    Task task;\r\n\r\n    @Mock\r\n    Provider provider;\r\n\r\n    MyClass myClass;\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;Callable&lt;String&gt;&gt; captor;\r\n\r\n    @BeforeEach\r\n    public void setup()\r\n        myClass = new MyClass(task, provider);\r\n    }\r\n        \r\n    @Test\r\n    void shouldDoJob() {\r\n        myClass.doYourJob();\r\n        verify(task).run(captor.capture());\r\n        captor.call();\r\n        verify(provider).save(&quot;Test&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis fails with error: Wanted but not invoked:\r\n``` task.run(&lt;Capturing argument));```\r\nThere was an interaction with this mock:\r\n```task.run(MyClass$$Lambda$$598dsfg897);```\r\n\r\nAlso I tried approach with mocking\r\n and with doAnswer - in all cases Callable parameter was interpreted wrong.\r\n\r\nAny clues how to mock Callable and check what was actually called?\r\n\r\n","title":"Mockito - verify a method with Callable&lt;&gt; as parameter","body":"<p>I have a following class:</p>\n<pre><code>public class Task {\n\n    public &lt;V&gt; V run(Callable&lt;V&gt; callable) {\n        //...\n        callable.call()\n    }\n}\n</code></pre>\n<p>And I have a class that uses the above:</p>\n<pre><code>public MyClass {\n    Task task;\n    Provider provider;\n\n    public void doYourJob() {\n           String parameter = &quot;Test&quot;;\n           task.run(() -&gt; provider.save(parameter)); \n    }\n\n}\n</code></pre>\n<p>I need to now write unit test to this piece, so that it checks if I actually called provider with proper parameters.</p>\n<p>I tried approach with argumentCaptors:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyClassTest {\n    @Mock\n    Task task;\n\n    @Mock\n    Provider provider;\n\n    MyClass myClass;\n\n    @Captor\n    ArgumentCaptor&lt;Callable&lt;String&gt;&gt; captor;\n\n    @BeforeEach\n    public void setup()\n        myClass = new MyClass(task, provider);\n    }\n        \n    @Test\n    void shouldDoJob() {\n        myClass.doYourJob();\n        verify(task).run(captor.capture());\n        captor.call();\n        verify(provider).save(&quot;Test&quot;);\n    }\n}\n</code></pre>\n<p>This fails with error: Wanted but not invoked:\n<code> task.run(&lt;Capturing argument));</code>\nThere was an interaction with this mock:\n<code>task.run(MyClass$$Lambda$$598dsfg897);</code></p>\n<p>Also I tried approach with mocking\nand with doAnswer - in all cases Callable parameter was interpreted wrong.</p>\n<p>Any clues how to mock Callable and check what was actually called?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","jms"],"answers":[{"comments":[{"owner":{"account_id":8374916,"reputation":153,"user_id":6288680,"display_name":"Ian Rowlands"},"score":0,"creation_date":1534589194,"post_id":51907409,"comment_id":90765751,"body_markdown":"I actually just want to know about this behaviour and why it is different in each case, and how to make it the same if possible.","body":"I actually just want to know about this behaviour and why it is different in each case, and how to make it the same if possible."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666705149,"creation_date":1534586483,"answer_id":51907409,"question_id":51903849,"body_markdown":"With JMS and a DB you have two resources. \r\n\r\nTo have a full transactional behavior you need distributed transactions support.\r\n\r\nIf you don&#39;t have this even when the message is sent as last operation if the sending fails the data is changed in the database anyway.\r\n\r\nTo configure distributed transaction you need JTA. This is described here:\r\n\r\nWith JMS and a DB you have two resources. To have a full transactional behavoir you need distributed transactions. We use Bistronix in our application and this works very well.\r\n\r\nHave a look at the docs: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-jta.html","title":"Spring Boot JMS - when should a message be sent on a @Transacted method?","body":"<p>With JMS and a DB you have two resources.</p>\n<p>To have a full transactional behavior you need distributed transactions support.</p>\n<p>If you don't have this even when the message is sent as last operation if the sending fails the data is changed in the database anyway.</p>\n<p>To configure distributed transaction you need JTA. This is described here:</p>\n<p>With JMS and a DB you have two resources. To have a full transactional behavoir you need distributed transactions. We use Bistronix in our application and this works very well.</p>\n<p>Have a look at the docs: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-jta.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-jta.html</a></p>\n"}],"owner":{"account_id":8374916,"reputation":153,"user_id":6288680,"display_name":"Ian Rowlands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666705149,"creation_date":1534547541,"question_id":51903849,"body_markdown":"I was wondering on a Spring Boot method marked as @Transactional, when should a message appear on the queue? I’m asking because I’ve noticed 2 different behaviours on 2 different applications.\r\n\r\nBoth applications have the following in common:\r\n\r\n - Spring Boot 2.0 based\r\n - JMS message sending is using JmsTemplate, with setSessionTransacted set to true\r\n - No explicit transaction settings configured \r\n - There is a Mongo DB used (using Spring Data) and a record is being modified in the same method as the message is sent\r\n\r\nThe major difference between the two applications is:\r\n\r\n - One has a JPA data source (using Spring Dataj and a record is read and/or written in this method. The other application does not have this data source.\r\n\r\nThe difference in observed behaviour is that when the JPA source is present, the message is sent at the end of method. Without it, the message is sent immediately.\r\n\r\nIs this the expected behaviour?\r\n\r\nCan I configure the applications to behave the same way? Ideally I’d like the message to be sent at the end (so any Mongo changes that fail would cancel the message send and rollback any JPA changes made)? I realise that Mongo changes are not part of any transaction created.\r\n\r\nThanks\r\n\r\n","title":"Spring Boot JMS - when should a message be sent on a @Transacted method?","body":"<p>I was wondering on a Spring Boot method marked as @Transactional, when should a message appear on the queue? I’m asking because I’ve noticed 2 different behaviours on 2 different applications.</p>\n\n<p>Both applications have the following in common:</p>\n\n<ul>\n<li>Spring Boot 2.0 based</li>\n<li>JMS message sending is using JmsTemplate, with setSessionTransacted set to true</li>\n<li>No explicit transaction settings configured </li>\n<li>There is a Mongo DB used (using Spring Data) and a record is being modified in the same method as the message is sent</li>\n</ul>\n\n<p>The major difference between the two applications is:</p>\n\n<ul>\n<li>One has a JPA data source (using Spring Dataj and a record is read and/or written in this method. The other application does not have this data source.</li>\n</ul>\n\n<p>The difference in observed behaviour is that when the JPA source is present, the message is sent at the end of method. Without it, the message is sent immediately.</p>\n\n<p>Is this the expected behaviour?</p>\n\n<p>Can I configure the applications to behave the same way? Ideally I’d like the message to be sent at the end (so any Mongo changes that fail would cancel the message send and rollback any JPA changes made)? I realise that Mongo changes are not part of any transaction created.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","google-api","google-oauth","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1666053031,"post_id":74094315,"comment_id":130839442,"body_markdown":"check the service account example for google analytics.   https://developers.google.com/analytics/devguides/config/mgmt/v3/quickstart/service-java    see if this doesn&#39;t help you figure it out","body":"check the service account example for google analytics.   <a href=\"https://developers.google.com/analytics/devguides/config/mgmt/v3/quickstart/service-java\" rel=\"nofollow noreferrer\">developers.google.com/analytics/devguides/config/mgmt/v3/&hellip;</a>    see if this doesn&#39;t help you figure it out"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666704722,"creation_date":1666704722,"answer_id":74194887,"question_id":74094315,"body_markdown":"Have you tried something like this?\r\n\r\n     /**\r\n       * Initializes an Sheets API V4 service object.\r\n       *\r\n       * @return An authorized Sheets API V4 service object.\r\n       * @throws IOException\r\n       * @throws GeneralSecurityException\r\n       */\r\n      private static Sheets initializeSheets() throws GeneralSecurityException, IOException {\r\n    \r\n        HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n        GoogleCredential credential = GoogleCredential\r\n            .fromStream(new FileInputStream(KEY_FILE_LOCATION))\r\n            .createScoped(AnalyticsReportingScopes.all());\r\n    \r\n        // Construct the Sheets service object.\r\n        return new Sheets.Builder(httpTransport, JSON_FACTORY, credential)\r\n            .setApplicationName(APPLICATION_NAME).build();\r\n      }\r\n\r\n","title":"Google authorization as a Service Account (Java)","body":"<p>Have you tried something like this?</p>\n<pre><code> /**\n   * Initializes an Sheets API V4 service object.\n   *\n   * @return An authorized Sheets API V4 service object.\n   * @throws IOException\n   * @throws GeneralSecurityException\n   */\n  private static Sheets initializeSheets() throws GeneralSecurityException, IOException {\n\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    GoogleCredential credential = GoogleCredential\n        .fromStream(new FileInputStream(KEY_FILE_LOCATION))\n        .createScoped(AnalyticsReportingScopes.all());\n\n    // Construct the Sheets service object.\n    return new Sheets.Builder(httpTransport, JSON_FACTORY, credential)\n        .setApplicationName(APPLICATION_NAME).build();\n  }\n</code></pre>\n"}],"owner":{"account_id":26479882,"reputation":1,"user_id":20119286,"display_name":"Vladislava Soboleva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666704722,"creation_date":1665994497,"question_id":74094315,"body_markdown":"I&#39;m trying to get authorization through a Service Account to Google Sheets (No confirmation window). I can&#39;t find any information about it. If I use the method from https://developers.google.com/sheets/api/quickstart/java then I get an Error `IllegalArgumentException.`\r\nThe general method I use :\r\n\r\n    // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n            .setAccessType(&quot;offline&quot;)\r\n            .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n\r\nA credentials file \r\n\r\n    {\r\n      &quot;type&quot;: &quot;service_account&quot;,\r\n      &quot;project_id&quot;: &quot;mytestproject-2&quot;,\r\n      &quot;private_key_id&quot;: &quot;****&quot;,\r\n      &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\\n***0=\\n-----END PRIVATE KEY-----\\n&quot;,\r\n      &quot;client_email&quot;: &quot;test@mytestproject-2.iam.gserviceaccount.com&quot;,\r\n      &quot;client_id&quot;: &quot;001&quot;,\r\n      &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n      &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\r\n      &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n      &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/test%40mytestproject-2.iam.gserviceaccount.com&quot;\r\n    }\r\n\r\nI found information about the implementation through Python\r\n`credentials = ServiceAccountCredentials.from_json_keyfile_name(CREDENTIALS_FILE, [&#39;https://www.googleapis.com/auth/spreadsheets&#39;, &#39;https://www.googleapis.com/auth/drive&#39;]),` but can&#39;t find any information with Java (similar methods).","title":"Google authorization as a Service Account (Java)","body":"<p>I'm trying to get authorization through a Service Account to Google Sheets (No confirmation window). I can't find any information about it. If I use the method from <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/quickstart/java</a> then I get an Error <code>IllegalArgumentException.</code>\nThe general method I use :</p>\n<pre><code>// Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n</code></pre>\n<p>A credentials file</p>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;mytestproject-2&quot;,\n  &quot;private_key_id&quot;: &quot;****&quot;,\n  &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\\n***0=\\n-----END PRIVATE KEY-----\\n&quot;,\n  &quot;client_email&quot;: &quot;test@mytestproject-2.iam.gserviceaccount.com&quot;,\n  &quot;client_id&quot;: &quot;001&quot;,\n  &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n  &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/test%40mytestproject-2.iam.gserviceaccount.com&quot;\n}\n</code></pre>\n<p>I found information about the implementation through Python\n<code>credentials = ServiceAccountCredentials.from_json_keyfile_name(CREDENTIALS_FILE, ['https://www.googleapis.com/auth/spreadsheets', 'https://www.googleapis.com/auth/drive']),</code> but can't find any information with Java (similar methods).</p>\n"},{"tags":["java","angular","spring-boot","cookies","ngx-cookie-service"],"comments":[{"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"score":0,"creation_date":1644940504,"post_id":71129360,"comment_id":125735561,"body_markdown":"is the domain on which backend is hosted different from frontend?","body":"is the domain on which backend is hosted different from frontend?"},{"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"score":0,"creation_date":1644941068,"post_id":71129360,"comment_id":125735802,"body_markdown":"Hi, the domain of both the front-end and the back-end application is the same.","body":"Hi, the domain of both the front-end and the back-end application is the same."}],"answers":[{"comments":[{"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"score":0,"creation_date":1644941438,"post_id":71129561,"comment_id":125735949,"body_markdown":"Hi, that is actually not true: the cookies are correctly set in the browser with the same domain of the back-end. Besides, they are stored as &quot;secured&quot; and with the &quot;None&quot; as the SameSite attribute. The only difference is the path: the BE has &quot;DTM-BE&quot; after the domain, while the cookies is set with &quot;tbx-app&quot; as the path. I.E. https://&lt;domain&gt;/DTM-BE/api/... is the BE, while the cookie has domain &lt;domain&gt; and path &quot;/tbx-app&quot;.","body":"Hi, that is actually not true: the cookies are correctly set in the browser with the same domain of the back-end. Besides, they are stored as &quot;secured&quot; and with the &quot;None&quot; as the SameSite attribute. The only difference is the path: the BE has &quot;DTM-BE&quot; after the domain, while the cookies is set with &quot;tbx-app&quot; as the path. I.E. https://&lt;domain&gt;/DTM-BE/api/... is the BE, while the cookie has domain &lt;domain&gt; and path &quot;/tbx-app&quot;."},{"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"score":0,"creation_date":1644941655,"post_id":71129561,"comment_id":125736056,"body_markdown":"you are sure that interceptor you are using is there in production?","body":"you are sure that interceptor you are using is there in production?"},{"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"score":0,"creation_date":1644941777,"post_id":71129561,"comment_id":125736110,"body_markdown":"please also check if cookie have valid path and isn&#39;t expired.","body":"please also check if cookie have valid path and isn&#39;t expired."},{"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"score":0,"creation_date":1644941968,"post_id":71129561,"comment_id":125736183,"body_markdown":"The interceptor works fine, because it also handles errors and those appear correctly. The expiration is currently not set, as you can see from the code, so they are stored as &quot;Session&quot; cookies. I don&#39;t think that&#39;s the issue...","body":"The interceptor works fine, because it also handles errors and those appear correctly. The expiration is currently not set, as you can see from the code, so they are stored as &quot;Session&quot; cookies. I don&#39;t think that&#39;s the issue..."},{"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"score":0,"creation_date":1644942230,"post_id":71129561,"comment_id":125736303,"body_markdown":"and you are not getting cookie in request headers?","body":"and you are not getting cookie in request headers?"},{"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"score":0,"creation_date":1644997359,"post_id":71129561,"comment_id":125750361,"body_markdown":"Exactly. Cookies are correctly stored in the browser by the first code snippet I reported, by when the call is performed and the interceptor captures the request, I can&#39;t see any cookies in the request header.","body":"Exactly. Cookies are correctly stored in the browser by the first code snippet I reported, by when the call is performed and the interceptor captures the request, I can&#39;t see any cookies in the request header."},{"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"score":0,"creation_date":1645015341,"post_id":71129561,"comment_id":125757086,"body_markdown":"you might not see them in interceptor but should receive them at backend.","body":"you might not see them in interceptor but should receive them at backend."}],"tags":[],"owner":{"account_id":15221113,"reputation":10760,"user_id":10982972,"display_name":"Aakash Garg"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644940791,"creation_date":1644940791,"answer_id":71129561,"question_id":71129360,"body_markdown":"The only reason here could be that while creating cookie you are not setting domain with domain of backend. You can do something like \r\n\r\n    var cookieName = &#39;HelloWorld&#39;;\r\n    var cookieValue = &#39;HelloWorld&#39;;\r\n    var myDate = new Date();\r\n    myDate.setMonth(myDate.getMonth() + 12);\r\n    document.cookie = cookieName +&quot;=&quot; + cookieValue + &quot;;expires=&quot; + myDate \r\n                      + &quot;;domain=.example.com;path=/&quot;;\r\n\r\n\r\nIn the above case example.com is your domain of backend. or by using cookies api, refer here :- https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API","title":"Angular + Spring Boot - Can&#39;t send cookies over HTTPS","body":"<p>The only reason here could be that while creating cookie you are not setting domain with domain of backend. You can do something like</p>\n<pre><code>var cookieName = 'HelloWorld';\nvar cookieValue = 'HelloWorld';\nvar myDate = new Date();\nmyDate.setMonth(myDate.getMonth() + 12);\ndocument.cookie = cookieName +&quot;=&quot; + cookieValue + &quot;;expires=&quot; + myDate \n                  + &quot;;domain=.example.com;path=/&quot;;\n</code></pre>\n<p>In the above case example.com is your domain of backend. or by using cookies api, refer here :- <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API</a></p>\n"},{"tags":[],"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645002909,"creation_date":1645002909,"answer_id":71139022,"question_id":71129360,"body_markdown":"I decided to get rid of the cookies and pass the information in the request header, which seems to be a much more secure approach. Plus, I can control the allowed headers from the back-end itself.","title":"Angular + Spring Boot - Can&#39;t send cookies over HTTPS","body":"<p>I decided to get rid of the cookies and pass the information in the request header, which seems to be a much more secure approach. Plus, I can control the allowed headers from the back-end itself.</p>\n"}],"owner":{"account_id":3454968,"reputation":827,"user_id":4252857,"display_name":"AlexKibo88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71139022,"answer_count":2,"score":0,"last_activity_date":1666703973,"creation_date":1644940049,"question_id":71129360,"body_markdown":"I have an Angular 12 front-end application communicating with a Spring Boot back-end one. APIs shall be called passing a CSRF token using a cookie, but it seems like my logic is only working for localhost.\r\n\r\nPlease find the following snippets of code:\r\n\r\n - Angular cookie set through ngx-cookie-service:\r\n```\r\nthis.cookieService.set(key, value, {\r\n   secure: environment.apiHost.startsWith(&#39;https&#39;),\r\n   sameSite: environment.apiHost.startsWith(&#39;https&#39;) ? &#39;None&#39; : undefined\r\n});\r\n```\r\n - Angular interceptor called before each request:\r\n```\r\nintercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\r\n    // Handle cookies\r\n    request = request.clone({\r\n      withCredentials: true\r\n    });\r\n    return next.handle(request).pipe(\r\n      ...\r\n    );\r\n}\r\n```\r\n - Spring Boot CORS general configuration:\r\n```\r\nList&lt;String&gt; allowedOrigins = new ArrayList&lt;&gt;();\r\nallowedOrigins.add(&quot;http://localhost:4200&quot;);\r\nallowedOrigins.add(&quot;https://&lt;host_name_not_localhost&gt;&quot;);\r\n\r\nconfig.setAllowCredentials(true);\r\nconfig.setAllowedOrigins(allowedOrigins);\r\nconfig.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;));\r\nconfig.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\nsource.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n\r\nreturn new CorsFilter(source);\r\n```\r\n\r\nI honestly don&#39;t understand if the issue lays in the front-end or in the back-end part... Again, sending cookies over HTTP (localhost) works fine, while the *Cookie* attribute doesn&#39;t appear when debugging the call over HTTPS.\r\n\r\nDo you have any advice on this?\r\n\r\nThank you in advance. ","title":"Angular + Spring Boot - Can&#39;t send cookies over HTTPS","body":"<p>I have an Angular 12 front-end application communicating with a Spring Boot back-end one. APIs shall be called passing a CSRF token using a cookie, but it seems like my logic is only working for localhost.</p>\n<p>Please find the following snippets of code:</p>\n<ul>\n<li>Angular cookie set through ngx-cookie-service:</li>\n</ul>\n<pre><code>this.cookieService.set(key, value, {\n   secure: environment.apiHost.startsWith('https'),\n   sameSite: environment.apiHost.startsWith('https') ? 'None' : undefined\n});\n</code></pre>\n<ul>\n<li>Angular interceptor called before each request:</li>\n</ul>\n<pre><code>intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\n    // Handle cookies\n    request = request.clone({\n      withCredentials: true\n    });\n    return next.handle(request).pipe(\n      ...\n    );\n}\n</code></pre>\n<ul>\n<li>Spring Boot CORS general configuration:</li>\n</ul>\n<pre><code>List&lt;String&gt; allowedOrigins = new ArrayList&lt;&gt;();\nallowedOrigins.add(&quot;http://localhost:4200&quot;);\nallowedOrigins.add(&quot;https://&lt;host_name_not_localhost&gt;&quot;);\n\nconfig.setAllowCredentials(true);\nconfig.setAllowedOrigins(allowedOrigins);\nconfig.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;));\nconfig.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\nsource.registerCorsConfiguration(&quot;/api/**&quot;, config);\n\nreturn new CorsFilter(source);\n</code></pre>\n<p>I honestly don't understand if the issue lays in the front-end or in the back-end part... Again, sending cookies over HTTP (localhost) works fine, while the <em>Cookie</em> attribute doesn't appear when debugging the call over HTTPS.</p>\n<p>Do you have any advice on this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","sql","database","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1666700040,"post_id":74193357,"comment_id":130994632,"body_markdown":"_I was told that storing statuses as a table is better than creating Enums_ Find out **why**  they said that.  Referential integrity in a relational DB is a good thing, but that doesn&#39;t mean the app should not use an enum.","body":"<i>I was told that storing statuses as a table is better than creating Enums</i> Find out <b>why</b>  they said that.  Referential integrity in a relational DB is a good thing, but that doesn&#39;t mean the app should not use an enum."},{"owner":{"account_id":7297266,"reputation":383,"user_id":5561534,"display_name":"FunnyO"},"score":0,"creation_date":1666703864,"post_id":74193357,"comment_id":130995983,"body_markdown":"enums are for integrity throughout the whole code without any relation to a seperate table and is such not easy to tamper with. I would actually keep the enums. Also they get detected by the autocomplete by most IDE&#39;s and such are easier to code with.","body":"enums are for integrity throughout the whole code without any relation to a seperate table and is such not easy to tamper with. I would actually keep the enums. Also they get detected by the autocomplete by most IDE&#39;s and such are easier to code with."}],"answers":[{"comments":[{"owner":{"account_id":24472446,"reputation":43,"user_id":18391983,"display_name":"DarkBot"},"score":0,"creation_date":1666773251,"post_id":74194712,"comment_id":131013161,"body_markdown":"But, how I can assign a complaint to a status? \nWhen I was using enums I would simply do complaint.setStatus(Status.processing_the_complaint)\n\nIf I want to use statuses stored in a table what should I do?","body":"But, how I can assign a complaint to a status?  When I was using enums I would simply do complaint.setStatus(Status.processing_the_complaint)  If I want to use statuses stored in a table what should I do?"},{"owner":{"account_id":1697486,"reputation":36,"user_id":1558552,"display_name":"Sergio"},"score":1,"creation_date":1667214667,"post_id":74194712,"comment_id":131109674,"body_markdown":"You need an instance of ComplaintStatus for the assignment. And there are options here.\nFor example, you could implement a lookup method (maybe backed by a cache), then setting a status would be something like:\ncomplaint.setStatus(ComplaintStatus.lookup(&#39;processing&#39;))\nYou could also annotate the status field with the @Convert (instead of @JoinColumn) and supply a converter class that will convert between ComplaintStatus and the database status_id field (using a getter and the same lookup method).","body":"You need an instance of ComplaintStatus for the assignment. And there are options here. For example, you could implement a lookup method (maybe backed by a cache), then setting a status would be something like: complaint.setStatus(ComplaintStatus.lookup(&#39;processing&#39;)) You could also annotate the status field with the @Convert (instead of @JoinColumn) and supply a converter class that will convert between ComplaintStatus and the database status_id field (using a getter and the same lookup method)."}],"tags":[],"owner":{"account_id":1697486,"reputation":36,"user_id":1558552,"display_name":"Sergio"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666703824,"creation_date":1666703806,"answer_id":74194712,"question_id":74193357,"body_markdown":"For creating the statuses in your database you need to use a DB change management framework, such as Liquibase.\r\n\r\nAnd when you define the status column in another data object you can do something like:\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, optional = false) \r\n    @JoinColumn(name = &quot;statusid&quot;, nullable = false, insertable = false, updatable = false)\r\n    private ComplaintStatus status;\r\n\r\n","title":"DB design. Using Status table","body":"<p>For creating the statuses in your database you need to use a DB change management framework, such as Liquibase.</p>\n<p>And when you define the status column in another data object you can do something like:</p>\n<pre><code>@OneToOne(fetch = FetchType.EAGER, optional = false) \n@JoinColumn(name = &quot;statusid&quot;, nullable = false, insertable = false, updatable = false)\nprivate ComplaintStatus status;\n</code></pre>\n"}],"owner":{"account_id":24472446,"reputation":43,"user_id":18391983,"display_name":"DarkBot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74194712,"answer_count":1,"score":0,"last_activity_date":1666703824,"creation_date":1666697308,"question_id":74193357,"body_markdown":"I was told that storing statuses as a table is better than creating Enums for my statuses. So I created a table for CompliantStatus. My question is where to insert these statuses and how to use them in my services classes. When I was using enums I was simply accesing the class Ex: Status.(myStatus). But how can I do this using status entity?\r\n\r\n\r\n``` \r\n@Table\r\n@Entity\r\n@Getter\r\n@Setter\r\n\r\npublic class ComplaintStatus extends LookupEntity{\r\n\r\n}\r\n\r\n\r\n\r\n@Data\r\n@MappedSuperclass\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class LookupEntity extends BaseEntity{\r\n\r\n    @Column\r\n    private String nameAr;\r\n\r\n    @Column\r\n    private String nameEn;\r\n\r\n    @Column\r\n    private Long code;\r\n}\r\n\r\n\r\n```\r\n","title":"DB design. Using Status table","body":"<p>I was told that storing statuses as a table is better than creating Enums for my statuses. So I created a table for CompliantStatus. My question is where to insert these statuses and how to use them in my services classes. When I was using enums I was simply accesing the class Ex: Status.(myStatus). But how can I do this using status entity?</p>\n<pre><code>@Table\n@Entity\n@Getter\n@Setter\n\npublic class ComplaintStatus extends LookupEntity{\n\n}\n\n\n\n@Data\n@MappedSuperclass\n@EqualsAndHashCode(callSuper = false)\npublic class LookupEntity extends BaseEntity{\n\n    @Column\n    private String nameAr;\n\n    @Column\n    private String nameEn;\n\n    @Column\n    private Long code;\n}\n\n\n</code></pre>\n"},{"tags":["java","android","android-studio","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666694862,"creation_date":1666694862,"answer_id":74192884,"question_id":74192536,"body_markdown":"It is because you have used `checkBox.setOnCheckedChangeListener()` this will only be triggered when you interact with the checkBox. If you want to save some default value in `sharedPreferences` just store it before you do anything, also declare `sharedPreferences` and other things outside your button `clickListener` not inside.\r\n\r\n    Button btnSignin = (Button) findViewById(R.id.btnSignin);\r\n    CheckBox checkBox = (CheckBox) findViewById(R.id.checkBox);\r\n    \r\n    SharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = preferences.edit();   \r\n    editor.putBoolean(&quot;checked&quot;, false);    //for default case\r\n\r\n    checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        if(checkBox.isChecked()) {\r\n                            editor.putBoolean(&quot;checked&quot;, true);\r\n                        }else{\r\n                            editor.putBoolean(&quot;checked&quot;, false);\r\n                        }\r\n                        editor.commit();\r\n                    }\r\n                });\r\n\r\n    btnSignin.setOnClickListener(new View.OnClickListener() {\r\n             @Override\r\n             public void onClick (View v) {\r\n                String username = lUsername.getText().toString();\r\n                String password = lPassword.getText().toString();\r\n                String details = preferences.getString(username + password + &quot;data&quot;, &quot;invalid&quot;);\r\n                if (details == &quot;invalid&quot;) {\r\n                   Toast.makeText(MainActivity.this, &quot;Invalid credentials&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Intent displayScreen = new Intent(MainActivity.this, activity2.class);\r\n                startActivity(displayScreen);\r\n                }\r\n            }\r\n        });\r\n","title":"SharedPreferences check box not saving correctly","body":"<p>It is because you have used <code>checkBox.setOnCheckedChangeListener()</code> this will only be triggered when you interact with the checkBox. If you want to save some default value in <code>sharedPreferences</code> just store it before you do anything, also declare <code>sharedPreferences</code> and other things outside your button <code>clickListener</code> not inside.</p>\n<pre><code>Button btnSignin = (Button) findViewById(R.id.btnSignin);\nCheckBox checkBox = (CheckBox) findViewById(R.id.checkBox);\n\nSharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);\nSharedPreferences.Editor editor = preferences.edit();   \neditor.putBoolean(&quot;checked&quot;, false);    //for default case\n\ncheckBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    if(checkBox.isChecked()) {\n                        editor.putBoolean(&quot;checked&quot;, true);\n                    }else{\n                        editor.putBoolean(&quot;checked&quot;, false);\n                    }\n                    editor.commit();\n                }\n            });\n\nbtnSignin.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick (View v) {\n            String username = lUsername.getText().toString();\n            String password = lPassword.getText().toString();\n            String details = preferences.getString(username + password + &quot;data&quot;, &quot;invalid&quot;);\n            if (details == &quot;invalid&quot;) {\n               Toast.makeText(MainActivity.this, &quot;Invalid credentials&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Intent displayScreen = new Intent(MainActivity.this, activity2.class);\n            startActivity(displayScreen);\n            }\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15297595,"reputation":312,"user_id":11037116,"display_name":"mohammad fakhraee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703758,"creation_date":1666703758,"answer_id":74194704,"question_id":74192536,"body_markdown":"You are calling `checkBox.setOnCheckedChangeListener` inside of `btnSignin.setOnClickListener` which you are calling `startActivity(displayScreen)`. So you never get the checkbox changes for the first time. But if you navigate back to the **MainActivity** you will get the checkbox changes because `checkBox.setOnChecked ChangeListener` is already set.\r\n\r\nHere is an approach you can use. You can always call `checkBox.isChecked()` method to check if the checkbox is checked or not; which in your case is better to call this method instead of setting `checkBox.setOnCheckedChangeListener`. So your code will become like this:\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n    ...\r\n\r\n    btnSignin.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick (View v) {\r\n\r\n            ...\r\n\r\n            if (details == &quot;invalid&quot;) {\r\n               ...\r\n            } else {\r\n                if(checkBox.isChecked()) {\r\n                    editor.putBoolean(&quot;checked&quot;, true);\r\n                } else {\r\n                    editor.putBoolean(&quot;checked&quot;, false);\r\n                }\r\n                editor.commit();\r\n               ...\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\nFor the sake of simplicity you can even do it like this:\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n    ...\r\n\r\n    btnSignin.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick (View v) {\r\n\r\n            ...\r\n\r\n            if (details == &quot;invalid&quot;) {\r\n               ...\r\n            } else {\r\n                editor.putBoolean(&quot;checked&quot;, checkbox.isChecked());\r\n                editor.commit();\r\n               ...\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\nWhich makes your code more readable.","title":"SharedPreferences check box not saving correctly","body":"<p>You are calling <code>checkBox.setOnCheckedChangeListener</code> inside of <code>btnSignin.setOnClickListener</code> which you are calling <code>startActivity(displayScreen)</code>. So you never get the checkbox changes for the first time. But if you navigate back to the <strong>MainActivity</strong> you will get the checkbox changes because <code>checkBox.setOnChecked ChangeListener</code> is already set.</p>\n<p>Here is an approach you can use. You can always call <code>checkBox.isChecked()</code> method to check if the checkbox is checked or not; which in your case is better to call this method instead of setting <code>checkBox.setOnCheckedChangeListener</code>. So your code will become like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    ...\n\n    btnSignin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick (View v) {\n\n            ...\n\n            if (details == &quot;invalid&quot;) {\n               ...\n            } else {\n                if(checkBox.isChecked()) {\n                    editor.putBoolean(&quot;checked&quot;, true);\n                } else {\n                    editor.putBoolean(&quot;checked&quot;, false);\n                }\n                editor.commit();\n               ...\n            }\n        }\n    });\n}\n</code></pre>\n<p>For the sake of simplicity you can even do it like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    ...\n\n    btnSignin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick (View v) {\n\n            ...\n\n            if (details == &quot;invalid&quot;) {\n               ...\n            } else {\n                editor.putBoolean(&quot;checked&quot;, checkbox.isChecked());\n                editor.commit();\n               ...\n            }\n        }\n    });\n}\n</code></pre>\n<p>Which makes your code more readable.</p>\n"}],"owner":{"account_id":22667508,"reputation":39,"user_id":16839640,"display_name":"jjwright"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666703758,"creation_date":1666693234,"question_id":74192536,"body_markdown":"I&#39;m making a simple login with a checkbox. My sharedpreferences xml file does not contain the boolean statement at the very first login so the checkbox goes through as unchecked. For all users&#39; first login, the checkbox value does not correctly reflect. I have to interact with the checkbox (click to check/uncheck) for it to work but after that, the succeeding tries work fine. What have I missed?\r\n\r\n**MainActivity.java**\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        EditText lUsername = (EditText) findViewById(R.id.lUsername);\r\n        EditText lPassword = (EditText) findViewById(R.id.lPassword);\r\n        Button btnSignin = (Button) findViewById(R.id.btnSignin);\r\n        CheckBox checkBox = (CheckBox) findViewById(R.id.checkBox);\r\n\r\n        btnSignin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick (View v) {\r\n\r\n                String username = lUsername.getText().toString();\r\n                String password = lPassword.getText().toString();\r\n\r\n                SharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);                \r\n\r\n                String details = preferences.getString(username + password + &quot;data&quot;, &quot;invalid&quot;);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n\r\n                if (details == &quot;invalid&quot;) {\r\n                   Toast.makeText(MainActivity.this, &quot;Invalid credentials&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                        @Override\r\n                        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                            if(checkBox.isChecked()) {\r\n                                editor.putBoolean(&quot;checked&quot;, true);\r\n                            }else{\r\n                                editor.putBoolean(&quot;checked&quot;, false);\r\n                            }\r\n                            editor.commit();\r\n                        }\r\n                    });\r\n                    Intent displayScreen = new Intent(MainActivity.this, activity2.class);\r\n                    startActivity(displayScreen);\r\n                }\r\n       }\r\n    });\r\n\r\n\r\n**DisplayScreen.java**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.DisplayScreen);\r\n\r\n        SharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);\r\n\r\n        String username = preferences.getString(&quot;username&quot;, &quot;invalid&quot;);\r\n\r\n        if(preferences.contains(&quot;checked&quot;) &amp;&amp; preferences.getBoolean(&quot;checked&quot;,false) == true) {\r\n            String data = preferences.getString(&quot;data&quot;, &quot;Hello senior &quot; + username + &quot;!&quot;);\r\n            TextView displayInfo = (TextView) findViewById(R.id.helloDisplay);\r\n            displayInfo.setText(data);\r\n        }else {\r\n            String data = preferences.getString(&quot;data&quot;, &quot;Hello &quot; + username + &quot;!&quot;);\r\n            TextView displayInfo = (TextView) findViewById(R.id.helloDisplay);\r\n            displayInfo.setText(data);\r\n        }\r\n    }","title":"SharedPreferences check box not saving correctly","body":"<p>I'm making a simple login with a checkbox. My sharedpreferences xml file does not contain the boolean statement at the very first login so the checkbox goes through as unchecked. For all users' first login, the checkbox value does not correctly reflect. I have to interact with the checkbox (click to check/uncheck) for it to work but after that, the succeeding tries work fine. What have I missed?</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    EditText lUsername = (EditText) findViewById(R.id.lUsername);\n    EditText lPassword = (EditText) findViewById(R.id.lPassword);\n    Button btnSignin = (Button) findViewById(R.id.btnSignin);\n    CheckBox checkBox = (CheckBox) findViewById(R.id.checkBox);\n\n    btnSignin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick (View v) {\n\n            String username = lUsername.getText().toString();\n            String password = lPassword.getText().toString();\n\n            SharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);                \n\n            String details = preferences.getString(username + password + &quot;data&quot;, &quot;invalid&quot;);\n            SharedPreferences.Editor editor = preferences.edit();\n\n            if (details == &quot;invalid&quot;) {\n               Toast.makeText(MainActivity.this, &quot;Invalid credentials&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                    @Override\n                    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                        if(checkBox.isChecked()) {\n                            editor.putBoolean(&quot;checked&quot;, true);\n                        }else{\n                            editor.putBoolean(&quot;checked&quot;, false);\n                        }\n                        editor.commit();\n                    }\n                });\n                Intent displayScreen = new Intent(MainActivity.this, activity2.class);\n                startActivity(displayScreen);\n            }\n   }\n});\n</code></pre>\n<p><strong>DisplayScreen.java</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.DisplayScreen);\n\n    SharedPreferences preferences = getSharedPreferences(&quot;MYPREFS&quot;, MODE_PRIVATE);\n\n    String username = preferences.getString(&quot;username&quot;, &quot;invalid&quot;);\n\n    if(preferences.contains(&quot;checked&quot;) &amp;&amp; preferences.getBoolean(&quot;checked&quot;,false) == true) {\n        String data = preferences.getString(&quot;data&quot;, &quot;Hello senior &quot; + username + &quot;!&quot;);\n        TextView displayInfo = (TextView) findViewById(R.id.helloDisplay);\n        displayInfo.setText(data);\n    }else {\n        String data = preferences.getString(&quot;data&quot;, &quot;Hello &quot; + username + &quot;!&quot;);\n        TextView displayInfo = (TextView) findViewById(R.id.helloDisplay);\n        displayInfo.setText(data);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","jdbc"],"answers":[{"comments":[{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1666745126,"post_id":74193993,"comment_id":131007573,"body_markdown":"I wrote a new method in the repository with such a request as you indicated and called &#39;connection.setAutoCommit(false);&#39; in the non-static block, thanks, everything works.\nIn addition to the battle, the player should be able to complete tasks and contribute gold from his own pocket. Can I use a simple update() method for this, or do I need to write a separate method using BEGIN; and COMMIT;? does it make sense to use these commands for a single SQL query?","body":"I wrote a new method in the repository with such a request as you indicated and called &#39;connection.setAutoCommit(false);&#39; in the non-static block, thanks, everything works. In addition to the battle, the player should be able to complete tasks and contribute gold from his own pocket. Can I use a simple update() method for this, or do I need to write a separate method using BEGIN; and COMMIT;? does it make sense to use these commands for a single SQL query?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666755148,"post_id":74193993,"comment_id":131009106,"body_markdown":"The select and update statements need to be in the same transaction.  But how you organize this in your Java code is your concern.  (FWIW, it could be done in an SQL stored procedure, but that&#39;s not necessary.)","body":"The select and update statements need to be in the same transaction.  But how you organize this in your Java code is your concern.  (FWIW, it could be done in an SQL stored procedure, but that&#39;s not necessary.)"},{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1666758554,"post_id":74193993,"comment_id":131009548,"body_markdown":"I have another question in the process, I will be grateful if you answer. https://stackoverflow.com/questions/74202695/sql-transactions-and-jdbc","body":"I have another question in the process, I will be grateful if you answer. <a href=\"https://stackoverflow.com/questions/74202695/sql-transactions-and-jdbc\" title=\"sql transactions and jdbc\">stackoverflow.com/questions/74202695/sql-transactions-and-jd&zwnj;&#8203;bc</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666703432,"creation_date":1666700524,"answer_id":74193993,"question_id":74193522,"body_markdown":"What you are trying to achieve is to have 4 SQL statement execute without anything else happening to the database in between them:\r\n\r\n  1. The SELECT to read the current clan&#39;s gold\r\n  2. The SELECT to read the enemy clan&#39;s gold\r\n  3. The UPDATE to (say) increase the current clan&#39;s gold\r\n  4. The UPDATE to reduce the enemy clan&#39;s gold by the amount that the current clan&#39;s gold increased.\r\n\r\nThe correct way to do this is to execute all SQL statements as a single transaction; i.e. using a single connection, execute:\r\n\r\n     BEGIN\r\n     SELECT 1\r\n     SELECT 2\r\n     UPDATE 3\r\n     UPDATE 4\r\n     COMMIT\r\n\r\nAssuming that you have chosen an appropriate *isolation level* for the JDBC connection, and turned off auto-commit, the database itself will lock database rows to prevent any other simultaneous transactions from interfering with the two CLANS table rows that you are operating on.\r\n\r\nInstead, you are trying to use Java locks to prevent the interference.  In theory, that would work ... provided you did the locking properly AND no other application is accessing that table.  \r\n\r\nIn practice, you appears to have flaws in the way you are doing the locking.  (For example, it is not clear what lock object your `run()` method is using.)  Furthermore, nothing stops another application (or another instance instance of this one) from accessing the table.\r\n\r\nEven if your locking was effective, the scheme you are using seems to be locking the entire repository rather than just the two rows affected by the ... interaction between the clans. \r\n   ","title":"JDBC and Multithreading. Incorrect data in Database","body":"<p>What you are trying to achieve is to have 4 SQL statement execute without anything else happening to the database in between them:</p>\n<ol>\n<li>The SELECT to read the current clan's gold</li>\n<li>The SELECT to read the enemy clan's gold</li>\n<li>The UPDATE to (say) increase the current clan's gold</li>\n<li>The UPDATE to reduce the enemy clan's gold by the amount that the current clan's gold increased.</li>\n</ol>\n<p>The correct way to do this is to execute all SQL statements as a single transaction; i.e. using a single connection, execute:</p>\n<pre><code> BEGIN\n SELECT 1\n SELECT 2\n UPDATE 3\n UPDATE 4\n COMMIT\n</code></pre>\n<p>Assuming that you have chosen an appropriate <em>isolation level</em> for the JDBC connection, and turned off auto-commit, the database itself will lock database rows to prevent any other simultaneous transactions from interfering with the two CLANS table rows that you are operating on.</p>\n<p>Instead, you are trying to use Java locks to prevent the interference.  In theory, that would work ... provided you did the locking properly AND no other application is accessing that table.</p>\n<p>In practice, you appears to have flaws in the way you are doing the locking.  (For example, it is not clear what lock object your <code>run()</code> method is using.)  Furthermore, nothing stops another application (or another instance instance of this one) from accessing the table.</p>\n<p>Even if your locking was effective, the scheme you are using seems to be locking the entire repository rather than just the two rows affected by the ... interaction between the clans.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666703991,"post_id":74194684,"comment_id":130996020,"body_markdown":"Don&#39;t forget to disable auto-commit mode. JDBC connections default to auto-commit mode (unless that data-source is managed by a transaction-manager).","body":"Don&#39;t forget to disable auto-commit mode. JDBC connections default to auto-commit mode (unless that data-source is managed by a transaction-manager)."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666704930,"post_id":74194684,"comment_id":130996332,"body_markdown":"@MarkRotteveel yes. It could be set in the configuration of the `DataSource`, but we could also do it explicitly in the code, as soon as we have obtained the `Connection`.","body":"@MarkRotteveel yes. It could be set in the configuration of the <code>DataSource</code>, but we could also do it explicitly in the code, as soon as we have obtained the <code>Connection</code>."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703664,"creation_date":1666703664,"answer_id":74194684,"question_id":74193522,"body_markdown":"I agree with @StephenC about letting the database deal with locking. I would add that you can also use a connection pool (`DataSource`) to deal with contention on the database access.\r\n\r\nYour `ClanRepository` class would look like this:\r\n\r\n\r\n    public class ClanRepository implements TestTaskRepository&lt;Clan&gt; {\r\n        private ResultSetConverter resultSetConverter = new ResultSetConverter();\r\n        private final Connection connection;\r\n    \r\n        public ClanRepository(Connection cnt) throws SQLException {\r\n            connection = cnt;\r\n        }\r\n    \r\n        @Override\r\n        public Clan findById(Long id) {\r\n            Clan clan = null;\r\n            try (PreparedStatement preparedStatement =\r\n                         connection.prepareStatement(&quot;SELECT * FROM clans WHERE clan_id=?&quot;)) {\r\n    \r\n                preparedStatement.setLong(1, id);\r\n    \r\n                ResultSet resultSet = preparedStatement.executeQuery();\r\n                resultSet.next();\r\n    \r\n                clan = resultSetConverter.getClanFromResultSet(resultSet);\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return clan;\r\n        }\r\n    \r\n        @Override\r\n        public void update(Clan clan) {\r\n            try (PreparedStatement preparedStatement =\r\n                         connection.prepareStatement(&quot;UPDATE clans SET clan_name =?, clan_gold=? WHERE clan_id=?&quot;)) {\r\n    \r\n                preparedStatement.setString(1, clan.getName());\r\n                preparedStatement.setInt(2, clan.getGold());\r\n                preparedStatement.setLong(3, clan.getId());\r\n    \r\n                preparedStatement.executeUpdate();\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd your `action` method like this:\r\n\r\n\r\n    public void action() {\r\n        try ( Connection connection = dataSource.getConnection()) {\r\n            ClanRepository clanRepository = new ClanRepository(connection);\r\n            Random random = new Random();\r\n            boolean result = random.nextBoolean();\r\n            Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\r\n            Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\r\n\r\n            if (result) {\r\n                currentClan.setGold(currentClan.getGold() + 100);\r\n                enemyClan.setGold(enemyClan.getGold() - 100);\r\n            } else {\r\n                currentClan.setGold(currentClan.getGold() - 100);\r\n                enemyClan.setGold(enemyClan.getGold() + 100);\r\n            }\r\n\r\n            clanRepository.update(currentClan);\r\n            clanRepository.update(enemyClan);\r\n            connection.commit();\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n","title":"JDBC and Multithreading. Incorrect data in Database","body":"<p>I agree with @StephenC about letting the database deal with locking. I would add that you can also use a connection pool (<code>DataSource</code>) to deal with contention on the database access.</p>\n<p>Your <code>ClanRepository</code> class would look like this:</p>\n<pre><code>public class ClanRepository implements TestTaskRepository&lt;Clan&gt; {\n    private ResultSetConverter resultSetConverter = new ResultSetConverter();\n    private final Connection connection;\n\n    public ClanRepository(Connection cnt) throws SQLException {\n        connection = cnt;\n    }\n\n    @Override\n    public Clan findById(Long id) {\n        Clan clan = null;\n        try (PreparedStatement preparedStatement =\n                     connection.prepareStatement(&quot;SELECT * FROM clans WHERE clan_id=?&quot;)) {\n\n            preparedStatement.setLong(1, id);\n\n            ResultSet resultSet = preparedStatement.executeQuery();\n            resultSet.next();\n\n            clan = resultSetConverter.getClanFromResultSet(resultSet);\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return clan;\n    }\n\n    @Override\n    public void update(Clan clan) {\n        try (PreparedStatement preparedStatement =\n                     connection.prepareStatement(&quot;UPDATE clans SET clan_name =?, clan_gold=? WHERE clan_id=?&quot;)) {\n\n            preparedStatement.setString(1, clan.getName());\n            preparedStatement.setInt(2, clan.getGold());\n            preparedStatement.setLong(3, clan.getId());\n\n            preparedStatement.executeUpdate();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And your <code>action</code> method like this:</p>\n<pre><code>public void action() {\n    try ( Connection connection = dataSource.getConnection()) {\n        ClanRepository clanRepository = new ClanRepository(connection);\n        Random random = new Random();\n        boolean result = random.nextBoolean();\n        Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\n        Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\n\n        if (result) {\n            currentClan.setGold(currentClan.getGold() + 100);\n            enemyClan.setGold(enemyClan.getGold() - 100);\n        } else {\n            currentClan.setGold(currentClan.getGold() - 100);\n            enemyClan.setGold(enemyClan.getGold() + 100);\n        }\n\n        clanRepository.update(currentClan);\n        clanRepository.update(enemyClan);\n        connection.commit();\n    } catch (SQLException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666703664,"creation_date":1666698118,"question_id":74193522,"body_markdown":"For the first time I encountered such a task, to implement a multi-threaded application using a database but without high-level libraries like Hibernate. Only JDBC.\r\nThe essence of the game: there is a Clan object that enters into battle with other clans and, depending on the result, the state of its treasury changes. Along with this, the Event object is stored in the database, which stores information about who fought with whom, how it ended, etc.\r\nFirst, I implemented a clan repository:\r\n\r\n    public class ClanRepository implements TestTaskRepository&lt;Clan&gt; {\r\n        private static Connection connection = ConnectionManager.open();\r\n        private static ResultSetConverter resultSetConverter = new ResultSetConverter();\r\n        private static Lock lock = new ReentrantLock();\r\n    \r\n        @Override\r\n        public Clan findById(Long id) {\r\n            lock.lock();\r\n            try {\r\n                Clan clan = null;\r\n                try (PreparedStatement preparedStatement =\r\n                             connection.prepareStatement(&quot;SELECT * FROM clans WHERE clan_id=?&quot;)) {\r\n    \r\n                    preparedStatement.setLong(1, id);\r\n    \r\n                    ResultSet resultSet = preparedStatement.executeQuery();\r\n                    resultSet.next();\r\n    \r\n                    clan = resultSetConverter.getClanFromResultSet(resultSet);\r\n    \r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return clan;\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void update(Clan clan) {\r\n            lock.lock();\r\n            try (PreparedStatement preparedStatement =\r\n                         connection.prepareStatement(&quot;UPDATE clans SET clan_name =?, clan_gold=? WHERE clan_id=?&quot;)) {\r\n    \r\n                preparedStatement.setString(1, clan.getName());\r\n                preparedStatement.setInt(2, clan.getGold());\r\n                preparedStatement.setLong(3, clan.getId());\r\n    \r\n                preparedStatement.executeUpdate();\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n\r\nI set up a lock in the hope that this would change something and wrote a thread class in which the battle takes place:\r\n\r\n    @Override\r\n    public void run() {\r\n        Random random = new Random();\r\n        boolean result = random.nextBoolean();\r\n        Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\r\n        Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\r\n    \r\n        if (result) {\r\n            currentClan.setGold(currentClan.getGold + 100);\r\n            enemyClan.setGold(enemyClan.getGold - 100);\r\n        } else {\r\n            currentClan.setGold(currentClan.getGold - 100);\r\n            enemyClan.setGold(enemyClan.getGold + 100);\r\n        }\r\n    \r\n        clanRepository.update(currentClan);\r\n        clanRepository.update(enemyClan);\r\n    }\r\n\r\nAs long as there is only one thread, everything works fine. When a second thread is connected, the data in the database is not saved correctly.\r\nI decided that the point is that there is a time gap between receiving clans and saving them in a modified state. In this regard, I wrote the ActionServise class where I collected everything in one method and took the code of this method into lock(), unlock().\r\n\r\n    public void action() {\r\n            lock.lock();\r\n            try {\r\n            Random random = new Random();\r\n            boolean result = random.nextBoolean();\r\n            Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\r\n            Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\r\n    \r\n            if (result) {\r\n                currentClan.setGold(currentClan.getGold + 100);\r\n                enemyClan.setGold(enemyClan.getGold - 100);\r\n            } else {\r\n                currentClan.setGold(currentClan.getGold - 100);\r\n                enemyClan.setGold(enemyClan.getGold + 100);\r\n            }\r\n    \r\n            clanRepository.update(currentClan);\r\n            clanRepository.update(enemyClan);\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n\r\nIn the run() method, I left only the call to this action() method\r\nIt still saves incorrect data.\r\n\r\nAmong other things, even if this solution worked, it represents a point at which all threads will queue up and there will be no parallel battles (please correct if this is not true)\r\n\r\nThen I googled on the Internet that the problem is in the connection, in that it is one for all threads. I tried creating a connection for each thread and passing it along the chain to the repository itself. Did not help.\r\n\r\nConsidering the age of the technologies in question, I am sure that my problem has been solved a long time ago, Please tell me how this is done.","title":"JDBC and Multithreading. Incorrect data in Database","body":"<p>For the first time I encountered such a task, to implement a multi-threaded application using a database but without high-level libraries like Hibernate. Only JDBC.\nThe essence of the game: there is a Clan object that enters into battle with other clans and, depending on the result, the state of its treasury changes. Along with this, the Event object is stored in the database, which stores information about who fought with whom, how it ended, etc.\nFirst, I implemented a clan repository:</p>\n<pre><code>public class ClanRepository implements TestTaskRepository&lt;Clan&gt; {\n    private static Connection connection = ConnectionManager.open();\n    private static ResultSetConverter resultSetConverter = new ResultSetConverter();\n    private static Lock lock = new ReentrantLock();\n\n    @Override\n    public Clan findById(Long id) {\n        lock.lock();\n        try {\n            Clan clan = null;\n            try (PreparedStatement preparedStatement =\n                         connection.prepareStatement(&quot;SELECT * FROM clans WHERE clan_id=?&quot;)) {\n\n                preparedStatement.setLong(1, id);\n\n                ResultSet resultSet = preparedStatement.executeQuery();\n                resultSet.next();\n\n                clan = resultSetConverter.getClanFromResultSet(resultSet);\n\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return clan;\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    @Override\n    public void update(Clan clan) {\n        lock.lock();\n        try (PreparedStatement preparedStatement =\n                     connection.prepareStatement(&quot;UPDATE clans SET clan_name =?, clan_gold=? WHERE clan_id=?&quot;)) {\n\n            preparedStatement.setString(1, clan.getName());\n            preparedStatement.setInt(2, clan.getGold());\n            preparedStatement.setLong(3, clan.getId());\n\n            preparedStatement.executeUpdate();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n</code></pre>\n<p>I set up a lock in the hope that this would change something and wrote a thread class in which the battle takes place:</p>\n<pre><code>@Override\npublic void run() {\n    Random random = new Random();\n    boolean result = random.nextBoolean();\n    Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\n    Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\n\n    if (result) {\n        currentClan.setGold(currentClan.getGold + 100);\n        enemyClan.setGold(enemyClan.getGold - 100);\n    } else {\n        currentClan.setGold(currentClan.getGold - 100);\n        enemyClan.setGold(enemyClan.getGold + 100);\n    }\n\n    clanRepository.update(currentClan);\n    clanRepository.update(enemyClan);\n}\n</code></pre>\n<p>As long as there is only one thread, everything works fine. When a second thread is connected, the data in the database is not saved correctly.\nI decided that the point is that there is a time gap between receiving clans and saving them in a modified state. In this regard, I wrote the ActionServise class where I collected everything in one method and took the code of this method into lock(), unlock().</p>\n<pre><code>public void action() {\n        lock.lock();\n        try {\n        Random random = new Random();\n        boolean result = random.nextBoolean();\n        Clan currentClan = clanRepository.findById(CurrentUser.getClan().getId());\n        Clan enemyClan = clanRepository.findById(choiceOfEnemy().getClan().getId());\n\n        if (result) {\n            currentClan.setGold(currentClan.getGold + 100);\n            enemyClan.setGold(enemyClan.getGold - 100);\n        } else {\n            currentClan.setGold(currentClan.getGold - 100);\n            enemyClan.setGold(enemyClan.getGold + 100);\n        }\n\n        clanRepository.update(currentClan);\n        clanRepository.update(enemyClan);\n        } finally {\n            lock.unlock();\n        }\n</code></pre>\n<p>In the run() method, I left only the call to this action() method\nIt still saves incorrect data.</p>\n<p>Among other things, even if this solution worked, it represents a point at which all threads will queue up and there will be no parallel battles (please correct if this is not true)</p>\n<p>Then I googled on the Internet that the problem is in the connection, in that it is one for all threads. I tried creating a connection for each thread and passing it along the chain to the repository itself. Did not help.</p>\n<p>Considering the age of the technologies in question, I am sure that my problem has been solved a long time ago, Please tell me how this is done.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638672936,"creation_date":1638672936,"answer_id":70231147,"question_id":70231095,"body_markdown":"The data has not been committed to the database. You need to call commit() again to write it (I assume).\r\nAlso, sometimes JPA buffers data before issuing a batch of queries. If this is the case, it stands and waits for more data before being necessary to execute them in a burst. If you want to control the process, you can call `session.flush()` after the last call.","title":"object in persistent state don&#39;t saved to the database, but successfully loaded from it","body":"<p>The data has not been committed to the database. You need to call commit() again to write it (I assume).\nAlso, sometimes JPA buffers data before issuing a batch of queries. If this is the case, it stands and waits for more data before being necessary to execute them in a burst. If you want to control the process, you can call <code>session.flush()</code> after the last call.</p>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638673538,"creation_date":1638673538,"answer_id":70231183,"question_id":70231095,"body_markdown":"Your assumption in the question title that the data is loaded from the database is incorrect. The data is loaded from the current context that Hibernate is managing, meaning you’ll see the data as it is in memory, which doesn’t imply it has been committed or even updated in the database yet.","title":"object in persistent state don&#39;t saved to the database, but successfully loaded from it","body":"<p>Your assumption in the question title that the data is loaded from the database is incorrect. The data is loaded from the current context that Hibernate is managing, meaning you’ll see the data as it is in memory, which doesn’t imply it has been committed or even updated in the database yet.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666703508,"creation_date":1638678901,"answer_id":70231513,"question_id":70231095,"body_markdown":"Hibernate uses transactional write behind. The hibernate session stores update actions until something that causes a flush (like a commit) occurs, at which time the actions get executed, in whatever order Hibernate thinks makes the most sense (as opposed to the order in which they occur in your code), which causes  the  jdbc updates to process in the database. \r\n\r\nThe commit following setting the role name to role11 causes the updates to be flushed so the name is saved successfully.  Since you don&#39;t have a commit following the point where the role name changes to role111, nothing causes the update actions to be run. \r\n\r\nYou can change what prompts the updates to run by setting the flush mode. If you don&#39;t, the default for Hibernate is to flush on commit, unless Hibernate is being used as a JPA provider, in which case it also  flushes when a query is run. ","title":"object in persistent state don&#39;t saved to the database, but successfully loaded from it","body":"<p>Hibernate uses transactional write behind. The hibernate session stores update actions until something that causes a flush (like a commit) occurs, at which time the actions get executed, in whatever order Hibernate thinks makes the most sense (as opposed to the order in which they occur in your code), which causes  the  jdbc updates to process in the database.</p>\n<p>The commit following setting the role name to role11 causes the updates to be flushed so the name is saved successfully.  Since you don't have a commit following the point where the role name changes to role111, nothing causes the update actions to be run.</p>\n<p>You can change what prompts the updates to run by setting the flush mode. If you don't, the default for Hibernate is to flush on commit, unless Hibernate is being used as a JPA provider, in which case it also  flushes when a query is run.</p>\n"}],"owner":{"account_id":18211039,"reputation":1140,"user_id":13253563,"display_name":"Denys_newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70231513,"answer_count":3,"score":3,"last_activity_date":1666703508,"creation_date":1638671785,"question_id":70231095,"body_markdown":"My last line of code outputs &quot;role111&quot; (data fetched from database), but after code gets executed I have &quot;role11&quot; in database, so why I have &quot;role11&quot; but not &quot;role111&quot;? Before session get closed `role` are in the persistent state so it should be connected with row in database and be consistent with it. Maybe a persistent state applicable only inside transaction and last line of code prints role111 due to first level cache.\r\n```\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    public Role()\r\n    {\r\n    }\r\n    \r\n    public int getId()\r\n    {\r\n        return id;\r\n    }\r\n    \r\n    public void setId(int id)\r\n    {\r\n        this.id = id;\r\n    }\r\n    \r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n    \r\n    public void setName(String name)\r\n    {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n```\r\nRole role = new Role();\r\nrole.setId(1);\r\nrole.setName(&quot;role1&quot;);\r\n        \r\nSessionFactory sessionFactory = new Configuration().configure().addAnnotatedClass(Role.class).buildSessionFactory();\r\ntry (Session session = sessionFactory.openSession())\r\n{\r\n    session.beginTransaction();\r\n    session.save(role);\r\n    role.setName(&quot;role11&quot;);\r\n    System.out.println(session.get(Role.class, 1).getName()); // prints role11\r\n    session.getTransaction().commit();\r\n    role.setName(&quot;role111&quot;);\r\n    System.out.println(session.get(Role.class, 1).getName()); // prints role111\r\n}\r\n```\r\nHere is my database\r\n----------------\r\nid|    name| \r\n--|--------|----\r\n 1|  role11|","title":"object in persistent state don&#39;t saved to the database, but successfully loaded from it","body":"<p>My last line of code outputs &quot;role111&quot; (data fetched from database), but after code gets executed I have &quot;role11&quot; in database, so why I have &quot;role11&quot; but not &quot;role111&quot;? Before session get closed <code>role</code> are in the persistent state so it should be connected with row in database and be consistent with it. Maybe a persistent state applicable only inside transaction and last line of code prints role111 due to first level cache.</p>\n<pre><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    public Role()\n    {\n    }\n    \n    public int getId()\n    {\n        return id;\n    }\n    \n    public void setId(int id)\n    {\n        this.id = id;\n    }\n    \n    public String getName()\n    {\n        return name;\n    }\n    \n    public void setName(String name)\n    {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre><code>Role role = new Role();\nrole.setId(1);\nrole.setName(&quot;role1&quot;);\n        \nSessionFactory sessionFactory = new Configuration().configure().addAnnotatedClass(Role.class).buildSessionFactory();\ntry (Session session = sessionFactory.openSession())\n{\n    session.beginTransaction();\n    session.save(role);\n    role.setName(&quot;role11&quot;);\n    System.out.println(session.get(Role.class, 1).getName()); // prints role11\n    session.getTransaction().commit();\n    role.setName(&quot;role111&quot;);\n    System.out.println(session.get(Role.class, 1).getName()); // prints role111\n}\n</code></pre>\n<h2>Here is my database</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>role11</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","spring","spring-bean","junit5"],"comments":[{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1511722674,"post_id":47498089,"comment_id":81955075,"body_markdown":"spring version please","body":"spring version please"},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1511723231,"post_id":47498089,"comment_id":81955243,"body_markdown":"Well, if it&#39;s 4.3, look at this: https://github.com/sbrannen/spring-test-junit5","body":"Well, if it&#39;s 4.3, look at this: <a href=\"https://github.com/sbrannen/spring-test-junit5\" rel=\"nofollow noreferrer\">github.com/sbrannen/spring-test-junit5</a>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1511796118,"post_id":47498089,"comment_id":81984311,"body_markdown":"What does `AbstractContextTest` look like?","body":"What does <code>AbstractContextTest</code> look like?"}],"answers":[{"tags":[],"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1556651658,"creation_date":1514873136,"answer_id":48056243,"question_id":47498089,"body_markdown":"You should move every `bean`s to `@Configuration` class for example `TestConfig`:\r\n\r\n    @Configuration\r\n    public class TestConfig {\r\n    \r\n        @Bean(name = &quot;smth&quot;)\r\n        public static ConfigurationModelProvider get() {\r\n            return AnnotationConfigurationModelProvider.getInstance();\r\n        }\r\n    }\r\n\r\n and import it via `@Import`:\r\n\r\n    @Import({TestConfig.class})\r\n    @ContextConfiguration(classes = ConfigureCustomConfigurationModelProviderTest.class)\r\n    public class ConfigureCustomConfigurationModelProviderTest extends AbstractContextTest {\r\n    }\r\n","title":"Junit 5 test, getting java.lang.IllegalStateException: Test classes cannot include @Bean methods","body":"<p>You should move every <code>bean</code>s to <code>@Configuration</code> class for example <code>TestConfig</code>:</p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Bean(name = \"smth\")\n    public static ConfigurationModelProvider get() {\n        return AnnotationConfigurationModelProvider.getInstance();\n    }\n}\n</code></pre>\n\n<p>and import it via <code>@Import</code>:</p>\n\n<pre><code>@Import({TestConfig.class})\n@ContextConfiguration(classes = ConfigureCustomConfigurationModelProviderTest.class)\npublic class ConfigureCustomConfigurationModelProviderTest extends AbstractContextTest {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1562815,"reputation":46,"user_id":1452303,"display_name":"ferng001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703483,"creation_date":1666701003,"answer_id":74194097,"question_id":47498089,"body_markdown":"To add to Amir&#39;s answer: if you only need the bean for some tests you can omit the @Configuration annotation at the top.\r\n\r\n","title":"Junit 5 test, getting java.lang.IllegalStateException: Test classes cannot include @Bean methods","body":"<p>To add to Amir's answer: if you only need the bean for some tests you can omit the @Configuration annotation at the top.</p>\n"}],"owner":{"account_id":12353423,"reputation":81,"user_id":9010900,"display_name":"un1kalny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9261,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1666703483,"creation_date":1511712090,"question_id":47498089,"body_markdown":"    @ContextConfiguration(classes = ConfigureCustomConfigurationModelProviderTest.class)\r\n        public class ConfigureCustomConfigurationModelProviderTest extends AbstractContextTest {\r\n            @Bean(name = &quot;smth&quot;)\r\n            public static ConfigurationModelProvider get() {\r\n                return AnnotationConfigurationModelProvider.getInstance();\r\n            }\r\n            /*...*/\r\n        }\r\n\r\nI&#39;m getting this error since migrating from junit4 to junit5. Why?","title":"Junit 5 test, getting java.lang.IllegalStateException: Test classes cannot include @Bean methods","body":"<pre><code>@ContextConfiguration(classes = ConfigureCustomConfigurationModelProviderTest.class)\n    public class ConfigureCustomConfigurationModelProviderTest extends AbstractContextTest {\n        @Bean(name = \"smth\")\n        public static ConfigurationModelProvider get() {\n            return AnnotationConfigurationModelProvider.getInstance();\n        }\n        /*...*/\n    }\n</code></pre>\n\n<p>I'm getting this error since migrating from junit4 to junit5. Why?</p>\n"},{"tags":["java","servlets","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":19636407,"reputation":3,"user_id":14373599,"display_name":"Jckob21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666702895,"creation_date":1666702895,"answer_id":74194513,"question_id":74183480,"body_markdown":"Solved, the problem was not in the actual function, but rather the curl command. It included the &#39;&amp;&#39; sign which was breaking it.","title":"Why is QueryParameter not picked up?","body":"<p>Solved, the problem was not in the actual function, but rather the curl command. It included the '&amp;' sign which was breaking it.</p>\n"}],"owner":{"account_id":19636407,"reputation":3,"user_id":14373599,"display_name":"Jckob21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666702895,"creation_date":1666625455,"question_id":74183480,"body_markdown":"I am writing a plugin for Jenkins. It exposes an endpoint under yourjenkins.link/custom-api/. The method:\r\n```\r\n@GET\r\n@WebMethod(name = &quot;logs1&quot;)\r\npublic HttpResponse logs1(StaplerRequest req,\r\n                          @QueryParameter(required = true) String jobName,\r\n                          @QueryParameter(required = true) String buildNumberString) throws IOException {\r\n```\r\nis accessible under: yourjenkins.link/custom-api/logs1.\r\n\r\nThe problem is that when I try:\r\n`curl -H &quot;Blah: blah&quot; http://localhost:8080/jenkins/custom-api/logs1?jobName=test&amp;buildNumberString=48 -v`\r\nI get:\r\n```\r\njavax.servlet.ServletException: Required Query parameter buildNumberString is missing\r\n        at org.kohsuke.stapler.QueryParameter$HandlerImpl.parse(QueryParameter.java:71)\r\n```\r\n\r\nThe query parameter from org.kohsuke.stapler package seems to work only with one parameter. How can I use both parameters?\r\n\r\nPS: I don&#39;t want to get them from the request body as the method should be called only when the request type is GET.\r\n\r\n","title":"Why is QueryParameter not picked up?","body":"<p>I am writing a plugin for Jenkins. It exposes an endpoint under yourjenkins.link/custom-api/. The method:</p>\n<pre><code>@GET\n@WebMethod(name = &quot;logs1&quot;)\npublic HttpResponse logs1(StaplerRequest req,\n                          @QueryParameter(required = true) String jobName,\n                          @QueryParameter(required = true) String buildNumberString) throws IOException {\n</code></pre>\n<p>is accessible under: yourjenkins.link/custom-api/logs1.</p>\n<p>The problem is that when I try:\n<code>curl -H &quot;Blah: blah&quot; http://localhost:8080/jenkins/custom-api/logs1?jobName=test&amp;buildNumberString=48 -v</code>\nI get:</p>\n<pre><code>javax.servlet.ServletException: Required Query parameter buildNumberString is missing\n        at org.kohsuke.stapler.QueryParameter$HandlerImpl.parse(QueryParameter.java:71)\n</code></pre>\n<p>The query parameter from org.kohsuke.stapler package seems to work only with one parameter. How can I use both parameters?</p>\n<p>PS: I don't want to get them from the request body as the method should be called only when the request type is GET.</p>\n"},{"tags":["java","kafka-consumer-api","spring-cloud-stream","spring-cloud-stream-binder-kafka","confluent-control-center"],"owner":{"account_id":16362432,"reputation":155,"user_id":11817672,"display_name":"APK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666702673,"creation_date":1666702673,"question_id":74194472,"body_markdown":"I am using &quot;spring-cloud-stream-binder-kafka&quot; for my consumer, having AVRO topic. \r\nit&#39;s new consumer with new consumer group. After running the application I am getting this log &quot;**Found no committed offset for partition &#39;topic-name-x&#39;**&quot;. **I read that** **it is expected to get this log for new consumer groups but even after that it&#39;s not consuming any messages.** \r\n\r\nHaving below config for consumer:\r\n\r\n    spring:\r\n     cloud:\r\n      function:\r\n       definition: input\r\n     stream:\r\n      bindings:\r\n        input-in-0:\r\n          destination: topic-name\r\n          group: group-name\r\n      kafka:\r\n        binder:\r\n          autoCreateTopics: false\r\n          brokers: broker-server\r\n          configuration:\r\n            security.protocol: SSL\r\n            ssl.truststore.type: JKS\r\n            ssl.truststore.location: \r\n            ssl.truststore.password: \r\n            ssl.keystore.type: JKS\r\n            ssl.keystore.location: \r\n            ssl.keystore.password: \r\n            ssl.key.password: \r\n            request.timeout.ms:\r\n            max.request.size: \r\n          consumerProperties:\r\n            key.deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n            value.deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n            schema.registry.url: url\r\n            basic.auth.credentials.source: USER_INFO\r\n            basic.auth.user.info: ${AUTH_USER}:${AUTH_USER_PASS}\r\n            specific.avro.reader: true\r\n            spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\r\n            spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n        bindings:\r\n          input-in-0:\r\n            consumer:\r\n              autoCommitOffset: false\r\n          \r\n\r\n\r\nWhy it&#39;s not able to consumer the messages??? I tried setting `resetOffsets: true, startOffset: earliest`.  But still no luck.","title":"Continuously Getting &quot;Found no committed offset for partition &#39;topic-name-x&#39; &quot; for new consumer and consumer group","body":"<p>I am using &quot;spring-cloud-stream-binder-kafka&quot; for my consumer, having AVRO topic.\nit's new consumer with new consumer group. After running the application I am getting this log &quot;<strong>Found no committed offset for partition 'topic-name-x'</strong>&quot;. <strong>I read that</strong> <strong>it is expected to get this log for new consumer groups but even after that it's not consuming any messages.</strong></p>\n<p>Having below config for consumer:</p>\n<pre><code>spring:\n cloud:\n  function:\n   definition: input\n stream:\n  bindings:\n    input-in-0:\n      destination: topic-name\n      group: group-name\n  kafka:\n    binder:\n      autoCreateTopics: false\n      brokers: broker-server\n      configuration:\n        security.protocol: SSL\n        ssl.truststore.type: JKS\n        ssl.truststore.location: \n        ssl.truststore.password: \n        ssl.keystore.type: JKS\n        ssl.keystore.location: \n        ssl.keystore.password: \n        ssl.key.password: \n        request.timeout.ms:\n        max.request.size: \n      consumerProperties:\n        key.deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n        value.deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n        schema.registry.url: url\n        basic.auth.credentials.source: USER_INFO\n        basic.auth.user.info: ${AUTH_USER}:${AUTH_USER_PASS}\n        specific.avro.reader: true\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\n        spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\n    bindings:\n      input-in-0:\n        consumer:\n          autoCommitOffset: false\n      \n</code></pre>\n<p>Why it's not able to consumer the messages??? I tried setting <code>resetOffsets: true, startOffset: earliest</code>.  But still no luck.</p>\n"},{"tags":["java","jakarta-ee","junit","mockito"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1666693533,"post_id":74192436,"comment_id":130992475,"body_markdown":"I&#39;m able to mock an abstract method of an abstract class. mockito-core 4.0.0","body":"I&#39;m able to mock an abstract method of an abstract class. mockito-core 4.0.0"},{"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"score":0,"creation_date":1666694368,"post_id":74192436,"comment_id":130992736,"body_markdown":"how do you mock that method? could you provide a code example? I cannot find an example where an abstract method is mocked","body":"how do you mock that method? could you provide a code example? I cannot find an example where an abstract method is mocked"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666700397,"creation_date":1666700285,"answer_id":74193959,"question_id":74192436,"body_markdown":"You can use answer parameter of `Mock` annotation &amp; call your test method somewhat similar to below. \r\n\r\nI am using AbstractList &amp; its get method to demonstrate calling abstract method of abstract class . \r\n\r\n\r\n    @Mock(answer = Answers.CALLS_REAL_METHODS)\r\n    AbstractList&lt;String&gt; ls;\r\n    \r\n    @Test\r\n    void testing() {\r\n       when(ls.get(0)).thenReturn(&quot;AA&quot;);\r\n       System.out.println(ls.get(0)); // prints &quot;AA&quot;    \r\n    }\r\n\r\n\r\nHope this helps.","title":"How to mock an abstract class with abstract methods using Mockito?","body":"<p>You can use answer parameter of <code>Mock</code> annotation &amp; call your test method somewhat similar to below.</p>\n<p>I am using AbstractList &amp; its get method to demonstrate calling abstract method of abstract class .</p>\n<pre><code>@Mock(answer = Answers.CALLS_REAL_METHODS)\nAbstractList&lt;String&gt; ls;\n\n@Test\nvoid testing() {\n   when(ls.get(0)).thenReturn(&quot;AA&quot;);\n   System.out.println(ls.get(0)); // prints &quot;AA&quot;    \n}\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666702564,"creation_date":1666702564,"answer_id":74194446,"question_id":74192436,"body_markdown":"Add to the dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWithout it you are right Mokito is not able to mock the method.\r\n```\r\n@Test\r\npublic void test() {\r\n    jakarta.ws.rs.core.Response response = mock(jakarta.ws.rs.core.Response.class);\r\n    when(response.getStatusInfo()).thenReturn(jakarta.ws.rs.core.Response.Status.OK);\r\n    assertEquals(jakarta.ws.rs.core.Response.Status.OK, response.getStatusInfo());\r\n}\r\n```\r\n&gt;Caused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.adapters.XmlAdapter\r\n&gt;\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n&gt;\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 132 more","title":"How to mock an abstract class with abstract methods using Mockito?","body":"<p>Add to the dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Without it you are right Mokito is not able to mock the method.</p>\n<pre><code>@Test\npublic void test() {\n    jakarta.ws.rs.core.Response response = mock(jakarta.ws.rs.core.Response.class);\n    when(response.getStatusInfo()).thenReturn(jakarta.ws.rs.core.Response.Status.OK);\n    assertEquals(jakarta.ws.rs.core.Response.Status.OK, response.getStatusInfo());\n}\n</code></pre>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.adapters.XmlAdapter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 132 more</p>\n</blockquote>\n"}],"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74194446,"answer_count":2,"score":1,"last_activity_date":1666702564,"creation_date":1666692633,"question_id":74192436,"body_markdown":"I am currently trying to mock jakarta.ws.rs.core.Response.\r\n\r\n    @Mock\r\n    private Response response;\r\n\r\nwhich is used in my test as\r\n\r\n    when(response.getStatusInfo()).thenReturn(Response.Status.OK);\r\n\r\nHowever, upon executing I get the following error message: `Mockito cannot mock this class: cla...`\r\n\r\nUpon further research, I came across an article from [Baeldung][1]. However, the article does not cover my use case where both the class and the method are abstract. How would I proceed? Do I need to create an implementation of the to-be-tested method?\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-test-abstract-class","title":"How to mock an abstract class with abstract methods using Mockito?","body":"<p>I am currently trying to mock jakarta.ws.rs.core.Response.</p>\n<pre><code>@Mock\nprivate Response response;\n</code></pre>\n<p>which is used in my test as</p>\n<pre><code>when(response.getStatusInfo()).thenReturn(Response.Status.OK);\n</code></pre>\n<p>However, upon executing I get the following error message: <code>Mockito cannot mock this class: cla...</code></p>\n<p>Upon further research, I came across an article from <a href=\"https://www.baeldung.com/junit-test-abstract-class\" rel=\"nofollow noreferrer\">Baeldung</a>. However, the article does not cover my use case where both the class and the method are abstract. How would I proceed? Do I need to create an implementation of the to-be-tested method?</p>\n"},{"tags":["java","scala","orm","sqlalchemy","relational-database"],"answers":[{"tags":[],"owner":{"account_id":440273,"reputation":3102,"user_id":829752,"display_name":"Dave Whittaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666702521,"creation_date":1336669064,"answer_id":10538832,"question_id":10537766,"body_markdown":"[Squeryl][1] provides composability similar to what they talk about in &quot;SQLALCHEMY&#39;S PHILOSOPHY&quot; on the libraries home page.  You can query a query.\r\n\r\n    val query = from(table)(t =&gt; where(t.a === 1) select(t))\r\n    val composed = from(query)(q =&gt; where(q.b === 2) select(q))\r\n\r\nIt also shares a good portion of the design philosophy, primarily that when things get complicated the library should &quot;get out of the way&quot; and allow the developer to tune things themselves.  While Squeryl does object mapping, I consider it more of a DSL than an ORM.\r\n\r\nSome of the features it doesn&#39;t share from a quick glance at the SQLAlchemy feature list:\r\n\r\n 1. Ability to use raw SQL - it&#39;s difficult to find anything in standard ANSI SQL that can&#39;t be expressed though.\r\n 2. Inheritance mapping - some personal opinion here, but I think that when a library does this it often violates the &quot;get out of the way&quot; tenet.\r\n\r\nOf course, Squeryl also offers what I consider a major feature that a Python library can&#39;t, which is compiler checked type safety of your queries.\r\n\r\n\r\n  [1]: https://www.squeryl.org/","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<p><a href=\"https://www.squeryl.org/\" rel=\"nofollow noreferrer\">Squeryl</a> provides composability similar to what they talk about in &quot;SQLALCHEMY'S PHILOSOPHY&quot; on the libraries home page.  You can query a query.</p>\n<pre><code>val query = from(table)(t =&gt; where(t.a === 1) select(t))\nval composed = from(query)(q =&gt; where(q.b === 2) select(q))\n</code></pre>\n<p>It also shares a good portion of the design philosophy, primarily that when things get complicated the library should &quot;get out of the way&quot; and allow the developer to tune things themselves.  While Squeryl does object mapping, I consider it more of a DSL than an ORM.</p>\n<p>Some of the features it doesn't share from a quick glance at the SQLAlchemy feature list:</p>\n<ol>\n<li>Ability to use raw SQL - it's difficult to find anything in standard ANSI SQL that can't be expressed though.</li>\n<li>Inheritance mapping - some personal opinion here, but I think that when a library does this it often violates the &quot;get out of the way&quot; tenet.</li>\n</ol>\n<p>Of course, Squeryl also offers what I consider a major feature that a Python library can't, which is compiler checked type safety of your queries.</p>\n"},{"tags":[],"owner":{"account_id":62578,"reputation":11137,"user_id":185840,"accept_rate":80,"display_name":"virtualeyes"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413572969,"creation_date":1336685989,"answer_id":10542536,"question_id":10537766,"body_markdown":"[ScalaQuery][1] (see the note about &quot;slick&quot; at the bottom) can do the simple:\r\n\r\n    for{\r\n      a &lt;- Article\r\n      if a.dateCreated between(start, end)\r\n      _ &lt;- Query groupBy a.reporterID orderBy a.dateCreated.desc\r\n    } yield(a)\r\n\r\nor the arbitrarily complex via composition:\r\n\r\n    val team = for{\r\n      t &lt;- Team\r\n      s &lt;- School if t.schoolID is s.id \r\n    } yield (t,s)\r\n        \r\n    val player = for{\r\n      r &lt;- Roster\r\n      p &lt;- Player if r.playerID is p.id\r\n    } yield (r, p)\r\n    \r\n    val playerDetail = for{\r\n      (r, p) &lt;- player\r\n    } yield (p.id, p.firstName, p.lastName, r.jerseyID, r.position, r.gamesPlayed)\r\n        \r\n    val scoring = for{\r\n      (r, p) &lt;- player\r\n      s &lt;- Scoring if p.id is s.playerID\r\n      detail &lt;- playerDetail \r\n    } yield (r, p, s, detail)\r\n    \r\n    val scoringDetail = for{\r\n      (r, p, s, detail) &lt;- scoring\r\n      val (total, goals, assists) = \r\n        (s.playerID.count, s.goal.sum, (s.assist1.sum + s.assist2.sum))\r\n      val ppg = (s.playerID.count / r.gamesPlayed)\r\n    } yield (goals, assists, total, ppg)\r\n\r\n\r\nHere&#39;s how to get team stats (could modify for league or single player view):  \r\n\r\n    \r\n    val forScoring = for{\r\n      start ~ end ~ teamID &lt;- Parameters[JodaTime,JodaTime,Int]\r\n      (r,p,s,player) &lt;- scoring if r.teamID is teamID\r\n      comp &lt;- bindDate(start, end) if s.gameID is comp.id\r\n      (goals, assists, total, ppg) &lt;- scoringDetail\r\n      _ &lt;- Query groupBy p.id orderBy ( ppg.desc, total.asc, goals.desc )\r\n    } yield (player, goals, assists, total, ppg)\r\n\r\n    def getScoring(start: JodaTime, end: JodaTime, id: Int): List[TeamScoring] = {\r\n      forScoring(start, end, id).list\r\n    }\r\n\r\nI did not think it would be possible to generate strongly typed complex queries in Scala, and had resigned myself to just porting around tried &amp; true hand written SQL; that is, until I came across ScalaQuery, which has been a revelation, much like the Scala language itself.\r\n\r\nAnyway, you have options, Squeryl may be more in-line with SQL Alchemy, don&#39;t know, explore a bit, you&#39;ll likely not be disappointed, there is so much Scala goodness on offer, it&#39;s hard not to feel giddy in the here, now, and after ;-)\r\n\r\np.s. [a great talk by Zeiger and Vogt][2] at Scala Days Skills Matters on [SLICK][3], the next evolution of ScalaQuery\r\n\r\n\r\n  [1]: https://github.com/szeiger/scala-query\r\n  [2]: http://skillsmatter.com/podcast/scala/scala-language-integrated-connection-kit\r\n  [3]: http://slick.typesafe.com","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<p><a href=\"https://github.com/szeiger/scala-query\" rel=\"nofollow\">ScalaQuery</a> (see the note about \"slick\" at the bottom) can do the simple:</p>\n\n<pre><code>for{\n  a &lt;- Article\n  if a.dateCreated between(start, end)\n  _ &lt;- Query groupBy a.reporterID orderBy a.dateCreated.desc\n} yield(a)\n</code></pre>\n\n<p>or the arbitrarily complex via composition:</p>\n\n<pre><code>val team = for{\n  t &lt;- Team\n  s &lt;- School if t.schoolID is s.id \n} yield (t,s)\n\nval player = for{\n  r &lt;- Roster\n  p &lt;- Player if r.playerID is p.id\n} yield (r, p)\n\nval playerDetail = for{\n  (r, p) &lt;- player\n} yield (p.id, p.firstName, p.lastName, r.jerseyID, r.position, r.gamesPlayed)\n\nval scoring = for{\n  (r, p) &lt;- player\n  s &lt;- Scoring if p.id is s.playerID\n  detail &lt;- playerDetail \n} yield (r, p, s, detail)\n\nval scoringDetail = for{\n  (r, p, s, detail) &lt;- scoring\n  val (total, goals, assists) = \n    (s.playerID.count, s.goal.sum, (s.assist1.sum + s.assist2.sum))\n  val ppg = (s.playerID.count / r.gamesPlayed)\n} yield (goals, assists, total, ppg)\n</code></pre>\n\n<p>Here's how to get team stats (could modify for league or single player view):  </p>\n\n<pre><code>val forScoring = for{\n  start ~ end ~ teamID &lt;- Parameters[JodaTime,JodaTime,Int]\n  (r,p,s,player) &lt;- scoring if r.teamID is teamID\n  comp &lt;- bindDate(start, end) if s.gameID is comp.id\n  (goals, assists, total, ppg) &lt;- scoringDetail\n  _ &lt;- Query groupBy p.id orderBy ( ppg.desc, total.asc, goals.desc )\n} yield (player, goals, assists, total, ppg)\n\ndef getScoring(start: JodaTime, end: JodaTime, id: Int): List[TeamScoring] = {\n  forScoring(start, end, id).list\n}\n</code></pre>\n\n<p>I did not think it would be possible to generate strongly typed complex queries in Scala, and had resigned myself to just porting around tried &amp; true hand written SQL; that is, until I came across ScalaQuery, which has been a revelation, much like the Scala language itself.</p>\n\n<p>Anyway, you have options, Squeryl may be more in-line with SQL Alchemy, don't know, explore a bit, you'll likely not be disappointed, there is so much Scala goodness on offer, it's hard not to feel giddy in the here, now, and after ;-)</p>\n\n<p>p.s. <a href=\"http://skillsmatter.com/podcast/scala/scala-language-integrated-connection-kit\" rel=\"nofollow\">a great talk by Zeiger and Vogt</a> at Scala Days Skills Matters on <a href=\"http://slick.typesafe.com\" rel=\"nofollow\">SLICK</a>, the next evolution of ScalaQuery</p>\n"},{"tags":[],"owner":{"account_id":7354,"reputation":672,"user_id":12754,"display_name":"Dhananjay Nene"},"comment_count":0,"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1345101067,"creation_date":1345100657,"answer_id":11982229,"question_id":10537766,"body_markdown":"One of the notable things about SQLAlchemy is that it makes tables first class objects. Thus the core API is really written around table objects, and the API therefore is essentially relational in nature. Thus at this level even if the API is OO, it is essentially reflecting RDBMS objects or functions such as Tables, Columns, Relationships, Joins, Aliases etc. At this level SQLAlchemy gives you essentially a OOSQL where SQL and Relational Databases are not given the second class treatment. Its also at this that SQLAlchemy really shines since this level of abstraction gives you an ability to step down to a bit of a &quot;raw&quot; relational level and thus gain enormous amounts of flexibility which I really haven&#39;t seen any other ORM offer. Interestingly some of the underlying capabilities that are required to model class inheritance in ORMs are implemented at this layer eg. Joined Table Inheritance http://docs.sqlalchemy.org/en/rel_0_7/orm/inheritance.html#joined-table-inheritance\r\n\r\nThe API that is more often used (at least lately) is the declarative API which is really a lot more OO and maps objects in the business domain to the objects I referred to above (in most cases transparently). Here&#39;s where the ORM functionality comes in and the API is a little bit more similar to other ORM APIs where one works with domain objects and these actions get translated into the underlying table actions directly. \r\n\r\nTo the best of my awareness, ORMs in Scala are still playing catch-up to what is easily available in Java (eg. inheritance) even as they offer other capabilities (eg. type safety, LINQ like constructs), even as they struggle with some serious issues like 22 column limitations. (I&#39;ve read comments where few have wondered why anyone would need more than 22 columns, and at least in my experience there are situations I wouldn&#39;t call rare, where one needs a multiple of that).\r\n\r\nORMs in scala (even as they take on a different flavour from Java) I think are still catching up to whats required. With respect to SQLAlchemy, is there a close enough equivalent to it I&#39;ve seen in Java or Scala? I haven&#39;t seen any.\r\n\r\nEDIT: One thing I forgot to add, is that even if one uses the declarative API, SQLAlchemy still gives you direct access to the underlying objects. So if &quot;class Foo&quot; is mapped declaratively, Foo.\\_\\_table\\_\\_ is the table object that you can directly use if you so desire.\r\n","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<p>One of the notable things about SQLAlchemy is that it makes tables first class objects. Thus the core API is really written around table objects, and the API therefore is essentially relational in nature. Thus at this level even if the API is OO, it is essentially reflecting RDBMS objects or functions such as Tables, Columns, Relationships, Joins, Aliases etc. At this level SQLAlchemy gives you essentially a OOSQL where SQL and Relational Databases are not given the second class treatment. Its also at this that SQLAlchemy really shines since this level of abstraction gives you an ability to step down to a bit of a \"raw\" relational level and thus gain enormous amounts of flexibility which I really haven't seen any other ORM offer. Interestingly some of the underlying capabilities that are required to model class inheritance in ORMs are implemented at this layer eg. Joined Table Inheritance <a href=\"http://docs.sqlalchemy.org/en/rel_0_7/orm/inheritance.html#joined-table-inheritance\">http://docs.sqlalchemy.org/en/rel_0_7/orm/inheritance.html#joined-table-inheritance</a></p>\n\n<p>The API that is more often used (at least lately) is the declarative API which is really a lot more OO and maps objects in the business domain to the objects I referred to above (in most cases transparently). Here's where the ORM functionality comes in and the API is a little bit more similar to other ORM APIs where one works with domain objects and these actions get translated into the underlying table actions directly. </p>\n\n<p>To the best of my awareness, ORMs in Scala are still playing catch-up to what is easily available in Java (eg. inheritance) even as they offer other capabilities (eg. type safety, LINQ like constructs), even as they struggle with some serious issues like 22 column limitations. (I've read comments where few have wondered why anyone would need more than 22 columns, and at least in my experience there are situations I wouldn't call rare, where one needs a multiple of that).</p>\n\n<p>ORMs in scala (even as they take on a different flavour from Java) I think are still catching up to whats required. With respect to SQLAlchemy, is there a close enough equivalent to it I've seen in Java or Scala? I haven't seen any.</p>\n\n<p>EDIT: One thing I forgot to add, is that even if one uses the declarative API, SQLAlchemy still gives you direct access to the underlying objects. So if \"class Foo\" is mapped declaratively, Foo.__table__ is the table object that you can directly use if you so desire.</p>\n"},{"tags":[],"owner":{"account_id":31680,"reputation":14621,"user_id":87191,"accept_rate":70,"display_name":"simao"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345123818,"creation_date":1345123818,"answer_id":11988260,"question_id":10537766,"body_markdown":"You can also use [Slick][1] which was recently added to the typesafe stack.\r\n\r\n[1]: http://slick.typesafe.com/","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<p>You can also use <a href=\"http://slick.typesafe.com/\">Slick</a> which was recently added to the typesafe stack.</p>\n"},{"comments":[{"owner":{"account_id":82818,"reputation":58393,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"score":0,"creation_date":1438142255,"post_id":19786663,"comment_id":51323258,"body_markdown":"https://en.wikipedia.org/wiki/Active_record_pattern - The pattern was originally by Martin Fowler, in case you&#39;re interested in further reading about it.","body":"<a href=\"https://en.wikipedia.org/wiki/Active_record_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Active_record_pattern</a> - The pattern was originally by Martin Fowler, in case you&#39;re interested in further reading about it."}],"tags":[],"owner":{"account_id":116948,"reputation":25757,"user_id":306478,"accept_rate":57,"display_name":"Bijan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609941013,"creation_date":1383647007,"answer_id":19786663,"question_id":10537766,"body_markdown":"ActiveJDBC\r\n----------\r\n\r\nIt&#39;s a Java implementation of the &quot;Active Record&quot; design pattern. It was inspired by ActiveRecord ORM from Ruby on Rails. It might fit your need.\r\n\r\nhttps://javalite.io/activejdbc\r\n\r\nor \r\n\r\nJDBI\r\n----\r\nA SQL convenience library for Java. It attempts to expose relational database access in idiommatic Java, using collections, beans, and so on, while maintaining the same level of detail as JDBC.\r\n\r\nhttp://jdbi.org","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<h2>ActiveJDBC</h2>\n<p>It's a Java implementation of the &quot;Active Record&quot; design pattern. It was inspired by ActiveRecord ORM from Ruby on Rails. It might fit your need.</p>\n<p><a href=\"https://javalite.io/activejdbc\" rel=\"nofollow noreferrer\">https://javalite.io/activejdbc</a></p>\n<p>or</p>\n<h2>JDBI</h2>\n<p>A SQL convenience library for Java. It attempts to expose relational database access in idiommatic Java, using collections, beans, and so on, while maintaining the same level of detail as JDBC.</p>\n<p><a href=\"http://jdbi.org\" rel=\"nofollow noreferrer\">http://jdbi.org</a></p>\n"}],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13041,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"closed_date":1579613467,"accepted_answer_id":11982229,"answer_count":5,"score":31,"last_activity_date":1666702521,"creation_date":1336665158,"question_id":10537766,"body_markdown":"As someone unfamiliar with Python, I&#39;ve often heard a lot of praise for SQLAlchemy. So I&#39;d like to understand: \r\n\r\n1. What does it offer compared to &quot;type-safe SQL builders&quot; like [jOOQ][1] or [QueryDSL][2]? \r\n\r\n2. Are there closer equivalents to it in Java (or Scala) world? I&#39;ve seen [Apache Empire-DB][3] mentioned in this respect...\r\n\r\n\r\n  [1]: http://www.jooq.org\r\n  [2]: http://www.querydsl.com\r\n  [3]: http://empire-db.apache.org","title":"Closest equivalent to SQLAlchemy for Java/Scala","body":"<p>As someone unfamiliar with Python, I've often heard a lot of praise for SQLAlchemy. So I'd like to understand: </p>\n\n<ol>\n<li><p>What does it offer compared to \"type-safe SQL builders\" like <a href=\"http://www.jooq.org\" rel=\"noreferrer\">jOOQ</a> or <a href=\"http://www.querydsl.com\" rel=\"noreferrer\">QueryDSL</a>? </p></li>\n<li><p>Are there closer equivalents to it in Java (or Scala) world? I've seen <a href=\"http://empire-db.apache.org\" rel=\"noreferrer\">Apache Empire-DB</a> mentioned in this respect...</p></li>\n</ol>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1653053659,"post_id":72318591,"comment_id":127763744,"body_markdown":"`@Когда(&quot;тесткафка&quot;)` - :smile:. Please, share more stack trace to determine what exactly field it fails on. Also would be great to have a link for &quot;baeldung guide&quot; for the whole picture of your environment.","body":"<code>@Когда(&quot;тесткафка&quot;)</code> - :smile:. Please, share more stack trace to determine what exactly field it fails on. Also would be great to have a link for &quot;baeldung guide&quot; for the whole picture of your environment."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653074330,"post_id":72318591,"comment_id":127771042,"body_markdown":"`spring.kafka.bootstrap-servers` should be the proper config value, by the way, as per the spring-kafka documentation","body":"<code>spring.kafka.bootstrap-servers</code> should be the proper config value, by the way, as per the spring-kafka documentation"}],"answers":[{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666701999,"creation_date":1666693882,"answer_id":74192672,"question_id":72318591,"body_markdown":"In my case this problem occurred when I upgrade Spring version and spring-kafka was incompatible. Try to &lt;b&gt;upgrade your kafka version &lt;/b&gt; to newer one.\r\n\r\n        &lt;!-- Kafka --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nmvn repo : https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka\r\n\r\nKafka versions : \r\nhttps://spring.io/projects/spring-kafka","title":"Why Kafka Producer call Failed to introspect Class","body":"<p>In my case this problem occurred when I upgrade Spring version and spring-kafka was incompatible. Try to <b>upgrade your kafka version </b> to newer one.</p>\n<pre><code>    &lt;!-- Kafka --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>mvn repo : <a href=\"https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka</a></p>\n<p>Kafka versions :\n<a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka</a></p>\n"}],"owner":{"account_id":11536567,"reputation":11,"user_id":8568771,"display_name":"Gobb gobb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666701999,"creation_date":1653048044,"question_id":72318591,"body_markdown":"I haven&#39;t enough expirience in Java and, especially in Kafka.\r\nI tried to use a baeldung guide and this what i have now as a Config:\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n\r\n     @Value(value = &quot;${kafka.boostrapAddress}&quot;)\r\n     private String bootstrapAddress;\r\n\r\n     @Bean\r\n     public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n     }\r\n\r\n     @Bean\r\n     public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n         Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n         configProps.put(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                bootstrapAddress);\r\n         configProps.put(\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n         configProps.put(\r\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n         return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n     }\r\n    }\r\n\r\nAnd what I have in Util class for my autotests:\r\n\r\n    @Component\r\n    public class KafkaUtil {\r\n\r\n     @Autowired\r\n     private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n     public void sendMessage(String topicName, String msg) {\r\n        kafkaTemplate.send(topicName, msg);\r\n     } \r\n\r\nAnd now my tests:\r\n\r\n    @SpringBootTest(classes = CucumberSpringConfig.class)\r\n\r\n    public class ByKafka {\r\n     private KafkaUtil kafkaUtil;\r\n\r\n     private static final String topicName = &quot;mytopic&quot;;\r\n\r\n     @Autowired\r\n     public ByKafka(KafkaUtil kafkaUtil) {\r\n        this.kafkaUtil = kafkaUtil;\r\n     }\r\n\r\n     @Когда(&quot;тесткафка&quot;)\r\n     public void sendTestMessage() {\r\n        kafkaUtil.sendMessage(topicName, &quot;hello&quot;);\r\n     }\r\n}\r\n\r\nWhen I tried to run this test, i give next error:\r\n\r\n&gt; java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2437c6dc]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:737) ~[spring-core-5.3.2.jar:5.3.2]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:702) ~[spring-core-5.3.2.jar:5.3.2]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:687) ~[spring-core-5.3.2.jar:5.3.2]\r\n\tat... \r\n","title":"Why Kafka Producer call Failed to introspect Class","body":"<p>I haven't enough expirience in Java and, especially in Kafka.\nI tried to use a baeldung guide and this what i have now as a Config:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n @Value(value = &quot;${kafka.boostrapAddress}&quot;)\n private String bootstrapAddress;\n\n @Bean\n public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n }\n\n @Bean\n public ProducerFactory&lt;String, String&gt; producerFactory() {\n     Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n     configProps.put(\n            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n            bootstrapAddress);\n     configProps.put(\n            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n            StringSerializer.class);\n     configProps.put(\n            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n            StringSerializer.class);\n     return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n }\n}\n</code></pre>\n<p>And what I have in Util class for my autotests:</p>\n<pre><code>@Component\npublic class KafkaUtil {\n\n @Autowired\n private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n public void sendMessage(String topicName, String msg) {\n    kafkaTemplate.send(topicName, msg);\n } \n</code></pre>\n<p>And now my tests:</p>\n<pre><code>@SpringBootTest(classes = CucumberSpringConfig.class)\n\npublic class ByKafka {\n private KafkaUtil kafkaUtil;\n\n private static final String topicName = &quot;mytopic&quot;;\n\n @Autowired\n public ByKafka(KafkaUtil kafkaUtil) {\n    this.kafkaUtil = kafkaUtil;\n }\n\n @Когда(&quot;тесткафка&quot;)\n public void sendTestMessage() {\n    kafkaUtil.sendMessage(topicName, &quot;hello&quot;);\n }\n</code></pre>\n<p>}</p>\n<p>When I tried to run this test, i give next error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2437c6dc]\nat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:737) ~[spring-core-5.3.2.jar:5.3.2]\nat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:702) ~[spring-core-5.3.2.jar:5.3.2]\nat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:687) ~[spring-core-5.3.2.jar:5.3.2]\nat...</p>\n</blockquote>\n"},{"tags":["java","android","google-photos"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666553833,"post_id":74174189,"comment_id":130959551,"body_markdown":"&quot;It&#39;s possible Google Photos has some silent limit on the number of images that can be returned via the chooser&quot; -- my guess is that it&#39;s a bug in the Google Photos app.","body":"&quot;It&#39;s possible Google Photos has some silent limit on the number of images that can be returned via the chooser&quot; -- my guess is that it&#39;s a bug in the Google Photos app."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666554396,"post_id":74174189,"comment_id":130959635,"body_markdown":"`Selecting 73 or fewer images returns successfully (after downloading the necessary images) ` What do you mean? What should be downloaded? If the user selects that much images you get that much urls in clipdata of onactivity result. There is no download. Images necessary? For what?","body":"<code>Selecting 73 or fewer images returns successfully (after downloading the necessary images) </code> What do you mean? What should be downloaded? If the user selects that much images you get that much urls in clipdata of onactivity result. There is no download. Images necessary? For what?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666593288,"post_id":74174189,"comment_id":130965086,"body_markdown":"Did you try devices with different Android versions?","body":"Did you try devices with different Android versions?"},{"owner":{"account_id":75115,"reputation":33,"user_id":215551,"display_name":"cedarrapidsboy"},"score":0,"creation_date":1666638781,"post_id":74174189,"comment_id":130980333,"body_markdown":"@blackapps, how Google Photos works in this chooser is that when you select one or more images and press &quot;Done&quot;, it pops-up a progress bar showing status of downloading the selections before returning to the calling app. If my selection is 74+ items, the progress bar doesn&#39;t show and control is returned to my app with nothing to process.","body":"@blackapps, how Google Photos works in this chooser is that when you select one or more images and press &quot;Done&quot;, it pops-up a progress bar showing status of downloading the selections before returning to the calling app. If my selection is 74+ items, the progress bar doesn&#39;t show and control is returned to my app with nothing to process."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666638874,"post_id":74174189,"comment_id":130980365,"body_markdown":"Where does it download from if the selected images are on your device? And where does it download to before returning?","body":"Where does it download from if the selected images are on your device? And where does it download to before returning?"},{"owner":{"account_id":75115,"reputation":33,"user_id":215551,"display_name":"cedarrapidsboy"},"score":0,"creation_date":1666639936,"post_id":74174189,"comment_id":130980718,"body_markdown":"@blackapps , I can reproduce the issue on a Pixel 6a running Android 13 and an emulator running Android 12.\nThe downloading step seems to be internal to Google Photos. I assume it is downloading the images to a local cache before presenting them to the calling app. The same downloading progress bar appears when ***sharing*** multiple photos from Google Photos to my app. For instance, if I select 200 images, and then share them, Google Photos will first pre-download them before I can select my app in the share menu.","body":"@blackapps , I can reproduce the issue on a Pixel 6a running Android 13 and an emulator running Android 12. The downloading step seems to be internal to Google Photos. I assume it is downloading the images to a local cache before presenting them to the calling app. The same downloading progress bar appears when <b><i>sharing</i></b> multiple photos from Google Photos to my app. For instance, if I select 200 images, and then share them, Google Photos will first pre-download them before I can select my app in the share menu."},{"owner":{"account_id":75115,"reputation":33,"user_id":215551,"display_name":"cedarrapidsboy"},"score":0,"creation_date":1666640389,"post_id":74174189,"comment_id":130980839,"body_markdown":"Re: &quot;Where does it download from if the selected images are on your device?&quot; -- also want to clarify that this same behavior occurs whether or not the Google Photos images have already been _cached_ on the device. With 73 images, if they have already previously been selected (e.g., I&#39;ve tried this before), the progress bar still appears that says &quot;downloading n of 73&quot;, but it goes **really** fast. It goes slower if the files had never been tried before. At 74 images, the progress bar just doesn&#39;t happen and returns to the app with a null data set.","body":"Re: &quot;Where does it download from if the selected images are on your device?&quot; -- also want to clarify that this same behavior occurs whether or not the Google Photos images have already been <i>cached</i> on the device. With 73 images, if they have already previously been selected (e.g., I&#39;ve tried this before), the progress bar still appears that says &quot;downloading n of 73&quot;, but it goes <b>really</b> fast. It goes slower if the files had never been tried before. At 74 images, the progress bar just doesn&#39;t happen and returns to the app with a null data set."},{"owner":{"account_id":75115,"reputation":33,"user_id":215551,"display_name":"cedarrapidsboy"},"score":0,"creation_date":1666647975,"post_id":74174189,"comment_id":130982943,"body_markdown":"Updated the question to include sample Github repo (Android app) that reproduces the issue.","body":"Updated the question to include sample Github repo (Android app) that reproduces the issue."}],"owner":{"account_id":75115,"reputation":33,"user_id":215551,"display_name":"cedarrapidsboy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666701661,"creation_date":1666553451,"question_id":74174189,"body_markdown":"I have created an Android app that presents a button to add images to a gallery. Images can be selected from compatible ```ACTION_GET_CONTENT``` providers. When selecting images from the Google Photos provider, it works fine when selecting up to 73 images. When selecting 74+ images, it immediately (no image downloads are attempted) returns to my app and the Activity result code is ```Activity.RESULT_CANCELLED```.\r\n\r\nCode to open the image chooser:\r\n```\r\n...\r\n    someActivityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                new ChooserActivityResult(this,\r\n                        this.getBaseContext()));\r\n...    \r\n    /**\r\n     * Open image chooser.\r\n     */\r\n    public void openImageChooser() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        someActivityResultLauncher.launch(Intent.createChooser(intent, getString(R.string.intent_chooser_select_images)));\r\n    }\r\n```\r\n\r\n```ChooserActivityResult```:\r\n```\r\n    @Override\r\n    public void onActivityResult(ActivityResult result) {\r\n\r\n        HashSet&lt;Uri&gt; sources = new HashSet&lt;&gt;();\r\n        if (result.getResultCode() == Activity.RESULT_OK) {\r\n            //do stuff with the Uri(s)\r\n        }\r\n    }\r\n```\r\n\r\n**Selecting 74 or more images from Google Photos returns:** ```ActivityResult{resultCode=RESULT_CANCELED, data=null}```\r\n\r\nSelecting 73 or fewer images returns successfully (after downloading the necessary images) and I can process the ```Uri``` for one item, or ```ClipData```  for multiple items.\r\n\r\nSelecting any number of images from local storage (not Google Photos) returns successfully and I can process the ```Uri``` for one item, or ```ClipData```  for multiple items.\r\n\r\nAlso of note, my App can process an incoming share intent. Via this method, it is able to receive up to 200 images from a Google Photos-initiated share (Google Photos only allows up to 200 images to be shared at a time).\r\n\r\nTroubleshooting:\r\n\r\n - My app does not throw any exceptions. It recognizes the ```Activity.RESULT_CANCELLED``` result code and does nothing (as it should).\r\n - Watching logcat, there are no messages obviously related to Google Photos when it simply ends and returns to my app.\r\n - Device: Google Pixel 6a (tried with both debug and release variants)\r\n\r\nI appreciate any pointers. It&#39;s possible Google Photos has some silent limit on the number of images that can be returned via the chooser. That would be unfortunate.\r\n\r\nUPDATE 2022-10-24:\r\n\r\nSimple app to reproduce the issue: https://github.com/cedarrapidsboy/google_photos_chooser_example\r\n\r\nUPDATE 2022-10-25:\r\n\r\nGoogle bug report: https://issuetracker.google.com/issues/255485457","title":"From an Android chooser is there a way to select more than 73 images from Google Photos without getting a RESULT_CANCELLED return code?","body":"<p>I have created an Android app that presents a button to add images to a gallery. Images can be selected from compatible <code>ACTION_GET_CONTENT</code> providers. When selecting images from the Google Photos provider, it works fine when selecting up to 73 images. When selecting 74+ images, it immediately (no image downloads are attempted) returns to my app and the Activity result code is <code>Activity.RESULT_CANCELLED</code>.</p>\n<p>Code to open the image chooser:</p>\n<pre><code>...\n    someActivityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                new ChooserActivityResult(this,\n                        this.getBaseContext()));\n...    \n    /**\n     * Open image chooser.\n     */\n    public void openImageChooser() {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;image/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        someActivityResultLauncher.launch(Intent.createChooser(intent, getString(R.string.intent_chooser_select_images)));\n    }\n</code></pre>\n<p><code>ChooserActivityResult</code>:</p>\n<pre><code>    @Override\n    public void onActivityResult(ActivityResult result) {\n\n        HashSet&lt;Uri&gt; sources = new HashSet&lt;&gt;();\n        if (result.getResultCode() == Activity.RESULT_OK) {\n            //do stuff with the Uri(s)\n        }\n    }\n</code></pre>\n<p><strong>Selecting 74 or more images from Google Photos returns:</strong> <code>ActivityResult{resultCode=RESULT_CANCELED, data=null}</code></p>\n<p>Selecting 73 or fewer images returns successfully (after downloading the necessary images) and I can process the <code>Uri</code> for one item, or <code>ClipData</code>  for multiple items.</p>\n<p>Selecting any number of images from local storage (not Google Photos) returns successfully and I can process the <code>Uri</code> for one item, or <code>ClipData</code>  for multiple items.</p>\n<p>Also of note, my App can process an incoming share intent. Via this method, it is able to receive up to 200 images from a Google Photos-initiated share (Google Photos only allows up to 200 images to be shared at a time).</p>\n<p>Troubleshooting:</p>\n<ul>\n<li>My app does not throw any exceptions. It recognizes the <code>Activity.RESULT_CANCELLED</code> result code and does nothing (as it should).</li>\n<li>Watching logcat, there are no messages obviously related to Google Photos when it simply ends and returns to my app.</li>\n<li>Device: Google Pixel 6a (tried with both debug and release variants)</li>\n</ul>\n<p>I appreciate any pointers. It's possible Google Photos has some silent limit on the number of images that can be returned via the chooser. That would be unfortunate.</p>\n<p>UPDATE 2022-10-24:</p>\n<p>Simple app to reproduce the issue: <a href=\"https://github.com/cedarrapidsboy/google_photos_chooser_example\" rel=\"nofollow noreferrer\">https://github.com/cedarrapidsboy/google_photos_chooser_example</a></p>\n<p>UPDATE 2022-10-25:</p>\n<p>Google bug report: <a href=\"https://issuetracker.google.com/issues/255485457\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/255485457</a></p>\n"},{"tags":["java","performance","generics","comparator","comparable"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1666701722,"post_id":74194195,"comment_id":130995260,"body_markdown":"Please show a [mcve].","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26726794,"reputation":11,"user_id":20329811,"display_name":"Retzinsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666701402,"creation_date":1666701402,"question_id":74194195,"body_markdown":"I have an implementation of the A* pathfinding algorithm, defined to operate over anything that implements the following interface:\r\n\r\n```\r\npublic interface Pathable&lt;N extends Pathable&lt;N&gt;&gt; extends Comparable&lt;N&gt;\r\n```\r\n\r\nObviously, there are a great deal of comparisons being performed during the pathfinding, primarily to make sure that the next &quot;best&quot; `Pathable` is the one the algorithm actually considers next. Internally, the nodes are stored as a priority queue.\r\n\r\nIn this specific case, the `Pathable` nodes in question are tiles in a hexagonal grid, as such:\r\n\r\n```\r\npublic interface Tile&lt;T extends Tile&gt; extends Pathable&lt;T&gt;\r\n```\r\n\r\nAnd there is an abstract base class implementing `Tile` which contains the implementation of the comparison (among other things common to all Tiles in this program):\r\n\r\n```\r\npublic abstract class TileBase&lt;T extends Tile&lt;T&gt;&gt; implements Tile&lt;T&gt;\r\n{\r\n   \t@Override\r\n\tpublic final int compareTo(final T pathable)\r\n\t{\r\n        // If our cost to reach the destination is lower, order us before etc...\r\n\t}\r\n}\r\n```\r\n\r\nOne of the concrete implementations of this class is as such:\r\n\r\n```\r\npublic class TilePreview extends TileBase&lt;TilePreview&gt;\r\n```\r\n\r\nThe issue I have is thus: If I supply the pathfinder with a `Comparator` instead of relying on the natural ordering from `Comparable`, performance improves by as much as a factor of five! Such a `Comparator` is defined as follows:\r\n\r\n```\r\npublic class TilePreviewComparator implements Comparable&lt;TilePreview&gt;\r\n{\r\n\t@Override\r\n\tpublic final int compare(final TilePreview n0, final TilePreview n1)\r\n\t{\r\n\t\t// If n0&#39;s cost to reach the destination is lower than n1&#39;s, order it before etc...\r\n\t}\r\n}\r\n```\r\n\r\nThere are a number of different kinds of `Tile` which are compared in the same way, and so in the interest of reducing code replication I simply made a generic `Comparator`:\r\n\r\n```\r\npublic abstract class TileComparator&lt;N extends Pathable&lt;N&gt;&gt; implements Comparator&lt;N&gt;\r\n{\r\n\t@Override\r\n\tpublic final int compare(final N n0, final N n1)\r\n\t{\r\n\t\t// If n0&#39;s cost to reach the destination is lower than n1&#39;s, order it before etc...\r\n\t}\r\n}\r\n```\r\n\r\nDoing this however causes performance to tank again. I have spent a number of days debugging this confusing issue. I have verified that both approaches result in the same amount of &quot;work&quot;, for example the exact same number of comparisons are performed in all cases, `Comparable` or `Comparator`. I have verified that the pathfinding results are identical. I have tried a number of different priority queue implements, primarily the collections framework&#39;s own PriorityQueue and FastUtil&#39;s ObjectHeapPriorityQueue, and while the implementations have slightly different performance from one another, they still show the same significant discrepancy between using the generic `Comparator`/`Comparable` vs non-generic.\r\n\r\nI have reached the limit of my knowledge when it comes to investigating a problem like this and was curious if anybody else had any ideas. Technically I have a solution which is to simply use the non-generic `Comparator` approach, but it doesn&#39;t sit right with me. For one, it is not the most elegant of the choices, even if it is the most performant. Perhaps more importantly however, I hate not knowing *why* the problem is occurring in the first place!\r\n\r\nAny insights are greatly appreciated.","title":"What could cause a generic Comparator (or Comparable) to have significantly worse performance than a non-generic one?","body":"<p>I have an implementation of the A* pathfinding algorithm, defined to operate over anything that implements the following interface:</p>\n<pre><code>public interface Pathable&lt;N extends Pathable&lt;N&gt;&gt; extends Comparable&lt;N&gt;\n</code></pre>\n<p>Obviously, there are a great deal of comparisons being performed during the pathfinding, primarily to make sure that the next &quot;best&quot; <code>Pathable</code> is the one the algorithm actually considers next. Internally, the nodes are stored as a priority queue.</p>\n<p>In this specific case, the <code>Pathable</code> nodes in question are tiles in a hexagonal grid, as such:</p>\n<pre><code>public interface Tile&lt;T extends Tile&gt; extends Pathable&lt;T&gt;\n</code></pre>\n<p>And there is an abstract base class implementing <code>Tile</code> which contains the implementation of the comparison (among other things common to all Tiles in this program):</p>\n<pre><code>public abstract class TileBase&lt;T extends Tile&lt;T&gt;&gt; implements Tile&lt;T&gt;\n{\n    @Override\n    public final int compareTo(final T pathable)\n    {\n        // If our cost to reach the destination is lower, order us before etc...\n    }\n}\n</code></pre>\n<p>One of the concrete implementations of this class is as such:</p>\n<pre><code>public class TilePreview extends TileBase&lt;TilePreview&gt;\n</code></pre>\n<p>The issue I have is thus: If I supply the pathfinder with a <code>Comparator</code> instead of relying on the natural ordering from <code>Comparable</code>, performance improves by as much as a factor of five! Such a <code>Comparator</code> is defined as follows:</p>\n<pre><code>public class TilePreviewComparator implements Comparable&lt;TilePreview&gt;\n{\n    @Override\n    public final int compare(final TilePreview n0, final TilePreview n1)\n    {\n        // If n0's cost to reach the destination is lower than n1's, order it before etc...\n    }\n}\n</code></pre>\n<p>There are a number of different kinds of <code>Tile</code> which are compared in the same way, and so in the interest of reducing code replication I simply made a generic <code>Comparator</code>:</p>\n<pre><code>public abstract class TileComparator&lt;N extends Pathable&lt;N&gt;&gt; implements Comparator&lt;N&gt;\n{\n    @Override\n    public final int compare(final N n0, final N n1)\n    {\n        // If n0's cost to reach the destination is lower than n1's, order it before etc...\n    }\n}\n</code></pre>\n<p>Doing this however causes performance to tank again. I have spent a number of days debugging this confusing issue. I have verified that both approaches result in the same amount of &quot;work&quot;, for example the exact same number of comparisons are performed in all cases, <code>Comparable</code> or <code>Comparator</code>. I have verified that the pathfinding results are identical. I have tried a number of different priority queue implements, primarily the collections framework's own PriorityQueue and FastUtil's ObjectHeapPriorityQueue, and while the implementations have slightly different performance from one another, they still show the same significant discrepancy between using the generic <code>Comparator</code>/<code>Comparable</code> vs non-generic.</p>\n<p>I have reached the limit of my knowledge when it comes to investigating a problem like this and was curious if anybody else had any ideas. Technically I have a solution which is to simply use the non-generic <code>Comparator</code> approach, but it doesn't sit right with me. For one, it is not the most elegant of the choices, even if it is the most performant. Perhaps more importantly however, I hate not knowing <em>why</em> the problem is occurring in the first place!</p>\n<p>Any insights are greatly appreciated.</p>\n"},{"tags":["java","file","path","java.util.scanner","filenotfoundexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666697430,"post_id":74193346,"comment_id":130993741,"body_markdown":"it can&#39;t open the file, because it can&#39;t find the file. Either the file doesn&#39;t exist, or you&#39;ll need to adapt the path","body":"it can&#39;t open the file, because it can&#39;t find the file. Either the file doesn&#39;t exist, or you&#39;ll need to adapt the path"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666699119,"post_id":74193346,"comment_id":130994310,"body_markdown":"Is `C:/Users/serer/Desktop/Proyecto02/project_name/project_name/app/src/main/assets/models/prov.txt` the correct path / file name?","body":"Is <code>C:&#47;Users&#47;serer&#47;Desktop&#47;Proyecto02&#47;project_name&#47;project_name&#47;&zwnj;&#8203;app&#47;src&#47;main&#47;assets&#47;&zwnj;&#8203;models&#47;prov.txt</code> the correct path / file name?"}],"answers":[{"tags":[],"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697646,"creation_date":1666697646,"answer_id":74193427,"question_id":74193346,"body_markdown":"You should not be keeping plain text files in the sample place as the code in your folder tree structures. \r\n\r\nPut the files you want to read in the &quot;assets&quot; folder and use the `getAssets()` method instead. \r\n\r\nSee the following tutorial for a detailed explanation of how to make this work: https://www.tutorialspoint.com/how-to-read-a-file-from-assets-on-android","title":"Exception when trying to open a .txt file in java","body":"<p>You should not be keeping plain text files in the sample place as the code in your folder tree structures.</p>\n<p>Put the files you want to read in the &quot;assets&quot; folder and use the <code>getAssets()</code> method instead.</p>\n<p>See the following tutorial for a detailed explanation of how to make this work: <a href=\"https://www.tutorialspoint.com/how-to-read-a-file-from-assets-on-android\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/how-to-read-a-file-from-assets-on-android</a></p>\n"},{"tags":[],"owner":{"account_id":25329751,"reputation":1,"user_id":19149728,"display_name":"pageqiu009"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697933,"creation_date":1666697751,"answer_id":74193456,"question_id":74193346,"body_markdown":"you can try the absolute path,then change the method of get path","title":"Exception when trying to open a .txt file in java","body":"<p>you can try the absolute path,then change the method of get path</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666701378,"creation_date":1666701378,"answer_id":74194190,"question_id":74193346,"body_markdown":"The equivalent using `getAssets` of you code could be\r\n\r\n    try (BufferedReader in = new BufferedReader(new InputStreamReader(getAssets().open(&quot;prov.txt&quot;)))) {\r\n        in.lines().limit(10).forEach(System.out::println);\r\n    }\r\n    catch(IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Exception when trying to open a .txt file in java","body":"<p>The equivalent using <code>getAssets</code> of you code could be</p>\n<pre><code>try (BufferedReader in = new BufferedReader(new InputStreamReader(getAssets().open(&quot;prov.txt&quot;)))) {\n    in.lines().limit(10).forEach(System.out::println);\n}\ncatch(IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":25542341,"reputation":3,"user_id":19328615,"display_name":"Borja Dav&#243;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74194190,"answer_count":3,"score":0,"last_activity_date":1666701378,"creation_date":1666697262,"question_id":74193346,"body_markdown":"I am trying to open an existing .txt file to iterate through its lines. To do this, in my `HelloArActivityTest2.java` class, I have used the commonly used code, that uses a Scanner that takes a file as a parameter:\r\n\r\n```\r\nFile myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\r\nScanner myReader = new Scanner(myObj);\r\nint counter = 0;\r\nwhile (myReader.hasNextLine() &amp;&amp; counter &lt;= 10) {\r\n    String data = myReader.nextLine();\r\n    System.out.println(data);\r\n    counter ++;\r\n}\r\nmyReader.close();\r\n```\r\n\r\nBut I get this error:\r\n```\r\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err: java.io.FileNotFoundException: C:/Users/serer/Desktop/Proyecto02/project_name/project_name/app/src/main/assets/models/prov.txt: open failed: ENOENT (No such file or directory)\r\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\r\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.util.Scanner.&lt;init&gt;(Scanner.java:620)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at com.google.ar.core.examples.java.helloar.HelloArActivityTest2.helloArActivityTest(HelloArActivityTest2.java:210)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.rule.ActivityTestRule$ActivityStatement.evaluate(ActivityTestRule.java:549)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.ext.junit.runners.AndroidJUnit4.run(AndroidJUnit4.java:162)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.Suite.runChild(Suite.java:128)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.Suite.runChild(Suite.java:27)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.internal.runner.TestExecutor.execute(TestExecutor.java:56)\r\n2022-10-25 12:49:56.177 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:444)\r\n2022-10-25 12:49:56.177 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2205)\r\n2022-10-25 12:49:56.179 12110-12132/com.google.ar.core.examples.java.helloar W/System.err: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.Linux.open(Native Method)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7542)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\r\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err: \t... 33 more\r\n```\r\nI have tried to copy the `prov.txt` file to other project locations, to see if the path was taken properly. And I also read other discussions on forums like this, and tried other ways. But the error still persists. Do you know what could be happening? To clarify it more, these are two screenshots of extra places where I copied the `prov.txt` file to debug.\r\n\r\n[Copied file (I)][1]\r\n\r\n[Copied file (II)][2]\r\n\r\nAlso, this is the code that I am using in my `HelloArActivityTest2.java` class, with all the tries I did:\r\n\r\n```\r\ntry {\r\n    //File myObj = new File(&quot;app/assets/models/prov.txt&quot;);\r\n    //File myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\r\n    //File myObj = new File(&quot;prov.txt&quot;);\r\n    //File myObj = new File(new File(&quot;app/src/main/assets/models/prov.txt&quot;).getAbsolutePath());\r\n    //File myObj = new File(path.trim());\r\n    //File myObj = new File(Objects.requireNonNull(HelloArActivityTest2.class.getResource(&quot;app/src/main/assets/models/prov.txt&quot;)).toURI());\r\n\r\n    //System.out.println(&quot;user.dir = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n    //String path = System.getProperty(&quot;user.dir&quot;) + &quot;src/androidTest/prov.txt&quot;;\r\n    //String path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\androidTest\\\\prov.txt&quot;;\r\n    //MockHttpServletRequest request = new MockHttpServletRequest();\r\n    //String path = request.getSession().getServletContext().getRealPath(&quot;/&quot;);\r\n\r\n    File myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\r\n\r\n    //myObj.setReadable(true);\r\n    //myObj.setWritable(true);\r\n\r\n    System.out.println(&quot;myObj.mkdirs() = &quot; + myObj.mkdirs());   //false\r\n    System.out.println(&quot;myObj.exists() = &quot; + myObj.exists());   //false\r\n    System.out.println(&quot;myObj.isDirectory() = &quot; + myObj.isDirectory()); //false\r\n    System.out.println(&quot;myObj.canRead() = &quot; + myObj.canRead()); //false\r\n    System.out.println(&quot;Current directory: &quot; + new File(&quot;.&quot;).getAbsolutePath());    // /.\r\n\r\n    Scanner myReader = new Scanner(myObj);\r\n    int counter = 0;\r\n    while (myReader.hasNextLine() &amp;&amp; counter &lt;= 10) {\r\n        String data = myReader.nextLine();\r\n        System.out.println(data);\r\n        counter ++;\r\n    }\r\n    myReader.close();\r\n\r\n} catch (FileNotFoundException e) {\r\n    System.out.println(&quot;An error occurred.&quot;);\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nAny help is welcome. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gqb3d.jpg\r\n  [2]: https://i.stack.imgur.com/4hV6N.jpg","title":"Exception when trying to open a .txt file in java","body":"<p>I am trying to open an existing .txt file to iterate through its lines. To do this, in my <code>HelloArActivityTest2.java</code> class, I have used the commonly used code, that uses a Scanner that takes a file as a parameter:</p>\n<pre><code>File myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\nScanner myReader = new Scanner(myObj);\nint counter = 0;\nwhile (myReader.hasNextLine() &amp;&amp; counter &lt;= 10) {\n    String data = myReader.nextLine();\n    System.out.println(data);\n    counter ++;\n}\nmyReader.close();\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err: java.io.FileNotFoundException: C:/Users/serer/Desktop/Proyecto02/project_name/project_name/app/src/main/assets/models/prov.txt: open failed: ENOENT (No such file or directory)\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n2022-10-25 12:49:56.172 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.util.Scanner.&lt;init&gt;(Scanner.java:620)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at com.google.ar.core.examples.java.helloar.HelloArActivityTest2.helloArActivityTest(HelloArActivityTest2.java:210)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.rule.ActivityTestRule$ActivityStatement.evaluate(ActivityTestRule.java:549)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n2022-10-25 12:49:56.173 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.ext.junit.runners.AndroidJUnit4.run(AndroidJUnit4.java:162)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.Suite.runChild(Suite.java:128)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.Suite.runChild(Suite.java:27)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n2022-10-25 12:49:56.174 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n2022-10-25 12:49:56.176 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.internal.runner.TestExecutor.execute(TestExecutor.java:56)\n2022-10-25 12:49:56.177 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:444)\n2022-10-25 12:49:56.177 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2205)\n2022-10-25 12:49:56.179 12110-12132/com.google.ar.core.examples.java.helloar W/System.err: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.Linux.open(Native Method)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7542)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\n2022-10-25 12:49:56.180 12110-12132/com.google.ar.core.examples.java.helloar W/System.err:  ... 33 more\n</code></pre>\n<p>I have tried to copy the <code>prov.txt</code> file to other project locations, to see if the path was taken properly. And I also read other discussions on forums like this, and tried other ways. But the error still persists. Do you know what could be happening? To clarify it more, these are two screenshots of extra places where I copied the <code>prov.txt</code> file to debug.</p>\n<p><a href=\"https://i.stack.imgur.com/Gqb3d.jpg\" rel=\"nofollow noreferrer\">Copied file (I)</a></p>\n<p><a href=\"https://i.stack.imgur.com/4hV6N.jpg\" rel=\"nofollow noreferrer\">Copied file (II)</a></p>\n<p>Also, this is the code that I am using in my <code>HelloArActivityTest2.java</code> class, with all the tries I did:</p>\n<pre><code>try {\n    //File myObj = new File(&quot;app/assets/models/prov.txt&quot;);\n    //File myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\n    //File myObj = new File(&quot;prov.txt&quot;);\n    //File myObj = new File(new File(&quot;app/src/main/assets/models/prov.txt&quot;).getAbsolutePath());\n    //File myObj = new File(path.trim());\n    //File myObj = new File(Objects.requireNonNull(HelloArActivityTest2.class.getResource(&quot;app/src/main/assets/models/prov.txt&quot;)).toURI());\n\n    //System.out.println(&quot;user.dir = &quot; + System.getProperty(&quot;user.dir&quot;));\n    //String path = System.getProperty(&quot;user.dir&quot;) + &quot;src/androidTest/prov.txt&quot;;\n    //String path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\androidTest\\\\prov.txt&quot;;\n    //MockHttpServletRequest request = new MockHttpServletRequest();\n    //String path = request.getSession().getServletContext().getRealPath(&quot;/&quot;);\n\n    File myObj = new File(&quot;app/src/main/assets/models/prov.txt&quot;);\n\n    //myObj.setReadable(true);\n    //myObj.setWritable(true);\n\n    System.out.println(&quot;myObj.mkdirs() = &quot; + myObj.mkdirs());   //false\n    System.out.println(&quot;myObj.exists() = &quot; + myObj.exists());   //false\n    System.out.println(&quot;myObj.isDirectory() = &quot; + myObj.isDirectory()); //false\n    System.out.println(&quot;myObj.canRead() = &quot; + myObj.canRead()); //false\n    System.out.println(&quot;Current directory: &quot; + new File(&quot;.&quot;).getAbsolutePath());    // /.\n\n    Scanner myReader = new Scanner(myObj);\n    int counter = 0;\n    while (myReader.hasNextLine() &amp;&amp; counter &lt;= 10) {\n        String data = myReader.nextLine();\n        System.out.println(data);\n        counter ++;\n    }\n    myReader.close();\n\n} catch (FileNotFoundException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n<p>Any help is welcome. Thanks in advance.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":3283966,"reputation":7181,"user_id":2763877,"accept_rate":70,"display_name":"Yves Nicolas"},"score":1,"creation_date":1379600174,"post_id":18896254,"comment_id":27893201,"body_markdown":"Thanks. It looks like I have still some RTFM progresses to do;-)","body":"Thanks. It looks like I have still some RTFM progresses to do;-)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1379600215,"post_id":18896254,"comment_id":27893232,"body_markdown":"@YvesNicole You&#39;re welcome. I don&#39;t blame you, TFM is extremely long.","body":"@YvesNicole You&#39;re welcome. I don&#39;t blame you, TFM is extremely long."},{"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"score":0,"creation_date":1478779465,"post_id":18896254,"comment_id":68294539,"body_markdown":"If you have web application and want to be able to read from `WEB-INF`, use `ServletContextResource`. If you want universal solution, use `ServletContextResourcePatternResolver`. Notice what you will need `ServletContext` reference in this case","body":"If you have web application and want to be able to read from <code>WEB-INF</code>, use <code>ServletContextResource</code>. If you want universal solution, use <code>ServletContextResourcePatternResolver</code>. Notice what you will need <code>ServletContext</code> reference in this case"}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1379598270,"creation_date":1379597966,"answer_id":18896254,"question_id":18895839,"body_markdown":"Very simply, declare a [`PropertiesFactoryBean`][1].\r\n\r\n    @Bean(name = &quot;mapper&quot;)\r\n    public PropertiesFactoryBean mapper() {\r\n        PropertiesFactoryBean bean = new PropertiesFactoryBean();\r\n        bean.setLocation(new ClassPathResource(&quot;com/foo/jdbc-production.properties&quot;));\r\n        return bean;\r\n    }\r\n\r\nIn the documentation [here][2], you&#39;ll notice that before they made `&lt;util:properties&gt;`, they used to use a `PropertiesFactoryBean` as such\r\n\r\n    &lt;!-- creates a java.util.Properties instance with values loaded from the supplied location --&gt;\r\n    &lt;bean id=&quot;jdbcConfiguration&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n      &lt;property name=&quot;location&quot; value=&quot;classpath:com/foo/jdbc-production.properties&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nConverting that to Java config is super easy as shown above.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/config/PropertiesFactoryBean.html\r\n  [2]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/xsd-config.html#xsd-config-body-schemas-util-properties","title":"&lt;util:properties&gt; equivalent in java based configuration for spring","body":"<p>Very simply, declare a <a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/config/PropertiesFactoryBean.html\" rel=\"noreferrer\"><code>PropertiesFactoryBean</code></a>.</p>\n\n<pre><code>@Bean(name = \"mapper\")\npublic PropertiesFactoryBean mapper() {\n    PropertiesFactoryBean bean = new PropertiesFactoryBean();\n    bean.setLocation(new ClassPathResource(\"com/foo/jdbc-production.properties\"));\n    return bean;\n}\n</code></pre>\n\n<p>In the documentation <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/xsd-config.html#xsd-config-body-schemas-util-properties\" rel=\"noreferrer\">here</a>, you'll notice that before they made <code>&lt;util:properties&gt;</code>, they used to use a <code>PropertiesFactoryBean</code> as such</p>\n\n<pre><code>&lt;!-- creates a java.util.Properties instance with values loaded from the supplied location --&gt;\n&lt;bean id=\"jdbcConfiguration\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n  &lt;property name=\"location\" value=\"classpath:com/foo/jdbc-production.properties\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Converting that to Java config is super easy as shown above.</p>\n"},{"comments":[{"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"score":0,"creation_date":1666612507,"post_id":65711971,"comment_id":130971028,"body_markdown":"are you serious?","body":"are you serious?"}],"tags":[],"owner":{"account_id":20446448,"reputation":1,"user_id":15002133,"display_name":"Nick K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610586009,"creation_date":1610586009,"answer_id":65711971,"question_id":18895839,"body_markdown":"In Spring Boot 5+, application.properties under src/main/resources is the Convention. I have found if you need to put your own custom properties, for example &quot;student.class.name&quot;, then Spring will automatically validate it in Eclipse and tag the entry with a warning, with the option to create metadata for it. Click it and it will create a JSON file under META-INF. Use that. Then you can inject the property using @Value(&quot;${student.class.name}&quot; annotation.","title":"&lt;util:properties&gt; equivalent in java based configuration for spring","body":"<p>In Spring Boot 5+, application.properties under src/main/resources is the Convention. I have found if you need to put your own custom properties, for example &quot;student.class.name&quot;, then Spring will automatically validate it in Eclipse and tag the entry with a warning, with the option to create metadata for it. Click it and it will create a JSON file under META-INF. Use that. Then you can inject the property using @Value(&quot;${student.class.name}&quot; annotation.</p>\n"}],"owner":{"account_id":3283966,"reputation":7181,"user_id":2763877,"accept_rate":70,"display_name":"Yves Nicolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20278,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":18896254,"answer_count":2,"score":27,"last_activity_date":1666701216,"creation_date":1379596931,"question_id":18895839,"body_markdown":"What would be the equivalent in java based configuration of XML based spring configuration\r\n\r\n\t&lt;util:properties id=&quot;mapper&quot;  location=&quot;classpath:mapper.properties&quot; /&gt;\r\n\r\nTo then be able to use this specific property object in code like :\r\n\r\n\t\r\n\t@Resource(name = &quot;mapper&quot;)\r\n\tprivate Properties myTranslator;\r\n\r\nLooking at the doc, I looked at the\r\n\r\n    @PropertySource\r\n\r\nannotation but it seems to me that the particular propertyfile will not be able to be accessed individually from the Environment object.\r\n","title":"&lt;util:properties&gt; equivalent in java based configuration for spring","body":"<p>What would be the equivalent in java based configuration of XML based spring configuration</p>\n\n<pre><code>&lt;util:properties id=\"mapper\"  location=\"classpath:mapper.properties\" /&gt;\n</code></pre>\n\n<p>To then be able to use this specific property object in code like :</p>\n\n<pre><code>@Resource(name = \"mapper\")\nprivate Properties myTranslator;\n</code></pre>\n\n<p>Looking at the doc, I looked at the</p>\n\n<pre><code>@PropertySource\n</code></pre>\n\n<p>annotation but it seems to me that the particular propertyfile will not be able to be accessed individually from the Environment object.</p>\n"},{"tags":["java","arrays","for-loop","math","methods"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666666652,"post_id":74188679,"comment_id":130985911,"body_markdown":"Please read [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166). This site is not a code-writing service. We can help you with *specific* questions about *your* code, ideally accompanied by an [MCVE]. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve.","body":"Please read <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>. This site is not a code-writing service. We can help you with <i>specific</i> questions about <i>your</i> code, ideally accompanied by an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666666764,"post_id":74188679,"comment_id":130985927,"body_markdown":"You can start by adding a variable named `max` and set it to 0 at the top of the method. Then each iteration, check if the row&#39;s average is more than the max.","body":"You can start by adding a variable named <code>max</code> and set it to 0 at the top of the method. Then each iteration, check if the row&#39;s average is more than the max."}],"answers":[{"tags":[],"owner":{"account_id":9135918,"reputation":51,"user_id":6795610,"display_name":"Jun Jie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666667045,"creation_date":1666667045,"answer_id":74188727,"question_id":74188679,"body_markdown":"You can compare and check if the row average is higher than the current highest\r\n\r\n```\r\ndouble rowAverage = sum / grid[i].length;\r\naverage = rowAverage &gt; average ? rowAverage : average;\r\n```\r\n\r\nor even better, use `Math.max`\r\n\r\n```\r\naverage = Math.max(average, sum / grid[i].length);\r\n```","title":"How to get the highest row and column of a 2D array in Java","body":"<p>You can compare and check if the row average is higher than the current highest</p>\n<pre><code>double rowAverage = sum / grid[i].length;\naverage = rowAverage &gt; average ? rowAverage : average;\n</code></pre>\n<p>or even better, use <code>Math.max</code></p>\n<pre><code>average = Math.max(average, sum / grid[i].length);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1666674192,"post_id":74188902,"comment_id":130986890,"body_markdown":"The average can be less than zero. Best to initialize to Double.MIN_VALUE","body":"The average can be less than zero. Best to initialize to Double.MIN_VALUE"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666700586,"creation_date":1666669388,"answer_id":74188902,"question_id":74188679,"body_markdown":"Some notes regarding the code in your question.\r\n- As well as `sum`, you also need to zero `average` for each new row.\r\n- No need to declare loop variables `i` and `j` outside of the loop.\r\n- Java has &quot;short-circuit&quot; statements like `+=`.\r\n- I understand that the purpose of this line:\r\n```java\r\ndouble a = i+1;\r\n```\r\nis to store the index of the row (in the `grid`) that contains the highest average. That variable should be `int` (and not `double`) since a row index can only be an `int`. The variable should also be declared outside of the outer `for` loop since you can only know its final value after you have processed all the rows in `grid`. In the code below, I renamed `a` to `maxRow`.\r\n- You need another variable to store the maximum.\r\n\r\nNote that I assume that all the integers in `grid` are positive &amp;ndash; as per the example in your question.\r\n```java\r\npublic class Averages {\r\n\r\n    public static void main(String[] args) {\r\n        int[][] grid = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9} };\r\n        double maxAvg = 0.0;\r\n        int maxRow = -1;\r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            double sum = 0, average = 0;\r\n            for (int j = 0; j &lt; grid[i].length; j++) {\r\n                sum += grid[i][j];\r\n            }\r\n            average = sum / grid[i].length;\r\n            if (average &gt; maxAvg) {\r\n                maxAvg = average;\r\n                maxRow = i;\r\n            }\r\n            System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average);\r\n        }\r\n        System.out.println(&quot;Row with highest average: &quot; + (maxRow + 1));\r\n    }\r\n}\r\n```\r\nWhen I run the above code, I get the following output:\r\n```none\r\nAverage of row 1 = 2.0\r\nAverage of row 2 = 5.0\r\nAverage of row 3 = 8.0\r\nRow with highest average: 3\r\n```\r\n","title":"How to get the highest row and column of a 2D array in Java","body":"<p>Some notes regarding the code in your question.</p>\n<ul>\n<li>As well as <code>sum</code>, you also need to zero <code>average</code> for each new row.</li>\n<li>No need to declare loop variables <code>i</code> and <code>j</code> outside of the loop.</li>\n<li>Java has &quot;short-circuit&quot; statements like <code>+=</code>.</li>\n<li>I understand that the purpose of this line:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>double a = i+1;\n</code></pre>\n<p>is to store the index of the row (in the <code>grid</code>) that contains the highest average. That variable should be <code>int</code> (and not <code>double</code>) since a row index can only be an <code>int</code>. The variable should also be declared outside of the outer <code>for</code> loop since you can only know its final value after you have processed all the rows in <code>grid</code>. In the code below, I renamed <code>a</code> to <code>maxRow</code>.</p>\n<ul>\n<li>You need another variable to store the maximum.</li>\n</ul>\n<p>Note that I assume that all the integers in <code>grid</code> are positive – as per the example in your question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Averages {\n\n    public static void main(String[] args) {\n        int[][] grid = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9} };\n        double maxAvg = 0.0;\n        int maxRow = -1;\n        for (int i = 0; i &lt; grid.length; i++) {\n            double sum = 0, average = 0;\n            for (int j = 0; j &lt; grid[i].length; j++) {\n                sum += grid[i][j];\n            }\n            average = sum / grid[i].length;\n            if (average &gt; maxAvg) {\n                maxAvg = average;\n                maxRow = i;\n            }\n            System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average);\n        }\n        System.out.println(&quot;Row with highest average: &quot; + (maxRow + 1));\n    }\n}\n</code></pre>\n<p>When I run the above code, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Average of row 1 = 2.0\nAverage of row 2 = 5.0\nAverage of row 3 = 8.0\nRow with highest average: 3\n</code></pre>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74188727,"answer_count":2,"score":0,"last_activity_date":1666700586,"creation_date":1666666357,"question_id":74188679,"body_markdown":"I&#39;m stuck on a problem where I am supposed to make a method that returns the row with the highest average number in a 2D array\r\n\r\nThe method that I attached here only gets the averages of each row.\r\nI believe that I need to keep track the row with the highest average but I just don&#39;t know how\r\nAny suggestions?\r\n\r\n    int[][] array = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9} };\r\n    \r\n    public static double getRowAverage(int grid[][]) {\r\n        int i, j;\r\n        double sum = 0, average = 0;\r\n        for (i = 0; i &lt; grid.length; i++) {\r\n            for (j = 0; j &lt; grid[i].length; j++) {\r\n                sum = sum + grid[i][j];\r\n            }\r\n            average=sum/grid[i].length;\r\n            System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average); \r\n            sum=0;\r\n            double a = i+1;\r\n        }\r\n        return average;\r\n    }\r\n","title":"How to get the highest row and column of a 2D array in Java","body":"<p>I'm stuck on a problem where I am supposed to make a method that returns the row with the highest average number in a 2D array</p>\n<p>The method that I attached here only gets the averages of each row.\nI believe that I need to keep track the row with the highest average but I just don't know how\nAny suggestions?</p>\n<pre><code>int[][] array = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9} };\n\npublic static double getRowAverage(int grid[][]) {\n    int i, j;\n    double sum = 0, average = 0;\n    for (i = 0; i &lt; grid.length; i++) {\n        for (j = 0; j &lt; grid[i].length; j++) {\n            sum = sum + grid[i][j];\n        }\n        average=sum/grid[i].length;\n        System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average); \n        sum=0;\n        double a = i+1;\n    }\n    return average;\n}\n</code></pre>\n"},{"tags":["java","git","bitbucket-server","atlassian-plugin-sdk"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666634741,"post_id":74185077,"comment_id":130979091,"body_markdown":"No changed files mean that both `tree`s of the branch heads must be identical already. Compare the trees, if they are identical, no changes. If they are different, very likely to have changes.","body":"No changed files mean that both <code>tree</code>s of the branch heads must be identical already. Compare the trees, if they are identical, no changes. If they are different, very likely to have changes."},{"owner":{"account_id":1088735,"reputation":4326,"user_id":1083855,"accept_rate":69,"display_name":"tigrou"},"score":0,"creation_date":1666634929,"post_id":74185077,"comment_id":130979154,"body_markdown":"Do you mean the ref of each branch being the same ? This is something already detected by bitbucket itself (it gives a `EmptyPullRequestException` during pull request creation attempt).","body":"Do you mean the ref of each branch being the same ? This is something already detected by bitbucket itself (it gives a <code>EmptyPullRequestException</code> during pull request creation attempt)."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666635174,"post_id":74185077,"comment_id":130979220,"body_markdown":"No, not the refs, but the trees. Refs point to commits. Commits point to trees. You want to compare the trees.","body":"No, not the refs, but the trees. Refs point to commits. Commits point to trees. You want to compare the trees."},{"owner":{"account_id":1088735,"reputation":4326,"user_id":1083855,"accept_rate":69,"display_name":"tigrou"},"score":0,"creation_date":1666635506,"post_id":74185077,"comment_id":130979321,"body_markdown":"Can you check the graphical example I give ?","body":"Can you check the graphical example I give ?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1666635677,"post_id":74185077,"comment_id":130979377,"body_markdown":"Find the tree id. With Git on the CLI this would be `git rev-parse FB2^{tree}` and `git rev-parse C^{tree}`. If both ids are identical, then both branches already contain the same source code and the merge will be &quot;empty&quot;. You can also merge, then compare tree ids or diff the merge commit against C.","body":"Find the tree id. With Git on the CLI this would be <code>git rev-parse FB2^{tree}</code> and <code>git rev-parse C^{tree}</code>. If both ids are identical, then both branches already contain the same source code and the merge will be &quot;empty&quot;. You can also merge, then compare tree ids or diff the merge commit against C."},{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":0,"creation_date":1666639705,"post_id":74185077,"comment_id":130980641,"body_markdown":"@knittl I don&#39;t think the trees need to be identical, for example if the target branch has more (new) changes than the source branch since the merge-base, and all of the source branch changes are already in the target branch. (Cherry-picked or re-implemented the same way.)","body":"@knittl I don&#39;t think the trees need to be identical, for example if the target branch has more (new) changes than the source branch since the merge-base, and all of the source branch changes are already in the target branch. (Cherry-picked or re-implemented the same way.)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666639769,"post_id":74185077,"comment_id":130980660,"body_markdown":"@TTT but if the changes have been cherry-picked or re-implemented in the same way, won&#39;t that give exactly the same tree?","body":"@TTT but if the changes have been cherry-picked or re-implemented in the same way, won&#39;t that give exactly the same tree?"},{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":0,"creation_date":1666639886,"post_id":74185077,"comment_id":130980701,"body_markdown":"@knittl not if there are also other changes too on the target branch that aren&#39;t on the source branch?","body":"@knittl not if there are also other changes too on the target branch that aren&#39;t on the source branch?"},{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":1,"creation_date":1666639984,"post_id":74185077,"comment_id":130980735,"body_markdown":"I agree with @knittl&#39;s comment that maybe the easiest way is just do the merge temporarily and diff before and after.","body":"I agree with @knittl&#39;s comment that maybe the easiest way is just do the merge temporarily and diff before and after."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1666640089,"post_id":74185077,"comment_id":130980762,"body_markdown":"@TTT ah, I see now. Yes, you are right. The target branch could contain new(er) changes, so both branches would have different trees. The only way is probably to do a temporary merge and then compare trees of the merge commit and the first parent","body":"@TTT ah, I see now. Yes, you are right. The target branch could contain new(er) changes, so both branches would have different trees. The only way is probably to do a temporary merge and then compare trees of the merge commit and the first parent"}],"answers":[{"comments":[{"owner":{"account_id":1088735,"reputation":4326,"user_id":1083855,"accept_rate":69,"display_name":"tigrou"},"score":0,"creation_date":1666649799,"post_id":74187106,"comment_id":130983362,"body_markdown":"Thanks for the answer. Btw, are you aware that I have to use Bitbucket API (https://docs.atlassian.com/bitbucket-server/javadoc/4.14.4/api/reference/packages.html) to implement the hook and so I cannot really run those low level git commands ? I know there is some repository hooks implemented with shell scripts but this is not what I use.","body":"Thanks for the answer. Btw, are you aware that I have to use Bitbucket API (<a href=\"https://docs.atlassian.com/bitbucket-server/javadoc/4.14.4/api/reference/packages.html\" rel=\"nofollow noreferrer\">docs.atlassian.com/bitbucket-server/javadoc/4.14.4/api/&hellip;</a>) to implement the hook and so I cannot really run those low level git commands ? I know there is some repository hooks implemented with shell scripts but this is not what I use."},{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":0,"creation_date":1666651790,"post_id":74187106,"comment_id":130983752,"body_markdown":"@tigrou I think I knew that when I read your question, and forgot about that by the time I answered it... So my vote would be figure out a way to test the merge first, otherwise #3 is probably the most accurate. Out of curiosity, is this a problem that is coming up frequently? My assumption is it should be fairly uncommon unless you have heavy use of cherry-picking in your workflow.","body":"@tigrou I think I knew that when I read your question, and forgot about that by the time I answered it... So my vote would be figure out a way to test the merge first, otherwise #3 is probably the most accurate. Out of curiosity, is this a problem that is coming up frequently? My assumption is it should be fairly uncommon unless you have heavy use of cherry-picking in your workflow."}],"tags":[],"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666647771,"creation_date":1666647771,"answer_id":74187106,"question_id":74185077,"body_markdown":"This question can be even more general:\r\n\r\n&gt; How can you determine what changes will occur as a result of a merge?\r\n\r\nPerhaps the quickest and easiest method, is to **simply perform the merge and see what changed**:\r\n\r\n```\r\ngit switch target-branch --detach\r\ngit merge source-branch --no-ff\r\ngit diff @~1 @\r\n```\r\n\r\nHere we are checking out the target branch using `--detach` so you move off of the branch and don&#39;t actually modify it, and we merge with `--no-ff` to make sure the diff command works even in the case where the source branch could be fast-forwarded. Commits are cheap in Git and get cleaned up with garbage collection, so it shouldn&#39;t ever be a problem to make a commit just for testing. Behind the scenes this is probably what Git SCM tools are doing to let you view a Pull/Merge Request before it&#39;s completed.\r\n\r\nNote, in the case of your specific question, if the above `diff` command has no output, then you have confirmed your query regarding &quot;no changes&quot;.\r\n\r\n\r\n**But do we really have to actually do the merge; is it possible to determine it?**\r\n\r\nI don&#39;t know for sure, but for now I&#39;m going with you **probably** have to do the merge. Usually you can get pretty darned close by checking the diff of just the source branch from the target branch, for example:\r\n\r\n```\r\ngit diff target-branch...source-branch\r\n# note the 3 dots is shorthand for starting from the merge-base, so this is like:\r\ngit diff $(git merge-base source-branch target-branch) source-branch\r\n```\r\n\r\nbut, as you point out in the question, that&#39;s not *always* perfect if some of the same changes were made on both the source and target branches. You could inspect the changes the other way too and compare them piece by piece, but it&#39;s likely that the logic to determine it is complicated enough that your best bet is to just do the merge and look at it. I wouldn&#39;t bother trying to re-create the merge logic if you don&#39;t have to. Besides, there are different merge strategies that can be used, and even the default merge strategy is subject to change; in fact it did recently.","title":"How to detect if a merge (from a pull request) will result in no files being modified?","body":"<p>This question can be even more general:</p>\n<blockquote>\n<p>How can you determine what changes will occur as a result of a merge?</p>\n</blockquote>\n<p>Perhaps the quickest and easiest method, is to <strong>simply perform the merge and see what changed</strong>:</p>\n<pre><code>git switch target-branch --detach\ngit merge source-branch --no-ff\ngit diff @~1 @\n</code></pre>\n<p>Here we are checking out the target branch using <code>--detach</code> so you move off of the branch and don't actually modify it, and we merge with <code>--no-ff</code> to make sure the diff command works even in the case where the source branch could be fast-forwarded. Commits are cheap in Git and get cleaned up with garbage collection, so it shouldn't ever be a problem to make a commit just for testing. Behind the scenes this is probably what Git SCM tools are doing to let you view a Pull/Merge Request before it's completed.</p>\n<p>Note, in the case of your specific question, if the above <code>diff</code> command has no output, then you have confirmed your query regarding &quot;no changes&quot;.</p>\n<p><strong>But do we really have to actually do the merge; is it possible to determine it?</strong></p>\n<p>I don't know for sure, but for now I'm going with you <strong>probably</strong> have to do the merge. Usually you can get pretty darned close by checking the diff of just the source branch from the target branch, for example:</p>\n<pre><code>git diff target-branch...source-branch\n# note the 3 dots is shorthand for starting from the merge-base, so this is like:\ngit diff $(git merge-base source-branch target-branch) source-branch\n</code></pre>\n<p>but, as you point out in the question, that's not <em>always</em> perfect if some of the same changes were made on both the source and target branches. You could inspect the changes the other way too and compare them piece by piece, but it's likely that the logic to determine it is complicated enough that your best bet is to just do the merge and look at it. I wouldn't bother trying to re-create the merge logic if you don't have to. Besides, there are different merge strategies that can be used, and even the default merge strategy is subject to change; in fact it did recently.</p>\n"}],"owner":{"account_id":1088735,"reputation":4326,"user_id":1083855,"accept_rate":69,"display_name":"tigrou"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666700435,"creation_date":1666634470,"question_id":74185077,"body_markdown":"I have created a repository hook on Bitbucket that automatically creates a pull request from one branch to another (and merge it) when some specific conditions are fulfilled. **I would like to detect the case where the result of the merge is that no files will be modified** (empty merge).\r\n \r\nWhat I tried so far:\r\n\r\n1. To check if there is commits on source branch that are not on target branch :\r\n\r\n       CommitsBetweenRequest commitsBetweenRequest = new CommitsBetweenRequest\r\n            .Builder(repository)\r\n        \t.include(sourceBranch)\r\n        \t.exclude(targetBranch)\r\n        \t.build();\r\n\r\n       Boolean anyChanges = commitService\r\n            .getCommitsBetween(commitsBetweenRequest, new PageRequestImpl(0, 1))\r\n            .stream()\r\n            .anyMatch();\r\n\r\nThis works great for simple cases. However, some &quot;empty merges&quot; are still undetected. This occurs when files modified on source branch have also been modified on target branch the same way, but in different commits.\r\n\r\n                   FB1 -- FB2 (source)\r\n                  /          \r\n                 /            \r\n    ---- A ---- B ---- C (target)\r\n\r\n`getCommitsBetween()` will return FB1 and FB2.\r\nHowever, if files modified in FB1 and FB2 have been modified in C as well (the same way) the result of the merge is no changes at all.\r\n\r\n2. Checking the difference between branches in terms of file changes :\r\n\r\n\t   //I have tried to invert sourceBranch and targetBranch, without success\r\n       ChangesetsRequest changesRequest = new ChangesetsRequest\r\n                .Builder(request.getRepository(), sourceBranch)\r\n\t\t\t\t.sinceId(targetBranch) \r\n\t\t\t\t.build();\r\n       commitService.getChangesets(changesRequest, new PageRequestImpl(0, 1));\r\n       \r\n\r\nIt does not give expected results. It give me the list of files modified in both source and target branch (not the files modified as the result of the merge).","title":"How to detect if a merge (from a pull request) will result in no files being modified?","body":"<p>I have created a repository hook on Bitbucket that automatically creates a pull request from one branch to another (and merge it) when some specific conditions are fulfilled. <strong>I would like to detect the case where the result of the merge is that no files will be modified</strong> (empty merge).</p>\n<p>What I tried so far:</p>\n<ol>\n<li><p>To check if there is commits on source branch that are not on target branch :</p>\n<pre><code>CommitsBetweenRequest commitsBetweenRequest = new CommitsBetweenRequest\n     .Builder(repository)\n     .include(sourceBranch)\n     .exclude(targetBranch)\n     .build();\n\nBoolean anyChanges = commitService\n     .getCommitsBetween(commitsBetweenRequest, new PageRequestImpl(0, 1))\n     .stream()\n     .anyMatch();\n</code></pre>\n</li>\n</ol>\n<p>This works great for simple cases. However, some &quot;empty merges&quot; are still undetected. This occurs when files modified on source branch have also been modified on target branch the same way, but in different commits.</p>\n<pre><code>               FB1 -- FB2 (source)\n              /          \n             /            \n---- A ---- B ---- C (target)\n</code></pre>\n<p><code>getCommitsBetween()</code> will return FB1 and FB2.\nHowever, if files modified in FB1 and FB2 have been modified in C as well (the same way) the result of the merge is no changes at all.</p>\n<ol start=\"2\">\n<li><p>Checking the difference between branches in terms of file changes :</p>\n<pre><code>//I have tried to invert sourceBranch and targetBranch, without success\nChangesetsRequest changesRequest = new ChangesetsRequest\n         .Builder(request.getRepository(), sourceBranch)\n         .sinceId(targetBranch) \n         .build();\ncommitService.getChangesets(changesRequest, new PageRequestImpl(0, 1));\n</code></pre>\n</li>\n</ol>\n<p>It does not give expected results. It give me the list of files modified in both source and target branch (not the files modified as the result of the merge).</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1666701461,"post_id":74193899,"comment_id":130995146,"body_markdown":"Arrays have *fixed size* so you can&#39;t &quot;remove* some element since that would affect its size. You can *replace* that element with something else. So for instance if you have `{a, b, c}` and you want to get rid of `a` you can&#39;t modify *that* array into `{b, c}` (since now its size is 2 not 3), but what you can do is *shifting elements* and filling blanks with `null` like `{b, c, null}` (or use other values representing *no element*). To have array with reduced size you will need to create *new* array of that size and fill it with data you want. Alternatively you can use List which is resizable.","body":"Arrays have <i>fixed size</i> so you can&#39;t &quot;remove* some element since that would affect its size. You can <i>replace</i> that element with something else. So for instance if you have <code>{a, b, c}</code> and you want to get rid of <code>a</code> you can&#39;t modify <i>that</i> array into <code>{b, c}</code> (since now its size is 2 not 3), but what you can do is <i>shifting elements</i> and filling blanks with <code>null</code> like <code>{b, c, null}</code> (or use other values representing <i>no element</i>). To have array with reduced size you will need to create <i>new</i> array of that size and fill it with data you want. Alternatively you can use List which is resizable."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666700284,"creation_date":1666700284,"answer_id":74193958,"question_id":74193899,"body_markdown":"You can use [`Arrays.copyOfRange(T[], int, int)`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange(T[],%20int,%20int)) like\r\n\r\n    Reasons = Arrays.copyOfRange(Reasons, 1, Reasons.length);\r\n\r\nAlso, Java variable names start with a lowercase letter by convention. Finally, I suspect that `Reasons` must be effectively final to use it in the inner class like that. So I doubt that will work as is.","title":"Remove the first element of the String array in Java : Android","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange(T%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>Arrays.copyOfRange(T[], int, int)</code></a> like</p>\n<pre><code>Reasons = Arrays.copyOfRange(Reasons, 1, Reasons.length);\n</code></pre>\n<p>Also, Java variable names start with a lowercase letter by convention. Finally, I suspect that <code>Reasons</code> must be effectively final to use it in the inner class like that. So I doubt that will work as is.</p>\n"}],"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666700284,"creation_date":1666699980,"question_id":74193899,"body_markdown":"Let say I have this String array `&quot;{Unclaimed&quot;, &quot;Lost/Stolen&quot;, &quot;Damaged/Defective&quot;, &quot;Pawned&quot;, &quot;Not Turned Over&quot;, &quot;Others&quot;}` and I want to remove the first one which is `Unclaimed` , It will remove if `aat_distribution_status` is being clicked is there anyway to remove it? I tried `Reasons = Reasons.Skip(1).ToArray()` but it doesn&#39;t work\r\n\r\n\r\n**My sample code**\r\n\r\n\r\n    AutoCompleteTextView aat_reason_not_presented;\r\n    aat_reason_not_presented = findViewById(R.id.aat_reason_not_presented);\r\n\r\n    String[] Reasons = new String[]{&quot;Unclaimed&quot;, &quot;Lost/Stolen&quot;, &quot;Damaged/Defective&quot;, &quot;Pawned&quot;, &quot;Not Turned Over&quot;, &quot;Others&quot;};\r\n    ArrayAdapter&lt;String&gt; adapterYesNo = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, Reasons);\r\n\r\n    adapterYesNo.setDropDownViewResource(simple_spinner_dropdown_item);\r\n    aat_reason_not_presented.setAdapter(adapterYesNo);\r\n\r\n     aat_distribution_status.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; parent, View arg1, int pos, long id) {\r\n\r\n                     Reasons = Reasons.Skip(1).ToArray() //Trying to remove first element of reasons but it didn&#39;t work\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n","title":"Remove the first element of the String array in Java : Android","body":"<p>Let say I have this String array <code>&quot;{Unclaimed&quot;, &quot;Lost/Stolen&quot;, &quot;Damaged/Defective&quot;, &quot;Pawned&quot;, &quot;Not Turned Over&quot;, &quot;Others&quot;}</code> and I want to remove the first one which is <code>Unclaimed</code> , It will remove if <code>aat_distribution_status</code> is being clicked is there anyway to remove it? I tried <code>Reasons = Reasons.Skip(1).ToArray()</code> but it doesn't work</p>\n<p><strong>My sample code</strong></p>\n<pre><code>AutoCompleteTextView aat_reason_not_presented;\naat_reason_not_presented = findViewById(R.id.aat_reason_not_presented);\n\nString[] Reasons = new String[]{&quot;Unclaimed&quot;, &quot;Lost/Stolen&quot;, &quot;Damaged/Defective&quot;, &quot;Pawned&quot;, &quot;Not Turned Over&quot;, &quot;Others&quot;};\nArrayAdapter&lt;String&gt; adapterYesNo = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, Reasons);\n\nadapterYesNo.setDropDownViewResource(simple_spinner_dropdown_item);\naat_reason_not_presented.setAdapter(adapterYesNo);\n\n aat_distribution_status.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; parent, View arg1, int pos, long id) {\n\n                 Reasons = Reasons.Skip(1).ToArray() //Trying to remove first element of reasons but it didn't work\n\n                }\n            });\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1666709547,"post_id":74193839,"comment_id":130998241,"body_markdown":"Add your `code` please","body":"Add your <code>code</code> please"},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1666856022,"post_id":74193839,"comment_id":131035300,"body_markdown":"If something overwrites window.crypto maybe?","body":"If something overwrites window.crypto maybe?"}],"owner":{"account_id":26727021,"reputation":1,"user_id":20329997,"display_name":"Sowmya Bitla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666700254,"creation_date":1666699669,"question_id":74193839,"body_markdown":"i am able to run the same code on other applications, but unable to run the same code on specific application.\r\nthe browser has started successfully, launched the application, the while locating elements i am getting:\r\n\r\n    &quot;org.openqa.selenium.JavascriptException: javascript error: window.crypto.getRandomValues is not a function&quot; this error.\r\n\r\n\r\nerror in console:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 106.0.5249.61 (511755355844955cd3e264779baf0dd38212a4d0-refs/branch-heads/5249@{#569}) on port 51705\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Oct 25, 2022 5:18:16 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected upstream dialect: W3C\r\n    Oct 25, 2022 5:18:16 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    INFO: Found exact CDP implementation for version 106\r\n    Application launched successfully\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.JavascriptException: javascript error: window.crypto.getRandomValues is not a function\r\n      (Session info: chrome=106.0.5249.119)\r\n    Build info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\n    System info: os.name: &#39;Windows 8.1&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.3&#39;, java.version: &#39;16.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [d2f82fd9eda093fbeb1872f16a7eca77, findElement {using=xpath, value=//button[@id=&#39;signIn_En&#39;]}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 106.0.5249.119, chrome: {chromedriverVersion: 106.0.5249.61 (511755355844..., userDataDir: C:\\Users\\Soumya.B\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:65297}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:65297/devtoo..., se:cdpVersion: 106.0.5249.119, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: d2f82fd9eda093fbeb1872f16a7eca77\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n    \tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n    \tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\r\n    \tat sample.Sample1.main(Sample1.java:23)\r\n\r\n","title":"getting Exception in thread &quot;main&quot; org.openqa.selenium.JavascriptException: javascript error: window.crypto.getRandomValues is not a function error","body":"<p>i am able to run the same code on other applications, but unable to run the same code on specific application.\nthe browser has started successfully, launched the application, the while locating elements i am getting:</p>\n<pre><code>&quot;org.openqa.selenium.JavascriptException: javascript error: window.crypto.getRandomValues is not a function&quot; this error.\n</code></pre>\n<p>error in console:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 106.0.5249.61 (511755355844955cd3e264779baf0dd38212a4d0-refs/branch-heads/5249@{#569}) on port 51705\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nOct 25, 2022 5:18:16 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected upstream dialect: W3C\nOct 25, 2022 5:18:16 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found exact CDP implementation for version 106\nApplication launched successfully\nException in thread &quot;main&quot; org.openqa.selenium.JavascriptException: javascript error: window.crypto.getRandomValues is not a function\n  (Session info: chrome=106.0.5249.119)\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Windows 8.1', os.arch: 'amd64', os.version: '6.3', java.version: '16.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [d2f82fd9eda093fbeb1872f16a7eca77, findElement {using=xpath, value=//button[@id='signIn_En']}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 106.0.5249.119, chrome: {chromedriverVersion: 106.0.5249.61 (511755355844..., userDataDir: C:\\Users\\Soumya.B\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:65297}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:65297/devtoo..., se:cdpVersion: 106.0.5249.119, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: d2f82fd9eda093fbeb1872f16a7eca77\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\n    at sample.Sample1.main(Sample1.java:23)\n</code></pre>\n"},{"tags":["java","ftp","sftp","apache-commons","apache-commons-vfs"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1666699522,"post_id":74193640,"comment_id":130994438,"body_markdown":"I do not know if it is possible with Apache Commons VFS. But note that even if it is, most SFTP and FTP servers do not allow this operation anyway. See [How can I copy/duplicate a file to another directory using SFTP?](https://stackoverflow.com/q/28089821/850848) + [FTP copy a file to another place in same FTP](https://stackoverflow.com/q/3808799/850848). For this reason, I&#39;d not really expect the library to support such operation.","body":"I do not know if it is possible with Apache Commons VFS. But note that even if it is, most SFTP and FTP servers do not allow this operation anyway. See <a href=\"https://stackoverflow.com/q/28089821/850848\">How can I copy/duplicate a file to another directory using SFTP?</a> + <a href=\"https://stackoverflow.com/q/3808799/850848\">FTP copy a file to another place in same FTP</a>. For this reason, I&#39;d not really expect the library to support such operation."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666699959,"post_id":74193640,"comment_id":130994605,"body_markdown":"VFS can for sure access the local filesystem. You&#39;d just have to have the right file pointers before that. But how would VFS assume that a file `ftp://localhost/a.txt` is actually the same as `/var/www/htdocs/a.txt`? This is where I believe the concept breaks.","body":"VFS can for sure access the local filesystem. You&#39;d just have to have the right file pointers before that. But how would VFS assume that a file <code>ftp:&#47;&#47;localhost&#47;a.txt</code> is actually the same as <code>&#47;var&#47;www&#47;htdocs&#47;a.txt</code>? This is where I believe the concept breaks."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666703530,"post_id":74193640,"comment_id":130995890,"body_markdown":"If you&#39;re using commons-vfs, is there a reason why you can&#39;t use the existing FTP client from commons-net?","body":"If you&#39;re using commons-vfs, is there a reason why you can&#39;t use the existing FTP client from commons-net?"}],"owner":{"account_id":16625407,"reputation":11,"user_id":12014643,"display_name":"Gnis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666699571,"creation_date":1666698651,"question_id":74193640,"body_markdown":"I am making a FTP client `using apache.commons.vfs` and I want to add the copy and paste functionality for the files in the remote server.\r\n\r\nI used the `copyFrom` method to copy the files:\r\n```\r\ndestFile.copyFrom(srcFile, Selectors.SELECT_ALL)\r\n```\r\nThe problem is that in this way the data goes from remote server to the FTP client and from there back to the remote server, making the copy speed very slow compared to copying them by the `cp` command.\r\n\r\nIs there a way in `apache.commons.vfs` to do the copy using the host commands instead of network transfers?","title":"Apache Commons VFS copyFrom in the same host uses the network","body":"<p>I am making a FTP client <code>using apache.commons.vfs</code> and I want to add the copy and paste functionality for the files in the remote server.</p>\n<p>I used the <code>copyFrom</code> method to copy the files:</p>\n<pre><code>destFile.copyFrom(srcFile, Selectors.SELECT_ALL)\n</code></pre>\n<p>The problem is that in this way the data goes from remote server to the FTP client and from there back to the remote server, making the copy speed very slow compared to copying them by the <code>cp</code> command.</p>\n<p>Is there a way in <code>apache.commons.vfs</code> to do the copy using the host commands instead of network transfers?</p>\n"},{"tags":["java","spring-boot","file","swagger-codegen-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":9911689,"reputation":303,"user_id":7338170,"display_name":"P.Sanjay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666699484,"creation_date":1666699041,"answer_id":74193718,"question_id":63525063,"body_markdown":"If your api is supposed to return a file which must be downloaded as response of it then your api must return responseResponseEntity&lt;ByteArrayResource&gt;. Below is the snapshot of the code you can try.\r\n\r\n    private ResponseEntity&lt;ByteArrayResource&gt; getRespEntity(Byte[] fileByte) {\r\n\t\tByteArrayResource resource = new ByteArrayResource(fileByte);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n        headers.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        headers.add(&quot;Expires&quot;, &quot;0&quot;);\r\n        \r\n        return ResponseEntity.ok().headers(headers).contentLength(resource.contentLength())\r\n        \t\t.contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n        \t\t.body(resource);\r\n\t}\t","title":"How to convert byte[] in to ResponseEntity&lt;Striing&gt; as appplication/octet-stream","body":"<p>If your api is supposed to return a file which must be downloaded as response of it then your api must return responseResponseEntity. Below is the snapshot of the code you can try.</p>\n<pre><code>private ResponseEntity&lt;ByteArrayResource&gt; getRespEntity(Byte[] fileByte) {\n    ByteArrayResource resource = new ByteArrayResource(fileByte);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\n    headers.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\n    headers.add(&quot;Expires&quot;, &quot;0&quot;);\n    \n    return ResponseEntity.ok().headers(headers).contentLength(resource.contentLength())\n            .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n            .body(resource);\n}   \n</code></pre>\n"}],"owner":{"account_id":9440412,"reputation":149,"user_id":7021088,"accept_rate":60,"display_name":"aeroboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666699484,"creation_date":1598021219,"question_id":63525063,"body_markdown":"My application is build on SprinBoot, Java Technology I want write API for file download and I am using swagger-codegen-maven-plugin and in the specification its mentioned as below for file download\r\n````\r\ncontent:\r\n    application/octect-stream:\r\n        schema:\r\n            type: string\r\n            format: binary\r\n````\r\nThe Code which is auto generated via swagger codegen contains the return type as \r\n````ResponseEntity&lt;String&gt;```` in java SpringBoot application. Now I have file data in byte[], how to convert it to String and send as application/octect-stream ?.\r\n\r\nAlso let me know if my data is in File object insteam of byte[] how to send it ?","title":"How to convert byte[] in to ResponseEntity&lt;Striing&gt; as appplication/octet-stream","body":"<p>My application is build on SprinBoot, Java Technology I want write API for file download and I am using swagger-codegen-maven-plugin and in the specification its mentioned as below for file download</p>\n<pre><code>content:\n    application/octect-stream:\n        schema:\n            type: string\n            format: binary\n</code></pre>\n<p>The Code which is auto generated via swagger codegen contains the return type as\n<code>ResponseEntity&lt;String&gt;</code> in java SpringBoot application. Now I have file data in byte[], how to convert it to String and send as application/octect-stream ?.</p>\n<p>Also let me know if my data is in File object insteam of byte[] how to send it ?</p>\n"},{"tags":["java","linux","maven","libgdx"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666699644,"post_id":74193809,"comment_id":130994489,"body_markdown":"*Can&#39;t load library: /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so* Is that file present?","body":"<i>Can&#39;t load library: /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so</i> Is that file present?"},{"owner":{"account_id":21705163,"reputation":1,"user_id":16017732,"display_name":"Thyrexx"},"score":0,"creation_date":1666771626,"post_id":74193809,"comment_id":131012614,"body_markdown":"@g00se, actually not exactly. In this directory are two files: &quot;liblwjgl64.so&quot; and &quot;libopenal64.so&quot;","body":"@g00se, actually not exactly. In this directory are two files: &quot;liblwjgl64.so&quot; and &quot;libopenal64.so&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666773329,"post_id":74193809,"comment_id":131013187,"body_markdown":"Try going in there and doing `cp liblwjgl64.so liblwjgl.so` then try again","body":"Try going in there and doing <code>cp liblwjgl64.so liblwjgl.so</code> then try again"},{"owner":{"account_id":21705163,"reputation":1,"user_id":16017732,"display_name":"Thyrexx"},"score":0,"creation_date":1666774913,"post_id":74193809,"comment_id":131013691,"body_markdown":"Then I get the following:\n`UnsatisfiedLinkError: /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so: /usr/lib/jvm/java-17-oracle/lib/libjawt.so: version \\`SUNWprivate_1.1&#39; not found (required by /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so)`","body":"Then I get the following: <code>UnsatisfiedLinkError: &#47;tmp&#47;libgdxthyrexx&#47;7b43be9b&#47;liblwjgl.so: &#47;usr&#47;lib&#47;jvm&#47;java-17-oracle&#47;lib&#47;libjawt.so: version `SUNWprivate_1.1&#39; not found (required by &#47;tmp&#47;libgdxthyrexx&#47;7b43be9b&#47;liblwjgl.so)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666776948,"post_id":74193809,"comment_id":131014343,"body_markdown":"I think you&#39;re going to have to reinstall libGDX - it looks broken. Maybe you were circumspect and used the /tmp directory but that could cause problems. I would follow the documentation","body":"I think you&#39;re going to have to reinstall libGDX - it looks broken. Maybe you were circumspect and used the /tmp directory but that could cause problems. I would follow the documentation"}],"owner":{"account_id":21705163,"reputation":1,"user_id":16017732,"display_name":"Thyrexx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666699457,"creation_date":1666699457,"question_id":74193809,"body_markdown":"For a school project me and my team want to develop a game using libGDX in Java. So we set up the project with maven. The set up already included some basic code to which displays the libGDX logo on a black background.  \r\nSo to see whether everything works my team and I build the project with ```mvn -Pdesktop package``` then we executed the jar file in the target folder with ```java -jar filename.jar```\r\nThe problem now is that this worked for everybody except me and I&#39;m suggesting that has to with the OS because I&#39;m the only one in the team using Linux (The others have Windows and MAC OS).\r\n\r\nThe complete Terminal output I get is:\r\n\r\n```\r\nthyrexx@thyrexx-ThinkPad-E15-Gen-3:~/ProgrammingProjects/Java/dieter/desktop/target$ java -jar dieter-desktop-1.0-SNAPSHOT-jar-with-dependencies.jar \r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n\tat java.base/java.lang.System.load(System.java:1953)\r\n\tat org.lwjgl.Sys$1.run(Sys.java:70)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.lwjgl.Sys.doLoadLibrary(Sys.java:66)\r\n\tat org.lwjgl.Sys.loadLibrary(Sys.java:95)\r\n\tat org.lwjgl.Sys.&lt;clinit&gt;(Sys.java:112)\r\n\tat org.lwjgl.openal.AL.&lt;clinit&gt;(AL.java:59)\r\n\tat com.badlogic.gdx.backends.lwjgl.audio.OpenALAudio.&lt;init&gt;(OpenALAudio.java:72)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication.&lt;init&gt;(LwjglApplication.java:82)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication.&lt;init&gt;(LwjglApplication.java:64)\r\n\tat de.dieter.java.DieterDesktop.main(DieterDesktop.java:11)\r\n```\r\nDieter is the Project name.\r\n\r\nWould be very happy if anyone has an idea how to solve this problem.","title":"What is causing &quot;UnsatisfiedLinkError: Can&#39;t load library&quot; using libGDX on Linux","body":"<p>For a school project me and my team want to develop a game using libGDX in Java. So we set up the project with maven. The set up already included some basic code to which displays the libGDX logo on a black background.<br />\nSo to see whether everything works my team and I build the project with <code>mvn -Pdesktop package</code> then we executed the jar file in the target folder with <code>java -jar filename.jar</code>\nThe problem now is that this worked for everybody except me and I'm suggesting that has to with the OS because I'm the only one in the team using Linux (The others have Windows and MAC OS).</p>\n<p>The complete Terminal output I get is:</p>\n<pre><code>thyrexx@thyrexx-ThinkPad-E15-Gen-3:~/ProgrammingProjects/Java/dieter/desktop/target$ java -jar dieter-desktop-1.0-SNAPSHOT-jar-with-dependencies.jar \nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /tmp/libgdxthyrexx/7b43be9b/liblwjgl.so\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at org.lwjgl.Sys$1.run(Sys.java:70)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.lwjgl.Sys.doLoadLibrary(Sys.java:66)\n    at org.lwjgl.Sys.loadLibrary(Sys.java:95)\n    at org.lwjgl.Sys.&lt;clinit&gt;(Sys.java:112)\n    at org.lwjgl.openal.AL.&lt;clinit&gt;(AL.java:59)\n    at com.badlogic.gdx.backends.lwjgl.audio.OpenALAudio.&lt;init&gt;(OpenALAudio.java:72)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication.&lt;init&gt;(LwjglApplication.java:82)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication.&lt;init&gt;(LwjglApplication.java:64)\n    at de.dieter.java.DieterDesktop.main(DieterDesktop.java:11)\n</code></pre>\n<p>Dieter is the Project name.</p>\n<p>Would be very happy if anyone has an idea how to solve this problem.</p>\n"},{"tags":["java","parseint"],"comments":[{"owner":{"account_id":1497628,"reputation":1494,"user_id":1403208,"display_name":"Logard"},"score":0,"creation_date":1353193894,"post_id":13435680,"comment_id":18367083,"body_markdown":"Java&#39;s Integer.parseInt has an optional radix parameter. But make sure you want a radix of 5. If you are trying to parse &quot;regular&quot; number inputs, you can just ommit the radix completely.","body":"Java&#39;s Integer.parseInt has an optional radix parameter. But make sure you want a radix of 5. If you are trying to parse &quot;regular&quot; number inputs, you can just ommit the radix completely."}],"answers":[{"comments":[{"owner":{"account_id":2054526,"reputation":53,"user_id":1832679,"display_name":"user1832679"},"score":0,"creation_date":1353195386,"post_id":13435694,"comment_id":18367370,"body_markdown":"Thanks for the quick reply, i think alone i didn&#39;t get it by the end of this year.","body":"Thanks for the quick reply, i think alone i didn&#39;t get it by the end of this year."}],"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1353193712,"creation_date":1353193712,"answer_id":13435694,"question_id":13435680,"body_markdown":"[**parseInt**][1] is a **static** method in **Integer** class. you need to call it like this:\r\n\r\n      y = Integer.parseInt(s,5);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29","title":"cannot find symbol: parseInt","body":"<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"noreferrer\"><strong>parseInt</strong></a> is a <strong>static</strong> method in <strong>Integer</strong> class. you need to call it like this:</p>\n\n<pre><code>  y = Integer.parseInt(s,5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1816007,"reputation":16534,"user_id":1651073,"display_name":"Frank"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353194045,"creation_date":1353193720,"answer_id":13435696,"question_id":13435680,"body_markdown":"Your are trying to access a static method of the `Integer` class\r\n\r\nYou must do:\r\n\r\n    y = Integer.parseInt(s,5);","title":"cannot find symbol: parseInt","body":"<p>Your are trying to access a static method of the <code>Integer</code> class</p>\n\n<p>You must do:</p>\n\n<pre><code>y = Integer.parseInt(s,5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666699214,"creation_date":1353194205,"answer_id":13435751,"question_id":13435680,"body_markdown":"`parseInt` is static method of Integer class. To invoke it you have to do one of few things:\r\n\r\n\r\n1. invoke it on Integer class \r\n\r\n        y = Integer.parseInt(s, 5)\r\n\r\n2. invoke it on *variable* of Integer type (but this way is discouraged since such code still will be compiled into `Integer.parseInt` but will *look* like `parseInt` is instance method - so non-static which is not true and may cause confusion)\r\n   \r\n        Integer i = null;//yes reference can be even null in this case\r\n        y = i.parseInt(s, 5);\r\n\r\n3. import that static method using *static import* via `import static java.lang.Integer.parseInt;`. This way you can use that method directly:\r\n\r\n        y = parseInt(s,5);","title":"cannot find symbol: parseInt","body":"<p><code>parseInt</code> is static method of Integer class. To invoke it you have to do one of few things:</p>\n<ol>\n<li><p>invoke it on Integer class</p>\n<pre><code> y = Integer.parseInt(s, 5)\n</code></pre>\n</li>\n<li><p>invoke it on <em>variable</em> of Integer type (but this way is discouraged since such code still will be compiled into <code>Integer.parseInt</code> but will <em>look</em> like <code>parseInt</code> is instance method - so non-static which is not true and may cause confusion)</p>\n<pre><code> Integer i = null;//yes reference can be even null in this case\n y = i.parseInt(s, 5);\n</code></pre>\n</li>\n<li><p>import that static method using <em>static import</em> via <code>import static java.lang.Integer.parseInt;</code>. This way you can use that method directly:</p>\n<pre><code> y = parseInt(s,5);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2054526,"reputation":53,"user_id":1832679,"display_name":"user1832679"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23720,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13435694,"answer_count":3,"score":5,"last_activity_date":1666699214,"creation_date":1353193603,"question_id":13435680,"body_markdown":"I have allready compiled a few tiny programms in java and everything was fine. But my new code has any problem.\r\n\r\n    class myclass\r\n    {\r\n     public static void main (String[] args)\r\n     {\r\n      int x, y;\r\n      String s =&quot;sssss&quot;;\r\n      x=args.length;\r\n      s= args[0].substring(1,2);\r\n      System.out.println(&quot;Num of args: &quot;+x);\r\n      System.out.println(&quot;List of args:&quot;);\r\n      y = parseInt(s,5);\r\n      }\r\n    }\r\n\r\nThe compiler says:\r\n\r\n     e:\\java\\4&gt;javac myclass.java \r\n      myclass.java:11: error: cannot find symbol   \r\n       y = parseInt(s,5);\r\n           ^   symbol:   method parseInt(String,int)   location: class myclass 1 error\r\n     \r\n     e:\\java\\4&gt;\r\n\r\n\r\n\r\nThe strange thing is that the compiler jumps over the method substring (as there is no problem) but the method parseInt seems to have any problem.\r\ny = parseInt(s); OR: y = parseInt(&quot;Hello&quot;); --&gt; Also the same compiler message.\r\n\r\nOr does the method not exist? [docs.oracle--&gt;Integer][1] says it exists :)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html\r\n\r\nIt makes my really crazy **as i don&#39;t know how to search for the error**. I have checked the internet allready, i checked the classpath and the path...\r\n\r\nSo it would be great if any expert could help me. :)","title":"cannot find symbol: parseInt","body":"<p>I have allready compiled a few tiny programms in java and everything was fine. But my new code has any problem.</p>\n\n<pre><code>class myclass\n{\n public static void main (String[] args)\n {\n  int x, y;\n  String s =\"sssss\";\n  x=args.length;\n  s= args[0].substring(1,2);\n  System.out.println(\"Num of args: \"+x);\n  System.out.println(\"List of args:\");\n  y = parseInt(s,5);\n  }\n}\n</code></pre>\n\n<p>The compiler says:</p>\n\n<pre><code> e:\\java\\4&gt;javac myclass.java \n  myclass.java:11: error: cannot find symbol   \n   y = parseInt(s,5);\n       ^   symbol:   method parseInt(String,int)   location: class myclass 1 error\n\n e:\\java\\4&gt;\n</code></pre>\n\n<p>The strange thing is that the compiler jumps over the method substring (as there is no problem) but the method parseInt seems to have any problem.\ny = parseInt(s); OR: y = parseInt(\"Hello\"); --> Also the same compiler message.</p>\n\n<p>Or does the method not exist? <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html\" rel=\"noreferrer\">docs.oracle-->Integer</a> says it exists :)</p>\n\n<p>It makes my really crazy <strong>as i don't know how to search for the error</strong>. I have checked the internet allready, i checked the classpath and the path...</p>\n\n<p>So it would be great if any expert could help me. :)</p>\n"},{"tags":["java","reflection","casting"],"answers":[{"comments":[{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1666699014,"post_id":74193560,"comment_id":130994282,"body_markdown":"Sorry I should have formulated the question more clearly, that does indeed suppress the warning but still the unchecked cast remains, what I need to do is to modify the value in the private static final hashmap without an unchecked cast, the field is from a source file so I cannot modify the methods for handling it.","body":"Sorry I should have formulated the question more clearly, that does indeed suppress the warning but still the unchecked cast remains, what I need to do is to modify the value in the private static final hashmap without an unchecked cast, the field is from a source file so I cannot modify the methods for handling it."},{"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"score":1,"creation_date":1666700589,"post_id":74193560,"comment_id":130994812,"body_markdown":"I dont&#39; think you can. You could cast to a Map&lt;?, ?&gt; and get an Object from it, but you won&#39;t be able to write without casting. I haven&#39;t checked, but it could be possible for you to read the whole map, create a new one with all the values, and write it back (using reflection). But that could create a whole lot of undesired side-effects.","body":"I dont&#39; think you can. You could cast to a Map&lt;?, ?&gt; and get an Object from it, but you won&#39;t be able to write without casting. I haven&#39;t checked, but it could be possible for you to read the whole map, create a new one with all the values, and write it back (using reflection). But that could create a whole lot of undesired side-effects."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1666750430,"post_id":74193560,"comment_id":131008403,"body_markdown":"Yeah, no go, there&#39;s no way to avoid it if I&#39;m gonna use reflection, guess that now the best approach is to convince the CI people to make an exception for the codecheck.","body":"Yeah, no go, there&#39;s no way to avoid it if I&#39;m gonna use reflection, guess that now the best approach is to convince the CI people to make an exception for the codecheck."}],"tags":[],"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666698328,"creation_date":1666698328,"answer_id":74193560,"question_id":74191431,"body_markdown":"You will not be able to get rid of the warning on the cast itself. The only thing you can do is suppress the warning using the `@SuppressWarnings` annotation:\r\n\r\n```\r\n...\r\nField field = SomeClass.class.getDeclaredField(FIELD_NAME);\r\nfield.setAccessible(true);\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nMap&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt; map = (Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt;) field.get(null);\r\n\r\nCollection&lt;Class&lt;?&gt;&gt; classes= map.computeIfAbsent(KeyClass.class, k -&gt; new LinkedList&lt;&gt;());\r\n...    \r\n\r\n```","title":"Avoid Unchecked cast warning to generic Type when using reflection","body":"<p>You will not be able to get rid of the warning on the cast itself. The only thing you can do is suppress the warning using the <code>@SuppressWarnings</code> annotation:</p>\n<pre><code>...\nField field = SomeClass.class.getDeclaredField(FIELD_NAME);\nfield.setAccessible(true);\n\n@SuppressWarnings(&quot;unchecked&quot;)\nMap&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt; map = (Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt;) field.get(null);\n\nCollection&lt;Class&lt;?&gt;&gt; classes= map.computeIfAbsent(KeyClass.class, k -&gt; new LinkedList&lt;&gt;());\n...    \n\n</code></pre>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74193560,"answer_count":1,"score":0,"last_activity_date":1666699169,"creation_date":1666687799,"question_id":74191431,"body_markdown":"I have a piece of code which looks like this,\r\n \r\nthe field is a private static final HashMap from a source code which I need to modify.\r\n\r\n```\r\nvoid &lt;T extends MyInterface&gt; registerMyClass (Class&lt;T&gt; myClass) throws NoSuchFieldException, \r\n                                                                       IllegalAccessException, \r\n                                                                       ClassCastException {\r\n\r\n    Field field = SomeClass.class.getDeclaredField(FIELD_NAME);\r\n    field.setAccessible(true);\r\n    Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt; map = (Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt;) field.get(null);\r\n    Collection&lt;Class&lt;?&gt;&gt; classes= map.computeIfAbsent(KeyClass.class, k -&gt; new LinkedList&lt;&gt;());\r\n    \r\n    if (!classes.contains(myClass)) {\r\n        services.add(myClass);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI would like to do this without getting an Unchecked warning which does not comply with the requirements for a merge request.\r\n\r\nIs there an approach to achieve the same result without causing an unchecked cast warning?\r\n\r\nEDIT: \r\n\r\nI should have formulated the question more clearly, what I need to do is to modify the value in the private static final hashmap without performing an unchecked cast, the field is from a source file so I cannot modify the methods for handling it, so I resorted to reflection.\r\n\r\nBasically now it works but I can&#39;t merge the code because it&#39;s too ugly :( and doesn&#39;t pass the automatic code-check, so I need some other approach.","title":"Avoid Unchecked cast warning to generic Type when using reflection","body":"<p>I have a piece of code which looks like this,</p>\n<p>the field is a private static final HashMap from a source code which I need to modify.</p>\n<pre><code>void &lt;T extends MyInterface&gt; registerMyClass (Class&lt;T&gt; myClass) throws NoSuchFieldException, \n                                                                       IllegalAccessException, \n                                                                       ClassCastException {\n\n    Field field = SomeClass.class.getDeclaredField(FIELD_NAME);\n    field.setAccessible(true);\n    Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt; map = (Map&lt;Class, Collection&lt;Class&lt;?&gt;&gt;&gt;) field.get(null);\n    Collection&lt;Class&lt;?&gt;&gt; classes= map.computeIfAbsent(KeyClass.class, k -&gt; new LinkedList&lt;&gt;());\n    \n    if (!classes.contains(myClass)) {\n        services.add(myClass);\n    }\n\n}\n\n</code></pre>\n<p>I would like to do this without getting an Unchecked warning which does not comply with the requirements for a merge request.</p>\n<p>Is there an approach to achieve the same result without causing an unchecked cast warning?</p>\n<p>EDIT:</p>\n<p>I should have formulated the question more clearly, what I need to do is to modify the value in the private static final hashmap without performing an unchecked cast, the field is from a source file so I cannot modify the methods for handling it, so I resorted to reflection.</p>\n<p>Basically now it works but I can't merge the code because it's too ugly :( and doesn't pass the automatic code-check, so I need some other approach.</p>\n"},{"tags":["java","spring-boot","quartz-scheduler","spring-scheduled"],"comments":[{"owner":{"account_id":5798832,"reputation":51,"user_id":4573708,"display_name":"Ketan"},"score":1,"creation_date":1588290402,"post_id":61400135,"comment_id":108849843,"body_markdown":"in spring boot extending  BatchTriggerJob  with MethodInvokingJobDetailFactoryBean.StatefulMethodInvokingJob  has helped and made job stateful and non-Concurrent across instance. so now no parallel run if job processing time is more than delay","body":"in spring boot extending  BatchTriggerJob  with MethodInvokingJobDetailFactoryBean.StatefulMethodInvokingJob  has helped and made job stateful and non-Concurrent across instance. so now no parallel run if job processing time is more than delay"}],"answers":[{"tags":[],"owner":{"account_id":5080299,"reputation":3548,"user_id":4076606,"display_name":"Mateusz Stefek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666698973,"creation_date":1666698973,"answer_id":74193709,"question_id":61400135,"body_markdown":"Here are some possible reasons why Quartz might ignore `@DisallowConcurrentExecution` \r\n\r\n- Quartz property `org.quartz.jobStore.isClustered` is not set to `true`.\r\n\r\n  `true` is not a default in Spring-Boot!\r\n  You must provide this quartz property. For example, through application.properties:\r\n  ```\r\n  spring.quartz.properties.org.quartz.jobStore.isClustered=true\r\n  ```\r\n\r\n- If you create the job through the standard Spring integration, the metadata will be stored only once in QRTZ_JOB_DETAILS. If you add the annotation later, the `IS_NONCONCURRENT` will not be updated.","title":"Quartz cluster - @DisallowConcurrentExecution avoid parallel run across instances","body":"<p>Here are some possible reasons why Quartz might ignore <code>@DisallowConcurrentExecution</code></p>\n<ul>\n<li><p>Quartz property <code>org.quartz.jobStore.isClustered</code> is not set to <code>true</code>.</p>\n<p><code>true</code> is not a default in Spring-Boot!\nYou must provide this quartz property. For example, through application.properties:</p>\n<pre><code>spring.quartz.properties.org.quartz.jobStore.isClustered=true\n</code></pre>\n</li>\n<li><p>If you create the job through the standard Spring integration, the metadata will be stored only once in QRTZ_JOB_DETAILS. If you add the annotation later, the <code>IS_NONCONCURRENT</code> will not be updated.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5798832,"reputation":51,"user_id":4573708,"display_name":"Ketan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666698973,"creation_date":1587695378,"question_id":61400135,"body_markdown":"I have springBoot application running Quarts (2.3.0) with **cluster mode true** in multiple instances.\r\n\r\nand I have configured job and provided delay of 2 seconds between each run.\r\n\r\n    @Configuration\r\n    public class SchedulerConfig {\r\n    \r\n    \r\n      @Bean\r\n      public JobDetail jobDetail() {\r\n        return JobBuilder.newJob()\r\n                .ofType(BatchTriggerJob.class)\r\n                .storeDurably()\r\n                .withIdentity(&quot;SCHEDULER&quot;)\r\n                .withDescription(&quot;event&quot;)\r\n                .build();\r\n      }\r\n    \r\n      @Bean\r\n      public Trigger trigger() {\r\n        return TriggerBuilder\r\n                .newTrigger()\r\n                .forJob(jobDetail())\r\n                .withIdentity(&quot;BATCH&quot;)\r\n                .withDescription(&quot;SCHEDULER&quot;)\r\n                .withSchedule(SimpleScheduleBuilder.simpleSchedule().repeatForever().withIntervalInSeconds(2)\r\n                        .withMisfireHandlingInstructionIgnoreMisfires())\r\n                .build();\r\n      }\r\n    \r\n    }\r\n\r\n\r\nI have enabled DisallowConcurrentExecution\r\n\r\n    @DisallowConcurrentExecution\r\n    public class BatchTriggerJob extends QuartzJobBean {\r\n    \r\n      @Autowired\r\n      private SchedulerService schedulerService;\r\n    \r\n      @Override\r\n      protected void executeInternal(JobExecutionContext context) {\r\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n        schedulerService.processBatch(); //business logic and may take more than 2 sec\r\n      }\r\n    \r\n    }\r\n\r\napplication.yml\r\n \r\n\r\n    quartz:\r\n        job-store-type: jdbc\r\n        jdbc:\r\n          initialize-schema: always\r\n        properties:\r\n          org:\r\n            quartz:\r\n              scheduler:\r\n                instanceName: EVENT_SCHEDULER\r\n                instanceId: AUTO\r\n              jobStore:\r\n                isClustered: true\r\n                misfireThreshold: 60000\r\n                class: org.quartz.impl.jdbcjobstore.JobStoreTX\r\n                driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n                tablePrefix: QRTZ_\r\n              threadPool:\r\n                threadCount: 1\r\n\r\n However if job processing time is more than 2 seconds then another instance will start job execution.\r\n\r\nI want sequential execution across instances with cluster mode on and only start another job across instance if current job finished in another of the instance.\r\n\r\n**PS:** with single node even-if delay is &lt; than processing time. job is running sequential due to @DisallowConcurrentExecution","title":"Quartz cluster - @DisallowConcurrentExecution avoid parallel run across instances","body":"<p>I have springBoot application running Quarts (2.3.0) with <strong>cluster mode true</strong> in multiple instances.</p>\n\n<p>and I have configured job and provided delay of 2 seconds between each run.</p>\n\n<pre><code>@Configuration\npublic class SchedulerConfig {\n\n\n  @Bean\n  public JobDetail jobDetail() {\n    return JobBuilder.newJob()\n            .ofType(BatchTriggerJob.class)\n            .storeDurably()\n            .withIdentity(\"SCHEDULER\")\n            .withDescription(\"event\")\n            .build();\n  }\n\n  @Bean\n  public Trigger trigger() {\n    return TriggerBuilder\n            .newTrigger()\n            .forJob(jobDetail())\n            .withIdentity(\"BATCH\")\n            .withDescription(\"SCHEDULER\")\n            .withSchedule(SimpleScheduleBuilder.simpleSchedule().repeatForever().withIntervalInSeconds(2)\n                    .withMisfireHandlingInstructionIgnoreMisfires())\n            .build();\n  }\n\n}\n</code></pre>\n\n<p>I have enabled DisallowConcurrentExecution</p>\n\n<pre><code>@DisallowConcurrentExecution\npublic class BatchTriggerJob extends QuartzJobBean {\n\n  @Autowired\n  private SchedulerService schedulerService;\n\n  @Override\n  protected void executeInternal(JobExecutionContext context) {\n    SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    schedulerService.processBatch(); //business logic and may take more than 2 sec\n  }\n\n}\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>quartz:\n    job-store-type: jdbc\n    jdbc:\n      initialize-schema: always\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceName: EVENT_SCHEDULER\n            instanceId: AUTO\n          jobStore:\n            isClustered: true\n            misfireThreshold: 60000\n            class: org.quartz.impl.jdbcjobstore.JobStoreTX\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n            tablePrefix: QRTZ_\n          threadPool:\n            threadCount: 1\n</code></pre>\n\n<p>However if job processing time is more than 2 seconds then another instance will start job execution.</p>\n\n<p>I want sequential execution across instances with cluster mode on and only start another job across instance if current job finished in another of the instance.</p>\n\n<p><strong>PS:</strong> with single node even-if delay is &lt; than processing time. job is running sequential due to @DisallowConcurrentExecution</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":4331632,"reputation":838,"user_id":3536991,"accept_rate":93,"display_name":"TheITDejan"},"score":0,"creation_date":1666861295,"post_id":74193617,"comment_id":131037165,"body_markdown":"Does this answer your question? [How to detect if kafka broker is not available from consumer in java?](https://stackoverflow.com/questions/49532645/how-to-detect-if-kafka-broker-is-not-available-from-consumer-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49532645/how-to-detect-if-kafka-broker-is-not-available-from-consumer-in-java\">How to detect if kafka broker is not available from consumer in java?</a>"},{"owner":{"account_id":26225844,"reputation":41,"user_id":19902559,"display_name":"artem malinko"},"score":1,"creation_date":1666964400,"post_id":74193617,"comment_id":131065340,"body_markdown":"Well, probably I would love to have something more robust, but it could work I think, need to try it. Just strange that kafka decided to retry forever for some reason. Thank you for the link.","body":"Well, probably I would love to have something more robust, but it could work I think, need to try it. Just strange that kafka decided to retry forever for some reason. Thank you for the link."}],"owner":{"account_id":26225844,"reputation":41,"user_id":19902559,"display_name":"artem malinko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666698919,"creation_date":1666698561,"question_id":74193617,"body_markdown":"Currently, when broker is not available, I see that java consumer will try to reconnect to broker for infinite amount of time(or at least I was not able to wait till it stops).\r\n\r\nWhat I would like to have is an ability to have an exception thrown from `poll()` when broker is not available. Or maybe some other way, but I want my app to crash when broker is not available. It seems that it should be very easy to configure, but I&#39;m unable to find info anywhere.\r\n\r\nHere is an example. It&#39;ll always return 0 records from poll and will retry connection to broker forever.\r\n\r\n    package org.example;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    import java.util.Properties;\r\n    \r\n    public class Consumer {\r\n        public static void main(String[] args) {\r\n            Properties props = new Properties();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9094&quot;);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-group&quot;);\r\n            try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\r\n                consumer.subscribe(List.of(&quot;game.journal&quot;));\r\n                while (true) {\r\n                    ConsumerRecords&lt;String, String&gt; recs = consumer.poll(Duration.ofMillis(100));\r\n                    for (ConsumerRecord&lt;String, String&gt; rec : recs) {\r\n                        System.out.printf(&quot;Recieved %s: %s&quot;, rec.key(), rec.value());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nSo how can I make consumer crash when broker is not available?","title":"How to make kafka consumer stop retrying and crash when broker is not available?","body":"<p>Currently, when broker is not available, I see that java consumer will try to reconnect to broker for infinite amount of time(or at least I was not able to wait till it stops).</p>\n<p>What I would like to have is an ability to have an exception thrown from <code>poll()</code> when broker is not available. Or maybe some other way, but I want my app to crash when broker is not available. It seems that it should be very easy to configure, but I'm unable to find info anywhere.</p>\n<p>Here is an example. It'll always return 0 records from poll and will retry connection to broker forever.</p>\n<pre><code>package org.example;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\n\nimport java.time.Duration;\nimport java.util.List;\nimport java.util.Properties;\n\npublic class Consumer {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9094&quot;);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-group&quot;);\n        try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\n            consumer.subscribe(List.of(&quot;game.journal&quot;));\n            while (true) {\n                ConsumerRecords&lt;String, String&gt; recs = consumer.poll(Duration.ofMillis(100));\n                for (ConsumerRecord&lt;String, String&gt; rec : recs) {\n                    System.out.printf(&quot;Recieved %s: %s&quot;, rec.key(), rec.value());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>So how can I make consumer crash when broker is not available?</p>\n"},{"tags":["java","string","int"],"comments":[{"owner":{"account_id":2405892,"reputation":4607,"user_id":2102389,"accept_rate":35,"display_name":"tony9099"},"score":0,"creation_date":1380550128,"post_id":5439529,"comment_id":28232151,"body_markdown":"I do not understand with several java updates, such easy helper methods are not being made built in into the kit.","body":"I do not understand with several java updates, such easy helper methods are not being made built in into the kit."},{"owner":{"account_id":320506,"reputation":4688,"user_id":638821,"accept_rate":67,"display_name":"Nick Coelius"},"score":0,"creation_date":1380754748,"post_id":5439529,"comment_id":28322564,"body_markdown":"@tony9099 it&#39;s kind of an edgecase situation and, from what I&#39;ve seen slash the fact that this question still gets views, fairly unique.  The accepted workaround (that I accepted as an answer) is probably better than making it Java standard.","body":"@tony9099 it&#39;s kind of an edgecase situation and, from what I&#39;ve seen slash the fact that this question still gets views, fairly unique.  The accepted workaround (that I accepted as an answer) is probably better than making it Java standard."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":2,"creation_date":1380903752,"post_id":5439529,"comment_id":28386722,"body_markdown":"@Nick to further your argument that it&#39;s not necessary to be in Java, only about one in every 772 visitors decided to vote up my answer, despite there being three useful solutions (admittedly, each better than the previous one). I think that is a clear indicator this is an edge case where in most cases you&#39;re better off changing the way you solve the problem such that you don&#39;t need my solution instead of actually using it.","body":"@Nick to further your argument that it&#39;s not necessary to be in Java, only about one in every 772 visitors decided to vote up my answer, despite there being three useful solutions (admittedly, each better than the previous one). I think that is a clear indicator this is an edge case where in most cases you&#39;re better off changing the way you solve the problem such that you don&#39;t need my solution instead of actually using it."}],"answers":[{"comments":[{"owner":{"account_id":2374710,"reputation":1391,"user_id":2078414,"accept_rate":100,"display_name":"bobismijnnaam"},"score":4,"creation_date":1460621641,"post_id":5439535,"comment_id":60831041,"body_markdown":"Why is this not higher rated? It seems the simplest to me, or are there some downsides I am missing?","body":"Why is this not higher rated? It seems the simplest to me, or are there some downsides I am missing?"},{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":15,"creation_date":1461180591,"post_id":5439535,"comment_id":61087013,"body_markdown":"@bobismijnnaam The problem with this is, that it generates a relative expensive exception and you have some nasty nesting, which may affect readability.","body":"@bobismijnnaam The problem with this is, that it generates a relative expensive exception and you have some nasty nesting, which may affect readability."},{"owner":{"account_id":5949632,"reputation":1404,"user_id":4678099,"accept_rate":78,"display_name":"Rolch2015"},"score":8,"creation_date":1472761097,"post_id":5439535,"comment_id":65894795,"body_markdown":"Exceptions are indicating that something went wrong, and this kind of usage surely is an abuse of this design principle. Only use Integer.parserInt() **after** you ensured, that the String really contains an integer value. If doing so and Integer.parseInt still throws an exception, then you know that you have a problem in your code which you should fix (or, for the sake of completeness,  that Integer.parseInt itself is buggy, but this option is quite unlikely)","body":"Exceptions are indicating that something went wrong, and this kind of usage surely is an abuse of this design principle. Only use Integer.parserInt() <b>after</b> you ensured, that the String really contains an integer value. If doing so and Integer.parseInt still throws an exception, then you know that you have a problem in your code which you should fix (or, for the sake of completeness,  that Integer.parseInt itself is buggy, but this option is quite unlikely)"},{"owner":{"account_id":11682765,"reputation":465,"user_id":8553816,"display_name":"Khwaja Sanjari"},"score":0,"creation_date":1552625728,"post_id":5439535,"comment_id":97090132,"body_markdown":"not worked and converted aaaa into some value","body":"not worked and converted aaaa into some value"}],"tags":[],"owner":{"account_id":331837,"reputation":63673,"user_id":656769,"display_name":"Mike Lewis"},"comment_count":4,"down_vote_count":4,"up_vote_count":83,"is_accepted":false,"score":79,"last_activity_date":1301099564,"creation_date":1301099564,"answer_id":5439535,"question_id":5439529,"body_markdown":"You want to use the [Integer.parseInt(String)][1] method.\r\n\r\n    try{\r\n      int num = Integer.parseInt(str);\r\n      // is an integer!\r\n    } catch (NumberFormatException e) {\r\n      // not an integer!\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29","title":"Determine if a String is an Integer in Java","body":"<p>You want to use the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\">Integer.parseInt(String)</a> method.</p>\n\n<pre><code>try{\n  int num = Integer.parseInt(str);\n  // is an integer!\n} catch (NumberFormatException e) {\n  // not an integer!\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":264319,"reputation":5106,"user_id":550514,"accept_rate":100,"display_name":"Chad La Guardia"},"score":0,"creation_date":1301103672,"post_id":5439543,"comment_id":6160708,"body_markdown":"edited for clarity.  No need to be cheeky.","body":"edited for clarity.  No need to be cheeky."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1301337350,"post_id":5439543,"comment_id":6192651,"body_markdown":"@krmby the objective is not to actually retrieve the value, only to determine if it fits the format. In that regard, Chad is correct in that both of the methods will work just fine.","body":"@krmby the objective is not to actually retrieve the value, only to determine if it fits the format. In that regard, Chad is correct in that both of the methods will work just fine."},{"owner":{"account_id":184855,"reputation":10523,"user_id":421162,"display_name":"Kerem Baydoğan"},"score":0,"creation_date":1301397660,"post_id":5439543,"comment_id":6203028,"body_markdown":"@glowcoder you are talking about edited version of the answer which i am not. I now both methods do the job fine but this does not change the fact that return type of `Integer.parseInt()` is `int`.","body":"@glowcoder you are talking about edited version of the answer which i am not. I now both methods do the job fine but this does not change the fact that return type of <code>Integer.parseInt()</code> is <code>int</code>."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1301416108,"post_id":5439543,"comment_id":6208754,"body_markdown":"@krmby ah an interesting point. I was focusing on the first paragraph (which as I review, remains unchanged.)","body":"@krmby ah an interesting point. I was focusing on the first paragraph (which as I review, remains unchanged.)"},{"owner":{"account_id":184855,"reputation":10523,"user_id":421162,"display_name":"Kerem Baydoğan"},"score":0,"creation_date":1301419423,"post_id":5439543,"comment_id":6209644,"body_markdown":"@glowcoder Author of this answer said: **It may be helpful to note that those methods will return an Integer object, not the primitive int**. I&#39;m **ONLY** saying that `parseInt()` returns `int`. I said **NOTHING** about first paragraph. Chad La Guardia **CORRECTED** his answer according to my comment and everything is fine. So i&#39;m not getting your point actually.","body":"@glowcoder Author of this answer said: <b>It may be helpful to note that those methods will return an Integer object, not the primitive int</b>. I&#39;m <b>ONLY</b> saying that <code>parseInt()</code> returns <code>int</code>. I said <b>NOTHING</b> about first paragraph. Chad La Guardia <b>CORRECTED</b> his answer according to my comment and everything is fine. So i&#39;m not getting your point actually."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1301421446,"post_id":5439543,"comment_id":6210159,"body_markdown":"@krmby yes I noticed that. What I&#39;m saying was I wasn&#39;t aware there was an error only in the second paragraph, as I had largely ignored it. My actual assumption was that there was an error originally in the first paragraph and that the second paragraph was only added to appease your first comment. You actually said nothing about either paragraph, only that one returns an Integer instead of an int. I read, in the first sentence, &quot;to get the integer from the string&quot;, which made me think that&#39;s what your reference was to.","body":"@krmby yes I noticed that. What I&#39;m saying was I wasn&#39;t aware there was an error only in the second paragraph, as I had largely ignored it. My actual assumption was that there was an error originally in the first paragraph and that the second paragraph was only added to appease your first comment. You actually said nothing about either paragraph, only that one returns an Integer instead of an int. I read, in the first sentence, &quot;to get the integer from the string&quot;, which made me think that&#39;s what your reference was to."}],"tags":[],"owner":{"account_id":264319,"reputation":5106,"user_id":550514,"accept_rate":100,"display_name":"Chad La Guardia"},"comment_count":6,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1301103586,"creation_date":1301099655,"answer_id":5439543,"question_id":5439529,"body_markdown":"You can use `Integer.parseInt()` or `Integer.valueOf()` to get the integer from the string, and catch the exception if it is not a parsable int.  You want to be sure to catch the `NumberFormatException` it can throw.\r\n\r\nIt may be helpful to note that valueOf() will return an Integer object, not the primitive int.  ","title":"Determine if a String is an Integer in Java","body":"<p>You can use <code>Integer.parseInt()</code> or <code>Integer.valueOf()</code> to get the integer from the string, and catch the exception if it is not a parsable int.  You want to be sure to catch the <code>NumberFormatException</code> it can throw.</p>\n\n<p>It may be helpful to note that valueOf() will return an Integer object, not the primitive int.  </p>\n"},{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":3,"creation_date":1301099777,"post_id":5439547,"comment_id":6160324,"body_markdown":"You&#39;ll note that this does not check for null. We&#39;re willing to let the null pointer exception get thrown. If you want to handle that, you can. I chose not to, but rather to delegate it up.","body":"You&#39;ll note that this does not check for null. We&#39;re willing to let the null pointer exception get thrown. If you want to handle that, you can. I chose not to, but rather to delegate it up."},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":1,"creation_date":1324054665,"post_id":5439547,"comment_id":10574944,"body_markdown":"try/catch block for that?  I think that is a bit excessive for this task as throwing an exception can be expensive and if a number of strings are not integers then you get expense.","body":"try/catch block for that?  I think that is a bit excessive for this task as throwing an exception can be expensive and if a number of strings are not integers then you get expense."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1324057083,"post_id":5439547,"comment_id":10575679,"body_markdown":"@demongolem I added non-exception based method.","body":"@demongolem I added non-exception based method."},{"owner":{"account_id":19338,"reputation":6776,"user_id":45230,"display_name":"Zach Langley"},"score":4,"creation_date":1346859955,"post_id":5439547,"comment_id":16477718,"body_markdown":"The &quot;non exception based method&quot; will consider &quot;-&quot; to be an integer.","body":"The &quot;non exception based method&quot; will consider &quot;-&quot; to be an integer."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1357754883,"post_id":5439547,"comment_id":19762874,"body_markdown":"@ZachLangley Good call. Added a fix for that.","body":"@ZachLangley Good call. Added a fix for that."},{"owner":{"account_id":1103139,"reputation":1944,"user_id":1095086,"accept_rate":38,"display_name":"Harshal Waghmare"},"score":0,"creation_date":1369812498,"post_id":5439547,"comment_id":24226207,"body_markdown":"In you loop condition, `s.length` should be `s.length()`","body":"In you loop condition, <code>s.length</code> should be <code>s.length()</code>"},{"owner":{"account_id":246527,"reputation":2739,"user_id":520730,"accept_rate":83,"display_name":"eric"},"score":1,"creation_date":1425402252,"post_id":5439547,"comment_id":45944706,"body_markdown":"I used the exception based method and a coworker called me out for using an antipattern, was a learning experience for me.","body":"I used the exception based method and a coworker called me out for using an antipattern, was a learning experience for me."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":6,"creation_date":1425405218,"post_id":5439547,"comment_id":45946469,"body_markdown":"It certainly is an unorthodox way to do it. As general rule, you want to avoid using exceptions to dictate execution flow. Or as Joshua Bloch puts it in his &quot;Effective Java item 57: Use exceptions only for exceptional conditions.&quot; His comment on using exceptions to iterate over an array is `// Horrible abuse of exceptions. Don&#39;t ever do this!` actually","body":"It certainly is an unorthodox way to do it. As general rule, you want to avoid using exceptions to dictate execution flow. Or as Joshua Bloch puts it in his &quot;Effective Java item 57: Use exceptions only for exceptional conditions.&quot; His comment on using exceptions to iterate over an array is <code>&#47;&#47; Horrible abuse of exceptions. Don&#39;t ever do this!</code> actually"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1425405489,"post_id":5439547,"comment_id":45946606,"body_markdown":"@eric It&#39;s a few years old, but I took the time to clean up this post to elaborate what is good and what is bad about the various methods.","body":"@eric It&#39;s a few years old, but I took the time to clean up this post to elaborate what is good and what is bad about the various methods."},{"owner":{"account_id":246527,"reputation":2739,"user_id":520730,"accept_rate":83,"display_name":"eric"},"score":0,"creation_date":1425408474,"post_id":5439547,"comment_id":45948323,"body_markdown":"@corsiKa thanks! Your comments about trolling the code reviewer made my day.","body":"@corsiKa thanks! Your comments about trolling the code reviewer made my day."},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1425410740,"post_id":5439547,"comment_id":45949649,"body_markdown":"@eric - Java exception performance has improved significantly, but, I have personally witnessed a CSV parsing routine improve performance by about 10-times by first running a regex on the value before trying to parse it as an integer, instead of just an unregulated try/catch","body":"@eric - Java exception performance has improved significantly, but, I have personally witnessed a CSV parsing routine improve performance by about 10-times by first running a regex on the value before trying to parse it as an integer, instead of just an unregulated try/catch"},{"owner":{"account_id":540284,"reputation":6137,"user_id":908425,"accept_rate":69,"display_name":"Sebastian Breit"},"score":4,"creation_date":1432487447,"post_id":5439547,"comment_id":48937264,"body_markdown":"Could somebody explain to me why the 3rd method is bad practice?\nBecause of basing the execution flow on exceptions?","body":"Could somebody explain to me why the 3rd method is bad practice? Because of basing the execution flow on exceptions?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":66,"creation_date":1432507256,"post_id":5439547,"comment_id":48942985,"body_markdown":"They&#39;re called &quot;exceptions&quot; for a reason. In a perfect world, you never get an exception. Say my boss asks me to work on an assignment. He&#39;ll expect me to say &quot;yes, sir!&quot; but I might reply with &quot;I have a lot on my plate right now, I can&#39;t accept a new assignment without letting existing work fall through.&quot; He is prepared for both of those. He isn&#39;t prepared for me to punch him in the face. I lose my job and he calls security. Now imagine if he called security for me simply saying I have too much work - that&#39;s the third method: calling the cops for something that should just be expected.","body":"They&#39;re called &quot;exceptions&quot; for a reason. In a perfect world, you never get an exception. Say my boss asks me to work on an assignment. He&#39;ll expect me to say &quot;yes, sir!&quot; but I might reply with &quot;I have a lot on my plate right now, I can&#39;t accept a new assignment without letting existing work fall through.&quot; He is prepared for both of those. He isn&#39;t prepared for me to punch him in the face. I lose my job and he calls security. Now imagine if he called security for me simply saying I have too much work - that&#39;s the third method: calling the cops for something that should just be expected."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1473030106,"post_id":5439547,"comment_id":65976370,"body_markdown":"Exception handles can&#39;t return a value. Outright bogus.","body":"Exception handles can&#39;t return a value. Outright bogus."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1473120603,"post_id":5439547,"comment_id":66009176,"body_markdown":"@SmartCoder Well, I generally would recommend against returning from a catch block, but that doesn&#39;t mean it&#39;s impossible. Granted that is in there more as a joke than anything else, but it&#39;s valid code nevertheless.","body":"@SmartCoder Well, I generally would recommend against returning from a catch block, but that doesn&#39;t mean it&#39;s impossible. Granted that is in there more as a joke than anything else, but it&#39;s valid code nevertheless."},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1475902489,"post_id":5439547,"comment_id":67140757,"body_markdown":"@corsiKa Let&#39;s say I am reading input from a file. I am expecting a specific syntax, but I get invalid input. Would that be a valid situation to use your 3rd method? I am writing an assembler, and I was planning on creating a super class with sub exception classes for different types of illegal inputs - would that be a good use of java exception?","body":"@corsiKa Let&#39;s say I am reading input from a file. I am expecting a specific syntax, but I get invalid input. Would that be a valid situation to use your 3rd method? I am writing an assembler, and I was planning on creating a super class with sub exception classes for different types of illegal inputs - would that be a good use of java exception?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":2,"creation_date":1475941354,"post_id":5439547,"comment_id":67150375,"body_markdown":"@iamcreasy Generally I&#39;d still say no. Your method is either one of two things: either it tests validity or it does actual work. If it tests validity it should find a way to do it without an exception because a validity test should expect invalid input sometimes. If it&#39;s an actual work method, it should just bubble up the exception unless you&#39;re wrapping the exception in a framework specific exception.","body":"@iamcreasy Generally I&#39;d still say no. Your method is either one of two things: either it tests validity or it does actual work. If it tests validity it should find a way to do it without an exception because a validity test should expect invalid input sometimes. If it&#39;s an actual work method, it should just bubble up the exception unless you&#39;re wrapping the exception in a framework specific exception."},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1475952402,"post_id":5439547,"comment_id":67153972,"body_markdown":"@corsiKa Yes, its an work method, and checking for different kinds of errors is create a large chunks of unwieldy if-else statements; and its showing it&#39;s weight when I have to add one more error condition. So in what type of similar situations - exception would be an acceptable choice? Also I don&#39;t understand what you mean by &quot;it should just bubble up the exception unless you&#39;re wrapping the exception in a framework specific exception.&quot; Could you please clarify a little more?","body":"@corsiKa Yes, its an work method, and checking for different kinds of errors is create a large chunks of unwieldy if-else statements; and its showing it&#39;s weight when I have to add one more error condition. So in what type of similar situations - exception would be an acceptable choice? Also I don&#39;t understand what you mean by &quot;it should just bubble up the exception unless you&#39;re wrapping the exception in a framework specific exception.&quot; Could you please clarify a little more?"},{"owner":{"account_id":4739295,"reputation":2603,"user_id":3832646,"display_name":"Zig"},"score":1,"creation_date":1480437825,"post_id":5439547,"comment_id":68957934,"body_markdown":"@corsiKa Your &quot;punch your boss in the face&quot; comment is probably the best comment I&#39;ve read on SO, while also being one of the best explained examples. +1 to you, sir.","body":"@corsiKa Your &quot;punch your boss in the face&quot; comment is probably the best comment I&#39;ve read on SO, while also being one of the best explained examples. +1 to you, sir."},{"owner":{"account_id":4460208,"reputation":3797,"user_id":3629330,"accept_rate":88,"display_name":"fgonzalez"},"score":8,"creation_date":1480758598,"post_id":5439547,"comment_id":69103185,"body_markdown":"Using the non exception method the string &quot;9999999999999999999999&quot; is a valid integer","body":"Using the non exception method the string &quot;9999999999999999999999&quot; is a valid integer"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1480783673,"post_id":5439547,"comment_id":69109884,"body_markdown":"@fgonzalez and, depending on your definition of integer, that is a valid integer. It just happens to not fit in a `java.lang.Integer`. Doesn&#39;t mean it isn&#39;t an integer.","body":"@fgonzalez and, depending on your definition of integer, that is a valid integer. It just happens to not fit in a <code>java.lang.Integer</code>. Doesn&#39;t mean it isn&#39;t an integer."},{"owner":{"account_id":8732367,"reputation":156,"user_id":6531984,"display_name":"Sgene9"},"score":0,"creation_date":1529721860,"post_id":5439547,"comment_id":88989155,"body_markdown":"In reality, the perfect validation is done by actually trying it. Can you drink 2 six-packs of beer in one night? Unless you tried it, you can&#39;t say for sure. You might make the SWAG based on the past drinking experience which is still an expectation you can&#39;t prove. In this case, whether a String is an integer can be proven before calling Integer.parseInt(..). But, the fact that Integer.parseInt(..) throws an Exception means that it does validation itself and this will cause some validation to run twice on a String.","body":"In reality, the perfect validation is done by actually trying it. Can you drink 2 six-packs of beer in one night? Unless you tried it, you can&#39;t say for sure. You might make the SWAG based on the past drinking experience which is still an expectation you can&#39;t prove. In this case, whether a String is an integer can be proven before calling Integer.parseInt(..). But, the fact that Integer.parseInt(..) throws an Exception means that it does validation itself and this will cause some validation to run twice on a String."},{"owner":{"account_id":8732367,"reputation":156,"user_id":6531984,"display_name":"Sgene9"},"score":2,"creation_date":1529722543,"post_id":5439547,"comment_id":88989223,"body_markdown":"Also, what is &quot;exceptional&quot;? How much certainty should be betrayed for the situation to be &quot;exceptional&quot;? 99%? 90%? 75%? From your punching-the-boss-in-the-face example, which is hilarious, when would you say that it is appropriate the call the cops? When you say, &quot;I have a lot on my plate...&quot; sentence with louder voice? How much louder? The term &quot;exceptional&quot;  or &quot;expected&quot; is so subjective, that it can&#39;t be used to describe when something is used. I think we should rather think it simpler. A String is an integer, only if it can be an integer. How do we know if it can be an integer? Try it.","body":"Also, what is &quot;exceptional&quot;? How much certainty should be betrayed for the situation to be &quot;exceptional&quot;? 99%? 90%? 75%? From your punching-the-boss-in-the-face example, which is hilarious, when would you say that it is appropriate the call the cops? When you say, &quot;I have a lot on my plate...&quot; sentence with louder voice? How much louder? The term &quot;exceptional&quot;  or &quot;expected&quot; is so subjective, that it can&#39;t be used to describe when something is used. I think we should rather think it simpler. A String is an integer, only if it can be an integer. How do we know if it can be an integer? Try it."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1529771824,"post_id":5439547,"comment_id":88999817,"body_markdown":"@Sgene9 Try not to think of &quot;exceptional&quot; as an English word. Rather it very specifically means &quot;input or state for which this program was not designed to handle.&quot; And so, by definition, you don&#39;t want exceptions. Throwing of exceptions is an expensive operation and should not be part of your intended flow. If you&#39;re using exceptions for control flow, you&#39;re probably doing it wrong.","body":"@Sgene9 Try not to think of &quot;exceptional&quot; as an English word. Rather it very specifically means &quot;input or state for which this program was not designed to handle.&quot; And so, by definition, you don&#39;t want exceptions. Throwing of exceptions is an expensive operation and should not be part of your intended flow. If you&#39;re using exceptions for control flow, you&#39;re probably doing it wrong."},{"owner":{"account_id":1174419,"reputation":1247,"user_id":1150774,"accept_rate":69,"display_name":"Aashu"},"score":0,"creation_date":1626704762,"post_id":5439547,"comment_id":120958196,"body_markdown":"Hi, Any reason behind using this condition &quot;s.charAt(0) == &#39;-&#39;&quot;. I am unable to relate &quot;-&quot; character at 0 index ?","body":"Hi, Any reason behind using this condition &quot;s.charAt(0) == &#39;-&#39;&quot;. I am unable to relate &quot;-&quot; character at 0 index ?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1626747871,"post_id":5439547,"comment_id":120970295,"body_markdown":"@Aashu because `&quot;-1234&quot;` should resolve to an integer","body":"@Aashu because <code>&quot;-1234&quot;</code> should resolve to an integer"},{"owner":{"account_id":420920,"reputation":340,"user_id":798866,"display_name":"Lichader"},"score":0,"creation_date":1666681001,"post_id":5439547,"comment_id":130988286,"body_markdown":"I&#39;ve got same argument on the &quot;9999999999999999999999&quot; being as a valid integer using the non exception method. Indeed, it is a valid integer. But because this is a question very specific to java, I guess the constraint of java should also apply here. Hence, this number should not be a valid integer.","body":"I&#39;ve got same argument on the &quot;9999999999999999999999&quot; being as a valid integer using the non exception method. Indeed, it is a valid integer. But because this is a question very specific to java, I guess the constraint of java should also apply here. Hence, this number should not be a valid integer."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1667240317,"post_id":5439547,"comment_id":131118927,"body_markdown":"@Lichader I mean, there is literally a `BigInteger` class for integers too big to fit in an `Integer`, which this certainly would work for.","body":"@Lichader I mean, there is literally a <code>BigInteger</code> class for integers too big to fit in an <code>Integer</code>, which this certainly would work for."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1682420298,"post_id":5439547,"comment_id":134208871,"body_markdown":"Honestly, given how many benefits parseInt is offering, implementing your own isInteger method for most common use cases to avoid exceptions just because someone said &quot;exceptions are bad&quot; (or in similar mood) is twice as horrible as using exceptions to control the flow.","body":"Honestly, given how many benefits parseInt is offering, implementing your own isInteger method for most common use cases to avoid exceptions just because someone said &quot;exceptions are bad&quot; (or in similar mood) is twice as horrible as using exceptions to control the flow."}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":29,"down_vote_count":4,"up_vote_count":366,"is_accepted":true,"score":362,"last_activity_date":1427388835,"creation_date":1301099673,"answer_id":5439547,"question_id":5439529,"body_markdown":"The most naive way would be to iterate over the String and make sure all the elements are valid digits for the given radix. This is about as efficient as it could possibly get, since you must look at each element at least once. I suppose we could micro-optimize it based on the radix, but for all intents and purposes this is as good as you can expect to get.\r\n\r\n    public static boolean isInteger(String s) {\r\n        return isInteger(s,10);\r\n    }\r\n\r\n    public static boolean isInteger(String s, int radix) {\r\n        if(s.isEmpty()) return false;\r\n        for(int i = 0; i &lt; s.length(); i++) {\r\n            if(i == 0 &amp;&amp; s.charAt(i) == &#39;-&#39;) {\r\n                if(s.length() == 1) return false;\r\n                else continue;\r\n            }\r\n            if(Character.digit(s.charAt(i),radix) &lt; 0) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAlternatively, you can rely on the Java library to have this. It&#39;s not exception based, and will catch just about every error condition you can think of. It will be a little more expensive (you have to create a Scanner object, which in a critically-tight loop you don&#39;t want to do. But it generally shouldn&#39;t be too much more expensive, so for day-to-day operations it should be pretty reliable.\r\n\r\n    public static boolean isInteger(String s, int radix) {\r\n        Scanner sc = new Scanner(s.trim());\r\n        if(!sc.hasNextInt(radix)) return false;\r\n        // we know it starts with a valid int, now make sure\r\n        // there&#39;s nothing left!\r\n        sc.nextInt(radix);\r\n        return !sc.hasNext();\r\n    }\r\n\r\nIf best practices don&#39;t matter to you, or you want to troll the guy who does your code reviews, try this on for size:\r\n\r\n    public static boolean isInteger(String s) {\r\n        try { \r\n            Integer.parseInt(s); \r\n        } catch(NumberFormatException e) { \r\n            return false; \r\n        } catch(NullPointerException e) {\r\n            return false;\r\n        }\r\n        // only got here if we didn&#39;t return false\r\n        return true;\r\n    }","title":"Determine if a String is an Integer in Java","body":"<p>The most naive way would be to iterate over the String and make sure all the elements are valid digits for the given radix. This is about as efficient as it could possibly get, since you must look at each element at least once. I suppose we could micro-optimize it based on the radix, but for all intents and purposes this is as good as you can expect to get.</p>\n\n<pre><code>public static boolean isInteger(String s) {\n    return isInteger(s,10);\n}\n\npublic static boolean isInteger(String s, int radix) {\n    if(s.isEmpty()) return false;\n    for(int i = 0; i &lt; s.length(); i++) {\n        if(i == 0 &amp;&amp; s.charAt(i) == '-') {\n            if(s.length() == 1) return false;\n            else continue;\n        }\n        if(Character.digit(s.charAt(i),radix) &lt; 0) return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Alternatively, you can rely on the Java library to have this. It's not exception based, and will catch just about every error condition you can think of. It will be a little more expensive (you have to create a Scanner object, which in a critically-tight loop you don't want to do. But it generally shouldn't be too much more expensive, so for day-to-day operations it should be pretty reliable.</p>\n\n<pre><code>public static boolean isInteger(String s, int radix) {\n    Scanner sc = new Scanner(s.trim());\n    if(!sc.hasNextInt(radix)) return false;\n    // we know it starts with a valid int, now make sure\n    // there's nothing left!\n    sc.nextInt(radix);\n    return !sc.hasNext();\n}\n</code></pre>\n\n<p>If best practices don't matter to you, or you want to troll the guy who does your code reviews, try this on for size:</p>\n\n<pre><code>public static boolean isInteger(String s) {\n    try { \n        Integer.parseInt(s); \n    } catch(NumberFormatException e) { \n        return false; \n    } catch(NullPointerException e) {\n        return false;\n    }\n    // only got here if we didn't return false\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1602726064,"creation_date":1301100381,"answer_id":5439600,"question_id":5439529,"body_markdown":"As an alternative approach to trying to parse the string and catching `NumberFormatException`, you could use a regex; e.g.\r\n\r\n    if (Pattern.compile(&quot;-?[0-9]+&quot;).matches(str)) {\r\n        // its an integer\r\n    }\r\n\r\nThis is likely to be faster, especially if you precompile and reuse the regex.  \r\n\r\nHowever, the problem with this approach is that `Integer.parseInt(str)` will also fail if `str` represents a number that is outside range of legal `int` values.  While it is possible to craft a regex that only matches integers in the range `Integer.MIN_INT` to `Integer.MAX_INT`, it is not a pretty sight.  (And I am not going to try it ...)\r\n\r\nOn the other hand ... it may be acceptable to treat &quot;not an integer&quot; and &quot;integer too large&quot; separately for validation purposes.","title":"Determine if a String is an Integer in Java","body":"<p>As an alternative approach to trying to parse the string and catching <code>NumberFormatException</code>, you could use a regex; e.g.</p>\n<pre><code>if (Pattern.compile(&quot;-?[0-9]+&quot;).matches(str)) {\n    // its an integer\n}\n</code></pre>\n<p>This is likely to be faster, especially if you precompile and reuse the regex.</p>\n<p>However, the problem with this approach is that <code>Integer.parseInt(str)</code> will also fail if <code>str</code> represents a number that is outside range of legal <code>int</code> values.  While it is possible to craft a regex that only matches integers in the range <code>Integer.MIN_INT</code> to <code>Integer.MAX_INT</code>, it is not a pretty sight.  (And I am not going to try it ...)</p>\n<p>On the other hand ... it may be acceptable to treat &quot;not an integer&quot; and &quot;integer too large&quot; separately for validation purposes.</p>\n"},{"comments":[{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":3,"creation_date":1324054929,"post_id":5439632,"comment_id":10575019,"body_markdown":"The only question I have about this method is &quot;&quot; returning true.  Our intuition tells us that the empty string is not a number (Integer for the OP question) you can perform mathematical operations on, but I guess you can say you cannot prove that the empty string is non-numeric because we haven&#39;t told you yet what the String will be.","body":"The only question I have about this method is &quot;&quot; returning true.  Our intuition tells us that the empty string is not a number (Integer for the OP question) you can perform mathematical operations on, but I guess you can say you cannot prove that the empty string is non-numeric because we haven&#39;t told you yet what the String will be."},{"owner":{"account_id":122746,"reputation":5871,"user_id":316745,"accept_rate":83,"display_name":"jhericks"},"score":18,"creation_date":1365043286,"post_id":5439632,"comment_id":22471218,"body_markdown":"I wish this was a good answer for me, but not only does &quot;&quot; return true but also &quot;-1&quot; will return false.  That means that it will neither return true for all valid integers nor will the fact that it returns true guarantee that passing it to Integer.parseInt will not throw an exception.","body":"I wish this was a good answer for me, but not only does &quot;&quot; return true but also &quot;-1&quot; will return false.  That means that it will neither return true for all valid integers nor will the fact that it returns true guarantee that passing it to Integer.parseInt will not throw an exception."},{"owner":{"account_id":36058,"reputation":3065,"user_id":102582,"accept_rate":100,"display_name":"Will Madison"},"score":5,"creation_date":1365146095,"post_id":5439632,"comment_id":22516960,"body_markdown":"@jhericks Thanks for pointing that out. When I first answered this a couple of years ago it was referencing an older version of Commons StringUtils. They have since updated the api such that empty string is now considered non-numeric. Unfortunately the negative case would have to be handled separately which is a drawback but the work around is trivial. Simply a check for numberCandidate.startsWith(&quot;-&quot;) and a substring call with a negation after the parseInt call assuming the value was numeric of course.","body":"@jhericks Thanks for pointing that out. When I first answered this a couple of years ago it was referencing an older version of Commons StringUtils. They have since updated the api such that empty string is now considered non-numeric. Unfortunately the negative case would have to be handled separately which is a drawback but the work around is trivial. Simply a check for numberCandidate.startsWith(&quot;-&quot;) and a substring call with a negation after the parseInt call assuming the value was numeric of course."},{"owner":{"account_id":2129308,"reputation":836,"user_id":1890510,"display_name":"Bj&#246;rn Zurmaar"},"score":4,"creation_date":1499552834,"post_id":5439632,"comment_id":76957540,"body_markdown":"Not only is `StringUtils.isNumeric(String)` not fulfilling the original request to check if a string &quot;is an integer or not&quot;, but also suggesting a beast like the apache commons in order to avoid writing a one-liner is not rational imho.","body":"Not only is <code>StringUtils.isNumeric(String)</code> not fulfilling the original request to check if a string &quot;is an integer or not&quot;, but also suggesting a beast like the apache commons in order to avoid writing a one-liner is not rational imho."},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":0,"creation_date":1507094458,"post_id":5439632,"comment_id":80068846,"body_markdown":"Just avoid Apache &quot;commons&quot; at all costs. While sometimes a good idea at first sight, it&#39;s just a bunch of antipatterns that will bring you dependency hell, for debatable results.","body":"Just avoid Apache &quot;commons&quot; at all costs. While sometimes a good idea at first sight, it&#39;s just a bunch of antipatterns that will bring you dependency hell, for debatable results."},{"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"score":0,"creation_date":1512135163,"post_id":5439632,"comment_id":82146292,"body_markdown":"There&#39;s also `NumberUtils.isNumber(str)`. Note however that both do not check for Integer as a type (max and min value restrictions) but for numbers in general.","body":"There&#39;s also <code>NumberUtils.isNumber(str)</code>. Note however that both do not check for Integer as a type (max and min value restrictions) but for numbers in general."}],"tags":[],"owner":{"account_id":36058,"reputation":3065,"user_id":102582,"accept_rate":100,"display_name":"Will Madison"},"comment_count":6,"down_vote_count":4,"up_vote_count":166,"is_accepted":false,"score":162,"last_activity_date":1365145923,"creation_date":1301100885,"answer_id":5439632,"question_id":5439529,"body_markdown":"Or you can enlist a little help from our good friends at Apache Commons : [StringUtils.isNumeric(String str)][1]\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)","title":"Determine if a String is an Integer in Java","body":"<p>Or you can enlist a little help from our good friends at Apache Commons : <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)\" rel=\"noreferrer\">StringUtils.isNumeric(String str)</a></p>\n"},{"tags":[],"owner":{"account_id":416683,"reputation":2030,"user_id":969784,"accept_rate":68,"display_name":"Rushil Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1333449794,"creation_date":1333449794,"answer_id":9991624,"question_id":5439529,"body_markdown":"You can use `Integer.parseInt(str)` and catch the `NumberFormatException` if the string is not a valid integer, in the following fashion (as pointed out by all answers):\r\n\r\n    static boolean isInt(String s)\r\n    {\r\n     try\r\n      { int i = Integer.parseInt(s); return true; }\r\n    \r\n     catch(NumberFormatException er)\r\n      { return false; }\r\n    }\r\n\r\nHowever, note here that if the evaluated integer overflows, the same exception will be thrown. Your purpose was to find out whether or not, it was a valid integer. So its safer to make your own method to check for validity:\r\n\r\n    static boolean isInt(String s)  // assuming integer is in decimal number system\r\n    {\r\n     for(int a=0;a&lt;s.length();a++)\r\n     {\r\n        if(a==0 &amp;&amp; s.charAt(a) == &#39;-&#39;) continue;\r\n        if( !Character.isDigit(s.charAt(a)) ) return false;\r\n     }\r\n     return true;\r\n    }\r\n","title":"Determine if a String is an Integer in Java","body":"<p>You can use <code>Integer.parseInt(str)</code> and catch the <code>NumberFormatException</code> if the string is not a valid integer, in the following fashion (as pointed out by all answers):</p>\n\n<pre><code>static boolean isInt(String s)\n{\n try\n  { int i = Integer.parseInt(s); return true; }\n\n catch(NumberFormatException er)\n  { return false; }\n}\n</code></pre>\n\n<p>However, note here that if the evaluated integer overflows, the same exception will be thrown. Your purpose was to find out whether or not, it was a valid integer. So its safer to make your own method to check for validity:</p>\n\n<pre><code>static boolean isInt(String s)  // assuming integer is in decimal number system\n{\n for(int a=0;a&lt;s.length();a++)\n {\n    if(a==0 &amp;&amp; s.charAt(a) == '-') continue;\n    if( !Character.isDigit(s.charAt(a)) ) return false;\n }\n return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":8,"creation_date":1379083112,"post_id":15357940,"comment_id":27704455,"body_markdown":"doesn&#39;t work. matches any string that contains 1 or more digits in a row. for example, `blabla. 0 bla bla bla` matches.","body":"doesn&#39;t work. matches any string that contains 1 or more digits in a row. for example, <code>blabla. 0 bla bla bla</code> matches."},{"owner":{"account_id":268219,"reputation":2196,"user_id":556856,"accept_rate":71,"display_name":"Sujay"},"score":15,"creation_date":1379511746,"post_id":15357940,"comment_id":27853127,"body_markdown":"@njzk2 use `&quot;^-?\\\\d+$&quot;` as your regex","body":"@njzk2 use <code>&quot;^-?\\\\d+$&quot;</code> as your regex"},{"owner":{"account_id":945916,"reputation":2866,"user_id":973184,"accept_rate":67,"display_name":"Martin Meeser"},"score":2,"creation_date":1476868395,"post_id":15357940,"comment_id":67523867,"body_markdown":"what about values x with x &gt; Integer.MaxValue, same for min?","body":"what about values x with x &gt; Integer.MaxValue, same for min?"},{"owner":{"account_id":3143068,"reputation":123,"user_id":2658152,"display_name":"Shon Vella"},"score":0,"creation_date":1496355951,"post_id":15357940,"comment_id":75641724,"body_markdown":"njzk2 - it does work because String.matches() only returns true if the whole string matches the pattern, though you have to follow the documentation trail from String.matches() to Pattern.matches() to [Matcher.matches()](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#matches) to discover that fact.","body":"njzk2 - it does work because String.matches() only returns true if the whole string matches the pattern, though you have to follow the documentation trail from String.matches() to Pattern.matches() to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#matches\" rel=\"nofollow noreferrer\">Matcher.matches()</a> to discover that fact."},{"owner":{"account_id":1389614,"reputation":1649,"user_id":1320774,"accept_rate":50,"display_name":"javadev"},"score":0,"creation_date":1576778175,"post_id":15357940,"comment_id":105016843,"body_markdown":"Works fine for numbers less than Integer.MaxValue. This solution shows bad performance though. Have a look at the benchmark here: https://www.baeldung.com/java-check-string-number","body":"Works fine for numbers less than Integer.MaxValue. This solution shows bad performance though. Have a look at the benchmark here: <a href=\"https://www.baeldung.com/java-check-string-number\" rel=\"nofollow noreferrer\">baeldung.com/java-check-string-number</a>"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1654850117,"post_id":15357940,"comment_id":128195100,"body_markdown":"I downvoted. Reason: The question is to check whether the given string is integer or not. The integer has a limit for number of digits ranging -2147483648 to 2147483647. If you provide more char in your string than the limit, regex will pass it.","body":"I downvoted. Reason: The question is to check whether the given string is integer or not. The integer has a limit for number of digits ranging -2147483648 to 2147483647. If you provide more char in your string than the limit, regex will pass it."}],"tags":[],"owner":{"account_id":2480797,"reputation":829,"user_id":2160319,"display_name":"claus437"},"comment_count":6,"down_vote_count":6,"up_vote_count":84,"is_accepted":false,"score":78,"last_activity_date":1363082891,"creation_date":1363081884,"answer_id":15357940,"question_id":5439529,"body_markdown":"Or simply\r\n\r\n`mystring.matches(&quot;\\\\d+&quot;)`\r\n\r\nthough it would return true for numbers larger than an int","title":"Determine if a String is an Integer in Java","body":"<p>Or simply</p>\n\n<p><code>mystring.matches(\"\\\\d+\")</code></p>\n\n<p>though it would return true for numbers larger than an int</p>\n"},{"comments":[{"owner":{"account_id":2783527,"reputation":1363,"user_id":2395542,"accept_rate":86,"display_name":"Damiii"},"score":17,"creation_date":1428576390,"post_id":15801999,"comment_id":47225139,"body_markdown":"Also... If anyone wants to deal with the signal &#39;+&#39;, I made that version (Regarding to yours) :\n`str.matches(&quot;^[+-]?\\\\d+$&quot;)`","body":"Also... If anyone wants to deal with the signal &#39;+&#39;, I made that version (Regarding to yours) : <code>str.matches(&quot;^[+-]?\\\\d+$&quot;)</code>"},{"owner":{"account_id":1568762,"reputation":2357,"user_id":1456948,"accept_rate":72,"display_name":"Brent Hronik"},"score":19,"creation_date":1433203475,"post_id":15801999,"comment_id":49240195,"body_markdown":"Curious as to why this isn&#39;t the chosen answer...","body":"Curious as to why this isn&#39;t the chosen answer..."},{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":7,"creation_date":1436108678,"post_id":15801999,"comment_id":50462053,"body_markdown":"@BrentHronik  It&#39;s a nice clean one-liner, but according to one of the answers at http://stackoverflow.com/questions/237159/whats-the-best-way-to-check-to-see-if-a-string-represents-an-integer-in-java, it&#39;s 10x slower than the methods suggested by corsiKa.","body":"@BrentHronik  It&#39;s a nice clean one-liner, but according to one of the answers at <a href=\"http://stackoverflow.com/questions/237159/whats-the-best-way-to-check-to-see-if-a-string-represents-an-integer-in-java\" title=\"whats the best way to check to see if a string represents an integer in java\">stackoverflow.com/questions/237159/&hellip;</a>, it&#39;s 10x slower than the methods suggested by corsiKa."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":0,"creation_date":1494845002,"post_id":15801999,"comment_id":74984072,"body_markdown":"During initialisation, checking the value of configuration input strings, performance isn&#39;t an issue +1","body":"During initialisation, checking the value of configuration input strings, performance isn&#39;t an issue +1"},{"owner":{"account_id":3143068,"reputation":123,"user_id":2658152,"display_name":"Shon Vella"},"score":0,"creation_date":1496355435,"post_id":15801999,"comment_id":75641567,"body_markdown":"The leading ^ and trailing $ in the regular expression are redundant since String.matches() always matches the whole string.","body":"The leading ^ and trailing $ in the regular expression are redundant since String.matches() always matches the whole string."},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":2,"creation_date":1654850058,"post_id":15801999,"comment_id":128195084,"body_markdown":"I downvoted. Reason: The question is to check whether the given string is integer or not. The integer has a limit for number of digits ranging -2147483648 to 2147483647. If you provide more char in your string than the limit, regex will pass it.","body":"I downvoted. Reason: The question is to check whether the given string is integer or not. The integer has a limit for number of digits ranging -2147483648 to 2147483647. If you provide more char in your string than the limit, regex will pass it."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":1,"creation_date":1682420949,"post_id":15801999,"comment_id":134209025,"body_markdown":"@smilyface, exactly. I would understand why people blame using exceptions if Java had `isInt` method and someone still used `parseInt` for checking int via exceptions. Unfortunately, there is no other method for that, and given how many validations parseInt is performing for us, implementing custom methods just to &quot;avoid exceptions&quot; or &quot;fitting best practices&quot; is nothing but over-engineering in the best case. As we know sometimes doing X instead of Y is better although Y is preffered in general.","body":"@smilyface, exactly. I would understand why people blame using exceptions if Java had <code>isInt</code> method and someone still used <code>parseInt</code> for checking int via exceptions. Unfortunately, there is no other method for that, and given how many validations parseInt is performing for us, implementing custom methods just to &quot;avoid exceptions&quot; or &quot;fitting best practices&quot; is nothing but over-engineering in the best case. As we know sometimes doing X instead of Y is better although Y is preffered in general."}],"tags":[],"owner":{"account_id":1905937,"reputation":5525,"user_id":1720816,"accept_rate":100,"display_name":"shuangwhywhy"},"comment_count":7,"down_vote_count":3,"up_vote_count":311,"is_accepted":false,"score":308,"last_activity_date":1666698584,"creation_date":1365045943,"answer_id":15801999,"question_id":5439529,"body_markdown":"It&#39;s better to use regular expression like this:\r\n\r\n    str.matches(&quot;-?\\\\d+&quot;);\r\n\r\n----------\r\n    -?     --&gt; negative sign, could have none or one\r\n    \\\\d+   --&gt; one or more digits\r\n\r\nIt is not good to use `NumberFormatException` here if you can use `if-statement` instead.\r\n----------\r\n\r\nIf you don&#39;t want leading zero&#39;s, you can just use the regular expression as follow:\r\n\r\n    str.matches(&quot;-?(0|[1-9]\\\\d*)&quot;);\r\n\r\n\r\n","title":"Determine if a String is an Integer in Java","body":"<p>It's better to use regular expression like this:</p>\n<pre><code>str.matches(&quot;-?\\\\d+&quot;);\n</code></pre>\n<hr />\n<pre><code>-?     --&gt; negative sign, could have none or one\n\\\\d+   --&gt; one or more digits\n</code></pre>\n<h2>It is not good to use <code>NumberFormatException</code> here if you can use <code>if-statement</code> instead.</h2>\n<p>If you don't want leading zero's, you can just use the regular expression as follow:</p>\n<pre><code>str.matches(&quot;-?(0|[1-9]\\\\d*)&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"score":1,"creation_date":1381913350,"post_id":19394939,"comment_id":28752969,"body_markdown":"This will also return true for the string `---0---` which surely is not int.","body":"This will also return true for the string <code>---0---</code> which surely is not int."},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1381967196,"post_id":19394939,"comment_id":28782264,"body_markdown":"@Matthias You are right i haven&#39;t tested it, I edited my answer to check for that now","body":"@Matthias You are right i haven&#39;t tested it, I edited my answer to check for that now"}],"tags":[],"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524080959,"creation_date":1381895586,"answer_id":19394939,"question_id":5439529,"body_markdown":"    public boolean isInt(String str){\r\n        return (str.lastIndexOf(&quot;-&quot;) == 0 &amp;&amp; !str.equals(&quot;-0&quot;)) ? str.substring(1).matches(\r\n\t\t\t\t&quot;\\\\d+&quot;) : str.matches(&quot;\\\\d+&quot;);\r\n    }","title":"Determine if a String is an Integer in Java","body":"<pre><code>public boolean isInt(String str){\n    return (str.lastIndexOf(\"-\") == 0 &amp;&amp; !str.equals(\"-0\")) ? str.substring(1).matches(\n            \"\\\\d+\") : str.matches(\"\\\\d+\");\n}\n</code></pre>\n"}],"owner":{"account_id":320506,"reputation":4688,"user_id":638821,"accept_rate":67,"display_name":"Nick Coelius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924926,"favorite_count":0,"down_vote_count":1,"up_vote_count":348,"closed_date":1382030741,"accepted_answer_id":5439547,"answer_count":9,"score":347,"last_activity_date":1666698584,"creation_date":1301099488,"question_id":5439529,"body_markdown":"I&#39;m trying to determine if a particular item in an Array of strings is an integer or not.\r\n\r\nI am `.split(&quot; &quot;)`&#39;ing an infix expression in `String` form, and then trying to split the resultant array into two arrays; one for integers, one for operators, whilst discarding parentheses, and other miscellaneous items. What would be the best way to accomplish this? \r\n\r\nI thought I might be able to find a `Integer.isInteger(String arg)` method or something, but no such luck.","title":"Determine if a String is an Integer in Java","body":"<p>I'm trying to determine if a particular item in an Array of strings is an integer or not.</p>\n\n<p>I am <code>.split(\" \")</code>'ing an infix expression in <code>String</code> form, and then trying to split the resultant array into two arrays; one for integers, one for operators, whilst discarding parentheses, and other miscellaneous items. What would be the best way to accomplish this? </p>\n\n<p>I thought I might be able to find a <code>Integer.isInteger(String arg)</code> method or something, but no such luck.</p>\n"},{"tags":["java","android","notifications","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":15297595,"reputation":312,"user_id":11037116,"display_name":"mohammad fakhraee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665990894,"creation_date":1665990894,"answer_id":74093692,"question_id":74091869,"body_markdown":"Check if this works for you. As mentioned in [android api][1]\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/notifications/navigation\r\n You should consider user&#39;s expected navigation experience. So for making the best navigation using `pendingIntent` with `Notification`, you should do as follow:\r\n\r\n**1. First define your app&#39;s hierarchy inside `AndroidManifest.xml`:**\r\n```\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    ... &gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n&lt;!-- MainActivity is the parent for SecondActivity --&gt;\r\n&lt;activity\r\n    android:name=&quot;.SecondActivity&quot;\r\n    android:parentActivityName=&quot;.MainActivity&quot; /&gt;\r\n    ...\r\n&lt;/activity&gt;\r\n```\r\nNow you told android that when a notification clicked, `SecondActivity` would be the child of `MainActivity` when user is navigating up.\r\n\r\n**2. Create `PendingIntent` using `TaskStackBuilder`:**\r\n```\r\nIntent intent = new Intent(MainActivity.this, SecondActivity.class);\r\n\r\nPendingIntent pendingIntent = TaskStackBuilder.create(MainActivity.this)\r\n     .addNextIntentWithParentStack(intent)\r\n     .getPendingIntent(0, PendingIntent.FLAG_IMMUTABLE)\r\n```\r\nThen you can set the `PendingIntent` we created to the notification. And now if user touches the notification, android system will navigate him to `SecondActivity` while  holding `MainActivity` in back stack. ","title":"The notification is displayed, but clicking the notification cannot jump to the page","body":"<p>Check if this works for you. As mentioned in <a href=\"https://developer.android.com/develop/ui/views/notifications/navigation\" rel=\"nofollow noreferrer\">android api</a></p>\n<p>You should consider user's expected navigation experience. So for making the best navigation using <code>pendingIntent</code> with <code>Notification</code>, you should do as follow:</p>\n<p><strong>1. First define your app's hierarchy inside <code>AndroidManifest.xml</code>:</strong></p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    ... &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n&lt;!-- MainActivity is the parent for SecondActivity --&gt;\n&lt;activity\n    android:name=&quot;.SecondActivity&quot;\n    android:parentActivityName=&quot;.MainActivity&quot; /&gt;\n    ...\n&lt;/activity&gt;\n</code></pre>\n<p>Now you told android that when a notification clicked, <code>SecondActivity</code> would be the child of <code>MainActivity</code> when user is navigating up.</p>\n<p><strong>2. Create <code>PendingIntent</code> using <code>TaskStackBuilder</code>:</strong></p>\n<pre><code>Intent intent = new Intent(MainActivity.this, SecondActivity.class);\n\nPendingIntent pendingIntent = TaskStackBuilder.create(MainActivity.this)\n     .addNextIntentWithParentStack(intent)\n     .getPendingIntent(0, PendingIntent.FLAG_IMMUTABLE)\n</code></pre>\n<p>Then you can set the <code>PendingIntent</code> we created to the notification. And now if user touches the notification, android system will navigate him to <code>SecondActivity</code> while  holding <code>MainActivity</code> in back stack.</p>\n"}],"owner":{"account_id":18767343,"reputation":3,"user_id":13684921,"display_name":"Qiu Jun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74093692,"answer_count":1,"score":0,"last_activity_date":1666698480,"creation_date":1665971178,"question_id":74091869,"body_markdown":"**Goal: click the button to jump out of the notification, the user can jump from the notification to another page.**\r\n\r\nThe notification is displayed but clicking the notification cannot jump to the page.\r\n\r\nI think the `PendingIntent` is wrong.\r\n\r\nHow to fix it?\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private String CHANNEL_ID = &quot;Coder&quot;;\r\n    NotificationManager manager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    CHANNEL_ID, &quot;DemoCode&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            manager = getSystemService(NotificationManager.class);\r\n            assert manager != null;\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n       \r\n        Button btDefault,btCustom;\r\n        btDefault = findViewById(R.id.button_DefaultNotification);\r\n        btCustom = findViewById(R.id.button_CustomNotification);\r\n        btDefault.setOnClickListener(onDefaultClick);\r\n    }\r\n    \r\n    private final View.OnClickListener onDefaultClick = new View.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n           \r\n            Intent nextIntent = new Intent(MainActivity.this, secondActivity.class);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, 0, nextIntent,PendingIntent.FLAG_IMMUTABLE);\r\n\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID);\r\n\r\n            builder.setContentTitle(&quot;Notification&quot;);\r\n            builder.setContentText(&quot;You have a new message&quot;);\r\n            builder.setSmallIcon(R.drawable.ic_baseline_accessible_forward_24);\r\n            builder.setContentIntent(pendingIntent);\r\n            builder.setAutoCancel(true);\r\n\r\n            manager.notify(1, builder.build());\r\n        }\r\n```\r\n\r\n\r\n","title":"The notification is displayed, but clicking the notification cannot jump to the page","body":"<p><strong>Goal: click the button to jump out of the notification, the user can jump from the notification to another page.</strong></p>\n<p>The notification is displayed but clicking the notification cannot jump to the page.</p>\n<p>I think the <code>PendingIntent</code> is wrong.</p>\n<p>How to fix it?</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private String CHANNEL_ID = &quot;Coder&quot;;\n    NotificationManager manager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    CHANNEL_ID, &quot;DemoCode&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            manager = getSystemService(NotificationManager.class);\n            assert manager != null;\n            manager.createNotificationChannel(channel);\n        }\n       \n        Button btDefault,btCustom;\n        btDefault = findViewById(R.id.button_DefaultNotification);\n        btCustom = findViewById(R.id.button_CustomNotification);\n        btDefault.setOnClickListener(onDefaultClick);\n    }\n    \n    private final View.OnClickListener onDefaultClick = new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n           \n            Intent nextIntent = new Intent(MainActivity.this, secondActivity.class);\n            PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, 0, nextIntent,PendingIntent.FLAG_IMMUTABLE);\n\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID);\n\n            builder.setContentTitle(&quot;Notification&quot;);\n            builder.setContentText(&quot;You have a new message&quot;);\n            builder.setSmallIcon(R.drawable.ic_baseline_accessible_forward_24);\n            builder.setContentIntent(pendingIntent);\n            builder.setAutoCancel(true);\n\n            manager.notify(1, builder.build());\n        }\n</code></pre>\n"},{"tags":["java","android","android-fragments","adapter"],"comments":[{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":0,"creation_date":1666671622,"post_id":74189022,"comment_id":130986570,"body_markdown":"Please collaborate with your teammate about issues instead of posting the same code without clarifying what issue they encounter.\n\nhttps://stackoverflow.com/questions/74188125/appcompatactivity-crashing-the-application#comment130985076_74188125","body":"Please collaborate with your teammate about issues instead of posting the same code without clarifying what issue they encounter.  <a href=\"https://stackoverflow.com/questions/74188125/appcompatactivity-crashing-the-application#comment130985076_74188125\" title=\"appcompatactivity crashing the application%23comment130985076_74188125\">stackoverflow.com/questions/74188125/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666711232,"post_id":74189022,"comment_id":130998913,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":26275767,"reputation":11,"user_id":20159370,"display_name":"Natan guimar&#227;es dos Santos"},"score":0,"creation_date":1666672160,"post_id":74189061,"comment_id":130986643,"body_markdown":"And then i just use AppCompatActivity Activity = (AppCompatActivity) view.getContext() in the onClick?","body":"And then i just use AppCompatActivity Activity = (AppCompatActivity) view.getContext() in the onClick?"},{"owner":{"account_id":26275767,"reputation":11,"user_id":20159370,"display_name":"Natan guimar&#227;es dos Santos"},"score":0,"creation_date":1666673474,"post_id":74189061,"comment_id":130986795,"body_markdown":"I&#39;m still having problem with the OnClick part, sorry I&#39;m dumb","body":"I&#39;m still having problem with the OnClick part, sorry I&#39;m dumb"}],"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666671730,"creation_date":1666671209,"answer_id":74189061,"question_id":74189022,"body_markdown":"Add a `Context` parameter in your `myviewholder` constructor that will accept an additional `context` argument\r\n\r\n\r\n    public class myviewholder extends RecyclerView.ViewHolder {\r\n    \r\n        private Context context;\r\n    \r\n        ...\r\n        ...\r\n    \r\n        public myviewholder(@NonNull View itemView, Context context) {\r\n            super(itemView);\r\n            this.context = context\r\n    }\r\n\r\nand in your `onCreateViewHolder` simply call `parent.getContext()` and pass it to the construction of the view holder.\r\n\r\n\r\n   \r\n\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\r\n            return new myviewholder(view, parent.getContext()); //  add &lt;- this\r\n\r\nAlso please practice naming classes with `Uppercase` **Initials**","title":"How to get the context of a item in Recycler View","body":"<p>Add a <code>Context</code> parameter in your <code>myviewholder</code> constructor that will accept an additional <code>context</code> argument</p>\n<pre><code>public class myviewholder extends RecyclerView.ViewHolder {\n\n    private Context context;\n\n    ...\n    ...\n\n    public myviewholder(@NonNull View itemView, Context context) {\n        super(itemView);\n        this.context = context\n}\n</code></pre>\n<p>and in your <code>onCreateViewHolder</code> simply call <code>parent.getContext()</code> and pass it to the construction of the view holder.</p>\n<pre><code>public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\n        return new myviewholder(view, parent.getContext()); //  add &lt;- this\n</code></pre>\n<p>Also please practice naming classes with <code>Uppercase</code> <strong>Initials</strong></p>\n"}],"owner":{"account_id":26275767,"reputation":11,"user_id":20159370,"display_name":"Natan guimar&#227;es dos Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666697724,"creation_date":1666670768,"question_id":74189022,"body_markdown":"I am retrieving Cloud Firesstore data in (Modelo) and I&#39;m trying to pass these variables from the constructor &quot;Modelo&quot; to fragment (DescDenuncia) using a adapter (Adapter) but to do that I need to get the context to pass using the .getSupportFragmentManager() I&#39;ve already tried use &quot;AppCompatActivity activity = (AppCompatActivity) view.getContext();&quot;, but my app crashes every time, and is necessary to use a Context in the getSupportFragmentManager() to it works. I truly don&#39;t know what I should do, please someone answer me.\r\n\r\nModelo\r\n``` \r\npackage com.example.safe;\r\n\r\npublic class Modelo {\r\n\r\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\r\n\r\n    public Modelo() {\r\n    }\r\n\r\n\r\n    public Modelo(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\r\n        this.empresa = empresa;\r\n        this.area = area;\r\n        this.setor = setor;\r\n        this.tipo = tipo;\r\n        this.risco = risco;\r\n        this.img = img;\r\n        this.data = data;\r\n        this.prazo = prazo;\r\n        this.desc = desc;\r\n        this.resolucao = resolucao;\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getEmpresa() {\r\n        return empresa;\r\n    }\r\n\r\n    public void setEmpresa(String empresa) {\r\n        this.empresa = empresa;\r\n    }\r\n\r\n    public String getArea() {\r\n        return area;\r\n    }\r\n\r\n    public void setArea(String area) {\r\n        this.area = area;\r\n    }\r\n\r\n    public String getSetor() {\r\n        return setor;\r\n    }\r\n\r\n    public void setSetor(String setor) {\r\n        this.setor = setor;\r\n    }\r\n\r\n    public String getTipo() {\r\n        return tipo;\r\n    }\r\n\r\n    public void setTipo(String tipo) {\r\n        this.tipo = tipo;\r\n    }\r\n\r\n    public String getRisco() {\r\n        return risco;\r\n    }\r\n\r\n    public void setRisco(String risco) {\r\n        this.risco = risco;\r\n    }\r\n\r\n    public String getImg() {\r\n        return img;\r\n    }\r\n\r\n    public void setImg(String img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public String getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getPrazo() {\r\n        return prazo;\r\n    }\r\n\r\n    public void setPrazo(String prazo) {\r\n        this.prazo = prazo;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public String getResolucao() {\r\n        return resolucao;\r\n    }\r\n\r\n    public void setResolucao(String resolucao) {\r\n        this.resolucao = resolucao;\r\n    }\r\n\r\n    public String getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(String ID) {\r\n        this.ID = ID;\r\n    }\r\n}\r\n``` \r\nAdapter\r\n``` \r\npackage com.example.safe;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n\r\n//Vinculando o reclycler view ao firestore\r\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\r\n\r\n\r\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    //Sobrescrevendo o m&#233;todo\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull final Modelo model) {\r\n        //Associando os itens do atalho ocorr&#234;ncias\r\n        holder.IDText.setText(model.getID());\r\n        holder.tipoText.setText(model.getTipo());\r\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\r\n\r\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\r\n        holder.RLAYOUT.setOnClickListener(new View. OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                .getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\r\n                        model.getEmpresa(),\r\n                        model.getArea(),\r\n                        model.getSetor(),\r\n                        model.getTipo(),\r\n                        model.getRisco(),\r\n                        model.getImg(),\r\n                        model.getData(),\r\n                        model.getPrazo(),\r\n                        model.getDesc(),\r\n                        model.getResolucao(),\r\n                        model.getID()\r\n                )).addToBackStack(null).commit();\r\n            }\r\n\r\n\r\n\r\n        });\r\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\r\n        return new myviewholder(view);\r\n\r\n    }\r\n\r\n    //Cone&#231;&#227;o do reclycler view com essa classe\r\n    public class myviewholder extends RecyclerView.ViewHolder {\r\n\r\n        //Vari&#225;veis do modelo atalho\r\n        TextView tipoText, IDText;\r\n        RelativeLayout RLAYOUT;\r\n        ImageView img1;\r\n        private Context context;\r\n\r\n\r\n\r\n        //Associando os objetos ao modelo atalho\r\n        public myviewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n\r\n            tipoText = itemView.findViewById(R.id.txtTipo);\r\n            img1 = itemView.findViewById(R.id.imageView);\r\n            IDText = itemView.findViewById(R.id.txtModeloID);\r\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n``` ","title":"How to get the context of a item in Recycler View","body":"<p>I am retrieving Cloud Firesstore data in (Modelo) and I'm trying to pass these variables from the constructor &quot;Modelo&quot; to fragment (DescDenuncia) using a adapter (Adapter) but to do that I need to get the context to pass using the .getSupportFragmentManager() I've already tried use &quot;AppCompatActivity activity = (AppCompatActivity) view.getContext();&quot;, but my app crashes every time, and is necessary to use a Context in the getSupportFragmentManager() to it works. I truly don't know what I should do, please someone answer me.</p>\n<p>Modelo</p>\n<pre><code>package com.example.safe;\n\npublic class Modelo {\n\n    String empresa, area, setor, tipo, risco, img, data, prazo, desc, resolucao, ID;\n\n    public Modelo() {\n    }\n\n\n    public Modelo(String empresa, String area, String setor, String tipo, String risco, String img, String data, String prazo, String desc, String resolucao, String ID) {\n        this.empresa = empresa;\n        this.area = area;\n        this.setor = setor;\n        this.tipo = tipo;\n        this.risco = risco;\n        this.img = img;\n        this.data = data;\n        this.prazo = prazo;\n        this.desc = desc;\n        this.resolucao = resolucao;\n        this.ID = ID;\n    }\n\n    public String getEmpresa() {\n        return empresa;\n    }\n\n    public void setEmpresa(String empresa) {\n        this.empresa = empresa;\n    }\n\n    public String getArea() {\n        return area;\n    }\n\n    public void setArea(String area) {\n        this.area = area;\n    }\n\n    public String getSetor() {\n        return setor;\n    }\n\n    public void setSetor(String setor) {\n        this.setor = setor;\n    }\n\n    public String getTipo() {\n        return tipo;\n    }\n\n    public void setTipo(String tipo) {\n        this.tipo = tipo;\n    }\n\n    public String getRisco() {\n        return risco;\n    }\n\n    public void setRisco(String risco) {\n        this.risco = risco;\n    }\n\n    public String getImg() {\n        return img;\n    }\n\n    public void setImg(String img) {\n        this.img = img;\n    }\n\n    public String getData() {\n        return data;\n    }\n\n    public void setData(String data) {\n        this.data = data;\n    }\n\n    public String getPrazo() {\n        return prazo;\n    }\n\n    public void setPrazo(String prazo) {\n        this.prazo = prazo;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    public String getResolucao() {\n        return resolucao;\n    }\n\n    public void setResolucao(String resolucao) {\n        this.resolucao = resolucao;\n    }\n\n    public String getID() {\n        return ID;\n    }\n\n    public void setID(String ID) {\n        this.ID = ID;\n    }\n}\n</code></pre>\n<p>Adapter</p>\n<pre><code>package com.example.safe;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\n\n//Vinculando o reclycler view ao firestore\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\n\n\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\n        super(options);\n    }\n\n    //Sobrescrevendo o método\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull final Modelo model) {\n        //Associando os itens do atalho ocorrências\n        holder.IDText.setText(model.getID());\n        holder.tipoText.setText(model.getTipo());\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\n\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\n        holder.RLAYOUT.setOnClickListener(new View. OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                .getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\n                        model.getEmpresa(),\n                        model.getArea(),\n                        model.getSetor(),\n                        model.getTipo(),\n                        model.getRisco(),\n                        model.getImg(),\n                        model.getData(),\n                        model.getPrazo(),\n                        model.getDesc(),\n                        model.getResolucao(),\n                        model.getID()\n                )).addToBackStack(null).commit();\n            }\n\n\n\n        });\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\n    }\n\n\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\n        return new myviewholder(view);\n\n    }\n\n    //Coneção do reclycler view com essa classe\n    public class myviewholder extends RecyclerView.ViewHolder {\n\n        //Variáveis do modelo atalho\n        TextView tipoText, IDText;\n        RelativeLayout RLAYOUT;\n        ImageView img1;\n        private Context context;\n\n\n\n        //Associando os objetos ao modelo atalho\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n\n\n            tipoText = itemView.findViewById(R.id.txtTipo);\n            img1 = itemView.findViewById(R.id.imageView);\n            IDText = itemView.findViewById(R.id.txtModeloID);\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","ssl","https","openshift"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1566232025,"post_id":57556841,"comment_id":101582958,"body_markdown":"The test server is configured to request a client certificate and your client does not provide any. It might be that the prod server is differently configured and will not request such a certificate. It might be that the prod server will request a certificate but expect it to be signed by a different CA then what the test server wants. Unfortunately nothing is known about the configurations of prod and test server so these are only guesses based on the few information you&#39;ve provided.","body":"The test server is configured to request a client certificate and your client does not provide any. It might be that the prod server is differently configured and will not request such a certificate. It might be that the prod server will request a certificate but expect it to be signed by a different CA then what the test server wants. Unfortunately nothing is known about the configurations of prod and test server so these are only guesses based on the few information you&#39;ve provided."},{"owner":{"account_id":5376996,"reputation":1,"user_id":4283513,"display_name":"Aman"},"score":0,"creation_date":1566234949,"post_id":57556841,"comment_id":101584267,"body_markdown":"The thing is, the URL (Service) is the same, the certificate I am using is the same, the issue I face is only when I switch DB. So I was hoping if someone can suggest how can I configure the keystore and truststore in Java for jBoss 6.4","body":"The thing is, the URL (Service) is the same, the certificate I am using is the same, the issue I face is only when I switch DB. So I was hoping if someone can suggest how can I configure the keystore and truststore in Java for jBoss 6.4"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1566236740,"post_id":57556841,"comment_id":101584991,"body_markdown":"If the difference is when switching the DB&#39;s then the cause of the problem a difference in the DB&#39;s setup, not in the setup of your client.","body":"If the difference is when switching the DB&#39;s then the cause of the problem a difference in the DB&#39;s setup, not in the setup of your client."},{"owner":{"account_id":5376996,"reputation":1,"user_id":4283513,"display_name":"Aman"},"score":0,"creation_date":1566237811,"post_id":57556841,"comment_id":101585398,"body_markdown":"Well I checked both the DBs but couldn&#39;t find any significant difference, hence I am thinking of setting the truststore and keystore in the java code which would then be independent of the DB","body":"Well I checked both the DBs but couldn&#39;t find any significant difference, hence I am thinking of setting the truststore and keystore in the java code which would then be independent of the DB"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1566242744,"post_id":57556841,"comment_id":101587287,"body_markdown":"If you have different configurations on the client for connecting to the DB&#39;s then these differences might be the reason and you could try to align these configurations. But if you don&#39;t have different configurations on the client then the configuration of the databases itself must be the reason.","body":"If you have different configurations on the client for connecting to the DB&#39;s then these differences might be the reason and you could try to align these configurations. But if you don&#39;t have different configurations on the client then the configuration of the databases itself must be the reason."}],"answers":[{"tags":[],"owner":{"account_id":6183339,"reputation":474,"user_id":4818139,"display_name":"Sankar Natarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697723,"creation_date":1666697723,"answer_id":74193447,"question_id":57556841,"body_markdown":"Please check and make sure you are using the same password to secure the keystore and the private key. USing the same password should solve this","title":"SSL Handshake Failure - no suitable certificate found - continuing without client authentication","body":"<p>Please check and make sure you are using the same password to secure the keystore and the private key. USing the same password should solve this</p>\n"}],"owner":{"account_id":5376996,"reputation":1,"user_id":4283513,"display_name":"Aman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666697723,"creation_date":1566217954,"question_id":57556841,"body_markdown":"We have a legacy system deployed on WAS which I am trying to migrate to Openshift cloud. There is a service which runs fine on WAS but I am getting SSL Handshake Failure when I deploy on Openshift container.\r\n\r\nI tried few fixes and now it works on test perfectly but not in PROD. Upon further analysis I found that I get the SSL handshake error only when I switch from Test DB to PROD DB (keeping the code base and JKS same). I did try SSL Debug and found that the below line when I am connected to PROD DB which doesn&#39;t appear when connected to Test DB.\r\n\r\n&gt; Warning: no suitable certificate found - continuing without client\r\n&gt; authentication\r\n\r\nI have tried setting up Environment vairables using `-Djavax.net.ssl.trustStore` and `-Djavax.net.ssl.keyStore` . I also cross checked both the DBs for any difference in the properties but couldn&#39;t find any.\r\n\r\n***CertificateRequest\r\n\r\n    Cert Types: RSA, DSS, ECDSA\r\n    Supported Signature Algorithms: SHA256withRSA, SHA256withDSA, SHA256withECDSA, SHA384withRSA, Unknown (hash:0x5, signature:0x2), SHA384withECDSA, SHA512withRSA, Unknown (hash:0x6, signature:0x2), SHA512withECDSA, SHA1withRSA, SHA1withDSA, SHA1withECDSA\r\n\r\n**Cert Authorities:**\r\n\r\n    &lt;Empty&gt;\r\n    \r\n    update handshake state: unknown[13]\r\n    \r\n    upcoming handshake states: server_hello_done[14]\r\n    \r\n    upcoming handshake states: client certificate[11](optional)\r\n    \r\n    upcoming handshake states: client_key_exchange[16]\r\n    \r\n    upcoming handshake states: certificate_verify[15](optional)\r\n    \r\n    upcoming handshake states: client change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: client finished[20]\r\n    \r\n    upcoming handshake states: server change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: server finished[20]\r\n    \r\n    pool-6-thread-1, READ: TLSv1.2 Handshake, length = 4\r\n    \r\n    check handshake state: server_hello_done[14]\r\n    \r\n    update handshake state: server_hello_done[14]\r\n    \r\n    upcoming handshake states: client certificate[11](optional)\r\n    \r\n    upcoming handshake states: client_key_exchange[16]\r\n    \r\n    upcoming handshake states: certificate_verify[15](optional)\r\n    \r\n    upcoming handshake states: client change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: client finished[20]\r\n    \r\n    upcoming handshake states: server change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: server finished[20]\r\n\r\n**ServerHelloDone**\r\n\r\n&gt; Warning: no suitable certificate found - continuing without client\r\n&gt; authentication\r\n\r\n**Certificate chain**\r\n\r\n    &lt;Empty&gt;\r\n\r\n    update handshake state: certificate[11]\r\n    \r\n    upcoming handshake states: client_key_exchange[16]\r\n    \r\n    upcoming handshake states: certificate_verify[15](optional)\r\n    \r\n    upcoming handshake states: client change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: client finished[20]\r\n    \r\n    upcoming handshake states: server change_cipher_spec[-1]\r\n    \r\n    upcoming handshake states: server finished[20]\r\n\r\n","title":"SSL Handshake Failure - no suitable certificate found - continuing without client authentication","body":"<p>We have a legacy system deployed on WAS which I am trying to migrate to Openshift cloud. There is a service which runs fine on WAS but I am getting SSL Handshake Failure when I deploy on Openshift container.</p>\n\n<p>I tried few fixes and now it works on test perfectly but not in PROD. Upon further analysis I found that I get the SSL handshake error only when I switch from Test DB to PROD DB (keeping the code base and JKS same). I did try SSL Debug and found that the below line when I am connected to PROD DB which doesn't appear when connected to Test DB.</p>\n\n<blockquote>\n  <p>Warning: no suitable certificate found - continuing without client\n  authentication</p>\n</blockquote>\n\n<p>I have tried setting up Environment vairables using <code>-Djavax.net.ssl.trustStore</code> and <code>-Djavax.net.ssl.keyStore</code> . I also cross checked both the DBs for any difference in the properties but couldn't find any.</p>\n\n<p>***CertificateRequest</p>\n\n<pre><code>Cert Types: RSA, DSS, ECDSA\nSupported Signature Algorithms: SHA256withRSA, SHA256withDSA, SHA256withECDSA, SHA384withRSA, Unknown (hash:0x5, signature:0x2), SHA384withECDSA, SHA512withRSA, Unknown (hash:0x6, signature:0x2), SHA512withECDSA, SHA1withRSA, SHA1withDSA, SHA1withECDSA\n</code></pre>\n\n<p><strong>Cert Authorities:</strong></p>\n\n<pre><code>&lt;Empty&gt;\n\nupdate handshake state: unknown[13]\n\nupcoming handshake states: server_hello_done[14]\n\nupcoming handshake states: client certificate[11](optional)\n\nupcoming handshake states: client_key_exchange[16]\n\nupcoming handshake states: certificate_verify[15](optional)\n\nupcoming handshake states: client change_cipher_spec[-1]\n\nupcoming handshake states: client finished[20]\n\nupcoming handshake states: server change_cipher_spec[-1]\n\nupcoming handshake states: server finished[20]\n\npool-6-thread-1, READ: TLSv1.2 Handshake, length = 4\n\ncheck handshake state: server_hello_done[14]\n\nupdate handshake state: server_hello_done[14]\n\nupcoming handshake states: client certificate[11](optional)\n\nupcoming handshake states: client_key_exchange[16]\n\nupcoming handshake states: certificate_verify[15](optional)\n\nupcoming handshake states: client change_cipher_spec[-1]\n\nupcoming handshake states: client finished[20]\n\nupcoming handshake states: server change_cipher_spec[-1]\n\nupcoming handshake states: server finished[20]\n</code></pre>\n\n<p><strong>ServerHelloDone</strong></p>\n\n<blockquote>\n  <p>Warning: no suitable certificate found - continuing without client\n  authentication</p>\n</blockquote>\n\n<p><strong>Certificate chain</strong></p>\n\n<pre><code>&lt;Empty&gt;\n\nupdate handshake state: certificate[11]\n\nupcoming handshake states: client_key_exchange[16]\n\nupcoming handshake states: certificate_verify[15](optional)\n\nupcoming handshake states: client change_cipher_spec[-1]\n\nupcoming handshake states: client finished[20]\n\nupcoming handshake states: server change_cipher_spec[-1]\n\nupcoming handshake states: server finished[20]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1580390864,"post_id":59987062,"comment_id":106087477,"body_markdown":"Put ResponseEntity&lt;Void&gt; because you don&#39;t return a body","body":"Put ResponseEntity&lt;Void&gt; because you don&#39;t return a body"},{"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"score":1,"creation_date":1580391863,"post_id":59987062,"comment_id":106088057,"body_markdown":"Does this answer your question? [Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work](https://stackoverflow.com/questions/26550124/spring-returning-empty-http-responses-with-responseentityvoid-doesnt-work)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26550124/spring-returning-empty-http-responses-with-responseentityvoid-doesnt-work\">Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work</a>"},{"owner":{"account_id":13344820,"reputation":55,"user_id":9631903,"display_name":"Asl.har"},"score":0,"creation_date":1580392031,"post_id":59987062,"comment_id":106088163,"body_markdown":"it doesn&#39;t really tell me which of these 3 propositions is the best","body":"it doesn&#39;t really tell me which of these 3 propositions is the best"},{"owner":{"account_id":15234909,"reputation":2273,"user_id":10992886,"display_name":"Jordan"},"score":1,"creation_date":1580392560,"post_id":59987062,"comment_id":106088512,"body_markdown":"_&quot;it doesn&#39;t really tell me which of these 3 propositions is the best&quot;_ -- because &quot;best&quot; is a matter of opinion.  Just aim for something that is easy for you to read and understand, since it&#39;ll make future maintenance easier.","body":"<i>&quot;it doesn&#39;t really tell me which of these 3 propositions is the best&quot;</i> -- because &quot;best&quot; is a matter of opinion.  Just aim for something that is easy for you to read and understand, since it&#39;ll make future maintenance easier."},{"owner":{"account_id":1328516,"reputation":644,"user_id":1272886,"display_name":"Tom Silverman"},"score":0,"creation_date":1625986596,"post_id":59987062,"comment_id":120769443,"body_markdown":"Your rest controller method should return ResponseEntity&lt;Void&gt;. Then, you can add any headers and  status you want. For example: HttpHeaders headers = new HttpHeaders();  headers.add(HttpHeaders.LOCATION, baseUri + &quot;/api/contacts/&quot; + id);   and finally: return new ResponseEntity&lt;&gt;(null, headers, HttpStatus.FOUND)","body":"Your rest controller method should return ResponseEntity&lt;Void&gt;. Then, you can add any headers and  status you want. For example: HttpHeaders headers = new HttpHeaders();  headers.add(HttpHeaders.LOCATION, baseUri + &quot;/api/contacts/&quot; + id);   and finally: return new ResponseEntity&lt;&gt;(null, headers, HttpStatus.FOUND)"}],"answers":[{"comments":[{"owner":{"account_id":13344820,"reputation":55,"user_id":9631903,"display_name":"Asl.har"},"score":0,"creation_date":1580390822,"post_id":59987115,"comment_id":106087452,"body_markdown":"but what should I put as the return type?","body":"but what should I put as the return type?"},{"owner":{"account_id":13344820,"reputation":55,"user_id":9631903,"display_name":"Asl.har"},"score":0,"creation_date":1580391022,"post_id":59987115,"comment_id":106087569,"body_markdown":"thanks, but is it really the best solution?","body":"thanks, but is it really the best solution?"}],"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580394436,"creation_date":1580390768,"answer_id":59987115,"question_id":59987062,"body_markdown":"i would prefer `ResponseEntity.noContent().build()` which clearly say&#39;s what it doing, Return type can be just `ResponseEntity`\r\n\r\nI personally like return type without &#39;Void&#39; looks clean to me. \r\n\r\nspring docs says below\r\n\r\n    public ResponseEntity(HttpStatus statusCode)\r\n\r\n&gt; Create a new ResponseEntity with the given status code, and no body\r\n&gt; nor headers.\r\n&gt;\r\n&gt; *Parameters:*\r\n&gt; **statusCode** - *the status code*\r\n\r\nhttps://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)\r\n    ","title":"What is the best way to return an empty ResponseEntity with Spring?","body":"<p>i would prefer <code>ResponseEntity.noContent().build()</code> which clearly say's what it doing, Return type can be just <code>ResponseEntity</code></p>\n\n<p>I personally like return type without 'Void' looks clean to me. </p>\n\n<p>spring docs says below</p>\n\n<pre><code>public ResponseEntity(HttpStatus statusCode)\n</code></pre>\n\n<blockquote>\n  <p>Create a new ResponseEntity with the given status code, and no body\n  nor headers.</p>\n  \n  <p><em>Parameters:</em>\n  <strong>statusCode</strong> - <em>the status code</em></p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)</a></p>\n"},{"comments":[{"owner":{"account_id":13344820,"reputation":55,"user_id":9631903,"display_name":"Asl.har"},"score":0,"creation_date":1580392066,"post_id":59987140,"comment_id":106088191,"body_markdown":"is it really the best solution? if so why?","body":"is it really the best solution? if so why?"},{"owner":{"account_id":8438415,"reputation":119,"user_id":6331815,"display_name":"RaduP"},"score":2,"creation_date":1580393392,"post_id":59987140,"comment_id":106089119,"body_markdown":"There is no best solution in this case, both ResponseEntity&lt;Void&gt; and ResponseEntity work. I would use ResponseEntity&lt;Void&gt; because it indicates what is being returned.","body":"There is no best solution in this case, both ResponseEntity&lt;Void&gt; and ResponseEntity work. I would use ResponseEntity&lt;Void&gt; because it indicates what is being returned."}],"tags":[],"owner":{"account_id":8438415,"reputation":119,"user_id":6331815,"display_name":"RaduP"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1580390867,"creation_date":1580390867,"answer_id":59987140,"question_id":59987062,"body_markdown":"    ResponseEntity&lt;Void&gt; with HttpStatus.NO_CONTENT","title":"What is the best way to return an empty ResponseEntity with Spring?","body":"<pre><code>ResponseEntity&lt;Void&gt; with HttpStatus.NO_CONTENT\n</code></pre>\n"}],"owner":{"account_id":13344820,"reputation":55,"user_id":9631903,"display_name":"Asl.har"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10804,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1580401880,"accepted_answer_id":59987140,"answer_count":2,"score":4,"last_activity_date":1666697652,"creation_date":1580390573,"question_id":59987062,"body_markdown":"what would be the best return type for my controller if I return an empty `ResponseEntity`?\r\n\r\n\r\n  For example if I want to return a 204 - no content using  `ResponseEntity.noContent().build()` should the return of my fonction  be `ResponseEntity&lt;?&gt;`, `ResponseEntity&lt;Void&gt;` or just `ResponseEntity`","title":"What is the best way to return an empty ResponseEntity with Spring?","body":"<p>what would be the best return type for my controller if I return an empty <code>ResponseEntity</code>?</p>\n<p>For example if I want to return a 204 - no content using  <code>ResponseEntity.noContent().build()</code> should the return of my fonction  be <code>ResponseEntity&lt;?&gt;</code>, <code>ResponseEntity&lt;Void&gt;</code> or just <code>ResponseEntity</code></p>\n"},{"tags":["java","mybatis"],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697109,"creation_date":1666697109,"answer_id":74193318,"question_id":74193258,"body_markdown":"You can set the logging level to DEBUG and it will log every sql statement with parameters","title":"is it possible to output the sql with parameters in mybatis when error occurs","body":"<p>You can set the logging level to DEBUG and it will log every sql statement with parameters</p>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666697608,"creation_date":1666696809,"question_id":74193258,"body_markdown":"I am using mybatis `api &quot;com.baomidou:mybatis-plus-boot-starter:3.4.0&quot;` as the ORM framework in spring boot . Now the logger output error like this:\r\n\r\n\r\n    [11:48:08:130] [ERROR] - com.dolphin.soa.post.service.impl.article.ArticleService.getArticleImpl(ArticleService.java:190) - get initial article failed:\r\n    org.springframework.dao.DataAccessResourceFailureException: \r\n    ### Error querying database.  Cause: org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\r\n    ### The error may exist in class path resource [mybatis/mapper/dolphin/CustomArticleMapper.xml]\r\n    ### The error may involve defaultParameterMap\r\n    ### The error occurred while setting parameters\r\n    ### SQL: SELECT id AS id, sub_source_id AS sub_source_id FROM article WHERE id &lt; ? AND sub_source_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ORDER BY created_time DESC LIMIT 500\r\n    ### Cause: org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\r\n    ; ERROR: canceling statement due to user request; nested exception is org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\r\n    \tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:107) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\r\n    \tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91) ~[mybatis-spring-2.0.6.jar!/:2.0.6]\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.6.jar!/:2.0.6]\r\n    \tat com.sun.proxy.$Proxy135.selectList(Unknown Source) ~[?:?]\r\n\r\n\r\n\r\n\r\n\r\nis it possible to output the sql parameter when error occurs without change the mybatis log output level? is it possible to get the exception sql with parameters in the exception block?\r\n\r\n\r\n    try{\r\n\r\n    }catch(Exception e){\r\n        // get the exception sql with parameter and log output in here\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"is it possible to output the sql with parameters in mybatis when error occurs","body":"<p>I am using mybatis <code>api &quot;com.baomidou:mybatis-plus-boot-starter:3.4.0&quot;</code> as the ORM framework in spring boot . Now the logger output error like this:</p>\n<pre><code>[11:48:08:130] [ERROR] - com.dolphin.soa.post.service.impl.article.ArticleService.getArticleImpl(ArticleService.java:190) - get initial article failed:\norg.springframework.dao.DataAccessResourceFailureException: \n### Error querying database.  Cause: org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\n### The error may exist in class path resource [mybatis/mapper/dolphin/CustomArticleMapper.xml]\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT id AS id, sub_source_id AS sub_source_id FROM article WHERE id &lt; ? AND sub_source_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ORDER BY created_time DESC LIMIT 500\n### Cause: org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\n; ERROR: canceling statement due to user request; nested exception is org.postgresql.util.PSQLException: ERROR: canceling statement due to user request\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:107) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.19.jar!/:5.3.19]\n    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91) ~[mybatis-spring-2.0.6.jar!/:2.0.6]\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.6.jar!/:2.0.6]\n    at com.sun.proxy.$Proxy135.selectList(Unknown Source) ~[?:?]\n</code></pre>\n<p>is it possible to output the sql parameter when error occurs without change the mybatis log output level? is it possible to get the exception sql with parameters in the exception block?</p>\n<pre><code>try{\n\n}catch(Exception e){\n    // get the exception sql with parameter and log output in here\n}\n</code></pre>\n"},{"tags":["java","android-studio","android-fragments","adapter"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697591,"creation_date":1666697591,"answer_id":74193416,"question_id":74188591,"body_markdown":"It is because you can not reach getSupportFragmentManager() from adapter unless you send your fragment to the adapter. Where you send your data to adapter just put a comma and send your fragment using &#39;this&#39; keyword.&lt;br /&gt;\r\n```\r\nrecyclerView.setAdapter(new Adapter(model, this));\r\n```\r\nCreate global fragment variable in your adapter:\r\n```\r\nprivate Fragment currentFragment = null;\r\n```\r\n\r\nThen get the fragment you sent from, to your adapter&#39;s fragment variable so you can use anywhere in your adapter:\r\n```\r\npublic Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options, Fragment fragment) {\r\n        currentFragment = fragment;\r\n        super(options);\r\n    }\r\n```\r\nNow you can reach getSupportFragmentManager() like below:\r\n\r\n```\r\nfragment.getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\r\n                )).addToBackStack(null).commit();\r\n```","title":"How to call a fragment inside a Adapter class?","body":"<p>It is because you can not reach getSupportFragmentManager() from adapter unless you send your fragment to the adapter. Where you send your data to adapter just put a comma and send your fragment using 'this' keyword.<br /></p>\n<pre><code>recyclerView.setAdapter(new Adapter(model, this));\n</code></pre>\n<p>Create global fragment variable in your adapter:</p>\n<pre><code>private Fragment currentFragment = null;\n</code></pre>\n<p>Then get the fragment you sent from, to your adapter's fragment variable so you can use anywhere in your adapter:</p>\n<pre><code>public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options, Fragment fragment) {\n        currentFragment = fragment;\n        super(options);\n    }\n</code></pre>\n<p>Now you can reach getSupportFragmentManager() like below:</p>\n<pre><code>fragment.getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\n                )).addToBackStack(null).commit();\n</code></pre>\n"}],"owner":{"account_id":26383776,"reputation":13,"user_id":20036630,"display_name":"Rodrigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666697591,"creation_date":1666665261,"question_id":74188591,"body_markdown":"I want to call fragment (DescDenuncia) and replace it inside (frameLayout), I&#39;ve already tried the line that is highlighted but something still missing in the code I don&#39;t know why is the &quot;getSupportFragmentManager()&quot; line in red, what should i do?\r\n\r\n````\r\n//Vinculando o reclycler view ao firestore\r\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\r\n\r\n\r\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    //Sobrescrevendo o m&#233;todo\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull final Modelo model) {\r\n        //Associando os itens do atalho ocorr&#234;ncias\r\n        holder.IDText.setText(model.getID());\r\n        holder.tipoText.setText(model.getTipo());\r\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\r\n\r\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\r\n        holder.RLAYOUT.setOnClickListener(new View. OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\r\n                )).addToBackStack(null).commit();\r\n\r\n            }\r\n        });\r\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\r\n        return new myviewholder(view);\r\n\r\n    }\r\n\r\n    //Cone&#231;&#227;o do reclycler view com essa classe\r\n    public class myviewholder extends RecyclerView.ViewHolder {\r\n\r\n        //Vari&#225;veis do modelo atalho\r\n        TextView tipoText, IDText;\r\n        RelativeLayout RLAYOUT;\r\n        ImageView img1;\r\n\r\n        //Associando os objetos ao modelo atalho\r\n        public myviewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n\r\n            tipoText = itemView.findViewById(R.id.txtTipo);\r\n            img1 = itemView.findViewById(R.id.imageView);\r\n            IDText = itemView.findViewById(R.id.txtModeloID);\r\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\r\n        }\r\n    }\r\n\r\n}\r\n","title":"How to call a fragment inside a Adapter class?","body":"<p>I want to call fragment (DescDenuncia) and replace it inside (frameLayout), I've already tried the line that is highlighted but something still missing in the code I don't know why is the &quot;getSupportFragmentManager()&quot; line in red, what should i do?</p>\n<pre><code>//Vinculando o reclycler view ao firestore\npublic class Adapter extends FirestoreRecyclerAdapter&lt;Modelo, Adapter.myviewholder&gt; {\n\n\n    public Adapter(@NonNull FirestoreRecyclerOptions&lt;Modelo&gt; options) {\n        super(options);\n    }\n\n    //Sobrescrevendo o método\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull final Modelo model) {\n        //Associando os itens do atalho ocorrências\n        holder.IDText.setText(model.getID());\n        holder.tipoText.setText(model.getTipo());\n        Glide.with(holder.img1.getContext()).load(model.getImg()).into(holder.img1);\n\n        ///////////////////////////////////////THE PROBLEM IS HERE///////////////////////////////////////////\n        holder.RLAYOUT.setOnClickListener(new View. OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout, new DescDenuncia(\n                )).addToBackStack(null).commit();\n\n            }\n        });\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\n    }\n\n\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.modelo_atalho_ocorrencias, parent, false);\n        return new myviewholder(view);\n\n    }\n\n    //Coneção do reclycler view com essa classe\n    public class myviewholder extends RecyclerView.ViewHolder {\n\n        //Variáveis do modelo atalho\n        TextView tipoText, IDText;\n        RelativeLayout RLAYOUT;\n        ImageView img1;\n\n        //Associando os objetos ao modelo atalho\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n\n\n            tipoText = itemView.findViewById(R.id.txtTipo);\n            img1 = itemView.findViewById(R.id.imageView);\n            IDText = itemView.findViewById(R.id.txtModeloID);\n            RLAYOUT = itemView.findViewById(R.id.RLlayout);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13208968,"reputation":41,"user_id":9539836,"display_name":"Int"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666696131,"creation_date":1666696131,"answer_id":74193149,"question_id":74192999,"body_markdown":"Please take note that NoSuchFileException can also mean the process running your application does not have enough privileges to create/write on that file, look at the entire trace of the error\r\n\r\nThat would make sense for me if for example in your local environment you are using eclipse/vscode or similar and your code is writing into the compiled &quot;target&quot; folder\r\n\r\nLooking at the path of the error, it looks like you are executing your application using spring boot, and you are trying to modify a file inside your JAR file, in that case you should have an external folder to write into\r\n\r\nHope it helps","title":"NoSuchFileException even if file exists","body":"<p>Please take note that NoSuchFileException can also mean the process running your application does not have enough privileges to create/write on that file, look at the entire trace of the error</p>\n<p>That would make sense for me if for example in your local environment you are using eclipse/vscode or similar and your code is writing into the compiled &quot;target&quot; folder</p>\n<p>Looking at the path of the error, it looks like you are executing your application using spring boot, and you are trying to modify a file inside your JAR file, in that case you should have an external folder to write into</p>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666697552,"creation_date":1666697552,"answer_id":74193405,"question_id":74192999,"body_markdown":"Clearly you are not passing a valid filesystem path. In order for Java to be able to change the file you specified then the following bash command would also work:\r\n\r\n    touch &quot;ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;\r\n\r\nFor file write to work you need a valid path, for example:\r\n\r\n    fileForDocumentContent = new File(&quot;/tmp/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;);\r\n\r\n","title":"NoSuchFileException even if file exists","body":"<p>Clearly you are not passing a valid filesystem path. In order for Java to be able to change the file you specified then the following bash command would also work:</p>\n<pre><code>touch &quot;ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;\n</code></pre>\n<p>For file write to work you need a valid path, for example:</p>\n<pre><code>fileForDocumentContent = new File(&quot;/tmp/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;);\n</code></pre>\n"}],"owner":{"account_id":26726223,"reputation":23,"user_id":20329316,"display_name":"me_how"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666700145,"accepted_answer_id":74193149,"answer_count":2,"score":-3,"last_activity_date":1666697552,"creation_date":1666695395,"question_id":74192999,"body_markdown":"I&#39;m having a problem with calling method \r\n**Files.write(Path.of(fileForDocumentContent.getAbsolutePath()), htmlDocument.getContent());** It throws **java.nio.file.NoSuchFileException.** even if file really exists.\r\n\r\nI want to point that on my local machine it works perfect but it doesn&#39;t work on DEV machine which is located on linux.\r\n\r\nMy code is:\r\n\r\n    @Override\r\n    public Document convert(Document document, DocumentFormat documentFormat) {\r\n        Document htmlDocument = htmlDocumentConverter.convert(document, documentFormat);\r\n        File fileForDocumentContent = null;\r\n        File fileForConvertedContent = null;\r\n        try {\r\n            log.info(&quot;Converting document from {} to {}&quot;, getSourceFormat().toString(), getTargetFormat().toString());\r\n            CalibreConfigData calibreData = calibreConfig.getConfigurationData(CalibreConversion.HTML_TO_DOCX);\r\n            fileForDocumentContent = new File(calibreData.getSourceFilePath());\r\n            fileForConvertedContent = new File(calibreData.getConvertedFilePath());\r\n\r\n            // \\/ doesn&#39;t work \\/\r\n            Files.write(fileForDocumentContent.toPath(), htmlDocument.getContent());\r\n\r\n            Runtime.getRuntime().exec(calibreData.getCalibreCommand()).waitFor();\r\n\r\n            byte[] convertedFileAsBytes = Files.readAllBytes(fileForConvertedContent.toPath());\r\n            return new Document(convertedFileAsBytes);\r\n        } catch (InterruptedException | IOException e) {\r\n            log.error(&quot;Conversion failed due to problem: &quot; + e);\r\n            throw new MetanormaConversionException(&quot;Conversion failed due to problem: &quot; + e);\r\n        } finally {\r\n            deleteFilesIfPresent(fileForDocumentContent, fileForConvertedContent);\r\n        }\r\n    }\r\n\r\n&gt; fileForDocumentContent = new File(calibreData.getSourceFilePath());\r\n\r\ncreates file under path: **ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html**\r\n\r\nand exact error looks: \r\n\r\n&gt; &quot;Conversion failed due to problem: java.nio.file.NoSuchFileException: **ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;**\r\n\r\nAs you can see both paths to the file looks the same and yet it throws an exception.\r\nI&#39;ve tried to change from **.toPath()** to **.getAbsolutePath()** but still the same problem appears.\r\n\r\n","title":"NoSuchFileException even if file exists","body":"<p>I'm having a problem with calling method\n<strong>Files.write(Path.of(fileForDocumentContent.getAbsolutePath()), htmlDocument.getContent());</strong> It throws <strong>java.nio.file.NoSuchFileException.</strong> even if file really exists.</p>\n<p>I want to point that on my local machine it works perfect but it doesn't work on DEV machine which is located on linux.</p>\n<p>My code is:</p>\n<pre><code>@Override\npublic Document convert(Document document, DocumentFormat documentFormat) {\n    Document htmlDocument = htmlDocumentConverter.convert(document, documentFormat);\n    File fileForDocumentContent = null;\n    File fileForConvertedContent = null;\n    try {\n        log.info(&quot;Converting document from {} to {}&quot;, getSourceFormat().toString(), getTargetFormat().toString());\n        CalibreConfigData calibreData = calibreConfig.getConfigurationData(CalibreConversion.HTML_TO_DOCX);\n        fileForDocumentContent = new File(calibreData.getSourceFilePath());\n        fileForConvertedContent = new File(calibreData.getConvertedFilePath());\n\n        // \\/ doesn't work \\/\n        Files.write(fileForDocumentContent.toPath(), htmlDocument.getContent());\n\n        Runtime.getRuntime().exec(calibreData.getCalibreCommand()).waitFor();\n\n        byte[] convertedFileAsBytes = Files.readAllBytes(fileForConvertedContent.toPath());\n        return new Document(convertedFileAsBytes);\n    } catch (InterruptedException | IOException e) {\n        log.error(&quot;Conversion failed due to problem: &quot; + e);\n        throw new MetanormaConversionException(&quot;Conversion failed due to problem: &quot; + e);\n    } finally {\n        deleteFilesIfPresent(fileForDocumentContent, fileForConvertedContent);\n    }\n}\n</code></pre>\n<blockquote>\n<p>fileForDocumentContent = new File(calibreData.getSourceFilePath());</p>\n</blockquote>\n<p>creates file under path: <strong>ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html</strong></p>\n<p>and exact error looks:</p>\n<blockquote>\n<p>&quot;Conversion failed due to problem: java.nio.file.NoSuchFileException: <strong>ile:/usr/src/pok-document-service.jar!/BOOT-INF/classes!/5b1138f8-1805-4db8-a5ed-acab8509adc4.html&quot;</strong></p>\n</blockquote>\n<p>As you can see both paths to the file looks the same and yet it throws an exception.\nI've tried to change from <strong>.toPath()</strong> to <strong>.getAbsolutePath()</strong> but still the same problem appears.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9288,"page":935,"page_size":100}
