{"items":[{"tags":["java"],"owner":{"account_id":28078758,"reputation":13,"user_id":21450184,"display_name":"Muhammed Temur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679423129,"answer_count":0,"score":0,"last_activity_date":1679423038,"creation_date":1679423038,"question_id":75805045,"body_markdown":"I need to use the input which is a string to &quot;identify&quot; an already declared variable. If &quot;tripple&quot; is inputted than java need to somehow get that the variable tripple is meaned by the input &quot;tripple&quot;. I am doing that because I need to add its value(3, because int tripple = 3) to another variable(Integer). \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner();\r\n    int double = 2\r\n    int tripple = 3\r\n    int startpos = 0 \r\n\r\n    String inputting = scan.next();  //input is for example ---&gt; tripple \r\n    startpos = startpos + (???)\r\n    \r\n    //After inputting &quot;tripple&quot;, startpos should be 3\r\n    \r\n    System.out.println(startpos); //---&gt; 3 \r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried to get an input and adress the variable that has the same name as the input which is a string. I didn&#39;t know what to do, so I asked my teacher and she also do not know what to do so I am asking it to you.","title":"How does Java compare an inputted string with the name of a variable?","body":"<p>I need to use the input which is a string to &quot;identify&quot; an already declared variable. If &quot;tripple&quot; is inputted than java need to somehow get that the variable tripple is meaned by the input &quot;tripple&quot;. I am doing that because I need to add its value(3, because int tripple = 3) to another variable(Integer).</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner();\n    int double = 2\n    int tripple = 3\n    int startpos = 0 \n\n    String inputting = scan.next();  //input is for example ---&gt; tripple \n    startpos = startpos + (???)\n    \n    //After inputting &quot;tripple&quot;, startpos should be 3\n    \n    System.out.println(startpos); //---&gt; 3 \n  }\n}\n</code></pre>\n<p>I tried to get an input and adress the variable that has the same name as the input which is a string. I didn't know what to do, so I asked my teacher and she also do not know what to do so I am asking it to you.</p>\n"},{"tags":["java","angular","maven","spring-boot","cors"],"comments":[{"owner":{"account_id":197590,"reputation":83547,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":1,"creation_date":1560342515,"post_id":56560927,"comment_id":99703905,"body_markdown":"Change your SimpleCORSFilter.java code to have `response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, X-Requested-With, remember-me&quot;)`. That, add `Authorization` to the value. The error message, *“Request header field authorization is not allowed by Access-Control-Allow-Headers in preflight response”* is exactly caused by the fact the code doesn’t include `Authorization` in the value it’s setting for the Access-Control-Allow-Headers response header.","body":"Change your SimpleCORSFilter.java code to have <code>response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, X-Requested-With, remember-me&quot;)</code>. That, add <code>Authorization</code> to the value. The error message, <i>“Request header field authorization is not allowed by Access-Control-Allow-Headers in preflight response”</i> is exactly caused by the fact the code doesn’t include <code>Authorization</code> in the value it’s setting for the Access-Control-Allow-Headers response header."},{"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"score":0,"creation_date":1560401267,"post_id":56560927,"comment_id":99725145,"body_markdown":"@sideshowbarker yes, it worked. Thanks a lot!","body":"@sideshowbarker yes, it worked. Thanks a lot!"}],"answers":[{"comments":[{"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"score":0,"creation_date":1560401784,"post_id":56561516,"comment_id":99725284,"body_markdown":"Can you explain the use of app.cors.enabled in the code?","body":"Can you explain the use of app.cors.enabled in the code?"},{"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"score":1,"creation_date":1560404482,"post_id":56561516,"comment_id":99726070,"body_markdown":"`app.cors.enabled` is just for making this CORS support configurable. Generally, with angular app development, we need to enable CORS support in Java backend but once you merge build code of angular with backend app, this support is not required so just by this configuration key `app.cors.enabled`, you can disable CORS support in production environment.","body":"<code>app.cors.enabled</code> is just for making this CORS support configurable. Generally, with angular app development, we need to enable CORS support in Java backend but once you merge build code of angular with backend app, this support is not required so just by this configuration key <code>app.cors.enabled</code>, you can disable CORS support in production environment."}],"tags":[],"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560340020,"creation_date":1560340020,"answer_id":56561516,"question_id":56560927,"body_markdown":"This error is coming because request contains some additional headers which are not mentioned in your CORS filter configuration.\r\n\r\nFor adding CORS support during development, I generally prefer adding below spring configuration file. You need to have `app.cors.enabled` key with value `true` in your application configuration file (application.properties) also to make it work.\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    @ConditionalOnProperty(name = &quot;app.cors.enabled&quot;)\r\n    /**\r\n    * If the value of the key &quot;app.cors.enabled&quot; is true in application.properties file,\r\n    * then only this configuration will be enabled.\r\n    * \r\n    */\r\n    public class SpringConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic WebMvcConfigurer corsConfigurer() {\r\n    \t\treturn new WebMvcConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t\t\tregistry.addMapping(&quot;/*&quot;).allowedHeaders(&quot;*&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;)\r\n    \t\t\t\t\t\t.allowCredentials(true);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nMake sure for production environment, you remove `app.cors.enabled` key from your configuration file or set its value to `false`. If you need CORS support in production environment also, make sure you use fixed values instead of allowing all values using `*`\r\n\r\nOnce you do that, there is no need of `@CrossOrigin` annotation on your controller.","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>This error is coming because request contains some additional headers which are not mentioned in your CORS filter configuration.</p>\n\n<p>For adding CORS support during development, I generally prefer adding below spring configuration file. You need to have <code>app.cors.enabled</code> key with value <code>true</code> in your application configuration file (application.properties) also to make it work.</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@ConditionalOnProperty(name = \"app.cors.enabled\")\n/**\n* If the value of the key \"app.cors.enabled\" is true in application.properties file,\n* then only this configuration will be enabled.\n* \n*/\npublic class SpringConfig {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(\"/*\").allowedHeaders(\"*\").allowedOrigins(\"*\").allowedMethods(\"*\")\n                        .allowCredentials(true);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Make sure for production environment, you remove <code>app.cors.enabled</code> key from your configuration file or set its value to <code>false</code>. If you need CORS support in production environment also, make sure you use fixed values instead of allowing all values using <code>*</code></p>\n\n<p>Once you do that, there is no need of <code>@CrossOrigin</code> annotation on your controller.</p>\n"},{"comments":[{"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"score":0,"creation_date":1560401403,"post_id":56561689,"comment_id":99725182,"body_markdown":"Yes, I tried adding this file in configurations, it worked. Thanks for the help.","body":"Yes, I tried adding this file in configurations, it worked. Thanks for the help."},{"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"score":0,"creation_date":1560402263,"post_id":56561689,"comment_id":99725425,"body_markdown":"Glad it worked for you, importantly hope you&#39;ve understood the issue","body":"Glad it worked for you, importantly hope you&#39;ve understood the issue"},{"owner":{"account_id":10759159,"reputation":937,"user_id":7916141,"accept_rate":67,"display_name":"Youssef Boudaya"},"score":0,"creation_date":1624456628,"post_id":56561689,"comment_id":120364688,"body_markdown":"i added this in my config class &quot;public class AuthServerConfig extends AuthorizationServerConfigurerAdapter implements Filter&quot; and added this method &quot;@Override\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n\t\t\tthrows IOException, ServletException&quot; ... still no luck","body":"i added this in my config class &quot;public class AuthServerConfig extends AuthorizationServerConfigurerAdapter implements Filter&quot; and added this method &quot;@Override \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) \t\t\tthrows IOException, ServletException&quot; ... still no luck"}],"tags":[],"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560340903,"creation_date":1560340583,"answer_id":56561689,"question_id":56560927,"body_markdown":"When you are using Spring Boot, I would suggest you to add a **CorsFilter** bean in your configurations instead of introducing a CORS filter. Let me know if this helps. \r\n\r\n\r\n    @Bean\r\n        public CorsFilter corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;*&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);\r\n            config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n            config.addAllowedMethod(&quot;GET&quot;);\r\n            config.addAllowedMethod(&quot;POST&quot;);\r\n            config.addAllowedMethod(&quot;PUT&quot;);\r\n            config.addAllowedMethod(&quot;DELETE&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            return new CorsFilter(source);\r\n        }\r\n     \r\n\r\n&gt; Happy Coding :)","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>When you are using Spring Boot, I would suggest you to add a <strong>CorsFilter</strong> bean in your configurations instead of introducing a CORS filter. Let me know if this helps. </p>\n\n<pre><code>@Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(\"*\");\n        config.addAllowedHeader(\"*\");\n        config.addAllowedMethod(\"OPTIONS\");\n        config.addAllowedMethod(\"GET\");\n        config.addAllowedMethod(\"POST\");\n        config.addAllowedMethod(\"PUT\");\n        config.addAllowedMethod(\"DELETE\");\n        source.registerCorsConfiguration(\"/**\", config);\n        return new CorsFilter(source);\n    }\n</code></pre>\n\n<blockquote>\n  <p>Happy Coding :)</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"score":0,"creation_date":1560401339,"post_id":56562110,"comment_id":99725160,"body_markdown":"When I enter this annotation, &quot;Ordered&quot; was left unresolved.","body":"When I enter this annotation, &quot;Ordered&quot; was left unresolved."},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1560401425,"post_id":56562110,"comment_id":99725190,"body_markdown":"What do you mean by unresolved? You are not getting its package? It should be imported from `org.springframework.core.Ordered`","body":"What do you mean by unresolved? You are not getting its package? It should be imported from <code>org.springframework.core.Ordered</code>"},{"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"score":0,"creation_date":1560401614,"post_id":56562110,"comment_id":99725243,"body_markdown":"Yes, I was not getting the package, but now this import helped. Thanks.","body":"Yes, I was not getting the package, but now this import helped. Thanks."}],"tags":[],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560342041,"creation_date":1560342041,"answer_id":56562110,"question_id":56560927,"body_markdown":"Issue is with the ordering of filters with spring boot. Add this annotation on your `CORSFilter`: `@Order(Ordered.HIGHEST_PRECEDENCE)`.\r\n\r\nThis will make sure that your `CORSFilter` has highest precendence of execution (most prior).","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>Issue is with the ordering of filters with spring boot. Add this annotation on your <code>CORSFilter</code>: <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code>.</p>\n\n<p>This will make sure that your <code>CORSFilter</code> has highest precendence of execution (most prior).</p>\n"},{"comments":[{"owner":{"account_id":13936615,"reputation":65,"user_id":10063466,"display_name":"Vishnu"},"score":0,"creation_date":1623805942,"post_id":63580284,"comment_id":120180837,"body_markdown":"I tried the above and it still threw CORS preflight error. Am I required to use Spring Security in this scenario? Works without the CORS filter in local and does not work in production.","body":"I tried the above and it still threw CORS preflight error. Am I required to use Spring Security in this scenario? Works without the CORS filter in local and does not work in production."},{"owner":{"account_id":14036119,"reputation":47,"user_id":10138772,"display_name":"Anupam"},"score":0,"creation_date":1626277214,"post_id":63580284,"comment_id":120851380,"body_markdown":"Your UI code must interact through a common gateway (webserver) with backend application servers through HTTPS protocol. You need to setup digital certificates to that common gateway.","body":"Your UI code must interact through a common gateway (webserver) with backend application servers through HTTPS protocol. You need to setup digital certificates to that common gateway."}],"tags":[],"owner":{"account_id":14036119,"reputation":47,"user_id":10138772,"display_name":"Anupam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598363577,"creation_date":1598363249,"answer_id":63580284,"question_id":56560927,"body_markdown":"Please add a servlet filter and add the following code. \r\nIt should work.\r\nAdding **&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;** is mandatory.\r\nCreation of **proxy.conf.json** is not needed.\r\n\r\n    @Component\r\n@Order(1)\r\npublic class MyProjectFilter implements Filter {\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest req, ServletResponse res,\r\n\t\t\tFilterChain chain) throws IOException, ServletException {\r\n\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Content-Disposition&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,PATCH,DELETE,PUT,OPTIONS&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n\t\tchain.doFilter(req, res);\r\n\t}\r\n\r\n}","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>Please add a servlet filter and add the following code.\nIt should work.\nAdding <strong>&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;</strong> is mandatory.\nCreation of <strong>proxy.conf.json</strong> is not needed.</p>\n<pre><code>@Component\n</code></pre>\n<p>@Order(1)\npublic class MyProjectFilter implements Filter {</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest req, ServletResponse res,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Content-Disposition&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,PATCH,DELETE,PUT,OPTIONS&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n    chain.doFilter(req, res);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667691542,"creation_date":1667691542,"answer_id":74332244,"question_id":56560927,"body_markdown":"Because of the spring security, this might happen. You can build a class and include the below-mentioned code. \r\n\r\n        package com.myapp.springboot.configs;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n        import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n        \r\n        @Configuration\r\n        public class WebMvcConfiguration implements WebMvcConfigurer {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/*&quot;).\r\n                allowedOrigins(&quot;*&quot;).\r\n                allowedMethods(&quot;*&quot;).\r\n                allowedHeaders(&quot;*&quot;).\r\n                allowCredentials(true);\r\n            }\r\n        }","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>Because of the spring security, this might happen. You can build a class and include the below-mentioned code.</p>\n<pre><code>    package com.myapp.springboot.configs;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n    \n    @Configuration\n    public class WebMvcConfiguration implements WebMvcConfigurer {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/*&quot;).\n            allowedOrigins(&quot;*&quot;).\n            allowedMethods(&quot;*&quot;).\n            allowedHeaders(&quot;*&quot;).\n            allowCredentials(true);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679909065,"post_id":75804981,"comment_id":133798956,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75804981/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26342492,"reputation":1,"user_id":20001379,"display_name":"Willy Kipchumba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679422549,"creation_date":1679422549,"answer_id":75804981,"question_id":56560927,"body_markdown":"    @Bean\r\n    public WebMvcConfigurer corsConfigurer()\r\n    {\r\n       String[] allowDomains = new String[2];\r\n       allowDomains[0] = &quot;http://localhost:4200&quot;;\r\n       allowDomains[1] = &quot;http://localhost:8080&quot;;\r\n    \r\n       System.out.println(&quot;CORS configuration....&quot;);\r\n       return new WebMvcConfigurer() {\r\n          @Override\r\n          public void addCorsMappings(CorsRegistry registry) {\r\n             registry.addMapping(&quot;/**&quot;).allowedOrigins(allowDomains);\r\n          }\r\n       };\r\n    }","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<pre><code>@Bean\npublic WebMvcConfigurer corsConfigurer()\n{\n   String[] allowDomains = new String[2];\n   allowDomains[0] = &quot;http://localhost:4200&quot;;\n   allowDomains[1] = &quot;http://localhost:8080&quot;;\n\n   System.out.println(&quot;CORS configuration....&quot;);\n   return new WebMvcConfigurer() {\n      @Override\n      public void addCorsMappings(CorsRegistry registry) {\n         registry.addMapping(&quot;/**&quot;).allowedOrigins(allowDomains);\n      }\n   };\n}\n</code></pre>\n"}],"owner":{"account_id":12071204,"reputation":145,"user_id":8826507,"display_name":"Sophia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8433,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":56561689,"answer_count":6,"score":5,"last_activity_date":1679422549,"creation_date":1560338290,"question_id":56560927,"body_markdown":"I am trying to connect angular 6 project with spring boot application. When I run angular project, it constantly gives this error, although I have installed all the dependencies and imports.\r\n\r\nI have used following line of code in controller class.\r\n\r\n&gt; @CrossOrigin(origins = &quot;http://localhost:4200/&quot;, maxAge = 3600)\r\n\r\nI have also included this SimpleCORSFilter.java file in java folder:\r\n```\r\npackage com.oms;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SimpleCORSFilter implements Filter {\r\n\r\nprivate final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\r\n\r\npublic SimpleCORSFilter() {\r\n    log.info(&quot;SimpleCORSFilter init&quot;);\r\n}\r\n\r\n@Override\r\npublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\r\n    HttpServletRequest request = (HttpServletRequest) req;\r\n    HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\r\n\r\n    chain.doFilter(req, res);\r\n}\r\n\r\n@Override\r\npublic void init(FilterConfig filterConfig) {\r\n}\r\n\r\n@Override\r\npublic void destroy() {\r\n}\r\n\r\n}\r\n```\r\nAlso I have created proxy.conf.json file in angular project:\r\n```\r\n{\r\n    &quot;/api&quot;: {\r\n      &quot;target&quot;: &quot;http://localhost:8080&quot;,\r\n      &quot;secure&quot;: false\r\n    }\r\n  }\r\n```\r\nThis file is included like this  in angular.json:\r\n\r\n&gt; &quot;start&quot;: &quot;ng serve --proxy-config proxy.conf.json&quot;,\r\n\r\nStill I am getting this error:\r\n\r\n&gt; Access to XMLHttpRequest at\r\n&gt; &#39;http://localhost:8080/fetchAll&#39; from origin\r\n&gt; &#39;http://localhost:4200&#39; has been blocked by CORS policy: Request\r\n&gt; header field authorization is not allowed by\r\n&gt; Access-Control-Allow-Headers in preflight response.**\r\n\r\nI referred such type of queries, but could not get the exact solution.\r\n\r\nI am really confused, if there is any error in code? What steps should be taken to resolve this issue?","title":"Angular 6 + Spring Boot: Error: &quot;from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy&quot;","body":"<p>I am trying to connect angular 6 project with spring boot application. When I run angular project, it constantly gives this error, although I have installed all the dependencies and imports.</p>\n\n<p>I have used following line of code in controller class.</p>\n\n<blockquote>\n  <p>@CrossOrigin(origins = \"<a href=\"http://localhost:4200/\" rel=\"noreferrer\">http://localhost:4200/</a>\", maxAge = 3600)</p>\n</blockquote>\n\n<p>I have also included this SimpleCORSFilter.java file in java folder:</p>\n\n<pre><code>package com.oms;\n\nimport java.io.IOException;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SimpleCORSFilter implements Filter {\n\nprivate final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\n\npublic SimpleCORSFilter() {\n    log.info(\"SimpleCORSFilter init\");\n}\n\n@Override\npublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) res;\n\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With, remember-me\");\n\n    chain.doFilter(req, res);\n}\n\n@Override\npublic void init(FilterConfig filterConfig) {\n}\n\n@Override\npublic void destroy() {\n}\n\n}\n</code></pre>\n\n<p>Also I have created proxy.conf.json file in angular project:</p>\n\n<pre><code>{\n    \"/api\": {\n      \"target\": \"http://localhost:8080\",\n      \"secure\": false\n    }\n  }\n</code></pre>\n\n<p>This file is included like this  in angular.json:</p>\n\n<blockquote>\n  <p>\"start\": \"ng serve --proxy-config proxy.conf.json\",</p>\n</blockquote>\n\n<p>Still I am getting this error:</p>\n\n<blockquote>\n  <p>Access to XMLHttpRequest at\n  '<a href=\"http://localhost:8080/fetchAll\" rel=\"noreferrer\">http://localhost:8080/fetchAll</a>' from origin\n  '<a href=\"http://localhost:4200\" rel=\"noreferrer\">http://localhost:4200</a>' has been blocked by CORS policy: Request\n  header field authorization is not allowed by\n  Access-Control-Allow-Headers in preflight response.**</p>\n</blockquote>\n\n<p>I referred such type of queries, but could not get the exact solution.</p>\n\n<p>I am really confused, if there is any error in code? What steps should be taken to resolve this issue?</p>\n"},{"tags":["java","apache-spark","dataset"],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395252,"creation_date":1679395252,"answer_id":75800134,"question_id":75799714,"body_markdown":"You could try to use `join` with `filter`; first, you get a distinct list of `name` who have at least one `score` over `20`, as:\r\n\r\n```scala\r\nval filteredData = dataset\r\n  .filter(col(&quot;score&quot;).gt(20))\r\n  .selectExpr(&quot;name as r_name&quot;).distinct()\r\n```\r\n\r\nThen, you can use `inner` join to keep only the data you want:\r\n\r\n```scala\r\nval finalDS = dataset\r\n  .join(filteredData, dataset.col(&quot;name&quot;) === filteredData.col(&quot;r_name&quot;), &quot;inner&quot;)\r\n  .select(&quot;name&quot;, &quot;score&quot;)\r\n```\r\n\r\nFinal result:\r\n```\r\n+----+-----+\r\n|name|score|\r\n+----+-----+\r\n|A   |17   |\r\n|A   |19   |\r\n|A   |21   |\r\n+----+-----+\r\n```\r\n\r\nGood luck!","title":"Spark java group by and filter on custom condition","body":"<p>You could try to use <code>join</code> with <code>filter</code>; first, you get a distinct list of <code>name</code> who have at least one <code>score</code> over <code>20</code>, as:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val filteredData = dataset\n  .filter(col(&quot;score&quot;).gt(20))\n  .selectExpr(&quot;name as r_name&quot;).distinct()\n</code></pre>\n<p>Then, you can use <code>inner</code> join to keep only the data you want:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val finalDS = dataset\n  .join(filteredData, dataset.col(&quot;name&quot;) === filteredData.col(&quot;r_name&quot;), &quot;inner&quot;)\n  .select(&quot;name&quot;, &quot;score&quot;)\n</code></pre>\n<p>Final result:</p>\n<pre><code>+----+-----+\n|name|score|\n+----+-----+\n|A   |17   |\n|A   |19   |\n|A   |21   |\n+----+-----+\n</code></pre>\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1679421172,"post_id":75802857,"comment_id":133718244,"body_markdown":"Upvote but you mean `max(&quot;Score&quot;)` right?","body":"Upvote but you mean <code>max(&quot;Score&quot;)</code> right?"},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":1,"creation_date":1679421876,"post_id":75802857,"comment_id":133718425,"body_markdown":"Oh yes, sorry :) Fixed it","body":"Oh yes, sorry :) Fixed it"}],"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679421886,"creation_date":1679410849,"answer_id":75802857,"question_id":75799714,"body_markdown":"You can do that with a window partitioned by Name like this:\r\n```java\r\ndf\r\n    .withColumn(&quot;max_score&quot;, max(&quot;Score&quot;).over(Window.partitionBy(&quot;Name&quot;)))\r\n    .where(col(&quot;max_score&quot;).geq(20))\r\n    .show(false);\r\n```","title":"Spark java group by and filter on custom condition","body":"<p>You can do that with a window partitioned by Name like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>df\n    .withColumn(&quot;max_score&quot;, max(&quot;Score&quot;).over(Window.partitionBy(&quot;Name&quot;)))\n    .where(col(&quot;max_score&quot;).geq(20))\n    .show(false);\n</code></pre>\n"}],"owner":{"account_id":7805564,"reputation":145,"user_id":5903559,"display_name":"shubham pagui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679421886,"creation_date":1679392836,"question_id":75799714,"body_markdown":"I have a problem statement similar to the following and I want to write it in spark job in java.\r\n\r\nThe input is like following where There is name of a person and their score\r\n\r\n| Name | Score  |\r\n|:---- |:------:|\r\n| A    | 17     |\r\n| A    | 19     |\r\n| A    | 22     |\r\n| B    | 17     |\r\n| B    | 15     |\r\n\r\nI want the output where if a person has score more than 20 then all the records of that person should be in the output. Since only person **A** has scored record of that person is in the output.\r\n\r\n| Name | Score  |\r\n|:---- |:------:|\r\n| A    | 17     |\r\n| A    | 19     |\r\n| A    | 22     |\r\n\r\n\r\nSo far I have tried this code, but I am looking for a simpler way to achieve it.\r\n\r\n```\r\n sparkSession.read()\r\n    .csv(&quot;scores.csv&quot;)\r\n    .toDF(&quot;Name&quot;, &quot;Score&quot;)\r\n    .groupBy(&quot;Name&quot;)\r\n    .agg(collect_list(&quot;Score&quot;).as(&quot;Score&quot;))\r\n    .filter((FilterFunction&lt;Row&gt;) row -&gt; {\r\n\t    WrappedArray&lt;String&gt; scores = (WrappedArray&lt;String&gt;) row.get(1);\r\n\t    return scores.exists(v1 -&gt; Long.parseLong(v1) &gt; 20);\r\n    })\r\n    .withColumn(&quot;Score&quot;, explode(col(&quot;Score&quot;)))\r\n    .show(false);\r\n```\r\n\r\nI am hoping to optimise this filter function. In my original problem, the structure of row is complex and I want to use simpler sql conditional expressions like ```any element with score &gt; 20```.\r\n\r\nIs there a way this can be simplified.","title":"Spark java group by and filter on custom condition","body":"<p>I have a problem statement similar to the following and I want to write it in spark job in java.</p>\n<p>The input is like following where There is name of a person and their score</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Name</th>\n<th style=\"text-align: center;\">Score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">17</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">19</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">22</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B</td>\n<td style=\"text-align: center;\">17</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B</td>\n<td style=\"text-align: center;\">15</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want the output where if a person has score more than 20 then all the records of that person should be in the output. Since only person <strong>A</strong> has scored record of that person is in the output.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Name</th>\n<th style=\"text-align: center;\">Score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">17</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">19</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: center;\">22</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So far I have tried this code, but I am looking for a simpler way to achieve it.</p>\n<pre><code> sparkSession.read()\n    .csv(&quot;scores.csv&quot;)\n    .toDF(&quot;Name&quot;, &quot;Score&quot;)\n    .groupBy(&quot;Name&quot;)\n    .agg(collect_list(&quot;Score&quot;).as(&quot;Score&quot;))\n    .filter((FilterFunction&lt;Row&gt;) row -&gt; {\n        WrappedArray&lt;String&gt; scores = (WrappedArray&lt;String&gt;) row.get(1);\n        return scores.exists(v1 -&gt; Long.parseLong(v1) &gt; 20);\n    })\n    .withColumn(&quot;Score&quot;, explode(col(&quot;Score&quot;)))\n    .show(false);\n</code></pre>\n<p>I am hoping to optimise this filter function. In my original problem, the structure of row is complex and I want to use simpler sql conditional expressions like <code>any element with score &gt; 20</code>.</p>\n<p>Is there a way this can be simplified.</p>\n"},{"tags":["java","eclipse","swing","jdialog"],"comments":[{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":0,"creation_date":1679336275,"post_id":75793667,"comment_id":133700277,"body_markdown":"Can you show your main class? We need to know how your JFrame classes are accessing each other. \nAlso, for the record, it is less confusing if the various classes/variables are not named &quot;Class1, Class2, Class3&quot; and instead named things like &quot;SettingsWindow, PrimaryWindow, CatPicsWindow&quot; or whatever. Helps your readers keep better track of what&#39;s going on.","body":"Can you show your main class? We need to know how your JFrame classes are accessing each other.  Also, for the record, it is less confusing if the various classes/variables are not named &quot;Class1, Class2, Class3&quot; and instead named things like &quot;SettingsWindow, PrimaryWindow, CatPicsWindow&quot; or whatever. Helps your readers keep better track of what&#39;s going on."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1679338484,"post_id":75793667,"comment_id":133700778,"body_markdown":"&quot;*Class2 and Class3 both create JFrame&#39;s*&quot; maybe instead of having many JFrames create one and use something like [Tabbed Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html) to show only one panel at a time. The other classes may simply be JPanes which will be assigned to different tabs.","body":"&quot;<i>Class2 and Class3 both create JFrame&#39;s</i>&quot; maybe instead of having many JFrames create one and use something like <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html\" rel=\"nofollow noreferrer\">Tabbed Panes</a> to show only one panel at a time. The other classes may simply be JPanes which will be assigned to different tabs."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679339091,"post_id":75793667,"comment_id":133700918,"body_markdown":"An application should only have a single JFrame. If you need child windows then you can use a JDialog.","body":"An application should only have a single JFrame. If you need child windows then you can use a JDialog."},{"owner":{"account_id":28068124,"reputation":45,"user_id":21441223,"display_name":"Evan"},"score":0,"creation_date":1679343230,"post_id":75793667,"comment_id":133701945,"body_markdown":"@BlueDev Thank You for the response! I used simpler names to help people who could awnser understand but now I see in reality it just made it more vague. Im starting a new project, and usually I would use the same class but for a potentially bigger project i split it up and am finding difficulty.  I am making a starting screen that displays an app titile and signin/signup buttons. Right now I used eclipse to make all my JFrames so the visuals are fine. Any suggestions on how to actually transition from my start screen to my sign up screen using an action listener?","body":"@BlueDev Thank You for the response! I used simpler names to help people who could awnser understand but now I see in reality it just made it more vague. Im starting a new project, and usually I would use the same class but for a potentially bigger project i split it up and am finding difficulty.  I am making a starting screen that displays an app titile and signin/signup buttons. Right now I used eclipse to make all my JFrames so the visuals are fine. Any suggestions on how to actually transition from my start screen to my sign up screen using an action listener?"},{"owner":{"account_id":28068124,"reputation":45,"user_id":21441223,"display_name":"Evan"},"score":0,"creation_date":1679343280,"post_id":75793667,"comment_id":133701961,"body_markdown":"@BlueDev That is essentially my main classes code, (with diffrent varriables) my other classes just set up my swing components for the visuals.","body":"@BlueDev That is essentially my main classes code, (with diffrent varriables) my other classes just set up my swing components for the visuals."}],"answers":[{"comments":[{"owner":{"account_id":28068124,"reputation":45,"user_id":21441223,"display_name":"Evan"},"score":1,"creation_date":1679442745,"post_id":75804870,"comment_id":133722681,"body_markdown":"Thank You so much for your care and thoughtfullness In the comment. Im 16 just getting into coding my first big project and Its so cool that there are people out there willing to help guide me. Thanks Again, this helped me turn a important corner in the beggining of my first project.","body":"Thank You so much for your care and thoughtfullness In the comment. Im 16 just getting into coding my first big project and Its so cool that there are people out there willing to help guide me. Thanks Again, this helped me turn a important corner in the beggining of my first project."},{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":0,"creation_date":1682446343,"post_id":75804870,"comment_id":134216147,"body_markdown":"I&#39;m glad I could help! I was 15 when I began, over 11 years ago. Some people can be pretty harsh against newbies, but as long as you&#39;ve done your research and tried everything you can think of, your questions will generally be well-received. Good luck and don&#39;t give up!","body":"I&#39;m glad I could help! I was 15 when I began, over 11 years ago. Some people can be pretty harsh against newbies, but as long as you&#39;ve done your research and tried everything you can think of, your questions will generally be well-received. Good luck and don&#39;t give up!"}],"tags":[],"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679421760,"creation_date":1679421760,"answer_id":75804870,"question_id":75793667,"body_markdown":"Part of your problem is caused by a lack of understanding in terms of variable scope. The other part of your problem is just in approaching this the wrong way. \r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Class1 extends JFrame implements ActionListener\r\n    {\r\n        //This is a method. Every variable declared within this method, \r\n        //is only accessible from within this method. \r\n        public static void main(String[] args) {\r\n            //That includes this one. \r\n            Class2 frameFromclass2 = new Class2();\r\n            //You&#39;ve used it here, but not only is it then abandoned, but it\r\n            //cannot be used anywhere else. It is contained in a cage of curly braces. \r\n            frameFromclass2.setVisible(true);\r\n        }       \r\n        Class2 buttonMovetoclass3 = new Class2();\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n            if (buttonMovetoclass3 == e.getSource()) {   \r\n                //Here you create a NEW Class2 object and give it the same\r\n                //name you gave the other, then you hide it.\r\n                Class2 frameFromclass2 = new Class2();\r\n\r\n                frameFromclass2.setVisible(false);\r\n                //And then you do the same thing here, but with Class3; then you show it. \r\n                Class3 frameFromclass3 = new Class3();\r\n\r\n                frameFromclass3.setVisible(true);\r\n            }\r\n        }   \r\n    }\r\nWe aren&#39;t able to see what your other classes have in their constructors, so I can&#39;t say whether or not there&#39;s also a problem happening there. I can, however, offer better alternatives. \r\n\r\nGenerally you want to keep 1 `JFrame`, even if you have popup windows or multiple &quot;pages&quot; that can be used. Consider using multiple `JPanels`, one per layout. Alternatively you can use a [`JTabbedPane`][1], and have different information on each tab. For login purposes, a common option is the [`JOptionPane`][2] or a [`JDialog`][3]. If you insist on using multiple `JFrames` and you want to move components between them, variables within your class (not a method) should be used to store information, then use public methods to access those variables from the other classes. Once a window is done being used, however, you should destroy it instead of hide it. [Here&#39;s a great resource][4] on various ways to do that. \r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-jtabbedpane\r\n  [2]: https://www.javatpoint.com/java-joptionpane\r\n  [3]: https://www.javatpoint.com/java-jdialog\r\n  [4]: https://stackoverflow.com/questions/1234912/how-to-programmatically-close-a-jframe#:~:text=Best%20way%20to%20close%20a,to%20do%20nothing%20(DO_NOTHING_ON_CLOSE).","title":"How do I use a Main class to implement Swing Components from other classes in my project?","body":"<p>Part of your problem is caused by a lack of understanding in terms of variable scope. The other part of your problem is just in approaching this the wrong way.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Class1 extends JFrame implements ActionListener\n{\n    //This is a method. Every variable declared within this method, \n    //is only accessible from within this method. \n    public static void main(String[] args) {\n        //That includes this one. \n        Class2 frameFromclass2 = new Class2();\n        //You've used it here, but not only is it then abandoned, but it\n        //cannot be used anywhere else. It is contained in a cage of curly braces. \n        frameFromclass2.setVisible(true);\n    }       \n    Class2 buttonMovetoclass3 = new Class2();\n\n    public void actionPerformed(ActionEvent e) {\n\n        if (buttonMovetoclass3 == e.getSource()) {   \n            //Here you create a NEW Class2 object and give it the same\n            //name you gave the other, then you hide it.\n            Class2 frameFromclass2 = new Class2();\n\n            frameFromclass2.setVisible(false);\n            //And then you do the same thing here, but with Class3; then you show it. \n            Class3 frameFromclass3 = new Class3();\n\n            frameFromclass3.setVisible(true);\n        }\n    }   \n}\n</code></pre>\n<p>We aren't able to see what your other classes have in their constructors, so I can't say whether or not there's also a problem happening there. I can, however, offer better alternatives.</p>\n<p>Generally you want to keep 1 <code>JFrame</code>, even if you have popup windows or multiple &quot;pages&quot; that can be used. Consider using multiple <code>JPanels</code>, one per layout. Alternatively you can use a <a href=\"https://www.javatpoint.com/java-jtabbedpane\" rel=\"nofollow noreferrer\"><code>JTabbedPane</code></a>, and have different information on each tab. For login purposes, a common option is the <a href=\"https://www.javatpoint.com/java-joptionpane\" rel=\"nofollow noreferrer\"><code>JOptionPane</code></a> or a <a href=\"https://www.javatpoint.com/java-jdialog\" rel=\"nofollow noreferrer\"><code>JDialog</code></a>. If you insist on using multiple <code>JFrames</code> and you want to move components between them, variables within your class (not a method) should be used to store information, then use public methods to access those variables from the other classes. Once a window is done being used, however, you should destroy it instead of hide it. <a href=\"https://stackoverflow.com/questions/1234912/how-to-programmatically-close-a-jframe#:%7E:text=Best%20way%20to%20close%20a,to%20do%20nothing%20(DO_NOTHING_ON_CLOSE).\">Here's a great resource</a> on various ways to do that.</p>\n"}],"owner":{"account_id":28068124,"reputation":45,"user_id":21441223,"display_name":"Evan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679432993,"accepted_answer_id":75804870,"answer_count":1,"score":-1,"last_activity_date":1679421760,"creation_date":1679334679,"question_id":75793667,"body_markdown":"Im developing a project in which I have &quot;Class1&quot;, &quot;Class2&quot;, and &quot;Class3&quot;.\r\nClass2 and Class3 both create JFrame&#39;s, each containing various JButton&#39;s, JLabel&#39;s, and other swing components. How do i make so **in Class1** I can reffrence the JButton from Class2 and use an action listener to set the Class2&#39;s visibilty to false and Class3&#39;s visibilty to true.\r\n\r\nI Tried This: Setting Class2 to visbile in my main method was no issue, but once i started to implement Class3 things didint work. \r\n\r\nSummary: Having Issues initiating a jbutton from an other class and using an action listener that refrences that jbutton.    \r\n\r\n\r\n``` lang-java\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Class1 extends JFrame implements ActionListener\r\n{\r\n\r\n    public static void main(String[] args) {\r\n        Class2 frameFromclass2 = new Class2();\r\n\r\n        frameFromclass2.setVisible(true);\r\n    }       \r\n    Class2 buttonMovetoclass3 = new Class2();\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        if (buttonMovetoclass3 == e.getSource()) {   \r\n            Class2 frameFromclass2 = new Class2();\r\n\r\n            frameFromclass2.setVisible(false);\r\n\r\n            Class3 frameFromclass3 = new Class3();\r\n\r\n            frameFromclass3.setVisible(true);\r\n\r\n                    \t\r\n        }\r\n    }\t\r\n\t\r\n}\r\n```\r\n","title":"How do I use a Main class to implement Swing Components from other classes in my project?","body":"<p>Im developing a project in which I have &quot;Class1&quot;, &quot;Class2&quot;, and &quot;Class3&quot;.\nClass2 and Class3 both create JFrame's, each containing various JButton's, JLabel's, and other swing components. How do i make so <strong>in Class1</strong> I can reffrence the JButton from Class2 and use an action listener to set the Class2's visibilty to false and Class3's visibilty to true.</p>\n<p>I Tried This: Setting Class2 to visbile in my main method was no issue, but once i started to implement Class3 things didint work.</p>\n<p>Summary: Having Issues initiating a jbutton from an other class and using an action listener that refrences that jbutton.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Class1 extends JFrame implements ActionListener\n{\n\n    public static void main(String[] args) {\n        Class2 frameFromclass2 = new Class2();\n\n        frameFromclass2.setVisible(true);\n    }       \n    Class2 buttonMovetoclass3 = new Class2();\n\n    public void actionPerformed(ActionEvent e) {\n\n        if (buttonMovetoclass3 == e.getSource()) {   \n            Class2 frameFromclass2 = new Class2();\n\n            frameFromclass2.setVisible(false);\n\n            Class3 frameFromclass3 = new Class3();\n\n            frameFromclass3.setVisible(true);\n\n                        \n        }\n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","ssl"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1679341924,"post_id":75794674,"comment_id":133701586,"body_markdown":"In real-world scenario, TLS is typically handled by an external proxy / API Gateway, rather than within server code itself. Client certificates will still be needed, however. But, is your question about the server or the client? You can find plenty of public HTTPS APIs available to use for a client.","body":"In real-world scenario, TLS is typically handled by an external proxy / API Gateway, rather than within server code itself. Client certificates will still be needed, however. But, is your question about the server or the client? You can find plenty of public HTTPS APIs available to use for a client."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1679342038,"post_id":75794674,"comment_id":133701614,"body_markdown":"I&#39;m referring to the client. The server will be a much more complex application (Prometheus) that I will attempt to make RESTful calls to.","body":"I&#39;m referring to the client. The server will be a much more complex application (Prometheus) that I will attempt to make RESTful calls to."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679342131,"post_id":75794674,"comment_id":133701649,"body_markdown":"Okay, I was confused on `server.port: 8082` if you don&#39;t have two servers, then","body":"Okay, I was confused on <code>server.port: 8082</code> if you don&#39;t have two servers, then"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1679342229,"post_id":75794674,"comment_id":133701676,"body_markdown":"Yeah, I couldn&#39;t quite get the point of port 8082. Why not use 80 or 8080? In this instance, I guess it doesn&#39;t really matter.","body":"Yeah, I couldn&#39;t quite get the point of port 8082. Why not use 80 or 8080? In this instance, I guess it doesn&#39;t really matter."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679343513,"post_id":75794674,"comment_id":133702008,"body_markdown":"You can disable the SpringBoot server if you only want to use Boot Configuration for a client application. In any case, do you get a specific error when you try to make requests to the server?","body":"You can disable the SpringBoot server if you only want to use Boot Configuration for a client application. In any case, do you get a specific error when you try to make requests to the server?"}],"answers":[{"comments":[{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1679401565,"post_id":75795924,"comment_id":133711843,"body_markdown":"Regarding your statement about adding the cert to the *client* trust store (or, rather your suggestion to *not* add it), am I doing that with the code provided? Do I need to do that? I&#39;m still not sure what steps need to occur on the client side.","body":"Regarding your statement about adding the cert to the <i>client</i> trust store (or, rather your suggestion to <i>not</i> add it), am I doing that with the code provided? Do I need to do that? I&#39;m still not sure what steps need to occur on the client side."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1679401786,"post_id":75795924,"comment_id":133711898,"body_markdown":"I think it&#39;s fair to say that the intermediate cert will not be found in the JRE cert store, so I will need to have it added on the server side. Do I need to have it added to the JRE on the client side as well? Will look into the link you provided. *If the server certificate is signed by a Intermediate CA that has a cert held the client’s CACERTS then no client side intervention is necessary.* - Nothing at all?","body":"I think it&#39;s fair to say that the intermediate cert will not be found in the JRE cert store, so I will need to have it added on the server side. Do I need to have it added to the JRE on the client side as well? Will look into the link you provided. <i>If the server certificate is signed by a Intermediate CA that has a cert held the client’s CACERTS then no client side intervention is necessary.</i> - Nothing at all?"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1679406617,"post_id":75795924,"comment_id":133713492,"body_markdown":"After some more experimentation, there&#39;s something I don&#39;t understand about the code above (keep in mind this was modelled on this https://www.baeldung.com/spring-resttemplate-secure-https-service). Why is the certificate file used on **both** sides? My guess is for the purpose of the demo - to avoid having to install it in the JRE trust store. But, then the `RestTemplate` config wouldn&#39;t work, since it needs these items. My confusion worsens.","body":"After some more experimentation, there&#39;s something I don&#39;t understand about the code above (keep in mind this was modelled on this <a href=\"https://www.baeldung.com/spring-resttemplate-secure-https-service\" rel=\"nofollow noreferrer\">baeldung.com/spring-resttemplate-secure-https-service</a>). Why is the certificate file used on <b>both</b> sides? My guess is for the purpose of the demo - to avoid having to install it in the JRE trust store. But, then the <code>RestTemplate</code> config wouldn&#39;t work, since it needs these items. My confusion worsens."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679409982,"post_id":75795924,"comment_id":133714630,"body_markdown":"&quot;no client side intervention is necessary. - Nothing at all?&quot; Yes, if a server cert is signed by a proper CA (like AWS, Google, LetsEncrypt or any others that want to expose secure SSL) then the client will trust the server without further intervention.","body":"&quot;no client side intervention is necessary. - Nothing at all?&quot; Yes, if a server cert is signed by a proper CA (like AWS, Google, LetsEncrypt or any others that want to expose secure SSL) then the client will trust the server without further intervention."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679410260,"post_id":75795924,"comment_id":133714728,"body_markdown":"&quot;Why is the certificate file used on both sides?&quot; - because 1) the cert is not signed by a real CA and 2) that example uses the trustStore config rather than adding to CACERTS. It is installed on the server (with the private key) to provide SSL and it is installed on the client to &#39;tell&#39; the client to trust that particular certificate. Common name and SAN on the server cert must  also match the server&#39;s hostname - that&#39;s what it is there to attest to.","body":"&quot;Why is the certificate file used on both sides?&quot; - because 1) the cert is not signed by a real CA and 2) that example uses the trustStore config rather than adding to CACERTS. It is installed on the server (with the private key) to provide SSL and it is installed on the client to &#39;tell&#39; the client to trust that particular certificate. Common name and SAN on the server cert must  also match the server&#39;s hostname - that&#39;s what it is there to attest to."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679410463,"post_id":75795924,"comment_id":133714789,"body_markdown":"&quot;I think it&#39;s fair to say that the intermediate cert will not be found in the JRE cert store, so I will need to have it added on the server side&quot; - no on the **client** side so that the client can run up the PKIX path from the server certificate to a cert in CACERTS. The server does not have to be told to trust its own cert.","body":"&quot;I think it&#39;s fair to say that the intermediate cert will not be found in the JRE cert store, so I will need to have it added on the server side&quot; - no on the <b>client</b> side so that the client can run up the PKIX path from the server certificate to a cert in CACERTS. The server does not have to be told to trust its own cert."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679410617,"post_id":75795924,"comment_id":133714846,"body_markdown":"&quot;adding the cert to the client trust store&quot; - you are already doing it with client application.yaml trust. store=classpath:keystore/&lt;cert file&gt;","body":"&quot;adding the cert to the client trust store&quot; - you are already doing it with client application.yaml trust. store=classpath:keystore/&lt;cert file&gt;"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679421609,"creation_date":1679351819,"answer_id":75795924,"question_id":75794674,"body_markdown":"In simple terms, a party (client or server) will trust another party (server or client) if the other party’s certificate chain as provided on the wire can be traced back (recursively via signers) to the CACERTS stored in the original party’s JRE. (or is in the original party’s truststore)\r\n\r\nIt is fairly unusual to use mutually authenticated TLS so client side certificates are rare. In most cases authentication of a client is done with user credentials, api keys, etc. Anyway, it looks like you have the client cert setup correctly.\r\n\r\nIf the server certificate is signed by a Intermediate CA that has a cert held in the client’s CACERTS then no client side intervention is necessary. On the server a keychain from a CACERTS cert down to the server cert needs to be configured via application.yaml, as you correctly show in your question.\r\n\r\nIf the Intermediate CA’s signing cert is not registered in the official Java CACERTS in the client’s JRE then it must be added like [this][1]. I find it easier to add untrusted Intermediate CA certs to CACERTS rather than adding the server cert to the client truststore (as you correctly show) because that allows multiple servers to be trusted (because, in a typical corporate environment, they will all have certs signed by the Intermediate CA)\r\n\r\nIf a client can’t build a trusted cert chain to the cert provided by a server an SSL connection will fail with the dreaded “PKIX path building failed” error.\r\n\r\nI find it helpful to load a server GET path (eg `/welcome`) in a browser to get a look at what cert the server is passing back.\r\n\r\n  [1]: https://learn.capstorm.com/copystorm/frequently-asked-questions/installation/help-i-am-getting-a-certificate-error-pkix-path/#:~:text=This%20type%20of%20error%20typically,trusted%20store%20file%20%E2%80%9Ccacerts%E2%80%9D.","title":"Java/Spring Boot - how to connect with server using https","body":"<p>In simple terms, a party (client or server) will trust another party (server or client) if the other party’s certificate chain as provided on the wire can be traced back (recursively via signers) to the CACERTS stored in the original party’s JRE. (or is in the original party’s truststore)</p>\n<p>It is fairly unusual to use mutually authenticated TLS so client side certificates are rare. In most cases authentication of a client is done with user credentials, api keys, etc. Anyway, it looks like you have the client cert setup correctly.</p>\n<p>If the server certificate is signed by a Intermediate CA that has a cert held in the client’s CACERTS then no client side intervention is necessary. On the server a keychain from a CACERTS cert down to the server cert needs to be configured via application.yaml, as you correctly show in your question.</p>\n<p>If the Intermediate CA’s signing cert is not registered in the official Java CACERTS in the client’s JRE then it must be added like <a href=\"https://learn.capstorm.com/copystorm/frequently-asked-questions/installation/help-i-am-getting-a-certificate-error-pkix-path/#:%7E:text=This%20type%20of%20error%20typically,trusted%20store%20file%20%E2%80%9Ccacerts%E2%80%9D.\" rel=\"nofollow noreferrer\">this</a>. I find it easier to add untrusted Intermediate CA certs to CACERTS rather than adding the server cert to the client truststore (as you correctly show) because that allows multiple servers to be trusted (because, in a typical corporate environment, they will all have certs signed by the Intermediate CA)</p>\n<p>If a client can’t build a trusted cert chain to the cert provided by a server an SSL connection will fail with the dreaded “PKIX path building failed” error.</p>\n<p>I find it helpful to load a server GET path (eg <code>/welcome</code>) in a browser to get a look at what cert the server is passing back.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75795924,"answer_count":1,"score":1,"last_activity_date":1679421609,"creation_date":1679341676,"question_id":75794674,"body_markdown":"Full disclosure: I am still trying to understand how the whole security certificate ecosystem works. There is much I still don&#39;t have a good handle on.\r\n\r\nI want to be able to connect/interact with a web application REST API that is using SSL/TLS (HTTPS). The server has a security certificate in its trust store that presumably it will provide when my app attempts to establish a secure connection. To my knowledge, there is no need for mutual authentication. I don&#39;t know if this is helpful, but the certificate was created and signed by an intermediate CA.\r\n\r\nMy application is written in the Java language and utilizes Spring Boot for the many features and capabilties that framework provides. Initially to keep things simple, my code consists of a very simple server and client.\r\n\r\nI&#39;m trying to understand what needs to be done for secured HTTPS communications to occur between these two apps, specifically with the certificate I have described. What I have found so far seems to involve the JDK keytool utility, but I&#39;m not sure in what way I need to use it - or even if it needs to be involved. I don&#39;t know what security &quot;data&quot; I may need to provide in this process, or in what form it may need to be in. I am also unsure what needs to be done in software to make this all work correctly.\r\n\r\n**Note**: The settings in the `application.yaml` files reflects what I tried to use from a source on the Internet (https://www.baeldung.com/spring-resttemplate-secure-https-service). I could not get that to work.\r\n\r\nHere is the simple server and client application code.\r\n\r\n**Server**:\r\n\r\nServerApp.java:\r\n\r\n\t@SpringBootApplication\r\n\tpublic class ServerApp {\r\n\t  public static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApp.class, args);\r\n\t  }\r\n\t}\r\n\r\nWelcomeController.java:\r\n\r\n\t@RestController\r\n\tpublic class WelcomeController {\r\n\t  @GetMapping(value = &quot;/welcome&quot;)\r\n\t  public String welcome() {\r\n\t\treturn &quot;Welcome To Secured REST Service&quot;;\r\n\t  }\r\n\t}\r\n\r\napplication.yaml:\r\n\r\n\t---\r\n\tserver:\r\n\t  port: 8443\r\n\t  servlet:\r\n\t\tcontext-path: /\r\n\t  ssl:\r\n\t\tkey-store-type: PKCS12\r\n\t\tkey-store: classpath:keystore/&lt;cert file&gt;\r\n\t\tkey-store-password: &lt;password&gt;\r\n\t\tkey-alias: &lt;alias&gt;\r\n\r\n\r\n**Client**:\r\n\r\nClientApp.java:\r\n\r\n\t@SpringBootApplication\r\n\tpublic class ClientApp {\r\n\t  public static void main(String[] args) {\r\n\t\tSpringApplication.run(ClientApp.class, args);\r\n\t  }\r\n\t}\r\n\r\nClientController.java:\r\n\r\n\t@RestController\r\n\tpublic class ClientController {\r\n\t  private static final String WELCOME_URL = &quot;https://localhost:8443/welcome&quot;;\r\n\r\n\t  @Autowired\r\n\t  private RestTemplate        restTemplate;\r\n\r\n\t  @GetMapping(&quot;/welcomeclient&quot;)\r\n\t  public String greetMessage() {\r\n\t\tString response = restTemplate.getForObject(WELCOME_URL, String.class);\r\n\t\treturn response;\r\n\t  }\r\n\t}\r\n\r\nCustomRestTemplateConfiguration.java:\r\n\r\n\t@Configuration\r\n\tpublic class CustomRestTemplateConfiguration {\r\n\t  @Value(&quot;${trust.store}&quot;)\r\n\t  private Resource trustStore;\r\n\r\n\t  @Value(&quot;${trust.password}&quot;)\r\n\t  private String   trustStorePassword;\r\n\r\n\t  @Bean\r\n\t  public RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException,\r\n\t\t  CertificateException, MalformedURLException, IOException {\r\n\t\tSSLContext sslContext = new SSLContextBuilder()\r\n\t\t\t.loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray())\r\n\t\t\t.build();\r\n\t\t\r\n\t\tSSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n\t\t\t.setSSLSocketFactory(sslConFactory)\r\n\t\t\t.build();\r\n\t\t\r\n\t\tClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n\t\t\r\n\t\treturn new RestTemplate(requestFactory);\r\n\t  }\r\n\t}\r\n\r\napplication.yaml:\r\n\r\n\t---\r\n\tserver:\r\n\t  port: 8082\r\n\r\n\ttrust:\r\n\t  store: classpath:keystore/&lt;cert file&gt;\r\n\t  password: &lt;password&gt;\r\n\r\n","title":"Java/Spring Boot - how to connect with server using https","body":"<p>Full disclosure: I am still trying to understand how the whole security certificate ecosystem works. There is much I still don't have a good handle on.</p>\n<p>I want to be able to connect/interact with a web application REST API that is using SSL/TLS (HTTPS). The server has a security certificate in its trust store that presumably it will provide when my app attempts to establish a secure connection. To my knowledge, there is no need for mutual authentication. I don't know if this is helpful, but the certificate was created and signed by an intermediate CA.</p>\n<p>My application is written in the Java language and utilizes Spring Boot for the many features and capabilties that framework provides. Initially to keep things simple, my code consists of a very simple server and client.</p>\n<p>I'm trying to understand what needs to be done for secured HTTPS communications to occur between these two apps, specifically with the certificate I have described. What I have found so far seems to involve the JDK keytool utility, but I'm not sure in what way I need to use it - or even if it needs to be involved. I don't know what security &quot;data&quot; I may need to provide in this process, or in what form it may need to be in. I am also unsure what needs to be done in software to make this all work correctly.</p>\n<p><strong>Note</strong>: The settings in the <code>application.yaml</code> files reflects what I tried to use from a source on the Internet (<a href=\"https://www.baeldung.com/spring-resttemplate-secure-https-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-resttemplate-secure-https-service</a>). I could not get that to work.</p>\n<p>Here is the simple server and client application code.</p>\n<p><strong>Server</strong>:</p>\n<p>ServerApp.java:</p>\n<pre><code>@SpringBootApplication\npublic class ServerApp {\n  public static void main(String[] args) {\n    SpringApplication.run(ServerApp.class, args);\n  }\n}\n</code></pre>\n<p>WelcomeController.java:</p>\n<pre><code>@RestController\npublic class WelcomeController {\n  @GetMapping(value = &quot;/welcome&quot;)\n  public String welcome() {\n    return &quot;Welcome To Secured REST Service&quot;;\n  }\n}\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>---\nserver:\n  port: 8443\n  servlet:\n    context-path: /\n  ssl:\n    key-store-type: PKCS12\n    key-store: classpath:keystore/&lt;cert file&gt;\n    key-store-password: &lt;password&gt;\n    key-alias: &lt;alias&gt;\n</code></pre>\n<p><strong>Client</strong>:</p>\n<p>ClientApp.java:</p>\n<pre><code>@SpringBootApplication\npublic class ClientApp {\n  public static void main(String[] args) {\n    SpringApplication.run(ClientApp.class, args);\n  }\n}\n</code></pre>\n<p>ClientController.java:</p>\n<pre><code>@RestController\npublic class ClientController {\n  private static final String WELCOME_URL = &quot;https://localhost:8443/welcome&quot;;\n\n  @Autowired\n  private RestTemplate        restTemplate;\n\n  @GetMapping(&quot;/welcomeclient&quot;)\n  public String greetMessage() {\n    String response = restTemplate.getForObject(WELCOME_URL, String.class);\n    return response;\n  }\n}\n</code></pre>\n<p>CustomRestTemplateConfiguration.java:</p>\n<pre><code>@Configuration\npublic class CustomRestTemplateConfiguration {\n  @Value(&quot;${trust.store}&quot;)\n  private Resource trustStore;\n\n  @Value(&quot;${trust.password}&quot;)\n  private String   trustStorePassword;\n\n  @Bean\n  public RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException,\n      CertificateException, MalformedURLException, IOException {\n    SSLContext sslContext = new SSLContextBuilder()\n        .loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray())\n        .build();\n    \n    SSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\n\n    CloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(sslConFactory)\n        .build();\n    \n    ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n    \n    return new RestTemplate(requestFactory);\n  }\n}\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>---\nserver:\n  port: 8082\n\ntrust:\n  store: classpath:keystore/&lt;cert file&gt;\n  password: &lt;password&gt;\n</code></pre>\n"},{"tags":["java","json","google-api","protobuf-c"],"answers":[{"tags":[],"owner":{"account_id":22388509,"reputation":36,"user_id":16600986,"display_name":"Makabeusz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679421490,"creation_date":1679421490,"answer_id":75804825,"question_id":75803810,"body_markdown":"In case anyone needed it, the solution is provide this dependency:\r\n\r\n    implementation &#39;com.google.protobuf:protobuf-java-util:3.22.2&#39;\r\n\r\nAnd parse product object to JSON with\r\n\r\n    com.google.protobuf.util.JsonFormat.printer().print(product);","title":"How to parse com.google.cloud.retail.v2.Product object to JSON?","body":"<p>In case anyone needed it, the solution is provide this dependency:</p>\n<pre><code>implementation 'com.google.protobuf:protobuf-java-util:3.22.2'\n</code></pre>\n<p>And parse product object to JSON with</p>\n<pre><code>com.google.protobuf.util.JsonFormat.printer().print(product);\n</code></pre>\n"}],"owner":{"account_id":22388509,"reputation":36,"user_id":16600986,"display_name":"Makabeusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679421490,"creation_date":1679415735,"question_id":75803810,"body_markdown":"I am implementing Google Retail Search into the project. Google API require me to provide [Product](https://cloud.google.com/retail/docs/reference/rest/v2/projects.locations.catalogs.branches.products#Product) object in given JSON format. JSON representation of Product with minimum number of fields populated look like following:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;1234&quot;,\r\n        &quot;categories&quot;: &quot;Apparel &amp; Accessories &gt; Shoes&quot;,\r\n        &quot;title&quot;: &quot;ABC sneakers&quot;\r\n    }\r\n\r\nCorresponding Product object:\r\n\r\n    Product product = Product.newBuilder()\r\n        .setId(&quot;1234&quot;)\r\n        .addCategories(&quot;Apparel &amp; Accessories &gt; Shoes&quot;)\r\n        .setTitle(&quot;ABC sneakers&quot;)\r\n        .build();\r\n\r\nWhen I try to parse the Product object to JSON using Gson library I receive following result:\r\n\r\n    {\r\n        &quot;expirationCase_&quot;: 0,\r\n        &quot;name_&quot;: &quot;&quot;,\r\n        &quot;id_&quot;: &quot;1234&quot;,\r\n        &quot;type_&quot;: 0,\r\n        &quot;primaryProductId_&quot;: &quot;&quot;,\r\n        &quot;collectionMemberIds_&quot;: [],\r\n        &quot;gtin_&quot;: &quot;&quot;,\r\n        &quot;categories_&quot;: [\r\n          &quot;Apparel &amp; Accessories &gt; Shoes&quot;\r\n        ],\r\n        &quot;title_&quot;: &quot;ABC sneakers&quot;,\r\n        &quot;brands_&quot;: [],\r\n        &quot;description_&quot;: &quot;&quot;,\r\n        &quot;languageCode_&quot;: &quot;&quot;,\r\n        &quot;tags_&quot;: [],\r\n        &quot;availability_&quot;: 0,\r\n        &quot;fulfillmentInfo_&quot;: [],\r\n        &quot;uri_&quot;: &quot;&quot;,\r\n        &quot;images_&quot;: [],\r\n        &quot;sizes_&quot;: [],\r\n        &quot;materials_&quot;: [],\r\n        &quot;patterns_&quot;: [],\r\n        &quot;conditions_&quot;: [],\r\n        &quot;promotions_&quot;: [],\r\n        &quot;variants_&quot;: [],\r\n        &quot;localInventories_&quot;: [],\r\n        &quot;memoizedIsInitialized&quot;: 1,\r\n        &quot;unknownFields&quot;: {\r\n          &quot;fields&quot;: {}\r\n        },\r\n        &quot;memoizedSize&quot;: -1,\r\n        &quot;memoizedHashCode&quot;: 0\r\n    }\r\n\r\nHow can I parse com.google.cloud.retail.v2.Product objects to its correct JSON representation? Is there any Google provided solution or should I create my own Product?\r\n\r\nI feel helpless on that.\r\n\r\nI tried to use following Gson for parsing and have no idea what can I change here.\r\n\r\n`Gson gson2 = new GsonBuilder().disableHtmlEscaping().create();`","title":"How to parse com.google.cloud.retail.v2.Product object to JSON?","body":"<p>I am implementing Google Retail Search into the project. Google API require me to provide <a href=\"https://cloud.google.com/retail/docs/reference/rest/v2/projects.locations.catalogs.branches.products#Product\" rel=\"nofollow noreferrer\">Product</a> object in given JSON format. JSON representation of Product with minimum number of fields populated look like following:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;1234&quot;,\n    &quot;categories&quot;: &quot;Apparel &amp; Accessories &gt; Shoes&quot;,\n    &quot;title&quot;: &quot;ABC sneakers&quot;\n}\n</code></pre>\n<p>Corresponding Product object:</p>\n<pre><code>Product product = Product.newBuilder()\n    .setId(&quot;1234&quot;)\n    .addCategories(&quot;Apparel &amp; Accessories &gt; Shoes&quot;)\n    .setTitle(&quot;ABC sneakers&quot;)\n    .build();\n</code></pre>\n<p>When I try to parse the Product object to JSON using Gson library I receive following result:</p>\n<pre><code>{\n    &quot;expirationCase_&quot;: 0,\n    &quot;name_&quot;: &quot;&quot;,\n    &quot;id_&quot;: &quot;1234&quot;,\n    &quot;type_&quot;: 0,\n    &quot;primaryProductId_&quot;: &quot;&quot;,\n    &quot;collectionMemberIds_&quot;: [],\n    &quot;gtin_&quot;: &quot;&quot;,\n    &quot;categories_&quot;: [\n      &quot;Apparel &amp; Accessories &gt; Shoes&quot;\n    ],\n    &quot;title_&quot;: &quot;ABC sneakers&quot;,\n    &quot;brands_&quot;: [],\n    &quot;description_&quot;: &quot;&quot;,\n    &quot;languageCode_&quot;: &quot;&quot;,\n    &quot;tags_&quot;: [],\n    &quot;availability_&quot;: 0,\n    &quot;fulfillmentInfo_&quot;: [],\n    &quot;uri_&quot;: &quot;&quot;,\n    &quot;images_&quot;: [],\n    &quot;sizes_&quot;: [],\n    &quot;materials_&quot;: [],\n    &quot;patterns_&quot;: [],\n    &quot;conditions_&quot;: [],\n    &quot;promotions_&quot;: [],\n    &quot;variants_&quot;: [],\n    &quot;localInventories_&quot;: [],\n    &quot;memoizedIsInitialized&quot;: 1,\n    &quot;unknownFields&quot;: {\n      &quot;fields&quot;: {}\n    },\n    &quot;memoizedSize&quot;: -1,\n    &quot;memoizedHashCode&quot;: 0\n}\n</code></pre>\n<p>How can I parse com.google.cloud.retail.v2.Product objects to its correct JSON representation? Is there any Google provided solution or should I create my own Product?</p>\n<p>I feel helpless on that.</p>\n<p>I tried to use following Gson for parsing and have no idea what can I change here.</p>\n<p><code>Gson gson2 = new GsonBuilder().disableHtmlEscaping().create();</code></p>\n"},{"tags":["java","swing","awt","screenshot","x11"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":2,"creation_date":1678955446,"post_id":75752931,"comment_id":133633912,"body_markdown":"check your jdk is headless or full ?","body":"check your jdk is headless or full ?"},{"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"score":0,"creation_date":1679286683,"post_id":75752931,"comment_id":133687912,"body_markdown":"jdk installation is full not a headless.","body":"jdk installation is full not a headless."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679291234,"post_id":75752931,"comment_id":133688390,"body_markdown":"(0)  Test Environment: `Ubuntu 20.04` , JDK: `OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)` , IDE: IDEA `IntelliJ IDEA 2022.3.2 (Community Edition)`\n(1) Run your code: WORK, get screenshot.png (2) Run your code with  `System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);` , WORK, get creenshot.png (3) Run your code with  `System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);` , get ERROR  `Exception in thread &quot;main&quot; java.awt.AWTException: headless environment` YES, Beacuse I set `headless`is `true`, (4)  I can&#39;t reproduce your error, on my environment.","body":"(0)  Test Environment: <code>Ubuntu 20.04</code> , JDK: <code>OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)</code> , IDE: IDEA <code>IntelliJ IDEA 2022.3.2 (Community Edition)</code> (1) Run your code: WORK, get screenshot.png (2) Run your code with  <code>System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);</code> , WORK, get creenshot.png (3) Run your code with  <code>System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);</code> , get ERROR  <code>Exception in thread &quot;main&quot; java.awt.AWTException: headless environment</code> YES, Beacuse I set <code>headless</code>is <code>true</code>, (4)  I can&#39;t reproduce your error, on my environment."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679303838,"post_id":75752931,"comment_id":133690814,"body_markdown":"If set `System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);` , will get `Exception in thread &quot;main&quot; java.awt.AWTException: headless environment` , NOT  YOUR EXCEPTION`java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment`","body":"If set <code>System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);</code> , will get <code>Exception in thread &quot;main&quot; java.awt.AWTException: headless environment</code> , NOT  YOUR EXCEPTION<code>java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</code>"},{"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"score":0,"creation_date":1679382030,"post_id":75752931,"comment_id":133706987,"body_markdown":"Now i am getting error like :\n Handler dispatch failed; nested exception is java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable","body":"Now i am getting error like :  Handler dispatch failed; nested exception is java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679385550,"post_id":75752931,"comment_id":133707678,"body_markdown":"I guess you should first confirm whether your AWS Server has a GUI (Desktop) installed?","body":"I guess you should first confirm whether your AWS Server has a GUI (Desktop) installed?"},{"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"score":0,"creation_date":1679474087,"post_id":75752931,"comment_id":133726664,"body_markdown":"Desktop is not installed.","body":"Desktop is not installed."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679480819,"post_id":75752931,"comment_id":133728338,"body_markdown":"You must install the Linux GUI `xorg` libraries. then add `-Djava.awt.headless=true`","body":"You must install the Linux GUI <code>xorg</code> libraries. then add <code>-Djava.awt.headless=true</code>"},{"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"score":0,"creation_date":1679542595,"post_id":75752931,"comment_id":133741742,"body_markdown":"-Djava.awt.headless=true gives java.awt.AWTException: headless environment exception.","body":"-Djava.awt.headless=true gives java.awt.AWTException: headless environment exception."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679543792,"post_id":75752931,"comment_id":133741858,"body_markdown":"then REMOVE this `-Djava.awt.headless=true`","body":"then REMOVE this <code>-Djava.awt.headless=true</code>"}],"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679421047,"creation_date":1678949602,"question_id":75752931,"body_markdown":"I am using AWS linux server but i get error like :  java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment \r\n\r\nI take a screenshot using java.awt.robot class \r\n\r\nHere is my code : \r\n\r\n```\r\nimport java.awt.Rectangle;\r\nimport java.awt.Robot;\r\nimport java.awt.Toolkit;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport javax.imageio.ImageIO;&#160;public class DesktopScreenshot {\r\n&#160;&#160;&#160; public static void main(String[] args) throws Exception {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; Robot robot = new Robot();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; File screenshotFile = new File(&quot;screenshot.png&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\r\n&#160;&#160;&#160; }\r\n}\r\n```\r\n\r\nSet headless Property :  System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;)\r\nthen i get java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment \r\n\r\nand when i set this Property this to true it gives &quot;headless environment exception&quot;\r\n\r\nHere i try some solution :\r\n\r\nset environment Variable : -Djava.awt.headless=false\r\n\r\nInstall X11 server on linux server and add dependencies \r\n\r\nset DISPLAY variable : export DISPLAY=0.0 and also try export DISPLAY&lt;ip-address&gt;=0.0 and also unser Display varible\r\n\r\nAlso add dependency and library for sun.awt.X11GraphicsEnvironment \r\n\r\nNothing works out.\r\n\r\nAnybody has solution or knowledge about this problem?\r\n","title":"How to Use sun.awt.X11GraphicsEnvironment on linux server?","body":"<p>I am using AWS linux server but i get error like :  java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</p>\n<p>I take a screenshot using java.awt.robot class</p>\n<p>Here is my code :</p>\n<pre><code>import java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO; public class DesktopScreenshot {\n    public static void main(String[] args) throws Exception {\n        Robot robot = new Robot();\n        Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n        BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\n        File screenshotFile = new File(&quot;screenshot.png&quot;);\n        ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\n    }\n}\n</code></pre>\n<p>Set headless Property :  System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;)\nthen i get java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</p>\n<p>and when i set this Property this to true it gives &quot;headless environment exception&quot;</p>\n<p>Here i try some solution :</p>\n<p>set environment Variable : -Djava.awt.headless=false</p>\n<p>Install X11 server on linux server and add dependencies</p>\n<p>set DISPLAY variable : export DISPLAY=0.0 and also try export DISPLAY=0.0 and also unser Display varible</p>\n<p>Also add dependency and library for sun.awt.X11GraphicsEnvironment</p>\n<p>Nothing works out.</p>\n<p>Anybody has solution or knowledge about this problem?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"score":0,"creation_date":1679359284,"post_id":75796420,"comment_id":133704560,"body_markdown":"You can use the Collectors.groupingBy() collector along with the Collectors.summingInt() collector\n\nExample:\n\n      Map&lt;String, Integer&gt; countryToNumStudents = allSchools.collect(\n        Collectors.groupingBy(School::getCountry,\n        Collectors.summingInt(School::getNumStudents)));","body":"You can use the Collectors.groupingBy() collector along with the Collectors.summingInt() collector  Example:        Map&lt;String, Integer&gt; countryToNumStudents = allSchools.collect(         Collectors.groupingBy(School::getCountry,         Collectors.summingInt(School::getNumStudents)));"},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":2,"creation_date":1679359304,"post_id":75796420,"comment_id":133704561,"body_markdown":"Could you set up some scaffolding code with sample classes and object lists? That&#39;ll save answerers some time.","body":"Could you set up some scaffolding code with sample classes and object lists? That&#39;ll save answerers some time."}],"answers":[{"comments":[{"owner":{"account_id":27971310,"reputation":21,"user_id":21360971,"display_name":"Kevin Li"},"score":0,"creation_date":1679360169,"post_id":75796465,"comment_id":133704651,"body_markdown":"Thanks for the help! I was thinking it would be solved with groupingBy, but I wasn&#39;t sure about which functions in the API would sum up the fields of the objects.","body":"Thanks for the help! I was thinking it would be solved with groupingBy, but I wasn&#39;t sure about which functions in the API would sum up the fields of the objects."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1679360569,"post_id":75796465,"comment_id":133704691,"body_markdown":"Your if/else can be replaced with `countryToNumStudents.merge(country, numStudents, Integer::sum);`.","body":"Your if/else can be replaced with <code>countryToNumStudents.merge(country, numStudents, Integer::sum);</code>."}],"tags":[],"owner":{"account_id":24548949,"reputation":977,"user_id":18458353,"display_name":"Charfeddine Mohamed Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679359367,"creation_date":1679359367,"answer_id":75796465,"question_id":75796420,"body_markdown":"you can use the Stream API to group the schools by country and sum the number of students for each country.\r\n\r\n    Map&lt;String, Integer&gt; countryToNumStudents = allSchools\r\n        .collect(Collectors.groupingBy(School::getCountry, Collectors.summingInt(School::getNumStudents)))\r\n\r\nIf you don&#39;t want to use the sream API \r\n\r\n    Map&lt;String, Integer&gt; countryToNumStudents = new HashMap&lt;&gt;();\r\n    for (School school : allSchools) {\r\n        String country = school.getCountry();\r\n        int numStudents = school.getNumStudents();\r\n        if (countryToNumStudents.containsKey(country)) {\r\n            int currentNumStudents = countryToNumStudents.get(country);\r\n            countryToNumStudents.put(country, currentNumStudents + numStudents);\r\n        } else {\r\n            countryToNumStudents.put(country, numStudents);\r\n        }\r\n    }","title":"How to use stream to map the values of an object?","body":"<p>you can use the Stream API to group the schools by country and sum the number of students for each country.</p>\n<pre><code>Map&lt;String, Integer&gt; countryToNumStudents = allSchools\n    .collect(Collectors.groupingBy(School::getCountry, Collectors.summingInt(School::getNumStudents)))\n</code></pre>\n<p>If you don't want to use the sream API</p>\n<pre><code>Map&lt;String, Integer&gt; countryToNumStudents = new HashMap&lt;&gt;();\nfor (School school : allSchools) {\n    String country = school.getCountry();\n    int numStudents = school.getNumStudents();\n    if (countryToNumStudents.containsKey(country)) {\n        int currentNumStudents = countryToNumStudents.get(country);\n        countryToNumStudents.put(country, currentNumStudents + numStudents);\n    } else {\n        countryToNumStudents.put(country, numStudents);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679385044,"post_id":75796566,"comment_id":133707567,"body_markdown":"Simpler with `merge`: `studentsPerCountry.merge(school.getCountry(), school.getNumStudents(), Integer::sum);`","body":"Simpler with <code>merge</code>: <code>studentsPerCountry.merge(school.getCountry(), school.getNumStudents(), Integer::sum);</code>"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679421038,"creation_date":1679360816,"answer_id":75796566,"question_id":75796420,"body_markdown":"If  you don&#39;t want to use the stream, here is another way.\r\n- Here [Map.compute](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)) will set the initial value if absent, or sum the next value to the existing one.\r\n```\r\nMap&lt;String, Long&gt; studentsPerCountry = new HashMap&lt;&gt;();\r\nfor(School school : schools) {\r\n    studentsPerCountry.compute(school.getCountry(), (k,v)-&gt;v == null\r\n            ? school.getNumStudents()\r\n                    : v + school.getNumStudents());\r\n}\r\n```\r\nAnd a simpler method than `Map.compute`, as pointed out in the comments by @VGR and @Holger is to use [Map.merge](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)).  Here is an example.\r\n```\r\nMap&lt;String, Integer&gt; studentsPerCountry = new HashMap&lt;&gt;();\r\nfor(School school : schools) {\r\n    studentsPerCountry.merge(school.getCountry(),\r\n                school.getNumStudents(),  Integer::sum);\r\n}","title":"How to use stream to map the values of an object?","body":"<p>If  you don't want to use the stream, here is another way.</p>\n<ul>\n<li>Here <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map.compute</a> will set the initial value if absent, or sum the next value to the existing one.</li>\n</ul>\n<pre><code>Map&lt;String, Long&gt; studentsPerCountry = new HashMap&lt;&gt;();\nfor(School school : schools) {\n    studentsPerCountry.compute(school.getCountry(), (k,v)-&gt;v == null\n            ? school.getNumStudents()\n                    : v + school.getNumStudents());\n}\n</code></pre>\n<p>And a simpler method than <code>Map.compute</code>, as pointed out in the comments by @VGR and @Holger is to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map.merge</a>.  Here is an example.</p>\n<pre><code>Map&lt;String, Integer&gt; studentsPerCountry = new HashMap&lt;&gt;();\nfor(School school : schools) {\n    studentsPerCountry.merge(school.getCountry(),\n                school.getNumStudents(),  Integer::sum);\n}\n</code></pre>\n"}],"owner":{"account_id":27971310,"reputation":21,"user_id":21360971,"display_name":"Kevin Li"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679421038,"creation_date":1679358620,"question_id":75796420,"body_markdown":"Let&#39;s say I have a class named `School`, and objects of this class have `Country` and `numStudents` instance variables. It doesn&#39;t really matter what they are beyond having those qualities, just assume they have a categorical and numerical variable that can be accessed with accessor methods (`getCountry(), getNumStudents()`).\r\n\r\nThe problem is that I want to map all `Country` to `numStudents`.\r\n\r\n```\r\nStream&lt;School&gt; allSchools = {Yale, UCSD, Taipei, ...};\r\n\r\n```\r\nFor example, if `Yale` and `UCSD` both have `USA` as their country, their students would be counted together. The map would look like this:\r\n\r\n`{&#39;USA&#39; : 20000, &#39;Taiwan&#39; : 10000, ...}`\r\n\r\nI know how to use stream to make a frequency map if we are counting duplicates (i.e. map frequency of {A, A, O, B, B}), but I don&#39;t know how to change it around so that it will give me what I want for this application. \r\n","title":"How to use stream to map the values of an object?","body":"<p>Let's say I have a class named <code>School</code>, and objects of this class have <code>Country</code> and <code>numStudents</code> instance variables. It doesn't really matter what they are beyond having those qualities, just assume they have a categorical and numerical variable that can be accessed with accessor methods (<code>getCountry(), getNumStudents()</code>).</p>\n<p>The problem is that I want to map all <code>Country</code> to <code>numStudents</code>.</p>\n<pre><code>Stream&lt;School&gt; allSchools = {Yale, UCSD, Taipei, ...};\n\n</code></pre>\n<p>For example, if <code>Yale</code> and <code>UCSD</code> both have <code>USA</code> as their country, their students would be counted together. The map would look like this:</p>\n<p><code>{'USA' : 20000, 'Taiwan' : 10000, ...}</code></p>\n<p>I know how to use stream to make a frequency map if we are counting duplicates (i.e. map frequency of {A, A, O, B, B}), but I don't know how to change it around so that it will give me what I want for this application.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1679399482,"post_id":75795374,"comment_id":133711279,"body_markdown":"Which database are you using?","body":"Which database are you using?"},{"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"score":1,"creation_date":1679400020,"post_id":75795374,"comment_id":133711432,"body_markdown":"@MauricioBuffon MySQL","body":"@MauricioBuffon MySQL"},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1679401826,"post_id":75795374,"comment_id":133711914,"body_markdown":"Ok, I had a similar issue in the past. If I remember correctly, it happened because the database didn&#39;t accept identity columns. But this is not the case with MySQL. My suggestion is to specify the dialect for the persistence provider. If you are using Hibernate, this is done by adding `&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;` on `persistence.xml` file.","body":"Ok, I had a similar issue in the past. If I remember correctly, it happened because the database didn&#39;t accept identity columns. But this is not the case with MySQL. My suggestion is to specify the dialect for the persistence provider. If you are using Hibernate, this is done by adding <code>&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; &#47;&gt;</code> on <code>persistence.xml</code> file."}],"answers":[{"comments":[{"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"score":0,"creation_date":1679348515,"post_id":75795438,"comment_id":133702998,"body_markdown":"I have used sequence before and it created a separate id table. I copied your code and it also creates a separate &quot;my_sequence&quot; table with the id&#39;s. Both auto, sequence, and table does it, only identity doesn&#39;t.","body":"I have used sequence before and it created a separate id table. I copied your code and it also creates a separate &quot;my_sequence&quot; table with the id&#39;s. Both auto, sequence, and table does it, only identity doesn&#39;t."},{"owner":{"account_id":18764744,"reputation":15,"user_id":13682889,"display_name":"Milan Dol"},"score":0,"creation_date":1679348829,"post_id":75795438,"comment_id":133703063,"body_markdown":"I&#39;m sorry. Usually I just use @Id and @GeneratedValue(), but I don&#39;t know how to have that start at a certain number.","body":"I&#39;m sorry. Usually I just use @Id and @GeneratedValue(), but I don&#39;t know how to have that start at a certain number."},{"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"score":0,"creation_date":1679349136,"post_id":75795438,"comment_id":133703114,"body_markdown":"Thank you for your answer anyway. I don&#39;t think it&#39;s possible to create a starting point when using the identity type.","body":"Thank you for your answer anyway. I don&#39;t think it&#39;s possible to create a starting point when using the identity type."}],"tags":[],"owner":{"account_id":18764744,"reputation":15,"user_id":13682889,"display_name":"Milan Dol"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679347389,"creation_date":1679347389,"answer_id":75795438,"question_id":75795374,"body_markdown":"You can try to use: \r\n```\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_gen_name&quot;)\r\n@SequenceGenerator(name = &quot;seq_gen_name&quot;, sequenceName = &quot;my_sequence&quot;, initialValue = 1000, allocationSize = 1)\r\n```\r\nIn this example name is the name of the sequence generator,\r\nsequenceName is the name of the database sequence to use,\r\ninitialValue is the initial value of the sequence and\r\nallocationSize is the increment size of the sequence.\r\n\r\nNote: The SEQUENCE strategy requires a database sequence to be created, so you&#39;ll need to ensure that your database supports sequences and that the sequence is created before running your (JPA) application.","title":"JPA autogenerate id from a starting point without creating that separate id table","body":"<p>You can try to use:</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_gen_name&quot;)\n@SequenceGenerator(name = &quot;seq_gen_name&quot;, sequenceName = &quot;my_sequence&quot;, initialValue = 1000, allocationSize = 1)\n</code></pre>\n<p>In this example name is the name of the sequence generator,\nsequenceName is the name of the database sequence to use,\ninitialValue is the initial value of the sequence and\nallocationSize is the increment size of the sequence.</p>\n<p>Note: The SEQUENCE strategy requires a database sequence to be created, so you'll need to ensure that your database supports sequences and that the sequence is created before running your (JPA) application.</p>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679420402,"creation_date":1679420402,"answer_id":75804658,"question_id":75795374,"body_markdown":"I&#39;m not an expert in MySQL, but searching the web it seems that MySQL doesn&#39;t support sequences - at least, stricto sensu. So either you use `GenerationType.IDENTITY` or `GenerationType.TABLE`.\r\n\r\nIn order to prove the concept, let&#39;s code a little. In the following examples, I will show the entity class, its metadata, and the SQL the persistence provider generated based on them.\r\n\r\nGenerationType.IDENTITY\r\n-----------------------\r\n\r\nThe entity class:\r\n\r\n```java\r\n@Entity\r\npublic class EntityOne {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n}\r\n```\r\n\r\nThe generated SQL:\r\n\r\n```sql\r\ncreate table EntityOne (id integer not null auto_increment, primary key (id)) engine=InnoDB;\r\n```\r\n\r\nIf you need to start the `AUTO_INCREMENT` column from a specific value, as per the [documentation](https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html), a possible solution is to insert a row with that value and then delete it.\r\n\r\n\r\nGenerationType.SEQUENCE\r\n-----------------------\r\n\r\nThe entity class:\r\n\r\n```java\r\n@Entity\r\npublic class EntityTwo {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;EntityTwoSequence&quot;, initialValue = 1000)\r\n    @GeneratedValue(generator = &quot;EntityTwoSequence&quot;)\r\n    private Integer id;\r\n}\r\n```\r\n\r\nThe generated SQL:\r\n\r\n```sql\r\ncreate table EntityTwo (id integer not null, primary key (id)) engine=InnoDB;\r\ncreate table EntityTwoSequence (next_val bigint) engine=InnoDB;\r\ninsert into EntityTwoSequence values ( 1000 );\r\n```\r\n\r\nAgain, this is because MySQL does not support sequences. If the database used were one that supports sequences, a sequence creation would be seen above.\r\n\r\nGenerationType.TABLE\r\n--------------------\r\n\r\nThe entity class:\r\n\r\n```java\r\n@Entity\r\n@TableGenerator(name = &quot;MySequenceGenerator&quot;)\r\npublic class EntityThree {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;MySequenceGenerator&quot;)\r\n    private Integer id;\r\n}\r\n```\r\n\r\nThe generated SQL:\r\n\r\n```sql\r\ncreate table EntityThree (id integer not null, primary key (id)) engine=InnoDB;\r\ncreate table MySequenceGenerator (sequence_name varchar(255) not null, next_val bigint, primary key (sequence_name)) engine=InnoDB;\r\ninsert into MySequenceGenerator(sequence_name, next_val) values (&#39;EntityThree&#39;,0);\r\n```\r\n\r\nIt looks like the difference between `@SequenceGenerator` and `@TableGenerator` in MySQL is that `@TableGenerator` creates only one table with multiple rows to manage all the ids that reference it (the expected behavior, by the way), while `@SequenceGenerator` creates a table for each annotation.\r\n\r\nGenerationType.UUID\r\n-------------------\r\n\r\nI decided - why not?, to see what happens when using the UUID generation type.\r\n\r\nThe entity class:\r\n\r\n```java\r\n@Entity\r\npublic class EntityFour {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n}\r\n```\r\n\r\nThe generated SQL:\r\n\r\n```sql\r\ncreate table EntityFour (id binary(16) not null, primary key (id)) engine=InnoDB;\r\n```\r\n\r\nOnly the table is created. This suggests that the id generation, in this case, is managed by the persistence provider - which is actually what the [specification says](https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a14790).\r\n\r\nIMPORTANT\r\n---------\r\n\r\n1. I suggest you to set the dialect property of your persistence provider. Normally, this is done in the `persistence.xml` file. If you are using Hibernate, you should add the following line:\r\n\r\n```xml\r\n&lt;persistence ...&gt;\r\n    ...\r\n    &lt;persistence-unit ...&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            ...\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n2. To enable the SQL script schema generation, you have to set in `persistence.xml` file the properties `jakarta.persistence.schema-generation.scripts.action` and `jakarta.persistence.schema-generation.scripts.create-target`.\r\n\r\n3. Note that the `next_val` columns are defined as `bigint`. So, if you are going to use a sequence or table generator, I suggest you to set the entity id field as a Long.\r\n","title":"JPA autogenerate id from a starting point without creating that separate id table","body":"<p>I'm not an expert in MySQL, but searching the web it seems that MySQL doesn't support sequences - at least, stricto sensu. So either you use <code>GenerationType.IDENTITY</code> or <code>GenerationType.TABLE</code>.</p>\n<p>In order to prove the concept, let's code a little. In the following examples, I will show the entity class, its metadata, and the SQL the persistence provider generated based on them.</p>\n<h2>GenerationType.IDENTITY</h2>\n<p>The entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class EntityOne {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n}\n</code></pre>\n<p>The generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table EntityOne (id integer not null auto_increment, primary key (id)) engine=InnoDB;\n</code></pre>\n<p>If you need to start the <code>AUTO_INCREMENT</code> column from a specific value, as per the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\" rel=\"nofollow noreferrer\">documentation</a>, a possible solution is to insert a row with that value and then delete it.</p>\n<h2>GenerationType.SEQUENCE</h2>\n<p>The entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class EntityTwo {\n\n    @Id\n    @SequenceGenerator(name = &quot;EntityTwoSequence&quot;, initialValue = 1000)\n    @GeneratedValue(generator = &quot;EntityTwoSequence&quot;)\n    private Integer id;\n}\n</code></pre>\n<p>The generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table EntityTwo (id integer not null, primary key (id)) engine=InnoDB;\ncreate table EntityTwoSequence (next_val bigint) engine=InnoDB;\ninsert into EntityTwoSequence values ( 1000 );\n</code></pre>\n<p>Again, this is because MySQL does not support sequences. If the database used were one that supports sequences, a sequence creation would be seen above.</p>\n<h2>GenerationType.TABLE</h2>\n<p>The entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@TableGenerator(name = &quot;MySequenceGenerator&quot;)\npublic class EntityThree {\n\n    @Id\n    @GeneratedValue(generator = &quot;MySequenceGenerator&quot;)\n    private Integer id;\n}\n</code></pre>\n<p>The generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table EntityThree (id integer not null, primary key (id)) engine=InnoDB;\ncreate table MySequenceGenerator (sequence_name varchar(255) not null, next_val bigint, primary key (sequence_name)) engine=InnoDB;\ninsert into MySequenceGenerator(sequence_name, next_val) values ('EntityThree',0);\n</code></pre>\n<p>It looks like the difference between <code>@SequenceGenerator</code> and <code>@TableGenerator</code> in MySQL is that <code>@TableGenerator</code> creates only one table with multiple rows to manage all the ids that reference it (the expected behavior, by the way), while <code>@SequenceGenerator</code> creates a table for each annotation.</p>\n<h2>GenerationType.UUID</h2>\n<p>I decided - why not?, to see what happens when using the UUID generation type.</p>\n<p>The entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class EntityFour {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n}\n</code></pre>\n<p>The generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table EntityFour (id binary(16) not null, primary key (id)) engine=InnoDB;\n</code></pre>\n<p>Only the table is created. This suggests that the id generation, in this case, is managed by the persistence provider - which is actually what the <a href=\"https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a14790\" rel=\"nofollow noreferrer\">specification says</a>.</p>\n<h2>IMPORTANT</h2>\n<ol>\n<li>I suggest you to set the dialect property of your persistence provider. Normally, this is done in the <code>persistence.xml</code> file. If you are using Hibernate, you should add the following line:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence ...&gt;\n    ...\n    &lt;persistence-unit ...&gt;\n        ...\n        &lt;properties&gt;\n            ...\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>To enable the SQL script schema generation, you have to set in <code>persistence.xml</code> file the properties <code>jakarta.persistence.schema-generation.scripts.action</code> and <code>jakarta.persistence.schema-generation.scripts.create-target</code>.</p>\n</li>\n<li><p>Note that the <code>next_val</code> columns are defined as <code>bigint</code>. So, if you are going to use a sequence or table generator, I suggest you to set the entity id field as a Long.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75804658,"answer_count":2,"score":1,"last_activity_date":1679420402,"creation_date":1679346873,"question_id":75795374,"body_markdown":"In JPA I want to autogenerate an integer primary key where the generation should start from, say, 1000. I&#39;m new to JPA and I have used IDENTITY type earlier to avoid those extra id tables that JPA otherwise generates. I&#39;ve tried using SEQUENCE but it generates a seperate id table as well. \r\n\r\nEarlier code:\r\n\r\n    @Id\r\n    @Column(length = 4)\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Integer reservationId;\r\n\r\nFor what I can see, you can&#39;t get IDENTITY to increment from a specified starting point.\r\n\r\nIs there any way I can use JPA to increment from a starting point and not get extra id tables? ","title":"JPA autogenerate id from a starting point without creating that separate id table","body":"<p>In JPA I want to autogenerate an integer primary key where the generation should start from, say, 1000. I'm new to JPA and I have used IDENTITY type earlier to avoid those extra id tables that JPA otherwise generates. I've tried using SEQUENCE but it generates a seperate id table as well.</p>\n<p>Earlier code:</p>\n<pre><code>@Id\n@Column(length = 4)\n@GeneratedValue (strategy = GenerationType.IDENTITY)\nprivate Integer reservationId;\n</code></pre>\n<p>For what I can see, you can't get IDENTITY to increment from a specified starting point.</p>\n<p>Is there any way I can use JPA to increment from a starting point and not get extra id tables?</p>\n"},{"tags":["java","sql","jpa","jpql"],"comments":[{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1679460120,"post_id":75804302,"comment_id":133724575,"body_markdown":"Just to validate my understanding: you&#39;re expecting that all elements in `AWSPriceSheet @OneToMany List` in the `AWSUtilization` entity obey the filters specified in the WHERE clause of the JPQL? If so, it won&#39;t. You&#39;re retrieving `AWSUtilization` entities. Suppose that one `AWSUtilization` entity has 4 `AWSPriceSheet` entities and just one of them satisfy the query filters; well, the entity will be returned - and with it, all the others entities it relates to.","body":"Just to validate my understanding: you&#39;re expecting that all elements in <code>AWSPriceSheet @OneToMany List</code> in the <code>AWSUtilization</code> entity obey the filters specified in the WHERE clause of the JPQL? If so, it won&#39;t. You&#39;re retrieving <code>AWSUtilization</code> entities. Suppose that one <code>AWSUtilization</code> entity has 4 <code>AWSPriceSheet</code> entities and just one of them satisfy the query filters; well, the entity will be returned - and with it, all the others entities it relates to."}],"owner":{"account_id":19578254,"reputation":43,"user_id":14327899,"display_name":"Colin Harker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679420165,"creation_date":1679418419,"question_id":75804302,"body_markdown":"I have the following Query,\r\n```sql\r\n@Query(&quot;SELECT DISTINCT a FROM AWSUtilization a&quot; +\r\n\t\t\t&quot; JOIN fetch a.cloudAccount c LEFT JOIN a.returnedReservationOrder r JOIN a.awsPriceSheets aps&quot; +\r\n\t\t\t&quot; WHERE c.costCenterId in (:costCenterId)&quot; +\r\n\t\t\t&quot; AND c.type=&#39;AWS&#39;&quot; +\r\n\t\t\t&quot; AND c.status=&#39;ACTIVE&#39;&quot; +\r\n\t\t\t&quot; AND a.riUtilization&lt;=:riUtilization&quot; +\r\n\t\t\t&quot; AND a.offeringType=&#39;Convertible&#39;&quot; +\r\n\t\t\t&quot; AND a.period=:period&quot; +\r\n\t\t\t&quot; AND a.state=&#39;active&#39; AND (r.riStatus IS NULL OR r.riStatus NOT IN (&#39;Completed&#39;, &#39;Pending&#39;))&quot; +\r\n\t\t\t&quot; AND aps.licenseModel=&#39;No License required&#39;&quot; +\r\n\t\t\t&quot; AND aps.operatingSystem IN (SELECT DISTINCT apm.propertyName FROM a.awsPropertyNameMappings apm WHERE apm.propertyType = &#39;OS&#39; AND a.platform = apm.propertyName)&quot; +\r\n\t\t\t&quot; AND aps.preInstalled IN (SELECT DISTINCT apm.propertyName FROM a.awsPropertyNameMappings apm WHERE apm.propertyType = &#39;PRE_INSTALLED&#39; AND a.platform = apm.propertyName)&quot; +\r\n\t\t\t&quot; AND aps.offeringClass=&#39;convertible&#39;&quot; +\r\n\t\t\t&quot; AND CONCAT(CAST(a.term AS string), &#39;yr&#39;) = aps.leaseContractLength&quot;)\r\n```\r\n\r\nThis returns a list of AWSUtilization objects, here is the important information from the class.\r\n\r\n```java\r\npublic class AWSUtilization implements Serializable {\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(\r\n        name = &quot;account_id&quot;,\r\n        referencedColumnName = &quot;account_id&quot;,insertable=false,updatable=false\r\n    )\r\n\tprivate CloudAccount cloudAccount;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(\r\n\t\t\tname = &quot;reservation_id&quot;,\r\n\t\t\treferencedColumnName = &quot;reservation_id&quot;,insertable=false,updatable=false\r\n\t)\r\n\tprivate List&lt;ReturnedReservationOrder&gt; returnedReservationOrder;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(\r\n\t\t\tname = &quot;property_name&quot;,\r\n\t\t\treferencedColumnName = &quot;platform&quot;, insertable = false, updatable = false\r\n\t)\r\n\tprivate List&lt;AWSPropertyNameMapping&gt; awsPropertyNameMappings;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;instance_type&quot;, referencedColumnName = &quot;instance_type&quot;,insertable=false,updatable=false)\r\n\t@JoinColumn(name = &quot;region&quot;, referencedColumnName = &quot;region&quot;,insertable=false,updatable=false)\r\n\t@JoinColumn(name = &quot;tenancy&quot;, referencedColumnName = &quot;tenancy&quot;,insertable=false,updatable=false)\r\n\t@JoinColumn(name = &quot;purchase_option&quot;, referencedColumnName = &quot;payment_option&quot;,insertable=false,updatable=false)\r\n\tprivate List&lt;AWSPriceSheet&gt; awsPriceSheets;\r\n```\r\n\r\nThe issue I have with the query is that it is not filtering anything that I specified in the query for the AWSPriceSheet objects which are marked with the @OneToMany relationship.\r\n\r\nThe result from the following is the same as the result from the intended query. Is there something I am missing when trying to narrow the results from @OneToMany relationship?\r\n```sql\r\n@Query(&quot;SELECT DISTINCT a FROM AWSUtilization a&quot; +\r\n            &quot; JOIN fetch a.cloudAccount c LEFT JOIN a.returnedReservationOrder r JOIN a.awsPriceSheets aps&quot; +\r\n            &quot; WHERE c.costCenterId in (:costCenterId)&quot; +\r\n            &quot; AND c.type=&#39;AWS&#39;&quot; +\r\n            &quot; AND c.status=&#39;ACTIVE&#39;&quot; +\r\n            &quot; AND a.riUtilization&lt;=:riUtilization&quot; +\r\n            &quot; AND a.offeringType=&#39;Convertible&#39;&quot; +\r\n            &quot; AND a.period=:period&quot; +\r\n            &quot; AND a.state=&#39;active&#39; AND (r.riStatus IS NULL OR r.riStatus NOT IN (&#39;Completed&#39;, &#39;Pending&#39;))&quot; +\r\n```","title":"JPQL Query not working for @OneToMany Mapping","body":"<p>I have the following Query,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>@Query(&quot;SELECT DISTINCT a FROM AWSUtilization a&quot; +\n            &quot; JOIN fetch a.cloudAccount c LEFT JOIN a.returnedReservationOrder r JOIN a.awsPriceSheets aps&quot; +\n            &quot; WHERE c.costCenterId in (:costCenterId)&quot; +\n            &quot; AND c.type='AWS'&quot; +\n            &quot; AND c.status='ACTIVE'&quot; +\n            &quot; AND a.riUtilization&lt;=:riUtilization&quot; +\n            &quot; AND a.offeringType='Convertible'&quot; +\n            &quot; AND a.period=:period&quot; +\n            &quot; AND a.state='active' AND (r.riStatus IS NULL OR r.riStatus NOT IN ('Completed', 'Pending'))&quot; +\n            &quot; AND aps.licenseModel='No License required'&quot; +\n            &quot; AND aps.operatingSystem IN (SELECT DISTINCT apm.propertyName FROM a.awsPropertyNameMappings apm WHERE apm.propertyType = 'OS' AND a.platform = apm.propertyName)&quot; +\n            &quot; AND aps.preInstalled IN (SELECT DISTINCT apm.propertyName FROM a.awsPropertyNameMappings apm WHERE apm.propertyType = 'PRE_INSTALLED' AND a.platform = apm.propertyName)&quot; +\n            &quot; AND aps.offeringClass='convertible'&quot; +\n            &quot; AND CONCAT(CAST(a.term AS string), 'yr') = aps.leaseContractLength&quot;)\n</code></pre>\n<p>This returns a list of AWSUtilization objects, here is the important information from the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AWSUtilization implements Serializable {\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(\n        name = &quot;account_id&quot;,\n        referencedColumnName = &quot;account_id&quot;,insertable=false,updatable=false\n    )\n    private CloudAccount cloudAccount;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(\n            name = &quot;reservation_id&quot;,\n            referencedColumnName = &quot;reservation_id&quot;,insertable=false,updatable=false\n    )\n    private List&lt;ReturnedReservationOrder&gt; returnedReservationOrder;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(\n            name = &quot;property_name&quot;,\n            referencedColumnName = &quot;platform&quot;, insertable = false, updatable = false\n    )\n    private List&lt;AWSPropertyNameMapping&gt; awsPropertyNameMappings;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;instance_type&quot;, referencedColumnName = &quot;instance_type&quot;,insertable=false,updatable=false)\n    @JoinColumn(name = &quot;region&quot;, referencedColumnName = &quot;region&quot;,insertable=false,updatable=false)\n    @JoinColumn(name = &quot;tenancy&quot;, referencedColumnName = &quot;tenancy&quot;,insertable=false,updatable=false)\n    @JoinColumn(name = &quot;purchase_option&quot;, referencedColumnName = &quot;payment_option&quot;,insertable=false,updatable=false)\n    private List&lt;AWSPriceSheet&gt; awsPriceSheets;\n</code></pre>\n<p>The issue I have with the query is that it is not filtering anything that I specified in the query for the AWSPriceSheet objects which are marked with the @OneToMany relationship.</p>\n<p>The result from the following is the same as the result from the intended query. Is there something I am missing when trying to narrow the results from @OneToMany relationship?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>@Query(&quot;SELECT DISTINCT a FROM AWSUtilization a&quot; +\n            &quot; JOIN fetch a.cloudAccount c LEFT JOIN a.returnedReservationOrder r JOIN a.awsPriceSheets aps&quot; +\n            &quot; WHERE c.costCenterId in (:costCenterId)&quot; +\n            &quot; AND c.type='AWS'&quot; +\n            &quot; AND c.status='ACTIVE'&quot; +\n            &quot; AND a.riUtilization&lt;=:riUtilization&quot; +\n            &quot; AND a.offeringType='Convertible'&quot; +\n            &quot; AND a.period=:period&quot; +\n            &quot; AND a.state='active' AND (r.riStatus IS NULL OR r.riStatus NOT IN ('Completed', 'Pending'))&quot; +\n</code></pre>\n"},{"tags":["java","reflection","module-info","project-loom","virtual-threads"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679139638,"post_id":75775492,"comment_id":133670031,"body_markdown":"Consider creating a multi-release JAR instead, with specific code for Java 19, and alternative code for Java 17. Though to be honest, I&#39;m not sure that will work, because virtual threads are a preview feature.","body":"Consider creating a multi-release JAR instead, with specific code for Java 19, and alternative code for Java 17. Though to be honest, I&#39;m not sure that will work, because virtual threads are a preview feature."}],"answers":[{"tags":[],"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679319768,"creation_date":1679319768,"answer_id":75791015,"question_id":75775492,"body_markdown":"You can use the Expression class from java.beans package (from java.desktop module)\r\n     \r\n     import java.beans.Expression;\r\n     var builder = new Expression(Thread.class, &quot;ofVirtual&quot;, null).getValue();\r\n     builder = new Expression(builder, &quot;name&quot;, new Object[] {&quot;ABC&quot;}).getValue();\r\n     var factory = new Expression(builder, &quot;factory&quot;, null).getValue();","title":"How to detect virtual threads on java 19","body":"<p>You can use the Expression class from java.beans package (from java.desktop module)</p>\n<pre><code> import java.beans.Expression;\n var builder = new Expression(Thread.class, &quot;ofVirtual&quot;, null).getValue();\n builder = new Expression(builder, &quot;name&quot;, new Object[] {&quot;ABC&quot;}).getValue();\n var factory = new Expression(builder, &quot;factory&quot;, null).getValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1679406901,"post_id":75799462,"comment_id":133713597,"body_markdown":"It&#39;s better to use `virtual.orElseThrow().getReturnType()`.","body":"It&#39;s better to use <code>virtual.orElseThrow().getReturnType()</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679420105,"post_id":75799462,"comment_id":133717906,"body_markdown":"@JohannesKuhn good point. Incorporated.","body":"@JohannesKuhn good point. Incorporated."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1679615362,"post_id":75799462,"comment_id":133757895,"body_markdown":"Generally, in the java language every expression has a type, which is used to find the method to invoke. So, if you want to do `foo.bar().baz()` reflectively, always use the declared return type of `bar` when trying to find the `baz` method. That will save you a lot of headaches. (Many expression languages ignore that and either use `getClass()` on the target or try to reconstruct a possible target type by walking the type hierarchy.)","body":"Generally, in the java language every expression has a type, which is used to find the method to invoke. So, if you want to do <code>foo.bar().baz()</code> reflectively, always use the declared return type of <code>bar</code> when trying to find the <code>baz</code> method. That will save you a lot of headaches. (Many expression languages ignore that and either use <code>getClass()</code> on the target or try to reconstruct a possible target type by walking the type hierarchy.)"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679420018,"creation_date":1679391433,"answer_id":75799462,"question_id":75775492,"body_markdown":"You can [use `Expression` from the `java.beans` package] if you don’t mind creating a dependency to the `java.desktop` module, but it’s worth highlighting what it does different than your approach.\r\n\r\nYou issue is not specific to the module system, but a widespread wrong use of the Reflection API. When you use `getClass()`, you get the actual (implementation) class of an object and it’s possible that this class is not `public` and hence, the methods you get with `getClass().getMethod(…)` are inaccessible despite overriding or implementing a `public`, accessible API.\r\n\r\nInstead of trying to hotfix this by calling `setAccessible(true)` on the method, you should try to navigate to the right API class, either via `getSuperclass()` or `getInterfaces()`. In this specific case, we want the [`Thread.Builder.OfVirtual` interface] which matches the declared return type of [`Thread.ofVirtual()`]:\r\n\r\n```java\r\nprivate static ThreadFactory tf() {\r\n    Optional&lt;Method&gt; virtual = Arrays.stream(Thread.class.getMethods())\r\n        .filter(m -&gt; m.getParameterCount() == 0 &amp;&amp; m.getName().equals(&quot;ofVirtual&quot;))\r\n        .findAny();\r\n\r\n    if(virtual.isPresent()) {\r\n        try {\r\n            Method method = virtual.orElseThrow();\r\n            Object b = method.invoke(null);\r\n         // matches b.getClass().getInterfaces()[0]\r\n         //   but method.getReturnType() is more reliable\r\n            Class&lt;?&gt; factoryClass = method.getReturnType();\r\n            b = factoryClass.getMethod(&quot;name&quot;, String.class, long.class)\r\n                .invoke(b, &quot;prefix-&quot;, 1L);\r\n            return (ThreadFactory)factoryClass.getMethod(&quot;factory&quot;).invoke(b);\r\n        }\r\n        catch(ReflectiveOperationException t) {\r\n            throw new RuntimeException(t);\r\n        }\r\n    }\r\n    else {\r\n        return Thread::new;\r\n    }\r\n}\r\n```\r\n\r\n[use `Expression` from the `java.beans` package]: https://stackoverflow.com/a/75791015/2711488\r\n[`Thread.Builder.OfVirtual` interface]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.Builder.OfVirtual.html\r\n[`Thread.ofVirtual()`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#ofVirtual()","title":"How to detect virtual threads on java 19","body":"<p>You can <a href=\"https://stackoverflow.com/a/75791015/2711488\">use <code>Expression</code> from the <code>java.beans</code> package</a> if you don’t mind creating a dependency to the <code>java.desktop</code> module, but it’s worth highlighting what it does different than your approach.</p>\n<p>You issue is not specific to the module system, but a widespread wrong use of the Reflection API. When you use <code>getClass()</code>, you get the actual (implementation) class of an object and it’s possible that this class is not <code>public</code> and hence, the methods you get with <code>getClass().getMethod(…)</code> are inaccessible despite overriding or implementing a <code>public</code>, accessible API.</p>\n<p>Instead of trying to hotfix this by calling <code>setAccessible(true)</code> on the method, you should try to navigate to the right API class, either via <code>getSuperclass()</code> or <code>getInterfaces()</code>. In this specific case, we want the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.Builder.OfVirtual.html\" rel=\"nofollow noreferrer\"><code>Thread.Builder.OfVirtual</code> interface</a> which matches the declared return type of <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#ofVirtual()\" rel=\"nofollow noreferrer\"><code>Thread.ofVirtual()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ThreadFactory tf() {\n    Optional&lt;Method&gt; virtual = Arrays.stream(Thread.class.getMethods())\n        .filter(m -&gt; m.getParameterCount() == 0 &amp;&amp; m.getName().equals(&quot;ofVirtual&quot;))\n        .findAny();\n\n    if(virtual.isPresent()) {\n        try {\n            Method method = virtual.orElseThrow();\n            Object b = method.invoke(null);\n         // matches b.getClass().getInterfaces()[0]\n         //   but method.getReturnType() is more reliable\n            Class&lt;?&gt; factoryClass = method.getReturnType();\n            b = factoryClass.getMethod(&quot;name&quot;, String.class, long.class)\n                .invoke(b, &quot;prefix-&quot;, 1L);\n            return (ThreadFactory)factoryClass.getMethod(&quot;factory&quot;).invoke(b);\n        }\n        catch(ReflectiveOperationException t) {\n            throw new RuntimeException(t);\n        }\n    }\n    else {\n        return Thread::new;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75791015,"answer_count":2,"score":1,"last_activity_date":1679420018,"creation_date":1679138126,"question_id":75775492,"body_markdown":"Lets say I want to ship a program that runs on java 17 as that is what is available widely, but use reflection to detect if im running on a vm with the ability to produce a thread factory via `Thread.ofVirtual().name(&quot;abc&quot;).factory()`. Java prohibits reflective access to its internals when they are not properly configured with modules. How do I configure my program to be able to access this method reflectively? The reason for reflective access is to continue compiling into &lt;jdk19 bytecode, but use reflection to use jdk19 features if they are present. Is there a combination of arguments or `module-info.java` contents that can achieve this goal, or is this not possible?\r\n\r\nwhen you try this in jshell, here is what you get:\r\n\r\n```console\r\njshell --enable-preview\r\n|  Welcome to JShell -- Version 19.0.2\r\n|  For an introduction type: /help intro\r\n\r\njshell&gt; Thread.class.getMethod(&quot;ofVirtual&quot;)\r\n   ...&gt;                 .invoke(null)\r\n   ...&gt;                 .getClass()\r\n   ...&gt;                 .getMethod(&quot;name&quot;, String.class, Long.TYPE)\r\n   ...&gt;                 .setAccessible(true)\r\n|  Exception java.lang.reflect.InaccessibleObjectException: Unable to make public java.lang.Thread$Builder$OfVirtual java.lang.ThreadBuilders$VirtualThreadBuilder.name(java.lang.String,long) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @30dae81\r\n|        at AccessibleObject.throwInaccessibleObjectException (AccessibleObject.java:387)\r\n|        at AccessibleObject.checkCanSetAccessible (AccessibleObject.java:363)\r\n|        at AccessibleObject.checkCanSetAccessible (AccessibleObject.java:311)\r\n|        at Method.checkCanSetAccessible (Method.java:201)\r\n|        at Method.setAccessible (Method.java:195)\r\n|        at (#1:5)\r\n\r\n```\r\n\r\n&gt; Exception java.lang.reflect.InaccessibleObjectException: Unable to make public java.lang.Thread$Builder$OfVirtual java.lang.ThreadBuilders$VirtualThreadBuilder.name(java.lang.String,long) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @30dae81\r\n\r\nadding `required java.base;` into the `module-info.java` does not seem to change the outcome either:\r\n\r\n```java\r\n// src/main/java/module-info.java\r\nmodule test_20230518_ {\r\n    requires java.base;\r\n}\r\n```\r\n\r\n```java\r\n// src/main/java/a/A.java\r\n\r\npackage a;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.ThreadFactory;\r\n\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        ThreadFactory threadFactory = tf();\r\n        threadFactory.newThread(() -&gt;\r\n                System.out.println(&quot;hi from &quot; +\r\n                        Thread.currentThread().getName()));\r\n    }\r\n\r\n    private static ThreadFactory tf() {\r\n        Method[] methods = Thread.class.getMethods();\r\n        boolean haveVirtual = Arrays.stream(methods)\r\n                .anyMatch(m -&gt; m.getName().equals(&quot;ofVirtual&quot;) &amp;&amp;\r\n                        m.getParameterCount() == 0);\r\n\r\n        if (haveVirtual) {\r\n            try {\r\n                Object b = Thread.class.getMethod(&quot;ofVirtual&quot;)\r\n                        .invoke(null);\r\n                b = b.getClass().getMethod(&quot;name&quot;, String.class, Long.TYPE)\r\n                        .invoke(b, &quot;prefix-&quot;, (long) 1);\r\n                b = b.getClass().getMethod(&quot;factory&quot;)\r\n                        .invoke(b);\r\n                return (ThreadFactory) b;\r\n            } catch (Throwable t) {\r\n                throw new RuntimeException(t);\r\n            }\r\n        } else {\r\n            return Thread::new;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nstill produces:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IllegalAccessException: class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;\r\n\tat a.A.tf(A.java:31)\r\n\tat a.A.main(A.java:9)\r\nCaused by: java.lang.IllegalAccessException: class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\r\n\tat a.A.tf(A.java:26)\r\n\t... 1 more\r\n```\r\n\r\n&gt; class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;","title":"How to detect virtual threads on java 19","body":"<p>Lets say I want to ship a program that runs on java 17 as that is what is available widely, but use reflection to detect if im running on a vm with the ability to produce a thread factory via <code>Thread.ofVirtual().name(&quot;abc&quot;).factory()</code>. Java prohibits reflective access to its internals when they are not properly configured with modules. How do I configure my program to be able to access this method reflectively? The reason for reflective access is to continue compiling into &lt;jdk19 bytecode, but use reflection to use jdk19 features if they are present. Is there a combination of arguments or <code>module-info.java</code> contents that can achieve this goal, or is this not possible?</p>\n<p>when you try this in jshell, here is what you get:</p>\n<pre><code>jshell --enable-preview\n|  Welcome to JShell -- Version 19.0.2\n|  For an introduction type: /help intro\n\njshell&gt; Thread.class.getMethod(&quot;ofVirtual&quot;)\n   ...&gt;                 .invoke(null)\n   ...&gt;                 .getClass()\n   ...&gt;                 .getMethod(&quot;name&quot;, String.class, Long.TYPE)\n   ...&gt;                 .setAccessible(true)\n|  Exception java.lang.reflect.InaccessibleObjectException: Unable to make public java.lang.Thread$Builder$OfVirtual java.lang.ThreadBuilders$VirtualThreadBuilder.name(java.lang.String,long) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @30dae81\n|        at AccessibleObject.throwInaccessibleObjectException (AccessibleObject.java:387)\n|        at AccessibleObject.checkCanSetAccessible (AccessibleObject.java:363)\n|        at AccessibleObject.checkCanSetAccessible (AccessibleObject.java:311)\n|        at Method.checkCanSetAccessible (Method.java:201)\n|        at Method.setAccessible (Method.java:195)\n|        at (#1:5)\n\n</code></pre>\n<blockquote>\n<p>Exception java.lang.reflect.InaccessibleObjectException: Unable to make public java.lang.Thread$Builder$OfVirtual java.lang.ThreadBuilders$VirtualThreadBuilder.name(java.lang.String,long) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @30dae81</p>\n</blockquote>\n<p>adding <code>required java.base;</code> into the <code>module-info.java</code> does not seem to change the outcome either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/module-info.java\nmodule test_20230518_ {\n    requires java.base;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/a/A.java\n\npackage a;\n\nimport java.lang.reflect.Method;\nimport java.util.Arrays;\nimport java.util.concurrent.ThreadFactory;\n\npublic class A {\n    public static void main(String[] args) {\n        ThreadFactory threadFactory = tf();\n        threadFactory.newThread(() -&gt;\n                System.out.println(&quot;hi from &quot; +\n                        Thread.currentThread().getName()));\n    }\n\n    private static ThreadFactory tf() {\n        Method[] methods = Thread.class.getMethods();\n        boolean haveVirtual = Arrays.stream(methods)\n                .anyMatch(m -&gt; m.getName().equals(&quot;ofVirtual&quot;) &amp;&amp;\n                        m.getParameterCount() == 0);\n\n        if (haveVirtual) {\n            try {\n                Object b = Thread.class.getMethod(&quot;ofVirtual&quot;)\n                        .invoke(null);\n                b = b.getClass().getMethod(&quot;name&quot;, String.class, Long.TYPE)\n                        .invoke(b, &quot;prefix-&quot;, (long) 1);\n                b = b.getClass().getMethod(&quot;factory&quot;)\n                        .invoke(b);\n                return (ThreadFactory) b;\n            } catch (Throwable t) {\n                throw new RuntimeException(t);\n            }\n        } else {\n            return Thread::new;\n        }\n    }\n}\n</code></pre>\n<p>still produces:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IllegalAccessException: class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;\n    at a.A.tf(A.java:31)\n    at a.A.main(A.java:9)\nCaused by: java.lang.IllegalAccessException: class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:569)\n    at a.A.tf(A.java:26)\n    ... 1 more\n</code></pre>\n<blockquote>\n<p>class a.A cannot access a member of class java.lang.ThreadBuilders$VirtualThreadBuilder (in module java.base) with modifiers &quot;public volatile&quot;</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16344824,"reputation":11,"user_id":11804859,"display_name":"priyanka"},"score":0,"creation_date":1679419555,"post_id":75804504,"comment_id":133717748,"body_markdown":"It will be helpful if anybody will help me to know what is Temurin version of Open JDK Runtimeenvironment.","body":"It will be helpful if anybody will help me to know what is Temurin version of Open JDK Runtimeenvironment."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1679419627,"post_id":75804504,"comment_id":133717767,"body_markdown":"Try `where java`. That should give you a path.","body":"Try <code>where java</code>. That should give you a path."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1679419675,"post_id":75804504,"comment_id":133717781,"body_markdown":"You installed Eclipse&#39;s JDK, so look for `Eclipse Adoptium` in your `Program Files`.","body":"You installed Eclipse&#39;s JDK, so look for <code>Eclipse Adoptium</code> in your <code>Program Files</code>."},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":1,"creation_date":1679419689,"post_id":75804504,"comment_id":133717787,"body_markdown":"If you&#39;re able to run `java -version` from anywhere in your terminal, that&#39;s already set in your `PATH`, I don&#39;t have a Windows PC to try any commands, but you could check that environment variable to check the value and get the path from there","body":"If you&#39;re able to run <code>java -version</code> from anywhere in your terminal, that&#39;s already set in your <code>PATH</code>, I don&#39;t have a Windows PC to try any commands, but you could check that environment variable to check the value and get the path from there"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1679419901,"post_id":75804504,"comment_id":133717846,"body_markdown":"@Frakcool I think they want to export `%JAVA_HOME%` for something like Maven. Just because the Java `bin/` directory is on the path does not mean `JAVA_HOME` is set.","body":"@Frakcool I think they want to export <code>%JAVA_HOME%</code> for something like Maven. Just because the Java <code>bin&#47;</code> directory is on the path does not mean <code>JAVA_HOME</code> is set."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679419920,"post_id":75804504,"comment_id":133717853,"body_markdown":"Type on the prompt &quot;echo %java%&quot;","body":"Type on the prompt &quot;echo %java%&quot;"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1679419941,"post_id":75804504,"comment_id":133717858,"body_markdown":"@Mr.Polywhirl, I know, but I&#39;m just saying they can grab that value from `%PATH%`, just another way to look for it, then they can set `%JAVA_HOME%` using that value","body":"@Mr.Polywhirl, I know, but I&#39;m just saying they can grab that value from <code>%PATH%</code>, just another way to look for it, then they can set <code>%JAVA_HOME%</code> using that value"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679420240,"post_id":75804504,"comment_id":133717944,"body_markdown":"I have more than one version on my path, ...course the first one it always uses until it cannot find that one (implicitly) because the folder is temp renamed or dropped temporarily into another folder for safe purity sake.","body":"I have more than one version on my path, ...course the first one it always uses until it cannot find that one (implicitly) because the folder is temp renamed or dropped temporarily into another folder for safe purity sake."}],"answers":[{"comments":[{"owner":{"account_id":16344824,"reputation":11,"user_id":11804859,"display_name":"priyanka"},"score":0,"creation_date":1679510015,"post_id":75804564,"comment_id":133736680,"body_markdown":"Thanks.&lt;Where Java&gt; works for me to know the java executables.","body":"Thanks.&lt;Where Java&gt; works for me to know the java executables."}],"tags":[],"owner":{"account_id":1889834,"reputation":1396,"user_id":1708230,"display_name":"bviktor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679419917,"creation_date":1679419917,"answer_id":75804564,"question_id":75804504,"body_markdown":"In Windows Batch (`cmd.exe`):\r\n\r\n```\r\nwhere java\r\n```\r\n\r\nIn PowerShell:\r\n\r\n```\r\n(Get-Command java).Source\r\n```\r\n\r\n[Get-Command](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/get-command) gets information about the given executable, and `Source` is the property that tells you the path you&#39;re looking for.","title":"Not able to find Java folder in windows OS","body":"<p>In Windows Batch (<code>cmd.exe</code>):</p>\n<pre><code>where java\n</code></pre>\n<p>In PowerShell:</p>\n<pre><code>(Get-Command java).Source\n</code></pre>\n<p><a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/get-command\" rel=\"nofollow noreferrer\">Get-Command</a> gets information about the given executable, and <code>Source</code> is the property that tells you the path you're looking for.</p>\n"}],"owner":{"account_id":16344824,"reputation":11,"user_id":11804859,"display_name":"priyanka"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679419917,"creation_date":1679419484,"question_id":75804504,"body_markdown":"I searched below Java version is present in my system, but I am not able to find the Java folder in porgram files, can anybody help me to know where this version is intsalled in my local.\r\n\r\nI want to configure `JAVA_HOME` and `PATH` variable to include binary files.\r\n\r\n    C:\\User1&gt;java -version\r\n    openjdk version &quot;1.8.0_352&quot;\r\n    OpenJDK Runtime Environment (Temurin)(build 1.8.0_352-b08)\r\n    OpenJDK 64-Bit Server VM (Temurin)(build 25.352-b08, mixed mode)","title":"Not able to find Java folder in windows OS","body":"<p>I searched below Java version is present in my system, but I am not able to find the Java folder in porgram files, can anybody help me to know where this version is intsalled in my local.</p>\n<p>I want to configure <code>JAVA_HOME</code> and <code>PATH</code> variable to include binary files.</p>\n<pre><code>C:\\User1&gt;java -version\nopenjdk version &quot;1.8.0_352&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_352-b08)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.352-b08, mixed mode)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1675704677,"post_id":75364283,"comment_id":132982020,"body_markdown":"To access env varables at annotation level try ```#{systemEnvironment[&#39;MYENV&#39;]```","body":"To access env varables at annotation level try <code>#{systemEnvironment[&#39;MYENV&#39;]</code>"}],"answers":[{"tags":[],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679419669,"creation_date":1679419669,"answer_id":75804528,"question_id":75364283,"body_markdown":"thanx to https://stackoverflow.com/questions/26387645/how-to-use-system-environment-variable-as-part-of-propertysource-value link\r\nI found out my answer using `@PropertySource(&quot;file:${MYENV}/config/my.properties&quot;)`","title":"How can I set my own property file and log file location in spring boot through my own environment variable?","body":"<p>thanx to <a href=\"https://stackoverflow.com/questions/26387645/how-to-use-system-environment-variable-as-part-of-propertysource-value\">How to use system environment variable as part of @PropertySource value?</a> link\nI found out my answer using <code>@PropertySource(&quot;file:${MYENV}/config/my.properties&quot;)</code></p>\n"}],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75804528,"answer_count":1,"score":0,"last_activity_date":1679419669,"creation_date":1675702397,"question_id":75364283,"body_markdown":"I want to set both property file (`myproperty.properties`) and log file location (`myLogFile.log`) through my own environment variable name (`MYENV` for example).\r\nproperty file name must be different from spring boot `application.properties` name and log file has its own name also.\r\nDo not want to use `spring.config.name` and `spring.config.location`.\r\n\r\n`MYENV` will be set to `&quot;/locationFiles&quot;` value for example. `myproperty.properties` file location is `&quot;/locationFiles/config&quot; `\r\nand `myLogFile.log` file location is `&quot;/locationFiles/log&quot;`.\r\n\r\nI know that I can use the following code snippet for reading my environment variable.\r\nBut How do I use `propertiesLocation` below to read the properties data in a simple Spring boot way?\r\nI do not know how to define a corresponding java configuration class as It seems that configuration ppties file path cannot be set in a variable.\r\n\r\n```\r\nimport org.springframework.core.env.Environment;\r\n\r\npublic class MyClass {\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n\tString propertiesLocation;\r\n\t\r\n\tprivate void propertyLocation() {\r\n\tthis.propertiesLocation = env.getProperty(&quot;MYENV&quot;)+&quot;/config/&quot;;\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe following code snippet does not match with what I want to do as I cannot\r\nwrite something like that : `@PropertySource(env.getProperty(&quot;MYENV&quot;)+&quot;/config/&quot;)`\r\n\r\n```\r\n@SpringBootApplication\r\n@PropertySource(&quot;classpath:myproperty.properties&quot;)\r\npublic class MyApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(MyApplication.class, args);\r\n  }\r\n\r\n}\r\n```\r\n\r\nI saw &lt;https://stackoverflow.com/questions/32196451/environment-specific-application-properties-file-in-spring-boot-application&gt; but I does not match exactly with what I&#39;ve described above.\r\nAs I want to define my own environment variable name and file names. \r\nAnd I&#39;m also looking for another way than using ```java -jar -Dspring.config.location=&lt;path-to-file&gt; myBootProject.jar``` as defined in &lt;https://stackoverflow.com/questions/41754459/spring-boot-how-to-read-properties-file-outside-jar&gt;.\r\nI want to know if there is an alternative way to this method.","title":"How can I set my own property file and log file location in spring boot through my own environment variable?","body":"<p>I want to set both property file (<code>myproperty.properties</code>) and log file location (<code>myLogFile.log</code>) through my own environment variable name (<code>MYENV</code> for example).\nproperty file name must be different from spring boot <code>application.properties</code> name and log file has its own name also.\nDo not want to use <code>spring.config.name</code> and <code>spring.config.location</code>.</p>\n<p><code>MYENV</code> will be set to <code>&quot;/locationFiles&quot;</code> value for example. <code>myproperty.properties</code> file location is <code>&quot;/locationFiles/config&quot; </code>\nand <code>myLogFile.log</code> file location is <code>&quot;/locationFiles/log&quot;</code>.</p>\n<p>I know that I can use the following code snippet for reading my environment variable.\nBut How do I use <code>propertiesLocation</code> below to read the properties data in a simple Spring boot way?\nI do not know how to define a corresponding java configuration class as It seems that configuration ppties file path cannot be set in a variable.</p>\n<pre><code>import org.springframework.core.env.Environment;\n\npublic class MyClass {\n\n    @Autowired\n    private Environment env;\n    \n    String propertiesLocation;\n    \n    private void propertyLocation() {\n    this.propertiesLocation = env.getProperty(&quot;MYENV&quot;)+&quot;/config/&quot;;\n\n    }\n    \n}\n</code></pre>\n<p>The following code snippet does not match with what I want to do as I cannot\nwrite something like that : <code>@PropertySource(env.getProperty(&quot;MYENV&quot;)+&quot;/config/&quot;)</code></p>\n<pre><code>@SpringBootApplication\n@PropertySource(&quot;classpath:myproperty.properties&quot;)\npublic class MyApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n  }\n\n}\n</code></pre>\n<p>I saw <a href=\"https://stackoverflow.com/questions/32196451/environment-specific-application-properties-file-in-spring-boot-application\">Environment Specific application.properties file in Spring Boot application</a> but I does not match exactly with what I've described above.\nAs I want to define my own environment variable name and file names.\nAnd I'm also looking for another way than using <code>java -jar -Dspring.config.location=&lt;path-to-file&gt; myBootProject.jar</code> as defined in <a href=\"https://stackoverflow.com/questions/41754459/spring-boot-how-to-read-properties-file-outside-jar\">Spring boot how to read properties file outside jar</a>.\nI want to know if there is an alternative way to this method.</p>\n"},{"tags":["java","java-time","jsr310"],"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1600346359,"post_id":63934816,"comment_id":113062868,"body_markdown":"So it is a feature similar to what I have already realized in my lib [Time4J](http://time4j.net/javadoc-en/net/time4j/WallTimeElement.html#setToNext-net.time4j.PlainTime-) Well, you have to write your own adjuster in JSR 310...","body":"So it is a feature similar to what I have already realized in my lib <a href=\"http://time4j.net/javadoc-en/net/time4j/WallTimeElement.html#setToNext-net.time4j.PlainTime-\" rel=\"nofollow noreferrer\">Time4J</a> Well, you have to write your own adjuster in JSR 310..."}],"answers":[{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1600337770,"post_id":63935104,"comment_id":113058776,"body_markdown":"@DaveyDaveDave Yeah, the temporal adjuster in my answer will also work for `ZonedDateTime`s if you stick to UTC, since UTC has 24-hour days.","body":"@DaveyDaveDave Yeah, the temporal adjuster in my answer will also work for <code>ZonedDateTime</code>s if you stick to UTC, since UTC has 24-hour days."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1600443963,"post_id":63935104,"comment_id":113100129,"body_markdown":"A method like `nextTime(LocalTime time)` only makes sense of types with both a date and time. It certainly doesn&#39;t make sense for types without a time, and for types without a date you&#39;d just use the input, so that makes no sense either. In standard Java, there are only 4 types with both, i.e. `LocalDateTime`, `OffsetDateTime`, `ZonedDateTime`, and `Instant`, and `Instant` doesn&#39;t support `LocalTime.from()`, so that does work with this code. All 3 remaining types support `ChronoUnit.DAYS`, so the check is unnecessary.","body":"A method like <code>nextTime(LocalTime time)</code> only makes sense of types with both a date and time. It certainly doesn&#39;t make sense for types without a time, and for types without a date you&#39;d just use the input, so that makes no sense either. In standard Java, there are only 4 types with both, i.e. <code>LocalDateTime</code>, <code>OffsetDateTime</code>, <code>ZonedDateTime</code>, and <code>Instant</code>, and <code>Instant</code> doesn&#39;t support <code>LocalTime.from()</code>, so that does work with this code. All 3 remaining types support <code>ChronoUnit.DAYS</code>, so the check is unnecessary."},{"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"score":0,"creation_date":1600634221,"post_id":63935104,"comment_id":113142347,"body_markdown":"@OleV.V. - in my case it&#39;s a trivial app for telling an EV when to (or not to) charge, and the times at which prices change are always UTC, so - for my case - not a concern. I can see that this is probably one of many reasons why this isn&#39;t included in the core library though.","body":"@OleV.V. - in my case it&#39;s a trivial app for telling an EV when to (or not to) charge, and the times at which prices change are always UTC, so - for my case - not a concern. I can see that this is probably one of many reasons why this isn&#39;t included in the core library though."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1600473909,"creation_date":1600334856,"answer_id":63935104,"question_id":63934816,"body_markdown":"If you just want this to work with `LocalDateTime`s and `LocalTime`s, or any other type of `Temporal` that has a 24-hour day, the logic is quite simple:\r\n\r\n\tpublic static TemporalAdjuster nextTime(LocalTime time) {\r\n\t    return temporal -&gt; {\r\n\t        LocalTime lt = LocalTime.from(temporal);\r\n\t        if (lt.isBefore(time)) {\r\n\t            return temporal.with(time);\r\n\t        } else {\r\n\t            return temporal.plus(Duration.ofHours(24)).with(time);\r\n\t        }\r\n\t    };\r\n\t}\r\n\r\nBut doing this for all `Temporal`s that have a time component is actually quite hard. Think about what you&#39;d have to do for `ZonedDateTime`. Rather than adding 24 hours, we might need to add 23 or 25 hours because DST transitions make a &quot;day&quot; shorter or longer. You can somewhat deal with this by adding a &quot;day&quot; instead:\r\n\r\n\tpublic static TemporalAdjuster nextTime(LocalTime time) {\r\n\t    return temporal -&gt; {\r\n\t        LocalTime lt = LocalTime.from(temporal);\r\n\t        if (lt.isBefore(time) || !temporal.isSupported(ChronoUnit.DAYS)) {\r\n\t            return temporal.with(time);\r\n\t        } else {\r\n\t\t        return temporal.plus(1, ChronoUnit.DAYS).with(time);\r\n\t        }\r\n\t    };\r\n\t}\r\n\r\nHowever, it still doesn’t _always_ handle gaps and overlaps correctly. For example, when we are asking for the next 01:30 since 01:31, and there is an overlap transition of 1 hour at 02:00, i.e. the clock goes back an hour at 02:00. The correct answer is to add 59 minutes, but the above code will give us a date time in the next day. To handle this case you&#39;d need to do something complicated like in Andreas&#39; answer.\r\n\r\nIf you look at the other built in temporal adjusters, they are all pretty simple, so I guess they just didn&#39;t want to put in this complexity.","title":"Find next occurrence of a time, like TemporalAdjuster","body":"<p>If you just want this to work with <code>LocalDateTime</code>s and <code>LocalTime</code>s, or any other type of <code>Temporal</code> that has a 24-hour day, the logic is quite simple:</p>\n<pre><code>public static TemporalAdjuster nextTime(LocalTime time) {\n    return temporal -&gt; {\n        LocalTime lt = LocalTime.from(temporal);\n        if (lt.isBefore(time)) {\n            return temporal.with(time);\n        } else {\n            return temporal.plus(Duration.ofHours(24)).with(time);\n        }\n    };\n}\n</code></pre>\n<p>But doing this for all <code>Temporal</code>s that have a time component is actually quite hard. Think about what you'd have to do for <code>ZonedDateTime</code>. Rather than adding 24 hours, we might need to add 23 or 25 hours because DST transitions make a &quot;day&quot; shorter or longer. You can somewhat deal with this by adding a &quot;day&quot; instead:</p>\n<pre><code>public static TemporalAdjuster nextTime(LocalTime time) {\n    return temporal -&gt; {\n        LocalTime lt = LocalTime.from(temporal);\n        if (lt.isBefore(time) || !temporal.isSupported(ChronoUnit.DAYS)) {\n            return temporal.with(time);\n        } else {\n            return temporal.plus(1, ChronoUnit.DAYS).with(time);\n        }\n    };\n}\n</code></pre>\n<p>However, it still doesn’t <em>always</em> handle gaps and overlaps correctly. For example, when we are asking for the next 01:30 since 01:31, and there is an overlap transition of 1 hour at 02:00, i.e. the clock goes back an hour at 02:00. The correct answer is to add 59 minutes, but the above code will give us a date time in the next day. To handle this case you'd need to do something complicated like in Andreas' answer.</p>\n<p>If you look at the other built in temporal adjusters, they are all pretty simple, so I guess they just didn't want to put in this complexity.</p>\n"},{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1600476282,"post_id":63959570,"comment_id":113109609,"body_markdown":"I don&#39;t think it makes sense to handle `Instant`s to be honest. `Instant`s represent a number of seconds since the epoch, and I wouldn&#39;t call the UTC time of an `Instant` the &quot;time component&quot; of an `Instant`. Also, if all we need from `ZonedDateTime` is `withLaterOffsetAtOverlap`, we don&#39;t need the unchecked casts, because we can implement that method with just `Temporal`&#39;s methods. e.g. You can get the zone by `adjusted.query(TemporalQueries.zone())`. This will also provide support for `ChronoZonedDateTime`.","body":"I don&#39;t think it makes sense to handle <code>Instant</code>s to be honest. <code>Instant</code>s represent a number of seconds since the epoch, and I wouldn&#39;t call the UTC time of an <code>Instant</code> the &quot;time component&quot; of an <code>Instant</code>. Also, if all we need from <code>ZonedDateTime</code> is <code>withLaterOffsetAtOverlap</code>, we don&#39;t need the unchecked casts, because we can implement that method with just <code>Temporal</code>&#39;s methods. e.g. You can get the zone by <code>adjusted.query(TemporalQueries.zone())</code>. This will also provide support for <code>ChronoZonedDateTime</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1600705688,"post_id":63959570,"comment_id":113165331,"body_markdown":"@Sweeper Since `ZonedDateTime` implements `ChronoZonedDateTime`, which declares the `withLaterOffsetAtOverlap()` method, all you need is to case to that instead. --- Why would we want to &quot;get the zone&quot;, and then have to do the more complex logic of checking for and applying a later offset, when we can use the method already available to us? --- I see nothing nonsensical about calling &quot;next 10:30am&quot; on an `Instant`, since an `Instant` clearly has a time-of-day. Having a more complete method that can handle `Instant`, if called that way, is a good utility method.","body":"@Sweeper Since <code>ZonedDateTime</code> implements <code>ChronoZonedDateTime</code>, which declares the <code>withLaterOffsetAtOverlap()</code> method, all you need is to case to that instead. --- Why would we want to &quot;get the zone&quot;, and then have to do the more complex logic of checking for and applying a later offset, when we can use the method already available to us? --- I see nothing nonsensical about calling &quot;next 10:30am&quot; on an <code>Instant</code>, since an <code>Instant</code> clearly has a time-of-day. Having a more complete method that can handle <code>Instant</code>, if called that way, is a good utility method."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600705107,"creation_date":1600446899,"answer_id":63959570,"question_id":63934816,"body_markdown":"An adjuster like `next(LocalTime time)` only makes sense for types with both a date and a time.\r\n\r\nJava&#39;s Time API comes with 4 types like that: `LocalDateTime`, `OffsetDateTime`, `ZonedDateTime`, and `Instant`.\r\n\r\nTo fully support all 4, the code need special handling for `Instant`, since `Instant` and `LocalTime` are not directly relatable, and for `ZonedDateTime`, to handle DST overlap.\r\n\r\nThis implementation can handle all that:\r\n\r\n```lang-java\r\npublic static TemporalAdjuster next(LocalTime time) {\r\n\treturn temporal -&gt; {\r\n\t\tif (temporal instanceof Instant) {\r\n\t\t\tOffsetDateTime utcDateTime = ((Instant) temporal).atOffset(ZoneOffset.UTC);\r\n\t\t\treturn next(utcDateTime, time).toInstant();\r\n\t\t}\r\n\t\treturn next(temporal, time);\r\n\t};\r\n}\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprivate static &lt;T extends Temporal&gt; T next(T refDateTime, LocalTime targetTime) {\r\n\tT adjusted = (T) refDateTime.with(targetTime);\r\n\tif (refDateTime.until(adjusted, ChronoUnit.NANOS) &gt; 0)\r\n\t\treturn adjusted;\r\n\tif (adjusted instanceof ChronoZonedDateTime&lt;?&gt;) {\r\n\t\tChronoZonedDateTime&lt;?&gt; laterOffset = ((ChronoZonedDateTime&lt;?&gt;) adjusted).withLaterOffsetAtOverlap();\r\n\t\tif (laterOffset != adjusted &amp;&amp; refDateTime.until(laterOffset, ChronoUnit.NANOS) &gt; 0)\r\n\t\t\treturn (T) laterOffset;\r\n\t}\r\n\treturn (T) refDateTime.plus(1, ChronoUnit.DAYS).with(targetTime);\r\n}\r\n```\r\n\r\n*Test (with `now()` being 2020-09-18 at some time after 10 AM)*\r\n\r\n```lang-java\r\nSystem.out.println(LocalDateTime.now().with(next(LocalTime.of(10, 0))));\r\nSystem.out.println(OffsetDateTime.now().with(next(LocalTime.of(10, 0))));\r\nSystem.out.println(ZonedDateTime.now().with(next(LocalTime.of(10, 0))));\r\nSystem.out.println(Instant.now().with(next(LocalTime.of(10, 0))));\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\n2020-09-19T10:00\r\n2020-09-19T10:00-04:00\r\n2020-09-19T10:00-04:00[America/New_York]\r\n2020-09-19T10:00:00Z\r\n```\r\n\r\n*Test Overlap*\r\n\r\nFor US Eastern time zone, DST ends at 2:00 AM on Sunday, November 1, 2020.\r\n\r\n```lang-java\r\n// We start at 1:45 AM EDT on November 1, 2020\r\nZoneId usEastern = ZoneId.of(&quot;America/New_York&quot;);\r\nZonedDateTime earlierOffset = ZonedDateTime.of(2020, 11, 1, 1, 45, 0, 0, usEastern);\r\nSystem.out.println(earlierOffset);\r\n// Now we look for next 1:20 AM after the 1:45 AM, and will find 1:20 AM EST\r\nSystem.out.println(earlierOffset.with(next(LocalTime.of(1, 20))));\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\n2020-11-01T01:45-04:00[America/New_York]\r\n2020-11-01T01:20-05:00[America/New_York]\r\n```\r\n\r\nEven though the time of day appears earlier (1:20 &lt; 1:45), it is actually a later time.","title":"Find next occurrence of a time, like TemporalAdjuster","body":"<p>An adjuster like <code>next(LocalTime time)</code> only makes sense for types with both a date and a time.</p>\n<p>Java's Time API comes with 4 types like that: <code>LocalDateTime</code>, <code>OffsetDateTime</code>, <code>ZonedDateTime</code>, and <code>Instant</code>.</p>\n<p>To fully support all 4, the code need special handling for <code>Instant</code>, since <code>Instant</code> and <code>LocalTime</code> are not directly relatable, and for <code>ZonedDateTime</code>, to handle DST overlap.</p>\n<p>This implementation can handle all that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static TemporalAdjuster next(LocalTime time) {\n    return temporal -&gt; {\n        if (temporal instanceof Instant) {\n            OffsetDateTime utcDateTime = ((Instant) temporal).atOffset(ZoneOffset.UTC);\n            return next(utcDateTime, time).toInstant();\n        }\n        return next(temporal, time);\n    };\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate static &lt;T extends Temporal&gt; T next(T refDateTime, LocalTime targetTime) {\n    T adjusted = (T) refDateTime.with(targetTime);\n    if (refDateTime.until(adjusted, ChronoUnit.NANOS) &gt; 0)\n        return adjusted;\n    if (adjusted instanceof ChronoZonedDateTime&lt;?&gt;) {\n        ChronoZonedDateTime&lt;?&gt; laterOffset = ((ChronoZonedDateTime&lt;?&gt;) adjusted).withLaterOffsetAtOverlap();\n        if (laterOffset != adjusted &amp;&amp; refDateTime.until(laterOffset, ChronoUnit.NANOS) &gt; 0)\n            return (T) laterOffset;\n    }\n    return (T) refDateTime.plus(1, ChronoUnit.DAYS).with(targetTime);\n}\n</code></pre>\n<p><em>Test (with <code>now()</code> being 2020-09-18 at some time after 10 AM)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(LocalDateTime.now().with(next(LocalTime.of(10, 0))));\nSystem.out.println(OffsetDateTime.now().with(next(LocalTime.of(10, 0))));\nSystem.out.println(ZonedDateTime.now().with(next(LocalTime.of(10, 0))));\nSystem.out.println(Instant.now().with(next(LocalTime.of(10, 0))));\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-09-19T10:00\n2020-09-19T10:00-04:00\n2020-09-19T10:00-04:00[America/New_York]\n2020-09-19T10:00:00Z\n</code></pre>\n<p><em>Test Overlap</em></p>\n<p>For US Eastern time zone, DST ends at 2:00 AM on Sunday, November 1, 2020.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// We start at 1:45 AM EDT on November 1, 2020\nZoneId usEastern = ZoneId.of(&quot;America/New_York&quot;);\nZonedDateTime earlierOffset = ZonedDateTime.of(2020, 11, 1, 1, 45, 0, 0, usEastern);\nSystem.out.println(earlierOffset);\n// Now we look for next 1:20 AM after the 1:45 AM, and will find 1:20 AM EST\nSystem.out.println(earlierOffset.with(next(LocalTime.of(1, 20))));\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-11-01T01:45-04:00[America/New_York]\n2020-11-01T01:20-05:00[America/New_York]\n</code></pre>\n<p>Even though the time of day appears earlier (1:20 &lt; 1:45), it is actually a later time.</p>\n"},{"tags":[],"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679419584,"creation_date":1679419584,"answer_id":75804516,"question_id":63934816,"body_markdown":"If you use `ZonedDateTime` as `refDateTime`, @Andreas&#39;s answer amounts to this,\r\n```\r\nfun ZonedDateTime.next2(targetTime: LocalTime): ZonedDateTime {\r\n  val adjusted = with(targetTime)\r\n  if (isBefore(adjusted)) {\r\n    return adjusted\r\n  }\r\n  return plus(1, ChronoUnit.DAYS).with(targetTime)\r\n}\r\n```\r\n\r\n\r\nI tested with the current time (`refDateTime`) equal to every day between 2020 and 2026, and with the target time set to every hour and minute in the day, and the above returns the same result as @Andreas&#39;s answer.\r\n\r\nThe only caveat (with both solutions) here is that we can&#39;t return times that don&#39;t exist. E.g. if you ask it for the next occurrence of the time 02:30 on \r\n the day before DST start (after 02:30), you get 03:30 on DST start, because 02:30 on DST start doesn&#39;t exist (and is actually the &quot;same&quot; time as 03:30 anyway).","title":"Find next occurrence of a time, like TemporalAdjuster","body":"<p>If you use <code>ZonedDateTime</code> as <code>refDateTime</code>, @Andreas's answer amounts to this,</p>\n<pre><code>fun ZonedDateTime.next2(targetTime: LocalTime): ZonedDateTime {\n  val adjusted = with(targetTime)\n  if (isBefore(adjusted)) {\n    return adjusted\n  }\n  return plus(1, ChronoUnit.DAYS).with(targetTime)\n}\n</code></pre>\n<p>I tested with the current time (<code>refDateTime</code>) equal to every day between 2020 and 2026, and with the target time set to every hour and minute in the day, and the above returns the same result as @Andreas's answer.</p>\n<p>The only caveat (with both solutions) here is that we can't return times that don't exist. E.g. if you ask it for the next occurrence of the time 02:30 on\nthe day before DST start (after 02:30), you get 03:30 on DST start, because 02:30 on DST start doesn't exist (and is actually the &quot;same&quot; time as 03:30 anyway).</p>\n"}],"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63935104,"answer_count":3,"score":3,"last_activity_date":1679419584,"creation_date":1600333793,"question_id":63934816,"body_markdown":"Is there anything in JSR-310 for finding the next occurrence of a given time? I&#39;m really looking for the same thing as [this question](https://stackoverflow.com/questions/21242809/find-next-occurrence-of-a-day-of-week-in-jsr-310) but for times instead of days.\r\n\r\nFor example, starting with a date of 2020-09-17 at 06:30 UTC, I&#39;d like to find the next occurrence of 05:30:\r\n\r\n```java\r\nLocalTime time = LocalTime.of(5, 30);\r\nZonedDateTime startDateTime = ZonedDateTime.of(2020, 9, 17, 6, 30, 0, 0, ZoneId.of(&quot;UTC&quot;));\r\n\r\nZonedDateTime nextTime = startDateTime.with(TemporalAdjusters.next(time)); // This doesn&#39;t exist\r\n```\r\n\r\nin the above, I&#39;d like `nextTime` to represent 2020-09-18 at 05:30 UTC, i.e. 05:30 the following morning.\r\n\r\nTo clarify my expectations, all with a time of 05:30:\r\n\r\n```\r\n----------------------------------------\r\n| startDateTime    | expected nextTime |\r\n| 2020-09-07 06:30 | 2020-09-08 05:30  |\r\n| 2020-09-07 05:00 | 2020-09-07 05:30  |\r\n| 2020-09-07 05:30 | 2020-09-08 05:30  |\r\n----------------------------------------\r\n```\r\n\r\n","title":"Find next occurrence of a time, like TemporalAdjuster","body":"<p>Is there anything in JSR-310 for finding the next occurrence of a given time? I'm really looking for the same thing as <a href=\"https://stackoverflow.com/questions/21242809/find-next-occurrence-of-a-day-of-week-in-jsr-310\">this question</a> but for times instead of days.</p>\n<p>For example, starting with a date of 2020-09-17 at 06:30 UTC, I'd like to find the next occurrence of 05:30:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalTime time = LocalTime.of(5, 30);\nZonedDateTime startDateTime = ZonedDateTime.of(2020, 9, 17, 6, 30, 0, 0, ZoneId.of(&quot;UTC&quot;));\n\nZonedDateTime nextTime = startDateTime.with(TemporalAdjusters.next(time)); // This doesn't exist\n</code></pre>\n<p>in the above, I'd like <code>nextTime</code> to represent 2020-09-18 at 05:30 UTC, i.e. 05:30 the following morning.</p>\n<p>To clarify my expectations, all with a time of 05:30:</p>\n<pre><code>----------------------------------------\n| startDateTime    | expected nextTime |\n| 2020-09-07 06:30 | 2020-09-08 05:30  |\n| 2020-09-07 05:00 | 2020-09-07 05:30  |\n| 2020-09-07 05:30 | 2020-09-08 05:30  |\n----------------------------------------\n</code></pre>\n"},{"tags":["java","exception","runtime","nan"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679411458,"post_id":75802905,"comment_id":133715107,"body_markdown":"If it was a practice exam then just code it and run it. You don&#39;t need us to tell you.","body":"If it was a practice exam then just code it and run it. You don&#39;t need us to tell you."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1679411470,"post_id":75802905,"comment_id":133715113,"body_markdown":"Seems like an opinion-based question.  The code shown *doesn&#39;t* produce an error, it produces the correct and documented output that it&#39;s expected to.  One might refer to it as a &quot;logical error&quot; but that implies additional logic upstream from this single line of code, which isn&#39;t known here.","body":"Seems like an opinion-based question.  The code shown <i>doesn&#39;t</i> produce an error, it produces the correct and documented output that it&#39;s expected to.  One might refer to it as a &quot;logical error&quot; but that implies additional logic upstream from this single line of code, which isn&#39;t known here."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1679411510,"post_id":75802905,"comment_id":133715131,"body_markdown":"What it is is not a great test question. It&#39;s definitely not a syntax error. Whether NaN counts as a logical or a runtime error is somewhat subjective and we have no way to see into the test author&#39;s mind. Toss a coin.","body":"What it is is not a great test question. It&#39;s definitely not a syntax error. Whether NaN counts as a logical or a runtime error is somewhat subjective and we have no way to see into the test author&#39;s mind. Toss a coin."},{"owner":{"account_id":28077107,"reputation":1,"user_id":21448770,"display_name":"Oaj Gupta"},"score":0,"creation_date":1679412045,"post_id":75802905,"comment_id":133715324,"body_markdown":"Okay but..some sources online say that it is runtime error..","body":"Okay but..some sources online say that it is runtime error.."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1679412146,"post_id":75802905,"comment_id":133715361,"body_markdown":"The most important source that matters in this case is the official documentation of that class and method: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#sqrt-double- - And here it says nothing about runtime errors. (Compare with the documentation of method negateExact where it clearly states when an exception will be thrown: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int- )","body":"The most important source that matters in this case is the official documentation of that class and method: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#sqrt-double-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> - And here it says nothing about runtime errors. (Compare with the documentation of method negateExact where it clearly states when an exception will be thrown: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> )"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679412986,"post_id":75802905,"comment_id":133715686,"body_markdown":"sqrt is telling you at runtime that you have given it bad input, I am leaning more towards runtime error, but it&#39;s not a great example of one","body":"sqrt is telling you at runtime that you have given it bad input, I am leaning more towards runtime error, but it&#39;s not a great example of one"}],"answers":[{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679417817,"post_id":75803729,"comment_id":133717239,"body_markdown":"...or is the problem to have a negative number have a sqrt. the problem one number must be positive and the other must be negative. That more would be specification convention in math AI compute rules.","body":"...or is the problem to have a negative number have a sqrt. the problem one number must be positive and the other must be negative. That more would be specification convention in math AI compute rules."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679415346,"creation_date":1679415346,"answer_id":75803729,"question_id":75802905,"body_markdown":"If it were a runtime error I would expect it to throw a `RuntimeErrorException` or perhaps just a `RuntimeException`.  These are `unchecked exceptions` and do not need to be caught.  Since the `Math.sqrt()` does not throw any exception `(nor does Math.log(0))` I do not consider them errors from the standpoint of Java.  But depending on the method, the results can still be compared to existing constants such as `Double.NaN`, `Double.NEGATIVE_INFINITY`, and `Double.POSITIVE_INFINITY`. How the values are to be used later in subsequent calculations and if they cause incorrect computations, some (as I do ), might consider them logic errors.  But without more information it is not clear what the test question had in mind.","title":"Java : Is &#39;Square root of a negative number&#39; a logical error or a runtime error?","body":"<p>If it were a runtime error I would expect it to throw a <code>RuntimeErrorException</code> or perhaps just a <code>RuntimeException</code>.  These are <code>unchecked exceptions</code> and do not need to be caught.  Since the <code>Math.sqrt()</code> does not throw any exception <code>(nor does Math.log(0))</code> I do not consider them errors from the standpoint of Java.  But depending on the method, the results can still be compared to existing constants such as <code>Double.NaN</code>, <code>Double.NEGATIVE_INFINITY</code>, and <code>Double.POSITIVE_INFINITY</code>. How the values are to be used later in subsequent calculations and if they cause incorrect computations, some (as I do ), might consider them logic errors.  But without more information it is not clear what the test question had in mind.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679417580,"creation_date":1679417119,"answer_id":75804053,"question_id":75802905,"body_markdown":"&gt; Which of the following errors will the snippet produce - \r\n&gt;\r\n&gt;      System.out.println(Math.sqrt(24-25)); \r\n&gt;\r\n&gt; Logical, Runtime, Syntax.\r\n\r\nThis won&#39;t produce a syntax error or any other kind of compilation error&lt;sup&gt;1&lt;/sup&gt;. \r\n\r\nThis won&#39;t produce a runtime error in the sense that that term is used in Java; i.e. no exception will be thrown.  The `sqrt` call terminates *normally* and returns a `NaN` value.  `NaN` is a well-defined value, per the Java Language spec and IEE floating point spec.\r\n\r\nIs it a logical error?  That depends on the specification of your program.  But on the face of it, outputting &quot;NaN&quot; as the square root of -1 is a reasonable thing to do.\r\n\r\nSo, in the absence of a specification, I would be inclined to say that there is no error here at all. \r\n\r\nHowever, in other contexts using a `NaN` generated by `sqrt` *could* be a logical error, and *could* indirectly give rise to runtime errors (in the Java sense).\r\n\r\nThe lesson is that it is not possible to classify errors without considering the context.  Even the meaning of the *types* of errors is context dependent&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - ... unless you shadow the standard `java.lang.Math` class.&lt;br&gt;\r\n2 - For instance, it depends on the precise definitions of &quot;Logical error&quot;, &quot;Runtime error&quot;, &quot;Syntax error&quot; and so on that you have been taught. Or the programming language you are using.&lt;/sup&gt;\r\n","title":"Java : Is &#39;Square root of a negative number&#39; a logical error or a runtime error?","body":"<blockquote>\n<p>Which of the following errors will the snippet produce -</p>\n<pre><code> System.out.println(Math.sqrt(24-25)); \n</code></pre>\n<p>Logical, Runtime, Syntax.</p>\n</blockquote>\n<p>This won't produce a syntax error or any other kind of compilation error<sup>1</sup>.</p>\n<p>This won't produce a runtime error in the sense that that term is used in Java; i.e. no exception will be thrown.  The <code>sqrt</code> call terminates <em>normally</em> and returns a <code>NaN</code> value.  <code>NaN</code> is a well-defined value, per the Java Language spec and IEE floating point spec.</p>\n<p>Is it a logical error?  That depends on the specification of your program.  But on the face of it, outputting &quot;NaN&quot; as the square root of -1 is a reasonable thing to do.</p>\n<p>So, in the absence of a specification, I would be inclined to say that there is no error here at all.</p>\n<p>However, in other contexts using a <code>NaN</code> generated by <code>sqrt</code> <em>could</em> be a logical error, and <em>could</em> indirectly give rise to runtime errors (in the Java sense).</p>\n<p>The lesson is that it is not possible to classify errors without considering the context.  Even the meaning of the <em>types</em> of errors is context dependent<sup>2</sup>.</p>\n<hr />\n<p><sup>1 - ... unless you shadow the standard <code>java.lang.Math</code> class.<br>\n2 - For instance, it depends on the precise definitions of &quot;Logical error&quot;, &quot;Runtime error&quot;, &quot;Syntax error&quot; and so on that you have been taught. Or the programming language you are using.</sup></p>\n"}],"owner":{"account_id":28077107,"reputation":1,"user_id":21448770,"display_name":"Oaj Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1679467185,"accepted_answer_id":75804053,"answer_count":2,"score":-6,"last_activity_date":1679419567,"creation_date":1679411069,"question_id":75802905,"body_markdown":"I was solving a practice examination paper, and it had the question - \r\n*Which of the following errors will the snippet produce ?* - \r\n```\r\nSystem.out.println(Math.sqrt(24-25));\r\n```\r\n*Logical, Runtime, Syntax*\r\n\r\n\r\nI know it will give `NaN`, but can someone confirm what type it will be included in?\r\nThank you.","title":"Java : Is &#39;Square root of a negative number&#39; a logical error or a runtime error?","body":"<p>I was solving a practice examination paper, and it had the question -\n<em>Which of the following errors will the snippet produce ?</em> -</p>\n<pre><code>System.out.println(Math.sqrt(24-25));\n</code></pre>\n<p><em>Logical, Runtime, Syntax</em></p>\n<p>I know it will give <code>NaN</code>, but can someone confirm what type it will be included in?\nThank you.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5383905,"reputation":885,"user_id":4288430,"accept_rate":57,"display_name":"Ram"},"score":0,"creation_date":1679409896,"post_id":75794609,"comment_id":133714596,"body_markdown":"@dariosicily, This works. Thank you. If you post it as an answer, I am happy to accept it.","body":"@dariosicily, This works. Thank you. If you post it as an answer, I am happy to accept it."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1679419053,"post_id":75794609,"comment_id":133717596,"body_markdown":"Glad to have helped, I posted my answer below.","body":"Glad to have helped, I posted my answer below."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679419017,"creation_date":1679419017,"answer_id":75804422,"question_id":75794609,"body_markdown":"You can enable the [`DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT) feature to allow JSON empty String value (&quot;&quot;) to be bound as `null` for POJOs and other structured values (Maps, Collections). So the value will be converted either to a non empty list or an empty list like below:\r\n\r\n~~~\r\n@Data\r\npublic class Student {\r\n    private List&lt;String&gt; courseNames;\r\n}\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n//a non empty courseNames array \r\nString courseNames = &quot;{\\&quot;courseNames\\&quot;: [\\&quot;abc\\&quot;, \\&quot;xyz\\&quot;]}&quot;;\r\nStudent student = mapper.readValue(courseNames, Student.class);\r\n//ok, it prints {&quot;courseNames&quot;:[&quot;abc&quot;,&quot;xyz&quot;]}\r\nSystem.out.println(mapper.writeValueAsString(student));\r\n//an empty courseNames array\r\ncourseNames = &quot;{\\&quot;courseNames\\&quot;: []}&quot;;\r\nstudent = mapper.readValue(courseNames, Student.class);\r\n//ok, it prints the empty courseNames array\r\nSystem.out.println(mapper.writeValueAsString(student));\r\n~~~","title":"Read empty string from JSON to empty List&lt;...&gt;","body":"<p>You can enable the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT\" rel=\"nofollow noreferrer\"><code>DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code></a> feature to allow JSON empty String value (&quot;&quot;) to be bound as <code>null</code> for POJOs and other structured values (Maps, Collections). So the value will be converted either to a non empty list or an empty list like below:</p>\n<pre><code>@Data\npublic class Student {\n    private List&lt;String&gt; courseNames;\n}\n\nObjectMapper mapper = new ObjectMapper();\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n//a non empty courseNames array \nString courseNames = &quot;{\\&quot;courseNames\\&quot;: [\\&quot;abc\\&quot;, \\&quot;xyz\\&quot;]}&quot;;\nStudent student = mapper.readValue(courseNames, Student.class);\n//ok, it prints {&quot;courseNames&quot;:[&quot;abc&quot;,&quot;xyz&quot;]}\nSystem.out.println(mapper.writeValueAsString(student));\n//an empty courseNames array\ncourseNames = &quot;{\\&quot;courseNames\\&quot;: []}&quot;;\nstudent = mapper.readValue(courseNames, Student.class);\n//ok, it prints the empty courseNames array\nSystem.out.println(mapper.writeValueAsString(student));\n</code></pre>\n"}],"owner":{"account_id":5383905,"reputation":885,"user_id":4288430,"accept_rate":57,"display_name":"Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75804422,"answer_count":1,"score":1,"last_activity_date":1679419017,"creation_date":1679341259,"question_id":75794609,"body_markdown":"I have a List&lt;String&gt; field in my POJO. List so:\r\n\r\n    public class Student {\r\n        private List&lt;String&gt; courseNames;\r\n        ...\r\n    }\r\n\r\nWhen the in-coming JSON (from 3rd-party) contains an array (like the following), it is not an issue.\r\n\r\n    {\r\n        &quot;courseNames&quot;: [&quot;abc&quot;, &quot;xyz&quot;]\r\n    }\r\n\r\nBut the 3rd party app sometimes sends an empty array. Like so:\r\n\r\n    {\r\n        &quot;courseNames&quot;: &quot;&quot;\r\n    }\r\n\r\nIn this case, I like to have my `courseNames` field populated as an empty list.\r\n\r\nLooking at [this post][1], I figured implementing a custom JsonDeserializer is one way to achieve this.\r\n\r\nSo I partially implemented it:\r\n\r\n    public class StringToEmptyListJsonDeserializer extends JsonDeserializer&lt;List&lt;String&gt;&gt; {\r\n    \r\n        @Override\r\n        public List&lt;String&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n            if(jsonParser.getCurrentToken() != JsonToken.START_ARRAY) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            return // What to do here?\r\n        }\r\n    }\r\n\r\n\r\nAre there any suggestions on how to delegate to the default List&lt;...&gt; JsonDeserializer? Or are there better solutions?\r\n\r\n  [1]: https://stackoverflow.com/questions/64187002/how-to-instruct-jackson-objectmapper-to-not-convert-number-field-value-into-a-st\r\n","title":"Read empty string from JSON to empty List&lt;...&gt;","body":"<p>I have a List field in my POJO. List so:</p>\n<pre><code>public class Student {\n    private List&lt;String&gt; courseNames;\n    ...\n}\n</code></pre>\n<p>When the in-coming JSON (from 3rd-party) contains an array (like the following), it is not an issue.</p>\n<pre><code>{\n    &quot;courseNames&quot;: [&quot;abc&quot;, &quot;xyz&quot;]\n}\n</code></pre>\n<p>But the 3rd party app sometimes sends an empty array. Like so:</p>\n<pre><code>{\n    &quot;courseNames&quot;: &quot;&quot;\n}\n</code></pre>\n<p>In this case, I like to have my <code>courseNames</code> field populated as an empty list.</p>\n<p>Looking at <a href=\"https://stackoverflow.com/questions/64187002/how-to-instruct-jackson-objectmapper-to-not-convert-number-field-value-into-a-st\">this post</a>, I figured implementing a custom JsonDeserializer is one way to achieve this.</p>\n<p>So I partially implemented it:</p>\n<pre><code>public class StringToEmptyListJsonDeserializer extends JsonDeserializer&lt;List&lt;String&gt;&gt; {\n\n    @Override\n    public List&lt;String&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        if(jsonParser.getCurrentToken() != JsonToken.START_ARRAY) {\n            return new ArrayList&lt;&gt;();\n        }\n        return // What to do here?\n    }\n}\n</code></pre>\n<p>Are there any suggestions on how to delegate to the default List&lt;...&gt; JsonDeserializer? Or are there better solutions?</p>\n"},{"tags":["java","json","gson","bukkit"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679419171,"post_id":75803696,"comment_id":133717629,"body_markdown":"I go for @AllaArgsConstructor and the fact that rank class does not appear to have a variable for &quot;prefix&quot;:&quot;&quot;, apart no value.","body":"I go for @AllaArgsConstructor and the fact that rank class does not appear to have a variable for &quot;prefix&quot;:&quot;&quot;, apart no value."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1679434296,"post_id":75803696,"comment_id":133721305,"body_markdown":"Is the JSON data possibly itself inside a JSON string, i.e. `&quot;[{\\&quot;id\\&quot;:\\&quot;default\\&quot;,\\&quot;displayName\\&quot;, ...`?","body":"Is the JSON data possibly itself inside a JSON string, i.e. <code>&quot;[{\\&quot;id\\&quot;:\\&quot;default\\&quot;,\\&quot;displayName\\&quot;, ...</code>?"},{"owner":{"account_id":19710145,"reputation":118,"user_id":14430875,"display_name":"daysling"},"score":0,"creation_date":1680180615,"post_id":75803696,"comment_id":133856598,"body_markdown":"Try marking Rank class Seralizable by adding @Seralizable annotation","body":"Try marking Rank class Seralizable by adding @Seralizable annotation"}],"answers":[{"tags":[],"owner":{"account_id":17023165,"reputation":1,"user_id":12315154,"display_name":"Alex_Ts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679418421,"creation_date":1679418421,"answer_id":75804303,"question_id":75803696,"body_markdown":"Firstly the json strng you provided does not contain `inheritFromId` value which might be needed for deserializarion.\r\n\r\nThe problem might also be caused by `color` field which is written to be an object of the type `ChatColor` while represented as a `String` in json.","title":"Getting an error when trying to assign a List&lt;Rank&gt;","body":"<p>Firstly the json strng you provided does not contain <code>inheritFromId</code> value which might be needed for deserializarion.</p>\n<p>The problem might also be caused by <code>color</code> field which is written to be an object of the type <code>ChatColor</code> while represented as a <code>String</code> in json.</p>\n"}],"owner":{"account_id":28076659,"reputation":11,"user_id":21448400,"display_name":"ma1de"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679418421,"creation_date":1679415164,"question_id":75803696,"body_markdown":"I have tried to parse a JSON formatted text from my Web API into an ArrayList of Rank.class, but I have been getting a [ClassCastException](https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html) error with message\r\n\r\n&gt; Cannot cast com.google.gson.JsonPrimitive to com.google.gson.JsonObject\r\n\r\nHere&#39;s some of my code:\r\n\r\n```\r\n# RankHandler.refresh()\r\n\r\nthis.ranks = new Gson().fromJson(Juke.INSTANCE.getApiHandler().request(&quot;/ranks&quot;).getJsonResponse(), new TypeToken&lt;List&lt;Rank&gt;&gt;() {}.getType());\r\n```\r\n\r\n```\r\n# Rank.class\r\n\r\n@Getter @AllArgsConstructor\r\npublic class Rank {\r\n    private String id, displayName, prefix, inheritFromId;\r\n    private ChatColor color;\r\n    private List&lt;String&gt; permissions;\r\n    private int weight;\r\n    private boolean staff;\r\n}\r\n```\r\n\r\n```\r\n# Exception:\r\n\r\n[19:11:59 WARN]: java.lang.ClassCastException: Cannot cast com.google.gson.JsonPrimitive to com.google.gson.JsonObject\r\n[19:11:59 WARN]:        at java.lang.Class.cast(Unknown Source)\r\n[19:11:59 WARN]:        at com.google.gson.Gson.fromJson(Gson.java:690)\r\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIRequest.getJsonResponse(APIRequest.java:54)\r\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIHandler.request(APIHandler.java:27)\r\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIHandler.request(APIHandler.java:52)\r\n[19:11:59 WARN]:        at me.ma1de.juke.shared.rank.RankHandler.refresh(RankHandler.java:44)\r\n[19:11:59 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\r\n[19:11:59 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:53)\r\n[19:11:59 WARN]:        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n[19:11:59 WARN]:        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n[19:11:59 WARN]:        at java.lang.Thread.run(Unknown Source)\r\n[19:11:59 WARN]: Exception in thread &quot;Craft Scheduler Thread - 48&quot;\r\n[19:11:59 WARN]: org.apache.commons.lang.UnhandledException: Plugin juke-bukkit v1.0-SNAPSHOT generated an exception while executing task 2\r\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:56)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.NullPointerException\r\n        at me.ma1de.juke.shared.rank.RankHandler.refresh(RankHandler.java:44)\r\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\r\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:53)\r\n        ... 3 more\r\n```\r\n\r\n```\r\n# What I am trying to parse as an array list of Rank.class\r\n\r\n[{&quot;id&quot;:&quot;default&quot;,&quot;displayName&quot;:&quot;Default&quot;,&quot;prefix&quot;:&quot;&quot;,&quot;color&quot;:&quot;WHITE&quot;,&quot;permissions&quot;:[],&quot;weight&quot;:0,&quot;staff&quot;:false}]\r\n```\r\n\r\n```\r\n# Dependencies\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.ma1de.juke.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Shared&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI have tried switching gson&#39;s version from [2.10.1](https://github.com/google/gson/releases/tag/gson-parent-2.10.1) to [2.8.6](https://github.com/google/gson/releases/tag/gson-parent-2.8.6), thought that downgrading gson would not cause this error, but it happened again.","title":"Getting an error when trying to assign a List&lt;Rank&gt;","body":"<p>I have tried to parse a JSON formatted text from my Web API into an ArrayList of Rank.class, but I have been getting a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\">ClassCastException</a> error with message</p>\n<blockquote>\n<p>Cannot cast com.google.gson.JsonPrimitive to com.google.gson.JsonObject</p>\n</blockquote>\n<p>Here's some of my code:</p>\n<pre><code># RankHandler.refresh()\n\nthis.ranks = new Gson().fromJson(Juke.INSTANCE.getApiHandler().request(&quot;/ranks&quot;).getJsonResponse(), new TypeToken&lt;List&lt;Rank&gt;&gt;() {}.getType());\n</code></pre>\n<pre><code># Rank.class\n\n@Getter @AllArgsConstructor\npublic class Rank {\n    private String id, displayName, prefix, inheritFromId;\n    private ChatColor color;\n    private List&lt;String&gt; permissions;\n    private int weight;\n    private boolean staff;\n}\n</code></pre>\n<pre><code># Exception:\n\n[19:11:59 WARN]: java.lang.ClassCastException: Cannot cast com.google.gson.JsonPrimitive to com.google.gson.JsonObject\n[19:11:59 WARN]:        at java.lang.Class.cast(Unknown Source)\n[19:11:59 WARN]:        at com.google.gson.Gson.fromJson(Gson.java:690)\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIRequest.getJsonResponse(APIRequest.java:54)\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIHandler.request(APIHandler.java:27)\n[19:11:59 WARN]:        at me.ma1de.juke.shared.api.APIHandler.request(APIHandler.java:52)\n[19:11:59 WARN]:        at me.ma1de.juke.shared.rank.RankHandler.refresh(RankHandler.java:44)\n[19:11:59 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\n[19:11:59 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:53)\n[19:11:59 WARN]:        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n[19:11:59 WARN]:        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n[19:11:59 WARN]:        at java.lang.Thread.run(Unknown Source)\n[19:11:59 WARN]: Exception in thread &quot;Craft Scheduler Thread - 48&quot;\n[19:11:59 WARN]: org.apache.commons.lang.UnhandledException: Plugin juke-bukkit v1.0-SNAPSHOT generated an exception while executing task 2\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:56)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NullPointerException\n        at me.ma1de.juke.shared.rank.RankHandler.refresh(RankHandler.java:44)\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\n        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:53)\n        ... 3 more\n</code></pre>\n<pre><code># What I am trying to parse as an array list of Rank.class\n\n[{&quot;id&quot;:&quot;default&quot;,&quot;displayName&quot;:&quot;Default&quot;,&quot;prefix&quot;:&quot;&quot;,&quot;color&quot;:&quot;WHITE&quot;,&quot;permissions&quot;:[],&quot;weight&quot;:0,&quot;staff&quot;:false}]\n</code></pre>\n<pre><code># Dependencies\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.ma1de.juke.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;Shared&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have tried switching gson's version from <a href=\"https://github.com/google/gson/releases/tag/gson-parent-2.10.1\" rel=\"nofollow noreferrer\">2.10.1</a> to <a href=\"https://github.com/google/gson/releases/tag/gson-parent-2.8.6\" rel=\"nofollow noreferrer\">2.8.6</a>, thought that downgrading gson would not cause this error, but it happened again.</p>\n"},{"tags":["java","json","jolt","fixed-length-file"],"comments":[{"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"score":1,"creation_date":1679417801,"post_id":75804049,"comment_id":133717236,"body_markdown":"oops that was an accident, but later on I would like to have a field that takes the initial, rather than the name.. not right now though. it should be LITA as in the input.","body":"oops that was an accident, but later on I would like to have a field that takes the initial, rather than the name.. not right now though. it should be LITA as in the input."}],"answers":[{"comments":[{"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"score":0,"creation_date":1679419999,"post_id":75804205,"comment_id":133717874,"body_markdown":"Would it be possible to map the first initial of the name instead of the entire name as a separate map. E.g. a field MAIN-FORENM: JILL, and a new map MAIN-INITIAL: J","body":"Would it be possible to map the first initial of the name instead of the entire name as a separate map. E.g. a field MAIN-FORENM: JILL, and a new map MAIN-INITIAL: J"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1679420835,"post_id":75804205,"comment_id":133718141,"body_markdown":"You can add `&quot;MAIN-INITIAL&quot;: &quot;=substring(@(1,MAIN_FORENM),0,1)&quot;` @AzizR.","body":"You can add <code>&quot;MAIN-INITIAL&quot;: &quot;=substring(@(1,MAIN_FORENM),0,1)&quot;</code> @AzizR."},{"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"score":0,"creation_date":1679586637,"post_id":75804205,"comment_id":133751626,"body_markdown":"If I wanted this to maintain the order of items, how can I retain &#39;TIME&#39; within this. I.e. can I put in a parameter that will map TIME it&#39;s original value and keep it in it&#39;s original place without having to use another operation?","body":"If I wanted this to maintain the order of items, how can I retain &#39;TIME&#39; within this. I.e. can I put in a parameter that will map TIME it&#39;s original value and keep it in it&#39;s original place without having to use another operation?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1679595606,"post_id":75804205,"comment_id":133754042,"body_markdown":"In that case you would need one more spec to add : `{\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;MAIN-TOWN&quot;: &quot;&amp;&quot;,\n      &quot;MAIN_FORENM&quot;: &quot;&amp;&quot;,\n      &quot;MAIN_SURNAME&quot;: &quot;&amp;&quot;,\n      &quot;TIME&quot;: &quot;&amp;&quot;,\n      &quot;ALT-TOWN&quot;: &quot;&amp;&quot;,\n      &quot;ALT_FORENM&quot;: &quot;&amp;&quot;,\n      &quot;ALT_SURNAME&quot;: &quot;&amp;&quot;\n    }\n  }` @AzizR.","body":"In that case you would need one more spec to add : <code>{     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;MAIN-TOWN&quot;: &quot;&amp;&quot;,       &quot;MAIN_FORENM&quot;: &quot;&amp;&quot;,       &quot;MAIN_SURNAME&quot;: &quot;&amp;&quot;,       &quot;TIME&quot;: &quot;&amp;&quot;,       &quot;ALT-TOWN&quot;: &quot;&amp;&quot;,       &quot;ALT_FORENM&quot;: &quot;&amp;&quot;,       &quot;ALT_SURNAME&quot;: &quot;&amp;&quot;     }   }</code> @AzizR."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679417868,"creation_date":1679417868,"answer_id":75804205,"question_id":75804049,"body_markdown":"You had better using a **modify-overwrite** transformation and then get rid of the redundant attributes by **remove** spec such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;MAIN-TOWN&quot;: &quot;=firstElement(@(1,TOWN))&quot;,\r\n      &quot;MAIN_FORENM&quot;: &quot;=firstElement(@(1,FORENM))&quot;,\r\n      &quot;MAIN_SURNAME&quot;: &quot;=firstElement(@(1,SURNAME))&quot;,\r\n      &quot;ALT-TOWN&quot;: &quot;=elementAt(4,@(1,TOWN))&quot;,\r\n      &quot;ALT_FORENM&quot;: &quot;=lastElement(@(1,FORENM))&quot;,\r\n      &quot;ALT_SURNAME&quot;: &quot;=lastElement(@(1,SURNAME))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;FORENM|SURNAME|TOWN&quot;: &quot;&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bEN0K.jpg","title":"Can I use JOLT &#39;shift&#39; to achieve this and how? Array to map (list to dict) using JOLT","body":"<p>You had better using a <strong>modify-overwrite</strong> transformation and then get rid of the redundant attributes by <strong>remove</strong> spec such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;MAIN-TOWN&quot;: &quot;=firstElement(@(1,TOWN))&quot;,\n      &quot;MAIN_FORENM&quot;: &quot;=firstElement(@(1,FORENM))&quot;,\n      &quot;MAIN_SURNAME&quot;: &quot;=firstElement(@(1,SURNAME))&quot;,\n      &quot;ALT-TOWN&quot;: &quot;=elementAt(4,@(1,TOWN))&quot;,\n      &quot;ALT_FORENM&quot;: &quot;=lastElement(@(1,FORENM))&quot;,\n      &quot;ALT_SURNAME&quot;: &quot;=lastElement(@(1,SURNAME))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;FORENM|SURNAME|TOWN&quot;: &quot;&quot;\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/bEN0K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bEN0K.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75804205,"answer_count":1,"score":0,"last_activity_date":1679418124,"creation_date":1679417083,"question_id":75804049,"body_markdown":"I am transforming a large JSON into a fixed-length csv file, at this stage I&#39;ve cut down the json with a JOLT Remove and I have used a JOLT Shift to put the remaining parameters into the input provided.\r\n\r\n\r\n**I have the output from a previous JOLT &#39;shift&#39; resembling the following:**\r\n**This will form the input for a JOLT &quot;shift&quot;**\r\n\r\n```json\r\n{\r\n  &quot;TIME&quot;: &quot;2023-02-27T16:26:25Z&quot;,\r\n  &quot;FORENM&quot;: [\r\n    &quot;JILL&quot;,\r\n    &quot;LITA&quot;\r\n  ],\r\n  &quot;SURNAME&quot;: [\r\n    &quot;JaCK&quot;,\r\n    &quot;HANCOCK&quot;\r\n  ],\r\n  &quot;TOWN&quot;: [\r\n    &quot;CHRISTCHURCH&quot;,\r\n    &quot;GLASGOW&quot;,\r\n    &quot;LAZYTOWN&quot;,\r\n    null,\r\n    &quot;TELETUBBYHILL&quot;,\r\n    &quot;BALAMORY&quot;\r\n  ]\r\n}\r\n```\r\n\r\n**I want the output to resemble the following:**\r\n\r\n```json\r\n{\r\n  &quot;MAIN-TOWN&quot;: &quot;CHRISTCHURCH&quot;,\r\n  &quot;MAIN_FORENM&quot;: &quot;JILL&quot;,\r\n  &quot;MAIN_SURNAME&quot;: &quot;JaCK&quot;,\r\n  &quot;TIME&quot;: &quot;2023-02-27T16:26:25Z&quot;,\r\n  &quot;ALT-TOWN&quot;: &quot;TELETUBBYHILL&quot;,\r\n  &quot;ALT_FORENM&quot;: &quot;LITA&quot;,\r\n  &quot;ALT_SURNAME&quot;: &quot;HANCOCK&quot;\r\n}\r\n```\r\n\r\n**Is this possible? If so, can I do it with a **shift** transform? Could someone show me to I would be able to map a certain index from an array in the input. For example, from the town array I want to map **`&quot;MAIN-TOWN&quot;`** to index 0 of the **`&quot;TOWN&quot;`** array from the input and index 4 to **`&quot;ALT-TOWN&quot;`**.**\r\n\r\n","title":"Can I use JOLT &#39;shift&#39; to achieve this and how? Array to map (list to dict) using JOLT","body":"<p>I am transforming a large JSON into a fixed-length csv file, at this stage I've cut down the json with a JOLT Remove and I have used a JOLT Shift to put the remaining parameters into the input provided.</p>\n<p><strong>I have the output from a previous JOLT 'shift' resembling the following:</strong>\n<strong>This will form the input for a JOLT &quot;shift&quot;</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;TIME&quot;: &quot;2023-02-27T16:26:25Z&quot;,\n  &quot;FORENM&quot;: [\n    &quot;JILL&quot;,\n    &quot;LITA&quot;\n  ],\n  &quot;SURNAME&quot;: [\n    &quot;JaCK&quot;,\n    &quot;HANCOCK&quot;\n  ],\n  &quot;TOWN&quot;: [\n    &quot;CHRISTCHURCH&quot;,\n    &quot;GLASGOW&quot;,\n    &quot;LAZYTOWN&quot;,\n    null,\n    &quot;TELETUBBYHILL&quot;,\n    &quot;BALAMORY&quot;\n  ]\n}\n</code></pre>\n<p><strong>I want the output to resemble the following:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;MAIN-TOWN&quot;: &quot;CHRISTCHURCH&quot;,\n  &quot;MAIN_FORENM&quot;: &quot;JILL&quot;,\n  &quot;MAIN_SURNAME&quot;: &quot;JaCK&quot;,\n  &quot;TIME&quot;: &quot;2023-02-27T16:26:25Z&quot;,\n  &quot;ALT-TOWN&quot;: &quot;TELETUBBYHILL&quot;,\n  &quot;ALT_FORENM&quot;: &quot;LITA&quot;,\n  &quot;ALT_SURNAME&quot;: &quot;HANCOCK&quot;\n}\n</code></pre>\n<p><strong>Is this possible? If so, can I do it with a <strong>shift</strong> transform? Could someone show me to I would be able to map a certain index from an array in the input. For example, from the town array I want to map <strong><code>&quot;MAIN-TOWN&quot;</code></strong> to index 0 of the <strong><code>&quot;TOWN&quot;</code></strong> array from the input and index 4 to <strong><code>&quot;ALT-TOWN&quot;</code></strong>.</strong></p>\n"},{"tags":["java","algorithm","floating-point","double","precision"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678918312,"post_id":75750443,"comment_id":133628581,"body_markdown":"Please describe exactly what you mean by &quot;precision loss&quot;, what you are expecting and what is &quot;not good&quot; about what you&#39;re getting.","body":"Please describe exactly what you mean by &quot;precision loss&quot;, what you are expecting and what is &quot;not good&quot; about what you&#39;re getting."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1678922122,"post_id":75750443,"comment_id":133629183,"body_markdown":"You say &quot;I have a service which receives doubles from outer world&quot;.  Does it receive them as strings, or as doubles?  If it receives them as strings, then you want to (somehow) convert them to scaled integers *without* converting to `double` first.  But if it receives them as `double`, then you definitely need to round after multiplying, and RaffleBuffle&#39;s answer applies.","body":"You say &quot;I have a service which receives doubles from outer world&quot;.  Does it receive them as strings, or as doubles?  If it receives them as strings, then you want to (somehow) convert them to scaled integers <i>without</i> converting to <code>double</code> first.  But if it receives them as <code>double</code>, then you definitely need to round after multiplying, and RaffleBuffle&#39;s answer applies."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1678922317,"post_id":75750443,"comment_id":133629207,"body_markdown":"But the fundamental issue is that if you&#39;re actually receiving them as `double`, your statement &quot;1.2345 comes to me, I know that 1.23456789 cannot come&quot; is meaningless.  You&#39;ll never get 1.2345; instead you&#39;re going to actually get 1.234499999999 (and about 40 more nonzero digits after that).","body":"But the fundamental issue is that if you&#39;re actually receiving them as <code>double</code>, your statement &quot;1.2345 comes to me, I know that 1.23456789 cannot come&quot; is meaningless.  You&#39;ll never get 1.2345; instead you&#39;re going to actually get 1.234499999999 (and about 40 more nonzero digits after that)."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":2,"creation_date":1678923322,"post_id":75750443,"comment_id":133629380,"body_markdown":"*No division and multiplication involved...* **Except** for that multiplication by 10000.  No joke: that&#39;s your problem.","body":"<i>No division and multiplication involved...</i> <b>Except</b> for that multiplication by 10000.  No joke: that&#39;s your problem."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1678923679,"post_id":75750443,"comment_id":133629438,"body_markdown":"If you want accuracy rather than speed, use `BigDecimal` rather than `double`. Your service should return text which you parse as `BigDecimal`.","body":"If you want accuracy rather than speed, use <code>BigDecimal</code> rather than <code>double</code>. Your service should return text which you parse as <code>BigDecimal</code>."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1678963644,"post_id":75750443,"comment_id":133636286,"body_markdown":"What is the largest any of the numbers can be?","body":"What is the largest any of the numbers can be?"},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1679129246,"post_id":75750443,"comment_id":133668558,"body_markdown":"@SteveSummit, \nService receives data as doubles. \nI know that double representation is not showing all the digits after decimal point. Its probably better to say that rounding 1.234499999999 to 1.2345 works perfectly for me.\nMultiplication by 10000 is something I have added to keep precision. I am trying to say that in a number which comes only first 5 digits are important for me. Nothing else matters. Thats why I want to x 10000 to make it integer and work without losing precision.","body":"@SteveSummit,  Service receives data as doubles.  I know that double representation is not showing all the digits after decimal point. Its probably better to say that rounding 1.234499999999 to 1.2345 works perfectly for me. Multiplication by 10000 is something I have added to keep precision. I am trying to say that in a number which comes only first 5 digits are important for me. Nothing else matters. Thats why I want to x 10000 to make it integer and work without losing precision."},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1679129292,"post_id":75750443,"comment_id":133668563,"body_markdown":"@EricPostpischil All numbers are doubles roughly in 0.5 - 1.5 zone.","body":"@EricPostpischil All numbers are doubles roughly in 0.5 - 1.5 zone."},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1679129962,"post_id":75750443,"comment_id":133668658,"body_markdown":"@SteveSummit, one more explanation. In the system which sends data to me the values are stored as integers, so there is no sense to use any data &quot;behind&quot; 5th digit.","body":"@SteveSummit, one more explanation. In the system which sends data to me the values are stored as integers, so there is no sense to use any data &quot;behind&quot; 5th digit."},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1679130341,"post_id":75750443,"comment_id":133668718,"body_markdown":"@Bohemian, here I refer to precision loss which results from double nature of incoming numbers. I want to avoid it. If I were doing this operations manually on the paper I would easily succeed:\ntake 1.2345, write 12345, do the needful, get result 15432, return 1.5432","body":"@Bohemian, here I refer to precision loss which results from double nature of incoming numbers. I want to avoid it. If I were doing this operations manually on the paper I would easily succeed: take 1.2345, write 12345, do the needful, get result 15432, return 1.5432"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1679138281,"post_id":75750443,"comment_id":133669830,"body_markdown":"If you are receiving only `double` values that are the `double` values nearest numbers in [0, 2) with four decimal digits after the decimal point, and you do only a few additions and subtractions with them, then you can get the desired results simply by rounding the final results with `Math.round(10000*x)/10000`. You can also get the desired results by converting each received value to an integer with `NewValue = Math.round(10000*OldValue)`, doing the arithmetic with integers, and producing the final values with `FinalValue = Result / 10000`.","body":"If you are receiving only <code>double</code> values that are the <code>double</code> values nearest numbers in [0, 2) with four decimal digits after the decimal point, and you do only a few additions and subtractions with them, then you can get the desired results simply by rounding the final results with <code>Math.round(10000*x)&#47;10000</code>. You can also get the desired results by converting each received value to an integer with <code>NewValue = Math.round(10000*OldValue)</code>, doing the arithmetic with integers, and producing the final values with <code>FinalValue = Result &#47; 10000</code>."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1679138388,"post_id":75750443,"comment_id":133669848,"body_markdown":"Note that proper Stack Overflow procedure would be for you to edit the new information into the question, including the range of the values, a bound on the number of operations performed, and a correct description of the input. It is fundamentally impossible to receive a `double` value that is 1.2345 because 1.2345 is not representable in `double`. It is important to understand what numbers `double` can represent and how to describe the input correctly.","body":"Note that proper Stack Overflow procedure would be for you to edit the new information into the question, including the range of the values, a bound on the number of operations performed, and a correct description of the input. It is fundamentally impossible to receive a <code>double</code> value that is 1.2345 because 1.2345 is not representable in <code>double</code>. It is important to understand what numbers <code>double</code> can represent and how to describe the input correctly."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1679141276,"post_id":75750443,"comment_id":133670243,"body_markdown":"There are two or three ways of looking at this: (1) If the sending system keeps these numbers as fixed-point decimal, but sends them to you as binary floating point, *that* represents a certain, fundamental amount of information loss right there, which you will never get around as long as transmission is via floating point.  If the sending system is using fixed point, and if you desire to use fixed point also, you really ought to be using a scheme which transmits data between systems using fixed point.  (But I realize that changing the transmission format may not be an option for you.)","body":"There are two or three ways of looking at this: (1) If the sending system keeps these numbers as fixed-point decimal, but sends them to you as binary floating point, <i>that</i> represents a certain, fundamental amount of information loss right there, which you will never get around as long as transmission is via floating point.  If the sending system is using fixed point, and if you desire to use fixed point also, you really ought to be using a scheme which transmits data between systems using fixed point.  (But I realize that changing the transmission format may not be an option for you.)"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1679141529,"post_id":75750443,"comment_id":133670291,"body_markdown":"(2) The &quot;information loss&quot; involved in converting decimal fractions to binary is, up to a point, reversible.  (That&#39;s why Eric Postpischil was asking you about the range of your numbers.)  As long as you don&#39;t &quot;run out of precision&quot; while working with your data in the floating point realm, and if certain other conditions are met, you can perfectly recover your decimal fractions again at the end, without precision loss or noise, but doing this faithfully necessarily involves rounding (not simple truncation).","body":"(2) The &quot;information loss&quot; involved in converting decimal fractions to binary is, up to a point, reversible.  (That&#39;s why Eric Postpischil was asking you about the range of your numbers.)  As long as you don&#39;t &quot;run out of precision&quot; while working with your data in the floating point realm, and if certain other conditions are met, you can perfectly recover your decimal fractions again at the end, without precision loss or noise, but doing this faithfully necessarily involves rounding (not simple truncation)."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1679141723,"post_id":75750443,"comment_id":133670322,"body_markdown":"So, as long as you round after multiplying by 10000, you should be fine.  But based on what you&#39;ve said, I believe you would be equally fine doing all your calculations using floating point, and rounding when printing or transmitting your final results.  That is, whatever &quot;precision loss&quot; it is that you&#39;re fighting, I do not believe that it&#39;s actually necessary to do all your work using integers in order to correct it.  But the arguments here do depend on the fact that, as you say, your manipulations of this data (after any initial multiplication) all involve simple additions and subtractions.","body":"So, as long as you round after multiplying by 10000, you should be fine.  But based on what you&#39;ve said, I believe you would be equally fine doing all your calculations using floating point, and rounding when printing or transmitting your final results.  That is, whatever &quot;precision loss&quot; it is that you&#39;re fighting, I do not believe that it&#39;s actually necessary to do all your work using integers in order to correct it.  But the arguments here do depend on the fact that, as you say, your manipulations of this data (after any initial multiplication) all involve simple additions and subtractions."}],"answers":[{"comments":[{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1678969992,"post_id":75755729,"comment_id":133638133,"body_markdown":"Code without explanation is not a good answer. How code works is important. What code does, in detail, is important. Concepts are important. Why the previous code did not work is important. Why the new code works is important.","body":"Code without explanation is not a good answer. How code works is important. What code does, in detail, is important. Concepts are important. Why the previous code did not work is important. Why the new code works is important."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678966571,"creation_date":1678966571,"answer_id":75755729,"question_id":75750443,"body_markdown":"Use reference `Double` instead of primitive `double` for your input and convert to `BigDecimal` for accuracy. \r\n\r\n    public static void main(String args[]) {\r\n\r\n        Double[] n  = {1.3456, 6.0000, 1.9999, 7.0001};\r\n        int[] in    = new int[4];\r\n        double[] od = new double[4];\r\n\r\n        final BigDecimal tenK = BigDecimal.valueOf(10000);\r\n\r\n        for (int i=0;i&lt;4;i++) {\r\n            in[i] = BigDecimal.valueOf(n[i]).multiply(tenK).intValue();\r\n        }\r\n\r\n        for (int i=0;i&lt;4;i++) {\r\n            od[i] = in[i] / tenK.doubleValue();\r\n        }\r\n\r\n        System.out.println(Arrays.toString(n)); \r\n        System.out.println(Arrays.toString(in));\r\n        System.out.println(Arrays.toString(od));\r\n    }\r\n\r\nIf the transformation is a recurring task, it can be extracted into a function:\r\n\r\n    public static void main(String args[]) {\r\n\r\n        Double[] n  = {1.3456, 6.0000, 1.9999, 7.0001};\r\n        int[] in    = new int[4];\r\n        double[] od = new double[4];\r\n\r\n        final BigDecimal tenK = BigDecimal.valueOf(10000);\r\n\r\n        final DoubleToIntFunction multiplyBYTenK = d -&gt; BigDecimal.valueOf(d).multiply(tenK).intValue();\r\n        final IntToDoubleFunction divideByTenK   = i -&gt; i / tenK.doubleValue();\r\n\r\n        Arrays.setAll(in, i -&gt; multiplyBYTenK.applyAsInt(n[i]));\r\n        Arrays.setAll(od, i -&gt; divideByTenK.applyAsDouble(in[i]));\r\n\r\n        System.out.println(Arrays.toString(n)); //\r\n        System.out.println(Arrays.toString(in));\r\n        System.out.println(Arrays.toString(od));\r\n    }\r\n\r\n","title":"Keeping precision of integers, passed as doubles","body":"<p>Use reference <code>Double</code> instead of primitive <code>double</code> for your input and convert to <code>BigDecimal</code> for accuracy.</p>\n<pre><code>public static void main(String args[]) {\n\n    Double[] n  = {1.3456, 6.0000, 1.9999, 7.0001};\n    int[] in    = new int[4];\n    double[] od = new double[4];\n\n    final BigDecimal tenK = BigDecimal.valueOf(10000);\n\n    for (int i=0;i&lt;4;i++) {\n        in[i] = BigDecimal.valueOf(n[i]).multiply(tenK).intValue();\n    }\n\n    for (int i=0;i&lt;4;i++) {\n        od[i] = in[i] / tenK.doubleValue();\n    }\n\n    System.out.println(Arrays.toString(n)); \n    System.out.println(Arrays.toString(in));\n    System.out.println(Arrays.toString(od));\n}\n</code></pre>\n<p>If the transformation is a recurring task, it can be extracted into a function:</p>\n<pre><code>public static void main(String args[]) {\n\n    Double[] n  = {1.3456, 6.0000, 1.9999, 7.0001};\n    int[] in    = new int[4];\n    double[] od = new double[4];\n\n    final BigDecimal tenK = BigDecimal.valueOf(10000);\n\n    final DoubleToIntFunction multiplyBYTenK = d -&gt; BigDecimal.valueOf(d).multiply(tenK).intValue();\n    final IntToDoubleFunction divideByTenK   = i -&gt; i / tenK.doubleValue();\n\n    Arrays.setAll(in, i -&gt; multiplyBYTenK.applyAsInt(n[i]));\n    Arrays.setAll(od, i -&gt; divideByTenK.applyAsDouble(in[i]));\n\n    System.out.println(Arrays.toString(n)); //\n    System.out.println(Arrays.toString(in));\n    System.out.println(Arrays.toString(od));\n}\n</code></pre>\n"}],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679418077,"creation_date":1678917519,"question_id":75750443,"body_markdown":"I have a service which receives doubles from outer world. I know for sure that all doubles have only 4 digits after decimal point. *It is important to emphasize, that original system which sends data to me works with 5 digit integers, so all data &quot;behind&quot; these 5 digits is meaningless and misleading.* To keep precision I want to convert incoming doubles to integers, work with integers, and then convert them back to doubles to return back. I see that in theory, knowing that inputs always have 4 digits after decimal point I should not be losing precision here at all, taking into account that ***I only apply addition / subtraction*** to these numbers. ***No division and multiplication involved.*** \r\n\r\ni.e. \r\n\r\n - A double like 1.2345 is received (I know that 1.23456789 cannot be received)\r\n - I multiply it by 10,000 and convert to integer\r\n - Now I can do exact integer calculations (addition and subtraction only) which means the result must be precise (opposed to addition and subtraction using doubles)\r\n - Before returning, I divide my result by 10,000 again to convert back to double\r\n\r\nUnfortunately I am already losing accuracy in the conversions. My following test code shows this:\r\n    \r\n    double[] examples = {1.3456, 6.0000, 1.9999, 7.0001};\r\n    int[] inInt = new int[4];\r\n    double[] outDouble = new double[4];\r\n\r\n    // Input conversion from double to int\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        inInt[i] = (int) (examples[i] * 10_000);\r\n    }\r\n\r\n    // Integer calculations elided\r\n\r\n    // Output conversion back to double\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        outDouble[i] = ((double) inInt[i] / 10_000.0);\r\n    }\r\n\r\n    // Show\r\n    System.out.println(Arrays.toString(examples));\r\n    System.out.println(Arrays.toString(inInt));\r\n    System.out.println(Arrays.toString(outDouble));\r\n\r\nThe above code gives me\r\n\r\n    [1.3456, 6.0, 1.9999, 7.0001]\r\n    [13455, 60000, 19999, 70001]\r\n    [1.3455, 6.0, 1.9999, 7.0001]\r\n\r\nSo you can see, while the 2nd to 4th example work, the `1.3456` lost precision when converting to int, as it became `13455` instead of `13456`. \r\n\r\nIs it possible to eliminate precision losses here completely?\r\n\r\nI see only one option: double &gt; string &gt; integer &gt; operations with integers &gt; construct string &gt; build double, but it&#39;s quite laborious. I am using Java, but I don&#39;t think that&#39;s important here.\r\n\r\nPS  \r\nBy &quot;precision loss&quot; here I mean any loss of precision which results from double nature of incoming data, i.e. calculation &quot;without precision loss&quot; for me is calculation made on integers, which are built from incoming data.\r\n","title":"Keeping precision of integers, passed as doubles","body":"<p>I have a service which receives doubles from outer world. I know for sure that all doubles have only 4 digits after decimal point. <em>It is important to emphasize, that original system which sends data to me works with 5 digit integers, so all data &quot;behind&quot; these 5 digits is meaningless and misleading.</em> To keep precision I want to convert incoming doubles to integers, work with integers, and then convert them back to doubles to return back. I see that in theory, knowing that inputs always have 4 digits after decimal point I should not be losing precision here at all, taking into account that <em><strong>I only apply addition / subtraction</strong></em> to these numbers. <em><strong>No division and multiplication involved.</strong></em></p>\n<p>i.e.</p>\n<ul>\n<li>A double like 1.2345 is received (I know that 1.23456789 cannot be received)</li>\n<li>I multiply it by 10,000 and convert to integer</li>\n<li>Now I can do exact integer calculations (addition and subtraction only) which means the result must be precise (opposed to addition and subtraction using doubles)</li>\n<li>Before returning, I divide my result by 10,000 again to convert back to double</li>\n</ul>\n<p>Unfortunately I am already losing accuracy in the conversions. My following test code shows this:</p>\n<pre><code>double[] examples = {1.3456, 6.0000, 1.9999, 7.0001};\nint[] inInt = new int[4];\ndouble[] outDouble = new double[4];\n\n// Input conversion from double to int\nfor (int i = 0; i &lt; 4; i++) {\n    inInt[i] = (int) (examples[i] * 10_000);\n}\n\n// Integer calculations elided\n\n// Output conversion back to double\nfor (int i = 0; i &lt; 4; i++) {\n    outDouble[i] = ((double) inInt[i] / 10_000.0);\n}\n\n// Show\nSystem.out.println(Arrays.toString(examples));\nSystem.out.println(Arrays.toString(inInt));\nSystem.out.println(Arrays.toString(outDouble));\n</code></pre>\n<p>The above code gives me</p>\n<pre><code>[1.3456, 6.0, 1.9999, 7.0001]\n[13455, 60000, 19999, 70001]\n[1.3455, 6.0, 1.9999, 7.0001]\n</code></pre>\n<p>So you can see, while the 2nd to 4th example work, the <code>1.3456</code> lost precision when converting to int, as it became <code>13455</code> instead of <code>13456</code>.</p>\n<p>Is it possible to eliminate precision losses here completely?</p>\n<p>I see only one option: double &gt; string &gt; integer &gt; operations with integers &gt; construct string &gt; build double, but it's quite laborious. I am using Java, but I don't think that's important here.</p>\n<p>PS<br />\nBy &quot;precision loss&quot; here I mean any loss of precision which results from double nature of incoming data, i.e. calculation &quot;without precision loss&quot; for me is calculation made on integers, which are built from incoming data.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":2574017,"reputation":4150,"user_id":2232127,"accept_rate":100,"display_name":"JensV"},"score":1,"creation_date":1628257970,"post_id":68682657,"comment_id":121379647,"body_markdown":"Guessing here: The `jdk.*` packages seem related to the actual compiler of the jdk. I think it&#39;s best to follow the advice from the given oracle link. If you use anything else than `java.`, `javax.` or `org.` you might run into issues when running on a different jvm (e.g. graalvm)","body":"Guessing here: The <code>jdk.*</code> packages seem related to the actual compiler of the jdk. I think it&#39;s best to follow the advice from the given oracle link. If you use anything else than <code>java.</code>, <code>javax.</code> or <code>org.</code> you might run into issues when running on a different jvm (e.g. graalvm)"}],"answers":[{"comments":[{"owner":{"account_id":2730377,"reputation":1853,"user_id":2354302,"accept_rate":65,"display_name":"user2354302"},"score":0,"creation_date":1628260306,"post_id":68682751,"comment_id":121380697,"body_markdown":"Okay, thank you. I&#39;m interested in `jdk.crypto.cryptoki` module. Is it a good idea just use https://github.com/openjdk/jdk/tree/ee526a2ea840aedb97b23538f9d624acbccebc97/src/jdk.crypto.cryptoki/share/classes and maintain it myself?","body":"Okay, thank you. I&#39;m interested in <code>jdk.crypto.cryptoki</code> module. Is it a good idea just use <a href=\"https://github.com/openjdk/jdk/tree/ee526a2ea840aedb97b23538f9d624acbccebc97/src/jdk.crypto.cryptoki/share/classes\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/tree/&hellip;</a> and maintain it myself?"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1628273171,"post_id":68682751,"comment_id":121385293,"body_markdown":"Try to use `java.*` module. And unless you are a maintainer, or wish to maintain, of this module... try to use `java.security.Provider`.","body":"Try to use <code>java.*</code> module. And unless you are a maintainer, or wish to maintain, of this module... try to use <code>java.security.Provider</code>."}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628257928,"creation_date":1628257928,"answer_id":68682751,"question_id":68682657,"body_markdown":"You are misreading: these are not packages, but modules.\r\n\r\nYou should use `java.*` modules and avoid `jdk.*` because their access/api are not guaranteed to be stable. `sun` (and `com.sun.*`) are mostly moved into `jdk.*` modules.\r\n\r\nThis all boils down to the [JEPs](http://openjdk.java.net/jeps/200):\r\n\r\n&gt; The modular structure of the JDK implements the following principles:\r\n&gt; \r\n&gt; - Standard modules, whose specifications are governed by the JCP, have names starting with the string &quot;`java.`&quot;.\r\n&gt; \r\n&gt; - All other modules are merely part of the JDK, and have names starting with the string &quot;`jdk.`&quot;.\r\n\r\n\r\n\r\n\r\n\r\n","title":"When to use java.* and jdk.* packages","body":"<p>You are misreading: these are not packages, but modules.</p>\n<p>You should use <code>java.*</code> modules and avoid <code>jdk.*</code> because their access/api are not guaranteed to be stable. <code>sun</code> (and <code>com.sun.*</code>) are mostly moved into <code>jdk.*</code> modules.</p>\n<p>This all boils down to the <a href=\"http://openjdk.java.net/jeps/200\" rel=\"noreferrer\">JEPs</a>:</p>\n<blockquote>\n<p>The modular structure of the JDK implements the following principles:</p>\n<ul>\n<li><p>Standard modules, whose specifications are governed by the JCP, have names starting with the string &quot;<code>java.</code>&quot;.</p>\n</li>\n<li><p>All other modules are merely part of the JDK, and have names starting with the string &quot;<code>jdk.</code>&quot;.</p>\n</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":2730377,"reputation":1853,"user_id":2354302,"accept_rate":65,"display_name":"user2354302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679417549,"creation_date":1628257538,"question_id":68682657,"body_markdown":"I&#39;m using IntelliJ and JDK 11. In the library packages, I see two types of package naming. `java.*` and `jdk.*` like shown in the below image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nThe `jdk.*` packages have `sun.*` packages inside them. What does this mean to developers? Is the general advice to avoid using `jdk.*/sun.*` as written over here: https://www.oracle.com/java/technologies/faq-sun-packages.html ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fb8L7.png","title":"When to use java.* and jdk.* packages","body":"<p>I'm using IntelliJ and JDK 11. In the library packages, I see two types of package naming. <code>java.*</code> and <code>jdk.*</code> like shown in the below image:</p>\n<p><a href=\"https://i.stack.imgur.com/fb8L7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fb8L7.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>jdk.*</code> packages have <code>sun.*</code> packages inside them. What does this mean to developers? Is the general advice to avoid using <code>jdk.*/sun.*</code> as written over here: <a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/faq-sun-packages.html</a> ?</p>\n"},{"tags":["java","string","integer","number-formatting","parseint"],"answers":[{"tags":[],"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679417541,"creation_date":1679417541,"answer_id":75804137,"question_id":75803980,"body_markdown":"Is the comma `,` mandatory in your data? Can&#39;t you leave it away? If the comma is really there, and those are really integers, just try `name.replace(&quot;,&quot;,&quot;&quot;)` to remove and then use `parseInt` on that. ","title":"How to convert string to integer when we have comma (,) in between word when used in java code","body":"<p>Is the comma <code>,</code> mandatory in your data? Can't you leave it away? If the comma is really there, and those are really integers, just try <code>name.replace(&quot;,&quot;,&quot;&quot;)</code> to remove and then use <code>parseInt</code> on that.</p>\n"}],"owner":{"account_id":28077853,"reputation":1,"user_id":21449430,"display_name":"srilatha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679417962,"answer_count":1,"score":0,"last_activity_date":1679417541,"creation_date":1679416731,"question_id":75803980,"body_markdown":"I am trying to convert a price amount 3,456 which is in string datatype to integer data type. But I&#39;m getting a number format exception error. I have tried `parseInt` method and `valueOf` but giving same error.\r\n\r\n    public static void main(String[] args) {\r\n\tString name=&quot;3,456&quot;;\r\n    int value= Integer.parseInt(name);\r\n        System.out.println(value);\r\n    }\r\n[here is the error in console after running the code](https://i.stack.imgur.com/Osiv5.png)","title":"How to convert string to integer when we have comma (,) in between word when used in java code","body":"<p>I am trying to convert a price amount 3,456 which is in string datatype to integer data type. But I'm getting a number format exception error. I have tried <code>parseInt</code> method and <code>valueOf</code> but giving same error.</p>\n<pre><code>public static void main(String[] args) {\nString name=&quot;3,456&quot;;\nint value= Integer.parseInt(name);\n    System.out.println(value);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Osiv5.png\" rel=\"nofollow noreferrer\">here is the error in console after running the code</a></p>\n"},{"tags":["java","java-11","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631018941,"post_id":69039167,"comment_id":122106235,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":3532691,"reputation":21,"user_id":2951756,"display_name":"user2951756"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679417513,"creation_date":1630639952,"question_id":69039167,"body_markdown":"AuthCacheValue and AuthCacheImpl were present in sun.net package till jdk 1.8\r\nBut now while trying to use the same in jdk 11, it seems the package is no longer visible. Any leads would be highly appreciated if someone can suggest what exactly is the alternative of it or how this can be achieved","title":"What is the alternative of AuthCacheValue and AuthCacheImpl in Java11","body":"<p>AuthCacheValue and AuthCacheImpl were present in sun.net package till jdk 1.8\nBut now while trying to use the same in jdk 11, it seems the package is no longer visible. Any leads would be highly appreciated if someone can suggest what exactly is the alternative of it or how this can be achieved</p>\n"},{"tags":["java","performance","spring-boot","startup"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1417506361,"post_id":27230702,"comment_id":42963796,"body_markdown":"Post your code. Normally only the package the application runner is defined is is scanned. If you have other packages defined for `@ComponentScan` those are scanned as well. Another thing is to make sure you haven&#39;t enabled debug or trace logging as generally logging is slow, very slow.","body":"Post your code. Normally only the package the application runner is defined is is scanned. If you have other packages defined for <code>@ComponentScan</code> those are scanned as well. Another thing is to make sure you haven&#39;t enabled debug or trace logging as generally logging is slow, very slow."},{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":1,"creation_date":1426820925,"post_id":27230702,"comment_id":46537669,"body_markdown":"If you use Hibernate it also tends to eat significant time at application start.","body":"If you use Hibernate it also tends to eat significant time at application start."},{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":0,"creation_date":1426821010,"post_id":27230702,"comment_id":46537688,"body_markdown":"Spring&#39;s auto binding by type coupled with factory beans has the potential to be slow one you add a lot of beans and dependencies.","body":"Spring&#39;s auto binding by type coupled with factory beans has the potential to be slow one you add a lot of beans and dependencies."},{"owner":{"account_id":1727801,"reputation":3678,"user_id":1582089,"display_name":"Cassian"},"score":0,"creation_date":1426844857,"post_id":27230702,"comment_id":46546359,"body_markdown":"Or you can use caching, https://spring.io/guides/gs/caching/","body":"Or you can use caching, <a href=\"https://spring.io/guides/gs/caching/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/caching</a>"},{"owner":{"account_id":5135828,"reputation":2256,"user_id":4114631,"accept_rate":43,"display_name":"steady rain"},"score":3,"creation_date":1426853673,"post_id":27230702,"comment_id":46551063,"body_markdown":"Thanks all for the comments - I would not be able to post the code unfortunately (a lot of internal jars), however I&#39;m still looking for a way to debug this. Yes, I might be using A or B or doing X or Y, which slows it down. How do I determine this? If I add a dependency X, which has 15 transitive dependencies, how do I know which of those 16 slowed it down? If I can find out, is there anything I can do later to stop Spring from examining them? Pointers like that would be useful!","body":"Thanks all for the comments - I would not be able to post the code unfortunately (a lot of internal jars), however I&#39;m still looking for a way to debug this. Yes, I might be using A or B or doing X or Y, which slows it down. How do I determine this? If I add a dependency X, which has 15 transitive dependencies, how do I know which of those 16 slowed it down? If I can find out, is there anything I can do later to stop Spring from examining them? Pointers like that would be useful!"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1457982391,"post_id":27230702,"comment_id":59644488,"body_markdown":"Depending on your configured datasource, initializing your database schema takes a significant amount of time as well.","body":"Depending on your configured datasource, initializing your database schema takes a significant amount of time as well."},{"owner":{"account_id":2598,"reputation":2793,"user_id":3627,"accept_rate":50,"display_name":"royalghost"},"score":0,"creation_date":1522895144,"post_id":27230702,"comment_id":86336334,"body_markdown":"Can you share your POM file ?","body":"Can you share your POM file ?"},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1586446011,"post_id":27230702,"comment_id":108136433,"body_markdown":"Personally, I use webpieces in cloud run since bootup time &#39;without&#39; hibernate is 1.5 seconds.  We needed something fast plus it does the playframework style of never needing to reboot the server to do development.  @steadyrain  of course, I am biased.","body":"Personally, I use webpieces in cloud run since bootup time &#39;without&#39; hibernate is 1.5 seconds.  We needed something fast plus it does the playframework style of never needing to reboot the server to do development.  @steadyrain  of course, I am biased."}],"answers":[{"tags":[],"owner":{"display_name":"user4415984"},"comment_count":0,"down_vote_count":10,"up_vote_count":0,"is_accepted":false,"score":-10,"last_activity_date":1427721326,"creation_date":1427721326,"answer_id":29347219,"question_id":27230702,"body_markdown":"To me it sounds like you&#39;re using a wrong configuration setting.\r\nStart by checking myContainer and possible conflicts.\r\nTo determine who is using the most resources you have to check the memory maps (see the amount of data!) for each dependency at a time - and that takes plenty of time, as well... (and SUDO privileges).\r\nBy the way: are you usually testing the code against the dependencies?","title":"Speed up Spring Boot startup time","body":"<p>To me it sounds like you're using a wrong configuration setting.\nStart by checking myContainer and possible conflicts.\nTo determine who is using the most resources you have to check the memory maps (see the amount of data!) for each dependency at a time - and that takes plenty of time, as well... (and SUDO privileges).\nBy the way: are you usually testing the code against the dependencies?</p>\n"},{"comments":[{"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"score":1,"creation_date":1499633373,"post_id":35994135,"comment_id":76975818,"body_markdown":"did you measure this ??? Was it much faster?? In my opinion this is an exceptional case, much more important to make sure that Spring test context cache works","body":"did you measure this ??? Was it much faster?? In my opinion this is an exceptional case, much more important to make sure that Spring test context cache works"},{"owner":{"account_id":4283288,"reputation":336,"user_id":3502019,"accept_rate":100,"display_name":"apkisbossin"},"score":0,"creation_date":1551891602,"post_id":35994135,"comment_id":96809436,"body_markdown":"@idmitriev I just measured this on my application and my application started up at 53 seconds, compared to without exluding the autoconfiguration classes was 73 seconds. I did exclude many more classes than listed above though.","body":"@idmitriev I just measured this on my application and my application started up at 53 seconds, compared to without exluding the autoconfiguration classes was 73 seconds. I did exclude many more classes than listed above though."},{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":3,"creation_date":1580114078,"post_id":35994135,"comment_id":105977135,"body_markdown":"How to deal with Private configuration classes ?","body":"How to deal with Private configuration classes ?"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":1,"creation_date":1640190262,"post_id":35994135,"comment_id":124538326,"body_markdown":"Is there a way to automatically know which auto-configurations are actually used? Maybe some long-running thing that adds up all auto-configs used throughout the app life-time and then you can poll an actuator endpoint to see that list?","body":"Is there a way to automatically know which auto-configurations are actually used? Maybe some long-running thing that adds up all auto-configs used throughout the app life-time and then you can poll an actuator endpoint to see that list?"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1640263670,"post_id":35994135,"comment_id":124556140,"body_markdown":"@payne, I am not aware of anything like you are describing.","body":"@payne, I am not aware of anything like you are describing."}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":5,"down_vote_count":2,"up_vote_count":82,"is_accepted":false,"score":80,"last_activity_date":1477891152,"creation_date":1457976296,"answer_id":35994135,"question_id":27230702,"body_markdown":"Spring Boot does a lot of auto-configuration that may not be needed. So you may want to narrow down only auto-configuration that is needed for your app. To see full list of auto-configuration included, just run logging of `org.springframework.boot.autoconfigure` in DEBUG mode (`logging.level.org.springframework.boot.autoconfigure=DEBUG` in `application.properties`). Another option is to run spring boot application with `--debug` option: `java -jar myproject-0.0.1-SNAPSHOT.jar --debug` \r\n\r\nThere would be something like this in output:\r\n\r\n    =========================\r\n    AUTO-CONFIGURATION REPORT\r\n    =========================\r\n\r\nInspect this list and include only autoconfigurations you need:\r\n\r\n    @Configuration\r\n    @Import({\r\n            DispatcherServletAutoConfiguration.class,\r\n            EmbeddedServletContainerAutoConfiguration.class,\r\n            ErrorMvcAutoConfiguration.class,\r\n            HttpEncodingAutoConfiguration.class,\r\n            HttpMessageConvertersAutoConfiguration.class,\r\n            JacksonAutoConfiguration.class,\r\n            ServerPropertiesAutoConfiguration.class,\r\n            PropertyPlaceholderAutoConfiguration.class,\r\n            ThymeleafAutoConfiguration.class,\r\n            WebMvcAutoConfiguration.class,\r\n            WebSocketAutoConfiguration.class,\r\n    })\r\n    public class SampleWebUiApplication {\r\n\r\nCode was copied from [this blog post][1].\r\n\r\n  [1]: http://www.alexecollins.com/spring-boot-performance/","title":"Speed up Spring Boot startup time","body":"<p>Spring Boot does a lot of auto-configuration that may not be needed. So you may want to narrow down only auto-configuration that is needed for your app. To see full list of auto-configuration included, just run logging of <code>org.springframework.boot.autoconfigure</code> in DEBUG mode (<code>logging.level.org.springframework.boot.autoconfigure=DEBUG</code> in <code>application.properties</code>). Another option is to run spring boot application with <code>--debug</code> option: <code>java -jar myproject-0.0.1-SNAPSHOT.jar --debug</code> </p>\n\n<p>There would be something like this in output:</p>\n\n<pre><code>=========================\nAUTO-CONFIGURATION REPORT\n=========================\n</code></pre>\n\n<p>Inspect this list and include only autoconfigurations you need:</p>\n\n<pre><code>@Configuration\n@Import({\n        DispatcherServletAutoConfiguration.class,\n        EmbeddedServletContainerAutoConfiguration.class,\n        ErrorMvcAutoConfiguration.class,\n        HttpEncodingAutoConfiguration.class,\n        HttpMessageConvertersAutoConfiguration.class,\n        JacksonAutoConfiguration.class,\n        ServerPropertiesAutoConfiguration.class,\n        PropertyPlaceholderAutoConfiguration.class,\n        ThymeleafAutoConfiguration.class,\n        WebMvcAutoConfiguration.class,\n        WebSocketAutoConfiguration.class,\n})\npublic class SampleWebUiApplication {\n</code></pre>\n\n<p>Code was copied from <a href=\"http://www.alexecollins.com/spring-boot-performance/\" rel=\"noreferrer\">this blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483635650,"creation_date":1474555460,"answer_id":39642208,"question_id":27230702,"body_markdown":"As described in this question/answer, I think the best approach is to instead of adding only those you think you need, exclude the dependencies you know you don&#39;t need.\r\n\r\nSee: https://stackoverflow.com/questions/35709234/minimise-spring-boot-startup-time/35713866#35713866\r\n\r\nIn summary:\r\n\r\nYou can see what is going on under the covers and enable debug logging as simple as specifying --debug when starting the application from the command-line. You can also specify debug=true in your application.properties.\r\n\r\nAlso, you can set the logging level in application.properties as simple as:\r\n\r\nlogging.level.org.springframework.web: DEBUG\r\nlogging.level.org.hibernate: ERROR\r\n\r\nIf you detect an auto-configured module you don&#39;t want, it can be disabled. The docs for this can be found here: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-disabling-specific-auto-configuration\r\n\r\nAn example would look like:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    public class MyConfiguration {\r\n    }","title":"Speed up Spring Boot startup time","body":"<p>As described in this question/answer, I think the best approach is to instead of adding only those you think you need, exclude the dependencies you know you don't need.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/35709234/minimise-spring-boot-startup-time/35713866#35713866\">Minimise Spring Boot Startup Time</a></p>\n\n<p>In summary:</p>\n\n<p>You can see what is going on under the covers and enable debug logging as simple as specifying --debug when starting the application from the command-line. You can also specify debug=true in your application.properties.</p>\n\n<p>Also, you can set the logging level in application.properties as simple as:</p>\n\n<p>logging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR</p>\n\n<p>If you detect an auto-configured module you don't want, it can be disabled. The docs for this can be found here: <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-disabling-specific-auto-configuration\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-disabling-specific-auto-configuration</a></p>\n\n<p>An example would look like:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class MyConfiguration {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1531937971,"post_id":49663075,"comment_id":89788446,"body_markdown":"It does not seem that your project builds under gradle `4.8.1`. Could you share which gradle version you used in your benchmarks?","body":"It does not seem that your project builds under gradle <code>4.8.1</code>. Could you share which gradle version you used in your benchmarks?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1531957497,"post_id":49663075,"comment_id":89796451,"body_markdown":"@user991710 Based on my [Gradle wrapper](https://github.com/asarkar/spring/blob/master/boot-benchmark/gradle/wrapper/gradle-wrapper.properties#L6), I&#39;m using v4.6. &quot;Does not build&quot; is a very vague statement, if you&#39;ve something more specific, create a [gist](https://help.github.com/articles/about-gists/) and post the link here. Your gist should list the steps you followed, and the error you&#39;re getting.","body":"@user991710 Based on my <a href=\"https://github.com/asarkar/spring/blob/master/boot-benchmark/gradle/wrapper/gradle-wrapper.properties#L6\" rel=\"nofollow noreferrer\">Gradle wrapper</a>, I&#39;m using v4.6. &quot;Does not build&quot; is a very vague statement, if you&#39;ve something more specific, create a <a href=\"https://help.github.com/articles/about-gists/\" rel=\"nofollow noreferrer\">gist</a> and post the link here. Your gist should list the steps you followed, and the error you&#39;re getting."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1531988228,"post_id":49663075,"comment_id":89806261,"body_markdown":"My apologies, I was a bit unclear. Checking out the project with a clean working directory and simply performing `./gradlew clean shadowJar` as in the Readme results in the following error: `&gt; The value of a manifest attribute must not be null (Key=Start-Class).`. I have made no local changes.","body":"My apologies, I was a bit unclear. Checking out the project with a clean working directory and simply performing <code>.&#47;gradlew clean shadowJar</code> as in the Readme results in the following error: <code>&gt; The value of a manifest attribute must not be null (Key=Start-Class).</code>. I have made no local changes."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":2,"creation_date":1532022756,"post_id":49663075,"comment_id":89829194,"body_markdown":"To add on to this, could you please add an example as to how someone might use your benchmark with a custom application? Does it have to be added as a project similar to `minimal`, or may the jar simply be supplied? I attempted to do the former but did not get very far.","body":"To add on to this, could you please add an example as to how someone might use your benchmark with a custom application? Does it have to be added as a project similar to <code>minimal</code>, or may the jar simply be supplied? I attempted to do the former but did not get very far."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1532024561,"post_id":49663075,"comment_id":89830017,"body_markdown":"@user991710 I thought that&#39;s obvious, but perhaps only to me. The way it currently works, the `minimal-benchmark` Gradle module directly includes the compiled output of the project being benchmarked (`minimal`). With some Gradle fiddling, and if you understand the idea behind creating the shadow jar, it should be possible to use the `minimal-benchmark` jar with your custom project, but I&#39;ve not tried it myself. However, replacing the `minimal` module with your own works, and I use it in other projects. I don&#39;t have time to do a step-by-step walkthrough, but I hope the above helps.","body":"@user991710 I thought that&#39;s obvious, but perhaps only to me. The way it currently works, the <code>minimal-benchmark</code> Gradle module directly includes the compiled output of the project being benchmarked (<code>minimal</code>). With some Gradle fiddling, and if you understand the idea behind creating the shadow jar, it should be possible to use the <code>minimal-benchmark</code> jar with your custom project, but I&#39;ve not tried it myself. However, replacing the <code>minimal</code> module with your own works, and I use it in other projects. I don&#39;t have time to do a step-by-step walkthrough, but I hope the above helps."},{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":4,"creation_date":1550243766,"post_id":49663075,"comment_id":96209980,"body_markdown":"Don&#39;t run `-Xverify:none` on production as it breaks code verification and you can run into trouble.\n`-XX:TieredStopAtLevel=1` is OK if you run an application for a small duration (a few seconds) otherwise it will be less productive as it will provide the JVM with long running optimizations.","body":"Don&#39;t run <code>-Xverify:none</code> on production as it breaks code verification and you can run into trouble. <code>-XX:TieredStopAtLevel=1</code> is OK if you run an application for a small duration (a few seconds) otherwise it will be less productive as it will provide the JVM with long running optimizations."},{"owner":{"account_id":4242095,"reputation":910,"user_id":3471694,"display_name":"Bui Anh Tuan"},"score":0,"creation_date":1554945157,"post_id":49663075,"comment_id":97939463,"body_markdown":"For me, &quot;There have been reports of hostname resolution being slow, but I didn&#39;t find it to be a problem for the apps I tested.&quot; =&gt; help me reduce ~10s. Cant believe it","body":"For me, &quot;There have been reports of hostname resolution being slow, but I didn&#39;t find it to be a problem for the apps I tested.&quot; =&gt; help me reduce ~10s. Cant believe it"},{"owner":{"account_id":11150791,"reputation":3332,"user_id":8184112,"display_name":"Daniel"},"score":0,"creation_date":1556752305,"post_id":49663075,"comment_id":98540634,"body_markdown":"If database pooling is used and you are deploying on Linux, note that depleted system entropy can be a problem.  By default Java (8 at least, and I believe most all versions) use /dev/random as an entropy source.  Starting a database pool requires a good bit of entropy but /dev/random is blocking and can run out.  Use `-Djava.security.egd=file:/dev/urandom` to switch to non-blocking (but arguably less random) entropy source.  For our scenario (10 fat jars, all with database pools, starting concurrently) this was a 50-70% startup time reduction.","body":"If database pooling is used and you are deploying on Linux, note that depleted system entropy can be a problem.  By default Java (8 at least, and I believe most all versions) use /dev/random as an entropy source.  Starting a database pool requires a good bit of entropy but /dev/random is blocking and can run out.  Use <code>-Djava.security.egd=file:&#47;dev&#47;urandom</code> to switch to non-blocking (but arguably less random) entropy source.  For our scenario (10 fat jars, all with database pools, starting concurrently) this was a 50-70% startup time reduction."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1556753731,"post_id":49663075,"comment_id":98540891,"body_markdown":"@Daniel how is random number generation related to database pooling?","body":"@Daniel how is random number generation related to database pooling?"},{"owner":{"account_id":11150791,"reputation":3332,"user_id":8184112,"display_name":"Daniel"},"score":2,"creation_date":1556811034,"post_id":49663075,"comment_id":98563266,"body_markdown":"Many pools (Oracle UCP for sure, but in my testing also Hikari and Tomcat) encrypt data in the pool.  I actually don&#39;t know if they are encrypting the connection info, or wrapping the stream.  Regardless, encryption uses random number generation and so having a highly available, high throughput entropy source makes a noticeable difference in performance.","body":"Many pools (Oracle UCP for sure, but in my testing also Hikari and Tomcat) encrypt data in the pool.  I actually don&#39;t know if they are encrypting the connection info, or wrapping the stream.  Regardless, encryption uses random number generation and so having a highly available, high throughput entropy source makes a noticeable difference in performance."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1556815299,"post_id":49663075,"comment_id":98565415,"body_markdown":"@Daniel In that case, there are other kind of pools too that you should consider. For example, Tomcat keeps both thread and connection pools for itself. Database connection pool may be a special case.","body":"@Daniel In that case, there are other kind of pools too that you should consider. For example, Tomcat keeps both thread and connection pools for itself. Database connection pool may be a special case."},{"owner":{"account_id":5310611,"reputation":113,"user_id":4237096,"accept_rate":56,"display_name":"WirJun"},"score":0,"creation_date":1569331555,"post_id":49663075,"comment_id":102557041,"body_markdown":"as @loicmathieu said, `-Xverify:none` is bad, furthermore deprecated in JDK 13 and will likely be removed in a future release.","body":"as @loicmathieu said, <code>-Xverify:none</code> is bad, furthermore deprecated in JDK 13 and will likely be removed in a future release."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1569601410,"post_id":49663075,"comment_id":102663011,"body_markdown":"@WirJun This answer doesn’t claim to be applicable until JDK 50; it was correct when it was written and still is. `-Xverify:none` exists such that people who are willing to accept the risk can do so; it’s their call, not yours or mine. My job here is to document the options available.","body":"@WirJun This answer doesn’t claim to be applicable until JDK 50; it was correct when it was written and still is. <code>-Xverify:none</code> exists such that people who are willing to accept the risk can do so; it’s their call, not yours or mine. My job here is to document the options available."},{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":0,"creation_date":1579861223,"post_id":49663075,"comment_id":105916528,"body_markdown":"How to mesure Spring Boot startup time of a unit test run from intellij ?","body":"How to mesure Spring Boot startup time of a unit test run from intellij ?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1579884461,"post_id":49663075,"comment_id":105928442,"body_markdown":"@user1767316 open a new question","body":"@user1767316 open a new question"},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1623160176,"post_id":49663075,"comment_id":119994419,"body_markdown":"Re host name resolution, that&#39;s _very_ OS-specific. In particular, resolving the current machine name on macOS is extremely slow. See https://apple.stackexchange.com/questions/175320/why-is-my-hostname-resolution-taking-so-long","body":"Re host name resolution, that&#39;s <i>very</i> OS-specific. In particular, resolving the current machine name on macOS is extremely slow. See <a href=\"https://apple.stackexchange.com/questions/175320/why-is-my-hostname-resolution-taking-so-long\" title=\"why is my hostname resolution taking so long\">apple.stackexchange.com/questions/175320/&hellip;</a>"}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":16,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1673170170,"creation_date":1522894068,"answer_id":49663075,"question_id":27230702,"body_markdown":"The other answers don&#39;t go into the depth I like to see and provide no scientific evidence. The Spring Boot team went through an exercise for reducing startup time for Boot 2.0, and ticket [11226](https://github.com/spring-projects/spring-boot/issues/11226) contains a lot of useful information. There is also a ticket [7939](https://github.com/spring-projects/spring-boot/issues/7939) open to adding timing information to condition evaluation, but it doesn&#39;t seem to have a specific ETA.\r\n\r\nThe most useful, and methodical approach for debugging Boot startup has been done by Dave Syer. https://github.com/dsyer/spring-boot-startup-bench\r\n\r\nI had a similar use case as well, so I took Dave&#39;s approach of micro-benchmarking with JMH and ran with it. The result is the [boot-benchmark](https://github.com/asarkar/spring/tree/master/boot-benchmark) project. I designed it such that it can be used to measure startup time for any Spring Boot application, using the executable jar produced by `bootJar` (previously called `bootRepackage` in Boot 1.5) Gradle task. Feel free to use it and provide feedback.\r\n\r\nMy findings are as follows:\r\n\r\n 1. CPU matters. A lot. \r\n 2. Starting the JVM with [-Xverify:none](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html#BABHDABI) helps significantly.\r\n 3. Excluding unnecessary autoconfigurations helps.\r\n 4. Dave recommended JVM argument [-XX:TieredStopAtLevel=1](https://stackoverflow.com/questions/38721235/what-exactly-does-xx-tieredcompilation-do), but my tests didn&#39;t show significant improvement with that. Also, `-XX:TieredStopAtLevel=1` would probably slow down your first request.\r\n 5. There have been [reports](http://blog.noizwaves.io/2017/09/02/slow-spring-boot-startup.html) of hostname resolution being slow, but I didn&#39;t find it to be a problem for the apps I tested.\r\n","title":"Speed up Spring Boot startup time","body":"<p>The other answers don't go into the depth I like to see and provide no scientific evidence. The Spring Boot team went through an exercise for reducing startup time for Boot 2.0, and ticket <a href=\"https://github.com/spring-projects/spring-boot/issues/11226\" rel=\"noreferrer\">11226</a> contains a lot of useful information. There is also a ticket <a href=\"https://github.com/spring-projects/spring-boot/issues/7939\" rel=\"noreferrer\">7939</a> open to adding timing information to condition evaluation, but it doesn't seem to have a specific ETA.</p>\n<p>The most useful, and methodical approach for debugging Boot startup has been done by Dave Syer. <a href=\"https://github.com/dsyer/spring-boot-startup-bench\" rel=\"noreferrer\">https://github.com/dsyer/spring-boot-startup-bench</a></p>\n<p>I had a similar use case as well, so I took Dave's approach of micro-benchmarking with JMH and ran with it. The result is the <a href=\"https://github.com/asarkar/spring/tree/master/boot-benchmark\" rel=\"noreferrer\">boot-benchmark</a> project. I designed it such that it can be used to measure startup time for any Spring Boot application, using the executable jar produced by <code>bootJar</code> (previously called <code>bootRepackage</code> in Boot 1.5) Gradle task. Feel free to use it and provide feedback.</p>\n<p>My findings are as follows:</p>\n<ol>\n<li>CPU matters. A lot.</li>\n<li>Starting the JVM with <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html#BABHDABI\" rel=\"noreferrer\">-Xverify:none</a> helps significantly.</li>\n<li>Excluding unnecessary autoconfigurations helps.</li>\n<li>Dave recommended JVM argument <a href=\"https://stackoverflow.com/questions/38721235/what-exactly-does-xx-tieredcompilation-do\">-XX:TieredStopAtLevel=1</a>, but my tests didn't show significant improvement with that. Also, <code>-XX:TieredStopAtLevel=1</code> would probably slow down your first request.</li>\n<li>There have been <a href=\"http://blog.noizwaves.io/2017/09/02/slow-spring-boot-startup.html\" rel=\"noreferrer\">reports</a> of hostname resolution being slow, but I didn't find it to be a problem for the apps I tested.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1544651093,"creation_date":1544651093,"answer_id":53751844,"question_id":27230702,"body_markdown":"If you&#39;re trying to optimize development turn-around for manual testing, I strongly recommend the use of [devtools](https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html).\r\n\r\n&gt; Applications that use spring-boot-devtools will automatically restart\r\n&gt; whenever files on the classpath change.\r\n\r\nJust recompile -- and the server will restart itself (for Groovy you only need to update the source file).  if you&#39;re using an IDE (e.g. &#39;vscode&#39;), it may automatically compile your java files, so just saving a java file can initiate a server restart, indirectly -- and Java becomes just as seamless as Groovy in this regard.\r\n\r\n*The beauty of this approach is that the incremental restart short-circuits some of the from-scratch startup steps -- so your service will be back up and running much more quickly!*\r\n\r\n----------\r\nUnfortunately, this doesn&#39;t help with startup times for deployment or automated unit testing.","title":"Speed up Spring Boot startup time","body":"<p>If you're trying to optimize development turn-around for manual testing, I strongly recommend the use of <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html\" rel=\"nofollow noreferrer\">devtools</a>.</p>\n\n<blockquote>\n  <p>Applications that use spring-boot-devtools will automatically restart\n  whenever files on the classpath change.</p>\n</blockquote>\n\n<p>Just recompile -- and the server will restart itself (for Groovy you only need to update the source file).  if you're using an IDE (e.g. 'vscode'), it may automatically compile your java files, so just saving a java file can initiate a server restart, indirectly -- and Java becomes just as seamless as Groovy in this regard.</p>\n\n<p><em>The beauty of this approach is that the incremental restart short-circuits some of the from-scratch startup steps -- so your service will be back up and running much more quickly!</em></p>\n\n<hr>\n\n<p>Unfortunately, this doesn't help with startup times for deployment or automated unit testing.</p>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":1,"creation_date":1571155360,"post_id":53999302,"comment_id":103142742,"body_markdown":"The question is about improving boot time, not compile time.","body":"The question is about improving boot time, not compile time."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1571252375,"post_id":53999302,"comment_id":103182315,"body_markdown":"@ArtOfWarfare read the question again. the question states the problem as &quot;I&#39;m unhappy that it takes that much [time], mostly because it breaks the development flow&quot;. I felt like this is a primary problem and addressed it in my answer.","body":"@ArtOfWarfare read the question again. the question states the problem as &quot;I&#39;m unhappy that it takes that much [time], mostly because it breaks the development flow&quot;. I felt like this is a primary problem and addressed it in my answer."}],"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":2,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1622190095,"creation_date":1546380309,"answer_id":53999302,"question_id":27230702,"body_markdown":"I find it strange nobody suggested these optimizations before. Here&#39;re some general tips on optimizing project build and startup when developing:\r\n\r\n- exclude development directories from antivirus scanner:\r\n    - project directory\r\n    - build output directory (if it&#39;s outside of project directory)\r\n    - IDE indices directory (e.g. ~/.IntelliJIdea2018.3)\r\n    - deployment directory (webapps in Tomcat)\r\n- upgrade hardware. use faster CPU and RAM, better internet connection (for downloading dependencies) and database connection, switch to SSD (today NVMe SSD is the most performant storage). a video card doesn&#39;t matter.\r\n- use latest Gradle and JVM versions. Source: [easy performance improvements][1].\r\n- parallel execution. By using more concurrent processes, parallel builds can reduce the overall build time significantly.\r\n\r\n**WARNINGS**\r\n\r\n1. the first option comes for the price of reduced security.\r\n2. the second option costs money (obviously).\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/performance.html#easy_improvements","title":"Speed up Spring Boot startup time","body":"<p>I find it strange nobody suggested these optimizations before. Here're some general tips on optimizing project build and startup when developing:</p>\n<ul>\n<li>exclude development directories from antivirus scanner:\n<ul>\n<li>project directory</li>\n<li>build output directory (if it's outside of project directory)</li>\n<li>IDE indices directory (e.g. ~/.IntelliJIdea2018.3)</li>\n<li>deployment directory (webapps in Tomcat)</li>\n</ul>\n</li>\n<li>upgrade hardware. use faster CPU and RAM, better internet connection (for downloading dependencies) and database connection, switch to SSD (today NVMe SSD is the most performant storage). a video card doesn't matter.</li>\n<li>use latest Gradle and JVM versions. Source: <a href=\"https://docs.gradle.org/current/userguide/performance.html#easy_improvements\" rel=\"nofollow noreferrer\">easy performance improvements</a>.</li>\n<li>parallel execution. By using more concurrent processes, parallel builds can reduce the overall build time significantly.</li>\n</ul>\n<p><strong>WARNINGS</strong></p>\n<ol>\n<li>the first option comes for the price of reduced security.</li>\n<li>the second option costs money (obviously).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":962425,"reputation":1531,"user_id":986485,"accept_rate":14,"display_name":"Radu Toader"},"score":0,"creation_date":1555790382,"post_id":53999437,"comment_id":98226604,"body_markdown":"hibernate.hbm2ddl.auto=update has nothing to do with l2 cache. ddl..=update specifies to scan the current database schema, and compute the neccesary sql in order to update schema to reflect your entities. &#39;None&#39; doesn&#39;t do this verification(also, doesn&#39;t try to update schema). Best practices is to use a tool like liquibase, where you will handle your schema changes,and you can also track them.","body":"hibernate.hbm2ddl.auto=update has nothing to do with l2 cache. ddl..=update specifies to scan the current database schema, and compute the neccesary sql in order to update schema to reflect your entities. &#39;None&#39; doesn&#39;t do this verification(also, doesn&#39;t try to update schema). Best practices is to use a tool like liquibase, where you will handle your schema changes,and you can also track them."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1555796365,"post_id":53999437,"comment_id":98227870,"body_markdown":"@RaduToader this question and my answer are about speeding up Spring Boot startup time. They have nothing to do with Hibernate DDL vs Liquibase discussion; these tools both have their pros and cons. My point is that we can disable the DB schema update and enable only when necessary. Hibernate takes significant time on startup even when model did not change since the last run (for comparing DB schema with autogenerated schema). The same point is true for L2 cache.","body":"@RaduToader this question and my answer are about speeding up Spring Boot startup time. They have nothing to do with Hibernate DDL vs Liquibase discussion; these tools both have their pros and cons. My point is that we can disable the DB schema update and enable only when necessary. Hibernate takes significant time on startup even when model did not change since the last run (for comparing DB schema with autogenerated schema). The same point is true for L2 cache."},{"owner":{"account_id":962425,"reputation":1531,"user_id":986485,"accept_rate":14,"display_name":"Radu Toader"},"score":0,"creation_date":1555830644,"post_id":53999437,"comment_id":98232456,"body_markdown":"yes, i know that, but my point was that this is a bit dangerous to not explain what it truly does. You might very easily end up with your db empty.","body":"yes, i know that, but my point was that this is a bit dangerous to not explain what it truly does. You might very easily end up with your db empty."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1556550426,"post_id":53999437,"comment_id":98467737,"body_markdown":"@RaduToader There was a link to a documentation page about DB initialization in my answer. Did you read it? It contains an exhaustive guide, listing all most popular tools (Hibernate and Liquibase, as well as JPA and Flyway). Also today I add a clear warning to the top of my answer. Do you think I need any other changes to explain consequences?","body":"@RaduToader There was a link to a documentation page about DB initialization in my answer. Did you read it? It contains an exhaustive guide, listing all most popular tools (Hibernate and Liquibase, as well as JPA and Flyway). Also today I add a clear warning to the top of my answer. Do you think I need any other changes to explain consequences?"},{"owner":{"account_id":962425,"reputation":1531,"user_id":986485,"accept_rate":14,"display_name":"Radu Toader"},"score":0,"creation_date":1556611115,"post_id":53999437,"comment_id":98486972,"body_markdown":"Perfect. Thank you","body":"Perfect. Thank you"}],"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":5,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1622190219,"creation_date":1546381661,"answer_id":53999437,"question_id":27230702,"body_markdown":"**WARNING:** If you don&#39;t use Hibernate DDL for automatic DB schema generation and you don&#39;t use L2 cache, this answer is NOT applicable to you. Scroll ahead.\r\n\r\nMy finding is that Hibernate adds significant time to application startup. Disabling L2 cache and [database initialization][1] results in faster Spring Boot app startup. Leave cache ON for production and disable it for your development environment.\r\n\r\napplication.yml:\r\n\r\n&lt;!-- language: lang-yml --&gt;\r\n\r\n    spring:\r\n      jpa:\r\n        generate-ddl: false\r\n        hibernate:\r\n          ddl-auto: none\r\n        properties:\r\n          hibernate:\r\n            cache:\r\n              use_second_level_cache: false\r\n              use_query_cache: false\r\n\r\nTest results:\r\n\r\n1. L2 cache is ON and `ddl-auto: update`: 54 seconds\r\n\r\n        INFO 5024 --- [restartedMain] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 23331 ms\r\n        INFO 5024 --- [restartedMain] b.n.spring.Application : Started Application in 54.251 seconds (JVM running for 63.766)\r\n\r\n2. L2 cache is OFF and `ddl-auto: none`: 32 seconds\r\n\r\n        INFO 10288 --- [restartedMain] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 9863 ms\r\n        INFO 10288 --- [restartedMain] b.n.spring.Application : Started Application in 32.058 seconds (JVM running for 37.625)\r\n\r\nGained 22 seconds!\r\n*Now I wonder what will I do with all this free time*\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\r\n","title":"Speed up Spring Boot startup time","body":"<p><strong>WARNING:</strong> If you don't use Hibernate DDL for automatic DB schema generation and you don't use L2 cache, this answer is NOT applicable to you. Scroll ahead.</p>\n<p>My finding is that Hibernate adds significant time to application startup. Disabling L2 cache and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">database initialization</a> results in faster Spring Boot app startup. Leave cache ON for production and disable it for your development environment.</p>\n<p>application.yml:</p>\n<pre class=\"lang-yml prettyprint-override\"><code>spring:\n  jpa:\n    generate-ddl: false\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        cache:\n          use_second_level_cache: false\n          use_query_cache: false\n</code></pre>\n<p>Test results:</p>\n<ol>\n<li><p>L2 cache is ON and <code>ddl-auto: update</code>: 54 seconds</p>\n<pre><code> INFO 5024 --- [restartedMain] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 23331 ms\n INFO 5024 --- [restartedMain] b.n.spring.Application : Started Application in 54.251 seconds (JVM running for 63.766)\n</code></pre>\n</li>\n<li><p>L2 cache is OFF and <code>ddl-auto: none</code>: 32 seconds</p>\n<pre><code> INFO 10288 --- [restartedMain] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 9863 ms\n INFO 10288 --- [restartedMain] b.n.spring.Application : Started Application in 32.058 seconds (JVM running for 37.625)\n</code></pre>\n</li>\n</ol>\n<p>Gained 22 seconds!\n<em>Now I wonder what will I do with all this free time</em></p>\n"},{"comments":[{"owner":{"account_id":149092,"reputation":687,"user_id":3044557,"display_name":"Isuru Dewasurendra"},"score":6,"creation_date":1578894707,"post_id":55261352,"comment_id":105573898,"body_markdown":"if you enable lazy initialization, first time loading is super fast, but when client accessing for the first time it may notice some delay. I really recommend this for the development not for the production.","body":"if you enable lazy initialization, first time loading is super fast, but when client accessing for the first time it may notice some delay. I really recommend this for the development not for the production."},{"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"score":2,"creation_date":1585812307,"post_id":55261352,"comment_id":107895405,"body_markdown":"As @IsuruDewasurendra suggested, it is rightly not a recommended way, it can significantly increase the latency when the app starts serving load.","body":"As @IsuruDewasurendra suggested, it is rightly not a recommended way, it can significantly increase the latency when the app starts serving load."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1596490049,"post_id":55261352,"comment_id":111822643,"body_markdown":"It just kicks the can down the road.","body":"It just kicks the can down the road."},{"owner":{"account_id":8699950,"reputation":116,"user_id":6510200,"display_name":"Caio"},"score":0,"creation_date":1605227530,"post_id":55261352,"comment_id":114594266,"body_markdown":"I use Lazy Initialization only on development because the first access is so lazy, but it is good feature in Spring Boot.","body":"I use Lazy Initialization only on development because the first access is so lazy, but it is good feature in Spring Boot."},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":1,"creation_date":1659968102,"post_id":55261352,"comment_id":129414601,"body_markdown":"Even though first time access for users would be slow. This is got way to kick the startup that do not need any beans. Even in production I find this very acceptable compared to waiting for startup time EVERY time by the same person","body":"Even though first time access for users would be slow. This is got way to kick the startup that do not need any beans. Even in production I find this very acceptable compared to waiting for startup time EVERY time by the same person"}],"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1610907001,"creation_date":1553086831,"answer_id":55261352,"question_id":27230702,"body_markdown":"**Spring Boot 2.2.M1**  has added feature to support Lazy Initialization in Spring Boot. \r\n\r\nBy default, when an application context is being refreshed, every bean in the context is created and its dependencies are injected. By contrast, when a bean definition is configured to be initialized lazily it will not be created and its dependencies will not be injected until it’s needed.\r\n\r\n\r\n**Enabling Lazy Initialization** Set `spring.main.lazy-initialization` to **true**\r\n\r\n**When to Enable Lazy Initialization**\r\n\r\nlazy initialization can offer significant improvements in start up time but there are some notable downsides too and it’s important to enable it with care  \r\n\r\nFor more details please check [Doc][1]\r\n\r\n\r\n**Update:** \r\n\r\n**Spring Boot Spring Boot 2.4.0 - Startup Endpoint**\r\n\r\nSpring Boot 2.4.0 has added a new Startup endpoint that can be used to identify beans that are taking longer than expected to start.\r\nYou can get more details about the Application Startup tracking [here][2]\r\n\r\n\r\n  [1]: https://spring.io/blog/2019/03/14/lazy-initialization-in-spring-boot-2-2\r\n  [2]: https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#context-functionality-startup","title":"Speed up Spring Boot startup time","body":"<p><strong>Spring Boot 2.2.M1</strong>  has added feature to support Lazy Initialization in Spring Boot.</p>\n<p>By default, when an application context is being refreshed, every bean in the context is created and its dependencies are injected. By contrast, when a bean definition is configured to be initialized lazily it will not be created and its dependencies will not be injected until it’s needed.</p>\n<p><strong>Enabling Lazy Initialization</strong> Set <code>spring.main.lazy-initialization</code> to <strong>true</strong></p>\n<p><strong>When to Enable Lazy Initialization</strong></p>\n<p>lazy initialization can offer significant improvements in start up time but there are some notable downsides too and it’s important to enable it with care</p>\n<p>For more details please check <a href=\"https://spring.io/blog/2019/03/14/lazy-initialization-in-spring-boot-2-2\" rel=\"noreferrer\">Doc</a></p>\n<p><strong>Update:</strong></p>\n<p><strong>Spring Boot Spring Boot 2.4.0 - Startup Endpoint</strong></p>\n<p>Spring Boot 2.4.0 has added a new Startup endpoint that can be used to identify beans that are taking longer than expected to start.\nYou can get more details about the Application Startup tracking <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#context-functionality-startup\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1578519160,"creation_date":1578519160,"answer_id":59654120,"question_id":27230702,"body_markdown":"Well there is entire list of possible actions described here: https://spring.io/blog/2018/12/12/how-fast-is-spring\r\n\r\nI will put the most important notes from Spring side (adjusted a little bit):\r\n\r\n- Classpath exclusions from Spring Boot web starters:\r\n - Hibernate Validator\r\n - Jackson (but Spring Boot actuators depend on it). Use Gson if you need JSON rendering (only works with MVC out of the box).\r\n - Logback: use slf4j-jdk14 instead\r\n- Use the spring-context-indexer. It’s not going to add much, but every little helps.\r\n- Don’t use actuators if you can afford not to.\r\n- Use Spring Boot 2.1 and Spring 5.1. Switch to 2.2 and 5.2 when they are available.\r\n- Fix the location of the Spring Boot config file(s) with `spring.config.location` (command line argument or System property etc.). Example for testing in IDE: `spring.config.location=file://./src/main/resources/application.properties`.\r\n- Switch off JMX if you don’t need it with `spring.jmx.enabled=false` (this is the default in Spring Boot 2.2)\r\n- Make bean definitions lazy by default. There’s a new flag `spring.main.lazy-initialization=true` in Spring Boot 2.2 (use `LazyInitBeanFactoryPostProcessor` for older Spring).\r\n- Unpack the fat jar and run with an explicit classpath.\r\n- Run the JVM with `-noverify`. Also consider `-XX:TieredStopAtLevel=1` (that will slow down the JIT later at the expense of the saved startup time).\r\n\r\nThe mentioned `LazyInitBeanFactoryPostProcessor` (you can use it for Spring 1.5 if you cannot apply flag `spring.main.lazy-initialization=true` available from Spring 2.2):\r\n\r\n    public class LazyInitBeanFactoryPostProcessor implements BeanFactoryPostProcessor {\r\n\r\n\t  @Override\r\n\t  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n\t\t  for (String beanName : beanFactory.getBeanDefinitionNames()) {\r\n\t\t\tBeanDefinition definition = beanFactory.getBeanDefinition(beanName);\r\n\t\t\tdefinition.setLazyInit(true);\r\n\t\t  }\r\n\t  }\r\n    }\r\n\r\nYou can also use (or write your own - it&#39;s simple) something to analyse beans initialization time: https://github.com/lwaddicor/spring-startup-analysis\r\n\r\nHope it helps!","title":"Speed up Spring Boot startup time","body":"<p>Well there is entire list of possible actions described here: <a href=\"https://spring.io/blog/2018/12/12/how-fast-is-spring\" rel=\"noreferrer\">https://spring.io/blog/2018/12/12/how-fast-is-spring</a></p>\n\n<p>I will put the most important notes from Spring side (adjusted a little bit):</p>\n\n<ul>\n<li>Classpath exclusions from Spring Boot web starters:\n\n<ul>\n<li>Hibernate Validator</li>\n<li>Jackson (but Spring Boot actuators depend on it). Use Gson if you need JSON rendering (only works with MVC out of the box).</li>\n<li>Logback: use slf4j-jdk14 instead</li>\n</ul></li>\n<li>Use the spring-context-indexer. It’s not going to add much, but every little helps.</li>\n<li>Don’t use actuators if you can afford not to.</li>\n<li>Use Spring Boot 2.1 and Spring 5.1. Switch to 2.2 and 5.2 when they are available.</li>\n<li>Fix the location of the Spring Boot config file(s) with <code>spring.config.location</code> (command line argument or System property etc.). Example for testing in IDE: <code>spring.config.location=file://./src/main/resources/application.properties</code>.</li>\n<li>Switch off JMX if you don’t need it with <code>spring.jmx.enabled=false</code> (this is the default in Spring Boot 2.2)</li>\n<li>Make bean definitions lazy by default. There’s a new flag <code>spring.main.lazy-initialization=true</code> in Spring Boot 2.2 (use <code>LazyInitBeanFactoryPostProcessor</code> for older Spring).</li>\n<li>Unpack the fat jar and run with an explicit classpath.</li>\n<li>Run the JVM with <code>-noverify</code>. Also consider <code>-XX:TieredStopAtLevel=1</code> (that will slow down the JIT later at the expense of the saved startup time).</li>\n</ul>\n\n<p>The mentioned <code>LazyInitBeanFactoryPostProcessor</code> (you can use it for Spring 1.5 if you cannot apply flag <code>spring.main.lazy-initialization=true</code> available from Spring 2.2):</p>\n\n<pre><code>public class LazyInitBeanFactoryPostProcessor implements BeanFactoryPostProcessor {\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n      for (String beanName : beanFactory.getBeanDefinitionNames()) {\n        BeanDefinition definition = beanFactory.getBeanDefinition(beanName);\n        definition.setLazyInit(true);\n      }\n  }\n}\n</code></pre>\n\n<p>You can also use (or write your own - it's simple) something to analyse beans initialization time: <a href=\"https://github.com/lwaddicor/spring-startup-analysis\" rel=\"noreferrer\">https://github.com/lwaddicor/spring-startup-analysis</a></p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4186322,"reputation":19,"user_id":3430014,"display_name":"Daulet Kadirbekov"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1587443434,"creation_date":1587443434,"answer_id":61335982,"question_id":27230702,"body_markdown":"In my case, there was too much breakpoints. When I clicked &quot;Mute Breakpoints&quot; and restarted application in debug mode, application started in 10 times faster.","title":"Speed up Spring Boot startup time","body":"<p>In my case, there was too much breakpoints. When I clicked \"Mute Breakpoints\" and restarted application in debug mode, application started in 10 times faster.</p>\n"},{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679417402,"creation_date":1679417402,"answer_id":75804112,"question_id":27230702,"body_markdown":"Checkout the Spring Boot Startup Report\r\n\r\nhttps://github.com/maciejwalkowiak/spring-boot-startup-report\r\n\r\nSpring Boot Startup Report library generates an interactive Spring Boot application startup report that lets you understand what contributes to the application startup time and perhaps helps to optimize it.\r\nstartup report available in runtime as an interactive HTML page\r\ngenerating startup reports in integration tests\r\nflame chart\r\nsearch by class or an annotation\r\n\r\nFeatures\r\n - startup report available in runtime as an interactive HTML page\r\n - generating startup reports in integration tests\r\n - flame chart\r\n - search by class or an annotation\r\n\r\nVery cool utility IMHO.","title":"Speed up Spring Boot startup time","body":"<p>Checkout the Spring Boot Startup Report</p>\n<p><a href=\"https://github.com/maciejwalkowiak/spring-boot-startup-report\" rel=\"nofollow noreferrer\">https://github.com/maciejwalkowiak/spring-boot-startup-report</a></p>\n<p>Spring Boot Startup Report library generates an interactive Spring Boot application startup report that lets you understand what contributes to the application startup time and perhaps helps to optimize it.\nstartup report available in runtime as an interactive HTML page\ngenerating startup reports in integration tests\nflame chart\nsearch by class or an annotation</p>\n<p>Features</p>\n<ul>\n<li>startup report available in runtime as an interactive HTML page</li>\n<li>generating startup reports in integration tests</li>\n<li>flame chart</li>\n<li>search by class or an annotation</li>\n</ul>\n<p>Very cool utility IMHO.</p>\n"}],"owner":{"account_id":5135828,"reputation":2256,"user_id":4114631,"accept_rate":43,"display_name":"steady rain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157439,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"answer_count":11,"score":176,"last_activity_date":1679417402,"creation_date":1417444625,"question_id":27230702,"body_markdown":"I have a Spring Boot application. I&#39;ve added a lot of dependencies (unfortunately, looks I need all of them) and the startup time went up quite a lot. Just doing a `SpringApplication.run(source, args)` takes 10 seconds. \r\n\r\nWhile that might not be much compared to what are &quot;used&quot; to, I&#39;m unhappy that it takes that much, mostly because it breaks the development flow. The application itself is rather small at this point, so I assume most of the time is related to the added dependencies, not the app classes themselves.\r\n\r\nI assume the issue is classpath scanning, but I am not sure how to:\r\n\r\n- Confirm that is the issue (i.e. how to &quot;debug&quot; Spring Boot)\r\n- If it really is the cause, how can I limit it, so it gets faster? For example, if I know that some dependency or package does not contain anything that Spring should be scanning, is there a way to limit that? \r\n\r\nI assume that [enhancing Spring to have parallel bean initialization during startup](https://jira.spring.io/browse/SPR-8767) would speed up things, but that enhancement request has been open since 2011, without any progress. I see some other efforts in Spring Boot itself, such as [Investigate Tomcat JarScanning speed improvements](https://github.com/spring-projects/spring-boot/issues/1610), but that is Tomcat specific and has been abandoned.\r\n\r\nThis article:\r\n\r\n* http://www.nurkiewicz.com/2010/12/speeding-up-spring-integration-tests.html\r\n\r\nalthough aimed at integration tests, suggests using `lazy-init=true`, however I do not know how to apply this to all beans in Spring Boot using Java configuration - any pointers here?\r\n\r\nAny (other) suggestions would be welcome.","title":"Speed up Spring Boot startup time","body":"<p>I have a Spring Boot application. I've added a lot of dependencies (unfortunately, looks I need all of them) and the startup time went up quite a lot. Just doing a <code>SpringApplication.run(source, args)</code> takes 10 seconds. </p>\n\n<p>While that might not be much compared to what are \"used\" to, I'm unhappy that it takes that much, mostly because it breaks the development flow. The application itself is rather small at this point, so I assume most of the time is related to the added dependencies, not the app classes themselves.</p>\n\n<p>I assume the issue is classpath scanning, but I am not sure how to:</p>\n\n<ul>\n<li>Confirm that is the issue (i.e. how to \"debug\" Spring Boot)</li>\n<li>If it really is the cause, how can I limit it, so it gets faster? For example, if I know that some dependency or package does not contain anything that Spring should be scanning, is there a way to limit that? </li>\n</ul>\n\n<p>I assume that <a href=\"https://jira.spring.io/browse/SPR-8767\" rel=\"noreferrer\">enhancing Spring to have parallel bean initialization during startup</a> would speed up things, but that enhancement request has been open since 2011, without any progress. I see some other efforts in Spring Boot itself, such as <a href=\"https://github.com/spring-projects/spring-boot/issues/1610\" rel=\"noreferrer\">Investigate Tomcat JarScanning speed improvements</a>, but that is Tomcat specific and has been abandoned.</p>\n\n<p>This article:</p>\n\n<ul>\n<li><a href=\"http://www.nurkiewicz.com/2010/12/speeding-up-spring-integration-tests.html\" rel=\"noreferrer\">http://www.nurkiewicz.com/2010/12/speeding-up-spring-integration-tests.html</a></li>\n</ul>\n\n<p>although aimed at integration tests, suggests using <code>lazy-init=true</code>, however I do not know how to apply this to all beans in Spring Boot using Java configuration - any pointers here?</p>\n\n<p>Any (other) suggestions would be welcome.</p>\n"},{"tags":["java","spring-boot","backend","jhipster","import-csv"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678711753,"post_id":75721984,"comment_id":133580932,"body_markdown":"what is &quot;siraReport&quot;? please provide the complete code, otherwise we can&#39;t help you.","body":"what is &quot;siraReport&quot;? please provide the complete code, otherwise we can&#39;t help you."},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678711889,"post_id":75721984,"comment_id":133580974,"body_markdown":"I apologize, it&#39;s a report and not siraReport. I fixed the code now.","body":"I apologize, it&#39;s a report and not siraReport. I fixed the code now."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678712046,"post_id":75721984,"comment_id":133581020,"body_markdown":"It looks to me like you have 8 header columns, yet 11 columns of data... A formatting error won&#39;t explain it, as the total fields amount to an odd number","body":"It looks to me like you have 8 header columns, yet 11 columns of data... A formatting error won&#39;t explain it, as the total fields amount to an odd number"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678712115,"post_id":75721984,"comment_id":133581043,"body_markdown":"try running in debug mode: what is the length of &quot;csvRecords&quot;? what is the value of &quot;csvRecord.get(&quot;sensor_name&quot;)&quot; ? sensorErrors can only have one element, what is its contents? there is nothing &quot;wrong&quot; with your code, just debug it line by line and make sure everything goes to its right place.","body":"try running in debug mode: what is the length of &quot;csvRecords&quot;? what is the value of &quot;csvRecord.get(&quot;sensor_name&quot;)&quot; ? sensorErrors can only have one element, what is its contents? there is nothing &quot;wrong&quot; with your code, just debug it line by line and make sure everything goes to its right place."},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678712477,"post_id":75721984,"comment_id":133581154,"body_markdown":"@g00se , yes, this is what it has, however it has also tried to add corresponding header columns, however the result is that it will add the second SensorError information and not the first one anymore. when I create a JSON to save the Report with SensorError data it is created like this: &quot;&quot;sensorErrors&quot;: [{\n            &quot;sensorName&quot;:&quot;sensor1&quot;,\n            &quot;errorCode&quot;:&quot;404&quot;,\n            &quot;errorDetail&quot;:&quot;complete failure&quot;\n            },\n            {\n            &quot;sensorName&quot;:&quot;sensor2&quot;,\n            &quot;errorCode&quot;:&quot;400&quot;,\n            &quot;errorDetail&quot;:&quot;partial failure&quot;\n            }\n            ]&quot;","body":"@g00se , yes, this is what it has, however it has also tried to add corresponding header columns, however the result is that it will add the second SensorError information and not the first one anymore. when I create a JSON to save the Report with SensorError data it is created like this: &quot;&quot;sensorErrors&quot;: [{             &quot;sensorName&quot;:&quot;sensor1&quot;,             &quot;errorCode&quot;:&quot;404&quot;,             &quot;errorDetail&quot;:&quot;complete failure&quot;             },             {             &quot;sensorName&quot;:&quot;sensor2&quot;,             &quot;errorCode&quot;:&quot;400&quot;,             &quot;errorDetail&quot;:&quot;partial failure&quot;             }             ]&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678712677,"post_id":75721984,"comment_id":133581208,"body_markdown":"*however it has also tried to add corresponding header columns* &quot;it&quot;? I don&#39;t really understand all that. Surely if the column headers do not correspond with the data, you are beginning with a corrupt csv file?","body":"<i>however it has also tried to add corresponding header columns</i> &quot;it&quot;? I don&#39;t really understand all that. Surely if the column headers do not correspond with the data, you are beginning with a corrupt csv file?"},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678713764,"post_id":75721984,"comment_id":133581563,"body_markdown":"@TomElias In debug mode csvRecords has size=1. After he adds the Report data to the line, he enters the if for verification of the SensorError object and does the csvRecord.get for each one and at the end sensorErrors.add(sensorError), the following information appears in the debug record: &quot;sensorError= &quot;SensorError{sensorName=&#39;sensor operator&#39;, errorCode=&#39;operand&#39;, errorDetail=&#39;partial failure&#39;}&quot; sensorErrors will have size=1 at the end of the debug, but only with the first line of SensorError information","body":"@TomElias In debug mode csvRecords has size=1. After he adds the Report data to the line, he enters the if for verification of the SensorError object and does the csvRecord.get for each one and at the end sensorErrors.add(sensorError), the following information appears in the debug record: &quot;sensorError= &quot;SensorError{sensorName=&#39;sensor operator&#39;, errorCode=&#39;operand&#39;, errorDetail=&#39;partial failure&#39;}&quot; sensorErrors will have size=1 at the end of the debug, but only with the first line of SensorError information"},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678714052,"post_id":75721984,"comment_id":133581656,"body_markdown":"@g00se Sorry for my inconclusive answer, I added the headers to have 11 too, like this: &quot;final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail, sensor_name, error_code, error_detail&quot;, this way would match with 11 columns of data, however the code will save the second SensorError information from the CSV file: &quot;&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;&quot; and no longer the first info: &quot;&quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;&quot; when there were only 8 headers.","body":"@g00se Sorry for my inconclusive answer, I added the headers to have 11 too, like this: &quot;final_state,datetime_begin,datetime_end,cutting_time,total_&zwnj;&#8203;time,sensor_name,err&zwnj;&#8203;or_code,error_detail&zwnj;&#8203;, sensor_name, error_code, error_detail&quot;, this way would match with 11 columns of data, however the code will save the second SensorError information from the CSV file: &quot;&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;&quot; and no longer the first info: &quot;&quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;&quot; when there were only 8 headers."},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678717579,"post_id":75721984,"comment_id":133582896,"body_markdown":"@g00se I think it&#39;s the way I&#39;m sending the data in the CSV that&#39;s weird. As for a single Report I can have several SensorError information, I believe that the CSV should have something similar to this format: &quot;final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail\nTESTESENSOR, 2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min,&quot;sensor operator&quot;,&quot;operating&quot;,&quot;partial failure&quot;\nTESTESENSOR, 2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min,&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;","body":"@g00se I think it&#39;s the way I&#39;m sending the data in the CSV that&#39;s weird. As for a single Report I can have several SensorError information, I believe that the CSV should have something similar to this format: &quot;final_state,datetime_begin,datetime_end,cutting_time,total_&zwnj;&#8203;time,sensor_name,err&zwnj;&#8203;or_code,error_detail TESTESENSOR, 2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min,&quot;senso&zwnj;&#8203;r operator&quot;,&quot;operating&quot;,&quot;partial failure&quot; TESTESENSOR, 2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min,&quot;senso&zwnj;&#8203;r navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678722675,"post_id":75721984,"comment_id":133584625,"body_markdown":"*As for a single Report I can have several SensorError information* But you&#39;re reading one csv record per Report. If you haven&#39;t even modeled your data correctly yet, it seems that the rest of the code, and this question, are premature","body":"<i>As for a single Report I can have several SensorError information</i> But you&#39;re reading one csv record per Report. If you haven&#39;t even modeled your data correctly yet, it seems that the rest of the code, and this question, are premature"},{"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"score":0,"creation_date":1678725167,"post_id":75721984,"comment_id":133585371,"body_markdown":"@g00se Indeed, you are correct. I could even in my question made prematurely, based on your answer, arrive at a possible solution. I will post it, because the way I was sending the CSV data and how the code was modeling it, it was doing the wrong thing for my purpose, as you correctly commented. Sometimes we need to be asked to be able to think better, something that happened thanks to your help.","body":"@g00se Indeed, you are correct. I could even in my question made prematurely, based on your answer, arrive at a possible solution. I will post it, because the way I was sending the CSV data and how the code was modeling it, it was doing the wrong thing for my purpose, as you correctly commented. Sometimes we need to be asked to be able to think better, something that happened thanks to your help."}],"answers":[{"tags":[],"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679416779,"creation_date":1678726469,"answer_id":75724771,"question_id":75721984,"body_markdown":"Well, due to the questions made here in this topic, I could observe that my error was initially, in how the data were being sent, because if for 1 Report I have several SensorError information, then I would have to duplicate the data lines of the Report and include information other than SensorError to look like this:\r\n\r\n&gt; final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail\r\nTESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;\r\nTESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;\r\n\r\nFrom there, I had to review my code due to questions from @g00se and @Tom Elias, arriving at this code that works:\r\n\r\n    public static List&lt;Report&gt; csvToReports(InputStream is, ReportRepository reportRepository, SensorErrorRepository sensorErrorRepository) {\r\n        try (\r\n            BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, Charset.defaultCharset()));\r\n            CSVParser csvParser = new CSVParser(fileReader, CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());\r\n        ) {\r\n            Map&lt;String, Report&gt; reportMap = new HashMap&lt;&gt;();\r\n            List&lt;Report&gt; reports = new ArrayList&lt;&gt;();\r\n\r\n            Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\r\n\r\n            for (CSVRecord csvRecord : csvRecords) {\r\n                String datetimeBegin = csvRecord.get(&quot;datetime_begin&quot;);\r\n                String datetimeEnd = csvRecord.get(&quot;datetime_end&quot;);\r\n                String reportKey = datetimeBegin + datetimeEnd; // Create a new key using final_state and datetime_begin\r\n\r\n                Report report = reportMap.get(reportKey);\r\n\r\n                if (report == null) {\r\n                    report = new Report(\r\n                        csvRecord.get(&quot;final_state&quot;),\r\n                        Instant.parse(datetimeBegin),\r\n                        Instant.parse(datetimeEnd),\r\n                        csvRecord.get(&quot;cutting_time&quot;),\r\n                        csvRecord.get(&quot;total_time&quot;),\r\n                    );\r\n                }\r\n\r\n                // Check if sensor_name, error_code and error_detail fields have values\r\n                if (!csvRecord.get(&quot;sensor_name&quot;).isEmpty() || !csvRecord.get(&quot;error_code&quot;).isEmpty() || !csvRecord.get(&quot;error_detail&quot;).isEmpty()) {\r\n                    // Create a new SensorError object using the data from the CSVRecord\r\n                    SensorError sensorError = new SensorError(\r\n                        csvRecord.get(&quot;sensor_name&quot;),\r\n                        csvRecord.get(&quot;error_code&quot;),\r\n                        csvRecord.get(&quot;error_detail&quot;)\r\n                    );\r\n\r\n                    // Add the SensorError object to the Report\r\n                    report.addSensorError(sensorError);\r\n\r\n                    // Save the SensorError object to the database using the SensorErrorRepository\r\n                    sensorErrorRepository.save(sensorError);\r\n                }\r\n\r\n                // Save the Report object to the database using the ReportRepository\r\n                reportRepository.save(report);\r\n\r\n                // Add the Report object to the Map and List\r\n                reportMap.put(reportKey, report);\r\n                reports.add(report);\r\n            }\r\n\r\n            // Return the List of Reports\r\n            return reports;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Failed to parse CSV file: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nI had to create a method that performs an identification if the lines sent in the CSV refer to the same Report and add the SensorError information to the same Report object.\r\n\r\nSo now the code creates a new identifier using the datetime_begin and datetime_end field combination to check if there is an existing Report with the datetime_begin and datetime_end field combination. If there is no existing Report, it creates a new Report.\r\n\r\nIn summary, it will check the duplicated lines with Report information, if it is the same Report object and then it will register the different SensorError information for that Report object.\r\n\r\nI am aware that a better check would be by ID, but this is generated sequentially by the application.\r\n","title":"Problems when importing a CSV file and persisting information in a database using Java","body":"<p>Well, due to the questions made here in this topic, I could observe that my error was initially, in how the data were being sent, because if for 1 Report I have several SensorError information, then I would have to duplicate the data lines of the Report and include information other than SensorError to look like this:</p>\n<blockquote>\n<p>final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail\nTESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;\nTESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;</p>\n</blockquote>\n<p>From there, I had to review my code due to questions from @g00se and @Tom Elias, arriving at this code that works:</p>\n<pre><code>public static List&lt;Report&gt; csvToReports(InputStream is, ReportRepository reportRepository, SensorErrorRepository sensorErrorRepository) {\n    try (\n        BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, Charset.defaultCharset()));\n        CSVParser csvParser = new CSVParser(fileReader, CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());\n    ) {\n        Map&lt;String, Report&gt; reportMap = new HashMap&lt;&gt;();\n        List&lt;Report&gt; reports = new ArrayList&lt;&gt;();\n\n        Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\n\n        for (CSVRecord csvRecord : csvRecords) {\n            String datetimeBegin = csvRecord.get(&quot;datetime_begin&quot;);\n            String datetimeEnd = csvRecord.get(&quot;datetime_end&quot;);\n            String reportKey = datetimeBegin + datetimeEnd; // Create a new key using final_state and datetime_begin\n\n            Report report = reportMap.get(reportKey);\n\n            if (report == null) {\n                report = new Report(\n                    csvRecord.get(&quot;final_state&quot;),\n                    Instant.parse(datetimeBegin),\n                    Instant.parse(datetimeEnd),\n                    csvRecord.get(&quot;cutting_time&quot;),\n                    csvRecord.get(&quot;total_time&quot;),\n                );\n            }\n\n            // Check if sensor_name, error_code and error_detail fields have values\n            if (!csvRecord.get(&quot;sensor_name&quot;).isEmpty() || !csvRecord.get(&quot;error_code&quot;).isEmpty() || !csvRecord.get(&quot;error_detail&quot;).isEmpty()) {\n                // Create a new SensorError object using the data from the CSVRecord\n                SensorError sensorError = new SensorError(\n                    csvRecord.get(&quot;sensor_name&quot;),\n                    csvRecord.get(&quot;error_code&quot;),\n                    csvRecord.get(&quot;error_detail&quot;)\n                );\n\n                // Add the SensorError object to the Report\n                report.addSensorError(sensorError);\n\n                // Save the SensorError object to the database using the SensorErrorRepository\n                sensorErrorRepository.save(sensorError);\n            }\n\n            // Save the Report object to the database using the ReportRepository\n            reportRepository.save(report);\n\n            // Add the Report object to the Map and List\n            reportMap.put(reportKey, report);\n            reports.add(report);\n        }\n\n        // Return the List of Reports\n        return reports;\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;Failed to parse CSV file: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>I had to create a method that performs an identification if the lines sent in the CSV refer to the same Report and add the SensorError information to the same Report object.</p>\n<p>So now the code creates a new identifier using the datetime_begin and datetime_end field combination to check if there is an existing Report with the datetime_begin and datetime_end field combination. If there is no existing Report, it creates a new Report.</p>\n<p>In summary, it will check the duplicated lines with Report information, if it is the same Report object and then it will register the different SensorError information for that Report object.</p>\n<p>I am aware that a better check would be by ID, but this is generated sequentially by the application.</p>\n"}],"owner":{"account_id":27123007,"reputation":3,"user_id":20666470,"display_name":"Tiago Severo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75724771,"answer_count":1,"score":0,"last_activity_date":1679416779,"creation_date":1678711173,"question_id":75721984,"body_markdown":"I&#39;m having a problem with a CSV data import code into the database. I&#39;m using Java 11 with SpringBoot 2.7.3 REST API\r\n\r\nI have a Report class that has a Many-To-Many one-way relationship with the SensorError class, where only Report knows about SensorError and not the other way around:\r\n\r\n`   @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;rel_report__sensor_error&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;report_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;sensor_error_id&quot;)\r\n    )\r\n    private Set&lt;SensorError&gt; sensorErrors = new HashSet&lt;&gt;();`\r\n\r\nI created a code to import CSV data:\r\n\r\n    public static List&lt;Report&gt; csvToReports(InputStream is, ReportRepository reportRepository,\r\n            SensorErrorRepository sensorErrorRepository) {\r\n        try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, Charset.defaultCharset()));\r\n                CSVParser csvParser = new CSVParser(fileReader,\r\n                        CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\r\n            // Create an empty list to hold the SiraReports that will be parsed from the CSV\r\n            // file\r\n            List&lt;Report&gt; reports = new ArrayList&lt;Report&gt;();\r\n    \r\n            // Parse the SensorError objects from the CSVRecord\r\n            Set&lt;SensorError&gt; sensorErrors = new HashSet&lt;&gt;();\r\n    \r\n            // Get an Iterable of CSVRecords from the CSVParser\r\n            Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\r\n    \r\n            for (CSVRecord csvRecord : csvRecords) {\r\n    \r\n                Report report = new Report(csvRecord.get(&quot;final_state&quot;), Instant.parse(csvRecord.get(&quot;datetime_begin&quot;)),\r\n                        Instant.parse(csvRecord.get(&quot;datetime_end&quot;)), csvRecord.get(&quot;cutting_time&quot;),\r\n                        csvRecord.get(&quot;total_time&quot;));\r\n    \r\n                // Check if sensor_name, error_code and error_detail fields have values\r\n                if (!csvRecord.get(&quot;sensor_name&quot;).isEmpty() || !csvRecord.get(&quot;error_code&quot;).isEmpty()\r\n                        || !csvRecord.get(&quot;error_detail&quot;).isEmpty()) {\r\n                    // Create a new SensorError object using the data from the CSVRecord\r\n                    SensorError sensorError = new SensorError(csvRecord.get(&quot;sensor_name&quot;), csvRecord.get(&quot;error_code&quot;),\r\n                            csvRecord.get(&quot;error_detail&quot;));\r\n    \r\n                    // Add the SensorError object to the Set\r\n                    sensorErrors.add(sensorError);\r\n                }\r\n    \r\n                // Set the SensorError objects for the SiraReport object\r\n                report.setSensorErrors(sensorErrors);\r\n    \r\n                // Save the SensorError objects to the database using the SensorErrorRepository\r\n                sensorErrorRepository.saveAll(sensorErrors);\r\n    \r\n                // Add the Report object to the List\r\n                reports.add(report);\r\n            }\r\n    \r\n            // Return the List of Reports\r\n            return reports;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Failed to parse CSV file: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nThis code works partially for my interest, in my CSV file:\r\n\r\n    final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail\r\n    TESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;,&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;\r\n\r\nThe code saves only the first SensorError Information inside a Report: &quot;&quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;&quot;, but not the second information: &quot;&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;&quot;.\r\n\r\n\r\nI already tried some things, like adding: Set&lt;SensorError&gt; sensorErrors = new HashSet&lt;&gt;();, inside the Loop, but then it saves the second SensorError Information and not the first one anymore. I also tried changing it to a List instead of Set, but it didn&#39;t solve the problem. \r\n\r\nHow to make it import more than one existing SensorError information in the CSV file to a single SiraReport?\r\n\r\n\r\n\r\n\r\n","title":"Problems when importing a CSV file and persisting information in a database using Java","body":"<p>I'm having a problem with a CSV data import code into the database. I'm using Java 11 with SpringBoot 2.7.3 REST API</p>\n<p>I have a Report class that has a Many-To-Many one-way relationship with the SensorError class, where only Report knows about SensorError and not the other way around:</p>\n<p><code>   @ManyToMany @JoinTable( name = &quot;rel_report__sensor_error&quot;, joinColumns = @JoinColumn(name = &quot;report_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;sensor_error_id&quot;) ) private Set&lt;SensorError&gt; sensorErrors = new HashSet&lt;&gt;();</code></p>\n<p>I created a code to import CSV data:</p>\n<pre><code>public static List&lt;Report&gt; csvToReports(InputStream is, ReportRepository reportRepository,\n        SensorErrorRepository sensorErrorRepository) {\n    try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, Charset.defaultCharset()));\n            CSVParser csvParser = new CSVParser(fileReader,\n                    CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\n        // Create an empty list to hold the SiraReports that will be parsed from the CSV\n        // file\n        List&lt;Report&gt; reports = new ArrayList&lt;Report&gt;();\n\n        // Parse the SensorError objects from the CSVRecord\n        Set&lt;SensorError&gt; sensorErrors = new HashSet&lt;&gt;();\n\n        // Get an Iterable of CSVRecords from the CSVParser\n        Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\n\n        for (CSVRecord csvRecord : csvRecords) {\n\n            Report report = new Report(csvRecord.get(&quot;final_state&quot;), Instant.parse(csvRecord.get(&quot;datetime_begin&quot;)),\n                    Instant.parse(csvRecord.get(&quot;datetime_end&quot;)), csvRecord.get(&quot;cutting_time&quot;),\n                    csvRecord.get(&quot;total_time&quot;));\n\n            // Check if sensor_name, error_code and error_detail fields have values\n            if (!csvRecord.get(&quot;sensor_name&quot;).isEmpty() || !csvRecord.get(&quot;error_code&quot;).isEmpty()\n                    || !csvRecord.get(&quot;error_detail&quot;).isEmpty()) {\n                // Create a new SensorError object using the data from the CSVRecord\n                SensorError sensorError = new SensorError(csvRecord.get(&quot;sensor_name&quot;), csvRecord.get(&quot;error_code&quot;),\n                        csvRecord.get(&quot;error_detail&quot;));\n\n                // Add the SensorError object to the Set\n                sensorErrors.add(sensorError);\n            }\n\n            // Set the SensorError objects for the SiraReport object\n            report.setSensorErrors(sensorErrors);\n\n            // Save the SensorError objects to the database using the SensorErrorRepository\n            sensorErrorRepository.saveAll(sensorErrors);\n\n            // Add the Report object to the List\n            reports.add(report);\n        }\n\n        // Return the List of Reports\n        return reports;\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;Failed to parse CSV file: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>This code works partially for my interest, in my CSV file:</p>\n<pre><code>final_state,datetime_begin,datetime_end,cutting_time,total_time,sensor_name,error_code,error_detail\nTESTESENSOR,2022-09-30T18:15:00Z,2022-09-30T18:35:00Z,30min,40min, &quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;,&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;\n</code></pre>\n<p>The code saves only the first SensorError Information inside a Report: &quot;&quot;sensor operador&quot;,&quot;operando&quot;,&quot;falha parcial&quot;&quot;, but not the second information: &quot;&quot;sensor navalha&quot;,&quot;erro mundial&quot;,&quot;falha total&quot;&quot;.</p>\n<p>I already tried some things, like adding: Set sensorErrors = new HashSet&lt;&gt;();, inside the Loop, but then it saves the second SensorError Information and not the first one anymore. I also tried changing it to a List instead of Set, but it didn't solve the problem.</p>\n<p>How to make it import more than one existing SensorError information in the CSV file to a single SiraReport?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-credentials"],"answers":[{"comments":[{"owner":{"account_id":28077680,"reputation":13,"user_id":21449273,"display_name":"Jack"},"score":1,"creation_date":1679416389,"post_id":75803820,"comment_id":133716795,"body_markdown":"You re, I commented spring-boot-starter-oauth2-resource-server in the dependencies.\nThank you very much sir!","body":"You re, I commented spring-boot-starter-oauth2-resource-server in the dependencies. Thank you very much sir!"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679416189,"creation_date":1679415800,"answer_id":75803820,"question_id":75803684,"body_markdown":"I have the exact same use case. One difference is I am using [Amazon S3 Java V2][1] - which is the recommended SDK version to use. \r\n\r\n**My Controller**. \r\n\r\n      @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            try {\r\n                byte[] bytes = file.getBytes();\r\n                String fileName = file.getOriginalFilename();\r\n                UUID uuid = UUID.randomUUID();\r\n                String unqueFileName = uuid + &quot;-&quot; + fileName;\r\n    \r\n                DynamoDBService dbService = new DynamoDBService();\r\n                S3Service s3Service = new S3Service();\r\n                AnalyzePhotos analyzePhotos = new AnalyzePhotos();\r\n                UploadEndpoint endpoint = new UploadEndpoint(analyzePhotos, dbService, s3Service);\r\n                endpoint.upload(bytes, fileName);\r\n                return &quot;You have uploaded &quot;+fileName;\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;File was not uploaded&quot;;\r\n        }\r\n\r\nNotice that i am getting the byte[] of the upload file. \r\n\r\nThe endpoint.upload() is here: \r\n\r\n    public void upload(byte[] bytes, String name) {\r\n      // Put the file into the bucket.\r\n      s3Service.putObject(bytes, PhotoApplicationResources.STORAGE_BUCKET, name);\r\n      this.tagAfterUpload(name);\r\n    }\r\n\r\nThe **s3Service.putObject()** is here: \r\n\r\n      // Places an image into a S3 bucket.\r\n        public void putObject(byte[] data, String bucketName, String objectKey) {\r\n            S3Client s3 = getClient();\r\n            try {\r\n                s3.putObject(PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey)\r\n                        .build(),\r\n                    RequestBody.fromBytes(data));\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\nThe getClient() is\r\n\r\n    private S3Client getClient() {\r\n            return S3Client.builder()\r\n                .region(PhotoApplicationResources.REGION)\r\n                .build();\r\n        }\r\n\r\n\r\nNow all of this works and can be invoked from Postman: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nLooks like you have Spring Security Dependencies in your POM file (based on your screenshot of a forced login). You should remove them and see if your controller gets the file when setting a break point. You should see: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://i.stack.imgur.com/Hz4m9.png\r\n  [3]: https://i.stack.imgur.com/SSl4o.png","title":"Spring Boot AWS credentials Unauthorized","body":"<p>I have the exact same use case. One difference is I am using <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Amazon S3 Java V2</a> - which is the recommended SDK version to use.</p>\n<p><strong>My Controller</strong>.</p>\n<pre><code>  @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        try {\n            byte[] bytes = file.getBytes();\n            String fileName = file.getOriginalFilename();\n            UUID uuid = UUID.randomUUID();\n            String unqueFileName = uuid + &quot;-&quot; + fileName;\n\n            DynamoDBService dbService = new DynamoDBService();\n            S3Service s3Service = new S3Service();\n            AnalyzePhotos analyzePhotos = new AnalyzePhotos();\n            UploadEndpoint endpoint = new UploadEndpoint(analyzePhotos, dbService, s3Service);\n            endpoint.upload(bytes, fileName);\n            return &quot;You have uploaded &quot;+fileName;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return &quot;File was not uploaded&quot;;\n    }\n</code></pre>\n<p>Notice that i am getting the byte[] of the upload file.</p>\n<p>The endpoint.upload() is here:</p>\n<pre><code>public void upload(byte[] bytes, String name) {\n  // Put the file into the bucket.\n  s3Service.putObject(bytes, PhotoApplicationResources.STORAGE_BUCKET, name);\n  this.tagAfterUpload(name);\n}\n</code></pre>\n<p>The <strong>s3Service.putObject()</strong> is here:</p>\n<pre><code>  // Places an image into a S3 bucket.\n    public void putObject(byte[] data, String bucketName, String objectKey) {\n        S3Client s3 = getClient();\n        try {\n            s3.putObject(PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey)\n                    .build(),\n                RequestBody.fromBytes(data));\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n<p>The getClient() is</p>\n<pre><code>private S3Client getClient() {\n        return S3Client.builder()\n            .region(PhotoApplicationResources.REGION)\n            .build();\n    }\n</code></pre>\n<p>Now all of this works and can be invoked from Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Hz4m9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hz4m9.png\" alt=\"enter image description here\" /></a></p>\n<p>Looks like you have Spring Security Dependencies in your POM file (based on your screenshot of a forced login). You should remove them and see if your controller gets the file when setting a break point. You should see:</p>\n<p><a href=\"https://i.stack.imgur.com/SSl4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSl4o.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28077680,"reputation":13,"user_id":21449273,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75803820,"answer_count":1,"score":1,"last_activity_date":1679416677,"creation_date":1679415099,"question_id":75803684,"body_markdown":"I m working on a spring boot application and connecting it with Amazon S3 bucket. It is a simple application for uploading videos on aws.\r\n\r\n\r\nVideoService Class\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class VideoService {\r\n    \r\n        private final S3Service s3Service;\r\n        private final VideoRepository videoRepository;\r\n    \r\n    \r\n        public void uploadFile(MultipartFile file)\r\n        {\r\n            String videoURL = s3Service.uploadFile(file);\r\n    \r\n            var video = new Video();\r\n            video.setVideoUrl(videoURL);\r\n    \r\n            videoRepository.save(video);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\nService Class\r\n\r\n```\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class S3Service implements FileService{\r\n\r\n    public static final String BUCKET_NAME = &quot;****&quot;;\r\n\r\n    private final AmazonS3Client amazonS3Client;\r\n\r\n\r\n\r\n    @Override\r\n    public String uploadFile(MultipartFile file) {\r\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n\r\n        var key = UUID.randomUUID().toString() + &quot;.&quot; + filenameExtension;\r\n\r\n        var metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.getSize());\r\n        metadata.setContentType(file.getContentType());\r\n\r\n        try {\r\n            amazonS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\r\n        } catch (IOException ioException) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                    &quot;An Exception occured while uploading the file&quot;);\r\n        }\r\n\r\n        amazonS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\r\n\r\n        return amazonS3Client.getResourceUrl(BUCKET_NAME, key);\r\n    }\r\n}\r\n```\r\n\r\nController class:\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/videos&quot;)\r\n@RequiredArgsConstructor\r\npublic class VideoController {\r\n\r\n\r\n    private final VideoService videoService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void uploadVideo(@RequestParam(&quot;file&quot;)MultipartFile file)\r\n    {\r\n        videoService.uploadFile(file);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI already created s3 bucket and access key on aws\r\n\r\n\r\nThe access key and secrey key are stored in VM options:\r\n-Dcloud.aws.credentials.access-key=**** -Dcloud.aws.credentials.secret-key=*****\r\n\r\nthis is what I get in Postman:\r\n[Postman](https://i.stack.imgur.com/eRvxR.png)\r\n\r\nthis is shown in browser: \r\n[Browser localhost](https://i.stack.imgur.com/2mLnr.png)\r\n\r\n\r\nDid I miss something?\r\n\r\n\r\n\r\nI was following a tutorial and checked every single code with the completed repo and everything was the same. Instead of giving me 200 status it is giving me 401 status.","title":"Spring Boot AWS credentials Unauthorized","body":"<p>I m working on a spring boot application and connecting it with Amazon S3 bucket. It is a simple application for uploading videos on aws.</p>\n<p>VideoService Class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class VideoService {\n\n    private final S3Service s3Service;\n    private final VideoRepository videoRepository;\n\n\n    public void uploadFile(MultipartFile file)\n    {\n        String videoURL = s3Service.uploadFile(file);\n\n        var video = new Video();\n        video.setVideoUrl(videoURL);\n\n        videoRepository.save(video);\n\n    }\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService{\n\n    public static final String BUCKET_NAME = &quot;****&quot;;\n\n    private final AmazonS3Client amazonS3Client;\n\n\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n\n        var key = UUID.randomUUID().toString() + &quot;.&quot; + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n\n        try {\n            amazonS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\n        } catch (IOException ioException) {\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An Exception occured while uploading the file&quot;);\n        }\n\n        amazonS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\n\n        return amazonS3Client.getResourceUrl(BUCKET_NAME, key);\n    }\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/videos&quot;)\n@RequiredArgsConstructor\npublic class VideoController {\n\n\n    private final VideoService videoService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void uploadVideo(@RequestParam(&quot;file&quot;)MultipartFile file)\n    {\n        videoService.uploadFile(file);\n    }\n}\n</code></pre>\n<p>I already created s3 bucket and access key on aws</p>\n<p>The access key and secrey key are stored in VM options:\n-Dcloud.aws.credentials.access-key=**** -Dcloud.aws.credentials.secret-key=*****</p>\n<p>this is what I get in Postman:\n<a href=\"https://i.stack.imgur.com/eRvxR.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n<p>this is shown in browser:\n<a href=\"https://i.stack.imgur.com/2mLnr.png\" rel=\"nofollow noreferrer\">Browser localhost</a></p>\n<p>Did I miss something?</p>\n<p>I was following a tutorial and checked every single code with the completed repo and everything was the same. Instead of giving me 200 status it is giving me 401 status.</p>\n"},{"tags":["java","spring-boot","jar"],"owner":{"account_id":17202794,"reputation":1,"user_id":12454060,"display_name":"Vitalijs V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679416258,"creation_date":1679415369,"question_id":75803732,"body_markdown":" **1. Problem:**\r\n\r\nI am having Spring Boot App.\r\nI use application.yml to setup datasource\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/erdeldb\r\n    username: root\r\n    password: root\r\n```\r\n\r\nI am able to run application from Intellij.\r\n\r\nI am building jar with shadowJar.\r\n\r\nWhen I run jar itself\r\n\r\n`java -jar supplier-service-0.0.1-all.jar`\r\n\r\nI am running into error:\r\n\r\n```\r\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n```\r\n\r\nbuild.gradle\r\n\r\n[dependencies](https://i.stack.imgur.com/sGc89.png)\r\n\r\n[dependencies](https://i.stack.imgur.com/J9Pvk.png)\r\n\r\n[jar](https://i.stack.imgur.com/0XEXG.png)\r\n\r\n **2. I have tried:**\r\n\r\nI have been adding `driver-class-name: com.mysql.cj.jdbc.Driver `to my yml file. \r\n\r\nNot working.\r\n\r\nI have been changing `application.yml` to `application.properties`. Not working.\r\n\r\nI have tried to run \r\n`java \r\n&quot;-Dspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erdeldb&quot; \r\n-jar \r\nsupplier-service-0.0.1-all.jar` \r\n\r\nand error changed to \r\n\r\n`org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set`\r\n\r\nDoes this suggest when I run from terminal my application.yml file is not being seen by SpringBoot? Do I need to setup SpringBoot to read application.yml when run outside of IDE?\r\n","title":"Running Spring Boot App from terminal - Failed to determine a suitable driver class","body":"<p><strong>1. Problem:</strong></p>\n<p>I am having Spring Boot App.\nI use application.yml to setup datasource</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/erdeldb\n    username: root\n    password: root\n</code></pre>\n<p>I am able to run application from Intellij.</p>\n<p>I am building jar with shadowJar.</p>\n<p>When I run jar itself</p>\n<p><code>java -jar supplier-service-0.0.1-all.jar</code></p>\n<p>I am running into error:</p>\n<pre><code>Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n</code></pre>\n<p>build.gradle</p>\n<p><a href=\"https://i.stack.imgur.com/sGc89.png\" rel=\"nofollow noreferrer\">dependencies</a></p>\n<p><a href=\"https://i.stack.imgur.com/J9Pvk.png\" rel=\"nofollow noreferrer\">dependencies</a></p>\n<p><a href=\"https://i.stack.imgur.com/0XEXG.png\" rel=\"nofollow noreferrer\">jar</a></p>\n<p><strong>2. I have tried:</strong></p>\n<p>I have been adding <code>driver-class-name: com.mysql.cj.jdbc.Driver </code>to my yml file.</p>\n<p>Not working.</p>\n<p>I have been changing <code>application.yml</code> to <code>application.properties</code>. Not working.</p>\n<p>I have tried to run\n<code>java  &quot;-Dspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erdeldb&quot;  -jar  supplier-service-0.0.1-all.jar</code></p>\n<p>and error changed to</p>\n<p><code>org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set</code></p>\n<p>Does this suggest when I run from terminal my application.yml file is not being seen by SpringBoot? Do I need to setup SpringBoot to read application.yml when run outside of IDE?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":379230,"reputation":9463,"user_id":732454,"accept_rate":73,"display_name":"stefan bachert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333975352,"creation_date":1333975352,"answer_id":10073344,"question_id":10073311,"body_markdown":"You can&#39;t include C/C++ headers into java source code.\r\n\r\nMaybe you want to define a native implementation for a java method. \r\n\r\nhttp://java.sun.com/docs/books/jni/","title":"How to include Header File (.h) in Java","body":"<p>You can't include C/C++ headers into java source code.</p>\n\n<p>Maybe you want to define a native implementation for a java method. </p>\n\n<p><a href=\"http://java.sun.com/docs/books/jni/\" rel=\"nofollow\">http://java.sun.com/docs/books/jni/</a></p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333975396,"creation_date":1333975396,"answer_id":10073358,"question_id":10073311,"body_markdown":"They seem to have a Java API, which you need to download and include in your classpath. You can&#39;t include a C header file in Java.","title":"How to include Header File (.h) in Java","body":"<p>They seem to have a Java API, which you need to download and include in your classpath. You can't include a C header file in Java.</p>\n"},{"tags":[],"owner":{"account_id":1385783,"reputation":1122,"user_id":1317883,"accept_rate":57,"display_name":"Kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333975461,"creation_date":1333975461,"answer_id":10073376,"question_id":10073311,"body_markdown":"you cannot do it directly in java. You have to include the header files in your C program and use JNI to call the functions that you want to use.\r\n\r\nRefer this : [JNI reference][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jni/html/jniTOC.html","title":"How to include Header File (.h) in Java","body":"<p>you cannot do it directly in java. You have to include the header files in your C program and use JNI to call the functions that you want to use.</p>\n\n<p>Refer this : <a href=\"http://java.sun.com/docs/books/jni/html/jniTOC.html\" rel=\"nofollow\">JNI reference</a></p>\n"},{"tags":[],"owner":{"account_id":903400,"reputation":1513,"user_id":938899,"accept_rate":75,"display_name":"Alexey Berezkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333975482,"creation_date":1333975482,"answer_id":10073383,"question_id":10073311,"body_markdown":"To run native code from Java, you need using JNI technology. Try http://java.sun.com/developer/onlineTraining/Programming/JDCBook/jni.html or http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/functions.html of google by keywords &quot;JNI, tutorial&quot;.","title":"How to include Header File (.h) in Java","body":"<p>To run native code from Java, you need using JNI technology. Try <a href=\"http://java.sun.com/developer/onlineTraining/Programming/JDCBook/jni.html\" rel=\"nofollow\">http://java.sun.com/developer/onlineTraining/Programming/JDCBook/jni.html</a> or <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/functions.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/functions.html</a> of google by keywords \"JNI, tutorial\".</p>\n"},{"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1333976536,"post_id":10073385,"comment_id":12895741,"body_markdown":"@Arpssss In this case you could extend the code for the missing methods by yourself or use Swig http://www.swig.org/ to create JNI-wrappers.","body":"@Arpssss In this case you could extend the code for the missing methods by yourself or use Swig <a href=\"http://www.swig.org/\" rel=\"nofollow noreferrer\">swig.org</a> to create JNI-wrappers."}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333975501,"creation_date":1333975501,"answer_id":10073385,"question_id":10073311,"body_markdown":"This might be more complicated than you think. The .h files are C language include files which usually  describe the methods and data structures of a C-library. You would have to Java Native Interface (JNI) in order to include these libraries in your java code. \r\n\r\nYou have basically two options\r\n\r\n- Go through a tutorial like [this](http://java.sun.com/developer/onlineTraining/Programming/JDCBook/jni.html) \r\n\r\n- Or look for a java implementation.\r\n\r\nThere&#39;re already [java-bindings](http://sourceforge.net/projects/tokyocabinet/files/tokyocabinet-java/) available.","title":"How to include Header File (.h) in Java","body":"<p>This might be more complicated than you think. The .h files are C language include files which usually  describe the methods and data structures of a C-library. You would have to Java Native Interface (JNI) in order to include these libraries in your java code. </p>\n\n<p>You have basically two options</p>\n\n<ul>\n<li><p>Go through a tutorial like <a href=\"http://java.sun.com/developer/onlineTraining/Programming/JDCBook/jni.html\" rel=\"nofollow\">this</a> </p></li>\n<li><p>Or look for a java implementation.</p></li>\n</ul>\n\n<p>There're already <a href=\"http://sourceforge.net/projects/tokyocabinet/files/tokyocabinet-java/\" rel=\"nofollow\">java-bindings</a> available.</p>\n"},{"tags":[],"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333975520,"creation_date":1333975520,"answer_id":10073388,"question_id":10073311,"body_markdown":"The page mentions that there is an API for Java available, but does not show it. You should ask them for the Java documentation. Preferrably, the API should be a JDBC driver.","title":"How to include Header File (.h) in Java","body":"<p>The page mentions that there is an API for Java available, but does not show it. You should ask them for the Java documentation. Preferrably, the API should be a JDBC driver.</p>\n"},{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1679763908,"post_id":75803876,"comment_id":133780754,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/34078924)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/34078924\">From Review</a>"}],"tags":[],"owner":{"account_id":28077976,"reputation":1,"user_id":21449527,"display_name":"user21449527"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679416149,"creation_date":1679416149,"answer_id":75803876,"question_id":10073311,"body_markdown":"you will be programming a basic game that features a playable character and some simple mechanics such as collision detection.  \r\n\r\n \r\n\r\nCanvas \r\n\r\nThe canvas should be a square that is 700 pixels in width and 700 pixels in height. \r\n\r\n \r\n\r\nCharacter design \r\n\r\nYou will need to come up with a design for your playable character. In the demo the playable character is a spider which is drawn using multiple lines and an ellipse. You are free to design your character however you like (or copy the spider design from the demo). For full marks your character must be a complex shape drawn using at least 3 simple shapes. You must also use at least 2 different types of simple shapes. For example, a character that is drawn using 2 rectangles and a line OR a character drawn using two triangles and a circle would both suffice. The character’s overall dimensions should be approx. 70 pixels in width and 70 pixels in height. \r\n\r\n \r\n\r\nMovement \r\n\r\nHave the character be controlled using the arrow keys in the following manner:  \r\n\r\n✰ The UP arrow key moves the character up 70 pixels.  \r\n\r\n✰ DOWN moves the character down 70 pixels.  \r\n\r\n✰ LEFT moves the character to the left 70 pixels.  \r\n\r\n✰ RIGHT moves the character to the right 70 pixels.  \r\n\r\nThe character should be centered on the point (35, 35) at the start of the program. This is to ensure that the character moves correctly. Please refer to the demo video to see what moving correctly looks like.  \r\n\r\nNote that you cannot use the WASD keys to move the character, the character MUST be controlled using the arrow keys. \r\n\r\n \r\n\r\nBoundaries \r\n\r\nThe character must be prevented from moving off the canvas. For half marks, prevent the character from being moved beyond a canvas boundary.  \r\n\r\nwhen the character is moved beyond a canvas boundary have the character appear against the opposite boundary. This is a recreation of the same boundary mechanic used in Pac-Man. Please see the demo video for a visual depiction of this feature. \r\n\r\n \r\n\r\nTrail \r\n\r\nThere needs to be some kind of trail extending vertically from the character’s position to the top of the canvas. In the demo there is a white line extending vertically from the spider to the top of the canvas to represent the web the spider is swinging from. You are free to change the theme of this trail, but it must behave in the same way. That is, it must extend vertically from the character to the top of the canvas AND it must move as the character moves. \r\n\r\n \r\n\r\nObstacles \r\n\r\nHave two obstacles present somewhere on the canvas. Their positions should be randomly generated. This means that each time the program is run the obstacles will appear in different positions. You are free to design the obstacles however you like, but it’s best to keep them rectangular.  \r\n\r\nThere must be some visual indication that the game is over when the character collides with an obstacle. In the demo, the canvas is cleared and the text “game over” is displayed. You are free to design your own game over screen. \r\n\r\n \r\n\r\n3. Constraints \r\n\r\n✘ You cannot use any extra processing libraries or plugins.  \r\n\r\n✘ You cannot define your own classes.  \r\n\r\n✘ The only built-in java classes you can use are PVector and PShape. Although, we recommend not using them.  \r\n\r\n✘ You cannot use multiple tabs or multiple files.  \r\n\r\n✘ You cannot use transformations such as rotate, translate, scale etc.  \r\n\r\n✘ You cannot use images.  \r\n\r\n✘ You cannot import fonts.  \r\n\r\n✔ You must submit a single .pde file named exactly COMP1000.pde (not COMP 1000.pde, not COMP1000 (1).pde, not yudip1.pde...). ","title":"How to include Header File (.h) in Java","body":"<p>you will be programming a basic game that features a playable character and some simple mechanics such as collision detection.</p>\n<p>Canvas</p>\n<p>The canvas should be a square that is 700 pixels in width and 700 pixels in height.</p>\n<p>Character design</p>\n<p>You will need to come up with a design for your playable character. In the demo the playable character is a spider which is drawn using multiple lines and an ellipse. You are free to design your character however you like (or copy the spider design from the demo). For full marks your character must be a complex shape drawn using at least 3 simple shapes. You must also use at least 2 different types of simple shapes. For example, a character that is drawn using 2 rectangles and a line OR a character drawn using two triangles and a circle would both suffice. The character’s overall dimensions should be approx. 70 pixels in width and 70 pixels in height.</p>\n<p>Movement</p>\n<p>Have the character be controlled using the arrow keys in the following manner:</p>\n<p>✰ The UP arrow key moves the character up 70 pixels.</p>\n<p>✰ DOWN moves the character down 70 pixels.</p>\n<p>✰ LEFT moves the character to the left 70 pixels.</p>\n<p>✰ RIGHT moves the character to the right 70 pixels.</p>\n<p>The character should be centered on the point (35, 35) at the start of the program. This is to ensure that the character moves correctly. Please refer to the demo video to see what moving correctly looks like.</p>\n<p>Note that you cannot use the WASD keys to move the character, the character MUST be controlled using the arrow keys.</p>\n<p>Boundaries</p>\n<p>The character must be prevented from moving off the canvas. For half marks, prevent the character from being moved beyond a canvas boundary.</p>\n<p>when the character is moved beyond a canvas boundary have the character appear against the opposite boundary. This is a recreation of the same boundary mechanic used in Pac-Man. Please see the demo video for a visual depiction of this feature.</p>\n<p>Trail</p>\n<p>There needs to be some kind of trail extending vertically from the character’s position to the top of the canvas. In the demo there is a white line extending vertically from the spider to the top of the canvas to represent the web the spider is swinging from. You are free to change the theme of this trail, but it must behave in the same way. That is, it must extend vertically from the character to the top of the canvas AND it must move as the character moves.</p>\n<p>Obstacles</p>\n<p>Have two obstacles present somewhere on the canvas. Their positions should be randomly generated. This means that each time the program is run the obstacles will appear in different positions. You are free to design the obstacles however you like, but it’s best to keep them rectangular.</p>\n<p>There must be some visual indication that the game is over when the character collides with an obstacle. In the demo, the canvas is cleared and the text “game over” is displayed. You are free to design your own game over screen.</p>\n<ol start=\"3\">\n<li>Constraints</li>\n</ol>\n<p>✘ You cannot use any extra processing libraries or plugins.</p>\n<p>✘ You cannot define your own classes.</p>\n<p>✘ The only built-in java classes you can use are PVector and PShape. Although, we recommend not using them.</p>\n<p>✘ You cannot use multiple tabs or multiple files.</p>\n<p>✘ You cannot use transformations such as rotate, translate, scale etc.</p>\n<p>✘ You cannot use images.</p>\n<p>✘ You cannot import fonts.</p>\n<p>✔ You must submit a single .pde file named exactly COMP1000.pde (not COMP 1000.pde, not COMP1000 (1).pde, not yudip1.pde...).</p>\n"}],"owner":{"account_id":758612,"reputation":3850,"user_id":772399,"accept_rate":96,"display_name":"Arpssss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10073385,"answer_count":7,"score":0,"last_activity_date":1679416149,"creation_date":1333975219,"question_id":10073311,"body_markdown":"I want to use [this][1] which says to use a particular method I have to include tcutil.h in my java code. Can anybody help me, how to do that ? Another point: we can easily create an header file and include it in to C code but why reverse is so hard (means lots of work have to do) ? May be stupid, but little bit hints will be helpful.\r\n\r\n\r\n  [1]: http://fallabs.com/tokyocabinet/spex-en.html#tcadbapi","title":"How to include Header File (.h) in Java","body":"<p>I want to use <a href=\"http://fallabs.com/tokyocabinet/spex-en.html#tcadbapi\" rel=\"nofollow\">this</a> which says to use a particular method I have to include tcutil.h in my java code. Can anybody help me, how to do that ? Another point: we can easily create an header file and include it in to C code but why reverse is so hard (means lots of work have to do) ? May be stupid, but little bit hints will be helpful.</p>\n"},{"tags":["java","reactjs","telegram"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1679378471,"post_id":75797520,"comment_id":133706506,"body_markdown":"java &amp; reactjs &amp; python ? man, where&#39;s your exact problem? Please exclude unnecessary tags.","body":"java &amp; reactjs &amp; python ? man, where&#39;s your exact problem? Please exclude unnecessary tags."},{"owner":{"account_id":28071235,"reputation":1,"user_id":21443787,"display_name":"Fogge"},"score":0,"creation_date":1679378682,"post_id":75797520,"comment_id":133706525,"body_markdown":"sorryy...Java &amp; reactjs","body":"sorryy...Java &amp; reactjs"}],"owner":{"account_id":28071235,"reputation":1,"user_id":21443787,"display_name":"Fogge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679415717,"creation_date":1679375632,"question_id":75797520,"body_markdown":"I&#39;m trying to send message to bot (from telegram webapp). That&#39;s successful, but I don&#39;t know how to get the message in bot.\r\n\r\nThis is my WebApp code. I want to know to get the &quot;WebApp message sent!&quot;\r\n```js\r\nonSubmitClick(e) {\r\n        const button = window.Telegram.WebApp.MainButton;\r\n        if (e === 0) {\r\n            button.text = &quot;submit&quot;;\r\n            button.onClick(this.send);\r\n        } else {\r\n            button.text = &quot;reject&quot;;\r\n        }\r\n        // button.text = &quot;test&quot;;\r\n        this.setState(() =&gt; ({\r\n            mainButton: button\r\n        }))\r\n        button.enable();\r\n        button.show();\r\n    }\r\n\r\n    send(){\r\n        alert(&quot;test oncilck!&quot;);\r\n        //i want get it ↓\r\n        window.Telegram.WebApp.sendData(&quot;WebApp message sent!&quot;);\r\n    }\r\n```\r\n\r\n\r\nHow can I get send() method&#39;s string.","title":"How can I recived data from Telegram WebApp keyboard button?","body":"<p>I'm trying to send message to bot (from telegram webapp). That's successful, but I don't know how to get the message in bot.</p>\n<p>This is my WebApp code. I want to know to get the &quot;WebApp message sent!&quot;</p>\n<pre class=\"lang-js prettyprint-override\"><code>onSubmitClick(e) {\n        const button = window.Telegram.WebApp.MainButton;\n        if (e === 0) {\n            button.text = &quot;submit&quot;;\n            button.onClick(this.send);\n        } else {\n            button.text = &quot;reject&quot;;\n        }\n        // button.text = &quot;test&quot;;\n        this.setState(() =&gt; ({\n            mainButton: button\n        }))\n        button.enable();\n        button.show();\n    }\n\n    send(){\n        alert(&quot;test oncilck!&quot;);\n        //i want get it ↓\n        window.Telegram.WebApp.sendData(&quot;WebApp message sent!&quot;);\n    }\n</code></pre>\n<p>How can I get send() method's string.</p>\n"},{"tags":["java","c++","exception"],"comments":[{"owner":{"account_id":5460139,"reputation":173036,"user_id":4342498,"accept_rate":50,"display_name":"NathanOliver"},"score":2,"creation_date":1679413392,"post_id":75803329,"comment_id":133715836,"body_markdown":"I don&#39;t know enough about Java to confirm but do note that in C++ the exception specification before C++11 used the same syntax, and might be why Java uses it.  You can read about how the old C++ way worked here: https://en.cppreference.com/w/cpp/language/except_spec","body":"I don&#39;t know enough about Java to confirm but do note that in C++ the exception specification before C++11 used the same syntax, and might be why Java uses it.  You can read about how the old C++ way worked here: <a href=\"https://en.cppreference.com/w/cpp/language/except_spec\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/except_spec</a>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1679413490,"post_id":75803329,"comment_id":133715866,"body_markdown":"I suppose you want first to learn about checked/unchecked https://www.baeldung.com/java-checked-unchecked-exceptions","body":"I suppose you want first to learn about checked/unchecked <a href=\"https://www.baeldung.com/java-checked-unchecked-exceptions\" rel=\"nofollow noreferrer\">baeldung.com/java-checked-unchecked-exceptions</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679413927,"post_id":75803329,"comment_id":133716010,"body_markdown":"@teapot418 isn&#39;t the first part only the case for checked Exceptions?","body":"@teapot418 isn&#39;t the first part only the case for checked Exceptions?"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679415551,"post_id":75803329,"comment_id":133716512,"body_markdown":"@IłyaBursov Yes, knowing the difference between both doesn&#39;t get any closer to answering the question. I knew about both before asking this.","body":"@IłyaBursov Yes, knowing the difference between both doesn&#39;t get any closer to answering the question. I knew about both before asking this."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1679416100,"post_id":75803329,"comment_id":133716694,"body_markdown":"@FreelanceConsultant you just cannot compile code which tries to throw checked exception not mentioned in throws, and answer posted also tells the same `If not, you will get a compilation error.`","body":"@FreelanceConsultant you just cannot compile code which tries to throw checked exception not mentioned in throws, and answer posted also tells the same <code>If not, you will get a compilation error.</code>"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679417636,"post_id":75803329,"comment_id":133717191,"body_markdown":"@IłyaBursov Ok that is the answer I was looking for. I didn&#39;t understand that part of the answer. Thanks","body":"@IłyaBursov Ok that is the answer I was looking for. I didn&#39;t understand that part of the answer. Thanks"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679554401,"post_id":75803329,"comment_id":133743086,"body_markdown":"Duplicate of  [Checked vs Unchecked exception](https://stackoverflow.com/questions/4639432/checked-vs-unchecked-exception)","body":"Duplicate of  <a href=\"https://stackoverflow.com/questions/4639432/checked-vs-unchecked-exception\">Checked vs Unchecked exception</a>"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679564105,"post_id":75803329,"comment_id":133745201,"body_markdown":"@MarkRotteveel No it isn&#39;t","body":"@MarkRotteveel No it isn&#39;t"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679564595,"post_id":75803329,"comment_id":133745333,"body_markdown":"I think it does, because it explains what checked exceptions are, why you must use `throws` with checked exceptions, and that you get a compilation error otherwise if a checked exception can be thrown by code.","body":"I think it does, because it explains what checked exceptions are, why you must use <code>throws</code> with checked exceptions, and that you get a compilation error otherwise if a checked exception can be thrown by code."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679564904,"post_id":75803329,"comment_id":133745430,"body_markdown":"@MarkRotteveel I knew the difference between checked and unchecked exceptions prior to asking this question, so that would make it somewhat pointless to have asked the question if it was indeed a duplicate.","body":"@MarkRotteveel I knew the difference between checked and unchecked exceptions prior to asking this question, so that would make it somewhat pointless to have asked the question if it was indeed a duplicate."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679564958,"post_id":75803329,"comment_id":133745444,"body_markdown":"@MarkRotteveel I did not ask &quot;what is an unchecked or checked exception&quot; I asked what happens if you try to throw one or the other from a function which doesn&#39;t declare them with `throws`. It&#39;s a totally different question, even if they are about the same subject matter.","body":"@MarkRotteveel I did not ask &quot;what is an unchecked or checked exception&quot; I asked what happens if you try to throw one or the other from a function which doesn&#39;t declare them with <code>throws</code>. It&#39;s a totally different question, even if they are about the same subject matter."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679565104,"post_id":75803329,"comment_id":133745492,"body_markdown":"From the [topvoted answer](https://stackoverflow.com/a/4639560/466862): _&quot;Compiler will never force you to catch such exception or force you to declare it in the method using `throws` keyword.&quot;_.","body":"From the <a href=\"https://stackoverflow.com/a/4639560/466862\">topvoted answer</a>: <i>&quot;Compiler will never force you to catch such exception or force you to declare it in the method using <code>throws</code> keyword.&quot;</i>."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679684401,"post_id":75803329,"comment_id":133771356,"body_markdown":"@MarkRotteveel Of what relevance is that","body":"@MarkRotteveel Of what relevance is that"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679736955,"post_id":75803329,"comment_id":133777024,"body_markdown":"You say you asked _&quot;[..] what happens if you try to throw one or the other from a function which doesn&#39;t declare them with throws.&quot;_ And the answer is that for unchecked exceptions the compiler doesn&#39;t force you to catch or declare `throws`, and for checked exception (for which I neglected to include a relevant quote from the duplicate in my previous comment), the compiler will force you to add `throws` or catch them. In other words, the duplicate does answer your question.","body":"You say you asked <i>&quot;[..] what happens if you try to throw one or the other from a function which doesn&#39;t declare them with throws.&quot;</i> And the answer is that for unchecked exceptions the compiler doesn&#39;t force you to catch or declare <code>throws</code>, and for checked exception (for which I neglected to include a relevant quote from the duplicate in my previous comment), the compiler will force you to add <code>throws</code> or catch them. In other words, the duplicate does answer your question."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679769698,"post_id":75803329,"comment_id":133781582,"body_markdown":"@MarkRotteveel Again, of what relevance is that? Two questions may be different but have similar, or even the same, answer","body":"@MarkRotteveel Again, of what relevance is that? Two questions may be different but have similar, or even the same, answer"}],"answers":[{"comments":[{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679415029,"post_id":75803411,"comment_id":133716354,"body_markdown":"Yes that&#39;s what I meant. It was intended to be pseduocode, but I will edit it to make it clearer. I didn&#39;t know the exact syntax.","body":"Yes that&#39;s what I meant. It was intended to be pseduocode, but I will edit it to make it clearer. I didn&#39;t know the exact syntax."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679415484,"post_id":75803411,"comment_id":133716491,"body_markdown":"Btw this doesn&#39;t answer the question - at all. Is it possible to throw a checked exception which isn&#39;t declared with `throws`, or not? Is this a runtime error? A compile time error?","body":"Btw this doesn&#39;t answer the question - at all. Is it possible to throw a checked exception which isn&#39;t declared with <code>throws</code>, or not? Is this a runtime error? A compile time error?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1679416450,"post_id":75803411,"comment_id":133716820,"body_markdown":"@FreelanceConsultant what keeps you from trying yourself? Just write an empty method where all you do is `throw new IOException();`, for example. Then you&#39;ll see that this is a compiler error.","body":"@FreelanceConsultant what keeps you from trying yourself? Just write an empty method where all you do is <code>throw new IOException();</code>, for example. Then you&#39;ll see that this is a compiler error."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679417534,"post_id":75803411,"comment_id":133717153,"body_markdown":"@QBrute I don&#39;t have a JVM at work! Otherwise yes I would try it, but that might not necessarily give a clear understanding. The alternative might be to buy a textbook - but I also don&#39;t have one of those to hand (or even own one)","body":"@QBrute I don&#39;t have a JVM at work! Otherwise yes I would try it, but that might not necessarily give a clear understanding. The alternative might be to buy a textbook - but I also don&#39;t have one of those to hand (or even own one)"}],"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679413564,"creation_date":1679413564,"answer_id":75803411,"question_id":75803329,"body_markdown":"In Java there are two types of exceptions - checked and unchecked. Checked exceptions are all the subclasses of `Exception` except those which are subclasses of `RuntimeException`.\r\n\r\nWhich means exceptions which are descendants of `RuntimeException` are unchecked exceptions.\r\n\r\nThe throws clause declares which checked exceptions the method is allowed to throw. It can throw any unchecked exception, but only checked exceptions which are declared in its throws clause (or their subclasses).\r\n\r\nIt has nothing to do with `noexcept`.\r\n\r\nSyntactically what you wrote is not correct, because you are supposed to write `throw new SomeDifferentExceptionType()` - you can&#39;t throw a class. But assuming that&#39;s what you meant, if `SomeDifferentExceptionType` is unchecked, it will also work well. If not, you will get a compilation error.","title":"Is Java &quot;throws&quot; like an inverse of C++ &quot;noexcept&quot;?","body":"<p>In Java there are two types of exceptions - checked and unchecked. Checked exceptions are all the subclasses of <code>Exception</code> except those which are subclasses of <code>RuntimeException</code>.</p>\n<p>Which means exceptions which are descendants of <code>RuntimeException</code> are unchecked exceptions.</p>\n<p>The throws clause declares which checked exceptions the method is allowed to throw. It can throw any unchecked exception, but only checked exceptions which are declared in its throws clause (or their subclasses).</p>\n<p>It has nothing to do with <code>noexcept</code>.</p>\n<p>Syntactically what you wrote is not correct, because you are supposed to write <code>throw new SomeDifferentExceptionType()</code> - you can't throw a class. But assuming that's what you meant, if <code>SomeDifferentExceptionType</code> is unchecked, it will also work well. If not, you will get a compilation error.</p>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":15,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"closed_date":1679467140,"answer_count":1,"score":-5,"last_activity_date":1679415629,"creation_date":1679413132,"question_id":75803329,"body_markdown":"I don&#39;t fully understand what the `throws` keyword in Java is for.\r\n\r\nIn particular, I can&#39;t seem to find clear information about what happens if I were to throw an exception type `T` from a Java function which declares that only exceptions of type `Y` can be thrown.\r\n\r\nFor example, something like this:\r\n```java\r\nvoid testFunction () throws SomeExceptionType {\r\n    throw new SomeDifferentExceptionType();\r\n}\r\n```\r\nIn this case I have attempted to illustrate that the expected exception type does not match the exception type which is actually thrown. Is this syntactically legal Java? If so, what happens at runtime?\r\n\r\n----\r\n\r\nI come from a C++ background, and in C++ we have the concept of `noexcept`. This keyword is used to mark functions as `noexcept` which means that they are not permitted to throw an exception. If a function marked `noexcept` *does* throw an exception, then `std::terminate` is immediately called, which borks program execution.\r\n\r\n`std::terminate` is effectively like a &quot;goto&quot; statement in that it takes you to the end of program execution, quitting the program runtime. It may also do some stack clean-up for RAII, [this is actually implementation defined][1], apparently.\r\n\r\nSo, is Java&#39;s `throws` statement equivalent to C++ `noexcept`, but inverted?\r\n\r\n\r\n  [1]: https://en.cppreference.com/w/cpp/error/terminate\r\n\r\n----\r\n\r\nAlthough there are lots of questions here which ask how to use `throws`, I haven&#39;t been able to find a clear answer to this specific question about what happens if you throw something different to the exception type specified with `throws`.\r\n\r\n----\r\n\r\nEdit: I understand that this is only really relevant to the concept of checked exception types, because unchecked exception types &quot;do not interact with&quot; the `throws` keyword. Knowing this doesn&#39;t however provide an answer to the question being asked.","title":"Is Java &quot;throws&quot; like an inverse of C++ &quot;noexcept&quot;?","body":"<p>I don't fully understand what the <code>throws</code> keyword in Java is for.</p>\n<p>In particular, I can't seem to find clear information about what happens if I were to throw an exception type <code>T</code> from a Java function which declares that only exceptions of type <code>Y</code> can be thrown.</p>\n<p>For example, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void testFunction () throws SomeExceptionType {\n    throw new SomeDifferentExceptionType();\n}\n</code></pre>\n<p>In this case I have attempted to illustrate that the expected exception type does not match the exception type which is actually thrown. Is this syntactically legal Java? If so, what happens at runtime?</p>\n<hr />\n<p>I come from a C++ background, and in C++ we have the concept of <code>noexcept</code>. This keyword is used to mark functions as <code>noexcept</code> which means that they are not permitted to throw an exception. If a function marked <code>noexcept</code> <em>does</em> throw an exception, then <code>std::terminate</code> is immediately called, which borks program execution.</p>\n<p><code>std::terminate</code> is effectively like a &quot;goto&quot; statement in that it takes you to the end of program execution, quitting the program runtime. It may also do some stack clean-up for RAII, <a href=\"https://en.cppreference.com/w/cpp/error/terminate\" rel=\"nofollow noreferrer\">this is actually implementation defined</a>, apparently.</p>\n<p>So, is Java's <code>throws</code> statement equivalent to C++ <code>noexcept</code>, but inverted?</p>\n<hr />\n<p>Although there are lots of questions here which ask how to use <code>throws</code>, I haven't been able to find a clear answer to this specific question about what happens if you throw something different to the exception type specified with <code>throws</code>.</p>\n<hr />\n<p>Edit: I understand that this is only really relevant to the concept of checked exception types, because unchecked exception types &quot;do not interact with&quot; the <code>throws</code> keyword. Knowing this doesn't however provide an answer to the question being asked.</p>\n"},{"tags":["java","for-loop","multidimensional-array"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1679416363,"post_id":75803772,"comment_id":133716789,"body_markdown":"I looked at your code and honestly have  really hard time figuring out what you where even trying to do in that loop. If you want to check if if 4 consecutive elements in an array are 1 to 4 i would have expected code similar to something like `if(array[i] == 1 &amp;&amp; array[i+1] == 2 &amp;&amp; array[i+2] == 3 &amp;&amp; array[i+3] == 4)` inside the loop, but whatever it is you are trying to do really looks needlessly complicated.","body":"I looked at your code and honestly have  really hard time figuring out what you where even trying to do in that loop. If you want to check if if 4 consecutive elements in an array are 1 to 4 i would have expected code similar to something like <code>if(array[i] == 1 &amp;&amp; array[i+1] == 2 &amp;&amp; array[i+2] == 3 &amp;&amp; array[i+3] == 4)</code> inside the loop, but whatever it is you are trying to do really looks needlessly complicated."}],"owner":{"account_id":26841308,"reputation":13,"user_id":20427784,"display_name":"Rohith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679415547,"creation_date":1679415547,"question_id":75803772,"body_markdown":"For a project, I am trying to check a 2d array row by column to check if the row has the pattern 1,2,3,4 in a consecutive order. If the row did, then the method would return the first occurence of the consecutive element, in a string format.   \r\n\r\nThe 2d array was randomly populated with integers in range(1-4). I also set four elements to 1,2,3,4 to ensure that no matter how many times I run it, the pattern is always there. \r\n\r\nHowever, countless attempts to check the consecutive numbers unfortunately ended up failing. One of them involved using an if statement to check every element with a variable called checkTarget, which starts at 1 and if the element equals 1, the variable is incremented and the process is repeated until it hits 4. If all four of the checkTarget values match with the row elements in a consecutive order, then the string foundAt is concatenated with the position at [r][c-3] which returns the first occurence of the consecutive pattern. However that didn&#39;t work either.\r\n\r\nHere&#39;s one of my attempts that failed:\r\n\r\n```\r\n\r\n   private int[][] grid;\r\n  // constructor to populate the 2d array with random numbers between 1-4\r\n   // below is the method im trying to fix\r\n   public String findConsecInts() \r\n   { \r\n\t   int numConsec = 0;\r\n\t   String foundAt = &quot;&quot;;\r\n\t   int checkTarget = 1;\r\n\t   int cont = 0; // variable that continues if \r\n\t   \r\n\t   for(int r = 0; r &lt; grid.length; r++ ) {\r\n\t\t\t  for(int c = grid[0].length-1; c &gt;= 1; c--) {\r\n\t\t\t\t  if(grid[r][c+1] == grid[r][c] + 1 &amp;&amp;grid[r][c]==checkTarget) {\r\n\t\t\t\tif(grid[r][c]==checkTarget) {\r\n\t\t\t\t\tcont++; // \r\n\t\t\t\t\tcheckTarget++;\r\n\t\t\t\t}\r\n\t\t\t\tif(cont==1&amp;&amp;checkTarget==2&amp;&amp;grid[r][c-cont]==checkTarget) {\r\n\t\t\t\t\tcont++;\r\n\t\t\t\t\tcheckTarget++;\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcheckTarget = 1;\r\n\t\t\t\t\tcont=0;\r\n\t\t\t\t}\r\n\t\t\t\tif(cont==2&amp;&amp;checkTarget==3&amp;&amp;grid[r][c-cont]==checkTarget) {\r\n\t\t\t\t\tcont++;\r\n\t\t\t\t\tcheckTarget++;\r\n\t\t\t\t}\r\n\t\t\t\tif(cont==3&amp;&amp;checkTarget==4&amp;&amp;grid[r][c-cont]==checkTarget) {\r\n\t\t\t\t\tfoundAt = &quot;[&quot; + r + &quot;]&quot; + &quot;[&quot; + (c-3) + &quot;]&quot;;\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t   }\t cont = 0;\r\n\t\t\t  checkTarget = 1;\r\n\t\t\t  \r\n\t\t\t  \r\n\t   \r\n\t//1. traverse grid\r\n\t//2. find the pattern 1, 2, 3, 4 anywhere on the grid and\r\n\t//   return a String of the row and col in [r][c] format of \r\n\t//   where the pattern starts (where the element 1 is located)\r\n\treturn foundAt;  \r\n   }\r\n\r\n```\r\n \r\n\r\nI kept running this multiple times, even by setting the pattern to guarantee that it exists in the grid.\r\n\r\n```\r\n\r\n\r\n       grid[3][3]= 1;\r\n\r\n       grid[3][4]= 2;\r\n\r\n       grid[3][5]= 3;\r\n\r\n       grid[3][6]= 4;\r\n```\r\n\r\n\r\nAll I got was nothing. It didn&#39;t return the position [3][3] when I tried to run the method.","title":"How can I check the row of a 2d array to see if it has the pattern 1,2,3,4?","body":"<p>For a project, I am trying to check a 2d array row by column to check if the row has the pattern 1,2,3,4 in a consecutive order. If the row did, then the method would return the first occurence of the consecutive element, in a string format.</p>\n<p>The 2d array was randomly populated with integers in range(1-4). I also set four elements to 1,2,3,4 to ensure that no matter how many times I run it, the pattern is always there.</p>\n<p>However, countless attempts to check the consecutive numbers unfortunately ended up failing. One of them involved using an if statement to check every element with a variable called checkTarget, which starts at 1 and if the element equals 1, the variable is incremented and the process is repeated until it hits 4. If all four of the checkTarget values match with the row elements in a consecutive order, then the string foundAt is concatenated with the position at [r][c-3] which returns the first occurence of the consecutive pattern. However that didn't work either.</p>\n<p>Here's one of my attempts that failed:</p>\n<pre><code>\n   private int[][] grid;\n  // constructor to populate the 2d array with random numbers between 1-4\n   // below is the method im trying to fix\n   public String findConsecInts() \n   { \n       int numConsec = 0;\n       String foundAt = &quot;&quot;;\n       int checkTarget = 1;\n       int cont = 0; // variable that continues if \n       \n       for(int r = 0; r &lt; grid.length; r++ ) {\n              for(int c = grid[0].length-1; c &gt;= 1; c--) {\n                  if(grid[r][c+1] == grid[r][c] + 1 &amp;&amp;grid[r][c]==checkTarget) {\n                if(grid[r][c]==checkTarget) {\n                    cont++; // \n                    checkTarget++;\n                }\n                if(cont==1&amp;&amp;checkTarget==2&amp;&amp;grid[r][c-cont]==checkTarget) {\n                    cont++;\n                    checkTarget++;\n                    \n                } else {\n                    checkTarget = 1;\n                    cont=0;\n                }\n                if(cont==2&amp;&amp;checkTarget==3&amp;&amp;grid[r][c-cont]==checkTarget) {\n                    cont++;\n                    checkTarget++;\n                }\n                if(cont==3&amp;&amp;checkTarget==4&amp;&amp;grid[r][c-cont]==checkTarget) {\n                    foundAt = &quot;[&quot; + r + &quot;]&quot; + &quot;[&quot; + (c-3) + &quot;]&quot;;\n                }\n                }\n       }     cont = 0;\n              checkTarget = 1;\n              \n              \n       \n    //1. traverse grid\n    //2. find the pattern 1, 2, 3, 4 anywhere on the grid and\n    //   return a String of the row and col in [r][c] format of \n    //   where the pattern starts (where the element 1 is located)\n    return foundAt;  \n   }\n\n</code></pre>\n<p>I kept running this multiple times, even by setting the pattern to guarantee that it exists in the grid.</p>\n<pre><code>\n\n       grid[3][3]= 1;\n\n       grid[3][4]= 2;\n\n       grid[3][5]= 3;\n\n       grid[3][6]= 4;\n</code></pre>\n<p>All I got was nothing. It didn't return the position [3][3] when I tried to run the method.</p>\n"},{"tags":["java","string","console","formatter"],"comments":[{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":2,"creation_date":1349762178,"post_id":12793593,"comment_id":17297595,"body_markdown":"@khachik: can you please describe how `String.format(%4s&quot;, ...)` works? and what is the second argument in `format()`?","body":"@khachik: can you please describe how <code>String.format(%4s&quot;, ...)</code> works? and what is the second argument in <code>format()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1349762483,"post_id":12793649,"comment_id":17297690,"body_markdown":"Thanx. It works. Can you please describe in your answer how do `%5s` works in `format()`?","body":"Thanx. It works. Can you please describe in your answer how do <code>%5s</code> works in <code>format()</code>?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1349762525,"post_id":12793649,"comment_id":17297703,"body_markdown":"@MohammadFaisal.. You can use `%5d` since you are printing integer.. I&#39;ll explain in the post..","body":"@MohammadFaisal.. You can use <code>%5d</code> since you are printing integer.. I&#39;ll explain in the post.."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1349762653,"post_id":12793649,"comment_id":17297740,"body_markdown":"@MohammadFaisal : check [javadoc](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String, java.lang.Object...) )  which gives link to [details](http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#detail)","body":"@MohammadFaisal : check [javadoc](<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>, java.lang.Object...) )  which gives link to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#detail\" rel=\"nofollow noreferrer\">details</a>"},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1349762730,"post_id":12793649,"comment_id":17297767,"body_markdown":"@RohitJain: do it needs `%4s` or `%5s` for the above output?","body":"@RohitJain: do it needs <code>%4s</code> or <code>%5s</code> for the above output?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1349762823,"post_id":12793649,"comment_id":17297801,"body_markdown":"@MohammadFaisal.. You can give any value that can accomodate your width.. See my explanation.. If you use `%4s` for 12345, it will not get accomodated in width `4`..","body":"@MohammadFaisal.. You can give any value that can accomodate your width.. See my explanation.. If you use <code>%4s</code> for 12345, it will not get accomodated in width <code>4</code>.."},{"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"score":0,"creation_date":1549531474,"post_id":12793649,"comment_id":95937852,"body_markdown":"how can i aligh the value to center or right of screen.","body":"how can i aligh the value to center or right of screen."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":6,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1349762707,"creation_date":1349762268,"answer_id":12793649,"question_id":12793593,"body_markdown":"You can use `format()` to format your output according to your need..\r\n\r\n        for(int i=1; i&lt;13; i++){\r\n            for(int j=1; j&lt;13; j++){\r\n                \r\n               System.out.format(&quot;%5d&quot;, i * j);\r\n            }\r\n            System.out.println();  // To move to the next line.\r\n        }\r\n\r\nOr, you can also use: - \r\n\r\n    System.out.print(String.format(&quot;%5d&quot;, i * j));\r\n\r\nin place of `System.out.format`..\r\n\r\nHere&#39;s is the explanation of **how `%5d` works**: - \r\n\r\n - First, since we are printing integer, we should use `%d` which is format specifier for integers..\r\n - `5` in `%5d` means the total width your output will take.. So, if your value is 5, it will be printed to cover 5 spaces like this: - `****5`\r\n - `%5d` is used to **align right**.. For **aligning left**, you can use `%-5d`. For a value `5`, this will print your output as: -      `5****`","title":"How to align String on console output","body":"<p>You can use <code>format()</code> to format your output according to your need..</p>\n\n<pre><code>    for(int i=1; i&lt;13; i++){\n        for(int j=1; j&lt;13; j++){\n\n           System.out.format(\"%5d\", i * j);\n        }\n        System.out.println();  // To move to the next line.\n    }\n</code></pre>\n\n<p>Or, you can also use: - </p>\n\n<pre><code>System.out.print(String.format(\"%5d\", i * j));\n</code></pre>\n\n<p>in place of <code>System.out.format</code>..</p>\n\n<p>Here's is the explanation of <strong>how <code>%5d</code> works</strong>: - </p>\n\n<ul>\n<li>First, since we are printing integer, we should use <code>%d</code> which is format specifier for integers..</li>\n<li><code>5</code> in <code>%5d</code> means the total width your output will take.. So, if your value is 5, it will be printed to cover 5 spaces like this: - <code>****5</code></li>\n<li><code>%5d</code> is used to <strong>align right</strong>.. For <strong>aligning left</strong>, you can use <code>%-5d</code>. For a value <code>5</code>, this will print your output as: -      <code>5****</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"score":0,"creation_date":1437092398,"post_id":31461847,"comment_id":50899279,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient [reputation](http://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](http://stackoverflow.com/help/privileges/comment).","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>."},{"owner":{"account_id":6093382,"reputation":117,"user_id":4754977,"accept_rate":100,"display_name":"Sunil Bhagwat"},"score":0,"creation_date":1437103112,"post_id":31461847,"comment_id":50901701,"body_markdown":"Since I am unable to answer my question where I have ask my question because of block to ask question and answer I am quoting my answer and this was a different kind of array format I feel.","body":"Since I am unable to answer my question where I have ask my question because of block to ask question and answer I am quoting my answer and this was a different kind of array format I feel."}],"tags":[],"owner":{"account_id":6093382,"reputation":117,"user_id":4754977,"accept_rate":100,"display_name":"Sunil Bhagwat"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437071265,"creation_date":1437071265,"answer_id":31461847,"question_id":12793593,"body_markdown":"In my example the array contains character string&#39;s with different length and due to that I was unable to arrange string and other strings of different arrays were mis-match on console. with a different concept I could arrange those\r\narrays on console my codes are as below.\r\n\r\n    package arrayformat;\r\n\r\n     /**\r\n     *\r\n     * @author Sunil\r\n     */\r\n     public class ArrayFormat {\r\n\r\n    \r\n   \r\n      /**\r\n      * @param args the command line arguments\r\n      */\r\n\r\n      public static void main(String[] args) {\r\n        \r\n      int[] productId = new int[]  \r\n     {1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,};\r\n       String[] productName= new String[]{&quot;Pepsi&quot;,&quot;kissan jam&quot;,&quot;Herbal \r\n     oil&quot;,&quot;Garnier man&#39;s&quot;,&quot;Lays chips&quot;,&quot;biscuits&quot;,&quot;Bournvita&quot;,&quot;Cadbury&quot;,&quot;Parker \r\n     Vector&quot;,&quot;Nescafe&quot;,};\r\n       String[] productType = new String[]{&quot;Cold Drink&quot;,&quot;Jam&quot;,&quot;Oil&quot;,&quot;Face \r\n     wash&quot;,&quot;chips&quot;,&quot;Biscuits&quot;,&quot;Health \r\n     Supplement&quot;,&quot;Chocolate&quot;,&quot;Stationary&quot;,&quot;Coffee&quot;,};\r\n        float[] productPrice = new float[]{24,65,30,79,10,20,140,20,150,80,}; \r\n         \r\n            \r\n           int productNameMaxlength=0;\r\n\t   int productTypeMaxlength=0;\r\n           \r\n\t   \r\n\r\n        for (String productName1 : productName) {\r\n            if (productNameMaxlength &lt; productName1.length()) {\r\n                productNameMaxlength = productName1.length();\r\n            }\r\n        }\r\n \r\n\r\n        for (String productType1 : productType) {\r\n            if (productTypeMaxlength &lt; productType1.length()) {\r\n                productTypeMaxlength = productType1.length();\r\n            }\r\n        }\r\n\r\n\t\r\n        \r\n\t   for(int i=0;i&lt;productType.length;i++)\r\n\r\n\t   { \r\n                  System.out.print(i);\r\n\r\n\t\t  System.out.print(&quot;\\t&quot;);\r\n               \r\n                  System.out.print(productId[i]);\r\n                  \r\n                  System.out.print(&quot;\\t&quot;);\r\n\t\t   \r\n                  System.out.print(productName[i]);\r\n\r\n\t\t   for(int j=0;j&lt;=productNameMaxlength-productName[i].length\r\n         ();j++)\r\n\r\n\t\t   {\r\n\r\n\t\t\tSystem.out.print(&quot; &quot;);\r\n\r\n\t\t   }\r\n\r\n\t\t   System.out.print(&quot;\\t&quot;);\r\n\r\n\t\t   System.out.print(productType[i]);\r\n\r\n\t\t   for(int j=0;j&lt;=productTypeMaxlength-productType[i].length\r\n        ();j++)\r\n\r\n\t\t   {\r\n\t\t\t   System.out.print(&quot; &quot;);\r\n\t\t   }\r\n                   \r\n                   System.out.print(&quot;\\t&quot;);\r\n\t\t  \r\n\t\t   System.out.println(productPrice[i]);\r\n              }           \r\n          }\r\n    \r\n        }\r\n       and output is--\r\n      Sr.No\t ID\t    NAME            TYPE\t\t       PRICE\r\n       0\t1001\tCadbury       \tChocolate         \t20.0\r\n       1\t1002\tParker Vector \tStationary        \t150.0\r\n       2\t1003\tNescafe       \tCoffee            \t80.0\r\n       3\t1004\tkissan jam    \tJam               \t65.0\r\n       4\t1005\tHerbal oil    \tOil               \t30.0\r\n       5\t1006\tGarnier man&#39;s \tFace wash         \t79.0\r\n       6\t1007\tLays chips    \tchips             \t10.0\r\n       7\t1008\tbiscuits      \tBiscuits          \t20.0\r\n       8\t1009\tBournvita     \tHealth Supplement \t140.0\r\n       9\t1010\tPepsi         \tCold Drink        \t24.0\r\n\r\nSince I am unable to answer my question where I have ask my question because of block to ask question and answer I am quoting my answer and this was a different kind of array format I feel. ","title":"How to align String on console output","body":"<p>In my example the array contains character string's with different length and due to that I was unable to arrange string and other strings of different arrays were mis-match on console. with a different concept I could arrange those\narrays on console my codes are as below.</p>\n\n<pre><code>package arrayformat;\n\n /**\n *\n * @author Sunil\n */\n public class ArrayFormat {\n\n\n\n  /**\n  * @param args the command line arguments\n  */\n\n  public static void main(String[] args) {\n\n  int[] productId = new int[]  \n {1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,};\n   String[] productName= new String[]{\"Pepsi\",\"kissan jam\",\"Herbal \n oil\",\"Garnier man's\",\"Lays chips\",\"biscuits\",\"Bournvita\",\"Cadbury\",\"Parker \n Vector\",\"Nescafe\",};\n   String[] productType = new String[]{\"Cold Drink\",\"Jam\",\"Oil\",\"Face \n wash\",\"chips\",\"Biscuits\",\"Health \n Supplement\",\"Chocolate\",\"Stationary\",\"Coffee\",};\n    float[] productPrice = new float[]{24,65,30,79,10,20,140,20,150,80,}; \n\n\n       int productNameMaxlength=0;\n   int productTypeMaxlength=0;\n\n\n\n    for (String productName1 : productName) {\n        if (productNameMaxlength &lt; productName1.length()) {\n            productNameMaxlength = productName1.length();\n        }\n    }\n\n\n    for (String productType1 : productType) {\n        if (productTypeMaxlength &lt; productType1.length()) {\n            productTypeMaxlength = productType1.length();\n        }\n    }\n\n\n\n   for(int i=0;i&lt;productType.length;i++)\n\n   { \n              System.out.print(i);\n\n      System.out.print(\"\\t\");\n\n              System.out.print(productId[i]);\n\n              System.out.print(\"\\t\");\n\n              System.out.print(productName[i]);\n\n       for(int j=0;j&lt;=productNameMaxlength-productName[i].length\n     ();j++)\n\n       {\n\n        System.out.print(\" \");\n\n       }\n\n       System.out.print(\"\\t\");\n\n       System.out.print(productType[i]);\n\n       for(int j=0;j&lt;=productTypeMaxlength-productType[i].length\n    ();j++)\n\n       {\n           System.out.print(\" \");\n       }\n\n               System.out.print(\"\\t\");\n\n       System.out.println(productPrice[i]);\n          }           \n      }\n\n    }\n   and output is--\n  Sr.No  ID     NAME            TYPE               PRICE\n   0    1001    Cadbury         Chocolate           20.0\n   1    1002    Parker Vector   Stationary          150.0\n   2    1003    Nescafe         Coffee              80.0\n   3    1004    kissan jam      Jam                 65.0\n   4    1005    Herbal oil      Oil                 30.0\n   5    1006    Garnier man's   Face wash           79.0\n   6    1007    Lays chips      chips               10.0\n   7    1008    biscuits        Biscuits            20.0\n   8    1009    Bournvita       Health Supplement   140.0\n   9    1010    Pepsi           Cold Drink          24.0\n</code></pre>\n\n<p>Since I am unable to answer my question where I have ask my question because of block to ask question and answer I am quoting my answer and this was a different kind of array format I feel. </p>\n"},{"tags":[],"owner":{"account_id":2835239,"reputation":1221,"user_id":2435969,"accept_rate":7,"display_name":"Prabhat Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470737265,"creation_date":1470737265,"answer_id":38847834,"question_id":12793593,"body_markdown":"Formatting of output can be  done using the System.out.format(&quot;&quot;,&quot;&quot;) method this method contain two  input parameter  first define the formatting style and second  define value to be print.  Let us assume you want to the  n digit value right align. you will pass the first parameter &quot;%4d&quot;.          \r\n\r\n**For the left align use -ve %-nd** \r\n\r\n**For right align use +ve %nd** \r\n\r\n     for(int i=1; i&lt;13; i++){\r\n           for(int j=1; j&lt;13; j++){\r\n                System.out.format(&quot;%4d&quot;, i * j);  //each number formatted to a width of 4 so use %4d in the format method.\r\n        }\r\n        System.out.println();  // To move to the next line.\r\n    }","title":"How to align String on console output","body":"<p>Formatting of output can be  done using the System.out.format(\"\",\"\") method this method contain two  input parameter  first define the formatting style and second  define value to be print.  Let us assume you want to the  n digit value right align. you will pass the first parameter \"%4d\".          </p>\n\n<p><strong>For the left align use -ve %-nd</strong> </p>\n\n<p><strong>For right align use +ve %nd</strong> </p>\n\n<pre><code> for(int i=1; i&lt;13; i++){\n       for(int j=1; j&lt;13; j++){\n            System.out.format(\"%4d\", i * j);  //each number formatted to a width of 4 so use %4d in the format method.\n    }\n    System.out.println();  // To move to the next line.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679415399,"creation_date":1679415399,"answer_id":75803740,"question_id":12793593,"body_markdown":"I made an OutputFormatter class which formats the Strings you give it:\r\n\r\n    OutputFormatter formatter = new OutputFormatter();\r\n    formatter.add(&quot;Asus&quot;, &quot;20000&quot;);\r\n    formatter.add(&quot;INTEL&quot;, &quot;45000&quot;);\r\n    formatter.add(&quot;Nvidia gtx 1050ti&quot;, &quot;17000&quot;);\r\n    formatter.add(&quot;Asus&quot;, &quot;18000&quot;);\r\n    formatter.add(&quot;Samsung&quot;, &quot;20000&quot;);\r\n    formatter.add(&quot;Coolermaster&quot;, &quot;20000&quot;);\r\n    formatter.add(&quot;Ortis&quot;, &quot;4000&quot;);\r\n    formatter.add(&quot;Asus&quot;, &quot;4000&quot;);\r\n    System.out.println(formatter.format());\r\n\r\nThe output looks like this:\r\n\r\n    Asus              20000\r\n    INTEL             45000\r\n    Nvidia gtx 1050ti 17000\r\n    Asus              18000\r\n    Samsung           20000\r\n    Coolermaster      20000\r\n    Ortis             4000 \r\n    Asus              4000 \r\n\r\nYou can give the `add()` method on the OutputFormatter as much Strings as you would like, it takes them all into account.\r\n\r\n\r\n----------\r\n\r\nThis is the OutputFormatter class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class OutputFormatter {\r\n        private List&lt;String[]&gt; contents;\r\n\r\n        public OutputFormatter() {\r\n            contents = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        public void add(String... fields) {\r\n            contents.add(fields);\r\n        }\r\n\r\n        public void clear() {\r\n            contents.clear();\r\n        }\r\n\r\n        public String format() {\r\n            StringBuilder ret = new StringBuilder();\r\n            List&lt;Integer&gt; lengths = new ArrayList&lt;&gt;();\r\n            int maxContentLen = 0;\r\n            for (String[] row : contents) {\r\n                maxContentLen = Math.max(maxContentLen, row.length);\r\n            }\r\n\r\n            for (int i = 0; i &lt; maxContentLen; i++) {\r\n                int len = 1;\r\n                for (String[] row : contents) {\r\n                    try {\r\n                        len = Math.max(len, row[i].length());\r\n                    } catch (IndexOutOfBoundsException ignore) {}\r\n                }\r\n                lengths.add(len);\r\n            }\r\n\r\n            for (String[] row : contents) {\r\n                for (int i = 0; i &lt; row.length; i++) {\r\n                    ret.append(row[i] + &quot; &quot;.repeat(lengths.get(i) - row[i].length() + 1));\r\n                }\r\n                ret.append(System.lineSeparator());\r\n            }\r\n\r\n            return ret.toString();\r\n        }\r\n    }","title":"How to align String on console output","body":"<p>I made an OutputFormatter class which formats the Strings you give it:</p>\n<pre><code>OutputFormatter formatter = new OutputFormatter();\nformatter.add(&quot;Asus&quot;, &quot;20000&quot;);\nformatter.add(&quot;INTEL&quot;, &quot;45000&quot;);\nformatter.add(&quot;Nvidia gtx 1050ti&quot;, &quot;17000&quot;);\nformatter.add(&quot;Asus&quot;, &quot;18000&quot;);\nformatter.add(&quot;Samsung&quot;, &quot;20000&quot;);\nformatter.add(&quot;Coolermaster&quot;, &quot;20000&quot;);\nformatter.add(&quot;Ortis&quot;, &quot;4000&quot;);\nformatter.add(&quot;Asus&quot;, &quot;4000&quot;);\nSystem.out.println(formatter.format());\n</code></pre>\n<p>The output looks like this:</p>\n<pre><code>Asus              20000\nINTEL             45000\nNvidia gtx 1050ti 17000\nAsus              18000\nSamsung           20000\nCoolermaster      20000\nOrtis             4000 \nAsus              4000 \n</code></pre>\n<p>You can give the <code>add()</code> method on the OutputFormatter as much Strings as you would like, it takes them all into account.</p>\n<hr />\n<p>This is the OutputFormatter class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class OutputFormatter {\n    private List&lt;String[]&gt; contents;\n\n    public OutputFormatter() {\n        contents = new ArrayList&lt;&gt;();\n    }\n\n    public void add(String... fields) {\n        contents.add(fields);\n    }\n\n    public void clear() {\n        contents.clear();\n    }\n\n    public String format() {\n        StringBuilder ret = new StringBuilder();\n        List&lt;Integer&gt; lengths = new ArrayList&lt;&gt;();\n        int maxContentLen = 0;\n        for (String[] row : contents) {\n            maxContentLen = Math.max(maxContentLen, row.length);\n        }\n\n        for (int i = 0; i &lt; maxContentLen; i++) {\n            int len = 1;\n            for (String[] row : contents) {\n                try {\n                    len = Math.max(len, row[i].length());\n                } catch (IndexOutOfBoundsException ignore) {}\n            }\n            lengths.add(len);\n        }\n\n        for (String[] row : contents) {\n            for (int i = 0; i &lt; row.length; i++) {\n                ret.append(row[i] + &quot; &quot;.repeat(lengths.get(i) - row[i].length() + 1));\n            }\n            ret.append(System.lineSeparator());\n        }\n\n        return ret.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70338,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":12793649,"answer_count":4,"score":17,"last_activity_date":1679415399,"creation_date":1349761926,"question_id":12793593,"body_markdown":"I&#39;ve to write code for:\r\n\r\n![Multiplication Tables  Description: Print out the grade school multiplication table upto 12*12][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pmNEJ.png\r\n\r\nI&#39;d written the code:\r\n\r\n    public class tables {\r\n        public static void main(String[] args) {\r\n            //int[][] table = new int[12][12];\r\n            String table=&quot;&quot;;\r\n            for(int i=1; i&lt;13; i++){\r\n                for(int j=1; j&lt;13; j++){\r\n                    //table[i-1][j-1] = i*j;\r\n                    table+=(i*j)+&quot; &quot;;\r\n                }\r\n                System.out.println(table.trim());\r\n                table=&quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nBut the problem is with the output format. I need the output in a matrix like fashion, each number formatted to a width of 4 (the numbers are right-aligned and strip out leading/trailing spaces on each line). I&#39;d tried **google** but not find any good solution to my problem. Can anybody help me out?","title":"How to align String on console output","body":"<p>I've to write code for:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pmNEJ.png\" alt=\"Multiplication Tables  Description: Print out the grade school multiplication table upto 12*12\"></p>\n\n<p>I'd written the code:</p>\n\n<pre><code>public class tables {\n    public static void main(String[] args) {\n        //int[][] table = new int[12][12];\n        String table=\"\";\n        for(int i=1; i&lt;13; i++){\n            for(int j=1; j&lt;13; j++){\n                //table[i-1][j-1] = i*j;\n                table+=(i*j)+\" \";\n            }\n            System.out.println(table.trim());\n            table=\"\";\n        }\n    }\n}\n</code></pre>\n\n<p>But the problem is with the output format. I need the output in a matrix like fashion, each number formatted to a width of 4 (the numbers are right-aligned and strip out leading/trailing spaces on each line). I'd tried <strong>google</strong> but not find any good solution to my problem. Can anybody help me out?</p>\n"},{"tags":["java","char","keylistener"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679417669,"post_id":75803647,"comment_id":133717200,"body_markdown":"keyPressed events *never* return a valid character from getKeyChar().  Only keyTyped events will contain a character.  See [the KeyEvent documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html) for details.  That aside, the auto-repeat delay doesn’t matter if you just monitor the pressing and releasing of the key, rather than looking for typed characters.","body":"keyPressed events <i>never</i> return a valid character from getKeyChar().  Only keyTyped events will contain a character.  See <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">the KeyEvent documentation</a> for details.  That aside, the auto-repeat delay doesn’t matter if you just monitor the pressing and releasing of the key, rather than looking for typed characters."}],"owner":{"account_id":20813192,"reputation":1,"user_id":15286611,"display_name":"Albin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679414904,"creation_date":1679414904,"question_id":75803647,"body_markdown":"I just have a quick question about KeyListener in java. When you add a KeyListener to an object and for example tells it to just print out the pressed characters, if you hold down a button there isn&#39;t a constant flow in the console. I was just wandering if anyone know how to make the program read the character constantly without the pause after the first one.\r\n\r\nI found something online trying to say that you should not update it with the KeyEvent but instead with a different method, I tried something like this but pretty sure I didn&#39;t understand him correctly, this code doesn&#39;t work at all.\r\n\r\n```\r\npublic static void main(String[] args)\r\n\t{\r\n\t\tnew Key_List();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent k1)\r\n\t{\r\n\t\tchar movem = Character.toLowerCase(k1.getKeyChar());\r\n\t\tupdate(movem);\r\n\t}\r\n\r\n\tprivate void update(char movem)\r\n\t{\r\n\t\tSystem.out.println(movem);\t\r\n\t}\r\n```\r\n","title":"Log KeyChar without the initial pause","body":"<p>I just have a quick question about KeyListener in java. When you add a KeyListener to an object and for example tells it to just print out the pressed characters, if you hold down a button there isn't a constant flow in the console. I was just wandering if anyone know how to make the program read the character constantly without the pause after the first one.</p>\n<p>I found something online trying to say that you should not update it with the KeyEvent but instead with a different method, I tried something like this but pretty sure I didn't understand him correctly, this code doesn't work at all.</p>\n<pre><code>public static void main(String[] args)\n    {\n        new Key_List();\n    }\n\n    @Override\n    public void keyPressed(KeyEvent k1)\n    {\n        char movem = Character.toLowerCase(k1.getKeyChar());\n        update(movem);\n    }\n\n    private void update(char movem)\n    {\n        System.out.println(movem);  \n    }\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver","shadow-dom"],"comments":[{"owner":{"account_id":12499431,"reputation":15075,"user_id":9098350,"display_name":"5eb"},"score":0,"creation_date":1679398665,"post_id":75800512,"comment_id":133711074,"body_markdown":"You don&#39;t do a console.log in your executeScript. You&#39;re just evaluating document.querySelector... but doing nothing with what it gives back.","body":"You don&#39;t do a console.log in your executeScript. You&#39;re just evaluating document.querySelector... but doing nothing with what it gives back."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679399257,"post_id":75800512,"comment_id":133711226,"body_markdown":"No, its not working with console.log","body":"No, its not working with console.log"},{"owner":{"account_id":12230274,"reputation":2154,"user_id":8926512,"display_name":"Dennis Kats"},"score":0,"creation_date":1679400530,"post_id":75800512,"comment_id":133711548,"body_markdown":"Can you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of the web page you are testing against?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the web page you are testing against?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679402235,"post_id":75800512,"comment_id":133712041,"body_markdown":"Its already provided in the code","body":"Its already provided in the code"},{"owner":{"account_id":12499431,"reputation":15075,"user_id":9098350,"display_name":"5eb"},"score":0,"creation_date":1679402687,"post_id":75800512,"comment_id":133712206,"body_markdown":"Based on [this](https://www.javadoc.io/doc/org.seleniumhq.selenium/selenium-api/2.2.0/org/openqa/selenium/JavascriptExecutor.html) `executeScript` returns a Boolean, Long, String, List, WebElement, null. Can you not store this result in a variable and use system.out.println? Or is the result `null`?","body":"Based on <a href=\"https://www.javadoc.io/doc/org.seleniumhq.selenium/selenium-api/2.2.0/org/openqa/selenium/JavascriptExecutor.html\" rel=\"nofollow noreferrer\">this</a> <code>executeScript</code> returns a Boolean, Long, String, List, WebElement, null. Can you not store this result in a variable and use system.out.println? Or is the result <code>null</code>?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679403656,"post_id":75800512,"comment_id":133712528,"body_markdown":"I have tried that but getting Nullpointer Exception","body":"I have tried that but getting Nullpointer Exception"}],"answers":[{"comments":[{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679399233,"post_id":75800729,"comment_id":133711221,"body_markdown":"Thanks for your time. I already tried that but but its not working","body":"Thanks for your time. I already tried that but but its not working"},{"owner":{"account_id":12230274,"reputation":2154,"user_id":8926512,"display_name":"Dennis Kats"},"score":0,"creation_date":1679399403,"post_id":75800729,"comment_id":133711257,"body_markdown":"Are you able to print any DOM content via `executeScript()`? If not, are you sure the script is being executed after the DOM, including shadow elements, has fully loaded? Are you getting any errors in the browser console?","body":"Are you able to print any DOM content via <code>executeScript()</code>? If not, are you sure the script is being executed after the DOM, including shadow elements, has fully loaded? Are you getting any errors in the browser console?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679399883,"post_id":75800729,"comment_id":133711395,"body_markdown":"I am trying to execute script using java code through intellij . please refer above code section","body":"I am trying to execute script using java code through intellij . please refer above code section"},{"owner":{"account_id":12230274,"reputation":2154,"user_id":8926512,"display_name":"Dennis Kats"},"score":0,"creation_date":1679400416,"post_id":75800729,"comment_id":133711519,"body_markdown":"I understand your goal, but I&#39;m wondering if you have some race condition in your code. Check out the [Waits Documentation](https://www.selenium.dev/documentation/webdriver/waits/) in Selenium to learn more about how this can happen. So does the version with `console.log` print anything to the browser console, like `undefined` or some runtime error?","body":"I understand your goal, but I&#39;m wondering if you have some race condition in your code. Check out the <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">Waits Documentation</a> in Selenium to learn more about how this can happen. So does the version with <code>console.log</code> print anything to the browser console, like <code>undefined</code> or some runtime error?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1679402565,"post_id":75800729,"comment_id":133712163,"body_markdown":"I have already tried Thread.sleep(); before posting here but no luck yet","body":"I have already tried Thread.sleep(); before posting here but no luck yet"}],"tags":[],"owner":{"account_id":12230274,"reputation":2154,"user_id":8926512,"display_name":"Dennis Kats"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679398914,"creation_date":1679398914,"answer_id":75800729,"question_id":75800512,"body_markdown":"Your script `document.querySelector....innerText` seems to just be accessing the value and doing nothing with it. If you want to print the value in the browser console, you need to wrap it with [`console.log()`](https://developer.mozilla.org/en-US/docs/Web/API/Console/log).\r\n\r\n```java\r\njs.executeScript(&quot;console.log(document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;).innerText)&quot;);\r\n```","title":"Unable to handle Shadow Element","body":"<p>Your script <code>document.querySelector....innerText</code> seems to just be accessing the value and doing nothing with it. If you want to print the value in the browser console, you need to wrap it with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Console/log\" rel=\"nofollow noreferrer\"><code>console.log()</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>js.executeScript(&quot;console.log(document.querySelector('#shadow_host').shadowRoot.querySelector('#nested_shadow_host').shadowRoot.querySelector('#nested_shadow_content &gt; div').innerText)&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1679414798,"post_id":75803621,"comment_id":133716279,"body_markdown":"Same code I have tested with python works fine. `print(driver.execute_script(&quot;return document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;)&quot;).text)`","body":"Same code I have tested with python works fine. <code>print(driver.execute_script(&quot;return document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelec&zwnj;&#8203;tor(&#39;#nested_shadow_&zwnj;&#8203;host&#39;).shadowRoot.qu&zwnj;&#8203;erySelector(&#39;#nested&zwnj;&#8203;_shadow_content &gt; div&#39;)&quot;).text)</code>"}],"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679414777,"creation_date":1679414777,"answer_id":75803621,"question_id":75800512,"body_markdown":"In selenium it returns as `webelement` you can use `.getText()` or `.getAttribute()` to get the value.\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    \r\n    WebElement shadowElement=js.executeScript(&quot;return document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;)&quot;);\r\n    System.out.println(shadowElement.getText());\r\n    System.out.println(shadowElement.getAttribute(&quot;textContent&quot;));\r\n    System.out.println(shadowElement.getAttribute(&quot;innerText&quot;)); \r\n\r\n\r\n----------\r\nInline this should work as well\r\n\r\n    System.out.println(js.executeScript(&quot;return document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;)&quot;).getText());\r\n\r\nOr\r\n\r\n    System.out.println(js.executeScript(&quot;return document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;)&quot;).getAttribute(&quot;textContent&quot;));","title":"Unable to handle Shadow Element","body":"<p>In selenium it returns as <code>webelement</code> you can use <code>.getText()</code> or <code>.getAttribute()</code> to get the value.</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\n\nWebElement shadowElement=js.executeScript(&quot;return document.querySelector('#shadow_host').shadowRoot.querySelector('#nested_shadow_host').shadowRoot.querySelector('#nested_shadow_content &gt; div')&quot;);\nSystem.out.println(shadowElement.getText());\nSystem.out.println(shadowElement.getAttribute(&quot;textContent&quot;));\nSystem.out.println(shadowElement.getAttribute(&quot;innerText&quot;)); \n</code></pre>\n<hr />\n<p>Inline this should work as well</p>\n<pre><code>System.out.println(js.executeScript(&quot;return document.querySelector('#shadow_host').shadowRoot.querySelector('#nested_shadow_host').shadowRoot.querySelector('#nested_shadow_content &gt; div')&quot;).getText());\n</code></pre>\n<p>Or</p>\n<pre><code>System.out.println(js.executeScript(&quot;return document.querySelector('#shadow_host').shadowRoot.querySelector('#nested_shadow_host').shadowRoot.querySelector('#nested_shadow_content &gt; div')&quot;).getAttribute(&quot;textContent&quot;));\n</code></pre>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679414777,"creation_date":1679397571,"question_id":75800512,"body_markdown":"I am trying to print nested shadow element text using below code but no luck. I have tried to use same code throough console windows and its giving me expected text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Code :**\r\n\r\n    import org.openqa.selenium.JavascriptException;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    public class ShadowRoot {\r\n        public static void main(String[] args) throws InterruptedException {\r\n    \r\n    \r\n            WebDriver driver;\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n    \r\n            chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;, &quot;ignore-certificate-errors&quot;);\r\n            driver = new ChromeDriver(chromeOptions);\r\n    \r\n            // browser type and chromedrover.exe path as parameters\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n            String url = &quot;http://watir.com/examples/shadow_dom.html&quot;;\r\n            driver.get(url);\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n            //      js.executeScript(&quot;document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;input&#39;).value=&#39;username&#39;&quot;);\r\n            js.executeScript(&quot;document.querySelector(&#39;#shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_host&#39;).shadowRoot.querySelector(&#39;#nested_shadow_content &gt; div&#39;).innerText&quot;);\r\n    \r\n            Thread.sleep(10000);\r\n    \r\n            driver.close();\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jlek1.png\r\n  [2]: https://i.stack.imgur.com/KxNmt.png","title":"Unable to handle Shadow Element","body":"<p>I am trying to print nested shadow element text using below code but no luck. I have tried to use same code throough console windows and its giving me expected text.</p>\n<p><a href=\"https://i.stack.imgur.com/Jlek1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jlek1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code :</strong></p>\n<pre><code>import org.openqa.selenium.JavascriptException;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ShadowRoot {\n    public static void main(String[] args) throws InterruptedException {\n\n\n        WebDriver driver;\n        ChromeOptions chromeOptions = new ChromeOptions();\n\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;, &quot;ignore-certificate-errors&quot;);\n        driver = new ChromeDriver(chromeOptions);\n\n        // browser type and chromedrover.exe path as parameters\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\n        String url = &quot;http://watir.com/examples/shadow_dom.html&quot;;\n        driver.get(url);\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        //      js.executeScript(&quot;document.querySelector('#shadow_host').shadowRoot.querySelector('input').value='username'&quot;);\n        js.executeScript(&quot;document.querySelector('#shadow_host').shadowRoot.querySelector('#nested_shadow_host').shadowRoot.querySelector('#nested_shadow_content &gt; div').innerText&quot;);\n\n        Thread.sleep(10000);\n\n        driver.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KxNmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxNmt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1672871406,"post_id":74948524,"comment_id":132373603,"body_markdown":"Welcome to SO.  Now that you have an answer to your question, you might want to edit your question to remove the extraneous information.  For example, this has nothing to do with ormlite, sqlite, or crud right?  Thanks.","body":"Welcome to SO.  Now that you have an answer to your question, you might want to edit your question to remove the extraneous information.  For example, this has nothing to do with ormlite, sqlite, or crud right?  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672300928,"creation_date":1672300928,"answer_id":74948600,"question_id":74948524,"body_markdown":"You can try below code :\r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;Course{&quot; +\r\n                    &quot;courseId=&quot; + courseId +\r\n                    &quot;, courseName=&#39;&quot; + courseName + &#39;\\&#39;&#39; +\r\n                    &quot;, courseDuration=&#39;&quot; + courseDuration + &#39;\\&#39;&#39; +\r\n                    &quot;, courseDescription=&#39;&quot; + courseDescription + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }","title":"How to return all properties in the model class from toString() method","body":"<p>You can try below code :</p>\n<pre><code>@Override\n    public String toString() {\n        return &quot;Course{&quot; +\n                &quot;courseId=&quot; + courseId +\n                &quot;, courseName='&quot; + courseName + '\\'' +\n                &quot;, courseDuration='&quot; + courseDuration + '\\'' +\n                &quot;, courseDescription='&quot; + courseDescription + '\\'' +\n                '}';\n    }\n</code></pre>\n"}],"owner":{"account_id":25755853,"reputation":5,"user_id":19507538,"display_name":"Subhashana.S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74948600,"answer_count":1,"score":0,"last_activity_date":1679414241,"creation_date":1672300259,"question_id":74948524,"body_markdown":"I am trying to develop a simple crud app in android studio. I&#39;ve implemented the Insert and View parts. I have created a list view to view items. But only display only one property in one record. I want to get all properties of a record to list view. I am a beginner in android development. Please tell me how to do it. Thank you. :)\r\n\r\nfirst, I call a method in the model class\r\n\r\n```\r\n @NonNull\r\n    @Override\r\n    public String toString(){\r\n        return this.courseDescription;\r\n    }\r\n```\r\n\r\nIn this method, I can only return one property only. I need to return all properties in string data type.\r\n","title":"How to return all properties in the model class from toString() method","body":"<p>I am trying to develop a simple crud app in android studio. I've implemented the Insert and View parts. I have created a list view to view items. But only display only one property in one record. I want to get all properties of a record to list view. I am a beginner in android development. Please tell me how to do it. Thank you. :)</p>\n<p>first, I call a method in the model class</p>\n<pre><code> @NonNull\n    @Override\n    public String toString(){\n        return this.courseDescription;\n    }\n</code></pre>\n<p>In this method, I can only return one property only. I need to return all properties in string data type.</p>\n"},{"tags":["java","module","jboss","wildfly","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674724797,"post_id":75241099,"comment_id":132776203,"body_markdown":"Such classes which are not part of the official API can disappear at any time. So,  a 3rd party library that relies on such classes and “can&#39;t upgrade or use another” is not a good combination. However, the specified class still exist in JDK&#160;11 and violating the module access rules should not produce a `NoClassDefFoundError`","body":"Such classes which are not part of the official API can disappear at any time. So,  a 3rd party library that relies on such classes and “can&#39;t upgrade or use another” is not a good combination. However, the specified class still exist in JDK 11 and violating the module access rules should not produce a <code>NoClassDefFoundError</code>"}],"owner":{"account_id":2731114,"reputation":253,"user_id":2354898,"accept_rate":20,"display_name":"user2354898"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679413766,"creation_date":1674691024,"question_id":75241099,"body_markdown":"I&#39;ve a working solution but it&#39;s not deployable. \r\n\r\nI&#39;m at the moment adding this\r\n\r\n```\r\n                &lt;path name=&quot;sun/net/www/protocol/http&quot;/&gt;\r\n                &lt;path name=&quot;sun/net/www/protocol/https&quot;/&gt;\r\n```\r\n\r\nto `wildfly/modules/system/layers/base/sun/jdk/main/modules.xml`\r\n\r\nin order to not get this error (we use java 11 where sun is private) \r\n\r\n```\r\nException: java.lang.NoClassDefFoundError: sun/net/www/protocol/http/Handler\r\n```\r\n\r\nI&#39;m using a third library thats using sun and I can&#39;t upgrade or use another.\r\n\r\nCan I somehow do this by jboss cli or trough docker? Because I can&#39;t add this in each environment and in production manually..","title":"Access sun http in jdk 11","body":"<p>I've a working solution but it's not deployable.</p>\n<p>I'm at the moment adding this</p>\n<pre><code>                &lt;path name=&quot;sun/net/www/protocol/http&quot;/&gt;\n                &lt;path name=&quot;sun/net/www/protocol/https&quot;/&gt;\n</code></pre>\n<p>to <code>wildfly/modules/system/layers/base/sun/jdk/main/modules.xml</code></p>\n<p>in order to not get this error (we use java 11 where sun is private)</p>\n<pre><code>Exception: java.lang.NoClassDefFoundError: sun/net/www/protocol/http/Handler\n</code></pre>\n<p>I'm using a third library thats using sun and I can't upgrade or use another.</p>\n<p>Can I somehow do this by jboss cli or trough docker? Because I can't add this in each environment and in production manually..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27000534,"reputation":285,"user_id":20561885,"display_name":"Mellik"},"score":1,"creation_date":1679413340,"post_id":75803330,"comment_id":133715818,"body_markdown":"Cant reach the image. could you post it another way or share the output?","body":"Cant reach the image. could you post it another way or share the output?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1679413380,"post_id":75803330,"comment_id":133715831,"body_markdown":"You can try String.format with padding. See for example here https://www.developer.com/java/java-string-format-method/","body":"You can try String.format with padding. See for example here <a href=\"https://www.developer.com/java/java-string-format-method/\" rel=\"nofollow noreferrer\">developer.com/java/java-string-format-method</a>"}],"owner":{"account_id":22141376,"reputation":61,"user_id":17289995,"display_name":"AnuragK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679413519,"answer_count":0,"score":0,"last_activity_date":1679413529,"creation_date":1679413133,"question_id":75803330,"body_markdown":"I have been working on a Simple Console Application, which lets to build your own PC.\r\nIn the end, It prints your receipt which lists all the parts you choose\r\n\r\nThis is the Output I&#39;m getting\r\n\r\n[![This is the Output I&#39;m getting][1]][1]\r\n\r\nThe Code for the output above.\r\n\r\n```\r\n\r\npublic static void printReceipt() {\r\n\t\tSystem.out.println(&quot;=================================&quot;);\r\n\t\tSystem.out.println(&quot;          Your Receipt           &quot;);\r\n\t\tSystem.out.println(&quot;=================================&quot;);\r\n\r\n\t\tSystem.out.println(&quot;1) &quot; + mbName + &quot;             &quot; + mbPrice);\r\n\t\tSystem.out.println(&quot;2) &quot; + proName + &quot;             &quot; + proPrice);\r\n\t\tSystem.out.println(&quot;8) &quot; + gpuName + &quot;             &quot; + gpuPrice);\r\n\t\tSystem.out.println(&quot;3) &quot; + ramName + &quot;             &quot; + ramPrice);\r\n\t\tSystem.out.println(&quot;4) &quot; + stoName + &quot;             &quot; + stoPrice);\r\n\t\tSystem.out.println(&quot;5) &quot; + coolName + &quot;             &quot; + coolPrice);\r\n\t\tSystem.out.println(&quot;6) &quot; + psuName + &quot;             &quot; + psuPrice);\r\n\t\tSystem.out.println(&quot;7) &quot; + cabName + &quot;             &quot; + cabPrice);\r\n\r\n\t\tdouble total = subtotal(mbPrice, proPrice, ramPrice, stoPrice, coolPrice, psuPrice, cabPrice, gpuPrice);\r\n\r\n\t\tSystem.out.println(&quot;=================================&quot;);\r\n\t\tSystem.out.println(&quot;GRAND TOTAL:       &quot; + total + &quot;/-&quot;);\r\n\t\tSystem.out.println(&quot;=================================&quot;);\r\n\r\n\t\tSystem.out.println(&quot; =================================&quot;);\r\n\t\tSystem.out.println(&quot;|            Thank you            |&quot;);\r\n\t\tSystem.out.println(&quot; =================================&quot;);\r\n\r\n\t}\r\n\r\n```\r\n\r\nIs there a way to format the output above into something like shown below?\r\n```\r\n=================================\r\n          Your Receipt           \r\n=================================\r\n\r\n  Item                   Price\r\n ------                 -------\r\n\r\n1) Asus                  20000.0\r\n2) INTEL                 45000.0\r\n8) Nvidia gtx 1050ti     17000.0\r\n3) Asus                  18000.0\r\n4) Samsung               20000.0\r\n5) Coolermaster          20000.0\r\n6) Ortis                  4000.0\r\n7) Asus                   4000.0\r\n=================================\r\nGRAND TOTAL:            148000.0/-\r\n================================= \r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFdkw.png","title":"How to format Java console output?","body":"<p>I have been working on a Simple Console Application, which lets to build your own PC.\nIn the end, It prints your receipt which lists all the parts you choose</p>\n<p>This is the Output I'm getting</p>\n<p><a href=\"https://i.stack.imgur.com/rFdkw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFdkw.png\" alt=\"This is the Output I'm getting\" /></a></p>\n<p>The Code for the output above.</p>\n<pre><code>\npublic static void printReceipt() {\n        System.out.println(&quot;=================================&quot;);\n        System.out.println(&quot;          Your Receipt           &quot;);\n        System.out.println(&quot;=================================&quot;);\n\n        System.out.println(&quot;1) &quot; + mbName + &quot;             &quot; + mbPrice);\n        System.out.println(&quot;2) &quot; + proName + &quot;             &quot; + proPrice);\n        System.out.println(&quot;8) &quot; + gpuName + &quot;             &quot; + gpuPrice);\n        System.out.println(&quot;3) &quot; + ramName + &quot;             &quot; + ramPrice);\n        System.out.println(&quot;4) &quot; + stoName + &quot;             &quot; + stoPrice);\n        System.out.println(&quot;5) &quot; + coolName + &quot;             &quot; + coolPrice);\n        System.out.println(&quot;6) &quot; + psuName + &quot;             &quot; + psuPrice);\n        System.out.println(&quot;7) &quot; + cabName + &quot;             &quot; + cabPrice);\n\n        double total = subtotal(mbPrice, proPrice, ramPrice, stoPrice, coolPrice, psuPrice, cabPrice, gpuPrice);\n\n        System.out.println(&quot;=================================&quot;);\n        System.out.println(&quot;GRAND TOTAL:       &quot; + total + &quot;/-&quot;);\n        System.out.println(&quot;=================================&quot;);\n\n        System.out.println(&quot; =================================&quot;);\n        System.out.println(&quot;|            Thank you            |&quot;);\n        System.out.println(&quot; =================================&quot;);\n\n    }\n\n</code></pre>\n<p>Is there a way to format the output above into something like shown below?</p>\n<pre><code>=================================\n          Your Receipt           \n=================================\n\n  Item                   Price\n ------                 -------\n\n1) Asus                  20000.0\n2) INTEL                 45000.0\n8) Nvidia gtx 1050ti     17000.0\n3) Asus                  18000.0\n4) Samsung               20000.0\n5) Coolermaster          20000.0\n6) Ortis                  4000.0\n7) Asus                   4000.0\n=================================\nGRAND TOTAL:            148000.0/-\n================================= \n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679273291,"post_id":75785784,"comment_id":133686658,"body_markdown":"What exactly makes you think you should get 165?","body":"What exactly makes you think you should get 165?"},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1679273461,"post_id":75785784,"comment_id":133686679,"body_markdown":"tgdavies because I&#39;m using a 165HZ monitor.","body":"tgdavies because I&#39;m using a 165HZ monitor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679273810,"post_id":75785784,"comment_id":133686718,"body_markdown":"Monitors can usually be driven at a range of frequencies -- that 165Hz is probably the maximum the monitor can do, rather than the only frequency you can drive it at.","body":"Monitors can usually be driven at a range of frequencies -- that 165Hz is probably the maximum the monitor can do, rather than the only frequency you can drive it at."},{"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"score":0,"creation_date":1679274052,"post_id":75785784,"comment_id":133686746,"body_markdown":"Why wouldn&#39;t you have 50 Hz ? Your monitor is able to refresh 165 times per second but that doesn&#39;t mean it actually does it all the time","body":"Why wouldn&#39;t you have 50 Hz ? Your monitor is able to refresh 165 times per second but that doesn&#39;t mean it actually does it all the time"},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1679274488,"post_id":75785784,"comment_id":133686800,"body_markdown":"mi1000 and tgdavies, I added the output of &quot;xrandr -q&quot; to the post proving that it is set to 165HZ.","body":"mi1000 and tgdavies, I added the output of &quot;xrandr -q&quot; to the post proving that it is set to 165HZ."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679275258,"post_id":75785784,"comment_id":133686873,"body_markdown":"Why do you want to know? This seems like a [XY problem](https://meta.stackexchange.com/a/66378/243725); you want to know the native display refresh rate **because** that will allow you to do what?","body":"Why do you want to know? This seems like a <a href=\"https://meta.stackexchange.com/a/66378/243725\">XY problem</a>; you want to know the native display refresh rate <b>because</b> that will allow you to do what?"},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1679281381,"post_id":75785784,"comment_id":133687453,"body_markdown":"Elliott Frisch I am using this to automatically set the framerate of my game but it is returning the wrong value on my PC.","body":"Elliott Frisch I am using this to automatically set the framerate of my game but it is returning the wrong value on my PC."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679328494,"post_id":75785784,"comment_id":133698081,"body_markdown":"@Shringe_ I find it highly unlikely that you can redraw 165 times a second in Java.","body":"@Shringe_ I find it highly unlikely that you can redraw 165 times a second in Java."},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1679333556,"post_id":75785784,"comment_id":133699579,"body_markdown":"Elliot Frisch my game is in very early development and I have a good computer so uncapped it reaches many thousands; However, the GraphicsEnvironment.getRefrshRate() function is returning the wrong value so it&#39;s being capped at 60 on my PC rather than 165 which would be correct.","body":"Elliot Frisch my game is in very early development and I have a good computer so uncapped it reaches many thousands; However, the GraphicsEnvironment.getRefrshRate() function is returning the wrong value so it&#39;s being capped at 60 on my PC rather than 165 which would be correct."}],"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679413210,"creation_date":1679272471,"question_id":75785784,"body_markdown":"I&#39;ve been trying to obtain the refresh rate of the primary display in java via the GraphicsEnvironment class. For some reason on my desktop(single 165HZ monitor), it&#39;s returning 50 as my refresh rate instead of 165. On my 60HZ laptop, it&#39;s returning 60 just fine. Both are Linux(laptop LM, PC Manjaro), and I&#39;m not sure why it&#39;s not working properly on my PC but just fine on my laptop.\r\n\r\nHere are the file and results:\r\n\r\n\r\n```\r\nimport java.awt.GraphicsEnvironment;\r\n\r\nclass FileName {\r\n    public static void main(String[] args) {\r\n        int hrz = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getRefreshRate();\r\n\r\n        System.out.println(hrz);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n[shringe@dashingkoso Refresh-Rate]$ javac FileName.java\r\n[shringe@dashingkoso Refresh-Rate]$ java FileName\r\n50\r\n[shringe@dashingkoso Refresh-Rate]$ \r\n```\r\n\r\nAny idea on why this is happening, or how I could fix this?\r\n\r\nedit:\r\n\r\nThe output of &quot;xrandr -q&quot; shows my display info and the * shows that 165HZ is selected under 2560x1440.\r\n\r\n    DP-0 connected primary 2560x1440+0+0 (normal left inverted right x axis y axis) 597mm x 336mm\r\n       2560x1440     59.95 + 165.00*  160.00   155.00   143.97   120.00  \r\n       1920x1080    119.88   100.00    60.00    59.94    50.00  \r\n       1440x900      59.89  \r\n       1440x576      50.00  \r\n       1280x1024     75.02    60.02  \r\n       1152x864      75.00  \r\n       1024x768      75.03    70.07    60.00  \r\n       800x600       75.00    72.19    60.32    56.25  \r\n       640x480       75.00    72.81    59.94","title":"How to fix GraphicsEnvironment.getRefreshRate() returning wrong value","body":"<p>I've been trying to obtain the refresh rate of the primary display in java via the GraphicsEnvironment class. For some reason on my desktop(single 165HZ monitor), it's returning 50 as my refresh rate instead of 165. On my 60HZ laptop, it's returning 60 just fine. Both are Linux(laptop LM, PC Manjaro), and I'm not sure why it's not working properly on my PC but just fine on my laptop.</p>\n<p>Here are the file and results:</p>\n<pre><code>import java.awt.GraphicsEnvironment;\n\nclass FileName {\n    public static void main(String[] args) {\n        int hrz = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getRefreshRate();\n\n        System.out.println(hrz);\n    }\n}\n</code></pre>\n<pre><code>[shringe@dashingkoso Refresh-Rate]$ javac FileName.java\n[shringe@dashingkoso Refresh-Rate]$ java FileName\n50\n[shringe@dashingkoso Refresh-Rate]$ \n</code></pre>\n<p>Any idea on why this is happening, or how I could fix this?</p>\n<p>edit:</p>\n<p>The output of &quot;xrandr -q&quot; shows my display info and the * shows that 165HZ is selected under 2560x1440.</p>\n<pre><code>DP-0 connected primary 2560x1440+0+0 (normal left inverted right x axis y axis) 597mm x 336mm\n   2560x1440     59.95 + 165.00*  160.00   155.00   143.97   120.00  \n   1920x1080    119.88   100.00    60.00    59.94    50.00  \n   1440x900      59.89  \n   1440x576      50.00  \n   1280x1024     75.02    60.02  \n   1152x864      75.00  \n   1024x768      75.03    70.07    60.00  \n   800x600       75.00    72.19    60.32    56.25  \n   640x480       75.00    72.81    59.94\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3475577,"reputation":285,"user_id":2908871,"display_name":"hughj"},"score":0,"creation_date":1679423000,"post_id":75802678,"comment_id":133718703,"body_markdown":"Ah!  The IntStream!!  Why didn&#39;t I look at that api doc?  You are so right!  Thank you!!  I am also reading Basil&#39;s answer as well and he also has an excellent explanation.  Can I upvote 2 answers?","body":"Ah!  The IntStream!!  Why didn&#39;t I look at that api doc?  You are so right!  Thank you!!  I am also reading Basil&#39;s answer as well and he also has an excellent explanation.  Can I upvote 2 answers?"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679410287,"creation_date":1679409943,"answer_id":75802678,"question_id":75802528,"body_markdown":"Firstly, I wouldn&#39;t expect `(char) c + 1` to work anyway, as that doesn&#39;t cast the *result* to `char`. It only casts `c` to `char`. You really wanted `.map(c -&gt; (char) (c + 1))`.\r\n\r\nHowever, that *still* results in an `IntStream`, because there&#39;s no such type as &quot;a stream of characters&quot;. [`String.chars()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#chars()) returns an [`IntStream`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html), and your call to `IntStream.map` resolves to `IntStream map​(IntUnaryOperator mapper)`.\r\n\r\nBasically what you *want* is a `CharStream` type (like `IntStream` but for `char`) - but that doesn&#39;t exist.\r\n","title":"Casting to (char) in Stream.map() Does Not Produce Desired Result","body":"<p>Firstly, I wouldn't expect <code>(char) c + 1</code> to work anyway, as that doesn't cast the <em>result</em> to <code>char</code>. It only casts <code>c</code> to <code>char</code>. You really wanted <code>.map(c -&gt; (char) (c + 1))</code>.</p>\n<p>However, that <em>still</em> results in an <code>IntStream</code>, because there's no such type as &quot;a stream of characters&quot;. <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\"><code>String.chars()</code></a> returns an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>, and your call to <code>IntStream.map</code> resolves to <code>IntStream map​(IntUnaryOperator mapper)</code>.</p>\n<p>Basically what you <em>want</em> is a <code>CharStream</code> type (like <code>IntStream</code> but for <code>char</code>) - but that doesn't exist.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1679420941,"post_id":75802907,"comment_id":133718173,"body_markdown":"Calling `char` “broken” is too harsh. It’s important to understand the limitations, i.e. that a `char` represents a UTF-16 unit, just like it is important to understand that even a Unicode codepoint is not always sufficient to represent a single character…","body":"Calling <code>char</code> “broken” is too harsh. It’s important to understand the limitations, i.e. that a <code>char</code> represents a UTF-16 unit, just like it is important to understand that even a Unicode codepoint is not always sufficient to represent a single character…"},{"owner":{"account_id":3475577,"reputation":285,"user_id":2908871,"display_name":"hughj"},"score":0,"creation_date":1679423380,"post_id":75802907,"comment_id":133718807,"body_markdown":"I upvoted Jon, but I also upvoted your answer.  You are actually raising another issue altogether re using char vs codepoint.  Of course you are right about this.  Fortunately, this is not code I would try to sneak past a code review :-)","body":"I upvoted Jon, but I also upvoted your answer.  You are actually raising another issue altogether re using char vs codepoint.  Of course you are right about this.  Fortunately, this is not code I would try to sneak past a code review :-)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679425429,"post_id":75802907,"comment_id":133719418,"body_markdown":"@Holger Sorry, but `&quot;a&#128567;c&quot;.length()` returning `4` is broken. I am mystified why people get so defensive around this fact. An accident of history: Java happened to adopt Unicode just before the consortium realized that assuming a total of 65,000 characters in the world was a poor choice. And the Java team made the mistake of exposing the implementation details of `String` as the `char` type. All that is water under the bridge. The Java team did what they could to ameliorate the situation of `char`. But to pretend that `char` is not a failure is unhelpful, especially to newbies.","body":"@Holger Sorry, but <code>&quot;a😷c&quot;.length()</code> returning <code>4</code> is broken. I am mystified why people get so defensive around this fact. An accident of history: Java happened to adopt Unicode just before the consortium realized that assuming a total of 65,000 characters in the world was a poor choice. And the Java team made the mistake of exposing the implementation details of <code>String</code> as the <code>char</code> type. All that is water under the bridge. The Java team did what they could to ameliorate the situation of <code>char</code>. But to pretend that <code>char</code> is not a failure is unhelpful, especially to newbies."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1679428306,"post_id":75802907,"comment_id":133720021,"body_markdown":"And `&quot;O̊&quot;.codePoints().count()` still returns `2`. If you prefer emoji examples, try `&quot;&#128105;‍&#129457;&quot;.codePoints().count()`. It’s not helpful to call `char` broken and pretend that using codepoints would solve all problems regarding the difference between code units and characters.","body":"And <code>&quot;O̊&quot;.codePoints().count()</code> still returns <code>2</code>. If you prefer emoji examples, try <code>&quot;👩‍🦱&quot;.codePoints().count()</code>. It’s not helpful to call <code>char</code> broken and pretend that using codepoints would solve all problems regarding the difference between code units and characters."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679413099,"creation_date":1679411077,"answer_id":75802907,"question_id":75802528,"body_markdown":"As to *why* you have the problem, see the [Answer by Jon Skeet][1]. \r\n\r\nYou can avoid the entire problem easily by using [code point][2] integers rather than the broken legacy type `char`. \r\n\r\nFurthermore, your code fails with most characters.  Again, solved by using code points. \r\n\r\n# Code point, not `char`\r\n\r\nThe `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, the `char` is physically incapable of representing most of the over 149,000 characters defined in [Unicode][3]. \r\n\r\nWhile `char` is limited to a range of 0 to just over 65,000, code points range from zero to just over a million. Most of that range is not yet assigned, and some is set aside permanently for private use. \r\n\r\nLet’s modify your code:\r\n\r\n - Replace your `.chars` call with [`.codePoints`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#codePoints()). \r\n - Call [`appendCodePoint`][4] instead of that first `append`. \r\n\r\nVoil&#224;, no more casting confusion. \r\n\r\n```java\r\nString s =\r\n    &quot;abdc&quot;\r\n    .codePoints()  // Returns an `IntStream` object. \r\n    .map( codePoint -&gt; codePoint + 1 )\r\n    .collect( \r\n        StringBuilder::new , \r\n        StringBuilder::appendCodePoint , \r\n        StringBuilder::append \r\n    )              // Returns a `StringBuilder` object. \r\n    .toString() ;\r\n```\r\n\r\nSee this code run [at Ideone.com][5]. \r\n\r\n&gt;bced\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75802678/642706\r\n  [2]: https://en.m.wikipedia.org/wiki/Code_point\r\n  [3]: https://en.m.wikipedia.org/wiki/Unicode\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#appendCodePoint(int)\r\n  [5]: https://ideone.com/LL7P6E","title":"Casting to (char) in Stream.map() Does Not Produce Desired Result","body":"<p>As to <em>why</em> you have the problem, see the <a href=\"https://stackoverflow.com/a/75802678/642706\">Answer by Jon Skeet</a>.</p>\n<p>You can avoid the entire problem easily by using <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integers rather than the broken legacy type <code>char</code>.</p>\n<p>Furthermore, your code fails with most characters.  Again, solved by using code points.</p>\n<h1>Code point, not <code>char</code></h1>\n<p>The <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, the <code>char</code> is physically incapable of representing most of the over 149,000 characters defined in <a href=\"https://en.m.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>While <code>char</code> is limited to a range of 0 to just over 65,000, code points range from zero to just over a million. Most of that range is not yet assigned, and some is set aside permanently for private use.</p>\n<p>Let’s modify your code:</p>\n<ul>\n<li>Replace your <code>.chars</code> call with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#codePoints()\" rel=\"nofollow noreferrer\"><code>.codePoints</code></a>.</li>\n<li>Call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#appendCodePoint(int)\" rel=\"nofollow noreferrer\"><code>appendCodePoint</code></a> instead of that first <code>append</code>.</li>\n</ul>\n<p>Voilà, no more casting confusion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s =\n    &quot;abdc&quot;\n    .codePoints()  // Returns an `IntStream` object. \n    .map( codePoint -&gt; codePoint + 1 )\n    .collect( \n        StringBuilder::new , \n        StringBuilder::appendCodePoint , \n        StringBuilder::append \n    )              // Returns a `StringBuilder` object. \n    .toString() ;\n</code></pre>\n<p>See this code run <a href=\"https://ideone.com/LL7P6E\" rel=\"nofollow noreferrer\">at Ideone.com</a>.</p>\n<blockquote>\n<p>bced</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679411778,"creation_date":1679411778,"answer_id":75803064,"question_id":75802528,"body_markdown":"The `+` operator will always produce an int (or float or double, if any operand is float or double).  This is because both operands are promoted to int values (or long values, if either operand is already a long).\r\n\r\nSo, your first attempt, `c -&gt; (char)c + 1`, is really doing this:\r\n\r\n    c -&gt; (int) ((char) c) + 1\r\n\r\nbecause that’s how numeric promotion works.\r\n\r\nYour second attempt’s outcome is due to the fact that [String.chars() returns an IntStream](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#chars()).  When you do `map(c1 -&gt; (char)c1)` you are actually calling the [map method of IntStream](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#map(java.util.function.IntUnaryOperator)), whose argument is an IntUnaryOperator.  Thus, the lambda&#39;s returned value (`(char)c1`) is promoted to int.\r\n\r\nUsing [mapToObj](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#mapToObj(java.util.function.IntFunction)) would probably work, though you’d be creating java.lang.Character instances which would have less than ideal efficiency.\r\n\r\nYour final attempt works because you are explicitly appending a char value, so it doesn’t matter whether it was an int in the stream.\r\n\r\nBasil is right: working with code points is better than char values, both because it removes ambiguity and because the char type is not able to represent all valid Unicode characters.\r\n","title":"Casting to (char) in Stream.map() Does Not Produce Desired Result","body":"<p>The <code>+</code> operator will always produce an int (or float or double, if any operand is float or double).  This is because both operands are promoted to int values (or long values, if either operand is already a long).</p>\n<p>So, your first attempt, <code>c -&gt; (char)c + 1</code>, is really doing this:</p>\n<pre><code>c -&gt; (int) ((char) c) + 1\n</code></pre>\n<p>because that’s how numeric promotion works.</p>\n<p>Your second attempt’s outcome is due to the fact that <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">String.chars() returns an IntStream</a>.  When you do <code>map(c1 -&gt; (char)c1)</code> you are actually calling the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#map(java.util.function.IntUnaryOperator)\" rel=\"nofollow noreferrer\">map method of IntStream</a>, whose argument is an IntUnaryOperator.  Thus, the lambda's returned value (<code>(char)c1</code>) is promoted to int.</p>\n<p>Using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#mapToObj(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\">mapToObj</a> would probably work, though you’d be creating java.lang.Character instances which would have less than ideal efficiency.</p>\n<p>Your final attempt works because you are explicitly appending a char value, so it doesn’t matter whether it was an int in the stream.</p>\n<p>Basil is right: working with code points is better than char values, both because it removes ambiguity and because the char type is not able to represent all valid Unicode characters.</p>\n"}],"owner":{"account_id":3475577,"reputation":285,"user_id":2908871,"display_name":"hughj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75802907,"answer_count":3,"score":2,"last_activity_date":1679413099,"creation_date":1679409098,"question_id":75802528,"body_markdown":"java.util.stream is challenging my notion of chars.  I am attempting to perform a simple character rotation of a string, where I simply add 1 to the int value of each character.  I start with &quot;abcd&quot;.chars() (a stream), and then I map.  But I don&#39;t seem to be able to cast the ints -&gt; char during the map.  Why am I not getting the desired result?\r\n\r\nThis is vanilla JDK17 (temurin).\r\n\r\n        jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; c + 1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n    $43 ==&gt; 9899101100\r\n\r\nWait; thats not what I want.  These are the int values! Let&#39;s try a cast to char:\r\n\r\n    jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; (char)c + 1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n    $44 ==&gt; 9899101100\r\n\r\nOk, that had zero effect.  Let&#39;s use an explicit map step:\r\n\r\n    jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; c + 1).map(c1 -&gt; (char)c1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n    $45 ==&gt; 9899101100\r\n\r\nHuh? wtf?  Ok, let&#39;s force the cast during the reduce step:\r\n\r\n    jshell&gt; &quot;abcd&quot;.chars().map(c -&gt; c + 1).collect(()-&gt;new StringBuilder(), (c,d)-&gt;c.append((char)d), (c1, c2)-&gt;c1.append(c2))\r\n    $46 ==&gt; bcde\r\n\r\nFinally!  But WHY?  Why doesn&#39;t the map to char flow across the stream?  What am I missing?  I know this is a newbie question, but I would appreciate being educated.\r\n\r\n\r\n\r\n\r\n","title":"Casting to (char) in Stream.map() Does Not Produce Desired Result","body":"<p>java.util.stream is challenging my notion of chars.  I am attempting to perform a simple character rotation of a string, where I simply add 1 to the int value of each character.  I start with &quot;abcd&quot;.chars() (a stream), and then I map.  But I don't seem to be able to cast the ints -&gt; char during the map.  Why am I not getting the desired result?</p>\n<p>This is vanilla JDK17 (temurin).</p>\n<pre><code>    jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; c + 1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n$43 ==&gt; 9899101100\n</code></pre>\n<p>Wait; thats not what I want.  These are the int values! Let's try a cast to char:</p>\n<pre><code>jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; (char)c + 1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n$44 ==&gt; 9899101100\n</code></pre>\n<p>Ok, that had zero effect.  Let's use an explicit map step:</p>\n<pre><code>jshell&gt; &quot;abdc&quot;.chars().map(c -&gt; c + 1).map(c1 -&gt; (char)c1).collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n$45 ==&gt; 9899101100\n</code></pre>\n<p>Huh? wtf?  Ok, let's force the cast during the reduce step:</p>\n<pre><code>jshell&gt; &quot;abcd&quot;.chars().map(c -&gt; c + 1).collect(()-&gt;new StringBuilder(), (c,d)-&gt;c.append((char)d), (c1, c2)-&gt;c1.append(c2))\n$46 ==&gt; bcde\n</code></pre>\n<p>Finally!  But WHY?  Why doesn't the map to char flow across the stream?  What am I missing?  I know this is a newbie question, but I would appreciate being educated.</p>\n"},{"tags":["java","gradle","jacoco"],"comments":[{"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"score":0,"creation_date":1634122791,"post_id":69305183,"comment_id":122939842,"body_markdown":"The error actually means that the class was compiled with higher java version (16) but run with lower one (8).\nCheck gradle JVM version by the command: `./gradlew -version` and make sure that gradle uses `16` (check `JAVA_HOME` in environment variables)","body":"The error actually means that the class was compiled with higher java version (16) but run with lower one (8). Check gradle JVM version by the command: <code>.&#47;gradlew -version</code> and make sure that gradle uses <code>16</code> (check <code>JAVA_HOME</code> in environment variables)"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1634127634,"post_id":69305183,"comment_id":122941953,"body_markdown":"Does this answer your question? [How to fix &quot;unsupported class file major version 60&quot; in IntelliJ?](https://stackoverflow.com/questions/67079327/how-to-fix-unsupported-class-file-major-version-60-in-intellij)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67079327/how-to-fix-unsupported-class-file-major-version-60-in-intellij\">How to fix &quot;unsupported class file major version 60&quot; in IntelliJ?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21846932,"reputation":176,"user_id":16139621,"display_name":"Lukas Juskevicius"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634120826,"creation_date":1632422228,"answer_id":69305328,"question_id":69305183,"body_markdown":"I had a similar problem and fix it by chaining Gradle JVM settings in my preferred IDE which is IntelliJ (should be possible with others too):\r\n\r\n 1. In the Settings/Preferences dialog, go to Build, Execution,\r\n    Deployment | Build Tools | Gradle.\r\n    \r\n    \r\n 2. Under the Gradle section, change the Gradle JVM option.\r\n\r\nIf you are using Intellij you can see more on this topic [here][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jvm_settings","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60","body":"<p>I had a similar problem and fix it by chaining Gradle JVM settings in my preferred IDE which is IntelliJ (should be possible with others too):</p>\n<ol>\n<li><p>In the Settings/Preferences dialog, go to Build, Execution,\nDeployment | Build Tools | Gradle.</p>\n</li>\n<li><p>Under the Gradle section, change the Gradle JVM option.</p>\n</li>\n</ol>\n<p>If you are using Intellij you can see more on this topic <a href=\"https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jvm_settings\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679413039,"creation_date":1665420250,"answer_id":74018159,"question_id":69305183,"body_markdown":"I had similar problem when upgrading my project to use JDK17 ( i.e., Unsupported class file major version 61 ).\r\n\r\nThe solution was to upgrade jacoco maven plugin to version 0.8.8 in my pom\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                ...\r\n\r\nthis github thread is also related: \r\nhttps://github.com/mapstruct/mapstruct/issues/2835","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60","body":"<p>I had similar problem when upgrading my project to use JDK17 ( i.e., Unsupported class file major version 61 ).</p>\n<p>The solution was to upgrade jacoco maven plugin to version 0.8.8 in my pom</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.8&lt;/version&gt;\n            ...\n</code></pre>\n<p>this github thread is also related:\n<a href=\"https://github.com/mapstruct/mapstruct/issues/2835\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/2835</a></p>\n"}],"owner":{"account_id":16858760,"reputation":113,"user_id":12190059,"display_name":"Ramu Smartguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6220,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1679413039,"creation_date":1632421526,"question_id":69305183,"body_markdown":"Configuration : \r\nJava : 16 &lt;br&gt;\r\nGradle : 7.2 &lt;br&gt;\r\nJacoco : 0.8.4\r\n\r\nWhen I upgraded my project from openJDK8 to openJDk16 I see the following issues : \r\n\r\n&lt;b&gt;&quot;Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60&quot; &lt;/b&gt;\r\n\r\nAnd also the below issue : &lt;br&gt;\r\n&lt;b&gt;\r\njava.lang.instrument.IllegalClassFormatException: Error while instrumenting sun/security/ec/SunEC$1.\r\n        at org.jacoco.agent.rt.internal_035b120.CoverageTransformer.transform(CoverageTransformer.java:93)\r\n        at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244\r\n&lt;/b&gt;\r\n","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60","body":"<p>Configuration :\nJava : 16 <br>\nGradle : 7.2 <br>\nJacoco : 0.8.4</p>\n<p>When I upgraded my project from openJDK8 to openJDk16 I see the following issues :</p>\n<p><b>&quot;Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 60&quot; </b></p>\n<p>And also the below issue : <br>\n<b>\njava.lang.instrument.IllegalClassFormatException: Error while instrumenting sun/security/ec/SunEC$1.\nat org.jacoco.agent.rt.internal_035b120.CoverageTransformer.transform(CoverageTransformer.java:93)\nat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244\n</b></p>\n"},{"tags":["java","eclipse","eclipse-rcp","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679470738,"post_id":75803292,"comment_id":133725938,"body_markdown":"Consider responding to your previous questions before asking new ones. The example you linked is not minimal and uses different Tycho versions.","body":"Consider responding to your previous questions before asking new ones. The example you linked is not minimal and uses different Tycho versions."},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1679481960,"post_id":75803292,"comment_id":133728608,"body_markdown":"@howlger thanks. I didn&#39;t see that the tycho version in the pom and extensions.xml were different. That apparently fixed the &#39;Missing requirement&#39; issue. I also needed to add the fragment to the `target-platform-configuration` section. Build is now successful.","body":"@howlger thanks. I didn&#39;t see that the tycho version in the pom and extensions.xml were different. That apparently fixed the &#39;Missing requirement&#39; issue. I also needed to add the fragment to the <code>target-platform-configuration</code> section. Build is now successful."}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679412956,"creation_date":1679412956,"question_id":75803292,"body_markdown":"I have recently introduced a fragment project to a RCP app which provides JAX-WS components following a move from Java 8 to Java 11. The fragment host is `system.bundle`.\r\n\r\nA simple test RCP project works as I want, the JAX-WS components are resolved and a web service can be called successfully. The project is on Github: [https://github.com/pramsden/tycho-test](https://github.com/pramsden/tycho-test).\r\n\r\nAlthought the target platform does have `org.eclipse.osgi` listed in its `Contents` view, I still get the following error message when the tycho build runs:\r\n\r\n```\r\n[DEBUG] No solution found because the problem is unsatisfiable.: [Unable to satisfy dependency from j17-jaxws-fragment 1.0.0.qualifier to osgi.bundle; org.eclipse.osgi 0.0.0.; No solutio\r\nn found because the problem is unsatisfiable.]\r\n[INFO] {osgi.os=win32, osgi.ws=win32, org.eclipse.update.install.features=true, osgi.arch=x86_64}\r\n[ERROR] Cannot resolve project dependencies:\r\n[ERROR]   Software being installed: j17-jaxws-fragment 1.0.0.qualifier\r\n[ERROR]   Missing requirement: j17-jaxws-fragment 1.0.0.qualifier requires &#39;osgi.bundle; org.eclipse.osgi 0.0.0&#39; but it could not be found\r\n```\r\n\r\nEnvironment:\r\n\r\n```\r\nopenjdk version &quot;18.0.1.1&quot; 2022-04-22\r\nOpenJDK Runtime Environment (build 18.0.1.1+2-6)\r\nOpenJDK 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\nMaven home: C:\\apache-maven-3.8.5\r\nJava version: 18.0.1.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-18.0.1.1\r\nDefault locale: de_DE, platform encoding: UTF-8\r\n```\r\n\r\nI&#39;ve tried using the option `-Dtycho.debug.resolver=true` but I couldn&#39;t see anything which helped me.\r\n\r\n","title":"Tycho build not finding &#39;org.eclipse.osgi&#39; requirement","body":"<p>I have recently introduced a fragment project to a RCP app which provides JAX-WS components following a move from Java 8 to Java 11. The fragment host is <code>system.bundle</code>.</p>\n<p>A simple test RCP project works as I want, the JAX-WS components are resolved and a web service can be called successfully. The project is on Github: <a href=\"https://github.com/pramsden/tycho-test\" rel=\"nofollow noreferrer\">https://github.com/pramsden/tycho-test</a>.</p>\n<p>Althought the target platform does have <code>org.eclipse.osgi</code> listed in its <code>Contents</code> view, I still get the following error message when the tycho build runs:</p>\n<pre><code>[DEBUG] No solution found because the problem is unsatisfiable.: [Unable to satisfy dependency from j17-jaxws-fragment 1.0.0.qualifier to osgi.bundle; org.eclipse.osgi 0.0.0.; No solutio\nn found because the problem is unsatisfiable.]\n[INFO] {osgi.os=win32, osgi.ws=win32, org.eclipse.update.install.features=true, osgi.arch=x86_64}\n[ERROR] Cannot resolve project dependencies:\n[ERROR]   Software being installed: j17-jaxws-fragment 1.0.0.qualifier\n[ERROR]   Missing requirement: j17-jaxws-fragment 1.0.0.qualifier requires 'osgi.bundle; org.eclipse.osgi 0.0.0' but it could not be found\n</code></pre>\n<p>Environment:</p>\n<pre><code>openjdk version &quot;18.0.1.1&quot; 2022-04-22\nOpenJDK Runtime Environment (build 18.0.1.1+2-6)\nOpenJDK 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\nMaven home: C:\\apache-maven-3.8.5\nJava version: 18.0.1.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-18.0.1.1\nDefault locale: de_DE, platform encoding: UTF-8\n</code></pre>\n<p>I've tried using the option <code>-Dtycho.debug.resolver=true</code> but I couldn't see anything which helped me.</p>\n"},{"tags":["java","authentication","apache-kafka","jaas","apache-kafka-security"],"owner":{"account_id":8042133,"reputation":65,"user_id":6063508,"accept_rate":25,"display_name":"yassinec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679412646,"creation_date":1679412646,"question_id":75803232,"body_markdown":"I&#39;m implementing a module of authentication to kafka with the java api and i want to log clientAddress as an information.\r\n\r\nI found **AuthenticationContext** that can be used with **KafkaPrincipalBuilder** like this:\r\n\r\n```\r\npublic class CustomPrincipalBuilder implements KafkaPrincipalBuilder {\r\n    @Override\r\n    public KafkaPrincipal build(AuthenticationContext authenticationContext) {\r\n        return new KafkaPrincipal(&quot;user&quot;, authenticationContext.clientAddress().getHostAddress());\r\n    }\r\n}\r\n\r\n```\r\n\r\nbut i don&#39;t know what to pass as **AuthenticationContext** when invoking .**build()** method from the main class .\r\n\r\nThanks in advance,","title":"is there a way to get clientAddress with kafka while authentication?","body":"<p>I'm implementing a module of authentication to kafka with the java api and i want to log clientAddress as an information.</p>\n<p>I found <strong>AuthenticationContext</strong> that can be used with <strong>KafkaPrincipalBuilder</strong> like this:</p>\n<pre><code>public class CustomPrincipalBuilder implements KafkaPrincipalBuilder {\n    @Override\n    public KafkaPrincipal build(AuthenticationContext authenticationContext) {\n        return new KafkaPrincipal(&quot;user&quot;, authenticationContext.clientAddress().getHostAddress());\n    }\n}\n\n</code></pre>\n<p>but i don't know what to pass as <strong>AuthenticationContext</strong> when invoking .<strong>build()</strong> method from the main class .</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","spring-boot","hibernate","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1678814606,"post_id":75736199,"comment_id":133605089,"body_markdown":"For spring boot there is a specific [spring-boot-starter-json](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-json) json starter that includes the jackson-datatype-jsr310.","body":"For spring boot there is a specific <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-json\" rel=\"nofollow noreferrer\">spring-boot-starter-json</a> json starter that includes the jackson-datatype-jsr310."},{"owner":{"account_id":10744360,"reputation":31,"user_id":7906248,"display_name":"madrimas"},"score":0,"creation_date":1678817396,"post_id":75736199,"comment_id":133605860,"body_markdown":"I&#39;ve checked it, but it didn&#39;t change anything - moreover, I already have 4 of 6 dependencies from `spring-boot-starter-json` in my POM","body":"I&#39;ve checked it, but it didn&#39;t change anything - moreover, I already have 4 of 6 dependencies from <code>spring-boot-starter-json</code> in my POM"}],"answers":[{"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1692208308,"post_id":75803136,"comment_id":135593644,"body_markdown":"I created https://hibernate.atlassian.net/browse/HHH-17098 for this inconvenience. Would that help you or do you need other custom configurations on the `ObjectMapper`?","body":"I created <a href=\"https://hibernate.atlassian.net/browse/HHH-17098\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-17098</a> for this inconvenience. Would that help you or do you need other custom configurations on the <code>ObjectMapper</code>?"},{"owner":{"account_id":10744360,"reputation":31,"user_id":7906248,"display_name":"madrimas"},"score":0,"creation_date":1692638276,"post_id":75803136,"comment_id":135647973,"body_markdown":"I&#39;ve checked your PR (https://github.com/hibernate/hibernate-orm/pull/7194/commits/ddd1a3d59e7d770539034061b4255bdf42f10c76) - it&#39;s much better. However, for my needs, I have some customizations on objectMapper bean - so I have to keep this manually added part. The only way I don&#39;t need a manual override is `JacksonJsonFormatMapper` takes already configured `objectMapper` bean :) Anyway, thanks for this change","body":"I&#39;ve checked your PR (<a href=\"https://github.com/hibernate/hibernate-orm/pull/7194/commits/ddd1a3d59e7d770539034061b4255bdf42f10c76\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/pull/7194/commits/&hellip;</a>) - it&#39;s much better. However, for my needs, I have some customizations on objectMapper bean - so I have to keep this manually added part. The only way I don&#39;t need a manual override is <code>JacksonJsonFormatMapper</code> takes already configured <code>objectMapper</code> bean :) Anyway, thanks for this change"}],"tags":[],"owner":{"account_id":10744360,"reputation":31,"user_id":7906248,"display_name":"madrimas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679412200,"creation_date":1679412200,"answer_id":75803136,"question_id":75736199,"body_markdown":"After few days I realized that problem was caused by my implementation (custom entityManagerFactory).\r\n\r\nI had to manually add JacksonJsonFormatMapper with custom ObjectMapper to JpaPropertyMap and now it works\r\n```\r\n    @Bean\r\n    public CommonHibernateProperties commonHibernateProperties(JpaProperties jpaProperties, ObjectMapper objectMapper) {\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\r\n        return new CommonHibernateProperties(properties);\r\n    }\r\n```","title":"Hibernate 6: JSON type with Instant cannot be serialized","body":"<p>After few days I realized that problem was caused by my implementation (custom entityManagerFactory).</p>\n<p>I had to manually add JacksonJsonFormatMapper with custom ObjectMapper to JpaPropertyMap and now it works</p>\n<pre><code>    @Bean\n    public CommonHibernateProperties commonHibernateProperties(JpaProperties jpaProperties, ObjectMapper objectMapper) {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(jpaProperties.getProperties());\n        properties.put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\n        return new CommonHibernateProperties(properties);\n    }\n</code></pre>\n"}],"owner":{"account_id":10744360,"reputation":31,"user_id":7906248,"display_name":"madrimas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679412200,"creation_date":1678813045,"question_id":75736199,"body_markdown":"I try to switch from Spring Boot 2.7/Hibernate 5.6 to Spring Boot 3/Hibernate 6.1.\r\nHibernate 6 supports JSON definition type by default:\r\n\r\n```\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private MyEntity myEntity;\r\n```\r\n\r\n```\r\n    public class MyEntity implements Serializable {\r\n        private String myString;\r\n        private Instant myInstant;\r\n    }\r\n```\r\n\r\nWhen I try to save this entity I&#39;ve got:\r\n\r\n```\r\nJava 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n```\r\n\r\nbut I&#39;ve already `jackson-datatype-jsr310` dependency in POM, there was also no problem before upgrade. `ObjectMapper` is configured properly.\r\n\r\nI&#39;ve found tip that I have to configure also `HibernatePropertiesCustomizer`:\r\n\r\n```\r\n    @Bean\r\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper){\r\n        return properties -&gt; properties.put(\r\n                AvailableSettings.JSON_FORMAT_MAPPER,\r\n                new JacksonJsonFormatMapper(objectMapper)\r\n        );\r\n    }\r\n```\r\n\r\nbut in my case it doesn&#39;t work. `HibernatePropertiesCustomizer` is registered properly, but problem still exists.\r\n\r\nWorkaround that I found is to create a new mapper implements `FormatMapper` with constructor:\r\n\r\n```\r\n    public MyMapper() {\r\n        this(new ObjectMapper().findAndRegisterModules());\r\n    }\r\n```\r\n\r\nand register it by `spring.jpa.properties.hibernate.type.json_format_mapper` property, but it&#39;s not a solution. I don&#39;t want to duplicate my ObjectMapper configuration.\r\n\r\nI&#39;m wondering why `HibernatePropertiesCustomizer` doesn&#39;t work in this case - any idea?","title":"Hibernate 6: JSON type with Instant cannot be serialized","body":"<p>I try to switch from Spring Boot 2.7/Hibernate 5.6 to Spring Boot 3/Hibernate 6.1.\nHibernate 6 supports JSON definition type by default:</p>\n<pre><code>    @JdbcTypeCode(SqlTypes.JSON)\n    private MyEntity myEntity;\n</code></pre>\n<pre><code>    public class MyEntity implements Serializable {\n        private String myString;\n        private Instant myInstant;\n    }\n</code></pre>\n<p>When I try to save this entity I've got:</p>\n<pre><code>Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n</code></pre>\n<p>but I've already <code>jackson-datatype-jsr310</code> dependency in POM, there was also no problem before upgrade. <code>ObjectMapper</code> is configured properly.</p>\n<p>I've found tip that I have to configure also <code>HibernatePropertiesCustomizer</code>:</p>\n<pre><code>    @Bean\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper){\n        return properties -&gt; properties.put(\n                AvailableSettings.JSON_FORMAT_MAPPER,\n                new JacksonJsonFormatMapper(objectMapper)\n        );\n    }\n</code></pre>\n<p>but in my case it doesn't work. <code>HibernatePropertiesCustomizer</code> is registered properly, but problem still exists.</p>\n<p>Workaround that I found is to create a new mapper implements <code>FormatMapper</code> with constructor:</p>\n<pre><code>    public MyMapper() {\n        this(new ObjectMapper().findAndRegisterModules());\n    }\n</code></pre>\n<p>and register it by <code>spring.jpa.properties.hibernate.type.json_format_mapper</code> property, but it's not a solution. I don't want to duplicate my ObjectMapper configuration.</p>\n<p>I'm wondering why <code>HibernatePropertiesCustomizer</code> doesn't work in this case - any idea?</p>\n"},{"tags":["java","api","http"],"comments":[{"owner":{"account_id":87779,"reputation":33895,"user_id":243245,"accept_rate":70,"display_name":"Rup"},"score":0,"creation_date":1600040377,"post_id":63876345,"comment_id":112954491,"body_markdown":"You&#39;re missing a body for the POST I think. Is that deliberate - should this be an empty POST? It could be it&#39;s expecting you to write something to conn.getOutputStream().","body":"You&#39;re missing a body for the POST I think. Is that deliberate - should this be an empty POST? It could be it&#39;s expecting you to write something to conn.getOutputStream()."},{"owner":{"account_id":87779,"reputation":33895,"user_id":243245,"accept_rate":70,"display_name":"Rup"},"score":1,"creation_date":1600040466,"post_id":63876345,"comment_id":112954504,"body_markdown":"Looking at [the documentation you&#39;ve linked to](https://developer.spotify.com/documentation/general/guides/authorization-guide/#1-have-your-application-request-authorization-1), &quot;grant_type=client_credentials&quot; should be in the POST body, not the headers. Can you show us the Python code you&#39;re trying to port? (Ideally as text, not a YouTube video.)","body":"Looking at <a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/#1-have-your-application-request-authorization-1\" rel=\"nofollow noreferrer\">the documentation you&#39;ve linked to</a>, &quot;grant_type=client_credentials&quot; should be in the POST body, not the headers. Can you show us the Python code you&#39;re trying to port? (Ideally as text, not a YouTube video.)"},{"owner":{"account_id":18210139,"reputation":21,"user_id":13252819,"display_name":"TootLoops"},"score":0,"creation_date":1600042058,"post_id":63876345,"comment_id":112954734,"body_markdown":"I have added the Python code that generates the access token to the original post. I agree with the comment that I should have information in the body of the POST but don&#39;t know how to differentiate between making the information a header versus a body?","body":"I have added the Python code that generates the access token to the original post. I agree with the comment that I should have information in the body of the POST but don&#39;t know how to differentiate between making the information a header versus a body?"}],"answers":[{"tags":[],"owner":{"account_id":18210139,"reputation":21,"user_id":13252819,"display_name":"TootLoops"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600223914,"creation_date":1600223914,"answer_id":63912346,"question_id":63876345,"body_markdown":"Thanks to Rup I was able to identify the issue. I was not properly sending anything with the POST. I added .getOutputStream() so send the request and .getInputStream() to receive the response. \r\n\r\n\t\t\r\n\t\t//create url access point\r\n\t\tURL url = new URL(tokenURL);\r\n\t\t\r\n\t\t//open http connection to url\r\n        conn = (HttpURLConnection) url.openConnection();\r\n        conn.setDoOutput(true); \r\n        conn.setDoInput(true);\r\n        \r\n        //setup post function and request headers\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setRequestProperty(&quot;Authorization&quot;,String.format(&quot;Basic %s&quot;, clientCredEncode));\r\n\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\t//set body for posting\r\n\t\tString body = &quot;grant_type=client_credentials&quot;;\r\n\t\t\r\n\t\t//calculate and set content length\r\n\t\tbyte[] out = body.getBytes(StandardCharsets.UTF_8);\r\n\t\tint length = out.length; \r\n\t\tconn.setFixedLengthStreamingMode(length);\r\n\t\t\r\n\t\t//connect to http\r\n\t\tconn.connect();\r\n\t\t//}\r\n\t\t\r\n\t\t//send bytes to spotify\r\n\t\ttry(OutputStream os = conn.getOutputStream()) {\r\n\t\t    os.write(out);\r\n\t\t}\r\n\t\t\r\n\t\t//receive access token\r\n        InputStream result = conn.getInputStream();\r\n        s = new String(result.readAllBytes());\r\n        //System.out.println(s);","title":"How to get access token from Spotify API? [java]","body":"<p>Thanks to Rup I was able to identify the issue. I was not properly sending anything with the POST. I added .getOutputStream() so send the request and .getInputStream() to receive the response.</p>\n<pre><code>    //create url access point\n    URL url = new URL(tokenURL);\n    \n    //open http connection to url\n    conn = (HttpURLConnection) url.openConnection();\n    conn.setDoOutput(true); \n    conn.setDoInput(true);\n    \n    //setup post function and request headers\n    conn.setRequestMethod(&quot;POST&quot;);\n    conn.setRequestProperty(&quot;Authorization&quot;,String.format(&quot;Basic %s&quot;, clientCredEncode));\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n    //set body for posting\n    String body = &quot;grant_type=client_credentials&quot;;\n    \n    //calculate and set content length\n    byte[] out = body.getBytes(StandardCharsets.UTF_8);\n    int length = out.length; \n    conn.setFixedLengthStreamingMode(length);\n    \n    //connect to http\n    conn.connect();\n    //}\n    \n    //send bytes to spotify\n    try(OutputStream os = conn.getOutputStream()) {\n        os.write(out);\n    }\n    \n    //receive access token\n    InputStream result = conn.getInputStream();\n    s = new String(result.readAllBytes());\n    //System.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14364740,"reputation":81,"user_id":10376131,"display_name":"Santhosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635918852,"creation_date":1635918499,"answer_id":69820176,"question_id":63876345,"body_markdown":"For anyone whos looking for the same, Here&#39;s a better one\r\n\r\n```\r\nimport com.google.gson.JsonParser;\r\nimport java.io.*;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class SpotifyToken {\r\n    public String accessToken = &quot;&quot;;\r\n    public String expiresIn = &quot;&quot;;\r\n\r\n\r\n    public void get() throws IOException {\r\n\r\n        URL url = new URL(Endpoints.TOKEN);\r\n        HttpURLConnection http = (HttpURLConnection) url.openConnection();\r\n        http.setRequestMethod(&quot;POST&quot;);\r\n        http.setDoOutput(true);\r\n        http.setRequestProperty(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n        String data = &quot;grant_type=client_credentials&amp;client_id=&quot; + Endpoints.CLIENT_ID + &quot;&amp;client_secret=&quot; + Endpoints.CLIENT_SECRET + &quot;&quot;;\r\n\r\n        byte[] out = data.getBytes(StandardCharsets.UTF_8);\r\n\r\n        OutputStream stream = http.getOutputStream();\r\n        stream.write(out);\r\n\r\n        BufferedReader Lines = new BufferedReader(new InputStreamReader(http.getInputStream()));\r\n        String currentLine = Lines.readLine();\r\n        StringBuilder response = new StringBuilder();\r\n        while (currentLine != null) {\r\n            response.append(currentLine).append(&quot;\\n&quot;);\r\n            currentLine = Lines.readLine();\r\n        }\r\n\r\n        this.accessToken = String.valueOf(JsonParser.parseString(String.valueOf(response)).getAsJsonObject().getAsJsonObject(&quot;access_token&quot;));\r\n        this.expiresIn = String.valueOf(JsonParser.parseString(String.valueOf(response)).getAsJsonObject().getAsJsonObject(&quot;expires_in&quot;));\r\n\r\n        http.disconnect();\r\n    }\r\n}\r\n```\r\n\r\nThe class Endpoints.java will be\r\n\r\n```\r\npublic class Endpoints {\r\n    public static final String CLIENT_ID = &quot;YOUR_CLIENT_ID&quot;;\r\n    public static final String CLIENT_SECRET = &quot;YOUR_CLIENT_SECRET&quot;;\r\n    public static final String TOKEN = &quot;https://accounts.spotify.com/api/token&quot;;\r\n}\r\n\r\n```\r\n\r\nIf it interests you, here is the cURL command for the same:\r\n```\r\ncurl --request POST \\\r\n  --url &#39;https://accounts.spotify.com/api/token&#39; \\\r\n  --header &#39;content-type: application/x-www-form-urlencoded&#39; \\\r\n  --data grant_type=client_credentials \\\r\n  --data client_id=YOUR_CLIENT_ID \\\r\n  --data client_secret=YOUR_CLIENT_SECRET \\\r\n```\r\n\r\nI used [this][1] tool to convert cURL to java code.\r\n\r\n\r\n  [1]: https://reqbin.com/req/java/c-w7oitglz/convert-curl-to-http-request","title":"How to get access token from Spotify API? [java]","body":"<p>For anyone whos looking for the same, Here's a better one</p>\n<pre><code>import com.google.gson.JsonParser;\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class SpotifyToken {\n    public String accessToken = &quot;&quot;;\n    public String expiresIn = &quot;&quot;;\n\n\n    public void get() throws IOException {\n\n        URL url = new URL(Endpoints.TOKEN);\n        HttpURLConnection http = (HttpURLConnection) url.openConnection();\n        http.setRequestMethod(&quot;POST&quot;);\n        http.setDoOutput(true);\n        http.setRequestProperty(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n        String data = &quot;grant_type=client_credentials&amp;client_id=&quot; + Endpoints.CLIENT_ID + &quot;&amp;client_secret=&quot; + Endpoints.CLIENT_SECRET + &quot;&quot;;\n\n        byte[] out = data.getBytes(StandardCharsets.UTF_8);\n\n        OutputStream stream = http.getOutputStream();\n        stream.write(out);\n\n        BufferedReader Lines = new BufferedReader(new InputStreamReader(http.getInputStream()));\n        String currentLine = Lines.readLine();\n        StringBuilder response = new StringBuilder();\n        while (currentLine != null) {\n            response.append(currentLine).append(&quot;\\n&quot;);\n            currentLine = Lines.readLine();\n        }\n\n        this.accessToken = String.valueOf(JsonParser.parseString(String.valueOf(response)).getAsJsonObject().getAsJsonObject(&quot;access_token&quot;));\n        this.expiresIn = String.valueOf(JsonParser.parseString(String.valueOf(response)).getAsJsonObject().getAsJsonObject(&quot;expires_in&quot;));\n\n        http.disconnect();\n    }\n}\n</code></pre>\n<p>The class Endpoints.java will be</p>\n<pre><code>public class Endpoints {\n    public static final String CLIENT_ID = &quot;YOUR_CLIENT_ID&quot;;\n    public static final String CLIENT_SECRET = &quot;YOUR_CLIENT_SECRET&quot;;\n    public static final String TOKEN = &quot;https://accounts.spotify.com/api/token&quot;;\n}\n\n</code></pre>\n<p>If it interests you, here is the cURL command for the same:</p>\n<pre><code>curl --request POST \\\n  --url 'https://accounts.spotify.com/api/token' \\\n  --header 'content-type: application/x-www-form-urlencoded' \\\n  --data grant_type=client_credentials \\\n  --data client_id=YOUR_CLIENT_ID \\\n  --data client_secret=YOUR_CLIENT_SECRET \\\n</code></pre>\n<p>I used <a href=\"https://reqbin.com/req/java/c-w7oitglz/convert-curl-to-http-request\" rel=\"nofollow noreferrer\">this</a> tool to convert cURL to java code.</p>\n"},{"tags":[],"owner":{"account_id":11918038,"reputation":1,"user_id":8721465,"display_name":"Antonio Sampere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679412171,"creation_date":1679412171,"answer_id":75803128,"question_id":63876345,"body_markdown":"Thank you for your code. I&#39;ve tried it, just a thing on the Santhosh answer, I&#39;ve a ClassCastException:\r\n```\r\nclass com.google.gson.JsonPrimitive cannot be cast to class\r\ncom.google.gson.JsonObject (com.google.gson.JsonPrimitive and\r\ncom.google.gson.JsonObject are in unnamed module of loader &#39;app&#39;)\r\n```\r\nThese calls:\r\n```\r\ngetAsJsonObject().getAsJsonObject(&quot;access_token&quot;)\r\ngetAsJsonObject().getAsJsonObject(&quot;expires_in&quot;)\r\n```\r\nwork this way:\r\n```\r\ngetAsJsonObject().getAsJsonPrimitive(&quot;access_token&quot;)\r\ngetAsJsonObject().getAsJsonPrimitive(&quot;expires_in&quot;)\r\n```","title":"How to get access token from Spotify API? [java]","body":"<p>Thank you for your code. I've tried it, just a thing on the Santhosh answer, I've a ClassCastException:</p>\n<pre><code>class com.google.gson.JsonPrimitive cannot be cast to class\ncom.google.gson.JsonObject (com.google.gson.JsonPrimitive and\ncom.google.gson.JsonObject are in unnamed module of loader 'app')\n</code></pre>\n<p>These calls:</p>\n<pre><code>getAsJsonObject().getAsJsonObject(&quot;access_token&quot;)\ngetAsJsonObject().getAsJsonObject(&quot;expires_in&quot;)\n</code></pre>\n<p>work this way:</p>\n<pre><code>getAsJsonObject().getAsJsonPrimitive(&quot;access_token&quot;)\ngetAsJsonObject().getAsJsonPrimitive(&quot;expires_in&quot;)\n</code></pre>\n"}],"owner":{"account_id":18210139,"reputation":21,"user_id":13252819,"display_name":"TootLoops"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63912346,"answer_count":3,"score":0,"last_activity_date":1679412171,"creation_date":1600038059,"question_id":63876345,"body_markdown":"I am fairly new to programming with Java but am interested in creating a program that allows for connection to the Spotify API. I am using the [Client Credential Flow][1] authorization process but keep getting `java.io.IOException: insufficient data written` exception when trying to reach the access token. I cannot figure out what information I am missing to complete the request. \r\n\r\nI found a YouTube video of the same process being completed in Python and they utilized the requests feature and .json() to receive the access token. Is there a similar way to complete this in Java?\r\n\r\n    \t\ttry {\r\n\t\tString str = &quot;application/x-www-form-urlencoded&quot;;\r\n\t\tbyte[]  hold = str.getBytes();\r\n\t\t\r\n\t\t//create url\r\n\t\tURL url = new URL(tokenURL);\r\n\t\t//open connection to url\r\n        conn = (HttpURLConnection) url.openConnection();\r\n        conn.setDoOutput(true); \r\n        conn.setDoInput(true);\r\n        \r\n        //setup post headers and body\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setFixedLengthStreamingMode(32);\r\n        conn.setRequestProperty(&quot;Authorization&quot;,String.format(&quot;Basic %s&quot;, clientCredEncode));\r\n        conn.setRequestProperty(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t\tconn.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.85 Safari/537.36&quot;);\r\n        \r\n\t\t//validate connection\r\n\t\tint val = conn.getResponseCode();\r\n\t\tString response = conn.getResponseMessage();\r\n\t\tSystem.out.println(&quot;response code: &quot; + val);\r\n\t\tSystem.out.println(&quot;response: &quot; + response);\r\n\r\n\t\t}catch(Exception e){\r\n\t\t\tSystem.out.println(&quot;error: &quot; + e); \r\n\t\t\tconn.disconnect();\r\n\t\t}\r\n\r\n \r\n\r\n**PYTHON CODE**\r\nThis code performs the action in python. \r\n\r\n    def spotifyAuth(clientID, clientSecret):\r\n    clientCred = f&quot;{clientID}:{clientSecret}&quot;\r\n    encodedClient = base64.b64encode(clientCred.encode())\r\n\r\n    tokenURL = &quot;https://accounts.spotify.com/api/token&quot;\r\n    method = &quot;POST&quot;\r\n\r\n    tokenData = {&quot;grant_type&quot; : &quot;client_credentials&quot;}\r\n\r\n    tokenHeader = {&quot;Authorization&quot; : f&quot;Basic {encodedClient.decode()}&quot;}\r\n\r\n    r = requests.post(tokenURL, data=tokenData, headers=tokenHeader)\r\n    tokenResponse = r.json()\r\n\r\n    accessToken = tokenResponse[&#39;access_token&#39;]\r\n    expires = tokenResponse[&#39;expires_in&#39;]\r\n\r\n    return accessToken, expires\r\n\r\n\r\n\r\n  [1]: https://developer.spotify.com/documentation/general/guides/authorization-guide/#client-credentials-flow","title":"How to get access token from Spotify API? [java]","body":"<p>I am fairly new to programming with Java but am interested in creating a program that allows for connection to the Spotify API. I am using the <a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/#client-credentials-flow\" rel=\"nofollow noreferrer\">Client Credential Flow</a> authorization process but keep getting <code>java.io.IOException: insufficient data written</code> exception when trying to reach the access token. I cannot figure out what information I am missing to complete the request.</p>\n<p>I found a YouTube video of the same process being completed in Python and they utilized the requests feature and .json() to receive the access token. Is there a similar way to complete this in Java?</p>\n<pre><code>        try {\n    String str = &quot;application/x-www-form-urlencoded&quot;;\n    byte[]  hold = str.getBytes();\n    \n    //create url\n    URL url = new URL(tokenURL);\n    //open connection to url\n    conn = (HttpURLConnection) url.openConnection();\n    conn.setDoOutput(true); \n    conn.setDoInput(true);\n    \n    //setup post headers and body\n    conn.setRequestMethod(&quot;POST&quot;);\n    conn.setFixedLengthStreamingMode(32);\n    conn.setRequestProperty(&quot;Authorization&quot;,String.format(&quot;Basic %s&quot;, clientCredEncode));\n    conn.setRequestProperty(&quot;grant_type&quot;, &quot;client_credentials&quot;);\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    conn.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.85 Safari/537.36&quot;);\n    \n    //validate connection\n    int val = conn.getResponseCode();\n    String response = conn.getResponseMessage();\n    System.out.println(&quot;response code: &quot; + val);\n    System.out.println(&quot;response: &quot; + response);\n\n    }catch(Exception e){\n        System.out.println(&quot;error: &quot; + e); \n        conn.disconnect();\n    }\n</code></pre>\n<p><strong>PYTHON CODE</strong>\nThis code performs the action in python.</p>\n<pre><code>def spotifyAuth(clientID, clientSecret):\nclientCred = f&quot;{clientID}:{clientSecret}&quot;\nencodedClient = base64.b64encode(clientCred.encode())\n\ntokenURL = &quot;https://accounts.spotify.com/api/token&quot;\nmethod = &quot;POST&quot;\n\ntokenData = {&quot;grant_type&quot; : &quot;client_credentials&quot;}\n\ntokenHeader = {&quot;Authorization&quot; : f&quot;Basic {encodedClient.decode()}&quot;}\n\nr = requests.post(tokenURL, data=tokenData, headers=tokenHeader)\ntokenResponse = r.json()\n\naccessToken = tokenResponse['access_token']\nexpires = tokenResponse['expires_in']\n\nreturn accessToken, expires\n</code></pre>\n"},{"tags":["java","jackson-databind"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679412124,"creation_date":1679412124,"question_id":75803116,"body_markdown":"I am getting the above-reported flaw by the scan tool:\r\n\r\n```\r\nImproper Restriction of XML External Entity Reference (CWE ID 611)\r\njackson-databind-2.13.0-rc1.jar   - com/.../ext/DOMSerializer.java 45\r\nwoodstox-core-6.2.4.jar  -  com/.../reader/GrammarReader.java 526\r\nwoodstox-core-6.2.4.jar  -  com/.../WSDLSchemaReader.java 118\r\n```\r\n\r\nI got the same flaw in my code, and I was able to resolve it. But how can I handle this flaw in the jackson-databind dependency? Is there anything I should do in my code to prevent such flaws to be reported?\r\n\r\nI did research this issue, and the closest thing I found is this: https://github.com/FasterXML/jackson-databind/issues/3387\r\n\r\nOther flaws reported which I need to resolve also:\r\n\r\n```\r\nExternal Control of File Name or Path (CWE ID 73)\r\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 49\r\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 85\r\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 155\r\nstax2-api-4.2.1.jar      -.../XMLValidationSchemaFactory.java 153\r\n\r\n\r\nUse of Externally-Controlled Input to Select Classes or Code (&#39;Unsafe Reflection&#39;) (CWE ID470)\r\nwoodstox-core-6.2.4.jar  -  .../DatatypeLibraryLoader$Service$Loader.java 1\r\nwoodstox-core-6.2.4.jar  -  .../DatatypeLibraryLoader$Service$Loader2.java 1\r\nwoodstox-core-6.2.4.jar  -  com/.../VerifierFactory.java 157\r\nstax2-api-4.2.1.jar   -  .../XMLValidationSchemaFactory.java 302\r\nstax2-api-4.2.1.jar   -  .../XMLValidationSchemaFactory.java304\r\n```","title":"Scan tool reporting Improper Restriction of XML External Entity Reference (CWE ID 611) in fasterXML jackson-databind and related dependencies","body":"<p>I am getting the above-reported flaw by the scan tool:</p>\n<pre><code>Improper Restriction of XML External Entity Reference (CWE ID 611)\njackson-databind-2.13.0-rc1.jar   - com/.../ext/DOMSerializer.java 45\nwoodstox-core-6.2.4.jar  -  com/.../reader/GrammarReader.java 526\nwoodstox-core-6.2.4.jar  -  com/.../WSDLSchemaReader.java 118\n</code></pre>\n<p>I got the same flaw in my code, and I was able to resolve it. But how can I handle this flaw in the jackson-databind dependency? Is there anything I should do in my code to prevent such flaws to be reported?</p>\n<p>I did research this issue, and the closest thing I found is this: <a href=\"https://github.com/FasterXML/jackson-databind/issues/3387\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/3387</a></p>\n<p>Other flaws reported which I need to resolve also:</p>\n<pre><code>External Control of File Name or Path (CWE ID 73)\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 49\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 85\nwoodstox-core-6.2.4.jar  - com/.../wstx/util/URLUtil.java 155\nstax2-api-4.2.1.jar      -.../XMLValidationSchemaFactory.java 153\n\n\nUse of Externally-Controlled Input to Select Classes or Code ('Unsafe Reflection') (CWE ID470)\nwoodstox-core-6.2.4.jar  -  .../DatatypeLibraryLoader$Service$Loader.java 1\nwoodstox-core-6.2.4.jar  -  .../DatatypeLibraryLoader$Service$Loader2.java 1\nwoodstox-core-6.2.4.jar  -  com/.../VerifierFactory.java 157\nstax2-api-4.2.1.jar   -  .../XMLValidationSchemaFactory.java 302\nstax2-api-4.2.1.jar   -  .../XMLValidationSchemaFactory.java304\n</code></pre>\n"},{"tags":["java","instrumentation","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":1327639,"reputation":656,"user_id":1272149,"accept_rate":89,"display_name":"Danny Dyla"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679411968,"creation_date":1679411968,"answer_id":75803096,"question_id":75755265,"body_markdown":"The `AutoConfiguredOpenTelemetrySdk` is just a wrapper around the builder classes for the SDK and its component pieces. You can use those builder classes directly.\r\n\r\nYou can find the documentation for this type of setup here: https://opentelemetry.io/docs/instrumentation/java/manual/#sdk-configuration\r\n\r\n```\r\n// Create an instance of the OpenTelemetrySdk class.\r\nOpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder()\r\n    .setTracerProvider(\r\n        SdkTracerProvider.builder()\r\n            // Customize the resource if desired.\r\n            .setResource(Resource.create()\r\n                .merge(this.customizeResource(Resource.getDefault()))\r\n            )\r\n            .build()\r\n    )\r\n    .build();\r\n\r\n// Create an instance of the OpenTelemetry interface using the OpenTelemetrySdk.\r\nOpenTelemetry openTelemetry = openTelemetrySdk.getOpenTelemetry();\r\n```","title":"OpenTelemetry configuration without AutoConfiguredOpenTelemetrySdk","body":"<p>The <code>AutoConfiguredOpenTelemetrySdk</code> is just a wrapper around the builder classes for the SDK and its component pieces. You can use those builder classes directly.</p>\n<p>You can find the documentation for this type of setup here: <a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/#sdk-configuration\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/manual/#sdk-configuration</a></p>\n<pre><code>// Create an instance of the OpenTelemetrySdk class.\nOpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder()\n    .setTracerProvider(\n        SdkTracerProvider.builder()\n            // Customize the resource if desired.\n            .setResource(Resource.create()\n                .merge(this.customizeResource(Resource.getDefault()))\n            )\n            .build()\n    )\n    .build();\n\n// Create an instance of the OpenTelemetry interface using the OpenTelemetrySdk.\nOpenTelemetry openTelemetry = openTelemetrySdk.getOpenTelemetry();\n</code></pre>\n"}],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75803096,"answer_count":1,"score":0,"last_activity_date":1679411968,"creation_date":1678964146,"question_id":75755265,"body_markdown":"I need to configure OpenTelemetry without using AutoConfiguredOpenTelemetrySdk. \r\nHow can I achieve the same functionality of the code below:\r\n\r\n```\r\n OpenTelemetry openTelemetry = AutoConfiguredOpenTelemetrySdk.builder()\r\n                        .addPropertiesCustomizer(x -&gt; telemetryProperties)\r\n                        .addResourceCustomizer(this::customizeResource)\r\n                        .setServiceClassLoader(Thread.currentThread().getContextClassLoader())\r\n                        .setResultAsGlobal(false)\r\n                        .registerShutdownHook(false)\r\n                        .build()\r\n                        .getOpenTelemetrySdk();\r\n```\r\n\r\nThank you!","title":"OpenTelemetry configuration without AutoConfiguredOpenTelemetrySdk","body":"<p>I need to configure OpenTelemetry without using AutoConfiguredOpenTelemetrySdk.\nHow can I achieve the same functionality of the code below:</p>\n<pre><code> OpenTelemetry openTelemetry = AutoConfiguredOpenTelemetrySdk.builder()\n                        .addPropertiesCustomizer(x -&gt; telemetryProperties)\n                        .addResourceCustomizer(this::customizeResource)\n                        .setServiceClassLoader(Thread.currentThread().getContextClassLoader())\n                        .setResultAsGlobal(false)\n                        .registerShutdownHook(false)\n                        .build()\n                        .getOpenTelemetrySdk();\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6647496,"reputation":8489,"user_id":5131026,"accept_rate":75,"display_name":"Ely"},"score":1,"creation_date":1679391077,"post_id":75799152,"comment_id":133709017,"body_markdown":"Does this answer your question? [The constructor WebDriverWait(chromeDriver, int) is undefined](https://stackoverflow.com/questions/71761074/the-constructor-webdriverwaitchromedriver-int-is-undefined)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71761074/the-constructor-webdriverwaitchromedriver-int-is-undefined\">The constructor WebDriverWait(chromeDriver, int) is undefined</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679423863,"post_id":75799152,"comment_id":133718954,"body_markdown":"Don&#39;t recreate the webdriverwait class, just know that they changed it&#39;s constructor so that it takes a time unit instead of &quot;int&quot;.  So change your call to using a Duration instead of an int.","body":"Don&#39;t recreate the webdriverwait class, just know that they changed it&#39;s constructor so that it takes a time unit instead of &quot;int&quot;.  So change your call to using a Duration instead of an int."},{"owner":{"account_id":28073854,"reputation":1,"user_id":21446038,"display_name":"janhvi"},"score":0,"creation_date":1679479458,"post_id":75799152,"comment_id":133728033,"body_markdown":"Thank you, i tried ur solution and it&#39;s working fine","body":"Thank you, i tried ur solution and it&#39;s working fine"}],"owner":{"account_id":28073854,"reputation":1,"user_id":21446038,"display_name":"janhvi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679411883,"creation_date":1679389525,"question_id":75799152,"body_markdown":"After updating the selenium version ,getting error `The constructor WebDriverWait(WebDriver, int) is undefined`. Please I need a solution for this. \r\n\r\nI tried this solution but facing issue  \r\n````\r\npublic WebDriverWait(WebDriver driver, Duration timeout) {\r\n    this(\r\n        driver,\r\n        timeout,\r\n        Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\r\n        Clock.systemDefaultZone(),\r\n        Sleeper.SYSTEM_SLEEPER);\r\n  }\r\n````","title":"After updating the selenium version getting","body":"<p>After updating the selenium version ,getting error <code>The constructor WebDriverWait(WebDriver, int) is undefined</code>. Please I need a solution for this.</p>\n<p>I tried this solution but facing issue</p>\n<pre><code>public WebDriverWait(WebDriver driver, Duration timeout) {\n    this(\n        driver,\n        timeout,\n        Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\n        Clock.systemDefaultZone(),\n        Sleeper.SYSTEM_SLEEPER);\n  }\n</code></pre>\n"},{"tags":["java","mqtt","erl","emqx"],"answers":[{"tags":[],"owner":{"account_id":1643620,"reputation":1,"user_id":1515605,"display_name":"user1515605"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679411868,"creation_date":1678864961,"answer_id":75741573,"question_id":75720417,"body_markdown":"There are three options\r\n1. Put the config somewhere outside of `emqx` release directory, and use absolute path in the `hocon:load` call\r\n2. Call `code:priv_dir(emqx_plugin_messenger)` to get the path of your app&#39;s `priv` directory\r\n3. Put the config in `EMQX data/` directory, and call `emqx:data_dir()` to get it.\r\n\r\n","title":"How to config and get value in plugin emqx","body":"<p>There are three options</p>\n<ol>\n<li>Put the config somewhere outside of <code>emqx</code> release directory, and use absolute path in the <code>hocon:load</code> call</li>\n<li>Call <code>code:priv_dir(emqx_plugin_messenger)</code> to get the path of your app's <code>priv</code> directory</li>\n<li>Put the config in <code>EMQX data/</code> directory, and call <code>emqx:data_dir()</code> to get it.</li>\n</ol>\n"}],"owner":{"account_id":28004565,"reputation":1,"user_id":21388183,"display_name":"Nguyễn Ho&#224;ng Anh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679411868,"creation_date":1678702039,"question_id":75720417,"body_markdown":"i&#39;m using [emqx v5](https://github.com/emqx/emqx) to pub,sub, connect, v.v.. Meanwhile, I&#39;ve been developing my plugin and plugin template from [this](https://github.com/emqx/emqx-plugin-template). \r\n\r\nNormally, in emqx-plugin-template.erl, i declare my constant like this\r\n\r\n![enter image description here](https://i.stack.imgur.com/5auE1.png) \r\n\r\nand i can use it from all funtion in this file. But now i want to save them in pri/config.hocon and get them to use similarly. \r\nThis is structure of plugin\r\n\r\n![enter image description here](https://i.stack.imgur.com/ukZo3.png)\r\n\r\nI&#39;m having a hard time figuring out how to get them out and how to declare them so I can use them in as many functions as before. Please guide me.\r\n\r\nI try: hocon:load(file name) and maps:get(key, Config) but is is match to a file in emqx/_build/emqx/rel/emqx/config.hocon (this is server emqx)..&#237;t&#39;s work but that&#39;s not what I want because the author of the template already has pri/config.hocon available and i just want to touch my plugin not eqmx server","title":"How to config and get value in plugin emqx","body":"<p>i'm using <a href=\"https://github.com/emqx/emqx\" rel=\"nofollow noreferrer\">emqx v5</a> to pub,sub, connect, v.v.. Meanwhile, I've been developing my plugin and plugin template from <a href=\"https://github.com/emqx/emqx-plugin-template\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>Normally, in emqx-plugin-template.erl, i declare my constant like this</p>\n<p><img src=\"https://i.stack.imgur.com/5auE1.png\" alt=\"enter image description here\" /></p>\n<p>and i can use it from all funtion in this file. But now i want to save them in pri/config.hocon and get them to use similarly.\nThis is structure of plugin</p>\n<p><img src=\"https://i.stack.imgur.com/ukZo3.png\" alt=\"enter image description here\" /></p>\n<p>I'm having a hard time figuring out how to get them out and how to declare them so I can use them in as many functions as before. Please guide me.</p>\n<p>I try: hocon:load(file name) and maps:get(key, Config) but is is match to a file in emqx/_build/emqx/rel/emqx/config.hocon (this is server emqx)..ít's work but that's not what I want because the author of the template already has pri/config.hocon available and i just want to touch my plugin not eqmx server</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263095,"reputation":4463,"user_id":1220955,"accept_rate":42,"display_name":"Hkachhia"},"score":0,"creation_date":1679389275,"post_id":75799069,"comment_id":133708515,"body_markdown":"Can you please share the code that you have tried?","body":"Can you please share the code that you have tried?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679389281,"post_id":75799069,"comment_id":133708517,"body_markdown":"can you share what you&#39;ve tried and why it failed?","body":"can you share what you&#39;ve tried and why it failed?"},{"owner":{"account_id":16165354,"reputation":224,"user_id":11670453,"display_name":"Bijal Sutariya"},"score":0,"creation_date":1679389284,"post_id":75799069,"comment_id":133708518,"body_markdown":"what issue are you facing by using https://stackoverflow.com/a/30183873/11670453?","body":"what issue are you facing by using <a href=\"https://stackoverflow.com/a/30183873/11670453\">stackoverflow.com/a/30183873/11670453</a>?"}],"answers":[{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679408990,"creation_date":1679389337,"answer_id":75799117,"question_id":75799069,"body_markdown":"Try something like this:\r\n\r\n```\r\nString result = source.replaceFirst(&quot;\\\\.webp$&quot;,&quot;.jpeg&quot;).replace(&quot;webp&quot;,&quot;jpg&quot;);\r\n```\r\n\r\n`replaceFirst()` will replace the extention, then `replace()` will replace the rest...","title":"Replace words in Java string","body":"<p>Try something like this:</p>\n<pre><code>String result = source.replaceFirst(&quot;\\\\.webp$&quot;,&quot;.jpeg&quot;).replace(&quot;webp&quot;,&quot;jpg&quot;);\n</code></pre>\n<p><code>replaceFirst()</code> will replace the extention, then <code>replace()</code> will replace the rest...</p>\n"}],"owner":{"account_id":26260429,"reputation":195,"user_id":19931837,"display_name":"Manisha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1679398173,"answer_count":1,"score":-3,"last_activity_date":1679411855,"creation_date":1679389069,"question_id":75799069,"body_markdown":"I have a String that looks like this:\r\n\r\n```\r\ndownloadUrl = &quot;https://example.com/uploads/images/quotes/hi/webp/dard-status-shayari-68854.webp&quot;;\r\n```\r\n\r\nIt is basically a URL address. I&#39;m looking to replace `webp` with `jpg` and `.webp` with `.jpeg`\r\n\r\nI need output like the below:\r\n\r\n```\r\nhttps://example.com/uploads/images/quotes/hi/jpg/dard-status-shayari-68854.jpeg\r\n```\r\n\r\nI tried the solution given [here][1] but it&#39;s not working for me.\r\n\r\n  [1]: https://stackoverflow.com/questions/30183807/java-string-replace-exact-word","title":"Replace words in Java string","body":"<p>I have a String that looks like this:</p>\n<pre><code>downloadUrl = &quot;https://example.com/uploads/images/quotes/hi/webp/dard-status-shayari-68854.webp&quot;;\n</code></pre>\n<p>It is basically a URL address. I'm looking to replace <code>webp</code> with <code>jpg</code> and <code>.webp</code> with <code>.jpeg</code></p>\n<p>I need output like the below:</p>\n<pre><code>https://example.com/uploads/images/quotes/hi/jpg/dard-status-shayari-68854.jpeg\n</code></pre>\n<p>I tried the solution given <a href=\"https://stackoverflow.com/questions/30183807/java-string-replace-exact-word\">here</a> but it's not working for me.</p>\n"},{"tags":["java","android-studio","animation","rotation","game-engine"],"comments":[{"owner":{"account_id":12722657,"reputation":67,"user_id":9242514,"accept_rate":33,"display_name":"Chralt"},"score":0,"creation_date":1517423207,"post_id":48548991,"comment_id":84093982,"body_markdown":"I know, the center point is the first point when the animation starts, but it does not change during animation. How can i fix it?","body":"I know, the center point is the first point when the animation starts, but it does not change during animation. How can i fix it?"}],"owner":{"account_id":12722657,"reputation":67,"user_id":9242514,"accept_rate":33,"display_name":"Chralt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679411613,"creation_date":1517422941,"question_id":48548991,"body_markdown":"I&#39;ve got one rotation animation to rotate one imageView around one fixed position (the center). Now I want to know in every second where the imageView, which rotates, is. In other words the imageView which rotates is a circle and I want to know the center point of this imageView during animation.\r\n\r\nThis is my code for the rotation:\r\n\r\n        WindowManager wm = getWindowManager();\r\n        Display disp = wm.getDefaultDisplay();\r\n        Point size = new Point();\r\n        disp.getSize(size);\r\n        screenWidth = size.x;\r\n        ImageView circle = (ImageView) findViewById(R.id.circle);\r\n        circle.setTranslationX(screenWidth/4);\r\n        RotateAnimation rotation = new RotateAnimation(0, 359, 50f, 50f);\r\n        rotation.setDuration(5000);\r\n        rotation.setRepeatCount(-1);\r\n        rotation.setInterpolator(new LinearInterpolator());\r\n        circle.startAnimation(rotation);\r\n\r\nIf I do this, it doesn&#180;t exactly know the location, something else... Could you explain?\r\n\r\n        ImageView circle = (ImageView)findViewById(R.id.circle);\r\n        circleX = circle.getX();\r\n        circleY = circle.getY();\r\n        int circleCenterX = (int) circleX + circle.getWidth() / 2;\r\n        int circleCenterY = (int) circleY + circle.getHeight() / 2;","title":"Knowing the center point of an imageView rotation during animation","body":"<p>I've got one rotation animation to rotate one imageView around one fixed position (the center). Now I want to know in every second where the imageView, which rotates, is. In other words the imageView which rotates is a circle and I want to know the center point of this imageView during animation.</p>\n<p>This is my code for the rotation:</p>\n<pre><code>    WindowManager wm = getWindowManager();\n    Display disp = wm.getDefaultDisplay();\n    Point size = new Point();\n    disp.getSize(size);\n    screenWidth = size.x;\n    ImageView circle = (ImageView) findViewById(R.id.circle);\n    circle.setTranslationX(screenWidth/4);\n    RotateAnimation rotation = new RotateAnimation(0, 359, 50f, 50f);\n    rotation.setDuration(5000);\n    rotation.setRepeatCount(-1);\n    rotation.setInterpolator(new LinearInterpolator());\n    circle.startAnimation(rotation);\n</code></pre>\n<p>If I do this, it doesn´t exactly know the location, something else... Could you explain?</p>\n<pre><code>    ImageView circle = (ImageView)findViewById(R.id.circle);\n    circleX = circle.getX();\n    circleY = circle.getY();\n    int circleCenterX = (int) circleX + circle.getWidth() / 2;\n    int circleCenterY = (int) circleY + circle.getHeight() / 2;\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679411433,"creation_date":1679411433,"answer_id":75802989,"question_id":75799659,"body_markdown":"The line `ch.addArguments(&quot;--remote-allow-origins=*&quot;);` is expecting the array of strings and you are passing a string, so remove `s` from  `addArguments`\r\n\r\nLike you have to change your code \r\n\r\n***From*** \r\n\r\n    ChromeOptions ch = new ChromeOptions();\r\n    ch.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    WebDriver driver = new ChromeDriver(ch);\r\n\r\n***To***\r\n\r\n    ChromeOptions ch = new ChromeOptions();\r\n    ch.addArgument(&quot;--remote-allow-origins=*&quot;);\r\n    WebDriver driver = new ChromeDriver(ch);","title":"ChromeDriver issue in 111 version","body":"<p>The line <code>ch.addArguments(&quot;--remote-allow-origins=*&quot;);</code> is expecting the array of strings and you are passing a string, so remove <code>s</code> from  <code>addArguments</code></p>\n<p>Like you have to change your code</p>\n<p><em><strong>From</strong></em></p>\n<pre><code>ChromeOptions ch = new ChromeOptions();\nch.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(ch);\n</code></pre>\n<p><em><strong>To</strong></em></p>\n<pre><code>ChromeOptions ch = new ChromeOptions();\nch.addArgument(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(ch);\n</code></pre>\n"}],"owner":{"account_id":28074329,"reputation":11,"user_id":21446441,"display_name":"praveen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679411433,"creation_date":1679392526,"question_id":75799659,"body_markdown":"````\r\n \tChromeOptions ch = new ChromeOptions();\r\n\tch.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\tWebDriver driver = new ChromeDriver(ch);\r\n````\r\n````\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe method addArguments(String[]) in the type ChromiumOptions&lt;ChromeOptions&gt; is not applicable for the arguments (String)\r\n````\r\nHow to resolve addArguments issue?","title":"ChromeDriver issue in 111 version","body":"<pre><code>    ChromeOptions ch = new ChromeOptions();\n    ch.addArguments(&quot;--remote-allow-origins=*&quot;);\n    WebDriver driver = new ChromeDriver(ch);\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    The method addArguments(String[]) in the type ChromiumOptions&lt;ChromeOptions&gt; is not applicable for the arguments (String)\n</code></pre>\n<p>How to resolve addArguments issue?</p>\n"},{"tags":["java","android","android-activity","android-location"],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679411276,"creation_date":1679411276,"answer_id":75802955,"question_id":75802447,"body_markdown":"You can mitigate the delay in getting updates by using [the last known location][1], which presumably will be pretty fresh if you&#39;ve obtained it in one activity before moving on to the next.\r\n\r\nIf that is insufficient for you needs, you can cache the location provider instance either via a singleton or in your custom application class (my preference, as the object belongs to the whole &quot;app&quot;).\r\n\r\n**Singleton Example:**\r\n\r\n    public class LocationProviderSingleton {\r\n        private static FusedLocationProviderClient instance\r\n\r\n        public static FusedLocationProviderClient get(Context context) {\r\n            if (instance == null) {\r\n                instance = LocationServices.getFusedLocationProviderClient(context.getApplicationContext())\r\n            }\r\n\r\n            return instance;\r\n        }\r\n    }\r\n\r\n**Application Example**\r\n\r\n    public class MyApp extends Application {\r\n        private FusedLocationProviderClient mLocationProvider;\r\n\r\n        public void onCreate() {\r\n            mLocationProvider = LocationServices.getFusedLocationProviderClient(this)\r\n        }\r\n\r\n        public FusedLocationProviderClient getLocationProvider() {\r\n            return mLocationProvider;\r\n        }\r\n    }\r\n\r\nThen in your activities:\r\n\r\n    LocationProviderSingleton.get(this)\r\n    // OR\r\n    (getApplicationContext() as MyApp).getLocationProvider()\r\n\r\n  [1]: https://developer.android.com/training/location/retrieve-current.html","title":"Can I share a FusedLocationProviderClient between several activities?","body":"<p>You can mitigate the delay in getting updates by using <a href=\"https://developer.android.com/training/location/retrieve-current.html\" rel=\"nofollow noreferrer\">the last known location</a>, which presumably will be pretty fresh if you've obtained it in one activity before moving on to the next.</p>\n<p>If that is insufficient for you needs, you can cache the location provider instance either via a singleton or in your custom application class (my preference, as the object belongs to the whole &quot;app&quot;).</p>\n<p><strong>Singleton Example:</strong></p>\n<pre><code>public class LocationProviderSingleton {\n    private static FusedLocationProviderClient instance\n\n    public static FusedLocationProviderClient get(Context context) {\n        if (instance == null) {\n            instance = LocationServices.getFusedLocationProviderClient(context.getApplicationContext())\n        }\n\n        return instance;\n    }\n}\n</code></pre>\n<p><strong>Application Example</strong></p>\n<pre><code>public class MyApp extends Application {\n    private FusedLocationProviderClient mLocationProvider;\n\n    public void onCreate() {\n        mLocationProvider = LocationServices.getFusedLocationProviderClient(this)\n    }\n\n    public FusedLocationProviderClient getLocationProvider() {\n        return mLocationProvider;\n    }\n}\n</code></pre>\n<p>Then in your activities:</p>\n<pre><code>LocationProviderSingleton.get(this)\n// OR\n(getApplicationContext() as MyApp).getLocationProvider()\n</code></pre>\n"}],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75802955,"answer_count":1,"score":1,"last_activity_date":1679411276,"creation_date":1679408598,"question_id":75802447,"body_markdown":"I have an app which uses positioning from GPS, like this:\r\n\r\n        FusedLocationProviderClient _locationProviderClient = LocationServices.getFusedLocationProviderClient(context);\r\n\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(500);\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                if (locationResult == null) {\r\n                    return;\r\n                }\r\n                for (Location location : locationResult.getLocations()) {\r\n                    if (location != null) {\r\n                        // Do some stuff with the location\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        _locationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\r\n\r\nNow, this works ok, although there is often a few seconds delay on my phone before it starts working. I can live with that, but a bigger problem is that my app consists of multiple activities, and each time it switches to a new activity, it takes a few seconds for the new activity to get location updates (since I execute the above code again in the new activity&#39;s &lt;code&gt;onCreate&lt;/code&gt;-method).\r\n\r\nSo my question is: Can I share the &lt;code&gt;FusedLocationProviderClient&lt;/code&gt; between activities, and if so, how?","title":"Can I share a FusedLocationProviderClient between several activities?","body":"<p>I have an app which uses positioning from GPS, like this:</p>\n<pre><code>    FusedLocationProviderClient _locationProviderClient = LocationServices.getFusedLocationProviderClient(context);\n\n    locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    locationRequest.setInterval(500);\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            if (locationResult == null) {\n                return;\n            }\n            for (Location location : locationResult.getLocations()) {\n                if (location != null) {\n                    // Do some stuff with the location\n                }\n            }\n        }\n    };\n\n    _locationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\n</code></pre>\n<p>Now, this works ok, although there is often a few seconds delay on my phone before it starts working. I can live with that, but a bigger problem is that my app consists of multiple activities, and each time it switches to a new activity, it takes a few seconds for the new activity to get location updates (since I execute the above code again in the new activity's <code>onCreate</code>-method).</p>\n<p>So my question is: Can I share the <code>FusedLocationProviderClient</code> between activities, and if so, how?</p>\n"},{"tags":["java","spring-boot","aws-sdk"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1679411753,"post_id":75802834,"comment_id":133715221,"body_markdown":"Q: Why do you think there might be any &quot;compatilibity issues&quot;?  Outside of &quot;minimum Java&quot; (for example, I doubt you could use Java 1.2 with most contemporary libraries)? Why not just use the latest/greatest AWS SDK in your Sprint Boot app?  There *shouldn&#39;t* be any strict dependency between Spring Boot version and AWS SDK version, should there?","body":"Q: Why do you think there might be any &quot;compatilibity issues&quot;?  Outside of &quot;minimum Java&quot; (for example, I doubt you could use Java 1.2 with most contemporary libraries)? Why not just use the latest/greatest AWS SDK in your Sprint Boot app?  There <i>shouldn&#39;t</i> be any strict dependency between Spring Boot version and AWS SDK version, should there?"}],"answers":[{"tags":[],"owner":{"account_id":2754668,"reputation":389,"user_id":2373122,"display_name":"David Lounsbrough"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679411165,"creation_date":1679411165,"answer_id":75802930,"question_id":75802834,"body_markdown":"It looks like version 2 of the AWS SDK would be supported for Java. \r\n\r\nRelevant links:\r\n\r\n[https://docs.aws.amazon.com/sdkref/latest/guide/version-support-matrix.html][1]\r\n\r\n[https://github.com/aws/aws-sdk-java-v2][2]\r\n\r\n[https://awspring.io/learn/introduction/#versions][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdkref/latest/guide/version-support-matrix.html\r\n  [2]: https://github.com/aws/aws-sdk-java-v2\r\n  [3]: https://awspring.io/learn/introduction/#versions","title":"What&#39;s the AWS SDK version that&#39;s compatible with Spring Boot 2.7.9?","body":"<p>It looks like version 2 of the AWS SDK would be supported for Java.</p>\n<p>Relevant links:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdkref/latest/guide/version-support-matrix.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdkref/latest/guide/version-support-matrix.html</a></p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2</a></p>\n<p><a href=\"https://awspring.io/learn/introduction/#versions\" rel=\"nofollow noreferrer\">https://awspring.io/learn/introduction/#versions</a></p>\n"}],"owner":{"account_id":2802819,"reputation":81,"user_id":2410726,"display_name":"SERGIO STATERI JUNIOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679411165,"creation_date":1679410733,"question_id":75802834,"body_markdown":"What&#39;s the AWS SDK version that&#39;s compatible with Spring Boot 2.7.9?\r\nIs there some compatibility matrix where I can know which version of each one I should use?\r\n\r\nThanks.","title":"What&#39;s the AWS SDK version that&#39;s compatible with Spring Boot 2.7.9?","body":"<p>What's the AWS SDK version that's compatible with Spring Boot 2.7.9?\nIs there some compatibility matrix where I can know which version of each one I should use?</p>\n<p>Thanks.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1679411742,"post_id":75802923,"comment_id":133715210,"body_markdown":"See [this comment](https://youtrack.jetbrains.com/issue/IDEA-307266/Source-options-5-and-6-no-longer-supported.-Is-Java-1.6-no-longer-supported-by-IntelliJ-2022.3#focus=Comments-27-6692930.0-0) for the explanation. TL;DR: IntelliJ IDEA uses JDK 11+ for compilation, but the target bytecode can be still 1.8 or 1.6.","body":"See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-307266/Source-options-5-and-6-no-longer-supported.-Is-Java-1.6-no-longer-supported-by-IntelliJ-2022.3#focus=Comments-27-6692930.0-0\" rel=\"nofollow noreferrer\">this comment</a> for the explanation. TL;DR: IntelliJ IDEA uses JDK 11+ for compilation, but the target bytecode can be still 1.8 or 1.6."}],"owner":{"account_id":8809630,"reputation":84,"user_id":6583060,"display_name":"Daiql"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679411151,"creation_date":1679411151,"question_id":75802923,"body_markdown":"When I uncheck this option and build project, idea will use Idea-setup-root\\jbr\\bin\\java.exe to build which current version is 17.0.6.\r\n\r\nBut I want idea build this project use Project JDK whick version is 1.8, although I set the Project JDK and Module JDK used Project JDK, it still doesn&#39;t work!\r\n\r\nThis is wired...","title":"How &quot;Use compiler from module target JDK when possible&quot; option works in IDEA?","body":"<p>When I uncheck this option and build project, idea will use Idea-setup-root\\jbr\\bin\\java.exe to build which current version is 17.0.6.</p>\n<p>But I want idea build this project use Project JDK whick version is 1.8, although I set the Project JDK and Module JDK used Project JDK, it still doesn't work!</p>\n<p>This is wired...</p>\n"},{"tags":["java","set"],"answers":[{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":0,"down_vote_count":1,"up_vote_count":140,"is_accepted":true,"score":139,"last_activity_date":1454062917,"creation_date":1327920094,"answer_id":9062603,"question_id":9062574,"body_markdown":"Since a `Set` does not contain duplicate entries, you can therefore combine the two by:\r\n\r\n    newStringSet.addAll(oldStringSet);\r\n\r\n*It does not matter if you add things twice, the set will only contain the element once... e.g it&#39;s no need to check using `contains` method.*","title":"Is there a better way to combine two string sets in java?","body":"<p>Since a <code>Set</code> does not contain duplicate entries, you can therefore combine the two by:</p>\n\n<pre><code>newStringSet.addAll(oldStringSet);\n</code></pre>\n\n<p><em>It does not matter if you add things twice, the set will only contain the element once... e.g it's no need to check using <code>contains</code> method.</em></p>\n"},{"tags":[],"owner":{"account_id":1049835,"reputation":3025,"user_id":1054036,"display_name":"Viruzzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327920122,"creation_date":1327920122,"answer_id":9062609,"question_id":9062574,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#addAll(java.util.Collection)\r\n\r\nSince sets can&#39;t have duplicates, just adding all the elements of one to the other generates the correct union of the two.","title":"Is there a better way to combine two string sets in java?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#addAll(java.util.Collection\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#addAll(java.util.Collection</a>)</p>\n\n<p>Since sets can't have duplicates, just adding all the elements of one to the other generates the correct union of the two.</p>\n"},{"tags":[],"owner":{"account_id":180424,"reputation":10339,"user_id":413735,"accept_rate":86,"display_name":"tobiasbayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1327920123,"creation_date":1327920123,"answer_id":9062610,"question_id":9062574,"body_markdown":"Just use `newStringSet.addAll(oldStringSet)`. No need to check for duplicates as the `Set` implementation does this already.","title":"Is there a better way to combine two string sets in java?","body":"<p>Just use <code>newStringSet.addAll(oldStringSet)</code>. No need to check for duplicates as the <code>Set</code> implementation does this already.</p>\n"},{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596283115,"creation_date":1327920167,"answer_id":9062624,"question_id":9062574,"body_markdown":"```java\r\nSet.addAll()\r\n```\r\n\r\n*Adds all of the elements in the specified collection to this set if they&#39;re not already present (optional operation). If the specified collection is also a set, the addAll operation effectively modifies this set so that its value is the union of the two sets*\r\n\r\n```java\r\nnewStringSet.addAll(oldStringSet)\r\n```","title":"Is there a better way to combine two string sets in java?","body":"<pre class=\"lang-java prettyprint-override\"><code>Set.addAll()\n</code></pre>\n<p><em>Adds all of the elements in the specified collection to this set if they're not already present (optional operation). If the specified collection is also a set, the addAll operation effectively modifies this set so that its value is the union of the two sets</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>newStringSet.addAll(oldStringSet)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327920456,"creation_date":1327920456,"answer_id":9062664,"question_id":9062574,"body_markdown":"     newStringSet.addAll(oldStringSet);\r\n\r\nThis will produce Union of s1 and s2\r\n","title":"Is there a better way to combine two string sets in java?","body":"<pre><code> newStringSet.addAll(oldStringSet);\n</code></pre>\n\n<p>This will produce Union of s1 and s2</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1327920863,"creation_date":1327920863,"answer_id":9062739,"question_id":9062574,"body_markdown":"From the definition Set contain only unique elements. \r\n\r\n    Set&lt;String&gt; distinct = new HashSet&lt;String&gt;(); \r\n     distinct.addAll(oldStringSet);\r\n     distinct.addAll(newStringSet);\r\n\r\nTo enhance your code you may create a generic method for that \r\n\r\n\tpublic static &lt;T&gt; Set&lt;T&gt; distinct(Collection&lt;T&gt;... lists) {\r\n\t\tSet&lt;T&gt; distinct = new HashSet&lt;T&gt;();\r\n\t\t\r\n\t\tfor(Collection&lt;T&gt; list : lists) {\r\n\t\t\tdistinct.addAll(list);\r\n\t\t}\r\n\t\treturn distinct;\r\n\t}\r\n\r\n","title":"Is there a better way to combine two string sets in java?","body":"<p>From the definition Set contain only unique elements. </p>\n\n<pre><code>Set&lt;String&gt; distinct = new HashSet&lt;String&gt;(); \n distinct.addAll(oldStringSet);\n distinct.addAll(newStringSet);\n</code></pre>\n\n<p>To enhance your code you may create a generic method for that </p>\n\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; distinct(Collection&lt;T&gt;... lists) {\n    Set&lt;T&gt; distinct = new HashSet&lt;T&gt;();\n\n    for(Collection&lt;T&gt; list : lists) {\n        distinct.addAll(list);\n    }\n    return distinct;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5817271,"reputation":975,"user_id":4586457,"accept_rate":64,"display_name":"KKlalala"},"score":1,"creation_date":1517523067,"post_id":30139228,"comment_id":84141950,"body_markdown":"how is this better than addAll?","body":"how is this better than addAll?"},{"owner":{"account_id":32827,"reputation":2034,"user_id":91362,"display_name":"edwardsmatt"},"score":15,"creation_date":1529981584,"post_id":30139228,"comment_id":89060530,"body_markdown":"@KKlalala, your requirements will determine which is better.\n\nThe main difference between `addAll` and using Streams is: \n• using `set1.addAll(set2)` will have the side effect of physically changing the contents of `set1`.\n• However, using Streams will always result in a new instance of `Set` containing the contents of both sets without modifying either of the original Set instances.\n\nIMHO this answer is better because it avoids side-effects and potential for unexpected changes to the original set if it were to be used elsewhere whilst expecting the original contents.\n\nHTH","body":"@KKlalala, your requirements will determine which is better.  The main difference between <code>addAll</code> and using Streams is:  • using <code>set1.addAll(set2)</code> will have the side effect of physically changing the contents of <code>set1</code>. • However, using Streams will always result in a new instance of <code>Set</code> containing the contents of both sets without modifying either of the original Set instances.  IMHO this answer is better because it avoids side-effects and potential for unexpected changes to the original set if it were to be used elsewhere whilst expecting the original contents.  HTH"},{"owner":{"account_id":32827,"reputation":2034,"user_id":91362,"display_name":"edwardsmatt"},"score":4,"creation_date":1529982756,"post_id":30139228,"comment_id":89060745,"body_markdown":"This also has the advantage of supporting Immutable Sets. See: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-","body":"This also has the advantage of supporting Immutable Sets. See: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":257772,"reputation":3131,"user_id":539481,"accept_rate":50,"display_name":"Paweł Prażak"},"score":0,"creation_date":1648660113,"post_id":30139228,"comment_id":126683085,"body_markdown":"A word of advice, if you collect to something else than `Set`, add `.distinct()`, because the stream can have duplicates","body":"A word of advice, if you collect to something else than <code>Set</code>, add <code>.distinct()</code>, because the stream can have duplicates"}],"tags":[],"owner":{"account_id":5774113,"reputation":3086,"user_id":4556720,"accept_rate":96,"display_name":"ytterrr"},"comment_count":4,"down_vote_count":0,"up_vote_count":138,"is_accepted":false,"score":138,"last_activity_date":1511690298,"creation_date":1431170069,"answer_id":30139228,"question_id":9062574,"body_markdown":"You can do it using this one-liner\r\n\r\n    Set&lt;String&gt; combined = Stream.concat(newStringSet.stream(), oldStringSet.stream())\r\n            .collect(Collectors.toSet());\r\n\r\nWith a static import it looks even nicer\r\n\r\n    Set&lt;String&gt; combined = concat(newStringSet.stream(), oldStringSet.stream())\r\n            .collect(toSet());\r\n\r\nAnother way is to use [flatMap](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-) method:\r\n\r\n    Set&lt;String&gt; combined = Stream.of(newStringSet, oldStringSet).flatMap(Set::stream)\r\n            .collect(toSet());\r\n\r\nAlso any collection could easily be combined with a single element\r\n\r\n\r\n    Set&lt;String&gt; combined = concat(newStringSet.stream(), Stream.of(singleValue))\r\n            .collect(toSet());","title":"Is there a better way to combine two string sets in java?","body":"<p>You can do it using this one-liner</p>\n\n<pre><code>Set&lt;String&gt; combined = Stream.concat(newStringSet.stream(), oldStringSet.stream())\n        .collect(Collectors.toSet());\n</code></pre>\n\n<p>With a static import it looks even nicer</p>\n\n<pre><code>Set&lt;String&gt; combined = concat(newStringSet.stream(), oldStringSet.stream())\n        .collect(toSet());\n</code></pre>\n\n<p>Another way is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\">flatMap</a> method:</p>\n\n<pre><code>Set&lt;String&gt; combined = Stream.of(newStringSet, oldStringSet).flatMap(Set::stream)\n        .collect(toSet());\n</code></pre>\n\n<p>Also any collection could easily be combined with a single element</p>\n\n<pre><code>Set&lt;String&gt; combined = concat(newStringSet.stream(), Stream.of(singleValue))\n        .collect(toSet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19079,"reputation":3311,"user_id":44390,"accept_rate":100,"display_name":"mskfisher"},"score":3,"creation_date":1551897368,"post_id":46465680,"comment_id":96812582,"body_markdown":"Sets::union is a great BinaryOperator to use with Collectors.reducing().","body":"Sets::union is a great BinaryOperator to use with Collectors.reducing()."}],"tags":[],"owner":{"account_id":435781,"reputation":1889,"user_id":822561,"display_name":"Alexander Pranko"},"comment_count":1,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1537346743,"creation_date":1506591059,"answer_id":46465680,"question_id":9062574,"body_markdown":"The same with [Guava][1]:\r\n\r\n    Set&lt;String&gt; combinedSet = Sets.union(oldStringSet, newStringSet)\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Sets.html#union-java.util.Set-java.util.Set-","title":"Is there a better way to combine two string sets in java?","body":"<p>The same with <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Sets.html#union-java.util.Set-java.util.Set-\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>Set&lt;String&gt; combinedSet = Sets.union(oldStringSet, newStringSet)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"score":0,"creation_date":1556290016,"post_id":52180841,"comment_id":98400026,"body_markdown":"This is a very good logic that I can not imagine why this is not in the main addAll method parametter, like `public boolean addAll(int index, Collection&lt;? extends E&gt; c, boolean checkSizes)`","body":"This is a very good logic that I can not imagine why this is not in the main addAll method parametter, like <code>public boolean addAll(int index, Collection&lt;? extends E&gt; c, boolean checkSizes)</code>"},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1556317428,"post_id":52180841,"comment_id":98410966,"body_markdown":"I guess because of the specification itself : *Adds all of the elements in the specified collection to this collection*. You could have another method indeed but it would be quite confusing if it doesn&#39;t follow the same specification than the methods it overloads.","body":"I guess because of the specification itself : <i>Adds all of the elements in the specified collection to this collection</i>. You could have another method indeed but it would be quite confusing if it doesn&#39;t follow the same specification than the methods it overloads."},{"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"score":0,"creation_date":1556536971,"post_id":52180841,"comment_id":98460298,"body_markdown":"Yes, I was saying other method overloading that one","body":"Yes, I was saying other method overloading that one"}],"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536137023,"creation_date":1536137023,"answer_id":52180841,"question_id":9062574,"body_markdown":"If you care about performance, and if you don&#39;t need to keep your two sets and one of them can be huge, I would suggest to check which set is the largest and add the elements from the smallest.\r\n\r\n    Set&lt;String&gt; newStringSet = getNewStringSet();\r\n    Set&lt;String&gt; oldStringSet = getOldStringSet();\r\n    \r\n    Set&lt;String&gt; myResult;\r\n    if(oldStringSet.size() &gt; newStringSet.size()){\r\n        oldStringSet.addAll(newStringSet);\r\n        myResult = oldStringSet;\r\n    } else{\r\n        newStringSet.addAll(oldStringSet);\r\n        myResult = newStringSet;\r\n    }\r\n\r\nIn this way, if your new set has 10 elements and your old set has 100 000, you only do 10 operations instead of 100 000.","title":"Is there a better way to combine two string sets in java?","body":"<p>If you care about performance, and if you don't need to keep your two sets and one of them can be huge, I would suggest to check which set is the largest and add the elements from the smallest.</p>\n\n<pre><code>Set&lt;String&gt; newStringSet = getNewStringSet();\nSet&lt;String&gt; oldStringSet = getOldStringSet();\n\nSet&lt;String&gt; myResult;\nif(oldStringSet.size() &gt; newStringSet.size()){\n    oldStringSet.addAll(newStringSet);\n    myResult = oldStringSet;\n} else{\n    newStringSet.addAll(oldStringSet);\n    myResult = newStringSet;\n}\n</code></pre>\n\n<p>In this way, if your new set has 10 elements and your old set has 100 000, you only do 10 operations instead of 100 000.</p>\n"},{"tags":[],"owner":{"account_id":8384911,"reputation":116,"user_id":6295638,"display_name":"Leonardo Bernardes"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554995543,"creation_date":1554995543,"answer_id":55635845,"question_id":9062574,"body_markdown":"If you are using Guava you can also use a builder to get more flexibility:\r\n\r\n```\r\nImmutableSet.&lt;String&gt;builder().addAll(someSet)\r\n                              .addAll(anotherSet)\r\n                              .add(&quot;A single string&quot;)\r\n                              .build();\r\n```\r\n","title":"Is there a better way to combine two string sets in java?","body":"<p>If you are using Guava you can also use a builder to get more flexibility:</p>\n\n<pre><code>ImmutableSet.&lt;String&gt;builder().addAll(someSet)\n                              .addAll(anotherSet)\n                              .add(\"A single string\")\n                              .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1591135702,"post_id":59262340,"comment_id":109940221,"body_markdown":"Note this returns a `SetView`, which is immutable.","body":"Note this returns a <code>SetView</code>, which is immutable."},{"owner":{"account_id":6625800,"reputation":142,"user_id":5116074,"display_name":"Jugbot"},"score":1,"creation_date":1607440158,"post_id":59262340,"comment_id":115269392,"body_markdown":"Also obtaining size() from a `SetView` is always a linear operation.","body":"Also obtaining size() from a <code>SetView</code> is always a linear operation."}],"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1575963415,"creation_date":1575963415,"answer_id":59262340,"question_id":9062574,"body_markdown":"If you are using the Apache Common, use `SetUtils` class from `org.apache.commons.collections4.SetUtils;`\r\n\r\n    SetUtils.union(setA, setB);\r\n\r\n","title":"Is there a better way to combine two string sets in java?","body":"<p>If you are using the Apache Common, use <code>SetUtils</code> class from <code>org.apache.commons.collections4.SetUtils;</code></p>\n\n<pre><code>SetUtils.union(setA, setB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9224441,"reputation":2843,"user_id":6852684,"display_name":"RazvanParautiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679411041,"creation_date":1679411041,"answer_id":75802900,"question_id":9062574,"body_markdown":"You can use stream from Java8 and receive new set\r\n\r\n    Stream.of(set1, set2)\r\n                    .flatMap(Set::stream)\r\n                    .collect(Collectors.toSet())","title":"Is there a better way to combine two string sets in java?","body":"<p>You can use stream from Java8 and receive new set</p>\n<pre><code>Stream.of(set1, set2)\n                .flatMap(Set::stream)\n                .collect(Collectors.toSet())\n</code></pre>\n"}],"owner":{"account_id":556897,"reputation":1673,"user_id":919148,"accept_rate":100,"display_name":"FooBar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129301,"favorite_count":0,"down_vote_count":1,"up_vote_count":117,"accepted_answer_id":9062603,"answer_count":12,"score":116,"last_activity_date":1679411041,"creation_date":1327919980,"question_id":9062574,"body_markdown":"I need to combine two string sets while filtering out redundant information, this is the solution I came up with, is there a better way that anyone can suggest?  Perhaps something built in that I overlooked? Didn&#39;t have any luck with google.\r\n\r\n    Set&lt;String&gt; oldStringSet = getOldStringSet();\r\n    Set&lt;String&gt; newStringSet = getNewStringSet();\r\n            \r\n    for(String currentString : oldStringSet)\r\n    {\r\n        if (!newStringSet.contains(currentString))\r\n        {\r\n            newStringSet.add(currentString);\r\n        }\r\n    }","title":"Is there a better way to combine two string sets in java?","body":"<p>I need to combine two string sets while filtering out redundant information, this is the solution I came up with, is there a better way that anyone can suggest?  Perhaps something built in that I overlooked? Didn't have any luck with google.</p>\n\n<pre><code>Set&lt;String&gt; oldStringSet = getOldStringSet();\nSet&lt;String&gt; newStringSet = getNewStringSet();\n\nfor(String currentString : oldStringSet)\n{\n    if (!newStringSet.contains(currentString))\n    {\n        newStringSet.add(currentString);\n    }\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-5","reroute"],"answers":[{"comments":[{"owner":{"account_id":26580915,"reputation":3,"user_id":20205582,"display_name":"Random"},"score":0,"creation_date":1679413018,"post_id":75802878,"comment_id":133715704,"body_markdown":"So after failure in between relocation process, there will be no corrupted data present on the target node ? So now this shard on the source node will be in consistent state ? Overall is there any data loss or corruption?","body":"So after failure in between relocation process, there will be no corrupted data present on the target node ? So now this shard on the source node will be in consistent state ? Overall is there any data loss or corruption?"}],"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679410942,"creation_date":1679410942,"answer_id":75802878,"question_id":75802656,"body_markdown":"The reroute operation copies the data from one node to another, and only upon successful completion, removes the data from the source node. So if your target node fails for some reason and stops, the reroute operation stops, the partial shard on the target node is removed and nothing changes, your data is safe.","title":"What will happen if ElasticSearch shard allocation fails in between? What i mean is i am relocating a shard from nodeA to NodeB using reroute API","body":"<p>The reroute operation copies the data from one node to another, and only upon successful completion, removes the data from the source node. So if your target node fails for some reason and stops, the reroute operation stops, the partial shard on the target node is removed and nothing changes, your data is safe.</p>\n"}],"owner":{"account_id":26580915,"reputation":3,"user_id":20205582,"display_name":"Random"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75802878,"answer_count":1,"score":0,"last_activity_date":1679410942,"creation_date":1679409858,"question_id":75802656,"body_markdown":"So I&#39;m moving shard(20gb) data from one node to another node using reroute request, if a failure occurs (node is down) in between where only a part of data moved to destination node, and when node starts again what will happen with this corrupt data\r\n\r\nReroute request actually moves data from one node to other or just Copies the data ? \r\n\r\nNOTE: Both the nodes are in the same cluster and there are no replicas in the cluster. \r\n\r\nI wanna know what happens with the corrupt data once the node restarts.","title":"What will happen if ElasticSearch shard allocation fails in between? What i mean is i am relocating a shard from nodeA to NodeB using reroute API","body":"<p>So I'm moving shard(20gb) data from one node to another node using reroute request, if a failure occurs (node is down) in between where only a part of data moved to destination node, and when node starts again what will happen with this corrupt data</p>\n<p>Reroute request actually moves data from one node to other or just Copies the data ?</p>\n<p>NOTE: Both the nodes are in the same cluster and there are no replicas in the cluster.</p>\n<p>I wanna know what happens with the corrupt data once the node restarts.</p>\n"},{"tags":["java","dependencies","notserializableexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649062862,"post_id":71734425,"comment_id":126772190,"body_markdown":"Have a look at the source for `ibbridge.Client_v2.serialize(Client_v2.java:1504)`. What is that serialising?","body":"Have a look at the source for <code>ibbridge.Client_v2.serialize(Client_v2.java:1504)</code>. What is that serialising?"},{"owner":{"account_id":6691429,"reputation":3,"user_id":5160823,"display_name":"Luca"},"score":0,"creation_date":1649074630,"post_id":71734425,"comment_id":126776474,"body_markdown":"@tgdavies Yes Client_v2 is serializable, I just resolved this specific problem, because the situation is not very complex: Client_v2 has a field TreeMap (see the stack trace) that has as Key field a Set implemented as HashSet (see the stack tarce) of interface not mentioned in stack trace, the concrete implementing Class has as field the RSI that throws the exception. This time I get out of trouble, but in more complex situation, the problem may be not so easy.","body":"@tgdavies Yes Client_v2 is serializable, I just resolved this specific problem, because the situation is not very complex: Client_v2 has a field TreeMap (see the stack trace) that has as Key field a Set implemented as HashSet (see the stack tarce) of interface not mentioned in stack trace, the concrete implementing Class has as field the RSI that throws the exception. This time I get out of trouble, but in more complex situation, the problem may be not so easy."}],"answers":[{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679410872,"creation_date":1679410872,"answer_id":75802859,"question_id":71734425,"body_markdown":"Try the `-Dsun.io.serialization.extendedDebugInfo=true` JVM parameter. The exception message now should contain the exact &#39;field&#39; path from the serialized object to the offending class. Also see https://software-creation.nl/2011/07/serializable-exception-in-java/ for more details.","title":"NotSerializableException: How to know the dependencies that led to an instance being serialized","body":"<p>Try the <code>-Dsun.io.serialization.extendedDebugInfo=true</code> JVM parameter. The exception message now should contain the exact 'field' path from the serialized object to the offending class. Also see <a href=\"https://software-creation.nl/2011/07/serializable-exception-in-java/\" rel=\"nofollow noreferrer\">https://software-creation.nl/2011/07/serializable-exception-in-java/</a> for more details.</p>\n"}],"owner":{"account_id":6691429,"reputation":3,"user_id":5160823,"display_name":"Luca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75802859,"answer_count":1,"score":0,"last_activity_date":1679410872,"creation_date":1649062368,"question_id":71734425,"body_markdown":"A NotSerializableException was thrown during java serialization, but the object that is not serializable should not be affected by the serialization process.\r\nHow can I know what is the dependency chain that led java to try to serialize that object.\r\n\r\nIf for example, object D is responsible for the NotSerializableException, so I want to know that:\r\n\r\nD is a field of C which is a field of B which is a field of A.\r\n\r\nfield can obviously also mean &quot;is connected in any way to&quot;.\r\n\r\nAnalyzing the stack trace of the thrown exception I cannot get this information. The project is very complex and the simple stack trace doesn&#39;t help me, I can read that RSI is related to an HashSet that is related to a TreeMap, but this is not sufficient to me, I need more specific informations:\r\n\r\n`java.io.NotSerializableException: dataprovider.indicator.RSI`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)`\r\n`at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)`\r\n`at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)`\r\n`at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)`\r\n`at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)`\r\n`at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)`\r\n`at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)`\r\n`at java.base/java.util.HashSet.writeObject(HashSet.java:288)`\r\n`at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`\r\n`at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)`\r\n`at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`\r\n`at java.base/java.lang.reflect.Method.invoke(Method.java:566)`\r\n`at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1130)`\r\n`at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)`\r\n`at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)`\r\n`at java.base/java.util.TreeMap.writeObject(TreeMap.java:2434)`\r\n`at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`\r\n`at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)`\r\n`at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`\r\n`at java.base/java.lang.reflect.Method.invoke(Method.java:566)`\r\n`at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1130)`\r\n`at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)`\r\n`at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)`\r\n`at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)`\r\n`at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)`\r\n`at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)`\r\n`at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)`\r\n`at ibbridge.Client_v2.serialize(Client_v2.java:1504)`\r\n`at ibbridge.Client_v2.finalizeClient(Client_v2.java:672)`\r\n`at ibbridge.Client_v2.run(Client_v2.java:543)`\r\n`at java.base/java.lang.Thread.run(Thread.java:834)`","title":"NotSerializableException: How to know the dependencies that led to an instance being serialized","body":"<p>A NotSerializableException was thrown during java serialization, but the object that is not serializable should not be affected by the serialization process.\nHow can I know what is the dependency chain that led java to try to serialize that object.</p>\n<p>If for example, object D is responsible for the NotSerializableException, so I want to know that:</p>\n<p>D is a field of C which is a field of B which is a field of A.</p>\n<p>field can obviously also mean &quot;is connected in any way to&quot;.</p>\n<p>Analyzing the stack trace of the thrown exception I cannot get this information. The project is very complex and the simple stack trace doesn't help me, I can read that RSI is related to an HashSet that is related to a TreeMap, but this is not sufficient to me, I need more specific informations:</p>\n<p><code>java.io.NotSerializableException: dataprovider.indicator.RSI</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)</code>\n<code>at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)</code>\n<code>at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)</code>\n<code>at java.base/java.util.HashSet.writeObject(HashSet.java:288)</code>\n<code>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code>\n<code>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</code>\n<code>at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code>\n<code>at java.base/java.lang.reflect.Method.invoke(Method.java:566)</code>\n<code>at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1130)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)</code>\n<code>at java.base/java.util.TreeMap.writeObject(TreeMap.java:2434)</code>\n<code>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code>\n<code>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</code>\n<code>at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code>\n<code>at java.base/java.lang.reflect.Method.invoke(Method.java:566)</code>\n<code>at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1130)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)</code>\n<code>at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)</code>\n<code>at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)</code>\n<code>at ibbridge.Client_v2.serialize(Client_v2.java:1504)</code>\n<code>at ibbridge.Client_v2.finalizeClient(Client_v2.java:672)</code>\n<code>at ibbridge.Client_v2.run(Client_v2.java:543)</code>\n<code>at java.base/java.lang.Thread.run(Thread.java:834)</code></p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":25409295,"reputation":1,"user_id":19217435,"display_name":"naveenselv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679410804,"creation_date":1679410804,"question_id":75802847,"body_markdown":"I have a fairly small microservice that calls Microsoft graph API to query the data of members in the organization and I am fetching this information on each request, I have formatted and mapped this data into a POJO and I want to make this POJO available throughout the application and I am looking for an optimal solution to do this\r\n\r\nI have considered the following options\r\n\r\n1. Use HandlerMethodArgumentResolver to resolve the POJO set as an argument on controller methods, get the token from the request and query the graph API.\r\n\r\n2. Use an interceptor and ThreadLocal object wrapped in a spring component to resolve the POJO and use it throughout the application but I am concerned with the data leak issues with using ThreadLocal.\r\n\r\nIs there a better solution for this?","title":"How do I load user data from Microsoft graph API into spring context?","body":"<p>I have a fairly small microservice that calls Microsoft graph API to query the data of members in the organization and I am fetching this information on each request, I have formatted and mapped this data into a POJO and I want to make this POJO available throughout the application and I am looking for an optimal solution to do this</p>\n<p>I have considered the following options</p>\n<ol>\n<li><p>Use HandlerMethodArgumentResolver to resolve the POJO set as an argument on controller methods, get the token from the request and query the graph API.</p>\n</li>\n<li><p>Use an interceptor and ThreadLocal object wrapped in a spring component to resolve the POJO and use it throughout the application but I am concerned with the data leak issues with using ThreadLocal.</p>\n</li>\n</ol>\n<p>Is there a better solution for this?</p>\n"},{"tags":["java","gradle","compatibility","dafny"],"answers":[{"comments":[{"owner":{"account_id":23669296,"reputation":65,"user_id":17696311,"display_name":"xbreu"},"score":0,"creation_date":1679410410,"post_id":75802698,"comment_id":133714776,"body_markdown":"Oh, that small thing was it, I found where the gradle configuration from Dafny was and changed it. Thanks, I don&#39;t know how I have not verified that.","body":"Oh, that small thing was it, I found where the gradle configuration from Dafny was and changed it. Thanks, I don&#39;t know how I have not verified that."}],"tags":[],"owner":{"account_id":1347382,"reputation":10453,"user_id":1287856,"accept_rate":83,"display_name":"Mika&#235;l Mayer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679410056,"creation_date":1679410056,"answer_id":75802698,"question_id":75802599,"body_markdown":"Apparently, Dafny use Gradle 7.4, which does not support yet JDK 19 but up to JDK 17.\r\nSince you are modifying from source, feel free to update the Gradle version and create a PR, or you can downgrade the JDK version.","title":"Unsupported class file major version","body":"<p>Apparently, Dafny use Gradle 7.4, which does not support yet JDK 19 but up to JDK 17.\nSince you are modifying from source, feel free to update the Gradle version and create a PR, or you can downgrade the JDK version.</p>\n"}],"owner":{"account_id":23669296,"reputation":65,"user_id":17696311,"display_name":"xbreu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75802698,"answer_count":1,"score":0,"last_activity_date":1679410056,"creation_date":1679409577,"question_id":75802599,"body_markdown":"I&#39;m having an error when trying to compile Dafny from source. If I try to do it I get the following output:\r\n\r\n```\r\n$ make exe\r\n(cd /home/xbreu/Documents/University/SpecRep/dafny/ ; dotnet build Source/Dafny.sln ) includes parser\r\nMicrosoft (R) Build Engine version 17.0.1+b177f8fa7 for .NET\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\n  Determining projects to restore...\r\n  All projects are up-to-date for restore.\r\n  Compiling DafnyRuntimeJava to DafnyRuntimeJava/build/libs/DafnyRuntime.jar...\r\n\r\n  FAILURE: Build failed with an exception.\r\n\r\n  * Where:\r\n  Settings file &#39;/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntimeJava/settings.gradle&#39;\r\n\r\n  * What went wrong:\r\n  Could not compile settings file &#39;/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntimeJava/settings.gradle&#39;.\r\n  &gt; startup failed:\r\n    General error during conversion: Unsupported class file major version 63\r\n\r\n    java.lang.IllegalArgumentException: Unsupported class file major version 63\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n        at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\r\n        at org.codehaus.groovy.ast.decompiled.TypeSignatureParser.visitEnd(TypeSignatureParser.java:110)\r\n        at groovyjarjarasm.asm.signature.SignatureReader.parseType(SignatureReader.java:206)\r\n        at groovyjarjarasm.asm.signature.SignatureReader.accept(SignatureReader.java:124)\r\n        at org.codehaus.groovy.ast.decompiled.ClassSignatureParser.parseClassSignature(ClassSignatureParser.java:74)\r\n        at org.codehaus.groovy.ast.decompiled.ClassSignatureParser.configureClass(ClassSignatureParser.java:32)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitSupers(DecompiledClassNode.java:185)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.isUsingGenerics(DecompiledClassNode.java:86)\r\n        at org.codehaus.groovy.ast.tools.GenericsUtils.nonGeneric(GenericsUtils.java:275)\r\n        at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:101)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lambda$createMethodNode$1(DecompiledClassNode.java:230)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:236)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:203)\r\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\r\n        at org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1283)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:251)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:133)\r\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:108)\r\n        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:138)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:111)\r\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:66)\r\n        at org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:108)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:101)\r\n        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1089)\r\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:52)\r\n        at org.codehaus.groovy.control.CompilationUnit.lambda$addPhaseOperations$3(CompilationUnit.java:209)\r\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:942)\r\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:671)\r\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:635)\r\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:389)\r\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$3(GroovyClassLoader.java:332)\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\r\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:330)\r\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\r\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\r\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:190)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:170)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:211)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:194)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\r\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\r\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:89)\r\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:43)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:103)\r\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:117)\r\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:116)\r\n        at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\r\n        at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\r\n        at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\r\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:125)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:73)\r\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:66)\r\n        at org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\r\n        at org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:47)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\r\n        at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:136)\r\n        at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:62)\r\n        at org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:34)\r\n        at org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\r\n        at org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:48)\r\n        at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\r\n        at org.gradle.initialization.InitScriptHandlingSettingsLoader.findAndLoadSettings(InitScriptHandlingSettingsLoader.java:34)\r\n        at org.gradle.initialization.GradlePropertiesHandlingSettingsLoader.findAndLoadSettings(GradlePropertiesHandlingSettingsLoader.java:39)\r\n        at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:31)\r\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\r\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\r\n        at org.gradle.initialization.VintageBuildModelController.lambda$prepareSettings$2(VintageBuildModelController.java:85)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n        at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n        at org.gradle.initialization.VintageBuildModelController.prepareSettings(VintageBuildModelController.java:85)\r\n        at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:70)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$2(DefaultBuildLifecycleController.java:134)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$maybeTransition$9(StateTransitionController.java:187)\r\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n        at org.gradle.internal.model.StateTransitionController.maybeTransition(StateTransitionController.java:183)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:132)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\r\n        at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:75)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n        at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\r\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n        at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n        at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n        at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n    1 error\r\n\r\n\r\n  * Try:\r\n  &gt; Run with --stacktrace option to get the stack trace.\r\n  &gt; Run with --info or --debug option to get more log output.\r\n  &gt; Run with --scan to get full insights.\r\n\r\n  * Get more help at https://help.gradle.org\r\n\r\n  BUILD FAILED in 2s\r\n/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntime.csproj(47,5): error MSB3073: The command &quot;./gradlew -q build&quot; exited with code 1.\r\n```\r\n\r\nIt looks like a compatibility issue, because of the &quot;Unsupported class file major version 63&quot;, so I must have some program that is not compatible with major version 63 (which corresponds to Java 19). But the versions of Java, Gradle and .NET look compatible:\r\n\r\nJava:\r\n\r\n```\r\n$ java --version\r\nopenjdk 19.0.2 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\r\n```\r\n\r\nGradle:\r\n\r\n```\r\n$ gradle --version\r\n\r\n------------------------------------------------------------\r\nGradle 8.0.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-03-03 20:07:03 UTC\r\nRevision:     &lt;unknown&gt;\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.13\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          19.0.2 (Oracle Corporation 19.0.2+7)\r\nOS:           Linux 6.2.2-arch1-1 amd64\r\n```\r\n\r\n.NET:\r\n\r\n```\r\n$ dotnet --version\r\n6.0.114\r\n```\r\n\r\nI tried cloning the repository again and reinstalling the programs, and nothing has helped me so far. What problem could be causing this?","title":"Unsupported class file major version","body":"<p>I'm having an error when trying to compile Dafny from source. If I try to do it I get the following output:</p>\n<pre><code>$ make exe\n(cd /home/xbreu/Documents/University/SpecRep/dafny/ ; dotnet build Source/Dafny.sln ) includes parser\nMicrosoft (R) Build Engine version 17.0.1+b177f8fa7 for .NET\nCopyright (C) Microsoft Corporation. All rights reserved.\n\n  Determining projects to restore...\n  All projects are up-to-date for restore.\n  Compiling DafnyRuntimeJava to DafnyRuntimeJava/build/libs/DafnyRuntime.jar...\n\n  FAILURE: Build failed with an exception.\n\n  * Where:\n  Settings file '/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntimeJava/settings.gradle'\n\n  * What went wrong:\n  Could not compile settings file '/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntimeJava/settings.gradle'.\n  &gt; startup failed:\n    General error during conversion: Unsupported class file major version 63\n\n    java.lang.IllegalArgumentException: Unsupported class file major version 63\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n        at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\n        at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\n        at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\n        at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\n        at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\n        at org.codehaus.groovy.ast.decompiled.TypeSignatureParser.visitEnd(TypeSignatureParser.java:110)\n        at groovyjarjarasm.asm.signature.SignatureReader.parseType(SignatureReader.java:206)\n        at groovyjarjarasm.asm.signature.SignatureReader.accept(SignatureReader.java:124)\n        at org.codehaus.groovy.ast.decompiled.ClassSignatureParser.parseClassSignature(ClassSignatureParser.java:74)\n        at org.codehaus.groovy.ast.decompiled.ClassSignatureParser.configureClass(ClassSignatureParser.java:32)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitSupers(DecompiledClassNode.java:185)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.isUsingGenerics(DecompiledClassNode.java:86)\n        at org.codehaus.groovy.ast.tools.GenericsUtils.nonGeneric(GenericsUtils.java:275)\n        at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:101)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lambda$createMethodNode$1(DecompiledClassNode.java:230)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:236)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:203)\n        at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\n        at org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1283)\n        at org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:251)\n        at org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:133)\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:108)\n        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:138)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:111)\n        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:66)\n        at org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:108)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:101)\n        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1089)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:52)\n        at org.codehaus.groovy.control.CompilationUnit.lambda$addPhaseOperations$3(CompilationUnit.java:209)\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:942)\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:671)\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:635)\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:389)\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$3(GroovyClassLoader.java:332)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:330)\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\n        at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:190)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:170)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:211)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:194)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:89)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:43)\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:103)\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:117)\n        at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:116)\n        at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\n        at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\n        at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:125)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:73)\n        at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:66)\n        at org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\n        at org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:47)\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\n        at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\n        at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:136)\n        at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:62)\n        at org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:34)\n        at org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\n        at org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:48)\n        at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\n        at org.gradle.initialization.InitScriptHandlingSettingsLoader.findAndLoadSettings(InitScriptHandlingSettingsLoader.java:34)\n        at org.gradle.initialization.GradlePropertiesHandlingSettingsLoader.findAndLoadSettings(GradlePropertiesHandlingSettingsLoader.java:39)\n        at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:31)\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\n        at org.gradle.initialization.VintageBuildModelController.lambda$prepareSettings$2(VintageBuildModelController.java:85)\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n        at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n        at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\n        at org.gradle.initialization.VintageBuildModelController.prepareSettings(VintageBuildModelController.java:85)\n        at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:70)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$2(DefaultBuildLifecycleController.java:134)\n        at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n        at org.gradle.internal.model.StateTransitionController.lambda$maybeTransition$9(StateTransitionController.java:187)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n        at org.gradle.internal.model.StateTransitionController.maybeTransition(StateTransitionController.java:183)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:132)\n        at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\n        at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:75)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n        at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n        at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n        at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\n\n    1 error\n\n\n  * Try:\n  &gt; Run with --stacktrace option to get the stack trace.\n  &gt; Run with --info or --debug option to get more log output.\n  &gt; Run with --scan to get full insights.\n\n  * Get more help at https://help.gradle.org\n\n  BUILD FAILED in 2s\n/home/xbreu/Documents/University/SpecRep/dafny/Source/DafnyRuntime/DafnyRuntime.csproj(47,5): error MSB3073: The command &quot;./gradlew -q build&quot; exited with code 1.\n</code></pre>\n<p>It looks like a compatibility issue, because of the &quot;Unsupported class file major version 63&quot;, so I must have some program that is not compatible with major version 63 (which corresponds to Java 19). But the versions of Java, Gradle and .NET look compatible:</p>\n<p>Java:</p>\n<pre><code>$ java --version\nopenjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7)\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\n</code></pre>\n<p>Gradle:</p>\n<pre><code>$ gradle --version\n\n------------------------------------------------------------\nGradle 8.0.2\n------------------------------------------------------------\n\nBuild time:   2023-03-03 20:07:03 UTC\nRevision:     &lt;unknown&gt;\n\nKotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          19.0.2 (Oracle Corporation 19.0.2+7)\nOS:           Linux 6.2.2-arch1-1 amd64\n</code></pre>\n<p>.NET:</p>\n<pre><code>$ dotnet --version\n6.0.114\n</code></pre>\n<p>I tried cloning the repository again and reinstalling the programs, and nothing has helped me so far. What problem could be causing this?</p>\n"},{"tags":["java","xml","kotlin","jackson","jaxb"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1679411046,"post_id":75802647,"comment_id":133714970,"body_markdown":"https://stackoverflow.com/questions/69749546/unmarshal-xml-property-with-both-attribute-values-and-subelements ?","body":"<a href=\"https://stackoverflow.com/questions/69749546/unmarshal-xml-property-with-both-attribute-values-and-subelements\" title=\"unmarshal xml property with both attribute values and subelements\">stackoverflow.com/questions/69749546/&hellip;</a> ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679412821,"post_id":75802647,"comment_id":133715617,"body_markdown":"Not the same. This is specifically about the *text* in the element, and the solution in the question `(isAttribute=true)` does not work here.","body":"Not the same. This is specifically about the <i>text</i> in the element, and the solution in the question <code>(isAttribute=true)</code> does not work here."}],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679409825,"creation_date":1679409825,"question_id":75802647,"body_markdown":"I have an XML document that I want to parse using Jackson XML:\r\n\r\n```\r\n&lt;one&gt;\r\n  &lt;two id=&quot;X&quot;&gt;&lt;/two&gt;\r\n  &lt;two&gt;Text&lt;/two&gt;\r\n&lt;/one&gt;\r\n```\r\n\r\nI made these data classes to contain the data:\r\n```\r\ndata class One(val two: List&lt;Two&gt;)\r\ndata class Two(val id: String)\r\n```\r\n\r\nThese work for the first `two` element, but not for the next one.\r\n\r\nI tried adding a `@JacksonXmlText`-annotated field to the `Two` class, but that doesn&#39;t help: It&#39;ll try to parse a sub-tag containing text, not the text in the element. And I can&#39;t use `@JacksonXmlText` on a `two` field in `One`, since that won&#39;t allow me to also parse the attributes.\r\n\r\nHow do I parse this XML document?","title":"How to parse this XML with Jackson?","body":"<p>I have an XML document that I want to parse using Jackson XML:</p>\n<pre><code>&lt;one&gt;\n  &lt;two id=&quot;X&quot;&gt;&lt;/two&gt;\n  &lt;two&gt;Text&lt;/two&gt;\n&lt;/one&gt;\n</code></pre>\n<p>I made these data classes to contain the data:</p>\n<pre><code>data class One(val two: List&lt;Two&gt;)\ndata class Two(val id: String)\n</code></pre>\n<p>These work for the first <code>two</code> element, but not for the next one.</p>\n<p>I tried adding a <code>@JacksonXmlText</code>-annotated field to the <code>Two</code> class, but that doesn't help: It'll try to parse a sub-tag containing text, not the text in the element. And I can't use <code>@JacksonXmlText</code> on a <code>two</code> field in <code>One</code>, since that won't allow me to also parse the attributes.</p>\n<p>How do I parse this XML document?</p>\n"},{"tags":["java","android","image","text","share-intent"],"answers":[{"tags":[],"owner":{"account_id":28069641,"reputation":21,"user_id":21442467,"display_name":"Marshall Knight"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679409467,"creation_date":1679409253,"answer_id":75802548,"question_id":75798350,"body_markdown":"Well I have fixed by watching some youtube videos.\r\n\r\nAdd this to your AndroidManifest whithin the application tag:\r\n```\r\n&lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n    android:authorities=&quot;your.package.file-provider&quot;\r\n    android:grantUriPermissions=&quot;true&quot;\r\n    android:exported=&quot;false&quot;&gt;\r\n    &lt;meta-data\r\n         android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n         android:resource=&quot;@xml/file_paths&quot;/&gt;\r\n&lt;/provider&gt;\r\n```\r\nCreate an xml folder in res containing:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;cache-path\r\n        name=&quot;shared_images&quot;\r\n        path=&quot;images&quot; /&gt;\r\n    &lt;external-path\r\n        name=&quot;saved_images&quot;\r\n        path=&quot;MyImagesToShare&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\nThen in the activity:\r\n````\r\nIntent shareIntent = new Intent();\r\nshareIntent.setAction(Intent.ACTION_SEND);\r\nshareIntent.setType(&quot;image/*&quot;);\r\nshareIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(&quot;Some text.&lt;br /&gt;https://maybe.a.deeplink.in.your.app&quot;));\r\nshareIntent.putExtra(Intent.EXTRA_STREAM, getContentUri());\r\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nstartActivity(Intent.createChooser(shareIntent, &quot;Share this with&quot;));\r\n````\r\nFinally the function to get your image from ImageView you want (in my case this is image):\r\n````\r\nprivate Uri getContentUri() {\r\n    Bitmap bitmap = null;\r\n    BitmapDrawable bitmapDrawable = (BitmapDrawable) image.getDrawable();\r\n    bitmap = bitmapDrawable.getBitmap();\r\n\r\n    File imagesFolder = new File(getCacheDir(), &quot;images&quot;);\r\n    Uri contentUri = null;\r\n    try {\r\n        imagesFolder.mkdirs();\r\n        File file = new File(imagesFolder, &quot;shared_image.png&quot;);\r\n        FileOutputStream stream = new FileOutputStream(file);\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n        stream.flush();\r\n        stream.close();\r\n        contentUri = FileProvider.getUriForFile(this, &quot;your.package.file-provider&quot;, file);\r\n    } catch (Exception e) {\r\n         Toast(&quot;Error =&gt; &quot; + e.getMessage());\r\n    }\r\n        return contentUri;\r\n}\r\n````\r\nNow your image will be saved as shared_image.png and you have a uri you can work with!\r\n\r\nGoodluck :)","title":"Android java Share Intent image plus text and link how to","body":"<p>Well I have fixed by watching some youtube videos.</p>\n<p>Add this to your AndroidManifest whithin the application tag:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;your.package.file-provider&quot;\n    android:grantUriPermissions=&quot;true&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;meta-data\n         android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n         android:resource=&quot;@xml/file_paths&quot;/&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Create an xml folder in res containing:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;cache-path\n        name=&quot;shared_images&quot;\n        path=&quot;images&quot; /&gt;\n    &lt;external-path\n        name=&quot;saved_images&quot;\n        path=&quot;MyImagesToShare&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Then in the activity:</p>\n<pre><code>Intent shareIntent = new Intent();\nshareIntent.setAction(Intent.ACTION_SEND);\nshareIntent.setType(&quot;image/*&quot;);\nshareIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(&quot;Some text.&lt;br /&gt;https://maybe.a.deeplink.in.your.app&quot;));\nshareIntent.putExtra(Intent.EXTRA_STREAM, getContentUri());\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nstartActivity(Intent.createChooser(shareIntent, &quot;Share this with&quot;));\n</code></pre>\n<p>Finally the function to get your image from ImageView you want (in my case this is image):</p>\n<pre><code>private Uri getContentUri() {\n    Bitmap bitmap = null;\n    BitmapDrawable bitmapDrawable = (BitmapDrawable) image.getDrawable();\n    bitmap = bitmapDrawable.getBitmap();\n\n    File imagesFolder = new File(getCacheDir(), &quot;images&quot;);\n    Uri contentUri = null;\n    try {\n        imagesFolder.mkdirs();\n        File file = new File(imagesFolder, &quot;shared_image.png&quot;);\n        FileOutputStream stream = new FileOutputStream(file);\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        stream.flush();\n        stream.close();\n        contentUri = FileProvider.getUriForFile(this, &quot;your.package.file-provider&quot;, file);\n    } catch (Exception e) {\n         Toast(&quot;Error =&gt; &quot; + e.getMessage());\n    }\n        return contentUri;\n}\n</code></pre>\n<p>Now your image will be saved as shared_image.png and you have a uri you can work with!</p>\n<p>Goodluck :)</p>\n"}],"owner":{"account_id":28069641,"reputation":21,"user_id":21442467,"display_name":"Marshall Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679409467,"creation_date":1679383774,"question_id":75798350,"body_markdown":"I&#39;ve been trying for days to get Shared Intent working on Android with an image, text and a link at the bottom. In the image is what I want to achieve. You can see what I get at the bottom.\r\n\r\n[What I want to achieve](https://i.stack.imgur.com/eUjmA.png)\r\n\r\nThis is the code I have right now:\r\n\r\n```\r\nIntent shareIntent = new Intent();\r\nshareIntent.setAction(Intent.ACTION_SEND);\r\nshareIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(&quot;&lt;img src=&#39;http://example.com/images/image.jpg&#39;&gt;&lt;br /&gt;This is the text shared.&lt;br /&gt;http://example.com&quot;));\r\n\r\n// shareIntent.putExtra(Intent.EXTRA_STREAM, DownloadImage(&quot;http://example.com/images/image.jpg&quot;));\r\n// shareIntent.putExtra(Intent.EXTRA_STREAM, Html.fromHtml(&quot;&lt;img src=&#39;http://example.com/images/image.jpg&#39;&gt;&quot;));\r\n\r\nshareIntent.setType(&quot;*/*&quot;);\r\n// shareIntent.setType(&quot;image/jpeg&quot;);\r\n// shareIntent.setType(&quot;text/html&quot;);\r\n\r\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nshareIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\nstartActivity(Intent.createChooser(shareIntent, &quot;Share some data&quot;));\r\n```\r\n\r\nWhat am I doing wrong? I have commented some things I have tried. Thanks for your help!\r\n\r\nI have tried multiple data types and different types of image loading. Loading from url doesn&#39;t work and inserting a bitmap doesn&#39;t work. \r\n(DownloadImage returns a Bitmap and I have checked that it has no errors)\r\nI&#39;ve replaced the url.","title":"Android java Share Intent image plus text and link how to","body":"<p>I've been trying for days to get Shared Intent working on Android with an image, text and a link at the bottom. In the image is what I want to achieve. You can see what I get at the bottom.</p>\n<p><a href=\"https://i.stack.imgur.com/eUjmA.png\" rel=\"nofollow noreferrer\">What I want to achieve</a></p>\n<p>This is the code I have right now:</p>\n<pre><code>Intent shareIntent = new Intent();\nshareIntent.setAction(Intent.ACTION_SEND);\nshareIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(&quot;&lt;img src='http://example.com/images/image.jpg'&gt;&lt;br /&gt;This is the text shared.&lt;br /&gt;http://example.com&quot;));\n\n// shareIntent.putExtra(Intent.EXTRA_STREAM, DownloadImage(&quot;http://example.com/images/image.jpg&quot;));\n// shareIntent.putExtra(Intent.EXTRA_STREAM, Html.fromHtml(&quot;&lt;img src='http://example.com/images/image.jpg'&gt;&quot;));\n\nshareIntent.setType(&quot;*/*&quot;);\n// shareIntent.setType(&quot;image/jpeg&quot;);\n// shareIntent.setType(&quot;text/html&quot;);\n\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nshareIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\nstartActivity(Intent.createChooser(shareIntent, &quot;Share some data&quot;));\n</code></pre>\n<p>What am I doing wrong? I have commented some things I have tried. Thanks for your help!</p>\n<p>I have tried multiple data types and different types of image loading. Loading from url doesn't work and inserting a bitmap doesn't work.\n(DownloadImage returns a Bitmap and I have checked that it has no errors)\nI've replaced the url.</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679408509,"creation_date":1679407715,"question_id":75802280,"body_markdown":"I am using spring security 3.0.4 and the code below is related to its config. When I run the program, no page contains css code and only the html file is loaded, and the page is messed up. I also used some stackoverflow links(like [this][1]), but none of them worked.\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n        public static final String ROLE_PASSENGER = &quot;passenger&quot;;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().ignoringRequestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/search&quot;, &quot;/search/page&quot;)\r\n                    .and().authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/reserve-flight&quot;, &quot;/panel&quot;).authenticated()\r\n                    .requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/search/**&quot;).permitAll().and()\r\n                    .formLogin().loginPage(&quot;/login&quot;).permitAll().defaultSuccessUrl(&quot;/panel&quot;)\r\n                    .failureUrl(&quot;/login?error=true&quot;).and().logout().permitAll()\r\n                    .logoutSuccessUrl(&quot;/login?logout=true&quot;).invalidateHttpSession(true);\r\n            return http.build();\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder getEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nAuthprovider:\r\n\r\n    @Component\r\n    public class UserPassAuthProvider implements AuthenticationProvider {\r\n        private final PassengerDetailsService passengerDetailsService;\r\n        private final PasswordEncoder encoder;\r\n    \r\n        public UserPassAuthProvider(PassengerDetailsService passengerDetailsService, PasswordEncoder encoder) {\r\n            this.passengerDetailsService = passengerDetailsService;\r\n            this.encoder = encoder;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            String email = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n            PassengerDetails passenger = passengerDetailsService.findByEmailAddress(email);\r\n            if (passenger != null &amp;&amp; encoder.matches(password, passenger.getPassword())) {\r\n                return new UsernamePasswordAuthenticationToken(email, null, Collections.singleton(() -&gt; ROLE_PASSENGER));\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return UsernamePasswordAuthenticationToken.class.equals(authentication);\r\n        }\r\n    }\r\n\r\n\r\nhomepage:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25368535/spring-security-does-not-allow-css-or-js-resources-to-be-loaded\r\n  [2]: https://i.stack.imgur.com/3YQ0R.png","title":"Spring security blocks access to the css files","body":"<p>I am using spring security 3.0.4 and the code below is related to its config. When I run the program, no page contains css code and only the html file is loaded, and the page is messed up. I also used some stackoverflow links(like <a href=\"https://stackoverflow.com/questions/25368535/spring-security-does-not-allow-css-or-js-resources-to-be-loaded\">this</a>), but none of them worked.</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    public static final String ROLE_PASSENGER = &quot;passenger&quot;;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().ignoringRequestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/search&quot;, &quot;/search/page&quot;)\n                .and().authorizeHttpRequests()\n                .requestMatchers(&quot;/reserve-flight&quot;, &quot;/panel&quot;).authenticated()\n                .requestMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/search/**&quot;).permitAll().and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll().defaultSuccessUrl(&quot;/panel&quot;)\n                .failureUrl(&quot;/login?error=true&quot;).and().logout().permitAll()\n                .logoutSuccessUrl(&quot;/login?logout=true&quot;).invalidateHttpSession(true);\n        return http.build();\n\n    }\n\n    @Bean\n    public BCryptPasswordEncoder getEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>Authprovider:</p>\n<pre><code>@Component\npublic class UserPassAuthProvider implements AuthenticationProvider {\n    private final PassengerDetailsService passengerDetailsService;\n    private final PasswordEncoder encoder;\n\n    public UserPassAuthProvider(PassengerDetailsService passengerDetailsService, PasswordEncoder encoder) {\n        this.passengerDetailsService = passengerDetailsService;\n        this.encoder = encoder;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String email = authentication.getName();\n        String password = authentication.getCredentials().toString();\n        PassengerDetails passenger = passengerDetailsService.findByEmailAddress(email);\n        if (passenger != null &amp;&amp; encoder.matches(password, passenger.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(email, null, Collections.singleton(() -&gt; ROLE_PASSENGER));\n        }\n        return null;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.equals(authentication);\n    }\n}\n</code></pre>\n<p>homepage:</p>\n<p><a href=\"https://i.stack.imgur.com/3YQ0R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YQ0R.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","testing","mocking","mockito","powermock"],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679411360,"post_id":75802428,"comment_id":133715075,"body_markdown":"I&#39;ve tried already test like this but I see an error:\n&#39;org.mockito.exceptions.base.MockitoException: \nThe used MockMaker SubclassByteBuddyMockMaker does not support the creation of static mocks&#39;","body":"I&#39;ve tried already test like this but I see an error: &#39;org.mockito.exceptions.base.MockitoException:  The used MockMaker SubclassByteBuddyMockMaker does not support the creation of static mocks&#39;"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1679412212,"post_id":75802428,"comment_id":133715381,"body_markdown":"Did you add mockito-inline to gradle/maven? And try to add \n@RunWith(MockitoJUnitRunner.class) to your test class","body":"Did you add mockito-inline to gradle/maven? And try to add  @RunWith(MockitoJUnitRunner.class) to your test class"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679412567,"post_id":75802428,"comment_id":133715507,"body_markdown":"Yes, I&#39;ve added it. And I have JUnit 5, so I have in my test class &#39;@ExtendWith(MockitoExtension.class)&#39;","body":"Yes, I&#39;ve added it. And I have JUnit 5, so I have in my test class &#39;@ExtendWith(MockitoExtension.class)&#39;"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1679413601,"post_id":75802428,"comment_id":133715901,"body_markdown":"if you have mockito-core than remove mockito-core from your dependencies (mockito-inline depends on mockito-core so it will be retrieved automatically). And i recommend to add @RunWith(MockitoJUnitRunner.class) too","body":"if you have mockito-core than remove mockito-core from your dependencies (mockito-inline depends on mockito-core so it will be retrieved automatically). And i recommend to add @RunWith(MockitoJUnitRunner.class) too"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679416648,"post_id":75802428,"comment_id":133716890,"body_markdown":"nope, it did not help me out too\nbut thanks anyway","body":"nope, it did not help me out too but thanks anyway"}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679408491,"creation_date":1679408491,"answer_id":75802428,"question_id":75794755,"body_markdown":"First of all, when you use &#39;mockStatic()&#39; you need to put it inside try-with-resources, then you cant throw an Exception here because the method is declared to throw only the `UnknownHostException`.\r\nYou need to throw `UnknownHostException`. Then when you do assertThrows you dont need to pass `InetAddress::getLocalHost` because you are testing repository method `getLocalHostName()` So test will look like \r\n\r\n   \r\n\r\n    @Test\r\n        void testGetLocalHostThrowsUnknownHostException() {\r\n            try(MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = mockStatic(InetAddress.class)) {\r\n                inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\r\n                assertThrows(UnknownHostException.class, () -&gt; repository.getLocalHostName());\r\n            }\r\n    \r\n        }","title":"How to cover by mock test static method InetAddress.getLocalHost()?","body":"<p>First of all, when you use 'mockStatic()' you need to put it inside try-with-resources, then you cant throw an Exception here because the method is declared to throw only the <code>UnknownHostException</code>.\nYou need to throw <code>UnknownHostException</code>. Then when you do assertThrows you dont need to pass <code>InetAddress::getLocalHost</code> because you are testing repository method <code>getLocalHostName()</code> So test will look like</p>\n<pre><code>@Test\n    void testGetLocalHostThrowsUnknownHostException() {\n        try(MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = mockStatic(InetAddress.class)) {\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\n            assertThrows(UnknownHostException.class, () -&gt; repository.getLocalHostName());\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679408491,"creation_date":1679342261,"question_id":75794755,"body_markdown":"I would like to cover by mock test one standard Java method, not all its realisation but only throwing an exception.\r\nIt looks like:\r\n\r\n    public static InetAddress getLocalHost() throws UnknownHostException {...}\r\nAnd I use it in my code in this method:\r\n\r\n     @Override\r\n     @SneakyThrows\r\n     public String getLocalHostName() {\r\n        return InetAddress.getLocalHost().getHostName();\r\n     }\r\n\r\nI&#39;ve to write the following tests:\r\n\r\n    @Test\r\n    void testGetLocalHostThrowsUnknownHostException() throws Exception {\r\n        mockStatic(InetAddress.class);\r\n        when(repository.getLocalHostName()).thenThrow(new Exception(&quot;exception message&quot;));\r\n    \r\n        assertThrows(UnknownHostException.class, InetAddress::getLocalHost);\r\n    }\r\nbut always see an error: \r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!\r\n    Invalid: java.lang.Exception: exception message\r\nAny there any possibilities to check the exception by mock test?\r\n        ","title":"How to cover by mock test static method InetAddress.getLocalHost()?","body":"<p>I would like to cover by mock test one standard Java method, not all its realisation but only throwing an exception.\nIt looks like:</p>\n<pre><code>public static InetAddress getLocalHost() throws UnknownHostException {...}\n</code></pre>\n<p>And I use it in my code in this method:</p>\n<pre><code> @Override\n @SneakyThrows\n public String getLocalHostName() {\n    return InetAddress.getLocalHost().getHostName();\n }\n</code></pre>\n<p>I've to write the following tests:</p>\n<pre><code>@Test\nvoid testGetLocalHostThrowsUnknownHostException() throws Exception {\n    mockStatic(InetAddress.class);\n    when(repository.getLocalHostName()).thenThrow(new Exception(&quot;exception message&quot;));\n\n    assertThrows(UnknownHostException.class, InetAddress::getLocalHost);\n}\n</code></pre>\n<p>but always see an error:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.lang.Exception: exception message\n</code></pre>\n<p>Any there any possibilities to check the exception by mock test?</p>\n"},{"tags":["java","oracle","hibernate","jboss"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":1,"creation_date":1679401890,"post_id":75801219,"comment_id":133711931,"body_markdown":"The values in the two database are just different. What is your question?","body":"The values in the two database are just different. What is your question?"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1679402544,"post_id":75801219,"comment_id":133712156,"body_markdown":"It depends how you insert the data really - what data types you&#39;re using, how you supply/bind values, etc. The DB session environment might matter if you&#39;re passing strings but you&#39;d probably see errors from format mismatches rather than truncation.","body":"It depends how you insert the data really - what data types you&#39;re using, how you supply/bind values, etc. The DB session environment might matter if you&#39;re passing strings but you&#39;d probably see errors from format mismatches rather than truncation."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1679403430,"post_id":75801219,"comment_id":133712456,"body_markdown":"Please [edit] the question to include a [MRE] including the Java code where you insert the data. There are multiple possible causes including whether you insert dates as bind variables with the data types `java.sql.Date` (which has no time component), `java.sql.Timestamp` (which does have a time component and matches Oracle&#39;s `DATE` data type), or as a string (which will rely on an implicit conversion in the database and then the `NLS_DATE_FORMAT` session parameter would be used). If you don&#39;t share any code then we cannot comment and can only guess.","body":"Please <a href=\"https://stackoverflow.com/posts/75801219/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including the Java code where you insert the data. There are multiple possible causes including whether you insert dates as bind variables with the data types <code>java.sql.Date</code> (which has no time component), <code>java.sql.Timestamp</code> (which does have a time component and matches Oracle&#39;s <code>DATE</code> data type), or as a string (which will rely on an implicit conversion in the database and then the <code>NLS_DATE_FORMAT</code> session parameter would be used). If you don&#39;t share any code then we cannot comment and can only guess."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1679407105,"post_id":75801219,"comment_id":133713667,"body_markdown":"Possibly a duplicate of https://stackoverflow.com/questions/33232260/temporaltemporaltype-date-with-oracle-12 (i.e. different JDBC drivers have different behaviours)","body":"Possibly a duplicate of <a href=\"https://stackoverflow.com/questions/33232260/temporaltemporaltype-date-with-oracle-12\" title=\"temporaltemporaltype date with oracle 12\">stackoverflow.com/questions/33232260/&hellip;</a> (i.e. different JDBC drivers have different behaviours)"},{"owner":{"account_id":14823357,"reputation":23,"user_id":10704957,"display_name":"kiryushinsa"},"score":0,"creation_date":1679407905,"post_id":75801219,"comment_id":133713958,"body_markdown":"@MT0 Interesting, thanks! But we are using Oracle version 19, maybe it will be useful.","body":"@MT0 Interesting, thanks! But we are using Oracle version 19, maybe it will be useful."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1679408503,"post_id":75801219,"comment_id":133714155,"body_markdown":"@СергейКирюшин The problem would arise from the JDBC driver version and not the RDBMS version - for example: the [JDBC driver downloads](https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html) lists two different drivers OJDBC8 and OJDBC10 for Oracle 19c (but also states that OJDBC11 works with Oracle 19c) so your test and production database could be running the same databases, codebase and settings and have different OJDBC drivers.","body":"@СергейКирюшин The problem would arise from the JDBC driver version and not the RDBMS version - for example: the <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">JDBC driver downloads</a> lists two different drivers OJDBC8 and OJDBC10 for Oracle 19c (but also states that OJDBC11 works with Oracle 19c) so your test and production database could be running the same databases, codebase and settings and have different OJDBC drivers."}],"owner":{"account_id":14823357,"reputation":23,"user_id":10704957,"display_name":"kiryushinsa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679407933,"creation_date":1679401734,"question_id":75801219,"body_markdown":"**Hello**\r\n\r\nI have:\r\n\r\n- database Oracle 19\r\n- Field in oracle with type - DATE\r\n- Application with: Jboss, EJB, Hibernate\r\n\r\nWhen my application inserts data into the database, I get two different results:\r\n\r\nSql query which i used for collection data:\r\n\r\n    SELECT ID, KEY, TO_CHAR(STATUS_DATE, &#39;YYYY-MM-DD HH24:MI:SS&#39;) AS DATE_WITH_TIME FROM DATA dt; \r\n\r\n - Production: In field DATE_WITH_TIME i always get right date but wrong time - 2023-03-20 00:00:00\r\n - Test: In field DATE_WITH_TIME i get 2023-03-20 18:20:23 - get current date-time\r\n\r\n\r\nSettings for test and production is identical - versions of database/application/dependencies, equals field types etc. At the same time insertions to another tables on production works properly. \r\n\r\n**Question:** \r\nWhat factor in two environments can impose such a change on the behavior when i inserting data in field DATE?\r\nMaybe hidden setting in Oracle or Jboss.\r\n\r\n**UPD1:**   \r\nI&#39;m working with legacy and I know it needs to be refactored, but now I want to know why this solution worked differently for prod and test env.  \r\n\r\nAdditional information:\r\n - setting data to field - `setDate(new Timestamp(new Date().getTime()))` - \r\n - NLS_DATE_FORMAT = DD.MM.RR -&gt; for Production and Test\r\n - Entity field type:\r\n\r\n```\r\n  @Temporal(TemporalType.DATE)\r\n  @Column(name=&quot;DATE&quot;)\r\n  private Date date;\r\n```","title":"Oracle. Inserting into the DATE field gives different results in different environments","body":"<p><strong>Hello</strong></p>\n<p>I have:</p>\n<ul>\n<li>database Oracle 19</li>\n<li>Field in oracle with type - DATE</li>\n<li>Application with: Jboss, EJB, Hibernate</li>\n</ul>\n<p>When my application inserts data into the database, I get two different results:</p>\n<p>Sql query which i used for collection data:</p>\n<pre><code>SELECT ID, KEY, TO_CHAR(STATUS_DATE, 'YYYY-MM-DD HH24:MI:SS') AS DATE_WITH_TIME FROM DATA dt; \n</code></pre>\n<ul>\n<li>Production: In field DATE_WITH_TIME i always get right date but wrong time - 2023-03-20 00:00:00</li>\n<li>Test: In field DATE_WITH_TIME i get 2023-03-20 18:20:23 - get current date-time</li>\n</ul>\n<p>Settings for test and production is identical - versions of database/application/dependencies, equals field types etc. At the same time insertions to another tables on production works properly.</p>\n<p><strong>Question:</strong>\nWhat factor in two environments can impose such a change on the behavior when i inserting data in field DATE?\nMaybe hidden setting in Oracle or Jboss.</p>\n<p><strong>UPD1:</strong><br />\nI'm working with legacy and I know it needs to be refactored, but now I want to know why this solution worked differently for prod and test env.</p>\n<p>Additional information:</p>\n<ul>\n<li>setting data to field - <code>setDate(new Timestamp(new Date().getTime()))</code> -</li>\n<li>NLS_DATE_FORMAT = DD.MM.RR -&gt; for Production and Test</li>\n<li>Entity field type:</li>\n</ul>\n<pre><code>  @Temporal(TemporalType.DATE)\n  @Column(name=&quot;DATE&quot;)\n  private Date date;\n</code></pre>\n"},{"tags":["java","multithreading","exception","java-threads"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1679407408,"post_id":75802202,"comment_id":133713780,"body_markdown":"Because your method no longer throws the exception. The thread which may or may not run at any future point in time might encounter that exception but that no longer has any relation to your `simulateTwitterStream`.","body":"Because your method no longer throws the exception. The thread which may or may not run at any future point in time might encounter that exception but that no longer has any relation to your <code>simulateTwitterStream</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1679407506,"post_id":75802202,"comment_id":133713816,"body_markdown":"Your code is now inside a Callable, which **does** declare that it can throw an exception. [Callable#call](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html#call--)","body":"Your code is now inside a Callable, which <b>does</b> declare that it can throw an exception. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html#call--\" rel=\"nofollow noreferrer\">Callable#call</a>"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1679408755,"post_id":75802202,"comment_id":133714228,"body_markdown":"@khelwood thank you! but if the code is from call() which can throw Exception, then who catch it?","body":"@khelwood thank you! but if the code is from call() which can throw Exception, then who catch it?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1679409056,"post_id":75802202,"comment_id":133714322,"body_markdown":"@elvis That&#39;s not your method&#39;s problem, because your method does not execute the Callable: It&#39;s the `Executor`&#39;s problem.","body":"@elvis That&#39;s not your method&#39;s problem, because your method does not execute the Callable: It&#39;s the <code>Executor</code>&#39;s problem."}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679407270,"creation_date":1679407270,"question_id":75802202,"body_markdown":" I have a piece of code where an exception is thrown. The createStatus method from twitter4j library throws TwitterException, which extends Exception, so it&#39;s a checked exception.   \r\n\r\n    private void simulateTwitterStream(\r\n            String[] keywords, int minTweetLength, int maxTweetLength, long sleepTimeMs) throws TwitterException {\r\n    \r\n            while (true) {\r\n                String formattedTweetAsRawJson = getFormattedTeet(keywords, minTweetLength, maxTweetLength);\r\n                Status status = TwitterObjectFactory.createStatus(formattedTweetAsRawJson);\r\n                twitterKafkaStatusListener.onStatus(status);\r\n                sleep(sleepTimeMs);\r\n            }\r\n    }\r\n\r\nAfter that I implemented the while loop in another thread like this:\r\n\r\n    private void simulateTwitterStream(\r\n            String[] keywords, int minTweetLength, int maxTweetLength, long sleepTimeMs) {\r\n\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            while (true) {\r\n                String formattedTweetAsRawJson = getFormattedTeet(keywords, minTweetLength, maxTweetLength);\r\n                Status status = TwitterObjectFactory.createStatus(formattedTweetAsRawJson);\r\n                twitterKafkaStatusListener.onStatus(status);\r\n                sleep(sleepTimeMs);\r\n            }\r\n        });\r\n    }\r\n\r\nBut in this case, I don&#39;t need to use throws TwitterException at the method signature. Can somebody explain me why I don&#39;t need to use throws TwitterException.\r\n\r\nThank you","title":"Why the exception is not thrown if I create another thread in Java?","body":"<p>I have a piece of code where an exception is thrown. The createStatus method from twitter4j library throws TwitterException, which extends Exception, so it's a checked exception.</p>\n<pre><code>private void simulateTwitterStream(\n        String[] keywords, int minTweetLength, int maxTweetLength, long sleepTimeMs) throws TwitterException {\n\n        while (true) {\n            String formattedTweetAsRawJson = getFormattedTeet(keywords, minTweetLength, maxTweetLength);\n            Status status = TwitterObjectFactory.createStatus(formattedTweetAsRawJson);\n            twitterKafkaStatusListener.onStatus(status);\n            sleep(sleepTimeMs);\n        }\n}\n</code></pre>\n<p>After that I implemented the while loop in another thread like this:</p>\n<pre><code>private void simulateTwitterStream(\n        String[] keywords, int minTweetLength, int maxTweetLength, long sleepTimeMs) {\n\n    Executors.newSingleThreadExecutor().submit(() -&gt; {\n        while (true) {\n            String formattedTweetAsRawJson = getFormattedTeet(keywords, minTweetLength, maxTweetLength);\n            Status status = TwitterObjectFactory.createStatus(formattedTweetAsRawJson);\n            twitterKafkaStatusListener.onStatus(status);\n            sleep(sleepTimeMs);\n        }\n    });\n}\n</code></pre>\n<p>But in this case, I don't need to use throws TwitterException at the method signature. Can somebody explain me why I don't need to use throws TwitterException.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679382213,"post_id":75797731,"comment_id":133707031,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1679574203,"post_id":75797731,"comment_id":133747753,"body_markdown":"Try to avoid using notifyDatasetChanged().  This can be costly, as it is more of a shotgun approach.  Since you are inserting an item at the end of the list each time, use notifyItemInserted(int position) instead.","body":"Try to avoid using notifyDatasetChanged().  This can be costly, as it is more of a shotgun approach.  Since you are inserting an item at the end of the list each time, use notifyItemInserted(int position) instead."}],"answers":[{"comments":[{"owner":{"account_id":16473307,"reputation":11,"user_id":11901878,"display_name":"Arizen Bolt"},"score":0,"creation_date":1679391138,"post_id":75797865,"comment_id":133709032,"body_markdown":"Thanks Alot. Asa simple as that was I would have never thought of tryng that. It helped. It works fine now","body":"Thanks Alot. Asa simple as that was I would have never thought of tryng that. It helped. It works fine now"}],"tags":[],"owner":{"account_id":25535301,"reputation":1,"user_id":19322499,"display_name":"Niaz Sagor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679379763,"creation_date":1679379763,"answer_id":75797865,"question_id":75797731,"body_markdown":"If you are sure that there is no issue with the misspellings, then I think you can use the `equals` method to check the gender string. For example, `employerInfo.getGender().equals(&quot;Male&quot;)`","title":"How to populate RecyclerView using Java with data that meets condition? For Instance on populate with male candidates","body":"<p>If you are sure that there is no issue with the misspellings, then I think you can use the <code>equals</code> method to check the gender string. For example, <code>employerInfo.getGender().equals(&quot;Male&quot;)</code></p>\n"}],"owner":{"account_id":16473307,"reputation":11,"user_id":11901878,"display_name":"Arizen Bolt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679406333,"creation_date":1679378321,"question_id":75797731,"body_markdown":"My RecyclerView is currently populating with all data available on my firebase database but I only want it to populate male candidates for instance. How do I go about doing so?\r\n\r\n[![Image of how it is currently displaying](https://i.stack.imgur.com/lQnmi.jpg)](https://i.stack.imgur.com/lQnmi.jpg)\r\n\r\n\r\nThis is what I Have on my ListViewActivity\r\n\r\n```\r\npublic class ListViewActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n    DatabaseReference databaseReference;\r\n    MyAdapter myAdapter;\r\n    ArrayList&lt;EmployerInfo&gt; list;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list_view);\r\n\r\n        recyclerView = findViewById(R.id.recyclerViewList);\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;EmployerInfo&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        myAdapter = new MyAdapter(this, list);\r\n        recyclerView.setAdapter(myAdapter);\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                    EmployerInfo employerInfo = dataSnapshot.getValue(EmployerInfo.class);\r\n                    list.add(employerInfo);\r\n                }\r\n                myAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is myAdapeter class\r\n\r\n\r\n```\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;EmployerInfo&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;EmployerInfo&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View v = LayoutInflater.from(context).inflate(R.layout.item, parent, false);\r\n       return  new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        EmployerInfo employerInfo = list.get(position);\r\n        holder.firstName.setText(employerInfo.getName());\r\n        holder.lastName.setText(employerInfo.getSurname());\r\n        holder.gender.setText(employerInfo.getGender());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public  static  class  MyViewHolder extends  RecyclerView.ViewHolder{\r\n\r\n        TextView firstName, lastName, gender;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            firstName =itemView.findViewById(R.id.textViewFirstName);\r\n            lastName = itemView.findViewById(R.id.textViewLastName);\r\n            gender = itemView.findViewById(R.id.textViewGender);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried using if statement on the listViewActivity but it is return a blank page. I want it to only display data of male candidates\r\n\r\n\r\n \r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list_view);\r\n\r\n        recyclerView = findViewById(R.id.recyclerViewList);\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;EmployeeProfile&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        myAdapter = new MyAdapter(this, list);\r\n        recyclerView.setAdapter(myAdapter);\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                    EmployerInfo employerInfo = dataSnapshot.getValue(EmployerInfo.class);\r\n\r\n                    if(employerInfo.getGender() == &quot;Male&quot;){\r\n                        list.add(employerInfo);\r\n                    }\r\n                }\r\n                myAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n```","title":"How to populate RecyclerView using Java with data that meets condition? For Instance on populate with male candidates","body":"<p>My RecyclerView is currently populating with all data available on my firebase database but I only want it to populate male candidates for instance. How do I go about doing so?</p>\n<p><a href=\"https://i.stack.imgur.com/lQnmi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQnmi.jpg\" alt=\"Image of how it is currently displaying\" /></a></p>\n<p>This is what I Have on my ListViewActivity</p>\n<pre><code>public class ListViewActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    DatabaseReference databaseReference;\n    MyAdapter myAdapter;\n    ArrayList&lt;EmployerInfo&gt; list;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list_view);\n\n        recyclerView = findViewById(R.id.recyclerViewList);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;EmployerInfo&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        list = new ArrayList&lt;&gt;();\n        myAdapter = new MyAdapter(this, list);\n        recyclerView.setAdapter(myAdapter);\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\n                    EmployerInfo employerInfo = dataSnapshot.getValue(EmployerInfo.class);\n                    list.add(employerInfo);\n                }\n                myAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>This is myAdapeter class</p>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;EmployerInfo&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;EmployerInfo&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View v = LayoutInflater.from(context).inflate(R.layout.item, parent, false);\n       return  new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        EmployerInfo employerInfo = list.get(position);\n        holder.firstName.setText(employerInfo.getName());\n        holder.lastName.setText(employerInfo.getSurname());\n        holder.gender.setText(employerInfo.getGender());\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public  static  class  MyViewHolder extends  RecyclerView.ViewHolder{\n\n        TextView firstName, lastName, gender;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            firstName =itemView.findViewById(R.id.textViewFirstName);\n            lastName = itemView.findViewById(R.id.textViewLastName);\n            gender = itemView.findViewById(R.id.textViewGender);\n        }\n    }\n}\n</code></pre>\n<p>I tried using if statement on the listViewActivity but it is return a blank page. I want it to only display data of male candidates</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list_view);\n\n        recyclerView = findViewById(R.id.recyclerViewList);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;EmployeeProfile&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        list = new ArrayList&lt;&gt;();\n        myAdapter = new MyAdapter(this, list);\n        recyclerView.setAdapter(myAdapter);\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\n                    EmployerInfo employerInfo = dataSnapshot.getValue(EmployerInfo.class);\n\n                    if(employerInfo.getGender() == &quot;Male&quot;){\n                        list.add(employerInfo);\n                    }\n                }\n                myAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","soap","soap-client"],"comments":[{"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"score":0,"creation_date":1358693623,"post_id":14425668,"comment_id":20080349,"body_markdown":"What do you mean by &quot;I am not able to iterate the response&quot;. Are you getting any error? Are you seeing any unexpected behaviour? what is it?","body":"What do you mean by &quot;I am not able to iterate the response&quot;. Are you getting any error? Are you seeing any unexpected behaviour? what is it?"},{"owner":{"account_id":2002543,"reputation":1,"user_id":1793215,"display_name":"user1793215"},"score":0,"creation_date":1358694486,"post_id":14425668,"comment_id":20080597,"body_markdown":"I am not getting any error and also no output is printing on the screen.","body":"I am not getting any error and also no output is printing on the screen."}],"answers":[{"comments":[{"owner":{"account_id":2002543,"reputation":1,"user_id":1793215,"display_name":"user1793215"},"score":0,"creation_date":1358698848,"post_id":14425787,"comment_id":20081840,"body_markdown":"Thanks for you update I have done the iteration using childnodes.","body":"Thanks for you update I have done the iteration using childnodes."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427443089,"creation_date":1358694011,"answer_id":14425787,"question_id":14425668,"body_markdown":"There is only one `GetUserResponse` element below `Body`. `getChildElements` only gets child elements, as opposed to descendant elements. You must first reach `GetUserResponse` and then iterate over *its* children.","title":"Soap response iteration in java","body":"<p>There is only one <code>GetUserResponse</code> element below <code>Body</code>. <code>getChildElements</code> only gets child elements, as opposed to descendant elements. You must first reach <code>GetUserResponse</code> and then iterate over <em>its</em> children.</p>\n"}],"owner":{"account_id":2002543,"reputation":1,"user_id":1793215,"display_name":"user1793215"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679406310,"creation_date":1358693329,"question_id":14425668,"body_markdown":"\r\nI am using java soap request and response in my code. I am getting the request and response properly. \r\nBut I am not able to iterate the response\r\nPlease see my response and code used to iterate below.  Please help me to resolve this issue.      \r\n\r\n\r\nResponse\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;GetUserResponse xmlns=&quot;http://XXXX.com/XXXXXXXX.XXXXXXX.WS&quot;&gt;\r\n          &lt;GetUserResult&gt;\r\n            user\r\n              &lt;PersonID&gt;111113&lt;/PersonID&gt;\r\n              &lt;Username&gt;0987654321&lt;/Username&gt;\r\n              &lt;Password /&gt;         \r\n              &lt;FwyMember&gt;Y&lt;/FwyMember&gt;\r\n              &lt;WebMember&gt;Y&lt;/WebMember&gt;\r\n              &lt;FirstName&gt;Mohamed&lt;/FirstName&gt;\r\n              &lt;Tier&gt;firstclass&lt;/Tier&gt;\r\n              &lt;CountryOfResidence&gt;IN&lt;/CountryOfResidence&gt;\r\n              &lt;PreferencesChanged&gt;false&lt;/PreferencesChanged&gt;       \r\n              &lt;FamilyRelationship /&gt;\r\n              &lt;Title&gt;Mr&lt;/Title&gt;\r\n              &lt;MiddleName /&gt;\r\n              ........ continue like this\r\n \r\n\r\nJava code\r\n\r\n    SOAPBody responseBody = response.getSOAPBody();\r\n    QName bodyName1 = new QName(&quot;http://XXXX.com/XXXXXXXX.XXXXXXX.WS&quot;,&quot;GetUserResponse&quot;);\r\n    java.util.Iterator iterator = responseBody.getChildElements(bodyName1);\r\n    while (iterator.hasNext()) {\r\n      SOAPBodyElement responseElement = (SOAPBodyElement)iterator.next();\r\n      String val = responseElement.getValue();\r\n      System.out.println(&quot;The values are &quot;+val);\r\n    }","title":"Soap response iteration in java","body":"<p>I am using java soap request and response in my code. I am getting the request and response properly. \nBut I am not able to iterate the response\nPlease see my response and code used to iterate below.  Please help me to resolve this issue.      </p>\n\n<p>Response</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n  &lt;soap:Body&gt;\n    &lt;GetUserResponse xmlns=\"http://XXXX.com/XXXXXXXX.XXXXXXX.WS\"&gt;\n      &lt;GetUserResult&gt;\n        user\n          &lt;PersonID&gt;111113&lt;/PersonID&gt;\n          &lt;Username&gt;0987654321&lt;/Username&gt;\n          &lt;Password /&gt;         \n          &lt;FwyMember&gt;Y&lt;/FwyMember&gt;\n          &lt;WebMember&gt;Y&lt;/WebMember&gt;\n          &lt;FirstName&gt;Mohamed&lt;/FirstName&gt;\n          &lt;Tier&gt;firstclass&lt;/Tier&gt;\n          &lt;CountryOfResidence&gt;IN&lt;/CountryOfResidence&gt;\n          &lt;PreferencesChanged&gt;false&lt;/PreferencesChanged&gt;       \n          &lt;FamilyRelationship /&gt;\n          &lt;Title&gt;Mr&lt;/Title&gt;\n          &lt;MiddleName /&gt;\n          ........ continue like this\n</code></pre>\n\n<p>Java code</p>\n\n<pre><code>SOAPBody responseBody = response.getSOAPBody();\nQName bodyName1 = new QName(\"http://XXXX.com/XXXXXXXX.XXXXXXX.WS\",\"GetUserResponse\");\njava.util.Iterator iterator = responseBody.getChildElements(bodyName1);\nwhile (iterator.hasNext()) {\n  SOAPBodyElement responseElement = (SOAPBodyElement)iterator.next();\n  String val = responseElement.getValue();\n  System.out.println(\"The values are \"+val);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679346361,"post_id":75795233,"comment_id":133702606,"body_markdown":"You can&#39;t call `compareTo` on a primitive. Look at the javadoc for `compareTo` and implement it yourself.","body":"You can&#39;t call <code>compareTo</code> on a primitive. Look at the javadoc for <code>compareTo</code> and implement it yourself."},{"owner":{"account_id":20300298,"reputation":11,"user_id":18294031,"display_name":"Максим"},"score":0,"creation_date":1679347507,"post_id":75795233,"comment_id":133702815,"body_markdown":"Helps pls God will bless you","body":"Helps pls God will bless you"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1679348879,"post_id":75795233,"comment_id":133703070,"body_markdown":"Related: https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property","body":"Related: <a href=\"https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\" title=\"sort arraylist of custom objects by property\">stackoverflow.com/questions/2784514/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679405855,"creation_date":1679364382,"answer_id":75796778,"question_id":75795233,"body_markdown":"You should do the following:\r\n- `Comparable` is a generic interface so it should be `implements Comparable&lt;Color&gt;`\r\n- Then change your `compareTo` method to\r\n```\r\npublic int compareTo(Color o) {\r\n    return this.GetIsPrimary().compareTo(o.GetIsPrimary());\r\n}\r\n```\r\n- Change your `getters` and `setters` and `primary field` to use `Boolean` rather than `boolean`.  Then you will be able to use `compareTo` as it is now an object.\r\n\r\nNote:\r\n- methods, by convention, should start with lower case letters.\r\n- if a method returns a `boolean`, it is usually preceded with `is`.  Like `isPrimary()`.\r\n\r\nAlso note that you don&#39;t need to implement the Comparable interface to sort.  Assuming the `colorList` is mutable, you can do it as follows by using a Comparator in the sort method.\r\n```\r\ncolorList.sort(Comparator.comparing(Color::GetIsPrimary));\r\n","title":"Problems with implementing sorting of list of objects","body":"<p>You should do the following:</p>\n<ul>\n<li><code>Comparable</code> is a generic interface so it should be <code>implements Comparable&lt;Color&gt;</code></li>\n<li>Then change your <code>compareTo</code> method to</li>\n</ul>\n<pre><code>public int compareTo(Color o) {\n    return this.GetIsPrimary().compareTo(o.GetIsPrimary());\n}\n</code></pre>\n<ul>\n<li>Change your <code>getters</code> and <code>setters</code> and <code>primary field</code> to use <code>Boolean</code> rather than <code>boolean</code>.  Then you will be able to use <code>compareTo</code> as it is now an object.</li>\n</ul>\n<p>Note:</p>\n<ul>\n<li>methods, by convention, should start with lower case letters.</li>\n<li>if a method returns a <code>boolean</code>, it is usually preceded with <code>is</code>.  Like <code>isPrimary()</code>.</li>\n</ul>\n<p>Also note that you don't need to implement the Comparable interface to sort.  Assuming the <code>colorList</code> is mutable, you can do it as follows by using a Comparator in the sort method.</p>\n<pre><code>colorList.sort(Comparator.comparing(Color::GetIsPrimary));\n</code></pre>\n"}],"owner":{"account_id":20300298,"reputation":11,"user_id":18294031,"display_name":"Максим"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679405855,"creation_date":1679345852,"question_id":75795233,"body_markdown":"I have list of objects that looks like this \r\n\r\n    List&lt;Color&gt; colorList = generateColorList(10);\r\n\r\n    System.out.println(colorList);\r\n\r\n    System.out.println(colorList.stream().sorted().collect(Collectors.toList())); //Sorting\r\n\r\n    // [Color{colors=[#91E7CE, #FCEF32, #859BDF], isPrimary=true, rgb={r=126, b=155, g=112}}, \r\n    // Color{colors=[#E53DE3, #589003, #12AC95], isPrimary=false, rgb={r=111, b=140, g=232}}, \r\n    // Color{colors=[#90381C, #83E0A5, #D88C51], isPrimary=false, rgb={r=234, b=154, g=3}}, \r\n    // Color{colors=[#D40BF0, #8625B4, #CA1F2A], isPrimary=false, rgb={r=198, b=231, g=18}}, \r\n    // Color{colors=[#FB1203, #970BFA, #7FEA33], isPrimary=false, rgb={r=238, b=7, g=56}}, \r\n    // Color{colors=[#68FB95, #34DBE8, #8953EF], isPrimary=true, rgb={r=121, b=171, g=167}}, \r\n    // Color{colors=[#9D85F3, #1455AE, #374475], isPrimary=false, rgb={r=225, b=177, g=70}}, \r\n    // Color{colors=[#43466A, #F3CD61, #3962FB], isPrimary=false, rgb={r=12, b=163, g=194}}, \r\n    // Color{colors=[#311731, #8BF4FD, #40EF0C], isPrimary=true, rgb={r=89, b=80, g=153}}, \r\n    // Color{colors=[#9015A9, #603793, #62F78B], isPrimary=true, rgb={r=111, b=253, g=88}}]\r\nIt has three datatypes that are listed in my class below\r\n\r\nI want to sort them by isPrimary field\r\n\r\nColor.class\r\n\r\n    public class Color implements Serializable, Comparable {\r\n        private List&lt;String&gt; colors;\r\n        @JsonProperty(&quot;isPrimary&quot;)\r\n        private boolean primary;\r\n        private HashMap&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\r\n        public Color(){};\r\n\r\n    public List&lt;String&gt; getColors() {\r\n        return colors;\r\n    }\r\n\r\n    public void setColors(List&lt;String&gt; colors) {\r\n        this.colors = colors;\r\n    }\r\n\r\n    public boolean GetIsPrimary() {\r\n        return primary;\r\n    }\r\n\r\n    public void setIsPrimary(boolean primary) {\r\n        this.primary = primary;\r\n    }\r\n\r\n    public HashMap&lt;String, Integer&gt; getRgb() {\r\n        return rgb;\r\n    }\r\n\r\n    public void setRgb(HashMap&lt;String, Integer&gt; rgb) {\r\n        this.rgb = rgb;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Color{&quot; +\r\n                &quot;colors=&quot; + colors +\r\n                &quot;, isPrimary=&quot; + primary +\r\n                &quot;, rgb=&quot; + rgb +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Object o) {\r\n        Color o1 = (Color)this;\r\n        Color o2 = (Color)o;\r\n        return o1.GetIsPrimary().compareTo(o2.GetIsPrimary());\r\n    }\r\n}\r\n\r\nI was trying to repeat after my tutor but he had String and i have boolean and it tells me that method compareTo is not resolved(the last method in Color class)\r\nHow can i make it working?","title":"Problems with implementing sorting of list of objects","body":"<p>I have list of objects that looks like this</p>\n<pre><code>List&lt;Color&gt; colorList = generateColorList(10);\n\nSystem.out.println(colorList);\n\nSystem.out.println(colorList.stream().sorted().collect(Collectors.toList())); //Sorting\n\n// [Color{colors=[#91E7CE, #FCEF32, #859BDF], isPrimary=true, rgb={r=126, b=155, g=112}}, \n// Color{colors=[#E53DE3, #589003, #12AC95], isPrimary=false, rgb={r=111, b=140, g=232}}, \n// Color{colors=[#90381C, #83E0A5, #D88C51], isPrimary=false, rgb={r=234, b=154, g=3}}, \n// Color{colors=[#D40BF0, #8625B4, #CA1F2A], isPrimary=false, rgb={r=198, b=231, g=18}}, \n// Color{colors=[#FB1203, #970BFA, #7FEA33], isPrimary=false, rgb={r=238, b=7, g=56}}, \n// Color{colors=[#68FB95, #34DBE8, #8953EF], isPrimary=true, rgb={r=121, b=171, g=167}}, \n// Color{colors=[#9D85F3, #1455AE, #374475], isPrimary=false, rgb={r=225, b=177, g=70}}, \n// Color{colors=[#43466A, #F3CD61, #3962FB], isPrimary=false, rgb={r=12, b=163, g=194}}, \n// Color{colors=[#311731, #8BF4FD, #40EF0C], isPrimary=true, rgb={r=89, b=80, g=153}}, \n// Color{colors=[#9015A9, #603793, #62F78B], isPrimary=true, rgb={r=111, b=253, g=88}}]\n</code></pre>\n<p>It has three datatypes that are listed in my class below</p>\n<p>I want to sort them by isPrimary field</p>\n<p>Color.class</p>\n<pre><code>public class Color implements Serializable, Comparable {\n    private List&lt;String&gt; colors;\n    @JsonProperty(&quot;isPrimary&quot;)\n    private boolean primary;\n    private HashMap&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\n    public Color(){};\n\npublic List&lt;String&gt; getColors() {\n    return colors;\n}\n\npublic void setColors(List&lt;String&gt; colors) {\n    this.colors = colors;\n}\n\npublic boolean GetIsPrimary() {\n    return primary;\n}\n\npublic void setIsPrimary(boolean primary) {\n    this.primary = primary;\n}\n\npublic HashMap&lt;String, Integer&gt; getRgb() {\n    return rgb;\n}\n\npublic void setRgb(HashMap&lt;String, Integer&gt; rgb) {\n    this.rgb = rgb;\n}\n\n@Override\npublic String toString() {\n    return &quot;Color{&quot; +\n            &quot;colors=&quot; + colors +\n            &quot;, isPrimary=&quot; + primary +\n            &quot;, rgb=&quot; + rgb +\n            '}';\n}\n\n@Override\npublic int compareTo(Object o) {\n    Color o1 = (Color)this;\n    Color o2 = (Color)o;\n    return o1.GetIsPrimary().compareTo(o2.GetIsPrimary());\n}\n</code></pre>\n<p>}</p>\n<p>I was trying to repeat after my tutor but he had String and i have boolean and it tells me that method compareTo is not resolved(the last method in Color class)\nHow can i make it working?</p>\n"},{"tags":["java","spring-boot","soap"],"owner":{"account_id":12810677,"reputation":569,"user_id":9269017,"display_name":"kk luo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679405805,"creation_date":1679405805,"question_id":75801943,"body_markdown":"I&#39;m trying to create a soap client in a spring boot project. I googled a lot and find some tutorials like below https://www.baeldung.com/spring-soap-web-service but stuck in the first step.\r\nIn the tutorial there is a URL for generate schema like  http://localhost:8080/ws/countries.wsdl.But what I have is a remote URL like http://xxx.xxx.xxx.xxx:8080/ws/wsservice?wsdl is this the same thing or I have to get a wsdl file from the wsdl URL?How to do that? Any help? Thx.","title":"How to create SOAP client in spring boot from a URL like http://xxx?wsdl","body":"<p>I'm trying to create a soap client in a spring boot project. I googled a lot and find some tutorials like below <a href=\"https://www.baeldung.com/spring-soap-web-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-soap-web-service</a> but stuck in the first step.\nIn the tutorial there is a URL for generate schema like  http://localhost:8080/ws/countries.wsdl.But what I have is a remote URL like <a href=\"http://xxx.xxx.xxx.xxx:8080/ws/wsservice?wsdl\" rel=\"nofollow noreferrer\">http://xxx.xxx.xxx.xxx:8080/ws/wsservice?wsdl</a> is this the same thing or I have to get a wsdl file from the wsdl URL?How to do that? Any help? Thx.</p>\n"},{"tags":["java","ignite","apacheignite"],"answers":[{"tags":[],"owner":{"account_id":15624718,"reputation":2360,"user_id":11272685,"display_name":"Alexandr Shapkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679405790,"creation_date":1679405790,"answer_id":75801939,"question_id":75801775,"body_markdown":"There is no filtering on Ignite side. The nodes are just listening for the traffic on specific ports.\r\n\r\nIn general, the task is more about your system administration and networking configuration. I.e. how to limit access for a particular set of hosts only, how to configure a firewall, etc.\r\n\r\nFrom Ignite&#39;s perspective, there is one thing though - do not use [TcpDiscoveryMulticastIpFinder][1] which is the default one. Instead, specify your nodes&#39; list explicitely using [a static IP finder][2].\r\n\r\nTo not mix the clusters, you can also configure non-standard communication [`47100`] and discovery [`47500`] ports and set them to, say, `42100` and `42500` respectively. More details i[n the documentation][3].\r\n\r\n\r\n  [1]: https://ignite.apache.org/docs/latest/clustering/tcp-ip-discovery#multicast-ip-finder\r\n  [2]: https://ignite.apache.org/docs/latest/clustering/tcp-ip-discovery#static-ip-finder\r\n  [3]: https://ignite.apache.org/docs/latest/clustering/network-configuration#discovery","title":"Apache Ignite unknown node trying to connect","body":"<p>There is no filtering on Ignite side. The nodes are just listening for the traffic on specific ports.</p>\n<p>In general, the task is more about your system administration and networking configuration. I.e. how to limit access for a particular set of hosts only, how to configure a firewall, etc.</p>\n<p>From Ignite's perspective, there is one thing though - do not use <a href=\"https://ignite.apache.org/docs/latest/clustering/tcp-ip-discovery#multicast-ip-finder\" rel=\"nofollow noreferrer\">TcpDiscoveryMulticastIpFinder</a> which is the default one. Instead, specify your nodes' list explicitely using <a href=\"https://ignite.apache.org/docs/latest/clustering/tcp-ip-discovery#static-ip-finder\" rel=\"nofollow noreferrer\">a static IP finder</a>.</p>\n<p>To not mix the clusters, you can also configure non-standard communication [<code>47100</code>] and discovery [<code>47500</code>] ports and set them to, say, <code>42100</code> and <code>42500</code> respectively. More details i<a href=\"https://ignite.apache.org/docs/latest/clustering/network-configuration#discovery\" rel=\"nofollow noreferrer\">n the documentation</a>.</p>\n"}],"owner":{"account_id":2365339,"reputation":159,"user_id":2071118,"accept_rate":43,"display_name":"Harshad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679405790,"creation_date":1679404820,"question_id":75801775,"body_markdown":"Unwanted node trying to connect Apache Ignite cluster. Due to which node goes down &amp; cluster become unstable.\r\nHow to restrict unknown node trying to connect Ignite cluster.  ","title":"Apache Ignite unknown node trying to connect","body":"<p>Unwanted node trying to connect Apache Ignite cluster. Due to which node goes down &amp; cluster become unstable.\nHow to restrict unknown node trying to connect Ignite cluster.</p>\n"},{"tags":["java","database","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1679400130,"post_id":75792522,"comment_id":133711458,"body_markdown":"Could you please show the code where you are trying to initialize the `EntityManager`? It helps if you could give more details about your deployment.","body":"Could you please show the code where you are trying to initialize the <code>EntityManager</code>? It helps if you could give more details about your deployment."},{"owner":{"account_id":16237389,"reputation":5,"user_id":11724567,"display_name":"VADE"},"score":1,"creation_date":1679405760,"post_id":75792522,"comment_id":133713200,"body_markdown":"Hey! @MauricioBuffon, Thanks for your reply! i&#39;ve updated the OP to contain the instantiating function/method.","body":"Hey! @MauricioBuffon, Thanks for your reply! i&#39;ve updated the OP to contain the instantiating function/method."}],"owner":{"account_id":16237389,"reputation":5,"user_id":11724567,"display_name":"VADE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679405704,"creation_date":1679327658,"question_id":75792522,"body_markdown":"I have tried every solution i could possible find, and nothing seemed to have worked.\r\nit seems like my EntityManager is unable to find my Persistence provider.\r\n\r\nhoping for some advice, and posisbly a solution.\r\n\r\nThanks!\r\n\r\n**Error:**\r\n```\r\njakarta.persistence.PersistenceException: No Persistence provider for EntityManager named default\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n```\r\n**pom.xml**\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n**persistence.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;default&quot;&gt;     \r\n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;...&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/mydb&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;*******&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;*******&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.exclude_unlisted_classes&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n**persistence.xml Location:**\r\n`/src/main/resources/META-INF/persistence.xml`\r\n\r\n**Instantiation of EntityManager** (uses Jakarta.persistence)\r\n```\r\n public static void hibernateSaving(Player player) {\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n        transaction.begin();\r\n\r\n        saveContainers(player);\r\n\r\n        if(entityManager.find(Player.class, player.getId()) != null) {\r\n            System.out.println(&quot;Database contains player, updating...&quot;);\r\n            entityManager.merge(player);\r\n        } else {\r\n            entityManager.persist(player);\r\n        }\r\n\r\n        transaction.commit();\r\n        entityManager.close();\r\n}\r\n```","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named default","body":"<p>I have tried every solution i could possible find, and nothing seemed to have worked.\nit seems like my EntityManager is unable to find my Persistence provider.</p>\n<p>hoping for some advice, and posisbly a solution.</p>\n<p>Thanks!</p>\n<p><strong>Error:</strong></p>\n<pre><code>jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named default\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;default&quot;&gt;     \n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;...&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/mydb&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;*******&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;*******&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.exclude_unlisted_classes&quot; value=&quot;true&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>persistence.xml Location:</strong>\n<code>/src/main/resources/META-INF/persistence.xml</code></p>\n<p><strong>Instantiation of EntityManager</strong> (uses Jakarta.persistence)</p>\n<pre><code> public static void hibernateSaving(Player player) {\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n\n        saveContainers(player);\n\n        if(entityManager.find(Player.class, player.getId()) != null) {\n            System.out.println(&quot;Database contains player, updating...&quot;);\n            entityManager.merge(player);\n        } else {\n            entityManager.persist(player);\n        }\n\n        transaction.commit();\n        entityManager.close();\n}\n</code></pre>\n"},{"tags":["java","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":19513985,"reputation":13,"user_id":14277326,"display_name":"Sangmin Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679405617,"creation_date":1679405617,"answer_id":75801908,"question_id":71061360,"body_markdown":"It is recommended to create ApiClient for every request. The performance impact of it isn&#39;t as significant if you are reusing client implementation used under the hood (ex. webclient instance)\r\n\r\nexamples in GitHub repo mentions this recommendation\r\n\r\n&gt; It&#39;s recommended to create an instance of ApiClient per thread in a multithreaded environment to avoid any potential issue.\r\n\r\nhttps://github.com/swagger-api/swagger-codegen/tree/master/samples/client/petstore/java/retrofit2rx","title":"Swagger Codegen CLI Java Client one access token per instance, not thread safe","body":"<p>It is recommended to create ApiClient for every request. The performance impact of it isn't as significant if you are reusing client implementation used under the hood (ex. webclient instance)</p>\n<p>examples in GitHub repo mentions this recommendation</p>\n<blockquote>\n<p>It's recommended to create an instance of ApiClient per thread in a multithreaded environment to avoid any potential issue.</p>\n</blockquote>\n<p><a href=\"https://github.com/swagger-api/swagger-codegen/tree/master/samples/client/petstore/java/retrofit2rx\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/tree/master/samples/client/petstore/java/retrofit2rx</a></p>\n"}],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679405617,"creation_date":1644478933,"question_id":71061360,"body_markdown":"I have openapi 3.0 specification.\r\nGenerated code by:\r\n\r\n    java -jar /usr/bin/swagger-codegen-cli-v3.jar generate -l java -i openapi_shop.yaml -o apishop -DhideGenerationTimestamp=true -c config_shop.json\r\n\r\nIf in 1 service now I want to call that api I need to do:\r\n\r\n    String accessToken = getUserAccessToken();\r\n    api.getApiClient().setAccessToken(accessToken);\r\n    Products response = api.productsGet();\r\n\r\nbut as you see what if 50 users concurrently will start to ping that api ? it will end up mixing access tokens there.\r\nWhat is the correct way to use that auto generated client ?\r\nWhat I see there are 2 options:\r\n\r\n1. modify existing auto generated code and take token as a param in every method, and simply put it in headers at the end, like json body\r\n\r\n2. create new instance every time, for every user&#39;s request ( which does not sounds good )\r\n\r\nMaybe I miss something ? thanks!\r\n\r\n","title":"Swagger Codegen CLI Java Client one access token per instance, not thread safe","body":"<p>I have openapi 3.0 specification.\nGenerated code by:</p>\n<pre><code>java -jar /usr/bin/swagger-codegen-cli-v3.jar generate -l java -i openapi_shop.yaml -o apishop -DhideGenerationTimestamp=true -c config_shop.json\n</code></pre>\n<p>If in 1 service now I want to call that api I need to do:</p>\n<pre><code>String accessToken = getUserAccessToken();\napi.getApiClient().setAccessToken(accessToken);\nProducts response = api.productsGet();\n</code></pre>\n<p>but as you see what if 50 users concurrently will start to ping that api ? it will end up mixing access tokens there.\nWhat is the correct way to use that auto generated client ?\nWhat I see there are 2 options:</p>\n<ol>\n<li><p>modify existing auto generated code and take token as a param in every method, and simply put it in headers at the end, like json body</p>\n</li>\n<li><p>create new instance every time, for every user's request ( which does not sounds good )</p>\n</li>\n</ol>\n<p>Maybe I miss something ? thanks!</p>\n"},{"tags":["java","exception","iterator"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678975063,"post_id":75746268,"comment_id":133639781,"body_markdown":"Don’t post screenshots. Include source code and exception as text. Besides that, modifying a collection invalidates existing iterators (except the one you used for the modification). But why are you creating the second iterator before the first loop? Create it when you need it and not earlier. Or use an idiomatic `for` loop: `for(Iterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator = detailEntrySet.iterator(); iterator.hasNext(); ) { … }` Then, you don’t even need another variable name for the second loop.","body":"Don’t post screenshots. Include source code and exception as text. Besides that, modifying a collection invalidates existing iterators (except the one you used for the modification). But why are you creating the second iterator before the first loop? Create it when you need it and not earlier. Or use an idiomatic <code>for</code> loop: <code>for(Iterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator = detailEntrySet.iterator(); iterator.hasNext(); ) { … }</code> Then, you don’t even need another variable name for the second loop."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678975296,"post_id":75746268,"comment_id":133639868,"body_markdown":"Besides that, you surely meant `a.equals(&quot;Are&quot;)` instead of `a.contains(&quot;Are&quot;)` and likewise for the `&quot;patra&quot;` string, as there are no substring matches. Then, you can simply use `lMap.values().removeIf(list -&gt; list.contains(&quot;Are&quot;));` and `lMap.values().removeIf(list -&gt; list.contains(&quot;patra&quot;));`, without dealing with iterators. But what’s the point of doing exactly the same thing four times?","body":"Besides that, you surely meant <code>a.equals(&quot;Are&quot;)</code> instead of <code>a.contains(&quot;Are&quot;)</code> and likewise for the <code>&quot;patra&quot;</code> string, as there are no substring matches. Then, you can simply use <code>lMap.values().removeIf(list -&gt; list.contains(&quot;Are&quot;));</code> and <code>lMap.values().removeIf(list -&gt; list.contains(&quot;patra&quot;));</code>, without dealing with iterators. But what’s the point of doing exactly the same thing four times?"}],"owner":{"account_id":27333462,"reputation":1,"user_id":20845260,"display_name":"Patra Adhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679405337,"creation_date":1678891259,"question_id":75746268,"body_markdown":"I have one `Map&lt;Integer, List&lt;string&gt;&gt;`, I have to remove the key according to my requirement.\r\n\r\nSo I am using two iterator but a `ConcurrentModificationException` exception is thrown:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tfor (int i = 0; i &lt;= 3; i++) {\r\n\t\tMap&lt;Integer, List&lt;String&gt;&gt; lMap = new TreeMap&lt;Integer, List&lt;String&gt;&gt;();\r\n\t\tlMap.put(95, Arrays.asList(&quot;Hello&quot;, &quot;World!&quot;, &quot;How&quot;, &quot;Are&quot;, &quot;You&quot;));\r\n\t\tlMap.put(13, Arrays.asList(&quot;Adhar&quot;, &quot;kumar&quot;, &quot;patra&quot;));\r\n\t\tlMap.put(76, Arrays.asList(&quot;sivam&quot;, &quot;Panday&quot;));\r\n\t\tSet&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; detailEntrySet = lMap.entrySet();\r\n\t\t// Set&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; detailEntrySet1 = lMap.entrySet();\r\n\t\tIterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator = detailEntrySet.iterator();\r\n\t\tIterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator1 = detailEntrySet.iterator();\r\n\t\tSystem.out.println(&quot;******************:=&quot; + i);\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tList&lt;String&gt; value = iterator.next().getValue();\r\n\t\t\tif(value.stream().anyMatch(a-&gt;a.contains(&quot;Are&quot;))) {\r\n\t\t\t\titerator.remove();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twhile (iterator1.hasNext()) {\r\n\t\t\tList&lt;String&gt; value = iterator1.next().getValue();\r\n\t\t\tif(value.stream().anyMatch(a-&gt;a.contains(&quot;patra&quot;))) {\r\n\t\t\t\titerator1.remove();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n[![](https://i.stack.imgur.com/jjuip.png)](https://i.stack.imgur.com/jjuip.png)\r\n\r\nWhy I am getting this exception?","title":"Unable to iterate over a single Map using two iterators","body":"<p>I have one <code>Map&lt;Integer, List&lt;string&gt;&gt;</code>, I have to remove the key according to my requirement.</p>\n<p>So I am using two iterator but a <code>ConcurrentModificationException</code> exception is thrown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    for (int i = 0; i &lt;= 3; i++) {\n        Map&lt;Integer, List&lt;String&gt;&gt; lMap = new TreeMap&lt;Integer, List&lt;String&gt;&gt;();\n        lMap.put(95, Arrays.asList(&quot;Hello&quot;, &quot;World!&quot;, &quot;How&quot;, &quot;Are&quot;, &quot;You&quot;));\n        lMap.put(13, Arrays.asList(&quot;Adhar&quot;, &quot;kumar&quot;, &quot;patra&quot;));\n        lMap.put(76, Arrays.asList(&quot;sivam&quot;, &quot;Panday&quot;));\n        Set&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; detailEntrySet = lMap.entrySet();\n        // Set&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; detailEntrySet1 = lMap.entrySet();\n        Iterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator = detailEntrySet.iterator();\n        Iterator&lt;Entry&lt;Integer, List&lt;String&gt;&gt;&gt; iterator1 = detailEntrySet.iterator();\n        System.out.println(&quot;******************:=&quot; + i);\n        while (iterator.hasNext()) {\n            List&lt;String&gt; value = iterator.next().getValue();\n            if(value.stream().anyMatch(a-&gt;a.contains(&quot;Are&quot;))) {\n                iterator.remove();\n            }\n        }\n\n        while (iterator1.hasNext()) {\n            List&lt;String&gt; value = iterator1.next().getValue();\n            if(value.stream().anyMatch(a-&gt;a.contains(&quot;patra&quot;))) {\n                iterator1.remove();\n            }\n        }\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jjuip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jjuip.png\" alt=\"\" /></a></p>\n<p>Why I am getting this exception?</p>\n"},{"tags":["java","maven","testing"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679408935,"post_id":75801801,"comment_id":133714286,"body_markdown":"Use the same build system as they do.","body":"Use the same build system as they do."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1679438043,"post_id":75801801,"comment_id":133722002,"body_markdown":"It&#39;s not common to use classes in one project from another WAR file. Java does not include any way to put a WAR on the class path and uses classes inside its `WEB-INF/classes` directory. A better idea is to package those classes in a JAR file that is used both from the web app project and the test project you&#39;re working on. The JAR could then be deployed to a Maven repository: https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html","body":"It&#39;s not common to use classes in one project from another WAR file. Java does not include any way to put a WAR on the class path and uses classes inside its <code>WEB-INF&#47;classes</code> directory. A better idea is to package those classes in a JAR file that is used both from the web app project and the test project you&#39;re working on. The JAR could then be deployed to a Maven repository: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-remote.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1679473049,"post_id":75801801,"comment_id":133726404,"body_markdown":"Can the build for the WAR file be modified to produce BOTH a war and a jar","body":"Can the build for the WAR file be modified to produce BOTH a war and a jar"}],"owner":{"account_id":16208914,"reputation":85,"user_id":11703452,"display_name":"Maxime Alza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679404960,"creation_date":1679404960,"question_id":75801801,"body_markdown":"I work for a company which has a Java project containing some code for their software.\r\nI created a maven project to test some API on their software and make some automatic build on TeamCity.\r\n\r\nTo test those API response, I use some classes from their original Java project, which is not a Maven project.\r\nWhen doing this on Eclipse, no problem if I configure well the build path. But, when trying to compile with Maven, I&#39;ve got an error saying that package ...impl.api.v1.measures.beans does not exist.\r\nThe original Java project, when compilated, produce a war file.\r\n\r\nHow can I import those classes from the compilated war file, in my Maven project ?","title":"How in a maven project can I import classes coming from an external war which don&#39;t comes from a maven project?","body":"<p>I work for a company which has a Java project containing some code for their software.\nI created a maven project to test some API on their software and make some automatic build on TeamCity.</p>\n<p>To test those API response, I use some classes from their original Java project, which is not a Maven project.\nWhen doing this on Eclipse, no problem if I configure well the build path. But, when trying to compile with Maven, I've got an error saying that package ...impl.api.v1.measures.beans does not exist.\nThe original Java project, when compilated, produce a war file.</p>\n<p>How can I import those classes from the compilated war file, in my Maven project ?</p>\n"},{"tags":["java","android","notifications","stack"],"owner":{"account_id":28074147,"reputation":21,"user_id":21446296,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679404754,"creation_date":1679392485,"question_id":75799644,"body_markdown":"I have an Android app in kiosk mode in which I would like to send notifications to the users if necessary.\r\n\r\nAt first I was using the `Toast` but then I made a `FlashMessage` class (extending `Snackbar`) so that i could personalize (error/success/warning...). It might not be the best way but it works nice.\r\n\r\nThe only thing is `Toast` and `Snackbar` are not stackable.  So if I call more than one `FlashMessage` in a row, the previous one is replaced by the new one and the message is lost.\r\n\r\nIs there a (easy) way to make it stackable (I didn&#39;t see a option in the doc) or maybe to use another class to make something similar?\r\n\r\n(I am using mostly java/kotlin)\r\n\r\npush notification are not working since the app is in kiosk mode.\r\n\r\n`Toast` and `Snackbar` work nice but don&#39;t stack.","title":"How to make Android in-app notifications stackable?","body":"<p>I have an Android app in kiosk mode in which I would like to send notifications to the users if necessary.</p>\n<p>At first I was using the <code>Toast</code> but then I made a <code>FlashMessage</code> class (extending <code>Snackbar</code>) so that i could personalize (error/success/warning...). It might not be the best way but it works nice.</p>\n<p>The only thing is <code>Toast</code> and <code>Snackbar</code> are not stackable.  So if I call more than one <code>FlashMessage</code> in a row, the previous one is replaced by the new one and the message is lost.</p>\n<p>Is there a (easy) way to make it stackable (I didn't see a option in the doc) or maybe to use another class to make something similar?</p>\n<p>(I am using mostly java/kotlin)</p>\n<p>push notification are not working since the app is in kiosk mode.</p>\n<p><code>Toast</code> and <code>Snackbar</code> work nice but don't stack.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1679404908,"post_id":75801755,"comment_id":133712907,"body_markdown":"gotta call `event.setUser(user);` before returning the value on `createEvent`. Then it should still be set on `store()`. Or since you pass the model around, you can set it in `store()` methode","body":"gotta call <code>event.setUser(user);</code> before returning the value on <code>createEvent</code>. Then it should still be set on <code>store()</code>. Or since you pass the model around, you can set it in <code>store()</code> methode"},{"owner":{"account_id":28075993,"reputation":3,"user_id":21447847,"display_name":"Nicola Giovanni Caddeo"},"score":0,"creation_date":1679408710,"post_id":75801755,"comment_id":133714214,"body_markdown":"Thank you so much, i set this in `store()` and now it works!","body":"Thank you so much, i set this in <code>store()</code> and now it works!"}],"owner":{"account_id":28075993,"reputation":3,"user_id":21447847,"display_name":"Nicola Giovanni Caddeo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679404712,"creation_date":1679404712,"question_id":75801755,"body_markdown":"I&#39;m developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.The problem is that when I complete the form to insert the event in the database I don&#39;t understand how to add the user id as a foreign key of the event.\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis is my User.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\r\n\r\n}\r\n```\r\nThis is my Event.java\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;events&quot;)\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;event_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;event_title&quot;, nullable = false)\r\n    private String eventTitle;\r\n\r\n    @Column(name = &quot;event_description&quot;, nullable = false)\r\n    private String eventDescription;\r\n\r\n    @Column(name = &quot;event_date&quot;, nullable = false)\r\n    private String eventDate;\r\n\r\n    @Column(name = &quot;start_time&quot;, nullable = false)\r\n    private int startTime;\r\n\r\n    @Column(name = &quot;end_time&quot;, nullable = false)\r\n    private int endTime;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n}\r\n```\r\nThis is the controller I use to display the form and save the record\r\n\r\n```\r\n@GetMapping(&quot;/events/create&quot;)\r\n    public String createEvent(@AuthenticationPrincipal UserDetails userDetails, Model model) {\r\n        String email = userDetails.getUsername();\r\n        User user = userService.findUserByEmail(email);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        model.addAttribute(&quot;event&quot;, new Event());\r\n        return &quot;/events/create&quot;;\r\n    }\r\n@PostMapping(&quot;/events/createevent&quot;)\r\n    public String store(@ModelAttribute(&quot;event&quot;) Event formEvent, Model model) {\r\n\r\n        eventService.saveOrUpdate(formEvent);\r\n        return &quot;redirect:/calendar&quot;;\r\n    }\r\n```","title":"Spring Boot: Adding a record with current user ID as foreign key","body":"<p>I'm developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.The problem is that when I complete the form to insert the event in the database I don't understand how to add the user id as a foreign key of the event.</p>\n<p>This is my User.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\n\n}\n</code></pre>\n<p>This is my Event.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;events&quot;)\npublic class Event {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;event_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;event_title&quot;, nullable = false)\n    private String eventTitle;\n\n    @Column(name = &quot;event_description&quot;, nullable = false)\n    private String eventDescription;\n\n    @Column(name = &quot;event_date&quot;, nullable = false)\n    private String eventDate;\n\n    @Column(name = &quot;start_time&quot;, nullable = false)\n    private int startTime;\n\n    @Column(name = &quot;end_time&quot;, nullable = false)\n    private int endTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n}\n</code></pre>\n<p>This is the controller I use to display the form and save the record</p>\n<pre><code>@GetMapping(&quot;/events/create&quot;)\n    public String createEvent(@AuthenticationPrincipal UserDetails userDetails, Model model) {\n        String email = userDetails.getUsername();\n        User user = userService.findUserByEmail(email);\n        model.addAttribute(&quot;user&quot;, user);\n        model.addAttribute(&quot;event&quot;, new Event());\n        return &quot;/events/create&quot;;\n    }\n@PostMapping(&quot;/events/createevent&quot;)\n    public String store(@ModelAttribute(&quot;event&quot;) Event formEvent, Model model) {\n\n        eventService.saveOrUpdate(formEvent);\n        return &quot;redirect:/calendar&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring","scala","mockito"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1661796107,"post_id":73532825,"comment_id":129851843,"body_markdown":"How are.you using the mock after defining it? It has to be injected in the Spring context (assuming the `Component` annotation comes from Spring).","body":"How are.you using the mock after defining it? It has to be injected in the Spring context (assuming the <code>Component</code> annotation comes from Spring)."},{"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"score":0,"creation_date":1661796896,"post_id":73532825,"comment_id":129852129,"body_markdown":"Hi @Ga&#235;lJ, the above code is all I did after define it, how can I inject it in Spring context?","body":"Hi @Ga&#235;lJ, the above code is all I did after define it, how can I inject it in Spring context?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1661798721,"post_id":73532825,"comment_id":129852759,"body_markdown":"please provide us with stacktrace (console output) that is shown when NPE is thrown","body":"please provide us with stacktrace (console output) that is shown when NPE is thrown"}],"answers":[{"comments":[{"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"score":0,"creation_date":1661799446,"post_id":73533383,"comment_id":129853004,"body_markdown":"I modified the code, but I get this. Argument passed to when() is null!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\nAlso, if you use @Mock annotation don&#39;t miss initMocks()\norg.mockito.exceptions.misusing.NullInsteadOfMockException:","body":"I modified the code, but I get this. Argument passed to when() is null! Example of correct stubbing:     doThrow(new RuntimeException()).when(mock).someMethod(); Also, if you use @Mock annotation don&#39;t miss initMocks() org.mockito.exceptions.misusing.NullInsteadOfMockException:"}],"tags":[],"owner":{"account_id":26191523,"reputation":29,"user_id":19873289,"display_name":"Oleksandr Bielov"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661798832,"creation_date":1661798832,"answer_id":73533383,"question_id":73532825,"body_markdown":"You need to mock a Spring component, so inside your test class inject this component mock as:\r\n\r\n    public testClass{\r\n        \r\n        @Mock\r\n        private VertexGetTaxResilience vertexGetTaxResilience;\r\n        \r\n        //your test methods...\r\n    }\r\n\r\nSo now you can call methods from this mock\r\n\r\n","title":"NullPointerException after mock object in test","body":"<p>You need to mock a Spring component, so inside your test class inject this component mock as:</p>\n<pre><code>public testClass{\n    \n    @Mock\n    private VertexGetTaxResilience vertexGetTaxResilience;\n    \n    //your test methods...\n}\n</code></pre>\n<p>So now you can call methods from this mock</p>\n"},{"tags":[],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661806918,"creation_date":1661806918,"answer_id":73534614,"question_id":73532825,"body_markdown":"I fix this by using reflection for object.\r\n```\r\nReflectionTestUtils.setField\r\n```","title":"NullPointerException after mock object in test","body":"<p>I fix this by using reflection for object.</p>\n<pre><code>ReflectionTestUtils.setField\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100923,"reputation":1987,"user_id":271789,"accept_rate":81,"display_name":"zefciu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679404661,"creation_date":1679404661,"answer_id":75801741,"question_id":73532825,"body_markdown":"I had the same problem. Likely you are not using the `MockitoJUnitRunner`. This is required for the `@Mock` decorators to work. If you don’t use it, the mocks will be `null`. Add `@RunWith(MockitoJUnitRunner.class` to the unittest class.","title":"NullPointerException after mock object in test","body":"<p>I had the same problem. Likely you are not using the <code>MockitoJUnitRunner</code>. This is required for the <code>@Mock</code> decorators to work. If you don’t use it, the mocks will be <code>null</code>. Add <code>@RunWith(MockitoJUnitRunner.class</code> to the unittest class.</p>\n"}],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73534614,"answer_count":3,"score":1,"last_activity_date":1679404661,"creation_date":1661795707,"question_id":73532825,"body_markdown":"I have a getDefaultRetryInstance which can be used to retry a call when have exception\r\n```\r\n@Component\r\nclass VertexGetTaxResilience(var retryRegistry: RetryRegistry) extends Serializable {\r\n    private val logger = LoggerFactory.getLogger(this.getClass)\r\n    val GET_VERTEX_TAX_RETRY_DEFAULT_NAME = &quot;getVerTexTaxDefaultRetry&quot;\r\n\r\n    val defaultVertexRetryInstance = Retry.of(GET_VERTEX_TAX_RETRY_DEFAULT_NAME, retryRegistry.getConfiguration(GET_VERTEX_TAX_RETRY_DEFAULT_NAME).get())\r\n\r\n    def getDefaultRetryInstance(): Retry = {\r\n        // default retry instance configured in yaml\r\n        logger.info(&quot;Retrieving default retry instance: {}&quot;, GET_VERTEX_TAX_RETRY_DEFAULT_NAME)\r\n        defaultVertexRetryInstance\r\n    }\r\n}\r\n```\r\nI&#39;m using this function.\r\n```\r\nval invoiceRequestResult = Decorators.ofSupplier {...}.withRetry(vertexGetTaxResilience.getDefaultRetryInstance())\r\n            .get()\r\n```\r\n\r\nHere is how I do a mock for this retry object, but I got &quot;java.lang.NullPointerException was thrown&quot; above, how can I fix this?\r\n\r\n```\r\n @Mock\r\n val vertexGetTaxResilience: VertexGetTaxResilience = null\r\n val retry = Retry.ofDefaults(&quot;getVerTexTaxDefaultRetry&quot;)\r\n //val vertexGetTaxResilienceMock = mock[VertexGetTaxResilience]\r\n doReturn(retry).when(vertexGetTaxResilienceMock).getDefaultRetryInstance()\r\n```","title":"NullPointerException after mock object in test","body":"<p>I have a getDefaultRetryInstance which can be used to retry a call when have exception</p>\n<pre><code>@Component\nclass VertexGetTaxResilience(var retryRegistry: RetryRegistry) extends Serializable {\n    private val logger = LoggerFactory.getLogger(this.getClass)\n    val GET_VERTEX_TAX_RETRY_DEFAULT_NAME = &quot;getVerTexTaxDefaultRetry&quot;\n\n    val defaultVertexRetryInstance = Retry.of(GET_VERTEX_TAX_RETRY_DEFAULT_NAME, retryRegistry.getConfiguration(GET_VERTEX_TAX_RETRY_DEFAULT_NAME).get())\n\n    def getDefaultRetryInstance(): Retry = {\n        // default retry instance configured in yaml\n        logger.info(&quot;Retrieving default retry instance: {}&quot;, GET_VERTEX_TAX_RETRY_DEFAULT_NAME)\n        defaultVertexRetryInstance\n    }\n}\n</code></pre>\n<p>I'm using this function.</p>\n<pre><code>val invoiceRequestResult = Decorators.ofSupplier {...}.withRetry(vertexGetTaxResilience.getDefaultRetryInstance())\n            .get()\n</code></pre>\n<p>Here is how I do a mock for this retry object, but I got &quot;java.lang.NullPointerException was thrown&quot; above, how can I fix this?</p>\n<pre><code> @Mock\n val vertexGetTaxResilience: VertexGetTaxResilience = null\n val retry = Retry.ofDefaults(&quot;getVerTexTaxDefaultRetry&quot;)\n //val vertexGetTaxResilienceMock = mock[VertexGetTaxResilience]\n doReturn(retry).when(vertexGetTaxResilienceMock).getDefaultRetryInstance()\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","rpc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678950111,"post_id":75746229,"comment_id":133632705,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28023873,"reputation":1,"user_id":21404235,"display_name":"Gast&#227;o Neto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679404452,"creation_date":1678891087,"question_id":75746229,"body_markdown":"My basic scenario have a publisher and a consumer, the communication use a spring AMQP RPC example with the template.convertSendAndReceive on the publisher.\r\nEverything works fine in general, but if I shutdown the consumer to simulate a problem on the server, the publisher will receive a timeout which is expected, but after the consumer is started it will receive the messages but can&#39;t send a response because it get the error &quot;channel is already closed due to channel error; protocol method: #method&lt;channelclose&gt;(replycode=404, replytext=NOT_FOUND  no queue &#39;randonqueuename&#39; in vhost &#39;/&#39;, classid=50, methodid=10)&quot; and the publisher will receive a timeout.\r\nSo after the first timeout my publisher will never receive a response.\r\nhow can I force the channel to be reopen or change to a new channel?\r\n\r\nI tried to change the ReplyTo channel on publisher message and this doesn&#39;t work. \r\n\r\n\r\nBasically this is my publisher class:\r\n``` java\r\n@Service\r\n@Log4j2\r\npublic class newPublisher {\r\n\t\r\n    @Autowired\r\n\tprivate RabbitTemplate rabbitTemplate;\r\n\r\n    @Value(&quot;${spring.rabbitmq.queue.basicqueue}&quot;)\r\n    private String queue;\r\n    \r\n    @Value(&quot;${rabbitmq.timeout}&quot;)\r\n    private Long timeout;\r\n    \r\n    public String send(FilterObject filterData) throws Exception{\r\n    \ttry {\r\n    \t\trabbitTemplate.setReplyTimeout(timeout);\r\n    \t\tMessage message = \r\n    \t\t\t\tMessageBuilder.withBody(new JSONObject(filterData).toString().getBytes()).build();\r\n    \t\tMessage responseData = rabbitTemplate.sendAndReceive(new Queue(queue, true).getName(), message);\r\n    \t\treturn new String(responseData.getBody(), StandardCharsets.UTF_8);\r\n    \t} catch(Exception erro) {\r\n    \t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, erro);\r\n    \t\tthrow erro;\r\n    \t}\r\n        \r\n    }\r\n}\r\n```\r\n\r\nAnd this is my consumer:\r\n\r\n```java\r\n@Log4j2\r\npublic class BasicReaderConfiguration {\r\n\r\n\tprivate static Properties properties = Repository.getProperties();\r\n\tprivate static String rabbitQueue = properties.getProperty(&quot;rabbitmq.queue.basicqueue&quot;);\r\n\tprivate static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\r\n\tprivate static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\r\n\tprivate static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\r\n    \r\n    public static void reader() {\r\n    \t\r\n    \ttry {\r\n\t        ConnectionFactory factory = new ConnectionFactory();\r\n\t        factory.setUri(rabbitHost);\r\n\t\t\tfactory.setUsername(rabbitUser);\r\n\t\t\tfactory.setPassword(rabbitPassword);\r\n\t\t    Connection connection = factory.newConnection();\r\n\t\t    Channel channel = connection.createChannel();\r\n\t\t\r\n\t\t    channel.queueDeclare(rabbitQueue, true, false, false, null);\r\n\t\t\tlog.info(&quot;Starting Consumer&quot;);\r\n\t\r\n\t\t    DeliverCallback deliverCallback = (consumerTag, deliveryCall) -&gt; {\r\n\t\t\t\tlog.info(&quot;Get Message&quot;);\r\n\t\t\t\tlog.info(new String(deliveryCall.getBody(), StandardCharsets.UTF_8));\r\n\r\n\r\n                log.info(&quot;Send response&quot;);\r\n\t\t\t\tDefaultDelivery defaultDelivery = new DefaultDelivery(DefaultDeliveryConfiguration.getChannel(deliveryCall.getProperties()));\r\n\t\t\t\tdefaultDelivery.sendToQueue(new String(deliveryCall.getBody(), StandardCharsets.UTF_8), deliveryCall.getProperties());\r\n\r\n\t\t\t\tlog.info(&quot;Response Sended&quot;);\r\n\t\t    };\r\n\t\t    channel.basicConsume(queue, true, deliverCallback, consumerTag -&gt; { });\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t    \r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Log4j2\r\npublic class DefaultDelivery {\r\n\r\n    private Channel channel;\r\n\tprivate static ObjectMapper jsonMapper = new ObjectMapper();\r\n\tprivate AMQP.BasicProperties props;\r\n\r\n\r\n\tpublic DefaultDelivery(Channel channel) {\r\n\t\tthis.channel = channel;\r\n\t}\r\n\r\n\tpublic void sendToQueue(String response, BasicProperties basicProperties) {\r\n\r\n\t\t\tthis.props = basicProperties;\r\n\t\t\tbasicSend(channel, response);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void basicSend(Channel channel, String message)  {\r\n\t\ttry {\r\n\t\t\tchannel.basicPublish(&quot;&quot;, this.props.getReplyTo(), this.props, message.getBytes());\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Log4j2\r\npublic class DefaultDeliveryConfiguration {\r\n\r\n\tprivate static Properties properties = Repository.getProperties();\r\n\tprivate static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\r\n\tprivate static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\r\n\tprivate static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\r\n\tprivate static BasicProperties messageProperties;\r\n\tprivate static Channel channel;\r\n\r\n\tprivate static Channel startChannel() {\r\n\t\tConnectionFactory factory = new ConnectionFactory();\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tfactory.setUri(rabbitUrl);\r\n\t\t\tfactory.setUsername(rabbitUser);\r\n\t\t\tfactory.setPassword(rabbitPassword);\r\n\t\t\t\r\n\t\t\tConnection connection = factory.newConnection();\r\n\r\n\t\t\tchannel = connection.createChannel();\r\n\t\t\tchannel.queueDeclare(messageProperties.getReplyTo(), true, false, false, null);\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t\t\r\n\t\treturn channel;\r\n\t}\r\n\r\n\tpublic static Channel getChannel(BasicProperties basicProperties) {\r\n\t\tmessageProperties = basicProperties;\r\n\t\tif (channel == null)\r\n\t\t\treturn startChannel();\r\n\t\treturn channel;\r\n\t}\r\n}\r\n```","title":"RabbitMQ Channel always closed after timeout","body":"<p>My basic scenario have a publisher and a consumer, the communication use a spring AMQP RPC example with the template.convertSendAndReceive on the publisher.\nEverything works fine in general, but if I shutdown the consumer to simulate a problem on the server, the publisher will receive a timeout which is expected, but after the consumer is started it will receive the messages but can't send a response because it get the error &quot;channel is already closed due to channel error; protocol method: #method(replycode=404, replytext=NOT_FOUND  no queue 'randonqueuename' in vhost '/', classid=50, methodid=10)&quot; and the publisher will receive a timeout.\nSo after the first timeout my publisher will never receive a response.\nhow can I force the channel to be reopen or change to a new channel?</p>\n<p>I tried to change the ReplyTo channel on publisher message and this doesn't work.</p>\n<p>Basically this is my publisher class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Log4j2\npublic class newPublisher {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @Value(&quot;${spring.rabbitmq.queue.basicqueue}&quot;)\n    private String queue;\n    \n    @Value(&quot;${rabbitmq.timeout}&quot;)\n    private Long timeout;\n    \n    public String send(FilterObject filterData) throws Exception{\n        try {\n            rabbitTemplate.setReplyTimeout(timeout);\n            Message message = \n                    MessageBuilder.withBody(new JSONObject(filterData).toString().getBytes()).build();\n            Message responseData = rabbitTemplate.sendAndReceive(new Queue(queue, true).getName(), message);\n            return new String(responseData.getBody(), StandardCharsets.UTF_8);\n        } catch(Exception erro) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, erro);\n            throw erro;\n        }\n        \n    }\n}\n</code></pre>\n<p>And this is my consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class BasicReaderConfiguration {\n\n    private static Properties properties = Repository.getProperties();\n    private static String rabbitQueue = properties.getProperty(&quot;rabbitmq.queue.basicqueue&quot;);\n    private static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\n    private static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\n    private static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\n    \n    public static void reader() {\n        \n        try {\n            ConnectionFactory factory = new ConnectionFactory();\n            factory.setUri(rabbitHost);\n            factory.setUsername(rabbitUser);\n            factory.setPassword(rabbitPassword);\n            Connection connection = factory.newConnection();\n            Channel channel = connection.createChannel();\n        \n            channel.queueDeclare(rabbitQueue, true, false, false, null);\n            log.info(&quot;Starting Consumer&quot;);\n    \n            DeliverCallback deliverCallback = (consumerTag, deliveryCall) -&gt; {\n                log.info(&quot;Get Message&quot;);\n                log.info(new String(deliveryCall.getBody(), StandardCharsets.UTF_8));\n\n\n                log.info(&quot;Send response&quot;);\n                DefaultDelivery defaultDelivery = new DefaultDelivery(DefaultDeliveryConfiguration.getChannel(deliveryCall.getProperties()));\n                defaultDelivery.sendToQueue(new String(deliveryCall.getBody(), StandardCharsets.UTF_8), deliveryCall.getProperties());\n\n                log.info(&quot;Response Sended&quot;);\n            };\n            channel.basicConsume(queue, true, deliverCallback, consumerTag -&gt; { });\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n        \n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class DefaultDelivery {\n\n    private Channel channel;\n    private static ObjectMapper jsonMapper = new ObjectMapper();\n    private AMQP.BasicProperties props;\n\n\n    public DefaultDelivery(Channel channel) {\n        this.channel = channel;\n    }\n\n    public void sendToQueue(String response, BasicProperties basicProperties) {\n\n            this.props = basicProperties;\n            basicSend(channel, response);\n    }\n\n\n    @Override\n    public void basicSend(Channel channel, String message)  {\n        try {\n            channel.basicPublish(&quot;&quot;, this.props.getReplyTo(), this.props, message.getBytes());\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class DefaultDeliveryConfiguration {\n\n    private static Properties properties = Repository.getProperties();\n    private static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\n    private static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\n    private static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\n    private static BasicProperties messageProperties;\n    private static Channel channel;\n\n    private static Channel startChannel() {\n        ConnectionFactory factory = new ConnectionFactory();\n\n        try {\n            \n            factory.setUri(rabbitUrl);\n            factory.setUsername(rabbitUser);\n            factory.setPassword(rabbitPassword);\n            \n            Connection connection = factory.newConnection();\n\n            channel = connection.createChannel();\n            channel.queueDeclare(messageProperties.getReplyTo(), true, false, false, null);\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n        \n        return channel;\n    }\n\n    public static Channel getChannel(BasicProperties basicProperties) {\n        messageProperties = basicProperties;\n        if (channel == null)\n            return startChannel();\n        return channel;\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679305034,"post_id":75788492,"comment_id":133691162,"body_markdown":"You simply copy the old entries into the new doubled array, but I suspect you&#39;re expected to re-hash the values. Since the table size changed, the new position of entries should potentially change as well.","body":"You simply copy the old entries into the new doubled array, but I suspect you&#39;re expected to re-hash the values. Since the table size changed, the new position of entries should potentially change as well."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679311423,"post_id":75788492,"comment_id":133692957,"body_markdown":"In addition to what @user16320675 mentioned: 4) why is `hashTable` declared `static` when it is supposed to hold the object’s state? 5) why do you initialize `hashTable` with an array in the constructor when you overwrite it with the result of `nullConverter()` on the first invocation of `insert` anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of [`Math.abs(…)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)), i.e. it can return a negative value.","body":"In addition to what @user16320675 mentioned: 4) why is <code>hashTable</code> declared <code>static</code> when it is supposed to hold the object’s state? 5) why do you initialize <code>hashTable</code> with an array in the constructor when you overwrite it with the result of <code>nullConverter()</code> on the first invocation of <code>insert</code> anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\"><code>Math.abs(…)</code></a>, i.e. it can return a negative value."}],"answers":[{"tags":[],"owner":{"account_id":28063635,"reputation":1,"user_id":21437358,"display_name":"Bakula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679404002,"creation_date":1679404002,"answer_id":75801627,"question_id":75788492,"body_markdown":"&gt; *In addition to what @user16320675 mentioned: 4) why is hashTable declared static when it is supposed to hold the object’s state? 5) why do you initialize hashTable with an array in the constructor when you overwrite it with the result of nullConverter() on the first invocation of insert anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of Math.abs(…), i.e. it can return a negative value.*\r\n&gt; \r\nSecond rehashing during increasing capacity and converter from null to 0 moved to another method make it works. Thanks guys!","title":"Java hash table based on open addressing implementation","body":"<blockquote>\n<p><em>In addition to what @user16320675 mentioned: 4) why is hashTable declared static when it is supposed to hold the object’s state? 5) why do you initialize hashTable with an array in the constructor when you overwrite it with the result of nullConverter() on the first invocation of insert anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of Math.abs(…), i.e. it can return a negative value.</em></p>\n</blockquote>\n<p>Second rehashing during increasing capacity and converter from null to 0 moved to another method make it works. Thanks guys!</p>\n"}],"owner":{"account_id":28063635,"reputation":1,"user_id":21437358,"display_name":"Bakula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679404002,"creation_date":1679304340,"question_id":75788492,"body_markdown":"I am trying to solve task from hash tables and I&#39;m stuck.\r\nI need to describe a hash table based on open addressing. Linear probing is used to resolve collisions.\r\nI need to implement insert method:\r\n\r\n*-void insert(int key, Object value)\r\nInserts a key/value pair in the hash table if the key is missing or replaces the object if the key exists*\r\n\r\nConditions:\r\n-The initial capacity of the hash table is 8 buckets.\r\n-The maximum capacity is 16; inserting more elements should raise an IllegalStateException.\r\n-The capacity should double each time a new element arrives and all the buckets are already occupied. -For example, if 8 buckets are already filled and a new key is about to be added, the capacity should increase.\r\n\r\nUse any type from the java.util package or its subpackages, except for the java.util.Iterator is forbidden.\r\n\r\n```\r\npublic class HashtableOpen8to16Impl implements HashtableOpen8to16 {\r\n    \r\n    int capacity;\r\n    int size;\r\n\r\n    static HashNode[] hashTable;\r\n\r\n    public HashtableOpen8to16Impl() {\r\n        hashTable = new HashNode[8];\r\n        this.capacity = 8;\r\n        this.size = 0;\r\n    }\r\n\r\n    private static class HashNode {\r\n        int key;\r\n        Object value;\r\n\r\n        public HashNode(int key, Object value) {\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void insert(int key, Object value) {\r\n        HashNode temp = new HashNode(key, value);\r\n\r\n        if (size == 0) {\r\n            hashTable = nullConverter();\r\n        }\r\n\r\n        if (size == capacity-1) {\r\n            doubleCapacity();\r\n        }\r\n\r\n        int hashIndex = abs(key) % capacity;\r\n        while (hashTable[hashIndex].key != 0 &amp;&amp; hashTable[hashIndex].key != temp.key &amp;&amp; hashTable[hashIndex].key != -1) {\r\n            hashIndex++;\r\n            hashIndex %= capacity;\r\n        }\r\n        if (hashTable[hashIndex].key == 0 || hashTable[hashIndex].key == -1) {\r\n            if (!hashTable[hashIndex].value.equals(temp.value)) {\r\n                size++;\r\n            }\r\n        }\r\n\r\n        hashTable[hashIndex] = temp;\r\n    }\r\n\r\n    public void doubleCapacity() {\r\n        capacity = 16;\r\n        HashNode[] tempHashTable = nullConverter();\r\n        for (int i = 0; i &lt; hashTable.length; i++) {\r\n            tempHashTable[i] = hashTable[i];\r\n        }\r\n        hashTable = tempHashTable;\r\n\r\n    }\r\n\r\n    public HashNode[] nullConverter() {\r\n        HashNode[] tempHashTable = new HashNode[capacity];\r\n        for (int i = 0; i &lt; capacity; i++) {\r\n            tempHashTable[i] = new HashNode(0, 0);\r\n        }\r\n        return tempHashTable;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThere are 8 test cases where key=value:\r\n\r\n    1. Input [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]\r\n       Expected [16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]\r\n       Correct\r\n    2. Input [1,2,3,4,5,6,7,8,9,10]\r\n       Expected [0,1,2,3,4,5,6,7,8,9,10,0,0,0,0,0]\r\n       Correct\r\n    3. Input [-74,98,-44,75,-27,76,-33,42,-71,77]\r\n       Expected [77, -33, 98, 0, 0, 0, 0, -71, 0, 0, 42, -74, -44, 75, -27, 76]\r\n       Actual [0, -33, -74, 98, -44, 75, -27, 76, -71, 0, 42, 0, 0, 77, 0, 0]\r\n    4. Input [70,-17,-46,-80,53,-94,-76,-7]\r\n       Expected [-80, -17, -94, -7, -76, 53, 70, -46]\r\n       Actual [-80, -17, -94, 0, -76, 53, 70, -46, -7, 0, 0, 0, 0, 0, 0, 0]\r\n    5. Input [43,-77,-81,-20,14,-49,39,46,-69,-19,-37,-92,44,13,74]\r\n       Expected [44, -81, -49, -19, -20, -69, -37, 39, 13, 0, 74, 43, -92, -77, 46, 14]\r\n       Actual [0, -81, -49, 43, -20, -77, 14, 39, -69, -19, -37, 74, -92, 44, 46, 13]\r\n    6. Input [30,19,-61,-34,78,78,-34,80,30,19,-61,48,68,48,80,68]\r\n       Expected [80, 48, -34, 19, 68, -61, 30, 78]\r\n       Actual [80, 48, -34, 19, 68, -61, 30, 78, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    7. Input [0,5,-70,0,-9,0,95,25,0,-3,-14,79,0,-62,45,0,88,0,49]\r\n       Expected [0, 79, -62, -3, 49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]\r\n       Actual [-14, -9, 25, -3, 49, 5, -70, 95, 88, 0, 0, 0, 0, 45, -62, 79]\r\n    8. Input [0,0,8,0,8,16,32,24,256,0,0,8,16]\r\n       Expected [0, 8, 16, 32, 24, 256, 0, 0]\r\n       Actual [8, 16, 32, 24, 256, 0, 0, 0]\r\n\r\nFirst 2 tests are ok but rest are wrong. Where is mistake in my implementation? How it supposed to look like?","title":"Java hash table based on open addressing implementation","body":"<p>I am trying to solve task from hash tables and I'm stuck.\nI need to describe a hash table based on open addressing. Linear probing is used to resolve collisions.\nI need to implement insert method:</p>\n<p><em>-void insert(int key, Object value)\nInserts a key/value pair in the hash table if the key is missing or replaces the object if the key exists</em></p>\n<p>Conditions:\n-The initial capacity of the hash table is 8 buckets.\n-The maximum capacity is 16; inserting more elements should raise an IllegalStateException.\n-The capacity should double each time a new element arrives and all the buckets are already occupied. -For example, if 8 buckets are already filled and a new key is about to be added, the capacity should increase.</p>\n<p>Use any type from the java.util package or its subpackages, except for the java.util.Iterator is forbidden.</p>\n<pre><code>public class HashtableOpen8to16Impl implements HashtableOpen8to16 {\n    \n    int capacity;\n    int size;\n\n    static HashNode[] hashTable;\n\n    public HashtableOpen8to16Impl() {\n        hashTable = new HashNode[8];\n        this.capacity = 8;\n        this.size = 0;\n    }\n\n    private static class HashNode {\n        int key;\n        Object value;\n\n        public HashNode(int key, Object value) {\n            this.key = key;\n            this.value = value;\n        }\n    }\n\n    @Override\n    public void insert(int key, Object value) {\n        HashNode temp = new HashNode(key, value);\n\n        if (size == 0) {\n            hashTable = nullConverter();\n        }\n\n        if (size == capacity-1) {\n            doubleCapacity();\n        }\n\n        int hashIndex = abs(key) % capacity;\n        while (hashTable[hashIndex].key != 0 &amp;&amp; hashTable[hashIndex].key != temp.key &amp;&amp; hashTable[hashIndex].key != -1) {\n            hashIndex++;\n            hashIndex %= capacity;\n        }\n        if (hashTable[hashIndex].key == 0 || hashTable[hashIndex].key == -1) {\n            if (!hashTable[hashIndex].value.equals(temp.value)) {\n                size++;\n            }\n        }\n\n        hashTable[hashIndex] = temp;\n    }\n\n    public void doubleCapacity() {\n        capacity = 16;\n        HashNode[] tempHashTable = nullConverter();\n        for (int i = 0; i &lt; hashTable.length; i++) {\n            tempHashTable[i] = hashTable[i];\n        }\n        hashTable = tempHashTable;\n\n    }\n\n    public HashNode[] nullConverter() {\n        HashNode[] tempHashTable = new HashNode[capacity];\n        for (int i = 0; i &lt; capacity; i++) {\n            tempHashTable[i] = new HashNode(0, 0);\n        }\n        return tempHashTable;\n    }\n}\n</code></pre>\n<p>There are 8 test cases where key=value:</p>\n<pre><code>1. Input [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]\n   Expected [16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]\n   Correct\n2. Input [1,2,3,4,5,6,7,8,9,10]\n   Expected [0,1,2,3,4,5,6,7,8,9,10,0,0,0,0,0]\n   Correct\n3. Input [-74,98,-44,75,-27,76,-33,42,-71,77]\n   Expected [77, -33, 98, 0, 0, 0, 0, -71, 0, 0, 42, -74, -44, 75, -27, 76]\n   Actual [0, -33, -74, 98, -44, 75, -27, 76, -71, 0, 42, 0, 0, 77, 0, 0]\n4. Input [70,-17,-46,-80,53,-94,-76,-7]\n   Expected [-80, -17, -94, -7, -76, 53, 70, -46]\n   Actual [-80, -17, -94, 0, -76, 53, 70, -46, -7, 0, 0, 0, 0, 0, 0, 0]\n5. Input [43,-77,-81,-20,14,-49,39,46,-69,-19,-37,-92,44,13,74]\n   Expected [44, -81, -49, -19, -20, -69, -37, 39, 13, 0, 74, 43, -92, -77, 46, 14]\n   Actual [0, -81, -49, 43, -20, -77, 14, 39, -69, -19, -37, 74, -92, 44, 46, 13]\n6. Input [30,19,-61,-34,78,78,-34,80,30,19,-61,48,68,48,80,68]\n   Expected [80, 48, -34, 19, 68, -61, 30, 78]\n   Actual [80, 48, -34, 19, 68, -61, 30, 78, 0, 0, 0, 0, 0, 0, 0, 0]\n7. Input [0,5,-70,0,-9,0,95,25,0,-3,-14,79,0,-62,45,0,88,0,49]\n   Expected [0, 79, -62, -3, 49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]\n   Actual [-14, -9, 25, -3, 49, 5, -70, 95, 88, 0, 0, 0, 0, 45, -62, 79]\n8. Input [0,0,8,0,8,16,32,24,256,0,0,8,16]\n   Expected [0, 8, 16, 32, 24, 256, 0, 0]\n   Actual [8, 16, 32, 24, 256, 0, 0, 0]\n</code></pre>\n<p>First 2 tests are ok but rest are wrong. Where is mistake in my implementation? How it supposed to look like?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"score":3,"creation_date":1492805961,"post_id":43550974,"comment_id":74154896,"body_markdown":"`Toolkit.getDefaultToolkit().getSystemClipboard()`","body":"<code>Toolkit.getDefaultToolkit().getSystemClipboard()</code>"}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1655324187,"creation_date":1492804507,"answer_id":43550998,"question_id":43550974,"body_markdown":"Use [`Toolkit#getSystemClipboard`][1]:\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    \r\n    public static String readClipboard() {\r\n        return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getSystemClipboard--","title":"How to Access Clipboard data using Java in Windows?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getSystemClipboard--\" rel=\"nofollow noreferrer\"><code>Toolkit#getSystemClipboard</code></a>:</p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\n\npublic static String readClipboard() {\n    return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":0,"creation_date":1696834681,"post_id":43551105,"comment_id":136198589,"body_markdown":"set clipboard reference https://stackoverflow.com/questions/11596368/set-clipboard-contents","body":"set clipboard reference <a href=\"https://stackoverflow.com/questions/11596368/set-clipboard-contents\" title=\"set clipboard contents\">stackoverflow.com/questions/11596368/set-clipboard-contents</a>"}],"tags":[],"owner":{"account_id":5605036,"reputation":2440,"user_id":4439996,"accept_rate":80,"display_name":"Akshay Pethani"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1679403789,"creation_date":1492804911,"answer_id":43551105,"question_id":43550974,"body_markdown":"This code snippet is for accessing and printing the clipboard data in Java:\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.*;\r\n    \r\n    public class SystemClipboardAccess {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\t// Create a Clipboard object using getSystemClipboard() method\r\n    \t\tClipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    \r\n    \t\t// Get data stored in the clipboard that is in the form of a string (text)\r\n    \t\tSystem.out.println(c.getData(DataFlavor.stringFlavor));\r\n    \t}\r\n    }","title":"How to Access Clipboard data using Java in Windows?","body":"<p>This code snippet is for accessing and printing the clipboard data in Java:</p>\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.*;\n\npublic class SystemClipboardAccess {\n\n    public static void main(String args[]) throws Exception {\n        // Create a Clipboard object using getSystemClipboard() method\n        Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\n\n        // Get data stored in the clipboard that is in the form of a string (text)\n        System.out.println(c.getData(DataFlavor.stringFlavor));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10739906,"reputation":201,"user_id":7903381,"display_name":"Arth Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18627,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":43551105,"answer_count":2,"score":19,"last_activity_date":1679403789,"creation_date":1492804421,"question_id":43550974,"body_markdown":"I want to Access Clipboard data/text in my Java Program in Windows 10 system targeted program. Any code snippets or Class that is used to access the clipboard data?","title":"How to Access Clipboard data using Java in Windows?","body":"<p>I want to Access Clipboard data/text in my Java Program in Windows 10 system targeted program. Any code snippets or Class that is used to access the clipboard data?</p>\n"},{"tags":["java","refactoring"],"answers":[{"comments":[{"owner":{"account_id":7342,"reputation":102046,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"score":2,"creation_date":1227711951,"post_id":320983,"comment_id":161524,"body_markdown":"The problem is, if you read Fowler page on the matter (link in my answer), you&#39;ll see that code cited in the question (which you imply is abusing the concept) comes directly from Fowler.  You suggestion seems to be changing the focus of what Fowler seems to be saying.","body":"The problem is, if you read Fowler page on the matter (link in my answer), you&#39;ll see that code cited in the question (which you imply is abusing the concept) comes directly from Fowler.  You suggestion seems to be changing the focus of what Fowler seems to be saying."},{"owner":{"account_id":6364,"reputation":14478,"user_id":10676,"accept_rate":100,"display_name":"MikeJ"},"score":0,"creation_date":1227713180,"post_id":320983,"comment_id":161580,"body_markdown":"my point on abuse was that its possible if you start doing it in the extreme its not good and I could see its abuse.  I htink however its intention is to simplify code that is complex and obscuring - it is a technique after all and if it doesnt work for you, dont do it","body":"my point on abuse was that its possible if you start doing it in the extreme its not good and I could see its abuse.  I htink however its intention is to simplify code that is complex and obscuring - it is a technique after all and if it doesnt work for you, dont do it"}],"tags":[],"owner":{"account_id":6364,"reputation":14478,"user_id":10676,"accept_rate":100,"display_name":"MikeJ"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383497425,"creation_date":1227711577,"answer_id":320983,"question_id":320946,"body_markdown":"It&#39;s intended to be more revealing of the intention of the code. In some cases it can be abused but not likely. for example you could update the queries for the 5% and 2% discounts with queries but in the name of the methods you could describe in the name  reason for the discount. remember, it may be obvious today but in 6 months it might not be so - as I say - its not a matter if I forget, but when I forget. \r\n\r\n\r\n      if (basePrice() &gt; 1000)\r\n         return bigTicketDiscount()\r\n      else\r\n         return regularDiscount()\r\n     \r\n    double bigTicketDiscount(){\r\n      return basePrice() * 0.95;\r\n    }\r\n    \r\n    double regularDiscount(){\r\n      return basePrice() * 0.98\r\n    }\r\n","title":"Replace Temp with Query","body":"<p>It's intended to be more revealing of the intention of the code. In some cases it can be abused but not likely. for example you could update the queries for the 5% and 2% discounts with queries but in the name of the methods you could describe in the name  reason for the discount. remember, it may be obvious today but in 6 months it might not be so - as I say - its not a matter if I forget, but when I forget. </p>\n\n<pre><code>  if (basePrice() &gt; 1000)\n     return bigTicketDiscount()\n  else\n     return regularDiscount()\n\ndouble bigTicketDiscount(){\n  return basePrice() * 0.95;\n}\n\ndouble regularDiscount(){\n  return basePrice() * 0.98\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":53169,"reputation":1417,"user_id":158944,"accept_rate":59,"display_name":"bungrudi"},"score":0,"creation_date":1294884987,"post_id":320992,"comment_id":5154774,"body_markdown":"James Curran&#39;s example is clean enough for most taste, no? I think doing it like that will give the highest &quot;value for CPU cycles&quot;: for the CPU it&#39;s only 1 stack jump more expensive, but you still got your readability.","body":"James Curran&#39;s example is clean enough for most taste, no? I think doing it like that will give the highest &quot;value for CPU cycles&quot;: for the CPU it&#39;s only 1 stack jump more expensive, but you still got your readability."}],"tags":[],"owner":{"account_id":4476,"reputation":32309,"user_id":6744,"display_name":"Chris Shaffer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227711738,"creation_date":1227711738,"answer_id":320992,"question_id":320946,"body_markdown":"It really seems to me that by doing this you are helping to make a single purpose to your original method; It no longer is responsible for calculating the basePrice and the discount price (or whatever it is that it is calculating).  This is an example of sacrificing some CPU cycles to make the code more maintainable.  The &quot;wasted&quot; cpu cycles are probably not something you&#39;ll notice for one and also it&#39;s possible the compiler could optimize it (maybe by noticing that the method is relatively simple and instead of calling the method it inserts the actual code (more like a macro).  Anyway, these types of optimizations are best left to machines, leaving people with cleaner code to work on.","title":"Replace Temp with Query","body":"<p>It really seems to me that by doing this you are helping to make a single purpose to your original method; It no longer is responsible for calculating the basePrice and the discount price (or whatever it is that it is calculating).  This is an example of sacrificing some CPU cycles to make the code more maintainable.  The \"wasted\" cpu cycles are probably not something you'll notice for one and also it's possible the compiler could optimize it (maybe by noticing that the method is relatively simple and instead of calling the method it inserts the actual code (more like a macro).  Anyway, these types of optimizations are best left to machines, leaving people with cleaner code to work on.</p>\n"},{"comments":[{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1367506216,"post_id":320993,"comment_id":23406578,"body_markdown":"Your way seems to make more sense, but I think Fowler is simply trying to illustrate, albeit extremely, what it looks like when he abstracts the baseprice calculation to its own method.","body":"Your way seems to make more sense, but I think Fowler is simply trying to illustrate, albeit extremely, what it looks like when he abstracts the baseprice calculation to its own method."},{"owner":{"account_id":1011340,"reputation":5083,"user_id":1023850,"accept_rate":50,"display_name":"Bart"},"score":0,"creation_date":1581377410,"post_id":320993,"comment_id":106405260,"body_markdown":"Thank you for speculating and shedding some light, but if you want to give an authoritative answer to this, than at least you should HAVE (read) Fowler&#39;s book, since your link of his web version of it just provides the same info that the OP&#39;s question already provides. I consider @kenno&#39;s and other answer superior to this one.","body":"Thank you for speculating and shedding some light, but if you want to give an authoritative answer to this, than at least you should HAVE (read) Fowler&#39;s book, since your link of his web version of it just provides the same info that the OP&#39;s question already provides. I consider @kenno&#39;s and other answer superior to this one."}],"tags":[],"owner":{"account_id":7342,"reputation":102046,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1227711748,"creation_date":1227711748,"answer_id":320993,"question_id":320946,"body_markdown":"Having read Fowler&#39;s [webpage on it][1], I can see no advantage to doing it that way.  The only possible gain is by isolating an expression which may be used often into one spot, but that would be best handled by :\r\n\r\n        double basePrice = basePrice();\r\n        if (basePrice &gt; 1000)\r\n                return basePrice * 0.95;\r\n        else\r\n                return basePrice * 0.98;\r\n\r\n\r\nFowler offers no explanation why his revised code is better than the original, other than to read his book.\r\n\r\n  [1]: http://www.refactoring.com/catalog/replaceTempWithQuery.html","title":"Replace Temp with Query","body":"<p>Having read Fowler's <a href=\"http://www.refactoring.com/catalog/replaceTempWithQuery.html\" rel=\"noreferrer\">webpage on it</a>, I can see no advantage to doing it that way.  The only possible gain is by isolating an expression which may be used often into one spot, but that would be best handled by :</p>\n\n<pre><code>    double basePrice = basePrice();\n    if (basePrice &gt; 1000)\n            return basePrice * 0.95;\n    else\n            return basePrice * 0.98;\n</code></pre>\n\n<p>Fowler offers no explanation why his revised code is better than the original, other than to read his book.</p>\n"},{"tags":[],"owner":{"account_id":53992,"reputation":1036,"user_id":161483,"accept_rate":65,"display_name":"derdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268699236,"creation_date":1268699236,"answer_id":2451405,"question_id":320946,"body_markdown":"I think most of the utility of this refactoring does not come from applying it by itself but as a step towards an Extract Method which is extremely common and useful. On the cases where local variable stand in the way of Extract Method or complicate it by additional parameters, &#39;replace temp with query helps&#39; to make Extract Method easier. Also in those cases, the query method that is generated gets reused by two different methods which are result of extract method. ","title":"Replace Temp with Query","body":"<p>I think most of the utility of this refactoring does not come from applying it by itself but as a step towards an Extract Method which is extremely common and useful. On the cases where local variable stand in the way of Extract Method or complicate it by additional parameters, 'replace temp with query helps' to make Extract Method easier. Also in those cases, the query method that is generated gets reused by two different methods which are result of extract method. </p>\n"},{"tags":[],"owner":{"account_id":777239,"reputation":51,"user_id":821193,"display_name":"Ilian Iliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309354637,"creation_date":1309354637,"answer_id":6521529,"question_id":320946,"body_markdown":"There is something more about Replace Temp with Query in Refactoring book and it is:\r\n\r\n&gt; You may be concerned about performance in this case. As with other performance issues, let it\r\nslide for the moment. Nine times out of ten, it won&#39;t matter. When it does matter, you will fix the\r\nproblem during optimization. With your code better factored, you will often find more powerful\r\noptimizations, which you would have missed without refactoring. If worse comes to worse, it&#39;s\r\nvery easy to put the temp back.","title":"Replace Temp with Query","body":"<p>There is something more about Replace Temp with Query in Refactoring book and it is:</p>\n\n<blockquote>\n  <p>You may be concerned about performance in this case. As with other performance issues, let it\n  slide for the moment. Nine times out of ten, it won't matter. When it does matter, you will fix the\n  problem during optimization. With your code better factored, you will often find more powerful\n  optimizations, which you would have missed without refactoring. If worse comes to worse, it's\n  very easy to put the temp back.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":218155,"reputation":333,"user_id":474335,"display_name":"kenno"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1384302793,"creation_date":1384302793,"answer_id":19942935,"question_id":320946,"body_markdown":"\r\nIt&#39;s a refactoring that is important as it is a refactoring towards single responsibility, it&#39;s a resolution of DRY fail!  \r\n\r\nThe main problem with temps (esp. in naive code using long methods, hundreds of lines long!) is that they are mutable, local state.  The obvious risk (as discussed by Fowler?) is that someone might make a change mid way down a long method, and break something at the end. (Have seen this cost incurred) \r\n\r\nThere are no tests, this method has myriad dependencies - what a mess! :)\r\n\r\nRemove temp is about refactoring towards single responsibility.\r\n\r\nExample - today I found a bug and it relates to passing the *wrong temp variable* into a service. If I remove temps (there are several, all strings), that bug (oversight) just can&#39;t happen.\r\n\r\nThe reason my method is holding a temp variable is that it&#39;s doing work it shouldn&#39;t ... and this logic is repeated by similar classes... is it all consistent?  NO!  \r\n\r\nBy removing temp, I&#39;ll also refactor code into a class with appropriate responsibility, that can be covered 110% by a few simple tests.  \r\n\r\nNo huge fixture to test something trivial  \r\n\r\nIf I call something expensive, I&#39;ll return the result as a value object / aggregate.  The &#39;temp code&#39; should be internalized by the aggregate, probably.  \r\n\r\nSo remove temp pushes you into centralized (singular) responsibility -&gt; SOLID! \r\n","title":"Replace Temp with Query","body":"<p>It's a refactoring that is important as it is a refactoring towards single responsibility, it's a resolution of DRY fail!  </p>\n\n<p>The main problem with temps (esp. in naive code using long methods, hundreds of lines long!) is that they are mutable, local state.  The obvious risk (as discussed by Fowler?) is that someone might make a change mid way down a long method, and break something at the end. (Have seen this cost incurred) </p>\n\n<p>There are no tests, this method has myriad dependencies - what a mess! :)</p>\n\n<p>Remove temp is about refactoring towards single responsibility.</p>\n\n<p>Example - today I found a bug and it relates to passing the <em>wrong temp variable</em> into a service. If I remove temps (there are several, all strings), that bug (oversight) just can't happen.</p>\n\n<p>The reason my method is holding a temp variable is that it's doing work it shouldn't ... and this logic is repeated by similar classes... is it all consistent?  NO!  </p>\n\n<p>By removing temp, I'll also refactor code into a class with appropriate responsibility, that can be covered 110% by a few simple tests.  </p>\n\n<p>No huge fixture to test something trivial  </p>\n\n<p>If I call something expensive, I'll return the result as a value object / aggregate.  The 'temp code' should be internalized by the aggregate, probably.  </p>\n\n<p>So remove temp pushes you into centralized (singular) responsibility -> SOLID! </p>\n"},{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1427452001,"creation_date":1427450852,"answer_id":29298039,"question_id":320946,"body_markdown":"I am re-reading Refactoring right now and one reason is the following quote from the end of `Extract Method` p.116.\r\n\r\nBackground: He describes that it is difficult to `Extract Method` if the code to extract uses local variables.\r\n\r\n&gt; Temporary variables often are so plentiful that they make extraction very awkward. In these cases I try to reduce the temps by using Replace Temp with Query (120). ...\r\n\r\nSo one refactoring might depend on first doing another refactoring which itself is not obvious. Another example is `Inline Method` before Replace `Method with Method Object`.","title":"Replace Temp with Query","body":"<p>I am re-reading Refactoring right now and one reason is the following quote from the end of <code>Extract Method</code> p.116.</p>\n\n<p>Background: He describes that it is difficult to <code>Extract Method</code> if the code to extract uses local variables.</p>\n\n<blockquote>\n  <p>Temporary variables often are so plentiful that they make extraction very awkward. In these cases I try to reduce the temps by using Replace Temp with Query (120). ...</p>\n</blockquote>\n\n<p>So one refactoring might depend on first doing another refactoring which itself is not obvious. Another example is <code>Inline Method</code> before Replace <code>Method with Method Object</code>.</p>\n"},{"comments":[{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":0,"creation_date":1557759579,"post_id":54169002,"comment_id":98863498,"body_markdown":"Appreciate the idea of temps as a form of caching. But you still have one additional calculation over a temp, in the if condition.","body":"Appreciate the idea of temps as a form of caching. But you still have one additional calculation over a temp, in the if condition."},{"owner":{"account_id":2505373,"reputation":229,"user_id":4186357,"display_name":"Sandra"},"score":0,"creation_date":1557897237,"post_id":54169002,"comment_id":98914211,"body_markdown":"Well, that&#39;s specific to this particular case which a case where I would use a query.\nI use a temp when it&#39;s like `frotz = SuperExpensive(); if frotz = baz then frotz+bar, else frotz-bar` or w/e","body":"Well, that&#39;s specific to this particular case which a case where I would use a query. I use a temp when it&#39;s like <code>frotz = SuperExpensive(); if frotz = baz then frotz+bar, else frotz-bar</code> or w/e"}],"tags":[],"owner":{"account_id":2505373,"reputation":229,"user_id":4186357,"display_name":"Sandra"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679403536,"creation_date":1547383475,"answer_id":54169002,"question_id":320946,"body_markdown":"You (both original asker, and James Curran) are missing that in this particular example, the calculation is not repeated. Either the code goes down one branch of the `if`, and calls `basePrice()`, which performs the calculation. Or the code goes down the other branch of the `if` and the calculation is performed there instead.\r\n\r\nThe multiplication is done regardless, but still only once. Just as in the temp version.\r\n\r\nYes, it&#39;s good to be aware that queries are by default not cached and that temps are inherently a form of caching. In this particular example that distinction doesn&#39;t matter. The advantage of caching (such as temps) is that it can provide CPU cycle savings (not really in this case, as far as the multiplication itself goes, I mean—in terms of calls, stack jumps etc, then sure… depending on the compiler). The disadvantage of caching is that it can give you out of date or wrong data if you are sloppy. That&#39;s in addition to the specific disadvantages with temps that Fowler mentions (that they are local, both temporally and lexically).\r\n\r\nWhat I usually do is that I code in queries most of the time and when I see that I *do* call a particular query multiple times (unlike this example, where it&#39;s in separate conditional branches), I can use a temp if it&#39;s local or introduce memoization or another type of cache system (such as a simple global variable or class member) if I need to access it in a wider, less local scope.\r\n\r\nThat&#39;s when the reverse to this refactoring, &quot;Replace Query with Temp&quot;, comes in handy.","title":"Replace Temp with Query","body":"<p>You (both original asker, and James Curran) are missing that in this particular example, the calculation is not repeated. Either the code goes down one branch of the <code>if</code>, and calls <code>basePrice()</code>, which performs the calculation. Or the code goes down the other branch of the <code>if</code> and the calculation is performed there instead.</p>\n<p>The multiplication is done regardless, but still only once. Just as in the temp version.</p>\n<p>Yes, it's good to be aware that queries are by default not cached and that temps are inherently a form of caching. In this particular example that distinction doesn't matter. The advantage of caching (such as temps) is that it can provide CPU cycle savings (not really in this case, as far as the multiplication itself goes, I mean—in terms of calls, stack jumps etc, then sure… depending on the compiler). The disadvantage of caching is that it can give you out of date or wrong data if you are sloppy. That's in addition to the specific disadvantages with temps that Fowler mentions (that they are local, both temporally and lexically).</p>\n<p>What I usually do is that I code in queries most of the time and when I see that I <em>do</em> call a particular query multiple times (unlike this example, where it's in separate conditional branches), I can use a temp if it's local or introduce memoization or another type of cache system (such as a simple global variable or class member) if I need to access it in a wider, less local scope.</p>\n<p>That's when the reverse to this refactoring, &quot;Replace Query with Temp&quot;, comes in handy.</p>\n"}],"owner":{"display_name":"student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4294,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1679403536,"creation_date":1227710931,"question_id":320946,"body_markdown":"The Replace Temp with Query refactoring method is recommended quite widely now but \r\nseems to be very inefficient for very little gain. \r\n\r\nThe method from the Martin Fowler&#39;s site gives the following example:\r\n\r\nExtract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods.\r\n\r\n\t\tdouble basePrice = _quantity * _itemPrice;\r\n\t\tif (basePrice &gt; 1000)\r\n\t\t\treturn basePrice * 0.95;\r\n\t\telse\r\n\t\t\treturn basePrice * 0.98;\r\nbecomes\r\n\r\n\t\tif (basePrice() &gt; 1000)\r\n\t\t\treturn basePrice() * 0.95;\r\n\t\telse\r\n\t\t\treturn basePrice() * 0.98;\r\n\r\n\r\n\tdouble basePrice() {\r\n\t\treturn _quantity * _itemPrice;\r\n\t} \r\n\r\n\r\nWhy is this a good idea? surely it means the calculation is needlessly repeated and you have the overhead of calling a function. I know CPU cycles\r\nare cheap but throwing them away like this seems careless? \r\n\r\nAm I missing something?\r\n\r\n\r\n","title":"Replace Temp with Query","body":"<p>The Replace Temp with Query refactoring method is recommended quite widely now but \nseems to be very inefficient for very little gain. </p>\n\n<p>The method from the Martin Fowler's site gives the following example:</p>\n\n<p>Extract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods.</p>\n\n<pre><code>    double basePrice = _quantity * _itemPrice;\n    if (basePrice &gt; 1000)\n        return basePrice * 0.95;\n    else\n        return basePrice * 0.98;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>    if (basePrice() &gt; 1000)\n        return basePrice() * 0.95;\n    else\n        return basePrice() * 0.98;\n\n\ndouble basePrice() {\n    return _quantity * _itemPrice;\n} \n</code></pre>\n\n<p>Why is this a good idea? surely it means the calculation is needlessly repeated and you have the overhead of calling a function. I know CPU cycles\nare cheap but throwing them away like this seems careless? </p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","consul"],"owner":{"account_id":10467810,"reputation":1,"user_id":7716672,"display_name":"Aman Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679402959,"creation_date":1679402959,"question_id":75801450,"body_markdown":"While docerizing existing spring boot services, created configuration based profiles for setup. I created a new application-docker.properties to ovveride the existsing properties defined in properties file the files look like the following \r\n\r\n```\r\napplication.properties\r\n\r\n######### Service specific properties #########\r\n### Service Name\r\nspring.application.name=myapp\r\n\r\nspring.cloud.consul.discovery.heartbeat.reregister-service-on-failure=true\r\n\r\nspring.config.import=optional:consul:\r\n\r\n######### Service database properties #########\r\nspring.datasource.testWhileIdle=true\r\nspring.datasource.validationQuery=SELECT 1\r\nspring.datasource.initialization-mode=never\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n### Disable feature detection by this undocumented parameter.\r\n### Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n\r\n### Others\r\nspring.main.allow-bean-definition-overriding=true\r\nfeign.client.config.default.connectTimeout=60000\r\nfeign.client.config.default.readTimeout=60000\r\n\r\n### Cache Configuration ###\r\nspring.cache.jcache.config=classpath:ehcache.xml\r\n\r\n```\r\n```\r\n## application-docker.properties:\r\n\r\n######### Service specific properties #########\r\n### Service default port\r\nserver.port=8103\r\n\r\nspring.cloud.consul.host=consul\r\nspring.cloud.consul.port=8600\r\nspring.cloud.consul.discovery.prefer-ip-address=true\r\n\r\n\r\n\r\n######### Configuration for PostgreSQL database #########\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgresss\r\nspring.datasource.url=jdbc:postgresql://db:5432/postgres\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n### Because detection is disabled you have to set correct dialect by hand.\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\n```\r\n\r\nMy spring service pom looks like \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t&lt;name&gt;myapp&lt;/name&gt;\r\n\t&lt;description&gt;myapp&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;10&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n\t\t&lt;springfox.swagger.version&gt;2.9.2&lt;/springfox.swagger.version&gt;\r\n\t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n\t\t&lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n\t\t&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19.16.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;configLocation&gt;/home/jenkins/.m2/myapp-style.xml&lt;/configLocation&gt;\r\n\t\t\t\t\t&lt;checkstyleXmlOutput&gt;true&lt;/checkstyleXmlOutput&gt;\r\n\t\t\t\t\t&lt;checkstyleXmlOutputDirectory&gt;target&lt;/checkstyleXmlOutputDirectory&gt;\r\n\t\t\t\t\t&lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\r\n\t\t\t\t\t&lt;failsOnError&gt;false&lt;/failsOnError&gt;\r\n\t\t\t\t\t&lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\r\n\t\t\t\t\t&lt;excludes&gt;**/module-info.java,**/package-info.java&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- or whatever version you use --&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.0.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;destFile&gt;${sonar.jacoco.reportPath}&lt;/destFile&gt;\r\n\t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n\r\n\t\r\n&lt;/project&gt;\r\n```\r\n\r\nI am trying to run the jar with following compose bloak\r\n\r\n```\r\n## docker-compose.yml\r\n\r\n  myapp:\r\n    image: eclipse-temurin:11-jre-alpine\r\n    volumes:\r\n      - ./:/opt/app\r\n      - ../config/auth:/config\r\n    command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -jar /opt/app/myapp-1.1.0.jar\r\n    \r\n    networks:\r\n      - commons-intra\r\n```\r\n\r\n\r\nFiles in `/config` folder are just application.properties and application-docker.properties\r\n\r\nIn ideal condition consul should try to reach for http://consul:8600 for registration but even after the profile being activated but the logs throw the following error\r\n\r\n```\r\n Application run failed\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at java.lang.Iterable.forEach(Unknown Source) ~[?:?]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at com.myapp.myapp.myappAuthApplication.main(myappAuthApplication.java:55) [classes!/:1.1.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [myapp-1.1.0.jar:1.1.0]\r\nCaused by: com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:83) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\r\n        at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\r\n        at java.net.Socket.connect(Unknown Source) ~[?:?]\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\n\r\n```\r\n\r\nBut if i start the application with passing the consul port and host via command they are honoured \r\n\r\n```\r\ncommand: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -Dspring.cloud.consul.host=consul -Dspring.cloud.consul.discovery.prefer-ip-address=true -jar /opt/app/myapp-1.1.0.jar\r\n```\r\n\r\nI really want to understand what is going wrong here, went through the documentation and did everything right but still the properties don&#39;t get overridden with profiles for consul?\r\n\r\n\r\n\r\n\r\n\r\n\r\nTrying to understand how sourcing of the properties in multiple profile environment works and working with externalized configuration for spring?","title":"Spring Consul ignores spring profile based specific properties","body":"<p>While docerizing existing spring boot services, created configuration based profiles for setup. I created a new application-docker.properties to ovveride the existsing properties defined in properties file the files look like the following</p>\n<pre><code>application.properties\n\n######### Service specific properties #########\n### Service Name\nspring.application.name=myapp\n\nspring.cloud.consul.discovery.heartbeat.reregister-service-on-failure=true\n\nspring.config.import=optional:consul:\n\n######### Service database properties #########\nspring.datasource.testWhileIdle=true\nspring.datasource.validationQuery=SELECT 1\nspring.datasource.initialization-mode=never\nspring.jpa.show-sql=false\nspring.jpa.hibernate.ddl-auto=update\n\n### Disable feature detection by this undocumented parameter.\n### Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\n\n### Others\nspring.main.allow-bean-definition-overriding=true\nfeign.client.config.default.connectTimeout=60000\nfeign.client.config.default.readTimeout=60000\n\n### Cache Configuration ###\nspring.cache.jcache.config=classpath:ehcache.xml\n\n</code></pre>\n<pre><code>## application-docker.properties:\n\n######### Service specific properties #########\n### Service default port\nserver.port=8103\n\nspring.cloud.consul.host=consul\nspring.cloud.consul.port=8600\nspring.cloud.consul.discovery.prefer-ip-address=true\n\n\n\n######### Configuration for PostgreSQL database #########\nspring.datasource.username=postgres\nspring.datasource.password=postgresss\nspring.datasource.url=jdbc:postgresql://db:5432/postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\n### Because detection is disabled you have to set correct dialect by hand.\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\n\n</code></pre>\n<p>My spring service pom looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;name&gt;myapp&lt;/name&gt;\n    &lt;description&gt;myapp&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;10&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n        &lt;springfox.swagger.version&gt;2.9.2&lt;/springfox.swagger.version&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n        &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4.2&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n          &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.16.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n            &lt;version&gt;1.4.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n            &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;/home/jenkins/.m2/myapp-style.xml&lt;/configLocation&gt;\n                    &lt;checkstyleXmlOutput&gt;true&lt;/checkstyleXmlOutput&gt;\n                    &lt;checkstyleXmlOutputDirectory&gt;target&lt;/checkstyleXmlOutputDirectory&gt;\n                    &lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\n                    &lt;failsOnError&gt;false&lt;/failsOnError&gt;\n                    &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\n                    &lt;excludes&gt;**/module-info.java,**/package-info.java&lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!-- or whatever version you use --&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;7.0.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;destFile&gt;${sonar.jacoco.reportPath}&lt;/destFile&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n    \n&lt;/project&gt;\n</code></pre>\n<p>I am trying to run the jar with following compose bloak</p>\n<pre><code>## docker-compose.yml\n\n  myapp:\n    image: eclipse-temurin:11-jre-alpine\n    volumes:\n      - ./:/opt/app\n      - ../config/auth:/config\n    command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -jar /opt/app/myapp-1.1.0.jar\n    \n    networks:\n      - commons-intra\n</code></pre>\n<p>Files in <code>/config</code> folder are just application.properties and application-docker.properties</p>\n<p>In ideal condition consul should try to reach for http://consul:8600 for registration but even after the profile being activated but the logs throw the following error</p>\n<pre><code> Application run failed\norg.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at java.lang.Iterable.forEach(Unknown Source) ~[?:?]\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar!/:2.5.7]\n        at com.myapp.myapp.myappAuthApplication.main(myappAuthApplication.java:55) [classes!/:1.1.0]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [myapp-1.1.0.jar:1.1.0]\nCaused by: com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:83) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\n        at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\n        at java.net.Socket.connect(Unknown Source) ~[?:?]\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\n\n</code></pre>\n<p>But if i start the application with passing the consul port and host via command they are honoured</p>\n<pre><code>command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -Dspring.cloud.consul.host=consul -Dspring.cloud.consul.discovery.prefer-ip-address=true -jar /opt/app/myapp-1.1.0.jar\n</code></pre>\n<p>I really want to understand what is going wrong here, went through the documentation and did everything right but still the properties don't get overridden with profiles for consul?</p>\n<p>Trying to understand how sourcing of the properties in multiple profile environment works and working with externalized configuration for spring?</p>\n"},{"tags":["java","date","datetime","time","timestamp"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679405768,"post_id":75801253,"comment_id":133713205,"body_markdown":"Some related questions &amp; answers: [What&#39;s the difference between Instant and LocalDateTime?](https://stackoverflow.com/q/32437550/12567365), and [Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users](https://stackoverflow.com/q/40075780/12567365).","body":"Some related questions &amp; answers: <a href=\"https://stackoverflow.com/q/32437550/12567365\">What&#39;s the difference between Instant and LocalDateTime?</a>, and <a href=\"https://stackoverflow.com/q/40075780/12567365\">Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406569,"post_id":75801253,"comment_id":133713469,"body_markdown":"@andrewJames Thanks for info, actually I read the first one before and just needed to be clarified about some points.","body":"@andrewJames Thanks for info, actually I read the first one before and just needed to be clarified about some points."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406631,"post_id":75801253,"comment_id":133713496,"body_markdown":"@andrewJames On the other hand, is it a good practice to name Instant field as `timeStamp`  for transaction dateTime? Or should I use `date` for the instant field? Any idea?","body":"@andrewJames On the other hand, is it a good practice to name Instant field as <code>timeStamp</code>  for transaction dateTime? Or should I use <code>date</code> for the instant field? Any idea?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679402914,"post_id":75801399,"comment_id":133712284,"body_markdown":"Thanks a lot for nice explanations. I understood the following points from your explanations. Could you pls confirm or clarify me? --&gt;","body":"Thanks a lot for nice explanations. I understood the following points from your explanations. Could you pls confirm or clarify me? --&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403068,"post_id":75801399,"comment_id":133712332,"body_markdown":"**1.** When we save date-time using Instant, that meaning the data is saved based on UTC and can be converted any local time when reading. For example, if the local time (UTC+2) is 14:00 when saving, then it will be kept as 12.00 in UTC. Right?","body":"<b>1.</b> When we save date-time using Instant, that meaning the data is saved based on UTC and can be converted any local time when reading. For example, if the local time (UTC+2) is 14:00 when saving, then it will be kept as 12.00 in UTC. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403175,"post_id":75801399,"comment_id":133712364,"body_markdown":"**2.** If the local time when the user saves the data is not important, then we can save data using Instant and can format by using the the approaches you mentioned before displaying. Right?","body":"<b>2.</b> If the local time when the user saves the data is not important, then we can save data using Instant and can format by using the the approaches you mentioned before displaying. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403239,"post_id":75801399,"comment_id":133712385,"body_markdown":"**3.** If 1 and 2 are true, then I think I can use Instant as timestamp and format when displaying. Right?","body":"<b>3.</b> If 1 and 2 are true, then I think I can use Instant as timestamp and format when displaying. Right?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679403322,"post_id":75801399,"comment_id":133712423,"body_markdown":"**1.** Basically yes. The instant will be stored as nano-seconds since &quot;epoch&quot; which is 1970-01-01 00:00:00 UTC ( it will actually be stored in 2 fields: seconds since epoch and additional nano seconds). So any instant representing 2pm UTC+2 will represent 12pm UTC.  **2.** yes - **3.** since this is &quot;1 &amp; 2&quot; boolean logic turns this into &quot;yes&quot; as well - at least if there are no other considerations :D","body":"<b>1.</b> Basically yes. The instant will be stored as nano-seconds since &quot;epoch&quot; which is 1970-01-01 00:00:00 UTC ( it will actually be stored in 2 fields: seconds since epoch and additional nano seconds). So any instant representing 2pm UTC+2 will represent 12pm UTC.  <b>2.</b> yes - <b>3.</b> since this is &quot;1 &amp; 2&quot; boolean logic turns this into &quot;yes&quot; as well - at least if there are no other considerations :D"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403632,"post_id":75801399,"comment_id":133712521,"body_markdown":"Wonderful explanations with funny boolean :D Thanks and marked as answer. Just to have a better idea, could you clarify me about this related to Java Date Time?","body":"Wonderful explanations with funny boolean :D Thanks and marked as answer. Just to have a better idea, could you clarify me about this related to Java Date Time?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403837,"post_id":75801399,"comment_id":133712575,"body_markdown":"Can we say that, **in generally**, if we would not mind time zone, then we can use LocalDate / LocalTime or LocalDatetime **AND** if we need time zone just from the reader&#39;s perspective (not the place of the operation) and keep as timestamp then use Instant? The rest is ZonedDateTime generally I think (not sure if Momemnt is also so common as ZonedDateTime )","body":"Can we say that, <b>in generally</b>, if we would not mind time zone, then we can use LocalDate / LocalTime or LocalDatetime <b>AND</b> if we need time zone just from the reader&#39;s perspective (not the place of the operation) and keep as timestamp then use Instant? The rest is ZonedDateTime generally I think (not sure if Momemnt is also so common as ZonedDateTime )"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404637,"post_id":75801399,"comment_id":133712809,"body_markdown":"The question about `LocalDateTime` etc. may be a little out of scope here but I&#39;ll add a few short thoughts: You should know that those LocalXxx classes _do not_ respresent instants which means those can represent very different points in time and need to be used in a certain common context. That means if time zone really doesn&#39;t matter, you might be able to use those classes. However, if you need to sort/order transactions that may be issued from different time zones then you cannot use those unless they always represent the same time zone.","body":"The question about <code>LocalDateTime</code> etc. may be a little out of scope here but I&#39;ll add a few short thoughts: You should know that those LocalXxx classes <i>do not</i> respresent instants which means those can represent very different points in time and need to be used in a certain common context. That means if time zone really doesn&#39;t matter, you might be able to use those classes. However, if you need to sort/order transactions that may be issued from different time zones then you cannot use those unless they always represent the same time zone."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679404952,"post_id":75801399,"comment_id":133712924,"body_markdown":"Thank you so much, your explanations like the important summary of a book :)","body":"Thank you so much, your explanations like the important summary of a book :)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406656,"post_id":75801399,"comment_id":133713505,"body_markdown":"On the other hand, is it a good practice to name Instant field as `timeStamp`  for transaction dateTime? Or should I use `date` for the instant field? Any idea?","body":"On the other hand, is it a good practice to name Instant field as <code>timeStamp</code>  for transaction dateTime? Or should I use <code>date</code> for the instant field? Any idea?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679407535,"post_id":75801399,"comment_id":133713824,"body_markdown":"Well, what do the terms &quot;date&quot; and &quot;timestamp&quot; imply? It&#39;s up to you but to me &quot;date&quot; would mean a day so &quot;timestamp&quot; would be more accurate :D","body":"Well, what do the terms &quot;date&quot; and &quot;timestamp&quot; imply? It&#39;s up to you but to me &quot;date&quot; would mean a day so &quot;timestamp&quot; would be more accurate :D"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679410573,"post_id":75801399,"comment_id":133714825,"body_markdown":"Yes, I also thought the same, because it is actually date and time. But when I use imnstant, it does no seem to be a meaningful variable, because this field indicates transaction time. Maybe date is better in this case.","body":"Yes, I also thought the same, because it is actually date and time. But when I use imnstant, it does no seem to be a meaningful variable, because this field indicates transaction time. Maybe date is better in this case."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679402929,"creation_date":1679402683,"answer_id":75801399,"question_id":75801253,"body_markdown":"&gt; With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?\r\n\r\nIf you have a look at the JavaDoc on `Instant` you&#39;ll see that this class indeed represents a single universal point in time with 0 being 12am Jan 1st 1970 UTC. Any point in time can be converted to a localized representation for a certain time zone - the question just will be which time zone it should be. \r\n\r\n&gt; The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (java.time.Instant) and display by formatting it when needed.\r\n\r\nIf you&#39;re ok with using the user&#39;s own time zone, e.g. someone in the US might see a different time (and even date) than someone in Australia, then you don&#39;t need to store anything in addition. Just convert the instant to a `ZonedDateTime` e.g. via `ZonedDateTime.ofInstant(theInstant, theUsersTimeZone)` or directly use `DateTimeFormatter`.\r\n\r\nIf, however, you need to represent the instant in the form the user causing the transaction saw it, i.e. you need to know whether it was 1pm EST or 1pm CET etc., then you should store the original time zone as well and use that in the conversion.\r\n\r\nSo what this comes down to is basically a business decision rather than a technical issue: Do your users or your application need to know the time zone the transaction was placed in? ","title":"Is java.time.Instant enough to keep data with time and timestamp?","body":"<blockquote>\n<p>With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?</p>\n</blockquote>\n<p>If you have a look at the JavaDoc on <code>Instant</code> you'll see that this class indeed represents a single universal point in time with 0 being 12am Jan 1st 1970 UTC. Any point in time can be converted to a localized representation for a certain time zone - the question just will be which time zone it should be.</p>\n<blockquote>\n<p>The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (java.time.Instant) and display by formatting it when needed.</p>\n</blockquote>\n<p>If you're ok with using the user's own time zone, e.g. someone in the US might see a different time (and even date) than someone in Australia, then you don't need to store anything in addition. Just convert the instant to a <code>ZonedDateTime</code> e.g. via <code>ZonedDateTime.ofInstant(theInstant, theUsersTimeZone)</code> or directly use <code>DateTimeFormatter</code>.</p>\n<p>If, however, you need to represent the instant in the form the user causing the transaction saw it, i.e. you need to know whether it was 1pm EST or 1pm CET etc., then you should store the original time zone as well and use that in the conversion.</p>\n<p>So what this comes down to is basically a business decision rather than a technical issue: Do your users or your application need to know the time zone the transaction was placed in?</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75801399,"answer_count":1,"score":-1,"last_activity_date":1679402929,"creation_date":1679401910,"question_id":75801253,"body_markdown":"I am trying to develop an app and there is a Transaction table. In this table, there will be also a  date &amp; time field. \r\n\r\nIn order to keep the transaction time precisely, I think of using `java.time.Instant`. And whenever I need to convert this to any time zone, I can do it easily and for this reason there will be no problem regarding to time zone. With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach? \r\n\r\n\r\n\r\n\r\nThe second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (`java.time.Instant`) and display by formatting it when needed. What would you suggest? ","title":"Is java.time.Instant enough to keep data with time and timestamp?","body":"<p>I am trying to develop an app and there is a Transaction table. In this table, there will be also a  date &amp; time field.</p>\n<p>In order to keep the transaction time precisely, I think of using <code>java.time.Instant</code>. And whenever I need to convert this to any time zone, I can do it easily and for this reason there will be no problem regarding to time zone. With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?</p>\n<p>The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (<code>java.time.Instant</code>) and display by formatting it when needed. What would you suggest?</p>\n"},{"tags":["java","android","android-service","hidl"],"owner":{"account_id":18158551,"reputation":11,"user_id":13210255,"display_name":"Val&#233;rio Nogueira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679402853,"creation_date":1679402853,"question_id":75801429,"body_markdown":"I&#39;m trying to implement the Android Face Authentication HIDL (https://source.android.com/docs/security/features/biometric/face-authentication) in Java for face authentication feature in a custom Android 10 build.\r\n\r\nI&#39;ve already generated the IBiometricsFace interface and created a class FaceService that extends IBiometricsFace.Stub. In SystemServer, I created a new instance of my FaceService class and registered it using\r\n\r\n```java\r\nprivate void run() {\r\n    ...\r\n\r\n    FaceService faceService = new FaceService ();\r\n    faceService.registerService(&quot;android.hardware.biometrics.face@1.0::IBiometricsFace&quot;);\r\n\r\n    ...\r\n```\r\n\r\nThe documentation says that `faced` must register itself with the name IBiometricsFace@1.0 so the system FaceService could find it, but inspecting the FaceService source I&#39;ve discovered that it calls `getService` with the name used above. Should I assume that the documentation is outdated? ","title":"Android Face Authentication HIDL","body":"<p>I'm trying to implement the Android Face Authentication HIDL (<a href=\"https://source.android.com/docs/security/features/biometric/face-authentication\" rel=\"nofollow noreferrer\">https://source.android.com/docs/security/features/biometric/face-authentication</a>) in Java for face authentication feature in a custom Android 10 build.</p>\n<p>I've already generated the IBiometricsFace interface and created a class FaceService that extends IBiometricsFace.Stub. In SystemServer, I created a new instance of my FaceService class and registered it using</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void run() {\n    ...\n\n    FaceService faceService = new FaceService ();\n    faceService.registerService(&quot;android.hardware.biometrics.face@1.0::IBiometricsFace&quot;);\n\n    ...\n</code></pre>\n<p>The documentation says that <code>faced</code> must register itself with the name IBiometricsFace@1.0 so the system FaceService could find it, but inspecting the FaceService source I've discovered that it calls <code>getService</code> with the name used above. Should I assume that the documentation is outdated?</p>\n"},{"tags":["java","string","eclipse","formatting"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1679401721,"post_id":75801154,"comment_id":133711884,"body_markdown":"The output looks fine to me. What you might be experiencing is a matter of the font being used by the Eclipse &quot;terminal window&quot;, i.e. it&#39;s most likely not a monospaced font and thus the space character is narrower than the digits. Have a look here on how to change the font: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm - If you&#39;re running this from your command line directly then Eclipse isn&#39;t even involved but your OS terminal settings are.","body":"The output looks fine to me. What you might be experiencing is a matter of the font being used by the Eclipse &quot;terminal window&quot;, i.e. it&#39;s most likely not a monospaced font and thus the space character is narrower than the digits. Have a look here on how to change the font: <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a> - If you&#39;re running this from your command line directly then Eclipse isn&#39;t even involved but your OS terminal settings are."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679402123,"post_id":75801154,"comment_id":133712013,"body_markdown":"Btw, &quot;only half of the width is being used in each conversion&quot; is wrong. The conversion you&#39;re referring to is number/object to text conversion which results in a string of characters. The width influences the _number_ of characters being used and since characters can&#39;t be split the entire width will be used. This means `&quot;%3d&quot;` will turn `1` into the string `&quot;  1&quot;` (which in turn is the array `[&#39; &#39;, &#39; &#39;, &#39;1&#39;]`).","body":"Btw, &quot;only half of the width is being used in each conversion&quot; is wrong. The conversion you&#39;re referring to is number/object to text conversion which results in a string of characters. The width influences the <i>number</i> of characters being used and since characters can&#39;t be split the entire width will be used. This means <code>&quot;%3d&quot;</code> will turn <code>1</code> into the string <code>&quot;  1&quot;</code> (which in turn is the array <code>[&#39; &#39;, &#39; &#39;, &#39;1&#39;]</code>)."},{"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"score":0,"creation_date":1679402413,"post_id":75801154,"comment_id":133712111,"body_markdown":"That was it. Thanks a ton man, for real.","body":"That was it. Thanks a ton man, for real."}],"answers":[{"tags":[],"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679402764,"creation_date":1679402709,"answer_id":75801406,"question_id":75801154,"body_markdown":"Changed the font from Ariel to a monospaced font of my choice using instructions from [here][1]; thanks to Thomas.\r\n\r\nEdit: Gotta wait 2 days to accept my own answer as the solution\r\n\r\n  [1]: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm","title":"The %[width]d formatter syntax creates a pyramid in Eclipse IDE","body":"<p>Changed the font from Ariel to a monospaced font of my choice using instructions from <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm\" rel=\"nofollow noreferrer\">here</a>; thanks to Thomas.</p>\n<p>Edit: Gotta wait 2 days to accept my own answer as the solution</p>\n"}],"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75801406,"answer_count":1,"score":-1,"last_activity_date":1679402764,"creation_date":1679401291,"question_id":75801154,"body_markdown":"Using JDK 17 (Java-SE 17) This is my code:\r\n```\r\nimport java.time.LocalDate;\r\n\r\npublic class TextBlock {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString bulletIt = &quot;Print a Bulleted List:\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\t\\u2022 First Point\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\t\\t\\u2022 Sub Point&quot;;\r\n\t\tSystem.out.println(bulletIt);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tString textBlock = &quot;&quot;&quot;\r\n\t\t\t\t\t\tPrint a Bulleted List:\r\n\t\t\t\t\t\t\t\\u2022 First Point\r\n\t\t\t\t\t\t\t\t\\u2022 Sub Point&quot;&quot;&quot;;\r\n\t\t\r\n\t\tSystem.out.println(textBlock);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tint age = 35;\r\n\t\t// .printf works the same as .format\r\n\t\tSystem.out.printf(&quot;Your age is %d%n&quot;, age);\r\n\t\t\r\n\t\tint yearOfBirth = LocalDate.now().getYear() - age;\r\n\t\tSystem.out.format(&quot;Age = %d. Birth year = %d%n&quot;, age, yearOfBirth);\r\n\t\t\r\n\t\t//System.out.printf(&quot;Your age is %f%n&quot;, (float) age);\r\n\t\tSystem.out.printf(&quot;Your age is %.2f%n&quot;, (float) age);\r\n\t\t\r\n\t\tfor(int  i = 1; i &lt;= 100_000; i *= 10) {\r\n\t\t\tSystem.out.format(&quot;%6d&quot; + &quot;\\n&quot;, i);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLeft out package name. Currently just learning about String formatting. The for loop at the end of my code prints this out in the console:\r\n\r\n![enter image description here](https://i.stack.imgur.com/aA9NT.png)\r\n\r\nFrom the tutorial everything should superficially be right-aligned, but for some reason my Eclipse IDE decides to only use half of the width I defined for my conversion. Any help? I want to use the .printf more in my code and not being able to right-align text would be a serious blow. Or is this just one of the horrible tradeoffs of using Eclipse?\r\n\r\nI tried doubling the width to 12 but again, only half of the width is being used in each conversion. I used repl.it to make sure it was a compiler issue and yea it is. Eclipse for some reason wants to be different from the crowd. Stupid Eclipse.","title":"The %[width]d formatter syntax creates a pyramid in Eclipse IDE","body":"<p>Using JDK 17 (Java-SE 17) This is my code:</p>\n<pre><code>import java.time.LocalDate;\n\npublic class TextBlock {\n\n    public static void main(String[] args) {\n        String bulletIt = &quot;Print a Bulleted List:\\n&quot; +\n                        &quot;\\t\\u2022 First Point\\n&quot; +\n                        &quot;\\t\\t\\u2022 Sub Point&quot;;\n        System.out.println(bulletIt);\n        \n        System.out.println();\n        \n        String textBlock = &quot;&quot;&quot;\n                        Print a Bulleted List:\n                            \\u2022 First Point\n                                \\u2022 Sub Point&quot;&quot;&quot;;\n        \n        System.out.println(textBlock);\n        \n        System.out.println();\n        \n        int age = 35;\n        // .printf works the same as .format\n        System.out.printf(&quot;Your age is %d%n&quot;, age);\n        \n        int yearOfBirth = LocalDate.now().getYear() - age;\n        System.out.format(&quot;Age = %d. Birth year = %d%n&quot;, age, yearOfBirth);\n        \n        //System.out.printf(&quot;Your age is %f%n&quot;, (float) age);\n        System.out.printf(&quot;Your age is %.2f%n&quot;, (float) age);\n        \n        for(int  i = 1; i &lt;= 100_000; i *= 10) {\n            System.out.format(&quot;%6d&quot; + &quot;\\n&quot;, i);\n        }\n    }\n\n}\n</code></pre>\n<p>Left out package name. Currently just learning about String formatting. The for loop at the end of my code prints this out in the console:</p>\n<p><img src=\"https://i.stack.imgur.com/aA9NT.png\" alt=\"enter image description here\" /></p>\n<p>From the tutorial everything should superficially be right-aligned, but for some reason my Eclipse IDE decides to only use half of the width I defined for my conversion. Any help? I want to use the .printf more in my code and not being able to right-align text would be a serious blow. Or is this just one of the horrible tradeoffs of using Eclipse?</p>\n<p>I tried doubling the width to 12 but again, only half of the width is being used in each conversion. I used repl.it to make sure it was a compiler issue and yea it is. Eclipse for some reason wants to be different from the crowd. Stupid Eclipse.</p>\n"},{"tags":["java","applescript"],"comments":[{"owner":{"account_id":9682987,"reputation":992,"user_id":7410243,"display_name":"Mockman"},"score":0,"creation_date":1679405329,"post_id":75792591,"comment_id":133713058,"body_markdown":"If the code in the java code segment is supposed to run literally, then you&#39;re missing the word `to` before `activate` in the first line of applescript code. If you&#39;re running a command within the tell statement (as opposed to inside a tell block) then you must include &#39;to&#39;. You have it within the applescript code segment. Typically, excluding &#39;to&#39; generates a syntax error.","body":"If the code in the java code segment is supposed to run literally, then you&#39;re missing the word <code>to</code> before <code>activate</code> in the first line of applescript code. If you&#39;re running a command within the tell statement (as opposed to inside a tell block) then you must include &#39;to&#39;. You have it within the applescript code segment. Typically, excluding &#39;to&#39; generates a syntax error."}],"answers":[{"tags":[],"owner":{"account_id":104716,"reputation":965,"user_id":279798,"display_name":"Joel Reid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679402660,"creation_date":1679402660,"answer_id":75801394,"question_id":75792591,"body_markdown":"Your script contains a code fragment (from [here](https://stackoverflow.com/a/57847676/279798)?) that accidentally tries to set the app&#39;s focus by checking a variable. `frontmostVisibleApp` is indeed just a variable though and does not perform any action. Your use of `tell application &quot;Daylite&quot; to activate` should be sufficient to give it focus. What further were you looking to cause to happen?\r\n\r\nTo move forward, I&#39;d suggest just removing that line. Then perhaps lengthen that pause if it is sometimes launching Daylite rather than just giving it focus, e.g. via:\r\n\r\n    tell application &quot;Daylite&quot; to activate\r\n    delay 4\r\n\r\nOr, less clumsily, you could further fail-*safe* by, for example, wrapping the rest in a focus check:\r\n\r\n    if (frontmost of application &quot;Daylite&quot;) is true then\r\n    \t--code\r\n    end if\r\n\r\nOr, my recommendation, add a full wait loop after the `activate` command:\r\n\r\n    repeat until (frontmost of application &quot;Daylite&quot;) is true\r\n    \tdelay 1\r\n    end repeat\r\n    \r\n    --code\r\n","title":"AppleScript behaving differently when run in Java code","body":"<p>Your script contains a code fragment (from <a href=\"https://stackoverflow.com/a/57847676/279798\">here</a>?) that accidentally tries to set the app's focus by checking a variable. <code>frontmostVisibleApp</code> is indeed just a variable though and does not perform any action. Your use of <code>tell application &quot;Daylite&quot; to activate</code> should be sufficient to give it focus. What further were you looking to cause to happen?</p>\n<p>To move forward, I'd suggest just removing that line. Then perhaps lengthen that pause if it is sometimes launching Daylite rather than just giving it focus, e.g. via:</p>\n<pre><code>tell application &quot;Daylite&quot; to activate\ndelay 4\n</code></pre>\n<p>Or, less clumsily, you could further fail-<em>safe</em> by, for example, wrapping the rest in a focus check:</p>\n<pre><code>if (frontmost of application &quot;Daylite&quot;) is true then\n    --code\nend if\n</code></pre>\n<p>Or, my recommendation, add a full wait loop after the <code>activate</code> command:</p>\n<pre><code>repeat until (frontmost of application &quot;Daylite&quot;) is true\n    delay 1\nend repeat\n\n--code\n</code></pre>\n"}],"owner":{"account_id":26048869,"reputation":59,"user_id":19752467,"display_name":"Gareth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679402660,"creation_date":1679328020,"question_id":75792591,"body_markdown":"I wrote some AppleScript that opens and application and creates a record. The script behaves as expected when run in Script editor. When running this script from my Java code, the script doesn&#39;t function the same. The script will activate the application but not put it into focus.\r\n\r\nApplescript:\r\n\r\n \r\n\r\n       tell application &quot;Daylite&quot; to activate\r\n    \r\n    tell application &quot;System Events&quot; to set frontmostVisibleApp to &quot;Daylite&quot;\r\n    \r\n    tell application &quot;System Events&quot;\r\n    \t\r\n    \tkeystroke &quot;o&quot; using {shift down, command down}\r\n    \tdelay 0.1\r\n    \tkey code 49\r\n    \tkey code 123\r\n    \trepeat 16 times\r\n    \t\tkey code 51\r\n    \tend repeat\r\n    \tdelay 0.1\r\n    \tset the clipboard to &quot;Quote-230316-1&quot;\r\n    \tdelay 0.1\r\n    \tkeystroke &quot;v&quot; using {command down}\r\n    \tdelay 0.5\r\n    \tkey code 76\r\n    \trepeat 13 times\r\n    \t\tkey code 48\r\n    \t\tdelay 0.2\r\n    \tend repeat\r\n    \tdelay 0.5\r\n    \tkey code 76\r\n    \tdelay 0.1\r\n    \tset the clipboard to &quot;Joe Smith&quot;\r\n    \tdelay 0.1\r\n    \tkeystroke &quot;v&quot; using {command down}\r\n    \tdelay 0.1\r\n    \tkey code 76\r\n    \tdelay 0.1\r\n    \tclick button &quot;Save&quot; of window &quot;New Opportunity&quot; of application process &quot;Daylite&quot; of application &quot;System Events&quot;\r\n    \t\r\n    end tell\r\n\r\nJava code:\r\n\r\n        public void CreateDayliteOpportunity()\r\n       {\r\n         \r\n          \r\n          Runtime runtime = Runtime.getRuntime();\r\n          String applescriptCommand =  &quot;tell application \\&quot;Daylite\\&quot; activate\\n&quot; +\r\n                                       &quot;delay 2\\n&quot;+\r\n                                       &quot;run script\\n&quot;+\r\n                                       &quot;tell application \\&quot;System Events\\&quot; to set frontmostVisibleApp to \\&quot;Daylite\\&quot;&quot;+\r\n                                       &quot;delay 0.1\\n&quot;+\r\n                                       &quot;tell application \\&quot;System Events\\&quot;\\n&quot; +\r\n                                       &quot;keystroke \\&quot;o\\&quot; using {shift down, command down}\\n&quot;+\r\n                                       &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;key code 49\\n&quot;+\r\n    \t                                &quot;key code 123\\n&quot;+\r\n    \t                                &quot;repeat 16 times\\n&quot;+\r\n    \t                                &quot;key code 51\\n&quot;+\r\n    \t                                &quot;end repeat\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;set the clipboard to \\&quot;&quot; + OpportunityName + &quot;\\&quot;\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\r\n    \t                                &quot;delay 0.5\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;repeat 13 times\\n&quot;+\r\n    \t                                &quot;key code 48\\n&quot;+\r\n    \t                                &quot;delay 0.2\\n&quot;+\r\n    \t                                &quot;end repeat\\n&quot;+\r\n    \t                                &quot;delay 0.5\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;set the clipboard to \\&quot;&quot; + ContactName + &quot;\\&quot;\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;click button \\&quot;Save\\&quot; of window \\&quot;New Opportunity\\&quot; of application process \\&quot;Daylite\\&quot; of application \\&quot;System Events\\&quot;\\n&quot;+\r\n                                       &quot;end tell&quot;;\r\n    \r\n          String[] args = { &quot;osascript&quot;, &quot;-e&quot;, applescriptCommand };\r\n          try\r\n          {\r\n          Process process = runtime.exec(args);\r\n          }\r\n          catch(IOException xyz)\r\n          {JOptionPane.showMessageDialog(null, &quot;ERROR! &quot; + xyz.getMessage());}\r\n       }\r\n\r\n","title":"AppleScript behaving differently when run in Java code","body":"<p>I wrote some AppleScript that opens and application and creates a record. The script behaves as expected when run in Script editor. When running this script from my Java code, the script doesn't function the same. The script will activate the application but not put it into focus.</p>\n<p>Applescript:</p>\n<pre><code>   tell application &quot;Daylite&quot; to activate\n\ntell application &quot;System Events&quot; to set frontmostVisibleApp to &quot;Daylite&quot;\n\ntell application &quot;System Events&quot;\n    \n    keystroke &quot;o&quot; using {shift down, command down}\n    delay 0.1\n    key code 49\n    key code 123\n    repeat 16 times\n        key code 51\n    end repeat\n    delay 0.1\n    set the clipboard to &quot;Quote-230316-1&quot;\n    delay 0.1\n    keystroke &quot;v&quot; using {command down}\n    delay 0.5\n    key code 76\n    repeat 13 times\n        key code 48\n        delay 0.2\n    end repeat\n    delay 0.5\n    key code 76\n    delay 0.1\n    set the clipboard to &quot;Joe Smith&quot;\n    delay 0.1\n    keystroke &quot;v&quot; using {command down}\n    delay 0.1\n    key code 76\n    delay 0.1\n    click button &quot;Save&quot; of window &quot;New Opportunity&quot; of application process &quot;Daylite&quot; of application &quot;System Events&quot;\n    \nend tell\n</code></pre>\n<p>Java code:</p>\n<pre><code>    public void CreateDayliteOpportunity()\n   {\n     \n      \n      Runtime runtime = Runtime.getRuntime();\n      String applescriptCommand =  &quot;tell application \\&quot;Daylite\\&quot; activate\\n&quot; +\n                                   &quot;delay 2\\n&quot;+\n                                   &quot;run script\\n&quot;+\n                                   &quot;tell application \\&quot;System Events\\&quot; to set frontmostVisibleApp to \\&quot;Daylite\\&quot;&quot;+\n                                   &quot;delay 0.1\\n&quot;+\n                                   &quot;tell application \\&quot;System Events\\&quot;\\n&quot; +\n                                   &quot;keystroke \\&quot;o\\&quot; using {shift down, command down}\\n&quot;+\n                                   &quot;delay 0.1\\n&quot;+\n                                    &quot;key code 49\\n&quot;+\n                                    &quot;key code 123\\n&quot;+\n                                    &quot;repeat 16 times\\n&quot;+\n                                    &quot;key code 51\\n&quot;+\n                                    &quot;end repeat\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;set the clipboard to \\&quot;&quot; + OpportunityName + &quot;\\&quot;\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\n                                    &quot;delay 0.5\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;repeat 13 times\\n&quot;+\n                                    &quot;key code 48\\n&quot;+\n                                    &quot;delay 0.2\\n&quot;+\n                                    &quot;end repeat\\n&quot;+\n                                    &quot;delay 0.5\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;set the clipboard to \\&quot;&quot; + ContactName + &quot;\\&quot;\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;click button \\&quot;Save\\&quot; of window \\&quot;New Opportunity\\&quot; of application process \\&quot;Daylite\\&quot; of application \\&quot;System Events\\&quot;\\n&quot;+\n                                   &quot;end tell&quot;;\n\n      String[] args = { &quot;osascript&quot;, &quot;-e&quot;, applescriptCommand };\n      try\n      {\n      Process process = runtime.exec(args);\n      }\n      catch(IOException xyz)\n      {JOptionPane.showMessageDialog(null, &quot;ERROR! &quot; + xyz.getMessage());}\n   }\n</code></pre>\n"},{"tags":["java","spring","active-directory","spring-ldap"],"comments":[{"owner":{"account_id":5368696,"reputation":197,"user_id":4277809,"accept_rate":50,"display_name":"Ravinder Kadian"},"score":0,"creation_date":1426006231,"post_id":28964782,"comment_id":46190577,"body_markdown":"Hi Guys, I am blocked and tried many ways but still blocked. Need urgent direction or help to unblock.","body":"Hi Guys, I am blocked and tried many ways but still blocked. Need urgent direction or help to unblock."}],"answers":[{"comments":[{"owner":{"account_id":7002790,"reputation":106,"user_id":5368265,"display_name":"Raniere"},"score":0,"creation_date":1581719122,"post_id":41685607,"comment_id":106543510,"body_markdown":"It worked. It seems like Spring Ldap Repository can&#39;t update / save password in unicodePwd. So if you use a separated update using LdapTemplate and ModificationItem it will work. Look at my coment with an example.","body":"It worked. It seems like Spring Ldap Repository can&#39;t update / save password in unicodePwd. So if you use a separated update using LdapTemplate and ModificationItem it will work. Look at my coment with an example."}],"tags":[],"owner":{"account_id":1489310,"reputation":345,"user_id":1396815,"accept_rate":67,"display_name":"aalmero"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484603609,"creation_date":1484603609,"answer_id":41685607,"question_id":28964782,"body_markdown":"for updating AD password use a separate method, it seems that LdapTemplate.update() does not define the correct ModificationItem for password.\r\n            \r\n\t\t\tpublic void setPassword(Person p){\r\n            String relativeDn = getRelativeDistinguishedName(person.getDistinguishedName());\r\n\t\t\tLdapNameBuilder ldapNameBuilder = LdapNameBuilder.newInstance(relativeDn);\r\n\t\t\tName dn  = ldapNameBuilder.build();\r\n\r\n\t\t\tDirContextOperations context = ldapTemplate.lookupContext(dn);\r\n\r\n\t\t\tAttribute attr = new BasicAttribute(&quot;unicodepwd&quot;, encodePassword(person.getPassword()));\r\n\t\t    ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attr);\r\n\t\t    \r\n\t\t    ldapTemplate.modifyAttributes(dn, new ModificationItem[] {item});\t\r\n            }\r\n\r\n","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>for updating AD password use a separate method, it seems that LdapTemplate.update() does not define the correct ModificationItem for password.</p>\n\n<pre><code>        public void setPassword(Person p){\n        String relativeDn = getRelativeDistinguishedName(person.getDistinguishedName());\n        LdapNameBuilder ldapNameBuilder = LdapNameBuilder.newInstance(relativeDn);\n        Name dn  = ldapNameBuilder.build();\n\n        DirContextOperations context = ldapTemplate.lookupContext(dn);\n\n        Attribute attr = new BasicAttribute(\"unicodepwd\", encodePassword(person.getPassword()));\n        ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attr);\n\n        ldapTemplate.modifyAttributes(dn, new ModificationItem[] {item});   \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7002790,"reputation":106,"user_id":5368265,"display_name":"Raniere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581719574,"creation_date":1581719574,"answer_id":60234313,"question_id":28964782,"body_markdown":"In addition to aalmero answer, it seems like Spring Ldap repository can&#39;t save unicodePwd.\r\n\r\nBut you can use LdapTemplate for it:\r\n\r\n\r\n        UserAd userAd = new UserAd();\r\n        // set your stuff\r\n        userAdRepository.save(userAd);\r\n        \r\n        ModificationItem[] mods = new ModificationItem[1];\r\n        mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(&quot;unicodePwd&quot;, encodePassword(&quot;password-respecting-policies&quot;)));\r\n\r\n        ldapTemplate.modifyAttributes(userAd.getDn(), mods);","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>In addition to aalmero answer, it seems like Spring Ldap repository can't save unicodePwd.</p>\n\n<p>But you can use LdapTemplate for it:</p>\n\n<pre><code>    UserAd userAd = new UserAd();\n    // set your stuff\n    userAdRepository.save(userAd);\n\n    ModificationItem[] mods = new ModificationItem[1];\n    mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(\"unicodePwd\", encodePassword(\"password-respecting-policies\")));\n\n    ldapTemplate.modifyAttributes(userAd.getDn(), mods);\n</code></pre>\n"}],"owner":{"account_id":5368696,"reputation":197,"user_id":4277809,"accept_rate":50,"display_name":"Ravinder Kadian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3392,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1679402324,"creation_date":1425993410,"question_id":28964782,"body_markdown":"I am new to Spring LDAP and Active directory and facing issue while updating password for new created user in AD.\r\n\r\nUsing SPRING LDAP I have first created User in AD successfully and then tried to update password and useraccountcontrol of user when I getting below exception.\r\nWe have been trying for last 1 week and not able to resolve. Any help/direction is highly appreciated.\r\n\r\nI have been through many blogs and  tried as mentioned in below two blogs but still blocked and getting same exception:\r\n\r\nhttps://stackoverflow.com/questions/6797955/how-do-i-resolve-will-not-perform-ms-ad-reply-when-trying-to-change-password-i\r\n\r\nhttps://stackoverflow.com/questions/4322243/adding-a-user-with-a-password-in-active-directory-ldap\r\n\r\nStacktrace:\r\n\r\n    16:43:56,991 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:26) - HelperDao.getNextUserId(): entry\r\n    \r\n    16:43:57,007 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) Hibernate:   SELECT LTRIM(TO_CHAR( IP_USER_XDUSERID_SEQ.nextval, &#39;000000000000000000000000000&#39;)) ID from dual\r\n    \r\n    16:43:57,164 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:30) - HelperDao.getNextUserId(): exit\r\n    \r\n    16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) 16:47:17.051 [http-localhost-127.0.0.1-8080-1] ERROR com.st.liotroevo.web.dao.UserADRepository - catching\r\n    \r\n    16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000200D: SvcErr: DSID-031A0FC0, problem 5003 (WILL_NOT_PERFORM), data 0\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) \r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3160) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1478) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:273) ~[?:?]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:190) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:179) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.transaction.compensating.support.CompensatingTransactionUtils.performOperation(CompensatingTransactionUtils.java:69) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:85) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.proxy.$Proxy69.modifyAttributes(Unknown Source) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.dao.UserADRepository.update(UserADRepository.java:104) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.UserService.updateUser(UserService.java:92) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.serviceImpl.IPRegistrationServiceImpl.createUser(IPRegistrationServiceImpl.java:72) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.ws.common.invocation.AbstractInvocationHandlerJSE.invoke(AbstractInvocationHandlerJSE.java:111) [jbossws-common-2.0.2.GA.jar!/:2.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker._invokeInternal(JBossWSInvoker.java:181) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:127) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-rt-core-2.4.6.jar!/:2.4.6]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.FutureTask.run(FutureTask.java:262) [?:1.7.0_45]\r\n\r\n\r\nBelow is the code snippet:\r\n\r\n    ldap.url=ldaps://url:636\r\n    ldap.userDn=CN=IP User,OU=AdminAccounts,DC=stp-qa,DC=st,DC=com\r\n    ldap.password=dummyPass\r\n    ldap.base=OU=ST,OU=People,DC=stp-qa,DC=st,DC=com\r\n    ldap.clean=false\r\n\r\n    @Entry(objectClasses = {  &quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;,&quot;user&quot;,&quot;st-individualpassportuser&quot;})\r\n    public final class User {\r\n    \r\n    \t@Id\r\n    \tprivate Name dn;\r\n    \r\n    \t@Attribute(name = &quot;mail&quot;)\r\n    \tprivate String email;\r\n    \r\n    \t@Attribute(name = &quot;cn&quot;)\r\n    \t@DnAttribute(value=&quot;cn&quot;,index=0)\r\n    \tprivate String fullName;\r\n    \r\n    \t@Attribute(name = &quot;givenName&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Attribute(name = &quot;sn&quot;)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Attribute(name = &quot;st-AccValidationStatus&quot;)\r\n    \tprivate String accountStatus;\r\n    \r\n    \t@Attribute(name = &quot;st-entryStatus&quot;)\r\n    \tprivate String validationStatus;\r\n    \r\n    \t@Attribute(name = &quot;whenCreated&quot;)\r\n    \tprivate String creationDate;\r\n    \r\n    \t@Attribute(name = &quot;st-ValidatedOn&quot;)\r\n    \tprivate String validationDate;\r\n    \r\n    \t@Attribute(name = &quot;st-ValidatedBy&quot;)\r\n    \tprivate String validatedBy;\r\n    \r\n    \t@Attribute(name = &quot;st-currentLogon&quot;)\r\n    \tprivate String lastLogon;\r\n    \r\n    \t@Attribute(name = &quot;st-loginRedirectURL&quot;)\r\n    \tprivate String loginRedirectUrl;\r\n    \r\n    \t@Attribute(name = &quot;st-jvCompany&quot;)\r\n    \tprivate String jvCode;\r\n    \r\n    \t@Attribute(name = &quot;sAMAccountName&quot;)\r\n    \tprivate String samAccount;\r\n    \r\n    \t@Attribute(name = &quot;st-userSpecifedCompany&quot;)\r\n    \tprivate String employerName;\r\n    \r\n    \t@Attribute(name = &quot;postalCode&quot;)\r\n    \tprivate String zipCode;\r\n    \t\r\n    \t@Attribute(name=&quot;st-xduserid&quot;)\r\n    \tprivate String xdUserId;\r\n    \t\r\n    \t@Attribute(name=&quot;st-Logincount&quot;)\r\n    \tprivate String loginCount;\r\n    \t\r\n    \t@Attribute(name=&quot;unicodePwd&quot;)\r\n    \tprivate byte[] unicodePassword;\r\n    \t\r\n    \t@Attribute(name=&quot;userAccountControl&quot;)\r\n    \tprivate String userAccountControl;\r\n    \t\r\n    \t@Attribute(name=&quot;st-AccLastValidated&quot;)\r\n    \tprivate String userAccLastValidated;\r\n    \t\r\n    \t@Attribute(name=&quot;st-secretQuestion&quot;)\r\n    \tprivate String userSecretQuestion;\r\n\r\n        @Attribute(name=&quot;st-secretAnswer&quot;)\r\n        private String userAnswerToSecretQuestion;\r\n    \t}\r\n\r\nJava Class for Password computation:\r\n\r\n    /**\r\n     * Add unicode Password to userObject.\r\n     * Ldap does not allow to set password/userAccountControl during creation of user by design, So need to update user after creation in AD with password and userAccountControl.\r\n     * @param password\r\n     */\r\n    private void addPasswordToUserProfile(String password) {\r\n    \r\n    \tString newQuotedPassword = &quot;\\&quot;&quot; +  password + &quot;\\&quot;&quot;;\r\n    \ttry {\r\n    \t\tbyte[] newUnicodePassword = newQuotedPassword.getBytes(&quot;UTF-16LE&quot;);\r\n    \t\t\tint UF_NORMAL_ACCOUNT = 0x0200;\r\n    \t\t\tint UF_PASSWORD_EXPIRED = 0x800000;\r\n    \t\t\tadUserBean.setUserAccountControl(Integer.toString(UF_NORMAL_ACCOUNT + UF_PASSWORD_EXPIRED));\r\n    \t\t\tadUserBean.setUnicodePassword(newUnicodePassword);\r\n    \t} catch (UnsupportedEncodingException e) {\r\n    \t\tlogger.catching(e);\r\n    \t}\r\n    }\r\n\t\r\n\r\n\r\nRepository.Java\r\n\r\n\r\n    @Repository\r\n    public class UserADRepository {\r\n    \r\n    \t@Autowired\r\n    \tprivate LdapTemplate ldapTemplate;\r\n    \r\n    \tpublic User create(User user) {\r\n    \t\tldapTemplate.create(user);\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic User findByFullName(String fullName) {\r\n    \t\treturn ldapTemplate.findOne(\r\n    \t\t\t\tLdapQueryBuilder.query().where(&quot;cn&quot;).is(fullName), User.class);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Find user in LDAP based on User SamAccountName\r\n    \t * @param samAccount\r\n    \t * @return\r\n    \t */\r\n    \tpublic User findBySamAccountName(String samAccount) {\r\n    \t\tUser usr = null;\r\n    \t\ttry {\r\n    \t\t\tusr = ldapTemplate.findOne(\r\n    \t\t\t\t\tLdapQueryBuilder.query().where(&quot;sAMAccountName&quot;)\r\n    \t\t\t\t\t\t\t.is(samAccount), User.class);\r\n    \t\t} catch (EmptyResultDataAccessException emptyException) {\r\n    \t\t\treturn usr;\r\n    \t\t}\r\n    \t\treturn usr;\r\n    \t}\r\n     \r\n    /**\r\n     * Find user in LDAP based on User DN (distinguisedName) \r\n     * @param dn\r\n     * @return\r\n     */\r\n    \tpublic User findByDn(Name dn) {\r\n    \t\tUser usr = null;\r\n    \t\ttry {\r\n    \t\t\tusr = ldapTemplate.findByDn(dn, User.class);\r\n    \t\t} catch (NameNotFoundException e) {\r\n    \t\t\treturn usr;\r\n    \t\t}\r\n    \t\treturn usr;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Update user in AD \r\n    \t * @param User\r\n    \t */\r\n    \tpublic void update(User User) {\r\n    \t\tldapTemplate.update(User);\r\n    \t}\r\n    \r\n    \tpublic void delete(User User) {\r\n    \t\tldapTemplate.delete(User);\r\n    \t}\r\n\r\n\r\nThanks in advance for kind help or direction to resolve this issue.\r\n\r\n\r\n\r\n","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>I am new to Spring LDAP and Active directory and facing issue while updating password for new created user in AD.</p>\n\n<p>Using SPRING LDAP I have first created User in AD successfully and then tried to update password and useraccountcontrol of user when I getting below exception.\nWe have been trying for last 1 week and not able to resolve. Any help/direction is highly appreciated.</p>\n\n<p>I have been through many blogs and  tried as mentioned in below two blogs but still blocked and getting same exception:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6797955/how-do-i-resolve-will-not-perform-ms-ad-reply-when-trying-to-change-password-i\">How do I resolve &quot;WILL_NOT_PERFORM&quot; MS AD reply when trying to change password in scala w/ the unboundid LDAP SDK?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4322243/adding-a-user-with-a-password-in-active-directory-ldap\">Adding a user with a password in Active Directory LDAP</a></p>\n\n<p>Stacktrace:</p>\n\n<pre><code>16:43:56,991 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:26) - HelperDao.getNextUserId(): entry\n\n16:43:57,007 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) Hibernate:   SELECT LTRIM(TO_CHAR( IP_USER_XDUSERID_SEQ.nextval, '000000000000000000000000000')) ID from dual\n\n16:43:57,164 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:30) - HelperDao.getNextUserId(): exit\n\n16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) 16:47:17.051 [http-localhost-127.0.0.1-8080-1] ERROR com.st.liotroevo.web.dao.UserADRepository - catching\n\n16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000200D: SvcErr: DSID-031A0FC0, problem 5003 (WILL_NOT_PERFORM), data 0\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) \n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3160) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1478) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:273) ~[?:?]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:190) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:179) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.transaction.compensating.support.CompensatingTransactionUtils.performOperation(CompensatingTransactionUtils.java:69) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:85) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.proxy.$Proxy69.modifyAttributes(Unknown Source) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.dao.UserADRepository.update(UserADRepository.java:104) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.UserService.updateUser(UserService.java:92) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.serviceImpl.IPRegistrationServiceImpl.createUser(IPRegistrationServiceImpl.java:72) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.ws.common.invocation.AbstractInvocationHandlerJSE.invoke(AbstractInvocationHandlerJSE.java:111) [jbossws-common-2.0.2.GA.jar!/:2.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker._invokeInternal(JBossWSInvoker.java:181) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:127) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-rt-core-2.4.6.jar!/:2.4.6]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.FutureTask.run(FutureTask.java:262) [?:1.7.0_45]\n</code></pre>\n\n<p>Below is the code snippet:</p>\n\n<pre><code>ldap.url=ldaps://url:636\nldap.userDn=CN=IP User,OU=AdminAccounts,DC=stp-qa,DC=st,DC=com\nldap.password=dummyPass\nldap.base=OU=ST,OU=People,DC=stp-qa,DC=st,DC=com\nldap.clean=false\n\n@Entry(objectClasses = {  \"top\", \"person\", \"organizationalPerson\",\"user\",\"st-individualpassportuser\"})\npublic final class User {\n\n    @Id\n    private Name dn;\n\n    @Attribute(name = \"mail\")\n    private String email;\n\n    @Attribute(name = \"cn\")\n    @DnAttribute(value=\"cn\",index=0)\n    private String fullName;\n\n    @Attribute(name = \"givenName\")\n    private String firstName;\n\n    @Attribute(name = \"sn\")\n    private String lastName;\n\n    @Attribute(name = \"st-AccValidationStatus\")\n    private String accountStatus;\n\n    @Attribute(name = \"st-entryStatus\")\n    private String validationStatus;\n\n    @Attribute(name = \"whenCreated\")\n    private String creationDate;\n\n    @Attribute(name = \"st-ValidatedOn\")\n    private String validationDate;\n\n    @Attribute(name = \"st-ValidatedBy\")\n    private String validatedBy;\n\n    @Attribute(name = \"st-currentLogon\")\n    private String lastLogon;\n\n    @Attribute(name = \"st-loginRedirectURL\")\n    private String loginRedirectUrl;\n\n    @Attribute(name = \"st-jvCompany\")\n    private String jvCode;\n\n    @Attribute(name = \"sAMAccountName\")\n    private String samAccount;\n\n    @Attribute(name = \"st-userSpecifedCompany\")\n    private String employerName;\n\n    @Attribute(name = \"postalCode\")\n    private String zipCode;\n\n    @Attribute(name=\"st-xduserid\")\n    private String xdUserId;\n\n    @Attribute(name=\"st-Logincount\")\n    private String loginCount;\n\n    @Attribute(name=\"unicodePwd\")\n    private byte[] unicodePassword;\n\n    @Attribute(name=\"userAccountControl\")\n    private String userAccountControl;\n\n    @Attribute(name=\"st-AccLastValidated\")\n    private String userAccLastValidated;\n\n    @Attribute(name=\"st-secretQuestion\")\n    private String userSecretQuestion;\n\n    @Attribute(name=\"st-secretAnswer\")\n    private String userAnswerToSecretQuestion;\n    }\n</code></pre>\n\n<p>Java Class for Password computation:</p>\n\n<pre><code>/**\n * Add unicode Password to userObject.\n * Ldap does not allow to set password/userAccountControl during creation of user by design, So need to update user after creation in AD with password and userAccountControl.\n * @param password\n */\nprivate void addPasswordToUserProfile(String password) {\n\n    String newQuotedPassword = \"\\\"\" +  password + \"\\\"\";\n    try {\n        byte[] newUnicodePassword = newQuotedPassword.getBytes(\"UTF-16LE\");\n            int UF_NORMAL_ACCOUNT = 0x0200;\n            int UF_PASSWORD_EXPIRED = 0x800000;\n            adUserBean.setUserAccountControl(Integer.toString(UF_NORMAL_ACCOUNT + UF_PASSWORD_EXPIRED));\n            adUserBean.setUnicodePassword(newUnicodePassword);\n    } catch (UnsupportedEncodingException e) {\n        logger.catching(e);\n    }\n}\n</code></pre>\n\n<p>Repository.Java</p>\n\n<pre><code>@Repository\npublic class UserADRepository {\n\n    @Autowired\n    private LdapTemplate ldapTemplate;\n\n    public User create(User user) {\n        ldapTemplate.create(user);\n        return user;\n    }\n\n    public User findByFullName(String fullName) {\n        return ldapTemplate.findOne(\n                LdapQueryBuilder.query().where(\"cn\").is(fullName), User.class);\n    }\n\n    /**\n     * Find user in LDAP based on User SamAccountName\n     * @param samAccount\n     * @return\n     */\n    public User findBySamAccountName(String samAccount) {\n        User usr = null;\n        try {\n            usr = ldapTemplate.findOne(\n                    LdapQueryBuilder.query().where(\"sAMAccountName\")\n                            .is(samAccount), User.class);\n        } catch (EmptyResultDataAccessException emptyException) {\n            return usr;\n        }\n        return usr;\n    }\n\n/**\n * Find user in LDAP based on User DN (distinguisedName) \n * @param dn\n * @return\n */\n    public User findByDn(Name dn) {\n        User usr = null;\n        try {\n            usr = ldapTemplate.findByDn(dn, User.class);\n        } catch (NameNotFoundException e) {\n            return usr;\n        }\n        return usr;\n    }\n\n    /**\n     * Update user in AD \n     * @param User\n     */\n    public void update(User User) {\n        ldapTemplate.update(User);\n    }\n\n    public void delete(User User) {\n        ldapTemplate.delete(User);\n    }\n</code></pre>\n\n<p>Thanks in advance for kind help or direction to resolve this issue.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1679401412,"post_id":75800705,"comment_id":133711793,"body_markdown":"What DB driver do you use?","body":"What DB driver do you use?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679402147,"creation_date":1679402147,"answer_id":75801304,"question_id":75800705,"body_markdown":"Solution 1\r\n\r\nAdd an annotation to all Timestamp entity field like:\r\n\r\n    @JdbcTypeCode(TIMESTAMP)\r\n\r\nSolution 2\r\n\r\nAdd a property to application.properties\r\n\r\n  \r\n    spring.jpa.properties.hibernate.type.preferred_instant_jdbc_type=TIMESTAMP\r\n\r\n(based on the answer by @Gavin King: [here][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75519276/spring-boot-3-hibernate-6-migration-timezone-mapping-issues","title":"Hibernate: Unable to extract JDBC value for position `2`","body":"<p>Solution 1</p>\n<p>Add an annotation to all Timestamp entity field like:</p>\n<pre><code>@JdbcTypeCode(TIMESTAMP)\n</code></pre>\n<p>Solution 2</p>\n<p>Add a property to application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.type.preferred_instant_jdbc_type=TIMESTAMP\n</code></pre>\n<p>(based on the answer by @Gavin King: <a href=\"https://stackoverflow.com/questions/75519276/spring-boot-3-hibernate-6-migration-timezone-mapping-issues\">here</a>)</p>\n"}],"owner":{"account_id":1479307,"reputation":3972,"user_id":1389023,"display_name":"Istvan Devai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679402147,"creation_date":1679398786,"question_id":75800705,"body_markdown":"I&#39;m using Spring/Hibernate to just read up a very simple entity using a .findAll() on a Spring repository, however get the following exception:\r\n\r\n```\r\norg.hibernate.HibernateException: Unable to extract JDBC value for position `2`\r\n```\r\n\r\nIn the debugger I see that this particular column is a TIMESTAMP column in postgres and Hibernate is trying to extract the value from the resultset using the InstantAsTimestampWithTimeZoneJdbcType class. However, this class is getting a SQLFeatureNotSupportedException with message &quot;Not supported yet.&quot;. This looks very strange, Hibernate is incompatible with itself? (Using Hibernate 6.1.6).","title":"Hibernate: Unable to extract JDBC value for position `2`","body":"<p>I'm using Spring/Hibernate to just read up a very simple entity using a .findAll() on a Spring repository, however get the following exception:</p>\n<pre><code>org.hibernate.HibernateException: Unable to extract JDBC value for position `2`\n</code></pre>\n<p>In the debugger I see that this particular column is a TIMESTAMP column in postgres and Hibernate is trying to extract the value from the resultset using the InstantAsTimestampWithTimeZoneJdbcType class. However, this class is getting a SQLFeatureNotSupportedException with message &quot;Not supported yet.&quot;. This looks very strange, Hibernate is incompatible with itself? (Using Hibernate 6.1.6).</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17458169,"reputation":76,"user_id":12656475,"display_name":"XaMi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679402127,"creation_date":1679402127,"answer_id":75801297,"question_id":75800714,"body_markdown":"Use Constraintslayout Percentage Bias Like: &quot;layout_constraintHorizontal_bias:&quot;0.4&quot; or Guidelines in both views and handle with same percentages \r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n                  android:id=&quot;@+id/guidelineVertialLeft&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:orientation=&quot;vertical&quot;\r\n                  app:layout_constraintGuide_percent=&quot;.04&quot; /&gt;","title":"Can components be aligned with each other, belonging to different views?","body":"<p>Use Constraintslayout Percentage Bias Like: &quot;layout_constraintHorizontal_bias:&quot;0.4&quot; or Guidelines in both views and handle with same percentages</p>\n<pre><code>&lt;androidx.constraintlayout.widget.Guideline\n              android:id=&quot;@+id/guidelineVertialLeft&quot;\n              android:layout_width=&quot;wrap_content&quot;\n              android:layout_height=&quot;wrap_content&quot;\n              android:orientation=&quot;vertical&quot;\n              app:layout_constraintGuide_percent=&quot;.04&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75801297,"answer_count":1,"score":0,"last_activity_date":1679402127,"creation_date":1679398839,"question_id":75800714,"body_markdown":" I am building a view (.xml) that is made up, in turn, by components of other views (different.xml).\r\n\r\n Is there a way to align one icon with another, even if they belong to different views?\r\n\r\n That is, in a fragment the upper part is loaded from an .xml with an icon and the lower part from another .xml with another icon. Both also have other components. I want to align the mentioned icons from one .xml and the other to each other.\r\n\r\n In the image that I attached would be, for example, the share icon and the heart icon.\r\n\r\n As a requirement, I can&#39;t modify the components (for example, use &quot;include&quot;, or copy one and paste it into the other view).\r\n\r\n    Thanks in advance :)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mXpOz.png","title":"Can components be aligned with each other, belonging to different views?","body":"<p>I am building a view (.xml) that is made up, in turn, by components of other views (different.xml).</p>\n<p>Is there a way to align one icon with another, even if they belong to different views?</p>\n<p>That is, in a fragment the upper part is loaded from an .xml with an icon and the lower part from another .xml with another icon. Both also have other components. I want to align the mentioned icons from one .xml and the other to each other.</p>\n<p>In the image that I attached would be, for example, the share icon and the heart icon.</p>\n<p>As a requirement, I can't modify the components (for example, use &quot;include&quot;, or copy one and paste it into the other view).</p>\n<pre><code>Thanks in advance :)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mXpOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXpOz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","thread-safety","concurrenthashmap"],"answers":[{"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1678800521,"post_id":75733729,"comment_id":133600616,"body_markdown":"A really good answer would explain why it doesn&#39;t work.","body":"A really good answer would explain why it doesn&#39;t work."},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1678834890,"post_id":75733729,"comment_id":133609936,"body_markdown":"Sorry but I still don&#39;t understand why there is a race between size and put ? The block is synchronized so thread are going to wait there no? Or are you saying the synchronized doesn&#39;t work on `ConcurrentMap` objects in general ?","body":"Sorry but I still don&#39;t understand why there is a race between size and put ? The block is synchronized so thread are going to wait there no? Or are you saying the synchronized doesn&#39;t work on <code>ConcurrentMap</code> objects in general ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678887697,"post_id":75733729,"comment_id":133620003,"body_markdown":"`synchronized` will not protect from any other operations on the `ConcurrentMap` running at the same time.","body":"<code>synchronized</code> will not protect from any other operations on the <code>ConcurrentMap</code> running at the same time."},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1679020715,"post_id":75733729,"comment_id":133650132,"body_markdown":"Understood, so.. just by using core java, how can we avoid adding something to the map if the size &gt; 5 ? It&#39;s not possible ?\nWould `synchronized(myObject) {...}` work ? `myObject` simply being `Object myObject = new Object()}` ?\nI have managed to reproduce the race condition synchronizing on `myMap` but not using a simple object","body":"Understood, so.. just by using core java, how can we avoid adding something to the map if the size &gt; 5 ? It&#39;s not possible ? Would <code>synchronized(myObject) {...}</code> work ? <code>myObject</code> simply being <code>Object myObject = new Object()}</code> ? I have managed to reproduce the race condition synchronizing on <code>myMap</code> but not using a simple object"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1679031141,"post_id":75733729,"comment_id":133651255,"body_markdown":"It&#39;s not actually possible to do this correctly and safely with a ConcurrentMap in the presence of other access or modification.  A Collections.synchronizedMap can do it, but will be slow as usual.","body":"It&#39;s not actually possible to do this correctly and safely with a ConcurrentMap in the presence of other access or modification.  A Collections.synchronizedMap can do it, but will be slow as usual."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678800888,"creation_date":1678800231,"answer_id":75733729,"question_id":75733281,"body_markdown":"Not only is there not a smart way to do that, but the way you&#39;ve shown won&#39;t work either.  `synchronized` does not lock a ConcurrentHashMap, which uses an entirely different mechanism for its internal concurrency; you still have the race between the `size` call and `put`.\r\n\r\n\r\nYou might consider a caching library like [Caffeine](https://github.com/ben-manes/caffeine), which might address your needs here.","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>Not only is there not a smart way to do that, but the way you've shown won't work either.  <code>synchronized</code> does not lock a ConcurrentHashMap, which uses an entirely different mechanism for its internal concurrency; you still have the race between the <code>size</code> call and <code>put</code>.</p>\n<p>You might consider a caching library like <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>, which might address your needs here.</p>\n"},{"comments":[{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1679020333,"post_id":75737506,"comment_id":133650096,"body_markdown":"use the .size the computeIfAbsent ? is that really thread safe?","body":"use the .size the computeIfAbsent ? is that really thread safe?"},{"owner":{"account_id":27309522,"reputation":11,"user_id":21344674,"display_name":"Shivangi Pandey"},"score":0,"creation_date":1679080452,"post_id":75737506,"comment_id":133663138,"body_markdown":"Yes, .size might not completely solve the issue being thread unsafe, something like this might be used for iterating through the ConcurrentHashMap https://stackoverflow.com/a/3768661/21344674","body":"Yes, .size might not completely solve the issue being thread unsafe, something like this might be used for iterating through the ConcurrentHashMap <a href=\"https://stackoverflow.com/a/3768661/21344674\">stackoverflow.com/a/3768661/21344674</a>"}],"tags":[],"owner":{"account_id":27309522,"reputation":11,"user_id":21344674,"display_name":"Shivangi Pandey"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679401776,"creation_date":1678821632,"answer_id":75737506,"question_id":75733281,"body_markdown":"   One way can be to use the in-built `computeIfAbsent(Key, Function)` function and check for specific key being present and use the Function part of `computeIfAbsent()` to calculate value for key. \r\n\r\nYou can add condition to check for size of `ConcurrentHashMap`.\r\n\r\n        int initialCapacity = 1;\r\n        ConcurrentHashMap&lt;String,String&gt; a=new ConcurrentHashMap&lt;&gt;();\r\n        a.computeIfAbsent(&quot;b&quot;,x-&gt;{return a.size()&lt;=initialCapacity?&quot;800&quot;:null;});\r\n        System.out.println(a);\r\n\r\nFor reference, check this [link][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/concurrenthashmap-computeifabsent-method-in-java-with-examples/","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>One way can be to use the in-built <code>computeIfAbsent(Key, Function)</code> function and check for specific key being present and use the Function part of <code>computeIfAbsent()</code> to calculate value for key.</p>\n<p>You can add condition to check for size of <code>ConcurrentHashMap</code>.</p>\n<pre><code>    int initialCapacity = 1;\n    ConcurrentHashMap&lt;String,String&gt; a=new ConcurrentHashMap&lt;&gt;();\n    a.computeIfAbsent(&quot;b&quot;,x-&gt;{return a.size()&lt;=initialCapacity?&quot;800&quot;:null;});\n    System.out.println(a);\n</code></pre>\n<p>For reference, check this <a href=\"https://www.geeksforgeeks.org/concurrenthashmap-computeifabsent-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679401776,"creation_date":1678797764,"question_id":75733281,"body_markdown":"Is there a smarter way than ?\r\n\r\n```\r\n....\r\nsynchronized (myMap) {\r\n            if (myMap.size() &lt; 5) {\r\n                myMap.putIfAbsent(&quot;something&quot;, true);\r\n            }\r\n        }\r\n...\r\n```  \r\n\r\nUPDATE:\r\n\r\nAfter trying several things I think I might have come up with something better using an AtomicInteger dictating if we can add to the map\r\n\r\n```\r\nif (count.accumulateAndGet(1, (left, right) -&gt; left &gt;= 6 ? 6 : left + right ) &lt;= 5) {\r\n            myMap.putIfAbsent(&quot;something&quot;, true);\r\n        }\r\n```","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>Is there a smarter way than ?</p>\n<pre><code>....\nsynchronized (myMap) {\n            if (myMap.size() &lt; 5) {\n                myMap.putIfAbsent(&quot;something&quot;, true);\n            }\n        }\n...\n</code></pre>\n<p>UPDATE:</p>\n<p>After trying several things I think I might have come up with something better using an AtomicInteger dictating if we can add to the map</p>\n<pre><code>if (count.accumulateAndGet(1, (left, right) -&gt; left &gt;= 6 ? 6 : left + right ) &lt;= 5) {\n            myMap.putIfAbsent(&quot;something&quot;, true);\n        }\n</code></pre>\n"},{"tags":["java","android","android-activity","android-imageview"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1381320736,"post_id":19271609,"comment_id":28531771,"body_markdown":"in onResume, the screen has not been laid out yet, all components are still 0x0. Consider calling getMeasuredWidth instead, or calling it after the layout is done","body":"in onResume, the screen has not been laid out yet, all components are still 0x0. Consider calling getMeasuredWidth instead, or calling it after the layout is done"},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":1,"creation_date":1381321492,"post_id":19271609,"comment_id":28532285,"body_markdown":"@njzk2 getMeasuredWidth() also returns 0.","body":"@njzk2 getMeasuredWidth() also returns 0."}],"answers":[{"comments":[{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":1,"creation_date":1381320957,"post_id":19271643,"comment_id":28531922,"body_markdown":"Does not onResume is called after onStart? I placed my code in onResume.","body":"Does not onResume is called after onStart? I placed my code in onResume."},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321446,"post_id":19271643,"comment_id":28532261,"body_markdown":"Ok. When is this called?","body":"Ok. When is this called?"},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381321705,"post_id":19271643,"comment_id":28532450,"body_markdown":"see this http://developer.android.com/reference/android/view/Window.Callback.html#onWindowFocusChanged%28boolean%29","body":"see this <a href=\"http://developer.android.com/reference/android/view/Window.Callback.html#onWindowFocusChanged%28boolean%29\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/&hellip;</a>"},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321912,"post_id":19271643,"comment_id":28532599,"body_markdown":"I read it but doc says it is called when window focus is changed. But when its focus is changed? Can it be called multiple times? I don&#39;t want that scenario.","body":"I read it but doc says it is called when window focus is changed. But when its focus is changed? Can it be called multiple times? I don&#39;t want that scenario."},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381322207,"post_id":19271643,"comment_id":28532792,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/38879/discussion-between-sanket-kachhela-and-akash)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/38879/discussion-between-sanket-kachhela-and-akash\">continue this discussion in chat</a>"},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381323018,"post_id":19271643,"comment_id":28533341,"body_markdown":"have you implemented onWindowFocusChanged?","body":"have you implemented onWindowFocusChanged?"},{"owner":{"account_id":1002348,"reputation":497,"user_id":1016936,"accept_rate":70,"display_name":"janex"},"score":0,"creation_date":1418705580,"post_id":19271643,"comment_id":43426763,"body_markdown":"This still returns 0 for me.Even on the onWindowFocusChanged method of the activity.","body":"This still returns 0 for me.Even on the onWindowFocusChanged method of the activity."}],"tags":[],"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"comment_count":7,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1490107028,"creation_date":1381320667,"answer_id":19271643,"question_id":19271609,"body_markdown":"Where you calling `getWidth()` and `getHeight()` on ImageView? If you calling from `onCreate()` in activity, it won&#39;t work. You need to wait for activity window to attached and then call `getWidth() and getHeight()` on ImageView. You can try calling `getWidth() and getHeight()` from `onWindowFocusChanged()` method of your activity.\r\n\r\ncall on onWindowFocusChanged like this way \r\n\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n    \t// TODO Auto-generated method stub\r\n    \tsuper.onWindowFocusChanged(hasFocus);\r\n         if (hasFocus) {\r\n            ImageView img = (ImageView) findViewById(R.id.img);\r\n            Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n         }\r\n    \r\n    \t}","title":"ImageView.getWidth() returns 0","body":"<p>Where you calling <code>getWidth()</code> and <code>getHeight()</code> on ImageView? If you calling from <code>onCreate()</code> in activity, it won't work. You need to wait for activity window to attached and then call <code>getWidth() and getHeight()</code> on ImageView. You can try calling <code>getWidth() and getHeight()</code> from <code>onWindowFocusChanged()</code> method of your activity.</p>\n\n<p>call on onWindowFocusChanged like this way </p>\n\n<pre><code>public void onWindowFocusChanged(boolean hasFocus) {\n    // TODO Auto-generated method stub\n    super.onWindowFocusChanged(hasFocus);\n     if (hasFocus) {\n        ImageView img = (ImageView) findViewById(R.id.img);\n        Log.d(TAG, \"width : \" + img.getWidth());\n     }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321585,"post_id":19271962,"comment_id":28532354,"body_markdown":"It is just an example. I use this code for manyImageViews and not all have fix size. Some use wrap_content.","body":"It is just an example. I use this code for manyImageViews and not all have fix size. Some use wrap_content."},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":1,"creation_date":1381321616,"post_id":19271962,"comment_id":28532373,"body_markdown":"getWidth and getHeight may vary as per device resolution for same images so you can not use like this way","body":"getWidth and getHeight may vary as per device resolution for same images so you can not use like this way"},{"owner":{"account_id":403363,"reputation":1203,"user_id":771072,"display_name":"linakis"},"score":0,"creation_date":1381321831,"post_id":19271962,"comment_id":28532532,"body_markdown":"Ok... and you down vote for that? You should use better examples :P @SanketKachhela that is not true, dimens resource takes care of that (if we are talking about predefined sizes (like the ones used in the original question)","body":"Ok... and you down vote for that? You should use better examples :P @SanketKachhela that is not true, dimens resource takes care of that (if we are talking about predefined sizes (like the ones used in the original question)"},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1428461611,"post_id":19271962,"comment_id":47167351,"body_markdown":"Probably not the best practice, but nothing else is working for me, and I really need to move on and do other work in my app. I will note to revisit this problem if I need a UI for different devices, but for now a fixed `ImageView` with relative alignment in the UI works, so thanks.","body":"Probably not the best practice, but nothing else is working for me, and I really need to move on and do other work in my app. I will note to revisit this problem if I need a UI for different devices, but for now a fixed <code>ImageView</code> with relative alignment in the UI works, so thanks."}],"tags":[],"owner":{"account_id":403363,"reputation":1203,"user_id":771072,"display_name":"linakis"},"comment_count":4,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1381321529,"creation_date":1381321529,"answer_id":19271962,"question_id":19271609,"body_markdown":"Since you already have a &quot;fixed&quot; width imageView of 200dp why don&#39;t you just put it in dimens.xml\r\n\r\n    &lt;dimen name=&quot;image_width&quot;&gt;200dp&lt;/dimen&gt;\r\n\r\nand then simply\r\n\r\n    int width = (int) getResources().getDimension(R.dimen.image_Width)","title":"ImageView.getWidth() returns 0","body":"<p>Since you already have a \"fixed\" width imageView of 200dp why don't you just put it in dimens.xml</p>\n\n<pre><code>&lt;dimen name=\"image_width\"&gt;200dp&lt;/dimen&gt;\n</code></pre>\n\n<p>and then simply</p>\n\n<pre><code>int width = (int) getResources().getDimension(R.dimen.image_Width)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365836,"reputation":1274,"user_id":710994,"accept_rate":67,"display_name":"M.ElSaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382074345,"creation_date":1382074345,"answer_id":19442286,"question_id":19271609,"body_markdown":"well i found many many questions related that are duplicate to this question, and most of the answers were not fit for my case.\r\n\r\nI have come up with a solution that may fit for yours as it does for me. Simply, i have created a custom `ImageView` and added a new callback `OnSizeChangedCallback` that is being called whenever the size of the view is changed to non zero values.\r\n\r\nHere&#39;s a code sample of my own:\r\n    \r\n    public class AvatarImageView extends ImageView{\r\n    \r\n        private OnImageViewSizeChanged sizeCallback = null;\r\n        \r\n        public AvatarImageView(Context context) {\r\n            super(context);\r\n        }\r\n        \r\n        public AvatarImageView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n\r\n        public AvatarImageView(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n        }\r\n        \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            if (w == 0 || h == 0) {\r\n                return;\r\n            }\r\n            else{\r\n                if(sizeCallback != null)\r\n                    sizeCallback.invoke(this, w, h);\r\n            }\r\n            \r\n        }\r\n        \r\n        public void setOnImageViewSizeChanged(OnImageViewSizeChanged _callback){\r\n            this.sizeCallback = _callback;\r\n            \r\n            if (getWidth() != 0 &amp;&amp; getHeight() != 0) {\r\n                _callback.invoke(this, getWidth(), getHeight());\r\n            }\r\n        }\r\n        \r\n        public interface OnImageViewSizeChanged{\r\n            public void invoke(ImageView v, int w, int h);\r\n        }\r\n    }\r\n\r\n\r\nand you can simply use it as follows:\r\n\r\n    final AvatarImageView avatarIcon = (AvatarImageView) findViewById(R.id.avatarImg);\r\n    avatarIcon.setOnImageViewSizeChanged(new AvatarImageView.OnImageViewSizeChanged() {\r\n        @Override\r\n        public void invoke(ImageView v, final int w, final int h) {\r\n                // Do whatever you want with w and h which are non zero values ...\r\n        }\r\n    });\r\n\r\nrelated questions:\r\n\r\n 1. [views-getwidth-and-getheight-returning-0][1]\r\n 2. [android-imageview-return-getwidth-getheight-zero][2]\r\n 3. [android-get-width-returns-0][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18268915/views-getwidth-and-getheight-returning-0\r\n  [2]: https://stackoverflow.com/questions/14029513/android-imageview-return-getwidth-getheight-zero\r\n  [3]: https://stackoverflow.com/questions/3591784/android-get-width-returns-0","title":"ImageView.getWidth() returns 0","body":"<p>well i found many many questions related that are duplicate to this question, and most of the answers were not fit for my case.</p>\n\n<p>I have come up with a solution that may fit for yours as it does for me. Simply, i have created a custom <code>ImageView</code> and added a new callback <code>OnSizeChangedCallback</code> that is being called whenever the size of the view is changed to non zero values.</p>\n\n<p>Here's a code sample of my own:</p>\n\n<pre><code>public class AvatarImageView extends ImageView{\n\n    private OnImageViewSizeChanged sizeCallback = null;\n\n    public AvatarImageView(Context context) {\n        super(context);\n    }\n\n    public AvatarImageView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public AvatarImageView(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        if (w == 0 || h == 0) {\n            return;\n        }\n        else{\n            if(sizeCallback != null)\n                sizeCallback.invoke(this, w, h);\n        }\n\n    }\n\n    public void setOnImageViewSizeChanged(OnImageViewSizeChanged _callback){\n        this.sizeCallback = _callback;\n\n        if (getWidth() != 0 &amp;&amp; getHeight() != 0) {\n            _callback.invoke(this, getWidth(), getHeight());\n        }\n    }\n\n    public interface OnImageViewSizeChanged{\n        public void invoke(ImageView v, int w, int h);\n    }\n}\n</code></pre>\n\n<p>and you can simply use it as follows:</p>\n\n<pre><code>final AvatarImageView avatarIcon = (AvatarImageView) findViewById(R.id.avatarImg);\navatarIcon.setOnImageViewSizeChanged(new AvatarImageView.OnImageViewSizeChanged() {\n    @Override\n    public void invoke(ImageView v, final int w, final int h) {\n            // Do whatever you want with w and h which are non zero values ...\n    }\n});\n</code></pre>\n\n<p>related questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/18268915/views-getwidth-and-getheight-returning-0\">views-getwidth-and-getheight-returning-0</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14029513/android-imageview-return-getwidth-getheight-zero\">android-imageview-return-getwidth-getheight-zero</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3591784/android-get-width-returns-0\">android-get-width-returns-0</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15622395,"reputation":184,"user_id":11270882,"display_name":"尹劍平"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598495872,"creation_date":1598495872,"answer_id":63608325,"question_id":19271609,"body_markdown":"You need to wait for ImageView inflated. To try `OnLayoutChangeListener`.\r\n\r\n\r\n            imageView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n                //\r\n                if (imageView.getWidth() &gt; 0 &amp;&amp; imageView.getHeight() &gt; 0) {\r\n                    // put your code here...\r\n                }\r\n            });","title":"ImageView.getWidth() returns 0","body":"<p>You need to wait for ImageView inflated. To try <code>OnLayoutChangeListener</code>.</p>\n<pre><code>        imageView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n            //\n            if (imageView.getWidth() &gt; 0 &amp;&amp; imageView.getHeight() &gt; 0) {\n                // put your code here...\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2869366,"reputation":16311,"user_id":2463035,"accept_rate":84,"display_name":"Vasiliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401744,"creation_date":1679401744,"answer_id":75801223,"question_id":19271609,"body_markdown":"Just came around this old question. Basically, the solution is to wait for the ImageView (or any other View, really) to be measured and &quot;drawn&quot;. You can achieve that with implementing some late lifecycle callback (e.g. `onGlobalLayout`), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.\r\n\r\nThe caveat here is that you mustn&#39;t block the UI thread while waitig. It&#39;s very easy to achieve if you use Kotlin Coroutines:\r\n\r\n```\r\noverride fun onStart() {\r\n        super.onStart()\r\n       \r\n        coroutineScope.launch {\r\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\r\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\r\n                delay(50)\r\n            }\r\n\r\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\r\n                data, imgBarcode.width, imgBarcode.height\r\n            )\r\n\r\n            imgBarcode.setImageBitmap(barcodeBitmap)\r\n        }\r\n    }\r\n```\r\n\r\nIf you don&#39;t use Coroutines, you&#39;ll need to use e.g. `Handler.postDelayed()` calls to implement the same feature.","title":"ImageView.getWidth() returns 0","body":"<p>Just came around this old question. Basically, the solution is to wait for the ImageView (or any other View, really) to be measured and &quot;drawn&quot;. You can achieve that with implementing some late lifecycle callback (e.g. <code>onGlobalLayout</code>), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.</p>\n<p>The caveat here is that you mustn't block the UI thread while waitig. It's very easy to achieve if you use Kotlin Coroutines:</p>\n<pre><code>override fun onStart() {\n        super.onStart()\n       \n        coroutineScope.launch {\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\n                delay(50)\n            }\n\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\n                data, imgBarcode.width, imgBarcode.height\n            )\n\n            imgBarcode.setImageBitmap(barcodeBitmap)\n        }\n    }\n</code></pre>\n<p>If you don't use Coroutines, you'll need to use e.g. <code>Handler.postDelayed()</code> calls to implement the same feature.</p>\n"}],"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30913,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":19271643,"answer_count":5,"score":23,"last_activity_date":1679401744,"creation_date":1381320569,"question_id":19271609,"body_markdown":"I get imageView&#39;s width 0. Below is code.\r\n\r\n**xml file :**\r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/img&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot; /&gt;\r\n\r\n**Activity :**\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        ImageView img = (ImageView) findViewById(R.id.img);\r\n        Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n    }\r\n\r\nI don&#39;t want to use below code as I need to place this code in so many places.\r\n\r\n    ViewTreeObserver vto = img.getViewTreeObserver();\r\n\t\tvto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\r\n\t\t    public boolean onPreDraw() {\r\n\t\t    \tImageView img = (ImageView) findViewById(R.id.img);\r\n                        Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n\t\t        return true;\r\n\t\t    }\r\n\t\t});\r\n\r\n**My workaround :**\r\nI actually later did not need to add this code in an activity. I added it to a non-activity class and instead of ImageView&#39;s width I used Bitmap image&#39;s width and now does not have this problem.","title":"ImageView.getWidth() returns 0","body":"<p>I get imageView's width 0. Below is code.</p>\n\n<p><strong>xml file :</strong></p>\n\n<pre><code>&lt;ImageView\n        android:id=\"@+id/img\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"200dp\" /&gt;\n</code></pre>\n\n<p><strong>Activity :</strong></p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    ImageView img = (ImageView) findViewById(R.id.img);\n    Log.d(TAG, \"width : \" + img.getWidth());\n}\n</code></pre>\n\n<p>I don't want to use below code as I need to place this code in so many places.</p>\n\n<pre><code>ViewTreeObserver vto = img.getViewTreeObserver();\n    vto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\n        public boolean onPreDraw() {\n            ImageView img = (ImageView) findViewById(R.id.img);\n                    Log.d(TAG, \"width : \" + img.getWidth());\n            return true;\n        }\n    });\n</code></pre>\n\n<p><strong>My workaround :</strong>\nI actually later did not need to add this code in an activity. I added it to a non-activity class and instead of ImageView's width I used Bitmap image's width and now does not have this problem.</p>\n"},{"tags":["java","android","debugging","bluetooth"],"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1679252330,"post_id":75784215,"comment_id":133683950,"body_markdown":"Probably https://stackoverflow.com/questions/67722950/android-12-new-bluetooth-permissions.","body":"Probably <a href=\"https://stackoverflow.com/questions/67722950/android-12-new-bluetooth-permissions\" title=\"android 12 new bluetooth permissions\">stackoverflow.com/questions/67722950/&hellip;</a>."},{"owner":{"account_id":11726832,"reputation":19,"user_id":21361218,"display_name":"lemonJuice"},"score":0,"creation_date":1679287206,"post_id":75784215,"comment_id":133687966,"body_markdown":"It is in Kotlin, any resourse that helps how to implement it in java?","body":"It is in Kotlin, any resourse that helps how to implement it in java?"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1679298641,"post_id":75784215,"comment_id":133689661,"body_markdown":"Well, it is straight forward, no need of difficult Java code. Just replace `val` with variable definition, add `;` at the end, etc.","body":"Well, it is straight forward, no need of difficult Java code. Just replace <code>val</code> with variable definition, add <code>;</code> at the end, etc."}],"owner":{"account_id":11726832,"reputation":19,"user_id":21361218,"display_name":"lemonJuice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679401707,"creation_date":1679251347,"question_id":75784215,"body_markdown":"I am following [this](https://github.com/clopresti/rpi-bluetooth/blob/master/Android/app/src/main/java/net/clopresti/rpibluetooth/MainActivity.java) code to control the LED on the Raspberry pi with an android application using bluetooth.","title":"Android app run time error and app crashes","body":"<p>I am following <a href=\"https://github.com/clopresti/rpi-bluetooth/blob/master/Android/app/src/main/java/net/clopresti/rpibluetooth/MainActivity.java\" rel=\"nofollow noreferrer\">this</a> code to control the LED on the Raspberry pi with an android application using bluetooth.</p>\n"},{"tags":["java","multithreading","producer-consumer","java-threads"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679401305,"creation_date":1679401305,"answer_id":75801155,"question_id":75800321,"body_markdown":"Here&#39;s one\\* problem: Suppose a consumer calls `waitOnEmpty()`. **Q:** After that call returns, is the queue empty or not empty? **A:** You have no way of telling.\r\n\r\nThe problem is, you have two consumers. If one of them is waiting for the queue to become non-empty, then chances are, both of them are waiting. If the producer puts one number into the queue and then wakes both consumers, then both `waitOnEmpty()` calls will return, but only one of two consumers will be able to remove a number from the queue. The other consumer will find the queue to be empty even though `waitOnEmpty()` returned.\r\n\r\nWhen you use `wait()` and `notify()`, you need to do it like this:\r\n\r\n**Consumer**\r\n\r\n``` lang-java\r\nsynchronized (lock) {\r\n    while (conditionIsNotMet()) {\r\n        lock.wait();\r\n    }\r\n    // !! While still in the SAME `synchronized` block!!\r\n    doThingThatRequiresConditionToBeMet();\r\n}\r\n```\r\n\r\n**Producer**\r\n\r\n``` lang-java\r\nsynchronized (lock)  {\r\n    doThingThatMeetsCondition();\r\n    // !! While still in the SAME `synchronized` block!!\r\n    lock.notifyAll();\r\n}\r\n```\r\n\r\nThe important part is, the consumer does not unlock the lock after testing the condition and before doing whatever requires the condition to be true. Staying in that same `synchronized` block is what keeps other threads (especially, other consumers) from changing whether or not the condition still _is_ true after the consumer has tested it.\r\n\r\n-------------\r\n\r\n\\* Maybe not the only problem. I haven&#39;t thoroughly reviewed your code.","title":"A Deadlock Problem When Dealing with Producer-Consumer Java","body":"<p>Here's one* problem: Suppose a consumer calls <code>waitOnEmpty()</code>. <strong>Q:</strong> After that call returns, is the queue empty or not empty? <strong>A:</strong> You have no way of telling.</p>\n<p>The problem is, you have two consumers. If one of them is waiting for the queue to become non-empty, then chances are, both of them are waiting. If the producer puts one number into the queue and then wakes both consumers, then both <code>waitOnEmpty()</code> calls will return, but only one of two consumers will be able to remove a number from the queue. The other consumer will find the queue to be empty even though <code>waitOnEmpty()</code> returned.</p>\n<p>When you use <code>wait()</code> and <code>notify()</code>, you need to do it like this:</p>\n<p><strong>Consumer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (lock) {\n    while (conditionIsNotMet()) {\n        lock.wait();\n    }\n    // !! While still in the SAME `synchronized` block!!\n    doThingThatRequiresConditionToBeMet();\n}\n</code></pre>\n<p><strong>Producer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (lock)  {\n    doThingThatMeetsCondition();\n    // !! While still in the SAME `synchronized` block!!\n    lock.notifyAll();\n}\n</code></pre>\n<p>The important part is, the consumer does not unlock the lock after testing the condition and before doing whatever requires the condition to be true. Staying in that same <code>synchronized</code> block is what keeps other threads (especially, other consumers) from changing whether or not the condition still <em>is</em> true after the consumer has tested it.</p>\n<hr />\n<p>* Maybe not the only problem. I haven't thoroughly reviewed your code.</p>\n"}],"owner":{"account_id":19298352,"reputation":77,"user_id":14106839,"display_name":"Snefru Clone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679401305,"creation_date":1679396355,"question_id":75800321,"body_markdown":"I am trying to implement producer and consumer problem in different ways. Hence, I created two consumer and one producer threads. The task is to print even numbers in Consumer1 Thread and odd numbers in Consumer2 Thread. I know that I am using anti-patterns and do everything incorrectly, but it is just an experimentation. \r\n\r\nAnyways, whenever I run the program, I do come across with potentially deadlock situations. \r\nI assume this because the program prints nothing to the console. \r\n\r\n**Class Info:**\r\n\r\nNumbersThread: the class at the top of inheritance three. Provides shared Queue\r\n\r\nProducerThread: randomly generates numbers in range 0 to 49 and pushes them to Queue. \r\n\r\nConsumer1Thread: prints even numbers in the Queue\r\n\r\nConsumer2Thread: prints odd numbers in the Queue\r\n \r\n\r\nHere is class-by-class code:\r\n\r\n## NumbersThread ##\r\n\r\n    class NumbersThread extends Thread {\r\n    private int capacity = 64;\r\n    private final Queue&lt;Integer&gt; numbersQueue;\r\n\r\n    \r\n    // field variables, constructors etc.\r\n    \r\n    // peek, poll, and add methods synchronized on numbersQueue\r\n\r\n    protected final void notifyAllForFull() {\r\n        synchronized (FULL_LOCK) {\r\n            FULL_LOCK.notifyAll();\r\n        }\r\n    }\r\n\r\n    protected final void notifyAllForEmpty() {\r\n        synchronized (EMPTY_LOCK) {\r\n            EMPTY_LOCK.notifyAll();\r\n        }\r\n    }\r\n\r\n    protected final void waitOnEmpty() throws InterruptedException {\r\n        synchronized (EMPTY_LOCK) {\r\n            EMPTY_LOCK.wait();\r\n        }\r\n    }\r\n\r\n    protected final void waitOnFull() throws InterruptedException {\r\n        synchronized (FULL_LOCK) {\r\n            FULL_LOCK.wait();\r\n        }\r\n    }\r\n}\r\n\r\n## Producer Thread ##\r\n\r\n    class ProducerThread extends NumbersThread {\r\n\r\n    ProducerThread(Queue&lt;Integer&gt; numbersQueue) {\r\n        super(numbersQueue);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        run:\r\n        while (true) {\r\n            while (isFull()) {\r\n                try {\r\n                   waitOnFull();\r\n                } catch (InterruptedException e) {\r\n                    break run;\r\n                }\r\n            }\r\n\r\n            var rand = new Random();\r\n            add(rand.nextInt(50));\r\n            notifyAllForEmpty();\r\n        }\r\n    }\r\n}\r\n\r\n## Consumer1 Thread (the same logic with Consumer2) ##\r\n\r\n    class Consumer1Thread extends NumbersThread {\r\n    Consumer1Thread(Queue&lt;Integer&gt; numbersQueue) {\r\n        super(numbersQueue);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        run:\r\n        while (true) {\r\n\r\n            while (isEmpty()) {\r\n                try {\r\n                    waitOnEmpty();\r\n                } catch (InterruptedException e) {\r\n                    break run;\r\n                }\r\n            }\r\n\r\n            Integer num = peek();\r\n\r\n            if (num != null &amp;&amp; num % 2 == 0  ) {\r\n                int n = poll();\r\n                notifyAllForFull();\r\n                System.out.println(&quot;Consumer 1 (even): &quot; + n);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nAny helps will be appreciated!\r\n","title":"A Deadlock Problem When Dealing with Producer-Consumer Java","body":"<p>I am trying to implement producer and consumer problem in different ways. Hence, I created two consumer and one producer threads. The task is to print even numbers in Consumer1 Thread and odd numbers in Consumer2 Thread. I know that I am using anti-patterns and do everything incorrectly, but it is just an experimentation.</p>\n<p>Anyways, whenever I run the program, I do come across with potentially deadlock situations.\nI assume this because the program prints nothing to the console.</p>\n<p><strong>Class Info:</strong></p>\n<p>NumbersThread: the class at the top of inheritance three. Provides shared Queue</p>\n<p>ProducerThread: randomly generates numbers in range 0 to 49 and pushes them to Queue.</p>\n<p>Consumer1Thread: prints even numbers in the Queue</p>\n<p>Consumer2Thread: prints odd numbers in the Queue</p>\n<p>Here is class-by-class code:</p>\n<h2>NumbersThread</h2>\n<pre><code>class NumbersThread extends Thread {\nprivate int capacity = 64;\nprivate final Queue&lt;Integer&gt; numbersQueue;\n\n\n// field variables, constructors etc.\n\n// peek, poll, and add methods synchronized on numbersQueue\n\nprotected final void notifyAllForFull() {\n    synchronized (FULL_LOCK) {\n        FULL_LOCK.notifyAll();\n    }\n}\n\nprotected final void notifyAllForEmpty() {\n    synchronized (EMPTY_LOCK) {\n        EMPTY_LOCK.notifyAll();\n    }\n}\n\nprotected final void waitOnEmpty() throws InterruptedException {\n    synchronized (EMPTY_LOCK) {\n        EMPTY_LOCK.wait();\n    }\n}\n\nprotected final void waitOnFull() throws InterruptedException {\n    synchronized (FULL_LOCK) {\n        FULL_LOCK.wait();\n    }\n}\n</code></pre>\n<p>}</p>\n<h2>Producer Thread</h2>\n<pre><code>class ProducerThread extends NumbersThread {\n\nProducerThread(Queue&lt;Integer&gt; numbersQueue) {\n    super(numbersQueue);\n}\n\n@Override\npublic void run() {\n    run:\n    while (true) {\n        while (isFull()) {\n            try {\n               waitOnFull();\n            } catch (InterruptedException e) {\n                break run;\n            }\n        }\n\n        var rand = new Random();\n        add(rand.nextInt(50));\n        notifyAllForEmpty();\n    }\n}\n</code></pre>\n<p>}</p>\n<h2>Consumer1 Thread (the same logic with Consumer2)</h2>\n<pre><code>class Consumer1Thread extends NumbersThread {\nConsumer1Thread(Queue&lt;Integer&gt; numbersQueue) {\n    super(numbersQueue);\n}\n\n@Override\npublic void run() {\n    run:\n    while (true) {\n\n        while (isEmpty()) {\n            try {\n                waitOnEmpty();\n            } catch (InterruptedException e) {\n                break run;\n            }\n        }\n\n        Integer num = peek();\n\n        if (num != null &amp;&amp; num % 2 == 0  ) {\n            int n = poll();\n            notifyAllForFull();\n            System.out.println(&quot;Consumer 1 (even): &quot; + n);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Any helps will be appreciated!</p>\n"},{"tags":["java","jhipster","jdl"],"comments":[{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1542888324,"post_id":53430632,"comment_id":93735137,"body_markdown":"Is it complusory to give application &gt; config ?","body":"Is it complusory to give application &gt; config ?"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1542888350,"post_id":53430632,"comment_id":93735148,"body_markdown":"And why it is not creating entity in java code ?","body":"And why it is not creating entity in java code ?"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543471442,"post_id":53430632,"comment_id":93933317,"body_markdown":"I tried to add it in code editor, but I can&#39;t able to, and that 4 space in first is to show it in diff line, otherwise it was taking everything in 1 line","body":"I tried to add it in code editor, but I can&#39;t able to, and that 4 space in first is to show it in diff line, otherwise it was taking everything in 1 line"}],"answers":[{"comments":[{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543469401,"post_id":53506288,"comment_id":93932625,"body_markdown":"But, then how come it will create Language, Job, Employee etc table.","body":"But, then how come it will create Language, Job, Employee etc table."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543469481,"post_id":53506288,"comment_id":93932652,"body_markdown":"According to your file will it create only predefined table like user, authority, Changelog entity. Right?","body":"According to your file will it create only predefined table like user, authority, Changelog entity. Right?"},{"owner":{"account_id":4609207,"reputation":6264,"user_id":3737815,"display_name":"Jon Ruddell"},"score":0,"creation_date":1543514631,"post_id":53506288,"comment_id":93956701,"body_markdown":"You should include your entities in the JDL, I didn&#39;t so the answer would not be super long.  Updated the answer to show that.","body":"You should include your entities in the JDL, I didn&#39;t so the answer would not be super long.  Updated the answer to show that."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1544086898,"post_id":53506288,"comment_id":94153975,"body_markdown":"Got it. I missed the last line in hurry. Thank you so much","body":"Got it. I missed the last line in hurry. Thank you so much"}],"tags":[],"owner":{"account_id":4609207,"reputation":6264,"user_id":3737815,"display_name":"Jon Ruddell"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543514594,"creation_date":1543344581,"answer_id":53506288,"question_id":53430632,"body_markdown":"You need to assign the entities to the application, using `entities *` in the app config:\r\n\r\n    application {\r\n        config {\r\n            prodDatabaseType mysql\r\n            buildTool maven\r\n        }\r\n        entities *\r\n    }\r\n    // your entities here\r\n\r\n","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>You need to assign the entities to the application, using <code>entities *</code> in the app config:</p>\n\n<pre><code>application {\n    config {\n        prodDatabaseType mysql\n        buildTool maven\n    }\n    entities *\n}\n// your entities here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401174,"creation_date":1543469883,"answer_id":53532512,"question_id":53430632,"body_markdown":"Got the answer. \r\n\r\nWhen I gave according to question, it created only according to application&gt;config like mysql db, maven build tool and when I run it, it didn&#39;t ask any other options like basename, port, marketplace, instead of those 2 fields(db, buildtool), it took everything default value. \r\n\r\nAnd for entity, it wrote not overriding entity/extra entity not found\r\n\r\n**Solution**\r\n\r\n1.First run only &quot;jhipster&quot; and choose options\r\n\r\n    &gt;jhipster\r\n\r\n2.import jdl fine with out application&gt;config properties\r\n\r\n    &gt;jhipster import-jdl jdlfilename.jdl\r\n\r\njdlfilename can be in jdl or jh format and if it is outside of directory give absolute path","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>Got the answer.</p>\n<p>When I gave according to question, it created only according to application&gt;config like mysql db, maven build tool and when I run it, it didn't ask any other options like basename, port, marketplace, instead of those 2 fields(db, buildtool), it took everything default value.</p>\n<p>And for entity, it wrote not overriding entity/extra entity not found</p>\n<p><strong>Solution</strong></p>\n<p>1.First run only &quot;jhipster&quot; and choose options</p>\n<pre><code>&gt;jhipster\n</code></pre>\n<p>2.import jdl fine with out application&gt;config properties</p>\n<pre><code>&gt;jhipster import-jdl jdlfilename.jdl\n</code></pre>\n<p>jdlfilename can be in jdl or jh format and if it is outside of directory give absolute path</p>\n"}],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679401174,"creation_date":1542888291,"question_id":53430632,"body_markdown":"I have used `jhipster import-jdl my_file.jdl`\r\nJhipster version V5.7.0\r\n\r\nAnd content of that jdl file is(below(IDK application?config is not showing in code editor in stack overflow))\r\n\r\n    \r\n    application {\r\n        config {\r\n            prodDatabaseType mysql\r\n            buildTool maven\r\n        }\r\n    }\r\n\r\n    entity Region {\r\n        regionName String\r\n    }\r\n\r\n    entity Country {\r\n        countryName String\r\n    }\r\n\r\n    // an ignored comment\r\n    /** not an ignored comment */\r\n    entity Location {\r\n        streetAddress String,\r\n        postalCode String,\r\n        city String,\r\n        stateProvince String\r\n    }\r\n\r\n    entity Department {\r\n        departmentName String required\r\n    }\r\n\r\n    entity Task {\r\n        title String,\r\n        description String\r\n    }\r\n\r\n    entity Employee {\r\n        firstName String,\r\n        lastName String,\r\n        email String,\r\n        phoneNumber String,\r\n        hireDate Instant,\r\n        salary Long,\r\n        commissionPct Long\r\n    }\r\n\r\n    entity Job {\r\n        jobTitle String,\r\n        minSalary Long,\r\n        maxSalary Long\r\n    }\r\n\r\n    entity JobHistory {\r\n        startDate Instant,\r\n        endDate Instant,\r\n        language Language\r\n    }\r\n\r\n    enum Language {\r\n        FRENCH, ENGLISH, SPANISH\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Country{region} to Region\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Location{country} to Country\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Department{location} to Location\r\n    }\r\n\r\n    relationship ManyToMany {\r\n        Job{task(title)} to Task{job}\r\n    }\r\n\r\n    relationship OneToMany {\r\n        Employee{job} to Job,\r\n        Department{employee} to\tEmployee\r\n    }\r\n\r\n    relationship ManyToOne {\r\n        Employee{manager} to Employee\r\n    }\r\n\r\n    relationship OneToOne {\r\n        JobHistory{job} to Job,\r\n        JobHistory{department} to Department,\r\n        JobHistory{employee} to Employee\r\n    }\r\n\r\n    // Set pagination options\r\n    paginate JobHistory, Employee with infinite-scroll\r\n    paginate Job with pagination\r\n\r\n    // Use Data Transfert Objects (DTO)\r\n    // dto * with mapstruct\r\n\r\n    // Set service options to all except few\r\n    //service all with serviceImpl except Employee, Job\r\n\r\n    // Set an angular suffix\r\n    // angularSuffix * with mySuffix`\r\n\r\nAnd cmd showing\r\n\r\n    DEBUG!  importState exportedEntities: 0\r\n    DEBUG!  importState exportedApplications: 1  \r\n    DEBUG!  importState exportedDeployments: 0\r\n    INFO! No change in entity configurations, no entities were updated.\r\n\r\nWhen I am not mentioning application &gt; config details, it is giving error as \r\n\r\n    Error: The JDL object and the database type are both mandatory.        \r\n    ERROR! Error while parsing applications and entities from the JDL Error: The JDL object and the database type are both mandatory.\r\n\r\nCan anyone tell me what I am doing wrong ?","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>I have used <code>jhipster import-jdl my_file.jdl</code>\nJhipster version V5.7.0</p>\n\n<p>And content of that jdl file is(below(IDK application?config is not showing in code editor in stack overflow))</p>\n\n<pre><code>application {\n    config {\n        prodDatabaseType mysql\n        buildTool maven\n    }\n}\n\nentity Region {\n    regionName String\n}\n\nentity Country {\n    countryName String\n}\n\n// an ignored comment\n/** not an ignored comment */\nentity Location {\n    streetAddress String,\n    postalCode String,\n    city String,\n    stateProvince String\n}\n\nentity Department {\n    departmentName String required\n}\n\nentity Task {\n    title String,\n    description String\n}\n\nentity Employee {\n    firstName String,\n    lastName String,\n    email String,\n    phoneNumber String,\n    hireDate Instant,\n    salary Long,\n    commissionPct Long\n}\n\nentity Job {\n    jobTitle String,\n    minSalary Long,\n    maxSalary Long\n}\n\nentity JobHistory {\n    startDate Instant,\n    endDate Instant,\n    language Language\n}\n\nenum Language {\n    FRENCH, ENGLISH, SPANISH\n}\n\nrelationship OneToOne {\n    Country{region} to Region\n}\n\nrelationship OneToOne {\n    Location{country} to Country\n}\n\nrelationship OneToOne {\n    Department{location} to Location\n}\n\nrelationship ManyToMany {\n    Job{task(title)} to Task{job}\n}\n\nrelationship OneToMany {\n    Employee{job} to Job,\n    Department{employee} to Employee\n}\n\nrelationship ManyToOne {\n    Employee{manager} to Employee\n}\n\nrelationship OneToOne {\n    JobHistory{job} to Job,\n    JobHistory{department} to Department,\n    JobHistory{employee} to Employee\n}\n\n// Set pagination options\npaginate JobHistory, Employee with infinite-scroll\npaginate Job with pagination\n\n// Use Data Transfert Objects (DTO)\n// dto * with mapstruct\n\n// Set service options to all except few\n//service all with serviceImpl except Employee, Job\n\n// Set an angular suffix\n// angularSuffix * with mySuffix`\n</code></pre>\n\n<p>And cmd showing</p>\n\n<pre><code>DEBUG!  importState exportedEntities: 0\nDEBUG!  importState exportedApplications: 1  \nDEBUG!  importState exportedDeployments: 0\nINFO! No change in entity configurations, no entities were updated.\n</code></pre>\n\n<p>When I am not mentioning application > config details, it is giving error as </p>\n\n<pre><code>Error: The JDL object and the database type are both mandatory.        \nERROR! Error while parsing applications and entities from the JDL Error: The JDL object and the database type are both mandatory.\n</code></pre>\n\n<p>Can anyone tell me what I am doing wrong ?</p>\n"},{"tags":["java","spring","serialization","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1679422451,"post_id":75801112,"comment_id":133718566,"body_markdown":"I tried your code just modyifing the classname to `Data` and it works fine with jackson v14 (no spring env).","body":"I tried your code just modyifing the classname to <code>Data</code> and it works fine with jackson v14 (no spring env)."}],"owner":{"account_id":8364428,"reputation":81,"user_id":6281618,"display_name":"Hydralore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679401098,"creation_date":1679401098,"question_id":75801112,"body_markdown":"Recently I&#39;ve been working on de-serializing XML into Java POJO&#39;s using Jackson. I&#39;ve noted that any properties which have more than one instance within the XML, and have an underscore in their name, do not get processed correctly. \r\n\r\nFor example, say we have the below XML\r\n\r\n    &lt;data&gt;\r\n        &lt;some_element&gt;Element One&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Two&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Three&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Four&lt;/some_element&gt;\r\n    &lt;/data&gt;\r\n\r\nAnd a class\r\n\r\n    public class data {\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        @JacksonXmlProperty(localName = &quot;some_element&quot;)\r\n        private List&lt;String&gt; elements;\r\n    }\r\n\r\nI find that the list will only ever contain one element, which is the final one shown in the XML, in this case &quot;ElementFour&quot;\r\n\r\nI have found that if I were to remove the &quot;_&quot; from the XML (some_element -&gt; someelment) then all items would be populated within the list. \r\n\r\nUnfortunately I am unable to alter this XML in production as it is provided by a 3rd party. I have checked various annotations but have yet to find a solution for this issue. ","title":"Java - Jackson - Deserializing XML elements into a list where the xml properties have underscores","body":"<p>Recently I've been working on de-serializing XML into Java POJO's using Jackson. I've noted that any properties which have more than one instance within the XML, and have an underscore in their name, do not get processed correctly.</p>\n<p>For example, say we have the below XML</p>\n<pre><code>&lt;data&gt;\n    &lt;some_element&gt;Element One&lt;/some_element&gt;\n    &lt;some_element&gt;Element Two&lt;/some_element&gt;\n    &lt;some_element&gt;Element Three&lt;/some_element&gt;\n    &lt;some_element&gt;Element Four&lt;/some_element&gt;\n&lt;/data&gt;\n</code></pre>\n<p>And a class</p>\n<pre><code>public class data {\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;some_element&quot;)\n    private List&lt;String&gt; elements;\n}\n</code></pre>\n<p>I find that the list will only ever contain one element, which is the final one shown in the XML, in this case &quot;ElementFour&quot;</p>\n<p>I have found that if I were to remove the &quot;_&quot; from the XML (some_element -&gt; someelment) then all items would be populated within the list.</p>\n<p>Unfortunately I am unable to alter this XML in production as it is provided by a 3rd party. I have checked various annotations but have yet to find a solution for this issue.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":4,"creation_date":1679387005,"post_id":75798708,"comment_id":133708010,"body_markdown":"can you share what you have tried so far?","body":"can you share what you have tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679390333,"creation_date":1679390333,"answer_id":75799276,"question_id":75798708,"body_markdown":"I think you should pass request param as a number\r\n\r\nthen it will be simple as the validation assumes the value from 1-7\r\n\r\nOf course, you will also have to update the enum to numeric\r\n\r\nIf you keep the request as a string, you can parse it to number\r\n\r\nThis is topic example for parse to number: [here][1]\r\n\r\n\r\n  [1]: https://stackabuse.com/java-check-if-string-is-a-number/","title":"Validating rest end point with enum","body":"<p>I think you should pass request param as a number</p>\n<p>then it will be simple as the validation assumes the value from 1-7</p>\n<p>Of course, you will also have to update the enum to numeric</p>\n<p>If you keep the request as a string, you can parse it to number</p>\n<p>This is topic example for parse to number: <a href=\"https://stackabuse.com/java-check-if-string-is-a-number/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679395933,"creation_date":1679395570,"answer_id":75800192,"question_id":75798708,"body_markdown":"There is standard java.time.DayOfWeek. It has following method\r\n\r\n```\r\nprivate static final DayOfWeek[] ENUMS = DayOfWeek.values();\r\npublic static DayOfWeek of(int dayOfWeek) {\r\n        if (dayOfWeek &lt; 1 || dayOfWeek &gt; 7) {\r\n            throw new DateTimeException(&quot;Invalid value for DayOfWeek: &quot; + dayOfWeek);\r\n        }\r\n        return ENUMS[dayOfWeek - 1];\r\n    }\r\n```\r\n\r\nThink about using this enum instead of yours.  \r\nOr you could write the same method in your enum.  \r\nOr you could easily convert this enum to your like this:  \r\n`Day day = Day.valueOf(java.time.DayOfWeek.of(dayParam).name())` given that days names match.\r\n    \r\nAnd I think Spring will automatically convert &quot;01&quot; string to 1 Integer if you want, so should be able to use @RequestParam Integer.\r\n\r\n---------\r\n\r\nOr you could do something much more verbose\r\n\r\n```\r\npublic enum Day {\r\n    MONDAY(&quot;01&quot;), ... ;\r\n\r\n\tprivate static final Map&lt;String, Day&gt; daysByValue = Stream.of(values())\r\n\t\t.collect(Collectors.toMap(d -&gt; d.value, Function.identity()));\r\n\r\n    private final String value;\r\n\r\n    private Event(String value) {\r\n        this.value = value;\r\n    }\r\n\t\r\n\tpublic static Optional&lt;Day&gt; forValue(String value) {\r\n        return Optional.ofNullable(daysByValue.get(value));\r\n    }\r\n}\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new StringToDayConverter());\r\n    }\r\n\t\r\n\tprivate static class StringToDayConverter implements Converter&lt;String, Day&gt; {\r\n        @Override\r\n        public Day convert(String source) {\r\n            return Day.forValue(source).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Could not parse day &#39;&quot;+source+&#39;\\&#39;&#39;););\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@RestController\r\nclass ...\r\n\r\n@GetMapping\r\nvoid get(@RequestParam Day day) { ...\r\n","title":"Validating rest end point with enum","body":"<p>There is standard java.time.DayOfWeek. It has following method</p>\n<pre><code>private static final DayOfWeek[] ENUMS = DayOfWeek.values();\npublic static DayOfWeek of(int dayOfWeek) {\n        if (dayOfWeek &lt; 1 || dayOfWeek &gt; 7) {\n            throw new DateTimeException(&quot;Invalid value for DayOfWeek: &quot; + dayOfWeek);\n        }\n        return ENUMS[dayOfWeek - 1];\n    }\n</code></pre>\n<p>Think about using this enum instead of yours.<br />\nOr you could write the same method in your enum.<br />\nOr you could easily convert this enum to your like this:<br />\n<code>Day day = Day.valueOf(java.time.DayOfWeek.of(dayParam).name())</code> given that days names match.</p>\n<p>And I think Spring will automatically convert &quot;01&quot; string to 1 Integer if you want, so should be able to use @RequestParam Integer.</p>\n<hr />\n<p>Or you could do something much more verbose</p>\n<pre><code>public enum Day {\n    MONDAY(&quot;01&quot;), ... ;\n\n    private static final Map&lt;String, Day&gt; daysByValue = Stream.of(values())\n        .collect(Collectors.toMap(d -&gt; d.value, Function.identity()));\n\n    private final String value;\n\n    private Event(String value) {\n        this.value = value;\n    }\n    \n    public static Optional&lt;Day&gt; forValue(String value) {\n        return Optional.ofNullable(daysByValue.get(value));\n    }\n}\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToDayConverter());\n    }\n    \n    private static class StringToDayConverter implements Converter&lt;String, Day&gt; {\n        @Override\n        public Day convert(String source) {\n            return Day.forValue(source).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Could not parse day '&quot;+source+'\\''););\n        }\n    }\n}\n\n\n@RestController\nclass ...\n\n@GetMapping\nvoid get(@RequestParam Day day) { ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400884,"creation_date":1679400884,"answer_id":75801075,"question_id":75798708,"body_markdown":"A simple way would be to add a validation method to your enum\r\n\r\n    public static boolean isValid(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .anyMatch(day -&gt; day.value.equals(s));\r\n    }\r\n\r\nThen check the value you get from the param.\r\n\r\nYou could also try to parse the value into a `Day`\r\n\r\n    public static Optional&lt;Day&gt; parse(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .filter(day -&gt; day.value.equals(s))\r\n                .findFirst();\r\n    }\r\n    \r\nor if you prefer an exception instead of dealing with a nullable\r\n\r\n    public static Day parse(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .filter(day -&gt; day.value.equals(s))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No Day found for value &quot; + s));\r\n    }\r\n\r\n","title":"Validating rest end point with enum","body":"<p>A simple way would be to add a validation method to your enum</p>\n<pre><code>public static boolean isValid(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .anyMatch(day -&gt; day.value.equals(s));\n}\n</code></pre>\n<p>Then check the value you get from the param.</p>\n<p>You could also try to parse the value into a <code>Day</code></p>\n<pre><code>public static Optional&lt;Day&gt; parse(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .filter(day -&gt; day.value.equals(s))\n            .findFirst();\n}\n</code></pre>\n<p>or if you prefer an exception instead of dealing with a nullable</p>\n<pre><code>public static Day parse(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .filter(day -&gt; day.value.equals(s))\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No Day found for value &quot; + s));\n}\n</code></pre>\n"}],"owner":{"account_id":9913536,"reputation":33,"user_id":7339305,"display_name":"AmolRavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679400884,"creation_date":1679386509,"question_id":75798708,"body_markdown":"I have the enum as below, in the rest call I will get &quot;01&quot; or &quot;02&quot; as params then these are valid, but if I get &quot;09&quot; then it&#39;s INVALID. \r\nHow I can validate?\r\n\r\n    public enum Day {\r\n    \r\n        MONDAY(&quot;01&quot;),\r\n        TUESDAY(&quot;02&quot;),\r\n        WEDNESDAY(&quot;03&quot;),\r\n        THURSDAY(&quot;04&quot;),\r\n        FRIDAY(&quot;05&quot;),\r\n        SATURDAY(&quot;06&quot;),\r\n        SUNDAY(&quot;07&quot;);\r\n    \r\n        private final String value;\r\n    \r\n        private Event(String value) {\r\n            this.value = value;\r\n        }\r\n    }","title":"Validating rest end point with enum","body":"<p>I have the enum as below, in the rest call I will get &quot;01&quot; or &quot;02&quot; as params then these are valid, but if I get &quot;09&quot; then it's INVALID.\nHow I can validate?</p>\n<pre><code>public enum Day {\n\n    MONDAY(&quot;01&quot;),\n    TUESDAY(&quot;02&quot;),\n    WEDNESDAY(&quot;03&quot;),\n    THURSDAY(&quot;04&quot;),\n    FRIDAY(&quot;05&quot;),\n    SATURDAY(&quot;06&quot;),\n    SUNDAY(&quot;07&quot;);\n\n    private final String value;\n\n    private Event(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","indexoutofboundsexception"],"comments":[{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":1,"creation_date":1255837968,"post_id":1583940,"comment_id":1446130,"body_markdown":"unless you catch the exception, I don&#39;t know how you plan to handle the case where the character length is greater than the String length.","body":"unless you catch the exception, I don&#39;t know how you plan to handle the case where the character length is greater than the String length."},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":3,"creation_date":1255838220,"post_id":1583940,"comment_id":1446139,"body_markdown":"Why? What&#39;s your aversion to checking length or catching an exception?","body":"Why? What&#39;s your aversion to checking length or catching an exception?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1255838341,"post_id":1583940,"comment_id":1446145,"body_markdown":"OUt of curiosity, why do you want to avoid the size check. This is not C.","body":"OUt of curiosity, why do you want to avoid the size check. This is not C."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255839733,"post_id":1583940,"comment_id":1446225,"body_markdown":"what I meant to express was a desire to avoid an if/else block, not an aversion to actually checking length.","body":"what I meant to express was a desire to avoid an if/else block, not an aversion to actually checking length."},{"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"score":0,"creation_date":1550014621,"post_id":1583940,"comment_id":96112026,"body_markdown":"potential duplicate of : https://stackoverflow.com/questions/8499698/trim-a-string-based-on-the-string-length/35252333#35252333","body":"potential duplicate of : <a href=\"https://stackoverflow.com/questions/8499698/trim-a-string-based-on-the-string-length/35252333#35252333\" title=\"trim a string based on the string length\">stackoverflow.com/questions/8499698/&hellip;</a>"},{"owner":{"account_id":12348172,"reputation":1962,"user_id":9008140,"display_name":"John Lord"},"score":0,"creation_date":1650470057,"post_id":1583940,"comment_id":127125777,"body_markdown":"the absolute simplest is just by making sure your string is longer by appending spaces to the end first.","body":"the absolute simplest is just by making sure your string is longer by appending spaces to the end first."}],"answers":[{"comments":[{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":1,"creation_date":1255837622,"post_id":1583943,"comment_id":1446113,"body_markdown":"this risks getting an IndexOutOfBoundsException","body":"this risks getting an IndexOutOfBoundsException"},{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":0,"creation_date":1255837691,"post_id":1583943,"comment_id":1446118,"body_markdown":"By the way, if you plan on programming in Java, you should try to memorize most of the API methods for String (http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html).","body":"By the way, if you plan on programming in Java, you should try to memorize most of the API methods for String (<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html</a>)."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255837740,"post_id":1583943,"comment_id":1446123,"body_markdown":"I&#39;ve already ruled out substring, at least by itself, as _not_ the answer.","body":"I&#39;ve already ruled out substring, at least by itself, as <i>not</i> the answer."},{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":1,"creation_date":1255838096,"post_id":1583943,"comment_id":1446134,"body_markdown":"You have to either check the size or catch the exception.  May I ask why doing either of these would not work in your situation?","body":"You have to either check the size or catch the exception.  May I ask why doing either of these would not work in your situation?"},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255838411,"post_id":1583943,"comment_id":1446148,"body_markdown":"in the middle of building a string. they&#39;d work, just would break up the flow of the code.","body":"in the middle of building a string. they&#39;d work, just would break up the flow of the code."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1255838655,"post_id":1583943,"comment_id":1446158,"body_markdown":"@Matt - it is better to design your algorithm so that exceptions don&#39;t occur.  Firstly, creating and catching exceptions can be expensive operations.  Secondly, exception handling can be complicated, especially if there are resources that need to be closed / freed / etc.","body":"@Matt - it is better to design your algorithm so that exceptions don&#39;t occur.  Firstly, creating and catching exceptions can be expensive operations.  Secondly, exception handling can be complicated, especially if there are resources that need to be closed / freed / etc."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":3,"creation_date":1408512139,"post_id":1583943,"comment_id":39612031,"body_markdown":"How is this an answer to the question?  The question was asking how to NOT have to do a size check first, nor cause an exception that needs to be caught.","body":"How is this an answer to the question?  The question was asking how to NOT have to do a size check first, nor cause an exception that needs to be caught."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699349423,"post_id":1583943,"comment_id":136517323,"body_markdown":"Apart from not answering the question it does not even have matching parentheses.","body":"Apart from not answering the question it does not even have matching parentheses."}],"tags":[],"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"comment_count":8,"down_vote_count":9,"up_vote_count":14,"is_accepted":false,"score":5,"last_activity_date":1255837868,"creation_date":1255837510,"answer_id":1583943,"question_id":1583940,"body_markdown":"Use the substring method, as follows:\r\n\r\n    int n = 8;\r\n    String s = &quot;Hello, World!&quot;;\r\n    System.out.println(s.substring(0,n);\r\n\r\nIf n is greater than the length of the string, this will throw an exception, as one commenter has pointed out.  one simple solution is to wrap all this in the condition `if(s.length()&lt;n)` in your `else` clause, you can choose whether you just want to print/return the whole String or handle it another way.","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Use the substring method, as follows:</p>\n\n<pre><code>int n = 8;\nString s = \"Hello, World!\";\nSystem.out.println(s.substring(0,n);\n</code></pre>\n\n<p>If n is greater than the length of the string, this will throw an exception, as one commenter has pointed out.  one simple solution is to wrap all this in the condition <code>if(s.length()&lt;n)</code> in your <code>else</code> clause, you can choose whether you just want to print/return the whole String or handle it another way.</p>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1408511831,"post_id":1583968,"comment_id":39611943,"body_markdown":"+1. Even better if this is wrapped in a function named safe_substring or substring_safe, like paxdiablo&#39;s answer, so that usage is easier to read / intent more obvious.","body":"+1. Even better if this is wrapped in a function named safe_substring or substring_safe, like paxdiablo&#39;s answer, so that usage is easier to read / intent more obvious."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1529408566,"post_id":1583968,"comment_id":88854009,"body_markdown":"I disagree with what you are saying.  If this is wrapped in a function, *it doesn&#39;t matter what is inside the function*, and any &quot;neatness&quot; is definitely out-weighed by lack of clarity.  The point of this solution is that it is &quot;neat&quot; for the case where you *don&#39;t* want to create a wrapper function.","body":"I disagree with what you are saying.  If this is wrapped in a function, <i>it doesn&#39;t matter what is inside the function</i>, and any &quot;neatness&quot; is definitely out-weighed by lack of clarity.  The point of this solution is that it is &quot;neat&quot; for the case where you <i>don&#39;t</i> want to create a wrapper function."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1621436565,"post_id":1583968,"comment_id":119496223,"body_markdown":"It would be neater to use StringUtils. It prevents both IndexOutOfBoundsException and NullPointerException.","body":"It would be neater to use StringUtils. It prevents both IndexOutOfBoundsException and NullPointerException."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1621497019,"post_id":1583968,"comment_id":119515030,"body_markdown":"I&#39;m not convinced that preventing NPEs is a good thing.  An NPE means you should have a `null` in `s`.  It is a sign of a bug, not something that should be hidden.  Dealing with a `null` is not part of the OP&#39;s stated requirements.","body":"I&#39;m not convinced that preventing NPEs is a good thing.  An NPE means you should have a <code>null</code> in <code>s</code>.  It is a sign of a bug, not something that should be hidden.  Dealing with a <code>null</code> is not part of the OP&#39;s stated requirements."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":433,"is_accepted":true,"score":433,"last_activity_date":1670035252,"creation_date":1255838437,"answer_id":1583968,"question_id":1583940,"body_markdown":"Here&#39;s a neat solution:\r\n\r\n    String upToNCharacters = s.substring(0, Math.min(s.length(), n));\r\n\r\n----------\r\n\r\n&lt;sup&gt;Opinion: while this solution is &quot;neat&quot;, I think it is actually *less readable* than a solution that uses `if` / `else` in the obvious way.  If the reader hasn&#39;t seen this trick, he/she has to *think harder* to understand the code.  IMO, the code&#39;s meaning is more obvious in the `if` / `else` version.  For a cleaner / more readable solution, see [@paxdiablo&#39;s answer](https://stackoverflow.com/a/1583971/139985).&lt;/sup&gt;","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Here's a neat solution:</p>\n<pre><code>String upToNCharacters = s.substring(0, Math.min(s.length(), n));\n</code></pre>\n<hr />\n<p><sup>Opinion: while this solution is &quot;neat&quot;, I think it is actually <em>less readable</em> than a solution that uses <code>if</code> / <code>else</code> in the obvious way.  If the reader hasn't seen this trick, he/she has to <em>think harder</em> to understand the code.  IMO, the code's meaning is more obvious in the <code>if</code> / <code>else</code> version.  For a cleaner / more readable solution, see <a href=\"https://stackoverflow.com/a/1583971/139985\">@paxdiablo's answer</a>.</sup></p>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":2,"creation_date":1408511095,"post_id":1583971,"comment_id":39611746,"body_markdown":"+1: This is a MUCH better approach than the accepted one, given OP&#39;s desire to not clutter the code.  (or see Nickkk&#39;s solution of including a library that already has a function that behaves as desired.)","body":"+1: This is a MUCH better approach than the accepted one, given OP&#39;s desire to not clutter the code.  (or see Nickkk&#39;s solution of including a library that already has a function that behaves as desired.)"}],"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1336446789,"creation_date":1255838529,"answer_id":1583971,"question_id":1583940,"body_markdown":"There&#39;s a class of question on SO that sometimes make less than perfect sense, this one is perilously close :-)\r\n\r\nPerhaps you could explain your aversion to using one of the two methods you ruled out.\r\n\r\nIf it&#39;s just because you don&#39;t want to pepper your code with `if` statements or exception catching code, one solution is to use a helper function that will take care of it for you, something like:\r\n\r\n    static String substring_safe (String s, int start, int len) { ... }\r\nwhich will check lengths beforehand and act accordingly (either return smaller string or pad with spaces).\r\n\r\nThen you don&#39;t have to worry about it in your code at all, just call:\r\n\r\n    String s2 = substring_safe (s, 10, 7);\r\ninstead of:\r\n\r\n    String s2 = s.substring (10,7);\r\n\r\nThis would work in the case that you seem to be worried about (based on your comments to other answers), not breaking the flow of the code when doing lots of string building stuff.","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>There's a class of question on SO that sometimes make less than perfect sense, this one is perilously close :-)</p>\n\n<p>Perhaps you could explain your aversion to using one of the two methods you ruled out.</p>\n\n<p>If it's just because you don't want to pepper your code with <code>if</code> statements or exception catching code, one solution is to use a helper function that will take care of it for you, something like:</p>\n\n<pre><code>static String substring_safe (String s, int start, int len) { ... }\n</code></pre>\n\n<p>which will check lengths beforehand and act accordingly (either return smaller string or pad with spaces).</p>\n\n<p>Then you don't have to worry about it in your code at all, just call:</p>\n\n<pre><code>String s2 = substring_safe (s, 10, 7);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>String s2 = s.substring (10,7);\n</code></pre>\n\n<p>This would work in the case that you seem to be worried about (based on your comments to other answers), not breaking the flow of the code when doing lots of string building stuff.</p>\n"},{"comments":[{"owner":{"account_id":158136,"reputation":1344,"user_id":376543,"accept_rate":69,"display_name":"aullah"},"score":1,"creation_date":1394408604,"post_id":9066459,"comment_id":33864110,"body_markdown":"It doesn&#39;t answer the question, but regardless it still provides the solution. If the OP is able to understand, I think this is a better solution.","body":"It doesn&#39;t answer the question, but regardless it still provides the solution. If the OP is able to understand, I think this is a better solution."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":7,"creation_date":1408510758,"post_id":9066459,"comment_id":39611649,"body_markdown":"It might also be useful to point out that `StringUtils.substring(yourString, 0, n)` is not the same as `yourString.substring(0, n)`. The former is from `StringUtils`, while the latter is using `String.substring` (which gives exception if end index exceeds string length).","body":"It might also be useful to point out that <code>StringUtils.substring(yourString, 0, n)</code> is not the same as <code>yourString.substring(0, n)</code>. The former is from <code>StringUtils</code>, while the latter is using <code>String.substring</code> (which gives exception if end index exceeds string length)."},{"owner":{"account_id":3742735,"reputation":181,"user_id":3112158,"accept_rate":100,"display_name":"bholl"},"score":0,"creation_date":1491419675,"post_id":9066459,"comment_id":73549645,"body_markdown":"Just as FYI if you look in the source for this method its handling the case where the end is greater than the length by changing the end to the length: `if (end &gt; str.length()) { end = str.length();}`","body":"Just as FYI if you look in the source for this method its handling the case where the end is greater than the length by changing the end to the length: <code>if (end &gt; str.length()) { end = str.length();}</code>"},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":2,"creation_date":1491820075,"post_id":9066459,"comment_id":73705558,"body_markdown":"The last Parameter of `StringUtils.substring(String s, int start, int len)` is not len, it is the end-Index.","body":"The last Parameter of <code>StringUtils.substring(String s, int start, int len)</code> is not len, it is the end-Index."},{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":0,"creation_date":1537779496,"post_id":9066459,"comment_id":91892924,"body_markdown":"StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;, worked for me. Thanks !","body":"StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;, worked for me. Thanks !"}],"tags":[],"owner":{"account_id":1209590,"reputation":1139,"user_id":1178405,"display_name":"Nickkk"},"comment_count":5,"down_vote_count":2,"up_vote_count":114,"is_accepted":false,"score":112,"last_activity_date":1470157862,"creation_date":1327938016,"answer_id":9066459,"question_id":1583940,"body_markdown":"Don&#39;t reinvent the wheel...:\r\n\r\n    org.apache.commons.lang.StringUtils.substring(String s, int start, int len)\r\n\r\n[Javadoc](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#substring%28java.lang.String,%20int,%20int%29) says:\r\n\r\n&gt;     StringUtils.substring(null, *, *)    = null\r\n&gt;     StringUtils.substring(&quot;&quot;, * ,  *)    = &quot;&quot;;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 0, 2)   = &quot;ab&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 0)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 4)   = &quot;c&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 4, 6)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 2)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, -2, -1) = &quot;b&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, -4, 2)  = &quot;ab&quot;\r\n\r\nThus:\r\n\r\n    StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;\r\n","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Don't reinvent the wheel...:</p>\n\n<pre><code>org.apache.commons.lang.StringUtils.substring(String s, int start, int len)\n</code></pre>\n\n<p><a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#substring%28java.lang.String,%20int,%20int%29\" rel=\"noreferrer\">Javadoc</a> says:</p>\n\n<blockquote>\n<pre><code>StringUtils.substring(null, *, *)    = null\nStringUtils.substring(\"\", * ,  *)    = \"\";\nStringUtils.substring(\"abc\", 0, 2)   = \"ab\"\nStringUtils.substring(\"abc\", 2, 0)   = \"\"\nStringUtils.substring(\"abc\", 2, 4)   = \"c\"\nStringUtils.substring(\"abc\", 4, 6)   = \"\"\nStringUtils.substring(\"abc\", 2, 2)   = \"\"\nStringUtils.substring(\"abc\", -2, -1) = \"b\"\nStringUtils.substring(\"abc\", -4, 2)  = \"ab\"\n</code></pre>\n</blockquote>\n\n<p>Thus:</p>\n\n<pre><code>StringUtils.substring(\"abc\", 0, 4) = \"abc\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1408511693,"post_id":19153967,"comment_id":39611904,"body_markdown":"Interesting alternative, though I can&#39;t imagine ever using it, given the more traditional approaches, that were given four years ago.","body":"Interesting alternative, though I can&#39;t imagine ever using it, given the more traditional approaches, that were given four years ago."},{"owner":{"account_id":1950637,"reputation":167,"user_id":1754807,"display_name":"Profiterole"},"score":0,"creation_date":1566135640,"post_id":19153967,"comment_id":101553500,"body_markdown":"Best answer because the input String is read only once, so there&#39;s no need to store it in a variable, which makes it possible to embed it neatly.","body":"Best answer because the input String is read only once, so there&#39;s no need to store it in a variable, which makes it possible to embed it neatly."}],"tags":[],"owner":{"account_id":21085,"reputation":11957,"user_id":50979,"accept_rate":88,"display_name":"13ren"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1380788784,"creation_date":1380787735,"answer_id":19153967,"question_id":1583940,"body_markdown":"    String upToNCharacters = String.format(&quot;%.&quot;+ n +&quot;s&quot;, str);\r\n\r\nAwful if `n` is a variable (so you must construct the format string), but pretty clear if a constant:\r\n\r\n    String upToNCharacters = String.format(&quot;%.10s&quot;, str);\r\n\r\n[docs](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29)\r\n\r\n&lt;!---\r\n[public static String.format\r\n(String format, Object... args)](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29),\r\nsince 1.5\r\n--&gt;","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<pre><code>String upToNCharacters = String.format(\"%.\"+ n +\"s\", str);\n</code></pre>\n\n<p>Awful if <code>n</code> is a variable (so you must construct the format string), but pretty clear if a constant:</p>\n\n<pre><code>String upToNCharacters = String.format(\"%.10s\", str);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\">docs</a></p>\n\n\n"},{"comments":[{"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"score":1,"creation_date":1532439989,"post_id":26060742,"comment_id":89968734,"body_markdown":"Shouldn&#39;t this be the best solution? Why aren&#39;t many up-voting this?","body":"Shouldn&#39;t this be the best solution? Why aren&#39;t many up-voting this?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1532505119,"post_id":26060742,"comment_id":89995485,"body_markdown":"Maybe because other people don&#39;t have the same opinion as you?  :-)","body":"Maybe because other people don&#39;t have the same opinion as you?  :-)"},{"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"score":1,"creation_date":1550014604,"post_id":26060742,"comment_id":96112022,"body_markdown":"this answer came in much later than the original question ask date.","body":"this answer came in much later than the original question ask date."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":5,"creation_date":1572278931,"post_id":26060742,"comment_id":103501807,"body_markdown":"@DoWill: Because adding an(other) 3rd-party library to your executable environment is not always worthwhile.","body":"@DoWill: Because adding an(other) 3rd-party library to your executable environment is not always worthwhile."},{"owner":{"account_id":2332305,"reputation":4402,"user_id":2045384,"accept_rate":20,"display_name":"tsh"},"score":0,"creation_date":1627458828,"post_id":26060742,"comment_id":121158948,"body_markdown":"@LarsH But Apache Commons, as it is populate, had already included in many many projects already. It would not be adding yet another 3rd party library for partially string slicing.","body":"@LarsH But Apache Commons, as it is populate, had already included in many many projects already. It would not be adding yet another 3rd party library for partially string slicing."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1627482315,"post_id":26060742,"comment_id":121168924,"body_markdown":"@tsh I agree, in those cases, using Apache Commons is a very good option. But there are also many projects that don&#39;t already use AC.","body":"@tsh I agree, in those cases, using Apache Commons is a very good option. But there are also many projects that don&#39;t already use AC."}],"tags":[],"owner":{"account_id":58463,"reputation":2007,"user_id":175036,"accept_rate":94,"display_name":"Skuli"},"comment_count":6,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1411739811,"creation_date":1411737979,"answer_id":26060742,"question_id":1583940,"body_markdown":"[Apache Commons Lang][1] has a [`StringUtils.left`][2] method for this.\r\n\r\n    String upToNCharacters = StringUtils.left(s, n);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/\">Apache Commons Lang</a> has a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)\"><code>StringUtils.left</code></a> method for this.</p>\n\n<pre><code>String upToNCharacters = StringUtils.left(s, n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203120,"reputation":1942,"user_id":450586,"accept_rate":71,"display_name":"yuceel"},"score":1,"creation_date":1539268555,"post_id":28695363,"comment_id":92448492,"body_markdown":"@VolkanG&#252;ven It&#39;s because of this &quot;ApacheCommons surprised me&quot; sentence. I commited sin via critisizing holy ApacheCommons library. Or whatever...","body":"@VolkanG&#252;ven It&#39;s because of this &quot;ApacheCommons surprised me&quot; sentence. I commited sin via critisizing holy ApacheCommons library. Or whatever..."}],"tags":[],"owner":{"account_id":203120,"reputation":1942,"user_id":450586,"accept_rate":71,"display_name":"yuceel"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1424786646,"creation_date":1424779543,"answer_id":28695363,"question_id":1583940,"body_markdown":"ApacheCommons surprised me, \r\n`StringUtils.abbreviate(String str, int maxWidth)` appends &quot;...&quot; there is no option to change postfix.\r\n`WordUtils.abbreviate(String str, int lower, int upper, String appendToEnd)` looks up to next empty space.\r\n\r\n\r\n\r\nI’m just going to leave this here:\r\n \r\n    public static String abbreviate(String s, int maxLength, String appendToEnd) {\r\n        String result = s;\r\n        appendToEnd = appendToEnd == null ? &quot;&quot; : appendToEnd;\r\n        if (maxLength &gt;= appendToEnd.length()) {\r\n            if (s.length()&gt;maxLength) {\r\n                result = s.substring(0, Math.min(s.length(), maxLength - appendToEnd.length())) + appendToEnd;\r\n            }\r\n        } else {\r\n            throw new StringIndexOutOfBoundsException(&quot;maxLength can not be smaller than appendToEnd parameter length.&quot;);\r\n        }\r\n        return result;\r\n    }","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>ApacheCommons surprised me, \n<code>StringUtils.abbreviate(String str, int maxWidth)</code> appends \"...\" there is no option to change postfix.\n<code>WordUtils.abbreviate(String str, int lower, int upper, String appendToEnd)</code> looks up to next empty space.</p>\n\n<p>I’m just going to leave this here:</p>\n\n<pre><code>public static String abbreviate(String s, int maxLength, String appendToEnd) {\n    String result = s;\n    appendToEnd = appendToEnd == null ? \"\" : appendToEnd;\n    if (maxLength &gt;= appendToEnd.length()) {\n        if (s.length()&gt;maxLength) {\n            result = s.substring(0, Math.min(s.length(), maxLength - appendToEnd.length())) + appendToEnd;\n        }\n    } else {\n        throw new StringIndexOutOfBoundsException(\"maxLength can not be smaller than appendToEnd parameter length.\");\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679400683,"creation_date":1679306400,"answer_id":75788871,"question_id":1583940,"body_markdown":"Another great compact way, without having to use a third party library, would be to use the ternary operator (?:):  \r\n\r\n    s = s.length() &gt; n ? s.substring(0, n) : s;\r\n\r\nbut it might be just as simple to use a &quot;one-line&quot; if-statement:  \r\n\r\n    if (s.length() &gt; n) s = s.substring(0, n);\r\n\r\n\r\n","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Another great compact way, without having to use a third party library, would be to use the ternary operator (?:):</p>\n<pre><code>s = s.length() &gt; n ? s.substring(0, n) : s;\n</code></pre>\n<p>but it might be just as simple to use a &quot;one-line&quot; if-statement:</p>\n<pre><code>if (s.length() &gt; n) s = s.substring(0, n);\n</code></pre>\n"}],"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360712,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":1583968,"answer_count":8,"score":215,"last_activity_date":1679400683,"creation_date":1255837403,"question_id":1583940,"body_markdown":"How do I get up to the first `n` characters of a string in Java without doing a size check first (inline is acceptable) or risking an `IndexOutOfBoundsException`?","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>How do I get up to the first <code>n</code> characters of a string in Java without doing a size check first (inline is acceptable) or risking an <code>IndexOutOfBoundsException</code>?</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1679369009,"post_id":75789897,"comment_id":133705564,"body_markdown":"Hi, Thanks for writing up, I am getting this error `com.microsoft.playwright.PlaywrightException: Error {\n  message=&#39;Unexpected token &quot;/&quot; while parsing selector &quot;./following-sibling::*/*&quot;`","body":"Hi, Thanks for writing up, I am getting this error <code>com.microsoft.playwright.PlaywrightException: Error {   message=&#39;Unexpected token &quot;&#47;&quot; while parsing selector &quot;.&#47;following-sibling::*&#47;*&quot;</code>"},{"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"score":0,"creation_date":1679400555,"post_id":75789897,"comment_id":133711560,"body_markdown":"Could you try with the new change?","body":"Could you try with the new change?"},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1679824692,"post_id":75789897,"comment_id":133786760,"body_markdown":"I tried, but now it&#39;s not locating the element. This code works   `Locator child = combo.locator(&quot;xpath=//label[text()=&#39;Legal Type&#39;]/following-sibling::div/a&quot;);` But when I try to locate by this way, it&#39;s selecting the option but it&#39;s not colouring and failing.       `Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\n        Locator child = combo.locator(&quot;xpath=.//following-sibling::div/a&quot;);\n        child.evaluate(&quot;el =&gt; el.style.backgroundColor = &#39;yellow&#39;&quot;);`","body":"I tried, but now it&#39;s not locating the element. This code works   <code>Locator child = combo.locator(&quot;xpath=&#47;&#47;label[text()=&#39;Legal Type&#39;]&#47;following-sibling::div&#47;a&quot;);</code> But when I try to locate by this way, it&#39;s selecting the option but it&#39;s not colouring and failing.       <code>Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));         Locator child = combo.locator(&quot;xpath=.&#47;&#47;following-sibling::div&#47;a&quot;);         child.evaluate(&quot;el =&gt; el.style.backgroundColor = &#39;yellow&#39;&quot;);</code>"}],"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400545,"creation_date":1679312918,"answer_id":75789897,"question_id":75788959,"body_markdown":"Maybe there are better ways to solve this. But I think you will need to use an XPath locator.\r\n\r\n```\r\nLocator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\r\nLocator child = combo.locator(&quot;xpath=./following-sibling::*/*&quot;);\r\n```\r\n\r\n* `./following-sibling::*` Will give you the sibling. no matter the tag name (`*`).\r\n* `/*` will give you the child, no matter the tag name.","title":"How can I locate a link that is a child of the following sibling?","body":"<p>Maybe there are better ways to solve this. But I think you will need to use an XPath locator.</p>\n<pre><code>Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\nLocator child = combo.locator(&quot;xpath=./following-sibling::*/*&quot;);\n</code></pre>\n<ul>\n<li><code>./following-sibling::*</code> Will give you the sibling. no matter the tag name (<code>*</code>).</li>\n<li><code>/*</code> will give you the child, no matter the tag name.</li>\n</ul>\n"}],"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679400545,"creation_date":1679306981,"question_id":75788959,"body_markdown":"I have to colour an element after the selection, the element which i would like to colour is found as a child of the following sibling. \r\n\r\nI have successfully located the element using the following code \r\n\r\n    page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;))\r\n\r\nHow can I go to the following sibling from this element and then locate the child of that following-sibling?\r\n\r\nAny help? \r\n\r\n","title":"How can I locate a link that is a child of the following sibling?","body":"<p>I have to colour an element after the selection, the element which i would like to colour is found as a child of the following sibling.</p>\n<p>I have successfully located the element using the following code</p>\n<pre><code>page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;))\n</code></pre>\n<p>How can I go to the following sibling from this element and then locate the child of that following-sibling?</p>\n<p>Any help?</p>\n"},{"tags":["java","selenium-webdriver","automation","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":3,"creation_date":1679401214,"post_id":75800642,"comment_id":133711731,"body_markdown":"Use `DataFormatter` to turn all the cells into Strings as shown in Excel?","body":"Use <code>DataFormatter</code> to turn all the cells into Strings as shown in Excel?"}],"answers":[{"tags":[],"owner":{"account_id":28075247,"reputation":21,"user_id":21447217,"display_name":"merdon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679400408,"creation_date":1679400408,"answer_id":75800999,"question_id":75800642,"body_markdown":"    FormulaEvaluator formulaEvaluator = new XSSFFormulaEvaluator(book);\r\n    Cell cell = row.getCell(column);\r\n    if( CellType.FORMULA.equals(cell.getCellType())){\r\n        return formulaEvaluator.evaluate(cell).formatAsString();\r\n    }else if( CellType.NUMERIC.equals(cell.getCellType())){\r\n        return new BigDecimal(cell.getNumericCellValue()).toPlainString();\r\n    } else {\r\n        return cell.getStringCellValue();\r\n    }","title":"Cannot get a STRING value from a NUMERIC cell while extracting the data from Excel","body":"<pre><code>FormulaEvaluator formulaEvaluator = new XSSFFormulaEvaluator(book);\nCell cell = row.getCell(column);\nif( CellType.FORMULA.equals(cell.getCellType())){\n    return formulaEvaluator.evaluate(cell).formatAsString();\n}else if( CellType.NUMERIC.equals(cell.getCellType())){\n    return new BigDecimal(cell.getNumericCellValue()).toPlainString();\n} else {\n    return cell.getStringCellValue();\n}\n</code></pre>\n"}],"owner":{"account_id":28074834,"reputation":1,"user_id":21446882,"display_name":"Abhishekh Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679400408,"creation_date":1679398372,"question_id":75800642,"body_markdown":"I&#39;m trying to import data from Excel file to automate a large amount of data but I got the error &quot;Cannot get a STRING value from a NUMERIC cell&quot; as some of the cells has a numeric values and others has a text value.I need to extract all data and insert it as inputs for the page fields. i got the error stating from\r\n\r\n\r\n```\r\n`package com.Demo;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.poi.ss.usermodel.DataFormatter;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.support.ui.Select;\r\n\r\npublic class SignupformTest {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\VIRAL FISSION\\\\Music\\\\Selenium\\\\New folder\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,new String[] {&quot;enable-automation&quot;});\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n//        options.addArguments(&quot;--disable-web-security&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;https://app.viralfission.com/signup&quot;);\r\n        \r\n        FileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\VIRAL FISSION\\\\Pictures\\\\testintakedata.xlsx&quot;);\r\n    \t\r\n   \t // Create Workbook instance holding reference to .xlsx file\r\n   \t XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n   \t\r\n   \t // Get first/desired sheet from the workbook\r\n   \t XSSFSheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\r\n   \t \r\n   \t \r\n\t int noofcount = sheet.getLastRowNum();\r\n\t \r\n\t System.out.print(&quot;No. of Records in the Excel sheet : &quot; + noofcount);\r\n\t \r\n\t for(int row = 1; row &lt;= noofcount; row++) {\r\n\t\t XSSFRow currentrow =  sheet.getRow(row);\r\n\t\t DataFormatter formatter = new DataFormatter();\r\n\t\t String cellvalue = formatter.formatCellValue(1,0);\r\n\r\n\t\t \r\n\t\t String Referal_Code = currentrow.getCell(0).getStringCellValue();\r\n\t\t String First_Name = currentrow.getCell(1).getStringCellValue(); \r\n\t\t String Last_Name = currentrow.getCell(2).getStringCellValue(); \r\n\t\t String Contact_Number = currentrow.getCell(3).getStringCellValue();\r\n\t\t String WhatsApp_Number = currentrow.getCell(4).getStringCellValue(); \r\n\t\t String Gender = currentrow.getCell(5).getStringCellValue(); \r\n\t\t String Date_of_Birth = currentrow.getCell(6).getStringCellValue(); \r\n\t\t String Flat_No = currentrow.getCell(7).getStringCellValue(); \r\n\t\t String Building_Name = currentrow.getCell(8).getStringCellValue(); \r\n\t\t String Street_Name = currentrow.getCell(9).getStringCellValue(); \r\n\t\t String Landmark = currentrow.getCell(10).getStringCellValue(); \r\n\t\t String State = currentrow.getCell(11).getStringCellValue(); \r\n\t\t String City = currentrow.getCell(12).getStringCellValue(); \r\n\t\t String Pincode = currentrow.getCell(13).getStringCellValue(); \r\n\t\t String Instagram = currentrow.getCell(14).getStringCellValue(); \r\n\t\t String Twitter = currentrow.getCell(15).getStringCellValue(); \r\n\t\t \r\n\t\t \r\n//\t\t driver.findElement(By.linkText(&quot;https://app.viralfission.com/signup&quot;)).click();\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;referral&quot;)).sendKeys(Referal_Code);\r\n\t\t driver.findElement(By.name(&quot;firstname&quot;)).sendKeys(First_Name);\r\n\t\t driver.findElement(By.name(&quot;lastname&quot;)).sendKeys(Last_Name);\r\n\t\t driver.findElement(By.name(&quot;contactNumber&quot;)).sendKeys(Contact_Number);\r\n\t\t driver.findElement(By.name(&quot;whatsAppNumber&quot;)).sendKeys(WhatsApp_Number);\r\n\t\t \r\n\t\t \r\n\t\t Select dropgender = new Select(driver.findElement(By.name(&quot;gender&quot;)));\r\n\t\t dropgender.selectByVisibleText(Gender);\r\n\t\t Select dropdateofbirth = new Select(driver.findElement(By.name(&quot;DOB&quot;)));\r\n\t\t dropdateofbirth.selectByVisibleText(Date_of_Birth);\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;flatNumber&quot;)).sendKeys(Flat_No);\r\n\t\t driver.findElement(By.name(&quot;buildingName&quot;)).sendKeys(Building_Name);\r\n\t\t driver.findElement(By.name(&quot;streetName&quot;)).sendKeys(Street_Name);\r\n\t\t driver.findElement(By.name(&quot;landmark&quot;)).sendKeys(Landmark);\r\n\t\t \r\n\t\t \r\n\t\t Select dropState = new Select(driver.findElement(By.name(&quot;state&quot;)));\r\n\t\t dropState.selectByVisibleText(State);\r\n\t\t Select dropCity = new Select(driver.findElement(By.name(&quot;city&quot;)));\r\n\t\t dropCity.selectByVisibleText(City);\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;pincode&quot;)).sendKeys(Pincode);\r\n\t\t driver.findElement(By.name(&quot;instagram&quot;)).sendKeys(Instagram);\r\n\t\t driver.findElement(By.name(&quot;twitter&quot;)).sendKeys(Twitter);\r\n\t\t \r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;cdk-step-content-0-0\\&quot;]/form/div[7]/button&quot;)).click();\r\n\t\t\r\n\t\tif(driver.getPageSource().contains(&quot;&#39;Enter your details to get one step closer&#39;&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Good&quot; + row + &quot;Record&quot;);\r\n\t\t}\r\n\r\n\t\t \r\n\t }\r\n\t driver.close();\r\n\r\n\r\n\t}\r\n\r\n}\r\n`\r\n```\r\n\r\n\r\n**Can you please help me to sort out this, Why am getting this error? I have declared 9 Columns and 16 Rows using for loop. But am getting cannot Get The error as cannot get the string value from Numeic Cell.**","title":"Cannot get a STRING value from a NUMERIC cell while extracting the data from Excel","body":"<p>I'm trying to import data from Excel file to automate a large amount of data but I got the error &quot;Cannot get a STRING value from a NUMERIC cell&quot; as some of the cells has a numeric values and others has a text value.I need to extract all data and insert it as inputs for the page fields. i got the error stating from</p>\n<pre><code>`package com.Demo;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.Select;\n\npublic class SignupformTest {\n\n    public static void main(String[] args) throws IOException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\VIRAL FISSION\\\\Music\\\\Selenium\\\\New folder\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,new String[] {&quot;enable-automation&quot;});\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n//        options.addArguments(&quot;--disable-web-security&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;https://app.viralfission.com/signup&quot;);\n        \n        FileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\VIRAL FISSION\\\\Pictures\\\\testintakedata.xlsx&quot;);\n        \n     // Create Workbook instance holding reference to .xlsx file\n     XSSFWorkbook workbook = new XSSFWorkbook(file);\n    \n     // Get first/desired sheet from the workbook\n     XSSFSheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\n     \n     \n     int noofcount = sheet.getLastRowNum();\n     \n     System.out.print(&quot;No. of Records in the Excel sheet : &quot; + noofcount);\n     \n     for(int row = 1; row &lt;= noofcount; row++) {\n         XSSFRow currentrow =  sheet.getRow(row);\n         DataFormatter formatter = new DataFormatter();\n         String cellvalue = formatter.formatCellValue(1,0);\n\n         \n         String Referal_Code = currentrow.getCell(0).getStringCellValue();\n         String First_Name = currentrow.getCell(1).getStringCellValue(); \n         String Last_Name = currentrow.getCell(2).getStringCellValue(); \n         String Contact_Number = currentrow.getCell(3).getStringCellValue();\n         String WhatsApp_Number = currentrow.getCell(4).getStringCellValue(); \n         String Gender = currentrow.getCell(5).getStringCellValue(); \n         String Date_of_Birth = currentrow.getCell(6).getStringCellValue(); \n         String Flat_No = currentrow.getCell(7).getStringCellValue(); \n         String Building_Name = currentrow.getCell(8).getStringCellValue(); \n         String Street_Name = currentrow.getCell(9).getStringCellValue(); \n         String Landmark = currentrow.getCell(10).getStringCellValue(); \n         String State = currentrow.getCell(11).getStringCellValue(); \n         String City = currentrow.getCell(12).getStringCellValue(); \n         String Pincode = currentrow.getCell(13).getStringCellValue(); \n         String Instagram = currentrow.getCell(14).getStringCellValue(); \n         String Twitter = currentrow.getCell(15).getStringCellValue(); \n         \n         \n//       driver.findElement(By.linkText(&quot;https://app.viralfission.com/signup&quot;)).click();\n         \n         driver.findElement(By.name(&quot;referral&quot;)).sendKeys(Referal_Code);\n         driver.findElement(By.name(&quot;firstname&quot;)).sendKeys(First_Name);\n         driver.findElement(By.name(&quot;lastname&quot;)).sendKeys(Last_Name);\n         driver.findElement(By.name(&quot;contactNumber&quot;)).sendKeys(Contact_Number);\n         driver.findElement(By.name(&quot;whatsAppNumber&quot;)).sendKeys(WhatsApp_Number);\n         \n         \n         Select dropgender = new Select(driver.findElement(By.name(&quot;gender&quot;)));\n         dropgender.selectByVisibleText(Gender);\n         Select dropdateofbirth = new Select(driver.findElement(By.name(&quot;DOB&quot;)));\n         dropdateofbirth.selectByVisibleText(Date_of_Birth);\n         \n         driver.findElement(By.name(&quot;flatNumber&quot;)).sendKeys(Flat_No);\n         driver.findElement(By.name(&quot;buildingName&quot;)).sendKeys(Building_Name);\n         driver.findElement(By.name(&quot;streetName&quot;)).sendKeys(Street_Name);\n         driver.findElement(By.name(&quot;landmark&quot;)).sendKeys(Landmark);\n         \n         \n         Select dropState = new Select(driver.findElement(By.name(&quot;state&quot;)));\n         dropState.selectByVisibleText(State);\n         Select dropCity = new Select(driver.findElement(By.name(&quot;city&quot;)));\n         dropCity.selectByVisibleText(City);\n         \n         driver.findElement(By.name(&quot;pincode&quot;)).sendKeys(Pincode);\n         driver.findElement(By.name(&quot;instagram&quot;)).sendKeys(Instagram);\n         driver.findElement(By.name(&quot;twitter&quot;)).sendKeys(Twitter);\n         \n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;cdk-step-content-0-0\\&quot;]/form/div[7]/button&quot;)).click();\n        \n        if(driver.getPageSource().contains(&quot;'Enter your details to get one step closer'&quot;)) {\n            System.out.println(&quot;Good&quot; + row + &quot;Record&quot;);\n        }\n\n         \n     }\n     driver.close();\n\n\n    }\n\n}\n`\n</code></pre>\n<p><strong>Can you please help me to sort out this, Why am getting this error? I have declared 9 Columns and 16 Rows using for loop. But am getting cannot Get The error as cannot get the string value from Numeic Cell.</strong></p>\n"},{"tags":["java","maven","spring-boot","pom.xml","dependency-management"],"comments":[{"owner":{"account_id":1855835,"reputation":1651,"user_id":1681440,"display_name":"juice"},"score":0,"creation_date":1525474547,"post_id":50183956,"comment_id":87385402,"body_markdown":"I&#39;m having the same issue - I hope someone knows the answer","body":"I&#39;m having the same issue - I hope someone knows the answer"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1525475589,"post_id":50183956,"comment_id":87385649,"body_markdown":"Can you post the dependency tag for assertj in your POM?","body":"Can you post the dependency tag for assertj in your POM?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1525475712,"post_id":50183956,"comment_id":87385679,"body_markdown":"I would actually like to see you dependencyManagement and parent also, if at all possible.","body":"I would actually like to see you dependencyManagement and parent also, if at all possible."},{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525478249,"post_id":50183956,"comment_id":87386121,"body_markdown":"Updated with POMs.","body":"Updated with POMs."}],"answers":[{"comments":[{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525478240,"post_id":50184235,"comment_id":87386119,"body_markdown":"I use IntelliJ. It shows a up-arrow icon next to the dependency. When I hover, it shows the declaration snippet form my dep-man, and when I click the icon it takes me to the dependency-management that I want to use! So it seems intelliJ figures it out correctly, but not maven command-line.","body":"I use IntelliJ. It shows a up-arrow icon next to the dependency. When I hover, it shows the declaration snippet form my dep-man, and when I click the icon it takes me to the dependency-management that I want to use! So it seems intelliJ figures it out correctly, but not maven command-line."}],"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525476287,"creation_date":1525476287,"answer_id":50184235,"question_id":50183956,"body_markdown":"My guess is that it is grabbing the nearest.  \r\n\r\n&gt;  Dependency mediation - this determines what version of a dependency will be used when multiple versions of an artifact are encountered. Currently, Maven 2.0 only supports using the &quot;nearest definition&quot; which means that it will use the version of the closest dependency to your project in the tree of dependencies. You can always guarantee a version by declaring it explicitly in your project&#39;s POM. Note that if two dependency versions are at the same depth in the dependency tree, until Maven 2.0.8 it was not defined which one would win, but since Maven 2.0.9 it&#39;s the order in the declaration that counts: the first declaration wins.\r\n\r\n\r\nWhat I do for stuff like this is go to my IDE&#39;s dependencies section for a given project.  It shows me all dependencies, what version, and where it came from (see bottom of pop-up on attached image below for an example). \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bjEh3.png","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>My guess is that it is grabbing the nearest.  </p>\n\n<blockquote>\n  <p>Dependency mediation - this determines what version of a dependency will be used when multiple versions of an artifact are encountered. Currently, Maven 2.0 only supports using the \"nearest definition\" which means that it will use the version of the closest dependency to your project in the tree of dependencies. You can always guarantee a version by declaring it explicitly in your project's POM. Note that if two dependency versions are at the same depth in the dependency tree, until Maven 2.0.8 it was not defined which one would win, but since Maven 2.0.9 it's the order in the declaration that counts: the first declaration wins.</p>\n</blockquote>\n\n<p>What I do for stuff like this is go to my IDE's dependencies section for a given project.  It shows me all dependencies, what version, and where it came from (see bottom of pop-up on attached image below for an example). </p>\n\n<p><a href=\"https://i.stack.imgur.com/bjEh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bjEh3.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525812986,"post_id":50242041,"comment_id":87501867,"body_markdown":"Thanks. While you posted this I was posting another post with my findings (https://stackoverflow.com/a/50242089/768671). Can you confirm we are saying about the same thing? Though it kinda sounds like what you&#39;re saying is you CAN&#39;T import dependency management?","body":"Thanks. While you posted this I was posting another post with my findings (<a href=\"https://stackoverflow.com/a/50242089/768671\">stackoverflow.com/a/50242089/768671</a>). Can you confirm we are saying about the same thing? Though it kinda sounds like what you&#39;re saying is you CAN&#39;T import dependency management?"},{"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"score":0,"creation_date":1525813969,"post_id":50242041,"comment_id":87502246,"body_markdown":"Exactly. You can&#39;t import dependency management and expect it to change a version that was defined in a higher level pom. You either need to declare the version in your lower level project, or make your dependencyManagement project the parent.","body":"Exactly. You can&#39;t import dependency management and expect it to change a version that was defined in a higher level pom. You either need to declare the version in your lower level project, or make your dependencyManagement project the parent."}],"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525812475,"creation_date":1525812475,"answer_id":50242041,"question_id":50183956,"body_markdown":"The issue is that your project is relying not on a parent for dependency management, but on an imported project. The Maven dependency hierarchy doesn&#39;t work that way. Probably the best solution would be to move the &#39;parent spring-boot-starter-parent&#39; declaration into the MY_COMPANY:dependencyManagementBase project. Then change the parent declaration in com.MYCOMPANY.platform to point at your dependencyManagementBase project. That way you would have a clear inheritance hierarchy.\r\n\r\nWhat you currently have does not really use dependency management. i.e. if you were to change the &#39;dependecyManagement&#39; section in the dependencyManagementBase project to &#39;dependency&#39;, you would get the same results.","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>The issue is that your project is relying not on a parent for dependency management, but on an imported project. The Maven dependency hierarchy doesn't work that way. Probably the best solution would be to move the 'parent spring-boot-starter-parent' declaration into the MY_COMPANY:dependencyManagementBase project. Then change the parent declaration in com.MYCOMPANY.platform to point at your dependencyManagementBase project. That way you would have a clear inheritance hierarchy.</p>\n\n<p>What you currently have does not really use dependency management. i.e. if you were to change the 'dependecyManagement' section in the dependencyManagementBase project to 'dependency', you would get the same results.</p>\n"},{"tags":[],"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525812732,"creation_date":1525812732,"answer_id":50242089,"question_id":50183956,"body_markdown":"Doesn&#39;t seem like anyone has the answer. So I&#39;ll just answer with my findings.\r\n\r\nGiven OP doesn&#39;t work. My next strategy is to IMPORT the spring-boot-starter-parent and spring-boot-dependency POMs, since I can&#39;t use them as parents.\r\n\r\nThis however has it&#39;s own behaviors.\r\n\r\nI found that if my dependency management looks like this, my versions win:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dependency-management-slim&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.14-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nHowever, I decided I wanted to separate my custom code from my spring-boot mimicking pom. So in order to preserve priority I figured I had to do this:\r\n\r\n    service-root -&gt; only import my-dependency-management\r\n    ^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\r\n    ^-- service-parent -&gt; has our common dependencies and profiles\r\n    ^-- service-impl - code\r\n\r\nHowever, that did NOT work; spring-boot versions overrode our custom versions.\r\nSo I had to do this:\r\n\r\n    root-parent -&gt; nothing\r\n    ^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\r\n    ^-- service-parent -&gt; import my-dependency-management\r\n    ^-- service-impl - code\r\n\r\n\r\nConclusions\r\n-----------\r\n\r\n - **IF** importing multiple dependency-management in the SAME pom, then the first management-versions win.\r\n - **IF** you are importing in multiple poms, the last one imported wins.\r\n - **IF** a parent defines has dependency-management with individual dependencies defined, you cannot override them with dependency\r\n   management (This is original problem).\r\n\r\n&#175;\\\\_(ツ)_/&#175;","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Doesn't seem like anyone has the answer. So I'll just answer with my findings.</p>\n\n<p>Given OP doesn't work. My next strategy is to IMPORT the spring-boot-starter-parent and spring-boot-dependency POMs, since I can't use them as parents.</p>\n\n<p>This however has it's own behaviors.</p>\n\n<p>I found that if my dependency management looks like this, my versions win:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n            &lt;artifactId&gt;dependency-management-slim&lt;/artifactId&gt;\n            &lt;version&gt;2.23.14-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>However, I decided I wanted to separate my custom code from my spring-boot mimicking pom. So in order to preserve priority I figured I had to do this:</p>\n\n<pre><code>service-root -&gt; only import my-dependency-management\n^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\n^-- service-parent -&gt; has our common dependencies and profiles\n^-- service-impl - code\n</code></pre>\n\n<p>However, that did NOT work; spring-boot versions overrode our custom versions.\nSo I had to do this:</p>\n\n<pre><code>root-parent -&gt; nothing\n^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\n^-- service-parent -&gt; import my-dependency-management\n^-- service-impl - code\n</code></pre>\n\n<h2>Conclusions</h2>\n\n<ul>\n<li><strong>IF</strong> importing multiple dependency-management in the SAME pom, then the first management-versions win.</li>\n<li><strong>IF</strong> you are importing in multiple poms, the last one imported wins.</li>\n<li><strong>IF</strong> a parent defines has dependency-management with individual dependencies defined, you cannot override them with dependency\nmanagement (This is original problem).</li>\n</ul>\n\n<p>¯\\_(ツ)_/¯</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400318,"creation_date":1679400318,"answer_id":75800986,"question_id":50183956,"body_markdown":"Imported dependencyManagement always looses against directly defined dependencyManagement, regardless from which level or the hierarchy. \r\n\r\nI would avoid the import and instead set the properties that define the versions in the spring boot starter parent.","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Imported dependencyManagement always looses against directly defined dependencyManagement, regardless from which level or the hierarchy.</p>\n<p>I would avoid the import and instead set the properties that define the versions in the spring boot starter parent.</p>\n"}],"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1679400318,"creation_date":1525473755,"question_id":50183956,"body_markdown":"Below shows the hierarchy of my POMs.\r\n\r\nYou can see that we have a company parent-pom for spring boot projects. This POM has spring-boot-starter as it&#39;s parent, and it imports our own dependency-management BOM.\r\n\r\n    [INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ user-service ---\r\n    [INFO]  PARENT com.MY_COMPANY.platform:user:3.20.14-SNAPSHOT\r\n    [INFO]    PARENT com.MY_COMPANY.platform:spring-boot-parent:3.20.12-SNAPSHOT\r\n    [INFO]      PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\r\n    [INFO]        PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE  &lt;&lt;&lt;&lt; This pom defines assertJ 2.x\r\n    [INFO]          [ other imports ]\r\n    [INFO]      IMPORT com.MY_COMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; This pom defines assertJ 3.x\r\n    [INFO]    IMPORT com.MY_COMPANY.platform:platform-dependency-management:1.20.7\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nTo focus on a specific, we define AssertJ 3 in our dependency-management; however, spring-boot-dependencies defines AssertJ 2. Not a big deal with assertJ, but there are other fish like Mongo-Java-Driver that are not picking up our version.\r\n\r\nHow does Maven choose precedence here? Why doesn&#39;t our dependency-management win over a far-ancestor&#39;s dependency-management?\r\n\r\nI also noticed that if I add AssertJ as a dependency of MY_COMPANY.platform:spring-boot-parent, it also does NOT use the version in our dependency-management (so I&#39;ll just keep it there for now, so the hierarchy under microscope is shorter).\r\n\r\n**EDIT - Add abbreviated POMs**\r\n\r\n***com.MY_COMPANY.platform:spring-boot-parent***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.MYCOMPANY.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.20.12-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;prerequisites&gt;\r\n            &lt;maven&gt;3.0.4&lt;/maven&gt;\r\n        &lt;/prerequisites&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;MYCOMPANYdependencymanagement.version&gt;2.23.13&lt;/MYCOMPANYdependencymanagement.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\r\n                    &lt;version&gt;${MYCOMPANYdependencymanagement.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n***com.MY_COMPANY:dependencyManagementBase***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\r\n        &lt;version&gt;2.23.13&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;spring-dep-man&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;org.assertj-core.version&gt;3.5.2&lt;/org.assertj-core.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.assertj-core.version}&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n**EDIT 2 - Add verbose hierarchy showing different versions **\r\n\r\n    ~/p/springbootparentpom&gt; mvn hierarchy:tree -Dlevel=full\r\n    [INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ spring-boot-parent ---\r\n    [INFO] Displaying hierarchy.\r\n    [INFO]  PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\r\n    [INFO]    PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE\r\n    [INFO]          DEP_MANAGEMENT ........\r\n    [INFO]          DEP_MANAGEMENT org.assertj:assertj-core:2.6.0\r\n    [INFO]    \t\t[ ... Many DEP_MAN and IMPORT ... ]\r\n    [INFO]  IMPORT com.MYCOMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\r\n    [INFO]        DEP_MANAGEMENT ........\r\n    [INFO]        DEP_MANAGEMENT org.assertj:assertj-core:3.5.2\r\n    [INFO]        DEP_MANAGEMENT ........","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Below shows the hierarchy of my POMs.</p>\n\n<p>You can see that we have a company parent-pom for spring boot projects. This POM has spring-boot-starter as it's parent, and it imports our own dependency-management BOM.</p>\n\n<pre><code>[INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ user-service ---\n[INFO]  PARENT com.MY_COMPANY.platform:user:3.20.14-SNAPSHOT\n[INFO]    PARENT com.MY_COMPANY.platform:spring-boot-parent:3.20.12-SNAPSHOT\n[INFO]      PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\n[INFO]        PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE  &lt;&lt;&lt;&lt; This pom defines assertJ 2.x\n[INFO]          [ other imports ]\n[INFO]      IMPORT com.MY_COMPANY:dependencyManagementBase:2.23.14-SNAPSHOT     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; This pom defines assertJ 3.x\n[INFO]    IMPORT com.MY_COMPANY.platform:platform-dependency-management:1.20.7\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>To focus on a specific, we define AssertJ 3 in our dependency-management; however, spring-boot-dependencies defines AssertJ 2. Not a big deal with assertJ, but there are other fish like Mongo-Java-Driver that are not picking up our version.</p>\n\n<p>How does Maven choose precedence here? Why doesn't our dependency-management win over a far-ancestor's dependency-management?</p>\n\n<p>I also noticed that if I add AssertJ as a dependency of MY_COMPANY.platform:spring-boot-parent, it also does NOT use the version in our dependency-management (so I'll just keep it there for now, so the hierarchy under microscope is shorter).</p>\n\n<p><strong>EDIT - Add abbreviated POMs</strong></p>\n\n<p><strong><em>com.MY_COMPANY.platform:spring-boot-parent</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.MYCOMPANY.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.20.12-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0.4&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;MYCOMPANYdependencymanagement.version&gt;2.23.13&lt;/MYCOMPANYdependencymanagement.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\n                &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\n                &lt;version&gt;${MYCOMPANYdependencymanagement.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>com.MY_COMPANY:dependencyManagementBase</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\n    &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\n    &lt;version&gt;2.23.13&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;spring-dep-man&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;org.assertj-core.version&gt;3.5.2&lt;/org.assertj-core.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n                &lt;version&gt;${org.assertj-core.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>**EDIT 2 - Add verbose hierarchy showing different versions **</p>\n\n<pre><code>~/p/springbootparentpom&gt; mvn hierarchy:tree -Dlevel=full\n[INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ spring-boot-parent ---\n[INFO] Displaying hierarchy.\n[INFO]  PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\n[INFO]    PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE\n[INFO]          DEP_MANAGEMENT ........\n[INFO]          DEP_MANAGEMENT org.assertj:assertj-core:2.6.0\n[INFO]          [ ... Many DEP_MAN and IMPORT ... ]\n[INFO]  IMPORT com.MYCOMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\n[INFO]        DEP_MANAGEMENT ........\n[INFO]        DEP_MANAGEMENT org.assertj:assertj-core:3.5.2\n[INFO]        DEP_MANAGEMENT ........\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1323839690,"post_id":8499698,"comment_id":10519751,"body_markdown":"possible duplicate of [up to first N characters](http://stackoverflow.com/questions/1583940/up-to-first-n-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1583940/up-to-first-n-characters\">up to first N characters</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1564702763,"post_id":8499698,"comment_id":101127687,"body_markdown":"FYI, a [HORIZONTAL ELLIPSIS](https://en.wikipedia.org/wiki/Ellipsis) is a single character, not two or three [FULL STOP](https://en.wikipedia.org/wiki/Full_stop) characters: …","body":"FYI, a <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"nofollow noreferrer\">HORIZONTAL ELLIPSIS</a> is a single character, not two or three <a href=\"https://en.wikipedia.org/wiki/Full_stop\" rel=\"nofollow noreferrer\">FULL STOP</a> characters: …"}],"answers":[{"comments":[{"owner":{"account_id":3216397,"reputation":2004,"user_id":2714971,"accept_rate":66,"display_name":"rram"},"score":0,"creation_date":1550173630,"post_id":8499776,"comment_id":96182994,"body_markdown":"Instead of Math.min can&#39;t we do a conditional check and do substring only if string is max then required ? eg: `s = (s.length() &gt; 10) ? s.substring(0,10) : s ;`","body":"Instead of Math.min can&#39;t we do a conditional check and do substring only if string is max then required ? eg: <code>s = (s.length() &gt; 10) ? s.substring(0,10) : s ;</code>"},{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":1,"creation_date":1636675814,"post_id":8499776,"comment_id":123627107,"body_markdown":"@rram if you get inside the substring method, you will see, that this behavior is actually done under the hood.","body":"@rram if you get inside the substring method, you will see, that this behavior is actually done under the hood."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":2,"up_vote_count":359,"is_accepted":true,"score":357,"last_activity_date":1631498665,"creation_date":1323839816,"answer_id":8499776,"question_id":8499698,"body_markdown":"    s = s.substring(0, Math.min(s.length(), 10));\r\n\r\nUsing `Math.min` like this avoids an exception in the case where the string is already shorter than `10`.\r\n\r\n---------\r\n\r\nNotes:\r\n  \r\n  1.  The above does simple trimming.  If you actually want to replace the last characters with three dots if the string is too long, use Apache Commons `StringUtils.abbreviate`; see @H6&#39;s [solution][1].  If you want to use the Unicode horizontal ellipsis character, see @Basil&#39;s [solution][2].\r\n\r\n  2.  For typical implementations of `String`, `s.substring(0, s.length())` will return `s` rather than allocating a new `String`.\r\n\r\n  3.  This may behave incorrectly&lt;sup&gt;1&lt;/sup&gt; if your String contains Unicode codepoints outside of the BMP; e.g. Emojis.  For a (more complicated) solution that works correctly for all Unicode code-points, see @sibnick&#39;s [solution][3].\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - A Unicode codepoint that is not on plane 0 (the BMP) is represented as a &quot;surrogate pair&quot; (i.e. two `char` values) in the `String`.  By ignoring this, we might trim the string to fewer than 10 code points, or (worse) truncate it in the middle of a surrogate pair.  On the other hand, `String.length()` is not a good measure of Unicode text length, so trimming based on that property may be the wrong thing to do.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19975149/139985\r\n  [2]: https://stackoverflow.com/a/57318525/139985\r\n  [3]: https://stackoverflow.com/a/32223795/1602384","title":"Trim a string based on the string length","body":"<pre><code>s = s.substring(0, Math.min(s.length(), 10));\n</code></pre>\n<p>Using <code>Math.min</code> like this avoids an exception in the case where the string is already shorter than <code>10</code>.</p>\n<hr />\n<p>Notes:</p>\n<ol>\n<li><p>The above does simple trimming.  If you actually want to replace the last characters with three dots if the string is too long, use Apache Commons <code>StringUtils.abbreviate</code>; see @H6's <a href=\"https://stackoverflow.com/a/19975149/139985\">solution</a>.  If you want to use the Unicode horizontal ellipsis character, see @Basil's <a href=\"https://stackoverflow.com/a/57318525/139985\">solution</a>.</p>\n</li>\n<li><p>For typical implementations of <code>String</code>, <code>s.substring(0, s.length())</code> will return <code>s</code> rather than allocating a new <code>String</code>.</p>\n</li>\n<li><p>This may behave incorrectly<sup>1</sup> if your String contains Unicode codepoints outside of the BMP; e.g. Emojis.  For a (more complicated) solution that works correctly for all Unicode code-points, see @sibnick's <a href=\"https://stackoverflow.com/a/32223795/1602384\">solution</a>.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - A Unicode codepoint that is not on plane 0 (the BMP) is represented as a &quot;surrogate pair&quot; (i.e. two <code>char</code> values) in the <code>String</code>.  By ignoring this, we might trim the string to fewer than 10 code points, or (worse) truncate it in the middle of a surrogate pair.  On the other hand, <code>String.length()</code> is not a good measure of Unicode text length, so trimming based on that property may be the wrong thing to do.</sup></p>\n"},{"comments":[{"owner":{"account_id":42734,"reputation":1055,"user_id":124593,"accept_rate":89,"display_name":"emulcahy"},"score":18,"creation_date":1386101368,"post_id":8499875,"comment_id":30395533,"body_markdown":"The second param of substring is exclusive, so this answer trims the String to 9 characters.","body":"The second param of substring is exclusive, so this answer trims the String to 9 characters."}],"tags":[],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"comment_count":1,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1323840681,"creation_date":1323840681,"answer_id":8499875,"question_id":8499698,"body_markdown":"``s = s.length() &gt; 10 ? s.substring(0, 9) : s;``","title":"Trim a string based on the string length","body":"<p><code>s = s.length() &gt; 10 ? s.substring(0, 9) : s;</code></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1392771630,"post_id":19975149,"comment_id":33109795,"body_markdown":"It could be, but the OP&#39;s question does not ask for &quot;ellipsis&quot;.","body":"It could be, but the OP&#39;s question does not ask for &quot;ellipsis&quot;."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":12,"creation_date":1408512561,"post_id":19975149,"comment_id":39612160,"body_markdown":"@StephenC - The question show 8 characters followed by 2 dots, given a length limit of 10, which is a lot like an ellipsis (just 2 dots rather than 3). Its also likely that many of the people who find this question would consider an ellipsis to be useful.","body":"@StephenC - The question show 8 characters followed by 2 dots, given a length limit of 10, which is a lot like an ellipsis (just 2 dots rather than 3). Its also likely that many of the people who find this question would consider an ellipsis to be useful."},{"owner":{"account_id":368331,"reputation":1349,"user_id":715077,"display_name":"Superole"},"score":15,"creation_date":1444899847,"post_id":19975149,"comment_id":54098197,"body_markdown":"...and if you don&#39;t want the ellipsis, then StringUtils.left() can help you.","body":"...and if you don&#39;t want the ellipsis, then StringUtils.left() can help you."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1564702756,"post_id":19975149,"comment_id":101127685,"body_markdown":"FYI, a [HORIZONTAL ELLIPSIS](https://en.wikipedia.org/wiki/Ellipsis) is a single character, not three [FULL STOP](https://en.wikipedia.org/wiki/Full_stop) characters: …","body":"FYI, a <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"nofollow noreferrer\">HORIZONTAL ELLIPSIS</a> is a single character, not three <a href=\"https://en.wikipedia.org/wiki/Full_stop\" rel=\"nofollow noreferrer\">FULL STOP</a> characters: …"}],"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"comment_count":4,"down_vote_count":1,"up_vote_count":167,"is_accepted":false,"score":166,"last_activity_date":1591700940,"creation_date":1384424676,"answer_id":19975149,"question_id":8499698,"body_markdown":"[`StringUtils.abbreviate`][1] from [Apache Commons Lang][2] library could be your friend:\r\n\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 6) = &quot;abc...&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 7) = &quot;abcdefg&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 8) = &quot;abcdefg&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 4) = &quot;a...&quot;\r\n\r\n[Commons Lang3][3] even allow to set a custom String as replacement marker. With this you can for example set a single character ellipsis.\r\n\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, &quot;\\u2026&quot;, 6) = &quot;abcde…&quot;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#abbreviate%28java.lang.String,%20int%29\r\n  [2]: https://commons.apache.org/proper/commons-lang/\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"Trim a string based on the string length","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#abbreviate%28java.lang.String,%20int%29\" rel=\"noreferrer\"><code>StringUtils.abbreviate</code></a> from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> library could be your friend:</p>\n\n<pre><code>StringUtils.abbreviate(\"abcdefg\", 6) = \"abc...\"\nStringUtils.abbreviate(\"abcdefg\", 7) = \"abcdefg\"\nStringUtils.abbreviate(\"abcdefg\", 8) = \"abcdefg\"\nStringUtils.abbreviate(\"abcdefg\", 4) = \"a...\"\n</code></pre>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">Commons Lang3</a> even allow to set a custom String as replacement marker. With this you can for example set a single character ellipsis.</p>\n\n<pre><code>StringUtils.abbreviate(\"abcdefg\", \"\\u2026\", 6) = \"abcde…\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1595918319,"post_id":32222331,"comment_id":111631788,"body_markdown":"Your code didn&#39;t work for me. Try this `System.out.println(abbreviateString(&quot;ABC\\ud83d\\udc3bDEF&quot;, 6));`","body":"Your code didn&#39;t work for me. Try this <code>System.out.println(abbreviateString(&quot;ABC\\ud83d\\udc3bDEF&quot;, 6));</code>"}],"tags":[],"owner":{"account_id":3145287,"reputation":529,"user_id":2659877,"display_name":"MVojtkovszky"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440579932,"creation_date":1440579932,"answer_id":32222331,"question_id":8499698,"body_markdown":"Or you can just use this method in case you don&#39;t have StringUtils on hand:\r\n\r\n    public static String abbreviateString(String input, int maxLength) {\r\n        if (input.length() &lt;= maxLength) \r\n            return input;\r\n        else \r\n            return input.substring(0, maxLength-2) + &quot;..&quot;;\r\n    }","title":"Trim a string based on the string length","body":"<p>Or you can just use this method in case you don't have StringUtils on hand:</p>\n\n<pre><code>public static String abbreviateString(String input, int maxLength) {\n    if (input.length() &lt;= maxLength) \n        return input;\n    else \n        return input.substring(0, maxLength-2) + \"..\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":278046,"reputation":1175,"user_id":572408,"accept_rate":62,"display_name":"Ryan Quinn"},"score":1,"creation_date":1572380064,"post_id":32223795,"comment_id":103539317,"body_markdown":"Found the bug in Apache commons&#39; jira: https://issues.apache.org/jira/browse/LANG-1343","body":"Found the bug in Apache commons&#39; jira: <a href=\"https://issues.apache.org/jira/browse/LANG-1343\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LANG-1343</a>"}],"tags":[],"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1440583977,"creation_date":1440583977,"answer_id":32223795,"question_id":8499698,"body_markdown":"As usual nobody cares about UTF-16 surrogate pairs. See about them: [What are the most common non-BMP Unicode characters in actual use?][1] Even authors of org.apache.commons/commons-lang3\r\n\r\nYou can see difference between correct code and usual code in this sample:\r\n\r\n    public static void main(String[] args) {\r\n        //string with FACE WITH TEARS OF JOY symbol\r\n        String s = &quot;abcdafghi\\uD83D\\uDE02cdefg&quot;;\r\n        int maxWidth = 10;\r\n        System.out.println(s);\r\n        //do not care about UTF-16 surrogate pairs\r\n        System.out.println(s.substring(0, Math.min(s.length(), maxWidth)));\r\n        //correctly process UTF-16 surrogate pairs\r\n        if(s.length()&gt;maxWidth){\r\n            int correctedMaxWidth = (Character.isLowSurrogate(s.charAt(maxWidth)))&amp;&amp;maxWidth&gt;0 ? maxWidth-1 : maxWidth;\r\n            System.out.println(s.substring(0, Math.min(s.length(), correctedMaxWidth)));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5567249/what-are-the-most-common-non-bmp-unicode-characters-in-actual-use","title":"Trim a string based on the string length","body":"<p>As usual nobody cares about UTF-16 surrogate pairs. See about them: <a href=\"https://stackoverflow.com/questions/5567249/what-are-the-most-common-non-bmp-unicode-characters-in-actual-use\">What are the most common non-BMP Unicode characters in actual use?</a> Even authors of org.apache.commons/commons-lang3</p>\n\n<p>You can see difference between correct code and usual code in this sample:</p>\n\n<pre><code>public static void main(String[] args) {\n    //string with FACE WITH TEARS OF JOY symbol\n    String s = \"abcdafghi\\uD83D\\uDE02cdefg\";\n    int maxWidth = 10;\n    System.out.println(s);\n    //do not care about UTF-16 surrogate pairs\n    System.out.println(s.substring(0, Math.min(s.length(), maxWidth)));\n    //correctly process UTF-16 surrogate pairs\n    if(s.length()&gt;maxWidth){\n        int correctedMaxWidth = (Character.isLowSurrogate(s.charAt(maxWidth)))&amp;&amp;maxWidth&gt;0 ? maxWidth-1 : maxWidth;\n        System.out.println(s.substring(0, Math.min(s.length(), correctedMaxWidth)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"comment_count":0,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1596019138,"creation_date":1454841160,"answer_id":35252333,"question_id":8499698,"body_markdown":"There is a Apache Commons `StringUtils` function which does this.\r\n\r\n\r\n    s = StringUtils.left(s, 10)\r\n\r\n&gt; If len characters are not available, or the String is null, the String will be returned without an exception. An empty String is returned if len is negative.\r\n\r\n&gt; StringUtils.left(null, *)    = null  \r\n&gt; StringUtils.left(*, -ve)     = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;&quot;, *)      = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 0)   = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 2)   = &quot;ab&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 4)   = &quot;abc&quot;  \r\n\r\n[StringUtils.Left JavaDocs][1] \r\n\r\nCourtesy:Steeve McCauley\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)","title":"Trim a string based on the string length","body":"<p>There is a Apache Commons <code>StringUtils</code> function which does this.</p>\n<pre><code>s = StringUtils.left(s, 10)\n</code></pre>\n<blockquote>\n<p>If len characters are not available, or the String is null, the String will be returned without an exception. An empty String is returned if len is negative.</p>\n</blockquote>\n<blockquote>\n<p>StringUtils.left(null, <em>)    = null<br />\nStringUtils.left(</em>, -ve)     = &quot;&quot;<br />\nStringUtils.left(&quot;&quot;, *)      = &quot;&quot;<br />\nStringUtils.left(&quot;abc&quot;, 0)   = &quot;&quot;<br />\nStringUtils.left(&quot;abc&quot;, 2)   = &quot;ab&quot;<br />\nStringUtils.left(&quot;abc&quot;, 4)   = &quot;abc&quot;</p>\n</blockquote>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)\" rel=\"noreferrer\">StringUtils.Left JavaDocs</a></p>\n<p>Courtesy:Steeve McCauley</p>\n"},{"tags":[],"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528833937,"creation_date":1495790451,"answer_id":44197961,"question_id":8499698,"body_markdown":"Just in case you are looking for a way to trim and keep the LAST 10 characters of a string.\r\n\r\n    s = s.substring(Math.max(s.length(),10) - 10);\r\n","title":"Trim a string based on the string length","body":"<p>Just in case you are looking for a way to trim and keep the LAST 10 characters of a string.</p>\n\n<pre><code>s = s.substring(Math.max(s.length(),10) - 10);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631499086,"post_id":50824754,"comment_id":122229715,"body_markdown":"But note that if you are not expecting a `null` you should not do either of these.  The best way to deal with (unexpected) nulls is to allow the NPE to occur (ASAP), and then use the bug report to track down and eliminate the cause of the unexpected `null`.  If you &quot;defensively&quot; test for nulls without understanding the source, you can end up obscuring the cause of significant bugs.","body":"But note that if you are not expecting a <code>null</code> you should not do either of these.  The best way to deal with (unexpected) nulls is to allow the NPE to occur (ASAP), and then use the bug report to track down and eliminate the cause of the unexpected <code>null</code>.  If you &quot;defensively&quot; test for nulls without understanding the source, you can end up obscuring the cause of significant bugs."}],"tags":[],"owner":{"account_id":8280223,"reputation":11,"user_id":6225164,"display_name":"aceminds"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529070162,"creation_date":1528832717,"answer_id":50824754,"question_id":8499698,"body_markdown":"    str==null ? str : str.substring(0, Math.min(str.length(), 10))\r\n\r\nor,\r\n\r\n    str==null ? &quot;&quot; : str.substring(0, Math.min(str.length(), 10))\r\n\r\nWorks with null.","title":"Trim a string based on the string length","body":"<pre><code>str==null ? str : str.substring(0, Math.min(str.length(), 10))\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>str==null ? \"\" : str.substring(0, Math.min(str.length(), 10))\n</code></pre>\n\n<p>Works with null.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650334955,"post_id":54929158,"comment_id":127084856,"body_markdown":"Note to people looking for Kotlin specific answers.  Search for Q&amp;A&#39;s in the `[kotlin]` tag, and ask then in the `[kotlin]` tag.","body":"Note to people looking for Kotlin specific answers.  Search for Q&amp;A&#39;s in the <code>[kotlin]</code> tag, and ask then in the <code>[kotlin]</code> tag."}],"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"comment_count":1,"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1626765933,"creation_date":1551367907,"answer_id":54929158,"question_id":8499698,"body_markdown":"The question is asked on Java, but it was back in 2014.  \r\nIn case you use Kotlin now, it is as simple as:\r\n\r\n    yourString.take(10)\r\n\r\n&gt; Returns a string containing the first n characters from this string, or the entire string if this string is shorter.\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/take.html","title":"Trim a string based on the string length","body":"<p>The question is asked on Java, but it was back in 2014.<br />\nIn case you use Kotlin now, it is as simple as:</p>\n<pre><code>yourString.take(10)\n</code></pre>\n<blockquote>\n<p>Returns a string containing the first n characters from this string, or the entire string if this string is shorter.</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/take.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564707375,"creation_date":1564705235,"answer_id":57318525,"question_id":8499698,"body_markdown":"# tl;dr\r\n\r\nYou seem to be asking for an [ellipsis][1] (`…`) character in the last place, when truncating. Here is a one-liner to manipulate your input string.\r\n\r\n    String input = &quot;abcdefghijkl&quot;;\r\n    String output = ( input.length () &gt; 10 ) ? input.substring ( 0 , 10 - 1 ).concat ( &quot;…&quot; ) : input;\r\n\r\nSee this [code run live at IdeOne.com.][2]\r\n\r\n&gt;abcdefghi…\r\n\r\n# Ternary operator\r\n\r\nWe can make a one-liner by using the [ternary operator][3]. \r\n\r\n    String input = &quot;abcdefghijkl&quot; ;\r\n\r\n    String output = \r\n        ( input.length() &gt; 10 )          // If too long…\r\n        ?                                \r\n        input     \r\n        .substring( 0 , 10 - 1 )         // Take just the first part, adjusting by 1 to replace that last character with an ellipsis.\r\n        .concat( &quot;…&quot; )                   // Add the ellipsis character.\r\n        :                                // Or, if not too long…\r\n        input                            // Just return original string.\r\n    ;\r\n\r\nSee this [code run live at IdeOne.com.][2]\r\n\r\n&gt;abcdefghi…\r\n\r\n\r\n# Java streams\r\n\r\nThe Java Streams facility makes this interesting, as of Java 9 and later. Interesting, but maybe not the best approach.\r\n\r\nWe use [code points][4] rather than `char` values. The `char` type is legacy, and is limited to the [a subset of][5] all possible [Unicode][6] characters.\r\n\r\n    String input = &quot;abcdefghijkl&quot; ;\r\n    int limit = 10 ;\r\n    String output =\r\n            input\r\n                    .codePoints()\r\n                    .limit( limit )\r\n                    .collect(                                    // Collect the results of processing each code point.\r\n                            StringBuilder::new,                  // Supplier&lt;R&gt; supplier\r\n                            StringBuilder::appendCodePoint,      // ObjIntConsumer&lt;R&gt; accumulator\r\n                            StringBuilder::append                // BiConsumer&lt;R,​R&gt; combiner\r\n                    )\r\n                    .toString()\r\n            ;\r\n\r\nIf we had excess characters truncated, replace the last character with an  [ellipsis][1]. \r\n\r\n    if ( input.length () &gt; limit )\r\n    {\r\n        output = output.substring ( 0 , output.length () - 1 ) + &quot;…&quot;;\r\n    }\r\n\r\n\r\nIf only I could think of a way to put together the stream line with the &quot;if over limit, do ellipsis&quot; part. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ellipsis\r\n  [2]: https://ideone.com/vCCv7f\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\r\n  [6]: https://en.wikipedia.org/wiki/Unicode","title":"Trim a string based on the string length","body":"<h1>tl;dr</h1>\n\n<p>You seem to be asking for an <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"noreferrer\">ellipsis</a> (<code>…</code>) character in the last place, when truncating. Here is a one-liner to manipulate your input string.</p>\n\n<pre><code>String input = \"abcdefghijkl\";\nString output = ( input.length () &gt; 10 ) ? input.substring ( 0 , 10 - 1 ).concat ( \"…\" ) : input;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/vCCv7f\" rel=\"noreferrer\">code run live at IdeOne.com.</a></p>\n\n<blockquote>\n  <p>abcdefghi…</p>\n</blockquote>\n\n<h1>Ternary operator</h1>\n\n<p>We can make a one-liner by using the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"noreferrer\">ternary operator</a>. </p>\n\n<pre><code>String input = \"abcdefghijkl\" ;\n\nString output = \n    ( input.length() &gt; 10 )          // If too long…\n    ?                                \n    input     \n    .substring( 0 , 10 - 1 )         // Take just the first part, adjusting by 1 to replace that last character with an ellipsis.\n    .concat( \"…\" )                   // Add the ellipsis character.\n    :                                // Or, if not too long…\n    input                            // Just return original string.\n;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/vCCv7f\" rel=\"noreferrer\">code run live at IdeOne.com.</a></p>\n\n<blockquote>\n  <p>abcdefghi…</p>\n</blockquote>\n\n<h1>Java streams</h1>\n\n<p>The Java Streams facility makes this interesting, as of Java 9 and later. Interesting, but maybe not the best approach.</p>\n\n<p>We use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">code points</a> rather than <code>char</code> values. The <code>char</code> type is legacy, and is limited to the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"noreferrer\">a subset of</a> all possible <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"noreferrer\">Unicode</a> characters.</p>\n\n<pre><code>String input = \"abcdefghijkl\" ;\nint limit = 10 ;\nString output =\n        input\n                .codePoints()\n                .limit( limit )\n                .collect(                                    // Collect the results of processing each code point.\n                        StringBuilder::new,                  // Supplier&lt;R&gt; supplier\n                        StringBuilder::appendCodePoint,      // ObjIntConsumer&lt;R&gt; accumulator\n                        StringBuilder::append                // BiConsumer&lt;R,​R&gt; combiner\n                )\n                .toString()\n        ;\n</code></pre>\n\n<p>If we had excess characters truncated, replace the last character with an  <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"noreferrer\">ellipsis</a>. </p>\n\n<pre><code>if ( input.length () &gt; limit )\n{\n    output = output.substring ( 0 , output.length () - 1 ) + \"…\";\n}\n</code></pre>\n\n<p>If only I could think of a way to put together the stream line with the \"if over limit, do ellipsis\" part. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631499436,"post_id":64928661,"comment_id":122229766,"body_markdown":"Same answer as https://stackoverflow.com/a/32222331/139985 from 5 years earlier ...","body":"Same answer as <a href=\"https://stackoverflow.com/a/32222331/139985\">stackoverflow.com/a/32222331/139985</a> from 5 years earlier ..."}],"tags":[],"owner":{"account_id":16236607,"reputation":27,"user_id":11723960,"display_name":"Mahfuzur Rahman"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1605871747,"creation_date":1605871747,"answer_id":64928661,"question_id":8499698,"body_markdown":"// this is how you shorten the length of the string with .. \r\n// add following method to your class \r\n\r\n\r\n    private String abbreviate(String s){\r\n      if(s.length() &lt;= 10) return s;\r\n      return s.substring(0, 8) + &quot;..&quot; ;\r\n    }\r\n\r\n","title":"Trim a string based on the string length","body":"<p>// this is how you shorten the length of the string with ..\n// add following method to your class</p>\n<pre><code>private String abbreviate(String s){\n  if(s.length() &lt;= 10) return s;\n  return s.substring(0, 8) + &quot;..&quot; ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679400294,"creation_date":1679400294,"answer_id":75800982,"question_id":8499698,"body_markdown":"A great compact way, without having to use a third party library, would be to [use the ternary operator (?:) as described by @BasilBourque][1]:  \r\n\r\n    s = s.length() &gt; 10 ? s.substring(0, 10 - 2).concat(&quot;..&quot;) : s;\r\n\r\nbut it might be just as simple to use a &quot;one-line&quot; if-statement:  \r\n\r\n    if (s.length() &gt; 10) s = s.substring(0, 10 - 2) + &quot;..&quot;;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57318525/10749567","title":"Trim a string based on the string length","body":"<p>A great compact way, without having to use a third party library, would be to <a href=\"https://stackoverflow.com/a/57318525/10749567\">use the ternary operator (?:) as described by @BasilBourque</a>:</p>\n<pre><code>s = s.length() &gt; 10 ? s.substring(0, 10 - 2).concat(&quot;..&quot;) : s;\n</code></pre>\n<p>but it might be just as simple to use a &quot;one-line&quot; if-statement:</p>\n<pre><code>if (s.length() &gt; 10) s = s.substring(0, 10 - 2) + &quot;..&quot;;\n</code></pre>\n"}],"owner":{"account_id":1074275,"reputation":2081,"user_id":1072761,"accept_rate":70,"display_name":"yshak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331425,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":8499776,"answer_count":12,"score":199,"last_activity_date":1679400294,"creation_date":1323839023,"question_id":8499698,"body_markdown":"I want to trim a string if the length exceeds 10 characters.\r\n\r\nSuppose if the string length is 12 (`String s=&quot;abcdafghijkl&quot;`), then the new trimmed string will contain `&quot;abcdefgh..&quot;`.\r\n\r\nHow can I achieve this?","title":"Trim a string based on the string length","body":"<p>I want to trim a string if the length exceeds 10 characters.</p>\n\n<p>Suppose if the string length is 12 (<code>String s=\"abcdafghijkl\"</code>), then the new trimmed string will contain <code>\"abcdefgh..\"</code>.</p>\n\n<p>How can I achieve this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9666,"page":559,"page_size":100}
