{"items":[{"tags":["java","spring-boot","spring-mvc","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562336892,"creation_date":1562336892,"answer_id":56904991,"question_id":56904532,"body_markdown":"You can declare your own exceptions for any cases and set ExceptionHandler in controller to return correct http-status.\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler({SameHeaderException.class})\r\n    public Object onSameHeaderException(SameHeaderException e) {\r\n        return ImmutableMap.of(&quot;reason&quot;, e.getMessage());\r\n    }\r\n\r\nSo you can throw this exception if header is absent:\r\n\r\n    if (someHeaderValue == null) { throw new SameHeaderException(); }","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>You can declare your own exceptions for any cases and set ExceptionHandler in controller to return correct http-status.</p>\n\n<pre><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler({SameHeaderException.class})\npublic Object onSameHeaderException(SameHeaderException e) {\n    return ImmutableMap.of(\"reason\", e.getMessage());\n}\n</code></pre>\n\n<p>So you can throw this exception if header is absent:</p>\n\n<pre><code>if (someHeaderValue == null) { throw new SameHeaderException(); }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1562338384,"post_id":56905092,"comment_id":100355291,"body_markdown":"Sorry, but it doesn&#39;t work :( It returns a 500 INTERNAL SERVER ERROR.","body":"Sorry, but it doesn&#39;t work :( It returns a 500 INTERNAL SERVER ERROR."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1562340018,"post_id":56905092,"comment_id":100356057,"body_markdown":"I found how to resolve my problem. Please, try to have a look.","body":"I found how to resolve my problem. Please, try to have a look."},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1562340564,"post_id":56905092,"comment_id":100356305,"body_markdown":"@riccardo.cardin but this would solve your problem too without the need for overriding anything else right?","body":"@riccardo.cardin but this would solve your problem too without the need for overriding anything else right?"},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1562340959,"post_id":56905092,"comment_id":100356449,"body_markdown":"@riccardo.cardin please consider upvoting if my answer helped.","body":"@riccardo.cardin please consider upvoting if my answer helped."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1562341979,"post_id":56905092,"comment_id":100356895,"body_markdown":"To use your answer, I also need to register the `DispatcherServlet` and to throw an exception actively. Merely changing the supertype of my resolver, I don&#39;t need to do anything else.","body":"To use your answer, I also need to register the <code>DispatcherServlet</code> and to throw an exception actively. Merely changing the supertype of my resolver, I don&#39;t need to do anything else."},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1562343232,"post_id":56905092,"comment_id":100357392,"body_markdown":"@riccardo.cardin actually you don&#39;t have to register dispatcherservlet since it is registered by default. The reason why you saw 500 would probably because you might have handled Exception class in your exception handler.","body":"@riccardo.cardin actually you don&#39;t have to register dispatcherservlet since it is registered by default. The reason why you saw 500 would probably because you might have handled Exception class in your exception handler."}],"tags":[],"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562337816,"creation_date":1562337260,"answer_id":56905092,"question_id":56904532,"body_markdown":"If you see the implementation of `RequestHeaderMethodArgumentResolver` which is used for `@RequestHeader`, you&#39;ll see an overridden implementation of `handleMissingValue` method of `AbstractNamedValueMethodArgumentResolver` abstract class as below:\r\n\r\n    @Override\r\n    protected void handleMissingValue(String name, MethodParameter parameter) throws ServletRequestBindingException {\r\n    \t\tthrow new ServletRequestBindingException(&quot;Missing request header &#39;&quot; + name +\r\n    \t\t\t\t&quot;&#39; for method parameter of type &quot; + parameter.getNestedParameterType().getSimpleName());\r\n    }\r\n\r\nThis `handleMissingValue` method is used in the `resolveArgument` method of `AbstractNamedValueMethodArgumentResolver`, which `RequestHeaderMethodArgumentResolver` extends, based on some conditions. So when the header is absent and the `ServletRequestBindingException` is thrown, Spring&#39;s `DefaultHandlerExceptionResolver` would handle that and send a **400** response.\r\n\r\n So that is how the validation works in case of `@RequestHeader`. So you can implement something similar in the `resolveArgument` method of your `SomeHeaderArgumentResolver` class as below:\r\n\r\n    public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterAnnotation(SomeHeader.class) != null;\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter,\r\n                                      ModelAndViewContainer mavContainer,\r\n                                      NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory) {\r\n            HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\r\n            final String headerValue = request.getHeader(&quot;Some-Header&quot;);\r\n            if(headerValue != null){\r\n               return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n            } else {\r\n               //handle scenario if header absent with ServletRequestBindingException\r\n            }\r\n           }\r\n        }\r\n\r\n","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>If you see the implementation of <code>RequestHeaderMethodArgumentResolver</code> which is used for <code>@RequestHeader</code>, you'll see an overridden implementation of <code>handleMissingValue</code> method of <code>AbstractNamedValueMethodArgumentResolver</code> abstract class as below:</p>\n\n<pre><code>@Override\nprotected void handleMissingValue(String name, MethodParameter parameter) throws ServletRequestBindingException {\n        throw new ServletRequestBindingException(\"Missing request header '\" + name +\n                \"' for method parameter of type \" + parameter.getNestedParameterType().getSimpleName());\n}\n</code></pre>\n\n<p>This <code>handleMissingValue</code> method is used in the <code>resolveArgument</code> method of <code>AbstractNamedValueMethodArgumentResolver</code>, which <code>RequestHeaderMethodArgumentResolver</code> extends, based on some conditions. So when the header is absent and the <code>ServletRequestBindingException</code> is thrown, Spring's <code>DefaultHandlerExceptionResolver</code> would handle that and send a <strong>400</strong> response.</p>\n\n<p>So that is how the validation works in case of <code>@RequestHeader</code>. So you can implement something similar in the <code>resolveArgument</code> method of your <code>SomeHeaderArgumentResolver</code> class as below:</p>\n\n<pre><code>public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterAnnotation(SomeHeader.class) != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter,\n                                  ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory) {\n        HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\n        final String headerValue = request.getHeader(\"Some-Header\");\n        if(headerValue != null){\n           return headerValue.replace(\"XXX \", \"\");\n        } else {\n           //handle scenario if header absent with ServletRequestBindingException\n        }\n       }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1562340427,"post_id":56905659,"comment_id":100356233,"body_markdown":"But does it help you send 400 if the header value is not present as you asked in your question?","body":"But does it help you send 400 if the header value is not present as you asked in your question?"},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1562341859,"post_id":56905659,"comment_id":100356843,"body_markdown":"Yep, if the `resolveName` method returns the value `null`, Spring returns a 400 BAD REQUEST HTTP response.","body":"Yep, if the <code>resolveName</code> method returns the value <code>null</code>, Spring returns a 400 BAD REQUEST HTTP response."},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1562344042,"post_id":56905659,"comment_id":100357705,"body_markdown":"Even when you return null value, internally it throws ServletRequestBindingException itself. So the 500 that you saw earlier might be due to some other reason.","body":"Even when you return null value, internally it throws ServletRequestBindingException itself. So the 500 that you saw earlier might be due to some other reason."}],"tags":[],"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1562339729,"creation_date":1562339729,"answer_id":56905659,"question_id":56904532,"body_markdown":"Thanks to the suggestion given by @madhu-bhat, I understand which is the correct class to extend to let Spring doing the magic.\r\n\r\nThe class `RequestHeaderMethodArgumentResolver`, used by Spring to resolve HTTP headers values inside Java object, extends the abstract class `AbstractNamedValueMethodArgumentResolver`. This class let you specify if the header value has some default value, using the `createNamedValueInfo` method.\r\n\r\nSo, it follows the code.\r\n\r\n    public class SomeHeaderArgumentResolver extends AbstractNamedValueMethodArgumentResolver {\r\n        @Override\r\n        protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n            // The second parameter specifies if the value is required, \r\n            // and the third if there is some default value.\r\n            return new NamedValueInfo(&quot;&quot;, true, null);\r\n        }\r\n    \r\n        @Override\r\n        protected Object resolveName(String name, \r\n                                     MethodParameter parameter, \r\n                                     NativeWebRequest request) {\r\n            final String headerValue = request.getHeader(&quot;Some-Value&quot;);\r\n            if (StringUtils.isEmpty(headerValue)) {\r\n                // Returning null tells Spring that there is no value for the parameter\r\n                return null;\r\n            }\r\n            return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return (parameter.hasParameterAnnotation(SomeHeader.class) &amp;&amp;\r\n                    !Map.class.isAssignableFrom(\r\n                        parameter.nestedIfOptional().getNestedParameterType()));\r\n        }\r\n    }\r\n\r\nThe only thing I don&#39;t like is that I am using structures developed to handle _named values_, but I don&#39;t have a _named value_.\r\n\r\nHope it helps.","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>Thanks to the suggestion given by @madhu-bhat, I understand which is the correct class to extend to let Spring doing the magic.</p>\n\n<p>The class <code>RequestHeaderMethodArgumentResolver</code>, used by Spring to resolve HTTP headers values inside Java object, extends the abstract class <code>AbstractNamedValueMethodArgumentResolver</code>. This class let you specify if the header value has some default value, using the <code>createNamedValueInfo</code> method.</p>\n\n<p>So, it follows the code.</p>\n\n<pre><code>public class SomeHeaderArgumentResolver extends AbstractNamedValueMethodArgumentResolver {\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        // The second parameter specifies if the value is required, \n        // and the third if there is some default value.\n        return new NamedValueInfo(\"\", true, null);\n    }\n\n    @Override\n    protected Object resolveName(String name, \n                                 MethodParameter parameter, \n                                 NativeWebRequest request) {\n        final String headerValue = request.getHeader(\"Some-Value\");\n        if (StringUtils.isEmpty(headerValue)) {\n            // Returning null tells Spring that there is no value for the parameter\n            return null;\n        }\n        return headerValue.replace(\"XXX \", \"\");\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return (parameter.hasParameterAnnotation(SomeHeader.class) &amp;&amp;\n                !Map.class.isAssignableFrom(\n                    parameter.nestedIfOptional().getNestedParameterType()));\n    }\n}\n</code></pre>\n\n<p>The only thing I don't like is that I am using structures developed to handle <em>named values</em>, but I don't have a <em>named value</em>.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260977,"creation_date":1699017918,"answer_id":77417001,"question_id":56904532,"body_markdown":"I created a Spring boot 2.7.17 example based on the ideas here.\r\nThe example uses a **@RequestHeaderEmail** custom parameter anotation. When this annotation appears, it puts the &quot;X-EMAIL&quot; request header&#39;s value in it.\r\nIf there is no such header or it is null or empty, the REST method will return with Bad Request.\r\n\r\nUsage:\r\n\r\n    @RestController\r\n    public class RqController {\r\n       @GetMapping\r\n       String displayEmailHeader(@RequestHeaderEmail String email) {\r\n         return email;\r\n       }\r\n    }\r\n\r\nAnnotation:\r\n\r\n       @Target(ElementType.PARAMETER)\r\n       @Retention(RetentionPolicy.RUNTIME)\r\n       @Documented\r\n       public @interface RequestHeaderEmail {}\r\n\r\nResolver:\r\n\r\n    public class RequestHeaderEmailResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return String.class.equals(parameter.getParameter().getType()) &amp;&amp; parameter.hasParameterAnnotation(RequestHeaderEmail.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n            String email = webRequest.getHeader(&quot;X-EMAIL&quot;);\r\n            if (email == null || email.isEmpty()) throw new ServletRequestBindingException(&quot;X-EMAIL header should not be null or empty&quot;);\r\n    \r\n            return email;\r\n        }\r\n    }\r\n\r\nSet up:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class AnnotationConfiguration implements WebMvcConfigurer {\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new RequestHeaderEmailResolver());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is a github repo with unit tests:\r\nhttps://github.com/peterborkuti/request_param_custom_annotation/tree/main\r\n\r\n","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>I created a Spring boot 2.7.17 example based on the ideas here.\nThe example uses a <strong>@RequestHeaderEmail</strong> custom parameter anotation. When this annotation appears, it puts the &quot;X-EMAIL&quot; request header's value in it.\nIf there is no such header or it is null or empty, the REST method will return with Bad Request.</p>\n<p>Usage:</p>\n<pre><code>@RestController\npublic class RqController {\n   @GetMapping\n   String displayEmailHeader(@RequestHeaderEmail String email) {\n     return email;\n   }\n}\n</code></pre>\n<p>Annotation:</p>\n<pre><code>   @Target(ElementType.PARAMETER)\n   @Retention(RetentionPolicy.RUNTIME)\n   @Documented\n   public @interface RequestHeaderEmail {}\n</code></pre>\n<p>Resolver:</p>\n<pre><code>public class RequestHeaderEmailResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return String.class.equals(parameter.getParameter().getType()) &amp;&amp; parameter.hasParameterAnnotation(RequestHeaderEmail.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        String email = webRequest.getHeader(&quot;X-EMAIL&quot;);\n        if (email == null || email.isEmpty()) throw new ServletRequestBindingException(&quot;X-EMAIL header should not be null or empty&quot;);\n\n        return email;\n    }\n}\n</code></pre>\n<p>Set up:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class AnnotationConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new RequestHeaderEmailResolver());\n    }\n\n}\n</code></pre>\n<p>Here is a github repo with unit tests:\n<a href=\"https://github.com/peterborkuti/request_param_custom_annotation/tree/main\" rel=\"nofollow noreferrer\">https://github.com/peterborkuti/request_param_custom_annotation/tree/main</a></p>\n"}],"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56905659,"answer_count":4,"score":1,"last_activity_date":1699260977,"creation_date":1562335264,"question_id":56904532,"body_markdown":"I am developing a REST API using **Spring Boot 1.5.15**. I have implemented a customer `HandlerMethodArgumentResolver` to map an HTTP header. In details, I assign the value of the HTTP header `Some-Header`, removing the prefix &quot;XXX &quot;.\r\n\r\nFirst of all, I defined a custom annotation.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.PARAMETER)\r\n    public @interface SomeHeader {\r\n    }\r\n\r\nThen, I implemented a custom resolver.\r\n\r\n    public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterAnnotation(SomeHeader.class) != null;\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter,\r\n                                      ModelAndViewContainer mavContainer,\r\n                                      NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory) {\r\n            HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\r\n            final String headerValue = request.getHeader(&quot;Some-Header&quot;);\r\n         \r\n            return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\nAnd finally, I made Spring aware of the resolver in a configuration class.\r\n\r\n    @Configuration\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new SomeHeaderArgumentResolver());\r\n        }\r\n    }\r\n\r\nNow, I can use the following mapping in any controller I need.\r\n\r\n    @PostMapping(&quot;/some/paath&quot;)\r\n    public void someMethod(@SomeHeader String someHeaderValue) {\r\n       // Method body...\r\n    }\r\n\r\nHowever, `Some-Header` information is mandatory for me. I want that if it is not present, Spring returns a 400 Bad Request response to the caller. It is the same behaviour I can obtain using the `@RequestHeader(&quot;Some-Header&quot;)` annotation.\r\n\r\nCan I replicate the same behaviour? Possibly, I don&#39;t want to use a dedicated _controller advice_.","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>I am developing a REST API using <strong>Spring Boot 1.5.15</strong>. I have implemented a customer <code>HandlerMethodArgumentResolver</code> to map an HTTP header. In details, I assign the value of the HTTP header <code>Some-Header</code>, removing the prefix \"XXX \".</p>\n\n<p>First of all, I defined a custom annotation.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface SomeHeader {\n}\n</code></pre>\n\n<p>Then, I implemented a custom resolver.</p>\n\n<pre><code>public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterAnnotation(SomeHeader.class) != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter,\n                                  ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory) {\n        HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\n        final String headerValue = request.getHeader(\"Some-Header\");\n\n        return headerValue.replace(\"XXX \", \"\");\n    }\n}\n</code></pre>\n\n<p>And finally, I made Spring aware of the resolver in a configuration class.</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new SomeHeaderArgumentResolver());\n    }\n}\n</code></pre>\n\n<p>Now, I can use the following mapping in any controller I need.</p>\n\n<pre><code>@PostMapping(\"/some/paath\")\npublic void someMethod(@SomeHeader String someHeaderValue) {\n   // Method body...\n}\n</code></pre>\n\n<p>However, <code>Some-Header</code> information is mandatory for me. I want that if it is not present, Spring returns a 400 Bad Request response to the caller. It is the same behaviour I can obtain using the <code>@RequestHeader(\"Some-Header\")</code> annotation.</p>\n\n<p>Can I replicate the same behaviour? Possibly, I don't want to use a dedicated <em>controller advice</em>.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699028945,"post_id":77417942,"comment_id":136483938,"body_markdown":"Why iterate over all columns?  The column of interest should be a fixed value for whichever column to sum, and only need to iterate over the rows.  (Along with checking the length of the current row does not exceed the column of interest.)  [This](https://stackoverflow.com/questions/11641985/which-comes-first-in-a-2d-array-rows-or-columns) might help.","body":"Why iterate over all columns?  The column of interest should be a fixed value for whichever column to sum, and only need to iterate over the rows.  (Along with checking the length of the current row does not exceed the column of interest.)  <a href=\"https://stackoverflow.com/questions/11641985/which-comes-first-in-a-2d-array-rows-or-columns\">This</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":15029463,"reputation":332,"user_id":10848072,"display_name":"saurabh kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699030059,"creation_date":1699030059,"answer_id":77418416,"question_id":77417942,"body_markdown":"The bug is in your logic of skipping rows which have fewer columns then the current column number.\r\n\r\nIn the 5th iteration when `col = 4` the row skip is working like this\r\n\r\n``` \r\nIteration for the inner for loop when col 4\r\nnum goes from 0 .. 3\r\n\r\nIteration 1 (num = 0)\r\n[row = 0]\r\nRow 0 : Size [3] Skip by doing row++\r\n[row = 1]\r\nDo logic of adding number from Row 1 into total, row++\r\n[row = 2]\r\n\r\nIteration 2 (num = 1)\r\n[row = 2]\r\nRow 2 : Size [4] Skip by doing row++\r\n[row = 3]\r\nDo logic of adding number from Row 3 into total, row++\r\n[row = 4]\r\nLogic to reset row and total get triggered resetting both to 0\r\n\r\n```\r\n\r\nAs you can see that you tick rest happens in the second iteration itself and the inner loop then runs 2 more times adding back wrong values into your total.\r\n\r\nA better way to do this would be to maintain an output array which holds the column wise sums\r\n\r\n```java\r\npublic class Main {\r\n\r\n  public static void main(String[] args)\r\n      throws Exception {\r\n    int[][] data = { {3, 2, 5},\r\n                     {1, 4, 4, 8, 13},\r\n                     {9, 1, 0, 2},\r\n                     {0, 2, 6, 3, -1, -8} };\r\n\r\n    ArrayList&lt;Integer&gt; columnWiseSum = new ArrayList&lt;&gt;();\r\n\r\n    for (int rowIndex = 0; rowIndex &lt; data.length; rowIndex++) {\r\n      int[] row = data[rowIndex];\r\n      for (int colIndex = 0; colIndex &lt; row.length; colIndex++) {\r\n        // Insert a column into the output list if it does not exist\r\n        if (columnWiseSum.size() - 1 &lt; colIndex) {\r\n          columnWiseSum.add(0);\r\n        }\r\n\r\n        int cellValue = data[rowIndex][colIndex];\r\n        \r\n        // Add the value of this cell into the output\r\n        columnWiseSum.set(colIndex, columnWiseSum.get(colIndex) + cellValue);\r\n      }\r\n    }\r\n\r\n    System.out.println(columnWiseSum);\r\n  }\r\n}\r\n```","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>The bug is in your logic of skipping rows which have fewer columns then the current column number.</p>\n<p>In the 5th iteration when <code>col = 4</code> the row skip is working like this</p>\n<pre><code>Iteration for the inner for loop when col 4\nnum goes from 0 .. 3\n\nIteration 1 (num = 0)\n[row = 0]\nRow 0 : Size [3] Skip by doing row++\n[row = 1]\nDo logic of adding number from Row 1 into total, row++\n[row = 2]\n\nIteration 2 (num = 1)\n[row = 2]\nRow 2 : Size [4] Skip by doing row++\n[row = 3]\nDo logic of adding number from Row 3 into total, row++\n[row = 4]\nLogic to reset row and total get triggered resetting both to 0\n\n</code></pre>\n<p>As you can see that you tick rest happens in the second iteration itself and the inner loop then runs 2 more times adding back wrong values into your total.</p>\n<p>A better way to do this would be to maintain an output array which holds the column wise sums</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args)\n      throws Exception {\n    int[][] data = { {3, 2, 5},\n                     {1, 4, 4, 8, 13},\n                     {9, 1, 0, 2},\n                     {0, 2, 6, 3, -1, -8} };\n\n    ArrayList&lt;Integer&gt; columnWiseSum = new ArrayList&lt;&gt;();\n\n    for (int rowIndex = 0; rowIndex &lt; data.length; rowIndex++) {\n      int[] row = data[rowIndex];\n      for (int colIndex = 0; colIndex &lt; row.length; colIndex++) {\n        // Insert a column into the output list if it does not exist\n        if (columnWiseSum.size() - 1 &lt; colIndex) {\n          columnWiseSum.add(0);\n        }\n\n        int cellValue = data[rowIndex][colIndex];\n        \n        // Add the value of this cell into the output\n        columnWiseSum.set(colIndex, columnWiseSum.get(colIndex) + cellValue);\n      }\n    }\n\n    System.out.println(columnWiseSum);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699060690,"post_id":77418873,"comment_id":136488068,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77418873/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25464435,"reputation":1,"user_id":19263705,"display_name":"Lironz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260961,"creation_date":1699034985,"answer_id":77418873,"question_id":77417942,"body_markdown":"The outer loop had the condition `col != 5`, which meant that the outer loop would run as long as col isn&#39;t equal to `5`. This condition assumed that there were always `5` columns in the two-dimensional array, which may not be the case when subarrays have different lengths.","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>The outer loop had the condition <code>col != 5</code>, which meant that the outer loop would run as long as col isn't equal to <code>5</code>. This condition assumed that there were always <code>5</code> columns in the two-dimensional array, which may not be the case when subarrays have different lengths.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699036482,"creation_date":1699036482,"answer_id":77418977,"question_id":77417942,"body_markdown":"&gt; _&quot;... I&#39;m looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. ...&quot;_\r\n\r\nThis type of _array_ is commonly referred to as a, _&quot;[jagged array](https://en.wikipedia.org/wiki/Jagged_array)&quot;_.\r\n\r\nHere is an example.\\\r\nIterate on _data_, checking each _sub-array_ for an _n&lt;sup&gt;th&lt;/sup&gt;_ element, and increment _x_ when applicable.\r\n\r\nThis will return _&amp;minus;8_, when _n_ is _5_, and _12_, when _n_ is _4_.\r\n\r\n```java\r\nint columnSum(int n, int[][] data) {\r\n    int x = 0;\r\n    for (int[] a : data) if (n &lt; a.length) x += a[n];\r\n    return x;\r\n}\r\n```\r\n\r\nOr, use a _[stream](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\n```java\r\nint columnSum(int n, int[][] data) {\r\n    return Stream.of(data)\r\n                 .filter(x -&gt; n &lt; x.length)\r\n                 .mapToInt(x -&gt; x[n])\r\n                 .sum();\r\n}\r\n```\r\n\r\n&gt; _&quot;... I&#39;m almost there, but I can&#39;t figure out why the program is suddenly doing things seemingly against what the code is directing. ...&quot;_\r\n\r\nThe effort is valid, typically a _double loop_ is used to traverse _2-dimensional arrays_.\\\r\nAlthough, in this situation you&#39;re only accessing a single dimension, technically, so use a single _loop_.","title":"How to add all elements in a column of a two-dimensional array?","body":"<blockquote>\n<p><em>&quot;... I'm looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. ...&quot;</em></p>\n</blockquote>\n<p>This type of <em>array</em> is commonly referred to as a, <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Jagged_array\" rel=\"nofollow noreferrer\">jagged array</a>&quot;</em>.</p>\n<p>Here is an example.<br />\nIterate on <em>data</em>, checking each <em>sub-array</em> for an <em>n<sup>th</sup></em> element, and increment <em>x</em> when applicable.</p>\n<p>This will return <em>−8</em>, when <em>n</em> is <em>5</em>, and <em>12</em>, when <em>n</em> is <em>4</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int columnSum(int n, int[][] data) {\n    int x = 0;\n    for (int[] a : data) if (n &lt; a.length) x += a[n];\n    return x;\n}\n</code></pre>\n<p>Or, use a <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int columnSum(int n, int[][] data) {\n    return Stream.of(data)\n                 .filter(x -&gt; n &lt; x.length)\n                 .mapToInt(x -&gt; x[n])\n                 .sum();\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I'm almost there, but I can't figure out why the program is suddenly doing things seemingly against what the code is directing. ...&quot;</em></p>\n</blockquote>\n<p>The effort is valid, typically a <em>double loop</em> is used to traverse <em>2-dimensional arrays</em>.<br />\nAlthough, in this situation you're only accessing a single dimension, technically, so use a single <em>loop</em>.</p>\n"}],"owner":{"account_id":29483114,"reputation":1,"user_id":22593605,"display_name":"andrewc2023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699260961,"creation_date":1699025610,"question_id":77417942,"body_markdown":"I&#39;m looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. I&#39;m almost there, but I can&#39;t figure out why the program is suddenly doing things seemingly against what the code is directing. Obviously it&#39;s only doing what the code tells it to, but I can&#39;t discern exactly what and why. Help is appreciated.\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tint[][] data = { {3, 2, 5},\r\n\t\t                 {1, 4, 4, 8, 13},\r\n\t\t                 {9, 1, 0, 2},\r\n\t\t                 {0, 2, 6, 3, -1, -8} };\r\n    \t\r\n    \tint total = 0;\r\n    \tint tick = 4;\r\n    \tint row = 0;\r\n    \t\r\n    \tfor (int col = 0; col != 5; col++) {\r\n    \t\tfor (int num = 0; num &lt; data.length; num++) {\r\n    \t\t\tif (col != 0 &amp;&amp; data[row].length&lt;col+1){\r\n\t    \t\t\trow++; //checks to see whether or not the column\r\n                           // num is in range of the subarray\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\ttotal += data[row][col];\r\n\t    \t\t\r\n\t    \t\tif (row == tick-1) {\r\n\t    \t\t\tSystem.out.println(total);\r\n\t    \t\t}\r\n\t    \t\trow++;\r\n\t    \t\t\r\n\t    \t\tif (row == tick) { //stops row from going over max\r\n\t\t    \t\trow = 0;\r\n\t\t    \t\ttotal = 0;\r\n\t\t    \t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n}\r\n```","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>I'm looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. I'm almost there, but I can't figure out why the program is suddenly doing things seemingly against what the code is directing. Obviously it's only doing what the code tells it to, but I can't discern exactly what and why. Help is appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        \n        int[][] data = { {3, 2, 5},\n                         {1, 4, 4, 8, 13},\n                         {9, 1, 0, 2},\n                         {0, 2, 6, 3, -1, -8} };\n        \n        int total = 0;\n        int tick = 4;\n        int row = 0;\n        \n        for (int col = 0; col != 5; col++) {\n            for (int num = 0; num &lt; data.length; num++) {\n                if (col != 0 &amp;&amp; data[row].length&lt;col+1){\n                    row++; //checks to see whether or not the column\n                           // num is in range of the subarray\n                }\n                \n                total += data[row][col];\n                \n                if (row == tick-1) {\n                    System.out.println(total);\n                }\n                row++;\n                \n                if (row == tick) { //stops row from going over max\n                    row = 0;\n                    total = 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699265580,"post_id":77428779,"comment_id":136505296,"body_markdown":"That is not how it works. You are now passing an array of arguments to a single message. That is not how it works or will work. How should Spring (or rather the resourcebundles) know that you at 1 time have 1 message with multiple placeholders and another 1 message with 1 placeholder and want have multiple messages. What for a combination of these two?","body":"That is not how it works. You are now passing an array of arguments to a single message. That is not how it works or will work. How should Spring (or rather the resourcebundles) know that you at 1 time have 1 message with multiple placeholders and another 1 message with 1 placeholder and want have multiple messages. What for a combination of these two?"},{"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"score":0,"creation_date":1699274294,"post_id":77428779,"comment_id":136506817,"body_markdown":"Hi, I saw an array in the rejectValue parameters and thought that for one error code, you can immediately pass a lot of values in this array so that in Thymeleaf (as indicated in the example) you can output via th:each\n \nCollect the 4 lines specified in the Spring BindingResult example in one line and then output them through a loop in Thymeleaf","body":"Hi, I saw an array in the rejectValue parameters and thought that for one error code, you can immediately pass a lot of values in this array so that in Thymeleaf (as indicated in the example) you can output via th:each   Collect the 4 lines specified in the Spring BindingResult example in one line and then output them through a loop in Thymeleaf"},{"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"score":0,"creation_date":1699274434,"post_id":77428779,"comment_id":136506841,"body_markdown":"Or tell me. I didn&#39;t find in the documentation. how to use Object[] from BindingResult in Thymeleaf and Spring","body":"Or tell me. I didn&#39;t find in the documentation. how to use Object[] from BindingResult in Thymeleaf and Spring"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699274892,"post_id":77428779,"comment_id":136506920,"body_markdown":"You don&#39;t, thymeleaf integrates with spring and the messages are converted before displaying in thymeleaf.","body":"You don&#39;t, thymeleaf integrates with spring and the messages are converted before displaying in thymeleaf."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1699368193,"post_id":77428779,"comment_id":136521080,"body_markdown":"Maybe explain why you are asking this question? What do you want to do that you think this would solve?","body":"Maybe explain why you are asking this question? What do you want to do that you think this would solve?"}],"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699260828,"creation_date":1699245816,"question_id":77428779,"body_markdown":"How can I solve this method with the Object[] errorArgs parameter?\r\n\r\n\r\n\r\n\r\nWorking option Spring Controller:\r\n```\r\nbindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;123&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;345&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;678&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;910&quot;);\r\n```\r\n\r\nThymeleaf:\r\n```\r\n &lt;div class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot;&gt;\r\n                        &lt;div th:each=&quot;err : ${#fields.errors(&#39;password&#39;)}&quot;&gt;\r\n                            &lt;li class=&quot;small&quot; th:text=&quot;${err}&quot;&gt;&lt;/li&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n```\r\n\r\nWhat would I like:\r\n```\r\nbindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, new String[] {&quot;123&quot;, &quot;345&quot;, &quot;678&quot;, &quot;910&quot;}, &quot;&quot;);\r\n```\r\nwith the same Thymeleaf.","title":"How does BindingResult.rejectValue(...) work with Object[] errorArgs?","body":"<p>How can I solve this method with the Object[] errorArgs parameter?</p>\n<p>Working option Spring Controller:</p>\n<pre><code>bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;123&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;345&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;678&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;910&quot;);\n</code></pre>\n<p>Thymeleaf:</p>\n<pre><code> &lt;div class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors('password')}&quot;&gt;\n                        &lt;div th:each=&quot;err : ${#fields.errors('password')}&quot;&gt;\n                            &lt;li class=&quot;small&quot; th:text=&quot;${err}&quot;&gt;&lt;/li&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n</code></pre>\n<p>What would I like:</p>\n<pre><code>bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, new String[] {&quot;123&quot;, &quot;345&quot;, &quot;678&quot;, &quot;910&quot;}, &quot;&quot;);\n</code></pre>\n<p>with the same Thymeleaf.</p>\n"},{"tags":["java","pentaho-report-designer"],"owner":{"account_id":10212087,"reputation":1,"user_id":7538872,"display_name":"luzhk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699260717,"creation_date":1699167660,"question_id":77425019,"body_markdown":"Here is a requirement: If a group records number is less than 3，this group should not be visible. I am using pentaho report designer group tools，below is the report configuration:\r\n\r\n[![\\[Image\\](https://i.stack.imgur.com/51T4y.png)][1]][1]\r\n\r\n\r\nHow could I make the group invisible when the group records number is less than 3?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7AIbA.png","title":"pentaho-report-designer group records visible","body":"<p>Here is a requirement: If a group records number is less than 3，this group should not be visible. I am using pentaho report designer group tools，below is the report configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/7AIbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AIbA.png\" alt=\"[Image](https://i.stack.imgur.com/51T4y.png)\" /></a></p>\n<p>How could I make the group invisible when the group records number is less than 3?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","partitioning"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690364509,"post_id":76768766,"comment_id":135341960,"body_markdown":"Not a solution by any means, perhaps a temporary bypass: if you give `hibernate.hbm2ddl.auto` the value `none`, it skips the schema validation and then it works.","body":"Not a solution by any means, perhaps a temporary bypass: if you give <code>hibernate.hbm2ddl.auto</code> the value <code>none</code>, it skips the schema validation and then it works."},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1690375621,"post_id":76768766,"comment_id":135344472,"body_markdown":"It turns out, when using partitioning, I cannot create an entity on the main table, I can only create it on the partitioned tables. It seems the main table is considered as an abstract table, so technically it doesn&#39;t exist physically per se. My alternative would be to use inheritance partitioning.\nIt seems my options are either make do with the partitioned table entities only, or I have to switch to inheritance partitioning to create an entity for the main table as well.","body":"It turns out, when using partitioning, I cannot create an entity on the main table, I can only create it on the partitioned tables. It seems the main table is considered as an abstract table, so technically it doesn&#39;t exist physically per se. My alternative would be to use inheritance partitioning. It seems my options are either make do with the partitioned table entities only, or I have to switch to inheritance partitioning to create an entity for the main table as well."}],"answers":[{"tags":[],"owner":{"account_id":2065797,"reputation":1,"user_id":1841325,"display_name":"Wolfgang Schwach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260166,"creation_date":1699260166,"answer_id":77429789,"question_id":76768766,"body_markdown":"The actual solution would be to set the hibernate parameter `hibernate.hbm2ddl.extra_physical_table_types` to `PARTITIONED TABLE`. With this Hibernate will not only accept tables and views as Entity `@Table` values.\r\n\r\nSee also https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema","title":"JPA Hibernate Mapping Partitioned Table to an Entity","body":"<p>The actual solution would be to set the hibernate parameter <code>hibernate.hbm2ddl.extra_physical_table_types</code> to <code>PARTITIONED TABLE</code>. With this Hibernate will not only accept tables and views as Entity <code>@Table</code> values.</p>\n<p>See also <a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema</a></p>\n"}],"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699260166,"creation_date":1690355173,"question_id":76768766,"body_markdown":"I have a Spring Boot application where I connect to a PostgreSQL database. I have a table that I created with two columns that act as a primary key (`id` and `active_flag`) and the table is partitioned on one of them. When I map the tables to Java entities, I always get an error on the main table that it is missing, but the partitioned tables I can map them normally without any errors.\r\nIs this the normal behaviour? Can we not map the main partitioned table?\r\n\r\nBelow is my table and class mapping\r\n\r\n```\r\ncreate table test_kc (\r\n    test_id integer not null,\r\n    name text not null,\r\n    active_flag boolean not null default true,\r\n    created_at timestamp not null default now(),\r\n\r\n    constraint test_kc_pk primary key (test_id, active_flag)\r\n) partition by list (active_flag);\r\n\r\ncreate table test_kc_active partition of test_kc for values in (true);\r\ncreate table test_kc_inactive partition of test_kc for values in (false);\r\n```\r\n\r\nEntityId.java\r\n```\r\n@Data\r\npublic class EntityId implements Serializable {\r\n    private Integer id;\r\n    private Boolean activeFlag;\r\n}\r\n```\r\n\r\nTestKcEntity.java\r\n```\r\n@Entity\r\n@Table(name = &quot;test_kc&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@IdClass(EntityId.class)\r\npublic final class TestKcEntity {\r\n    @Id\r\n    @Column(name = &quot;test_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Id\r\n    @Column(name = &quot;active_flag&quot;, nullable = false)\r\n    private Boolean activeFlag;\r\n\r\n    @Column(name = &quot;created_at&quot;, nullable = false)\r\n    private OffsetDateTime createdAt;\r\n}\r\n```\r\n\r\nAs can be seen in the code above, when table name is `test_kc`, I get the below error when I run my application: `Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [test_kc]`.\r\n\r\nWhen I replace the table name to `test_kc_active`, it works fine and the application runs normally.","title":"JPA Hibernate Mapping Partitioned Table to an Entity","body":"<p>I have a Spring Boot application where I connect to a PostgreSQL database. I have a table that I created with two columns that act as a primary key (<code>id</code> and <code>active_flag</code>) and the table is partitioned on one of them. When I map the tables to Java entities, I always get an error on the main table that it is missing, but the partitioned tables I can map them normally without any errors.\nIs this the normal behaviour? Can we not map the main partitioned table?</p>\n<p>Below is my table and class mapping</p>\n<pre><code>create table test_kc (\n    test_id integer not null,\n    name text not null,\n    active_flag boolean not null default true,\n    created_at timestamp not null default now(),\n\n    constraint test_kc_pk primary key (test_id, active_flag)\n) partition by list (active_flag);\n\ncreate table test_kc_active partition of test_kc for values in (true);\ncreate table test_kc_inactive partition of test_kc for values in (false);\n</code></pre>\n<p>EntityId.java</p>\n<pre><code>@Data\npublic class EntityId implements Serializable {\n    private Integer id;\n    private Boolean activeFlag;\n}\n</code></pre>\n<p>TestKcEntity.java</p>\n<pre><code>@Entity\n@Table(name = &quot;test_kc&quot;)\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@IdClass(EntityId.class)\npublic final class TestKcEntity {\n    @Id\n    @Column(name = &quot;test_id&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Id\n    @Column(name = &quot;active_flag&quot;, nullable = false)\n    private Boolean activeFlag;\n\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private OffsetDateTime createdAt;\n}\n</code></pre>\n<p>As can be seen in the code above, when table name is <code>test_kc</code>, I get the below error when I run my application: <code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [test_kc]</code>.</p>\n<p>When I replace the table name to <code>test_kc_active</code>, it works fine and the application runs normally.</p>\n"},{"tags":["java","spring-boot","maven","xsd","wsdl"],"answers":[{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699259947,"creation_date":1699259947,"answer_id":77429771,"question_id":75817904,"body_markdown":"I&#39;m using the following:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;${basedir}/src/main/resources/mybinding.xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;${basedir}/src/main/resources/myxsd.xsd&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/generated-sources/&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThis plugin was last updated in april 2022, but it produces me source code which contains the `jakarta` package names. I tested some generators, but this one is the first which worked properly.","title":"How to generate Java from xsd/wsdl with spring boot 3.x.x in 2023","body":"<p>I'm using the following:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;${basedir}/src/main/resources/mybinding.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;${basedir}/src/main/resources/myxsd.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;outputDirectory&gt;${basedir}/src/main/generated-sources/&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>This plugin was last updated in april 2022, but it produces me source code which contains the <code>jakarta</code> package names. I tested some generators, but this one is the first which worked properly.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699259947,"creation_date":1679525365,"question_id":75817904,"body_markdown":"There are couple of projects 1:\r\n\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n2:\r\n\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\r\n3:\r\n\r\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\r\nwhen I compare it plugin from apache is the most &#39;live&#39; according to mvnrepository but it is not used in projects. First one seems the most recommended but there were 3 years pause according to mvnrepository. And the last one from jvnet which we are currently using with spring boot 2 use some older dependencies. (I don&#39;t try it with spring boot 3 )\r\n","title":"How to generate Java from xsd/wsdl with spring boot 3.x.x in 2023","body":"<p>There are couple of projects 1:</p>\n<pre><code>    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>2:</p>\n<pre><code>    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>3:</p>\n<pre><code>    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>when I compare it plugin from apache is the most 'live' according to mvnrepository but it is not used in projects. First one seems the most recommended but there were 3 years pause according to mvnrepository. And the last one from jvnet which we are currently using with spring boot 2 use some older dependencies. (I don't try it with spring boot 3 )</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":3803680,"reputation":1169,"user_id":3156636,"display_name":"Ashok_Pradhan"},"score":0,"creation_date":1402218373,"post_id":24104279,"comment_id":37182960,"body_markdown":"Refer this tutorial parsing JSON using gson library\n\nhttp://www.journaldev.com/2321/google-gson-api-for-json-processing-example-tutorial","body":"Refer this tutorial parsing JSON using gson library  <a href=\"http://www.journaldev.com/2321/google-gson-api-for-json-processing-example-tutorial\" rel=\"nofollow noreferrer\">journaldev.com/2321/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402216674,"creation_date":1402216674,"answer_id":24104388,"question_id":24104279,"body_markdown":"Without going into the details, check the package [javax.json][1]. There you can find the Json class to create a parser and then access the data in a similar way as with a map.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html","title":"Read data from json array","body":"<p>Without going into the details, check the package <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\" rel=\"nofollow\">javax.json</a>. There you can find the Json class to create a parser and then access the data in a similar way as with a map.</p>\n"},{"tags":[],"owner":{"account_id":1010774,"reputation":151,"user_id":1023392,"accept_rate":9,"display_name":"Hovav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402217685,"creation_date":1402217516,"answer_id":24104501,"question_id":24104279,"body_markdown":"in addition to what others have wrote - I would recommend to you on Jackson:\r\n\r\n    List&lt;?&gt; list = new org.codehaus.jackson.map.ObjectMapper().readValue(FileUtils.read(file), List.class);\r\n    for(Object obj: list){\r\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\r\n        //do your stuff here\r\n    }\r\n","title":"Read data from json array","body":"<p>in addition to what others have wrote - I would recommend to you on Jackson:</p>\n\n<pre><code>List&lt;?&gt; list = new org.codehaus.jackson.map.ObjectMapper().readValue(FileUtils.read(file), List.class);\nfor(Object obj: list){\n    Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\n    //do your stuff here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402217892,"creation_date":1402217534,"answer_id":24104504,"question_id":24104279,"body_markdown":"Simply use [JSONObject](http://www.json.org/javadoc/org/json/JSONObject.html) constructor.\r\n\r\n&gt; A JSONObject constructor can be used to convert an external form JSON text into an internal form whose values can be retrieved with the get and opt methods, or to convert values into a JSON text using the put and `toString` methods.  \r\n\r\nSample code: (Do in the same way for other values)\r\n\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n\r\n    JSONObject mh = jsonObject.getJSONObject(&quot;MH&quot;);\r\n    int acc=mh.getJSONObject(&quot;data&quot;).getInt(&quot;ACC&quot;); // output 4\r\n\r\n\r\nNote: Just remove enclosing [] before doing this.","title":"Read data from json array","body":"<p>Simply use <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow\">JSONObject</a> constructor.</p>\n\n<blockquote>\n  <p>A JSONObject constructor can be used to convert an external form JSON text into an internal form whose values can be retrieved with the get and opt methods, or to convert values into a JSON text using the put and <code>toString</code> methods.  </p>\n</blockquote>\n\n<p>Sample code: (Do in the same way for other values)</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(jsonString);\n\nJSONObject mh = jsonObject.getJSONObject(\"MH\");\nint acc=mh.getJSONObject(\"data\").getInt(\"ACC\"); // output 4\n</code></pre>\n\n<p>Note: Just remove enclosing [] before doing this.</p>\n"},{"comments":[{"owner":{"account_id":4583920,"reputation":11,"user_id":3719245,"display_name":"user3719245"},"score":0,"creation_date":1402218447,"post_id":24104519,"comment_id":37182975,"body_markdown":"thanks for reply. but in my case ACC is not fixed content if in database changes will occur that name will change. only data and name are fixed in that array","body":"thanks for reply. but in my case ACC is not fixed content if in database changes will occur that name will change. only data and name are fixed in that array"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1402218537,"post_id":24104519,"comment_id":37182993,"body_markdown":"If the name will change you should provide the name. you can find decoding examples [here](https://code.google.com/p/json-simple/wiki/DecodingExamples).","body":"If the name will change you should provide the name. you can find decoding examples <a href=\"https://code.google.com/p/json-simple/wiki/DecodingExamples\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1402219121,"post_id":24104519,"comment_id":37183117,"body_markdown":"@user3719245 You can also choose mapping between json object and java see [here](https://code.google.com/p/json-simple/wiki/MappingBetweenJSONAndJavaEntities).","body":"@user3719245 You can also choose mapping between json object and java see <a href=\"https://code.google.com/p/json-simple/wiki/MappingBetweenJSONAndJavaEntities\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402218287,"creation_date":1402217609,"answer_id":24104519,"question_id":24104279,"body_markdown":"You need to parse JSON from string. Using [JSON.simple][1] API you can use a parser.\r\n\r\n    JSONParser parser = new JSONParser();\r\n    try {\r\n        Object obj = parser.parse(string);\r\n        JSONArray arr = (JSONArray) obj; \r\n        Iterator&lt;Object&gt; iterator = arr.iterator();\r\n        while (iterator.hasNext()) {\r\n          JSONObject m = (JSONObject)iterator.next();\r\n          JSONObject data = (JSONObject) m.get(&quot;data&quot;);\r\n          Integer acc = (Integer)data.get(&quot;ACC&quot;);\r\n          ...  \r\n        }\t\r\n    } catch (ParseException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://code.google.com/p/json-simple/","title":"Read data from json array","body":"<p>You need to parse JSON from string. Using <a href=\"https://code.google.com/p/json-simple/\" rel=\"nofollow\">JSON.simple</a> API you can use a parser.</p>\n\n<pre><code>JSONParser parser = new JSONParser();\ntry {\n    Object obj = parser.parse(string);\n    JSONArray arr = (JSONArray) obj; \n    Iterator&lt;Object&gt; iterator = arr.iterator();\n    while (iterator.hasNext()) {\n      JSONObject m = (JSONObject)iterator.next();\n      JSONObject data = (JSONObject) m.get(\"data\");\n      Integer acc = (Integer)data.get(\"ACC\");\n      ...  \n    }   \n} catch (ParseException e) {\n  e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":4583920,"reputation":11,"user_id":3719245,"display_name":"user3719245"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1411077087,"answer_count":4,"score":0,"last_activity_date":1699259629,"creation_date":1402215675,"question_id":24104279,"body_markdown":"I have created one json array in view; it has dynamic data I am sending that array as hidden input field to the spring controller. \r\n\r\nI am getting that array as:\r\n\r\n    String string=request.getParameter(&quot;jsonStateCompanyOnSubmit&quot;);\r\n    logger.info(&quot;jsong format is:&quot;+string);\r\n\r\nThe JSON data is:\r\n\r\n    [\r\n    {\r\n      &quot;MH&quot;:{\r\n         &quot;data&quot;:{\r\n            &quot;ACC&quot;:4,\r\n            &quot;SHREE&quot;:2\r\n         },\r\n         &quot;name&quot;:&quot;MH&quot;\r\n      },\r\n      &quot;MP&quot;:{\r\n         &quot;data&quot;:{\r\n            &quot;ACC&quot;:9,\r\n            &quot;SHREE&quot;:6\r\n         },\r\n         &quot;name&quot;:&quot;MP&quot;\r\n      }\r\n    }\r\n    ] \r\n\r\n\r\nHow can I extract:\r\n\r\n    MH,ACC,4\r\n    MH,SHREE,2  \r\n    MP,ACC,9\r\n    MP,SHREE,6\r\n\r\n","title":"Read data from json array","body":"<p>I have created one json array in view; it has dynamic data I am sending that array as hidden input field to the spring controller.</p>\n<p>I am getting that array as:</p>\n<pre><code>String string=request.getParameter(&quot;jsonStateCompanyOnSubmit&quot;);\nlogger.info(&quot;jsong format is:&quot;+string);\n</code></pre>\n<p>The JSON data is:</p>\n<pre><code>[\n{\n  &quot;MH&quot;:{\n     &quot;data&quot;:{\n        &quot;ACC&quot;:4,\n        &quot;SHREE&quot;:2\n     },\n     &quot;name&quot;:&quot;MH&quot;\n  },\n  &quot;MP&quot;:{\n     &quot;data&quot;:{\n        &quot;ACC&quot;:9,\n        &quot;SHREE&quot;:6\n     },\n     &quot;name&quot;:&quot;MP&quot;\n  }\n}\n] \n</code></pre>\n<p>How can I extract:</p>\n<pre><code>MH,ACC,4\nMH,SHREE,2  \nMP,ACC,9\nMP,SHREE,6\n</code></pre>\n"},{"tags":["java","c#","iterable","enumerable"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1665739015,"post_id":74066784,"comment_id":130773277,"body_markdown":"&quot;I am NOT interested in actually creating an `Iterable&lt;&gt;` from an element&quot; So what *are* you interested in? &quot;if Java can handle enumerables/iterables as powerfully as C#&quot; is unclear.","body":"&quot;I am NOT interested in actually creating an <code>Iterable&lt;&gt;</code> from an element&quot; So what <i>are</i> you interested in? &quot;if Java can handle enumerables/iterables as powerfully as C#&quot; is unclear."},{"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"score":0,"creation_date":1665752731,"post_id":74066784,"comment_id":130777541,"body_markdown":"@Sweeper The C# code I wrote does not create an `IEnumerable&lt;&gt;` object; it merely transforms it lazily (it creates a &quot;recipe&quot; for how to get entries when needed). I want to know if Java has an equivalent.","body":"@Sweeper The C# code I wrote does not create an <code>IEnumerable&lt;&gt;</code> object; it merely transforms it lazily (it creates a &quot;recipe&quot; for how to get entries when needed). I want to know if Java has an equivalent."}],"answers":[{"comments":[{"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"score":0,"creation_date":1665753014,"post_id":74067079,"comment_id":130777676,"body_markdown":"But `Collections.singleton`/`Collections.singletonList` does create a `Set`/`List` object, right? Just like using `List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;(); myIterable.add(&quot;foo&quot;);`? Your sample implementation also creates a new object on the heap. Isn&#39;t there a lazy way of doing it like in C# where no such collection is actually created on the heap?","body":"But <code>Collections.singleton</code>/<code>Collections.singletonList</code> does create a <code>Set</code>/<code>List</code> object, right? Just like using <code>List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;(); myIterable.add(&quot;foo&quot;);</code>? Your sample implementation also creates a new object on the heap. Isn&#39;t there a lazy way of doing it like in C# where no such collection is actually created on the heap?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1665759378,"post_id":74067079,"comment_id":130780265,"body_markdown":"As i wrote - `they are being backed only by the actual element.` Collections returned from `singleton...` methods are **not** real collections, you can think of them as wrappers around the element, which only allow you iteration and other non modifying operations. It&#39;s quite different from `List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;(); myIterable.add(&quot;foo&quot;);`, which creates a real, full fledged list, backed by an array, allowing all operations.","body":"As i wrote - <code>they are being backed only by the actual element.</code> Collections returned from <code>singleton...</code> methods are <b>not</b> real collections, you can think of them as wrappers around the element, which only allow you iteration and other non modifying operations. It&#39;s quite different from <code>List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;(); myIterable.add(&quot;foo&quot;);</code>, which creates a real, full fledged list, backed by an array, allowing all operations."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1665759698,"post_id":74067079,"comment_id":130780394,"body_markdown":"My sample implementation also follows this idea. It&#39;s nothing more than a wrapper, allowing to iterate single element. And yes, it does create new object(not a collection in particular), but you can&#39;t escape from object creation. I&#39;m not expert on c#, so don&#39;t take my word for it, but i believe that this yield return IEnumerable also creates an object(again, not a collection), just the syntax is shorter.","body":"My sample implementation also follows this idea. It&#39;s nothing more than a wrapper, allowing to iterate single element. And yes, it does create new object(not a collection in particular), but you can&#39;t escape from object creation. I&#39;m not expert on c#, so don&#39;t take my word for it, but i believe that this yield return IEnumerable also creates an object(again, not a collection), just the syntax is shorter."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699258994,"creation_date":1665739233,"answer_id":74067079,"question_id":74066784,"body_markdown":"The easiest way is to use [`Collections.singleton()`][1] or [`Collections.singletonList()`][2].\r\n```\r\nCollections.singleton(1);\r\nCollections.singletonList(&quot;&quot;);\r\n```\r\nReturned collections are immutable in both cases, they are being backed only by the actual element. They are **not** real collections, in the sense, that they only allow iteration and other non modifying operations.\r\n\r\nOr you can make the implementations of `Iterator` and `Iterable` yourself, although that would be reimplementing the above to some extent (jdk already provides similar/same functionality).\r\n```\r\npublic class SingleElementIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\r\n  private final T element;\r\n  private boolean hasNext;\r\n\r\n  public SingleElementIterator(T element) {\r\n    this.element = element;\r\n    this.hasNext = true;\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    return this.hasNext;\r\n  }\r\n\r\n  @Override\r\n  public T next() {\r\n    if (this.hasNext) {\r\n      this.hasNext = false;\r\n      return this.element;\r\n    }\r\n    throw new NoSuchElementException();\r\n  }\r\n}\r\n```\r\n```\r\npublic class SingleElementIterable&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\r\n  private final T element;\r\n\r\n  public SingleElementIterable(T element) {\r\n    this.element = element;\r\n  }\r\n\r\n  @Override\r\n  public Iterator&lt;T&gt; iterator() {\r\n    return new SingleElementIterator&lt;&gt;(this.element);\r\n  }\r\n}\r\n```\r\nExample:\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) {\r\n    Iterable&lt;String&gt; iterable = new SingleElementIterable&lt;&gt;(&quot;abc&quot;);\r\n    for (String string : iterable) {\r\n      System.out.println(string);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-","title":"transform single element to Iterable in Java","body":"<p>The easiest way is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\" rel=\"nofollow noreferrer\"><code>Collections.singleton()</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-\" rel=\"nofollow noreferrer\"><code>Collections.singletonList()</code></a>.</p>\n<pre><code>Collections.singleton(1);\nCollections.singletonList(&quot;&quot;);\n</code></pre>\n<p>Returned collections are immutable in both cases, they are being backed only by the actual element. They are <strong>not</strong> real collections, in the sense, that they only allow iteration and other non modifying operations.</p>\n<p>Or you can make the implementations of <code>Iterator</code> and <code>Iterable</code> yourself, although that would be reimplementing the above to some extent (jdk already provides similar/same functionality).</p>\n<pre><code>public class SingleElementIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n  private final T element;\n  private boolean hasNext;\n\n  public SingleElementIterator(T element) {\n    this.element = element;\n    this.hasNext = true;\n  }\n\n  @Override\n  public boolean hasNext() {\n    return this.hasNext;\n  }\n\n  @Override\n  public T next() {\n    if (this.hasNext) {\n      this.hasNext = false;\n      return this.element;\n    }\n    throw new NoSuchElementException();\n  }\n}\n</code></pre>\n<pre><code>public class SingleElementIterable&lt;T&gt; implements Iterable&lt;T&gt; {\n\n  private final T element;\n\n  public SingleElementIterable(T element) {\n    this.element = element;\n  }\n\n  @Override\n  public Iterator&lt;T&gt; iterator() {\n    return new SingleElementIterator&lt;&gt;(this.element);\n  }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) {\n    Iterable&lt;String&gt; iterable = new SingleElementIterable&lt;&gt;(&quot;abc&quot;);\n    for (String string : iterable) {\n      System.out.println(string);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74067079,"answer_count":1,"score":-2,"last_activity_date":1699258994,"creation_date":1665737872,"question_id":74066784,"body_markdown":"In C#, I can transform a single element to an `IEnumerable&lt;&gt;` like this (using an extension method here):\r\n\r\n    static class Extensions\r\n    {\r\n        static IEnumerable&lt;T&gt; Yield&lt;T&gt;(this T t)\r\n        {\r\n            yield return t;\r\n        }\r\n    }\r\n\r\nI use this when I need to input an `IEnumerable&lt;&gt;` somewhere but only have a single element, like here:\r\n\r\n    var myList = new List&lt;string&gt;(&quot;foo&quot;.Yield());\r\n\r\n\r\n**Is there some equivalent way to do this in Java?**\r\n\r\nI am NOT interested in actually creating an `Iterable&lt;&gt;` on the heap from an element like\r\n\r\n    List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;();\r\n    myIterable.add(&quot;foo&quot;);\r\n\r\nbecause I already know that kind of solution; I want to know if Java can handle enumerables/iterables as powerfully as C# (C# has Linq and yield return, Java has Streams) and lazily.","title":"transform single element to Iterable in Java","body":"<p>In C#, I can transform a single element to an <code>IEnumerable&lt;&gt;</code> like this (using an extension method here):</p>\n<pre><code>static class Extensions\n{\n    static IEnumerable&lt;T&gt; Yield&lt;T&gt;(this T t)\n    {\n        yield return t;\n    }\n}\n</code></pre>\n<p>I use this when I need to input an <code>IEnumerable&lt;&gt;</code> somewhere but only have a single element, like here:</p>\n<pre><code>var myList = new List&lt;string&gt;(&quot;foo&quot;.Yield());\n</code></pre>\n<p><strong>Is there some equivalent way to do this in Java?</strong></p>\n<p>I am NOT interested in actually creating an <code>Iterable&lt;&gt;</code> on the heap from an element like</p>\n<pre><code>List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;();\nmyIterable.add(&quot;foo&quot;);\n</code></pre>\n<p>because I already know that kind of solution; I want to know if Java can handle enumerables/iterables as powerfully as C# (C# has Linq and yield return, Java has Streams) and lazily.</p>\n"},{"tags":["java","postgresql","hibernate","jsonb"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698918855,"creation_date":1698918855,"answer_id":77408569,"question_id":77408206,"body_markdown":"It seems like you&#39;re using `@Embedded` to handle a `jsonb` column parser. \r\n\r\n&gt; The JPA annotation @Embedded is used to embed a type into another entity.\r\n\r\nEmbedding entity columns and mapping of to a single database table. You can refer to this [doc](https://www.baeldung.com/jpa-embedded-embeddable) for more info.\r\n\r\n\r\nYour case if you&#39;re using Hibernate 6, this is the only thing you need.\r\n```\r\npublic class MyClassEntity {\r\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private SubClass content;\r\n}\r\n```\r\n\r\nFor Hibernate 4 and 5, you need to implement `UserType` for it\r\n```\r\npublic class SubClassType implements UserType&lt;SubClass&gt; {\r\n \r\n    public static final ObjectMapper MAPPER = new ObjectMapper();\r\n     \r\n    @Override\r\n    public int getSqlType() {\r\n        return SqlTypes.JSON;\r\n    }\r\n \r\n    @Override\r\n    public Class&lt;SubClass&gt; returnedClass() {\r\n        return SubClass.class;\r\n    }\r\n \r\n    // implementations of nullSafeGet, deepCopy...\r\n}\r\n```\r\nAlso, declare it as `Custom type` on class level. This is the [documentation](https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/). I hope it helps.\r\n","title":"Converting subclass to jsonb","body":"<p>It seems like you're using <code>@Embedded</code> to handle a <code>jsonb</code> column parser.</p>\n<blockquote>\n<p>The JPA annotation @Embedded is used to embed a type into another entity.</p>\n</blockquote>\n<p>Embedding entity columns and mapping of to a single database table. You can refer to this <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">doc</a> for more info.</p>\n<p>Your case if you're using Hibernate 6, this is the only thing you need.</p>\n<pre><code>public class MyClassEntity {\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\n    @JdbcTypeCode(SqlTypes.JSON)\n    private SubClass content;\n}\n</code></pre>\n<p>For Hibernate 4 and 5, you need to implement <code>UserType</code> for it</p>\n<pre><code>public class SubClassType implements UserType&lt;SubClass&gt; {\n \n    public static final ObjectMapper MAPPER = new ObjectMapper();\n     \n    @Override\n    public int getSqlType() {\n        return SqlTypes.JSON;\n    }\n \n    @Override\n    public Class&lt;SubClass&gt; returnedClass() {\n        return SubClass.class;\n    }\n \n    // implementations of nullSafeGet, deepCopy...\n}\n</code></pre>\n<p>Also, declare it as <code>Custom type</code> on class level. This is the <a href=\"https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/\" rel=\"nofollow noreferrer\">documentation</a>. I hope it helps.</p>\n"}],"owner":{"account_id":1844563,"reputation":1681,"user_id":1673206,"accept_rate":36,"display_name":"user1673206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699258878,"creation_date":1698915835,"question_id":77408206,"body_markdown":"Im new with Java, hibernate, postgres.\r\n\r\nIm trying to write to a table with (not so much) complex data and Im keep getting exceptions. ill be happy for some guidance.\r\n\r\nThis is the table:\r\n\r\n    CREATE TABLE IF NOT exists public.my_table (\r\n     id             uuid primary key default uuid_generate_v4(),\r\n     description     text,\r\n     content         jsonb\r\n    );\r\n\r\nThe main issue is with the `content` field and converting it to `jsonb` type.\r\n\r\n\r\nThis is the entity:\r\n\r\n```JAVA\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyClassEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id;\r\n\r\n    @Type(type = &quot;text&quot;)\r\n    @Column(name = &quot;description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Embedded\r\n    @Convert(converter = SubClassConverter.class)\r\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private SubClass content;\r\n\r\n    public void setId (UUID id) {\r\n        this.id = id;\r\n    }\r\n    public UUID getId () {\r\n        return this.id;\r\n    }\r\n    public void setDesctiption (String description) {\r\n        this.description = description;\r\n    }\r\n    public String getDescription () {\r\n        return this.description;\r\n    }\r\n    public void setContent SubClass content) {\r\n        this.content = content;\r\n    }\r\n    public SubClass getContent () {\r\n        return this.content;\r\n    }\r\n    }\r\n```\r\n\r\nThis is the `SubClass`:\r\n\r\n\r\n```JAVA\r\n    @Embeddable\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class SubClass {\r\n\r\n    @JsonProperty(&quot;param_a&quot;)\r\n    private String param_a;\r\n\r\n    @JsonProperty(&quot;param_b&quot;)\r\n    private String param_b;\r\n\r\n    @JsonProperty(&quot;regex&quot;)\r\n    private boolean regex;\r\n\r\n    public SubClass(){}\r\n\r\n    public SubClass(String param_a, String param_b, boolean regex){\r\n        this.param_a = param_a;\r\n        this.param_b = param_b;\r\n        this.regex = regex;\r\n    }\r\n\r\n    public SubClass(SubClass subClass) {\r\n        this(\r\n                subClass.getParamA(),\r\n                subClass.getParamB(),\r\n                subClass.getRegex()\r\n        );\r\n    }\r\n\r\n    //getters + setters\r\n    }\r\n```\r\n\r\nThis is the converter:\r\n\r\n\r\n```\r\n    public class SubClassConverter implements AttributeConverter&lt;SubClass, String&gt;  {\r\n   \r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public SubClassConverter() {\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumnSubClassConverter (SubClass in) {\r\n        try {\r\n            return objectMapper.writeValueAsString(in);\r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to convert&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public SubClass convertToEntityAttribute(String joined) {\r\n        \r\n        if (StringUtils.isEmpty(joined)) {\r\n            return null;\r\n        }\r\n        try {\r\n            SubClass metadata = objectMapper.readValue(joined, SubClass.class);\r\n            if (metadata == null) return null;\r\n            return metadata;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n```\r\n\r\nthis is the repository:\r\n\r\n```JAVA\r\n    @Repository\r\n    public interface MyClassRepository extends CrudRepository&lt;MyClassEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;insert into my_table (description, content) &quot; +\r\n            &quot;values (:description, cast(:content as jsonb))&quot;, nativeQuery = true)\r\n    void insertMyClass(@Param(&quot;description&quot;) String description,\r\n                       @Param(&quot;content&quot;) SubClass content);\r\n\r\n    }\r\n```\r\n\r\nThis is the exception I get:\r\n\r\n&gt; 8480 SEVERE [main] --- org.springframework.boot.SpringApplication: Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName\r\n&gt; \r\n&gt; 8480 SEVERE [main] --- org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73ee04c8] to prepare test instance [com.gms.model.services.MyClassServiceTest@39695803]\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName\r\n\r\n\r\nI must say that I tried to google it and fix it. but each &quot;fix&quot; gave me the same or other error.\r\n\r\nIm kind of stuck now and ill be happy for help","title":"Converting subclass to jsonb","body":"<p>Im new with Java, hibernate, postgres.</p>\n<p>Im trying to write to a table with (not so much) complex data and Im keep getting exceptions. ill be happy for some guidance.</p>\n<p>This is the table:</p>\n<pre><code>CREATE TABLE IF NOT exists public.my_table (\n id             uuid primary key default uuid_generate_v4(),\n description     text,\n content         jsonb\n);\n</code></pre>\n<p>The main issue is with the <code>content</code> field and converting it to <code>jsonb</code> type.</p>\n<p>This is the entity:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;my_table&quot;)\n    public class MyClassEntity {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @Type(type = &quot;text&quot;)\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Embedded\n    @Convert(converter = SubClassConverter.class)\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\n    private SubClass content;\n\n    public void setId (UUID id) {\n        this.id = id;\n    }\n    public UUID getId () {\n        return this.id;\n    }\n    public void setDesctiption (String description) {\n        this.description = description;\n    }\n    public String getDescription () {\n        return this.description;\n    }\n    public void setContent SubClass content) {\n        this.content = content;\n    }\n    public SubClass getContent () {\n        return this.content;\n    }\n    }\n</code></pre>\n<p>This is the <code>SubClass</code>:</p>\n<pre><code>    @Embeddable\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public class SubClass {\n\n    @JsonProperty(&quot;param_a&quot;)\n    private String param_a;\n\n    @JsonProperty(&quot;param_b&quot;)\n    private String param_b;\n\n    @JsonProperty(&quot;regex&quot;)\n    private boolean regex;\n\n    public SubClass(){}\n\n    public SubClass(String param_a, String param_b, boolean regex){\n        this.param_a = param_a;\n        this.param_b = param_b;\n        this.regex = regex;\n    }\n\n    public SubClass(SubClass subClass) {\n        this(\n                subClass.getParamA(),\n                subClass.getParamB(),\n                subClass.getRegex()\n        );\n    }\n\n    //getters + setters\n    }\n</code></pre>\n<p>This is the converter:</p>\n<pre><code>    public class SubClassConverter implements AttributeConverter&lt;SubClass, String&gt;  {\n   \n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    public SubClassConverter() {\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    }\n\n    @Override\n    public String convertToDatabaseColumnSubClassConverter (SubClass in) {\n        try {\n            return objectMapper.writeValueAsString(in);\n        }\n        catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to convert&quot;, e);\n        }\n    }\n\n    @Override\n    public SubClass convertToEntityAttribute(String joined) {\n        \n        if (StringUtils.isEmpty(joined)) {\n            return null;\n        }\n        try {\n            SubClass metadata = objectMapper.readValue(joined, SubClass.class);\n            if (metadata == null) return null;\n            return metadata;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n    }\n</code></pre>\n<p>this is the repository:</p>\n<pre><code>    @Repository\n    public interface MyClassRepository extends CrudRepository&lt;MyClassEntity, UUID&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;insert into my_table (description, content) &quot; +\n            &quot;values (:description, cast(:content as jsonb))&quot;, nativeQuery = true)\n    void insertMyClass(@Param(&quot;description&quot;) String description,\n                       @Param(&quot;content&quot;) SubClass content);\n\n    }\n</code></pre>\n<p>This is the exception I get:</p>\n<blockquote>\n<p>8480 SEVERE [main] --- org.springframework.boot.SpringApplication: Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName</p>\n<p>8480 SEVERE [main] --- org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73ee04c8] to prepare test instance [com.gms.model.services.MyClassServiceTest@39695803]</p>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName</p>\n</blockquote>\n<p>I must say that I tried to google it and fix it. but each &quot;fix&quot; gave me the same or other error.</p>\n<p>Im kind of stuck now and ill be happy for help</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699258160,"post_id":77420932,"comment_id":136504110,"body_markdown":"not clear: &quot;the output should be ... order 58 textbooks for a total cost of $244.76&quot; and &quot;my output for the textbooks and cost at last is 58 and 244.76&quot; - what is wrong with that? (despite the additional backslashes in `main(String\\[\\] args)`)","body":"not clear: &quot;the output should be ... order 58 textbooks for a total cost of $244.76&quot; and &quot;my output for the textbooks and cost at last is 58 and 244.76&quot; - what is wrong with that? (despite the additional backslashes in <code>main(String\\[\\] args)</code>)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699259184,"post_id":77420932,"comment_id":136504241,"body_markdown":"and are you sure the &quot;percentage of late textbook&quot; is just 0.15 and not 15 ? 0.15% of 58 is 0.09, and not 9 (`67-58`) - Based on that, I suppose that when you wrote &quot;*cost at last*&quot; you meant the last output, the &quot;late textbook requests&quot; - so the error in posted example is the input of `0.15` instead of `15`","body":"and are you sure the &quot;percentage of late textbook&quot; is just 0.15 and not 15 ? 0.15% of 58 is 0.09, and not 9 (<code>67-58</code>) - Based on that, I suppose that when you wrote &quot;<i>cost at last</i>&quot; you meant the last output, the &quot;late textbook requests&quot; - so the error in posted example is the input of <code>0.15</code> instead of <code>15</code>"}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699258630,"creation_date":1699078545,"answer_id":77420961,"question_id":77420932,"body_markdown":"In calculation for `textbooksToOrder` you divide the `totalTextbooks` by 12 and then rounds up which seems wrong - books are not sold in dozens. Then, for late requests, you multiply `textbooksToOrder` by the late request multiplier, but this doesn&#39;t consider the original number of textbooks (`totalTextbooks`). Also, the code uses both `Math.round()` and `Math.ceil()` which is redundant. Since you want to make sure you have enough textbooks, using  `Math.ceil()` only makes more sense. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ProgramSummary {\r\n  public static void main(String[] args) {\r\n    Scanner scnr = new Scanner(System.in);\r\n\r\n    int totalStudents = scnr.nextInt();\r\n    int textbooksPerStudent = scnr.nextInt();\r\n    double costPerTextbook = scnr.nextDouble();\r\n    double lateRequestPercentage = scnr.nextDouble();\r\n\r\n    int totalTextbooks = totalStudents * textbooksPerStudent;\r\n\r\n    double totalCost = totalTextbooks * costPerTextbook;\r\n\r\n    System.out.println(&quot;This order will support &quot; + totalStudents\r\n       + &quot; students, each needing &quot; + textbooksPerStudent \r\n       + &quot; textbooks.&quot;);\r\n    System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\r\n    System.out.println(&quot;You will need to order &quot; + totalTextbooks \r\n       + &quot; textbooks for a total cost of $&quot; \r\n       + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\r\n\r\n    double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\r\n    double lateRequestTextbooks = totalTextbooks * lateRequestMultiplier;\r\n    int roundedLateRequestTextbooks = (int) Math.ceil(lateRequestTextbooks);\r\n    double lateRequestCost = roundedLateRequestTextbooks * costPerTextbook;\r\n\r\n    System.out.println(\r\n      String.format(&quot;Allowing for late textbook requests, you should &quot; +\r\n        &quot;order: %d textbooks for a cost of $%.2f.&quot;, \r\n        roundedLateRequestTextbooks, lateRequestCost)\r\n      );\r\n  }\r\n}\r\n```","title":"Where is the mistake in my math logic? (Java)","body":"<p>In calculation for <code>textbooksToOrder</code> you divide the <code>totalTextbooks</code> by 12 and then rounds up which seems wrong - books are not sold in dozens. Then, for late requests, you multiply <code>textbooksToOrder</code> by the late request multiplier, but this doesn't consider the original number of textbooks (<code>totalTextbooks</code>). Also, the code uses both <code>Math.round()</code> and <code>Math.ceil()</code> which is redundant. Since you want to make sure you have enough textbooks, using  <code>Math.ceil()</code> only makes more sense.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ProgramSummary {\n  public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n\n    int totalStudents = scnr.nextInt();\n    int textbooksPerStudent = scnr.nextInt();\n    double costPerTextbook = scnr.nextDouble();\n    double lateRequestPercentage = scnr.nextDouble();\n\n    int totalTextbooks = totalStudents * textbooksPerStudent;\n\n    double totalCost = totalTextbooks * costPerTextbook;\n\n    System.out.println(&quot;This order will support &quot; + totalStudents\n       + &quot; students, each needing &quot; + textbooksPerStudent \n       + &quot; textbooks.&quot;);\n    System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\n    System.out.println(&quot;You will need to order &quot; + totalTextbooks \n       + &quot; textbooks for a total cost of $&quot; \n       + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\n\n    double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\n    double lateRequestTextbooks = totalTextbooks * lateRequestMultiplier;\n    int roundedLateRequestTextbooks = (int) Math.ceil(lateRequestTextbooks);\n    double lateRequestCost = roundedLateRequestTextbooks * costPerTextbook;\n\n    System.out.println(\n      String.format(&quot;Allowing for late textbook requests, you should &quot; +\n        &quot;order: %d textbooks for a cost of $%.2f.&quot;, \n        roundedLateRequestTextbooks, lateRequestCost)\n      );\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699230135,"creation_date":1699230135,"answer_id":77428147,"question_id":77420932,"body_markdown":"Here is step 1.\r\n\r\n```java\r\nimport static java.lang.String.valueOf;\r\nimport static java.math.RoundingMode.HALF_EVEN;\r\n```\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\n// The total number of students that the educational program will need to support.\r\n// The number of textbooks needed per student.\r\nint a = in.nextInt(), b = in.nextInt();\r\n// The cost of one textbook.\r\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\r\n// The expected percentage of late textbook requests (not used in this step).\r\ndouble d = in.nextDouble();\r\n\r\n// Calculate the number of textbooks required based on the number of students.\r\nint x = a * b;\r\n// Calculate the total cost to the organization for ordering the textbooks.\r\nBigDecimal y = c.multiply(new BigDecimal(x));\r\n\r\n// Display a summary report, including the input values and the calculated cost.\r\nSystem.out.println(&quot;a = &quot; + a);\r\nSystem.out.println(&quot;b = &quot; + b);\r\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\r\nSystem.out.println(&quot;d = &quot; + d);\r\nSystem.out.println(&quot;x = &quot; + x);\r\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n231 3 4.22 .15\r\na = 231\r\nb = 3\r\nc = $4.22\r\nd = 0.15\r\nx = 693\r\ny = $2924.46\r\n```\r\n\r\nAnd, here is step 2.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\n// The total number of students that the educational program will need to support.\r\n// The number of textbooks needed per student.\r\nint a = in.nextInt(), b = in.nextInt();\r\n// The cost of one textbook.\r\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\r\n// The expected percentage of late textbook requests.\r\ndouble d = in.nextDouble();\r\n\r\n// Calculate the number of textbooks required.\r\nint x = a * b;\r\n// Calculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\r\nBigDecimal y = c.multiply(new BigDecimal(x));\r\n// Calculate the additional costs to account for late textbook requests.\r\n// The percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\r\nBigDecimal z = new BigDecimal(valueOf(x));\r\nz = z.multiply(new BigDecimal(valueOf(d)));\r\nz = z.multiply(c).setScale(2, HALF_EVEN);\r\n\r\n// Display a summary of the inputs and an itemized list of the costs.\r\nSystem.out.println(&quot;a = &quot; + a);\r\nSystem.out.println(&quot;b = &quot; + b);\r\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\r\nSystem.out.println(&quot;d = &quot; + d);\r\nSystem.out.println(&quot;x = &quot; + x);\r\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\r\nSystem.out.println(&quot;z = $&quot; + z.toPlainString());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n231 3 4.22 .15\r\na = 231\r\nb = 3\r\nc = $4.22\r\nd = 0.15\r\nx = 693\r\ny = $2924.46\r\nz = $438.67\r\n```","title":"Where is the mistake in my math logic? (Java)","body":"<p>Here is step 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.valueOf;\nimport static java.math.RoundingMode.HALF_EVEN;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\n// The total number of students that the educational program will need to support.\n// The number of textbooks needed per student.\nint a = in.nextInt(), b = in.nextInt();\n// The cost of one textbook.\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\n// The expected percentage of late textbook requests (not used in this step).\ndouble d = in.nextDouble();\n\n// Calculate the number of textbooks required based on the number of students.\nint x = a * b;\n// Calculate the total cost to the organization for ordering the textbooks.\nBigDecimal y = c.multiply(new BigDecimal(x));\n\n// Display a summary report, including the input values and the calculated cost.\nSystem.out.println(&quot;a = &quot; + a);\nSystem.out.println(&quot;b = &quot; + b);\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\nSystem.out.println(&quot;d = &quot; + d);\nSystem.out.println(&quot;x = &quot; + x);\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>231 3 4.22 .15\na = 231\nb = 3\nc = $4.22\nd = 0.15\nx = 693\ny = $2924.46\n</code></pre>\n<p>And, here is step 2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\n// The total number of students that the educational program will need to support.\n// The number of textbooks needed per student.\nint a = in.nextInt(), b = in.nextInt();\n// The cost of one textbook.\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\n// The expected percentage of late textbook requests.\ndouble d = in.nextDouble();\n\n// Calculate the number of textbooks required.\nint x = a * b;\n// Calculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\nBigDecimal y = c.multiply(new BigDecimal(x));\n// Calculate the additional costs to account for late textbook requests.\n// The percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\nBigDecimal z = new BigDecimal(valueOf(x));\nz = z.multiply(new BigDecimal(valueOf(d)));\nz = z.multiply(c).setScale(2, HALF_EVEN);\n\n// Display a summary of the inputs and an itemized list of the costs.\nSystem.out.println(&quot;a = &quot; + a);\nSystem.out.println(&quot;b = &quot; + b);\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\nSystem.out.println(&quot;d = &quot; + d);\nSystem.out.println(&quot;x = &quot; + x);\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\nSystem.out.println(&quot;z = $&quot; + z.toPlainString());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>231 3 4.22 .15\na = 231\nb = 3\nc = $4.22\nd = 0.15\nx = 693\ny = $2924.46\nz = $438.67\n</code></pre>\n"}],"owner":{"account_id":29823259,"reputation":11,"user_id":22855919,"display_name":"Simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699258630,"creation_date":1699077804,"question_id":77420932,"body_markdown":"Subject: A charity organization that supports their clients with educational materials needs to order enough textbooks to support the learning needs of their clients and to calculate the total cost of purchasing the textbooks.\r\n\r\nStep 1:\r\n\r\nInput:\r\nThe total number of students that the educational program will need to support.\r\nThe number of textbooks needed per student.\r\nThe cost of one textbook.\r\nThe expected percentage of late textbook requests (not used in this step).\r\nCalculation:\r\nCalculate the number of textbooks required based on the number of students.\r\nCalculate the total cost to the organization for ordering the textbooks.\r\nOutput:\r\nDisplay a summary report, including the input values and the calculated cost.\r\n\r\nStep 2:\r\n\r\nInput:\r\nThe total number of students that the educational program will need to support.\r\nThe number of textbooks needed per student.\r\nThe cost of one textbook.\r\nThe expected percentage of late textbook requests.\r\nCalculation:\r\nCalculate the number of textbooks required.\r\nCalculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\r\nCalculate the additional costs to account for late textbook requests.\r\nThe percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\r\nOutput:\r\nDisplay a summary of the inputs and an itemized list of the costs.\r\n\r\nHere is my code:\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class ProgramSummary {\r\npublic static void main(String\\[\\] args) {\r\nScanner scnr = new Scanner(System.in);\r\n\r\n        // Input\r\n        int totalStudents = scnr.nextInt(); // Total number of students\r\n        int textbooksPerStudent = scnr.nextInt(); // Number of textbooks needed per student\r\n        double costPerTextbook = scnr.nextDouble(); // Cost of one textbook\r\n        double lateRequestPercentage = scnr.nextDouble(); // Expected percentage of late textbook requests\r\n    \r\n        // Calculate number of textbooks required\r\n        int totalTextbooks = totalStudents * textbooksPerStudent;\r\n        int textbooksToOrder = (int) Math.ceil((double) totalTextbooks / 12);\r\n    \r\n        // Calculate total cost\r\n        double totalCost = textbooksToOrder * costPerTextbook;\r\n    \r\n        // Output\r\n        System.out.println(&quot;Total number of students:&quot;);\r\n        System.out.println(&quot;Number of textbooks needed per student:&quot;);\r\n        System.out.println(&quot;Cost per textbook:&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;This order will support &quot; + totalStudents + &quot; students, each needing &quot; + textbooksPerStudent + &quot; textbooks.&quot;);\r\n        System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\r\n        System.out.println(&quot;You will need to order &quot; + textbooksToOrder + &quot; textbooks for a total cost of $&quot; + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\r\n```\r\n    \r\n        \r\n```\r\n// Input for late requests\r\n        System.out.println();\r\n        System.out.println(&quot;Please input the expected percentage of late textbook requests:&quot;);\r\n        System.out.println();\r\n        double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\r\n        double lateRequestTextbooks = (textbooksToOrder * lateRequestMultiplier);\r\n        int roundedLateRequestTextbooks = (int) Math.round(lateRequestTextbooks);\r\n    \r\n        double lateRequestCost = (double) roundedLateRequestTextbooks * costPerTextbook;\r\n    \r\n        // Modified output to match expected format\r\n        System.out.print(&quot;Allowing for late textbook requests, you should order: &quot; + (int) Math.ceil(roundedLateRequestTextbooks) + &quot; textbooks for a cost of $&quot; + String.format(&quot;%.2f&quot;, lateRequestCost) + &quot;.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf the input is\r\n\r\n231\r\n\r\n3\r\n\r\n4.22\r\n\r\n0.15\r\n\r\nThen the output should be\r\n\r\nThis order will support 231 students, each needing 3 textbooks.\r\nTotal textbooks needed: 693\r\nYou will need to order 58 textbooks for a total cost of $244.76.\r\n\r\nAllowing for late textbook requests, you should order: 67 textbooks for a cost of $282.74.\r\n\r\nBut for some reasons my output for the textbooks and cost at  last is 58 and 244.76\r\n\r\nI tried to change or add more values in to round it up but it still wrong.","title":"Where is the mistake in my math logic? (Java)","body":"<p>Subject: A charity organization that supports their clients with educational materials needs to order enough textbooks to support the learning needs of their clients and to calculate the total cost of purchasing the textbooks.</p>\n<p>Step 1:</p>\n<p>Input:\nThe total number of students that the educational program will need to support.\nThe number of textbooks needed per student.\nThe cost of one textbook.\nThe expected percentage of late textbook requests (not used in this step).\nCalculation:\nCalculate the number of textbooks required based on the number of students.\nCalculate the total cost to the organization for ordering the textbooks.\nOutput:\nDisplay a summary report, including the input values and the calculated cost.</p>\n<p>Step 2:</p>\n<p>Input:\nThe total number of students that the educational program will need to support.\nThe number of textbooks needed per student.\nThe cost of one textbook.\nThe expected percentage of late textbook requests.\nCalculation:\nCalculate the number of textbooks required.\nCalculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\nCalculate the additional costs to account for late textbook requests.\nThe percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\nOutput:\nDisplay a summary of the inputs and an itemized list of the costs.</p>\n<p>Here is my code:</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class ProgramSummary {\npublic static void main(String\\[\\] args) {\nScanner scnr = new Scanner(System.in);\n\n        // Input\n        int totalStudents = scnr.nextInt(); // Total number of students\n        int textbooksPerStudent = scnr.nextInt(); // Number of textbooks needed per student\n        double costPerTextbook = scnr.nextDouble(); // Cost of one textbook\n        double lateRequestPercentage = scnr.nextDouble(); // Expected percentage of late textbook requests\n    \n        // Calculate number of textbooks required\n        int totalTextbooks = totalStudents * textbooksPerStudent;\n        int textbooksToOrder = (int) Math.ceil((double) totalTextbooks / 12);\n    \n        // Calculate total cost\n        double totalCost = textbooksToOrder * costPerTextbook;\n    \n        // Output\n        System.out.println(&quot;Total number of students:&quot;);\n        System.out.println(&quot;Number of textbooks needed per student:&quot;);\n        System.out.println(&quot;Cost per textbook:&quot;);\n        System.out.println();\n        System.out.println(&quot;This order will support &quot; + totalStudents + &quot; students, each needing &quot; + textbooksPerStudent + &quot; textbooks.&quot;);\n        System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\n        System.out.println(&quot;You will need to order &quot; + textbooksToOrder + &quot; textbooks for a total cost of $&quot; + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\n</code></pre>\n<pre><code>// Input for late requests\n        System.out.println();\n        System.out.println(&quot;Please input the expected percentage of late textbook requests:&quot;);\n        System.out.println();\n        double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\n        double lateRequestTextbooks = (textbooksToOrder * lateRequestMultiplier);\n        int roundedLateRequestTextbooks = (int) Math.round(lateRequestTextbooks);\n    \n        double lateRequestCost = (double) roundedLateRequestTextbooks * costPerTextbook;\n    \n        // Modified output to match expected format\n        System.out.print(&quot;Allowing for late textbook requests, you should order: &quot; + (int) Math.ceil(roundedLateRequestTextbooks) + &quot; textbooks for a cost of $&quot; + String.format(&quot;%.2f&quot;, lateRequestCost) + &quot;.&quot;);\n    }\n\n}\n</code></pre>\n<p>If the input is</p>\n<p>231</p>\n<p>3</p>\n<p>4.22</p>\n<p>0.15</p>\n<p>Then the output should be</p>\n<p>This order will support 231 students, each needing 3 textbooks.\nTotal textbooks needed: 693\nYou will need to order 58 textbooks for a total cost of $244.76.</p>\n<p>Allowing for late textbook requests, you should order: 67 textbooks for a cost of $282.74.</p>\n<p>But for some reasons my output for the textbooks and cost at  last is 58 and 244.76</p>\n<p>I tried to change or add more values in to round it up but it still wrong.</p>\n"},{"tags":["java","spring-boot","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":3528543,"reputation":1934,"user_id":2948891,"display_name":"taleodor"},"score":0,"creation_date":1654947424,"post_id":71996061,"comment_id":128216561,"body_markdown":"Did you mean to downgrade reactor dependency instead of upgrade - because the included version is 3.4.10? Also doesn&#39;t seem to solve the issue for me.","body":"Did you mean to downgrade reactor dependency instead of upgrade - because the included version is 3.4.10? Also doesn&#39;t seem to solve the issue for me."},{"owner":{"account_id":3528543,"reputation":1934,"user_id":2948891,"display_name":"taleodor"},"score":0,"creation_date":1657615236,"post_id":71996061,"comment_id":128846742,"body_markdown":"Fyi, fixed for me with spring boot 2.7.1 when setting reactor-core to 3.4.19","body":"Fyi, fixed for me with spring boot 2.7.1 when setting reactor-core to 3.4.19"}],"tags":[],"owner":{"account_id":25084600,"reputation":41,"user_id":18936965,"display_name":"jiangjianbo"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650882330,"creation_date":1650872659,"answer_id":71996061,"question_id":71989222,"body_markdown":"Upgrade you pom.xml \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>Upgrade you pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;version&gt;3.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2493303,"reputation":145,"user_id":2170369,"display_name":"Antonio Lopez"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655846241,"creation_date":1655846241,"answer_id":72707206,"question_id":71989222,"body_markdown":"The method that can&#39;t be found is in the class MonoSink (in reactor-core project): https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\r\n\r\nSince this was an exception you got after upgrading from spring boot version 2.6.6, I guess that the class that can&#39;t find it is HttpClientConnect (in project reactor-netty-http). It would be good to have the whole stack exception though.\r\n\r\n@jiangjianbo is not wrong saying that you need to update reactor-core to solve this but not to version 3.4.3. It should be at least the version 3.4.17 (That said I would take latest one, which at the time of writing this is 3.4.19). As you can see in version 3.4.16 contextView() was not yet created: https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>The method that can't be found is in the class MonoSink (in reactor-core project): <a href=\"https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\" rel=\"noreferrer\">https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java</a></p>\n<p>Since this was an exception you got after upgrading from spring boot version 2.6.6, I guess that the class that can't find it is HttpClientConnect (in project reactor-netty-http). It would be good to have the whole stack exception though.</p>\n<p>@jiangjianbo is not wrong saying that you need to update reactor-core to solve this but not to version 3.4.3. It should be at least the version 3.4.17 (That said I would take latest one, which at the time of writing this is 3.4.19). As you can see in version 3.4.16 contextView() was not yet created: <a href=\"https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\" rel=\"noreferrer\">https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678181724,"post_id":75613989,"comment_id":133479421,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75613989/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"score":0,"creation_date":1680601437,"post_id":75613989,"comment_id":133921965,"body_markdown":"The newer versions of spring boot require the more recent version of reactor lib, otherwise, it causes this error, I didn&#39;t investigate the details but updating versions fixes the issue.\nBesides errors, it uses all connections pool and transactions across application. So it hangs and everything is languid.\nThe proper version could be found here:\n[spring dependencies](https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html)","body":"The newer versions of spring boot require the more recent version of reactor lib, otherwise, it causes this error, I didn&#39;t investigate the details but updating versions fixes the issue. Besides errors, it uses all connections pool and transactions across application. So it hangs and everything is languid. The proper version could be found here: <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html\" rel=\"nofollow noreferrer\">spring dependencies</a>"}],"tags":[],"owner":{"account_id":11523422,"reputation":41,"user_id":8444571,"display_name":"Abhishek"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677751922,"creation_date":1677751922,"answer_id":75613989,"question_id":71989222,"body_markdown":"Upgrade pom.xml\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>Upgrade pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;version&gt;3.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23628494,"reputation":21,"user_id":17660617,"display_name":"Omar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678313993,"creation_date":1678313993,"answer_id":75678766,"question_id":71989222,"body_markdown":"You&#39;ve reload Maven project. \r\n\r\nRight click on Maven -&gt; Reload project. After that rerun your app.","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>You've reload Maven project.</p>\n<p>Right click on Maven -&gt; Reload project. After that rerun your app.</p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1699258347,"post_id":77429400,"comment_id":136504132,"body_markdown":"what is this? an answer to the question? a different question and its answer?","body":"what is this? an answer to the question? a different question and its answer?"},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1699644434,"post_id":77429400,"comment_id":136562331,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/35229449)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/35229449\">From Review</a>"}],"tags":[],"owner":{"account_id":11628511,"reputation":11,"user_id":8517552,"display_name":"sunny"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699258329,"creation_date":1699255779,"answer_id":77429400,"question_id":71989222,"body_markdown":"After upgrading spring boot 3.1.4 version, i need to exclude reactor core and add again with downgraded version 3.4.9. Here is the pom: \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.19&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>After upgrading spring boot 3.1.4 version, i need to exclude reactor core and add again with downgraded version 3.4.9. Here is the pom:\n\ncom.azure.spring\nspring-cloud-azure-starter\n4.0.0\n</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13445,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1699258329,"creation_date":1650809469,"question_id":71989222,"body_markdown":"After upgrade Spring Boot version from 2.6.6 to 2.6.7, I&#39;m getting below error while executing web client rest calls. Any idea?\r\n\r\nSample code\r\n```\r\npublic void execute(BiConsumer&lt;ResponseEntity&lt;JsonNode&gt;, Throwable&gt; responseConsumer) {\r\n    WebClient.RequestBodyUriSpec uriSpec = getUriSpec();\r\n    Mono&lt;ResponseEntity&lt;JsonNode&gt;&gt; responseEntityMono = uriSpec\r\n            .uri(this::buildUri)//&quot;localhost:1234&quot;)//\r\n            .headers(this::setHeaders)\r\n            .body(insertBody())\r\n            .retrieve().onRawStatus(i -&gt; i == 599,\r\n            response -&gt; response.bodyToMono(String.class)\r\n                .map(body -&gt; new ExternalException(599, body)))\r\n            .toEntity(JsonNode.class);\r\n    CompletableFuture&lt;ResponseEntity&lt;JsonNode&gt;&gt; completableFuture = responseEntityMono.toFuture();\r\n    completableFuture.whenCompleteAsync(responseConsumer);\r\n}\r\n```\r\n","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>After upgrade Spring Boot version from 2.6.6 to 2.6.7, I'm getting below error while executing web client rest calls. Any idea?</p>\n<p>Sample code</p>\n<pre><code>public void execute(BiConsumer&lt;ResponseEntity&lt;JsonNode&gt;, Throwable&gt; responseConsumer) {\n    WebClient.RequestBodyUriSpec uriSpec = getUriSpec();\n    Mono&lt;ResponseEntity&lt;JsonNode&gt;&gt; responseEntityMono = uriSpec\n            .uri(this::buildUri)//&quot;localhost:1234&quot;)//\n            .headers(this::setHeaders)\n            .body(insertBody())\n            .retrieve().onRawStatus(i -&gt; i == 599,\n            response -&gt; response.bodyToMono(String.class)\n                .map(body -&gt; new ExternalException(599, body)))\n            .toEntity(JsonNode.class);\n    CompletableFuture&lt;ResponseEntity&lt;JsonNode&gt;&gt; completableFuture = responseEntityMono.toFuture();\n    completableFuture.whenCompleteAsync(responseConsumer);\n}\n</code></pre>\n"},{"tags":["java","android","spring","flutter","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699258298,"post_id":77429100,"comment_id":136504127,"body_markdown":"Just upgrade the gradle wrapper to the version mentioned in the error message: https://stackoverflow.com/a/36385128/150978","body":"Just upgrade the gradle wrapper to the version mentioned in the error message: <a href=\"https://stackoverflow.com/a/36385128/150978\">stackoverflow.com/a/36385128/150978</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699271773,"post_id":77429100,"comment_id":136506390,"body_markdown":"Have you tried following the advice in the error message? It seems pretty clear.","body":"Have you tried following the advice in the error message? It seems pretty clear."}],"owner":{"account_id":18421292,"reputation":153,"user_id":13418864,"display_name":"Sumit Banwakade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699258223,"creation_date":1699251810,"question_id":77429100,"body_markdown":"\r\nI primarily work with Flutter, and I recently configured my system for the Spring framework in Java. However, I&#39;ve been encountering an issue in every Flutter project I work on. Despite the fact that the projects build and run successfully, there&#39;s a persistent warning that&#39;s been bothering me.\r\n\r\nThe warning message I receive is as follows:\r\n[![enter image description here][1]][1]\r\n\r\n&gt; The supplied phased action failed with an exception. A problem occurred configuring the root project &#39;android&#39;. A problem occurred when evaluating the root project &#39;android&#39;. A problem occurred configuring the project &#39;:app&#39;. A problem occurred when evaluating the project &#39;:app&#39;. It failed to apply the &#39;com.android.internal.version-check&#39; plugin, stating that the minimum supported Gradle version is 7.5, while the current version is 7.4.2. If you are using the Gradle wrapper, you might want to consider editing the &#39;distributionUrl&#39; in the &#39;gradle-wrapper.properties&#39; file located at &#39;E:\\APPFLOWY\\1\\AppFlowy\\frontend\\appflowy_flutter\\android\\gradle\\wrapper\\gradle-wrapper.properties&#39; to &#39;gradle-7.5-all.zip&#39;.&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awQVX.png","title":"The supplied phased action failed with an exception : minimum supported Gradle version is 7.5. Current version is 7.4.2","body":"<p>I primarily work with Flutter, and I recently configured my system for the Spring framework in Java. However, I've been encountering an issue in every Flutter project I work on. Despite the fact that the projects build and run successfully, there's a persistent warning that's been bothering me.</p>\n<p>The warning message I receive is as follows:\n<a href=\"https://i.stack.imgur.com/awQVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awQVX.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>The supplied phased action failed with an exception. A problem occurred configuring the root project 'android'. A problem occurred when evaluating the root project 'android'. A problem occurred configuring the project ':app'. A problem occurred when evaluating the project ':app'. It failed to apply the 'com.android.internal.version-check' plugin, stating that the minimum supported Gradle version is 7.5, while the current version is 7.4.2. If you are using the Gradle wrapper, you might want to consider editing the 'distributionUrl' in the 'gradle-wrapper.properties' file located at 'E:\\APPFLOWY\\1\\AppFlowy\\frontend\\appflowy_flutter\\android\\gradle\\wrapper\\gradle-wrapper.properties' to 'gradle-7.5-all.zip'.&quot;</p>\n</blockquote>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":19951244,"reputation":2880,"user_id":14620854,"display_name":"Ashkanxy"},"score":0,"creation_date":1622529330,"post_id":67783607,"comment_id":119810692,"body_markdown":"Yes they are both set-up and configured in project structure section","body":"Yes they are both set-up and configured in project structure section"}],"tags":[],"owner":{"account_id":12621038,"reputation":433,"user_id":9176523,"display_name":"Dheeraj Gupta"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1622528467,"creation_date":1622528467,"answer_id":67783607,"question_id":67782975,"body_markdown":"Check if JDK is installed or not configure your SDK also and try again\r\nyou can download JDKfrom [Java SE][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-downloads.html","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Check if JDK is installed or not configure your SDK also and try again\nyou can download JDKfrom <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">Java SE</a></p>\n"},{"tags":[],"owner":{"account_id":19379872,"reputation":539,"user_id":14171381,"display_name":"Meraj"},"comment_count":0,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1625501458,"creation_date":1625501458,"answer_id":68259155,"question_id":67782975,"body_markdown":"**I think I found the solution.**\r\n\r\nIf you are importing an old project you are likely to face this error.\r\n\r\nBasically you made your old project with lower JDK versions and now you have higher JDK versions installed currently in your system.\r\n\r\nYou should avoid higher JDK versions for building older projects.\r\n\r\n1. Basically Download JDK 8 (1.8) and install it.\r\n2. change environment variable (write JDK 8 path to environment variable)\r\n3. Then change your project structure and write JDK 8 path to JDK location.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KEEM.png\r\n\r\n4. invalidate caches and restart android studio.\r\n5. build your project and it should work.\r\n\r\n\r\n______________________________________________________________\r\n\r\nIf you got the following error:\r\n\r\n    Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536\r\n\r\n\r\nThen add the following dependency in your app.gradle file:\r\n\r\n     // multidex\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n\r\nthen you need to enable multidex in your app.gradle file.\r\n\r\n    \r\n    android {\r\n    compileSdkVersion 30\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.convenient.easymeasure&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n   ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>I think I found the solution.</strong></p>\n<p>If you are importing an old project you are likely to face this error.</p>\n<p>Basically you made your old project with lower JDK versions and now you have higher JDK versions installed currently in your system.</p>\n<p>You should avoid higher JDK versions for building older projects.</p>\n<ol>\n<li>Basically Download JDK 8 (1.8) and install it.</li>\n<li>change environment variable (write JDK 8 path to environment variable)</li>\n<li>Then change your project structure and write JDK 8 path to JDK location.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8KEEM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8KEEM.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>invalidate caches and restart android studio.</li>\n<li>build your project and it should work.</li>\n</ol>\n<hr />\n<p>If you got the following error:</p>\n<pre><code>Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536\n</code></pre>\n<p>Then add the following dependency in your app.gradle file:</p>\n<pre><code> // multidex\nimplementation 'com.android.support:multidex:1.0.3'\n</code></pre>\n<p>then you need to enable multidex in your app.gradle file.</p>\n<pre><code>android {\ncompileSdkVersion 30\n\ndefaultConfig {\n    applicationId &quot;com.convenient.easymeasure&quot;\n    minSdkVersion 19\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n    multiDexEnabled true\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1323611,"reputation":345,"user_id":1268912,"accept_rate":22,"display_name":"lopes710"},"score":0,"creation_date":1635023615,"post_id":68992409,"comment_id":123186132,"body_markdown":"I was fighting with Android Studio Artic Fox (for 2 days) to build and run an android emulator. Flutter doctor was all good. I tried JDK 11, 15, 16. I tried adding variables to .bash_profile. I installed and tried older emulators. Nothing was working. Your commands worked. Can you explain why Andrey?","body":"I was fighting with Android Studio Artic Fox (for 2 days) to build and run an android emulator. Flutter doctor was all good. I tried JDK 11, 15, 16. I tried adding variables to .bash_profile. I installed and tried older emulators. Nothing was working. Your commands worked. Can you explain why Andrey?"},{"owner":{"account_id":5784890,"reputation":2332,"user_id":4564450,"accept_rate":62,"display_name":"Andrey Solera"},"score":2,"creation_date":1635086580,"post_id":68992409,"comment_id":123195895,"body_markdown":"@lopes710 the reason is because the Artic Fox version have a different location for the java library, the commands from above is for giving the correct path. This error usually happens when you come from an older version of Android Studio to Artic Fox","body":"@lopes710 the reason is because the Artic Fox version have a different location for the java library, the commands from above is for giving the correct path. This error usually happens when you come from an older version of Android Studio to Artic Fox"},{"owner":{"account_id":14931295,"reputation":196,"user_id":10780624,"display_name":"derZorn"},"score":0,"creation_date":1641813370,"post_id":68992409,"comment_id":124896199,"body_markdown":"This should be the accepted answer. If on mac, and after updating Android Studio to Arctic Fox 2020.3.1 (patch 4) from the previous version (4.2.2)","body":"This should be the accepted answer. If on mac, and after updating Android Studio to Arctic Fox 2020.3.1 (patch 4) from the previous version (4.2.2)"},{"owner":{"account_id":12658795,"reputation":119,"user_id":9200447,"display_name":"Edgar Mej&#237;a"},"score":0,"creation_date":1674522694,"post_id":68992409,"comment_id":132727882,"body_markdown":"Same here, I was wasting my time installing and changing versions of Java.\n- macOS Ventura.\n- Android Studio Dolphin (2021.3.1).","body":"Same here, I was wasting my time installing and changing versions of Java. - macOS Ventura. - Android Studio Dolphin (2021.3.1)."}],"tags":[],"owner":{"account_id":5784890,"reputation":2332,"user_id":4564450,"accept_rate":62,"display_name":"Andrey Solera"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1630379397,"creation_date":1630379397,"answer_id":68992409,"question_id":67782975,"body_markdown":"Run ```Flutter doctor```, if there&#180;s an error indicating that the java bundled can&#180;t be found (specially if you have Android Studio version **Artic Fox**), run this commands if using Mac:\r\n\r\n1) cd /Applications/Android\\ Studio.app/Contents/jre\r\n2) ln -s ../jre jdk\r\n3) ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Run <code>Flutter doctor</code>, if there´s an error indicating that the java bundled can´t be found (specially if you have Android Studio version <strong>Artic Fox</strong>), run this commands if using Mac:</p>\n<ol>\n<li>cd /Applications/Android\\ Studio.app/Contents/jre</li>\n<li>ln -s ../jre jdk</li>\n<li>ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":6,"creation_date":1657024747,"post_id":69122473,"comment_id":128706819,"body_markdown":"Downgrading only delays problems, it doesn&#39;t solve them.","body":"Downgrading only delays problems, it doesn&#39;t solve them."}],"tags":[],"owner":{"account_id":12527587,"reputation":330,"user_id":9116821,"display_name":"tread khuram"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1631208499,"creation_date":1631208499,"answer_id":69122473,"question_id":67782975,"body_markdown":"You must be using JDK-16, use the version below JDK-16, in my case, I downgrade to JDK-11 and it worked for me.\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>You must be using JDK-16, use the version below JDK-16, in my case, I downgrade to JDK-11 and it worked for me.</p>\n"},{"comments":[{"owner":{"account_id":5766401,"reputation":1571,"user_id":4551227,"accept_rate":25,"display_name":"Jesus Erwin Suarez"},"score":4,"creation_date":1644630962,"post_id":69179997,"comment_id":125665569,"body_markdown":"Thanks, man! it works for me, I just copied the code and paste it to android/gradle.properties","body":"Thanks, man! it works for me, I just copied the code and paste it to android/gradle.properties"},{"owner":{"account_id":16568583,"reputation":1499,"user_id":11972447,"display_name":"Arthur Pereira"},"score":6,"creation_date":1648492208,"post_id":69179997,"comment_id":126632544,"body_markdown":"It worked for me too. But could you explain what exactly this line do?","body":"It worked for me too. But could you explain what exactly this line do?"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":2,"creation_date":1648715649,"post_id":69179997,"comment_id":126696609,"body_markdown":"it was not the correct answer, though it gives me and idea to change the gradle class path, and viola it worked","body":"it was not the correct answer, though it gives me and idea to change the gradle class path, and viola it worked"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":3,"creation_date":1653331100,"post_id":69179997,"comment_id":127821388,"body_markdown":"For ButterKnife compiler, also add `--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED`","body":"For ButterKnife compiler, also add <code>--add-exports=jdk.compiler&#47;com.sun.tools.javac.tree=ALL-UNNA&zwnj;&#8203;MED --add-exports=jdk.compiler&#47;com.sun.tools.javac.code=ALL-UNNA&zwnj;&#8203;MED --add-exports=jdk.compiler&#47;com.sun.tools.javac.util=ALL-UNNA&zwnj;&#8203;MED</code>"},{"owner":{"account_id":244736,"reputation":942,"user_id":517757,"display_name":"Gilad M"},"score":2,"creation_date":1666537304,"post_id":69179997,"comment_id":130955693,"body_markdown":"Worked for me after changing properties to 7.3.3 and making the change in jvmargs","body":"Worked for me after changing properties to 7.3.3 and making the change in jvmargs"},{"owner":{"account_id":6763630,"reputation":211,"user_id":5209337,"display_name":"Raphael Cangucu"},"score":0,"creation_date":1676741972,"post_id":69179997,"comment_id":133200191,"body_markdown":"Work also for Mac M1","body":"Work also for Mac M1"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":0,"creation_date":1680547185,"post_id":69179997,"comment_id":133913823,"body_markdown":"its worked for me. i have to some changes in AndroidManifest.xml too. like in intent filter add properties android:exported=&quot;true&quot;. Thanks","body":"its worked for me. i have to some changes in AndroidManifest.xml too. like in intent filter add properties android:exported=&quot;true&quot;. Thanks"},{"owner":{"account_id":19201172,"reputation":489,"user_id":14029095,"display_name":"Tanjim ahmed"},"score":1,"creation_date":1681429686,"post_id":69179997,"comment_id":134059196,"body_markdown":"@lortschi It worked but I want to know what caused the problem.","body":"@lortschi It worked but I want to know what caused the problem."},{"owner":{"account_id":485992,"reputation":33864,"user_id":902630,"accept_rate":54,"display_name":"Matt"},"score":0,"creation_date":1688850137,"post_id":69179997,"comment_id":135130164,"body_markdown":"It worked and I don&#39;t care what caused the problem!","body":"It worked and I don&#39;t care what caused the problem!"},{"owner":{"account_id":1263338,"reputation":1300,"user_id":1221159,"accept_rate":67,"display_name":"Barad&#233;"},"score":0,"creation_date":1695650585,"post_id":69179997,"comment_id":136049097,"body_markdown":"Worked, really useful answer (should be the top answer).","body":"Worked, really useful answer (should be the top answer)."},{"owner":{"account_id":7338001,"reputation":151,"user_id":5588653,"display_name":"Victor Ighalo"},"score":0,"creation_date":1697396365,"post_id":69179997,"comment_id":136271746,"body_markdown":"This worked for me, but I really want to know why. Can anyone explain this?","body":"This worked for me, but I really want to know why. Can anyone explain this?"}],"tags":[],"owner":{"account_id":378544,"reputation":3315,"user_id":731329,"display_name":"lortschi"},"comment_count":11,"down_vote_count":3,"up_vote_count":272,"is_accepted":false,"score":269,"last_activity_date":1666654200,"creation_date":1631631006,"answer_id":69179997,"question_id":67782975,"body_markdown":"The solution from [GitHub][1] has worked for me. It was no need to downgrade Java JDK. Just changed gradle version in gradle-wrapper properties to 7.1.1 (6.x does not support java 16), and adding the following line in gradle.properties:\r\n\r\n    org.gradle.jvmargs=-Xmx1536M \\\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\n\r\n  [1]: https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>The solution from <a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"noreferrer\">GitHub</a> has worked for me. It was no need to downgrade Java JDK. Just changed gradle version in gradle-wrapper properties to 7.1.1 (6.x does not support java 16), and adding the following line in gradle.properties:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9253553,"reputation":321,"user_id":6893324,"display_name":"Tama Asrory Ridhana"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1639964043,"creation_date":1639964043,"answer_id":70416610,"question_id":67782975,"body_markdown":"has worked for me in Macbook Air M1 Apple Silicon. you no need to downgrade or uninstall Java JDK. \r\n\r\nin my case Just changed gradle version in gradle-wrapper.properties to 7.2\r\nlike this :\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip \r\n\r\nand adding the following line in gradle.properties:\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\nrelated solution on [github][1]\r\n\r\n\r\n  [1]: https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>has worked for me in Macbook Air M1 Apple Silicon. you no need to downgrade or uninstall Java JDK.</p>\n<p>in my case Just changed gradle version in gradle-wrapper.properties to 7.2\nlike this :</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip \n</code></pre>\n<p>and adding the following line in gradle.properties:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n<p>related solution on <a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"noreferrer\">github</a></p>\n"},{"comments":[{"owner":{"account_id":13828677,"reputation":547,"user_id":9982227,"display_name":"NovyLevi"},"score":1,"creation_date":1684307548,"post_id":70480813,"comment_id":134497361,"body_markdown":"Did every other possible solution mentioned none helped, only this!\nThanks!","body":"Did every other possible solution mentioned none helped, only this! Thanks!"}],"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640444309,"creation_date":1640444309,"answer_id":70480813,"question_id":67782975,"body_markdown":"I downloaded 2 JDK [jdk-17.0.1][1] and [jdk-11.0.13][2] and add below line on gradle.properties\r\n\r\n    org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\r\n\r\n  [1]: https://jdk.java.net/17/\r\n  [2]: https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\r\n\r\nAlso go to Android Studio (Arctic Fox)-&gt; Project Structure -&gt; Gradle setting and choose JDK version","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I downloaded 2 JDK <a href=\"https://jdk.java.net/17/\" rel=\"nofollow noreferrer\">jdk-17.0.1</a> and <a href=\"https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">jdk-11.0.13</a> and add below line on gradle.properties</p>\n<pre><code>org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\n</code></pre>\n<p>Also go to Android Studio (Arctic Fox)-&gt; Project Structure -&gt; Gradle setting and choose JDK version</p>\n"},{"comments":[{"owner":{"account_id":1749434,"reputation":944,"user_id":1601438,"display_name":"dmoebius"},"score":2,"creation_date":1644712688,"post_id":70807648,"comment_id":125679625,"body_markdown":"Thanks, this worked for me! Best answer!","body":"Thanks, this worked for me! Best answer!"},{"owner":{"account_id":4351180,"reputation":305,"user_id":3551459,"accept_rate":100,"display_name":"saman"},"score":2,"creation_date":1649744951,"post_id":70807648,"comment_id":126947153,"body_markdown":"best answer and solution, thanks, this answer should be accepted instead of downgrade jdk answer","body":"best answer and solution, thanks, this answer should be accepted instead of downgrade jdk answer"},{"owner":{"account_id":19105989,"reputation":179,"user_id":13953125,"display_name":"H Amr"},"score":0,"creation_date":1673730116,"post_id":70807648,"comment_id":132564761,"body_markdown":"Great answer, Thanks, You need to update some numbers and it will be up-to-date","body":"Great answer, Thanks, You need to update some numbers and it will be up-to-date"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1674826362,"post_id":70807648,"comment_id":132801352,"body_markdown":"In the last code block, did you mean Gradle 6.7.1+ and Gradle 7+?","body":"In the last code block, did you mean Gradle 6.7.1+ and Gradle 7+?"},{"owner":{"account_id":16286242,"reputation":1729,"user_id":11760942,"display_name":"usamayaseen"},"score":0,"creation_date":1675031100,"post_id":70807648,"comment_id":132835542,"body_markdown":"@TWiStErRob Yes it&#39;s Gradle, bad I thought I fixed it. Updated!","body":"@TWiStErRob Yes it&#39;s Gradle, bad I thought I fixed it. Updated!"},{"owner":{"account_id":368188,"reputation":7868,"user_id":714831,"accept_rate":44,"display_name":"Raulp"},"score":0,"creation_date":1692898989,"post_id":70807648,"comment_id":135690371,"body_markdown":"any update to this answer since JDK has been replaced with JBR now?","body":"any update to this answer since JDK has been replaced with JBR now?"},{"owner":{"account_id":4286646,"reputation":559,"user_id":3504181,"accept_rate":93,"display_name":"sanevys"},"score":1,"creation_date":1697033693,"post_id":70807648,"comment_id":136228864,"body_markdown":"This is correct one","body":"This is correct one"}],"tags":[],"owner":{"account_id":16286242,"reputation":1729,"user_id":11760942,"display_name":"usamayaseen"},"comment_count":7,"down_vote_count":0,"up_vote_count":171,"is_accepted":false,"score":171,"last_activity_date":1675157306,"creation_date":1642799296,"answer_id":70807648,"question_id":67782975,"body_markdown":"You must be using a JDK version that is not supported by the Gradle Version.\r\n( There is no need to downgrade )\r\n\r\n1-Check your JDK Version from *C:\\Program Files\\Java*. In My Case, It&#39;s JDK-17.0.2 \r\n\r\n2-Check The Respective Gradle version for your JDK\r\nhttps://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n3-Open **gradle-wrapper.properties** from *.\\android\\gradle\\wrapper\\\\*\r\n[![Screen Shot for gradle-wrapper.properties file][1]][1] and change the **distributionUrl** to your required gradle version\r\n\r\n**e.g.** for JDK 17\r\n\r\n    distributionUrl = https\\://services.gradle.org/distributions/gradle-7.3-all.zip\r\n\r\n4-Open **build.gradle** from *.\\android\\build.gradle*\r\n[![classpath in build.gradle file][2]][2]\r\nand change the plugin in the class path to the one according to your gradle version \r\n\r\n**e.g.**\r\n\r\n    classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;) for Gradle 6.7.1+\r\n    classpath(&quot;com.android.tools.build:gradle:7.0.0&quot;) for Gradle 7+\r\n\r\nCheck the Compatible Plugin for your Gradle version at \r\nhttps://developer.android.com/studio/releases/gradle-plugin#updating-gradle\r\n\r\n5-run `npx react-native run-android`\r\n\r\n  [1]: https://i.stack.imgur.com/djBfQ.png\r\n  [2]: https://i.stack.imgur.com/PMBGZ.png\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>You must be using a JDK version that is not supported by the Gradle Version.\n( There is no need to downgrade )</p>\n<p>1-Check your JDK Version from <em>C:\\Program Files\\Java</em>. In My Case, It's JDK-17.0.2</p>\n<p>2-Check The Respective Gradle version for your JDK\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<p>3-Open <strong>gradle-wrapper.properties</strong> from <em>.\\android\\gradle\\wrapper\\</em>\n<a href=\"https://i.stack.imgur.com/djBfQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/djBfQ.png\" alt=\"Screen Shot for gradle-wrapper.properties file\" /></a> and change the <strong>distributionUrl</strong> to your required gradle version</p>\n<p><strong>e.g.</strong> for JDK 17</p>\n<pre><code>distributionUrl = https\\://services.gradle.org/distributions/gradle-7.3-all.zip\n</code></pre>\n<p>4-Open <strong>build.gradle</strong> from <em>.\\android\\build.gradle</em>\n<a href=\"https://i.stack.imgur.com/PMBGZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMBGZ.png\" alt=\"classpath in build.gradle file\" /></a>\nand change the plugin in the class path to the one according to your gradle version</p>\n<p><strong>e.g.</strong></p>\n<pre><code>classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;) for Gradle 6.7.1+\nclasspath(&quot;com.android.tools.build:gradle:7.0.0&quot;) for Gradle 7+\n</code></pre>\n<p>Check the Compatible Plugin for your Gradle version at\n<a href=\"https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\" rel=\"noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#updating-gradle</a></p>\n<p>5-run <code>npx react-native run-android</code></p>\n"},{"comments":[{"owner":{"account_id":19503751,"reputation":516,"user_id":14269222,"display_name":"Suat &#214;zkaya"},"score":0,"creation_date":1684418869,"post_id":70911889,"comment_id":134517136,"body_markdown":"This replacement solved my issue in my Flutter project.","body":"This replacement solved my issue in my Flutter project."}],"tags":[],"owner":{"account_id":11445837,"reputation":1171,"user_id":8407719,"display_name":"Kewal Shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643517561,"creation_date":1643517561,"answer_id":70911889,"question_id":67782975,"body_markdown":"I was able to fix it by upgrading grade project settings using Android Studio which replaced\r\n`classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)` with         `classpath(&#39;com.android.tools.build:gradle:7.0.3&#39;)` in `android/build.gradle`\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I was able to fix it by upgrading grade project settings using Android Studio which replaced\n<code>classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)</code> with         <code>classpath('com.android.tools.build:gradle:7.0.3')</code> in <code>android/build.gradle</code></p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1657024868,"post_id":71510598,"comment_id":128706886,"body_markdown":"JDK 1.8 no longer has active support, it only has security support (for a little while longer) and I would not recommend using it anymore. There are newer versions available. See also https://endoflife.date/java","body":"JDK 1.8 no longer has active support, it only has security support (for a little while longer) and I would not recommend using it anymore. There are newer versions available. See also <a href=\"https://endoflife.date/java\" rel=\"nofollow noreferrer\">endoflife.date/java</a>"}],"tags":[],"owner":{"account_id":10743500,"reputation":19,"user_id":7905709,"display_name":"darimuhittin"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647512182,"creation_date":1647512182,"answer_id":71510598,"question_id":67782975,"body_markdown":"Installing JDK 1.8.0 and setting JAVA_HOME path to JDK 1.8.0&#39;s folder in environment variables worked for me.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Installing JDK 1.8.0 and setting JAVA_HOME path to JDK 1.8.0's folder in environment variables worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11774677,"reputation":147,"user_id":8970265,"display_name":"Jean G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647593384,"creation_date":1647593384,"answer_id":71524451,"question_id":67782975,"body_markdown":"Had same problem with Flutter.\r\nI uninstalled Android Studio and Android SDK and reinstalled everything and upgraded Flutter, without success.\r\n\r\nThen I created a new Flutter project and copied the sources from the old one, and this time it worked.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Had same problem with Flutter.\nI uninstalled Android Studio and Android SDK and reinstalled everything and upgraded Flutter, without success.</p>\n<p>Then I created a new Flutter project and copied the sources from the old one, and this time it worked.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1657024943,"post_id":72335532,"comment_id":128706920,"body_markdown":"You mention both jdk 18 and 11 here, that&#39;s a bit confusing?","body":"You mention both jdk 18 and 11 here, that&#39;s a bit confusing?"},{"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"score":0,"creation_date":1657110824,"post_id":72335532,"comment_id":128730996,"body_markdown":"@SimonForsberg I have updated answer hope this solve your problem. more clearly you need to install jdk 11","body":"@SimonForsberg I have updated answer hope this solve your problem. more clearly you need to install jdk 11"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":3,"creation_date":1657141233,"post_id":72335532,"comment_id":128742714,"body_markdown":"Downgrading does not seem like a good idea.","body":"Downgrading does not seem like a good idea."}],"tags":[],"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1698316628,"creation_date":1653203659,"answer_id":72335532,"question_id":67782975,"body_markdown":"**Note**: this is basically a solution for old project to run is successfully. \r\n\r\nAfter I updated **`jdk to 18`** then I got the error mentioned in the question. So I downgraded to jdk11, and this fixed my issue\r\n\r\nTo install jdk11 please run this command in windows 10:   `choco install openjdk11`. Hope this will fix your problem.\r\n\r\nTo run the above command you might have to install `chocolatey` and add it to path environment variable. Chocolatey is a dependency manager for windows 10. \r\n\r\nHere is link to a guide:\r\n\r\nhttps://community.chocolatey.org/packages/openjdk11","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Note</strong>: this is basically a solution for old project to run is successfully.</p>\n<p>After I updated <strong><code>jdk to 18</code></strong> then I got the error mentioned in the question. So I downgraded to jdk11, and this fixed my issue</p>\n<p>To install jdk11 please run this command in windows 10:   <code>choco install openjdk11</code>. Hope this will fix your problem.</p>\n<p>To run the above command you might have to install <code>chocolatey</code> and add it to path environment variable. Chocolatey is a dependency manager for windows 10.</p>\n<p>Here is link to a guide:</p>\n<p><a href=\"https://community.chocolatey.org/packages/openjdk11\" rel=\"nofollow noreferrer\">https://community.chocolatey.org/packages/openjdk11</a></p>\n"},{"tags":[],"owner":{"account_id":391778,"reputation":6933,"user_id":752630,"accept_rate":69,"display_name":"mbonnin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654268585,"creation_date":1654268585,"answer_id":72491564,"question_id":67782975,"body_markdown":"This is a [known issue when using Gson and reflection for parsing Json](https://github.com/google/gson/issues/1979). Updating your Android Gradle Plugin version to 7.0.0+ and the error should go away. ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>This is a <a href=\"https://github.com/google/gson/issues/1979\" rel=\"nofollow noreferrer\">known issue when using Gson and reflection for parsing Json</a>. Updating your Android Gradle Plugin version to 7.0.0+ and the error should go away.</p>\n"},{"tags":[],"owner":{"account_id":18156187,"reputation":353,"user_id":13208166,"display_name":"Tri yulianto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662347570,"creation_date":1662347570,"answer_id":73604237,"question_id":67782975,"body_markdown":"Just added from another solution\r\n\r\nIf you have later version installed, and your project is using older version. Don&#39;t forget to check in terminal which jdk is used. \r\n\r\nIn my case my project using JDK 15. And terminal using 18. So i uninstall the other version and leaving the proper version (in my mac, just delete another jdk directory in `/Libray/Java/JavaVirtualMachine`)","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Just added from another solution</p>\n<p>If you have later version installed, and your project is using older version. Don't forget to check in terminal which jdk is used.</p>\n<p>In my case my project using JDK 15. And terminal using 18. So i uninstall the other version and leaving the proper version (in my mac, just delete another jdk directory in <code>/Libray/Java/JavaVirtualMachine</code>)</p>\n"},{"tags":[],"owner":{"account_id":1674530,"reputation":11374,"user_id":1540350,"accept_rate":69,"display_name":"Martin Braun"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673822713,"creation_date":1673822713,"answer_id":75128920,"question_id":67782975,"body_markdown":"I had the same issue with a Flutter 2 project after updating Android Studio to electric eel. I was still able to build the android project, but `flutter run` on the Flutter project would cause this issue. [lortschi&#39;s answer](https://stackoverflow.com/a/69179997/1540350) was the key, but it was missing one more entry to make it work, so my final gradle.properties looks like this now: \r\n\r\n```properties\r\norg.gradle.jvmargs=-Xmx1536M \\\r\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n--add-opens=java.base/java.io=ALL-UNNAMED \\\r\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \\\r\n--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nI was very skeptical, but it worked.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I had the same issue with a Flutter 2 project after updating Android Studio to electric eel. I was still able to build the android project, but <code>flutter run</code> on the Flutter project would cause this issue. <a href=\"https://stackoverflow.com/a/69179997/1540350\">lortschi's answer</a> was the key, but it was missing one more entry to make it work, so my final gradle.properties looks like this now:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \\\n--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>I was very skeptical, but it worked.</p>\n"},{"tags":[],"owner":{"account_id":6136606,"reputation":3364,"user_id":8371825,"display_name":"jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674492748,"creation_date":1674492748,"answer_id":75212624,"question_id":67782975,"body_markdown":"For those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled `jre` directory in the Android Studio installation folder is now renamed to `jbr`\r\n\r\n(This answer came from [eja](https://stackoverflow.com/users/1258130/eja)&#39;s [answer](https://stackoverflow.com/a/75119315/8371825) on [this question](https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter).)\r\n\r\nTo resolve this, just create a sym link `jre` -&gt; `jbr` and Flutter won&#39;t complain.\r\n\r\nOn Linux\r\n```\r\ncd ~/android-studio/ &amp;&amp; ln -s jbr jre\r\n```\r\n\r\nWindows (check installation folder)\r\n```\r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\n```\r\n\r\nor \r\n```\r\nNew-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\r\n```\r\n\r\nMac OS\r\n```\r\ncd /Applications/Android\\ Studio.app/Contents\r\nln -s jbr jre\r\n```\r\n\r\n---\r\n\r\nNote that if you are running a preview release, the default installation directory might be different, e.g. on Linux it would be \r\n```\r\n~/android-studio-preview/\r\n```","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>For those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled <code>jre</code> directory in the Android Studio installation folder is now renamed to <code>jbr</code></p>\n<p>(This answer came from <a href=\"https://stackoverflow.com/users/1258130/eja\">eja</a>'s <a href=\"https://stackoverflow.com/a/75119315/8371825\">answer</a> on <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">this question</a>.)</p>\n<p>To resolve this, just create a sym link <code>jre</code> -&gt; <code>jbr</code> and Flutter won't complain.</p>\n<p>On Linux</p>\n<pre><code>cd ~/android-studio/ &amp;&amp; ln -s jbr jre\n</code></pre>\n<p>Windows (check installation folder)</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n<p>or</p>\n<pre><code>New-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\n</code></pre>\n<p>Mac OS</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n<hr />\n<p>Note that if you are running a preview release, the default installation directory might be different, e.g. on Linux it would be</p>\n<pre><code>~/android-studio-preview/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22747735,"reputation":101,"user_id":16908294,"display_name":"ganesh parajuli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675092893,"creation_date":1675092893,"answer_id":75286634,"question_id":67782975,"body_markdown":"**Windows user:**\r\n\r\nGo to C:\\Users\\arpan.gradle\\caches and delete all the gradle cache.\r\n\r\nthen,\r\n\r\nGo to &quot;C:\\Program Files\\Android\\Android Studio&quot; there you will see jbr and jre folder then copy the content of jbr and paste the content into jre folder. \r\nss:\r\n[![enter image description here][1]][1]\r\nand run flutter doctor again and run your App.\r\n\r\n  [1]: https://i.stack.imgur.com/oafsI.png","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Windows user:</strong></p>\n<p>Go to C:\\Users\\arpan.gradle\\caches and delete all the gradle cache.</p>\n<p>then,</p>\n<p>Go to &quot;C:\\Program Files\\Android\\Android Studio&quot; there you will see jbr and jre folder then copy the content of jbr and paste the content into jre folder.\nss:\n<a href=\"https://i.stack.imgur.com/oafsI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oafsI.png\" alt=\"enter image description here\" /></a>\nand run flutter doctor again and run your App.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679446224,"post_id":75759703,"comment_id":133723139,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75759703/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17505587,"reputation":1,"user_id":12694880,"display_name":"medis adido"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678987900,"creation_date":1678987900,"answer_id":75759703,"question_id":67782975,"body_markdown":"run\r\n\r\n    sudo update-alternatives --config \r\n\r\n\r\njava and select a minor version of java .","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>run</p>\n<pre><code>sudo update-alternatives --config \n</code></pre>\n<p>java and select a minor version of java .</p>\n"},{"comments":[{"owner":{"account_id":2628316,"reputation":1239,"user_id":2274894,"accept_rate":62,"display_name":"judepereira"},"score":0,"creation_date":1682350014,"post_id":76053527,"comment_id":134197349,"body_markdown":"This isn&#39;t helpful in any possible way.","body":"This isn&#39;t helpful in any possible way."}],"tags":[],"owner":{"account_id":9687425,"reputation":691,"user_id":7186671,"display_name":"Abdallah Mahmoud"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1681900612,"creation_date":1681900612,"answer_id":76053527,"question_id":67782975,"body_markdown":"# Steps To Solve\r\n## 1. Gradle.properties\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n```\r\n## 2. Java version \r\nchoose java version 17 or any compatiable\r\n\r\n## 3. Gradle Project\r\n\r\nchoose kotlin version and gradle miniume version\r\n\r\n```\r\n\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.7.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n```\r\n ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<h1>Steps To Solve</h1>\n<h2>1. Gradle.properties</h2>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\n</code></pre>\n<h2>2. Java version</h2>\n<p>choose java version 17 or any compatiable</p>\n<h2>3. Gradle Project</h2>\n<p>choose kotlin version and gradle miniume version</p>\n<pre><code>\nbuildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13909596,"reputation":71,"user_id":21931483,"display_name":"Justice"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687131839,"creation_date":1686929535,"answer_id":76491643,"question_id":67782975,"body_markdown":"In my case the following steps did the trick:\r\n\r\n1. Changing the gradle verion in gradle-wrapper.properties to:\r\n    ```\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\r\n    ```\r\n2. Changing build gradle and google services classpath version in build.gradle to:\r\n    ```\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n    }\r\n    ```","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>In my case the following steps did the trick:</p>\n<ol>\n<li>Changing the gradle verion in gradle-wrapper.properties to:\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\n</code></pre>\n</li>\n<li>Changing build gradle and google services classpath version in build.gradle to:\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.2.1'\n    classpath 'com.google.gms:google-services:4.3.5'\n}\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687876430,"post_id":76557073,"comment_id":134996393,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76557073/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":3651899,"reputation":136,"user_id":3043848,"display_name":"TheUnwokenFool"},"score":0,"creation_date":1693510459,"post_id":76557073,"comment_id":135774525,"body_markdown":"I thought your answer was clear. Helped me, at least. Sometimes you just need some hand-holding with screenshots to sort things out. Thanks!","body":"I thought your answer was clear. Helped me, at least. Sometimes you just need some hand-holding with screenshots to sort things out. Thanks!"}],"tags":[],"owner":{"account_id":28597906,"reputation":31,"user_id":21895547,"display_name":"darkbits"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687785459,"creation_date":1687785459,"answer_id":76557073,"question_id":67782975,"body_markdown":"If you are importing an old project you may get this error\r\n1. Download JDK 8 (1.8) and install it.\r\n2. Change your project structure and write JDK 8 path to the JDK location.\r\n\r\n\r\nsome screenshots for reference (Android Studio Flaming version)\r\n(sorry, couldn&#39;t em images)\r\n\r\n[file -&gt; project structure][1]\r\n  \r\n[SDK location -&gt; Gradle Settings][2]\r\n\r\n[Gradle JDK  choose download JDK][3]\r\n\r\n\r\n[Choose version 1.8 ][4]\r\n\r\n\r\n[After download choose gradle jdk to 1.8 ][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qGfJ5.png\r\n  [2]: https://i.stack.imgur.com/sLY3s.png\r\n  [3]: https://i.stack.imgur.com/9sJcr.png\r\n  [4]: https://i.stack.imgur.com/Y1yTj.png\r\n  [5]: https://i.stack.imgur.com/zdqif.png","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>If you are importing an old project you may get this error</p>\n<ol>\n<li>Download JDK 8 (1.8) and install it.</li>\n<li>Change your project structure and write JDK 8 path to the JDK location.</li>\n</ol>\n<p>some screenshots for reference (Android Studio Flaming version)\n(sorry, couldn't em images)</p>\n<p><a href=\"https://i.stack.imgur.com/qGfJ5.png\" rel=\"nofollow noreferrer\">file -&gt; project structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/sLY3s.png\" rel=\"nofollow noreferrer\">SDK location -&gt; Gradle Settings</a></p>\n<p><a href=\"https://i.stack.imgur.com/9sJcr.png\" rel=\"nofollow noreferrer\">Gradle JDK  choose download JDK</a></p>\n<p><a href=\"https://i.stack.imgur.com/Y1yTj.png\" rel=\"nofollow noreferrer\">Choose version 1.8 </a></p>\n<p><a href=\"https://i.stack.imgur.com/zdqif.png\" rel=\"nofollow noreferrer\">After download choose gradle jdk to 1.8 </a></p>\n"},{"comments":[{"owner":{"account_id":3014554,"reputation":106,"user_id":14230540,"display_name":"MatJB"},"score":0,"creation_date":1700854857,"post_id":76785879,"comment_id":136707782,"body_markdown":"Replace &#39;test&#39; with the name of your task. If you have to open `java.io`, add it to the `jvmArgs` list. If you have more than one test task (for example, for multiple build variants) you can use `tasks.withType(Test)` instead of `tasks.named`.","body":"Replace &#39;test&#39; with the name of your task. If you have to open <code>java.io</code>, add it to the <code>jvmArgs</code> list. If you have more than one test task (for example, for multiple build variants) you can use <code>tasks.withType(Test)</code> instead of <code>tasks.named</code>."}],"tags":[],"owner":{"account_id":76269,"reputation":38001,"user_id":218473,"accept_rate":84,"display_name":"Maragues"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690531286,"creation_date":1690531286,"answer_id":76785879,"question_id":67782975,"body_markdown":"This is a known issue by Gradle when running tests with Java 17 with Test Distribution enabled\r\n\r\nAdd this to your build.gradle (.kts version available at the link below)\r\n\r\n```groovy\r\ntasks.named(&#39;test&#39;, Test) {\r\n    jvmArgs(\r\n    \t&#39;--add-opens&#39;, &#39;java.base/java.lang=ALL-UNNAMED&#39;,\r\n    \t&#39;--add-opens&#39;, &#39;java.base/java.util=ALL-UNNAMED&#39;\r\n  \t)\r\n}\r\n```\r\n\r\nSee https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\r\n\r\nSee original github issue https://github.com/gradle/gradle/issues/18647","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>This is a known issue by Gradle when running tests with Java 17 with Test Distribution enabled</p>\n<p>Add this to your build.gradle (.kts version available at the link below)</p>\n<pre><code>tasks.named('test', Test) {\n    jvmArgs(\n        '--add-opens', 'java.base/java.lang=ALL-UNNAMED',\n        '--add-opens', 'java.base/java.util=ALL-UNNAMED'\n    )\n}\n</code></pre>\n<p>See <a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n<p>See original github issue <a href=\"https://github.com/gradle/gradle/issues/18647\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/18647</a></p>\n"},{"comments":[{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1691748499,"post_id":76842209,"comment_id":135536814,"body_markdown":"One more option: do an AGP update via AGP upgrade assistance.","body":"One more option: do an AGP update via AGP upgrade assistance."}],"tags":[],"owner":{"account_id":24145568,"reputation":111,"user_id":18111225,"display_name":"Rickyslash"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1691247430,"creation_date":1691247430,"answer_id":76842209,"question_id":67782975,"body_markdown":"In my case, my **error was happened when I&#39;m using**:\r\n\r\n`Gradle version = 6.5` &amp; `Gradle JDK version = 17.0.6` in `Android Studio Giraffe (Stable)`\r\n\r\nYou could check the Gradle version in the `gradle-wrapper.properties` file, on this line:\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip`\r\n\r\nAnd check JDK version on: \r\n\r\n`File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK`\r\n\r\n**To fix this error, you need to pick JDK version that is compatible with your Gradle Version**. You could check the compatibility in here:\r\n\r\nhttps://developer.android.com/build/releases/gradle-plugin#updating-gradle\r\n\r\n&gt; I pick `JDK 11.0.18` for `Gradle version 6.5` (a lower JDK version compared to my current JDK)\r\n\r\nIn summary, choosing the compatible JDK version is the answer for this error.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>In my case, my <strong>error was happened when I'm using</strong>:</p>\n<p><code>Gradle version = 6.5</code> &amp; <code>Gradle JDK version = 17.0.6</code> in <code>Android Studio Giraffe (Stable)</code></p>\n<p>You could check the Gradle version in the <code>gradle-wrapper.properties</code> file, on this line:</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip</code></p>\n<p>And check JDK version on:</p>\n<p><code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK</code></p>\n<p><strong>To fix this error, you need to pick JDK version that is compatible with your Gradle Version</strong>. You could check the compatibility in here:</p>\n<p><a href=\"https://developer.android.com/build/releases/gradle-plugin#updating-gradle\" rel=\"noreferrer\">https://developer.android.com/build/releases/gradle-plugin#updating-gradle</a></p>\n<blockquote>\n<p>I pick <code>JDK 11.0.18</code> for <code>Gradle version 6.5</code> (a lower JDK version compared to my current JDK)</p>\n</blockquote>\n<p>In summary, choosing the compatible JDK version is the answer for this error.</p>\n"},{"comments":[{"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"score":0,"creation_date":1696448378,"post_id":76974981,"comment_id":136155903,"body_markdown":"it&#39;s important to note that using these flags might expose your application to potential security risks or compatibility issues. It&#39;s recommended to understand the implications and risks associated with modifying JVM behavior and only use these configurations if necessary to resolve specific issues. Additionally, consider updating your code or dependencies to adhere to best practices and avoid relying on these flags for normal operations.","body":"it&#39;s important to note that using these flags might expose your application to potential security risks or compatibility issues. It&#39;s recommended to understand the implications and risks associated with modifying JVM behavior and only use these configurations if necessary to resolve specific issues. Additionally, consider updating your code or dependencies to adhere to best practices and avoid relying on these flags for normal operations."}],"tags":[],"owner":{"account_id":15134967,"reputation":355,"user_id":10921732,"display_name":"Tariq Mahmood"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692947232,"creation_date":1692947232,"answer_id":76974981,"question_id":67782975,"body_markdown":"Add this line in your gradle.properties file.\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Add this line in your gradle.properties file.</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15326359,"reputation":761,"user_id":11057391,"display_name":"Saravanan"},"score":1,"creation_date":1700070515,"post_id":77159978,"comment_id":136610682,"body_markdown":"Dude, thanks !! This solution worked for me","body":"Dude, thanks !! This solution worked for me"}],"tags":[],"owner":{"account_id":14331406,"reputation":356,"user_id":10799613,"display_name":"Allansrc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695407688,"creation_date":1695407688,"answer_id":77159978,"question_id":67782975,"body_markdown":"To Flutters, just by deleting Android folder and running flutter create . on the project root fix it as well","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>To Flutters, just by deleting Android folder and running flutter create . on the project root fix it as well</p>\n"},{"tags":[],"owner":{"account_id":29515723,"reputation":11,"user_id":22619716,"display_name":"Astha Saraswat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695466918,"creation_date":1695466918,"answer_id":77162739,"question_id":67782975,"body_markdown":" \r\n 1.ext.kotlin_version = &#39;**1.8.0**&#39;\r\n\r\n 2.replace this classpath &#39;**com.android.tools.build:gradle:7.4.2**&#39; with your    build gradle version in dependencies.\r\n\r\n3.replace distributionUrl=**https\\://services.gradle.org/distributions/gradle-7.5-all.zip** in gradle wrapper properties.\r\n\r\n\r\n\r\n\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>1.ext.kotlin_version = '<strong>1.8.0</strong>'</p>\n<p>2.replace this classpath '<strong>com.android.tools.build:gradle:7.4.2</strong>' with your    build gradle version in dependencies.</p>\n<p>3.replace distributionUrl=<strong>https://services.gradle.org/distributions/gradle-7.5-all.zip</strong> in gradle wrapper properties.</p>\n"},{"tags":[],"owner":{"account_id":18817211,"reputation":37,"user_id":13724035,"display_name":"Md Shah Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699257942,"creation_date":1699257942,"answer_id":77429611,"question_id":67782975,"body_markdown":"I also face this issue in Android Studio after Migrating Java JDK 17\r\n\r\n    tasks.withType(Test) {\r\n        jvmArgs(&#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;)\r\n    }\r\n\r\nhttps://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I also face this issue in Android Studio after Migrating Java JDK 17</p>\n<pre><code>tasks.withType(Test) {\n    jvmArgs('--add-opens=java.base/java.lang=ALL-UNNAMED')\n}\n</code></pre>\n<p><a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n"}],"owner":{"account_id":19951244,"reputation":2880,"user_id":14620854,"display_name":"Ashkanxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372458,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"answer_count":27,"score":220,"last_activity_date":1699257942,"creation_date":1622523804,"question_id":67782975,"body_markdown":"**Background**\r\n\r\n 1. I started my first project in android studio to get familiar with Android programming. \r\n 2. I am following this [tutorial][1], in which \r\n\r\n- I created a new project Empty Activity, without any change\r\n- It is supposed to simulate a simple app that shows &quot;Hello World&quot; message\r\n\r\n**Problem Description**\r\nBut every time I try to run and build (I want to emulator as of now), I get the following error message.\r\n\r\n\r\n\r\n    Unable to make field private final java.lang.String java.io.File.path accessible:\r\n    Unable to make field private final java.lang.String java.io.File.path\r\n    accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @42760a00\r\n\r\n***Here is my config set-up***:\r\n\r\n 1. Android Gradle plugin version: 4.2.1\r\n 2. Gradle Version: 7.0.1 (changed to fix another issue I had while syncing the Gradle (&quot;Gradle sync failed: Unsupported class file major version 60&quot;) and based discussion on this [forum][2] as quoted below)\r\n\r\n&gt; Andrey Dernov commented 14 Apr 2021 00:18 Please use Gradle 7.0 or JDK\r\n&gt; less than 16 version for importgin and building the project (Settings\r\n&gt; (Preferences on macOS) | Build, Execution, Deployment | Build Tools |\r\n&gt; Gradle | Gradle JVM option).\r\n\r\n 3. JDK: 16.0.1\r\n\r\nAny suggestion or idea?\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/firstapp/creating-project\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-266799","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Background</strong></p>\n<ol>\n<li>I started my first project in android studio to get familiar with Android programming.</li>\n<li>I am following this <a href=\"https://developer.android.com/training/basics/firstapp/creating-project\" rel=\"noreferrer\">tutorial</a>, in which</li>\n</ol>\n<ul>\n<li>I created a new project Empty Activity, without any change</li>\n<li>It is supposed to simulate a simple app that shows &quot;Hello World&quot; message</li>\n</ul>\n<p><strong>Problem Description</strong>\nBut every time I try to run and build (I want to emulator as of now), I get the following error message.</p>\n<pre><code>Unable to make field private final java.lang.String java.io.File.path accessible:\nUnable to make field private final java.lang.String java.io.File.path\naccessible: module java.base does not &quot;opens java.io&quot; to unnamed module @42760a00\n</code></pre>\n<p><em><strong>Here is my config set-up</strong></em>:</p>\n<ol>\n<li>Android Gradle plugin version: 4.2.1</li>\n<li>Gradle Version: 7.0.1 (changed to fix another issue I had while syncing the Gradle (&quot;Gradle sync failed: Unsupported class file major version 60&quot;) and based discussion on this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-266799\" rel=\"noreferrer\">forum</a> as quoted below)</li>\n</ol>\n<blockquote>\n<p>Andrey Dernov commented 14 Apr 2021 00:18 Please use Gradle 7.0 or JDK\nless than 16 version for importgin and building the project (Settings\n(Preferences on macOS) | Build, Execution, Deployment | Build Tools |\nGradle | Gradle JVM option).</p>\n</blockquote>\n<ol start=\"3\">\n<li>JDK: 16.0.1</li>\n</ol>\n<p>Any suggestion or idea?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth","jwt"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1699122771,"post_id":77414723,"comment_id":136492747,"body_markdown":"If you login with any client you are logged in to your application. So the user could select the client on your app&#39;s login page. You don&#39;t need any URL with tenant. If want some URLs only for one tenant, you could use different roles or check user in your controller method.","body":"If you login with any client you are logged in to your application. So the user could select the client on your app&#39;s login page. You don&#39;t need any URL with tenant. If want some URLs only for one tenant, you could use different roles or check user in your controller method."}],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699257390,"creation_date":1699257390,"answer_id":77429569,"question_id":77414723,"body_markdown":"You should make sure that a `tenant` claim is put into the JWT access token. When you then validate the request, you can verify whether the `tenant` claim equals the `tenant` from the path parameter.\r\n\r\nYou can put any claims in your access token and then use them for proper authorization decisions.","title":"Spring security for multi tenants","body":"<p>You should make sure that a <code>tenant</code> claim is put into the JWT access token. When you then validate the request, you can verify whether the <code>tenant</code> claim equals the <code>tenant</code> from the path parameter.</p>\n<p>You can put any claims in your access token and then use them for proper authorization decisions.</p>\n"}],"owner":{"account_id":29816463,"reputation":1,"user_id":22850640,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699257390,"creation_date":1698994927,"question_id":77414723,"body_markdown":"I&#39;ve below properties in my properties file of auth server for oauth spring security to generate jwt token.\r\n\r\n    clientcredential:\r\n      clients:\r\n        - tenant: tenant1\r\n          clientdetails:\r\n            - name : service1\r\n              scope : service1.read\r\n              clientId: tenant1-service1-client\r\n              clientSecret: tenant1-service1-secret\r\n            - name : service2\r\n                scope : service2.read\r\n                clientId: tenant1-service2-client\r\n                clientSecret: tenant1-service2-secret\r\n            - name : service3\r\n                scope : service3.read\r\n                clientId: tenant1-service3-client\r\n                clientSecret: tenant1-service3-secret\r\n            - name : service4\r\n                scope : service4.read\r\n                clientId: tenant1-service4-client\r\n                clientSecret: tenant1-service4-secret\r\n        - tenant: tenant2\r\n          clientdetails:\r\n            - name : service1\r\n                scope : service1.read\r\n                clientId: tenant2-service1-client\r\n                clientSecret: tenant2-service1-secret\r\n            - name : service2\r\n                scope : service2.read\r\n                clientId: tenant2-service2-client\r\n                clientSecret: tenant2-service2-secret\r\n            - name : service3\r\n                scope : service3.read\r\n                clientId: tenant2-service3-client\r\n                clientSecret: tenant2-service3-secret\r\n\r\nI would like to validate the jwt token such that the token of one tenant should not work with another tenant. \r\nI have request endpoint as https://domain/api/v1/save/{tenant}\r\nwhere tennant is passed in path variable for each request.\r\nWe don&#39;t have any UI or such configuration for user configuration it&#39;s just an spring boot REST API project.\r\n\r\n\r\nWe are using inmemory client registered repository to store client details.\r\n","title":"Spring security for multi tenants","body":"<p>I've below properties in my properties file of auth server for oauth spring security to generate jwt token.</p>\n<pre><code>clientcredential:\n  clients:\n    - tenant: tenant1\n      clientdetails:\n        - name : service1\n          scope : service1.read\n          clientId: tenant1-service1-client\n          clientSecret: tenant1-service1-secret\n        - name : service2\n            scope : service2.read\n            clientId: tenant1-service2-client\n            clientSecret: tenant1-service2-secret\n        - name : service3\n            scope : service3.read\n            clientId: tenant1-service3-client\n            clientSecret: tenant1-service3-secret\n        - name : service4\n            scope : service4.read\n            clientId: tenant1-service4-client\n            clientSecret: tenant1-service4-secret\n    - tenant: tenant2\n      clientdetails:\n        - name : service1\n            scope : service1.read\n            clientId: tenant2-service1-client\n            clientSecret: tenant2-service1-secret\n        - name : service2\n            scope : service2.read\n            clientId: tenant2-service2-client\n            clientSecret: tenant2-service2-secret\n        - name : service3\n            scope : service3.read\n            clientId: tenant2-service3-client\n            clientSecret: tenant2-service3-secret\n</code></pre>\n<p>I would like to validate the jwt token such that the token of one tenant should not work with another tenant.\nI have request endpoint as https://domain/api/v1/save/{tenant}\nwhere tennant is passed in path variable for each request.\nWe don't have any UI or such configuration for user configuration it's just an spring boot REST API project.</p>\n<p>We are using inmemory client registered repository to store client details.</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699270507,"post_id":77429560,"comment_id":136506183,"body_markdown":"Whether you chain method invocations or not, is irrelevant. You can write `CompletableFuture&lt;String&gt; firstFuture =  CompletableFuture.supplyAsync(() -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }); CompletableFuture&lt;String&gt; completableFuture = firstFuture.handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);` instead. It makes no difference. The `supplyAsync` does not pass anything to `handle` as the `supplyAsync` method does not invoke `handle`. It’s *not* different to `new StringBuilder().append(x).append(y)`.","body":"Whether you chain method invocations or not, is irrelevant. You can write <code>CompletableFuture&lt;String&gt; firstFuture =  CompletableFuture.supplyAsync(() -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }); CompletableFuture&lt;String&gt; completableFuture = firstFuture.handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);</code> instead. It makes no difference. The <code>supplyAsync</code> does not pass anything to <code>handle</code> as the <code>supplyAsync</code> method does not invoke <code>handle</code>. It’s <i>not</i> different to <code>new StringBuilder().append(x).append(y)</code>."},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699345335,"post_id":77429560,"comment_id":136516625,"body_markdown":"Thanks, now its bit more clear. As supplyAsync() is async, what will happen after supplyAsync execution -  will Java wait till supplyAsync() is complete and only then move to handle() or handle() will be executed while supplyAsync() is still processing?","body":"Thanks, now its bit more clear. As supplyAsync() is async, what will happen after supplyAsync execution -  will Java wait till supplyAsync() is complete and only then move to handle() or handle() will be executed while supplyAsync() is still processing?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699347389,"post_id":77429560,"comment_id":136516942,"body_markdown":"Don’t mix the method invocations with the evaluation of the lambda expression bodies. The methods `supplyAsync` and `handle` are executed one after the other as with any other chained method invocation. The `Supplier` is evaluated asynchronously, i.e. in a worker thread. Its completion may trigger the evaluation of the `BiFunction`, within the same worker thread or a different worker thread. It’s even possible that the `BiFunction` will be evaluated within the `handle` method if the previous stage has been completed already.","body":"Don’t mix the method invocations with the evaluation of the lambda expression bodies. The methods <code>supplyAsync</code> and <code>handle</code> are executed one after the other as with any other chained method invocation. The <code>Supplier</code> is evaluated asynchronously, i.e. in a worker thread. Its completion may trigger the evaluation of the <code>BiFunction</code>, within the same worker thread or a different worker thread. It’s even possible that the <code>BiFunction</code> will be evaluated within the <code>handle</code> method if the previous stage has been completed already."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699347419,"post_id":77429560,"comment_id":136516947,"body_markdown":"Keep in mind that you also can write your code as `Supplier&lt;String&gt; supplier = () -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; };\nBiFunction&lt;? super String, Throwable, ? extends String&gt; biFunction = (s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;;\nCompletableFuture&lt;String&gt; firstStage = CompletableFuture.supplyAsync(supplier);\nCompletableFuture&lt;String&gt; completableFuture = firstStage.handle(biFunction);`","body":"Keep in mind that you also can write your code as <code>Supplier&lt;String&gt; supplier = () -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }; BiFunction&lt;? super String, Throwable, ? extends String&gt; biFunction = (s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;; CompletableFuture&lt;String&gt; firstStage = CompletableFuture.supplyAsync(supplier); CompletableFuture&lt;String&gt; completableFuture = firstStage.handle(biFunction);</code>"},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699361327,"post_id":77429560,"comment_id":136519562,"body_markdown":"Hmm interesting, but it seems that I missing knowledge how async threads works and how they trigger evaluation of functions. Can you recommend any link where I can read about it? Thanks again!","body":"Hmm interesting, but it seems that I missing knowledge how async threads works and how they trigger evaluation of functions. Can you recommend any link where I can read about it? Thanks again!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699372866,"post_id":77429560,"comment_id":136522092,"body_markdown":"It’s not clear where we would have to start. Do you understand the following example, `Runnable r = () -&gt; System.out.println(&quot;hello from &quot; + Thread.currentThread().getName()); new Thread(r).start();`? Letting aside that we use a function here to create the `Runnable`, this example works the same way as in Java&#160;1.0. The `CompletableFuture` uses a thread pool behind the scenes but that’s not important. You can use `CompletableFuture.supplyAsync(() -&gt; &quot;Hello&quot;, r -&gt; new Thread(r).start()).thenAccept(System.out::println);` to create a background thread the same way as in the first example.","body":"It’s not clear where we would have to start. Do you understand the following example, <code>Runnable r = () -&gt; System.out.println(&quot;hello from &quot; + Thread.currentThread().getName()); new Thread(r).start();</code>? Letting aside that we use a function here to create the <code>Runnable</code>, this example works the same way as in Java 1.0. The <code>CompletableFuture</code> uses a thread pool behind the scenes but that’s not important. You can use <code>CompletableFuture.supplyAsync(() -&gt; &quot;Hello&quot;, r -&gt; new Thread(r).start()).thenAccept(System.out::println);</code> to create a background thread the same way as in the first example."},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699541093,"post_id":77429560,"comment_id":136547280,"body_markdown":"Thanks again, now more understandable, but I think I need to take some full course about async to be able to write something similar on my own. Lots of abstraction going on inside the supplyAsync method, but in general I got the idea.","body":"Thanks again, now more understandable, but I think I need to take some full course about async to be able to write something similar on my own. Lots of abstraction going on inside the supplyAsync method, but in general I got the idea."}],"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699257334,"creation_date":1699257334,"question_id":77429560,"body_markdown":"here is example of error handling in completableFuture  \r\nhttps://www.baeldung.com/java-completablefuture\r\n```\r\nCompletableFuture&lt;String&gt; completableFuture  \r\n  =  CompletableFuture.supplyAsync(() -&gt; {\r\n      if (name == null) {\r\n          throw new RuntimeException(&quot;Computation error!&quot;);\r\n      }\r\n      return &quot;Hello, &quot; + name;\r\n  }).handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);\r\n```\r\n\r\nAs handle() method will take BiFunction as paremeter, my question is how supplyAsync is passing that parameter to handle(). I tried to look into the source code but didnt manage to find.\r\n\r\nAnd would it be to possible to demonstrate it with some simple example how function is passed from one method to another when method are chained with dot\r\n\r\nfirstMehtod(..).secondMethod(Fuction&lt;?,?&gt;);","title":"How CompletableFuture supplyAsyncmethod() works in Java","body":"<p>here is example of error handling in completableFuture<br />\n<a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture</a></p>\n<pre><code>CompletableFuture&lt;String&gt; completableFuture  \n  =  CompletableFuture.supplyAsync(() -&gt; {\n      if (name == null) {\n          throw new RuntimeException(&quot;Computation error!&quot;);\n      }\n      return &quot;Hello, &quot; + name;\n  }).handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);\n</code></pre>\n<p>As handle() method will take BiFunction as paremeter, my question is how supplyAsync is passing that parameter to handle(). I tried to look into the source code but didnt manage to find.</p>\n<p>And would it be to possible to demonstrate it with some simple example how function is passed from one method to another when method are chained with dot</p>\n<p>firstMehtod(..).secondMethod(Fuction);</p>\n"},{"tags":["java","spring-boot","analytics","data-analysis"],"comments":[{"owner":{"account_id":17370497,"reputation":68,"user_id":12584735,"display_name":"Behtash"},"score":0,"creation_date":1699256986,"post_id":77429270,"comment_id":136503923,"body_markdown":"For data science, you can use python. If you can use api which communicate with python and create module using matplotlib and pandas(These are libraries in python) and work with them and at the end you can get export image of charts and data in raw.","body":"For data science, you can use python. If you can use api which communicate with python and create module using matplotlib and pandas(These are libraries in python) and work with them and at the end you can get export image of charts and data in raw."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268155,"post_id":77429270,"comment_id":136505782,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18837528,"reputation":1,"user_id":13739830,"display_name":"vivek kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699256772,"creation_date":1699254195,"question_id":77429270,"body_markdown":"I want to use a analytics tool to integrate in my spring boot application where I will be uploading an Excel sheet and the tool will determine the columns to create reports or charts. Which tool will be best for it?\r\n\r\nI tried to find tools but got confused after reading their API documentation.","title":"Analytics tool for Excel data analysis","body":"<p>I want to use a analytics tool to integrate in my spring boot application where I will be uploading an Excel sheet and the tool will determine the columns to create reports or charts. Which tool will be best for it?</p>\n<p>I tried to find tools but got confused after reading their API documentation.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699256449,"creation_date":1699256449,"answer_id":77429467,"question_id":77403571,"body_markdown":"After some research, I found that I can use for this specific test case the class and method `org.springframework.test.util.TestSocketUtils.findAvailableTcpPort()` which [was introduced after][1] the `SocketUtils` has been removed.\r\n\r\nWith that I&#39;ve implemented a `RandomPortInitializer` like that:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class AbstractIntegrationTest {\r\n\r\n  // This value will be set later by the RandomPortInitializer\r\n  @Value(&quot;${server.internalPort}&quot;)\r\n  int internalPort;\r\n\r\n  ...\r\n\r\n  public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n      @Override\r\n      public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        int randomPort = TestSocketUtils.findAvailableTcpPort();\r\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\r\n              &quot;server.internalPort=&quot; + randomPort);\r\n      }\r\n    }\r\n  ...\r\n}\r\n```\r\n\r\nI use that initializer on my concrete test class where I can access the `internalPort` value.\r\n\r\n```java\r\n@DisplayName(&quot;Do some tests&quot;)\r\n@ContextConfiguration(initializers = {RandomPortInitializer.class})\r\nclass MyIntegrationTest extends AbstractIntegrationTest {\r\n...\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/28052#issuecomment-1074160853","title":"How to use WebEnvironment.RANDOM_PORT to get a second random port?","body":"<p>After some research, I found that I can use for this specific test case the class and method <code>org.springframework.test.util.TestSocketUtils.findAvailableTcpPort()</code> which <a href=\"https://github.com/spring-projects/spring-framework/issues/28052#issuecomment-1074160853\" rel=\"nofollow noreferrer\">was introduced after</a> the <code>SocketUtils</code> has been removed.</p>\n<p>With that I've implemented a <code>RandomPortInitializer</code> like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class AbstractIntegrationTest {\n\n  // This value will be set later by the RandomPortInitializer\n  @Value(&quot;${server.internalPort}&quot;)\n  int internalPort;\n\n  ...\n\n  public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n      @Override\n      public void initialize(ConfigurableApplicationContext applicationContext) {\n        int randomPort = TestSocketUtils.findAvailableTcpPort();\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\n              &quot;server.internalPort=&quot; + randomPort);\n      }\n    }\n  ...\n}\n</code></pre>\n<p>I use that initializer on my concrete test class where I can access the <code>internalPort</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DisplayName(&quot;Do some tests&quot;)\n@ContextConfiguration(initializers = {RandomPortInitializer.class})\nclass MyIntegrationTest extends AbstractIntegrationTest {\n...\n</code></pre>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77429467,"answer_count":1,"score":1,"last_activity_date":1699256449,"creation_date":1698850754,"question_id":77403571,"body_markdown":"I have a Spring Boot application which I start with the standard port mechanism, i.e. setting the property value `server.port` to a fixed number, e.g. 8081. I managed to expose a second/separate port in that Spring Boot application on which some other (read: internal) REST endpoints are available. Therefore, I have introduced the property `server.internalPort`.\r\n\r\nWhen running a `@SpringBootTest` integration test, I can easily randomize the `server.port` value via `webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT`. But I need to randomize the value for the property `server.internalPort` somehow, too.\r\n\r\nIs there an easy way to register a property value for randomization at test start up? E.g., my test looks something like this:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n...\r\npublic abstract class AbstractSomethingIntegrationTest {\r\n\r\n  @LocalServerPort\r\n  private int port;\r\n\r\n  @Value(&quot;${server.internalPort}&quot;)\r\n  private int internalPort;\r\n```\r\n\r\nThe variable `port` gets a randomized value but `internalPort` not. It gets the value I have used in the `integrationtest/resources/application.yml` file.","title":"How to use WebEnvironment.RANDOM_PORT to get a second random port?","body":"<p>I have a Spring Boot application which I start with the standard port mechanism, i.e. setting the property value <code>server.port</code> to a fixed number, e.g. 8081. I managed to expose a second/separate port in that Spring Boot application on which some other (read: internal) REST endpoints are available. Therefore, I have introduced the property <code>server.internalPort</code>.</p>\n<p>When running a <code>@SpringBootTest</code> integration test, I can easily randomize the <code>server.port</code> value via <code>webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT</code>. But I need to randomize the value for the property <code>server.internalPort</code> somehow, too.</p>\n<p>Is there an easy way to register a property value for randomization at test start up? E.g., my test looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n...\npublic abstract class AbstractSomethingIntegrationTest {\n\n  @LocalServerPort\n  private int port;\n\n  @Value(&quot;${server.internalPort}&quot;)\n  private int internalPort;\n</code></pre>\n<p>The variable <code>port</code> gets a randomized value but <code>internalPort</code> not. It gets the value I have used in the <code>integrationtest/resources/application.yml</code> file.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"score":0,"creation_date":1638763332,"post_id":70240144,"comment_id":124166515,"body_markdown":"I got the issues rectified in a much simpler way:\n\nI opened the software manager of my Linux mint and typed &quot;JDK 17&quot; I then downloaded all necessary JDK 17 packages then searched for &quot;JDK 11&quot; and deleted those. After this, I went to the terminal and typed &quot;java --version&quot; and it showed version 17. I then went to vsc and downloaded the extension &quot;java run&quot; and it worked. I did not watch any tutorials or anything. I just know that the software manager for Linux mint is like a superuser. It can access/delete and program-related files. So it was an easy fix.","body":"I got the issues rectified in a much simpler way:  I opened the software manager of my Linux mint and typed &quot;JDK 17&quot; I then downloaded all necessary JDK 17 packages then searched for &quot;JDK 11&quot; and deleted those. After this, I went to the terminal and typed &quot;java --version&quot; and it showed version 17. I then went to vsc and downloaded the extension &quot;java run&quot; and it worked. I did not watch any tutorials or anything. I just know that the software manager for Linux mint is like a superuser. It can access/delete and program-related files. So it was an easy fix."},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638767618,"post_id":70240144,"comment_id":124167182,"body_markdown":"@Command_Blocks. Glad your question has been resolved. You may write it down as an answer then accept it to mark the question as resolved.","body":"@Command_Blocks. Glad your question has been resolved. You may write it down as an answer then accept it to mark the question as resolved."},{"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"score":0,"creation_date":1638801634,"post_id":70240144,"comment_id":124177668,"body_markdown":"nvm the java issue started again. I don&#39;t know what is happening with VSC. Like after I did the java I wanted to make sure my python projects were not harmed so I opened and ran them. &quot;/bin/sh: 1: python: not found&quot; error received.... I don&#39;t even have a folder called /bin/sh and I am 100% sure I don&#39;t have python, I use python 3.9.5. I did not change any python related settings. After that, I ran a java code to make sure my java was alright, but nope. It just gives an error. I guess I will just revert to pycharm and IntelliJ, at least those are easy to use.","body":"nvm the java issue started again. I don&#39;t know what is happening with VSC. Like after I did the java I wanted to make sure my python projects were not harmed so I opened and ran them. &quot;/bin/sh: 1: python: not found&quot; error received.... I don&#39;t even have a folder called /bin/sh and I am 100% sure I don&#39;t have python, I use python 3.9.5. I did not change any python related settings. After that, I ran a java code to make sure my java was alright, but nope. It just gives an error. I guess I will just revert to pycharm and IntelliJ, at least those are easy to use."},{"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"score":0,"creation_date":1638801811,"post_id":70240144,"comment_id":124177734,"body_markdown":"and I can&#39;t seem to find the User Settings.json file... I opened it by mistake a while back and now I can&#39;t find it","body":"and I can&#39;t seem to find the User Settings.json file... I opened it by mistake a while back and now I can&#39;t find it"},{"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"score":1,"creation_date":1638803227,"post_id":70240144,"comment_id":124178374,"body_markdown":"I finally fixed it. After so many hours, I fixed it. Java is working. So is python. The run java extension messed up python directory or something, that is why python or java won&#39;t work. But I fixed it","body":"I finally fixed it. After so many hours, I fixed it. Java is working. So is python. The run java extension messed up python directory or something, that is why python or java won&#39;t work. But I fixed it"}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638755615,"creation_date":1638755615,"answer_id":70240144,"question_id":70231573,"body_markdown":"You&#39;ve added jDK11 to PATH, discard this configuration then **add jdk17 to PATH**.\r\n\r\nThen turn to VS Code, open `User Settings.json` and add \r\n\r\n    &quot;java.home&quot;: &quot;&lt;path to jdk17&gt;&quot;,\r\n\r\nThen reload window to make this change effective.","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>You've added jDK11 to PATH, discard this configuration then <strong>add jdk17 to PATH</strong>.</p>\n<p>Then turn to VS Code, open <code>User Settings.json</code> and add</p>\n<pre><code>&quot;java.home&quot;: &quot;&lt;path to jdk17&gt;&quot;,\n</code></pre>\n<p>Then reload window to make this change effective.</p>\n"},{"tags":[],"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638801858,"creation_date":1638801858,"answer_id":70247304,"question_id":70231573,"body_markdown":"I did the following steps to fix the issue(I use Debian based Linux OS):\r\n   1. Went to my software manager, searched for JDK 11.\r\n   2. Deleted JDK 11 and installed JDK 17 from the software manager\r\n   3. Went to VSC and installed an extension &quot;java run&quot;.\r\n   4. Ran the code and it worked just fine.\r\n","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>I did the following steps to fix the issue(I use Debian based Linux OS):</p>\n<ol>\n<li>Went to my software manager, searched for JDK 11.</li>\n<li>Deleted JDK 11 and installed JDK 17 from the software manager</li>\n<li>Went to VSC and installed an extension &quot;java run&quot;.</li>\n<li>Ran the code and it worked just fine.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16772840,"reputation":63,"user_id":13023390,"display_name":"Osolemio44"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699256127,"creation_date":1699256127,"answer_id":77429433,"question_id":70231573,"body_markdown":"In youre `settings.json` you can configure all youre jdk and use `default:true` with the one you prefer to use.\r\nExample:\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/javase/8/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk8u332&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk8u332/src.zip&quot;\r\n    },\r\n    {\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk-11.0.15&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk-11.0.15/lib/src.zip&quot;\r\n    },\r\n    {\r\n      &quot;default&quot;: true,\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/17/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk-17.0.7+7/lib/src.zip&quot;\r\n    }\r\n  ],\r\n\r\nBut some specific extension need their own configuration. For example, sonar lint need this configuration:\r\n\r\n    &quot;sonarlint.ls.javaHome&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>In youre <code>settings.json</code> you can configure all youre jdk and use <code>default:true</code> with the one you prefer to use.\nExample:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n{\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/javase/8/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk8u332&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk8u332/src.zip&quot;\n},\n{\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-11&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk-11.0.15&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk-11.0.15/lib/src.zip&quot;\n},\n{\n  &quot;default&quot;: true,\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/17/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-17&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk-17.0.7+7/lib/src.zip&quot;\n}\n</code></pre>\n<p>],</p>\n<p>But some specific extension need their own configuration. For example, sonar lint need this configuration:</p>\n<pre><code>&quot;sonarlint.ls.javaHome&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\n</code></pre>\n"}],"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699256127,"creation_date":1638680204,"question_id":70231573,"body_markdown":"So I recently installed OpenJDK 17 for Linux and it came to me as a tar.gz file. I installed it after clicking a link I got on vs code after installing a java extension pack (I had Java 11 installed by default, but I decided to get the latest version), under the adoptium&#39;s temurin tab of installing Java from vsc. So after doing so I reloaded the screen, but still no change. Vs code is still not detecting java 17 or 11 is installed. Also when I type `java --version` in the terminal, I get :\r\n\r\n```\r\nOpenJDK 11.0.11 2021-04-20\r\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n```\r\n\r\nHow do I make Java 17 the default version for VSC?\r\n","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>So I recently installed OpenJDK 17 for Linux and it came to me as a tar.gz file. I installed it after clicking a link I got on vs code after installing a java extension pack (I had Java 11 installed by default, but I decided to get the latest version), under the adoptium's temurin tab of installing Java from vsc. So after doing so I reloaded the screen, but still no change. Vs code is still not detecting java 17 or 11 is installed. Also when I type <code>java --version</code> in the terminal, I get :</p>\n<pre><code>OpenJDK 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<p>How do I make Java 17 the default version for VSC?</p>\n"},{"tags":["java","if-statement","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699193035,"creation_date":1699193035,"answer_id":77426208,"question_id":77420268,"body_markdown":"One simple way is to use early returns.\r\n\r\nE.g.\r\n\r\n    if(foo) {\r\n     return &quot;foo&quot;;\r\n    }\r\n    \r\n    if(bar) {\r\n     return &quot;bar&quot;;\r\n    }\r\n    \r\n    etc...","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>One simple way is to use early returns.</p>\n<p>E.g.</p>\n<pre><code>if(foo) {\n return &quot;foo&quot;;\n}\n\nif(bar) {\n return &quot;bar&quot;;\n}\n\netc...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699222911,"creation_date":1699222911,"answer_id":77427877,"question_id":77420268,"body_markdown":"Streams and predicates are not a silver bullet, and there&#39;s nothing wrong with plain `if`s.\r\n\r\nA small refactoring, mainly removing redundant conditions, yields:\r\n\r\n```\r\nif (eventList.size() &gt; 1) { //SOP Special Event\r\n    if (results.getAcknowledgeUid().isEmpty()) {\r\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                .findFirst().orElse(null);\r\n    } else {\r\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\r\n            event = eventList.stream().filter(isAcknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n        } else { // Non SOP Acnknowledge Event\r\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\r\n                    .stream().filter(isAcnknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n    }\r\n} else { // Single Event\r\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nwhich has good readability. ","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>Streams and predicates are not a silver bullet, and there's nothing wrong with plain <code>if</code>s.</p>\n<p>A small refactoring, mainly removing redundant conditions, yields:</p>\n<pre><code>if (eventList.size() &gt; 1) { //SOP Special Event\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                .findFirst().orElse(null);\n    } else {\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\n            event = eventList.stream().filter(isAcknowledgeEvent)\n                    .findFirst().orElse(null);\n        } else { // Non SOP Acnknowledge Event\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\n                    .stream().filter(isAcnknowledgeEvent)\n                    .findFirst().orElse(null);\n    }\n} else { // Single Event\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>which has good readability.</p>\n"},{"comments":[{"owner":{"account_id":4357423,"reputation":17,"user_id":3555555,"display_name":"turing23"},"score":0,"creation_date":1699295512,"post_id":77429423,"comment_id":136511202,"body_markdown":"Thank you so much @JeanBaptiste Even as i am nesting through the if else blocks, i hope my review will get passed as this is very concise and clear.This will help me design my code better in future as well.","body":"Thank you so much @JeanBaptiste Even as i am nesting through the if else blocks, i hope my review will get passed as this is very concise and clear.This will help me design my code better in future as well."}],"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699256034,"creation_date":1699256034,"answer_id":77429423,"question_id":77420268,"body_markdown":"At least that block is wrong:\r\n\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n\r\nthere is a (probably) missing else, isn&#39;t it?\r\n\r\n       // SOP Acnknowledge Event\r\n       if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       } else {\r\n           // Non SOP Acnknowledge Event\r\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n       }\r\n\r\n\r\n\r\nThe ifs are;\r\n\r\n    if (n&gt;1 &amp;&amp; cond)\r\n    else if (n&gt;1 &amp;&amp; !cond)\r\n    else if (n&gt;0)\r\n\r\nat least testing `cond` twice is redundant. You may write it:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else if (n&gt;0)\r\n\r\nand if `n` is always 1, 2 or 3 then the last test may be removed:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else\r\n\r\n\r\nwhich gives:\r\n\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                     .findFirst().orElse(null);\r\n        } else { \r\n           // SOP Acnknowledge Event\r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                         .findFirst().orElse(null);\r\n           } else {\r\n           // Non SOP Acnknowledge Event\r\n               List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n               event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                           .findFirst().orElse(null);\r\n           }\r\n    else {\r\n           event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n    }\r\n\r\nYou may also factorize the calls to findFirst.orElse and filters:\r\n\r\n    Stream&lt;SOMETYPE&gt; s = null;\r\n    Predicate&lt;SOMETYPE&gt; f = null\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            s = eventList.stream();\r\n            f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\r\n        } else { \r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               s = eventList.stream()\r\n           } else {\r\n               s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\r\n           }\r\n           f = filter(isAcnknowledgeEvent);\r\n    else {\r\n           s =  eventList.stream();\r\n           f = isOriginalEvent;\r\n    }\r\n    event = s.filter(f).findFirst().orElse(null);\r\n\r\n\r\n","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>At least that block is wrong:</p>\n<pre><code>   // SOP Acnknowledge Event\n   if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   }\n   // Non SOP Acnknowledge Event\n   List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n   event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n</code></pre>\n<p>there is a (probably) missing else, isn't it?</p>\n<pre><code>   // SOP Acnknowledge Event\n   if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   } else {\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n   }\n</code></pre>\n<p>The ifs are;</p>\n<pre><code>if (n&gt;1 &amp;&amp; cond)\nelse if (n&gt;1 &amp;&amp; !cond)\nelse if (n&gt;0)\n</code></pre>\n<p>at least testing <code>cond</code> twice is redundant. You may write it:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse if (n&gt;0)\n</code></pre>\n<p>and if <code>n</code> is always 1, 2 or 3 then the last test may be removed:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse\n</code></pre>\n<p>which gives:</p>\n<pre><code>if (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n    } else { \n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       } else {\n       // Non SOP Acnknowledge Event\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n       }\nelse {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>You may also factorize the calls to findFirst.orElse and filters:</p>\n<pre><code>Stream&lt;SOMETYPE&gt; s = null;\nPredicate&lt;SOMETYPE&gt; f = null\nif (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        s = eventList.stream();\n        f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\n    } else { \n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           s = eventList.stream()\n       } else {\n           s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\n       }\n       f = filter(isAcnknowledgeEvent);\nelse {\n       s =  eventList.stream();\n       f = isOriginalEvent;\n}\nevent = s.filter(f).findFirst().orElse(null);\n</code></pre>\n"}],"owner":{"account_id":4357423,"reputation":17,"user_id":3555555,"display_name":"turing23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77429423,"answer_count":3,"score":0,"last_activity_date":1699256034,"creation_date":1699056067,"question_id":77420268,"body_markdown":"I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality\r\n\r\n**Background**\r\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.\r\n\r\n```\r\n//All Required Predicates\r\n\r\n//SOP Special Event\r\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\r\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                 .findFirst().orElse(null);\r\n} \r\nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n}\r\n// Single Event\r\nelse if (eventList.size() &gt;0) {\r\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nI moved all my conditions within in the if else blocks to predicates and it&#39;s looking compact right now. But i&#39;m still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that. \r\ni&#39;m unable to do the following as well.\r\n\r\n```\r\nPredicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\r\n\r\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\r\n                                 .findFirst().orElse(null);\r\n```\r\nwhich gives me an error in the IDE \r\n\r\n&gt; Required type Predicate &lt;? super Event&gt;\r\n&gt; Provided Predicate &lt;List&lt;Event&gt;&gt;\r\n\r\n1. How do i reduce the If-Else Chaining?\r\n2. How do i filter data in Streams within a Collection that are outside the scope of that collection?\r\n3. Is there a better or elegant solution to this problem?","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality</p>\n<p><strong>Background</strong>\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.</p>\n<pre><code>//All Required Predicates\n\n//SOP Special Event\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n} \nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       }\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n}\n// Single Event\nelse if (eventList.size() &gt;0) {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>I moved all my conditions within in the if else blocks to predicates and it's looking compact right now. But i'm still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that.\ni'm unable to do the following as well.</p>\n<pre><code>Predicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\n\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\n                                 .findFirst().orElse(null);\n</code></pre>\n<p>which gives me an error in the IDE</p>\n<blockquote>\n<p>Required type Predicate &lt;? super Event&gt;\nProvided Predicate &lt;List&gt;</p>\n</blockquote>\n<ol>\n<li>How do i reduce the If-Else Chaining?</li>\n<li>How do i filter data in Streams within a Collection that are outside the scope of that collection?</li>\n<li>Is there a better or elegant solution to this problem?</li>\n</ol>\n"},{"tags":["java","file","binary","compare"],"answers":[{"comments":[{"owner":{"account_id":2139,"reputation":8183,"user_id":2951,"accept_rate":100,"display_name":"James B"},"score":2,"creation_date":1242343815,"post_id":866348,"comment_id":673992,"body_markdown":"This is a good idea, except you do have to consider if the files will be identical (i.e. that there&#39;s not any metadata involved, such as in the XLSX format, for example.  This differing metadata will, obviously, produce different hashes).","body":"This is a good idea, except you do have to consider if the files will be identical (i.e. that there&#39;s not any metadata involved, such as in the XLSX format, for example.  This differing metadata will, obviously, produce different hashes)."}],"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1242345001,"creation_date":1242343086,"answer_id":866348,"question_id":866346,"body_markdown":"Maybe... compare MD5 digests of each file? I&#39;m sure there are a lot of ways to do it. You could just open both files and compare each byte.\r\n\r\nEDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?","title":"Easiest way to compare two Excel files in Java?","body":"<p>Maybe... compare MD5 digests of each file? I'm sure there are a lot of ways to do it. You could just open both files and compare each byte.</p>\n\n<p>EDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1242366979,"post_id":866372,"comment_id":674757,"body_markdown":"I eventually got javaxdelta working after mucking around with its dependency on the &quot;trove&quot; library, but although it works as advertised, sleske is right that I need a canonical comparison, not a byte-by-byte comparison. Thanks anyway for the suggestion, which I&#39;ve voted up.","body":"I eventually got javaxdelta working after mucking around with its dependency on the &quot;trove&quot; library, but although it works as advertised, sleske is right that I need a canonical comparison, not a byte-by-byte comparison. Thanks anyway for the suggestion, which I&#39;ve voted up."}],"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242343572,"creation_date":1242343572,"answer_id":866372,"question_id":866346,"body_markdown":"You could use javaxdelta to check whether the two files are the same.  It&#39;s available from here:\r\n\r\n[http://javaxdelta.sourceforge.net/][1]\r\n\r\n\r\n  [1]: http://javaxdelta.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You could use javaxdelta to check whether the two files are the same.  It's available from here:</p>\n\n<p><a href=\"http://javaxdelta.sourceforge.net/\" rel=\"nofollow noreferrer\">http://javaxdelta.sourceforge.net/</a></p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1242367057,"post_id":866432,"comment_id":674759,"body_markdown":"This actually doesn&#39;t solve my problem, as there seem to be differences between the Excel files that aren&#39;t due to geniune content differences. I&#39;ll try sleske&#39;s suggestion of parsing the files&#39; contents and doing a canonical comparison.","body":"This actually doesn&#39;t solve my problem, as there seem to be differences between the Excel files that aren&#39;t due to geniune content differences. I&#39;ll try sleske&#39;s suggestion of parsing the files&#39; contents and doing a canonical comparison."}],"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242344929,"creation_date":1242344929,"answer_id":866432,"question_id":866346,"body_markdown":"Just found out there&#39;s something in commons-io&#39;s [FileUtils][1]. Thanks for the other answers.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)","title":"Easiest way to compare two Excel files in Java?","body":"<p>Just found out there's something in commons-io's <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)\" rel=\"nofollow noreferrer\">FileUtils</a>. Thanks for the other answers.</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1242364210,"post_id":866443,"comment_id":674657,"body_markdown":"You&#39;re right, I was using the term unit test loosely; in fact it&#39;s an integration test run by JUnit. I&#39;ll fix that now.","body":"You&#39;re right, I was using the term unit test loosely; in fact it&#39;s an integration test run by JUnit. I&#39;ll fix that now."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1242372426,"post_id":866443,"comment_id":674971,"body_markdown":"Thanks for putting me on the right track; see my DBUnit solution below (or above, depending on votes!)","body":"Thanks for putting me on the right track; see my DBUnit solution below (or above, depending on votes!)"},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1487849298,"post_id":866443,"comment_id":71974304,"body_markdown":"For .xlsx files: MD5 sums will definitely be different, but the directories resulting of unzipping both .xlsx files should be identical (that would be a better way of getting the canonical form)","body":"For .xlsx files: MD5 sums will definitely be different, but the directories resulting of unzipping both .xlsx files should be identical (that would be a better way of getting the canonical form)"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1487849830,"post_id":866443,"comment_id":71974680,"body_markdown":"@golimar: Yes, it should, but it is not :-) (just tested with Excel 2016). There is still metadata that may change. For example, .xlsx files contain the author and time of last modification, and they contain the cell that was active when the document was changed. You still need some canonical form for comparison...","body":"@golimar: Yes, it should, but it is not :-) (just tested with Excel 2016). There is still metadata that may change. For example, .xlsx files contain the author and time of last modification, and they contain the cell that was active when the document was changed. You still need some canonical form for comparison..."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1487850859,"post_id":866443,"comment_id":71975343,"body_markdown":"@sleske I tried with Excel 2016 too... the directories were identical when compared with `diff -r` as it compares the contents of files recursively and not author and times. All depends on what you consider identical, for me it&#39;s perfect as I wanted to compare contents and ignore things like file saving time","body":"@sleske I tried with Excel 2016 too... the directories were identical when compared with <code>diff -r</code> as it compares the contents of files recursively and not author and times. All depends on what you consider identical, for me it&#39;s perfect as I wanted to compare contents and ignore things like file saving time"}],"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242345112,"creation_date":1242345112,"answer_id":866443,"question_id":866346,"body_markdown":"A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.\r\n\r\nHowever, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\r\nSo you&#39;ll need another kind of comparison for your test.\r\n\r\nI&#39;d recommend somehow generating a &quot;canonical&quot; form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the &quot;canonical form&quot; to compare with your expected result (also in canonical form, of course).\r\n\r\n[Apache POI][1] might be useful for reading the file.\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n\r\nBTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That&#39;s an integration test...","title":"Easiest way to compare two Excel files in Java?","body":"<p>A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.</p>\n\n<p>However, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\nSo you'll need another kind of comparison for your test.</p>\n\n<p>I'd recommend somehow generating a \"canonical\" form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the \"canonical form\" to compare with your expected result (also in canonical form, of course).</p>\n\n<p><a href=\"http://poi.apache.org/\" rel=\"noreferrer\">Apache POI</a> might be useful for reading the file.</p>\n\n<p>BTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That's an integration test...</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1242364070,"post_id":866707,"comment_id":674647,"body_markdown":"Two issues: that code is just doing a byte-for-byte comparison, which as sleske points out, isn&#39;t ideal where Excel is concerned. Also, I was after a third-party utility method, not a block of code on some forum that may or may not work. I&#39;ll update the question to make this clear.","body":"Two issues: that code is just doing a byte-for-byte comparison, which as sleske points out, isn&#39;t ideal where Excel is concerned. Also, I was after a third-party utility method, not a block of code on some forum that may or may not work. I&#39;ll update the question to make this clear."}],"tags":[],"owner":{"account_id":37571,"reputation":507,"user_id":107430,"accept_rate":86,"display_name":"Tiger"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242352861,"creation_date":1242352861,"answer_id":866707,"question_id":866346,"body_markdown":"Please, take a look at [the site][1] to compare the binary files, http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n\r\n\r\nTiger\r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>Please, take a look at <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">the site</a> to compare the binary files, <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html</a></p>\n\n<p>Tiger</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1242378367,"post_id":867390,"comment_id":675255,"body_markdown":"Hey using XlsDataSet from DBUnit is a really clever idea; didn&#39;t think of that :-).","body":"Hey using XlsDataSet from DBUnit is a really clever idea; didn&#39;t think of that :-)."},{"owner":{"account_id":4234891,"reputation":1395,"user_id":3466329,"accept_rate":67,"display_name":"Romain"},"score":1,"creation_date":1430136140,"post_id":867390,"comment_id":47913040,"body_markdown":"The latest DbUnit version 2.5 does not work with .xlsx file, only with .xls files. Do you have any idea how to make it work for &quot;.xlsx&quot; files?","body":"The latest DbUnit version 2.5 does not work with .xlsx file, only with .xls files. Do you have any idea how to make it work for &quot;.xlsx&quot; files?"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1430206374,"post_id":867390,"comment_id":47948133,"body_markdown":"No idea sorry, unless you have the option of first exporting the .xlsx files to .xls format.","body":"No idea sorry, unless you have the option of first exporting the .xlsx files to .xls format."},{"owner":{"account_id":1225120,"reputation":3832,"user_id":1190830,"accept_rate":55,"display_name":"isaac.hazan"},"score":0,"creation_date":1450950131,"post_id":867390,"comment_id":56642794,"body_markdown":"I tried it but it does not identify differences between cell values, is this normal?","body":"I tried it but it does not identify differences between cell values, is this normal?"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1451426554,"post_id":867390,"comment_id":56780909,"body_markdown":"@isaac.hazan no, it worked for me, but this was six years ago! :-)","body":"@isaac.hazan no, it worked for me, but this was six years ago! :-)"},{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1536852794,"post_id":867390,"comment_id":91581590,"body_markdown":"I also had the problem that 2.5.4 did not work with xlsx files. I changed to use the ExcelComparator from the apache poi examples: https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/ss/examples/ExcelComparator.java","body":"I also had the problem that 2.5.4 did not work with xlsx files. I changed to use the ExcelComparator from the apache poi examples: <a href=\"https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/ss/examples/ExcelComparator.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apac&zwnj;&#8203;he/&hellip;</a>"},{"owner":{"account_id":1743906,"reputation":2266,"user_id":1594534,"accept_rate":67,"display_name":"Bhushan"},"score":0,"creation_date":1617769900,"post_id":867390,"comment_id":118395320,"body_markdown":"Doesn&#39;t work with DBUnit 2.7 with xlsx files","body":"Doesn&#39;t work with DBUnit 2.7 with xlsx files"}],"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":7,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1242372373,"creation_date":1242372373,"answer_id":867390,"question_id":866346,"body_markdown":"Here&#39;s what I ended up doing (with the heavy lifting being done by [DBUnit][1]):\r\n\r\n    /**\r\n     * Compares the data in the two Excel files represented by the given input\r\n     * streams, closing them on completion\r\n     * \r\n     * @param expected can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @param actual can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @throws Exception\r\n     */\r\n    private void compareExcelFiles(InputStream expected, InputStream actual)\r\n      throws Exception\r\n    {\r\n      try {\r\n        Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\r\n      }\r\n      finally {\r\n        IOUtils.closeQuietly(expected);\r\n        IOUtils.closeQuietly(actual);\r\n      }\r\n    }\r\n\r\nThis compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.\r\n\r\n\r\n  [1]: http://dbunit.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>Here's what I ended up doing (with the heavy lifting being done by <a href=\"http://dbunit.sourceforge.net/\" rel=\"noreferrer\">DBUnit</a>):</p>\n\n<pre><code>/**\n * Compares the data in the two Excel files represented by the given input\n * streams, closing them on completion\n * \n * @param expected can't be &lt;code&gt;null&lt;/code&gt;\n * @param actual can't be &lt;code&gt;null&lt;/code&gt;\n * @throws Exception\n */\nprivate void compareExcelFiles(InputStream expected, InputStream actual)\n  throws Exception\n{\n  try {\n    Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\n  }\n  finally {\n    IOUtils.closeQuietly(expected);\n    IOUtils.closeQuietly(actual);\n  }\n}\n</code></pre>\n\n<p>This compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337821075,"post_id":2713240,"comment_id":13938340,"body_markdown":"Command-line tools are ugly to invoke from Java (in my case, JUnit).","body":"Command-line tools are ugly to invoke from Java (in my case, JUnit)."}],"tags":[],"owner":{"account_id":56048,"reputation":36450,"user_id":167897,"accept_rate":72,"display_name":"Wernight"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272283521,"creation_date":1272283521,"answer_id":2713240,"question_id":866346,"body_markdown":"You may use [Beyond Compare 3][1] which can be started from command-line and supports different ways to compare Excel files, including:\r\n\r\n - Comparing Excel sheets as database tables\r\n - Checking all textual content\r\n - Checking textual content with some formating\r\n\r\n  [1]: http://www.scootersoftware.com/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You may use <a href=\"http://www.scootersoftware.com/\" rel=\"nofollow noreferrer\">Beyond Compare 3</a> which can be started from command-line and supports different ways to compare Excel files, including:</p>\n\n<ul>\n<li>Comparing Excel sheets as database tables</li>\n<li>Checking all textual content</li>\n<li>Checking textual content with some formating</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1347419219,"post_id":12346967,"comment_id":16631797,"body_markdown":"If you&#39;re the developer of this project, you should probably add a disclaimer to that effect.","body":"If you&#39;re the developer of this project, you should probably add a disclaimer to that effect."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1347524920,"post_id":12346967,"comment_id":16666108,"body_markdown":"Because apart from being good form, it&#39;s a rule of this site, see http://stackoverflow.com/faq#promotion.","body":"Because apart from being good form, it&#39;s a rule of this site, see <a href=\"http://stackoverflow.com/faq#promotion\">stackoverflow.com/faq#promotion</a>."},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":2,"creation_date":1347629220,"post_id":12346967,"comment_id":16703736,"body_markdown":"sure, but i&#39;d say its not so much a rule from SO; it suggests that the community may get peeved with you. I&#39;d have thought this could happen in the case of flagrant self promotion. My reply is genuine and fits into modern java testing strategies, ie hamcrest, well. Its a good answer to the question, whomever offered it IMO.","body":"sure, but i&#39;d say its not so much a rule from SO; it suggests that the community may get peeved with you. I&#39;d have thought this could happen in the case of flagrant self promotion. My reply is genuine and fits into modern java testing strategies, ie hamcrest, well. Its a good answer to the question, whomever offered it IMO."},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1440399874,"post_id":12346967,"comment_id":52238293,"body_markdown":"@Toby .. instead of assertion error, can I get simply the result of comparison in some easy to read format? I want the differences to be feed to another function for further processing.","body":"@Toby .. instead of assertion error, can I get simply the result of comparison in some easy to read format? I want the differences to be feed to another function for further processing."},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1440490793,"post_id":12346967,"comment_id":52282397,"body_markdown":"Not by default but you could do something around a custom runner to catch the assertion error and process it. For something more elegant, you could try calling the matchers directly which should return a boolean. You can build up the errors in a customer Description class and process it that way...","body":"Not by default but you could do something around a custom runner to catch the assertion error and process it. For something more elegant, you could try calling the matchers directly which should return a boolean. You can build up the errors in a customer Description class and process it that way..."},{"owner":{"account_id":1225120,"reputation":3832,"user_id":1190830,"accept_rate":55,"display_name":"isaac.hazan"},"score":1,"creation_date":1450944851,"post_id":12346967,"comment_id":56640591,"body_markdown":"Why you don&#39;t put that in maven central? Also what is the license? Is there any limitation using it? Do i have to give my code if i use your library?","body":"Why you don&#39;t put that in maven central? Also what is the license? Is there any limitation using it? Do i have to give my code if i use your library?"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1451327294,"post_id":12346967,"comment_id":56739034,"body_markdown":"If you look in the source, you&#39;ll see it&#39;s an Apache 2 licence. See the licence for details (http://www.apache.org/licenses/LICENSE-2.0). You don&#39;t have to give your code away if you use it. As to maven central, it&#39;s already available via a Maven repository so can be easily downloaded from within a pom.xml (see https://github.com/tobyweston/simple-excel/issues/6 for details)","body":"If you look in the source, you&#39;ll see it&#39;s an Apache 2 licence. See the licence for details (<a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow noreferrer\">apache.org/licenses/LICENSE-2.0</a>). You don&#39;t have to give your code away if you use it. As to maven central, it&#39;s already available via a Maven repository so can be easily downloaded from within a pom.xml (see <a href=\"https://github.com/tobyweston/simple-excel/issues/6\" rel=\"nofollow noreferrer\">github.com/tobyweston/simple-excel/issues/6</a> for details)"},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1582838001,"post_id":12346967,"comment_id":106924832,"body_markdown":"Not available on Maven Central or jcenter. Meh.","body":"Not available on Maven Central or jcenter. Meh."}],"tags":[],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"comment_count":8,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1359041443,"creation_date":1347261691,"answer_id":12346967,"question_id":866346,"body_markdown":"You might consider using my project [simple-excel](https://github.com/tobyweston/simple-excel/) which provides a bunch of Hamcrest Matchers to do the job.\r\n\r\nWhen you do something like the following, \r\n\r\n    assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\r\n\r\n\r\nYou&#39;d see, for example, \r\n\r\n    java.lang.AssertionError:\r\n    Expected: entire workbook to be equal\r\n         but: cell at &quot;C14&quot; contained &lt;&quot;bananas&quot;&gt; expected &lt;nothing&gt;,\r\n              cell at &quot;C15&quot; contained &lt;&quot;1,850,000 EUR&quot;&gt; expected &lt;&quot;1,850,000.00 EUR&quot;&gt;,\r\n              cell at &quot;D16&quot; contained &lt;nothing&gt; expected &lt;&quot;Tue Sep 04 06:30:00&quot;&gt;\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\r\n\r\nThat way, you can run it from your automatted tests and get meaningful feedback whilst you&#39;re developing.\r\n\r\nYou can read more about it at [this article on my site](http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/)","title":"Easiest way to compare two Excel files in Java?","body":"<p>You might consider using my project <a href=\"https://github.com/tobyweston/simple-excel/\" rel=\"noreferrer\">simple-excel</a> which provides a bunch of Hamcrest Matchers to do the job.</p>\n\n<p>When you do something like the following, </p>\n\n<pre><code>assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\n</code></pre>\n\n<p>You'd see, for example, </p>\n\n<pre><code>java.lang.AssertionError:\nExpected: entire workbook to be equal\n     but: cell at \"C14\" contained &lt;\"bananas\"&gt; expected &lt;nothing&gt;,\n          cell at \"C15\" contained &lt;\"1,850,000 EUR\"&gt; expected &lt;\"1,850,000.00 EUR\"&gt;,\n          cell at \"D16\" contained &lt;nothing&gt; expected &lt;\"Tue Sep 04 06:30:00\"&gt;\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n</code></pre>\n\n<p>That way, you can run it from your automatted tests and get meaningful feedback whilst you're developing.</p>\n\n<p>You can read more about it at <a href=\"http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/\" rel=\"noreferrer\">this article on my site</a></p>\n"},{"tags":[],"owner":{"account_id":267143,"reputation":702,"user_id":555139,"display_name":"joshden"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438801656,"creation_date":1438801656,"answer_id":31840860,"question_id":866346,"body_markdown":"I needed to do something similar and was already using the [Apache POI library](https://poi.apache.org/index.html) in my project to create Excel files. So I opted to use the included [ExcelExtractor](https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html) interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both [HSSF for .xls](https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html) as well as [XSSF for .xlsx](https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html).\r\n\r\nDump to string:\r\n\r\n    XSSFWorkbook xssfWorkbookA = ...;\r\n    String workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\r\n    \r\nExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>I needed to do something similar and was already using the <a href=\"https://poi.apache.org/index.html\" rel=\"noreferrer\">Apache POI library</a> in my project to create Excel files. So I opted to use the included <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html\" rel=\"noreferrer\">ExcelExtractor</a> interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both <a href=\"https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html\" rel=\"noreferrer\">HSSF for .xls</a> as well as <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html\" rel=\"noreferrer\">XSSF for .xlsx</a>.</p>\n\n<p>Dump to string:</p>\n\n<pre><code>XSSFWorkbook xssfWorkbookA = ...;\nString workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\n</code></pre>\n\n<p>ExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.</p>\n"},{"tags":[],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463750155,"creation_date":1463750155,"answer_id":37347712,"question_id":866346,"body_markdown":"The easiest way I find is to use Tika.\r\nI use it like this:\r\n\r\n\tprivate void compareXlsx(File expected, File result) throws IOException, TikaException {\r\n\t\t Tika tika = new Tika();\r\n         String expectedText = tika.parseToString(expected);\r\n         String resultText = tika.parseToString(result);\r\n\t     assertEquals(expectedText, resultText);\r\n\t}\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.13&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>The easiest way I find is to use Tika.\nI use it like this:</p>\n\n<pre><code>private void compareXlsx(File expected, File result) throws IOException, TikaException {\n     Tika tika = new Tika();\n     String expectedText = tika.parseToString(expected);\n     String resultText = tika.parseToString(result);\n     assertEquals(expectedText, resultText);\n}\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.13&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559319976,"creation_date":1559319976,"answer_id":56398703,"question_id":866346,"body_markdown":"To test only content of the first sheets in Kotlin (easily can be converted to java).\r\n\r\n\r\n    private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\r\n            val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            if(mapOfCellDoc.size == mapOfCellDoc1.size){\r\n                return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\r\n            }\r\n            return false\r\n        }\r\n\r\n    data class IndexInThePivotTable(val row: Int, val col: Int)\r\n\r\n\r\nand in your code add assert\r\n\r\n        assertTrue(checkEqualityExcelDocs(expected, actual), &quot;Docs aren&#39;t equal!&quot;)\r\n\r\nas you can see `doc.toList().first()` will take only the first sheet of document, if you need to compare each sheet respectively change code a little. \r\n\r\nAlso it is quite good idea to not take into account &quot;&quot; empty strings cells, I didn&#39;t need this functionality (As well, simply add this part, if you need). \r\n\r\n---------\r\nalso it can be useful information\r\n\r\n    //first doc I&#39;ve got from outputstream such way\r\n    val out = ByteArrayOutputStream()\r\n    //some method which writes excel to outputstream\r\n    val firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\r\n\r\nand second doc from file to compare with \r\n\r\n    val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(&quot;yourfile.xlsx&quot;).path)\r\n\r\n\r\n\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>To test only content of the first sheets in Kotlin (easily can be converted to java).</p>\n\n<pre><code>private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\n        val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        if(mapOfCellDoc.size == mapOfCellDoc1.size){\n            return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\n        }\n        return false\n    }\n\ndata class IndexInThePivotTable(val row: Int, val col: Int)\n</code></pre>\n\n<p>and in your code add assert</p>\n\n<pre><code>    assertTrue(checkEqualityExcelDocs(expected, actual), \"Docs aren't equal!\")\n</code></pre>\n\n<p>as you can see <code>doc.toList().first()</code> will take only the first sheet of document, if you need to compare each sheet respectively change code a little. </p>\n\n<p>Also it is quite good idea to not take into account \"\" empty strings cells, I didn't need this functionality (As well, simply add this part, if you need). </p>\n\n<hr>\n\n<p>also it can be useful information</p>\n\n<pre><code>//first doc I've got from outputstream such way\nval out = ByteArrayOutputStream()\n//some method which writes excel to outputstream\nval firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\n</code></pre>\n\n<p>and second doc from file to compare with </p>\n\n<pre><code>val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(\"yourfile.xlsx\").path)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699280050,"post_id":77429402,"comment_id":136508057,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77429402/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29835916,"reputation":1,"user_id":22865277,"display_name":"Ico Kostov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699255814,"creation_date":1699255814,"answer_id":77429402,"question_id":866346,"body_markdown":"Best way for me after a long research:\r\nUsing Apachi POI as external library\r\nUsing XSSF for xlsx files. \r\nIf you want to compare xls files have to use HSSF\r\n\r\nGood luck\r\n\r\n    public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\r\n        try\r\n        {\r\n            File file1 = new File(file01);\r\n            File file2 = new File(file02);\r\n            FileInputStream fis1 = new FileInputStream(file1);\r\n            FileInputStream fis2 = new FileInputStream(file2);\r\n            XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\r\n            XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\r\n            XSSFSheet sheet1 = wb1.getSheetAt(0);\r\n            XSSFSheet sheet2 = wb2.getSheetAt(0);\r\n            ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n            for (Row row1 : sheet1) {\r\n                Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell1 = cellIterator.next();\r\n                    arrayList1.add(cell1.getStringCellValue());\r\n                    }\r\n                }\r\n            for (Row row2 : sheet2) {\r\n                Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell2 = cellIterator.next();\r\n                    arrayList2.add(cell2.getStringCellValue());\r\n                }\r\n            }\r\n        if (arrayList1.equals(arrayList2)){\r\n            System.out.println(&quot;the files are equal&quot;);\r\n        }else{\r\n            System.out.println(&quot;NOT EQUAL&quot;);\r\n        }\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Easiest way to compare two Excel files in Java?","body":"<p>Best way for me after a long research:\nUsing Apachi POI as external library\nUsing XSSF for xlsx files.\nIf you want to compare xls files have to use HSSF</p>\n<p>Good luck</p>\n<pre><code>public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\n    try\n    {\n        File file1 = new File(file01);\n        File file2 = new File(file02);\n        FileInputStream fis1 = new FileInputStream(file1);\n        FileInputStream fis2 = new FileInputStream(file2);\n        XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\n        XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\n        XSSFSheet sheet1 = wb1.getSheetAt(0);\n        XSSFSheet sheet2 = wb2.getSheetAt(0);\n        ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n        for (Row row1 : sheet1) {\n            Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell1 = cellIterator.next();\n                arrayList1.add(cell1.getStringCellValue());\n                }\n            }\n        for (Row row2 : sheet2) {\n            Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell2 = cellIterator.next();\n                arrayList2.add(cell2.getStringCellValue());\n            }\n        }\n    if (arrayList1.equals(arrayList2)){\n        System.out.println(&quot;the files are equal&quot;);\n    }else{\n        System.out.println(&quot;NOT EQUAL&quot;);\n    }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64927,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":867390,"answer_count":12,"score":20,"last_activity_date":1699255814,"creation_date":1242342978,"question_id":866346,"body_markdown":"I&#39;m writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What&#39;s the easiest way to compare the actual file to the expected file?\r\n\r\nSure I could write the code myself, but I was wondering if there&#39;s an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.","title":"Easiest way to compare two Excel files in Java?","body":"<p>I'm writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What's the easiest way to compare the actual file to the expected file?</p>\n\n<p>Sure I could write the code myself, but I was wondering if there's an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.</p>\n"},{"tags":["java","spring","spring-boot","maven","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":23148453,"reputation":27,"user_id":17250890,"display_name":"Ege Pancaroğlu"},"score":1,"creation_date":1681702774,"post_id":76031503,"comment_id":134093648,"body_markdown":"I changed my spring version to 2.7.10 and my kafka version is 2.8.0 and its work ! thank mate","body":"I changed my spring version to 2.7.10 and my kafka version is 2.8.0 and its work ! thank mate"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699255209,"creation_date":1681701573,"answer_id":76031503,"question_id":76031419,"body_markdown":"There are three things you can check or do:\r\n\r\n1. Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.\r\n2. Specify explicitly the required Java version in the parent `pom.xml` (and apply it to all modules as well).\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n3. In case you use `maven-compiler-plugin`, you also want to check the version in its properties:\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n   Alternatively, specify it inside the plugin configuration itself:\r\n   ```xml\r\n   &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n   ```\r\n\r\nYou can also refer to `${java.version}` across the `pom.xml` files.","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>There are three things you can check or do:</p>\n<ol>\n<li>Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.</li>\n<li>Specify explicitly the required Java version in the parent <code>pom.xml</code> (and apply it to all modules as well).\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n</li>\n<li>In case you use <code>maven-compiler-plugin</code>, you also want to check the version in its properties:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\nAlternatively, specify it inside the plugin configuration itself:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;source&gt;1.8&lt;/source&gt;\n         &lt;target&gt;1.8&lt;/target&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n<p>You can also refer to <code>${java.version}</code> across the <code>pom.xml</code> files.</p>\n"},{"tags":[],"owner":{"account_id":20087529,"reputation":1,"user_id":15739237,"display_name":"Aliaksei Halkin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687519931,"creation_date":1687519616,"answer_id":76539648,"question_id":76031419,"body_markdown":"If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\r\n[Look on it][1]\r\n \r\nIt seems to me that ypu should use 4.44.0\r\nIt  worked for me when I corrected with problem\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#jdbctemplate","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\n<a href=\"https://github.com/lukas-krecan/ShedLock#jdbctemplate\" rel=\"nofollow noreferrer\">Look on it</a></p>\n<p>It seems to me that ypu should use 4.44.0\nIt  worked for me when I corrected with problem</p>\n"}],"owner":{"account_id":23148453,"reputation":27,"user_id":17250890,"display_name":"Ege Pancaroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76031503,"answer_count":2,"score":1,"last_activity_date":1699255209,"creation_date":1681700020,"question_id":76031419,"body_markdown":"I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ? \r\n\r\nWhen i run my project i see this message below and how can my jars version 6.0.7 ?;\r\n\r\n    java: cannot access org.springframework.http.HttpStatus\r\n      bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\r\n        class file has wrong version 61.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\n","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ?</p>\n<p>When i run my project i see this message below and how can my jars version 6.0.7 ?;</p>\n<pre><code>java: cannot access org.springframework.http.HttpStatus\n  bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\n    class file has wrong version 61.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","jar","remote-debugging"],"answers":[{"comments":[{"owner":{"account_id":1404879,"reputation":716,"user_id":1332865,"display_name":"Renato Back"},"score":4,"creation_date":1513182677,"post_id":40641628,"comment_id":82556671,"body_markdown":"I would just like to stress out the fact that the order of the parameters *does* matter.","body":"I would just like to stress out the fact that the order of the parameters <i>does</i> matter."},{"owner":{"account_id":1309871,"reputation":2196,"user_id":1258091,"accept_rate":78,"display_name":"Kajzer"},"score":6,"creation_date":1519307871,"post_id":40641628,"comment_id":84864944,"body_markdown":"Where is the official evidence? Huh? HUH? Joke.","body":"Where is the official evidence? Huh? HUH? Joke."}],"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1539799403,"creation_date":1479327872,"answer_id":40641628,"question_id":40576115,"body_markdown":"The command to start the remote Java process in debug mode looks correct. If you don&#39;t see &quot;Listening to Port blah&quot; when you start the server JAR, then it might mean that the debug args are not being picked up. Another way to quickly check this would be to test with a `telnet localhost 5005` on the machine where the server JAR is being executed. The `telnet` will fail if that port is not being used.\r\n\r\nI suggest that you try the following, since the order of the parameters might be significant (I&#39;ll add some official evidence for this later):\r\n\r\n    java &quot;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot; -jar Server.jar","title":"Unable to open debugger port through IntelliJ","body":"<p>The command to start the remote Java process in debug mode looks correct. If you don't see \"Listening to Port blah\" when you start the server JAR, then it might mean that the debug args are not being picked up. Another way to quickly check this would be to test with a <code>telnet localhost 5005</code> on the machine where the server JAR is being executed. The <code>telnet</code> will fail if that port is not being used.</p>\n\n<p>I suggest that you try the following, since the order of the parameters might be significant (I'll add some official evidence for this later):</p>\n\n<pre><code>java \"agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\" -jar Server.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4104486,"reputation":491,"user_id":3369001,"accept_rate":100,"display_name":"Vishal_Kotecha"},"score":0,"creation_date":1696918633,"post_id":43800535,"comment_id":136210447,"body_markdown":"pretty old thread but want to highlight one thing - I was using same command but had address=*:5005, I changed it to address=5005 and it worked like a charm","body":"pretty old thread but want to highlight one thing - I was using same command but had address=*:5005, I changed it to address=5005 and it worked like a charm"}],"tags":[],"owner":{"account_id":10584244,"reputation":51,"user_id":7797110,"display_name":"Vidya Priyadarshini"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493984005,"creation_date":1493974351,"answer_id":43800535,"question_id":40576115,"body_markdown":"This command worked for me:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar Server.jar \r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>This command worked for me:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar Server.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9831518,"reputation":428,"user_id":7283020,"display_name":"jacob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509569700,"creation_date":1509569700,"answer_id":47063522,"question_id":40576115,"body_markdown":"In my case it was because under settings -&gt; build, execution, deployment -&gt; debugger I had a built in server running on the same port as which I was trying to attach my debugger to for some reason.","title":"Unable to open debugger port through IntelliJ","body":"<p>In my case it was because under settings -> build, execution, deployment -> debugger I had a built in server running on the same port as which I was trying to attach my debugger to for some reason.</p>\n"},{"comments":[{"owner":{"account_id":13952194,"reputation":3058,"user_id":10075487,"display_name":"mbartn"},"score":1,"creation_date":1572432070,"post_id":52901986,"comment_id":103554862,"body_markdown":"It worked for me, but I don&#39;t know why... Problem was with intellij connecting to tomcat inside docker container.","body":"It worked for me, but I don&#39;t know why... Problem was with intellij connecting to tomcat inside docker container."},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":0,"creation_date":1590812597,"post_id":52901986,"comment_id":109828915,"body_markdown":"While connecting to remote server from Intellij IDEA, when I used export JAVA_OPTS=&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5505&#39;\nit didn&#39;t work. But when I used address=0.0.0.0:5505 then it worked.","body":"While connecting to remote server from Intellij IDEA, when I used export JAVA_OPTS=&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspe&zwnj;&#8203;nd=n,address=5505&#39; it didn&#39;t work. But when I used address=0.0.0.0:5505 then it worked."},{"owner":{"account_id":7774050,"reputation":1347,"user_id":5882700,"display_name":"Lukenzo"},"score":2,"creation_date":1610909197,"post_id":52901986,"comment_id":116275642,"body_markdown":"Lifesaver! Thank you. I spent last hour trying different configurations and all I was missing was &quot;0.0.0.0&quot; part before port","body":"Lifesaver! Thank you. I spent last hour trying different configurations and all I was missing was &quot;0.0.0.0&quot; part before port"},{"owner":{"account_id":13908374,"reputation":739,"user_id":10042195,"display_name":"abinthomas12914"},"score":0,"creation_date":1637135757,"post_id":52901986,"comment_id":123741865,"body_markdown":"This in setenv &#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5505&#39; work for me","body":"This in setenv &#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,addre&zwnj;&#8203;ss=0.0.0.0:5505&#39; work for me"},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1644737179,"post_id":52901986,"comment_id":125682153,"body_markdown":"Adding &quot;0.0.0.0:&quot; makes it work! Thanks! But what&#39;s the difference did &quot;0.0.0.0:&quot; make?","body":"Adding &quot;0.0.0.0:&quot; makes it work! Thanks! But what&#39;s the difference did &quot;0.0.0.0:&quot; make?"},{"owner":{"account_id":72556,"reputation":959,"user_id":209452,"accept_rate":100,"display_name":"Attila Csipak"},"score":0,"creation_date":1701245963,"post_id":52901986,"comment_id":136750432,"body_markdown":"Also, the JDK version in use does matter. Notice the &quot;Command line arguments for remote JVM&quot; part in the middle Remote JVM Debug run config dialog windows? On the right side, there&#39;s a dropdown for different versions of JDK. Different versions of JDK require different JVM arguments on the server side.","body":"Also, the JDK version in use does matter. Notice the &quot;Command line arguments for remote JVM&quot; part in the middle Remote JVM Debug run config dialog windows? On the right side, there&#39;s a dropdown for different versions of JDK. Different versions of JDK require different JVM arguments on the server side."}],"tags":[],"owner":{"account_id":14581211,"reputation":169,"user_id":10531586,"display_name":"suifengpiao14"},"comment_count":6,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1644852523,"creation_date":1540003318,"answer_id":52901986,"question_id":40576115,"body_markdown":"this command worked for me:\r\n\r\n    export JAVA_OPTS=&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;\r\n\r\nby default idea remote dialog suggest:\r\n\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&#39;\r\n\r\nchange it to:\r\n \r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;\r\n\r\nand issues port 5005.\r\n\r\n\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>this command worked for me:</p>\n<pre><code>export JAVA_OPTS='-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n<p>by default idea remote dialog suggest:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005'\n</code></pre>\n<p>change it to:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n<p>and issues port 5005.</p>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606122519,"creation_date":1606122519,"answer_id":64965420,"question_id":40576115,"body_markdown":"Thanks to suifengpiao14 but I&#39;m going to describe the problem a bit more in detail. \r\n\r\nI checked multiple things, and at the end found the reason: actually as like as a restful service we want to be accessible from out of the server we are running it that we should set 0.0.0.0 as the nameserver, here we should do a similar one. \r\nI checked the difference between the server from which I can remotely debug and the one which I can&#39;t. using *netstat* command: \r\n\r\nfor the server which I was ok with: \r\n\r\n    tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      8323/java\r\n\r\nfor the server which I had problem with: \r\n\r\n    tcp        0      0 127.0.0.1:5005            0.0.0.0:*               LISTEN      8323/java\r\n\r\nSo, using below jvm options should be helpful: \r\n\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&#39;\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;","title":"Unable to open debugger port through IntelliJ","body":"<p>Thanks to suifengpiao14 but I'm going to describe the problem a bit more in detail.</p>\n<p>I checked multiple things, and at the end found the reason: actually as like as a restful service we want to be accessible from out of the server we are running it that we should set 0.0.0.0 as the nameserver, here we should do a similar one.\nI checked the difference between the server from which I can remotely debug and the one which I can't. using <em>netstat</em> command:</p>\n<p>for the server which I was ok with:</p>\n<pre><code>tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      8323/java\n</code></pre>\n<p>for the server which I had problem with:</p>\n<pre><code>tcp        0      0 127.0.0.1:5005            0.0.0.0:*               LISTEN      8323/java\n</code></pre>\n<p>So, using below jvm options should be helpful:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005'\n'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7039683,"reputation":418,"user_id":5392548,"display_name":"luke8800gts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643816539,"creation_date":1643816539,"answer_id":70958526,"question_id":40576115,"body_markdown":"For people like me who sometimes forget to read...\r\n\r\n```Copy and paste the arguments to the command line when JVM is started```&lt;br&gt;\r\nsays the Run/Debug Configuration in IntelliJ, directly under:&lt;br&gt;\r\n```-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005```\r\n\r\n\r\n**Means:**\r\nCopy this line and go to your docker configuration. Add an environment variable (modify options dropdown). Paste it there with ```JAVA_OPTS=``` prepended.\r\n\r\nNow when you did every correctly, you will have &lt;br&gt;\r\n```Listening for transport dt_socket at address: 5005``` &lt;br&gt;\r\nand &lt;br&gt;\r\n ```Command line argument: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005```\r\n\r\nThis is who I solved it...","title":"Unable to open debugger port through IntelliJ","body":"<p>For people like me who sometimes forget to read...</p>\n<p><code>Copy and paste the arguments to the command line when JVM is started</code><br>\nsays the Run/Debug Configuration in IntelliJ, directly under:<br>\n<code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code></p>\n<p><strong>Means:</strong>\nCopy this line and go to your docker configuration. Add an environment variable (modify options dropdown). Paste it there with <code>JAVA_OPTS=</code> prepended.</p>\n<p>Now when you did every correctly, you will have <br>\n<code>Listening for transport dt_socket at address: 5005</code> <br>\nand <br>\n<code>Command line argument: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code></p>\n<p>This is who I solved it...</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647451231,"creation_date":1646684033,"answer_id":71386762,"question_id":40576115,"body_markdown":"I&#39;ve reproduced similar issue:\r\n\r\n    Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused (Connection refused)&quot; \r\n\r\nI had it while running debugger w/ command line arguments for remote `JVM` using `Run/Debug` configurations:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n\r\nby [attaching IDE][1] with exposed debug agent server.\r\n\r\nSince I&#39;ve used `Kubernetes` cluster, the **reason** was:\r\n\r\n[once the pod has been created and was running as expected][2], I needed to proceed to set up port forwarding with the `kubectl port-forward` command, with the port to expose locally for traffic from the application **before running debugger**.\r\n\r\nBased on [kubectl port-forward syntax][3]:\r\n\r\n    kubectl port-forward &lt;resource-type/resource-name&gt; [local_port]:&lt;pod_port&gt;\r\n\r\nIn [format][4] like:\r\n\r\n    kubectl port-forward &lt;pod-name&gt; -n &lt;namespace&gt; 5005:5005\r\n\r\nor in a shorter form:\r\n\r\n    kubectl port-forward &lt;pod-name&gt; 5005:5005\r\n\r\n&gt; The client listens on port 5000 locally and forwards to 5000 in the\r\n&gt; pod.\r\n\r\nAccordingly `entrypoint.sh` file of the service was configured w/ the following command for `Kubernetes` cluster:\r\n\r\n    java -Djava.security.egd.=file:/dev/./urandom -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Xmx400m -jar /service.jar\r\n\r\nAs result, running `port-forward` before debugger solved the issue.\r\n\r\n\r\n  [1]: https://medium.com/ocp-digital-factory/enable-remote-debugging-spring-boot-apps-on-kubernetes-e300be064477\r\n  [2]: https://www.containiq.com/post/kubectl-port-forward\r\n  [3]: https://www.golinuxcloud.com/kubectl-port-forward/\r\n  [4]: https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands","title":"Unable to open debugger port through IntelliJ","body":"<p>I've reproduced similar issue:</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused (Connection refused)&quot; \n</code></pre>\n<p>I had it while running debugger w/ command line arguments for remote <code>JVM</code> using <code>Run/Debug</code> configurations:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n<p>by <a href=\"https://medium.com/ocp-digital-factory/enable-remote-debugging-spring-boot-apps-on-kubernetes-e300be064477\" rel=\"nofollow noreferrer\">attaching IDE</a> with exposed debug agent server.</p>\n<p>Since I've used <code>Kubernetes</code> cluster, the <strong>reason</strong> was:</p>\n<p><a href=\"https://www.containiq.com/post/kubectl-port-forward\" rel=\"nofollow noreferrer\">once the pod has been created and was running as expected</a>, I needed to proceed to set up port forwarding with the <code>kubectl port-forward</code> command, with the port to expose locally for traffic from the application <strong>before running debugger</strong>.</p>\n<p>Based on <a href=\"https://www.golinuxcloud.com/kubectl-port-forward/\" rel=\"nofollow noreferrer\">kubectl port-forward syntax</a>:</p>\n<pre><code>kubectl port-forward &lt;resource-type/resource-name&gt; [local_port]:&lt;pod_port&gt;\n</code></pre>\n<p>In <a href=\"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands\" rel=\"nofollow noreferrer\">format</a> like:</p>\n<pre><code>kubectl port-forward &lt;pod-name&gt; -n &lt;namespace&gt; 5005:5005\n</code></pre>\n<p>or in a shorter form:</p>\n<pre><code>kubectl port-forward &lt;pod-name&gt; 5005:5005\n</code></pre>\n<blockquote>\n<p>The client listens on port 5000 locally and forwards to 5000 in the\npod.</p>\n</blockquote>\n<p>Accordingly <code>entrypoint.sh</code> file of the service was configured w/ the following command for <code>Kubernetes</code> cluster:</p>\n<pre><code>java -Djava.security.egd.=file:/dev/./urandom -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Xmx400m -jar /service.jar\n</code></pre>\n<p>As result, running <code>port-forward</code> before debugger solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":26288231,"reputation":1,"user_id":19955579,"display_name":"swapnil sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663137929,"creation_date":1662706628,"answer_id":73658400,"question_id":40576115,"body_markdown":"One of the reason is that the port is not enabled. You can try by enabling the port using the below command\r\n\r\n    firewall-cmd --zone=public --permanent --add-port=8001/tcp\r\n\r\nOnce the port is up, restart tomcat &amp; try connecting again.\r\nHope it helps.\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>One of the reason is that the port is not enabled. You can try by enabling the port using the below command</p>\n<pre><code>firewall-cmd --zone=public --permanent --add-port=8001/tcp\n</code></pre>\n<p>Once the port is up, restart tomcat &amp; try connecting again.\nHope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9518077,"reputation":3742,"user_id":8135721,"display_name":"Bawantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674716912,"creation_date":1674716912,"answer_id":75243029,"question_id":40576115,"body_markdown":"This might help someone That port in JVM debug is not your web app port ","title":"Unable to open debugger port through IntelliJ","body":"<p>This might help someone That port in JVM debug is not your web app port</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682486827,"creation_date":1682486827,"answer_id":76107438,"question_id":40576115,"body_markdown":"When running debugger port in tomcat, you should start the tomcat server with this command:\r\n\r\n    catalina.bat jpda start\r\n\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>When running debugger port in tomcat, you should start the tomcat server with this command:</p>\n<pre><code>catalina.bat jpda start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332311,"reputation":3167,"user_id":657525,"display_name":"womd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693293514,"creation_date":1693293514,"answer_id":76998128,"question_id":40576115,"body_markdown":"this solved it for me:\r\n\r\n    net stop winnat\r\n    \r\n    net start winnat\r\n\r\nhttps://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/73048297#73048297","title":"Unable to open debugger port through IntelliJ","body":"<p>this solved it for me:</p>\n<pre><code>net stop winnat\n\nnet start winnat\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/73048297#73048297\">IntelliJ IDEA - Address localhost:1099 is already in use</a></p>\n"}],"owner":{"account_id":5765693,"reputation":499,"user_id":4550724,"accept_rate":75,"display_name":"Leonardo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90391,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":40641628,"answer_count":11,"score":28,"last_activity_date":1699254799,"creation_date":1479054445,"question_id":40576115,"body_markdown":"I&#39;ve got a server running on DigitalOcean and a JAR file that I want to debug. I first start the JAR on the remote server using\r\n\r\n    java -jar Server.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\r\n\r\nbut on the console I see no output like &quot;listening on port 5005...&quot;.\r\n\r\nWhen I press debug in IntelliJ it says\r\n\r\n\r\n&gt; unable to open debugger port (198.xxx.xxx.xx:5005):\r\n&gt; java.net.ConnectException &quot;Connection refused&quot;\r\n\r\nThis is my IntelliJ configuration:  \r\n[![enter image description here][1]][1]\r\n\r\nI also tried using `-Xdebug` but it still didn&#39;t work.\r\n\r\nIf I set `suspend=y` it should wait until a debugger is connected, but instead, it starts without problems.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpWox.png","title":"Unable to open debugger port through IntelliJ","body":"<p>I've got a server running on DigitalOcean and a JAR file that I want to debug. I first start the JAR on the remote server using</p>\n\n<pre><code>java -jar Server.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n</code></pre>\n\n<p>but on the console I see no output like \"listening on port 5005...\".</p>\n\n<p>When I press debug in IntelliJ it says</p>\n\n<blockquote>\n  <p>unable to open debugger port (198.xxx.xxx.xx:5005):\n  java.net.ConnectException \"Connection refused\"</p>\n</blockquote>\n\n<p>This is my IntelliJ configuration:<br>\n<a href=\"https://i.stack.imgur.com/NpWox.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NpWox.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also tried using <code>-Xdebug</code> but it still didn't work.</p>\n\n<p>If I set <code>suspend=y</code> it should wait until a debugger is connected, but instead, it starts without problems.</p>\n"},{"tags":["java","rocketmq"],"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699254106,"creation_date":1699254070,"question_id":77429261,"body_markdown":"When I follow the [Quick Start](https://rocketmq.apache.org/zh/docs/quickStart/01quickstart).\r\n\r\nThe server has been tested on port 8081, and gRPC has been used, and the service is up and running, but when I use Java&#39;s SDK to send/consume messages, the following error is reported\r\n```java\r\npublic static void sendMessage(String topic, String message) {\r\n        try {\r\n            ClientServiceProvider provider = ClientServiceProvider.loadService();\r\n            ClientConfiguration configuration = ClientConfiguration.newBuilder()\r\n                    .setEndpoints(&quot;ip:8081&quot;)\r\n                    .build();\r\n            Producer producer = provider.newProducerBuilder()\r\n                    .setClientConfiguration(configuration)\r\n                    .setTopics(topic)\r\n                    .build();\r\n            String tag = &quot;messageTag&quot;;\r\n            Message msg = provider.newMessageBuilder()\r\n                    .setTopic(topic)\r\n                    .setTag(tag)\r\n                    .setBody(message.getBytes(StandardCharsets.UTF_8))\r\n                    .build();\r\n            SendReceipt send = producer.send(msg);\r\n            log.info(&quot;Send message successfully, messageId={}&quot;, send.getMessageId());\r\n            producer.close();\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n```\r\nthen\r\n```log\r\njava.lang.IllegalStateException: Expected the service ProducerImpl-0 [FAILED] to be RUNNING, but the service has FAILED\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.checkCurrentState(AbstractService.java:381)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.awaitRunning(AbstractService.java:305)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService.awaitRunning(AbstractIdleService.java:165)\r\n\tat org.apache.rocketmq.client.java.impl.producer.ProducerBuilderImpl.build(ProducerBuilderImpl.java:93)\r\n\tat com.xmzn.common.mq.producer.SyncProducer.sendMessage(SyncProducer.java:30)\r\n\tat mq.RocketMQTest.testSendMessage(RocketMQTest.java:18)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: java.util.concurrent.CancellationException: Task was cancelled.\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.cancellationExceptionWithCause(AbstractFuture.java:1543)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:586)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:567)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:91)\r\n\tat org.apache.rocketmq.client.java.impl.ClientImpl.startUp(ClientImpl.java:188)\r\n\tat org.apache.rocketmq.client.java.impl.producer.ProducerImpl.startUp(ProducerImpl.java:114)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService$DelegateService$1.run(AbstractIdleService.java:62)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n```\r\nI can&#39;t find any solution online including their official community and their official documentation is very poorly written, can anyone help me!","title":"RocketMQ V5.x Caused by: java.util.concurrent.CancellationException: Task was cancelled","body":"<p>When I follow the <a href=\"https://rocketmq.apache.org/zh/docs/quickStart/01quickstart\" rel=\"nofollow noreferrer\">Quick Start</a>.</p>\n<p>The server has been tested on port 8081, and gRPC has been used, and the service is up and running, but when I use Java's SDK to send/consume messages, the following error is reported</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sendMessage(String topic, String message) {\n        try {\n            ClientServiceProvider provider = ClientServiceProvider.loadService();\n            ClientConfiguration configuration = ClientConfiguration.newBuilder()\n                    .setEndpoints(&quot;ip:8081&quot;)\n                    .build();\n            Producer producer = provider.newProducerBuilder()\n                    .setClientConfiguration(configuration)\n                    .setTopics(topic)\n                    .build();\n            String tag = &quot;messageTag&quot;;\n            Message msg = provider.newMessageBuilder()\n                    .setTopic(topic)\n                    .setTag(tag)\n                    .setBody(message.getBytes(StandardCharsets.UTF_8))\n                    .build();\n            SendReceipt send = producer.send(msg);\n            log.info(&quot;Send message successfully, messageId={}&quot;, send.getMessageId());\n            producer.close();\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n</code></pre>\n<p>then</p>\n<pre><code>java.lang.IllegalStateException: Expected the service ProducerImpl-0 [FAILED] to be RUNNING, but the service has FAILED\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.checkCurrentState(AbstractService.java:381)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.awaitRunning(AbstractService.java:305)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService.awaitRunning(AbstractIdleService.java:165)\n    at org.apache.rocketmq.client.java.impl.producer.ProducerBuilderImpl.build(ProducerBuilderImpl.java:93)\n    at com.xmzn.common.mq.producer.SyncProducer.sendMessage(SyncProducer.java:30)\n    at mq.RocketMQTest.testSendMessage(RocketMQTest.java:18)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.util.concurrent.CancellationException: Task was cancelled.\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.cancellationExceptionWithCause(AbstractFuture.java:1543)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:586)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:567)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:91)\n    at org.apache.rocketmq.client.java.impl.ClientImpl.startUp(ClientImpl.java:188)\n    at org.apache.rocketmq.client.java.impl.producer.ProducerImpl.startUp(ProducerImpl.java:114)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService$DelegateService$1.run(AbstractIdleService.java:62)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>I can't find any solution online including their official community and their official documentation is very poorly written, can anyone help me!</p>\n"},{"tags":["java","jooq","upsert"],"answers":[{"comments":[{"owner":{"account_id":29830374,"reputation":23,"user_id":22861172,"display_name":"kocakmo"},"score":0,"creation_date":1699270444,"post_id":77429240,"comment_id":136506170,"body_markdown":"Hi Lukas,\nThank you very much for your response.The role of my app will be connecting to the databases and retrieving the newly inserted or updated data and upsert it to the target databases by using the tables and databases provided by user.These stuff might be any type of table and database(just started with postgresql).As farI got, in order to achieve that, I need to associate physical table to a class within my code via jooq code generator to get the primary key for upsert operation, am I right?As everything is changeable from the app aspect, is there any way without dealing with classes?","body":"Hi Lukas, Thank you very much for your response.The role of my app will be connecting to the databases and retrieving the newly inserted or updated data and upsert it to the target databases by using the tables and databases provided by user.These stuff might be any type of table and database(just started with postgresql).As farI got, in order to achieve that, I need to associate physical table to a class within my code via jooq code generator to get the primary key for upsert operation, am I right?As everything is changeable from the app aspect, is there any way without dealing with classes?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1699270881,"post_id":77429240,"comment_id":136506239,"body_markdown":"@kocakmo: I see. In that case, this only works if you use the internal APIs that jOOQ&#39;s code generator also uses, in order to specify primary key meta data. Basically, extend `TableImpl`. As this isn&#39;t recommended or documented, I won&#39;t show an example here. But it&#39;s certainly possible to do this.","body":"@kocakmo: I see. In that case, this only works if you use the internal APIs that jOOQ&#39;s code generator also uses, in order to specify primary key meta data. Basically, extend <code>TableImpl</code>. As this isn&#39;t recommended or documented, I won&#39;t show an example here. But it&#39;s certainly possible to do this."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699253779,"creation_date":1699253779,"answer_id":77429240,"question_id":77425608,"body_markdown":"This article on [why you should use jOOQ with code generation][1] explains why you ran into this problem. In short, without primary/unique key meta data attached to your tables, jOOQ cannot emulate the MySQL `ON DUPLICATE KEY UPDATE` clause on your PostgreSQL dialect.\r\n\r\nBut then again, why even use that? You&#39;re using PostgreSQL, and jOOQ has native support for PostgreSQL&#39;s `ON CONFLICT` clause (or also `MERGE` for more complex cases), so use the native syntax, instead.\r\n\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How to Upsert records with jooq?","body":"<p>This article on <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">why you should use jOOQ with code generation</a> explains why you ran into this problem. In short, without primary/unique key meta data attached to your tables, jOOQ cannot emulate the MySQL <code>ON DUPLICATE KEY UPDATE</code> clause on your PostgreSQL dialect.</p>\n<p>But then again, why even use that? You're using PostgreSQL, and jOOQ has native support for PostgreSQL's <code>ON CONFLICT</code> clause (or also <code>MERGE</code> for more complex cases), so use the native syntax, instead.</p>\n"}],"owner":{"account_id":29830374,"reputation":23,"user_id":22861172,"display_name":"kocakmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77429240,"answer_count":1,"score":2,"last_activity_date":1699253779,"creation_date":1699181011,"question_id":77425608,"body_markdown":"I am trying to upsert the rows which I retrieved from one table of a database to the identical table in another database. Both databases are postgresql. \r\n\r\nI just want to retrieve whole columns of the rows of the table as records and simply upsert it to the table in another database. \r\n\r\n I have written the following code :\r\n\r\n  \r\n```\r\ntry {\r\n            String sourceDbUrl = &quot;jdbc:postgresql://localhost:5432/sourcedb&quot;;\r\n            String sourceDbUsername = &quot;postgres&quot;;\r\n            String sourceDbPassword = &quot;admin&quot;;\r\n            Connection sourceConnection = DriverManager.getConnection(sourceDbUrl, sourceDbUsername, sourceDbPassword);\r\n            Configuration sourceConfig = new DefaultConfiguration().set(sourceConnection).set(SQLDialect.POSTGRES);\r\n\r\n\r\n            String targetDbUrl = &quot;jdbc:postgresql://localhost:5432/targetdb&quot;;\r\n            String targetDbUsername = &quot;postgres&quot;;\r\n            String targetDbPassword = &quot;admin&quot;;\r\n            Connection targetConnection = DriverManager.getConnection(targetDbUrl, targetDbUsername, targetDbPassword);\r\n            Configuration targetConfig = new DefaultConfiguration().set(targetConnection).set(SQLDialect.POSTGRES);\r\n\r\n            String sourceSchema = &quot;public&quot;;\r\n            String targetSchema = &quot;public&quot;;\r\n\r\n            Table&lt;Record&gt; sourceTable = DSL.table(DSL.name(sourceSchema, &quot;mytable&quot;));\r\n            Table&lt;Record&gt; targetTable = DSL.table(DSL.name(targetSchema, &quot;mytable&quot;));\r\n            DSLContext sourceDslContext = DSL.using(sourceConfig);\r\n            DSLContext targetDslContext = DSL.using(targetConfig);\r\n            String customSelectQuery = &quot;SELECT * FROM &quot; + sourceSchema + &quot;.mytable&quot;;\r\n\r\n            Result&lt;Record&gt; records = sourceDslContext.fetch(customSelectQuery);\r\n            \r\n            for (Record record : records)\r\n                targetDslContext\r\n                        .insertInto(targetTable)\r\n                        .set(record)\r\n                        .onDuplicateKeyUpdate()\r\n                        .set(record)\r\n                        .execute();\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n\r\nI can see that I retrieve the records successfully.\r\n\r\nHowever, somehow the record values are sent empty inside the upsert query created by jooq inside for loop and I got the following exception  :\r\n\r\n&gt; org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;mytable&quot; values () on conflict ([unknown primary key]) do update set [ no fields are updated ]]; ERROR: syntax error at or near &quot;)&quot;\r\n  Position: 40\r\n\tat org.jooq_3.16.1.POSTGRES.debug(Unknown Source)\r\n\tat org.jooq.impl.Tools.translate(Tools.java:3089)\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\r\n\tat org.jooq.impl.AbstractDelegatingQuery.execute(AbstractDelegatingQuery.java:115)\r\n\tat Main.main(Main.java:48)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;)&quot;\r\n  Position: 40\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:153)\r\n\tat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:414)\r\n\tat org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:961)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:335)\r\n\t... 2 more\r\n\r\nI appreciate for your comments.\r\n\r\nThanks,","title":"How to Upsert records with jooq?","body":"<p>I am trying to upsert the rows which I retrieved from one table of a database to the identical table in another database. Both databases are postgresql.</p>\n<p>I just want to retrieve whole columns of the rows of the table as records and simply upsert it to the table in another database.</p>\n<p>I have written the following code :</p>\n<pre><code>try {\n            String sourceDbUrl = &quot;jdbc:postgresql://localhost:5432/sourcedb&quot;;\n            String sourceDbUsername = &quot;postgres&quot;;\n            String sourceDbPassword = &quot;admin&quot;;\n            Connection sourceConnection = DriverManager.getConnection(sourceDbUrl, sourceDbUsername, sourceDbPassword);\n            Configuration sourceConfig = new DefaultConfiguration().set(sourceConnection).set(SQLDialect.POSTGRES);\n\n\n            String targetDbUrl = &quot;jdbc:postgresql://localhost:5432/targetdb&quot;;\n            String targetDbUsername = &quot;postgres&quot;;\n            String targetDbPassword = &quot;admin&quot;;\n            Connection targetConnection = DriverManager.getConnection(targetDbUrl, targetDbUsername, targetDbPassword);\n            Configuration targetConfig = new DefaultConfiguration().set(targetConnection).set(SQLDialect.POSTGRES);\n\n            String sourceSchema = &quot;public&quot;;\n            String targetSchema = &quot;public&quot;;\n\n            Table&lt;Record&gt; sourceTable = DSL.table(DSL.name(sourceSchema, &quot;mytable&quot;));\n            Table&lt;Record&gt; targetTable = DSL.table(DSL.name(targetSchema, &quot;mytable&quot;));\n            DSLContext sourceDslContext = DSL.using(sourceConfig);\n            DSLContext targetDslContext = DSL.using(targetConfig);\n            String customSelectQuery = &quot;SELECT * FROM &quot; + sourceSchema + &quot;.mytable&quot;;\n\n            Result&lt;Record&gt; records = sourceDslContext.fetch(customSelectQuery);\n            \n            for (Record record : records)\n                targetDslContext\n                        .insertInto(targetTable)\n                        .set(record)\n                        .onDuplicateKeyUpdate()\n                        .set(record)\n                        .execute();\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I can see that I retrieve the records successfully.</p>\n<p>However, somehow the record values are sent empty inside the upsert query created by jooq inside for loop and I got the following exception  :</p>\n<blockquote>\n<p>org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;mytable&quot; values () on conflict ([unknown primary key]) do update set [ no fields are updated ]]; ERROR: syntax error at or near &quot;)&quot;\nPosition: 40\nat org.jooq_3.16.1.POSTGRES.debug(Unknown Source)\nat org.jooq.impl.Tools.translate(Tools.java:3089)\nat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\nat org.jooq.impl.AbstractDelegatingQuery.execute(AbstractDelegatingQuery.java:115)\nat Main.main(Main.java:48)\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;)&quot;\nPosition: 40\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\nat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:153)\nat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:414)\nat org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:961)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:335)\n... 2 more</p>\n</blockquote>\n<p>I appreciate for your comments.</p>\n<p>Thanks,</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699255675,"post_id":77428893,"comment_id":136503710,"body_markdown":"Note: You should be using layouts rather than setSize on controls. Combos look very different on each platform, a size that looks right on Windows won&#39;t look right on Linux or macOS.","body":"Note: You should be using layouts rather than setSize on controls. Combos look very different on each platform, a size that looks right on Windows won&#39;t look right on Linux or macOS."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699257215,"post_id":77428893,"comment_id":136503964,"body_markdown":"You can look at the `shortenText` methods in `org.eclipse.swt.custom.CTabFolderRenderer` and also `org.eclipse.ui.forms.widgets.Hyperlink`. Both these require a `GC` set with the correct font. The exact width of the Combo drop down may vary between platforms and isn&#39;t easy to obtain.","body":"You can look at the <code>shortenText</code> methods in <code>org.eclipse.swt.custom.CTabFolderRenderer</code> and also <code>org.eclipse.ui.forms.widgets.Hyperlink</code>. Both these require a <code>GC</code> set with the correct font. The exact width of the Combo drop down may vary between platforms and isn&#39;t easy to obtain."}],"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699253686,"creation_date":1699247910,"question_id":77428893,"body_markdown":"    private Combo createDropdown(Composite parent) {\r\n    \r\n    \t\tCombo dropdown = new Combo(parent, SWT.DROP_DOWN | SWT.READ_ONLY);\r\n    \t\tdropdown.setBackground(new Color(Display.getCurrent(), 106, 99, 95));\r\n    \t\tdropdown.setSize(20, 20);\r\n    \t\tthis.stylingEngine = PlatformUI.getWorkbench().getService(IStylingEngine.class);\r\n    \t\tstylingEngine.setClassname(dropdown, &quot;TenatDropDownCombo&quot;);\r\n    \r\n    \t\t\r\n    \t\tdropdown.setItems(dropDownItems);\r\n    \t\tSystem.out.println(&quot;outside loop :&quot; + availableTenantsNames);\r\n    \t\tdropdown.select(currentTenantIndex);\r\n    \r\n\r\n\r\n        \r\nI have written this code for creating a Combo dropdown, now I want to show the selected item with ellipsis if it is greater than the width of drop down.\r\n\r\nHow can I do the same?\r\n\r\nI tried finding width of combo box but was not able. Can you suggest some approach?","title":"How to add ellipsis for wider drop down items in Combo dropdown menu","body":"<pre><code>private Combo createDropdown(Composite parent) {\n\n        Combo dropdown = new Combo(parent, SWT.DROP_DOWN | SWT.READ_ONLY);\n        dropdown.setBackground(new Color(Display.getCurrent(), 106, 99, 95));\n        dropdown.setSize(20, 20);\n        this.stylingEngine = PlatformUI.getWorkbench().getService(IStylingEngine.class);\n        stylingEngine.setClassname(dropdown, &quot;TenatDropDownCombo&quot;);\n\n        \n        dropdown.setItems(dropDownItems);\n        System.out.println(&quot;outside loop :&quot; + availableTenantsNames);\n        dropdown.select(currentTenantIndex);\n\n\n\n    \n</code></pre>\n<p>I have written this code for creating a Combo dropdown, now I want to show the selected item with ellipsis if it is greater than the width of drop down.</p>\n<p>How can I do the same?</p>\n<p>I tried finding width of combo box but was not able. Can you suggest some approach?</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-quicksight"],"comments":[{"owner":{"account_id":2123096,"reputation":566,"user_id":2470337,"display_name":"Dr_Zaszuś"},"score":0,"creation_date":1682439856,"post_id":68119231,"comment_id":134214654,"body_markdown":"could you share what you ended up doing? This problem is still unfixed.","body":"could you share what you ended up doing? This problem is still unfixed."}],"answers":[{"tags":[],"owner":{"account_id":27194742,"reputation":1,"user_id":20727830,"display_name":"Chiara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670535051,"creation_date":1670534576,"answer_id":74736474,"question_id":68119231,"body_markdown":"I know I&#39;m 18 months late, but I struggled with this as well and finally arrived at a solution. The Physical Table Mapping simply maps your columns for reading into QuickSight, but (unless your S3 source file is JSON), you&#39;ll need to create a LogicalTableMap to cast any columns to the desired data type. I used Java SDK V2, but V1 is very similar. \r\n\r\n    LogicalTableSource logicalTableSource = LogicalTableSource.builder().physicalTableId(&quot;PrimaryTable&quot;).build();\r\n    \r\n    ArrayList&lt;TransformOperation&gt; dataTransforms = dataTransforms();\r\n    \r\n    LogicalTable logicalTable = LogicalTable.builder().alias(&quot;LogicalTableAlias&quot;).dataTransforms(dataTransforms)\r\n    \t\t\t\t.source(logicalTableSource).build();\r\n    \t    \r\n    Map&lt;String, LogicalTable&gt; logicalTableMap = new HashMap&lt;String, LogicalTable&gt;();\r\n    \t\tlogicalTableMap.put(&quot;LogicalTableMap&quot;, logicalTable);\r\n\t\tCreateDataSetRequest createDataSetRequest = CreateDataSetRequest.builder()\r\n\t\t\t\t.awsAccountId(AwsAccountID)\r\n\t\t\t\t.dataSetId(dataSetId)\r\n\t\t\t\t.name(name)\r\n\t\t\t\t.physicalTableMap(physicalTableMap)\r\n\t\t\t\t.logicalTableMap(logicalTableMap)\r\n\t\t\t\t.permissions(permissions)\r\n\t\t\t\t.importMode(DataSetImportMode.SPICE)\r\n\t\t\t\t.build();\r\n\r\n\t\t// Create data set\r\n\t\tgetClient().createDataSet(createDataSetRequest);\r\n\r\n\r\nWith the dataTransforms() method being:\r\n\r\n    \tprivate static ArrayList&lt;TransformOperation&gt; dataTransforms() {\r\n\t\tArrayList&lt;TransformOperation&gt; dataTransforms = new ArrayList&lt;TransformOperation&gt;();\r\n\r\n\t\t// Cast &quot;Year&quot; column as INTEGER\r\n\t\tCastColumnTypeOperation castYear = CastColumnTypeOperation.builder()\r\n\t\t\t\t.columnName(&quot;Year&quot;).newColumnType(ColumnDataType.INTEGER).build();\r\n\t\tTransformOperation yearTransform = TransformOperation.builder()\r\n\t\t\t\t.castColumnTypeOperation(castYear).build();\r\n\t\tdataTransforms.add(yearTransform);\r\n    return dataTransforms;\r\n\t}\r\n    ","title":"Quicksight Input column types other than STRING invalid on dataset creation","body":"<p>I know I'm 18 months late, but I struggled with this as well and finally arrived at a solution. The Physical Table Mapping simply maps your columns for reading into QuickSight, but (unless your S3 source file is JSON), you'll need to create a LogicalTableMap to cast any columns to the desired data type. I used Java SDK V2, but V1 is very similar.</p>\n<pre><code>LogicalTableSource logicalTableSource = LogicalTableSource.builder().physicalTableId(&quot;PrimaryTable&quot;).build();\n\nArrayList&lt;TransformOperation&gt; dataTransforms = dataTransforms();\n\nLogicalTable logicalTable = LogicalTable.builder().alias(&quot;LogicalTableAlias&quot;).dataTransforms(dataTransforms)\n                .source(logicalTableSource).build();\n        \nMap&lt;String, LogicalTable&gt; logicalTableMap = new HashMap&lt;String, LogicalTable&gt;();\n        logicalTableMap.put(&quot;LogicalTableMap&quot;, logicalTable);\n    CreateDataSetRequest createDataSetRequest = CreateDataSetRequest.builder()\n            .awsAccountId(AwsAccountID)\n            .dataSetId(dataSetId)\n            .name(name)\n            .physicalTableMap(physicalTableMap)\n            .logicalTableMap(logicalTableMap)\n            .permissions(permissions)\n            .importMode(DataSetImportMode.SPICE)\n            .build();\n\n    // Create data set\n    getClient().createDataSet(createDataSetRequest);\n</code></pre>\n<p>With the dataTransforms() method being:</p>\n<pre><code>    private static ArrayList&lt;TransformOperation&gt; dataTransforms() {\n    ArrayList&lt;TransformOperation&gt; dataTransforms = new ArrayList&lt;TransformOperation&gt;();\n\n    // Cast &quot;Year&quot; column as INTEGER\n    CastColumnTypeOperation castYear = CastColumnTypeOperation.builder()\n            .columnName(&quot;Year&quot;).newColumnType(ColumnDataType.INTEGER).build();\n    TransformOperation yearTransform = TransformOperation.builder()\n            .castColumnTypeOperation(castYear).build();\n    dataTransforms.add(yearTransform);\nreturn dataTransforms;\n}\n</code></pre>\n"}],"owner":{"account_id":22021534,"reputation":31,"user_id":16290294,"display_name":"Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699253363,"creation_date":1624550876,"question_id":68119231,"body_markdown":"When trying to automate dataset creation in Quicksight through importing a CSV from an S3 bucket, I get an error when trying to create a data set by calling the createDataSet() method from the Java API:\r\n\r\ncom.amazonaws.services.quicksight.model.InvalidParameterValueException: Input column Year in physical table PrimaryTable has invalid type. Allowed types for S3 physical table are [String] (Service: AmazonQuickSight; Status Code: 400; Error Code: InvalidParameterValueException; Request ID: 84d3da22-4e4e-45e0-8bbf-9d01975206b0; Proxy: null)\r\nThe relevant code is as follows, with the sixth inputColumns.add line causing the error:\r\n\r\n\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 1&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 2&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 3&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 4&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 5&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Year&quot;).withType(InputColumnDataType.INTEGER)); //*hits the error on this line*\r\n    ... //more columns with types STRING, INTEGER, and DECIMAL\r\n    \r\n    s3source.setDataSourceArn(QS_BASE_ARN + &quot;datasource/&quot; + sourceName);\r\n    s3source.setInputColumns(inputColumns);\r\n    uploadSettings.setFormat(FileFormat.CSV.name());\r\n    uploadSettings.setContainsHeader(true);\r\n    uploadSettings.setDelimiter(&quot;,&quot;);\r\n    s3source.setUploadSettings(uploadSettings);\r\n    physicalTable.setS3Source(s3source);\r\n    Map&lt;String, PhysicalTable&gt; physicalTableMap = new HashMap&lt;String, PhysicalTable&gt;();\r\n    physicalTableMap.put(&quot;PrimaryTable&quot;, physicalTable);\r\n    newDataSet.withAwsAccountId(ACCOUNT_ID).withDataSetId(dataSetId).withName(dataSetName).withPhysicalTableMap(physicalTableMap).withImportMode(&quot;SPICE&quot;); //These are all the required parameters for the API request\r\n    permissions.add(new ResourcePermission().withPrincipal(QS_BASE_ARN + &quot;user/default/&quot; + username).withActions(&quot;quicksight:UpdateDataSetPermissions&quot;,&quot;quicksight:DescribeDataSet&quot;,&quot;quicksight:DescribeDataSetPermissions&quot;,&quot;quicksight:PassDataSet&quot;, &quot;quicksight:DescribeIngestion&quot;, &quot;quicksight:ListIngestions&quot;, &quot;quicksight:UpdateDataSet&quot;, &quot;quicksight:DeleteDataSet&quot;,&quot;quicksight:CreateIngestion&quot;,&quot;quicksight:CancelIngestion&quot;));\r\n    newDataSet.setPermissions(permissions);\r\n    try {\r\n       return getClient().createDataSet(newDataSet); //Creates SPICE dataset\r\n    } catch (SdkClientException e) {\r\n       throw e;\r\n    }\r\n\r\nWith the getClient() method being:\r\n\r\n    private static AmazonQuickSight getClient() {\r\n       final AWSCredentialsProvider credsProvider = new AWSCredentialsProvider() {\r\n       @Override\r\n       public AWSCredentials getCredentials() {\r\n          // provide actual IAM access key and secret key here\r\n          return new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n       }\r\n       @Override\r\n       public void refresh() {}\r\n       };\r\n       return AmazonQuickSightClientBuilder\r\n          .standard()\r\n          .withRegion(Regions.US_EAST_1.getName())\r\n          .withCredentials(credsProvider)\r\n          .build();\r\n    }\r\n\r\nThe API documentation says that STRING | INTEGER | DECIMAL | DATETIME | BIT | BOOLEAN | JSON are all accepted, however the error message and testing says that only STRING is accepted as a type (API documentation: [https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html][1]).\r\n\r\nIs this error something caused by the API not accepting the data types it says it does or could it be caused by my setup?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html","title":"Quicksight Input column types other than STRING invalid on dataset creation","body":"<p>When trying to automate dataset creation in Quicksight through importing a CSV from an S3 bucket, I get an error when trying to create a data set by calling the createDataSet() method from the Java API:</p>\n<p>com.amazonaws.services.quicksight.model.InvalidParameterValueException: Input column Year in physical table PrimaryTable has invalid type. Allowed types for S3 physical table are [String] (Service: AmazonQuickSight; Status Code: 400; Error Code: InvalidParameterValueException; Request ID: 84d3da22-4e4e-45e0-8bbf-9d01975206b0; Proxy: null)\nThe relevant code is as follows, with the sixth inputColumns.add line causing the error:</p>\n<pre><code>inputColumns.add(new InputColumn().withName(&quot;Column 1&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 2&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 3&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 4&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 5&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Year&quot;).withType(InputColumnDataType.INTEGER)); //*hits the error on this line*\n... //more columns with types STRING, INTEGER, and DECIMAL\n\ns3source.setDataSourceArn(QS_BASE_ARN + &quot;datasource/&quot; + sourceName);\ns3source.setInputColumns(inputColumns);\nuploadSettings.setFormat(FileFormat.CSV.name());\nuploadSettings.setContainsHeader(true);\nuploadSettings.setDelimiter(&quot;,&quot;);\ns3source.setUploadSettings(uploadSettings);\nphysicalTable.setS3Source(s3source);\nMap&lt;String, PhysicalTable&gt; physicalTableMap = new HashMap&lt;String, PhysicalTable&gt;();\nphysicalTableMap.put(&quot;PrimaryTable&quot;, physicalTable);\nnewDataSet.withAwsAccountId(ACCOUNT_ID).withDataSetId(dataSetId).withName(dataSetName).withPhysicalTableMap(physicalTableMap).withImportMode(&quot;SPICE&quot;); //These are all the required parameters for the API request\npermissions.add(new ResourcePermission().withPrincipal(QS_BASE_ARN + &quot;user/default/&quot; + username).withActions(&quot;quicksight:UpdateDataSetPermissions&quot;,&quot;quicksight:DescribeDataSet&quot;,&quot;quicksight:DescribeDataSetPermissions&quot;,&quot;quicksight:PassDataSet&quot;, &quot;quicksight:DescribeIngestion&quot;, &quot;quicksight:ListIngestions&quot;, &quot;quicksight:UpdateDataSet&quot;, &quot;quicksight:DeleteDataSet&quot;,&quot;quicksight:CreateIngestion&quot;,&quot;quicksight:CancelIngestion&quot;));\nnewDataSet.setPermissions(permissions);\ntry {\n   return getClient().createDataSet(newDataSet); //Creates SPICE dataset\n} catch (SdkClientException e) {\n   throw e;\n}\n</code></pre>\n<p>With the getClient() method being:</p>\n<pre><code>private static AmazonQuickSight getClient() {\n   final AWSCredentialsProvider credsProvider = new AWSCredentialsProvider() {\n   @Override\n   public AWSCredentials getCredentials() {\n      // provide actual IAM access key and secret key here\n      return new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\n   }\n   @Override\n   public void refresh() {}\n   };\n   return AmazonQuickSightClientBuilder\n      .standard()\n      .withRegion(Regions.US_EAST_1.getName())\n      .withCredentials(credsProvider)\n      .build();\n}\n</code></pre>\n<p>The API documentation says that STRING | INTEGER | DECIMAL | DATETIME | BIT | BOOLEAN | JSON are all accepted, however the error message and testing says that only STRING is accepted as a type (API documentation: <a href=\"https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html</a>).</p>\n<p>Is this error something caused by the API not accepting the data types it says it does or could it be caused by my setup?</p>\n"},{"tags":["java","multithreading","mutex"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677248824,"post_id":75557703,"comment_id":133305878,"body_markdown":"Why would you have 2 locks like that in the last example?","body":"Why would you have 2 locks like that in the last example?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1677248990,"post_id":75557703,"comment_id":133305926,"body_markdown":"As per [this article](https://neiljbrown.com/2022/07/23/preparing-for-java-virtual-threads/) &quot;*If the code that’s executing is short lived / runs fast, then this isn’t an issue – no changes to your code are needed*&quot;. So if you&#39;re just calling `size` on a (presumably non-thread-safe) Map, that&#39;s a constant-time, non-blocking operation anyway.","body":"As per <a href=\"https://neiljbrown.com/2022/07/23/preparing-for-java-virtual-threads/\" rel=\"nofollow noreferrer\">this article</a> &quot;<i>If the code that’s executing is short lived / runs fast, then this isn’t an issue – no changes to your code are needed</i>&quot;. So if you&#39;re just calling <code>size</code> on a (presumably non-thread-safe) Map, that&#39;s a constant-time, non-blocking operation anyway."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1677250562,"post_id":75557703,"comment_id":133306358,"body_markdown":"You need to **replace** the mutex (if you really need to), and not just **add** another form of mutual exclusion. And thread pinning with `synchronized` is largely a problem with blocking operations, so if there is no blocking operation, or not a heavily contended monitor, then **replacing** `synchronized` with `ReentrantLock` is unlikely to provide much benefit.","body":"You need to <b>replace</b> the mutex (if you really need to), and not just <b>add</b> another form of mutual exclusion. And thread pinning with <code>synchronized</code> is largely a problem with blocking operations, so if there is no blocking operation, or not a heavily contended monitor, then <b>replacing</b> <code>synchronized</code> with <code>ReentrantLock</code> is unlikely to provide much benefit."},{"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"score":0,"creation_date":1677253502,"post_id":75557703,"comment_id":133307240,"body_markdown":"@Michael I missed that. Thanks. I thought all synchronized blocks should be replaced so this greatly reduced the scope!","body":"@Michael I missed that. Thanks. I thought all synchronized blocks should be replaced so this greatly reduced the scope!"},{"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"score":1,"creation_date":1677253569,"post_id":75557703,"comment_id":133307261,"body_markdown":"@MarkRotteveel Much appreciated! I understand now that I can forgo the refactor for anything that&#39;s short lived and not blocking.","body":"@MarkRotteveel Much appreciated! I understand now that I can forgo the refactor for anything that&#39;s short lived and not blocking."}],"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699253280,"creation_date":1677248682,"question_id":75557703,"body_markdown":"To get the most benefit from the new [virtual threads][1] feature in Java 21+, it is suggested to replace `synchronized` blocks / functions with [reentrant locks][2].\r\n\r\nThis is easy in many cases:\r\n\r\n    public synchronized int size() {\r\n\t\treturn map.size();\r\n\t}\r\n\r\nCan be replaced with: \r\n    \r\n    private final ReentrantLock lock = new ReentrantLock();\r\n\r\n    public int size() {\r\n        lock.lock();\r\n        try {\r\n            return map.size();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\nWhat about a case where we pass a mutex in?\r\n\r\n    public int size() {\r\n\t\tsynchronized (mutex) {\r\n\t\t\treturn c.size();\r\n\t\t}\r\n\t}\r\n\r\nIn this case, can we wrap the whole synchronized block in a reentrant lock? Will the following pin the reentrant lock instead of the OS thread? If not, how do we best handle this situation?\r\n\r\n    private final Object mutex;\r\n    private final ReentrantLock lock = new ReentrantLock();\r\n\r\n    public MyClass(Object mutex) {\r\n        this.mutex = mutex;\r\n    }\r\n\r\n    public int size() {\r\n        lock.lock();\r\n        try {\r\n            synchronized (mutex) {\r\n                return c.size();\r\n            }\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html","title":"How to replace a synchronized block that uses a mutex with a reentrantlock","body":"<p>To get the most benefit from the new <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> feature in Java 21+, it is suggested to replace <code>synchronized</code> blocks / functions with <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">reentrant locks</a>.</p>\n<p>This is easy in many cases:</p>\n<pre><code>public synchronized int size() {\n    return map.size();\n}\n</code></pre>\n<p>Can be replaced with:</p>\n<pre><code>private final ReentrantLock lock = new ReentrantLock();\n\npublic int size() {\n    lock.lock();\n    try {\n        return map.size();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>What about a case where we pass a mutex in?</p>\n<pre><code>public int size() {\n    synchronized (mutex) {\n        return c.size();\n    }\n}\n</code></pre>\n<p>In this case, can we wrap the whole synchronized block in a reentrant lock? Will the following pin the reentrant lock instead of the OS thread? If not, how do we best handle this situation?</p>\n<pre><code>private final Object mutex;\nprivate final ReentrantLock lock = new ReentrantLock();\n\npublic MyClass(Object mutex) {\n    this.mutex = mutex;\n}\n\npublic int size() {\n    lock.lock();\n    try {\n        synchronized (mutex) {\n            return c.size();\n        }\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","arraylist","data-structures"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1474073937,"post_id":39541885,"comment_id":66397490,"body_markdown":"It&#39;s O(n) + O(n) which is O(2n), and you can drop the 2 (because it is constant relative to the input) and say it is O(n).","body":"It&#39;s O(n) + O(n) which is O(2n), and you can drop the 2 (because it is constant relative to the input) and say it is O(n)."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":1,"creation_date":1474077174,"post_id":39541885,"comment_id":66397975,"body_markdown":"@ElliottFrisch that&#39;s not true. inserting at last element of arraylist in java is not `O(n)`. Please see my answer.","body":"@ElliottFrisch that&#39;s not true. inserting at last element of arraylist in java is not <code>O(n)</code>. Please see my answer."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1474103843,"post_id":39541885,"comment_id":66402758,"body_markdown":"@ElliottFrisch apparently others disagree with you.  Enough to downvote my answer, which is the same as yours.","body":"@ElliottFrisch apparently others disagree with you.  Enough to downvote my answer, which is the same as yours."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474104330,"post_id":39541885,"comment_id":66402908,"body_markdown":"I don&#39;t get the disagreement. Aren&#39;t all the answers saying the same thing, that&#39;s it&#39;s O(n)? O(n) to get the items, and O(n) to add the new items.","body":"I don&#39;t get the disagreement. Aren&#39;t all the answers saying the same thing, that&#39;s it&#39;s O(n)? O(n) to get the items, and O(n) to add the new items."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1474104766,"post_id":39541885,"comment_id":66403016,"body_markdown":"@fgb what appears to be happening is that hqt is inventing fictitious reasons due to which other answers are wrong, so as to proclaim his answer right.  And it appears that he has managed to fool some voters to that effect.","body":"@fgb what appears to be happening is that hqt is inventing fictitious reasons due to which other answers are wrong, so as to proclaim his answer right.  And it appears that he has managed to fool some voters to that effect."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":0,"creation_date":1474105288,"post_id":39541885,"comment_id":66403150,"body_markdown":"@fgb no. inserting at the end of the list is O(1), not O(N). and in case O(N), complexity should be O(N^2). Not O(N*2) as others said.","body":"@fgb no. inserting at the end of the list is O(1), not O(N). and in case O(N), complexity should be O(N^2). Not O(N*2) as others said."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474106141,"post_id":39541885,"comment_id":66403383,"body_markdown":"@hqt No one&#39;s saying inserting at the end of a list is O(n). That&#39;s also why they&#39;re not calculating the total complexity as O(n^2). Inserting n items into a list is O(n), and reading n items from a list is O(n), as the question says. Both these are done, so the total complexity is the sum.","body":"@hqt No one&#39;s saying inserting at the end of a list is O(n). That&#39;s also why they&#39;re not calculating the total complexity as O(n^2). Inserting n items into a list is O(n), and reading n items from a list is O(n), as the question says. Both these are done, so the total complexity is the sum."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":0,"creation_date":1474106640,"post_id":39541885,"comment_id":66403532,"body_markdown":"@fgb understood. I&#39;m really sorry for my misunderstanding. :)","body":"@fgb understood. I&#39;m really sorry for my misunderstanding. :)"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1474126449,"post_id":39541885,"comment_id":66409264,"body_markdown":"@Mike My &quot;answer&quot; was a comment, but correct. O(1) called n times is O(n).","body":"@Mike My &quot;answer&quot; was a comment, but correct. O(1) called n times is O(n)."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":1,"creation_date":1474219092,"post_id":39541885,"comment_id":66431557,"body_markdown":"@fgb, the disagreement is the lack of clarity and accuracy. There&#39;s *one* loop that makes this `O(n)`. After that you have a number (not 2) of constant time operations. They shouldn&#39;t be saying the way @Elliott did in the previous comments. It&#39;s incorrect and inaccurate to say `O(n) + O(n)` because the second complexity exists internal to the first (IOW, it&#39;s not addition but multiplication of constant terms); it&#39;s `cn = `O(n)`.","body":"@fgb, the disagreement is the lack of clarity and accuracy. There&#39;s <i>one</i> loop that makes this <code>O(n)</code>. After that you have a number (not 2) of constant time operations. They shouldn&#39;t be saying the way @Elliott did in the previous comments. It&#39;s incorrect and inaccurate to say <code>O(n) + O(n)</code> because the second complexity exists internal to the first (IOW, it&#39;s not addition but multiplication of constant terms); it&#39;s <code>cn = </code>O(n)`."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474220877,"post_id":39541885,"comment_id":66432164,"body_markdown":"@ChiefTwoPencils That doesn&#39;t make any difference, `(c + d)n` is equal to `cn + dn`. You&#39;re reading too much into the form of the expression. It&#39;s only separated like that for convenience, and to match the complexities given in the question.","body":"@ChiefTwoPencils That doesn&#39;t make any difference, <code>(c + d)n</code> is equal to <code>cn + dn</code>. You&#39;re reading too much into the form of the expression. It&#39;s only separated like that for convenience, and to match the complexities given in the question."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":1,"creation_date":1474221856,"post_id":39541885,"comment_id":66432500,"body_markdown":"@fgb, it&#39;s true they&#39;re equivalent if you wanted to extract the getting and adding out and match what OP did. But it&#39;s still incomplete. They&#39;re obviously &quot;Not too sure on this one&quot; so why not be exact or at least not incomplete with `O(n) + O(n)`? There&#39;s other time left out.","body":"@fgb, it&#39;s true they&#39;re equivalent if you wanted to extract the getting and adding out and match what OP did. But it&#39;s still incomplete. They&#39;re obviously &quot;Not too sure on this one&quot; so why not be exact or at least not incomplete with <code>O(n) + O(n)</code>? There&#39;s other time left out."}],"answers":[{"tags":[],"owner":{"account_id":2704768,"reputation":525,"user_id":5304035,"accept_rate":86,"display_name":"brijs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474078645,"creation_date":1474076426,"answer_id":39542096,"question_id":39541885,"body_markdown":"Big-O and similar notations are asymptotic bounds on time complexity. They discard the numeric coefficient and are used to estimate run-time as a function of size of input.\r\n\r\nSo, `2*n`, `3*n`,etc. are represented as `O(n)`, and `2*nlog(n)`, `3*nlog(n)`,etc. are represented as `O(nlog(n))`.\r\n\r\nSince the add() operation inserts only one element in this case, its runtime is approximately, `(some small constant)k*1`, giving the total runtime as `(some constant)j*(n+some constant(k))`, in other words `j*n`, or `O(n)`.\r\n\r\nIn this case and all such similar cases, any constant *k* multiplied by *n* would be represented as `O(n)` meaning the runtime varies linearly with size of the input ArrayList.","title":"time complexity for iterating through an array list","body":"<p>Big-O and similar notations are asymptotic bounds on time complexity. They discard the numeric coefficient and are used to estimate run-time as a function of size of input.</p>\n\n<p>So, <code>2*n</code>, <code>3*n</code>,etc. are represented as <code>O(n)</code>, and <code>2*nlog(n)</code>, <code>3*nlog(n)</code>,etc. are represented as <code>O(nlog(n))</code>.</p>\n\n<p>Since the add() operation inserts only one element in this case, its runtime is approximately, <code>(some small constant)k*1</code>, giving the total runtime as <code>(some constant)j*(n+some constant(k))</code>, in other words <code>j*n</code>, or <code>O(n)</code>.</p>\n\n<p>In this case and all such similar cases, any constant <em>k</em> multiplied by <em>n</em> would be represented as <code>O(n)</code> meaning the runtime varies linearly with size of the input ArrayList.</p>\n"},{"comments":[{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":1,"creation_date":1474081075,"post_id":39542153,"comment_id":66398445,"body_markdown":"Precisely why the `ArrayList` implementation isn&#39;t considered inefficient.","body":"Precisely why the <code>ArrayList</code> implementation isn&#39;t considered inefficient."}],"tags":[],"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1589950416,"creation_date":1474077121,"answer_id":39542153,"question_id":39541885,"body_markdown":"\r\n1. Your first loop for iterating `items` list: complexity is `O(n)`\r\n2. Insert each item to end of list `lessItems`: in normal array it will be `O(n)` as others said. But Java implements for `ArrayList` using [amortized array][1]. This means when inserting at the end of array, algorithm only costs `Amortized O(1)`. Or you can say `O(1)`\r\n\r\nSo complexity of your code is: `O(n) * amortized O(1)`. In short is `O(n)` \r\n\r\nAnother reference:\r\n\r\n[dynamic array][2]\r\n\r\n**Additional note 1:**\r\n\r\nIf complexity of inserting at the end of array is `O(N)`, so the total complexity is `O(N^2)`, not O(2*N) as other answers said. Because the total complexity for inserting would be: `1 + 2 + 3 + ...+ n = n*(n+1)/2`\r\n\r\n**Addtional Note 2:**\r\n\r\nas [official document][3] states:\r\n\r\n&gt; The size, isEmpty, get, set, iterator, and listIterator operations run\r\n&gt; in constant time. **The add operation runs in amortized constant time**,\r\n&gt; that is, adding n elements requires O(n) time. All of the other\r\n&gt; operations run in linear time (roughly speaking). The constant factor\r\n&gt; is low compared to that for the LinkedList implementation.\r\n\r\n**Additional note 3:**\r\n\r\nHere is the logic of `grow` method that I have taken from official java source code:\r\n\r\n \r\n\r\n    private void ensureExplicitCapacity(int minCapacity) {\r\n            modCount++;\r\n    \r\n            // overflow-conscious code\r\n            if (minCapacity - elementData.length &gt; 0)\r\n                grow(minCapacity);\r\n        }\r\n\r\n    private void grow(int minCapacity) {\r\n            // overflow-conscious code\r\n            int oldCapacity = elementData.length;\r\n            int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n            if (newCapacity - minCapacity &lt; 0)\r\n                newCapacity = minCapacity;\r\n            if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n                newCapacity = hugeCapacity(minCapacity);\r\n            // minCapacity is usually close to size, so this is a win:\r\n            elementData = Arrays.copyOf(elementData, newCapacity);\r\n        }\r\n\r\nAs the source code has said, when program add element that make size of array larger than current capacity, Array will be grown. new size of grown array will be:\r\n\r\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\nThis is a trick that make inserting is `amortized O(1)`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amortized_analysis\r\n  [2]: https://stackoverflow.com/questions/4853979/amortized-time-of-dynamic-array\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n","title":"time complexity for iterating through an array list","body":"<ol>\n<li>Your first loop for iterating <code>items</code> list: complexity is <code>O(n)</code></li>\n<li>Insert each item to end of list <code>lessItems</code>: in normal array it will be <code>O(n)</code> as others said. But Java implements for <code>ArrayList</code> using <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\">amortized array</a>. This means when inserting at the end of array, algorithm only costs <code>Amortized O(1)</code>. Or you can say <code>O(1)</code></li>\n</ol>\n\n<p>So complexity of your code is: <code>O(n) * amortized O(1)</code>. In short is <code>O(n)</code> </p>\n\n<p>Another reference:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4853979/amortized-time-of-dynamic-array\">dynamic array</a></p>\n\n<p><strong>Additional note 1:</strong></p>\n\n<p>If complexity of inserting at the end of array is <code>O(N)</code>, so the total complexity is <code>O(N^2)</code>, not O(2*N) as other answers said. Because the total complexity for inserting would be: <code>1 + 2 + 3 + ...+ n = n*(n+1)/2</code></p>\n\n<p><strong>Addtional Note 2:</strong></p>\n\n<p>as <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">official document</a> states:</p>\n\n<blockquote>\n  <p>The size, isEmpty, get, set, iterator, and listIterator operations run\n  in constant time. <strong>The add operation runs in amortized constant time</strong>,\n  that is, adding n elements requires O(n) time. All of the other\n  operations run in linear time (roughly speaking). The constant factor\n  is low compared to that for the LinkedList implementation.</p>\n</blockquote>\n\n<p><strong>Additional note 3:</strong></p>\n\n<p>Here is the logic of <code>grow</code> method that I have taken from official java source code:</p>\n\n<pre><code>private void ensureExplicitCapacity(int minCapacity) {\n        modCount++;\n\n        // overflow-conscious code\n        if (minCapacity - elementData.length &gt; 0)\n            grow(minCapacity);\n    }\n\nprivate void grow(int minCapacity) {\n        // overflow-conscious code\n        int oldCapacity = elementData.length;\n        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n        if (newCapacity - minCapacity &lt; 0)\n            newCapacity = minCapacity;\n        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n            newCapacity = hugeCapacity(minCapacity);\n        // minCapacity is usually close to size, so this is a win:\n        elementData = Arrays.copyOf(elementData, newCapacity);\n    }\n</code></pre>\n\n<p>As the source code has said, when program add element that make size of array larger than current capacity, Array will be grown. new size of grown array will be:</p>\n\n<pre><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n\n<p>This is a trick that make inserting is <code>amortized O(1)</code></p>\n"},{"tags":[],"owner":{"account_id":317220,"reputation":4366,"user_id":1597771,"accept_rate":58,"display_name":"SpiXel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474106520,"creation_date":1474106520,"answer_id":39545477,"question_id":39541885,"body_markdown":"You are doing an iteration, and that&#39;s of O(n).\r\n\r\nYou&#39;re also adding items to an ArrayList, which is of O(1) ([Amortized][1])\r\n\r\nGetting an index is also O(1).\r\n\r\nSo your doing O(n) times, operations of O(1), which is going to be of **O(n)**.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amortized_analysis","title":"time complexity for iterating through an array list","body":"<p>You are doing an iteration, and that's of O(n).</p>\n\n<p>You're also adding items to an ArrayList, which is of O(1) (<a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow\">Amortized</a>)</p>\n\n<p>Getting an index is also O(1).</p>\n\n<p>So your doing O(n) times, operations of O(1), which is going to be of <strong>O(n)</strong>.</p>\n"},{"tags":[],"owner":{"account_id":18242898,"reputation":1,"user_id":13279613,"display_name":"Vijai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589952492,"creation_date":1589952492,"answer_id":61905734,"question_id":39541885,"body_markdown":"For iterating through the array list, the time complexity will be O(n). n will be the size of the list.\r\n\r\nfor getting the value using get(), it will be O(1), random access is possible in array list using index. \r\n\r\nAnd for adding the values using add(), the value is getting added at the last, so it will be O(1).\r\n\r\nThe time complexity of this operation will be O(n).\r\n","title":"time complexity for iterating through an array list","body":"<p>For iterating through the array list, the time complexity will be O(n). n will be the size of the list.</p>\n\n<p>for getting the value using get(), it will be O(1), random access is possible in array list using index. </p>\n\n<p>And for adding the values using add(), the value is getting added at the last, so it will be O(1).</p>\n\n<p>The time complexity of this operation will be O(n).</p>\n"}],"owner":{"account_id":8213218,"reputation":91,"user_id":6180549,"accept_rate":0,"display_name":"Chicken Crimpy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15484,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1699253116,"creation_date":1474073826,"question_id":39541885,"body_markdown":"I have an array list which I iterate through. In each iteration I call `get()` to get one element, and if that item passes some condition, it is added to a new array list using `add()`\r\n\r\n    List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n\tList&lt;Item&gt; lessItems = new ArrayList&lt;Item&gt;();\r\n\tfor(int index = 0; index &lt; items.size(); index++){\r\n\t\tItem toCheck = items.get(i);\r\n\t\tif(toCheck meets some condition){\r\n\t\t\tlessItems.add(toCheck);\r\n\t\t}\r\n\t}\r\n\r\nI am not sure what the time complexity is here. I am calling get() on all items so that is O(n). Then I am also calling add() on potentially all the items so there&#39;s another O(n). Not too sure on this one. ","title":"time complexity for iterating through an array list","body":"<p>I have an array list which I iterate through. In each iteration I call <code>get()</code> to get one element, and if that item passes some condition, it is added to a new array list using <code>add()</code></p>\n\n<pre><code>List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\nList&lt;Item&gt; lessItems = new ArrayList&lt;Item&gt;();\nfor(int index = 0; index &lt; items.size(); index++){\n    Item toCheck = items.get(i);\n    if(toCheck meets some condition){\n        lessItems.add(toCheck);\n    }\n}\n</code></pre>\n\n<p>I am not sure what the time complexity is here. I am calling get() on all items so that is O(n). Then I am also calling add() on potentially all the items so there's another O(n). Not too sure on this one. </p>\n"},{"tags":["java","resource-id","openpages"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268012,"post_id":77429174,"comment_id":136505746,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29835465,"reputation":1,"user_id":22864906,"display_name":"Sowmya Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699252935,"creation_date":1699252935,"question_id":77429174,"body_markdown":"On entry of 4digit number it should check whether that resource Id is present in openpages or not.if not present then throw error.\r\n\r\nI tried using api.get ResourceId(name) but eclipse was not supporting api.auggeat alternative method.","title":"Want to check any entered 4digit resource id is present in openpages or not using java","body":"<p>On entry of 4digit number it should check whether that resource Id is present in openpages or not.if not present then throw error.</p>\n<p>I tried using api.get ResourceId(name) but eclipse was not supporting api.auggeat alternative method.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jackson"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673884882,"post_id":75136627,"comment_id":132591469,"body_markdown":"`@JsonProperty(value = &quot;UUID&quot;)` -&gt; `Defines name of the logical property, i.e. JSON object fieldname to use for the property. If value is empty String (which is thedefault), will try to use name of the field that is annotated.Note that there is no default name available for constructor arguments,meaning that Empty String is not a valid value for constructor arguments.`","body":"<code>@JsonProperty(value = &quot;UUID&quot;)</code> -&gt; <code>Defines name of the logical property, i.e. JSON object fieldname to use for the property. If value is empty String (which is thedefault), will try to use name of the field that is annotated.Note that there is no default name available for constructor arguments,meaning that Empty String is not a valid value for constructor arguments.</code>"},{"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"score":1,"creation_date":1673885565,"post_id":75136627,"comment_id":132591716,"body_markdown":"Thanks!  I will try that!  if you add this as an answer, I will upvote.","body":"Thanks!  I will try that!  if you add this as an answer, I will upvote."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673896576,"creation_date":1673896576,"answer_id":75138747,"question_id":75136627,"body_markdown":"In Jackson with `@JsonProperty` you can customize the field name with it&#39;s annotation parameter `value`\r\n\r\n\r\nTherefore, you just have to annotate the entity fields with the `@JsonProperty` annotation and provide a custom JSON property name, like this:\r\n\r\n    public class MyClass{ \r\n        @JsonProperty(&quot;original_field_name_in_json&quot;) \r\n        private UUID id;\r\n    ...\r\n\r\n","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>In Jackson with <code>@JsonProperty</code> you can customize the field name with it's annotation parameter <code>value</code></p>\n<p>Therefore, you just have to annotate the entity fields with the <code>@JsonProperty</code> annotation and provide a custom JSON property name, like this:</p>\n<pre><code>public class MyClass{ \n    @JsonProperty(&quot;original_field_name_in_json&quot;) \n    private UUID id;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673899864,"creation_date":1673899816,"answer_id":75139221,"question_id":75136627,"body_markdown":"The @JsonProperty will do it for you:\r\n\r\n```\r\n@JsonProperty(&quot;name_in_json&quot;) \r\nprivate Long value;\r\n```","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>The @JsonProperty will do it for you:</p>\n<pre><code>@JsonProperty(&quot;name_in_json&quot;) \nprivate Long value;\n</code></pre>\n"}],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3802,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75138747,"answer_count":2,"score":2,"last_activity_date":1699252825,"creation_date":1673884275,"question_id":75136627,"body_markdown":"I am new to Spring Boot and I am trying to figure out how to parse json data.  I see a lot of tutorials on how to map json string object to an annotated Java class and using and object mapper, like this:\r\n\r\n   **json:**  \r\n\r\n    {\r\n        &quot;UUID&quot;: &quot;xyz&quot;,\r\n        &quot;name&quot;: &quot;some name&quot;\r\n    }\r\n\r\n    public class MyClass{ \r\n        @JsonProperty \r\n        private UUID id;\r\n        @JsonProperty\r\n        private String name;\r\n    \r\n        @JsonAnyGetter\r\n        public UUID getId() {\r\n            return this.id;\r\n        }\r\n        @JsonAnySetter\r\n        public void setId(UUID id) {\r\n            this.id = id;\r\n        }\r\n        @JsonAnyGetter\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        @JsonAnySetter\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }   \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    MyClass customer = objectMapper.readValue(jsonString, MyClass.class);\r\n\r\nThe problem is that the system I am getting the json string from does not match the class naming conventions we use (and I cannot change either one).  So, instead of having the example json string above, it might look like this:\r\n\r\n     {\r\n        &quot;randomdstring-fieldId&quot;: &quot;xyz&quot;,\r\n        &quot;anotherrandomstring-name&quot;: &quot;some name&quot;\r\n    }  \r\n\r\nThis use case only has two fields, but my use case has a larger payload.  Is there a way to either map the field names from the json object to the field names in the Java class or is there a way to just parse the json string as a key value pair (so that I can just manually add the fields to my Java object)?","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>I am new to Spring Boot and I am trying to figure out how to parse json data.  I see a lot of tutorials on how to map json string object to an annotated Java class and using and object mapper, like this:</p>\n<p><strong>json:</strong></p>\n<pre><code>{\n    &quot;UUID&quot;: &quot;xyz&quot;,\n    &quot;name&quot;: &quot;some name&quot;\n}\n\npublic class MyClass{ \n    @JsonProperty \n    private UUID id;\n    @JsonProperty\n    private String name;\n\n    @JsonAnyGetter\n    public UUID getId() {\n        return this.id;\n    }\n    @JsonAnySetter\n    public void setId(UUID id) {\n        this.id = id;\n    }\n    @JsonAnyGetter\n    public String getName() {\n        return this.name;\n    }\n    @JsonAnySetter\n    public void setName(String name) {\n        this.name = name;\n    }\n}   \n\nObjectMapper objectMapper = new ObjectMapper();\nMyClass customer = objectMapper.readValue(jsonString, MyClass.class);\n</code></pre>\n<p>The problem is that the system I am getting the json string from does not match the class naming conventions we use (and I cannot change either one).  So, instead of having the example json string above, it might look like this:</p>\n<pre><code> {\n    &quot;randomdstring-fieldId&quot;: &quot;xyz&quot;,\n    &quot;anotherrandomstring-name&quot;: &quot;some name&quot;\n}  \n</code></pre>\n<p>This use case only has two fields, but my use case has a larger payload.  Is there a way to either map the field names from the json object to the field names in the Java class or is there a way to just parse the json string as a key value pair (so that I can just manually add the fields to my Java object)?</p>\n"},{"tags":["java","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1697666589,"post_id":77319545,"comment_id":136310249,"body_markdown":"One approach is to use an element attribute, such as `test-id`, with a deterministic naming convention that can be used by the app and automation tests, e.g., `&lt;input ... test-id=&quot;people[0].firstName&quot; /&gt;`.","body":"One approach is to use an element attribute, such as <code>test-id</code>, with a deterministic naming convention that can be used by the app and automation tests, e.g., <code>&lt;input ... test-id=&quot;people[0].firstName&quot; &#47;&gt;</code>."},{"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"score":0,"creation_date":1697705500,"post_id":77319545,"comment_id":136314321,"body_markdown":"Please share snippets of HTML so I can look at certain solutions - also include parents and ancestors.","body":"Please share snippets of HTML so I can look at certain solutions - also include parents and ancestors."}],"owner":{"account_id":29137371,"reputation":5,"user_id":22321226,"display_name":"user22321226"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699252737,"creation_date":1697662452,"question_id":77319545,"body_markdown":"In our Regression Suite At many places Xpath and CSS used. And Developers changing Class and many HTML elements frequently. So We need to fix XPATH or CSS Selectors every time.\r\n\r\nWhat could be the solution?\r\n\r\nWe tried creating dynamic xpath but still after sometime we have to change that as well.","title":"What we can use in selenium to locate dynamic elements?","body":"<p>In our Regression Suite At many places Xpath and CSS used. And Developers changing Class and many HTML elements frequently. So We need to fix XPATH or CSS Selectors every time.</p>\n<p>What could be the solution?</p>\n<p>We tried creating dynamic xpath but still after sometime we have to change that as well.</p>\n"},{"tags":["java","selenium-webdriver","automation","automated-tests","testng"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699251818,"creation_date":1699251818,"answer_id":77429102,"question_id":77350807,"body_markdown":"TestNG reports are generated in the reporting phase. \r\nAll the TestNG annotations are processed during the execution phase and so all the methods that are annotated with configuration annnotations such as `@AfterSuite` (or) `@AfterTest` get executed during the execution phase.\r\n\r\nThat explains why you see the exception.\r\n\r\nIf you would like to access the artifacts that were generated during the reporting phase, you could build an implementation of the TestNG listener interface `org.testng.IExecutionListener` which will be invoked by TestNG after the reporting phase, but just before TestNG exits.\r\n\r\nBut you would need to make proper assumptions in terms of where the report files are going to be generated because this interface methods namely `onExecutionStart()` and `onExecutionFinish()` are parameterless and so wouldn&#39;t know where the reports would be available at.","title":"Emailable-report.html is not found when I run my test with mvn clean then mvn test","body":"<p>TestNG reports are generated in the reporting phase.\nAll the TestNG annotations are processed during the execution phase and so all the methods that are annotated with configuration annnotations such as <code>@AfterSuite</code> (or) <code>@AfterTest</code> get executed during the execution phase.</p>\n<p>That explains why you see the exception.</p>\n<p>If you would like to access the artifacts that were generated during the reporting phase, you could build an implementation of the TestNG listener interface <code>org.testng.IExecutionListener</code> which will be invoked by TestNG after the reporting phase, but just before TestNG exits.</p>\n<p>But you would need to make proper assumptions in terms of where the report files are going to be generated because this interface methods namely <code>onExecutionStart()</code> and <code>onExecutionFinish()</code> are parameterless and so wouldn't know where the reports would be available at.</p>\n"}],"owner":{"account_id":5717843,"reputation":99,"user_id":4517399,"accept_rate":89,"display_name":"Ahmed Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699251818,"creation_date":1698138662,"question_id":77350807,"body_markdown":"I&#39;m using maven with testNG, but when I use &quot;mvn clean&quot;, it cleans the target folder, then I use &quot;mvn test&quot; to run my test cases and send email with the result I got error &quot;java.io.FileNotFoundException&quot; as the report is generated after everything is done. \r\nI used SuiteListener and ListenerTest and also tried to send the email from AfterSuite and AfterClass but I got the same error because the report is being generated after all the annotations and listeners are done.","title":"Emailable-report.html is not found when I run my test with mvn clean then mvn test","body":"<p>I'm using maven with testNG, but when I use &quot;mvn clean&quot;, it cleans the target folder, then I use &quot;mvn test&quot; to run my test cases and send email with the result I got error &quot;java.io.FileNotFoundException&quot; as the report is generated after everything is done.\nI used SuiteListener and ListenerTest and also tried to send the email from AfterSuite and AfterClass but I got the same error because the report is being generated after all the annotations and listeners are done.</p>\n"},{"tags":["java","bouncycastle","java-11","fips"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699254895,"post_id":77429085,"comment_id":136503619,"body_markdown":"Maybe this will help? [signed modular JAR with crypto provider cannot be linked into run-time image](https://stackoverflow.com/questions/50597926/signed-modular-jar-with-crypto-provider-cannot-be-linked-into-run-time-image)","body":"Maybe this will help? <a href=\"https://stackoverflow.com/questions/50597926/signed-modular-jar-with-crypto-provider-cannot-be-linked-into-run-time-image\">signed modular JAR with crypto provider cannot be linked into run-time image</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699259841,"post_id":77429085,"comment_id":136504328,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10367005,"reputation":1,"user_id":7645769,"display_name":"Md Rehman"},"score":0,"creation_date":1699341647,"post_id":77429085,"comment_id":136516115,"body_markdown":"I got a response from bouncy castle folks and seems like this is expected.","body":"I got a response from bouncy castle folks and seems like this is expected."}],"owner":{"account_id":10367005,"reputation":1,"user_id":7645769,"display_name":"Md Rehman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699251447,"creation_date":1699251447,"question_id":77429085,"body_markdown":"Trying to list the bcfips provider getting \r\n```   ProviderConfig: Encountered java.util.ServiceConfigurationError: java.security.Provider: Provider      org.bouncycastle.jcajce   .provider.BouncyCastleFipsProvider could not be instantiated while iterating through SL, ignore and move on\r\n    java.util.ServiceConfigurationError: java.security.Provider: Provider org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider could not be instantiated\r\n        at java.base/java.util.ServiceLoader.fail(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$3.next(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$ProviderLoader.load(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.security.jca.ProviderConfig.doLoadProvider(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig.getProvider(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderList.loadAll(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderList.removeInvalid(Unknown Source)\r\n        at java.base/sun.security.jca.Providers.getFullProviderList(Unknown Source)\r\n        at java.base/java.security.Security.getProviders(Unknown Source)\r\n        at ListSecurityProviders.main(ListSecurityProviders.java:6)\r\n    Caused by: org.bouncycastle.crypto.fips.FipsOperationError: Module checksum failed: unable to calculate\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.checksumValidate(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        ... 14 more\r\n    scl:  getPermissions ProtectionDomain  (jrt:/java.security.jgss &lt;no signer certificates&gt;)\r\n    jdk.internal.loader.ClassLoaders$PlatformClassLoader@7f13d6e\r\n    &lt;no principals&gt;\r\n    java.security.Permissions@51cdd8a (\r\n    (&quot;java.lang.RuntimePermission&quot; &quot;accessSystemModules&quot;))\r\n```\r\n\r\n \r\nFollowed the steps provided in the answer for same question asked [earlier](https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11).\r\n\r\nCreated jre using below command\r\n\r\n```   \r\n./jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path /root/bcjars/ --add-modules java.se,jdk    .unsupported,org.bouncycastle.fips.core --output /tmp/bcjdk/ --ignore-signing-information\r\n```\r\njre created with below warning.\r\n\r\n\r\n``` WARNING: signed modular JAR /root/bcjars/bc-fips-1.0.2.4.jar is currently not supported ```\r\n\r\nAfter creating the jre, i can see the module in the --list-modules commnd.\r\n \r\n```\r\n   xx-xxx-xxxx:/tmp/bcjdk/bin # ./java --list-modules\r\n    java.base@11.0.20\r\n    java.compiler@11.0.20\r\n    java.datatransfer@11.0.20\r\n    java.desktop@11.0.20\r\n    java.instrument@11.0.20\r\n    java.logging@11.0.20\r\n    java.management@11.0.20\r\n    java.management.rmi@11.0.20\r\n    java.naming@11.0.20\r\n    java.net.http@11.0.20\r\n    java.prefs@11.0.20\r\n    java.rmi@11.0.20\r\n    java.scripting@11.0.20\r\n    java.se@11.0.20\r\n    java.security.jgss@11.0.20\r\n    java.security.sasl@11.0.20\r\n    java.sql@11.0.20\r\n    java.sql.rowset@11.0.20\r\n    java.transaction.xa@11.0.20\r\n    java.xml@11.0.20\r\n    java.xml.crypto@11.0.20\r\n    jdk.unsupported@11.0.20\r\n    org.bouncycastle.fips.core\r\n``` \r\n\r\nProgram i ran to list the providers.\r\n\r\n``` \r\n  import java.security.Provider;\r\n    import java.security.Security;\r\n    \r\n    public class ListSecurityProviders {\r\n        public static void main(String[] args) {\r\n            Provider[] providers = Security.getProviders();\r\n    \r\n            for (Provider provider : providers) {\r\n                System.out.println(&quot;Provider: &quot; + provider.getName());\r\n               for (Provider.Service service : provider.getServices()) {\r\n                   System.out.println(&quot;  Algorithm: &quot; + service.getAlgorithm());\r\n               }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nFrom the error it looks like it is failing due no signing information but jlink cannot create jre with signing information. \r\n","title":"FIPS mode in java11","body":"<p>Trying to list the bcfips provider getting</p>\n<pre><code>    java.util.ServiceConfigurationError: java.security.Provider: Provider org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider could not be instantiated\n        at java.base/java.util.ServiceLoader.fail(Unknown Source)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(Unknown Source)\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(Unknown Source)\n        at java.base/java.util.ServiceLoader$3.next(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$ProviderLoader.load(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.security.jca.ProviderConfig.doLoadProvider(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig.getProvider(Unknown Source)\n        at java.base/sun.security.jca.ProviderList.loadAll(Unknown Source)\n        at java.base/sun.security.jca.ProviderList.removeInvalid(Unknown Source)\n        at java.base/sun.security.jca.Providers.getFullProviderList(Unknown Source)\n        at java.base/java.security.Security.getProviders(Unknown Source)\n        at ListSecurityProviders.main(ListSecurityProviders.java:6)\n    Caused by: org.bouncycastle.crypto.fips.FipsOperationError: Module checksum failed: unable to calculate\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.checksumValidate(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        ... 14 more\n    scl:  getPermissions ProtectionDomain  (jrt:/java.security.jgss &lt;no signer certificates&gt;)\n    jdk.internal.loader.ClassLoaders$PlatformClassLoader@7f13d6e\n    &lt;no principals&gt;\n    java.security.Permissions@51cdd8a (\n    (&quot;java.lang.RuntimePermission&quot; &quot;accessSystemModules&quot;))\n</code></pre>\n<p>Followed the steps provided in the answer for same question asked <a href=\"https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11\">earlier</a>.</p>\n<p>Created jre using below command</p>\n<pre><code>./jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path /root/bcjars/ --add-modules java.se,jdk    .unsupported,org.bouncycastle.fips.core --output /tmp/bcjdk/ --ignore-signing-information\n</code></pre>\n<p>jre created with below warning.</p>\n<p><code>WARNING: signed modular JAR /root/bcjars/bc-fips-1.0.2.4.jar is currently not supported</code></p>\n<p>After creating the jre, i can see the module in the --list-modules commnd.</p>\n<pre><code>   xx-xxx-xxxx:/tmp/bcjdk/bin # ./java --list-modules\n    java.base@11.0.20\n    java.compiler@11.0.20\n    java.datatransfer@11.0.20\n    java.desktop@11.0.20\n    java.instrument@11.0.20\n    java.logging@11.0.20\n    java.management@11.0.20\n    java.management.rmi@11.0.20\n    java.naming@11.0.20\n    java.net.http@11.0.20\n    java.prefs@11.0.20\n    java.rmi@11.0.20\n    java.scripting@11.0.20\n    java.se@11.0.20\n    java.security.jgss@11.0.20\n    java.security.sasl@11.0.20\n    java.sql@11.0.20\n    java.sql.rowset@11.0.20\n    java.transaction.xa@11.0.20\n    java.xml@11.0.20\n    java.xml.crypto@11.0.20\n    jdk.unsupported@11.0.20\n    org.bouncycastle.fips.core\n</code></pre>\n<p>Program i ran to list the providers.</p>\n<pre><code>  import java.security.Provider;\n    import java.security.Security;\n    \n    public class ListSecurityProviders {\n        public static void main(String[] args) {\n            Provider[] providers = Security.getProviders();\n    \n            for (Provider provider : providers) {\n                System.out.println(&quot;Provider: &quot; + provider.getName());\n               for (Provider.Service service : provider.getServices()) {\n                   System.out.println(&quot;  Algorithm: &quot; + service.getAlgorithm());\n               }\n            }\n        }\n    }\n</code></pre>\n<p>From the error it looks like it is failing due no signing information but jlink cannot create jre with signing information.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29267949,"reputation":1,"user_id":22423390,"display_name":"Waqas Waheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699251445,"creation_date":1698337908,"question_id":77368821,"body_markdown":"[here is my HTML AND web App] (https://i.stack.imgur.com/nHfgC.png)\r\n Here is my Code:\r\n\r\n\t@Test(priority = 9)\r\n\t\tpublic void EditCompositeLevel() throws InterruptedException  {\r\n\r\n\t        // Wait for the &#39;Name&#39; input field to be present and clear its content\r\n\t     WebElement nameInput=driver.findElement(By.xpath(&quot;//input[@type=&#39;text&#39; and @placeholder=&#39;Name&#39;]&quot;));\r\n\r\n\t        Thread.sleep(3000);\r\n\t        nameInput.clear();\r\n\t      \r\n\t        Thread.sleep(3000);\r\n\t     System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder=&#39;Name&#39;])[1]&quot;)).getText()\r\n\t       ) ; \r\n\t     \r\n\t        Thread.sleep(3000);\r\n\t        System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder=&#39;Name&#39;])[1]&quot;)).getText());\r\n\t\t}\r\n\r\n\r\nI tried to clear the input field using webobject object.clear();\r\nthen i want to send input value using webobject object.sendkeys.  but it retains previous input value before i send keys","title":"Why the Text retains in input field even I clear that field and send new keys using selenium WebDriver java","body":"<p>[here is my HTML AND web App] (<a href=\"https://i.stack.imgur.com/nHfgC.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nHfgC.png</a>)\nHere is my Code:</p>\n<pre><code>@Test(priority = 9)\n    public void EditCompositeLevel() throws InterruptedException  {\n\n        // Wait for the 'Name' input field to be present and clear its content\n     WebElement nameInput=driver.findElement(By.xpath(&quot;//input[@type='text' and @placeholder='Name']&quot;));\n\n        Thread.sleep(3000);\n        nameInput.clear();\n      \n        Thread.sleep(3000);\n     System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder='Name'])[1]&quot;)).getText()\n       ) ; \n     \n        Thread.sleep(3000);\n        System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder='Name'])[1]&quot;)).getText());\n    }\n</code></pre>\n<p>I tried to clear the input field using webobject object.clear();\nthen i want to send input value using webobject object.sendkeys.  but it retains previous input value before i send keys</p>\n"},{"tags":["java","cucumber","cucumber-java","allure"],"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699250948,"creation_date":1698640857,"question_id":77386243,"body_markdown":"Getting an error for the Allure Report - java.lang.NoSuchMethodError while running the Testng tests. Has anybody come across this error and how to get it rectified. Attaching the error and pom.xml file. \r\n\r\nI tried resolving the error by changing the TestNG versions. I saw multiple posts on stackoverflow, but never came across the below error in other posts.\r\n\r\n\r\n    **Error Details:**\r\n    java.lang.NoSuchMethodError: &#39;io.qameta.allure.model.FixtureResult \r\n    io.qameta.allure.model.FixtureResult.withName(java.lang.String)&#39;\r\n\r\n\tat io.qameta.allure.testng.AllureTestNg.getFixtureResult(AllureTestNg.java:458)\r\n\tat io.qameta.allure.testng.AllureTestNg.startBefore(AllureTestNg.java:413)\r\n\tat io.qameta.allure.testng.AllureTestNg.lambda$ifClassFixtureStarted$6(AllureTestNg.java:394)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat io.qameta.allure.testng.AllureTestNg.ifClassFixtureStarted(AllureTestNg.java:394)\r\n\tat io.qameta.allure.testng.AllureTestNg.beforeInvocation(AllureTestNg.java:376)\r\n\tat org.testng.internal.invokers.InvokedMethodListenerInvoker.invokeListener(InvokedMethodListenerInvoker.java:56)\r\n\tat org.testng.internal.BaseInvoker.runInvokedMethodListeners(BaseInvoker.java:55)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:351)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\r\n    java.lang.NoSuchMethodError: &#39;void \r\n    io.qameta.allure.util.ResultsUtils.processDescription(java.lang.ClassLoader, \r\n    java.lang.reflect.Method, io.qameta.allure.model.ExecutableItem)&#39;\r\n\tat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:300)\r\n\tat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:249)\r\n\tat io.qameta.allure.testng.AllureTestNg.onConfigurationFailure(AllureTestNg.java:501)\r\n\tat org.testng.internal.TestListenerHelper.runPostConfigurationListeners(TestListenerHelper.java:47)\r\n\tat org.testng.internal.ConfigInvoker.runConfigurationListeners(ConfigInvoker.java:402)\r\n\tat org.testng.internal.ConfigInvoker.handleConfigurationFailure(ConfigInvoker.java:452)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:326)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n\r\n    **Pom.xml:**\r\n    properties&gt;\r\n       &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n       &lt;aspectjweaver.version&gt;1.8.10&lt;/aspectjweaver.version&gt;\r\n       &lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\r\n       &lt;allure.cucumber.version&gt;2.24.0&lt;/allure.cucumber.version&gt;. \r\n       &lt;allure.version&gt;2.13.8&lt;/allure.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n         &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n         &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n        &lt;version&gt;${allure.cucumber.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n       &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n       &lt;version&gt;7.3.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n       &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n       &lt;version&gt;${allure.version}&lt;/version&gt;\r\n       &lt;exclusions&gt;\r\n         &lt;exclusion&gt;\r\n           &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n           &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n         &lt;/exclusion&gt;\r\n       &lt;/exclusions&gt;\r\n     &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n\r\n    profiles&gt;\r\n    &lt;profile&gt;\r\n       &lt;id&gt;api&lt;/id&gt;\r\n       &lt;activation&gt;\r\n         &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n       &lt;/activation&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;api-tests&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n               &lt;systemPropertyVariables&gt;\r\n                 &lt;allure.results.directory&gt;\r\n                   ${project.build.directory}/allure-results\r\n                 &lt;/allure.results.directory&gt;\r\n                 &lt;allure.link.issue.pattern&gt;\r\n                   https://example.org/browse/{}\r\n                 &lt;/allure.link.issue.pattern&gt;\r\n                 &lt;allure.link.tms.pattern&gt;\r\n                   https://example.org/browse/{}\r\n                 &lt;/allure.link.tms.pattern&gt;\r\n               &lt;/systemPropertyVariables&gt;\r\n               &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n               &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\r\n               &lt;!-- following 4 lines are for allure reports --&gt;\r\n               &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n               &lt;argLine&gt;\r\n               -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver.version}/aspectjweaver-${aspectjweaver.version}.jar&quot;\r\n               -Dcucumber.options=&quot;plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n               &lt;/argLine&gt;\r\n             &lt;properties&gt;\r\n                &lt;property&gt;\r\n                   &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n                   &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/property&gt;\r\n             &lt;/properties&gt;\r\n             &lt;includes&gt;\r\n                &lt;include&gt;com.restassured.cucumber.TestRunner&lt;/include&gt;\r\n             &lt;/includes&gt;\r\n             &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n             &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n             &lt;version&gt;${aspectjweaver.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n       &lt;/plugin&gt;\r\n          &lt;!-- following 5 lines are for allure reports--&gt;\r\n       &lt;plugin&gt;\r\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n         &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n         &lt;version&gt;2.8&lt;/version&gt;\r\n       &lt;/plugin&gt;\r\n       &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n         &lt;executions&gt;\r\n           &lt;execution&gt;\r\n           &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n           &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n           &lt;configuration&gt;\r\n             &lt;outputDirectory&gt;\r\n             ${project.build.directory}/libs\r\n             &lt;/outputDirectory&gt;\r\n           &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;test-jar&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n     &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/profile&gt;","title":"Allure Report java.lang.NoSuchMethodError while running the Testng tests","body":"<p>Getting an error for the Allure Report - java.lang.NoSuchMethodError while running the Testng tests. Has anybody come across this error and how to get it rectified. Attaching the error and pom.xml file.</p>\n<p>I tried resolving the error by changing the TestNG versions. I saw multiple posts on stackoverflow, but never came across the below error in other posts.</p>\n<pre><code>**Error Details:**\njava.lang.NoSuchMethodError: 'io.qameta.allure.model.FixtureResult \nio.qameta.allure.model.FixtureResult.withName(java.lang.String)'\n\nat io.qameta.allure.testng.AllureTestNg.getFixtureResult(AllureTestNg.java:458)\nat io.qameta.allure.testng.AllureTestNg.startBefore(AllureTestNg.java:413)\nat io.qameta.allure.testng.AllureTestNg.lambda$ifClassFixtureStarted$6(AllureTestNg.java:394)\nat java.base/java.util.Optional.ifPresent(Optional.java:178)\nat io.qameta.allure.testng.AllureTestNg.ifClassFixtureStarted(AllureTestNg.java:394)\nat io.qameta.allure.testng.AllureTestNg.beforeInvocation(AllureTestNg.java:376)\nat org.testng.internal.invokers.InvokedMethodListenerInvoker.invokeListener(InvokedMethodListenerInvoker.java:56)\nat org.testng.internal.BaseInvoker.runInvokedMethodListeners(BaseInvoker.java:55)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:351)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\n\njava.lang.NoSuchMethodError: 'void \nio.qameta.allure.util.ResultsUtils.processDescription(java.lang.ClassLoader, \njava.lang.reflect.Method, io.qameta.allure.model.ExecutableItem)'\nat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:300)\nat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:249)\nat io.qameta.allure.testng.AllureTestNg.onConfigurationFailure(AllureTestNg.java:501)\nat org.testng.internal.TestListenerHelper.runPostConfigurationListeners(TestListenerHelper.java:47)\nat org.testng.internal.ConfigInvoker.runConfigurationListeners(ConfigInvoker.java:402)\nat org.testng.internal.ConfigInvoker.handleConfigurationFailure(ConfigInvoker.java:452)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:326)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n\n**Pom.xml:**\nproperties&gt;\n   &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n   &lt;aspectjweaver.version&gt;1.8.10&lt;/aspectjweaver.version&gt;\n   &lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\n   &lt;allure.cucumber.version&gt;2.24.0&lt;/allure.cucumber.version&gt;. \n   &lt;allure.version&gt;2.13.8&lt;/allure.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n     &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n     &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n     &lt;version&gt;${cucumber.version}&lt;/version&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n    &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n    &lt;version&gt;${allure.cucumber.version}&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;org.testng&lt;/groupId&gt;\n   &lt;artifactId&gt;testng&lt;/artifactId&gt;\n   &lt;version&gt;7.3.0&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n   &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n   &lt;version&gt;${allure.version}&lt;/version&gt;\n   &lt;exclusions&gt;\n     &lt;exclusion&gt;\n       &lt;groupId&gt;org.testng&lt;/groupId&gt;\n       &lt;artifactId&gt;testng&lt;/artifactId&gt;\n     &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n &lt;/dependency&gt;\n&lt;/dependencies&gt; \n\nprofiles&gt;\n&lt;profile&gt;\n   &lt;id&gt;api&lt;/id&gt;\n   &lt;activation&gt;\n     &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n   &lt;/activation&gt;\n&lt;build&gt;\n    &lt;finalName&gt;api-tests&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;configuration&gt;\n           &lt;systemPropertyVariables&gt;\n             &lt;allure.results.directory&gt;\n               ${project.build.directory}/allure-results\n             &lt;/allure.results.directory&gt;\n             &lt;allure.link.issue.pattern&gt;\n               https://example.org/browse/{}\n             &lt;/allure.link.issue.pattern&gt;\n             &lt;allure.link.tms.pattern&gt;\n               https://example.org/browse/{}\n             &lt;/allure.link.tms.pattern&gt;\n           &lt;/systemPropertyVariables&gt;\n           &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n           &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\n           &lt;!-- following 4 lines are for allure reports --&gt;\n           &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n           &lt;argLine&gt;\n           -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver.version}/aspectjweaver-${aspectjweaver.version}.jar&quot;\n           -Dcucumber.options=&quot;plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n           &lt;/argLine&gt;\n         &lt;properties&gt;\n            &lt;property&gt;\n               &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n               &lt;value&gt;5&lt;/value&gt;\n            &lt;/property&gt;\n         &lt;/properties&gt;\n         &lt;includes&gt;\n            &lt;include&gt;com.restassured.cucumber.TestRunner&lt;/include&gt;\n         &lt;/includes&gt;\n         &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n         &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n         &lt;version&gt;${aspectjweaver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n   &lt;/plugin&gt;\n      &lt;!-- following 5 lines are for allure reports--&gt;\n   &lt;plugin&gt;\n     &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n     &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n     &lt;version&gt;2.8&lt;/version&gt;\n   &lt;/plugin&gt;\n   &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n     &lt;executions&gt;\n       &lt;execution&gt;\n       &lt;id&gt;copy-dependencies&lt;/id&gt;\n       &lt;phase&gt;prepare-package&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n       &lt;/goals&gt;\n       &lt;configuration&gt;\n         &lt;outputDirectory&gt;\n         ${project.build.directory}/libs\n         &lt;/outputDirectory&gt;\n       &lt;/configuration&gt;\n      &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.0&lt;/version&gt;\n  &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;test-jar&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"tags":["java","eclipse","jar","log4j"],"comments":[{"owner":{"account_id":6207142,"reputation":388,"user_id":4834735,"accept_rate":50,"display_name":"Knu8"},"score":0,"creation_date":1477035698,"post_id":40170967,"comment_id":67609789,"body_markdown":"is that jar included in bulid path of your project","body":"is that jar included in bulid path of your project"},{"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"score":3,"creation_date":1477035779,"post_id":40170967,"comment_id":67609832,"body_markdown":"Possible duplicate of [How do I resolve this Log4J import error (relating to Classpath too)?](http://stackoverflow.com/questions/16270618/how-do-i-resolve-this-log4j-import-error-relating-to-classpath-too)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16270618/how-do-i-resolve-this-log4j-import-error-relating-to-classpath-too\">How do I resolve this Log4J import error (relating to Classpath too)?</a>"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1477036025,"post_id":40170967,"comment_id":67609951,"body_markdown":"it should work, clean the project please...","body":"it should work, clean the project please..."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1477036465,"post_id":40170967,"comment_id":67610192,"body_markdown":"In Eclipse, check if &quot;Project&quot; -&gt; &quot;Build automatically&quot; is checked.","body":"In Eclipse, check if &quot;Project&quot; -&gt; &quot;Build automatically&quot; is checked."},{"owner":{"account_id":7456222,"reputation":160,"user_id":5669411,"accept_rate":71,"display_name":"B_PRIEUR"},"score":0,"creation_date":1477041951,"post_id":40170967,"comment_id":67613355,"body_markdown":"You also need an API for log4j to work","body":"You also need an API for log4j to work"}],"answers":[{"comments":[{"owner":{"account_id":3217021,"reputation":4943,"user_id":2715438,"accept_rate":83,"display_name":"VladoDemcak"},"score":0,"creation_date":1477329305,"post_id":40171144,"comment_id":67711328,"body_markdown":"He is not using maven - there is no pom.xml on the screenshot. And also project is just simple `Java Project` not the `Maven project`","body":"He is not using maven - there is no pom.xml on the screenshot. And also project is just simple <code>Java Project</code> not the <code>Maven project</code>"}],"tags":[],"owner":{"account_id":7013238,"reputation":840,"user_id":5375394,"accept_rate":56,"display_name":"tomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477036321,"creation_date":1477036321,"answer_id":40171144,"question_id":40170967,"body_markdown":"You can find the class &quot;org.apache.log4j.Logger&quot; in the log4j-X.X.XX.jar\r\n\r\nThis jar must be included in your build path.\r\n\r\nIf you have a maven project you can just add a dependency\r\n\r\n\t   &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nOtherwhise you have to download the jar and add the jar manually to your build path.","title":"Import log4j.Logger in Java project","body":"<p>You can find the class \"org.apache.log4j.Logger\" in the log4j-X.X.XX.jar</p>\n\n<p>This jar must be included in your build path.</p>\n\n<p>If you have a maven project you can just add a dependency</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Otherwhise you have to download the jar and add the jar manually to your build path.</p>\n"},{"comments":[{"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"score":0,"creation_date":1477042537,"post_id":40171809,"comment_id":67613731,"body_markdown":"after that, can you see your log4 jar under Referenced library? can you finished rebuild project?","body":"after that, can you see your log4 jar under Referenced library? can you finished rebuild project?"},{"owner":{"account_id":4592561,"reputation":924,"user_id":3725491,"accept_rate":67,"display_name":"Amber"},"score":0,"creation_date":1477048155,"post_id":40171809,"comment_id":67617264,"body_markdown":"Yes, it&#39;s there under Referenced Library. I built the project too but the error&#39;s still there","body":"Yes, it&#39;s there under Referenced Library. I built the project too but the error&#39;s still there"},{"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"score":0,"creation_date":1477048283,"post_id":40171809,"comment_id":67617347,"body_markdown":"can you expend your jar under referenced library and you must see org.apache.log4j.Logger class. if not, jar is not valid.","body":"can you expend your jar under referenced library and you must see org.apache.log4j.Logger class. if not, jar is not valid."},{"owner":{"account_id":4592561,"reputation":924,"user_id":3725491,"accept_rate":67,"display_name":"Amber"},"score":0,"creation_date":1477051147,"post_id":40171809,"comment_id":67619222,"body_markdown":"When I expand the jar under Referenced Library, there&#39;s a a META-INF folder and a lib package which contains the log4j1.2.17.jar but there&#39;s no classes in there. I changed the jar, added it to the build path and built the project again. but it still stays the same.","body":"When I expand the jar under Referenced Library, there&#39;s a a META-INF folder and a lib package which contains the log4j1.2.17.jar but there&#39;s no classes in there. I changed the jar, added it to the build path and built the project again. but it still stays the same."},{"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"score":0,"creation_date":1477368662,"post_id":40171809,"comment_id":67725183,"body_markdown":"It&#39;s insane, you have to make sure your jar is valid.","body":"It&#39;s insane, you have to make sure your jar is valid."}],"tags":[],"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477038462,"creation_date":1477038462,"answer_id":40171809,"question_id":40170967,"body_markdown":"Not web project, I mean, in plain Java project, it don&#39;t know the import jar file automatically. It mean, as to your structure, having jar in **lib** folder is not enough. You need to add this jar under **lib** folder manually to your **class path.**\r\n\r\nYou can do manually like this:\r\n\r\n    ProjectRightClick&gt;&gt;Build Path&gt;&gt;Configure Build Path&gt;&gt;Click Add Jar&gt;&gt;choose your log4 jar under lib folder&gt;&gt; OK.\r\n\r\nHope it help.\r\n\r\n","title":"Import log4j.Logger in Java project","body":"<p>Not web project, I mean, in plain Java project, it don't know the import jar file automatically. It mean, as to your structure, having jar in <strong>lib</strong> folder is not enough. You need to add this jar under <strong>lib</strong> folder manually to your <strong>class path.</strong></p>\n\n<p>You can do manually like this:</p>\n\n<pre><code>ProjectRightClick&gt;&gt;Build Path&gt;&gt;Configure Build Path&gt;&gt;Click Add Jar&gt;&gt;choose your log4 jar under lib folder&gt;&gt; OK.\n</code></pre>\n\n<p>Hope it help.</p>\n"},{"tags":[],"owner":{"account_id":13960168,"reputation":1,"user_id":10081649,"display_name":"Mayank RAJPUT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531584982,"creation_date":1531584982,"answer_id":51341209,"question_id":40170967,"body_markdown":"You need to download log4j package from link given below\r\n\r\nhttp://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip\r\n\r\nand then left click on your project logtestjava &gt; properties &gt; Java build path &gt; classpath &gt; add all jars of log4j package\r\n","title":"Import log4j.Logger in Java project","body":"<p>You need to download log4j package from link given below</p>\n\n<p><a href=\"http://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip\" rel=\"nofollow noreferrer\">http://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip</a></p>\n\n<p>and then left click on your project logtestjava > properties > Java build path > classpath > add all jars of log4j package</p>\n"}],"owner":{"account_id":4592561,"reputation":924,"user_id":3725491,"accept_rate":67,"display_name":"Amber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699250640,"creation_date":1477035581,"question_id":40170967,"body_markdown":"I am trying to build a simple java application in eclipse that uses log4j to make logs (I intend to export it as a jar file).\r\n\r\nBut when I try to import org.apache.log4j.Logger in the java file, I get an error as follows\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8d3JO.png\r\n\r\nCould someone please help me with this?","title":"Import log4j.Logger in Java project","body":"<p>I am trying to build a simple java application in eclipse that uses log4j to make logs (I intend to export it as a jar file).</p>\n\n<p>But when I try to import org.apache.log4j.Logger in the java file, I get an error as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/8d3JO.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/8d3JO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Could someone please help me with this?</p>\n"},{"tags":["java","android","android-recyclerview","android-music-player"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1699248795,"post_id":77428795,"comment_id":136502997,"body_markdown":"What is the parent layout of RecyclerView can you post your activtity xml as well?","body":"What is the parent layout of RecyclerView can you post your activtity xml as well?"},{"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"score":0,"creation_date":1699252593,"post_id":77428795,"comment_id":136503349,"body_markdown":"@AmmarAbdullah, hello, i have added parent layout of recyclerview you could check it if there any need for improvement then plz tell me.","body":"@AmmarAbdullah, hello, i have added parent layout of recyclerview you could check it if there any need for improvement then plz tell me."},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699261918,"post_id":77428795,"comment_id":136504691,"body_markdown":"@ronark You are using third-party fastscrolling library and passing your recyclerView in builder `new FastScrollerBuilder(layoutBinding.recyclerview);`, does it doing any heavy task with `RecyclerView` view? Please check what is use of `layoutBinding.recyclerview` after you pass it in `FastScrollerBuilder` paramter.","body":"@ronark You are using third-party fastscrolling library and passing your recyclerView in builder <code>new FastScrollerBuilder(layoutBinding.recyclerview);</code>, does it doing any heavy task with <code>RecyclerView</code> view? Please check what is use of <code>layoutBinding.recyclerview</code> after you pass it in <code>FastScrollerBuilder</code> paramter."},{"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"score":0,"creation_date":1699275743,"post_id":77428795,"comment_id":136507069,"body_markdown":"@Harshali, Hello m&#39;am, No it does not performing any heavy task in background it just provides thumb-drag feature so we can drag and jump to any position of recyclerview items,\nwe can also put this code outside of the observer block it doesn&#39;t affect the overall functionality of recyclerview in term of performance. any idea? what would be the actual issues?","body":"@Harshali, Hello m&#39;am, No it does not performing any heavy task in background it just provides thumb-drag feature so we can drag and jump to any position of recyclerview items, we can also put this code outside of the observer block it doesn&#39;t affect the overall functionality of recyclerview in term of performance. any idea? what would be the actual issues?"},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699344197,"post_id":77428795,"comment_id":136516464,"body_markdown":"@ronark  I had face lagging issues and solved by case 1 : `RecyclerView`  row-item file Height OR Width should be define in ay specific number (ex., 100dp, 150dp, ..) case 2 : loading big image inside `RecyclerView` every row (ViewHolder) case 3 :  If `RecyclerView` used inside `NestedScrollView` or other `RecyclerView`","body":"@ronark  I had face lagging issues and solved by case 1 : <code>RecyclerView</code>  row-item file Height OR Width should be define in ay specific number (ex., 100dp, 150dp, ..) case 2 : loading big image inside <code>RecyclerView</code> every row (ViewHolder) case 3 :  If <code>RecyclerView</code> used inside <code>NestedScrollView</code> or other <code>RecyclerView</code>"},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699344296,"post_id":77428795,"comment_id":136516480,"body_markdown":"@ronark You can try with comment image loading code in `RecyclerView` to verify if it&#39;s issue with loading image or not. With this way you may find actual issue.","body":"@ronark You can try with comment image loading code in <code>RecyclerView</code> to verify if it&#39;s issue with loading image or not. With this way you may find actual issue."}],"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699250121,"creation_date":1699246151,"question_id":77428795,"body_markdown":"here, i am retrieving data from mediastore and populate it on recyclerview. The actual problem is when i scrolls recyclerview little fast it** stuttering , laggy** at the same time even though i don&#39;t use loadArt() method.\r\nis there any issue with the xml i&#39;ve defined or something else i need to do to optimize recyclerview adapter for data?\r\nhere&#39;s code -&gt;\r\nAdapter code-&gt;\r\n\r\n```\r\n\r\npublic class SongAdapter extends RecyclerView.Adapter&lt;SongAdapter.ViewHolder&gt;\r\n        implements PopupTextProvider {\r\n\r\n    List&lt;SongPojo&gt; songPojoList;\r\n    Context context;\r\n\r\n\r\n    public SongAdapter(){}\r\n    public SongAdapter(Context con, List&lt;SongPojo&gt; list) {\r\n         \r\n            this.context = con;\r\n            this.songPojoList = list;\r\n            this.setHasStableIds(true);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SongAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CustomRowItemBinding customRowItemBinding =\r\n                CustomRowItemBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\r\n        return new ViewHolder(customRowItemBinding);\r\n    }\r\n\r\n    String TAG = SongAdapter.class.getSimpleName();\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SongAdapter.ViewHolder holder, int position) {\r\n              SongPojo pojo = songPojoList.get(position);\r\n\r\n              holder.itemBinding.textSong.setText(pojo.getSong_title());\r\n              holder.itemBinding.textArtist.setText(&quot;&lt;unknown&gt;&quot;);\r\n\r\n             // loadArt(pojo.getArtist_title(), holder.itemBinding.image);\r\n\r\n    }\r\n\r\n    public void loadArt(String path, ImageView img){\r\n\r\n        GlideApp.with(context)\r\n                .load(path)\r\n                .apply(new RequestOptions().override(54))\r\n                .placeholder(R.mipmap.music_note_placeholder)\r\n                .into(img);\r\n\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position){\r\n        return songPojoList.get(position).getId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return songPojoList.size();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CharSequence getPopupText(@NonNull View view, int position) {\r\n        SongPojo songPojo = songPojoList.get(position);\r\n\r\n        if(!TextUtils.isEmpty(songPojo.getSong_title())) {\r\n            return String.valueOf(songPojo.getSong_title().charAt(0));\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        \r\n        CustomRowItemBinding itemBinding;\r\n\r\n        public ViewHolder(@NonNull CustomRowItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.itemBinding = binding;\r\n\r\n            itemBinding.csLy.setOnClickListener(v-&gt;{\r\n                \r\n                // Ignore this below code :)\r\n/*\r\n\r\n                Toast.makeText(v.getContext(),&quot;You can do it!&quot;,\r\n                        Toast.LENGTH_SHORT)\r\n                        .show();\r\n\r\n                // Just for testing purpose.!\r\n                Intent perInt = new Intent(v.getContext(), AppBarExp.class);\r\n                v.getContext().startActivity(perInt);\r\n*/\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ncustom_row_item &gt; xml code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;60dp&quot;\r\n    android:id=&quot;@+id/cs_ly&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/image&quot;\r\n        android:layout_width=&quot;54dp&quot;\r\n        android:layout_height=&quot;54dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:layout_marginStart=&quot;10dp&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/text_song&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:paddingHorizontal=&quot;10dp&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n        android:textColor=&quot;?android:attr/textColorPrimary&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n       /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/text_artist&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:paddingHorizontal=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:textAppearance=&quot;@null&quot;\r\n        android:textColor=&quot;?android:attr/textColorSecondary&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/text_song&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n     /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/more_option&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/baseline_more_vert_24&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:padding=&quot;2dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n```\r\n\r\nTesting Activity for display-&gt;\r\n\r\n```\r\n     LinearLayoutManager layoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,\r\n                false);\r\n\r\n        layoutBinding.recyclerview.setLayoutManager(layoutManager);\r\n        layoutBinding.recyclerview.setHasFixedSize(true);\r\n\r\n        viewModel = new ViewModelProvider(this)\r\n                .get(MainAcitvityViewModel.class);\r\n\r\n      viewModel.getMediaLiveData(this).observe(this,\r\n                        new Observer&lt;List&lt;SongPojo&gt;&gt;() {\r\n                    @Override\r\n                    public void onChanged(List&lt;SongPojo&gt; songPojos) {\r\n                        songAdapter = new SongAdapter(getApplicationContext(), songPojos);\r\n                        layoutBinding.recyclerview.setAdapter(songAdapter);\r\n\r\n                        //Third party fastscrolling api.\r\n                        FastScrollerBuilder fastScrollerBuilder = new FastScrollerBuilder(layoutBinding.recyclerview);\r\n                        fastScrollerBuilder.useMd2Style();\r\n                        fastScrollerBuilder.setPopupStyle(PopupStyles.MD2);  // make your own style for this.\r\n                        fastScrollerBuilder.build();\r\n\r\n                    }\r\n                });\r\n\r\n\r\n```\r\njust want to know how can i make scrolls smooth without stuttering or lagg?\r\n\r\nActivity layout xml-&gt;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_container&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;6dp&quot;\r\n            app:contentScrim=&quot;@android:color/transparent&quot;\r\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;6dp&quot;\r\n                app:layout_collapseMode=&quot;none&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:text=&quot;Music Player&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/search_btn&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginEnd=&quot;15dp&quot;\r\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:src=&quot;@drawable/baseline_search_24&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toLeftOf=&quot;@id/app_settings_btn&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/app_settings_btn&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:src=&quot;@drawable/baseline_settings_24&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            &gt;\r\n\r\n            &lt;HorizontalScrollView\r\n                android:visibility=&quot;visible&quot;\r\n                android:id=&quot;@+id/chiptab_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                android:layout_marginEnd=&quot;0dp&quot;\r\n\r\n                android:scrollbars=&quot;none&quot;\r\n                &gt;\r\n\r\n\r\n                &lt;com.google.android.material.chip.ChipGroup\r\n                    android:id=&quot;@+id/chip_group&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;1dp&quot;\r\n                    android:layout_marginStart=&quot;5dp&quot;\r\n                    app:singleSelection=&quot;true&quot;\r\n                    style=&quot;@null&quot;\r\n                    android:scrollbars=&quot;horizontal&quot;\r\n                    &gt;\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/for_you_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;For you&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;/&gt;\r\n\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/song_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Songs&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/album_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Albums&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/artist_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Artists&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/playlist_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Playlist&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/genres_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Genres&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/folders_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Folder&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n            &lt;/HorizontalScrollView&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_divider&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/chiptab_container&quot;\r\n                android:background=&quot;@color/chip_bg_color&quot;\r\n                /&gt;\r\n\r\n\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:visibility=&quot;visible&quot;\r\n                android:id=&quot;@+id/recyclerview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                android:layout_marginBottom=&quot;100dp&quot;\r\n                /&gt;\r\n\r\n\r\n            &lt;include\r\n                android:visibility=&quot;gone&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                layout=&quot;@layout/home_for_you_fragment_activity_layout&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\r\n                /&gt;\r\n\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\n ","title":"Could anyone tell me why do recyclerview stuttering(janky/laggy) while scrolling fast.?","body":"<p>here, i am retrieving data from mediastore and populate it on recyclerview. The actual problem is when i scrolls recyclerview little fast it** stuttering , laggy** at the same time even though i don't use loadArt() method.\nis there any issue with the xml i've defined or something else i need to do to optimize recyclerview adapter for data?\nhere's code -&gt;\nAdapter code-&gt;</p>\n<pre><code>\npublic class SongAdapter extends RecyclerView.Adapter&lt;SongAdapter.ViewHolder&gt;\n        implements PopupTextProvider {\n\n    List&lt;SongPojo&gt; songPojoList;\n    Context context;\n\n\n    public SongAdapter(){}\n    public SongAdapter(Context con, List&lt;SongPojo&gt; list) {\n         \n            this.context = con;\n            this.songPojoList = list;\n            this.setHasStableIds(true);\n    }\n\n    @NonNull\n    @Override\n    public SongAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        CustomRowItemBinding customRowItemBinding =\n                CustomRowItemBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\n        return new ViewHolder(customRowItemBinding);\n    }\n\n    String TAG = SongAdapter.class.getSimpleName();\n\n    @Override\n    public void onBindViewHolder(@NonNull SongAdapter.ViewHolder holder, int position) {\n              SongPojo pojo = songPojoList.get(position);\n\n              holder.itemBinding.textSong.setText(pojo.getSong_title());\n              holder.itemBinding.textArtist.setText(&quot;&lt;unknown&gt;&quot;);\n\n             // loadArt(pojo.getArtist_title(), holder.itemBinding.image);\n\n    }\n\n    public void loadArt(String path, ImageView img){\n\n        GlideApp.with(context)\n                .load(path)\n                .apply(new RequestOptions().override(54))\n                .placeholder(R.mipmap.music_note_placeholder)\n                .into(img);\n\n    }\n\n    @Override\n    public long getItemId(int position){\n        return songPojoList.get(position).getId();\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return songPojoList.size();\n    }\n\n    @NonNull\n    @Override\n    public CharSequence getPopupText(@NonNull View view, int position) {\n        SongPojo songPojo = songPojoList.get(position);\n\n        if(!TextUtils.isEmpty(songPojo.getSong_title())) {\n            return String.valueOf(songPojo.getSong_title().charAt(0));\n        }\n        return &quot;&quot;;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        \n        CustomRowItemBinding itemBinding;\n\n        public ViewHolder(@NonNull CustomRowItemBinding binding) {\n            super(binding.getRoot());\n            this.itemBinding = binding;\n\n            itemBinding.csLy.setOnClickListener(v-&gt;{\n                \n                // Ignore this below code :)\n/*\n\n                Toast.makeText(v.getContext(),&quot;You can do it!&quot;,\n                        Toast.LENGTH_SHORT)\n                        .show();\n\n                // Just for testing purpose.!\n                Intent perInt = new Intent(v.getContext(), AppBarExp.class);\n                v.getContext().startActivity(perInt);\n*/\n\n            });\n\n        }\n    }\n}\n\n</code></pre>\n<p>custom_row_item &gt; xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:id=&quot;@+id/cs_ly&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;54dp&quot;\n        android:layout_height=&quot;54dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginStart=&quot;10dp&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/text_song&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingHorizontal=&quot;10dp&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\n        android:textColor=&quot;?android:attr/textColorPrimary&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n       /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/text_artist&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;14sp&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingHorizontal=&quot;10dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:textAppearance=&quot;@null&quot;\n        android:textColor=&quot;?android:attr/textColorSecondary&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/text_song&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n     /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/more_option&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/baseline_more_vert_24&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:padding=&quot;2dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n</code></pre>\n<p>Testing Activity for display-&gt;</p>\n<pre><code>     LinearLayoutManager layoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,\n                false);\n\n        layoutBinding.recyclerview.setLayoutManager(layoutManager);\n        layoutBinding.recyclerview.setHasFixedSize(true);\n\n        viewModel = new ViewModelProvider(this)\n                .get(MainAcitvityViewModel.class);\n\n      viewModel.getMediaLiveData(this).observe(this,\n                        new Observer&lt;List&lt;SongPojo&gt;&gt;() {\n                    @Override\n                    public void onChanged(List&lt;SongPojo&gt; songPojos) {\n                        songAdapter = new SongAdapter(getApplicationContext(), songPojos);\n                        layoutBinding.recyclerview.setAdapter(songAdapter);\n\n                        //Third party fastscrolling api.\n                        FastScrollerBuilder fastScrollerBuilder = new FastScrollerBuilder(layoutBinding.recyclerview);\n                        fastScrollerBuilder.useMd2Style();\n                        fastScrollerBuilder.setPopupStyle(PopupStyles.MD2);  // make your own style for this.\n                        fastScrollerBuilder.build();\n\n                    }\n                });\n\n\n</code></pre>\n<p>just want to know how can i make scrolls smooth without stuttering or lagg?</p>\n<p>Activity layout xml-&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appbar_container&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@android:color/transparent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:padding=&quot;6dp&quot;\n            app:contentScrim=&quot;@android:color/transparent&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;6dp&quot;\n                app:layout_collapseMode=&quot;none&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;10dp&quot;\n                    android:text=&quot;Music Player&quot;\n                    android:textSize=&quot;24sp&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/search_btn&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginEnd=&quot;15dp&quot;\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:src=&quot;@drawable/baseline_search_24&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintRight_toLeftOf=&quot;@id/app_settings_btn&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/app_settings_btn&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:src=&quot;@drawable/baseline_settings_24&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            &gt;\n\n            &lt;HorizontalScrollView\n                android:visibility=&quot;visible&quot;\n                android:id=&quot;@+id/chiptab_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                android:layout_marginEnd=&quot;0dp&quot;\n\n                android:scrollbars=&quot;none&quot;\n                &gt;\n\n\n                &lt;com.google.android.material.chip.ChipGroup\n                    android:id=&quot;@+id/chip_group&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;1dp&quot;\n                    android:layout_marginStart=&quot;5dp&quot;\n                    app:singleSelection=&quot;true&quot;\n                    style=&quot;@null&quot;\n                    android:scrollbars=&quot;horizontal&quot;\n                    &gt;\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/for_you_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;For you&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;/&gt;\n\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/song_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Songs&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/album_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Albums&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/artist_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Artists&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/playlist_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Playlist&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/genres_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Genres&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/folders_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Folder&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n            &lt;/HorizontalScrollView&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view_divider&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/chiptab_container&quot;\n                android:background=&quot;@color/chip_bg_color&quot;\n                /&gt;\n\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:visibility=&quot;visible&quot;\n                android:id=&quot;@+id/recyclerview&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                android:layout_marginBottom=&quot;100dp&quot;\n                /&gt;\n\n\n            &lt;include\n                android:visibility=&quot;gone&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                layout=&quot;@layout/home_for_you_fragment_activity_layout&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\n                /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":11624596,"reputation":1170,"user_id":8514772,"display_name":"Pradipta Sarma"},"score":0,"creation_date":1585032901,"post_id":60825661,"comment_id":107617414,"body_markdown":"Doesn&#39;t seem like Rabbit services are running. Check in task manager for the processes?","body":"Doesn&#39;t seem like Rabbit services are running. Check in task manager for the processes?"},{"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"score":0,"creation_date":1585040977,"post_id":60825661,"comment_id":107620347,"body_markdown":"i can see it computer management -&gt; service and applications @PradiptaSarma","body":"i can see it computer management -&gt; service and applications @PradiptaSarma"}],"answers":[{"tags":[],"owner":{"account_id":17706289,"reputation":1,"user_id":12854784,"display_name":"Sachin Chemate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585033631,"creation_date":1585033631,"answer_id":60826326,"question_id":60825661,"body_markdown":"The management UI can be accessed using a Web browser at http://{node-hostname}:15672/\r\n\r\nThe management plugin is included in the RabbitMQ distribution. Like any other plugin, it must be enabled before it can be used. \r\n\r\nplease refer below URL:\r\nhttps://www.rabbitmq.com/management.html\r\n","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>The management UI can be accessed using a Web browser at http://{node-hostname}:15672/</p>\n\n<p>The management plugin is included in the RabbitMQ distribution. Like any other plugin, it must be enabled before it can be used. </p>\n\n<p>please refer below URL:\n<a href=\"https://www.rabbitmq.com/management.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/management.html</a></p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1585674462,"creation_date":1585674462,"answer_id":60956071,"question_id":60825661,"body_markdown":" 1. Stop rabbitmq\r\n 2. Create the RABBITMQ_BASE environment variable set its value to full\r\n        path of rabbit mq server. (eg. C:\\Program Files\\RabbitMQ Server)\r\n 3. Restart the rabbit mq and make sure the rabbit mq plugin is enabled.\r\n\r\n","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<ol>\n<li>Stop rabbitmq</li>\n<li>Create the RABBITMQ_BASE environment variable set its value to full\n    path of rabbit mq server. (eg. C:\\Program Files\\RabbitMQ Server)</li>\n<li>Restart the rabbit mq and make sure the rabbit mq plugin is enabled.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29817146,"reputation":1,"user_id":22851205,"display_name":"Anas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699250090,"creation_date":1699000331,"answer_id":77415178,"question_id":60825661,"body_markdown":"In my case I did the following steps :\r\n\r\nOpen a command prompt and type\r\n```bash\r\nCD C:\\Program Files\\RabbitMQ Server\\rabbitmq_server-3.12.7\\sbin\r\n```\r\nThen\r\n```\r\nrabbitmq-plugins enable rabbitmq_management\r\n```\r\nNow you should access it using http://localhost:15672/.","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>In my case I did the following steps :</p>\n<p>Open a command prompt and type</p>\n<pre class=\"lang-bash prettyprint-override\"><code>CD C:\\Program Files\\RabbitMQ Server\\rabbitmq_server-3.12.7\\sbin\n</code></pre>\n<p>Then</p>\n<pre><code>rabbitmq-plugins enable rabbitmq_management\n</code></pre>\n<p>Now you should access it using http://localhost:15672/.</p>\n"}],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60956071,"answer_count":3,"score":1,"last_activity_date":1699250090,"creation_date":1585029520,"question_id":60825661,"body_markdown":"I have installed rabbit MQ 3.8.3 on windows 10 and I can see it is running as windows services.\r\nWhen I try to access http://localhost:15672/ it is unreachable.\r\n\r\nI have enabled the rabbit MQ management plugin in sbin directory\r\nrabbitmq-plugins enable rabbitmq_management\r\n\r\nBut still, http://localhost:15672/ is unreachable.\r\n\r\nGetting the following error in java service :\r\n\r\n    org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n\r\nI have also run the command to see if anything is running on port 5672:\r\n\r\nCommand :  `netstat -ano | find &quot;5672&quot;`\r\n\r\nResponse : `TCP    0.0.0.0:25672          0.0.0.0:0              LISTENING       2900`\r\n\r\nHow do I fix this?","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>I have installed rabbit MQ 3.8.3 on windows 10 and I can see it is running as windows services.\nWhen I try to access <a href=\"http://localhost:15672/\" rel=\"nofollow noreferrer\">http://localhost:15672/</a> it is unreachable.</p>\n\n<p>I have enabled the rabbit MQ management plugin in sbin directory\nrabbitmq-plugins enable rabbitmq_management</p>\n\n<p>But still, <a href=\"http://localhost:15672/\" rel=\"nofollow noreferrer\">http://localhost:15672/</a> is unreachable.</p>\n\n<p>Getting the following error in java service :</p>\n\n<pre><code>org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n</code></pre>\n\n<p>I have also run the command to see if anything is running on port 5672:</p>\n\n<p>Command :  <code>netstat -ano | find \"5672\"</code></p>\n\n<p>Response : <code>TCP    0.0.0.0:25672          0.0.0.0:0              LISTENING       2900</code></p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","jshell"],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699249679,"creation_date":1699249679,"question_id":77428984,"body_markdown":"How do you use `jdk.jshell.CompletenessAnalyzer` ? this class is not public !        \r\nI want to implement my own shell with jshell with my own custom commands like /bin/bash .         \r\nhow can implement auto completion ?       \r\njshell support double tab for auto completion , but i can not understand how can implement for my own commands .     \r\nthis is my example code :      \r\n```\r\nimport jdk.jshell.JShell;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    private static JShell jshell;\r\n\r\n    public static void main(String[] args) {\r\n        jshell = JShell.create();\r\n\r\n        System.out.println(&quot;Custom Shell&quot;);\r\n        System.out.println(&quot;Type &#39;/exit&#39; to exit the shell&quot;);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        String userInput;\r\n\r\n        do {\r\n            System.out.print(&quot;&gt; &quot;);\r\n            userInput = scanner.nextLine();\r\n\r\n            if (!userInput.equals(&quot;/exit&quot;)) {\r\n                executeCommand(userInput);\r\n            }\r\n        } while (!userInput.equals(&quot;/exit&quot;));\r\n\r\n        jshell.close();\r\n        scanner.close();\r\n    }\r\n\r\n    private static void executeCommand(String command) {\r\n        jshell.eval(command).forEach(System.out::println);\r\n    }\r\n}\r\n```     \r\n**Note** : i won&#39;t to use jline . ","title":"Java jdk.jshell.CompletenessAnalyzer","body":"<p>How do you use <code>jdk.jshell.CompletenessAnalyzer</code> ? this class is not public !<br />\nI want to implement my own shell with jshell with my own custom commands like /bin/bash .<br />\nhow can implement auto completion ?<br />\njshell support double tab for auto completion , but i can not understand how can implement for my own commands .<br />\nthis is my example code :</p>\n<pre><code>import jdk.jshell.JShell;\n\nimport java.util.Scanner;\n\npublic class App {\n    private static JShell jshell;\n\n    public static void main(String[] args) {\n        jshell = JShell.create();\n\n        System.out.println(&quot;Custom Shell&quot;);\n        System.out.println(&quot;Type '/exit' to exit the shell&quot;);\n\n        Scanner scanner = new Scanner(System.in);\n        String userInput;\n\n        do {\n            System.out.print(&quot;&gt; &quot;);\n            userInput = scanner.nextLine();\n\n            if (!userInput.equals(&quot;/exit&quot;)) {\n                executeCommand(userInput);\n            }\n        } while (!userInput.equals(&quot;/exit&quot;));\n\n        jshell.close();\n        scanner.close();\n    }\n\n    private static void executeCommand(String command) {\n        jshell.eval(command).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Note</strong> : i won't to use jline .</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671990727,"creation_date":1671990727,"answer_id":74914972,"question_id":74912836,"body_markdown":"I used Postman and it helped me to get the right URL for an authentification code.\r\nThe link is `http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;scope=writeIngredients deleteIngredients&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client`\r\n\r\nPostman request is shown on the picture below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DM0Ph.png","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>I used Postman and it helped me to get the right URL for an authentification code.\nThe link is <code>http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;scope=writeIngredients deleteIngredients&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client</code></p>\n<p>Postman request is shown on the picture below\n<a href=\"https://i.stack.imgur.com/DM0Ph.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DM0Ph.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268310,"post_id":77428844,"comment_id":136505820,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77428844/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21757681,"reputation":1,"user_id":16062767,"display_name":"Алексей Конопацкий"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699247097,"creation_date":1699247097,"answer_id":77428844,"question_id":74912836,"body_markdown":"Your link is incorrect, there is an extra dash before the &quot;scope&quot; parameter &quot;&amp;-scope&quot;.\r\nhttp://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;scope=writeIngredients+deleteIngredients","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>Your link is incorrect, there is an extra dash before the &quot;scope&quot; parameter &quot;&amp;-scope&quot;.\nhttp://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;scope=writeIngredients+deleteIngredients</p>\n"}],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74914972,"answer_count":2,"score":0,"last_activity_date":1699247097,"creation_date":1671965299,"question_id":74912836,"body_markdown":"I can&#39;t get a authorization code from http request from browser  using link `http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;-scope=writeIngredients+deleteIngredients`.\r\n\r\nI believe I have to see code parameter in browser’s address bar.\r\n\r\nOnce I sign in (user has ROLE_ADMIN) and then &quot;Submit Consent&quot; I receive link `http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client?error=access_denied&amp;error_description=OAuth 2.0 Parameter: client_id&amp;error_uri=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1` and refusal to connect. It is client id error, but it is the same as configured in the link.\r\n\r\nIs my linked is wrong or is there any mistake in my code?\r\n\r\nHere is my AuthorizationServerConfig class:\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfig {\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    UserDetailsService userDetailsService(UserRepository userRepo) {\r\n        return username -&gt; userRepo.findByUsername(username);\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());\t// Enable OpenID Connect 1.0\r\n        http\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(\r\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\r\n                )\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;sandwich-admin-client&quot;)\r\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .redirectUri(&quot;http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&quot;)\r\n                .scope(&quot;writeIngredients&quot;)\r\n                .scope(&quot;deleteIngredients&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        }\r\n        catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n    }\r\n\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n}\r\n```\r\n","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>I can't get a authorization code from http request from browser  using link <code>http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;-scope=writeIngredients+deleteIngredients</code>.</p>\n<p>I believe I have to see code parameter in browser’s address bar.</p>\n<p>Once I sign in (user has ROLE_ADMIN) and then &quot;Submit Consent&quot; I receive link <code>http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client?error=access_denied&amp;error_description=OAuth 2.0 Parameter: client_id&amp;error_uri=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1</code> and refusal to connect. It is client id error, but it is the same as configured in the link.</p>\n<p>Is my linked is wrong or is there any mistake in my code?</p>\n<p>Here is my AuthorizationServerConfig class:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfig {\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    UserDetailsService userDetailsService(UserRepository userRepo) {\n        return username -&gt; userRepo.findByUsername(username);\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());   // Enable OpenID Connect 1.0\n        http\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\n                )\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;sandwich-admin-client&quot;)\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .redirectUri(&quot;http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&quot;)\n                .scope(&quot;writeIngredients&quot;)\n                .scope(&quot;deleteIngredients&quot;)\n                .scope(OidcScopes.OPENID)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\n    }\n\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        }\n        catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n}\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1699245293,"post_id":77428741,"comment_id":136502726,"body_markdown":"One way to improve a large amount of BigDecimal arithmetic being used is to use less BigDecimal arithmetic. What is it being used for? Are there alternatives?","body":"One way to improve a large amount of BigDecimal arithmetic being used is to use less BigDecimal arithmetic. What is it being used for? Are there alternatives?"},{"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"score":0,"creation_date":1699245753,"post_id":77428741,"comment_id":136502754,"body_markdown":"@harold Most of them are used for switching amount between different currencies, calculating coupons or taxes. Yeah some of them could be replaced by double float point operations I think, although it’s quite subtle.","body":"@harold Most of them are used for switching amount between different currencies, calculating coupons or taxes. Yeah some of them could be replaced by double float point operations I think, although it’s quite subtle."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":5,"creation_date":1699245923,"post_id":77428741,"comment_id":136502769,"body_markdown":"Could it be done with fixed-point arithmetic (implicitly scaled by a fixed power of ten) with plain old `long`?","body":"Could it be done with fixed-point arithmetic (implicitly scaled by a fixed power of ten) with plain old <code>long</code>?"},{"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"score":0,"creation_date":1699246071,"post_id":77428741,"comment_id":136502782,"body_markdown":"It’s a good idea.  Let me check the codebase to see if it’s possible. Thank you very much @harold","body":"It’s a good idea.  Let me check the codebase to see if it’s possible. Thank you very much @harold"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1699247625,"post_id":77428741,"comment_id":136502902,"body_markdown":"Make sure that you have a good test suite which will pick up any problems you introduce.","body":"Make sure that you have a good test suite which will pick up any problems you introduce."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1699251890,"post_id":77428741,"comment_id":136503260,"body_markdown":"And do not even consider floating-point.","body":"And do not even consider floating-point."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699253797,"post_id":77428741,"comment_id":136503474,"body_markdown":"Floating-point is [*not* the solution](https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems) here.","body":"Floating-point is <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\"><i>not</i> the solution</a> here."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1699983788,"post_id":77428741,"comment_id":136598185,"body_markdown":"The fact that your JFR screenshot shows that you&#39;re calling `BigDecimal.valueOf(double)` means that your application may be experiencing loss of precision, as you&#39;re using double _somewhere_. It may be unavoidable (for example, if you&#39;re calculating options/futures/derivatives, it would be unavoidable). But if double can be avoided, avoid it.","body":"The fact that your JFR screenshot shows that you&#39;re calling <code>BigDecimal.valueOf(double)</code> means that your application may be experiencing loss of precision, as you&#39;re using double <i>somewhere</i>. It may be unavoidable (for example, if you&#39;re calculating options/futures/derivatives, it would be unavoidable). But if double can be avoided, avoid it."}],"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1699245111,"creation_date":1699245111,"question_id":77428741,"body_markdown":"In a web application I concerned, there is a blizzard of BigDecimal operations. Is there any way to optimize this in both memory footprint and cpu util?\r\n\r\nI want to write some specific implementations like `BigDecimal2` or `BigDecimal10` for making the fields like `scale` and `precision` static. Nevertheless, I am not sure how much this can improve, or how much does it impact on the codebase.\r\n\r\nThe following screenshot is taken from jfr:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KY5oF.png","title":"Optimize BigDecimal in java","body":"<p>In a web application I concerned, there is a blizzard of BigDecimal operations. Is there any way to optimize this in both memory footprint and cpu util?</p>\n<p>I want to write some specific implementations like <code>BigDecimal2</code> or <code>BigDecimal10</code> for making the fields like <code>scale</code> and <code>precision</code> static. Nevertheless, I am not sure how much this can improve, or how much does it impact on the codebase.</p>\n<p>The following screenshot is taken from jfr:</p>\n<p><a href=\"https://i.stack.imgur.com/KY5oF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KY5oF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist","minecraft"],"comments":[{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1518216764,"post_id":48715244,"comment_id":84429676,"body_markdown":"That is because that is how the result of `ArrayList.toString()` looks like. If you&#39;re only trying to keep a reference to only one `String`, do that using a `String` variable instead of an `ArrayList`","body":"That is because that is how the result of <code>ArrayList.toString()</code> looks like. If you&#39;re only trying to keep a reference to only one <code>String</code>, do that using a <code>String</code> variable instead of an <code>ArrayList</code>"},{"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"score":0,"creation_date":1518217023,"post_id":48715244,"comment_id":84429752,"body_markdown":"Could you me more specific?","body":"Could you me more specific?"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1518217132,"post_id":48715244,"comment_id":84429778,"body_markdown":"Instead of `public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();` use `public static String target;` and instead of `target.add(player.getPlayerListName());` use `target = player.getPlayerListName();`. This will make it work but is not an optimal solution in my opinion.","body":"Instead of <code>public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();</code> use <code>public static String target;</code> and instead of <code>target.add(player.getPlayerListName());</code> use <code>target = player.getPlayerListName();</code>. This will make it work but is not an optimal solution in my opinion."}],"answers":[{"comments":[{"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"score":0,"creation_date":1518217843,"post_id":48715355,"comment_id":84429981,"body_markdown":"what do you mean?","body":"what do you mean?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1518218026,"post_id":48715355,"comment_id":84430026,"body_markdown":"Extending a class *just* to get this functionality is incredibly hacky and difficult to maintain.  There are few developers who would immediately reach for inheritance as a way to solve a problem like this.  There are better ways to print collections.  Inheritance is not one of them.","body":"Extending a class <i>just</i> to get this functionality is incredibly hacky and difficult to maintain.  There are few developers who would immediately reach for inheritance as a way to solve a problem like this.  There are better ways to print collections.  Inheritance is not one of them."}],"tags":[],"owner":{"account_id":1231743,"reputation":3244,"user_id":1196170,"accept_rate":48,"display_name":"jprism"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1518217223,"creation_date":1518217223,"answer_id":48715355,"question_id":48715244,"body_markdown":"This is because of toString method of ArrayList class.\r\n\r\nExtends the ArryList class and override the toString\r\n\r\n    \r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;()\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Override public String toString()\r\n        {\r\n            return super.toString().substring(1,super.toString().length-1) ;\r\n        }\r\n    };\r\n\r\n","title":"How to extract a string from an ArrayList in Java?","body":"<p>This is because of toString method of ArrayList class.</p>\n\n<p>Extends the ArryList class and override the toString</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;()\n{\n    private static final long serialVersionUID = 1L;\n\n    @Override public String toString()\n    {\n        return super.toString().substring(1,super.toString().length-1) ;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518217984,"creation_date":1518217984,"answer_id":48715463,"question_id":48715244,"body_markdown":"Speaking absolutely nothing to the Minecraft angle, if you wanted to get the list of elements back and not have to print the collection, you could aggregate it with a `StringJoiner` instead.\r\n\r\n    String values = String.join(&quot;,&quot;, target);\r\n    System.out.println(values);","title":"How to extract a string from an ArrayList in Java?","body":"<p>Speaking absolutely nothing to the Minecraft angle, if you wanted to get the list of elements back and not have to print the collection, you could aggregate it with a <code>StringJoiner</code> instead.</p>\n\n<pre><code>String values = String.join(\",\", target);\nSystem.out.println(values);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"score":0,"creation_date":1518221214,"post_id":48715477,"comment_id":84430950,"body_markdown":"When I do this, It looks like it does not event set the varible","body":"When I do this, It looks like it does not event set the varible"}],"tags":[],"owner":{"account_id":9955769,"reputation":304,"user_id":7366749,"display_name":"George Andrews"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518218129,"creation_date":1518218129,"answer_id":48715477,"question_id":48715244,"body_markdown":"Just expanding on what Titus has said in their comment. \r\n\r\nInstead of using `ArrayList`, try using a `String` as the type for target. This will allow the output to be `player executed command: /kill HoloPanio`.\r\n\r\n    String target = Main.target;\r\n\r\n    @EventHandler\r\n    public void invClickEvent(InventoryClickEvent e) {\r\n\r\n       Inventory inv = e.getInventory();\r\n       Player player = (Player) e.getWhoClicked();\r\n\r\n       String name = inv.getName();\r\n       if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\r\n\r\n           e.setCancelled(true);\r\n           int slot = e.getSlot();\r\n           if (slot &lt; 0)\r\n           {\r\n               return;\r\n           }\r\n           if (slot == 0)\r\n           {\r\n               player.performCommand(&quot;kill &quot; + target);\r\n               player.closeInventory();\r\n               return;\r\n           }\r\n\r\nThe below would be updated to initial target as an empty `String`. Note that a static variable will be updated for every user of this class. This means that any other code accessing this class will have the same target. And, any other code accessing this class can change the target. \r\n\r\n    public static String target = &quot;&quot;;\r\n\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\n\r\n\r\n        if (sender instanceof Player &amp;&amp; args.length == 1)\r\n        {\r\n            Player p = (Player) sender;\r\n            if (args.length &gt; 0) {\r\n                switch (args.length)\r\n                {\r\n                case 1: \r\n                  Player player = Bukkit.getPlayer(args[0]);\r\n                  if (player == null) {\r\n                    sender.sendMessage(&quot;That player is not online&quot;);\r\n\r\n                  } else if (player.isOnline()) {\r\n\r\n                      Menus.openMenu(p);\r\n                      target = player.getPlayerListName();\r\n\r\n                  }\r\n\r\nAlso as Titus said, this is not the best solution because, as a static variable, the `target` will likely change when you don&#39;t want it to (or will end up being the same when you want it to change). But, this should solve the command issue. ","title":"How to extract a string from an ArrayList in Java?","body":"<p>Just expanding on what Titus has said in their comment. </p>\n\n<p>Instead of using <code>ArrayList</code>, try using a <code>String</code> as the type for target. This will allow the output to be <code>player executed command: /kill HoloPanio</code>.</p>\n\n<pre><code>String target = Main.target;\n\n@EventHandler\npublic void invClickEvent(InventoryClickEvent e) {\n\n   Inventory inv = e.getInventory();\n   Player player = (Player) e.getWhoClicked();\n\n   String name = inv.getName();\n   if ( name.equals(ChatColor.RED + \"Ban Menu\")) {\n\n       e.setCancelled(true);\n       int slot = e.getSlot();\n       if (slot &lt; 0)\n       {\n           return;\n       }\n       if (slot == 0)\n       {\n           player.performCommand(\"kill \" + target);\n           player.closeInventory();\n           return;\n       }\n</code></pre>\n\n<p>The below would be updated to initial target as an empty <code>String</code>. Note that a static variable will be updated for every user of this class. This means that any other code accessing this class will have the same target. And, any other code accessing this class can change the target. </p>\n\n<pre><code>public static String target = \"\";\n\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n\n\n    if (sender instanceof Player &amp;&amp; args.length == 1)\n    {\n        Player p = (Player) sender;\n        if (args.length &gt; 0) {\n            switch (args.length)\n            {\n            case 1: \n              Player player = Bukkit.getPlayer(args[0]);\n              if (player == null) {\n                sender.sendMessage(\"That player is not online\");\n\n              } else if (player.isOnline()) {\n\n                  Menus.openMenu(p);\n                  target = player.getPlayerListName();\n\n              }\n</code></pre>\n\n<p>Also as Titus said, this is not the best solution because, as a static variable, the <code>target</code> will likely change when you don't want it to (or will end up being the same when you want it to change). But, this should solve the command issue. </p>\n"},{"tags":[],"owner":{"account_id":11608543,"reputation":65,"user_id":8503392,"display_name":"javaxplain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518273047,"creation_date":1518273047,"answer_id":48721826,"question_id":48715244,"body_markdown":"This is default ArrayList toString.\r\n\r\nUse to String.join to remove the brackets\r\n\r\n    String result = String.join(&quot;&quot;, list);","title":"How to extract a string from an ArrayList in Java?","body":"<p>This is default ArrayList toString.</p>\n\n<p>Use to String.join to remove the brackets</p>\n\n<pre><code>String result = String.join(\"\", list);\n</code></pre>\n"}],"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48715477,"answer_count":4,"score":1,"last_activity_date":1699244727,"creation_date":1518216514,"question_id":48715244,"body_markdown":"So I am making a plugin for a Minecraft server and I had to get my command command argument from one class to another and After trying multiple things, I started using an ArrayList&lt;String&gt;, It worked for the most part but it put brackets around\r\nthe argument.\r\n\r\n```java\r\nArrayList&lt;String&gt; target = Main.target;\r\n      \r\n@EventHandler\r\npublic void invClickEvent(InventoryClickEvent e) {\r\n  \r\n  Inventory inv = e.getInventory();\r\n  Player player = (Player) e.getWhoClicked();\r\n  \r\n  String name = inv.getName();\r\n  if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\r\n  \r\n    e.setCancelled(true);\r\n    int slot = e.getSlot();\r\n    if (slot &lt; 0) return;\r\n    if (slot == 0) {\r\n      player.performCommand(&quot;kill &quot; + target);\r\n      player.closeInventory();\r\n      return;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat is the code that is giving me troubles.  It is pulling the data from my main class.  It the ArrayList is pulling text from an argument.\r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();\r\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\nif (sender instanceof Player &amp;&amp; args.length == 1) {\r\n  Player p = (Player) sender;\r\n  if (args.length &gt; 0) {\r\n    switch (args.length) {\r\n      case 1: \r\n        Player player = Bukkit.getPlayer(args[0]);\r\n        if (player == null) {\r\n          sender.sendMessage(&quot;That player is not online&quot;);\r\n          \r\n        } else if (player.isOnline()) {\r\n      \r\n          Menus.openMenu(p);\r\n          target.add(player.getPlayerListName());\r\n          \r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat is where the array is pulling the argument. The output would be something like `player executed command: /kill [HoloPanio]` and I want it to output `player executed command: /kill HoloPanio`\r\n\r\nIf there is another method to import the arguments please let me know, if not then please tell me how to fix this issue.\r\n\r\nThanks!\r\n\r\n# **Clarification**\r\nTo clarify on what I originally meant with this question was that I was trying to store a string inside of an ArrayList in Java, and when I went to retrieve the value I was expecting nothing but a plain string.\r\n\r\nI was in fact using the incorrect type for the variable that I was assigning the string to.  I should&#39;ve been using type `String` as pointed out by several people.  so the correct way of doing this would look like: \r\n\r\n```java\r\npublic String target;\r\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\n  if (sender instanceof Player &amp;&amp; args.length == 1) {\r\n      Player p = (Player) sender;\r\n      if (args.length &gt; 0) {\r\n          switch (args.length) {\r\n          case 1: \r\n            Player player = Bukkit.getPlayer(args[0]);\r\n            if (player == null) {\r\n              sender.sendMessage(&quot;That player is not online&quot;);\r\n              \r\n            } else if (player.isOnline()) {\r\n          \r\n              Menus.openMenu(p);\r\n              target = player.getPlayerListName();\r\n              \r\n            }\r\n          }\r\n      }\r\n  }\r\n}\r\n```\r\n\r\nIn the above code block I am declaring the `target` variable as a string then setting it further down with the line `target = player.getPlayerListName();`.  This is a much more efficient way defining the value. The only change that would need to be made to the first block is changing:\r\n```java\r\nArrayList&lt;String&gt; target = Main.target;\r\n```\r\nto \r\n```java\r\nString target = Main.target;\r\n```\r\n\r\n## **Final Note**\r\nThis post was originally written when I was still learning java and would like to add that I would not use an ArrayList for a string nor would I define it statically as I had done when this post was originally written.\r\n\r\n\r\n","title":"How to extract a string from an ArrayList in Java?","body":"<p>So I am making a plugin for a Minecraft server and I had to get my command command argument from one class to another and After trying multiple things, I started using an ArrayList, It worked for the most part but it put brackets around\nthe argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; target = Main.target;\n      \n@EventHandler\npublic void invClickEvent(InventoryClickEvent e) {\n  \n  Inventory inv = e.getInventory();\n  Player player = (Player) e.getWhoClicked();\n  \n  String name = inv.getName();\n  if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\n  \n    e.setCancelled(true);\n    int slot = e.getSlot();\n    if (slot &lt; 0) return;\n    if (slot == 0) {\n      player.performCommand(&quot;kill &quot; + target);\n      player.closeInventory();\n      return;\n    }\n  }\n}\n</code></pre>\n<p>That is the code that is giving me troubles.  It is pulling the data from my main class.  It the ArrayList is pulling text from an argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\nif (sender instanceof Player &amp;&amp; args.length == 1) {\n  Player p = (Player) sender;\n  if (args.length &gt; 0) {\n    switch (args.length) {\n      case 1: \n        Player player = Bukkit.getPlayer(args[0]);\n        if (player == null) {\n          sender.sendMessage(&quot;That player is not online&quot;);\n          \n        } else if (player.isOnline()) {\n      \n          Menus.openMenu(p);\n          target.add(player.getPlayerListName());\n          \n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>That is where the array is pulling the argument. The output would be something like <code>player executed command: /kill [HoloPanio]</code> and I want it to output <code>player executed command: /kill HoloPanio</code></p>\n<p>If there is another method to import the arguments please let me know, if not then please tell me how to fix this issue.</p>\n<p>Thanks!</p>\n<h1><strong>Clarification</strong></h1>\n<p>To clarify on what I originally meant with this question was that I was trying to store a string inside of an ArrayList in Java, and when I went to retrieve the value I was expecting nothing but a plain string.</p>\n<p>I was in fact using the incorrect type for the variable that I was assigning the string to.  I should've been using type <code>String</code> as pointed out by several people.  so the correct way of doing this would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String target;\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n  if (sender instanceof Player &amp;&amp; args.length == 1) {\n      Player p = (Player) sender;\n      if (args.length &gt; 0) {\n          switch (args.length) {\n          case 1: \n            Player player = Bukkit.getPlayer(args[0]);\n            if (player == null) {\n              sender.sendMessage(&quot;That player is not online&quot;);\n              \n            } else if (player.isOnline()) {\n          \n              Menus.openMenu(p);\n              target = player.getPlayerListName();\n              \n            }\n          }\n      }\n  }\n}\n</code></pre>\n<p>In the above code block I am declaring the <code>target</code> variable as a string then setting it further down with the line <code>target = player.getPlayerListName();</code>.  This is a much more efficient way defining the value. The only change that would need to be made to the first block is changing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; target = Main.target;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>String target = Main.target;\n</code></pre>\n<h2><strong>Final Note</strong></h2>\n<p>This post was originally written when I was still learning java and would like to add that I would not use an ArrayList for a string nor would I define it statically as I had done when this post was originally written.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624987051,"post_id":68182984,"comment_id":120505328,"body_markdown":"Returning a DAO (Data Access Object) is definitely *not* a good practice!! --- Returning a DTO (Data Transfer Object) would be.","body":"Returning a DAO (Data Access Object) is definitely <i>not</i> a good practice!! --- Returning a DTO (Data Transfer Object) would be."},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987167,"post_id":68182984,"comment_id":120505365,"body_markdown":"Oh, yes. My mistake. DTO instead of DAO. I will edit the question.","body":"Oh, yes. My mistake. DTO instead of DAO. I will edit the question."},{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1624987305,"post_id":68182984,"comment_id":120505415,"body_markdown":"Conciseness. In many cases your entity will contain properties that are unnecessary for a given operation. As a contrived example, shipping the full `User` entity to the client in order to print the user&#39;s name is probably overkill.","body":"Conciseness. In many cases your entity will contain properties that are unnecessary for a given operation. As a contrived example, shipping the full <code>User</code> entity to the client in order to print the user&#39;s name is probably overkill."},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987477,"post_id":68182984,"comment_id":120505475,"body_markdown":"I agree, but what if I need to return exactly the same structured object? So, I don&#39;t need to configure any of its properties.","body":"I agree, but what if I need to return exactly the same structured object? So, I don&#39;t need to configure any of its properties."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624987561,"post_id":68182984,"comment_id":120505509,"body_markdown":"&quot;Tomorrow&quot; you will decide that the data is not to be stored in a local database (local to the web server), but should be accessible as a micro-service, at which point the DAO class will be changed to make a web service call, instead of connecting to the database directly. The data received from the micro-service are not &quot;entities&quot;. If you leak implementation outside the DAO API, making changes like that in the future will require a lot of changes. Prepare for the future!","body":"&quot;Tomorrow&quot; you will decide that the data is not to be stored in a local database (local to the web server), but should be accessible as a micro-service, at which point the DAO class will be changed to make a web service call, instead of connecting to the database directly. The data received from the micro-service are not &quot;entities&quot;. If you leak implementation outside the DAO API, making changes like that in the future will require a lot of changes. Prepare for the future!"},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987826,"post_id":68182984,"comment_id":120505596,"body_markdown":"Now it is clear! Thank you!","body":"Now it is clear! Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624988194,"post_id":68183172,"comment_id":120505728,"body_markdown":"Well, now it&#39;s clear. Thank you! But could you please share with me other reasons for using DTOs instead of Entities?","body":"Well, now it&#39;s clear. Thank you! But could you please share with me other reasons for using DTOs instead of Entities?"},{"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"score":1,"creation_date":1624988309,"post_id":68183172,"comment_id":120505772,"body_markdown":"Of course, essentially, it should be coupled with CQRS Pattern: https://henriquesd.medium.com/the-command-and-query-responsibility-segregation-cqrs-pattern-16cb7704c809","body":"Of course, essentially, it should be coupled with CQRS Pattern: <a href=\"https://henriquesd.medium.com/the-command-and-query-responsibility-segregation-cqrs-pattern-16cb7704c809\" rel=\"nofollow noreferrer\">henriquesd.medium.com/&hellip;</a>"},{"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"score":0,"creation_date":1624988506,"post_id":68183172,"comment_id":120505834,"body_markdown":"Also for decoupling the external representation from your database/business logic: https://codeopinion.com/why-use-dtos-data-transfer-objects/","body":"Also for decoupling the external representation from your database/business logic: <a href=\"https://codeopinion.com/why-use-dtos-data-transfer-objects/\" rel=\"nofollow noreferrer\">codeopinion.com/why-use-dtos-data-transfer-objects</a>"},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":2,"creation_date":1624988609,"post_id":68183172,"comment_id":120505863,"body_markdown":"In addition, when you are performing read-only operations, operations where you are not going to modify entities, using DTO&#39;s is more performant. When using entities you have the session management overhead. DTO&#39;s, on the other hand, are simple POJO&#39;s and do not participate in the session.","body":"In addition, when you are performing read-only operations, operations where you are not going to modify entities, using DTO&#39;s is more performant. When using entities you have the session management overhead. DTO&#39;s, on the other hand, are simple POJO&#39;s and do not participate in the session."},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624988665,"post_id":68183172,"comment_id":120505889,"body_markdown":"Thank you so much! Great answer! It&#39;s clear!","body":"Thank you so much! Great answer! It&#39;s clear!"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1624989375,"post_id":68183172,"comment_id":120506137,"body_markdown":"Another reason is that JPA entities have some invisible &quot;magic&quot; tied to them - behind the scenes they can be attached to a JPA session, and when you for example try to read the value of a lazy collection outside the right context you&#39;ll get a lazy loading exception. Therefore it&#39;s best to not use them beyond the transaction border, which you usually define on the service layer.","body":"Another reason is that JPA entities have some invisible &quot;magic&quot; tied to them - behind the scenes they can be attached to a JPA session, and when you for example try to read the value of a lazy collection outside the right context you&#39;ll get a lazy loading exception. Therefore it&#39;s best to not use them beyond the transaction border, which you usually define on the service layer."}],"tags":[],"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1699244201,"creation_date":1624987551,"answer_id":68183172,"question_id":68182984,"body_markdown":"Probably you mean a DTO (Data Transfer Object), not DAO (Data Access Object). Let me clarify this:\r\n\r\nData Transfer Object:\r\n\r\nA Pojo that represents a piece of information. Usually it has aggregated data in it.\r\n\r\nData Access Object:\r\n\r\nAn object that performs access to some kind of persistence storage for retrieving information, someone considers it a synonym of Repository, someone not.\r\n\r\nEntity:\r\n\r\nAn object that represents data that has been retrieved from the database.\r\n\r\nWhy is returning an Entity from the Service considered a bad practice?\r\n\r\nThe reason is that the Entity is something that is very close to the database. It contains primary key, someone could guess your database structure from it and the set of the data in case of query can be verbose. Hence, it is preferable to have some kind of logic, usually a mapper, that hides primary key and aggregates data to be less verbose and to not expose the db structure. Also, while the Entity is built on the table structure, the DTO can be customized in base of caller needs. Usually it contains exactly the data that is needed for some action and nothing more than this. Suppose you have third party software that calls your backend services: you should not expose the db structure (Entities) to this service. It is better to define a contract, with the minimal information needed for this third party service to operate, and expose only this part of the information, hiding all the rest.\r\n\r\nHope that&#39;s a little bit more clear now.\r\n\r\nEdit:\r\nOf course there are other good reasons for using DTOs instead of Entities, this is only an introductory explanation to the subject.","title":"Returning Entity from Service method is a bad practice?","body":"<p>Probably you mean a DTO (Data Transfer Object), not DAO (Data Access Object). Let me clarify this:</p>\n<p>Data Transfer Object:</p>\n<p>A Pojo that represents a piece of information. Usually it has aggregated data in it.</p>\n<p>Data Access Object:</p>\n<p>An object that performs access to some kind of persistence storage for retrieving information, someone considers it a synonym of Repository, someone not.</p>\n<p>Entity:</p>\n<p>An object that represents data that has been retrieved from the database.</p>\n<p>Why is returning an Entity from the Service considered a bad practice?</p>\n<p>The reason is that the Entity is something that is very close to the database. It contains primary key, someone could guess your database structure from it and the set of the data in case of query can be verbose. Hence, it is preferable to have some kind of logic, usually a mapper, that hides primary key and aggregates data to be less verbose and to not expose the db structure. Also, while the Entity is built on the table structure, the DTO can be customized in base of caller needs. Usually it contains exactly the data that is needed for some action and nothing more than this. Suppose you have third party software that calls your backend services: you should not expose the db structure (Entities) to this service. It is better to define a contract, with the minimal information needed for this third party service to operate, and expose only this part of the information, hiding all the rest.</p>\n<p>Hope that's a little bit more clear now.</p>\n<p>Edit:\nOf course there are other good reasons for using DTOs instead of Entities, this is only an introductory explanation to the subject.</p>\n"}],"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68183172,"answer_count":1,"score":2,"last_activity_date":1699244201,"creation_date":1624986514,"question_id":68182984,"body_markdown":"I&#39;ve heard when you want to return some object from a service method, you have to define a DTO object (or POJO object generated with JSON Schema) instead of using an Entity.\r\n\r\nTo make it clear, here is the example:\r\n\r\nWe have an entity and a jpa repository for it:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;tables&quot;)\r\npublic class Table {\r\n    @Id\r\n    private Long id;\r\n    private String brand;\r\n}\r\n```\r\nThis is a **bad** practice:\r\n```\r\n@Service\r\npublic class MyService {\r\n    @Autowired\r\n    private TableRepository tableRepository;\r\n\r\n    @Transactional\r\n    public Table create() {\r\n        Table table = new Table();\r\n        // Some logic for creating and saving table\r\n        return table;\r\n    }\r\n}\r\n```\r\nThis is a **good** practice:\r\n```\r\n@Service\r\npublic class MyService {\r\n    @Autowired\r\n    private TableRepository tableRepository;\r\n\r\n    @Transactional\r\n    public TableDTO create() {\r\n        Table table = new Table();\r\n        // Some logic for creating and saving table\r\n        // Logic for converting Table object to TableDTO object\r\n        return tableDTO;\r\n    }\r\n}\r\n```\r\nWhy is this so?\r\n\r\nThank you!","title":"Returning Entity from Service method is a bad practice?","body":"<p>I've heard when you want to return some object from a service method, you have to define a DTO object (or POJO object generated with JSON Schema) instead of using an Entity.</p>\n<p>To make it clear, here is the example:</p>\n<p>We have an entity and a jpa repository for it:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;tables&quot;)\npublic class Table {\n    @Id\n    private Long id;\n    private String brand;\n}\n</code></pre>\n<p>This is a <strong>bad</strong> practice:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired\n    private TableRepository tableRepository;\n\n    @Transactional\n    public Table create() {\n        Table table = new Table();\n        // Some logic for creating and saving table\n        return table;\n    }\n}\n</code></pre>\n<p>This is a <strong>good</strong> practice:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired\n    private TableRepository tableRepository;\n\n    @Transactional\n    public TableDTO create() {\n        Table table = new Table();\n        // Some logic for creating and saving table\n        // Logic for converting Table object to TableDTO object\n        return tableDTO;\n    }\n}\n</code></pre>\n<p>Why is this so?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1591854342,"post_id":62317451,"comment_id":110214868,"body_markdown":"All right, I have found it in `org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer`","body":"All right, I have found it in <code>org.springframework.security.config.annotation.web.configure&zwnj;&#8203;rs.FormLoginConfigur&zwnj;&#8203;er</code>"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1591893640,"post_id":62317451,"comment_id":110235092,"body_markdown":"For folks that stumble on this same question, you might share what you did to debug/find it.","body":"For folks that stumble on this same question, you might share what you did to debug/find it."}],"answers":[{"tags":[],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699243114,"creation_date":1699243114,"answer_id":77428662,"question_id":62317451,"body_markdown":"`AbstractAuthenticationProcessingFilter` - a base Filter used for authentication. This also gives a good idea of the high level flow of authentication and how pieces work together. [Spring Security reference][1]\r\n\r\nSpring Security provides support for username and password being provided through an html form. This section provides details on how form based authentication works within Spring Security. [Form Login reference][2]\r\n\r\n`loginProcessingUrl` default is `/login`, and also can see `org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer#FormLoginConfigurer`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/passwords/form.html","title":"I have an endpoint of /oauth/login. I don&#39;t know which class it is in , how can I debug to find it?","body":"<p><code>AbstractAuthenticationProcessingFilter</code> - a base Filter used for authentication. This also gives a good idea of the high level flow of authentication and how pieces work together. <a href=\"https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">Spring Security reference</a></p>\n<p>Spring Security provides support for username and password being provided through an html form. This section provides details on how form based authentication works within Spring Security. <a href=\"https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">Form Login reference</a></p>\n<p><code>loginProcessingUrl</code> default is <code>/login</code>, and also can see <code>org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer#FormLoginConfigurer</code></p>\n"}],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699243114,"creation_date":1591852112,"question_id":62317451,"body_markdown":"I have an endpoint of `/oauth/login`, a public endpoint. And I don&#39;t know which class it is in. As I know, there is an `TokenEndpoint` with &#39;/oauth/token&#39;, but not with `/oauth/login`.\r\n\r\nI try to make a breakpoint in `org.springframework.web.servlet.FrameworkServlet#doPost` and `org.springframework.web.servlet.FrameworkServlet#doGet`, but it doesn&#39;t step into.\r\n\r\nSo how can I debug to find it out ? ","title":"I have an endpoint of /oauth/login. I don&#39;t know which class it is in , how can I debug to find it?","body":"<p>I have an endpoint of <code>/oauth/login</code>, a public endpoint. And I don't know which class it is in. As I know, there is an <code>TokenEndpoint</code> with '/oauth/token', but not with <code>/oauth/login</code>.</p>\n\n<p>I try to make a breakpoint in <code>org.springframework.web.servlet.FrameworkServlet#doPost</code> and <code>org.springframework.web.servlet.FrameworkServlet#doGet</code>, but it doesn't step into.</p>\n\n<p>So how can I debug to find it out ? </p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1380014166,"post_id":18977397,"comment_id":28030840,"body_markdown":"There&#39;s a &quot;debug as&quot; option right next to the &quot;run as&quot;. It&#39;s pretty obvious.","body":"There&#39;s a &quot;debug as&quot; option right next to the &quot;run as&quot;. It&#39;s pretty obvious."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1380014194,"post_id":18977397,"comment_id":28030850,"body_markdown":"Read this: http://www.vogella.com/articles/EclipseDebugging/article.html","body":"Read this: <a href=\"http://www.vogella.com/articles/EclipseDebugging/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/EclipseDebugging/article.html</a>"},{"owner":{"account_id":133893,"reputation":731,"user_id":335606,"accept_rate":88,"display_name":"Arjun Sol"},"score":0,"creation_date":1380014212,"post_id":18977397,"comment_id":28030864,"body_markdown":"How are you running your java application? Kayaman is right that there is a debugging option but the config will vary greatly.","body":"How are you running your java application? Kayaman is right that there is a debugging option but the config will vary greatly."}],"answers":[{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380014294,"creation_date":1380014204,"answer_id":18977437,"question_id":18977397,"body_markdown":"Create a break point in the first line of your main method then using F5 (step into) to walk through it.\r\n\r\nBTW, such questions are all over the web. To be a good programmer, use google wisely.","title":"debug java program step by step in Eclipse","body":"<p>Create a break point in the first line of your main method then using F5 (step into) to walk through it.</p>\n\n<p>BTW, such questions are all over the web. To be a good programmer, use google wisely.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1380014295,"creation_date":1380014295,"answer_id":18977466,"question_id":18977397,"body_markdown":"There are multiple steps required to debug a java program in eclipse such as:\r\n\r\n1. Setting breakpoints\r\n2. Starting the debugger\r\n3. controlling the program execution. **For line by line use F6 and F5 to step into a method**\r\n4. Evaluating variables etc\r\n\r\nPutting everthing here will make the answer too long. I advice you to follow this tutorial :\r\n\r\nhttp://www.vogella.com/articles/EclipseDebugging/article.html","title":"debug java program step by step in Eclipse","body":"<p>There are multiple steps required to debug a java program in eclipse such as:</p>\n\n<ol>\n<li>Setting breakpoints</li>\n<li>Starting the debugger</li>\n<li>controlling the program execution. <strong>For line by line use F6 and F5 to step into a method</strong></li>\n<li>Evaluating variables etc</li>\n</ol>\n\n<p>Putting everthing here will make the answer too long. I advice you to follow this tutorial :</p>\n\n<p><a href=\"http://www.vogella.com/articles/EclipseDebugging/article.html\" rel=\"noreferrer\">http://www.vogella.com/articles/EclipseDebugging/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":9984655,"reputation":588,"user_id":7386335,"display_name":"ArockiaRaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524814621,"creation_date":1524814621,"answer_id":50057578,"question_id":18977397,"body_markdown":"- Set the breakpoints in all the method which you want to debug\r\n- F3 can be used to navigate into the method\r\n- Then start the debugging\r\n- Press F5\r\n","title":"debug java program step by step in Eclipse","body":"<ul>\n<li>Set the breakpoints in all the method which you want to debug</li>\n<li>F3 can be used to navigate into the method</li>\n<li>Then start the debugging</li>\n<li>Press F5</li>\n</ul>\n"}],"owner":{"account_id":2300943,"reputation":1011,"user_id":2021253,"accept_rate":47,"display_name":"Chriss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44902,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":18977466,"answer_count":3,"score":12,"last_activity_date":1699242981,"creation_date":1380014105,"question_id":18977397,"body_markdown":"I would like to debug the whole flow of a java program line by line and I am using eclipse \r\nhow can I do that?","title":"debug java program step by step in Eclipse","body":"<p>I would like to debug the whole flow of a java program line by line and I am using eclipse \nhow can I do that?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":8416486,"reputation":165,"user_id":6316763,"accept_rate":100,"display_name":"newlearner"},"score":0,"creation_date":1699119301,"post_id":77422622,"comment_id":136492380,"body_markdown":"what you mean by acceptable solution ? if your code change solves your problem then it is acceptable solution.","body":"what you mean by acceptable solution ? if your code change solves your problem then it is acceptable solution."},{"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"score":0,"creation_date":1699119766,"post_id":77422622,"comment_id":136492426,"body_markdown":"@newlearner Whether it fits the coding conventions or is there a better way to handle this?","body":"@newlearner Whether it fits the coding conventions or is there a better way to handle this?"}],"tags":[],"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699111086,"creation_date":1699111086,"answer_id":77422622,"question_id":77422402,"body_markdown":"I tried changing the code a bit with Try catch block and it seems to be working fine now. \r\n\r\nCan anyone please let me know if this is an acceptable solution or do I need to do something else?\r\n\r\n    public static String waitForTitleAndCapture(String value, int timeOut) {\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tboolean flag = wait.until(ExpectedConditions.titleContains(value));\r\n\t\t\tif(flag) {\r\n\t\t\t\tString title = driver.getTitle();\r\n\t\t\t\treturn title;\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n","title":"Handling Url Title with Wait in selenium with java","body":"<p>I tried changing the code a bit with Try catch block and it seems to be working fine now.</p>\n<p>Can anyone please let me know if this is an acceptable solution or do I need to do something else?</p>\n<pre><code>public static String waitForTitleAndCapture(String value, int timeOut) {\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\n    \n    try {\n        boolean flag = wait.until(ExpectedConditions.titleContains(value));\n        if(flag) {\n            String title = driver.getTitle();\n            return title;\n        }\n    }catch(Exception e) {\n        System.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699242550,"creation_date":1699107693,"question_id":77422402,"body_markdown":"I&#39;m just trying to capture the title of the page using wait in selenium with java.\r\nThe code seems to be working correctly for positive test case but for negative, the code in the else{} part does not seem to work. Not sure why I get a TimeOutException before the else part is executed.\r\n\r\nEx. 1. Positive TC: When I enter the value for title as &quot;Log In&quot;, it works fine.\r\n\r\nEx. 2. Negative TC: When I enter the value for title as &quot;Log in&quot;, the else part is not executed.\r\n\r\n\r\n```\r\npublic class WaitForTitleURL {\r\n\tstatic WebDriver driver;\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://classic.crmpro.com/&quot;);\r\n\t\t\r\n        Thread.sleep(5000);\r\n\t\tBy forgotPwd = By.xpath(&quot;//a[text()=&#39;Forgot Password?&#39;]&quot;);\r\n\t\t\r\n\t\t\r\n\t\tdriver.findElement(forgotPwd).click();\r\n\t\t\r\n\t\tString title = waitForTitleAndCapture(&quot;Log in&quot;, 5);\r\n\t\tSystem.out.println(title);\r\n\t}\r\n\t\r\n\tpublic static String waitForTitleAndCapture(String value, int timeOut) {\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\r\n\t\tif(wait.until(ExpectedConditions.titleContains(value))) {\r\n\t\t\tString title = driver.getTitle();\r\n\t\t\treturn title;\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Handling Url Title with Wait in selenium with java","body":"<p>I'm just trying to capture the title of the page using wait in selenium with java.\nThe code seems to be working correctly for positive test case but for negative, the code in the else{} part does not seem to work. Not sure why I get a TimeOutException before the else part is executed.</p>\n<p>Ex. 1. Positive TC: When I enter the value for title as &quot;Log In&quot;, it works fine.</p>\n<p>Ex. 2. Negative TC: When I enter the value for title as &quot;Log in&quot;, the else part is not executed.</p>\n<pre><code>public class WaitForTitleURL {\n    static WebDriver driver;\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        driver = new ChromeDriver();\n        driver.get(&quot;https://classic.crmpro.com/&quot;);\n        \n        Thread.sleep(5000);\n        By forgotPwd = By.xpath(&quot;//a[text()='Forgot Password?']&quot;);\n        \n        \n        driver.findElement(forgotPwd).click();\n        \n        String title = waitForTitleAndCapture(&quot;Log in&quot;, 5);\n        System.out.println(title);\n    }\n    \n    public static String waitForTitleAndCapture(String value, int timeOut) {\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\n        if(wait.until(ExpectedConditions.titleContains(value))) {\n            String title = driver.getTitle();\n            return title;\n        }else {\n            System.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911410,"post_id":77407607,"comment_id":136464983,"body_markdown":"@ValerijDobler the current output is\n\n1 2 3 4 5\n1          5\n1         5\n1 2 3 4 5","body":"@ValerijDobler the current output is  1 2 3 4 5 1          5 1         5 1 2 3 4 5"},{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911566,"post_id":77407607,"comment_id":136465004,"body_markdown":"i added in my question.","body":"i added in my question."},{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911702,"post_id":77407607,"comment_id":136465026,"body_markdown":"noted. sorry for that @ValerijDobler","body":"noted. sorry for that @ValerijDobler"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1698914119,"post_id":77407607,"comment_id":136465423,"body_markdown":"What is the expected format for double digit?","body":"What is the expected format for double digit?"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698912684,"creation_date":1698911545,"answer_id":77407760,"question_id":77407607,"body_markdown":"I would build an algorithm to do three things:\r\n\r\n1. Iterate the numbers 1..n\r\n2. The gab is always floor(n-2) numbers, so you can pad this in this step. And add k = 2..n-1 and t = n-1..2 at the ends.\r\n3. Iterate the numbers n..1\r\n\r\nI&#39;d recommend you tackle this problem for yourself with the aforementioned outline. Here is a solution to check against:\r\n\r\nThis code works for single digit numbers:\r\n```java\r\npublic static String print(int n) {\r\n    final var sb = new StringBuilder();\r\n    // Step 1\r\n    for (int i = 1; i &lt;= n; ++i) {\r\n        sb.append(i);\r\n        if (i != n) {\r\n            sb.append(&quot; &quot;);\r\n        }\r\n    }\r\n    if (n &gt; 1) {\r\n        sb.append(&quot;\\n&quot;);\r\n        // Step 2\r\n        if (n &gt; 2) {\r\n            final var gap = &quot; &quot;.repeat((n - 1) * 2 - 1);\r\n            for (int k = 2; k &lt; n; ++k) {\r\n                final var t = n - k + 1;\r\n                sb.append(k).append(gap).append(t).append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n        // Step 3\r\n        for (int i = n; i &gt;= 1; --i) {\r\n            sb.append(i);\r\n            if (i != 1) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n\r\nNote: `String.repeat(n)` was added in Java 11.","title":"Hollow Square Number Pattern","body":"<p>I would build an algorithm to do three things:</p>\n<ol>\n<li>Iterate the numbers 1..n</li>\n<li>The gab is always floor(n-2) numbers, so you can pad this in this step. And add k = 2..n-1 and t = n-1..2 at the ends.</li>\n<li>Iterate the numbers n..1</li>\n</ol>\n<p>I'd recommend you tackle this problem for yourself with the aforementioned outline. Here is a solution to check against:</p>\n<p>This code works for single digit numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String print(int n) {\n    final var sb = new StringBuilder();\n    // Step 1\n    for (int i = 1; i &lt;= n; ++i) {\n        sb.append(i);\n        if (i != n) {\n            sb.append(&quot; &quot;);\n        }\n    }\n    if (n &gt; 1) {\n        sb.append(&quot;\\n&quot;);\n        // Step 2\n        if (n &gt; 2) {\n            final var gap = &quot; &quot;.repeat((n - 1) * 2 - 1);\n            for (int k = 2; k &lt; n; ++k) {\n                final var t = n - k + 1;\n                sb.append(k).append(gap).append(t).append(&quot;\\n&quot;);\n            }\n        }\n        // Step 3\n        for (int i = n; i &gt;= 1; --i) {\n            sb.append(i);\n            if (i != 1) {\n                sb.append(&quot; &quot;);\n            }\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>Note: <code>String.repeat(n)</code> was added in Java 11.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698914606,"creation_date":1698914606,"answer_id":77408069,"question_id":77407607,"body_markdown":"I would split this pattern into 3 parts. The first row, the middle rows, and the bottom row.\r\n\r\nThe first row is relatively easy. Just print the numbers from 1 to `num` inclusive.\r\n\r\n```\r\nfor (int i=1; i&lt;=num; i++){\r\n    System.out.print(i + &quot; &quot;);\r\n}\r\nSystem.out.println();\r\n```\r\n\r\nThe middle rows follow a pattern like this:\r\n\r\n```\r\n2        num - 1\r\n3        num - 2\r\n4        num - 3\r\n...\r\nnum - 3        4\r\nnum - 2        3\r\nnum - 1        2\r\n```\r\n\r\nIt goes from `2` to `num - 1`, and the numbers on the side always add up to `num + 1`.\r\n\r\nAs for how many spaces you should print in between, you can first calculate the width of the entire rectangle. First count how many numbers there needs to be, add one for each space that follows each number (there are `num - 1` spaces in total). Finally, add one for each two digit number, because they need an extra space.\r\n\r\n```\r\nint rectangleWidth;\r\nrectangleWidth = num * 2 - 1;\r\nif (num &gt;= 10) {\r\n    rectangleWidth += num - 9; // num - 9 is how many two digit numbers there are\r\n}\r\n```\r\n\r\nThe number of empty spaces to print is the rectangle&#39;s width minus the number of digits of the number on the left. You can further subtract the number of digits of the number on the right from this, so that the number on the right aligns.\r\n\r\n```\r\nfor (int i = 2 ; i &lt;= num - 1 ; i++) {\r\n    int left = i;\r\n    int right = num + 1 - i;\r\n    int emptyCount = rectangleWidth - (left &gt; 9 ? 2 : 1) - (right &gt; 9 ? 2 : 1);\r\n    System.out.print(left);\r\n    System.out.print(&quot; &quot;.repeat(emptyCount));\r\n    System.out.println(right);\r\n}\r\n```\r\n\r\nFinally, the last row is the numbers going in decreasing order. Note that the last row should only exist if `num &gt; 1`. The middle rows should only exist if `num &gt; 2`, but we already encoded that in the stopping condition of the loop `i &lt;= num - 1`.\r\n\r\n```\r\nif (num &gt; 1) {\r\n    for (int i = num; i &gt;= 1; i--) {\r\n        System.out.print(i + &quot; &quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"Hollow Square Number Pattern","body":"<p>I would split this pattern into 3 parts. The first row, the middle rows, and the bottom row.</p>\n<p>The first row is relatively easy. Just print the numbers from 1 to <code>num</code> inclusive.</p>\n<pre><code>for (int i=1; i&lt;=num; i++){\n    System.out.print(i + &quot; &quot;);\n}\nSystem.out.println();\n</code></pre>\n<p>The middle rows follow a pattern like this:</p>\n<pre><code>2        num - 1\n3        num - 2\n4        num - 3\n...\nnum - 3        4\nnum - 2        3\nnum - 1        2\n</code></pre>\n<p>It goes from <code>2</code> to <code>num - 1</code>, and the numbers on the side always add up to <code>num + 1</code>.</p>\n<p>As for how many spaces you should print in between, you can first calculate the width of the entire rectangle. First count how many numbers there needs to be, add one for each space that follows each number (there are <code>num - 1</code> spaces in total). Finally, add one for each two digit number, because they need an extra space.</p>\n<pre><code>int rectangleWidth;\nrectangleWidth = num * 2 - 1;\nif (num &gt;= 10) {\n    rectangleWidth += num - 9; // num - 9 is how many two digit numbers there are\n}\n</code></pre>\n<p>The number of empty spaces to print is the rectangle's width minus the number of digits of the number on the left. You can further subtract the number of digits of the number on the right from this, so that the number on the right aligns.</p>\n<pre><code>for (int i = 2 ; i &lt;= num - 1 ; i++) {\n    int left = i;\n    int right = num + 1 - i;\n    int emptyCount = rectangleWidth - (left &gt; 9 ? 2 : 1) - (right &gt; 9 ? 2 : 1);\n    System.out.print(left);\n    System.out.print(&quot; &quot;.repeat(emptyCount));\n    System.out.println(right);\n}\n</code></pre>\n<p>Finally, the last row is the numbers going in decreasing order. Note that the last row should only exist if <code>num &gt; 1</code>. The middle rows should only exist if <code>num &gt; 2</code>, but we already encoded that in the stopping condition of the loop <code>i &lt;= num - 1</code>.</p>\n<pre><code>if (num &gt; 1) {\n    for (int i = num; i &gt;= 1; i--) {\n        System.out.print(i + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699241178,"creation_date":1699241178,"answer_id":77428584,"question_id":77407607,"body_markdown":"Here is an example.\r\n\r\n```java\r\nString draw(int v) {\r\n    StringBuilder s = new StringBuilder();\r\n    for (int i = 1; i &lt;= v; i++) {\r\n        if (i != 1) s.append(&#39; &#39;);\r\n        s.append(i);\r\n    }\r\n    for (int i = 2; i &lt;= v - 1; i++) {\r\n        s.append(&#39;\\n&#39;);\r\n        s.append(i);\r\n        s.append(&quot; &quot;.repeat((v * 2) - 3));\r\n        s.append(v - i + 1);\r\n    }\r\n    s.append(&#39;\\n&#39;);\r\n    for (int i = v; i &gt;= 1; i--) {\r\n        if (i != v) s.append(&#39; &#39;);\r\n        s.append(i);\r\n    }\r\n    return s.toString();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1 2 3 4 5\r\n2       4\r\n3       3\r\n4       2\r\n5 4 3 2 1\r\n```\r\n\r\n```none\r\n1 2 3 4 5 6 7 8 9\r\n2               8\r\n3               7\r\n4               6\r\n5               5\r\n6               4\r\n7               3\r\n8               2\r\n9 8 7 6 5 4 3 2 1\r\n```","title":"Hollow Square Number Pattern","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String draw(int v) {\n    StringBuilder s = new StringBuilder();\n    for (int i = 1; i &lt;= v; i++) {\n        if (i != 1) s.append(' ');\n        s.append(i);\n    }\n    for (int i = 2; i &lt;= v - 1; i++) {\n        s.append('\\n');\n        s.append(i);\n        s.append(&quot; &quot;.repeat((v * 2) - 3));\n        s.append(v - i + 1);\n    }\n    s.append('\\n');\n    for (int i = v; i &gt;= 1; i--) {\n        if (i != v) s.append(' ');\n        s.append(i);\n    }\n    return s.toString();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 5\n2       4\n3       3\n4       2\n5 4 3 2 1\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 5 6 7 8 9\n2               8\n3               7\n4               6\n5               5\n6               4\n7               3\n8               2\n9 8 7 6 5 4 3 2 1\n</code></pre>\n"}],"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699241178,"creation_date":1698909751,"question_id":77407607,"body_markdown":"I am trying to create something like an asterisk rectangle shape. \r\n\r\nHereby is my code. \r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Exercise2 {\r\n    public static void main (String args[]) {\r\n        Scanner scanner = new Scanner (System.in);\r\n        boolean check = false;\r\n        \r\n        while (check != true){\r\n            System.out.println(&quot;Enter an integer between 1 and 20: &quot;);\r\n            int num = scanner.nextInt();\r\n            if (num &gt; 0 &amp;&amp; num &lt;= 20){\r\n                for (int i=1; i&lt;=num; i++){\r\n                    for (int j=1; j&lt;=num; j++){\r\n                        if (i == 1 || i == num || j == 1 || j == num) { \r\n                              System.out.print(j + &quot; &quot;);\r\n                        } else {\r\n                            System.out.print(&quot;  &quot;); // Two spaces for inner area\r\n                        }\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                check = false;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Number not between 1 and 20. Exiting.&quot;);\r\n                check = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am expecting to get this.\r\n\r\n`Enter an integer between 1 and 20: 5`\r\n\r\n`output:`\r\n\r\n```\r\n1 2 3 4 5\r\n2       4\r\n3       3\r\n4       2\r\n5 4 3 2 1\r\n```\r\n\r\nBut I don&#39;t know where I should amend to get to this. Please help. Thank you \r\n\r\nthis is what my code displays.\r\n\r\n```\r\n1 2 3 4 5\r\n1       5\r\n1       5\r\n1       5\r\n1 2 3 4 5\r\n```","title":"Hollow Square Number Pattern","body":"<p>I am trying to create something like an asterisk rectangle shape.</p>\n<p>Hereby is my code.</p>\n<pre><code>import java.util.*;\n\npublic class Exercise2 {\n    public static void main (String args[]) {\n        Scanner scanner = new Scanner (System.in);\n        boolean check = false;\n        \n        while (check != true){\n            System.out.println(&quot;Enter an integer between 1 and 20: &quot;);\n            int num = scanner.nextInt();\n            if (num &gt; 0 &amp;&amp; num &lt;= 20){\n                for (int i=1; i&lt;=num; i++){\n                    for (int j=1; j&lt;=num; j++){\n                        if (i == 1 || i == num || j == 1 || j == num) { \n                              System.out.print(j + &quot; &quot;);\n                        } else {\n                            System.out.print(&quot;  &quot;); // Two spaces for inner area\n                        }\n                    }\n                    System.out.println();\n                }\n                check = false;\n            }\n            else {\n                System.out.println(&quot;Number not between 1 and 20. Exiting.&quot;);\n                check = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am expecting to get this.</p>\n<p><code>Enter an integer between 1 and 20: 5</code></p>\n<p><code>output:</code></p>\n<pre><code>1 2 3 4 5\n2       4\n3       3\n4       2\n5 4 3 2 1\n</code></pre>\n<p>But I don't know where I should amend to get to this. Please help. Thank you</p>\n<p>this is what my code displays.</p>\n<pre><code>1 2 3 4 5\n1       5\n1       5\n1       5\n1 2 3 4 5\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-sentinel"],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699240572,"creation_date":1699069293,"question_id":77420672,"body_markdown":"I am facing an issue with the Subscription being lost after the Master node gets down and another slave node becomes a master that time it not getting Re-subscribed again.\r\n\r\n**I have a cluster with 3 Redis replicas and 3 Sentinel replicas**\r\n\r\nGetting the following error and after that in onMessage() no message gets received.\r\n\r\n    2023-11-03 04:31:48.784  INFO 1 --- [ter.local:5000]] r.c.j.p.SentineledConnectionProvider     : Created connection pool to master at imm-db-2.redis.imm-ns.svc.cluster.local:6379.\r\n    2023-11-03 04:31:58.855  INFO 1 --- [   scheduling-1] o.s.d.r.c.l.LettuceConnectionFactory     : Validation of shared connection failed. Creating a new connection.\r\n    2023-11-03 04:32:02.746  WARN 1 --- [ioEventLoop-4-1] i.l.c.m.MasterSlaveTopologyRefresh       : Unable to connect to imm-db-1.redis.imm-ns.svc.cluster.local:6379\r\n\r\nI also used handleSubscriptionException() to Re-subscribe it but no call received in handleSubscriptionException()\r\n\r\n**Following is my code.**\r\n\r\n    @Bean\r\n    \tpublic LettuceConnectionFactory lettuceConnectionFactory() {\r\n                           LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().build();\r\n    \r\n    \t\t\t    ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\r\n    \t\t\t\t\t.adaptiveRefreshTriggersTimeout(Duration.ofSeconds(60)).enableAllAdaptiveRefreshTriggers()\r\n    \t\t\t\t\t.enablePeriodicRefresh().dynamicRefreshSources(true).build();\r\n    \r\n    \t\t\t     ClusterClientOptions clusterClientOptions = ClusterClientOptions.builder()\r\n    \t\t\t\t\t.topologyRefreshOptions(topologyRefreshOptions).build();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tRedisSentinelConfiguration sentinelConfig = new \r\n                                     RedisSentinelConfiguration().master(&quot;mymaster&quot;)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-0.redis.imm-ns.svc.cluster.local&quot;, 5000)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-1.redis.imm-ns.svc.cluster.local&quot;, 5000)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-2.redis.imm-ns.svc.cluster.local&quot;, 5000);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration\r\n    \t\t\t\t\t.builder().readFrom(ReadFrom.MASTER).clientOptions(clusterClientOptions).build());\r\n    \r\n    }\r\n    \t          @Bean\r\n    \t          public MessageListener messageListener() {\r\n    \t\t          return new Http2IFR();\r\n    \t          }\r\n    \r\n    \t@Bean\r\n    \tpublic RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory connectionFactory,\r\n    \t\t\tMessageListener messageListener) {\r\n    \r\n    \t\tlog.info(&quot;********************RedisMessageListenerContainer**************************init done&quot;);\r\n    \t\tRedisMessageListenerContainer container = new RedisMessageListenerContainer() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void handleSubscriptionException(CompletableFuture&lt;Void&gt; future,\r\n    \t\t\t\t\tBackOffExecution backOffExecution, Throwable ex) {\r\n    \t\t\t\tsuper.handleSubscriptionException(future, backOffExecution, ex);\r\n    \r\n    \t\t\t\tif (ex instanceof RedisConnectionFailureException) {\r\n    \t\t\t\t\tlog.error(&quot;***************RedisConnectionFailureException :{}&quot;, ex.getMessage());\r\n    \r\n    \t\t\t\t} else if (ex instanceof InterruptedException) {\r\n    \t\t\t\t\t// can ignore those I guess\r\n    \t\t\t\t\tlog.error(&quot;***************InterruptedException :{}&quot;, ex.getMessage());\r\n    \t\t\t\t} else if (ex instanceof TransientDataAccessException || ex instanceof RecoverableDataAccessException) {\r\n    \t\t\t\t\t// try to restart in those cases?\r\n    \t\t\t\t\tlog.error(&quot;***************RecoverableDataAccessException :{} isRunning:{}&quot;, ex.getMessage(),\r\n    \t\t\t\t\t\t\tisRunning());\r\n    \t\t\t\t\tlog.error(\r\n    \t\t\t\t\t\t\t&quot;***************Connection failure occurred. Restarting subscription task manually due to &quot;\r\n    \t\t\t\t\t\t\t\t\t+ ex,\r\n    \t\t\t\t\t\t\tex);\r\n    \t\t\t\t\tif (isRunning()) {\r\n    \t\t\t\t\t\tlog.error(\r\n    \t\t\t\t\t\t\t\t&quot;***************INSIDE Connection failure occurred. Restarting subscription task manually due to &quot;\r\n    \t\t\t\t\t\t\t\t\t\t+ ex,\r\n    \t\t\t\t\t\t\t\tex);\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tThread.sleep(5000);\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\tlog.error(&quot;thred inturrepted....:{}&quot;, e.getMessage());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tstart(); // best we can do\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// otherwise shutdown and hope for the best next time\r\n    \t\t\t\t\tlog.error(&quot;*****************Shutting down application due to unknown exception is running:{}&quot;, ex);\r\n    \t\t\t\t\tif (isRunning()) {\r\n    \t\t\t\t\t\tlog.warn(&quot;*****************Shutting down application due to unknown exception &quot; + ex, ex);\r\n    //\t\t                    context.close();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tcontainer.setConnectionFactory(connectionFactory);\r\n    \t\tcontainer.setErrorHandler(new ErrorHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleError(Throwable t) {\r\n    \t\t\t\tlog.info(&quot;********Inside exception handler:{}&quot;, t.getMessage());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcontainer.addMessageListener(messageListener, new ChannelTopic(&quot;TOPIC_HTTP_TRIGGER&quot;));\r\n    \t\treturn container;\r\n    \t}\r\n\r\nIs there any configuration setting that I am missing here?\r\n\r\nHow to re-subscribe it?","title":"Spring Boot Redis Subscription lost after one master Redis down and another slave became master.(spring-boot-starter-data-redis v2.7.8)","body":"<p>I am facing an issue with the Subscription being lost after the Master node gets down and another slave node becomes a master that time it not getting Re-subscribed again.</p>\n<p><strong>I have a cluster with 3 Redis replicas and 3 Sentinel replicas</strong></p>\n<p>Getting the following error and after that in onMessage() no message gets received.</p>\n<pre><code>2023-11-03 04:31:48.784  INFO 1 --- [ter.local:5000]] r.c.j.p.SentineledConnectionProvider     : Created connection pool to master at imm-db-2.redis.imm-ns.svc.cluster.local:6379.\n2023-11-03 04:31:58.855  INFO 1 --- [   scheduling-1] o.s.d.r.c.l.LettuceConnectionFactory     : Validation of shared connection failed. Creating a new connection.\n2023-11-03 04:32:02.746  WARN 1 --- [ioEventLoop-4-1] i.l.c.m.MasterSlaveTopologyRefresh       : Unable to connect to imm-db-1.redis.imm-ns.svc.cluster.local:6379\n</code></pre>\n<p>I also used handleSubscriptionException() to Re-subscribe it but no call received in handleSubscriptionException()</p>\n<p><strong>Following is my code.</strong></p>\n<pre><code>@Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n                       LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().build();\n\n                ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\n                    .adaptiveRefreshTriggersTimeout(Duration.ofSeconds(60)).enableAllAdaptiveRefreshTriggers()\n                    .enablePeriodicRefresh().dynamicRefreshSources(true).build();\n\n                 ClusterClientOptions clusterClientOptions = ClusterClientOptions.builder()\n                    .topologyRefreshOptions(topologyRefreshOptions).build();\n                    \n                                RedisSentinelConfiguration sentinelConfig = new \n                                 RedisSentinelConfiguration().master(&quot;mymaster&quot;)\n                    .sentinel(&quot;imm-db-0.redis.imm-ns.svc.cluster.local&quot;, 5000)\n                    .sentinel(&quot;imm-db-1.redis.imm-ns.svc.cluster.local&quot;, 5000)\n                    .sentinel(&quot;imm-db-2.redis.imm-ns.svc.cluster.local&quot;, 5000);\n                    \n                    return new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration\n                    .builder().readFrom(ReadFrom.MASTER).clientOptions(clusterClientOptions).build());\n\n}\n              @Bean\n              public MessageListener messageListener() {\n                  return new Http2IFR();\n              }\n\n    @Bean\n    public RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory connectionFactory,\n            MessageListener messageListener) {\n\n        log.info(&quot;********************RedisMessageListenerContainer**************************init done&quot;);\n        RedisMessageListenerContainer container = new RedisMessageListenerContainer() {\n            @Override\n            protected void handleSubscriptionException(CompletableFuture&lt;Void&gt; future,\n                    BackOffExecution backOffExecution, Throwable ex) {\n                super.handleSubscriptionException(future, backOffExecution, ex);\n\n                if (ex instanceof RedisConnectionFailureException) {\n                    log.error(&quot;***************RedisConnectionFailureException :{}&quot;, ex.getMessage());\n\n                } else if (ex instanceof InterruptedException) {\n                    // can ignore those I guess\n                    log.error(&quot;***************InterruptedException :{}&quot;, ex.getMessage());\n                } else if (ex instanceof TransientDataAccessException || ex instanceof RecoverableDataAccessException) {\n                    // try to restart in those cases?\n                    log.error(&quot;***************RecoverableDataAccessException :{} isRunning:{}&quot;, ex.getMessage(),\n                            isRunning());\n                    log.error(\n                            &quot;***************Connection failure occurred. Restarting subscription task manually due to &quot;\n                                    + ex,\n                            ex);\n                    if (isRunning()) {\n                        log.error(\n                                &quot;***************INSIDE Connection failure occurred. Restarting subscription task manually due to &quot;\n                                        + ex,\n                                ex);\n                        try {\n                            Thread.sleep(5000);\n                        } catch (InterruptedException e) {\n                            log.error(&quot;thred inturrepted....:{}&quot;, e.getMessage());\n                        }\n                        start(); // best we can do\n                    }\n                } else {\n                    // otherwise shutdown and hope for the best next time\n                    log.error(&quot;*****************Shutting down application due to unknown exception is running:{}&quot;, ex);\n                    if (isRunning()) {\n                        log.warn(&quot;*****************Shutting down application due to unknown exception &quot; + ex, ex);\n//                          context.close();\n                    }\n                }\n            }\n        };\n\n        container.setConnectionFactory(connectionFactory);\n        container.setErrorHandler(new ErrorHandler() {\n            @Override\n            public void handleError(Throwable t) {\n                log.info(&quot;********Inside exception handler:{}&quot;, t.getMessage());\n            }\n        });\n        container.addMessageListener(messageListener, new ChannelTopic(&quot;TOPIC_HTTP_TRIGGER&quot;));\n        return container;\n    }\n</code></pre>\n<p>Is there any configuration setting that I am missing here?</p>\n<p>How to re-subscribe it?</p>\n"},{"tags":["java","class","methods","constructor","instance-variables"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698911598,"post_id":77407750,"comment_id":136465011,"body_markdown":"Your code should throw `StackOverflowError`. Why are calling `new Rectangle` inside the same constructor? `height` and `width` should not be static. Also, in your second constructor, it should be `this.width = width` and `this.height = height`.","body":"Your code should throw <code>StackOverflowError</code>. Why are calling <code>new Rectangle</code> inside the same constructor? <code>height</code> and <code>width</code> should not be static. Also, in your second constructor, it should be <code>this.width = width</code> and <code>this.height = height</code>."},{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698911877,"post_id":77407750,"comment_id":136465050,"body_markdown":"Like I said, I&#39;m new to java, so I&#39;m not entirely sure what I&#39;m doing. I&#39;m trying to follow the notes my professor gave us, but they weren&#39;t too helpful. I thought calling new Rectangle would be the thing to use according to the notes given.","body":"Like I said, I&#39;m new to java, so I&#39;m not entirely sure what I&#39;m doing. I&#39;m trying to follow the notes my professor gave us, but they weren&#39;t too helpful. I thought calling new Rectangle would be the thing to use according to the notes given."},{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":1,"creation_date":1698912269,"post_id":77407750,"comment_id":136465111,"body_markdown":"computeArea has &quot;height&quot; but the class has &quot;heigth&quot;. That&#39;s why it won&#39;t compile.","body":"computeArea has &quot;height&quot; but the class has &quot;heigth&quot;. That&#39;s why it won&#39;t compile."},{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698912936,"post_id":77407750,"comment_id":136465214,"body_markdown":"@codebrane Can you explain more about what you mean about it not compiling?","body":"@codebrane Can you explain more about what you mean about it not compiling?"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698914648,"post_id":77407750,"comment_id":136465516,"body_markdown":"If your professor&#39;s notes aren&#39;t helping you, you&#39;re probably best off searching for a textbook (either physical or digital) or an online tutorial. Oracle has some free ones, though I can&#39;t comment on their quality: https://docs.oracle.com/javase/tutorial/","body":"If your professor&#39;s notes aren&#39;t helping you, you&#39;re probably best off searching for a textbook (either physical or digital) or an online tutorial. Oracle has some free ones, though I can&#39;t comment on their quality: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698920715,"post_id":77407750,"comment_id":136466629,"body_markdown":"“I&#39;m not entirely sure what I&#39;m doing” is not an excuse. If you don’t know what `static` means, don’t add it to the code. And even without knowing anything about Java, just read your line from the constructor aloud: “width = new Rectangle” and you should realize how odd that is.","body":"“I&#39;m not entirely sure what I&#39;m doing” is not an excuse. If you don’t know what <code>static</code> means, don’t add it to the code. And even without knowing anything about Java, just read your line from the constructor aloud: “width = new Rectangle” and you should realize how odd that is."}],"answers":[{"comments":[{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698912898,"post_id":77407797,"comment_id":136465205,"body_markdown":"I tried the code that you put, but I&#39;m still getting the error &quot;cannot find symbol: height&quot; like I was before.","body":"I tried the code that you put, but I&#39;m still getting the error &quot;cannot find symbol: height&quot; like I was before."},{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":0,"creation_date":1698913417,"post_id":77407797,"comment_id":136465293,"body_markdown":"I&#39;ve added the test code. I&#39;ve verified it works. You need to put the Rectangle code in a Rectangle.java file and the test code in a Test.java file.","body":"I&#39;ve added the test code. I&#39;ve verified it works. You need to put the Rectangle code in a Rectangle.java file and the test code in a Test.java file."},{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1699510658,"post_id":77407797,"comment_id":136541650,"body_markdown":"I have realized that when I used your code, I made a spelling error, but this did work once I fixed it.","body":"I have realized that when I used your code, I made a spelling error, but this did work once I fixed it."}],"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698913403,"creation_date":1698911974,"answer_id":77407797,"question_id":77407750,"body_markdown":"Don&#39;t make the private variables static or they will be shared by all instances of Rectangle.\r\n\r\n    class Rectangle{\r\n         \r\n         private double width;\r\n         private double height;\r\n         \r\n         public Rectangle(double sideLength) {\r\n             \r\n             this.width = sideLength;\r\n             this.height = sideLength;\r\n         }\r\n             \r\n         public Rectangle(double width, double height){\r\n             this.width = width;\r\n             this.height = height;\r\n         }    \r\n    \r\n         public double computeArea() {\r\n             return height * width;\r\n         }\r\n             \r\n         public double computePerimeter() {\r\n             return 2 * (height + width);\r\n         }\r\n             \r\n         public double getHeight() {\r\n             return height;\r\n         }\r\n         \r\n         public double getWidth() {\r\n             return width;\r\n         }\r\n     }\r\n\r\nTo use it in other code:\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        Rectangle square = new Rectangle(1.0);\r\n        double area = square.computeArea();\r\n        System.out.println(area);\r\n        Rectangle rectangle = new Rectangle(1.0, 2.0);\r\n        area = rectangle.computeArea();\r\n        System.out.println(area);\r\n      }\r\n    }","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<p>Don't make the private variables static or they will be shared by all instances of Rectangle.</p>\n<pre><code>class Rectangle{\n     \n     private double width;\n     private double height;\n     \n     public Rectangle(double sideLength) {\n         \n         this.width = sideLength;\n         this.height = sideLength;\n     }\n         \n     public Rectangle(double width, double height){\n         this.width = width;\n         this.height = height;\n     }    \n\n     public double computeArea() {\n         return height * width;\n     }\n         \n     public double computePerimeter() {\n         return 2 * (height + width);\n     }\n         \n     public double getHeight() {\n         return height;\n     }\n     \n     public double getWidth() {\n         return width;\n     }\n }\n</code></pre>\n<p>To use it in other code:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Rectangle square = new Rectangle(1.0);\n    double area = square.computeArea();\n    System.out.println(area);\n    Rectangle rectangle = new Rectangle(1.0, 2.0);\n    area = rectangle.computeArea();\n    System.out.println(area);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699240128,"creation_date":1699240128,"answer_id":77428542,"question_id":77407750,"body_markdown":"&gt; _&quot;... I keep getting an error that says height cannot be found from the computeArea method and down. ...&quot;_\r\n\r\nThis is because _height_ is declared as _[static](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_, thus cannot be accessed from the _non-static_, _instance_ method.\r\n\r\n```java\r\nclass Rectangle {\r\n    double width, height;\r\n\r\n    Rectangle(double sideLength) {\r\n        width = height = sideLength;\r\n    }\r\n\r\n    Rectangle(double width, double height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public double computeArea() {\r\n        return width * height;\r\n    }\r\n\r\n    public double computePerimeter() {\r\n        return 2 * (width + height);\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public double getWidth() {\r\n        return width;\r\n    }\r\n}\r\n```\r\n\r\nAlternately, use a _[record](https://docs.oracle.com/en/java/javase/21/language/records.html)_.\r\n\r\n```java\r\nrecord Rectangle(double width, double height) {\r\n    Rectangle(double sideLength) {\r\n        this(sideLength, sideLength);\r\n    }\r\n    \r\n    public double computeArea() {\r\n        return width * height;\r\n    }\r\n    \r\n    public double computePerimeter() {\r\n        return 2 * (width + height);\r\n    }\r\n}\r\n```","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<blockquote>\n<p><em>&quot;... I keep getting an error that says height cannot be found from the computeArea method and down. ...&quot;</em></p>\n</blockquote>\n<p>This is because <em>height</em> is declared as <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a></em>, thus cannot be accessed from the <em>non-static</em>, <em>instance</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Rectangle {\n    double width, height;\n\n    Rectangle(double sideLength) {\n        width = height = sideLength;\n    }\n\n    Rectangle(double width, double height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public double computeArea() {\n        return width * height;\n    }\n\n    public double computePerimeter() {\n        return 2 * (width + height);\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public double getWidth() {\n        return width;\n    }\n}\n</code></pre>\n<p>Alternately, use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/language/records.html\" rel=\"nofollow noreferrer\">record</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Rectangle(double width, double height) {\n    Rectangle(double sideLength) {\n        this(sideLength, sideLength);\n    }\n    \n    public double computeArea() {\n        return width * height;\n    }\n    \n    public double computePerimeter() {\n        return 2 * (width + height);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77407797,"answer_count":2,"score":0,"last_activity_date":1699240128,"creation_date":1698911367,"question_id":77407750,"body_markdown":"I&#39;m new to using java and I need to make a class called Rectangle, but the code I&#39;m using doesn&#39;t seem to work, and the notes for class aren&#39;t helpful. I feel like it has something to do with my methods because I don&#39;t understand those too well.\r\n\r\nThe class needs to follow these requirements:\r\nCreate a class called rectangle with the following instance variables and public constructors:\r\n\r\n- width, double\r\n- height, double\r\n\r\n- a constructor with one parameter (double) called sideLength, which sets both the width and height to sideLength.\r\n\r\n- a constructor with two parameters width and height (double), which sets both the width and height to the corresponding values that are passed on.\r\n\r\n- a public method computeArea with no parameters that returns the area of Rectangle as a double\r\n\r\n- a public method computePerimeter with no parameters that returns the perimeter of Rectangle as a double\r\n\r\n- a public method getHeight with no parameters that returns the height of Rectangle as a double\r\n\r\n- a public method getWidth with no parameters that returns the width of Rectangle as a double\r\n\r\nI don&#39;t need to make a main method because that was already provided.\r\n\r\n\r\nThis is the code that I&#39;m using, but I keep getting an error that says height cannot be found from the computeArea method and down.\r\n\r\n     class Rectangle{\r\n         \r\n         private static double width;\r\n         private static double heigth;\r\n         \r\n         public Rectangle(double sideLength) {\r\n             \r\n             Rectangle width = new Rectangle(sideLength);\r\n             Rectangle height = new Rectangle(sideLength);\r\n         }\r\n             \r\n         public Rectangle(double width, double height){\r\n             width = width;\r\n             height = height;\r\n         }    \r\n    \r\n         public double computeArea() {\r\n             return height * width;\r\n         }\r\n             \r\n         public double computePerimeter() {\r\n             return 2 * (height + width);\r\n         }\r\n             \r\n         public double getHeight() {\r\n             return height;\r\n         }\r\n         \r\n         public double getWidth() {\r\n             return width;\r\n         }\r\n         \r\n     }\r\n","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<p>I'm new to using java and I need to make a class called Rectangle, but the code I'm using doesn't seem to work, and the notes for class aren't helpful. I feel like it has something to do with my methods because I don't understand those too well.</p>\n<p>The class needs to follow these requirements:\nCreate a class called rectangle with the following instance variables and public constructors:</p>\n<ul>\n<li><p>width, double</p>\n</li>\n<li><p>height, double</p>\n</li>\n<li><p>a constructor with one parameter (double) called sideLength, which sets both the width and height to sideLength.</p>\n</li>\n<li><p>a constructor with two parameters width and height (double), which sets both the width and height to the corresponding values that are passed on.</p>\n</li>\n<li><p>a public method computeArea with no parameters that returns the area of Rectangle as a double</p>\n</li>\n<li><p>a public method computePerimeter with no parameters that returns the perimeter of Rectangle as a double</p>\n</li>\n<li><p>a public method getHeight with no parameters that returns the height of Rectangle as a double</p>\n</li>\n<li><p>a public method getWidth with no parameters that returns the width of Rectangle as a double</p>\n</li>\n</ul>\n<p>I don't need to make a main method because that was already provided.</p>\n<p>This is the code that I'm using, but I keep getting an error that says height cannot be found from the computeArea method and down.</p>\n<pre><code> class Rectangle{\n     \n     private static double width;\n     private static double heigth;\n     \n     public Rectangle(double sideLength) {\n         \n         Rectangle width = new Rectangle(sideLength);\n         Rectangle height = new Rectangle(sideLength);\n     }\n         \n     public Rectangle(double width, double height){\n         width = width;\n         height = height;\n     }    \n\n     public double computeArea() {\n         return height * width;\n     }\n         \n     public double computePerimeter() {\n         return 2 * (height + width);\n     }\n         \n     public double getHeight() {\n         return height;\n     }\n     \n     public double getWidth() {\n         return width;\n     }\n     \n }\n</code></pre>\n"},{"tags":["java","transactions"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698897170,"creation_date":1698897170,"answer_id":77406832,"question_id":77406283,"body_markdown":"&gt; The transaction will be rollback if an exception is thrown.\r\n\r\nThis is a correct statement, but your `method1()` and `method2()` do not throw any exceptions out of the method. In `transactionMethod` point of view, there are no exceptions propagated to me, so I can process the rest.\r\n\r\nIf you want to do it, remove your `catch` in `method1()` or `method2()`. \r\nOr you can throw another exception like\r\n\r\n```\r\ntry{\r\n    save();\r\n} catch() {\r\n    log.error();\r\n    throw new RuntimeException(); // here is the throw ex\r\n}\r\n```\r\nHope my explanation helps!","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<blockquote>\n<p>The transaction will be rollback if an exception is thrown.</p>\n</blockquote>\n<p>This is a correct statement, but your <code>method1()</code> and <code>method2()</code> do not throw any exceptions out of the method. In <code>transactionMethod</code> point of view, there are no exceptions propagated to me, so I can process the rest.</p>\n<p>If you want to do it, remove your <code>catch</code> in <code>method1()</code> or <code>method2()</code>.\nOr you can throw another exception like</p>\n<pre><code>try{\n    save();\n} catch() {\n    log.error();\n    throw new RuntimeException(); // here is the throw ex\n}\n</code></pre>\n<p>Hope my explanation helps!</p>\n"},{"tags":[],"owner":{"account_id":29386739,"reputation":1,"user_id":22516044,"display_name":"JoeyCactus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699239880,"creation_date":1698905611,"answer_id":77407290,"question_id":77406283,"body_markdown":"Maybe you can try to throw an exception and make sure it is not being caught within the valid area of the transaction;\r\n\r\nAnother way is that you can add `@Transactional` on `methodB`; then, when the exception is thrown from `methodB` to where it is called, the transaction will roll back.\r\n\r\nAnd you can set some parameters of `@Transactional`, like propagation, that will change transaction&#39;s delivery mode.","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<p>Maybe you can try to throw an exception and make sure it is not being caught within the valid area of the transaction;</p>\n<p>Another way is that you can add <code>@Transactional</code> on <code>methodB</code>; then, when the exception is thrown from <code>methodB</code> to where it is called, the transaction will roll back.</p>\n<p>And you can set some parameters of <code>@Transactional</code>, like propagation, that will change transaction's delivery mode.</p>\n"}],"owner":{"account_id":7956914,"reputation":377,"user_id":6005868,"accept_rate":53,"display_name":"cparks10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699239880,"creation_date":1698884079,"question_id":77406283,"body_markdown":"I need it to rollback the entire transaction when an error is thrown, but it does not roll back, just throws the errors and continues to process. \r\n\r\nComponent Class has a transactional method with a try catch block. Within the try, two external calls are being made to two different classes. The first call (serviceA.method1) succeeds and I see the DB update. The second one fails. Adding @Transactional to the other methods in the other classes does not seem to be working either.\r\n\r\nI am under the impression that unless specifically stated, when transactionMethod instantiates, a Transaction is created. From there, any additional calls are part of that transaction unless the method or class states otherwise with Propagation.\r\n\r\n```\r\nimport javax.transaction.Transactional;\r\n\r\ncomponentClass:\r\n   @Transactional\r\n   public transactionMethod() {\r\n      try{\r\n        serviceA.method1();\r\n        serviceB.method2();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }\r\n   \r\nserviceA:\r\n   public method1() {\r\n      try{\r\n        save();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }   \r\n   \r\nserviceC:\r\n   public method2() {\r\n      try{\r\n        save();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }  ```","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<p>I need it to rollback the entire transaction when an error is thrown, but it does not roll back, just throws the errors and continues to process.</p>\n<p>Component Class has a transactional method with a try catch block. Within the try, two external calls are being made to two different classes. The first call (serviceA.method1) succeeds and I see the DB update. The second one fails. Adding @Transactional to the other methods in the other classes does not seem to be working either.</p>\n<p>I am under the impression that unless specifically stated, when transactionMethod instantiates, a Transaction is created. From there, any additional calls are part of that transaction unless the method or class states otherwise with Propagation.</p>\n<pre><code>import javax.transaction.Transactional;\n\ncomponentClass:\n   @Transactional\n   public transactionMethod() {\n      try{\n        serviceA.method1();\n        serviceB.method2();\n      } catch() {\n        log.error();\n      }\n   }\n   \nserviceA:\n   public method1() {\n      try{\n        save();\n      } catch() {\n        log.error();\n      }\n   }   \n   \nserviceC:\n   public method2() {\n      try{\n        save();\n      } catch() {\n        log.error();\n      }\n   }  ```\n</code></pre>\n"},{"tags":["java","playframework","sbt","log4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039669,"post_id":77411375,"comment_id":136485867,"body_markdown":"There&#39;s nothing in your build.sbt that relates to log4j.","body":"There&#39;s nothing in your build.sbt that relates to log4j."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039693,"post_id":77411375,"comment_id":136485870,"body_markdown":"Does this answer your question? [Is there a simple way to specify a global dependency exclude in SBT](https://stackoverflow.com/questions/25747900/is-there-a-simple-way-to-specify-a-global-dependency-exclude-in-sbt)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25747900/is-there-a-simple-way-to-specify-a-global-dependency-exclude-in-sbt\">Is there a simple way to specify a global dependency exclude in SBT</a>"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039751,"post_id":77411375,"comment_id":136485875,"body_markdown":"You&#39;ll have to explicitly add the replacement version from reload4j in your build.sbt if your code relies on log4j 1.x.","body":"You&#39;ll have to explicitly add the replacement version from reload4j in your build.sbt if your code relies on log4j 1.x."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039848,"post_id":77411375,"comment_id":136485894,"body_markdown":"Last thing: you&#39;re using very very old versions of almost everything! SBT, Scala, Play, Jackson.. Your project already has many vulnerabilities because of this. I would strongly recommend to spend some time to upgrade.","body":"Last thing: you&#39;re using very very old versions of almost everything! SBT, Scala, Play, Jackson.. Your project already has many vulnerabilities because of this. I would strongly recommend to spend some time to upgrade."}],"answers":[{"tags":[],"owner":{"account_id":221739,"reputation":12705,"user_id":479900,"display_name":"James Roper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699239406,"creation_date":1699238387,"answer_id":77428466,"question_id":77411375,"body_markdown":"The problem with excluding log4j 1.2, is that log4j2 doesn&#39;t replace it. That&#39;s why adding a dependency on log4j2 doesn&#39;t work. They are completely different libraries. They have different artifact IDs (log4j 1.2 can be found at `log4j:log4j`, while log4j2 uses `org.apache.logging.log4j:log4j-api`), they use different Java package names (log4j 1.2 uses `org.apache.log4j`, while log4j2 uses `org.apache.logging.log4j`). They just happen to both have the word `log4j` in their name, but from a build tool/dependency managers perspective, they share nothing in common, so when you tell your build to use log4j2, the build tool has no idea that that package has any relation to log4j 1, and keeps both in your dependencies.\r\n\r\nIt&#39;s obviously being brought in by one of your dependencies. If you exclude it, most likely, the dependency that brings it in will stop working, because when it loads, it will try to load the log4j 1.2 API, which won&#39;t be on the classpath, and so it&#39;ll fail with class not found errors.\r\n\r\nThe work around is to use [reload4j](https://reload4j.qos.ch/). This provides a binary compatible implementation of the log4j 1.2 APIs, but with major security vulnerabilities fixed.\r\n\r\nTo do this, you need to identify which of your dependencies depends on log4j 1.2. You can do this using the sbt dependency tree plugin, a tutorial on how to use this can be found [here](https://www.baeldung.com/scala/sbt-dependency-tree).\r\n\r\nThen, exclude log4j from those dependencies transitive dependencies, as [documented here](https://www.scala-sbt.org/1.x/docs/Library-Management.html#Exclude+Transitive+Dependencies).\r\n\r\nFinally, you can add reload4j as a dependency to your project.\r\n\r\nBetter than all this would be to update your project to stop using very old versions of libraries at all. The last version of Play to support sbt 0.13.11 was Play 2.5, released in 2016. Play 2.6 replaced it in 2017. Play 2.5 support finished in 2018. You&#39;re using a version of Play that&#39;s been unsupported for over 5 years. Look at all these security vulnerabilities that have been fixed in Play since then that you&#39;re probably vulnerable to, many of the vulnerabilities reported since 2018 Play 2.5.x would be vulnerable to, it&#39;s just that because Play 2.5 is out of support, we don&#39;t list those vulnerabilities against it:\r\n\r\nhttps://www.playframework.com/security/vulnerability\r\n\r\nNot to mention all the vulnerabilities in the dependencies you&#39;re using.","title":"How to exclude log4j vulnerable transitive dependencies in SBT?","body":"<p>The problem with excluding log4j 1.2, is that log4j2 doesn't replace it. That's why adding a dependency on log4j2 doesn't work. They are completely different libraries. They have different artifact IDs (log4j 1.2 can be found at <code>log4j:log4j</code>, while log4j2 uses <code>org.apache.logging.log4j:log4j-api</code>), they use different Java package names (log4j 1.2 uses <code>org.apache.log4j</code>, while log4j2 uses <code>org.apache.logging.log4j</code>). They just happen to both have the word <code>log4j</code> in their name, but from a build tool/dependency managers perspective, they share nothing in common, so when you tell your build to use log4j2, the build tool has no idea that that package has any relation to log4j 1, and keeps both in your dependencies.</p>\n<p>It's obviously being brought in by one of your dependencies. If you exclude it, most likely, the dependency that brings it in will stop working, because when it loads, it will try to load the log4j 1.2 API, which won't be on the classpath, and so it'll fail with class not found errors.</p>\n<p>The work around is to use <a href=\"https://reload4j.qos.ch/\" rel=\"nofollow noreferrer\">reload4j</a>. This provides a binary compatible implementation of the log4j 1.2 APIs, but with major security vulnerabilities fixed.</p>\n<p>To do this, you need to identify which of your dependencies depends on log4j 1.2. You can do this using the sbt dependency tree plugin, a tutorial on how to use this can be found <a href=\"https://www.baeldung.com/scala/sbt-dependency-tree\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Then, exclude log4j from those dependencies transitive dependencies, as <a href=\"https://www.scala-sbt.org/1.x/docs/Library-Management.html#Exclude+Transitive+Dependencies\" rel=\"nofollow noreferrer\">documented here</a>.</p>\n<p>Finally, you can add reload4j as a dependency to your project.</p>\n<p>Better than all this would be to update your project to stop using very old versions of libraries at all. The last version of Play to support sbt 0.13.11 was Play 2.5, released in 2016. Play 2.6 replaced it in 2017. Play 2.5 support finished in 2018. You're using a version of Play that's been unsupported for over 5 years. Look at all these security vulnerabilities that have been fixed in Play since then that you're probably vulnerable to, many of the vulnerabilities reported since 2018 Play 2.5.x would be vulnerable to, it's just that because Play 2.5 is out of support, we don't list those vulnerabilities against it:</p>\n<p><a href=\"https://www.playframework.com/security/vulnerability\" rel=\"nofollow noreferrer\">https://www.playframework.com/security/vulnerability</a></p>\n<p>Not to mention all the vulnerabilities in the dependencies you're using.</p>\n"}],"owner":{"account_id":29804573,"reputation":1,"user_id":22841545,"display_name":"Krishna Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699239406,"creation_date":1698942916,"question_id":77411375,"body_markdown":"How to exclude log4j 1.2.17 vulnerable from all dependencies in build.sbt\r\n\r\nWe are using Sbt (0.13.11) based Play framework application as mentioned configuration in the attachment, we want to exclude dependencies related to vulnerable log4j 1.2.17.\r\n\r\n```\r\n\r\nname := &quot;&quot;&quot;xxxx&quot;&quot;&quot;\r\n\r\nversion := &quot;1.0&quot;\r\n\r\nlazy val playCommonDI = (project in file(&quot;./modules/play-common-di&quot;)).enablePlugins(PlayJava)\r\nlazy val libsf = (project in file(&quot;libsf&quot;))\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .enablePlugins(PlayJava, PlayEbean, SbtWeb)\r\n  .aggregate(playCommonDI, libsf)\r\n  .dependsOn(playCommonDI, libsf)\r\n\r\nscalaVersion := &quot;2.11.7&quot;\r\n\r\nscalacOptions := Seq(&quot;-feature&quot;, &quot;-unchecked&quot;, &quot;-deprecation&quot;, &quot;-encoding&quot;, &quot;utf8&quot;)\r\n\r\nresolvers += Resolver.url(&quot;Objectify Play Repository&quot;, url(&quot;http://deadbolt.ws/releases/&quot;))(Resolver.ivyStylePatterns)\r\n\r\nresolvers += &quot;(Plugins) Project Maven Repo&quot; at &quot;file://&quot; + file(&quot;.&quot;).getCanonicalPath + &quot;/local-repo/maven/&quot;\r\n\r\n\r\nval junitVersion = &quot;5.4.0&quot;\r\n\r\nval apachePOIVersion = &quot;4.1.2&quot;\r\nval apachePOIDependencies = Seq(\r\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml&quot; % apachePOIVersion,\r\n  &quot;org.apache.poi&quot; % &quot;poi&quot; % apachePOIVersion,\r\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml-schemas&quot; % apachePOIVersion\r\n)\r\nlibraryDependencies ++= apachePOIDependencies\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc,\r\n  cache,\r\n  javaWs,\r\n  filters,\r\n\r\n  // Tests\r\n  &quot;org.junit.platform&quot; % &quot;junit-platform-launcher&quot; % &quot;1.4.0&quot; % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-engine&quot; % junitVersion % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-params&quot; % junitVersion % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-api&quot; % junitVersion % Test,\r\n\r\n  &quot;org.dhatim&quot; % &quot;fastexcel&quot; % &quot;0.12.15&quot;,\r\n\r\n  &quot;com.akamai&quot; % &quot;edgeauth&quot; % &quot;0.2.0&quot;,\r\n\r\n  &quot;org.mockito&quot; % &quot;mockito-core&quot; % &quot;2.23.4&quot; % Test,\r\n  &quot;org.mockito&quot; % &quot;mockito-junit-jupiter&quot; % &quot;2.23.4&quot; % Test,\r\n\r\n  &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % JupiterKeys.jupiterVersion.value % Test,\r\n  &quot;org.jacoco&quot; % &quot;org.jacoco.core&quot; % &quot;0.8.3&quot;,\r\n\r\n  &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.9.1&quot; % Test,\r\n  &quot;org.testcontainers&quot; % &quot;jdbc&quot; % &quot;1.9.1&quot; % Test,\r\n  &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.9.1&quot; % Test,\r\n\r\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;5.1.31&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.3.2&quot;,\r\n  &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.4.0&quot;,\r\n  &quot;com.thoughtworks.xstream&quot; % &quot;xstream&quot; % &quot;1.4.4&quot;,\r\n  &quot;be.objectify&quot; %% &quot;deadbolt-java&quot; % &quot;2.5.6&quot;,\r\n  &quot;org.ocpsoft.prettytime&quot;%&quot;prettytime&quot;%&quot;3.2.5.Final&quot;,\r\n\r\n  &quot;dom4j&quot; % &quot;dom4j&quot; % &quot;1.6.1&quot;,\r\n  &quot;net.logstash.logback&quot; % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-math3&quot; % &quot;3.5&quot;,\r\n  &quot;org.redisson&quot; % &quot;redisson&quot; % &quot;2.6.0&quot;,\r\n  &quot;org.atmosphere&quot; % &quot;atmosphere-play&quot; % &quot;2.3.0&quot;,\r\n  &quot;org.atmosphere&quot; % &quot;wasync&quot; % &quot;2.1.4&quot;,\r\n  &quot;com.hazelcast&quot; % &quot;hazelcast&quot; % &quot;3.4.2&quot;,\r\n  &quot;com.hazelcast&quot; % &quot;hazelcast-cloud&quot; % &quot;3.4.2&quot;,\r\n  &quot;org.elasticsearch&quot; % &quot;elasticsearch&quot; % &quot;1.5.0&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-exec&quot; % &quot;1.3&quot;,\r\n  &quot;net.htmlparser.jericho&quot; % &quot;jericho-html&quot; % &quot;3.4&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-csv&quot; % &quot;1.2&quot;,\r\n  &quot;com.itextpdf&quot; % &quot;itextpdf&quot; % &quot;5.5.11&quot;,\r\n  &quot;com.itextpdf.tool&quot; % &quot;xmlworker&quot; % &quot;5.5.11&quot;,\r\n  &quot;com.hierynomus&quot; % &quot;sshj&quot; % &quot;0.21.1&quot;,\r\n  &quot;com.onelogin&quot; % &quot;java-saml&quot; % &quot;2.0.1&quot;,\r\n  &quot;com.rusticisoftware&quot; % &quot;tincan&quot; % &quot;1.1.0&quot;,\r\n  \r\n  &quot;com.tokbox&quot; % &quot;opentok-server-sdk&quot; % &quot;4.3.0&quot; excludeAll(\r\n    ExclusionRule(organization = &quot;org.asynchttpclient&quot;)\r\n  ),\r\n  &quot;org.bitbucket.b_c&quot; % &quot;jose4j&quot; % &quot;0.6.4&quot;,\r\n  \r\n  &quot;com.pusher&quot; % &quot;pusher-http-java&quot; % &quot;1.0.0&quot;,\r\n  &quot;com.typesafe.akka&quot; % &quot;akka-remote_2.11&quot; % &quot;2.4.17&quot;,\r\n  &quot;org.bouncycastle&quot; % &quot;bcprov-jdk15on&quot; % &quot;1.56&quot;,\r\n\r\n  &quot;org.flywaydb&quot; %% &quot;flyway-play&quot; % &quot;3.2.0&quot;,\r\n\r\n  &quot;org.togglz&quot; % &quot;togglz-core&quot; % &quot;2.6.1.Final&quot;,\r\n  &quot;org.togglz&quot; % &quot;togglz-console&quot; % &quot;2.6.1.Final&quot;,\r\n  &quot;org.togglz&quot; % &quot;togglz-testing&quot; % &quot;2.6.1.Final&quot; % Test,\r\n  &quot;org.togglz&quot; % &quot;togglz-junit&quot; % &quot;2.6.1.Final&quot; % Test,\r\n\r\n  &quot;com.twilio.sdk&quot; % &quot;twilio&quot; % &quot;7.32.0&quot;,\r\n\r\n  &quot;com.google.inject.extensions&quot; % &quot;guice-multibindings&quot; % &quot;4.0&quot;\r\n)\r\n\r\ndependencyOverrides += &quot;net.bytebuddy&quot; % &quot;byte-buddy&quot; % &quot;1.9.3&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.9.9&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % &quot;2.9.9.1&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.9.9&quot;\r\n\r\nparallelExecution in Global := false\r\n\r\nroutesGenerator := InjectedRoutesGenerator\r\n\r\n//API Documentation\r\nsources in (Compile, doc) := Seq.empty\r\n\r\npublishArtifact in (Compile, packageDoc) := false\r\n\r\n//CSS assets\r\nincludeFilter in (Assets, LessKeys.less) := &quot;*.less&quot;\r\n\r\nexcludeFilter in (Assets, LessKeys.less) := &quot;_*.less&quot;\r\n\r\nLessKeys.compress in Assets := true\r\n\r\n//JSHint\r\nJsEngineKeys.engineType := JsEngineKeys.EngineType.Node\r\n\r\n//Digest\r\npipelineStages := Seq(uglify, digest, gzip)\r\n\r\n//Exclude documentation in dist\r\ndoc in Compile &lt;&lt;= target.map(_ / &quot;none&quot;)\r\n\r\n//SBT + Scala + idea support required (2.12?): Keys.javacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint:unchecked&quot;)\r\nKeys.javacOptions += &quot;-Xlint:deprecation&quot;\r\n\r\nKeys.javacOptions += &quot;-Xlint:unchecked&quot;\r\n\r\n// Enable testes to run in it&#39;s own VM\r\nKeys.fork in Test := true\r\n\r\nivyConfiguration ~= { originalIvyConfiguration =&gt;\r\n  val config = originalIvyConfiguration.asInstanceOf[InlineIvyConfiguration]\r\n  val ivyHome = file(Path.userHome.absolutePath+&quot;/ivy2_sbt-plugin-2.5.14&quot;)\r\n  val ivyPaths = new IvyPaths(config.paths.baseDirectory, Some(ivyHome))\r\n  new InlineIvyConfiguration(ivyPaths, config.resolvers, config.otherResolvers,\r\n    config.moduleConfigurations, config.localOnly, config.lock,\r\n    config.checksums, config.resolutionCacheDir, config.log)\r\n}\r\n\r\njacocoReportSettings in Test := JacocoReportSettings().withTitle(&quot;xxxx Report&quot;)\r\n```\r\n\r\nAs mentioned in the build file, we tried to mention the proper log4j 2.17, seems default one log4j 1.2.17 is not getting replaced with new version of log4j.\r\n\r\nCan you please help us on this ?","title":"How to exclude log4j vulnerable transitive dependencies in SBT?","body":"<p>How to exclude log4j 1.2.17 vulnerable from all dependencies in build.sbt</p>\n<p>We are using Sbt (0.13.11) based Play framework application as mentioned configuration in the attachment, we want to exclude dependencies related to vulnerable log4j 1.2.17.</p>\n<pre><code>\nname := &quot;&quot;&quot;xxxx&quot;&quot;&quot;\n\nversion := &quot;1.0&quot;\n\nlazy val playCommonDI = (project in file(&quot;./modules/play-common-di&quot;)).enablePlugins(PlayJava)\nlazy val libsf = (project in file(&quot;libsf&quot;))\n\nlazy val root = (project in file(&quot;.&quot;))\n  .enablePlugins(PlayJava, PlayEbean, SbtWeb)\n  .aggregate(playCommonDI, libsf)\n  .dependsOn(playCommonDI, libsf)\n\nscalaVersion := &quot;2.11.7&quot;\n\nscalacOptions := Seq(&quot;-feature&quot;, &quot;-unchecked&quot;, &quot;-deprecation&quot;, &quot;-encoding&quot;, &quot;utf8&quot;)\n\nresolvers += Resolver.url(&quot;Objectify Play Repository&quot;, url(&quot;http://deadbolt.ws/releases/&quot;))(Resolver.ivyStylePatterns)\n\nresolvers += &quot;(Plugins) Project Maven Repo&quot; at &quot;file://&quot; + file(&quot;.&quot;).getCanonicalPath + &quot;/local-repo/maven/&quot;\n\n\nval junitVersion = &quot;5.4.0&quot;\n\nval apachePOIVersion = &quot;4.1.2&quot;\nval apachePOIDependencies = Seq(\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml&quot; % apachePOIVersion,\n  &quot;org.apache.poi&quot; % &quot;poi&quot; % apachePOIVersion,\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml-schemas&quot; % apachePOIVersion\n)\nlibraryDependencies ++= apachePOIDependencies\nlibraryDependencies ++= Seq(\n  javaJdbc,\n  cache,\n  javaWs,\n  filters,\n\n  // Tests\n  &quot;org.junit.platform&quot; % &quot;junit-platform-launcher&quot; % &quot;1.4.0&quot; % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-engine&quot; % junitVersion % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-params&quot; % junitVersion % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-api&quot; % junitVersion % Test,\n\n  &quot;org.dhatim&quot; % &quot;fastexcel&quot; % &quot;0.12.15&quot;,\n\n  &quot;com.akamai&quot; % &quot;edgeauth&quot; % &quot;0.2.0&quot;,\n\n  &quot;org.mockito&quot; % &quot;mockito-core&quot; % &quot;2.23.4&quot; % Test,\n  &quot;org.mockito&quot; % &quot;mockito-junit-jupiter&quot; % &quot;2.23.4&quot; % Test,\n\n  &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % JupiterKeys.jupiterVersion.value % Test,\n  &quot;org.jacoco&quot; % &quot;org.jacoco.core&quot; % &quot;0.8.3&quot;,\n\n  &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.9.1&quot; % Test,\n  &quot;org.testcontainers&quot; % &quot;jdbc&quot; % &quot;1.9.1&quot; % Test,\n  &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.9.1&quot; % Test,\n\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;5.1.31&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.3.2&quot;,\n  &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.4.0&quot;,\n  &quot;com.thoughtworks.xstream&quot; % &quot;xstream&quot; % &quot;1.4.4&quot;,\n  &quot;be.objectify&quot; %% &quot;deadbolt-java&quot; % &quot;2.5.6&quot;,\n  &quot;org.ocpsoft.prettytime&quot;%&quot;prettytime&quot;%&quot;3.2.5.Final&quot;,\n\n  &quot;dom4j&quot; % &quot;dom4j&quot; % &quot;1.6.1&quot;,\n  &quot;net.logstash.logback&quot; % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-math3&quot; % &quot;3.5&quot;,\n  &quot;org.redisson&quot; % &quot;redisson&quot; % &quot;2.6.0&quot;,\n  &quot;org.atmosphere&quot; % &quot;atmosphere-play&quot; % &quot;2.3.0&quot;,\n  &quot;org.atmosphere&quot; % &quot;wasync&quot; % &quot;2.1.4&quot;,\n  &quot;com.hazelcast&quot; % &quot;hazelcast&quot; % &quot;3.4.2&quot;,\n  &quot;com.hazelcast&quot; % &quot;hazelcast-cloud&quot; % &quot;3.4.2&quot;,\n  &quot;org.elasticsearch&quot; % &quot;elasticsearch&quot; % &quot;1.5.0&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-exec&quot; % &quot;1.3&quot;,\n  &quot;net.htmlparser.jericho&quot; % &quot;jericho-html&quot; % &quot;3.4&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-csv&quot; % &quot;1.2&quot;,\n  &quot;com.itextpdf&quot; % &quot;itextpdf&quot; % &quot;5.5.11&quot;,\n  &quot;com.itextpdf.tool&quot; % &quot;xmlworker&quot; % &quot;5.5.11&quot;,\n  &quot;com.hierynomus&quot; % &quot;sshj&quot; % &quot;0.21.1&quot;,\n  &quot;com.onelogin&quot; % &quot;java-saml&quot; % &quot;2.0.1&quot;,\n  &quot;com.rusticisoftware&quot; % &quot;tincan&quot; % &quot;1.1.0&quot;,\n  \n  &quot;com.tokbox&quot; % &quot;opentok-server-sdk&quot; % &quot;4.3.0&quot; excludeAll(\n    ExclusionRule(organization = &quot;org.asynchttpclient&quot;)\n  ),\n  &quot;org.bitbucket.b_c&quot; % &quot;jose4j&quot; % &quot;0.6.4&quot;,\n  \n  &quot;com.pusher&quot; % &quot;pusher-http-java&quot; % &quot;1.0.0&quot;,\n  &quot;com.typesafe.akka&quot; % &quot;akka-remote_2.11&quot; % &quot;2.4.17&quot;,\n  &quot;org.bouncycastle&quot; % &quot;bcprov-jdk15on&quot; % &quot;1.56&quot;,\n\n  &quot;org.flywaydb&quot; %% &quot;flyway-play&quot; % &quot;3.2.0&quot;,\n\n  &quot;org.togglz&quot; % &quot;togglz-core&quot; % &quot;2.6.1.Final&quot;,\n  &quot;org.togglz&quot; % &quot;togglz-console&quot; % &quot;2.6.1.Final&quot;,\n  &quot;org.togglz&quot; % &quot;togglz-testing&quot; % &quot;2.6.1.Final&quot; % Test,\n  &quot;org.togglz&quot; % &quot;togglz-junit&quot; % &quot;2.6.1.Final&quot; % Test,\n\n  &quot;com.twilio.sdk&quot; % &quot;twilio&quot; % &quot;7.32.0&quot;,\n\n  &quot;com.google.inject.extensions&quot; % &quot;guice-multibindings&quot; % &quot;4.0&quot;\n)\n\ndependencyOverrides += &quot;net.bytebuddy&quot; % &quot;byte-buddy&quot; % &quot;1.9.3&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.9.9&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % &quot;2.9.9.1&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.9.9&quot;\n\nparallelExecution in Global := false\n\nroutesGenerator := InjectedRoutesGenerator\n\n//API Documentation\nsources in (Compile, doc) := Seq.empty\n\npublishArtifact in (Compile, packageDoc) := false\n\n//CSS assets\nincludeFilter in (Assets, LessKeys.less) := &quot;*.less&quot;\n\nexcludeFilter in (Assets, LessKeys.less) := &quot;_*.less&quot;\n\nLessKeys.compress in Assets := true\n\n//JSHint\nJsEngineKeys.engineType := JsEngineKeys.EngineType.Node\n\n//Digest\npipelineStages := Seq(uglify, digest, gzip)\n\n//Exclude documentation in dist\ndoc in Compile &lt;&lt;= target.map(_ / &quot;none&quot;)\n\n//SBT + Scala + idea support required (2.12?): Keys.javacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint:unchecked&quot;)\nKeys.javacOptions += &quot;-Xlint:deprecation&quot;\n\nKeys.javacOptions += &quot;-Xlint:unchecked&quot;\n\n// Enable testes to run in it's own VM\nKeys.fork in Test := true\n\nivyConfiguration ~= { originalIvyConfiguration =&gt;\n  val config = originalIvyConfiguration.asInstanceOf[InlineIvyConfiguration]\n  val ivyHome = file(Path.userHome.absolutePath+&quot;/ivy2_sbt-plugin-2.5.14&quot;)\n  val ivyPaths = new IvyPaths(config.paths.baseDirectory, Some(ivyHome))\n  new InlineIvyConfiguration(ivyPaths, config.resolvers, config.otherResolvers,\n    config.moduleConfigurations, config.localOnly, config.lock,\n    config.checksums, config.resolutionCacheDir, config.log)\n}\n\njacocoReportSettings in Test := JacocoReportSettings().withTitle(&quot;xxxx Report&quot;)\n</code></pre>\n<p>As mentioned in the build file, we tried to mention the proper log4j 2.17, seems default one log4j 1.2.17 is not getting replaced with new version of log4j.</p>\n<p>Can you please help us on this ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":10075396,"reputation":343,"user_id":7447692,"display_name":"counter1602"},"score":1,"creation_date":1484938834,"post_id":41770321,"comment_id":70732629,"body_markdown":"hm i dont really understand... i made a user class with my custom string field. a bunch of mehtods are generated like \t`@Override\n\tpublic String getPassword() {\n\t\t// TODO Auto-generated method stub\n\t\treturn null;\n\t}`\n\nhow can i then use the &quot;User&quot; class for spring security? or does it work auomaticly?\n\ni think a example code would help a lot :/","body":"hm i dont really understand... i made a user class with my custom string field. a bunch of mehtods are generated like \t<code>@Override \tpublic String getPassword() { \t\t&#47;&#47; TODO Auto-generated method stub \t\treturn null; \t}</code>  how can i then use the &quot;User&quot; class for spring security? or does it work auomaticly?  i think a example code would help a lot :/"}],"tags":[],"owner":{"account_id":8202462,"reputation":4175,"user_id":6173350,"display_name":"Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1484937496,"creation_date":1484937496,"answer_id":41770321,"question_id":41770156,"body_markdown":"Create your class implementing `UserDetails` interface.\r\n\r\n    public class User implements UserDetails {\r\n        // Your user properties\r\n        // implement methods\r\n    }\r\n\r\nAnd then, once authenticated, you can access this object anywhere in the project like this.\r\n\r\n    User user = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Create your class implementing <code>UserDetails</code> interface.</p>\n\n<pre><code>public class User implements UserDetails {\n    // Your user properties\n    // implement methods\n}\n</code></pre>\n\n<p>And then, once authenticated, you can access this object anywhere in the project like this.</p>\n\n<pre><code>User user = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1617309622,"post_id":41772510,"comment_id":118276244,"body_markdown":"How do you setup Hibernate with the authorities set in the UserDao class?","body":"How do you setup Hibernate with the authorities set in the UserDao class?"}],"tags":[],"owner":{"account_id":8320522,"reputation":847,"user_id":6252395,"display_name":"Daniel Arechiga"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1484947578,"creation_date":1484947161,"answer_id":41772510,"question_id":41770156,"body_markdown":"Just like Avinash said, you can make your `User` class implement `UserDetails` and you can also implement `UserDetailsService` and override corresponding methods to return the custom `User` object: \r\n\r\n    @Service(&quot;userDetailsService&quot;)\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n    \r\n    \t//get user from the database, via Hibernate\r\n    \t@Autowired\r\n    \tprivate UserDao userDao;\r\n    \r\n    \t@Transactional(readOnly=true)\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(final String username)\r\n    \t\tthrows UsernameNotFoundException {\r\n    //CUSTOM USER HERE vvv\r\n    \t\tUser user = userDao.findByUserName(username);\r\n    \t\tList&lt;GrantedAuthority&gt; authorities =\r\n                                          buildUserAuthority(user.getUserRole());\r\n    //if you&#39;re implementing UserDetails you wouldn&#39;t need to call this method and instead return the User as it is\r\n    \t\t//return buildUserForAuthentication(user, authorities);\r\n    return user;\r\n    \r\n    \t}\r\n    \r\n    \t// Converts user to spring.springframework.security.core.userdetails.User\r\n    \tprivate User buildUserForAuthentication(user,\r\n    \t\tList&lt;GrantedAuthority&gt; authorities) {\r\n    \t\treturn new User(user.getUsername(), user.getPassword(),\r\n    \t\t\tuser.isEnabled(), true, true, true, authorities);\r\n    \t}\r\n    \r\n    \tprivate List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\r\n    \r\n    \t\tSet&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\r\n    \r\n    \t\t// add user&#39;s authorities\r\n    \t\tfor (UserRole userRole : userRoles) {\r\n    \t\t\tsetAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\r\n    \t\t}\r\n    \r\n    \t\tList&lt;GrantedAuthority&gt; Result = new ArrayList&lt;GrantedAuthority&gt;(setAuths);\r\n    \r\n    \t\treturn Result;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd you just configure your `WebConfigurerAdapter` using the custom `UserdetailsService` :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Autowired\r\n\t@Qualifier(&quot;userDetailsService&quot;)\r\n\tUserDetailsService userDetailsService;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t    //authorization logic here ...\r\n\t}\r\n\r\n        @Bean\r\n    \tpublic PasswordEncoder passwordEncoder(){\r\n    \t\t// return preferred PasswordEncoder ...//\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\nHere, a sample of a custom `UserDetails` implementation:\r\n[custom UserDetails][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7737602/example-of-custom-implementation-of-userdetails","title":"SPRING: Add custom user details to spring security user","body":"<p>Just like Avinash said, you can make your <code>User</code> class implement <code>UserDetails</code> and you can also implement <code>UserDetailsService</code> and override corresponding methods to return the custom <code>User</code> object: </p>\n\n<pre><code>@Service(\"userDetailsService\")\npublic class MyUserDetailsService implements UserDetailsService {\n\n    //get user from the database, via Hibernate\n    @Autowired\n    private UserDao userDao;\n\n    @Transactional(readOnly=true)\n    @Override\n    public UserDetails loadUserByUsername(final String username)\n        throws UsernameNotFoundException {\n//CUSTOM USER HERE vvv\n        User user = userDao.findByUserName(username);\n        List&lt;GrantedAuthority&gt; authorities =\n                                      buildUserAuthority(user.getUserRole());\n//if you're implementing UserDetails you wouldn't need to call this method and instead return the User as it is\n        //return buildUserForAuthentication(user, authorities);\nreturn user;\n\n    }\n\n    // Converts user to spring.springframework.security.core.userdetails.User\n    private User buildUserForAuthentication(user,\n        List&lt;GrantedAuthority&gt; authorities) {\n        return new User(user.getUsername(), user.getPassword(),\n            user.isEnabled(), true, true, true, authorities);\n    }\n\n    private List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\n\n        Set&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\n\n        // add user's authorities\n        for (UserRole userRole : userRoles) {\n            setAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\n        }\n\n        List&lt;GrantedAuthority&gt; Result = new ArrayList&lt;GrantedAuthority&gt;(setAuths);\n\n        return Result;\n    }\n\n}\n</code></pre>\n\n<p>And you just configure your <code>WebConfigurerAdapter</code> using the custom <code>UserdetailsService</code> :</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n@Autowired\n@Qualifier(\"userDetailsService\")\nUserDetailsService userDetailsService;\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    //authorization logic here ...\n}\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        // return preferred PasswordEncoder ...//\n    }\n\n\n}\n</code></pre>\n\n<p>Here, a sample of a custom <code>UserDetails</code> implementation:\n<a href=\"https://stackoverflow.com/questions/7737602/example-of-custom-implementation-of-userdetails\">custom UserDetails</a></p>\n"},{"comments":[{"owner":{"account_id":13026357,"reputation":323,"user_id":9622120,"display_name":"Abubakar Ibrahim"},"score":1,"creation_date":1587439060,"post_id":59499667,"comment_id":108505399,"body_markdown":"Hi, my User class has fields like confirmPassword, createdAt, fullName. Do I have to add all those fields to my CustomUserDetails class?","body":"Hi, my User class has fields like confirmPassword, createdAt, fullName. Do I have to add all those fields to my CustomUserDetails class?"},{"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"score":0,"creation_date":1587496212,"post_id":59499667,"comment_id":108533639,"body_markdown":"@AbubakarIbrahim you are correct. You need to add those in CustomUserDetails which implements UserDetails interface (spring-security-core)","body":"@AbubakarIbrahim you are correct. You need to add those in CustomUserDetails which implements UserDetails interface (spring-security-core)"}],"tags":[],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577443914,"creation_date":1577443914,"answer_id":59499667,"question_id":41770156,"body_markdown":"I had worked on this in the following way.\r\n\r\n**AccountDetailsService.java**\r\n\r\n    @Service\r\n    public class AccountDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        AccountRepository accountRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException, JSONException {\r\n            return loadUser(s);\r\n        }\r\n    \r\n        public UserDetails loadUserByUsernameWithoutCredentials(String s) throws UsernameNotFoundException, JSONException {\r\n            CustomUserDetails customUserDetails=loadUser(s);\r\n            if (customUserDetails != null){\r\n                customUserDetails.eraseCredentials();\r\n            }\r\n            return customUserDetails;\r\n        }\r\n    \r\n        private CustomUserDetails loadUser(String s) throws UsernameNotFoundException, JSONException {\r\n    \r\n            Account userAccount = accountDbRepository.getAccountByUserName(s);\r\n            if (userAccount==null){\r\n                return null;\r\n            }\r\n            Collection&lt;GrantedAuthority&gt; grantedAuthoritySet = new HashSet&lt;&gt;();\r\n           \r\n            for (int i=0; i&lt;userAccount.getRoles().size();i++)\r\n            {\r\n                JSONObject jsonObject = new JSONObject(userAccount.getRoles().get(i));\r\n                String role = jsonObject.getString(&quot;role&quot;);\r\n                gas.add(new SimpleGrantedAuthority(role));\r\n            }\r\n            return new CustomUserDetails(userAccount.getEmail(),userAccount.getDisplayName(),userAccount.getUserName(),userAccount.getPassword(),userAccount.getEnabled(),gas);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**CustomUserDetails.java**\r\n\r\n    public class CustomUserDetails implements UserDetails {\r\n\r\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\r\n    private String email;\r\n\r\n    private String displayName;\r\n\r\n    private String password;\r\n\r\n    private String username;\r\n\r\n    private Boolean enabled;\r\n\r\n    private Boolean accountNonExpired;\r\n\r\n    private Boolean accountNonLocked;\r\n\r\n    private boolean credentialsNonExpired;\r\n\r\n    public CustomUserDetails(String email, String displayName, String username, String password, Boolean enabled, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        this.email = email;\r\n        this.displayName = displayName;\r\n        this.enabled=enabled;\r\n        this.username=username;\r\n        this.password=password;\r\n        this.accountNonExpired=true;\r\n        this.accountNonLocked=true;\r\n        this.credentialsNonExpired=true;\r\n        this.authorities=authorities;\r\n    }\r\n        \r\n    public CustomUserDetails(String email, String displayName, String password, String username, Boolean enabled, Boolean accountNonExpired, Boolean accountNonLocked, boolean credentialsNonExpired, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            this.authorities = authorities;\r\n            this.email = email;\r\n            this.displayName = displayName;\r\n            this.password = password;\r\n            this.username = username;\r\n            this.enabled = enabled;\r\n            this.accountNonExpired = accountNonExpired;\r\n            this.accountNonLocked = accountNonLocked;\r\n            this.credentialsNonExpired = credentialsNonExpired;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getDisplayName() {\r\n            return displayName;\r\n        }\r\n    \r\n        public void setDisplayName(String displayName) {\r\n            this.displayName = displayName;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return accountNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return accountNonLocked;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return credentialsNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public void eraseCredentials(){\r\n            this.password=null;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>I had worked on this in the following way.</p>\n\n<p><strong>AccountDetailsService.java</strong></p>\n\n<pre><code>@Service\npublic class AccountDetailsService implements UserDetailsService {\n\n    @Autowired\n    AccountRepository accountRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException, JSONException {\n        return loadUser(s);\n    }\n\n    public UserDetails loadUserByUsernameWithoutCredentials(String s) throws UsernameNotFoundException, JSONException {\n        CustomUserDetails customUserDetails=loadUser(s);\n        if (customUserDetails != null){\n            customUserDetails.eraseCredentials();\n        }\n        return customUserDetails;\n    }\n\n    private CustomUserDetails loadUser(String s) throws UsernameNotFoundException, JSONException {\n\n        Account userAccount = accountDbRepository.getAccountByUserName(s);\n        if (userAccount==null){\n            return null;\n        }\n        Collection&lt;GrantedAuthority&gt; grantedAuthoritySet = new HashSet&lt;&gt;();\n\n        for (int i=0; i&lt;userAccount.getRoles().size();i++)\n        {\n            JSONObject jsonObject = new JSONObject(userAccount.getRoles().get(i));\n            String role = jsonObject.getString(\"role\");\n            gas.add(new SimpleGrantedAuthority(role));\n        }\n        return new CustomUserDetails(userAccount.getEmail(),userAccount.getDisplayName(),userAccount.getUserName(),userAccount.getPassword(),userAccount.getEnabled(),gas);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>CustomUserDetails.java</strong></p>\n\n<pre><code>public class CustomUserDetails implements UserDetails {\n\nprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\n\nprivate String email;\n\nprivate String displayName;\n\nprivate String password;\n\nprivate String username;\n\nprivate Boolean enabled;\n\nprivate Boolean accountNonExpired;\n\nprivate Boolean accountNonLocked;\n\nprivate boolean credentialsNonExpired;\n\npublic CustomUserDetails(String email, String displayName, String username, String password, Boolean enabled, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n    this.email = email;\n    this.displayName = displayName;\n    this.enabled=enabled;\n    this.username=username;\n    this.password=password;\n    this.accountNonExpired=true;\n    this.accountNonLocked=true;\n    this.credentialsNonExpired=true;\n    this.authorities=authorities;\n}\n\npublic CustomUserDetails(String email, String displayName, String password, String username, Boolean enabled, Boolean accountNonExpired, Boolean accountNonLocked, boolean credentialsNonExpired, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.authorities = authorities;\n        this.email = email;\n        this.displayName = displayName;\n        this.password = password;\n        this.username = username;\n        this.enabled = enabled;\n        this.accountNonExpired = accountNonExpired;\n        this.accountNonLocked = accountNonLocked;\n        this.credentialsNonExpired = credentialsNonExpired;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    public void setDisplayName(String displayName) {\n        this.displayName = displayName;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return accountNonExpired;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return accountNonLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return credentialsNonExpired;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void eraseCredentials(){\n        this.password=null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18663827,"reputation":11,"user_id":13604354,"display_name":"Sriraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590265715,"creation_date":1590265715,"answer_id":61978191,"question_id":41770156,"body_markdown":"Don&#39;t directly wite `userRole.getRole()` directly if you want to send the role as `ADMIN/USER` instead write it as `&quot;ROLE_&quot; + userRole.getRole()`. So that you can get the error-free run of your code.\r\n\r\n**Example:**\r\n  \r\n\r\n    @Service(&quot;listUserDetailsService&quot;)\r\n    public class ListUserDetailsService implements UserDetailsService {\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException{\r\n    \t\t\r\n    \t\tUser user = userRepo.findByEmail(email);\r\n    \t\t\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException(&quot;Invalid User&quot;);\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t    Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\r\n    \t\t    for (Role role : user.getRoles()){\r\n    \t\t        grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot;+role.getName()));\r\n    \t\t    }\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\treturn new org\r\n    \t\t\t\t\t.springframework\r\n                        .security\r\n                        .core\r\n                        .userdetails\r\n                        .User(user.getEmail(), user.getPassword(), grantedAuthorities);\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate final UserRepo userRepo;\r\n    \t\r\n    \tpublic ListUserDetailsService(UserRepo userRepo) {\t\r\n    \t\tthis.userRepo = userRepo;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Don't directly wite <code>userRole.getRole()</code> directly if you want to send the role as <code>ADMIN/USER</code> instead write it as <code>\"ROLE_\" + userRole.getRole()</code>. So that you can get the error-free run of your code.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>@Service(\"listUserDetailsService\")\npublic class ListUserDetailsService implements UserDetailsService {\n\n    @Transactional(readOnly = true)\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException{\n\n        User user = userRepo.findByEmail(email);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(\"Invalid User\");\n\n        } else {\n            Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\n            for (Role role : user.getRoles()){\n                grantedAuthorities.add(new SimpleGrantedAuthority(\"ROLE_\"+role.getName()));\n            }\n\n\n            return new org\n                    .springframework\n                    .security\n                    .core\n                    .userdetails\n                    .User(user.getEmail(), user.getPassword(), grantedAuthorities);\n\n        }\n\n    }\n\n    private final UserRepo userRepo;\n\n    public ListUserDetailsService(UserRepo userRepo) {  \n        this.userRepo = userRepo;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699238929,"creation_date":1699238929,"answer_id":77428488,"question_id":41770156,"body_markdown":"Instead of implements the interface `UserDetails`, it is more clean and simple by extending class `org.springframework.security.core.userdetails.User`.\r\n\r\n\r\n    import org.springframework.security.core.userdetails.User;\r\n    \r\n    public class CustomUserDetails extends User {\r\n        // you can add custom field here, example field &#39;name&#39;\r\n        private String name;\r\n    \r\n        public CustomUserDetails(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            super(username, password, authorities);\r\n        }\r\n        // don&#39;t forget getter-setter\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd then, once authenticated, you can access this object anywhere in the project like this.\r\n\r\n    CustomUserDetails user = (CustomUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Instead of implements the interface <code>UserDetails</code>, it is more clean and simple by extending class <code>org.springframework.security.core.userdetails.User</code>.</p>\n<pre><code>import org.springframework.security.core.userdetails.User;\n\npublic class CustomUserDetails extends User {\n    // you can add custom field here, example field 'name'\n    private String name;\n\n    public CustomUserDetails(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, password, authorities);\n    }\n    // don't forget getter-setter\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>And then, once authenticated, you can access this object anywhere in the project like this.</p>\n<pre><code>CustomUserDetails user = (CustomUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n"}],"owner":{"account_id":10075396,"reputation":343,"user_id":7447692,"display_name":"counter1602"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75659,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":41772510,"answer_count":5,"score":24,"last_activity_date":1699238929,"creation_date":1484936831,"question_id":41770156,"body_markdown":"I&#39;m currently working on a Spring MVC application and I need to add a custom field to my Spring Security log-in user right when I log in (I insert username, password, custom value).\r\nThis value needs to be available on everywhere when the user is logged in (e.g. via pricipal.getValue).\r\n\r\nI read a lot about custom user classes and custom services, but can&#39;t really find a working solution for my problem...\r\n\r\nAny help would be great!","title":"SPRING: Add custom user details to spring security user","body":"<p>I'm currently working on a Spring MVC application and I need to add a custom field to my Spring Security log-in user right when I log in (I insert username, password, custom value).\nThis value needs to be available on everywhere when the user is logged in (e.g. via pricipal.getValue).</p>\n\n<p>I read a lot about custom user classes and custom services, but can't really find a working solution for my problem...</p>\n\n<p>Any help would be great!</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":29834458,"reputation":1,"user_id":22864150,"display_name":"user22864150"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699238757,"creation_date":1699238757,"question_id":77428481,"body_markdown":"One or more filters in org. apache. catalina. core. StandardContext. startInternal failed to start. The complete detailed information will be found in the corresponding container log file,\r\norg.apache.catalina.core.StandardContext.filterStart Abnormal startup filter [jfinal](启动过滤器异常[jfinal])\r\n\tcom.swan.platform.common.PlatformException: Failed to start DBConfigPlugin, database configuration file not found!(启动DBConfigPlugin失败，没有找到数据库配置文件！)\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZdRua.png)\r\n[enter image description here](https://i.stack.imgur.com/cbmB7.png)\r\nThe project can be run locally on IDEA and tomcat8.5, but deploying the project to tomcat8.5 on a remote server will result in an error","title":"Abnormal startup filter [jfinal],Tomcat failed to start DBConfigPlugin, database configuration file not found","body":"<p>One or more filters in org. apache. catalina. core. StandardContext. startInternal failed to start. The complete detailed information will be found in the corresponding container log file,\norg.apache.catalina.core.StandardContext.filterStart Abnormal startup filter jfinal\ncom.swan.platform.common.PlatformException: Failed to start DBConfigPlugin, database configuration file not found!(启动DBConfigPlugin失败，没有找到数据库配置文件！)</p>\n<p><a href=\"https://i.stack.imgur.com/ZdRua.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/cbmB7.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe project can be run locally on IDEA and tomcat8.5, but deploying the project to tomcat8.5 on a remote server will result in an error</p>\n"},{"tags":["java","spring","postgresql","junit","flyway"],"answers":[{"tags":[],"owner":{"account_id":262115,"reputation":712,"user_id":546757,"accept_rate":40,"display_name":"Alan Cabrera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699237874,"creation_date":1699237874,"answer_id":77428447,"question_id":74952144,"body_markdown":"In https://stackoverflow.com/a/2784421/546757, a user posted that the issue was solved by adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL to disable prepared statements caching. That user claims that the error is due to Flyway clearing and recreating the schema between caching the statement and reusing it.\r\n\r\nI&#39;m not sure if the explanation is accurate, but adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL worked for me.","title":"I need help understanding why JUnit tests throw a `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`","body":"<p>In <a href=\"https://stackoverflow.com/a/2784421/546757\">https://stackoverflow.com/a/2784421/546757</a>, a user posted that the issue was solved by adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL to disable prepared statements caching. That user claims that the error is due to Flyway clearing and recreating the schema between caching the statement and reusing it.</p>\n<p>I'm not sure if the explanation is accurate, but adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL worked for me.</p>\n"}],"owner":{"account_id":8327656,"reputation":1,"user_id":6257236,"display_name":"eager_to_learn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699237874,"creation_date":1672322872,"question_id":74952144,"body_markdown":"I have a Spring application with a bunch of integration tests that use TestContainers and JUnit. I create a `protected static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)` that I then use in my tests, and I have a method annotated with `@BeforeEach` that cleans the DB and then re-apply the migration.\r\n\r\nEverything was working fine until I added a new migration script to my application:\r\n```sql\r\nCREATE TYPE user_state_enum AS ENUM (&#39;ACTIVE&#39;, &#39;DELETED&#39;);\r\n\r\nALTER TABLE users ALTER COLUMN user_state TYPE user_state_enum; -- this was a text field before\r\n```\r\nand suddenly I started getting some fails in my integration tests. It consistently fails on some tests while executing `userRepository.findByUserId(userId)` with the error `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`. I modified my entity Java class according to [this tutorial][1], so I created a class that extends from `org.hibernate.type.EnumType` and implemented the `nullSafeSet` method.\r\n\r\nI managed to solve the problem already by setting in my `application-test.yaml` the following property: \r\n```yaml\r\nspring:\r\n  datasource:\r\n    hikari:\r\n      data-source-properties:\r\n        preparedStatementCacheQueries: 0\r\n```\r\nbut I am still struggling to understand why this is happening. I read on some other SO posts that it might be due to Flyway altering the DB while I execute some `select` queries in a test, but afaik Flyway should be done migrating the DB once a test is executed, and the next migration should not start until the tests is done executing. I have an idea that it might be due to the fact that I delete and recreate the whole schema after every test, but I never encountered this behaviour in any other integration test I&#39;ve written.\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-enum-mappings/#Customized_Mapping_to_a_Database-Specific_Enum_Type","title":"I need help understanding why JUnit tests throw a `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`","body":"<p>I have a Spring application with a bunch of integration tests that use TestContainers and JUnit. I create a <code>protected static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)</code> that I then use in my tests, and I have a method annotated with <code>@BeforeEach</code> that cleans the DB and then re-apply the migration.</p>\n<p>Everything was working fine until I added a new migration script to my application:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE user_state_enum AS ENUM ('ACTIVE', 'DELETED');\n\nALTER TABLE users ALTER COLUMN user_state TYPE user_state_enum; -- this was a text field before\n</code></pre>\n<p>and suddenly I started getting some fails in my integration tests. It consistently fails on some tests while executing <code>userRepository.findByUserId(userId)</code> with the error <code>org.postgresql.util.PSQLException: ERROR: cached plan must not change result type</code>. I modified my entity Java class according to <a href=\"https://thorben-janssen.com/hibernate-enum-mappings/#Customized_Mapping_to_a_Database-Specific_Enum_Type\" rel=\"nofollow noreferrer\">this tutorial</a>, so I created a class that extends from <code>org.hibernate.type.EnumType</code> and implemented the <code>nullSafeSet</code> method.</p>\n<p>I managed to solve the problem already by setting in my <code>application-test.yaml</code> the following property:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    hikari:\n      data-source-properties:\n        preparedStatementCacheQueries: 0\n</code></pre>\n<p>but I am still struggling to understand why this is happening. I read on some other SO posts that it might be due to Flyway altering the DB while I execute some <code>select</code> queries in a test, but afaik Flyway should be done migrating the DB once a test is executed, and the next migration should not start until the tests is done executing. I have an idea that it might be due to the fact that I delete and recreate the whole schema after every test, but I never encountered this behaviour in any other integration test I've written.</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"comments":[{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":2,"creation_date":1654254809,"post_id":72168494,"comment_id":128052841,"body_markdown":"Have you resolved this issue?","body":"Have you resolved this issue?"},{"owner":{"account_id":9570349,"reputation":543,"user_id":7108174,"accept_rate":0,"display_name":"Nilesh"},"score":0,"creation_date":1657030063,"post_id":72168494,"comment_id":128709029,"body_markdown":"Bro have you solved this issue?","body":"Bro have you solved this issue?"},{"owner":{"account_id":13248215,"reputation":720,"user_id":9566611,"display_name":"abdou-tech"},"score":3,"creation_date":1657703354,"post_id":72168494,"comment_id":128871271,"body_markdown":"My project was working fine yesterday, today I got this issue out of nowhere without making any changes :(","body":"My project was working fine yesterday, today I got this issue out of nowhere without making any changes :("}],"answers":[{"tags":[],"owner":{"account_id":405812,"reputation":352,"user_id":774944,"accept_rate":83,"display_name":"jamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657666946,"creation_date":1657666946,"answer_id":72959212,"question_id":72168494,"body_markdown":"Download and install JDK \r\nyou can check this link for more help:\r\nhttps://github.com/Jire/Charlatano/issues/854","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>Download and install JDK\nyou can check this link for more help:\n<a href=\"https://github.com/Jire/Charlatano/issues/854\" rel=\"nofollow noreferrer\">https://github.com/Jire/Charlatano/issues/854</a></p>\n"},{"comments":[{"owner":{"account_id":8159345,"reputation":69,"user_id":6490115,"display_name":"RamboLu"},"score":0,"creation_date":1667879634,"post_id":74355509,"comment_id":131267449,"body_markdown":"update current jdk 11+","body":"update current jdk 11+"}],"tags":[],"owner":{"account_id":8159345,"reputation":69,"user_id":6490115,"display_name":"RamboLu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667879483,"creation_date":1667879483,"answer_id":74355509,"question_id":72168494,"body_markdown":"Try:\r\n\r\n    rm -rf ./node_modules\r\n    yarn\r\n    npm run android","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>Try:</p>\n<pre><code>rm -rf ./node_modules\nyarn\nnpm run android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28780839,"reputation":11,"user_id":22042499,"display_name":"Programmer Yearsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686232708,"creation_date":1686232708,"answer_id":76432640,"question_id":72168494,"body_markdown":"All you had to upgrade the gradle, \r\ngo to android/gradle/wrapper/gradle-wrapper.properties\r\nand change the distributionUrl to distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\r\n\r\nif it doesn&#39;t work just check the current version of the gradle in the link https://gradle.org/releases/ and replace with the gradle version in distributionUrl property. ","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>All you had to upgrade the gradle,\ngo to android/gradle/wrapper/gradle-wrapper.properties\nand change the distributionUrl to distributionUrl=https://services.gradle.org/distributions/gradle-8.1.1-all.zip</p>\n<p>if it doesn't work just check the current version of the gradle in the link <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a> and replace with the gradle version in distributionUrl property.</p>\n"}],"owner":{"account_id":25240193,"reputation":71,"user_id":19074165,"display_name":"Zeref"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11468,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1699236295,"creation_date":1652082025,"question_id":72168494,"body_markdown":"&gt; Task :react-native-gradle-plugin:compileKotlin FAILED\r\n&#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.\r\n1 actionable task: 1 executed\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRunner$kotlin_gradle_plugin&#39;.\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is \r\nrunning on a JDK, not JRE.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 31s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRunner$kotlin_gradle_plugin&#39;.\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is \r\nrunning on a JDK, not JRE.","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<blockquote>\n<p>Task :react-native-gradle-plugin:compileKotlin FAILED\n'compileJava' task (current target is 1.8) and 'compileKotlin' task (current target is 11) jvm target compatibility should be set to the same Java version.\n1 actionable task: 1 executed</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRunner$kotlin_gradle_plugin'.\nKotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is\nrunning on a JDK, not JRE.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 31s</p>\n<p>error Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRunner$kotlin_gradle_plugin'.\nKotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is\nrunning on a JDK, not JRE.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11163581,"reputation":1050,"user_id":8192914,"display_name":"ganjaam"},"score":1,"creation_date":1683779253,"post_id":76223772,"comment_id":134419536,"body_markdown":"Although I&#39;m unsure if pinging Google (or 8.8.8.8) is the best solution, I can vouch that it&#39;s reliable. So, if you don&#39;t have a problem waiting a few seconds to confirm whether the device is connected to the internet, I recommend this approach.","body":"Although I&#39;m unsure if pinging Google (or 8.8.8.8) is the best solution, I can vouch that it&#39;s reliable. So, if you don&#39;t have a problem waiting a few seconds to confirm whether the device is connected to the internet, I recommend this approach."}],"owner":{"account_id":11171166,"reputation":881,"user_id":8198089,"display_name":"Isma Rekathakusuma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699236191,"creation_date":1683772237,"question_id":76223772,"body_markdown":"I work on Unity and I have problem cehcek Internet connection. I try to use function from unity https://docs.unity3d.com/ScriptReference/Application-internetReachability.html . In document itselft said it&#39;s not realiable. I test it and yes, If you use this, when your device connect to WIFI without internet connection, above function will return true. So it&#39;s not realiable. My option right know is to detect internet connection from native for every platform. Right know I want to discuss for Android platform.\r\n\r\nI create function to detect internet connection at Android platform. Everything is work as expected except when device is connect to WIFI without internet connection. My expectation it should return NO_CONNECTIVITY but it&#39;s return CONNECTIVITY_WIFI. Here is my code at java :\r\n\r\n\r\n```\r\n//for Build.VERSION.SDK_INT &gt; 23\r\nint connectionType = CONNECTIVITY_UNKNOWN;\r\n\r\nNetwork[] networksList = connectivityManager.getAllNetworks();\r\n            int len = networksList.length;\r\n\r\n            if(len == 0) {\r\n                return NO_CONNECTIVITY;\r\n            }\r\n\r\n            for(Network network : networksList) {\r\n                NetworkCapabilities networkCapabilities = connectivityManager.getNetworkCapabilities(network);\r\n                if(networkCapabilities == null) {\r\n                    connectionType = NO_CONNECTIVITY;\r\n                    continue;\r\n                }\r\n                else {\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)\r\n                            &amp;&amp; !networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_WIFI_P2P)) {\r\n                        if(connectionType != CONNECTIVITY_ETHERNET) {\r\n                            connectionType = CONNECTIVITY_WIFI;\r\n                        }\r\n                    }\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\r\n                        if(connectionType != CONNECTIVITY_WIFI) {\r\n                            connectionType = CONNECTIVITY_CELLULAR;\r\n                        }\r\n                    }\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)) {\r\n                        connectionType = CONNECTIVITY_ETHERNET;\r\n                    }\r\n                }\r\n            }\r\n\r\nreturn connectionType;\r\n```\r\n\r\nThere are some answer suggest to ping google to check the connection. I don&#39;t know that is the best approach, maybe there is another way from the android sdk ?\r\n\r\n","title":"How to Detect Android Connect WIFI but without Internet Connection","body":"<p>I work on Unity and I have problem cehcek Internet connection. I try to use function from unity <a href=\"https://docs.unity3d.com/ScriptReference/Application-internetReachability.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/Application-internetReachability.html</a> . In document itselft said it's not realiable. I test it and yes, If you use this, when your device connect to WIFI without internet connection, above function will return true. So it's not realiable. My option right know is to detect internet connection from native for every platform. Right know I want to discuss for Android platform.</p>\n<p>I create function to detect internet connection at Android platform. Everything is work as expected except when device is connect to WIFI without internet connection. My expectation it should return NO_CONNECTIVITY but it's return CONNECTIVITY_WIFI. Here is my code at java :</p>\n<pre><code>//for Build.VERSION.SDK_INT &gt; 23\nint connectionType = CONNECTIVITY_UNKNOWN;\n\nNetwork[] networksList = connectivityManager.getAllNetworks();\n            int len = networksList.length;\n\n            if(len == 0) {\n                return NO_CONNECTIVITY;\n            }\n\n            for(Network network : networksList) {\n                NetworkCapabilities networkCapabilities = connectivityManager.getNetworkCapabilities(network);\n                if(networkCapabilities == null) {\n                    connectionType = NO_CONNECTIVITY;\n                    continue;\n                }\n                else {\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)\n                            &amp;&amp; !networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_WIFI_P2P)) {\n                        if(connectionType != CONNECTIVITY_ETHERNET) {\n                            connectionType = CONNECTIVITY_WIFI;\n                        }\n                    }\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                        if(connectionType != CONNECTIVITY_WIFI) {\n                            connectionType = CONNECTIVITY_CELLULAR;\n                        }\n                    }\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)) {\n                        connectionType = CONNECTIVITY_ETHERNET;\n                    }\n                }\n            }\n\nreturn connectionType;\n</code></pre>\n<p>There are some answer suggest to ping google to check the connection. I don't know that is the best approach, maybe there is another way from the android sdk ?</p>\n"},{"tags":["java","arraylist","android-wear-data-api","dataitem"],"answers":[{"tags":[],"owner":{"account_id":5923362,"reputation":103,"user_id":4660085,"accept_rate":73,"display_name":"conedmiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460764658,"creation_date":1460764658,"answer_id":36658586,"question_id":36394554,"body_markdown":"WearableListenerService is required REGARDLESS\r\n\r\nonly briefly mentioned in the documentation [which should definitely be updated] ","title":"How do I get past mGoogleApiClient.connect() when it doesn&#39;t seem to actually connect?","body":"<p>WearableListenerService is required REGARDLESS</p>\n\n<p>only briefly mentioned in the documentation [which should definitely be updated] </p>\n"}],"owner":{"account_id":5923362,"reputation":103,"user_id":4660085,"accept_rate":73,"display_name":"conedmiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36658586,"answer_count":1,"score":0,"last_activity_date":1699235201,"creation_date":1459743886,"question_id":36394554,"body_markdown":"I&#39;m trying to send an ArrayList&lt;String&gt; to my Android Wear device from the mobile device.\r\n\r\nUnfortunately I&#39;m not getting past the mGoogleApiClient.connect() as per my sop statements.\r\n\r\nWhat I&#39;ve done is set up a DataLayer item and used the onDataChanged() to monitor the code and the DataItem being sent with it, but unfortunately it seems like nothing is getting across.\r\n\r\nConsole output is at the bottom of the post, if that helps pinpoint anything.\r\n\r\n**MAIN ACTIVITY - MOBILE**\r\n\r\n    public class MainActivity extends AppCompatActivity implements  GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\r\n\r\n    Set&lt;String&gt; tasksSet;\r\n    ArrayList&lt;String&gt; actsList;\r\n    ArrayAdapter adapter;\r\n    ListView list;\r\n    GoogleApiClient mGoogleApiClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(Wearable.API)\r\n                .build();\r\n\r\n        mGoogleApiClient.connect();\r\n\r\n        if(!PreferenceManager.getDefaultSharedPreferences(this)\r\n                .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;()).isEmpty()) {\r\n            tasksSet = PreferenceManager.getDefaultSharedPreferences(this)\r\n                    .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;());\r\n            actsList = new ArrayList&lt;String&gt;(tasksSet);\r\n        }\r\n        else {\r\n            actsList = new ArrayList&lt;&gt;();\r\n            Set&lt;String&gt; tasksSet = new HashSet&lt;&gt;(actsList);\r\n            PreferenceManager.getDefaultSharedPreferences(this)\r\n                    .edit()\r\n                    .putStringSet(&quot;wristaroo&quot;, tasksSet)\r\n                    .commit();\r\n        }\r\n\r\n        xxxxxxx\r\n        other populating code\r\n        xxxxxxx\r\n\r\n        Button btnSend = (Button) findViewById(R.id.sendButton);\r\n        btnSend.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                sendCustomSchedule(actsList);\r\n                System.out.println(&quot;Button Pressed: Send&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void populateListView() {\r\n        list = (ListView) findViewById(R.id.listViewAdd);\r\n        list.setAdapter(adapter);\r\n    }\r\n\r\n    public MainActivity getActivity() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n\r\n    public void sendCustomSchedule(ArrayList&lt;String&gt; customSchedule) {\r\n        PutDataMapRequest putDataMapRequest = PutDataMapRequest.create(&quot;/customSched&quot;);\r\n\r\n        putDataMapRequest.getDataMap().putStringArrayList(&quot;customSched&quot;, customSchedule);\r\n\r\n        PutDataRequest request = putDataMapRequest.asPutDataRequest().setUrgent();\r\n        Wearable.DataApi.putDataItem(mGoogleApiClient, request)\r\n                .setResultCallback(new ResultCallback&lt;DataApi.DataItemResult&gt;() {\r\n                    @Override\r\n                    public void onResult(@NonNull DataApi.DataItemResult dataItemResult) {\r\n                        if(!dataItemResult.getStatus().isSuccess()) {\r\n                            System.out.println(&quot;Apparent Failure!&quot;);\r\n                        } else {\r\n\r\n                            System.out.println(&quot;Apparent Success!&quot;);\r\n                        }\r\n                    }\r\n                });\r\n        System.out.println(&quot;When in doubt...&quot;);\r\n        }\r\n    }\r\n\r\n**MAIN ACTIVITY - WEAR**\r\n\r\n     public class byTimeActivity extends Activity  implements DataApi.DataListener,GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener   {\r\n    ArrayList&lt;String&gt; choicesList;\r\n    ArrayAdapter adapter;\r\n    ListView list;\r\n    ArrayList&lt;String&gt; data;\r\n    String dayExtra;\r\n    String howExtra;\r\n    String schedExtra;\r\n    GoogleApiClient mGoogleApiClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(Wearable.API)\r\n                .build();\r\n\r\n        mGoogleApiClient.connect();\r\n\r\n        setContentView(R.layout.activity_main);\r\n        final WatchViewStub stub = (WatchViewStub) findViewById(R.id.watch_view_stub);\r\n\r\n        dayExtra = getIntent().getExtras().getString(&quot;dayExtra&quot;);\r\n        schedExtra = getIntent().getExtras().getString(&quot;schedExtra&quot;);\r\n        howExtra = getIntent().getExtras().getString(&quot;howExtra&quot;);\r\n\r\n        System.out.println(&quot;dayExtra: &quot; + dayExtra);\r\n        System.out.println(&quot;schedExtra: &quot; + schedExtra);\r\n        System.out.println(&quot;howExtra: &quot; + howExtra);\r\n\r\n        switch(dayExtra) {\r\n            case &quot;Thursday&quot;:\r\n                if(schedExtra.equals(&quot;Full Schedule&quot;)) {\r\n                    setStage(thTime);\r\n                }\r\n                if(schedExtra.equals(&quot;Custom Schedule&quot;)) {\r\n                    adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, data);\r\n                }\r\n                break;\r\n            case &quot;Friday&quot;:\r\n                setStage(frTime);\r\n                break;\r\n            case &quot;Saturday&quot;:\r\n                setStage(saTime);\r\n                break;\r\n            case &quot;Sunday&quot;:\r\n                setStage(suTime);\r\n                break;\r\n        }\r\n        stub.setOnLayoutInflatedListener(new WatchViewStub.OnLayoutInflatedListener() {\r\n            @Override\r\n            public void onLayoutInflated(WatchViewStub stub) {\r\n                list = (ListView) findViewById(R.id.mainChoiceList);\r\n                list.setAdapter(adapter);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setStage(String[] dayStage) {\r\n        choicesList = new ArrayList&lt;&gt;(Arrays.asList(dayStage));\r\n        adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, choicesList);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mGoogleApiClient.connect();\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        Wearable.DataApi.addListener(mGoogleApiClient, this);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        Wearable.DataApi.removeListener(mGoogleApiClient, this);\r\n        mGoogleApiClient.disconnect();\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDataChanged(DataEventBuffer dataEvents) {\r\n        for (DataEvent event : dataEvents) {\r\n            if (event.getType() == DataEvent.TYPE_CHANGED) {\r\n                DataItem item = event.getDataItem();\r\n                if (item.getUri().getPath().compareTo(&quot;/customSched&quot;) == 0) {\r\n                    DataMap dataMap = DataMapItem.fromDataItem(item).getDataMap();\r\n                    data = dataMap.getStringArrayList(&quot;customSched&quot;);\r\n\r\n                    System.out.println(&quot;Data: &quot; + data);\r\n                }\r\n            } else if (event.getType() == DataEvent.TYPE_DELETED) {\r\n                //dataItem Deleted\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n    }\r\n\r\n\r\n**CONSOLE OUTPUT - MOBILE**\r\n\r\n    W/System: ClassLoader referenced unknown path: /data/app/com.conedmiro.schedaroo-2/lib/arm\r\n    I/GMPM: App measurement is starting up, version: 8487\r\n    I/GMPM: To enable debug logging run: adb shell setprop log.tag.GMPM VERBOSE\r\n    E/GMPM: GoogleService failed to initialize, status: 10, Missing an expected resource: &#39;R.string.google_app_id&#39; for initializing Google services.  Possible causes are missing google-services.json or com.google.gms.google-services gradle plugin.\r\n    E/GMPM: Scheduler not set. Not logging error/warn.\r\n    E/GMPM: Uploading is not possible. App measurement disabled\r\n    D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n    I/Adreno200-EGL: &lt;qeglDrvAPI_eglInitialize:265&gt;: EGL 1.4 QUALCOMM build: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059_msm8960_JB_2.5.5_CL3896081_release_AU (CL3896081)\r\n            Build Date: 06/25/13 Tue\r\n            Local Branch:\r\n            Remote Branch: quic/jb_2.5.5\r\n            Local Patches: NONE\r\n            Reconstruct Branch: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059 +  NOTHING\r\n    I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    W/art: Before Android 4.1, method int android.support.v7.widget.ListViewCompat.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\r\n    I/System.out: When in doubt...\r\n    I/System.out: Button Pressed: Send\r\n    I/System.out: Apparent Success!\r\n\r\n**CONSOLE OUTPUT - WEAR**\r\n\r\n    W/art: Suspending all threads took: 17.121ms\r\n    I/art: Background sticky concurrent mark sweep GC freed 1601(90KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 508KB/663KB, paused 20.603ms total 53.990ms\r\n    W/art: Suspending all threads took: 5.855ms\r\n    I/art: Background partial concurrent mark sweep GC freed 168(48KB) AllocSpace objects, 0(0B) LOS objects, 45% free, 611KB/1123KB, paused 8.179ms total 61.166ms\r\n    I/System.out: mGoogleApiClient connected!\r\n    W/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\r\n    D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n                                                                                           \r\n          [ 04-03 23:16:13.428 15148:15148 D/         ]\r\n          HostConnection::get() New Host Connection established 0xb3edca60, tid 15148\r\n    D/Atlas: Validating map...\r\n    I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    D/OpenGLRenderer: Enabling debug mode 0\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f625e0, error=EGL_SUCCESS\r\n    I/System.out: mGoogleApiClient disconnected! //dis/connecting in MainActivity, before switching activities\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f628a0, error=EGL_SUCCESS\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f62700, error=EGL_SUCCESS\r\n    I/System.out: schedExtra: Custom Schedule\r\n    I/System.out: dayExtra: Thursday\r\n    I/System.out: howExtra: By Time\r\n    I/System.out: dayExtra: Thursday\r\n    I/System.out: schedExtra: Custom Schedule\r\n    I/System.out: howExtra: By Time\r\n    I/System.out: mGoogleApiClient connected!\r\n    D/AndroidRuntime: Shutting down VM                                                                                       \r\n                                                                                           \r\n    --------- beginning of crash\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n          Process: com.conedmiro.schedaroo, PID: 15148\r\n          java.lang.NullPointerException: Attempt to invoke interface method &#39;int java.util.List.size()&#39; on a null object reference\r\n    W/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\r\n\r\n","title":"How do I get past mGoogleApiClient.connect() when it doesn&#39;t seem to actually connect?","body":"<p>I'm trying to send an ArrayList to my Android Wear device from the mobile device.</p>\n<p>Unfortunately I'm not getting past the mGoogleApiClient.connect() as per my sop statements.</p>\n<p>What I've done is set up a DataLayer item and used the onDataChanged() to monitor the code and the DataItem being sent with it, but unfortunately it seems like nothing is getting across.</p>\n<p>Console output is at the bottom of the post, if that helps pinpoint anything.</p>\n<p><strong>MAIN ACTIVITY - MOBILE</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements  GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\n\nSet&lt;String&gt; tasksSet;\nArrayList&lt;String&gt; actsList;\nArrayAdapter adapter;\nListView list;\nGoogleApiClient mGoogleApiClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    mGoogleApiClient = new GoogleApiClient.Builder(this)\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(Wearable.API)\n            .build();\n\n    mGoogleApiClient.connect();\n\n    if(!PreferenceManager.getDefaultSharedPreferences(this)\n            .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;()).isEmpty()) {\n        tasksSet = PreferenceManager.getDefaultSharedPreferences(this)\n                .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;());\n        actsList = new ArrayList&lt;String&gt;(tasksSet);\n    }\n    else {\n        actsList = new ArrayList&lt;&gt;();\n        Set&lt;String&gt; tasksSet = new HashSet&lt;&gt;(actsList);\n        PreferenceManager.getDefaultSharedPreferences(this)\n                .edit()\n                .putStringSet(&quot;wristaroo&quot;, tasksSet)\n                .commit();\n    }\n\n    xxxxxxx\n    other populating code\n    xxxxxxx\n\n    Button btnSend = (Button) findViewById(R.id.sendButton);\n    btnSend.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            sendCustomSchedule(actsList);\n            System.out.println(&quot;Button Pressed: Send&quot;);\n        }\n    });\n}\n\nprivate void populateListView() {\n    list = (ListView) findViewById(R.id.listViewAdd);\n    list.setAdapter(adapter);\n}\n\npublic MainActivity getActivity() {\n    return this;\n}\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n}\n\npublic void sendCustomSchedule(ArrayList&lt;String&gt; customSchedule) {\n    PutDataMapRequest putDataMapRequest = PutDataMapRequest.create(&quot;/customSched&quot;);\n\n    putDataMapRequest.getDataMap().putStringArrayList(&quot;customSched&quot;, customSchedule);\n\n    PutDataRequest request = putDataMapRequest.asPutDataRequest().setUrgent();\n    Wearable.DataApi.putDataItem(mGoogleApiClient, request)\n            .setResultCallback(new ResultCallback&lt;DataApi.DataItemResult&gt;() {\n                @Override\n                public void onResult(@NonNull DataApi.DataItemResult dataItemResult) {\n                    if(!dataItemResult.getStatus().isSuccess()) {\n                        System.out.println(&quot;Apparent Failure!&quot;);\n                    } else {\n\n                        System.out.println(&quot;Apparent Success!&quot;);\n                    }\n                }\n            });\n    System.out.println(&quot;When in doubt...&quot;);\n    }\n}\n</code></pre>\n<p><strong>MAIN ACTIVITY - WEAR</strong></p>\n<pre><code> public class byTimeActivity extends Activity  implements DataApi.DataListener,GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener   {\nArrayList&lt;String&gt; choicesList;\nArrayAdapter adapter;\nListView list;\nArrayList&lt;String&gt; data;\nString dayExtra;\nString howExtra;\nString schedExtra;\nGoogleApiClient mGoogleApiClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n\n    mGoogleApiClient = new GoogleApiClient.Builder(this)\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(Wearable.API)\n            .build();\n\n    mGoogleApiClient.connect();\n\n    setContentView(R.layout.activity_main);\n    final WatchViewStub stub = (WatchViewStub) findViewById(R.id.watch_view_stub);\n\n    dayExtra = getIntent().getExtras().getString(&quot;dayExtra&quot;);\n    schedExtra = getIntent().getExtras().getString(&quot;schedExtra&quot;);\n    howExtra = getIntent().getExtras().getString(&quot;howExtra&quot;);\n\n    System.out.println(&quot;dayExtra: &quot; + dayExtra);\n    System.out.println(&quot;schedExtra: &quot; + schedExtra);\n    System.out.println(&quot;howExtra: &quot; + howExtra);\n\n    switch(dayExtra) {\n        case &quot;Thursday&quot;:\n            if(schedExtra.equals(&quot;Full Schedule&quot;)) {\n                setStage(thTime);\n            }\n            if(schedExtra.equals(&quot;Custom Schedule&quot;)) {\n                adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, data);\n            }\n            break;\n        case &quot;Friday&quot;:\n            setStage(frTime);\n            break;\n        case &quot;Saturday&quot;:\n            setStage(saTime);\n            break;\n        case &quot;Sunday&quot;:\n            setStage(suTime);\n            break;\n    }\n    stub.setOnLayoutInflatedListener(new WatchViewStub.OnLayoutInflatedListener() {\n        @Override\n        public void onLayoutInflated(WatchViewStub stub) {\n            list = (ListView) findViewById(R.id.mainChoiceList);\n            list.setAdapter(adapter);\n        }\n    });\n}\n\nprivate void setStage(String[] dayStage) {\n    choicesList = new ArrayList&lt;&gt;(Arrays.asList(dayStage));\n    adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, choicesList);\n    adapter.notifyDataSetChanged();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    mGoogleApiClient.connect();\n}\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n    Wearable.DataApi.addListener(mGoogleApiClient, this);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    Wearable.DataApi.removeListener(mGoogleApiClient, this);\n    mGoogleApiClient.disconnect();\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onDataChanged(DataEventBuffer dataEvents) {\n    for (DataEvent event : dataEvents) {\n        if (event.getType() == DataEvent.TYPE_CHANGED) {\n            DataItem item = event.getDataItem();\n            if (item.getUri().getPath().compareTo(&quot;/customSched&quot;) == 0) {\n                DataMap dataMap = DataMapItem.fromDataItem(item).getDataMap();\n                data = dataMap.getStringArrayList(&quot;customSched&quot;);\n\n                System.out.println(&quot;Data: &quot; + data);\n            }\n        } else if (event.getType() == DataEvent.TYPE_DELETED) {\n            //dataItem Deleted\n        }\n    }\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n}\n}\n</code></pre>\n<p><strong>CONSOLE OUTPUT - MOBILE</strong></p>\n<pre><code>W/System: ClassLoader referenced unknown path: /data/app/com.conedmiro.schedaroo-2/lib/arm\nI/GMPM: App measurement is starting up, version: 8487\nI/GMPM: To enable debug logging run: adb shell setprop log.tag.GMPM VERBOSE\nE/GMPM: GoogleService failed to initialize, status: 10, Missing an expected resource: 'R.string.google_app_id' for initializing Google services.  Possible causes are missing google-services.json or com.google.gms.google-services gradle plugin.\nE/GMPM: Scheduler not set. Not logging error/warn.\nE/GMPM: Uploading is not possible. App measurement disabled\nD/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\nI/Adreno200-EGL: &lt;qeglDrvAPI_eglInitialize:265&gt;: EGL 1.4 QUALCOMM build: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059_msm8960_JB_2.5.5_CL3896081_release_AU (CL3896081)\n        Build Date: 06/25/13 Tue\n        Local Branch:\n        Remote Branch: quic/jb_2.5.5\n        Local Patches: NONE\n        Reconstruct Branch: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059 +  NOTHING\nI/OpenGLRenderer: Initialized EGL, version 1.4\nW/art: Before Android 4.1, method int android.support.v7.widget.ListViewCompat.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\nI/System.out: When in doubt...\nI/System.out: Button Pressed: Send\nI/System.out: Apparent Success!\n</code></pre>\n<p><strong>CONSOLE OUTPUT - WEAR</strong></p>\n<pre><code>W/art: Suspending all threads took: 17.121ms\nI/art: Background sticky concurrent mark sweep GC freed 1601(90KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 508KB/663KB, paused 20.603ms total 53.990ms\nW/art: Suspending all threads took: 5.855ms\nI/art: Background partial concurrent mark sweep GC freed 168(48KB) AllocSpace objects, 0(0B) LOS objects, 45% free, 611KB/1123KB, paused 8.179ms total 61.166ms\nI/System.out: mGoogleApiClient connected!\nW/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\nD/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\n                                                                                       \n      [ 04-03 23:16:13.428 15148:15148 D/         ]\n      HostConnection::get() New Host Connection established 0xb3edca60, tid 15148\nD/Atlas: Validating map...\nI/OpenGLRenderer: Initialized EGL, version 1.4\nD/OpenGLRenderer: Enabling debug mode 0\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f625e0, error=EGL_SUCCESS\nI/System.out: mGoogleApiClient disconnected! //dis/connecting in MainActivity, before switching activities\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f628a0, error=EGL_SUCCESS\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f62700, error=EGL_SUCCESS\nI/System.out: schedExtra: Custom Schedule\nI/System.out: dayExtra: Thursday\nI/System.out: howExtra: By Time\nI/System.out: dayExtra: Thursday\nI/System.out: schedExtra: Custom Schedule\nI/System.out: howExtra: By Time\nI/System.out: mGoogleApiClient connected!\nD/AndroidRuntime: Shutting down VM                                                                                       \n                                                                                       \n--------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.conedmiro.schedaroo, PID: 15148\n      java.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference\nW/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\n</code></pre>\n"},{"tags":["java","reflection","final"],"comments":[{"owner":{"account_id":2127643,"reputation":4031,"user_id":1889327,"accept_rate":48,"display_name":"andy"},"score":0,"creation_date":1375871553,"post_id":1615163,"comment_id":26497131,"body_markdown":"this may tightly related to the compiler.","body":"this may tightly related to the compiler."}],"answers":[{"comments":[{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1256323383,"post_id":1615218,"comment_id":1481825,"body_markdown":"So they are. For primitive int I expected the result I got back. It&#39;s String that puzzles me. Do you have a more concrete link to JLS where that is described?","body":"So they are. For primitive int I expected the result I got back. It&#39;s String that puzzles me. Do you have a more concrete link to JLS where that is described?"},{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":0,"creation_date":1256323513,"post_id":1615218,"comment_id":1481840,"body_markdown":"This is certainly part of the answer, but how is it that if you acces the string via the reflection field.get you get a different value than if you ask the object directly?","body":"This is certainly part of the answer, but how is it that if you acces the string via the reflection field.get you get a different value than if you ask the object directly?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1256323669,"post_id":1615218,"comment_id":1481847,"body_markdown":"ChssPly76: Added the two interesting sections. Steve B: If you use reflection you go back to the value that the reflected class file has set to that field. If you reference it directly, the value is copied at (javac) compile-time (so long as it is a compile-time constant).","body":"ChssPly76: Added the two interesting sections. Steve B: If you use reflection you go back to the value that the reflected class file has set to that field. If you reference it directly, the value is copied at (javac) compile-time (so long as it is a compile-time constant)."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1256324318,"post_id":1615218,"comment_id":1481916,"body_markdown":"@Tom - thank you. I find it strange that JLS gives special treatment to String but not primitive wrappers in this matter, but it is what it is. Constant inlining description could have been a lot better; it you  haven&#39;t pointed the exact paragraph I would have never found it.","body":"@Tom - thank you. I find it strange that JLS gives special treatment to String but not primitive wrappers in this matter, but it is what it is. Constant inlining description could have been a lot better; it you  haven&#39;t pointed the exact paragraph I would have never found it."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1256335565,"post_id":1615218,"comment_id":1482899,"body_markdown":"This almost makes sense... except see my answer (forthcoming).","body":"This almost makes sense... except see my answer (forthcoming)."},{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":0,"creation_date":1350633489,"post_id":1615218,"comment_id":17586834,"body_markdown":"The special behavior for the string comes from String interning. Strings defined at compile time are stored in a special pool in the JVM (which you can add strings to with String.intern()). The compiler will then treat the reference to this interned String as a constant. The compiler has directly replaced all references to stringValue with the reference to the single instance of &quot;42&quot; that exists in the interned strings pool.","body":"The special behavior for the string comes from String interning. Strings defined at compile time are stored in a special pool in the JVM (which you can add strings to with String.intern()). The compiler will then treat the reference to this interned String as a constant. The compiler has directly replaced all references to stringValue with the reference to the single instance of &quot;42&quot; that exists in the interned strings pool."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":6,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1699234432,"creation_date":1256323163,"answer_id":1615218,"question_id":1615163,"body_markdown":"Compile-time constants are inlined (at javac compile-time). See the JLS, in particular 15.28 defines a constant expression and 13.4.9 discusses binary compatibility or final fields and constants.\r\n\r\nIf you make the field non-final or assign a non-compile time constant, the value is not inlined. For instance:\r\n\r\n```java\r\nprivate final String stringValue = null!=null?&quot;&quot;: &quot;42&quot;;\r\n```","title":"Modifying final fields in Java","body":"<p>Compile-time constants are inlined (at javac compile-time). See the JLS, in particular 15.28 defines a constant expression and 13.4.9 discusses binary compatibility or final fields and constants.</p>\n<p>If you make the field non-final or assign a non-compile time constant, the value is not inlined. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String stringValue = null!=null?&quot;&quot;: &quot;42&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":6,"creation_date":1256336340,"post_id":1616206,"comment_id":1482962,"body_markdown":"The real question is &quot;why the other two do not change?&quot; And the answer is - because their values are inlined in getters (Tom&#39;s answer points to JLS sections describing this behavior). Inlining only happens for primitive types and String (assuming the other conditions like final / constant expression / etc... are satisfied).  Thus int and String return 42 from getters; Integer does not. The **actual** values have been changed for all 3 fields. If this is confusing - and it is :-) - decompile the class and you&#39;ll see what I mean.","body":"The real question is &quot;why the other two do not change?&quot; And the answer is - because their values are inlined in getters (Tom&#39;s answer points to JLS sections describing this behavior). Inlining only happens for primitive types and String (assuming the other conditions like final / constant expression / etc... are satisfied).  Thus int and String return 42 from getters; Integer does not. The <b>actual</b> values have been changed for all 3 fields. If this is confusing - and it is :-) - decompile the class and you&#39;ll see what I mean."}],"tags":[],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256335888,"creation_date":1256335888,"answer_id":1616206,"question_id":1615163,"body_markdown":"This is not an answer, but it brings up another point of confusion:\r\n\r\nI wanted to see if the issue was compile-time evaluation or whether the reflection was actually allowing Java to get around the `final` keyword. Here&#39;s a test program. All I added was another set of getter calls, so there&#39;s one before and after each `changeField()` call.\r\n\r\n    package com.example.gotchas;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class MostlyFinal {\r\n      private final int primitiveInt = 42;\r\n      private final Integer wrappedInt = 42;\r\n      private final String stringValue = &quot;42&quot;;\r\n    \r\n      public int getPrimitiveInt()   { return this.primitiveInt; }\r\n      public int getWrappedInt()     { return this.wrappedInt; }\r\n      public String getStringValue() { return this.stringValue; }\r\n    \r\n      public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\r\n        Field field = MostlyFinal.class.getDeclaredField(name);\r\n        field.setAccessible(true);\r\n        field.set(this, value);\r\n        System.out.println(&quot;reflection: &quot; + name + &quot; = &quot; + field.get(this));\r\n      }\r\n    \r\n      public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\r\n        MostlyFinal test = new MostlyFinal();\r\n    \r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n        test.changeField(&quot;primitiveInt&quot;, 84);\r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n    \r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n        test.changeField(&quot;wrappedInt&quot;, 84);\r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n    \r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n        test.changeField(&quot;stringValue&quot;, &quot;84&quot;);\r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n      }\r\n    }\r\n\r\nHere&#39;s the output I get (under Eclipse, Java 1.6)\r\n\r\n    direct: primitiveInt = 42\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    \r\n    direct: wrappedInt = 42\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    \r\n    direct: stringValue = 42\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42\r\n\r\nWhy the heck does the direct call to getWrappedInt() change ?","title":"Modifying final fields in Java","body":"<p>This is not an answer, but it brings up another point of confusion:</p>\n\n<p>I wanted to see if the issue was compile-time evaluation or whether the reflection was actually allowing Java to get around the <code>final</code> keyword. Here's a test program. All I added was another set of getter calls, so there's one before and after each <code>changeField()</code> call.</p>\n\n<pre><code>package com.example.gotchas;\n\nimport java.lang.reflect.Field;\n\npublic class MostlyFinal {\n  private final int primitiveInt = 42;\n  private final Integer wrappedInt = 42;\n  private final String stringValue = \"42\";\n\n  public int getPrimitiveInt()   { return this.primitiveInt; }\n  public int getWrappedInt()     { return this.wrappedInt; }\n  public String getStringValue() { return this.stringValue; }\n\n  public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\n    Field field = MostlyFinal.class.getDeclaredField(name);\n    field.setAccessible(true);\n    field.set(this, value);\n    System.out.println(\"reflection: \" + name + \" = \" + field.get(this));\n  }\n\n  public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\n    MostlyFinal test = new MostlyFinal();\n\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n    test.changeField(\"primitiveInt\", 84);\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n\n    System.out.println();\n\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n    test.changeField(\"wrappedInt\", 84);\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n\n    System.out.println();\n\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n    test.changeField(\"stringValue\", \"84\");\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n  }\n}\n</code></pre>\n\n<p>Here's the output I get (under Eclipse, Java 1.6)</p>\n\n<pre><code>direct: primitiveInt = 42\nreflection: primitiveInt = 84\ndirect: primitiveInt = 42\n\ndirect: wrappedInt = 42\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\n\ndirect: stringValue = 42\nreflection: stringValue = 84\ndirect: stringValue = 42\n</code></pre>\n\n<p>Why the heck does the direct call to getWrappedInt() change ?</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1264076032,"post_id":2107976,"comment_id":2043986,"body_markdown":"to read the `wrappedInt` you can use `getObject` instead of `getInt`","body":"to read the <code>wrappedInt</code> you can use <code>getObject</code> instead of <code>getInt</code>"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1264089896,"creation_date":1264064545,"answer_id":2107976,"question_id":1615163,"body_markdown":"Reflection&#39;s `set(..)` method works with `FieldAccessor`s.\r\n\r\nFor `int` it gets an `UnsafeQualifiedIntegerFieldAccessorImpl`, whose superclass defines the `readOnly` property to be true only if the field is _both_ `static` and `final`\r\n\r\nSo to first answer the unasked question - here&#39;s why the `final` is changed without exception.\r\n\r\nAll subclasses of `UnsafeQualifiedFieldAccessor` use the `sun.misc.Unsafe` class to get the values. The methods there are all `native`, but their names are `getVolatileInt(..)` and `getInt(..)` (`getVolatileObject(..)` and `getObject(..)` respectively). The aforementioned accessors use the &quot;volatile&quot; version. Here&#39;s what happens if we add the non-volatile version:\r\n\r\n    System.out.println(&quot;reflection: non-volatile primitiveInt = &quot;\r\n         unsafe.getInt(test, (long) unsafe.fieldOffset(getField(&quot;primitiveInt&quot;))));\r\n\r\n(where `unsafe` is instantiated by reflection - it is not allowed otherwise)\r\n(and I call `getObject` for `Integer` and `String`)\r\n\r\nThat gives some interesting results:\r\n\r\n\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    reflection: non-volatile primitiveInt = 84\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    reflection: non-volatile wrappedInt = 84\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42\r\n    reflection: non-volatile stringValue = 84\r\n\r\n\r\nAt this point I recall &lt;a href=&quot;http://www.javaspecialists.eu/archive/Issue096.html&quot;&gt;an article at javaspecialists.eu&lt;/a&gt; discussing an related matter. It quotes &lt;a href=&quot;http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf&quot;&gt;JSR-133&lt;/a&gt;:\r\n\r\n&gt; If a final field is initialized to a compile-time constant in the field declaration, changes to the final field may not be observed, since uses of that final field are replaced at compile time with the compile-time constant.\r\n\r\nChapter 9 discusses the details observed in this question.\r\n\r\nAnd it turns out this behaviour is not that unexpected, since modifications of `final` fields are supposed to happen only right after initialization of the object.","title":"Modifying final fields in Java","body":"<p>Reflection's <code>set(..)</code> method works with <code>FieldAccessor</code>s.</p>\n\n<p>For <code>int</code> it gets an <code>UnsafeQualifiedIntegerFieldAccessorImpl</code>, whose superclass defines the <code>readOnly</code> property to be true only if the field is <em>both</em> <code>static</code> and <code>final</code></p>\n\n<p>So to first answer the unasked question - here's why the <code>final</code> is changed without exception.</p>\n\n<p>All subclasses of <code>UnsafeQualifiedFieldAccessor</code> use the <code>sun.misc.Unsafe</code> class to get the values. The methods there are all <code>native</code>, but their names are <code>getVolatileInt(..)</code> and <code>getInt(..)</code> (<code>getVolatileObject(..)</code> and <code>getObject(..)</code> respectively). The aforementioned accessors use the \"volatile\" version. Here's what happens if we add the non-volatile version:</p>\n\n<pre><code>System.out.println(\"reflection: non-volatile primitiveInt = \"\n     unsafe.getInt(test, (long) unsafe.fieldOffset(getField(\"primitiveInt\"))));\n</code></pre>\n\n<p>(where <code>unsafe</code> is instantiated by reflection - it is not allowed otherwise)\n(and I call <code>getObject</code> for <code>Integer</code> and <code>String</code>)</p>\n\n<p>That gives some interesting results:</p>\n\n<pre><code>reflection: primitiveInt = 84\ndirect: primitiveInt = 42\nreflection: non-volatile primitiveInt = 84\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\nreflection: non-volatile wrappedInt = 84\nreflection: stringValue = 84\ndirect: stringValue = 42\nreflection: non-volatile stringValue = 84\n</code></pre>\n\n<p>At this point I recall <a href=\"http://www.javaspecialists.eu/archive/Issue096.html\" rel=\"noreferrer\">an article at javaspecialists.eu</a> discussing an related matter. It quotes <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf\" rel=\"noreferrer\">JSR-133</a>:</p>\n\n<blockquote>\n  <p>If a final field is initialized to a compile-time constant in the field declaration, changes to the final field may not be observed, since uses of that final field are replaced at compile time with the compile-time constant.</p>\n</blockquote>\n\n<p>Chapter 9 discusses the details observed in this question.</p>\n\n<p>And it turns out this behaviour is not that unexpected, since modifications of <code>final</code> fields are supposed to happen only right after initialization of the object.</p>\n"},{"comments":[{"owner":{"account_id":194284,"reputation":4206,"user_id":436524,"accept_rate":72,"display_name":"Octavia Togami"},"score":0,"creation_date":1400090058,"post_id":4931092,"comment_id":36345602,"body_markdown":"Actually I think that Integers might have a value for the upper limit of the cache, so you could go higher than that!","body":"Actually I think that Integers might have a value for the upper limit of the cache, so you could go higher than that!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664203470,"post_id":4931092,"comment_id":130411520,"body_markdown":"It reads even funnier without the `valueOf` calls, i.e. `value.setInt(7, 666); Integer testInt = 7; System.out.println(testInt);` However, with recent Java versions, such manipulations are not that easy anymore.","body":"It reads even funnier without the <code>valueOf</code> calls, i.e. <code>value.setInt(7, 666); Integer testInt = 7; System.out.println(testInt);</code> However, with recent Java versions, such manipulations are not that easy anymore."}],"tags":[],"owner":{"account_id":110019,"reputation":271,"user_id":291304,"display_name":"GandalfIX"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1297154925,"creation_date":1297154925,"answer_id":4931092,"question_id":1615163,"body_markdown":"In my opinion this is even worse: A colleague pointed to the following funny thing:\r\n\r\n    @Test public void  testInteger() throws SecurityException,  NoSuchFieldException, IllegalArgumentException, IllegalAccessException  { &#160;&#160;&#160;  \r\n        Field value = Integer.class.getDeclaredField(&quot;value&quot;); &#160;&#160;&#160;  \r\n        value.setAccessible(true);  &#160;&#160;&#160;  \r\n        Integer manipulatedInt = Integer.valueOf(7); &#160;&#160;&#160;  \r\n        value.setInt(manipulatedInt, 666);  &#160;&#160;&#160;  \r\n        Integer testInt = Integer.valueOf(7); &#160;&#160;&#160;  \r\n        System.out.println(testInt.toString());\r\n    }\r\n\r\nBy doing this, you can change the behaviour of the whole JVM you are running in.\r\n(of course you can change only the values for the values between -127 and 127)","title":"Modifying final fields in Java","body":"<p>In my opinion this is even worse: A colleague pointed to the following funny thing:</p>\n\n<pre><code>@Test public void  testInteger() throws SecurityException,  NoSuchFieldException, IllegalArgumentException, IllegalAccessException  {      \n    Field value = Integer.class.getDeclaredField(\"value\");      \n    value.setAccessible(true);       \n    Integer manipulatedInt = Integer.valueOf(7);      \n    value.setInt(manipulatedInt, 666);       \n    Integer testInt = Integer.valueOf(7);      \n    System.out.println(testInt.toString());\n}\n</code></pre>\n\n<p>By doing this, you can change the behaviour of the whole JVM you are running in.\n(of course you can change only the values for the values between -127 and 127)</p>\n"},{"tags":[],"owner":{"account_id":2498779,"reputation":1563,"user_id":2174504,"accept_rate":48,"display_name":"Joan P.S"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388496890,"creation_date":1388496890,"answer_id":20858219,"question_id":1615163,"body_markdown":"There is a work around for this. if you set the value of the private static final filed in the static {} block it will work because it will not inline the fileld:\r\n\r\n    private static final String MY_FIELD;\r\n    \r\n    static {\r\n        MY_FIELD = &quot;SomeText&quot;\r\n    }\r\n    \r\n    ...\r\n    \r\n    Field field = VisitorId.class.getDeclaredField(&quot;MY_FIELD&quot;);\r\n    \t\t\t\t\r\n    field.setAccessible(true);\r\n    field.set(field, &quot;fakeText&quot;);\r\n","title":"Modifying final fields in Java","body":"<p>There is a work around for this. if you set the value of the private static final filed in the static {} block it will work because it will not inline the fileld:</p>\n\n<pre><code>private static final String MY_FIELD;\n\nstatic {\n    MY_FIELD = \"SomeText\"\n}\n\n...\n\nField field = VisitorId.class.getDeclaredField(\"MY_FIELD\");\n\nfield.setAccessible(true);\nfield.set(field, \"fakeText\");\n</code></pre>\n"}],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13633,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":1615218,"answer_count":5,"score":54,"last_activity_date":1699234432,"creation_date":1256322485,"question_id":1615163,"body_markdown":"Let&#39;s start with a simple test case:\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    public class Test {\r\n      private final int primitiveInt = 42;\r\n      private final Integer wrappedInt = 42;\r\n      private final String stringValue = &quot;42&quot;;\r\n    \r\n      public int getPrimitiveInt()   { return this.primitiveInt; }\r\n      public int getWrappedInt()     { return this.wrappedInt; }\r\n      public String getStringValue() { return this.stringValue; }\r\n      \r\n      public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\r\n        Field field = Test.class.getDeclaredField(name);\r\n        field.setAccessible(true);\r\n        field.set(this, value);\r\n        System.out.println(&quot;reflection: &quot; + name + &quot; = &quot; + field.get(this));\r\n      }\r\n    \r\n      public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\r\n        Test test = new Test();\r\n    \r\n        test.changeField(&quot;primitiveInt&quot;, 84);\r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n    \r\n        test.changeField(&quot;wrappedInt&quot;, 84);\r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n    \r\n        test.changeField(&quot;stringValue&quot;, &quot;84&quot;);\r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n      }\r\n    }\r\n\r\nAnybody care to guess what will be printed as output (shown at the bottom as to not spoil the surprise immediately).\r\n\r\nThe questions are:\r\n\r\n 1. Why do primitive and wrapped integer behave differently?\r\n 2. Why does reflective vs direct access return different results?\r\n 3. The one that plagues me most - why does String behave like primitive `int` and not like `Integer`?\r\n\r\nResults (java 1.5):\r\n\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42","title":"Modifying final fields in Java","body":"<p>Let's start with a simple test case:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class Test {\n  private final int primitiveInt = 42;\n  private final Integer wrappedInt = 42;\n  private final String stringValue = \"42\";\n\n  public int getPrimitiveInt()   { return this.primitiveInt; }\n  public int getWrappedInt()     { return this.wrappedInt; }\n  public String getStringValue() { return this.stringValue; }\n\n  public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\n    Field field = Test.class.getDeclaredField(name);\n    field.setAccessible(true);\n    field.set(this, value);\n    System.out.println(\"reflection: \" + name + \" = \" + field.get(this));\n  }\n\n  public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\n    Test test = new Test();\n\n    test.changeField(\"primitiveInt\", 84);\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n\n    test.changeField(\"wrappedInt\", 84);\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n\n    test.changeField(\"stringValue\", \"84\");\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n  }\n}\n</code></pre>\n\n<p>Anybody care to guess what will be printed as output (shown at the bottom as to not spoil the surprise immediately).</p>\n\n<p>The questions are:</p>\n\n<ol>\n<li>Why do primitive and wrapped integer behave differently?</li>\n<li>Why does reflective vs direct access return different results?</li>\n<li>The one that plagues me most - why does String behave like primitive <code>int</code> and not like <code>Integer</code>?</li>\n</ol>\n\n<p>Results (java 1.5):</p>\n\n<pre><code>reflection: primitiveInt = 84\ndirect: primitiveInt = 42\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\nreflection: stringValue = 84\ndirect: stringValue = 42\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699232777,"creation_date":1699016275,"question_id":77416842,"body_markdown":"spring boot 2.1, rabbitmq 3.12.\r\n\r\nI need to send data/upload file to third party server via ftp and it has to be sent successful. While sometimes the network has problem, as a consequence, the system cannot connect to ftp server or upload file.\r\n\r\nThere is only one consumer now, what I need to do is `if upload failed because of network issue, I need to wait 10 minutes then re-upload, at the mean time, this consumer can continue handle next message during this delay time(10 minutes), it cannot be blocked for this retry. And if retry failed again, then wait 10 minutes again and retry again, and so on until success`\r\n\r\nMy solution is:\r\n\r\nthere should be three queues, one for normal, one for delay queue(ttl is 10 minutes), and the third is dead letter queue. The consumer is bound to normal queue, if there is network exception in consumer, this message will be sent to delay queue, after ttl expire, this message is routed to dead letter queue, the dead letter queue consumer will upload again, if failed, this message will be sent to normal queue.\r\n\r\nIs it ok for this solution? is there better solution?\r\n\r\n","title":"how to retry after delay time in rabbitmq","body":"<p>spring boot 2.1, rabbitmq 3.12.</p>\n<p>I need to send data/upload file to third party server via ftp and it has to be sent successful. While sometimes the network has problem, as a consequence, the system cannot connect to ftp server or upload file.</p>\n<p>There is only one consumer now, what I need to do is <code>if upload failed because of network issue, I need to wait 10 minutes then re-upload, at the mean time, this consumer can continue handle next message during this delay time(10 minutes), it cannot be blocked for this retry. And if retry failed again, then wait 10 minutes again and retry again, and so on until success</code></p>\n<p>My solution is:</p>\n<p>there should be three queues, one for normal, one for delay queue(ttl is 10 minutes), and the third is dead letter queue. The consumer is bound to normal queue, if there is network exception in consumer, this message will be sent to delay queue, after ttl expire, this message is routed to dead letter queue, the dead letter queue consumer will upload again, if failed, this message will be sent to normal queue.</p>\n<p>Is it ok for this solution? is there better solution?</p>\n"},{"tags":["java","spring","mongodb","spring-data","event-listener"],"answers":[{"comments":[{"owner":{"account_id":12939173,"reputation":990,"user_id":9355534,"display_name":"Shark Deng"},"score":0,"creation_date":1699232286,"post_id":49553462,"comment_id":136501835,"body_markdown":"works for me. And you don&#39;t need to call `super.onBeforeConvert()` in this function.","body":"works for me. And you don&#39;t need to call <code>super.onBeforeConvert()</code> in this function."}],"tags":[],"owner":{"account_id":9074506,"reputation":151,"user_id":6756576,"display_name":"Leonardo Castanheira"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1558691386,"creation_date":1522318494,"answer_id":49553462,"question_id":49536371,"body_markdown":"I was trying to use OnBeforeSave and you cannot change properties after a MongoConverter has been called unless you change the event.getDBObject(). If you want to make changes using your class Object then you need to use OnBeforeConvert... I spent a lot of time tracking this because of the poor documentation...","title":"OnBeforeSave gets called but nothing happens","body":"<p>I was trying to use OnBeforeSave and you cannot change properties after a MongoConverter has been called unless you change the event.getDBObject(). If you want to make changes using your class Object then you need to use OnBeforeConvert... I spent a lot of time tracking this because of the poor documentation...</p>\n"}],"owner":{"account_id":9074506,"reputation":151,"user_id":6756576,"display_name":"Leonardo Castanheira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699231922,"creation_date":1522245024,"question_id":49536371,"body_markdown":"I am trying to check if the object I am trying to persist already have a &quot;owner&quot; and if not I set the logged in user. This EventListener is working for any other field of Contact and it does set the user when I debug. The return of the MongoRepository save method contains the correct set user but when I look in the DB the user wasn&#39;t saved.\r\n\r\nOwnedByUserMongoEventListener class\r\n\r\n\tpublic void onBeforeSave(BeforeSaveEvent&lt;Contact&gt; event) {\r\n\t\tContact source = event.getSource();\r\n\t\tReflectionUtils.doWithFields(source.getClass(), new OwnedByUserCallback(source));\r\n\t}\r\n\r\nOwnedByUserCallback class\r\n\r\n\t@Override\r\n\tpublic void doWith(java.lang.reflect.Field field) throws IllegalArgumentException, IllegalAccessException {\r\n        ReflectionUtils.makeAccessible(field);\r\n        final Object fieldValue = field.get(getSource());\r\n        if (field.isAnnotationPresent(OwnedByUser.class)) {\r\n            if ( fieldValue == null ) {\r\n            \tJwtUser principal = (JwtUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            \tUser user = mongoOperations.findOne(Query.query(Criteria.where(&quot;username&quot;).is(principal.getUsername())), User.class);\r\n                field.set(getSource(), user);\r\n            }\r\n        }\r\n\t\t\r\n\t}\r\n\r\n/\r\n\t\r\n\r\n    \r\n    Contact extends Auditable {\r\n\r\n\t    @Id\r\n    \tprivate String id;\r\n\t\r\n\t\t@Indexed(unique=true,sparse=true)\r\n\t\t@NotNull\r\n\t\tprivate Long seqId;\r\n\t\r\n\t\tprivate BasicDBObject attributes = new BasicDBObject(new HashMap&lt;&gt;());\r\n\r\n\t\tpublic String getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic Map&lt;String, Object&gt; getAttributes() {\r\n\t\t\treturn attributes.toMap();\r\n\t\t}\r\n\r\n\t\tpublic void setAttributes(Map&lt;String, Object&gt; attributes) {\r\n\t\t\tthis.attributes = new BasicDBObject(attributes);\r\n\t\t}\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;ID: &quot;+getId() +&quot; Attributes: &quot; + getAttributes();\r\n\t\t}\r\n\r\n\t\tpublic Long getSeqId() {\r\n\t\t\treturn seqId;\r\n\t\t}\r\n\r\n\t\tpublic void setSeqId(Long seqId) {\r\n\t\t\tthis.seqId = seqId;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n\r\n    public abstract class Auditable {\r\n\r\n\t\t@CreatedDate\r\n\t\tprivate Date createdDate;\r\n\r\n\t\t@DBRef\r\n\t\t@CreatedBy\r\n\t\tprivate User createdBy;\r\n\t\r\n\t\t@DBRef\r\n\t\t@OwnedByUser\r\n\t\tprivate User owner;\r\n\r\n\t\t@LastModifiedDate\r\n\t\tprivate Date updatedDate;\r\n\r\n\t\t@DBRef\r\n\t\t@LastModifiedBy\r\n\t\tprivate User updatedBy;\r\n\r\n\t\tpublic Date getCreatedDate() {\r\n\t\t\treturn createdDate;\r\n\t\t}\r\n\r\n\t\tpublic void setCreatedDate(Date createdDate) {\r\n\t\t\tthis.createdDate = createdDate;\r\n\t\t}\r\n\r\n\t\tpublic User getCreatedBy() {\r\n\t\t\treturn createdBy;\r\n\t\t}\r\n\r\n\t\tpublic void setCreatedBy(User createdBy) {\r\n\t\t\tthis.createdBy = createdBy;\r\n\t\t}\r\n\r\n\t\tpublic Date getUpdatedDate() {\r\n\t\t\treturn updatedDate;\r\n\t\t}\r\n\r\n\t\tpublic void setUpdatedDate(Date updatedDate) {\r\n\t\t\tthis.updatedDate = updatedDate;\r\n\t\t}\r\n\r\n\t\tpublic User getUpdatedBy() {\r\n\t\t\treturn updatedBy;\r\n\t\t}\r\n\r\n\t\tpublic void setUpdatedBy(User updatedBy) {\r\n\t\t\tthis.updatedBy = updatedBy;\r\n\t\t}\r\n\r\n\t\tpublic User getOwner() {\r\n\t\t\treturn owner;\r\n\t\t}\r\n\r\n\t\tpublic void setOwner(User owner) {\r\n\t\t\tthis.owner = owner;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n","title":"OnBeforeSave gets called but nothing happens","body":"<p>I am trying to check if the object I am trying to persist already have a \"owner\" and if not I set the logged in user. This EventListener is working for any other field of Contact and it does set the user when I debug. The return of the MongoRepository save method contains the correct set user but when I look in the DB the user wasn't saved.</p>\n\n<p>OwnedByUserMongoEventListener class</p>\n\n<pre><code>public void onBeforeSave(BeforeSaveEvent&lt;Contact&gt; event) {\n    Contact source = event.getSource();\n    ReflectionUtils.doWithFields(source.getClass(), new OwnedByUserCallback(source));\n}\n</code></pre>\n\n<p>OwnedByUserCallback class</p>\n\n<pre><code>@Override\npublic void doWith(java.lang.reflect.Field field) throws IllegalArgumentException, IllegalAccessException {\n    ReflectionUtils.makeAccessible(field);\n    final Object fieldValue = field.get(getSource());\n    if (field.isAnnotationPresent(OwnedByUser.class)) {\n        if ( fieldValue == null ) {\n            JwtUser principal = (JwtUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n            User user = mongoOperations.findOne(Query.query(Criteria.where(\"username\").is(principal.getUsername())), User.class);\n            field.set(getSource(), user);\n        }\n    }\n\n}\n</code></pre>\n\n<p>/</p>\n\n<pre><code>Contact extends Auditable {\n\n    @Id\n    private String id;\n\n    @Indexed(unique=true,sparse=true)\n    @NotNull\n    private Long seqId;\n\n    private BasicDBObject attributes = new BasicDBObject(new HashMap&lt;&gt;());\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; getAttributes() {\n        return attributes.toMap();\n    }\n\n    public void setAttributes(Map&lt;String, Object&gt; attributes) {\n        this.attributes = new BasicDBObject(attributes);\n    }\n\n    public String toString() {\n        return \"ID: \"+getId() +\" Attributes: \" + getAttributes();\n    }\n\n    public Long getSeqId() {\n        return seqId;\n    }\n\n    public void setSeqId(Long seqId) {\n        this.seqId = seqId;\n    }\n\n}\n\n\n\npublic abstract class Auditable {\n\n    @CreatedDate\n    private Date createdDate;\n\n    @DBRef\n    @CreatedBy\n    private User createdBy;\n\n    @DBRef\n    @OwnedByUser\n    private User owner;\n\n    @LastModifiedDate\n    private Date updatedDate;\n\n    @DBRef\n    @LastModifiedBy\n    private User updatedBy;\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public User getCreatedBy() {\n        return createdBy;\n    }\n\n    public void setCreatedBy(User createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Date getUpdatedDate() {\n        return updatedDate;\n    }\n\n    public void setUpdatedDate(Date updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n    public User getUpdatedBy() {\n        return updatedBy;\n    }\n\n    public void setUpdatedBy(User updatedBy) {\n        this.updatedBy = updatedBy;\n    }\n\n    public User getOwner() {\n        return owner;\n    }\n\n    public void setOwner(User owner) {\n        this.owner = owner;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-9","java-11"],"comments":[{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":4,"creation_date":1548155174,"post_id":54306697,"comment_id":95433546,"body_markdown":"This is not your legacy code, this is the result of running a decompiler on a JDK class. It&#39;s extremely strange that you need to compile this code as part of your system.","body":"This is not your legacy code, this is the result of running a decompiler on a JDK class. It&#39;s extremely strange that you need to compile this code as part of your system."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1548155895,"post_id":54306697,"comment_id":95433970,"body_markdown":"sun.* packages are JVM internal and have never been meant for use by implementation classes. If you&#39;ve not been bitten by that before, you just got extremely lucky.","body":"sun.* packages are JVM internal and have never been meant for use by implementation classes. If you&#39;ve not been bitten by that before, you just got extremely lucky."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548158273,"post_id":54306697,"comment_id":95435184,"body_markdown":"Ohh I see, It was bundled in a jar. Is there any alternate of using it in new Libraries","body":"Ohh I see, It was bundled in a jar. Is there any alternate of using it in new Libraries"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1548177403,"post_id":54306697,"comment_id":95446713,"body_markdown":"Of course, there is an alternative. Don’t use that code. Once we know what you actually want to do, we can tell you, how to do it. Java has easy-to-use charset conversion methods since version 1.1.","body":"Of course, there is an alternative. Don’t use that code. Once we know what you actually want to do, we can tell you, how to do it. Java has easy-to-use charset conversion methods since version 1.1."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1548179262,"post_id":54306697,"comment_id":95447566,"body_markdown":"CharacterEncoding was located in `sun.io` and is deprecated since Java 1.6 (and now removed). Use `java.nio.charset` instead.","body":"CharacterEncoding was located in <code>sun.io</code> and is deprecated since Java 1.6 (and now removed). Use <code>java.nio.charset</code> instead."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548223913,"post_id":54306697,"comment_id":95461036,"body_markdown":"There use to be a very weird code not sure in which era and bundled into jars , which I noticed now.  ByteToCharRoman8 converter = new ByteToCharRoman8(); and calling converter.convert(...). The problem is due to this and all its dependencies are of Java 2 , I guess.","body":"There use to be a very weird code not sure in which era and bundled into jars , which I noticed now.  ByteToCharRoman8 converter = new ByteToCharRoman8(); and calling converter.convert(...). The problem is due to this and all its dependencies are of Java 2 , I guess."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548224088,"post_id":54306697,"comment_id":95461101,"body_markdown":"Not sure if there was any standard library like that ByteToCharRoman8  in any of Java earlier version which converts the byte. Is there any standard library available now?","body":"Not sure if there was any standard library like that ByteToCharRoman8  in any of Java earlier version which converts the byte. Is there any standard library available now?"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1548232204,"post_id":54306697,"comment_id":95464464,"body_markdown":"Robert is right. The charset API was added in Java SE 1.4 and developers have had 17 years to move away from the legacy sun.io converters.","body":"Robert is right. The charset API was added in Java SE 1.4 and developers have had 17 years to move away from the legacy sun.io converters."}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548171944,"creation_date":1548165424,"answer_id":54309896,"question_id":54306697,"body_markdown":"As pointed out, these are internal classes that should not be used directly. If refactoring is out of scope, you should use `--add-export` and this should work!\r\n\r\nYour `--add-export` argument is wrong. You need to use the correct package to export (`sun.security.action` in your case) and the name of your module (ALL-UNNAMED if you don&#39;t use modules, all in **capital letters** !).\r\n\r\nSo this should be `--add-exports java.base/sun.security.action=ALL-UNNAMED`\r\n\r\n\r\nFrom the documentation of javac :\r\n\r\n&gt; --add-exports module/package=other-module(,other-module)* Specifies a package to be considered as exported from its defining module to\r\n&gt; additional modules or to all unnamed modules when the value of\r\n&gt; other-module is ALL-UNNAMED.\r\n\r\n","title":"Migration Issue to Java 11 from legacy code","body":"<p>As pointed out, these are internal classes that should not be used directly. If refactoring is out of scope, you should use <code>--add-export</code> and this should work!</p>\n\n<p>Your <code>--add-export</code> argument is wrong. You need to use the correct package to export (<code>sun.security.action</code> in your case) and the name of your module (ALL-UNNAMED if you don't use modules, all in <strong>capital letters</strong> !).</p>\n\n<p>So this should be <code>--add-exports java.base/sun.security.action=ALL-UNNAMED</code></p>\n\n<p>From the documentation of javac :</p>\n\n<blockquote>\n  <p>--add-exports module/package=other-module(,other-module)* Specifies a package to be considered as exported from its defining module to\n  additional modules or to all unnamed modules when the value of\n  other-module is ALL-UNNAMED.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548399643,"post_id":54360366,"comment_id":95535036,"body_markdown":"Thanks for the suggestion, really appreciate. But I am looking forward to replace the old self made jar. Is there amy better way to replace this.","body":"Thanks for the suggestion, really appreciate. But I am looking forward to replace the old self made jar. Is there amy better way to replace this."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548399649,"post_id":54360366,"comment_id":95535040,"body_markdown":"final ByteToCharRoman8 converter = new ByteToCharRoman8();\n\n            final byte[] ba = new byte[] { b };\n            final char[] ca = new char[1];\n\n            converter.convert(ba, 0, 1, ca, 0, 1);","body":"final ByteToCharRoman8 converter = new ByteToCharRoman8();              final byte[] ba = new byte[] { b };             final char[] ca = new char[1];              converter.convert(ba, 0, 1, ca, 0, 1);"},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548399710,"post_id":54360366,"comment_id":95535064,"body_markdown":"ByteToCharRoman8 is a pretty old library of java which was bundled in a self made jar by some team long back.","body":"ByteToCharRoman8 is a pretty old library of java which was bundled in a self made jar by some team long back."}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548399424,"creation_date":1548399424,"answer_id":54360366,"question_id":54306697,"body_markdown":"Since Java 9, most of the JDK&#39;s internal APIs [are inaccessible at compile time][1] (and in the future, they will be inaccessible at run time too). `sun.security.action` is an internal package so you should avoid using it. In your case, you can simply remove `new GetPropertyAction(&quot;file.encoding.pkg&quot;)` and replace it with a lambda:\r\n\r\n    AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; System.getProperty(&quot;prop&quot;));\r\n\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/260","title":"Migration Issue to Java 11 from legacy code","body":"<p>Since Java 9, most of the JDK's internal APIs <a href=\"https://openjdk.java.net/jeps/260\" rel=\"nofollow noreferrer\">are inaccessible at compile time</a> (and in the future, they will be inaccessible at run time too). <code>sun.security.action</code> is an internal package so you should avoid using it. In your case, you can simply remove <code>new GetPropertyAction(\"file.encoding.pkg\")</code> and replace it with a lambda:</p>\n\n<pre><code>AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; System.getProperty(\"prop\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699279978,"post_id":77428155,"comment_id":136508028,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77428155/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29834033,"reputation":1,"user_id":22863829,"display_name":"Evgeniy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699231004,"creation_date":1699230359,"answer_id":77428155,"question_id":54306697,"body_markdown":"There&#39;s example file for java 17:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;ru.readcrl_2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ReadCRL_2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;--add-exports&lt;/arg&gt;\r\n                &lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;            \r\n              &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n                &lt;version&gt;1.70&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                &lt;version&gt;1.70&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;reporting&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        \r\n    &lt;/project&gt;","title":"Migration Issue to Java 11 from legacy code","body":"<p>There's example file for java 17:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.readcrl_2&lt;/groupId&gt;\n    &lt;artifactId&gt;ReadCRL_2&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;--add-exports&lt;/arg&gt;\n            &lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;            \n          &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5660,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699231004,"creation_date":1548154478,"question_id":54306697,"body_markdown":"We are migrating our old code, in fact pretty old to Java 11. I am facing issues while compiling one of the classes. The sample code is:\r\n\r\n    package XXXX;\r\n    \r\n    import java.lang.ref.*;\r\n    import sun.security.action.*;\r\n    import java.security.*;\r\n    import java.io.*;\r\n    \r\n    class Converters\r\n    {\r\n        private static Object lock;\r\n        private static String converterPackageName;\r\n        private static String defaultEncoding;\r\n        public static final int BYTE_TO_CHAR = 0;\r\n        public static final int CHAR_TO_BYTE = 1;\r\n        private static final String[] converterPrefix;\r\n        private static SoftReference[] classCache;\r\n        static /* synthetic */ Class class$sun$io$Converters;\r\n        \r\n        private static String getConverterPackageName() {\r\n            final String converterPackageName = Converters.converterPackageName;\r\n            if (converterPackageName != null) {\r\n                return converterPackageName;\r\n            }\r\n            String converterPackageName2 = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(&quot;file.encoding.pkg&quot;));\r\n            if (converterPackageName2 != null) {\r\n                Converters.converterPackageName = converterPackageName2;\r\n            }\r\n            else {\r\n                converterPackageName2 = &quot;sun.io&quot;;\r\n            }\r\n            return converterPackageName2;\r\n        }\r\n        \r\n        private static Class getConverterClass(final int n, final String s) throws UnsupportedEncodingException {\r\n            String aliasName = null;\r\n            if (!s.equals(&quot;ISO8859_1&quot;)) {\r\n                if (s.equals(&quot;8859_1&quot;)) {\r\n                    aliasName = &quot;ISO8859_1&quot;;\r\n                }\r\n                else if (s.equals(&quot;ISO8859-1&quot;)) {\r\n                    aliasName = &quot;ISO8859_1&quot;;\r\n                }\r\n                else if (s.equals(&quot;646&quot;)) {\r\n                    aliasName = &quot;ASCII&quot;;\r\n                }\r\n                else {\r\n                    aliasName = CharacterEncoding.aliasName(s);\r\n                }\r\n            }\r\n            if (aliasName == null) {\r\n                aliasName = s;\r\n            }\r\n            try {\r\n                return Class.forName(getConverterPackageName() + &quot;.&quot; + Converters.converterPrefix[n] + aliasName);\r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                throw new UnsupportedEncodingException(aliasName);\r\n            }\r\n        }\r\n        \r\n        private static Object newConverter(final String s, final Class clazz) throws UnsupportedEncodingException {\r\n            try {\r\n                return clazz.newInstance();\r\n            }\r\n            catch (InstantiationException ex) {\r\n                throw new UnsupportedEncodingException(s);\r\n            }\r\n            catch (IllegalAccessException ex2) {\r\n                throw new UnsupportedEncodingException(s);\r\n            }\r\n        }\r\n        \r\n        static Object newConverter(final int n, final String s) throws UnsupportedEncodingException {\r\n            final Class converterClass;\r\n            synchronized (Converters.lock) {\r\n                converterClass = getConverterClass(n, s);\r\n            }\r\n            return newConverter(s, converterClass);\r\n        }\r\n        \r\n        private static Class getDefaultConverterClass(final int n) {\r\n            boolean b = false;\r\n            final SoftReference softReference = Converters.classCache[n];\r\n            if (softReference != null) {\r\n                final Class clazz = softReference.get();\r\n                if (clazz != null) {\r\n                    return clazz;\r\n                }\r\n                Converters.classCache[n] = null;\r\n            }\r\n            String defaultEncoding = Converters.defaultEncoding;\r\n            if (Converters.defaultEncoding != null) {\r\n                b = true;\r\n            }\r\n            else {\r\n                defaultEncoding = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(&quot;file.encoding&quot;));\r\n                if (defaultEncoding != null) {\r\n                    Converters.defaultEncoding = defaultEncoding;\r\n                    b = true;\r\n                }\r\n                else {\r\n                    defaultEncoding = &quot;ISO8859_1&quot;;\r\n                }\r\n            }\r\n            Class clazz2;\r\n            try {\r\n                clazz2 = getConverterClass(n, defaultEncoding);\r\n                if (b) {\r\n                    Converters.classCache[n] = new SoftReference(clazz2);\r\n                }\r\n            }\r\n            catch (UnsupportedEncodingException ex) {\r\n                try {\r\n                    clazz2 = getConverterClass(n, &quot;ISO8859_1&quot;);\r\n                }\r\n                catch (UnsupportedEncodingException ex2) {\r\n                    throw new InternalError(&quot;Cannot find default &quot; + Converters.converterPrefix[n] + &quot; converter class&quot;);\r\n                }\r\n            }\r\n            return clazz2;\r\n        }\r\n        \r\n        static Object newDefaultConverter(final int n) {\r\n            final Class defaultConverterClass;\r\n            synchronized (Converters.lock) {\r\n                defaultConverterClass = getDefaultConverterClass(n);\r\n            }\r\n            try {\r\n                return newConverter(&quot;&quot;, defaultConverterClass);\r\n            }\r\n            catch (UnsupportedEncodingException ex) {\r\n                throw new InternalError(&quot;Cannot instantiate default converter class &quot; + defaultConverterClass.getName());\r\n            }\r\n        }\r\n        \r\n        static /* synthetic */ Class class$(final String s) {\r\n            try {\r\n                return Class.forName(s);\r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                throw new NoClassDefFoundError(ex.getMessage());\r\n            }\r\n        }\r\n        \r\n        static {\r\n            Converters.lock = ((Converters.class$sun$io$Converters == null) ? (Converters.class$sun$io$Converters = class$(&quot;sun.io.Converters&quot;)) : Converters.class$sun$io$Converters);\r\n            Converters.converterPackageName = null;\r\n            Converters.defaultEncoding = null;\r\n            converterPrefix = new String[] { &quot;ByteToChar&quot;, &quot;CharToByte&quot; };\r\n            Converters.classCache = new SoftReference[2];\r\n        }\r\n    }\r\n\r\n   \r\nWhile compiling it using `javac Converter.java`, I am getting the error below:\r\n\r\n    import sun.security.action.*;\r\n                       ^\r\n      (package sun.security.action is declared in module java.base, which does not export it to the unnamed module)\r\n    Converters.java:47: error: cannot find symbol\r\n                    aliasName = CharacterEncoding.aliasName(s);\r\n                                ^\r\n      symbol:   variable CharacterEncoding\r\n      location: class Converters\r\n    Converters.java:85: error: incompatible types: Object cannot be converted to Class\r\n                final Class clazz = softReference.get();\r\n                                                     ^\r\n    Note: Converters.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Converters.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    3 errors\r\n\r\nI tried to export this using `--add--export\r\njava.base/sun.security=All-UNNAMED`, it&#39;s still throwing the error.\r\n\r\nAny help? Also would like to know is there any other way to remove this old legacy code with new one.\r\n\r\n","title":"Migration Issue to Java 11 from legacy code","body":"<p>We are migrating our old code, in fact pretty old to Java 11. I am facing issues while compiling one of the classes. The sample code is:</p>\n\n<pre><code>package XXXX;\n\nimport java.lang.ref.*;\nimport sun.security.action.*;\nimport java.security.*;\nimport java.io.*;\n\nclass Converters\n{\n    private static Object lock;\n    private static String converterPackageName;\n    private static String defaultEncoding;\n    public static final int BYTE_TO_CHAR = 0;\n    public static final int CHAR_TO_BYTE = 1;\n    private static final String[] converterPrefix;\n    private static SoftReference[] classCache;\n    static /* synthetic */ Class class$sun$io$Converters;\n\n    private static String getConverterPackageName() {\n        final String converterPackageName = Converters.converterPackageName;\n        if (converterPackageName != null) {\n            return converterPackageName;\n        }\n        String converterPackageName2 = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(\"file.encoding.pkg\"));\n        if (converterPackageName2 != null) {\n            Converters.converterPackageName = converterPackageName2;\n        }\n        else {\n            converterPackageName2 = \"sun.io\";\n        }\n        return converterPackageName2;\n    }\n\n    private static Class getConverterClass(final int n, final String s) throws UnsupportedEncodingException {\n        String aliasName = null;\n        if (!s.equals(\"ISO8859_1\")) {\n            if (s.equals(\"8859_1\")) {\n                aliasName = \"ISO8859_1\";\n            }\n            else if (s.equals(\"ISO8859-1\")) {\n                aliasName = \"ISO8859_1\";\n            }\n            else if (s.equals(\"646\")) {\n                aliasName = \"ASCII\";\n            }\n            else {\n                aliasName = CharacterEncoding.aliasName(s);\n            }\n        }\n        if (aliasName == null) {\n            aliasName = s;\n        }\n        try {\n            return Class.forName(getConverterPackageName() + \".\" + Converters.converterPrefix[n] + aliasName);\n        }\n        catch (ClassNotFoundException ex) {\n            throw new UnsupportedEncodingException(aliasName);\n        }\n    }\n\n    private static Object newConverter(final String s, final Class clazz) throws UnsupportedEncodingException {\n        try {\n            return clazz.newInstance();\n        }\n        catch (InstantiationException ex) {\n            throw new UnsupportedEncodingException(s);\n        }\n        catch (IllegalAccessException ex2) {\n            throw new UnsupportedEncodingException(s);\n        }\n    }\n\n    static Object newConverter(final int n, final String s) throws UnsupportedEncodingException {\n        final Class converterClass;\n        synchronized (Converters.lock) {\n            converterClass = getConverterClass(n, s);\n        }\n        return newConverter(s, converterClass);\n    }\n\n    private static Class getDefaultConverterClass(final int n) {\n        boolean b = false;\n        final SoftReference softReference = Converters.classCache[n];\n        if (softReference != null) {\n            final Class clazz = softReference.get();\n            if (clazz != null) {\n                return clazz;\n            }\n            Converters.classCache[n] = null;\n        }\n        String defaultEncoding = Converters.defaultEncoding;\n        if (Converters.defaultEncoding != null) {\n            b = true;\n        }\n        else {\n            defaultEncoding = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(\"file.encoding\"));\n            if (defaultEncoding != null) {\n                Converters.defaultEncoding = defaultEncoding;\n                b = true;\n            }\n            else {\n                defaultEncoding = \"ISO8859_1\";\n            }\n        }\n        Class clazz2;\n        try {\n            clazz2 = getConverterClass(n, defaultEncoding);\n            if (b) {\n                Converters.classCache[n] = new SoftReference(clazz2);\n            }\n        }\n        catch (UnsupportedEncodingException ex) {\n            try {\n                clazz2 = getConverterClass(n, \"ISO8859_1\");\n            }\n            catch (UnsupportedEncodingException ex2) {\n                throw new InternalError(\"Cannot find default \" + Converters.converterPrefix[n] + \" converter class\");\n            }\n        }\n        return clazz2;\n    }\n\n    static Object newDefaultConverter(final int n) {\n        final Class defaultConverterClass;\n        synchronized (Converters.lock) {\n            defaultConverterClass = getDefaultConverterClass(n);\n        }\n        try {\n            return newConverter(\"\", defaultConverterClass);\n        }\n        catch (UnsupportedEncodingException ex) {\n            throw new InternalError(\"Cannot instantiate default converter class \" + defaultConverterClass.getName());\n        }\n    }\n\n    static /* synthetic */ Class class$(final String s) {\n        try {\n            return Class.forName(s);\n        }\n        catch (ClassNotFoundException ex) {\n            throw new NoClassDefFoundError(ex.getMessage());\n        }\n    }\n\n    static {\n        Converters.lock = ((Converters.class$sun$io$Converters == null) ? (Converters.class$sun$io$Converters = class$(\"sun.io.Converters\")) : Converters.class$sun$io$Converters);\n        Converters.converterPackageName = null;\n        Converters.defaultEncoding = null;\n        converterPrefix = new String[] { \"ByteToChar\", \"CharToByte\" };\n        Converters.classCache = new SoftReference[2];\n    }\n}\n</code></pre>\n\n<p>While compiling it using <code>javac Converter.java</code>, I am getting the error below:</p>\n\n<pre><code>import sun.security.action.*;\n                   ^\n  (package sun.security.action is declared in module java.base, which does not export it to the unnamed module)\nConverters.java:47: error: cannot find symbol\n                aliasName = CharacterEncoding.aliasName(s);\n                            ^\n  symbol:   variable CharacterEncoding\n  location: class Converters\nConverters.java:85: error: incompatible types: Object cannot be converted to Class\n            final Class clazz = softReference.get();\n                                                 ^\nNote: Converters.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Converters.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n3 errors\n</code></pre>\n\n<p>I tried to export this using <code>--add--export\njava.base/sun.security=All-UNNAMED</code>, it's still throwing the error.</p>\n\n<p>Any help? Also would like to know is there any other way to remove this old legacy code with new one.</p>\n"},{"tags":["java","android","phpmyadmin"],"owner":{"account_id":29405571,"reputation":21,"user_id":22530711,"display_name":"lalalalala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699228423,"creation_date":1699228304,"question_id":77428087,"body_markdown":"**BarrioRate.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.BarrioRate&quot;\r\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.DayNight.ActionBar&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/barrioRate&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:fontFamily=&quot;sans-serif-black&quot;\r\n            android:text=&quot;@string/barrio_crime&quot;\r\n            android:textColor=&quot;@color/Poseidon&quot;\r\n            android:textSize=&quot;30sp&quot;/&gt;\r\n\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/topBarrio&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:fontFamily=&quot;sans-serif-black&quot;\r\n            android:text=&quot;Top 5 Barrio that have a highest Crimes&quot;\r\n            android:textColor=&quot;@color/Poseidon&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n&quot;/&gt;\r\n\r\n        &lt;com.github.mikephil.charting.charts.BarChart\r\n            android:id=&quot;@+id/barChart&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            android:layout_below=&quot;@id/topBarrio&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;30dp&quot;\r\n            android:layout_marginEnd=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n**CrimeRate.java**\r\n\r\nGet the total of each barrios crime in phpmyadin then display the top 5 highest barrios crime rates in the bar graph with their rates\r\n\r\n```\r\npackage com.example.mobile;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.github.mikephil.charting.charts.BarChart;\r\n\r\nimport com.github.mikephil.charting.utils.ColorTemplate;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class BarrioRate extends AppCompatActivity {\r\n\r\n    private BarChart barChart;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       \r\n\r\n        \r\n        barChart = findViewById(R.id.barChart);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nBarrio.php\r\n\r\ncount the crime of each barrio then get the total of it then get the rates of it. I just really don&#39;t know what code I should use. I am a beginner and this is my first time to create a mobile app\r\n\r\n```\r\n&lt;?php\r\n    \r\n    include &#39;connection.php&#39;;\r\n    \r\n    // Create a connection to the database\r\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\r\n\r\n    \r\n    if ($con-&gt;connect_error) {\r\n        die(&quot;Connection failed: &quot; . $con-&gt;connect_error);\r\n    }\r\n    \r\n    // SQL query to retrieve crime data\r\nbarrio_crime    $sql = &quot;SELECT b, COUNT(*) as count FROM report GROUP BY barrio_crime&quot;;\r\n    \r\n    $result = $con-&gt;query($sql);\r\n    \r\n    $data = array();\r\n    \r\n    if ($result-&gt;num_rows &gt; 0) {\r\n        while ($row = $result-&gt;fetch_assoc()) {\r\n            $barrio_crime = $row[&#39;barrio_crime&#39;];\r\n            $count = $row[&#39;count&#39;];\r\n            $data[] = array(&quot;barrio_crime&quot; =&gt; $barrio_crime, &quot;count&quot; =&gt; $count);\r\n        }\r\n    }\r\n    \r\n    // Close the database connection\r\n    $conn-&gt;close();\r\n    \r\n    // Return the data as JSON\r\n    echo json_encode($data);\r\n?&gt;\r\n```\r\n\r\nI expect that barangay that have a highest crime to be displayed in the bar graph. I expect that barangay that have a highest crime to be displayed in the bar graph.","title":"How to display the rates in bargraph from phpmyadmin to bargraph in android studio(JAVA)?","body":"<p><strong>BarrioRate.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    tools:context=&quot;.BarrioRate&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.DayNight.ActionBar&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/barrioRate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;@string/barrio_crime&quot;\n            android:textColor=&quot;@color/Poseidon&quot;\n            android:textSize=&quot;30sp&quot;/&gt;\n\n\n\n        &lt;TextView\n            android:id=&quot;@+id/topBarrio&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;Top 5 Barrio that have a highest Crimes&quot;\n            android:textColor=&quot;@color/Poseidon&quot;\n            android:textSize=&quot;18sp&quot;\n&quot;/&gt;\n\n        &lt;com.github.mikephil.charting.charts.BarChart\n            android:id=&quot;@+id/barChart&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;300dp&quot;\n            android:layout_below=&quot;@id/topBarrio&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;30dp&quot;\n            android:layout_marginEnd=&quot;30dp&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p><strong>CrimeRate.java</strong></p>\n<p>Get the total of each barrios crime in phpmyadin then display the top 5 highest barrios crime rates in the bar graph with their rates</p>\n<pre><code>package com.example.mobile;\n\nimport android.os.Bundle;\n\nimport com.github.mikephil.charting.charts.BarChart;\n\nimport com.github.mikephil.charting.utils.ColorTemplate;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class BarrioRate extends AppCompatActivity {\n\n    private BarChart barChart;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       \n\n        \n        barChart = findViewById(R.id.barChart);\n\n\n    }\n}\n</code></pre>\n<p>Barrio.php</p>\n<p>count the crime of each barrio then get the total of it then get the rates of it. I just really don't know what code I should use. I am a beginner and this is my first time to create a mobile app</p>\n<pre><code>&lt;?php\n    \n    include 'connection.php';\n    \n    // Create a connection to the database\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\n\n    \n    if ($con-&gt;connect_error) {\n        die(&quot;Connection failed: &quot; . $con-&gt;connect_error);\n    }\n    \n    // SQL query to retrieve crime data\nbarrio_crime    $sql = &quot;SELECT b, COUNT(*) as count FROM report GROUP BY barrio_crime&quot;;\n    \n    $result = $con-&gt;query($sql);\n    \n    $data = array();\n    \n    if ($result-&gt;num_rows &gt; 0) {\n        while ($row = $result-&gt;fetch_assoc()) {\n            $barrio_crime = $row['barrio_crime'];\n            $count = $row['count'];\n            $data[] = array(&quot;barrio_crime&quot; =&gt; $barrio_crime, &quot;count&quot; =&gt; $count);\n        }\n    }\n    \n    // Close the database connection\n    $conn-&gt;close();\n    \n    // Return the data as JSON\n    echo json_encode($data);\n?&gt;\n</code></pre>\n<p>I expect that barangay that have a highest crime to be displayed in the bar graph. I expect that barangay that have a highest crime to be displayed in the bar graph.</p>\n"},{"tags":["java","spring","mapping","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1699257225,"post_id":77428078,"comment_id":136503967,"body_markdown":"Thank you. Your answer made me revisit the `uses = MessageMapper.class` option and it worked now once I verified it directly in the application. Before, the failure was happening in the tests, which led me believe my application code was also wrong. The unit tests themselves were the one causing the issue, however, as I among some other things, I was missing @InjectMocks to be in conjunction with @Spy for my ChatMapper.","body":"Thank you. Your answer made me revisit the <code>uses = MessageMapper.class</code> option and it worked now once I verified it directly in the application. Before, the failure was happening in the tests, which led me believe my application code was also wrong. The unit tests themselves were the one causing the issue, however, as I among some other things, I was missing @InjectMocks to be in conjunction with @Spy for my ChatMapper."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1699313079,"post_id":77428078,"comment_id":136513762,"body_markdown":"Thank you very much for the feedback @FrancislainyCampos. I am very happy to hear that you were able to solve the problem.","body":"Thank you very much for the feedback @FrancislainyCampos. I am very happy to hear that you were able to solve the problem."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699227920,"creation_date":1699227920,"answer_id":77428078,"question_id":77421287,"body_markdown":"I am aware you mentioned that you obtained the same results but in my opinion using the following `Mapper` definition should give you the right results:\r\n\r\n```java\r\n@Mapper(uses = MessageMapper.class)\r\npublic interface ChatMapper {\r\n\r\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\r\n    ChatEntity toEntity(Chat chat);\r\n\r\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\r\n    Chat toModel(ChatEntity chatEntity);\r\n}\r\n```\r\n\r\nIf this code doesn&#39;t work, please, pay attention to your JPA relationships: all are defined as lazy, and perhaps they haven&#39;e been initialized when the mapper is evaluated.\r\n\r\nPlease, analyze the source code of the generated mappers, it will give you a good understanding about the actual code that it being executed.\r\n\r\nAs a work around, consider include the identifiers of the user that sended and received the message as additional read-only columns in your `MessageEntity`:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @Column(name = &quot;user_to_id&quot;, updatable=false, insertable=false)\r\n    private UUID userToEntityId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userToEntity;\r\n\r\n    @Column(name = &quot;user_from_id&quot;, updatable=false, insertable=false)\r\n    private UUID userFromEntityId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userFromEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n```\r\n\r\nand modify `MessageMapper` to take into account the new columns:\r\n\r\n```java\r\n@Mapper\r\npublic interface MessageMapper {\r\n\r\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntityId&quot;)\r\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntityId&quot;)\r\n    MessageEntity toEntity(Message message);\r\n\r\n    @Mapping(source = &quot;userFromEntityId&quot;, target = &quot;userFromId&quot;)\r\n    @Mapping(source = &quot;userToEntityId&quot;, target = &quot;userToId&quot;)\r\n    Message toModel(MessageEntity messageEntity);\r\n}\r\n```\r\n\r\nPlease, if you adopt this new approach, pay attention to the way the relationships are resolved.","title":"Mapstruck null failure for inner field mapped by another mapper","body":"<p>I am aware you mentioned that you obtained the same results but in my opinion using the following <code>Mapper</code> definition should give you the right results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = MessageMapper.class)\npublic interface ChatMapper {\n\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\n    ChatEntity toEntity(Chat chat);\n\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\n    Chat toModel(ChatEntity chatEntity);\n}\n</code></pre>\n<p>If this code doesn't work, please, pay attention to your JPA relationships: all are defined as lazy, and perhaps they haven'e been initialized when the mapper is evaluated.</p>\n<p>Please, analyze the source code of the generated mappers, it will give you a good understanding about the actual code that it being executed.</p>\n<p>As a work around, consider include the identifiers of the user that sended and received the message as additional read-only columns in your <code>MessageEntity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @Column(name = &quot;user_to_id&quot;, updatable=false, insertable=false)\n    private UUID userToEntityId;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userToEntity;\n\n    @Column(name = &quot;user_from_id&quot;, updatable=false, insertable=false)\n    private UUID userFromEntityId;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userFromEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n</code></pre>\n<p>and modify <code>MessageMapper</code> to take into account the new columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface MessageMapper {\n\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntityId&quot;)\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntityId&quot;)\n    MessageEntity toEntity(Message message);\n\n    @Mapping(source = &quot;userFromEntityId&quot;, target = &quot;userFromId&quot;)\n    @Mapping(source = &quot;userToEntityId&quot;, target = &quot;userToId&quot;)\n    Message toModel(MessageEntity messageEntity);\n}\n</code></pre>\n<p>Please, if you adopt this new approach, pay attention to the way the relationships are resolved.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77428078,"answer_count":1,"score":0,"last_activity_date":1699227920,"creation_date":1699086626,"question_id":77421287,"body_markdown":"\r\nIn my application, each chat contains a list of messages, and each message contains info about the users who are their sender and receiver. However, I’m struggling to use a mapper with mapstruct that from a chat mapper would allow me to map both the list of messages and the user info related to each message, which are mapped by the message mapper.\r\n\r\nSo this fails with valid message, but null userTo and userFrom id.\r\n\r\n```\r\nreturn chatRepository.findAll()\r\n        .stream()\r\n        .map(chatMapper::toModel)\r\n        .toList();\r\n```\r\n\r\nBut when it&#39;s replaced by the below piece where I map each message and then manually add them to a chat, it passes:\r\n\r\n```\r\nList&lt;ChatEntity&gt; chatEntityList = chatRepository.findAll();\r\n\r\nList&lt;Chat&gt; chatList = new ArrayList&lt;&gt;();\r\nfor (ChatEntity chatEntity : chatEntityList) {\r\n    List&lt;Message&gt; messageList = chatEntity.getMessageEntityList()\r\n            .stream()\r\n            .map(messageMapper::toModel)\r\n            .toList();\r\n\r\n    Chat chat = Chat.builder()\r\n            .id(chatEntity.getId())\r\n            .messageList(messageList)\r\n            .build();\r\n\r\n    chatList.add(chat);\r\n}\r\nreturn chatList;\r\n\r\n```\r\n\r\nI’ve been trying for days, but am really at loss at why this is?\r\n\r\nThese are my mappers:\r\n\r\n```\r\n@Mapper //tried @Mapper(uses = MessageMapper.class) but the result is the same\r\npublic interface ChatMapper {\r\n\r\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\r\n    ChatEntity toEntity(Chat chat);\r\n\r\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\r\n    Chat toModel(ChatEntity chatEntity);\r\n}\r\n\r\n@Mapper\r\npublic interface MessageMapper {\r\n\r\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntity.id&quot;)\r\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntity.id&quot;)\r\n    MessageEntity toEntity(Message message);\r\n\r\n    @Mapping(source = &quot;userFromEntity.id&quot;, target = &quot;userFromId&quot;)\r\n    @Mapping(source = &quot;userToEntity.id&quot;, target = &quot;userToId&quot;)\r\n    Message toModel(MessageEntity messageEntity);\r\n}\r\n```\r\n\r\nAnd here models:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Chat {\r\n\r\n    private UUID id;\r\n\r\n    @JsonProperty(&quot;messages&quot;)\r\n    private List&lt;Message&gt; messageList;\r\n}\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Message {\r\n\r\n    private UUID id;\r\n    private String content;\r\n    private ZonedDateTime creationDate;\r\n    private UUID parentId;\r\n    private UUID userFromId;\r\n    private UUID userToId;\r\n}\r\n```\r\n\r\nAnd entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;chat&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChatEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;MessageEntity&gt; messageEntityList;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userToEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userFromEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n}\r\n```","title":"Mapstruck null failure for inner field mapped by another mapper","body":"<p>In my application, each chat contains a list of messages, and each message contains info about the users who are their sender and receiver. However, I’m struggling to use a mapper with mapstruct that from a chat mapper would allow me to map both the list of messages and the user info related to each message, which are mapped by the message mapper.</p>\n<p>So this fails with valid message, but null userTo and userFrom id.</p>\n<pre><code>return chatRepository.findAll()\n        .stream()\n        .map(chatMapper::toModel)\n        .toList();\n</code></pre>\n<p>But when it's replaced by the below piece where I map each message and then manually add them to a chat, it passes:</p>\n<pre><code>List&lt;ChatEntity&gt; chatEntityList = chatRepository.findAll();\n\nList&lt;Chat&gt; chatList = new ArrayList&lt;&gt;();\nfor (ChatEntity chatEntity : chatEntityList) {\n    List&lt;Message&gt; messageList = chatEntity.getMessageEntityList()\n            .stream()\n            .map(messageMapper::toModel)\n            .toList();\n\n    Chat chat = Chat.builder()\n            .id(chatEntity.getId())\n            .messageList(messageList)\n            .build();\n\n    chatList.add(chat);\n}\nreturn chatList;\n\n</code></pre>\n<p>I’ve been trying for days, but am really at loss at why this is?</p>\n<p>These are my mappers:</p>\n<pre><code>@Mapper //tried @Mapper(uses = MessageMapper.class) but the result is the same\npublic interface ChatMapper {\n\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\n    ChatEntity toEntity(Chat chat);\n\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\n    Chat toModel(ChatEntity chatEntity);\n}\n\n@Mapper\npublic interface MessageMapper {\n\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntity.id&quot;)\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntity.id&quot;)\n    MessageEntity toEntity(Message message);\n\n    @Mapping(source = &quot;userFromEntity.id&quot;, target = &quot;userFromId&quot;)\n    @Mapping(source = &quot;userToEntity.id&quot;, target = &quot;userToId&quot;)\n    Message toModel(MessageEntity messageEntity);\n}\n</code></pre>\n<p>And here models:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Chat {\n\n    private UUID id;\n\n    @JsonProperty(&quot;messages&quot;)\n    private List&lt;Message&gt; messageList;\n}\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Message {\n\n    private UUID id;\n    private String content;\n    private ZonedDateTime creationDate;\n    private UUID parentId;\n    private UUID userFromId;\n    private UUID userToId;\n}\n</code></pre>\n<p>And entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;chat&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChatEntity {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;MessageEntity&gt; messageEntityList;\n}\n\n@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userToEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userFromEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n}\n</code></pre>\n"},{"tags":["java","internationalization","locale","utf"],"comments":[{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1543934254,"post_id":53614514,"comment_id":94091263,"body_markdown":"The difference in equal signs where introduced with java 10, in java 8 they were similar","body":"The difference in equal signs where introduced with java 10, in java 8 they were similar"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1543944909,"post_id":53614514,"comment_id":94097388,"body_markdown":"I don&#39;t think anybody other than the developers of Java can answer a question like &quot;Why&quot;. And it doesn&#39;t help you anyway - you are stuck with the situation whether it is justifiable or not. Perhaps you&#39;d prefer to change your question to something practical like how to go around this issue.","body":"I don&#39;t think anybody other than the developers of Java can answer a question like &quot;Why&quot;. And it doesn&#39;t help you anyway - you are stuck with the situation whether it is justifiable or not. Perhaps you&#39;d prefer to change your question to something practical like how to go around this issue."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":1,"creation_date":1543953273,"post_id":53614514,"comment_id":94101323,"body_markdown":"Yes, thanks for input, I probably used Stack overflow a bit wrong here but I thought it was so strange that maybe I did something wrong. I have gotten around it a bit ugly but will update my question with it.","body":"Yes, thanks for input, I probably used Stack overflow a bit wrong here but I thought it was so strange that maybe I did something wrong. I have gotten around it a bit ugly but will update my question with it."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1593680382,"post_id":53614514,"comment_id":110866732,"body_markdown":"Another workaround is to use &quot;-Djava.locale.providers=COMPAT,CLDR&quot; as a JDK parameter. This tells Java to use the old way for locale spesific formatting.","body":"Another workaround is to use &quot;-Djava.locale.providers=COMPAT,CLDR&quot; as a JDK parameter. This tells Java to use the old way for locale spesific formatting."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":1,"creation_date":1699227603,"post_id":53614514,"comment_id":136501523,"body_markdown":"There is probably a bug in the code above as `U+200E` is `LEFT-TO-RIGHT MARK` and `U+200F` is `RIGHT-TO-LEFT MARK`. Both bidi formatting control characters and not negative signs. My guess is that those locales use muti-character string for their negative signs and the code assumes a single character is always used so only reports the first character in the negative sign string.","body":"There is probably a bug in the code above as <code>U+200E</code> is <code>LEFT-TO-RIGHT MARK</code> and <code>U+200F</code> is <code>RIGHT-TO-LEFT MARK</code>. Both bidi formatting control characters and not negative signs. My guess is that those locales use muti-character string for their negative signs and the code assumes a single character is always used so only reports the first character in the negative sign string."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1700001471,"post_id":53614514,"comment_id":136600893,"body_markdown":"Thanks for good comment and you are probably correct. But still strange that negative sign changed from Java 8 to 11? But I might be terrible wrong here due to little traffic on this issue:-)","body":"Thanks for good comment and you are probably correct. But still strange that negative sign changed from Java 8 to 11? But I might be terrible wrong here due to little traffic on this issue:-)"}],"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699227415,"creation_date":1543931643,"question_id":53614514,"body_markdown":"Trying to format negative number to String using:\r\n\r\n    (DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;)));\r\n\r\nUsing jdk-10.0.2. I have found out that Norway and some other countries are using Unicode Character &#39;MINUS SIGN&#39; (U+2212) for negative prefix, while most other countries are using Unicode Character &#39;HYPHEN-MINUS&#39; (U+002D). This is a problem as tests are failing on `.isEqualTo` and on my Mac negative prefix is always HYPHEN-MINUS. \r\n\r\nA solution I have found is to call `setNegativePrefix(&quot;-&quot;)` after getting the DecimalFormat to override the strange local negative prefixes. \r\n\r\nPlease also see workaround at Orcale (end of page) https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926.\r\n\r\n    @Test\r\n    public void norwegianNegativePrefixDifferentFromEnglish() throws UnsupportedEncodingException {\r\n        Assertions.assertThat(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;))).getNegativePrefix())\r\n                .isEqualTo(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;en&quot;))).getNegativePrefix());\r\n    }\r\n\r\n\r\nAnyone know why? Executing this Java gives the attached results: \r\n\r\n        public void fintLocals() {\r\n        HashMap&lt;String, List&lt;String&gt;&gt; negativeSignAndLocals = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n        for (Locale locale : Locale.getAvailableLocales()) {\r\n            DecimalFormat formatForLocal = ((DecimalFormat) NumberFormat.getNumberInstance(locale));\r\n            // System.out.println(formatForLocal.getNegativePrefix()+ &quot; minus for &quot;+locale);\r\n            List&lt;String&gt; negLoc = negativeSignAndLocals.get(formatForLocal.getNegativePrefix());\r\n            if (negLoc == null) {\r\n                negativeSignAndLocals.put(formatForLocal.getNegativePrefix(), new ArrayList&lt;&gt;());\r\n            }\r\n            negativeSignAndLocals.get(formatForLocal.getNegativePrefix()).add(locale.toString());\r\n        }\r\n        for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : negativeSignAndLocals.entrySet()) {\r\n\r\n            System.out.println(&quot;Negative sign = &quot; + entry.getKey() + &quot; as Hex value &quot; + charToHex(entry.getKey().charAt(0))\r\n                    + &quot; is used by: &quot; + (String) String.join(&quot;,&quot;, entry.getValue()));\r\n        }\r\n    }\r\n\r\n    static public String byteToHex(byte b) {\r\n        // Returns hex String representation of byte b\r\n        char hexDigit[] = {\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;,\r\n                &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;\r\n        };\r\n        char[] array = {hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f]};\r\n        return new String(array);\r\n    }\r\n\r\n    static public String charToHex(char c) {\r\n        // Returns hex String representation of char c\r\n        byte hi = (byte) (c &gt;&gt;&gt; 8);\r\n        byte lo = (byte) (c &amp; 0xff);\r\n        return byteToHex(hi) + byteToHex(lo);\r\n    }\r\n\r\nNegative sign − as Hex value 2212 is used by: nn,sv_SE,sv,se_NO,nb_SJ,no_NO_NY,sv_FI,no,ksh,gsw_CH,et,gsw,gsw_FR,fi,et_EE,rm,nb_NO,fi_FI,rm_CH,ksh_DE,se_FI,no_NO,lt_LT,nn_NO,se_SE,se,fo_DK,fo_FO,fo,lt,gsw_LI,sv_AX,nb\r\n\r\nNegative sign - as Hex value 002d is used by: ,bg,kea,zu,am_ET,fr_DZ,ti_ET,bo_CN,hsb,qu_EC,ta_SG,lv,en_NU,zh_SG_#Hans,en_MS,en_GG,en_JM,vo,kkj,sr_ME,es_BO,dz_BT,mer,sah,en_ZM,fr_ML,br,ha_NG,bs_BA,dsb_DE,sk,os_GE,ml,en_MT,en_LR,en_GH,en_IL,cs,el,tzm_MA,af,sw_UG,ses_ML,smn,tk_TM,sr_ME_#Cyrl,dsb,lkt_US,vai_LR_#Latn,ji_001,yo_NG,khq,sw_CD,vo_001,en_PW,pl_PL,fil_PH,sr_CS,ne_IN,es_PH,es_ES,es_CO,bg_BG,ji,bs_BA_#Latn,en_VC,es_US,agq,hsb_DE,en_US_POSIX,en_150,en_KN,ha_NE,pt_MO,ebu,ro_RO,zh__#Hans,lb_LU,sr_ME_#Latn,es_GT,so_KE,dje_NE,bas_CM,fr_PM,fr_MG,es_CL,mn,agq_CM,kam_KE,teo,tr_TR,eu,en_MO,shi__#Tfng,en_BZ,sq_AL,es_DO,ru,twq_NE,az,nmg_CM,kl_GL,en_NR,nd,kk,az__#Cyrl,en_MP,en_GD,tk,hy,shi__#Latn,en_BW,en_AU,en_CY,kab_DZ,kde_TZ,ta_MY,ti_ER,nus_SS,en_RW,nd_ZW,ksb,luo,lb,ne,en_IE,zh_SG,ln_CD,en_KI,nnh_CM,om_ET,ja_JP,my,ka,mgh,or_IN,fr_MF,shi,kl,yue_HK,en_SZ,rwk_TZ,zh,es_PE,mgh_MZ,saq,az__#Latn,ta,en_GB,lag,zh_HK_#Hant,ksf_CM,bo,kk_KZ,es_PA,om_KE,en_AS,fr_VU,zh_TW,bez,kln,fr_MC,kw,pt_MZ,fr_NE,vai__#Latn,ksb_TZ,ln,en_JE,ln_CF,uz_AF,en_CX,luy_KE,pt,en_AT,gl,kkj_CM,sr__#Cyrl,es_GQ,kn_IN,to,en_SX,ga,qu,ru_KZ,en_TZ,en_PR,mua,ko_KP,in,sn,nl_SR,rof,en_BS,km,zgh,fr_NC,be,gv,es,dua,gd_GB,jgo,nl_BQ,fr_CM,uz_UZ_#Cyrl,pa_IN_#Guru,en_KE,guz,mfe,asa_TZ,teo_UG,ja,fr_SN,or,brx,fr_MA,pt_LU,fr_BL,en_NL,mgo_CM,ln_CG,te,az_AZ,sl,ko_KR,el_CY,mr_IN,ha,es_MX,es_HN,hu_HU,ff_SN,sbp,sq_MK,sr_BA_#Cyrl,uz,bs__#Cyrl,sr__#Latn,en_SS,sw,bo_IN,fy_NL,tr_CY,nmg,en_MG,fr_BI,shi_MA,uz_UZ_#Latn,bn,dua_CM,vai__#Vaii,kn,fr_TN,sr_RS,de_CH,bn_BD,nnh,fr_PF,en_ZA,gu,pt_GQ,vun_TZ,jmc_TZ,en_TV,lo,fr_FR,en_PN,pa_IN,en_MH,fr_BJ,vai_LR,zh__#Hant,cu_RU,zh_HK_#Hans,nl_NL,sah_RU,en_GY,bs__#Latn,ky,mas,dyo_SN,os,bs_BA_#Cyrl,nl_CW,sk_SK,pt_CH,fr_GQ,ff_CM,am,en_NG,fr_CI,ki_KE,en_PK,zh_CN,en_LC,rw,brx_IN,gv_IM,mk_MK,en_TT,dav,sl_SI,fr_HT,te_IN,nl_SX,ses,ce,fr_CG,fr_BE,jgo_CM,mt_MT,es_VE,mg,mr,mer_KE,ko,en_BM,ak,seh,kde,dz,kea_CV,mgo,vi_VN,en_VU,en_US,to_TO,mfe_MU,seh_MZ,fr_BF,pa__#Guru,it_SM,fr_YT,gu_IN,ii_CN,ast,fr_RE,ca_FR,sr_BA_#Latn,bn_IN,fr_GP,pa,zgh_MA,uk_UA,fr_DJ,rn,rwk,hu,fr_CH,en_NF,twq,ha_GH,sr_XK_#Cyrl,bm,en_GU,nl_AW,de_BE,en_AI,en_CM,xog_UG,cs_CZ,tr,ca_ES,cgg,nyn_UG,ru_MD,ms_MY,ta_LK,ksf,en_TO,cy,en_PG,fr_CF,pt_TL,sq,fr,en_ER,qu_PE,sr_BA,es_PY,de,es_EC,kok_IN,lg_UG,zu_ZA,fr_TG,sr_XK_#Latn,en_PH,ig_NG,fr_GN,prg_001,cgg_UG,zh_MO_#Hans,lg,ru_RU,ff,en_DM,en_CK,ga_IE,en_BI,en_AG,fr_TD,en_WS,fr_LU,ebu_KE,bem_ZM,xog,ewo_CM,fr_CD,so,rn_BI,en_NA,kab,ms,nus,sn_ZW,prg,ug,es_EA,th_TH_TH_#u-nu-thai,hi,fr_SC,ca_IT,lag_TZ,en_SL,teo_KE,ca_AD,zh_MO_#Hant,en_SH,vai,qu_BO,haw_US,vi,fr_CA,de_LU,sq_XK,dyo,en_KY,mt,it_CH,de_DE,si_LK,luo_KE,en_DK,yav,so_DJ,it_IT,eo,kam,en_ZW,ro,eo_001,ee,en_UM,fr_MU,pl,en_TK,en_SI,mua_CM,vai_LR_#Vaii,saq_KE,pt_GW,lo_LA,chr,af_ZA,ms_SG,ee_TG,ln_AO,be_BY,ff_GN,in_ID,hr_HR,luy,as,rof_TZ,it,pt_CV,uk,my_MM,mn_MN,da_DK,en_FM,es_PR,wae_CH,en_BE,ii,fr_WF,ru_BY,naq,en_SG,ee_GH,kln_KE,tzm,fur,om,hi_IN,en_CH,asa,yo_BJ,ast_ES,fr_KM,bez_TZ,fr_MQ,en_SD,es_AR,en_MY,ja_JP_JP_#u-ca-japanese,es_SV,pt_BR,ml_IN,sbp_TZ,fil,en_FK,uz__#Cyrl,is_IS,hy_AM,en_GM,en_DG,ne_NP,hr,pt_ST,ak_GH,fur_IT,ta_IN,en_SE,fr_GF,lkt,zh_CN_#Hans,is,es_419,si,pt_AO,en_001,en,guz_KE,es_IC,ca,ru_KG,fr_MR,zh_TW_#Hant,bm_ML,pa_PK,kw_GB,ug_CN,as_IN,es_BR,zh_HK,khq_ML,sw_KE,en_SB,th_TH,rw_RW,chr_US,shi_MA_#Tfng,nyn,yue,jmc,en_MW,naq_NA,mk,en_IO,en_DE,en_CC,bs,ro_MD,en_FI,pt_PT,fy,az_AZ_#Cyrl,th,dav_KE,uz_UZ,shi_MA_#Latn,es_CU,en_SC,en_VI,haw,eu_ES,en_UG,en_NZ,dje,es_UY,bas,mas_KE,ru_UA,sg_CF,el_GR,yav_CM,uz__#Latn,sg,da_GL,en_FJ,de_LI,en_BB,km_KH,smn_FI,hr_BA,de_AT,nl,lu_CD,ca_ES_VALENCIA,so_SO,lv_LV,es_CR,fr_GA,sr,sr_RS_#Cyrl,bem,en_MU,da,wae,gl_ES,en_IM,az_AZ_#Latn,en_LS,ig,en_HK,en_GI,ce_RU,en_CA,gd,ka_GE,fr_SY,sw_TZ,fr_RW,so_ET,nl_BE,mg_MG,cy_GB,en_VG,cu,os_RU,sr_RS_#Latn,en_TC,ky_KG,af_NA,vun,en_IN,lu,ki,yo,es_NI,ff_MR,mas_TZ,ti,kok,ewo,ms_BN,br_FR\r\n\r\nNegative sign ‎ as Hex value 200e is used by: fa_AF,ar_EH,fa_IR,ar_MR,fa,ur_IN,ps,lrc_IR,lrc_IQ,ps_AF,ar_DZ,iw,lrc,pa_PK_#Arab,ar_MA,iw_IL,ur,uz__#Arab,ar_LB,ks_IN,ur_PK,mzn,mzn_IR,uz_AF_#Arab,ar_TN,ks,pa__#Arab,ar_LY\r\n\r\nNegative sign ‏ as Hex value 200f is used by: ar_JO,ar_SA,ar_TD,ar_EG,ar_SD,ar_KM,ar_IL,ar_SY,ar_PS,ar_YE,ar_OM,ar_SS,ar_ER,ar_SO,ar_AE,ar_BH,ar_IQ,ar_QA,ckb_IQ,ar,ckb_IR,ar_001,ckb,ar_KW,ar_DJ","title":"Java NumberFormat.getNumberInstance(Locale) inconsistent for negativePrefix","body":"<p>Trying to format negative number to String using:</p>\n<pre><code>(DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;)));\n</code></pre>\n<p>Using jdk-10.0.2. I have found out that Norway and some other countries are using Unicode Character 'MINUS SIGN' (U+2212) for negative prefix, while most other countries are using Unicode Character 'HYPHEN-MINUS' (U+002D). This is a problem as tests are failing on <code>.isEqualTo</code> and on my Mac negative prefix is always HYPHEN-MINUS.</p>\n<p>A solution I have found is to call <code>setNegativePrefix(&quot;-&quot;)</code> after getting the DecimalFormat to override the strange local negative prefixes.</p>\n<p>Please also see workaround at Orcale (end of page) <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926</a>.</p>\n<pre><code>@Test\npublic void norwegianNegativePrefixDifferentFromEnglish() throws UnsupportedEncodingException {\n    Assertions.assertThat(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;))).getNegativePrefix())\n            .isEqualTo(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;en&quot;))).getNegativePrefix());\n}\n</code></pre>\n<p>Anyone know why? Executing this Java gives the attached results:</p>\n<pre><code>    public void fintLocals() {\n    HashMap&lt;String, List&lt;String&gt;&gt; negativeSignAndLocals = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    for (Locale locale : Locale.getAvailableLocales()) {\n        DecimalFormat formatForLocal = ((DecimalFormat) NumberFormat.getNumberInstance(locale));\n        // System.out.println(formatForLocal.getNegativePrefix()+ &quot; minus for &quot;+locale);\n        List&lt;String&gt; negLoc = negativeSignAndLocals.get(formatForLocal.getNegativePrefix());\n        if (negLoc == null) {\n            negativeSignAndLocals.put(formatForLocal.getNegativePrefix(), new ArrayList&lt;&gt;());\n        }\n        negativeSignAndLocals.get(formatForLocal.getNegativePrefix()).add(locale.toString());\n    }\n    for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : negativeSignAndLocals.entrySet()) {\n\n        System.out.println(&quot;Negative sign = &quot; + entry.getKey() + &quot; as Hex value &quot; + charToHex(entry.getKey().charAt(0))\n                + &quot; is used by: &quot; + (String) String.join(&quot;,&quot;, entry.getValue()));\n    }\n}\n\nstatic public String byteToHex(byte b) {\n    // Returns hex String representation of byte b\n    char hexDigit[] = {\n            '0', '1', '2', '3', '4', '5', '6', '7',\n            '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n    };\n    char[] array = {hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f]};\n    return new String(array);\n}\n\nstatic public String charToHex(char c) {\n    // Returns hex String representation of char c\n    byte hi = (byte) (c &gt;&gt;&gt; 8);\n    byte lo = (byte) (c &amp; 0xff);\n    return byteToHex(hi) + byteToHex(lo);\n}\n</code></pre>\n<p>Negative sign − as Hex value 2212 is used by: nn,sv_SE,sv,se_NO,nb_SJ,no_NO_NY,sv_FI,no,ksh,gsw_CH,et,gsw,gsw_FR,fi,et_EE,rm,nb_NO,fi_FI,rm_CH,ksh_DE,se_FI,no_NO,lt_LT,nn_NO,se_SE,se,fo_DK,fo_FO,fo,lt,gsw_LI,sv_AX,nb</p>\n<p>Negative sign - as Hex value 002d is used by: ,bg,kea,zu,am_ET,fr_DZ,ti_ET,bo_CN,hsb,qu_EC,ta_SG,lv,en_NU,zh_SG_#Hans,en_MS,en_GG,en_JM,vo,kkj,sr_ME,es_BO,dz_BT,mer,sah,en_ZM,fr_ML,br,ha_NG,bs_BA,dsb_DE,sk,os_GE,ml,en_MT,en_LR,en_GH,en_IL,cs,el,tzm_MA,af,sw_UG,ses_ML,smn,tk_TM,sr_ME_#Cyrl,dsb,lkt_US,vai_LR_#Latn,ji_001,yo_NG,khq,sw_CD,vo_001,en_PW,pl_PL,fil_PH,sr_CS,ne_IN,es_PH,es_ES,es_CO,bg_BG,ji,bs_BA_#Latn,en_VC,es_US,agq,hsb_DE,en_US_POSIX,en_150,en_KN,ha_NE,pt_MO,ebu,ro_RO,zh__#Hans,lb_LU,sr_ME_#Latn,es_GT,so_KE,dje_NE,bas_CM,fr_PM,fr_MG,es_CL,mn,agq_CM,kam_KE,teo,tr_TR,eu,en_MO,shi__#Tfng,en_BZ,sq_AL,es_DO,ru,twq_NE,az,nmg_CM,kl_GL,en_NR,nd,kk,az__#Cyrl,en_MP,en_GD,tk,hy,shi__#Latn,en_BW,en_AU,en_CY,kab_DZ,kde_TZ,ta_MY,ti_ER,nus_SS,en_RW,nd_ZW,ksb,luo,lb,ne,en_IE,zh_SG,ln_CD,en_KI,nnh_CM,om_ET,ja_JP,my,ka,mgh,or_IN,fr_MF,shi,kl,yue_HK,en_SZ,rwk_TZ,zh,es_PE,mgh_MZ,saq,az__#Latn,ta,en_GB,lag,zh_HK_#Hant,ksf_CM,bo,kk_KZ,es_PA,om_KE,en_AS,fr_VU,zh_TW,bez,kln,fr_MC,kw,pt_MZ,fr_NE,vai__#Latn,ksb_TZ,ln,en_JE,ln_CF,uz_AF,en_CX,luy_KE,pt,en_AT,gl,kkj_CM,sr__#Cyrl,es_GQ,kn_IN,to,en_SX,ga,qu,ru_KZ,en_TZ,en_PR,mua,ko_KP,in,sn,nl_SR,rof,en_BS,km,zgh,fr_NC,be,gv,es,dua,gd_GB,jgo,nl_BQ,fr_CM,uz_UZ_#Cyrl,pa_IN_#Guru,en_KE,guz,mfe,asa_TZ,teo_UG,ja,fr_SN,or,brx,fr_MA,pt_LU,fr_BL,en_NL,mgo_CM,ln_CG,te,az_AZ,sl,ko_KR,el_CY,mr_IN,ha,es_MX,es_HN,hu_HU,ff_SN,sbp,sq_MK,sr_BA_#Cyrl,uz,bs__#Cyrl,sr__#Latn,en_SS,sw,bo_IN,fy_NL,tr_CY,nmg,en_MG,fr_BI,shi_MA,uz_UZ_#Latn,bn,dua_CM,vai__#Vaii,kn,fr_TN,sr_RS,de_CH,bn_BD,nnh,fr_PF,en_ZA,gu,pt_GQ,vun_TZ,jmc_TZ,en_TV,lo,fr_FR,en_PN,pa_IN,en_MH,fr_BJ,vai_LR,zh__#Hant,cu_RU,zh_HK_#Hans,nl_NL,sah_RU,en_GY,bs__#Latn,ky,mas,dyo_SN,os,bs_BA_#Cyrl,nl_CW,sk_SK,pt_CH,fr_GQ,ff_CM,am,en_NG,fr_CI,ki_KE,en_PK,zh_CN,en_LC,rw,brx_IN,gv_IM,mk_MK,en_TT,dav,sl_SI,fr_HT,te_IN,nl_SX,ses,ce,fr_CG,fr_BE,jgo_CM,mt_MT,es_VE,mg,mr,mer_KE,ko,en_BM,ak,seh,kde,dz,kea_CV,mgo,vi_VN,en_VU,en_US,to_TO,mfe_MU,seh_MZ,fr_BF,pa__#Guru,it_SM,fr_YT,gu_IN,ii_CN,ast,fr_RE,ca_FR,sr_BA_#Latn,bn_IN,fr_GP,pa,zgh_MA,uk_UA,fr_DJ,rn,rwk,hu,fr_CH,en_NF,twq,ha_GH,sr_XK_#Cyrl,bm,en_GU,nl_AW,de_BE,en_AI,en_CM,xog_UG,cs_CZ,tr,ca_ES,cgg,nyn_UG,ru_MD,ms_MY,ta_LK,ksf,en_TO,cy,en_PG,fr_CF,pt_TL,sq,fr,en_ER,qu_PE,sr_BA,es_PY,de,es_EC,kok_IN,lg_UG,zu_ZA,fr_TG,sr_XK_#Latn,en_PH,ig_NG,fr_GN,prg_001,cgg_UG,zh_MO_#Hans,lg,ru_RU,ff,en_DM,en_CK,ga_IE,en_BI,en_AG,fr_TD,en_WS,fr_LU,ebu_KE,bem_ZM,xog,ewo_CM,fr_CD,so,rn_BI,en_NA,kab,ms,nus,sn_ZW,prg,ug,es_EA,th_TH_TH_#u-nu-thai,hi,fr_SC,ca_IT,lag_TZ,en_SL,teo_KE,ca_AD,zh_MO_#Hant,en_SH,vai,qu_BO,haw_US,vi,fr_CA,de_LU,sq_XK,dyo,en_KY,mt,it_CH,de_DE,si_LK,luo_KE,en_DK,yav,so_DJ,it_IT,eo,kam,en_ZW,ro,eo_001,ee,en_UM,fr_MU,pl,en_TK,en_SI,mua_CM,vai_LR_#Vaii,saq_KE,pt_GW,lo_LA,chr,af_ZA,ms_SG,ee_TG,ln_AO,be_BY,ff_GN,in_ID,hr_HR,luy,as,rof_TZ,it,pt_CV,uk,my_MM,mn_MN,da_DK,en_FM,es_PR,wae_CH,en_BE,ii,fr_WF,ru_BY,naq,en_SG,ee_GH,kln_KE,tzm,fur,om,hi_IN,en_CH,asa,yo_BJ,ast_ES,fr_KM,bez_TZ,fr_MQ,en_SD,es_AR,en_MY,ja_JP_JP_#u-ca-japanese,es_SV,pt_BR,ml_IN,sbp_TZ,fil,en_FK,uz__#Cyrl,is_IS,hy_AM,en_GM,en_DG,ne_NP,hr,pt_ST,ak_GH,fur_IT,ta_IN,en_SE,fr_GF,lkt,zh_CN_#Hans,is,es_419,si,pt_AO,en_001,en,guz_KE,es_IC,ca,ru_KG,fr_MR,zh_TW_#Hant,bm_ML,pa_PK,kw_GB,ug_CN,as_IN,es_BR,zh_HK,khq_ML,sw_KE,en_SB,th_TH,rw_RW,chr_US,shi_MA_#Tfng,nyn,yue,jmc,en_MW,naq_NA,mk,en_IO,en_DE,en_CC,bs,ro_MD,en_FI,pt_PT,fy,az_AZ_#Cyrl,th,dav_KE,uz_UZ,shi_MA_#Latn,es_CU,en_SC,en_VI,haw,eu_ES,en_UG,en_NZ,dje,es_UY,bas,mas_KE,ru_UA,sg_CF,el_GR,yav_CM,uz__#Latn,sg,da_GL,en_FJ,de_LI,en_BB,km_KH,smn_FI,hr_BA,de_AT,nl,lu_CD,ca_ES_VALENCIA,so_SO,lv_LV,es_CR,fr_GA,sr,sr_RS_#Cyrl,bem,en_MU,da,wae,gl_ES,en_IM,az_AZ_#Latn,en_LS,ig,en_HK,en_GI,ce_RU,en_CA,gd,ka_GE,fr_SY,sw_TZ,fr_RW,so_ET,nl_BE,mg_MG,cy_GB,en_VG,cu,os_RU,sr_RS_#Latn,en_TC,ky_KG,af_NA,vun,en_IN,lu,ki,yo,es_NI,ff_MR,mas_TZ,ti,kok,ewo,ms_BN,br_FR</p>\n<p>Negative sign ‎ as Hex value 200e is used by: fa_AF,ar_EH,fa_IR,ar_MR,fa,ur_IN,ps,lrc_IR,lrc_IQ,ps_AF,ar_DZ,iw,lrc,pa_PK_#Arab,ar_MA,iw_IL,ur,uz__#Arab,ar_LB,ks_IN,ur_PK,mzn,mzn_IR,uz_AF_#Arab,ar_TN,ks,pa__#Arab,ar_LY</p>\n<p>Negative sign ‏ as Hex value 200f is used by: ar_JO,ar_SA,ar_TD,ar_EG,ar_SD,ar_KM,ar_IL,ar_SY,ar_PS,ar_YE,ar_OM,ar_SS,ar_ER,ar_SO,ar_AE,ar_BH,ar_IQ,ar_QA,ckb_IQ,ar,ckb_IR,ar_001,ckb,ar_KW,ar_DJ</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671534250,"post_id":74861789,"comment_id":132115127,"body_markdown":"The universal repository already exists in JPA: `javax.persistence.EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)`","body":"The universal repository already exists in JPA: <code>javax.persistence.EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)</code>"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1671534532,"post_id":74861789,"comment_id":132115220,"body_markdown":"This would still require a Class where i have the entityManager and i can also not create Queries (like findByIdAndName) with other fields, right?","body":"This would still require a Class where i have the entityManager and i can also not create Queries (like findByIdAndName) with other fields, right?"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1671544748,"post_id":74861789,"comment_id":132118605,"body_markdown":"what&#39;s the problem using ```extends JpaRepository&lt;Entity, IdType&gt;&#39;","body":"what&#39;s the problem using ```extends JpaRepository&lt;Entity, IdType&gt;&#39;"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1671638372,"post_id":74861789,"comment_id":132142830,"body_markdown":"This actually solves a portion of the Problem, thats true. Nevertheless i cannot produce queries with other fields. like findByIdAndType(K id, String type). if the jparepository can build such queries, why cant I?","body":"This actually solves a portion of the Problem, thats true. Nevertheless i cannot produce queries with other fields. like findByIdAndType(K id, String type). if the jparepository can build such queries, why cant I?"}],"answers":[{"comments":[{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1671967495,"post_id":74884096,"comment_id":132201848,"body_markdown":"Alright, thanks for the info. Your implementation of &quot;findByIdAndType&quot; is a nice solution. first i was afraid of the impact of the findById but i forgot that findById literally should return a single object. I didn&#39;t get some of your hibernate deep-dive but thats ok, i&#39;m not that deep into the matter.","body":"Alright, thanks for the info. Your implementation of &quot;findByIdAndType&quot; is a nice solution. first i was afraid of the impact of the findById but i forgot that findById literally should return a single object. I didn&#39;t get some of your hibernate deep-dive but thats ok, i&#39;m not that deep into the matter."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699227263,"creation_date":1671682864,"answer_id":74884096,"question_id":74861789,"body_markdown":"The idea of retrieving JPA entities via &quot;id query&quot; is not so good as you might think, the main problem is that is much slower, especially when you are hitting the same entity within transaction multiple times: if flush mode is set to AUTO (which is actually the reasonable default) Hibernate needs to perform dirty checking and flush changes into database before executing JPQL query, moreover, Hibernate doesn&#39;t guarantee that entities, retrieved via &quot;id query&quot; are not actually stale - if entity was already present in persistence context Hibernate basically ignores DB data.\r\n\r\nThe best way to retrieve entities by id is to call `EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)` method, which in turn backs up `CrudRepository#findById` method, so, yours `findByIdAndType(K id, String type)` should actually look like:\r\n\r\n\r\n```\r\ndefault Optional&lt;T&gt; findByIdAndType(K id, String type) {\r\n\treturn findById(id)\r\n\t\t\t.filter(e -&gt; Objects.equals(e.getType(), type));\r\n}\r\n```\r\n\r\nHowever, the desire to place some kind of `id` placeholder in JQPL query is not so bad - one of it&#39;s applications could be preserving order stability in queries with pagination. I would suggest you to file corresponding CR to `spring-data` project.","title":"JPA Query with several different @Id columns","body":"<p>The idea of retrieving JPA entities via &quot;id query&quot; is not so good as you might think, the main problem is that is much slower, especially when you are hitting the same entity within transaction multiple times: if flush mode is set to AUTO (which is actually the reasonable default) Hibernate needs to perform dirty checking and flush changes into database before executing JPQL query, moreover, Hibernate doesn't guarantee that entities, retrieved via &quot;id query&quot; are not actually stale - if entity was already present in persistence context Hibernate basically ignores DB data.</p>\n<p>The best way to retrieve entities by id is to call <code>EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)</code> method, which in turn backs up <code>CrudRepository#findById</code> method, so, yours <code>findByIdAndType(K id, String type)</code> should actually look like:</p>\n<pre><code>default Optional&lt;T&gt; findByIdAndType(K id, String type) {\n    return findById(id)\n            .filter(e -&gt; Objects.equals(e.getType(), type));\n}\n</code></pre>\n<p>However, the desire to place some kind of <code>id</code> placeholder in JQPL query is not so bad - one of it's applications could be preserving order stability in queries with pagination. I would suggest you to file corresponding CR to <code>spring-data</code> project.</p>\n"}],"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74884096,"answer_count":1,"score":1,"last_activity_date":1699227263,"creation_date":1671532806,"question_id":74861789,"body_markdown":"# Problem\r\nTo make my code cleaner i want to introduce a generic Repository that each Repository could extend and therefore reduce the code i have to have in each of them. The problem is, that the Ids differ from Class to Class. On one (see example below) it would be `id` and in the other `randomNumber` and on the other may even be an @EmbeddedId. I want to have a derived (or non derived) query in the respository that gets One by id.\r\n\r\n## Preferred solution\r\nI Imagine having something like:\r\n\r\n```java \r\npublic interface IUniversalRepository&lt;T, K&gt;{\r\n    @Query(&quot;select t from # {#entityName} where @id = ?1&quot;)\r\n    public T findById(K id);\r\n}\r\n```\r\n\r\n\r\n# Ecample Code \r\n#### (that does not work because attribute `id` cannot be found on Settings)\r\n```java\r\npublic interface IUniversalRepository&lt;T, K&gt;{\r\n    //should return the object with the id, reagardless of the column name\r\n    public T findById(K id);\r\n}\r\n```\r\n\r\n```java \r\n// two example classes with different @Id fields\r\npublic class TaxRate {\r\n\r\n    @Id\r\n    @Column()\r\n    private Integer id;\r\n\r\n    ...\r\n}\r\n\r\npublic class Settings{\r\n\r\n    @Id\r\n    @Column() //cannot rename this column because it has to be named exactly as it is for backup reason\r\n    private String randomNumber;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n// the Repository would be used like this\r\npublic interface TaxRateRepository extends IUniversalRepository&lt;TaxRate, Integer&gt; {\r\n}\r\n\r\npublic interface SettingsRepository extends IUniversalRepository&lt;TaxRate, String&gt; {\r\n}\r\n```\r\n\r\nHappy for suggestions.","title":"JPA Query with several different @Id columns","body":"<h1>Problem</h1>\n<p>To make my code cleaner i want to introduce a generic Repository that each Repository could extend and therefore reduce the code i have to have in each of them. The problem is, that the Ids differ from Class to Class. On one (see example below) it would be <code>id</code> and in the other <code>randomNumber</code> and on the other may even be an @EmbeddedId. I want to have a derived (or non derived) query in the respository that gets One by id.</p>\n<h2>Preferred solution</h2>\n<p>I Imagine having something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IUniversalRepository&lt;T, K&gt;{\n    @Query(&quot;select t from # {#entityName} where @id = ?1&quot;)\n    public T findById(K id);\n}\n</code></pre>\n<h1>Ecample Code</h1>\n<h4>(that does not work because attribute <code>id</code> cannot be found on Settings)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IUniversalRepository&lt;T, K&gt;{\n    //should return the object with the id, reagardless of the column name\n    public T findById(K id);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// two example classes with different @Id fields\npublic class TaxRate {\n\n    @Id\n    @Column()\n    private Integer id;\n\n    ...\n}\n\npublic class Settings{\n\n    @Id\n    @Column() //cannot rename this column because it has to be named exactly as it is for backup reason\n    private String randomNumber;\n\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// the Repository would be used like this\npublic interface TaxRateRepository extends IUniversalRepository&lt;TaxRate, Integer&gt; {\n}\n\npublic interface SettingsRepository extends IUniversalRepository&lt;TaxRate, String&gt; {\n}\n</code></pre>\n<p>Happy for suggestions.</p>\n"},{"tags":["java","wpf","swing","look-and-feel"],"answers":[{"tags":[],"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699226103,"creation_date":1292586292,"answer_id":4470123,"question_id":4470081,"body_markdown":"&gt; I can change it manually, by adopting\r\n&gt; manually crated styles on various\r\n&gt; controls...\r\n\r\nDepends how smart you were developing it.\r\n\r\nNormal WPF controls have no look at all - to start with. They use INHERITED STYLES, which you can override. If you override them manually, as you said, on various controls, you basically willfully ignore the inheritance. Just put in a new style catalogue at the root of the inheritance tree.","title":"Change look and feel in WPF application?","body":"<blockquote>\n<p>I can change it manually, by adopting\nmanually crated styles on various\ncontrols...</p>\n</blockquote>\n<p>Depends how smart you were developing it.</p>\n<p>Normal WPF controls have no look at all - to start with. They use INHERITED STYLES, which you can override. If you override them manually, as you said, on various controls, you basically willfully ignore the inheritance. Just put in a new style catalogue at the root of the inheritance tree.</p>\n"},{"tags":[],"owner":{"account_id":211836,"reputation":12869,"user_id":464250,"display_name":"as-cii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1292586468,"creation_date":1292586468,"answer_id":4470142,"question_id":4470081,"body_markdown":"I don&#39;t know if I have well understood the question but in [WPF Toolkit][1] there are some themes that allows you to change quickly your application interface.\r\n\r\n\r\n  [1]: http://wpf.codeplex.com/wikipage?title=WPF%20Themes&amp;referringTitle=Home","title":"Change look and feel in WPF application?","body":"<p>I don't know if I have well understood the question but in <a href=\"http://wpf.codeplex.com/wikipage?title=WPF%20Themes&amp;referringTitle=Home\" rel=\"nofollow\">WPF Toolkit</a> there are some themes that allows you to change quickly your application interface.</p>\n"}],"owner":{"account_id":247145,"reputation":585,"user_id":521683,"accept_rate":83,"display_name":"Dejan Stuparic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4470142,"answer_count":2,"score":2,"last_activity_date":1699226103,"creation_date":1292585963,"question_id":4470081,"body_markdown":"Is there easy way to change look and feel of your WPF app, just like in Java Swing?\r\n\r\nI can change it manually, by adopting manually crated styles on various controls...","title":"Change look and feel in WPF application?","body":"<p>Is there easy way to change look and feel of your WPF app, just like in Java Swing?</p>\n\n<p>I can change it manually, by adopting manually crated styles on various controls...</p>\n"},{"tags":["java","annotations","openapi-generator","java-module"],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699226081,"creation_date":1699223136,"answer_id":77427889,"question_id":77427878,"body_markdown":"**Solution**\r\n\r\nMove from javax.annotation to jakarta.annotation in source code:\r\n\r\n    @jakarta.annotation.Generated\r\n    @jakarta.annotation.Nonnull\r\n    @jakarta.annotation.Nullable\r\n\r\nand in my build.gradle include this dependency:\r\n\r\n   \r\n\r\n    \r\n    \r\n    dependencies {\r\n     implementation &#39;one.gfw:jakarta.annotation-api:2.1.1&#39;\r\n    }\r\n\r\nAnd in my module-info.java I included:\r\n\r\n    requires jakarta.annotation;\r\n\r\nn.b. The other dependency I found `jakarta.annotation:jakarta.annotation-api:1.3.5` didn&#39;t have all the annotations I wanted, only @javax.annotation.Generated and not Nonnull &amp; Nullable, and so I used `one.gfw:jakarta.annotation-api:2.1.1` \r\n\r\n-------------------------------------------------------------------------\r\nAs an aside, my source code was generated by the OpenAPI generator and I included the option `useJakartaEe: &#39;true&#39;` in the generator&#39;s config to generate &quot;jakarta.annotation&quot; in place of &quot;javax.annotation&quot;. In my OpenAPI generator&#39;s project - separate from the above project - here&#39;s my config in its build.gradle:\r\n\r\n    openApiGenerate {\r\n     generatorName  = &quot;java&quot;\r\n     inputSpec      = &quot;${rootDir}/specs/${project.specName}&quot;\r\n     outputDir      = &quot;${buildDir}/${project.apiName}&quot;\r\n     apiPackage     = &quot;${project.packageName}.controllers&quot;\r\n     modelPackage   = &quot;${project.packageName}.models&quot;\r\n     configOptions.set([\r\n      dateLibrary: &quot;java8&quot;,\r\n      useJakartaEe: &#39;true&#39;\r\n    ])\r\n    }\r\n\r\nHope this helps.\r\n\r\n","title":"module reads package javax.annotation from both jsr305 and java.annotation","body":"<p><strong>Solution</strong></p>\n<p>Move from javax.annotation to jakarta.annotation in source code:</p>\n<pre><code>@jakarta.annotation.Generated\n@jakarta.annotation.Nonnull\n@jakarta.annotation.Nullable\n</code></pre>\n<p>and in my build.gradle include this dependency:</p>\n<pre><code>dependencies {\n implementation 'one.gfw:jakarta.annotation-api:2.1.1'\n}\n</code></pre>\n<p>And in my module-info.java I included:</p>\n<pre><code>requires jakarta.annotation;\n</code></pre>\n<p>n.b. The other dependency I found <code>jakarta.annotation:jakarta.annotation-api:1.3.5</code> didn't have all the annotations I wanted, only @javax.annotation.Generated and not Nonnull &amp; Nullable, and so I used <code>one.gfw:jakarta.annotation-api:2.1.1</code></p>\n<hr />\n<p>As an aside, my source code was generated by the OpenAPI generator and I included the option <code>useJakartaEe: 'true'</code> in the generator's config to generate &quot;jakarta.annotation&quot; in place of &quot;javax.annotation&quot;. In my OpenAPI generator's project - separate from the above project - here's my config in its build.gradle:</p>\n<pre><code>openApiGenerate {\n generatorName  = &quot;java&quot;\n inputSpec      = &quot;${rootDir}/specs/${project.specName}&quot;\n outputDir      = &quot;${buildDir}/${project.apiName}&quot;\n apiPackage     = &quot;${project.packageName}.controllers&quot;\n modelPackage   = &quot;${project.packageName}.models&quot;\n configOptions.set([\n  dateLibrary: &quot;java8&quot;,\n  useJakartaEe: 'true'\n])\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699226081,"creation_date":1699222913,"question_id":77427878,"body_markdown":"I go the error message:\r\n\r\n    module reads package javax.annotation from both jsr305 and java.annotation\r\n\r\nIn my build.gradle I used these dependencies:`\r\n\r\n    implementation &quot;javax.annotation:jsr305:1.0&quot;                  //  for @javax.annotation.Nonnull &amp; Nullable\r\n    implementation &quot;javax.annotation:javax.annotation-api:1.3.2&quot;  //  for @javax.annotation.Generated`\r\n\r\nIn my OpenAPI generated source these annotations are used:\r\n\r\n    @javax.annotation.Nonnull &amp; Nullable`\r\n    @javax.annotation.Generated`\r\n\r\n\r\nI tried to use an exclude but it didn&#39;t work:\r\n\r\n    implementation (&#39;javax.annotation:jsr305:1.0&#39;) {  \r\n      exclude group:&quot;javax.annotation&quot;, module: &quot;javax.annotation-api&quot; \r\n    }","title":"module reads package javax.annotation from both jsr305 and java.annotation","body":"<p>I go the error message:</p>\n<pre><code>module reads package javax.annotation from both jsr305 and java.annotation\n</code></pre>\n<p>In my build.gradle I used these dependencies:`</p>\n<pre><code>implementation &quot;javax.annotation:jsr305:1.0&quot;                  //  for @javax.annotation.Nonnull &amp; Nullable\nimplementation &quot;javax.annotation:javax.annotation-api:1.3.2&quot;  //  for @javax.annotation.Generated`\n</code></pre>\n<p>In my OpenAPI generated source these annotations are used:</p>\n<pre><code>@javax.annotation.Nonnull &amp; Nullable`\n@javax.annotation.Generated`\n</code></pre>\n<p>I tried to use an exclude but it didn't work:</p>\n<pre><code>implementation ('javax.annotation:jsr305:1.0') {  \n  exclude group:&quot;javax.annotation&quot;, module: &quot;javax.annotation-api&quot; \n}\n</code></pre>\n"},{"tags":["java","maven","sonarqube","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1635939674,"post_id":69823845,"comment_id":123424132,"body_markdown":"Wouldn&#39;t it be better to configure Java 8 just for the maven compile plugin? Then the build could run on Java 11 in both cases.","body":"Wouldn&#39;t it be better to configure Java 8 just for the maven compile plugin? Then the build could run on Java 11 in both cases."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635941671,"post_id":69823845,"comment_id":123424954,"body_markdown":"Use JDK11 for build and define `--release` or via `maven.compiler.release` the target for the class files...that works perfectly fine...is easier etc. I would even think to go to build with JDK17 instead of JDK11...","body":"Use JDK11 for build and define <code>--release</code> or via <code>maven.compiler.release</code> the target for the class files...that works perfectly fine...is easier etc. I would even think to go to build with JDK17 instead of JDK11..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1635962365,"post_id":69823845,"comment_id":123434250,"body_markdown":"This is exactly the situation we have to deal with in our enterprise, and from my initial research, I believe (without testing yet) that the previous comment illustrates the basic strategy that should likely work. Note that you can also set the &quot;release&quot; property in the configuration of &quot;maven-compiler-plugin&quot;, instead of setting the &quot;target&quot; and &quot;source&quot;.","body":"This is exactly the situation we have to deal with in our enterprise, and from my initial research, I believe (without testing yet) that the previous comment illustrates the basic strategy that should likely work. Note that you can also set the &quot;release&quot; property in the configuration of &quot;maven-compiler-plugin&quot;, instead of setting the &quot;target&quot; and &quot;source&quot;."},{"owner":{"account_id":1857600,"reputation":555,"user_id":2641727,"accept_rate":100,"display_name":"abbasdgr8"},"score":0,"creation_date":1636005040,"post_id":69823845,"comment_id":123443811,"body_markdown":"Are you running mvn clean install from your IDE or from the terminal?","body":"Are you running mvn clean install from your IDE or from the terminal?"},{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1636070561,"post_id":69823845,"comment_id":123466440,"body_markdown":"from the command prompt","body":"from the command prompt"}],"answers":[{"comments":[{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1635938597,"post_id":69823939,"comment_id":123423754,"body_markdown":"thanks for the response but we are in a micoroservices world with 120+ api so running on java 11 will involve extensive regression which we do not want to do . Unfortunately in our environment introduction of  this tool / new tool will be a challenge and it also seems to need additional work to get it to work on windows . I thought toolchain should help in changing jdk to be used ...","body":"thanks for the response but we are in a micoroservices world with 120+ api so running on java 11 will involve extensive regression which we do not want to do . Unfortunately in our environment introduction of  this tool / new tool will be a challenge and it also seems to need additional work to get it to work on windows . I thought toolchain should help in changing jdk to be used ..."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1635938835,"post_id":69823939,"comment_id":123423842,"body_markdown":"Got it. Then check out this answer https://stackoverflow.com/a/20787334/2599899","body":"Got it. Then check out this answer <a href=\"https://stackoverflow.com/a/20787334/2599899\">stackoverflow.com/a/20787334/2599899</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635941724,"post_id":69823939,"comment_id":123424976,"body_markdown":"Which regressions? Is the written code so heavily JDK specific or uses internals?","body":"Which regressions? Is the written code so heavily JDK specific or uses internals?"},{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1635972768,"post_id":69823939,"comment_id":123437856,"body_markdown":"thanks @ArthurKlezovich , however the answer in the so link is referring to change JAVA_HOME , now that would imply ( in my case ) to use default JAVA_HOME ( jdk1.8) to compile and build war / jar / ear which is fine , however in the next step I need to run sonar scan so need to change JAVA_HOME to JDK11 , I cannot do this manually and when I had tried to do this via command prompt ( with administrator priveleges ) it still would refuse to change to jdk11","body":"thanks @ArthurKlezovich , however the answer in the so link is referring to change JAVA_HOME , now that would imply ( in my case ) to use default JAVA_HOME ( jdk1.8) to compile and build war / jar / ear which is fine , however in the next step I need to run sonar scan so need to change JAVA_HOME to JDK11 , I cannot do this manually and when I had tried to do this via command prompt ( with administrator priveleges ) it still would refuse to change to jdk11"},{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1635972965,"post_id":69823939,"comment_id":123437910,"body_markdown":"@khmarbaise in an earlier project we were forced to move our code from 1.6 to 1.7 ( code and project was inherited ) and one subtle bug introduced in production was the code was using reflection to get a list of methods and then firing calls to each of the method . The unfortunate part was that the code relied on reflection api to always return the methods in class in specific order ( which was the behaviour in 1.6 ) but after the issue cropped up in production ( and causing a lot of bad PR for me and our team ) , it was found that in jdk 1.7 reflection method order is not guaranteed ....","body":"@khmarbaise in an earlier project we were forced to move our code from 1.6 to 1.7 ( code and project was inherited ) and one subtle bug introduced in production was the code was using reflection to get a list of methods and then firing calls to each of the method . The unfortunate part was that the code relied on reflection api to always return the methods in class in specific order ( which was the behaviour in 1.6 ) but after the issue cropped up in production ( and causing a lot of bad PR for me and our team ) , it was found that in jdk 1.7 reflection method order is not guaranteed ...."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1636011715,"post_id":69823939,"comment_id":123445193,"body_markdown":"That sounds you seemed to have missing tests...which identified such things...in particular if you have made the experience...","body":"That sounds you seemed to have missing tests...which identified such things...in particular if you have made the experience..."},{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1636070535,"post_id":69823939,"comment_id":123466434,"body_markdown":"no the tests were present for regression , thing is on every startup of the jvm the order of methods could / would change , so tests were performed and it passed , even after it failed in prod , we were only able to reproduce it after restarting the component multiple times and then once in a while we were able to reproduce","body":"no the tests were present for regression , thing is on every startup of the jvm the order of methods could / would change , so tests were performed and it passed , even after it failed in prod , we were only able to reproduce it after restarting the component multiple times and then once in a while we were able to reproduce"}],"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635938802,"creation_date":1635938381,"answer_id":69823939,"question_id":69823845,"body_markdown":"You can run your project on java 11 also.\r\nIt will run java 8 code no problem for 99% of the cases.\r\nThis is what I would do. Therefore, upgrading the projects java version seems to be the easiest solution.\r\n\r\nIf this does not work, check out this [answer][1]\r\n\r\nAlso, if you need to be able to quickly change JVM versions for various tasks and in various folders, you can use this [tool][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20787334/2599899\r\n  [2]: https://reflectoring.io/manage-jdks-with-jenv/","title":"force maven to use different java version","body":"<p>You can run your project on java 11 also.\nIt will run java 8 code no problem for 99% of the cases.\nThis is what I would do. Therefore, upgrading the projects java version seems to be the easiest solution.</p>\n<p>If this does not work, check out this <a href=\"https://stackoverflow.com/a/20787334/2599899\">answer</a></p>\n<p>Also, if you need to be able to quickly change JVM versions for various tasks and in various folders, you can use this <a href=\"https://reflectoring.io/manage-jdks-with-jenv/\" rel=\"nofollow noreferrer\">tool</a></p>\n"},{"tags":[],"owner":{"account_id":21401283,"reputation":21,"user_id":15763374,"display_name":"Markus Hoffrogge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699226069,"creation_date":1699216827,"answer_id":77427601,"question_id":69823845,"body_markdown":"There are two main aspects to understand:\r\n\r\n 1. The Maven toolchains plugin enables us to **separate** the JDK/JRE version being used for the projects **building Maven plugin execution runtime** from the JDK version being used to compile AND to run the surefire plugins running the JUnit tests.\r\n\r\n 2. The Maven compile plugins configuration `&lt;target&gt;` (user property `maven.compiler.target`) JAVA version defines the code and class JAVA version the compiler will create - BUT this does **NOT guarantee that your code will run 100%** on that **target versions actual JAVA runtime** (s. below under the risk headline).\r\n\r\nBoth topics have to be well understood in terms of risks and pre-requisites.\r\n\r\nThe most common required scenario is like this:\r\n\r\n## Maven build execution requires JAVA version A&lt;br&gt;Target classes compiled require JAVA version B\r\n\r\nIn your questioned case you have to meet:\r\n\r\n 1. Use **JAVA 11** for **Maven build execution** to meet SonarQube plugin requirements\r\n 2. Use **JAVA 1.8** to **compile** and JUnit test your code\r\n\r\nThe correct configuration to meet this requirement is:\r\n\r\n 1. Define your **`JAVA_HOME`** being used to run the Maven build process to the **JDK 11** home&lt;br&gt;\r\n=&gt; meets your **question #2**\r\n 2. Configure your **toolchains** plugin to make use of the **JDK 1.8** home\r\n 3. Configure the **maven-compiler-plugin**\r\n  ```XML\r\n  ...\r\n    &lt;configuration&gt;\r\n      &lt;source&gt;1.8&lt;/source&gt;\r\n      &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n  ... \r\n  ```\r\n=&gt; **2.** and **3.** meet your **question #1**\r\n\r\n## Potential risk if not configuring a separate toolchain\r\n\r\nIf you run the build with JDK 11 without having defined a separate JDK 8 by the toolchain, then your compiled classes will be compliant to JDK 8, **if** you configure the **maven-compiler-plugin** target to 1.8,\r\n\r\n**__ BUT __**\r\n\r\n - You compile your code **vs. the JDK 11 API (JDK&#39;s rt.jar)** - and by this your code would even get compiled if it is **using JAVA 11 API&#39;s** that are NOT available on JAVA 8 or did have been modified vs. JAVA 8.&lt;br&gt;\r\n**=&gt;** Your project goes risk to fail late on JAVA 8 runtime with unexpected and suspicious class not found or method missing exceptions.\r\n - JUnit tests may endup different as if they would have been run within a JAVA 8 runtime.\r\n","title":"force maven to use different java version","body":"<p>There are two main aspects to understand:</p>\n<ol>\n<li><p>The Maven toolchains plugin enables us to <strong>separate</strong> the JDK/JRE version being used for the projects <strong>building Maven plugin execution runtime</strong> from the JDK version being used to compile AND to run the surefire plugins running the JUnit tests.</p>\n</li>\n<li><p>The Maven compile plugins configuration <code>&lt;target&gt;</code> (user property <code>maven.compiler.target</code>) JAVA version defines the code and class JAVA version the compiler will create - BUT this does <strong>NOT guarantee that your code will run 100%</strong> on that <strong>target versions actual JAVA runtime</strong> (s. below under the risk headline).</p>\n</li>\n</ol>\n<p>Both topics have to be well understood in terms of risks and pre-requisites.</p>\n<p>The most common required scenario is like this:</p>\n<h2>Maven build execution requires JAVA version A<br>Target classes compiled require JAVA version B</h2>\n<p>In your questioned case you have to meet:</p>\n<ol>\n<li>Use <strong>JAVA 11</strong> for <strong>Maven build execution</strong> to meet SonarQube plugin requirements</li>\n<li>Use <strong>JAVA 1.8</strong> to <strong>compile</strong> and JUnit test your code</li>\n</ol>\n<p>The correct configuration to meet this requirement is:</p>\n<ol>\n<li>Define your <strong><code>JAVA_HOME</code></strong> being used to run the Maven build process to the <strong>JDK 11</strong> home<br>\n=&gt; meets your <strong>question #2</strong></li>\n<li>Configure your <strong>toolchains</strong> plugin to make use of the <strong>JDK 1.8</strong> home</li>\n<li>Configure the <strong>maven-compiler-plugin</strong></li>\n</ol>\n<pre><code>...\n  &lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n  &lt;/configuration&gt;\n... \n</code></pre>\n<p>=&gt; <strong>2.</strong> and <strong>3.</strong> meet your <strong>question #1</strong></p>\n<h2>Potential risk if not configuring a separate toolchain</h2>\n<p>If you run the build with JDK 11 without having defined a separate JDK 8 by the toolchain, then your compiled classes will be compliant to JDK 8, <strong>if</strong> you configure the <strong>maven-compiler-plugin</strong> target to 1.8,</p>\n<p><strong>__ BUT __</strong></p>\n<ul>\n<li>You compile your code <strong>vs. the JDK 11 API (JDK's rt.jar)</strong> - and by this your code would even get compiled if it is <strong>using JAVA 11 API's</strong> that are NOT available on JAVA 8 or did have been modified vs. JAVA 8.<br>\n<strong>=&gt;</strong> Your project goes risk to fail late on JAVA 8 runtime with unexpected and suspicious class not found or method missing exceptions.</li>\n<li>JUnit tests may endup different as if they would have been run within a JAVA 8 runtime.</li>\n</ul>\n"}],"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699226069,"creation_date":1635937945,"question_id":69823845,"body_markdown":"I have my existing project that uses Java 1.8 \r\nMy JAVA_HOME is set to Java 1.8 \r\nAs a result maven is using Java 1.8 , which is fine \r\nNow our project has decided to start using SonarQube 9.x which runs on Java 11\r\nIn addition to run any scan / analysis of our code - it needs Java 11 as well \r\n\r\nSo here is what I need to be doing :\r\n\r\n#1 Compile code using default jdk ( 1.8 ) ( mvn clean install ) \r\n\r\n#2 Run sonar scan using jdk 11 ( mvn sonar:sonar ) \r\n\r\nTo execute #2 need maven to use jdk 11 while to execute #1 need maven to use jdk 1.8.\r\n\r\nAfter reading various questions on SO came across &#39;toolchain&#39; \r\n\r\nSo added toolchains.xml into my &#39;m2&#39; folder :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n     &lt;!-- JDK toolchains --&gt;\r\n     &lt;toolchain&gt;\r\n      &lt;type&gt;jdk&lt;/type&gt;\r\n      &lt;provides&gt;\r\n       &lt;version&gt;1.11&lt;/version&gt;\r\n       &lt;vendor&gt;sun&lt;/vendor&gt;\r\n      &lt;/provides&gt;\r\n      &lt;configuration&gt;\r\n       &lt;jdkHome&gt;C:\\construction\\tools\\jdk-11.0.12&lt;/jdkHome&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/toolchain&gt;\r\n    &lt;toolchain&gt;\r\n     &lt;type&gt;jdk&lt;/type&gt;\r\n     &lt;provides&gt;\r\n      &lt;version&gt;1.8&lt;/version&gt;\r\n      &lt;vendor&gt;sun&lt;/vendor&gt;\r\n     &lt;/provides&gt;\r\n     &lt;configuration&gt;\r\n      &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_191&lt;/jdkHome&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/toolchain&gt;  \r\n  &lt;/toolchains&gt;\r\n\r\nAdded toolchain plugin in my projects pom.xml\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t  &lt;goal&gt;toolchain&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;toolchains&gt;\r\n\t\t\t\t\t\t&lt;jdk&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.11&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;vendor&gt;sun&lt;/vendor&gt;\r\n\t\t\t\t\t\t&lt;/jdk&gt;\r\n\t\t\t\t\t&lt;/toolchains&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nNow when I run maven clean install can see in logs that java 11 &#39;seems&#39; to be used :\r\n\r\n&gt; [INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ TreeSurveyAPI ---\r\n  \r\n&gt; [INFO] Required toolchain: jdk [ vendor=&#39;sun&#39; version=&#39;1.11&#39; ]\r\n&gt; [INFO] Found matching toolchain for type jdk: JDK[C:\\construction\\tools\\jdk-11.0.12]\r\n\r\n&gt; [INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ TreeSurveyAPI ---\r\n&gt; [INFO] Toolchain in maven-compiler-plugin: JDK[C:\\construction\\tools\\jdk-11.0.12]\r\n&gt; [INFO] Changes detected - recompiling the module!\r\n&gt; [INFO] Compiling 11 source files to C:\\construction\\xxx\\XYZ-main\\target\\classes\r\n\r\nSo it &#39;seems&#39; that maven along with toolchain is using Java 11 to compile the code .\r\nHowever after executing javap against compiled class file indicates Major version as 52 ( Java 8 ) \r\n\r\n    javap -verbose Abc.class | findstr &quot;major&quot;\r\n\r\nSo here are my questions :\r\n\r\n#1 \r\nin the above case since toolchain points to java 11 shouldnt the code be compiled with java 11 ? why is it using java 8 ?\r\n\r\n#2 \r\nHow can I conditionally use java 8 Vs java 11 ( compile and build using java 8 and run sonar task using java 11 ) ?\r\n\r\nThanks ","title":"force maven to use different java version","body":"<p>I have my existing project that uses Java 1.8\nMy JAVA_HOME is set to Java 1.8\nAs a result maven is using Java 1.8 , which is fine\nNow our project has decided to start using SonarQube 9.x which runs on Java 11\nIn addition to run any scan / analysis of our code - it needs Java 11 as well</p>\n<p>So here is what I need to be doing :</p>\n<p>#1 Compile code using default jdk ( 1.8 ) ( mvn clean install )</p>\n<p>#2 Run sonar scan using jdk 11 ( mvn sonar:sonar )</p>\n<p>To execute #2 need maven to use jdk 11 while to execute #1 need maven to use jdk 1.8.</p>\n<p>After reading various questions on SO came across 'toolchain'</p>\n<p>So added toolchains.xml into my 'm2' folder :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n &lt;!-- JDK toolchains --&gt;\n &lt;toolchain&gt;\n  &lt;type&gt;jdk&lt;/type&gt;\n  &lt;provides&gt;\n   &lt;version&gt;1.11&lt;/version&gt;\n   &lt;vendor&gt;sun&lt;/vendor&gt;\n  &lt;/provides&gt;\n  &lt;configuration&gt;\n   &lt;jdkHome&gt;C:\\construction\\tools\\jdk-11.0.12&lt;/jdkHome&gt;\n  &lt;/configuration&gt;\n&lt;/toolchain&gt;\n&lt;toolchain&gt;\n &lt;type&gt;jdk&lt;/type&gt;\n &lt;provides&gt;\n  &lt;version&gt;1.8&lt;/version&gt;\n  &lt;vendor&gt;sun&lt;/vendor&gt;\n &lt;/provides&gt;\n &lt;configuration&gt;\n  &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_191&lt;/jdkHome&gt;\n &lt;/configuration&gt;\n&lt;/toolchain&gt;  \n</code></pre>\n  \n<p>Added toolchain plugin in my projects pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;toolchain&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;toolchains&gt;\n                    &lt;jdk&gt;\n                        &lt;version&gt;1.11&lt;/version&gt;\n                        &lt;vendor&gt;sun&lt;/vendor&gt;\n                    &lt;/jdk&gt;\n                &lt;/toolchains&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Now when I run maven clean install can see in logs that java 11 'seems' to be used :</p>\n<blockquote>\n<p>[INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ TreeSurveyAPI ---</p>\n</blockquote>\n<blockquote>\n<p>[INFO] Required toolchain: jdk [ vendor='sun' version='1.11' ]\n[INFO] Found matching toolchain for type jdk: JDK[C:\\construction\\tools\\jdk-11.0.12]</p>\n</blockquote>\n<blockquote>\n<p>[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ TreeSurveyAPI ---\n[INFO] Toolchain in maven-compiler-plugin: JDK[C:\\construction\\tools\\jdk-11.0.12]\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 11 source files to C:\\construction\\xxx\\XYZ-main\\target\\classes</p>\n</blockquote>\n<p>So it 'seems' that maven along with toolchain is using Java 11 to compile the code .\nHowever after executing javap against compiled class file indicates Major version as 52 ( Java 8 )</p>\n<pre><code>javap -verbose Abc.class | findstr &quot;major&quot;\n</code></pre>\n<p>So here are my questions :</p>\n<p>#1\nin the above case since toolchain points to java 11 shouldnt the code be compiled with java 11 ? why is it using java 8 ?</p>\n<p>#2\nHow can I conditionally use java 8 Vs java 11 ( compile and build using java 8 and run sonar task using java 11 ) ?</p>\n<p>Thanks</p>\n"},{"tags":["java","mongodb","performance","spring-data-mongodb"],"owner":{"account_id":4195953,"reputation":21,"user_id":3437378,"display_name":"user3437378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699226030,"creation_date":1699226030,"question_id":77428010,"body_markdown":"This is how the logic should work\r\n\r\nSearch names: Ram, David, Lakshman\r\n\r\nNegated names: Ram\r\n\r\nSearch has the following names\r\n\r\nRam Kumar\r\n\r\nRam Lakshman\r\n\r\nDavid Kumar\r\n\r\n\r\n---------------------------------\r\n\r\nThe Search result should be :\r\n\r\nRam Lakshman\r\n\r\nDavid&#160;Kumar\r\n\r\n---------------------------------\r\nPerformed the text search query with exclusions:\r\ndb.names.find({ $text: { $search: &quot;Ram David Lakshman -Ram&quot;} });\r\n\r\nThe Search result has only 1 record\r\n\r\nDavid&#160;Kumar\r\n\r\n---------------------------------\r\nMy Search Names are around 5000 and exclusions are in 100s and &quot;names&quot; collection in Millions. ","title":"Mongodb text Search with Search words with Negated Term","body":"<p>This is how the logic should work</p>\n<p>Search names: Ram, David, Lakshman</p>\n<p>Negated names: Ram</p>\n<p>Search has the following names</p>\n<p>Ram Kumar</p>\n<p>Ram Lakshman</p>\n<p>David Kumar</p>\n<hr />\n<p>The Search result should be :</p>\n<p>Ram Lakshman</p>\n<p>David Kumar</p>\n<hr />\n<p>Performed the text search query with exclusions:\ndb.names.find({ $text: { $search: &quot;Ram David Lakshman -Ram&quot;} });</p>\n<p>The Search result has only 1 record</p>\n<p>David Kumar</p>\n<hr />\n<p>My Search Names are around 5000 and exclusions are in 100s and &quot;names&quot; collection in Millions.</p>\n"},{"tags":["java","php","android-studio"],"owner":{"account_id":29405571,"reputation":21,"user_id":22530711,"display_name":"lalalalala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699225426,"creation_date":1699221944,"question_id":77427845,"body_markdown":"How to display user&#39;s data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?\r\n\r\n**Android Studio (Login Code)**\r\n\r\n        @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login);\r\n    \r\n    TextInputEditText email = findViewById(R.id.email);\r\n        TextInputEditText password = findViewById(R.id.password);\r\n    \r\n        password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\r\n    \r\n        Button btnLogin = findViewById(R.id.loginButton);\r\n        Button create = findViewById(R.id.createButton);\r\n        findViewById(R.id.forgotButton).setOnClickListener(v -&gt; {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\r\n            ViewGroup viewGroup = findViewById(android.R.id.content);\r\n            View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.forgot_password_dialog, viewGroup, false);\r\n            builder.setView(dialogView);\r\n            AlertDialog alertDialog = builder.create();\r\n            alertDialog.show();\r\n        });\r\n    \r\n    \r\n    \r\n        create.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(Login.this, RegisterInformation.class);\r\n            startActivity(intent);\r\n        });\r\n    \r\n        btnLogin.setOnClickListener(view -&gt; {\r\n            String userEmail = Objects.requireNonNull(email.getText()).toString();\r\n            String userPassword = Objects.requireNonNull(password.getText()).toString();\r\n    \r\n            if (! (userEmail.isEmpty() || userPassword.isEmpty())){\r\n    \r\n                RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n    \r\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, &quot;https://cmobile.com/mobile/login.php&quot; + &quot;?email=&quot; + userEmail + &quot;&amp;password=&quot; + userPassword, response -&gt; {\r\n                    if (response.equals(&quot;Welcome&quot;)){\r\n                        Toast.makeText(getApplicationContext(), &quot;Login Succeed&quot;, Toast.LENGTH_SHORT).show();\r\n                        String Email = Objects.requireNonNull(email.getText()).toString();\r\n                        Intent intent = new Intent(Login.this, Profile.class);\r\n                        intent.putExtra(&quot;email&quot;, Email);\r\n                        startActivity(intent);\r\n    \r\n                    } else {\r\n                        Toast.makeText(getApplicationContext(), &quot;Login Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }, error -&gt; Toast.makeText(getApplicationContext(), error.toString(), Toast.LENGTH_SHORT).show());\r\n                requestQueue.add(stringRequest);\r\n    \r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Wrong Password or Username&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n        });\r\n\r\n**Android Studio (Profile Code)**\r\n\r\n\r\n\r\nIn this code i use JSON to get all the data that the email row have and display it to the textviews that are provided\r\n\r\n```\r\n        // Initialize your TextViews\r\n        fullNameTextView = findViewById(R.id.fullNameTextView);\r\n        genderTextView = findViewById(R.id.genderTextView);\r\n        birthdateTextView = findViewById(R.id.birthdateTextView);\r\n        ageTextView = findViewById(R.id.ageTextView);\r\n        addressTextView = findViewById(R.id.addressTextView);\r\n        contactTextView = findViewById(R.id.contactTextView);\r\n        emailTextView = findViewById(R.id.emailTextView);\r\n\r\n        // Retrieve the user&#39;s email from the intent\r\n        String Email = getIntent().getStringExtra(&quot;email&quot;);\r\n\r\n        fetchDataFromServer(Email);\r\n}\r\n\r\n  private void fetchDataFromServer(String Email) {\r\n        new FetchDataAsyncTask().execute(Email);\r\n    }\r\n\r\n\r\n    private class FetchDataAsyncTask extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            String Email = params[0];\r\n            OkHttpClient client = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://cmobile.com/mobile/getData.php&quot; + &quot;?email=&quot; + Email)\r\n                    .build();\r\n\r\n            try {\r\n                Response response = client.newCall(request).execute();\r\n                if (response.isSuccessful()) {\r\n                    return response.body().string();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        protected void onPostExecute(String jsonData) {\r\n            if (jsonData != null) {\r\n                // Parse the JSON data\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(jsonData);\r\n\r\n                    String lastName = jsonObject.getString(&quot;lastName&quot;);\r\n                    String firstName = jsonObject.getString(&quot;firstName&quot;);\r\n                    String middleName = jsonObject.getString(&quot;middleName&quot;);\r\n                    String suffix = jsonObject.getString(&quot;suffix&quot;);\r\n                    String gender = jsonObject.getString(&quot;gender&quot;);\r\n                    String dateOfBirth = jsonObject.getString(&quot;dateOfBirth&quot;);\r\n                    String age = jsonObject.getString(&quot;age&quot;);\r\n                    String address = jsonObject.getString(&quot;address&quot;);\r\n                    String contact = jsonObject.getString(&quot;contact&quot;);\r\n                    String email = jsonObject.getString(&quot;email&quot;);\r\n\r\n                    // Set the retrieved data to the TextViews\r\n                    fullNameTextView.setText(firstName + &quot; &quot; + middleName + &quot; &quot; + lastName + &quot; &quot; + suffix);\r\n                    genderTextView.setText(gender);\r\n                    birthdateTextView.setText(dateOfBirth);\r\n                    ageTextView.setText(age);\r\n                    addressTextView.setText(address);\r\n                    contactTextView.setText(contact);\r\n                    emailTextView.setText(email);\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                    // Handle JSON parsing error\r\n                }\r\n            } else {\r\n                // Handle the case where the request was not successful\r\n                Toast.makeText(Profile.this, &quot;Failed to fetch data from the server&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Php Code(connection.php and getData.php)**\r\n\r\n```\r\n&lt;?php\r\n\r\n    $hostname = &quot;localhost&quot;;\r\n    $username = &quot;root&quot;;\r\n    $password = &quot;&quot;;\r\n    $dbName = &quot;mobile&quot;;\r\n\r\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\r\n\r\n    if (!$con){\r\n        echo &quot;Connection Failed&quot;;\r\n    }\r\n?&gt;\r\n```\r\n\r\nI want to know what the problem to my code\r\n\r\n```\r\n &lt;?php\r\ninclude &#39;connection.php&#39;;\r\n\r\n$email = $_GET[&#39;email&#39;];\r\n\r\nif (!empty($email)) {\r\n    $email = mysqli_real_escape_string($con, $email);\r\n\r\n    $query = &quot;SELECT lastname, firstName, middleName, suffix, gender, dateOfBirth, age, address, contact FROM local_users WHERE email = &#39;$email&#39;&quot;;\r\n    $result = mysqli_query($con, $query);\r\n\r\n    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) {\r\n        $row = mysqli_fetch_assoc($result);\r\n        // Return user data as JSON response\r\n        echo json_encode($row);\r\n    } else {\r\n        // Email not found in the database\r\n        echo json_encode([&quot;error&quot; =&gt; &quot;Email not found&quot;]);\r\n    }\r\n} else {\r\n    // Invalid request\r\n    echo json_encode([&quot;error&quot; =&gt; &quot;Invalid request&quot;]);\r\n}\r\n?&gt;\r\n```","title":"How to display user&#39;s data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?","body":"<p>How to display user's data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?</p>\n<p><strong>Android Studio (Login Code)</strong></p>\n<pre><code>    @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login);\n\nTextInputEditText email = findViewById(R.id.email);\n    TextInputEditText password = findViewById(R.id.password);\n\n    password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n\n    Button btnLogin = findViewById(R.id.loginButton);\n    Button create = findViewById(R.id.createButton);\n    findViewById(R.id.forgotButton).setOnClickListener(v -&gt; {\n        AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\n        ViewGroup viewGroup = findViewById(android.R.id.content);\n        View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.forgot_password_dialog, viewGroup, false);\n        builder.setView(dialogView);\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    });\n\n\n\n    create.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(Login.this, RegisterInformation.class);\n        startActivity(intent);\n    });\n\n    btnLogin.setOnClickListener(view -&gt; {\n        String userEmail = Objects.requireNonNull(email.getText()).toString();\n        String userPassword = Objects.requireNonNull(password.getText()).toString();\n\n        if (! (userEmail.isEmpty() || userPassword.isEmpty())){\n\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, &quot;https://cmobile.com/mobile/login.php&quot; + &quot;?email=&quot; + userEmail + &quot;&amp;password=&quot; + userPassword, response -&gt; {\n                if (response.equals(&quot;Welcome&quot;)){\n                    Toast.makeText(getApplicationContext(), &quot;Login Succeed&quot;, Toast.LENGTH_SHORT).show();\n                    String Email = Objects.requireNonNull(email.getText()).toString();\n                    Intent intent = new Intent(Login.this, Profile.class);\n                    intent.putExtra(&quot;email&quot;, Email);\n                    startActivity(intent);\n\n                } else {\n                    Toast.makeText(getApplicationContext(), &quot;Login Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }, error -&gt; Toast.makeText(getApplicationContext(), error.toString(), Toast.LENGTH_SHORT).show());\n            requestQueue.add(stringRequest);\n\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Wrong Password or Username&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n<p><strong>Android Studio (Profile Code)</strong></p>\n<p>In this code i use JSON to get all the data that the email row have and display it to the textviews that are provided</p>\n<pre><code>        // Initialize your TextViews\n        fullNameTextView = findViewById(R.id.fullNameTextView);\n        genderTextView = findViewById(R.id.genderTextView);\n        birthdateTextView = findViewById(R.id.birthdateTextView);\n        ageTextView = findViewById(R.id.ageTextView);\n        addressTextView = findViewById(R.id.addressTextView);\n        contactTextView = findViewById(R.id.contactTextView);\n        emailTextView = findViewById(R.id.emailTextView);\n\n        // Retrieve the user's email from the intent\n        String Email = getIntent().getStringExtra(&quot;email&quot;);\n\n        fetchDataFromServer(Email);\n}\n\n  private void fetchDataFromServer(String Email) {\n        new FetchDataAsyncTask().execute(Email);\n    }\n\n\n    private class FetchDataAsyncTask extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            String Email = params[0];\n            OkHttpClient client = new OkHttpClient();\n            Request request = new Request.Builder()\n                    .url(&quot;https://cmobile.com/mobile/getData.php&quot; + &quot;?email=&quot; + Email)\n                    .build();\n\n            try {\n                Response response = client.newCall(request).execute();\n                if (response.isSuccessful()) {\n                    return response.body().string();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        protected void onPostExecute(String jsonData) {\n            if (jsonData != null) {\n                // Parse the JSON data\n                try {\n                    JSONObject jsonObject = new JSONObject(jsonData);\n\n                    String lastName = jsonObject.getString(&quot;lastName&quot;);\n                    String firstName = jsonObject.getString(&quot;firstName&quot;);\n                    String middleName = jsonObject.getString(&quot;middleName&quot;);\n                    String suffix = jsonObject.getString(&quot;suffix&quot;);\n                    String gender = jsonObject.getString(&quot;gender&quot;);\n                    String dateOfBirth = jsonObject.getString(&quot;dateOfBirth&quot;);\n                    String age = jsonObject.getString(&quot;age&quot;);\n                    String address = jsonObject.getString(&quot;address&quot;);\n                    String contact = jsonObject.getString(&quot;contact&quot;);\n                    String email = jsonObject.getString(&quot;email&quot;);\n\n                    // Set the retrieved data to the TextViews\n                    fullNameTextView.setText(firstName + &quot; &quot; + middleName + &quot; &quot; + lastName + &quot; &quot; + suffix);\n                    genderTextView.setText(gender);\n                    birthdateTextView.setText(dateOfBirth);\n                    ageTextView.setText(age);\n                    addressTextView.setText(address);\n                    contactTextView.setText(contact);\n                    emailTextView.setText(email);\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                    // Handle JSON parsing error\n                }\n            } else {\n                // Handle the case where the request was not successful\n                Toast.makeText(Profile.this, &quot;Failed to fetch data from the server&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Php Code(connection.php and getData.php)</strong></p>\n<pre><code>&lt;?php\n\n    $hostname = &quot;localhost&quot;;\n    $username = &quot;root&quot;;\n    $password = &quot;&quot;;\n    $dbName = &quot;mobile&quot;;\n\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\n\n    if (!$con){\n        echo &quot;Connection Failed&quot;;\n    }\n?&gt;\n</code></pre>\n<p>I want to know what the problem to my code</p>\n<pre><code> &lt;?php\ninclude 'connection.php';\n\n$email = $_GET['email'];\n\nif (!empty($email)) {\n    $email = mysqli_real_escape_string($con, $email);\n\n    $query = &quot;SELECT lastname, firstName, middleName, suffix, gender, dateOfBirth, age, address, contact FROM local_users WHERE email = '$email'&quot;;\n    $result = mysqli_query($con, $query);\n\n    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) {\n        $row = mysqli_fetch_assoc($result);\n        // Return user data as JSON response\n        echo json_encode($row);\n    } else {\n        // Email not found in the database\n        echo json_encode([&quot;error&quot; =&gt; &quot;Email not found&quot;]);\n    }\n} else {\n    // Invalid request\n    echo json_encode([&quot;error&quot; =&gt; &quot;Invalid request&quot;]);\n}\n?&gt;\n</code></pre>\n"},{"tags":["java","netbeans","soa","bpel","open-esb"],"owner":{"account_id":29584783,"reputation":11,"user_id":22673703,"display_name":"Johhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699224152,"creation_date":1699224152,"question_id":77427928,"body_markdown":"I am trying to create an OpenESB project, I need to implement the SOA category and the BPEL module.\r\nBut, I don&#39;t have this category in my OpenESB, I can&#39;t find a solution because nobody uses this program.\r\n\r\nI try to reinstall OpenESB, set the environment variables, and run openESB.bat","title":"Missing Categories OpenESB","body":"<p>I am trying to create an OpenESB project, I need to implement the SOA category and the BPEL module.\nBut, I don't have this category in my OpenESB, I can't find a solution because nobody uses this program.</p>\n<p>I try to reinstall OpenESB, set the environment variables, and run openESB.bat</p>\n"},{"tags":["java","sql-server","connection"],"answers":[{"comments":[{"owner":{"account_id":1485204,"reputation":962,"user_id":1393620,"accept_rate":69,"display_name":"Marcel Marino"},"score":0,"creation_date":1530797172,"post_id":51162769,"comment_id":89366577,"body_markdown":"Our current jar has XADataSource. We&#39;re able to import it. The cast error is what is strange.","body":"Our current jar has XADataSource. We&#39;re able to import it. The cast error is what is strange."},{"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"score":0,"creation_date":1530798642,"post_id":51162769,"comment_id":89367555,"body_markdown":"Does that class implements the XADataSource interface?","body":"Does that class implements the XADataSource interface?"},{"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"score":0,"creation_date":1530799032,"post_id":51162769,"comment_id":89367837,"body_markdown":"Also, in a JavaEE environment you should use something like this to use a Database `@PersistenceContext(unitName = &quot;YourAwesome-pu&quot;)\n    private EntityManager em;`","body":"Also, in a JavaEE environment you should use something like this to use a Database <code>@PersistenceContext(unitName = &quot;YourAwesome-pu&quot;)     private EntityManager em;</code>"},{"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"score":0,"creation_date":1699222834,"post_id":51162769,"comment_id":136501203,"body_markdown":"@Marcel Marino. I had met the same issue on my Payara 6. Do you find out any solution for it or other work around, if it is, please advise.","body":"@Marcel Marino. I had met the same issue on my Payara 6. Do you find out any solution for it or other work around, if it is, please advise."},{"owner":{"account_id":1485204,"reputation":962,"user_id":1393620,"accept_rate":69,"display_name":"Marcel Marino"},"score":0,"creation_date":1700690261,"post_id":51162769,"comment_id":136687030,"body_markdown":"@cidy.long Yeah, stop using @ Schedule and call the timers from another source so that XA isn&#39;t required. Otherwise, no.","body":"@cidy.long Yeah, stop using @ Schedule and call the timers from another source so that XA isn&#39;t required. Otherwise, no."},{"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"score":0,"creation_date":1701040295,"post_id":51162769,"comment_id":136722418,"body_markdown":"@Marcel Marino, THANK YOU FOR YOUR ADVICE. I tried to use TimerService instead of @ Schedule, it works for me. Thank you again.","body":"@Marcel Marino, THANK YOU FOR YOUR ADVICE. I tried to use TimerService instead of @ Schedule, it works for me. Thank you again."}],"tags":[],"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530651718,"creation_date":1530651718,"answer_id":51162769,"question_id":51162019,"body_markdown":"It&#39;s been a while since I don&#39;t use Glassfish, but as far as I remember you should install the jar for your database provider that has the implementation of XADataSource interface. In MS SQL Server I&#39;ve used the jTDS driver.\r\n\r\nAnother thing to consider from your code snippet is that you should have different configurations of glassfish for development and production, you should leave that kind of things to the application server and not inside your code. Glassfish is a full JavaEE Application Server, it has all the benefits including database connection pooling.","title":"Java &amp; SQL - XADataSource","body":"<p>It's been a while since I don't use Glassfish, but as far as I remember you should install the jar for your database provider that has the implementation of XADataSource interface. In MS SQL Server I've used the jTDS driver.</p>\n\n<p>Another thing to consider from your code snippet is that you should have different configurations of glassfish for development and production, you should leave that kind of things to the application server and not inside your code. Glassfish is a full JavaEE Application Server, it has all the benefits including database connection pooling.</p>\n"}],"owner":{"account_id":1485204,"reputation":962,"user_id":1393620,"accept_rate":69,"display_name":"Marcel Marino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699222681,"creation_date":1530647702,"question_id":51162019,"body_markdown":"We are running glassfish 4 for our java web application and are running into an issue with timers. Normal servlet calls are able to enjoy as many different connections as they want, which makes integrations much easier. Once we add timers however, the datasources need to be &quot;XA&quot; datasources instead. We set one up as such below:\r\n\r\n    public XADataSource getNewConnection() {\r\n        Encapsulations encap = new Encapsulations();\r\n        XADataSource ds = null;\r\n        try {\r\n            Context ctx = new InitialContext();\r\n            if(!encap.getDataSource().equals(&quot;Production&quot;)){\r\n                  ds = (XADataSource) ctx.lookup(&quot;jdbc/XA_TEST&quot;);\r\n            }else{\r\n                  ds = (XADataSource) ctx.lookup(&quot;jdbc/XA&quot;);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            CatchException.logException(null, e);\r\n            String error = e.toString();\r\n        }\r\n        return ds;\r\n    } \r\n\r\n\r\nThe problem is that when the ds = (XADataSource) ctx.lookup(&quot;jdbc/XA_TEST&quot;) line runs we get this error:\r\n\r\n&gt; java.lang.ClassCastException: com.sun.gjc.spi.jdbc40.DataSource40 cannot be cast to javax.sql.XADataSource\r\n\r\nWe use the sqljdbc42 jar for our normal connections, so it is a bit strange to see 40 in there. Anyone know what the problem is? The datasource we are using was set up as an XADataSource, other than downloading a different jar I don&#39;t know what is missing.","title":"Java &amp; SQL - XADataSource","body":"<p>We are running glassfish 4 for our java web application and are running into an issue with timers. Normal servlet calls are able to enjoy as many different connections as they want, which makes integrations much easier. Once we add timers however, the datasources need to be \"XA\" datasources instead. We set one up as such below:</p>\n\n<pre><code>public XADataSource getNewConnection() {\n    Encapsulations encap = new Encapsulations();\n    XADataSource ds = null;\n    try {\n        Context ctx = new InitialContext();\n        if(!encap.getDataSource().equals(\"Production\")){\n              ds = (XADataSource) ctx.lookup(\"jdbc/XA_TEST\");\n        }else{\n              ds = (XADataSource) ctx.lookup(\"jdbc/XA\");\n        }\n\n    } catch (Exception e) {\n        CatchException.logException(null, e);\n        String error = e.toString();\n    }\n    return ds;\n} \n</code></pre>\n\n<p>The problem is that when the ds = (XADataSource) ctx.lookup(\"jdbc/XA_TEST\") line runs we get this error:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.sun.gjc.spi.jdbc40.DataSource40 cannot be cast to javax.sql.XADataSource</p>\n</blockquote>\n\n<p>We use the sqljdbc42 jar for our normal connections, so it is a bit strange to see 40 in there. Anyone know what the problem is? The datasource we are using was set up as an XADataSource, other than downloading a different jar I don't know what is missing.</p>\n"},{"tags":["java","random","thread-safety"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698820663,"post_id":77400700,"comment_id":136452315,"body_markdown":"Did they perhaps misunderstand [JEP 356](https://openjdk.org/jeps/356)?","body":"Did they perhaps misunderstand <a href=\"https://openjdk.org/jeps/356\" rel=\"nofollow noreferrer\">JEP 356</a>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698822766,"post_id":77400700,"comment_id":136452543,"body_markdown":"@Sweeper Indeed, I think it was related to new Random Number Generators. But I never saw any detail explanation, only references to `ThreadLocalRandom` being old-school.","body":"@Sweeper Indeed, I think it was related to new Random Number Generators. But I never saw any detail explanation, only references to <code>ThreadLocalRandom</code> being old-school."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700835762,"post_id":77400700,"comment_id":136705176,"body_markdown":"Without seeing the exact statements, we can’t tell what they meant. But you can see any of the new random number generators as a replacement for `ThreadLocalRandom` if it fits your particular use case.","body":"Without seeing the exact statements, we can’t tell what they meant. But you can see any of the new random number generators as a replacement for <code>ThreadLocalRandom</code> if it fits your particular use case."}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699221409,"creation_date":1698819710,"question_id":77400700,"body_markdown":"I vaguely recall reading some mentions that [`ThreadLocalRandom`][1] has been supplanted in modern Java by some new random number generators.\r\n\r\n&#128073;&#127997; Did Java add a new feature for housing a random number generator per thread? \r\n\r\nPerhaps I am thinking of [*JEP 356: Enhanced Pseudo-Random Number Generators*][2], explained well in this article, [*Random Number Generators in Java 17*](https://www.baeldung.com/java-17-random-number-generators) by Daniel Strmecki on Baeldung.com. But I do not see any discussion on those pages regarding a replacement for `ThreadLocalRandom`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ThreadLocalRandom.html\r\n  [2]: https://openjdk.org/jeps/356","title":"Did Java get a new feature to supplant `ThreadLocalRandom`?","body":"<p>I vaguely recall reading some mentions that <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a> has been supplanted in modern Java by some new random number generators.</p>\n<p>👉🏽 Did Java add a new feature for housing a random number generator per thread?</p>\n<p>Perhaps I am thinking of <a href=\"https://openjdk.org/jeps/356\" rel=\"nofollow noreferrer\"><em>JEP 356: Enhanced Pseudo-Random Number Generators</em></a>, explained well in this article, <a href=\"https://www.baeldung.com/java-17-random-number-generators\" rel=\"nofollow noreferrer\"><em>Random Number Generators in Java 17</em></a> by Daniel Strmecki on Baeldung.com. But I do not see any discussion on those pages regarding a replacement for <code>ThreadLocalRandom</code>.</p>\n"},{"tags":["java","multithreading","random","concurrency"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1444929819,"post_id":33126322,"comment_id":54118679,"body_markdown":"Well, using a locally created `Random` instance requires the JVM’s optimizer to find out that it’s purely local (to elide synchronization) whereas `ThreadLocalRandom` is purely local in the first place…","body":"Well, using a locally created <code>Random</code> instance requires the JVM’s optimizer to find out that it’s purely local (to elide synchronization) whereas <code>ThreadLocalRandom</code> is purely local in the first place…"}],"answers":[{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1444828825,"creation_date":1444828825,"answer_id":33126482,"question_id":33126322,"body_markdown":"If you create your own threads, like you do here, it makes no difference.\r\n\r\nBut if your code is called from different threads beyond your control, `ThreadLocalRandom` is the correct one to use.\r\n\r\nThere is one difference that does matter though: for obvious reasons you can&#39;t set a seed for `ThreadLocalRandom`. So if you want to have repeatable sequences, you need to create your own `Random` instances. (But then if you&#39;re running multiple threads, having your RNGs seeded to the same value doesn&#39;t always guarantee repeatable behaviour anyway.)\r\n\r\nI would personally use `ThreadLocalRandom` in all cases where I don&#39;t need repeatable sequences.","title":"ThreadLocalRandom or new Random for each thread","body":"<p>If you create your own threads, like you do here, it makes no difference.</p>\n\n<p>But if your code is called from different threads beyond your control, <code>ThreadLocalRandom</code> is the correct one to use.</p>\n\n<p>There is one difference that does matter though: for obvious reasons you can't set a seed for <code>ThreadLocalRandom</code>. So if you want to have repeatable sequences, you need to create your own <code>Random</code> instances. (But then if you're running multiple threads, having your RNGs seeded to the same value doesn't always guarantee repeatable behaviour anyway.)</p>\n\n<p>I would personally use <code>ThreadLocalRandom</code> in all cases where I don't need repeatable sequences.</p>\n"}],"owner":{"account_id":3827997,"reputation":429,"user_id":3174377,"accept_rate":100,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33126482,"answer_count":1,"score":2,"last_activity_date":1699220892,"creation_date":1444828391,"question_id":33126322,"body_markdown":"Is there any difference when I create in each thread new `java.util.Random` object or use the `ThreadLocalRandom.current().nextInt(3);` ? \r\n\r\nFrom what I&#39;ve read, `ThreadLocalRandom` should be used instead of using the same instance of `java.util.Random` for all threads. But what if I create a new instance for each thread?\r\n\r\nWhen should I use `java.util.Random` and when `ThreadLocalRandom` if I need to generate random numbers in multiple threads?\r\n\r\n[![screenshot of source code][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RWFKl.png","title":"ThreadLocalRandom or new Random for each thread","body":"<p>Is there any difference when I create in each thread new <code>java.util.Random</code> object or use the <code>ThreadLocalRandom.current().nextInt(3);</code> ?</p>\n<p>From what I've read, <code>ThreadLocalRandom</code> should be used instead of using the same instance of <code>java.util.Random</code> for all threads. But what if I create a new instance for each thread?</p>\n<p>When should I use <code>java.util.Random</code> and when <code>ThreadLocalRandom</code> if I need to generate random numbers in multiple threads?</p>\n<p><a href=\"https://i.stack.imgur.com/RWFKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWFKl.png\" alt=\"screenshot of source code\" /></a></p>\n"},{"tags":["java","addition","factors"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1444736544,"post_id":33101773,"comment_id":54018232,"body_markdown":"What&#39;s the question? :)","body":"What&#39;s the question? :)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1444736580,"post_id":33101773,"comment_id":54018262,"body_markdown":"Looks like badly done homework to me.","body":"Looks like badly done homework to me."}],"answers":[{"comments":[{"owner":{"account_id":4053412,"reputation":1135,"user_id":3332186,"accept_rate":22,"display_name":"Pankaj Saboo"},"score":0,"creation_date":1444737982,"post_id":33102050,"comment_id":54019252,"body_markdown":"You are able to give accepted flag.. u don&#39;t have right to give up vote... ;)","body":"You are able to give accepted flag.. u don&#39;t have right to give up vote... ;)"}],"tags":[],"owner":{"account_id":4053412,"reputation":1135,"user_id":3332186,"accept_rate":22,"display_name":"Pankaj Saboo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1444737294,"creation_date":1444737294,"answer_id":33102050,"question_id":33101773,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Demo {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t    Scanner x=new Scanner(System.in);\r\n\t    int n=0;int g=0; int term=0;int temp=0;\r\n\t    int sum=0; int factor=1;\r\n\t    System.out.print(&quot;Input N:&quot;);\r\n\r\n\t    n=x.nextInt();\r\n\t    g=n;\r\n\t    int number = 0;\r\n\t    if (n&lt;=0)\r\n\t    {\r\n\t        System.out.println(&quot;Please enter a positive integer&quot;);\r\n\t        System.exit(0);\r\n\t    }\r\n\r\n\t    if (n&gt;0)\r\n\t    {\r\n\t        System.out.print(&quot;The factors are:&quot;);\r\n\r\n\t        while (factor&lt;n)\r\n\t        {\r\n\t            if (n%factor==0)\r\n\t            {\r\n\t                System.out.println(factor+&quot;,&quot;);\r\n\t                number+=factor;\r\n\t            }\r\n\t            factor++;\r\n\t        }\r\n\t    }\r\n\t    System.out.println(&quot;Sum = &quot;+number);\r\n\t}\r\n    }\r\n","title":"Add the factors of a number","body":"<pre><code>import java.util.Scanner;\n\npublic class Demo {\npublic static void main(String[] args)\n{\n    Scanner x=new Scanner(System.in);\n    int n=0;int g=0; int term=0;int temp=0;\n    int sum=0; int factor=1;\n    System.out.print(\"Input N:\");\n\n    n=x.nextInt();\n    g=n;\n    int number = 0;\n    if (n&lt;=0)\n    {\n        System.out.println(\"Please enter a positive integer\");\n        System.exit(0);\n    }\n\n    if (n&gt;0)\n    {\n        System.out.print(\"The factors are:\");\n\n        while (factor&lt;n)\n        {\n            if (n%factor==0)\n            {\n                System.out.println(factor+\",\");\n                number+=factor;\n            }\n            factor++;\n        }\n    }\n    System.out.println(\"Sum = \"+number);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":1,"creation_date":1570805631,"post_id":58343623,"comment_id":103042720,"body_markdown":"The best answers provide some explanation to any code that&#39;s given so it&#39;s helpful to any future users that may want to understand it or get an overview of the most crucial parts.","body":"The best answers provide some explanation to any code that&#39;s given so it&#39;s helpful to any future users that may want to understand it or get an overview of the most crucial parts."}],"tags":[],"owner":{"account_id":16873852,"reputation":1,"user_id":12201767,"display_name":"benson lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699219149,"creation_date":1570804921,"answer_id":58343623,"question_id":33101773,"body_markdown":"    import static java.lang.System.*;\r\n    import java.util.*\r\n   \r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner kb = new Scanner(in);\r\n            System.out.print(&quot;Enter a number: &quot;);\r\n            int num = kb.nextInt();\r\n            int sum = 0;\r\n            int x = 1;\r\n            for(x = 1; x &lt;= num; x++){\r\n                if (num % x == 0){\r\n                    sum = sum + x;\r\n                } \r\n            }\r\n            System.out.print(sum);\r\n        }\r\n    }","title":"Add the factors of a number","body":"<pre><code>import static java.lang.System.*;\nimport java.util.*\n\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Scanner kb = new Scanner(in);\n        System.out.print(&quot;Enter a number: &quot;);\n        int num = kb.nextInt();\n        int sum = 0;\n        int x = 1;\n        for(x = 1; x &lt;= num; x++){\n            if (num % x == 0){\n                sum = sum + x;\n            } \n        }\n        System.out.print(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6271317,"reputation":29,"user_id":4875475,"display_name":"Nic Gon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2633,"favorite_count":0,"down_vote_count":13,"up_vote_count":0,"accepted_answer_id":33102050,"answer_count":2,"score":-13,"last_activity_date":1699219149,"creation_date":1444736504,"question_id":33101773,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n  Scanner x = new Scanner(System.in);\r\n  int n = 0;\r\n  int g = 0;\r\n  int term = 0;\r\n  int temp = 0;\r\n  int sum = 0;\r\n  int factor = 1;\r\n  System.out.print(&quot;Input N:&quot;);\r\n\r\n  n = x.nextInt();\r\n  g = n;\r\n  if (n &lt;= 0) {\r\n    System.out.println(&quot;Please enter a positive integer&quot;);\r\n    System.exit(0);\r\n  }\r\n\r\n  if (n &gt; 0) {\r\n    System.out.print(&quot;The factors are:&quot;);\r\n\r\n    while (factor &lt; n) {\r\n      if (n % factor == 0) {\r\n        System.out.print(factor + &quot;,&quot;);\r\n      }\r\n      factor++;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIf I input number 8, the factors are 1,2, and 4. What I am trying to achieve is to add the factors of 8 which are 1,2 and 4, which would result in 7.","title":"Add the factors of a number","body":"<pre><code>public static void main(String[] args) {\n  Scanner x = new Scanner(System.in);\n  int n = 0;\n  int g = 0;\n  int term = 0;\n  int temp = 0;\n  int sum = 0;\n  int factor = 1;\n  System.out.print(&quot;Input N:&quot;);\n\n  n = x.nextInt();\n  g = n;\n  if (n &lt;= 0) {\n    System.out.println(&quot;Please enter a positive integer&quot;);\n    System.exit(0);\n  }\n\n  if (n &gt; 0) {\n    System.out.print(&quot;The factors are:&quot;);\n\n    while (factor &lt; n) {\n      if (n % factor == 0) {\n        System.out.print(factor + &quot;,&quot;);\n      }\n      factor++;\n    }\n  }\n}\n</code></pre>\n<p>If I input number 8, the factors are 1,2, and 4. What I am trying to achieve is to add the factors of 8 which are 1,2 and 4, which would result in 7.</p>\n"},{"tags":["java","cassandra"],"owner":{"account_id":29802424,"reputation":1,"user_id":22839902,"display_name":"Simon Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699218976,"creation_date":1698842352,"question_id":77402688,"body_markdown":"we use cassandra 3.11, now had a 7 nodes cluster.\r\nnow we join a new node(172.19.19.33) into this. in system.log,we got those messages:\r\n```\r\nERROR StreamSession.java:593 [Stream #xxxx] Streaming error occured on session with peer 172.19.19.12\r\njava.lang.NullPointerException: null\r\nat org.apache.cassandra.db.lifecycle.LifecycleTransaction.update(LifecycleTransaction.java:340)\r\nxxxxx\r\nxxxx\r\nat ort.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:317)\r\n```\r\nthen we join once more, and use tcpdump catch the pacakges from 172.19.19.12 and this node, we found when 172.19.19.12 send a TCP ZeroWindow to 172.19.19.19.33 and then send TCP Flag RST right away。\r\n\r\nhow do we do for this.\r\nwhat can i do for join a new node into this cluster.\r\n\r\nI do set linux tcp_rmem and  use nodetool setstreamthrougput 32 and nodetool setinterdcstreamthrougput 32 for other nodes exclude 172.19.19.33. These methods does not fix this problem.\r\nThen we create a new cluster, insert about 1TB data, then join new node to this cluster.\r\nIt look like normal and work good.\r\n\r\nThe 172.19.19.12 cluster had some problems before, at 70&#39;s day before, the cluster Schema vesionss had changed by one of the cluster&#39;s node restart, then we found the table was not created in all nodes, so we got the table data file and place it into seed&#39;s nodes (one of them),then the cluster become normal.","title":"apache cassandra join new node error by streaming error","body":"<p>we use cassandra 3.11, now had a 7 nodes cluster.\nnow we join a new node(172.19.19.33) into this. in system.log,we got those messages:</p>\n<pre><code>ERROR StreamSession.java:593 [Stream #xxxx] Streaming error occured on session with peer 172.19.19.12\njava.lang.NullPointerException: null\nat org.apache.cassandra.db.lifecycle.LifecycleTransaction.update(LifecycleTransaction.java:340)\nxxxxx\nxxxx\nat ort.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:317)\n</code></pre>\n<p>then we join once more, and use tcpdump catch the pacakges from 172.19.19.12 and this node, we found when 172.19.19.12 send a TCP ZeroWindow to 172.19.19.19.33 and then send TCP Flag RST right away。</p>\n<p>how do we do for this.\nwhat can i do for join a new node into this cluster.</p>\n<p>I do set linux tcp_rmem and  use nodetool setstreamthrougput 32 and nodetool setinterdcstreamthrougput 32 for other nodes exclude 172.19.19.33. These methods does not fix this problem.\nThen we create a new cluster, insert about 1TB data, then join new node to this cluster.\nIt look like normal and work good.</p>\n<p>The 172.19.19.12 cluster had some problems before, at 70's day before, the cluster Schema vesionss had changed by one of the cluster's node restart, then we found the table was not created in all nodes, so we got the table data file and place it into seed's nodes (one of them),then the cluster become normal.</p>\n"},{"tags":["java","javafx","dojo","oslc"],"comments":[{"owner":{"account_id":1522013,"reputation":165,"user_id":1421418,"accept_rate":33,"display_name":"mjr"},"score":1,"creation_date":1686815628,"post_id":76475221,"comment_id":134851958,"body_markdown":"such a lucky guy am I!&#129318;‍♂️ after long time I asked a question in stackoverflow and it was in the middle of a Strike ⚔️&#128518;. Good luck then! :)","body":"such a lucky guy am I!🤦‍♂️ after long time I asked a question in stackoverflow and it was in the middle of a Strike ⚔️😆. Good luck then! :)"}],"owner":{"account_id":1522013,"reputation":165,"user_id":1421418,"accept_rate":33,"display_name":"mjr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699218538,"creation_date":1686756545,"question_id":76475221,"body_markdown":"I use javafx &amp; webview to load a delegated UI in new stage in an iframe. the page contain paginated table with checkbox,which the selected Items will be send back to my listener as json format.delegated UI provided by the server and I have no access to the source.as far as I know delegated page use dojo library.\r\n\r\nproblem is that when clicking on the page number and selecting multiple items, sometimes when pressing OK button, it will not send data to my listener and it seems no event is working anymore as the cancel button also not send back event, but the drawer menue is working(if it use kind of script). the window must be reopen to work again. \r\n\r\nhere is a snippet of how the page will be loaded:\r\n```\r\nprivate void openWebViewWindow(String url) {\r\n\r\n\t\t....\r\n\r\n\t\twebViewStage = new Stage();\r\n\t\tWebView webView = new WebView();\r\n\t\tWebEngine webEngine = webView.getEngine();\r\n\r\n\t\t// Enable JavaScript support\r\n\t\twebEngine.setJavaScriptEnabled(true);\r\n\r\n\r\n\t\t// Ignore SSL certificate validation\r\n\t\tignoreCertificateValidation();\r\n\r\n\t\t// Load a blank page first\r\n\t\twebEngine.loadContent(&quot;&quot;);\r\n\r\n\t\t// Authenticate the user\r\n\t\tauthenticateUser(webEngine);\r\n\r\n\t\t// Create the iframe HTML code\r\n\t\tString iframe = &quot;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;;\r\n\t\tiframe = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n\t\t// Attach a Console object to intercept console messages\r\n\t\twebEngine.setOnError(event -&gt; {\r\n\t\t\tSystem.err.println(&quot;Web Engine Error: &quot; + event.getMessage());\r\n\t\t});\r\n\r\n\r\n\t\t// Add a JavaScript interface to the webEngine\r\n\t\twebEngine.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n\t\t\tif (newValue == Worker.State.SUCCEEDED) {\r\n\t\t\t\tJSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n\t\t\t\twindow.setMember(&quot;javaAppListener&quot;, new ListenerClass());\r\n\t\t\t\twebEngine.executeScript(&quot;window.addEventListener(&#39;message&#39;, function(event) { &quot;\r\n\t\t\t\t\t\t+ &quot;javaAppListener.processEvent(event.data);&quot; + &quot;});&quot;);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t// Create the scene and show the stage\r\n\t\tScene webViewScene = new Scene(webView, 1024, 800);\r\n\t\twebViewStage.setScene(webViewScene);\r\n\t\twebViewStage.show();\r\n\r\n\r\n\t\t// Load the iframe content into the WebView\r\n\t\tif(url.endsWith(&quot;condition&quot;)) {\r\n\t\t\twebEngine.load(url);\r\n\t\t}\r\n\t\telse {\r\n\t\t\twebEngine.loadContent(iframe);\r\n\t\t}\r\n...\r\n\r\n\t}\r\n```\r\n\r\nI Tried loading the page with and without iframe, as it is says that the delegated page must be wraped in ifram as it transfer data using postMessage/windowName protocol. both case has the same issue\r\nI used it with jdk 1.8 and 11, both has the same result.\r\nattempted to debug it by injecting firebug https://stackoverflow.com/questions/72387141/how-to-debug-javafx-webview-in-2022, but firebug did not loaded finally i could inject firebug into loaded page but i could not use the inspector or console to find a clue as firebug did not show scripts as of &quot;access to restricted URI&quot;  :(\r\nAlso tried to use setOnAlert and exceptionProperty events but they did not return any warning or errors.\r\n\r\n\r\n\r\nThank you in advance\r\n","title":"JavaFx + webview, stop sending back data to java listener stochastically, while webview loaded delegated UI in an iframe","body":"<p>I use javafx &amp; webview to load a delegated UI in new stage in an iframe. the page contain paginated table with checkbox,which the selected Items will be send back to my listener as json format.delegated UI provided by the server and I have no access to the source.as far as I know delegated page use dojo library.</p>\n<p>problem is that when clicking on the page number and selecting multiple items, sometimes when pressing OK button, it will not send data to my listener and it seems no event is working anymore as the cancel button also not send back event, but the drawer menue is working(if it use kind of script). the window must be reopen to work again.</p>\n<p>here is a snippet of how the page will be loaded:</p>\n<pre><code>private void openWebViewWindow(String url) {\n\n        ....\n\n        webViewStage = new Stage();\n        WebView webView = new WebView();\n        WebEngine webEngine = webView.getEngine();\n\n        // Enable JavaScript support\n        webEngine.setJavaScriptEnabled(true);\n\n\n        // Ignore SSL certificate validation\n        ignoreCertificateValidation();\n\n        // Load a blank page first\n        webEngine.loadContent(&quot;&quot;);\n\n        // Authenticate the user\n        authenticateUser(webEngine);\n\n        // Create the iframe HTML code\n        String iframe = &quot;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;;\n        iframe = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n        // Attach a Console object to intercept console messages\n        webEngine.setOnError(event -&gt; {\n            System.err.println(&quot;Web Engine Error: &quot; + event.getMessage());\n        });\n\n\n        // Add a JavaScript interface to the webEngine\n        webEngine.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue == Worker.State.SUCCEEDED) {\n                JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\n                window.setMember(&quot;javaAppListener&quot;, new ListenerClass());\n                webEngine.executeScript(&quot;window.addEventListener('message', function(event) { &quot;\n                        + &quot;javaAppListener.processEvent(event.data);&quot; + &quot;});&quot;);\n\n            }\n        });\n\n\n        // Create the scene and show the stage\n        Scene webViewScene = new Scene(webView, 1024, 800);\n        webViewStage.setScene(webViewScene);\n        webViewStage.show();\n\n\n        // Load the iframe content into the WebView\n        if(url.endsWith(&quot;condition&quot;)) {\n            webEngine.load(url);\n        }\n        else {\n            webEngine.loadContent(iframe);\n        }\n...\n\n    }\n</code></pre>\n<p>I Tried loading the page with and without iframe, as it is says that the delegated page must be wraped in ifram as it transfer data using postMessage/windowName protocol. both case has the same issue\nI used it with jdk 1.8 and 11, both has the same result.\nattempted to debug it by injecting firebug <a href=\"https://stackoverflow.com/questions/72387141/how-to-debug-javafx-webview-in-2022\">How to debug JavaFX webview in 2022</a>, but firebug did not loaded finally i could inject firebug into loaded page but i could not use the inspector or console to find a clue as firebug did not show scripts as of &quot;access to restricted URI&quot;  :(\nAlso tried to use setOnAlert and exceptionProperty events but they did not return any warning or errors.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":11916276,"reputation":101,"user_id":8720085,"display_name":"Parab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699218217,"creation_date":1699217967,"question_id":77427653,"body_markdown":"I&#39;ve installed Apache Tomcat and active mq properly - both are running on their default port i.e 8080 and 61616 with default settings.\r\n\r\nI need to create connection-factory and topic for this I&#39;ve configured &#39;conf/context.xml&#39; of Tomcat as below.\r\n\r\n    &lt;Resource name=&quot;jms/ConnectionFactory&quot; auth=&quot;Container&quot;\r\n          type=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;\r\n          description=&quot;JMS Connection Factory&quot;\r\n          factory=&quot;org.apache.activemq.jndi.JNDIReferenceFactory&quot;\r\n          brokerURL=&quot;tcp://localhost:61616&quot;\r\n          brokerName=&quot;LocalActiveMQBroker&quot;/&gt;\r\n&#160;\r\n\r\nUpon booting up the server no issues were reported in Tomcat logs.\r\n\r\nNow I&#39;ve configured the ANT build script such that before building the final EAR package perform Junit. This Junit class &#39;ResourcesLocatorTest&#39; has a basic job to do - get Initial context, get connection factory, and get topic with jndi name. Upon locating these resources just put a message in the topic and assert it.\r\n\r\n    public class ResourcesLocatorTest {\r\n    @Test\r\n    public void testJms() throws Exception {\r\n        // Get the initial context\r\n        InitialContext context = new InitialContext();\r\n\r\n        // Lookup the connection factory\r\n        ConnectionFactory connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/ConnectionFactory&quot;);\r\n\r\n        // Lookup the topic\r\n        Topic topic = (Topic) context.lookup(&quot;jms/Topic&quot;);\r\n\r\n        // Create a connection\r\n        Connection connection = connectionFactory.createConnection();\r\n\r\n        // Create a session\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // Create a message producer\r\n        MessageProducer producer = session.createProducer(topic);\r\n\r\n        // Create a message consumer\r\n        MessageConsumer consumer = session.createConsumer(topic);\r\n\r\n        // Start the connection\r\n        connection.start();\r\n\r\n        // Send a message\r\n        TextMessage message = session.createTextMessage(&quot;Hello, World!&quot;);\r\n        producer.send(message);\r\n\r\n        // Receive a message\r\n        TextMessage receivedMessage = (TextMessage) consumer.receive(1000);\r\n\r\n        // Assert that the received message is the same as the sent message\r\n        assertEquals(message.getText(), receivedMessage.getText());\r\n\r\n        // Close the resources\r\n        consumer.close();\r\n        producer.close();\r\n        session.close();\r\n        connection.close();\r\n    }\r\n}\r\n\r\nWhen this test gets executed in console NameNotFoundException being thrown - &#39;jms/ConnectionFactory&#39; \r\n\r\nI suspect some connection issue here, since in my JUnit class I haven&#39;t defined the tomcat  URL. If yes, how to do it?","title":"Tomcat 9.0.82 - Unable to locate defined resources using jndi","body":"<p>I've installed Apache Tomcat and active mq properly - both are running on their default port i.e 8080 and 61616 with default settings.</p>\n<p>I need to create connection-factory and topic for this I've configured 'conf/context.xml' of Tomcat as below.</p>\n<pre><code>&lt;Resource name=&quot;jms/ConnectionFactory&quot; auth=&quot;Container&quot;\n      type=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;\n      description=&quot;JMS Connection Factory&quot;\n      factory=&quot;org.apache.activemq.jndi.JNDIReferenceFactory&quot;\n      brokerURL=&quot;tcp://localhost:61616&quot;\n      brokerName=&quot;LocalActiveMQBroker&quot;/&gt;\n</code></pre>\n<p> </p>\n<p>Upon booting up the server no issues were reported in Tomcat logs.</p>\n<p>Now I've configured the ANT build script such that before building the final EAR package perform Junit. This Junit class 'ResourcesLocatorTest' has a basic job to do - get Initial context, get connection factory, and get topic with jndi name. Upon locating these resources just put a message in the topic and assert it.</p>\n<pre><code>public class ResourcesLocatorTest {\n@Test\npublic void testJms() throws Exception {\n    // Get the initial context\n    InitialContext context = new InitialContext();\n\n    // Lookup the connection factory\n    ConnectionFactory connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/ConnectionFactory&quot;);\n\n    // Lookup the topic\n    Topic topic = (Topic) context.lookup(&quot;jms/Topic&quot;);\n\n    // Create a connection\n    Connection connection = connectionFactory.createConnection();\n\n    // Create a session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    // Create a message producer\n    MessageProducer producer = session.createProducer(topic);\n\n    // Create a message consumer\n    MessageConsumer consumer = session.createConsumer(topic);\n\n    // Start the connection\n    connection.start();\n\n    // Send a message\n    TextMessage message = session.createTextMessage(&quot;Hello, World!&quot;);\n    producer.send(message);\n\n    // Receive a message\n    TextMessage receivedMessage = (TextMessage) consumer.receive(1000);\n\n    // Assert that the received message is the same as the sent message\n    assertEquals(message.getText(), receivedMessage.getText());\n\n    // Close the resources\n    consumer.close();\n    producer.close();\n    session.close();\n    connection.close();\n}\n</code></pre>\n<p>}</p>\n<p>When this test gets executed in console NameNotFoundException being thrown - 'jms/ConnectionFactory'</p>\n<p>I suspect some connection issue here, since in my JUnit class I haven't defined the tomcat  URL. If yes, how to do it?</p>\n"},{"tags":["java","database","spring","oracle","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458682615,"creation_date":1458682615,"answer_id":36165717,"question_id":36133468,"body_markdown":"You can use several different ways to archive your objective, for example:\r\n\r\n - [Follow this official doc and use Spring with jpa directly][1]\r\n - [This one  just adapted to spring-boot][2] in combination with [official spring jpa example][3]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/javaee/marx-oepe-spring-095718.html\r\n  [2]: https://springframework.guru/configuring-spring-boot-for-oracle/\r\n  [3]: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-data-jpa","title":"How to connect from STS(spring tool suite) to database(oracle)","body":"<p>You can use several different ways to archive your objective, for example:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javaee/marx-oepe-spring-095718.html\" rel=\"nofollow\">Follow this official doc and use Spring with jpa directly</a></li>\n<li><a href=\"https://springframework.guru/configuring-spring-boot-for-oracle/\" rel=\"nofollow\">This one  just adapted to spring-boot</a> in combination with <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-data-jpa\" rel=\"nofollow\">official spring jpa example</a></li>\n</ul>\n"}],"owner":{"account_id":2898315,"reputation":11,"user_id":2485610,"display_name":"user2485610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699218090,"creation_date":1458569882,"question_id":36133468,"body_markdown":"I am new at spring. I am trying to build my first web service, and I would like to connect to a database, get data, and return it as a JSON.\r\n\r\nI use the spring example https://spring.io/guides/gs/rest-service and I change it a bit, so I can get a war file.\r\n\r\nMy server that war file will deploy is Wildfly 8.2.0.\r\n\r\nI want to connect to oracle 11g database and run SQL queries. Can you help me?\r\n\r\nMy code is posted below.\r\n\r\n[My project format in eclipse][1]\r\n\r\nApplication.java:\r\n\r\n    package hello;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.context.web.SpringBootServletInitializer;\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n\r\n    \r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n    \r\n    }\r\n\r\nGreeting.java:\r\n\r\n    package hello;\r\n\r\n    public class Greeting {\r\n\r\n    private final long id;\r\n    private final String content;\r\n\r\n    public Greeting(long id, String content) {\r\n        this.id = id;\r\n        this.content = content;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n    }\r\n\r\nGreetingController.java:\r\n\r\n\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n\r\n    @RestController\r\n    public class GreetingController {\r\n\r\n    \r\n    private static final String template = &quot;Hello, %s!&quot;;\r\n    private final AtomicLong counter = new AtomicLong();\r\n\r\n    \r\n    @RequestMapping(value=&quot;/greeting&quot;,method=RequestMethod.GET)\r\n    public List&lt;Greeting&gt; greeting(@RequestParam(value=&quot;name&quot;, defaultValue=&quot;World&quot;) String name,\r\n                                   @RequestParam(value=&quot;content&quot;, defaultValue=&quot;World&quot;) String content,HttpServletResponse response) {\r\n        List&lt;Greeting&gt; list_greet = new ArrayList&lt;Greeting&gt;();\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, content)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        //to have webservice work,beacause cors cut it out.\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);\r\n\r\n        \r\n        return list_greet;\r\n    }\r\n    }\r\n\r\n\r\npom.xml:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/NZ8yQ.png","title":"How to connect from STS(spring tool suite) to database(oracle)","body":"<p>I am new at spring. I am trying to build my first web service, and I would like to connect to a database, get data, and return it as a JSON.</p>\n\n<p>I use the spring example <a href=\"https://spring.io/guides/gs/rest-service\" rel=\"nofollow\">https://spring.io/guides/gs/rest-service</a> and I change it a bit, so I can get a war file.</p>\n\n<p>My server that war file will deploy is Wildfly 8.2.0.</p>\n\n<p>I want to connect to oracle 11g database and run SQL queries. Can you help me?</p>\n\n<p>My code is posted below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NZ8yQ.png\" rel=\"nofollow\">My project format in eclipse</a></p>\n\n<p>Application.java:</p>\n\n<pre><code>package hello;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.web.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n}\n\n\npublic static void main(String[] args) throws Exception {\n    SpringApplication.run(Application.class, args);\n}\n\n\n}\n</code></pre>\n\n<p>Greeting.java:</p>\n\n<pre><code>package hello;\n\npublic class Greeting {\n\nprivate final long id;\nprivate final String content;\n\npublic Greeting(long id, String content) {\n    this.id = id;\n    this.content = content;\n}\n\npublic long getId() {\n    return id;\n}\n\npublic String getContent() {\n    return content;\n}\n}\n</code></pre>\n\n<p>GreetingController.java:</p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class GreetingController {\n\n\nprivate static final String template = \"Hello, %s!\";\nprivate final AtomicLong counter = new AtomicLong();\n\n\n@RequestMapping(value=\"/greeting\",method=RequestMethod.GET)\npublic List&lt;Greeting&gt; greeting(@RequestParam(value=\"name\", defaultValue=\"World\") String name,\n                               @RequestParam(value=\"content\", defaultValue=\"World\") String content,HttpServletResponse response) {\n    List&lt;Greeting&gt; list_greet = new ArrayList&lt;Greeting&gt;();\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, content)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    //to have webservice work,beacause cors cut it out.\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\n\n\n    return list_greet;\n}\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","github-actions","cicd","pmd"],"owner":{"account_id":540053,"reputation":3780,"user_id":908124,"accept_rate":52,"display_name":"NNikN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699216417,"creation_date":1699216417,"question_id":77427581,"body_markdown":"I have the java code at following location - someRootFolder/someproject/src/main/java. And performing a static code analysis the Action runs and succeeds but no report. \r\n\r\nHow do I make sure it&#39;s working and report is generated for the files scanned.\r\n\r\nAlso looking to add a condition in case reports has failure block the code review request.\r\n \r\n```\r\nname: pmd-for-java\r\nrun-name: ${{ github.actor }} PMD\r\non: [push]\r\njobs:\r\n  pmd-for-java-job:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      # You may pin to the exact commit or the version.\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;temurin&#39;\r\n          java-version: &#39;11&#39;\r\n      - uses: pmd/pmd-github-action@v1\r\n        id: pmd\r\n        with:\r\n          version: &#39;6.40.0&#39;\r\n          sourcePath: &#39;someRootFolder/someproject/src/main/java&#39;   \r\n```\r\n","title":"PMD java Scan report Github actions workflow","body":"<p>I have the java code at following location - someRootFolder/someproject/src/main/java. And performing a static code analysis the Action runs and succeeds but no report.</p>\n<p>How do I make sure it's working and report is generated for the files scanned.</p>\n<p>Also looking to add a condition in case reports has failure block the code review request.</p>\n<pre><code>name: pmd-for-java\nrun-name: ${{ github.actor }} PMD\non: [push]\njobs:\n  pmd-for-java-job:\n    runs-on: ubuntu-latest\n    steps:\n      # You may pin to the exact commit or the version.\n      - uses: actions/checkout@v3\n      - uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: '11'\n      - uses: pmd/pmd-github-action@v1\n        id: pmd\n        with:\n          version: '6.40.0'\n          sourcePath: 'someRootFolder/someproject/src/main/java'   \n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1679032004,"post_id":10827872,"comment_id":133651357,"body_markdown":"Check out [this](https://github.com/openjdk/jdk/commit/f35750c5d63f5df4d31322b372e25c01696028df) commit.","body":"Check out <a href=\"https://github.com/openjdk/jdk/commit/f35750c5d63f5df4d31322b372e25c01696028df\" rel=\"nofollow noreferrer\">this</a> commit."}],"answers":[{"comments":[{"owner":{"account_id":450119,"reputation":2794,"user_id":845279,"accept_rate":88,"display_name":"user845279"},"score":41,"creation_date":1338442287,"post_id":10827900,"comment_id":14096029,"body_markdown":"In addition, according to java docs, each call to `str.replaceAll(regex, repl)` is same as `Pattern.compile(regex).matcher(str).replaceAll(repl)`. So there is a big overhead depending on how much it&#39;s used.","body":"In addition, according to java docs, each call to <code>str.replaceAll(regex, repl)</code> is same as <code>Pattern.compile(regex).matcher(str).replaceAll(repl)</code>. So there is a big overhead depending on how much it&#39;s used."},{"owner":{"account_id":11360616,"reputation":161,"user_id":8328871,"display_name":"Horsey"},"score":9,"creation_date":1522842237,"post_id":10827900,"comment_id":86308248,"body_markdown":"@user845279 It&#39;s interesting you would say that since `String#replace(target, replacement)` does the same thing, except it quotes the strings: `Pattern.compile(target.toString(), Pattern.LITERAL).matcher(this).replaceAll(Matcher.quoteReplacement(replacement.toString()));` Is there some reason why `String#replace` would be faster than `String#replaceAll`? It wouldn&#39;t seem like it since `String#replace` just performs additional operations.","body":"@user845279 It&#39;s interesting you would say that since <code>String#replace(target, replacement)</code> does the same thing, except it quotes the strings: <code>Pattern.compile(target.toString(), Pattern.LITERAL).matcher(this).replaceAll(Matcher.quoteRepla&zwnj;&#8203;cement(replacement.t&zwnj;&#8203;oString()));</code> Is there some reason why <code>String#replace</code> would be faster than <code>String#replaceAll</code>? It wouldn&#39;t seem like it since <code>String#replace</code> just performs additional operations."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":3,"creation_date":1563907769,"post_id":10827900,"comment_id":100854254,"body_markdown":"Just curious, in this answer where is the explicit comparison against `replaceAll`. The answer is more about `replace`","body":"Just curious, in this answer where is the explicit comparison against <code>replaceAll</code>. The answer is more about <code>replace</code>"},{"owner":{"account_id":3157891,"reputation":193,"user_id":2669838,"accept_rate":0,"display_name":"wonder"},"score":1,"creation_date":1568804774,"post_id":10827900,"comment_id":102389649,"body_markdown":"this means replaceAll() would be costlier due to regex match?isn&#39;t it ?","body":"this means replaceAll() would be costlier due to regex match?isn&#39;t it ?"}],"tags":[],"owner":{"account_id":304031,"reputation":12865,"user_id":613318,"accept_rate":68,"display_name":"emilan"},"comment_count":4,"down_vote_count":1,"up_vote_count":250,"is_accepted":true,"score":249,"last_activity_date":1699216219,"creation_date":1338442087,"answer_id":10827900,"question_id":10827872,"body_markdown":"* In [`java.lang.String`][1], the `replace` method either takes a pair of char&#39;s or a pair of `CharSequence`&#39;s (which String is implementing, so it&#39;ll happily take a pair of String&#39;s). The `replace` method will replace all occurrences of a char or `CharSequence`.\r\n* On the other hand, the first  `String` arguments of `replaceFirst` and `replaceAll` are regular expressions (regex).\r\n\r\nUsing the wrong function can lead to subtle bugs.\r\n\r\n---\r\n\r\nRelevant sections from [`java.lang.String`][1]:\r\n\r\n* `String replace(char oldChar, char newChar)`  \r\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.\r\n\r\n* `String replace(CharSequence target, CharSequence replacement)`  \r\nReplaces each substring of this string that matches the literal target sequence with the specified literal replacement sequence.\r\n\r\n* `String replaceAll(String regex, String replacement)`  \r\nReplaces each substring of this string that matches the given regular expression with the given replacement.\r\n\r\n* `String replaceFirst(String regex, String replacement)`  \r\nReplaces the first substring of this string that matches the given regular expression with the given replacement.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"Difference between String replace() and replaceAll()","body":"<ul>\n<li>In <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>java.lang.String</code></a>, the <code>replace</code> method either takes a pair of char's or a pair of <code>CharSequence</code>'s (which String is implementing, so it'll happily take a pair of String's). The <code>replace</code> method will replace all occurrences of a char or <code>CharSequence</code>.</li>\n<li>On the other hand, the first  <code>String</code> arguments of <code>replaceFirst</code> and <code>replaceAll</code> are regular expressions (regex).</li>\n</ul>\n<p>Using the wrong function can lead to subtle bugs.</p>\n<hr />\n<p>Relevant sections from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>java.lang.String</code></a>:</p>\n<ul>\n<li><p><code>String replace(char oldChar, char newChar)</code><br />\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.</p>\n</li>\n<li><p><code>String replace(CharSequence target, CharSequence replacement)</code><br />\nReplaces each substring of this string that matches the literal target sequence with the specified literal replacement sequence.</p>\n</li>\n<li><p><code>String replaceAll(String regex, String replacement)</code><br />\nReplaces each substring of this string that matches the given regular expression with the given replacement.</p>\n</li>\n<li><p><code>String replaceFirst(String regex, String replacement)</code><br />\nReplaces the first substring of this string that matches the given regular expression with the given replacement.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":8,"creation_date":1519873648,"post_id":10827912,"comment_id":85089204,"body_markdown":"Thx for the clarification that it is just the regex. How i wish they had named it replaceWithRegex() instead of replaceAll()","body":"Thx for the clarification that it is just the regex. How i wish they had named it replaceWithRegex() instead of replaceAll()"},{"owner":{"account_id":7543317,"reputation":987,"user_id":6325722,"display_name":"Johnny Five"},"score":0,"creation_date":1550850653,"post_id":10827912,"comment_id":96436217,"body_markdown":"**Clarification:** replaceAll() works with regular expressions, replace() works with CharSequence","body":"<b>Clarification:</b> replaceAll() works with regular expressions, replace() works with CharSequence"},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":6,"creation_date":1555408942,"post_id":10827912,"comment_id":98091943,"body_markdown":"@JohnnyFive That makes it more confusing. Regular expression is not a type, `CharSequence` is. Both `replace()` and `replaceAll()` &quot;work with `CharSequence`&quot;. It&#39;s that `replaceAll()` considers the given `CharSequence` as a regular expression so it looks for _regex matches_, while `replace()` considers the given `CharSequence` as a plain search text so it looks for _occurrences_ of it.","body":"@JohnnyFive That makes it more confusing. Regular expression is not a type, <code>CharSequence</code> is. Both <code>replace()</code> and <code>replaceAll()</code> &quot;work with <code>CharSequence</code>&quot;. It&#39;s that <code>replaceAll()</code> considers the given <code>CharSequence</code> as a regular expression so it looks for <i>regex matches</i>, while <code>replace()</code> considers the given <code>CharSequence</code> as a plain search text so it looks for <i>occurrences</i> of it."},{"owner":{"account_id":6912215,"reputation":467,"user_id":5307634,"display_name":"MbPCM"},"score":0,"creation_date":1657379786,"post_id":10827912,"comment_id":128798966,"body_markdown":"both replace All ! thats what i wanted to hear !","body":"both replace All ! thats what i wanted to hear !"}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":4,"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1606315983,"creation_date":1338442153,"answer_id":10827912,"question_id":10827872,"body_markdown":"**Q:** What&#39;s the difference between the `java.lang.String` methods `replace()` and `replaceAll()`, other than that the latter uses regex. \r\n\r\n**A:** Just the regex.  They both **replace all** :)\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/lang/String.html\r\n\r\nPS:\r\n\r\nThere&#39;s also a `replaceFirst()` (which takes a regex)","title":"Difference between String replace() and replaceAll()","body":"<p><strong>Q:</strong> What's the difference between the <code>java.lang.String</code> methods <code>replace()</code> and <code>replaceAll()</code>, other than that the latter uses regex.</p>\n<p><strong>A:</strong> Just the regex.  They both <strong>replace all</strong> :)</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/lang/String.html</a></p>\n<p>PS:</p>\n<p>There's also a <code>replaceFirst()</code> (which takes a regex)</p>\n"},{"comments":[{"owner":{"account_id":2113991,"reputation":12074,"user_id":1878670,"accept_rate":66,"display_name":"Prateek"},"score":6,"creation_date":1377933080,"post_id":10827945,"comment_id":27279528,"body_markdown":"Even replace also do the same, From java String docs ::\n\n**public String replace(CharSequence target, CharSequence replacement) {\n        return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\n            this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\n    }**","body":"Even replace also do the same, From java String docs ::  <b>public String replace(CharSequence target, CharSequence replacement) {         return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(             this).replaceAll(Matcher.quoteReplacement(replacement.toStri&zwnj;&#8203;ng()));     }</b>"},{"owner":{"account_id":18339,"reputation":954,"user_id":41953,"display_name":"Franck"},"score":2,"creation_date":1558628351,"post_id":10827945,"comment_id":99172783,"body_markdown":"@Prateek: after jdk8, String::replace is not using Pattern anymore : https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/lang/String.java#l2152 , same in  jdk11.","body":"@Prateek: after jdk8, String::replace is not using Pattern anymore : <a href=\"https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/lang/String.java#l2152\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/&hellip;</a> , same in  jdk11."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1563907508,"post_id":10827945,"comment_id":100854133,"body_markdown":"Agree, In Java **8** practically both methods are _almost_ the same, for both appear the `Pattern.compile(...)` content/part in their implementations, seems `replace` is less complex about how to define/send the first argument. It does not require `&quot;\\&quot;` . Furthermore `replace` is available since Java `1.5` and `replaceAll` since `1.4`","body":"Agree, In Java <b>8</b> practically both methods are <i>almost</i> the same, for both appear the <code>Pattern.compile(...)</code> content/part in their implementations, seems <code>replace</code> is less complex about how to define/send the first argument. It does not require <code>&quot;\\&quot;</code> . Furthermore <code>replace</code> is available since Java <code>1.5</code> and <code>replaceAll</code> since <code>1.4</code>"}],"tags":[],"owner":{"account_id":1462165,"reputation":3978,"user_id":1376167,"accept_rate":88,"display_name":"Surender Thakran"},"comment_count":3,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1512770546,"creation_date":1338442402,"answer_id":10827945,"question_id":10827872,"body_markdown":"The `replace()` method is overloaded to accept both a primitive `char` and a `CharSequence` as arguments.\r\n\r\nNow as far as the performance is concerned, the `replace()` method is a bit faster than `replaceAll()` because the latter first compiles the regex pattern and then matches before finally replacing whereas the former simply matches for the provided argument and replaces.\r\n\r\nSince we know the regex pattern matching is a bit more complex and consequently slower, then preferring `replace()` over `replaceAll()` is suggested whenever possible.\r\n\r\nFor example, for simple substitutions like you mentioned, it is better to use:\r\n\r\n    replace(&#39;.&#39;, &#39;\\\\&#39;);\r\n\r\ninstead of:\r\n\r\n    replaceAll(&quot;\\\\.&quot;, &quot;\\\\\\\\&quot;);\r\n\r\nNote: the above conversion method arguments are system-dependent.","title":"Difference between String replace() and replaceAll()","body":"<p>The <code>replace()</code> method is overloaded to accept both a primitive <code>char</code> and a <code>CharSequence</code> as arguments.</p>\n\n<p>Now as far as the performance is concerned, the <code>replace()</code> method is a bit faster than <code>replaceAll()</code> because the latter first compiles the regex pattern and then matches before finally replacing whereas the former simply matches for the provided argument and replaces.</p>\n\n<p>Since we know the regex pattern matching is a bit more complex and consequently slower, then preferring <code>replace()</code> over <code>replaceAll()</code> is suggested whenever possible.</p>\n\n<p>For example, for simple substitutions like you mentioned, it is better to use:</p>\n\n<pre><code>replace('.', '\\\\');\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>replaceAll(\"\\\\.\", \"\\\\\\\\\");\n</code></pre>\n\n<p>Note: the above conversion method arguments are system-dependent.</p>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1338442551,"creation_date":1338442551,"answer_id":10827970,"question_id":10827872,"body_markdown":"replace works on char data type but replaceAll works on String datatype and both replace the all occurrences of first argument with second argument.","title":"Difference between String replace() and replaceAll()","body":"<p>replace works on char data type but replaceAll works on String datatype and both replace the all occurrences of first argument with second argument.</p>\n"},{"comments":[{"owner":{"account_id":150524,"reputation":151,"user_id":363791,"display_name":"Nadar"},"score":1,"creation_date":1477889863,"post_id":22578124,"comment_id":67928498,"body_markdown":"`String.replaceAll()` expects [regular expressions](https://en.wikipedia.org/wiki/Regular_expression) not literal arguments, which is why you get &quot;unpredictable&quot; (which are really very much predictable) results. `String.replace()` works the way you want.","body":"<code>String.replaceAll()</code> expects <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expressions</a> not literal arguments, which is why you get &quot;unpredictable&quot; (which are really very much predictable) results. <code>String.replace()</code> works the way you want."},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":1,"creation_date":1555060338,"post_id":22578124,"comment_id":97985417,"body_markdown":"As a rule of thumb for when we get unexpected results from Java, rather than designing a new function to get around that, it&#39;s better to assume that those results are dead right and that we are misunderstanding the Java functionality we are using.","body":"As a rule of thumb for when we get unexpected results from Java, rather than designing a new function to get around that, it&#39;s better to assume that those results are dead right and that we are misunderstanding the Java functionality we are using."},{"owner":{"account_id":2550207,"reputation":152,"user_id":2214122,"display_name":"Mark Amabile"},"score":1,"creation_date":1656904717,"post_id":22578124,"comment_id":128676632,"body_markdown":"I understand that replaceAll uses regex .. but this simple function strReplace fixed my issue.","body":"I understand that replaceAll uses regex .. but this simple function strReplace fixed my issue."}],"tags":[],"owner":{"account_id":273560,"reputation":6511,"user_id":565244,"accept_rate":70,"display_name":"Codebeat"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395494330,"creation_date":1395494330,"answer_id":22578124,"question_id":10827872,"body_markdown":"Old thread I know but I am sort of new to Java and discover one of it&#39;s strange things. I have used `String.replaceAll()` but get unpredictable results.\r\n\r\nSomething like this mess up the string:\r\n\r\n    sUrl = sUrl.replaceAll( &quot;./&quot;, &quot;//&quot;).replaceAll( &quot;//&quot;, &quot;/&quot;);\r\n\r\nSo I designed this function to get around the weird problem:\r\n\r\n    //String.replaceAll does not work OK, that&#39;s why this function is here\r\n    public String strReplace( String s1, String s2, String s ) \r\n    {\r\n        if((( s == null ) || (s.length() == 0 )) || (( s1 == null ) || (s1.length() == 0 )))\r\n         { return s; }\r\n       \r\n       while( (s != null) &amp;&amp; (s.indexOf( s1 ) &gt;= 0) )\r\n        { s = s.replace( s1, s2 ); }\r\n      return s;\r\n    }\r\n\r\nWhich make you able to do:\r\n\r\n    sUrl=this.strReplace(&quot;./&quot;, &quot;//&quot;, sUrl );\r\n    sUrl=this.strReplace( &quot;//&quot;, &quot;/&quot;, sUrl );\r\n\r\n \r\n\r\n\r\n","title":"Difference between String replace() and replaceAll()","body":"<p>Old thread I know but I am sort of new to Java and discover one of it's strange things. I have used <code>String.replaceAll()</code> but get unpredictable results.</p>\n\n<p>Something like this mess up the string:</p>\n\n<pre><code>sUrl = sUrl.replaceAll( \"./\", \"//\").replaceAll( \"//\", \"/\");\n</code></pre>\n\n<p>So I designed this function to get around the weird problem:</p>\n\n<pre><code>//String.replaceAll does not work OK, that's why this function is here\npublic String strReplace( String s1, String s2, String s ) \n{\n    if((( s == null ) || (s.length() == 0 )) || (( s1 == null ) || (s1.length() == 0 )))\n     { return s; }\n\n   while( (s != null) &amp;&amp; (s.indexOf( s1 ) &gt;= 0) )\n    { s = s.replace( s1, s2 ); }\n  return s;\n}\n</code></pre>\n\n<p>Which make you able to do:</p>\n\n<pre><code>sUrl=this.strReplace(\"./\", \"//\", sUrl );\nsUrl=this.strReplace( \"//\", \"/\", sUrl );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5556407,"reputation":41,"user_id":4407616,"display_name":"S. Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430379637,"creation_date":1430379277,"answer_id":29961730,"question_id":10827872,"body_markdown":"    String replace(char oldChar, char newChar)\r\n\r\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.\r\n\r\n    String replaceAll(String regex, String replacement\r\n\r\nReplaces each substring of this string that matches the given regular expression with the given replacement.\r\n\r\n","title":"Difference between String replace() and replaceAll()","body":"<pre><code>String replace(char oldChar, char newChar)\n</code></pre>\n\n<p>Returns a new string resulting from replacing all occurrences of oldChar in this string with newChar.</p>\n\n<pre><code>String replaceAll(String regex, String replacement\n</code></pre>\n\n<p>Replaces each substring of this string that matches the given regular expression with the given replacement.</p>\n"},{"comments":[{"owner":{"account_id":2862720,"reputation":133,"user_id":2457639,"accept_rate":100,"display_name":"xtrakBandit"},"score":3,"creation_date":1436909390,"post_id":30749407,"comment_id":50807995,"body_markdown":"thats not true. If you look at the source of replace you will see it also used the Pattern and Matcher (ie regex)","body":"thats not true. If you look at the source of replace you will see it also used the Pattern and Matcher (ie regex)"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":1,"creation_date":1599142238,"post_id":30749407,"comment_id":112687456,"body_markdown":"From Java 9 this is true.","body":"From Java 9 this is true."}],"tags":[],"owner":{"account_id":4897302,"reputation":135,"user_id":3946466,"accept_rate":86,"display_name":"aman"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444643421,"creation_date":1433920057,"answer_id":30749407,"question_id":10827872,"body_markdown":"`replace()` method doesn&#39;t uses regex pattern whereas `replaceAll()` method uses regex pattern. So `replace()` performs faster than `replaceAll()`.","title":"Difference between String replace() and replaceAll()","body":"<p><code>replace()</code> method doesn't uses regex pattern whereas <code>replaceAll()</code> method uses regex pattern. So <code>replace()</code> performs faster than <code>replaceAll()</code>.</p>\n"},{"comments":[{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":6,"creation_date":1462477513,"post_id":35449197,"comment_id":61665003,"body_markdown":"They are not the exact same implementation. `replace` doesn&#39;t call `Pattern.compile(regex).matcher(this).replaceAll(replacement);`. It calls `Pattern.compile(target.toString(), Pattern.LITERAL).matcher(this).replaceAll(Matcher.quoteReplacement(replacement.toString()));`","body":"They are not the exact same implementation. <code>replace</code> doesn&#39;t call <code>Pattern.compile(regex).matcher(this).replaceAll(replacement)&zwnj;&#8203;;</code>. It calls <code>Pattern.compile(target.toString(), Pattern.LITERAL).matcher(this).replaceAll(Matcher.quoteRepla&zwnj;&#8203;cement(replacement.t&zwnj;&#8203;oString()));</code>"},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":2,"creation_date":1555056433,"post_id":35449197,"comment_id":97983404,"body_markdown":"_replaceAll() accepts a pair of regex_ Why would both the search string **and the replacement string** be a regex? What would the occurrences be replaced with? With a regex? Of course only the first argument is a regex (the search string). The second one is not a regex (the replacement string).","body":"<i>replaceAll() accepts a pair of regex</i> Why would both the search string <b>and the replacement string</b> be a regex? What would the occurrences be replaced with? With a regex? Of course only the first argument is a regex (the search string). The second one is not a regex (the replacement string)."}],"tags":[],"owner":{"account_id":6821772,"reputation":467,"user_id":5248705,"display_name":"Aarya"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1455691266,"creation_date":1455689626,"answer_id":35449197,"question_id":10827872,"body_markdown":"1. Both replace() and replaceAll() accepts two arguments and replaces all occurrences of the first substring(first argument) in a string with the second substring (second argument).\r\n2. replace() accepts a pair of char or charsequence and replaceAll() accepts a pair of regex.\r\n3. It is not true that replace() works faster than replaceAll() since both uses the same code in its implementation\r\n\r\n    Pattern.compile(regex).matcher(this).replaceAll(replacement);\r\n\r\nNow the question is when to use replace and when to use replaceAll().\r\nWhen you want to replace a substring with another substring regardless of its place of occurrence in the string use replace(). But if you have some particular preference or condition like replace only those substrings at the beginning or end of a string use replaceAll(). Here are some examples to prove my point:\r\n\r\n    String str = new String(&quot;==qwerty==&quot;).replaceAll(&quot;^==&quot;, &quot;?&quot;); \\\\str: &quot;?qwerty==&quot;\r\n    String str = new String(&quot;==qwerty==&quot;).replaceAll(&quot;==$&quot;, &quot;?&quot;); \\\\str: &quot;==qwerty?&quot;\r\n    String str = new String(&quot;===qwerty==&quot;).replaceAll(&quot;(=)+&quot;, &quot;?&quot;); \\\\str: &quot;?qwerty?&quot;","title":"Difference between String replace() and replaceAll()","body":"<ol>\n<li>Both replace() and replaceAll() accepts two arguments and replaces all occurrences of the first substring(first argument) in a string with the second substring (second argument).</li>\n<li>replace() accepts a pair of char or charsequence and replaceAll() accepts a pair of regex.</li>\n<li><p>It is not true that replace() works faster than replaceAll() since both uses the same code in its implementation</p>\n\n<p>Pattern.compile(regex).matcher(this).replaceAll(replacement);</p></li>\n</ol>\n\n<p>Now the question is when to use replace and when to use replaceAll().\nWhen you want to replace a substring with another substring regardless of its place of occurrence in the string use replace(). But if you have some particular preference or condition like replace only those substrings at the beginning or end of a string use replaceAll(). Here are some examples to prove my point:</p>\n\n<pre><code>String str = new String(\"==qwerty==\").replaceAll(\"^==\", \"?\"); \\\\str: \"?qwerty==\"\nString str = new String(\"==qwerty==\").replaceAll(\"==$\", \"?\"); \\\\str: \"==qwerty?\"\nString str = new String(\"===qwerty==\").replaceAll(\"(=)+\", \"?\"); \\\\str: \"?qwerty?\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10022197,"reputation":21,"user_id":7411547,"display_name":"Keith Crews"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487973535,"creation_date":1487973535,"answer_id":42448996,"question_id":10827872,"body_markdown":"As alluded to in wickeD&#39;s answer, with replaceAll the replacement string is handled differently between replace and replaceAll.  I expected a[3] and a[4] to have the same value, but they are different.\r\n\r\n    public static void main(String[] args) {\r\n        String[] a = new String[5];\r\n        a[0] = &quot;\\\\&quot;;\r\n        a[1] = &quot;X&quot;;\r\n        a[2] = a[0] + a[1];\r\n        a[3] = a[1].replaceAll(&quot;X&quot;, a[0] + &quot;X&quot;);\r\n        a[4] = a[1].replace(&quot;X&quot;, a[0] + &quot;X&quot;);\r\n        \r\n        for (String s : a) {\r\n            System.out.println(s + &quot;\\t&quot; + s.length());\r\n        }\r\n    }\r\n\r\nThe output of this is:\r\n\r\n    \\\t1\r\n    X\t1\r\n    \\X\t2\r\n    X\t1\r\n    \\X\t2\r\n\r\nThis is different from perl where the replacement does not require the extra level of escaping:\r\n\r\n    #!/bin/perl\r\n    $esc = &quot;\\\\&quot;;\r\n    $s = &quot;X&quot;;\r\n    \r\n    $s =~ s/X/${esc}X/;\r\n    print &quot;$s &quot; . length($s) . &quot;\\n&quot;;\r\n\r\nwhich prints\r\n\\X 2\r\n\r\nThis can be quite a nuisance, as when trying to use the value returned by java.sql.DatabaseMetaData.getSearchStringEscape() with replaceAll().","title":"Difference between String replace() and replaceAll()","body":"<p>As alluded to in wickeD's answer, with replaceAll the replacement string is handled differently between replace and replaceAll.  I expected a[3] and a[4] to have the same value, but they are different.</p>\n\n<pre><code>public static void main(String[] args) {\n    String[] a = new String[5];\n    a[0] = \"\\\\\";\n    a[1] = \"X\";\n    a[2] = a[0] + a[1];\n    a[3] = a[1].replaceAll(\"X\", a[0] + \"X\");\n    a[4] = a[1].replace(\"X\", a[0] + \"X\");\n\n    for (String s : a) {\n        System.out.println(s + \"\\t\" + s.length());\n    }\n}\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>\\   1\nX   1\n\\X  2\nX   1\n\\X  2\n</code></pre>\n\n<p>This is different from perl where the replacement does not require the extra level of escaping:</p>\n\n<pre><code>#!/bin/perl\n$esc = \"\\\\\";\n$s = \"X\";\n\n$s =~ s/X/${esc}X/;\nprint \"$s \" . length($s) . \"\\n\";\n</code></pre>\n\n<p>which prints\n\\X 2</p>\n\n<p>This can be quite a nuisance, as when trying to use the value returned by java.sql.DatabaseMetaData.getSearchStringEscape() with replaceAll().</p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":0,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1515162327,"creation_date":1510626499,"answer_id":47276732,"question_id":10827872,"body_markdown":"Both `replace()` and `replaceAll()` replace all occurrences in the String.\r\n\r\n#Examples \r\n\r\nI always find examples helpful to understand the differences.\r\n\r\n#[`replace()`][1]\r\n\r\nUse `replace()` if you just want to replace some `char` with another `char` or some `String` with another `String` (actually `CharSequence`).\r\n\r\n**Example 1**\r\n\r\nReplace all occurrences of the character `x` with `o`. \r\n\r\n    String myString = &quot;__x___x___x_x____xx_&quot;;\r\n\r\n    char oldChar = &#39;x&#39;;\r\n    char newChar = &#39;o&#39;;\r\n\r\n    String newString = myString.replace(oldChar, newChar);\r\n    // __o___o___o_o____oo_\r\n\r\n**Example 2**\r\n\r\nReplace all occurrences of the string `fish` with `sheep`. \r\n\r\n    String myString = &quot;one fish, two fish, three fish&quot;;\r\n\r\n    String target = &quot;fish&quot;;\r\n    String replacement = &quot;sheep&quot;;\r\n\r\n    String newString = myString.replace(target, replacement);\r\n    // one sheep, two sheep, three sheep\r\n\r\n#[`replaceAll()`][2]\r\n\r\nUse `replaceAll()` if you want to use a [regular expression pattern][3].\r\n\r\n**Example 3**\r\n\r\nReplace any number with an `x`.\r\n\r\n    String myString = &quot;__1_6____3__6_345____0&quot;;\r\n\r\n    String regex = &quot;\\\\d&quot;;\r\n    String replacement = &quot;x&quot;;\r\n\r\n    String newString = myString.replaceAll(regex, replacement); \r\n    // __x_x____x__x_xxx____x\r\n\r\n**Example 4**\r\n\r\nRemove all whitespace.\r\n\r\n    String myString = &quot;   Horse         Cow\\n\\n   \\r Camel \\t\\t Sheep \\n Goat        &quot;;\r\n\r\n    String regex = &quot;\\\\s&quot;;\r\n    String replacement = &quot;&quot;;\r\n\r\n    String newString = myString.replaceAll(regex, replacement); \r\n    // HorseCowCamelSheepGoat\r\n\r\n#See also\r\n\r\nDocumentation\r\n\r\n- [`replace(char oldChar, char newChar)`][4]\r\n- [`replace(CharSequence target, CharSequence replacement)`][1]\r\n- [`replaceAll(String regex, String replacement)`][2]\r\n- [`replaceFirst(String regex, String replacement)`][5]\r\n\r\nRegular Expressions\r\n\r\n- [Tutorial][6]\r\n- [List of patterns][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\r\n  [4]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char,%20char)\r\n  [5]: http://replaceFirst(String%20regex,%20String%20replacement)\r\n  [6]: http://www.ocpsoft.org/opensource/guide-to-regular-expressions-in-java-part-1/","title":"Difference between String replace() and replaceAll()","body":"<p>Both <code>replace()</code> and <code>replaceAll()</code> replace all occurrences in the String.</p>\n\n<h1>Examples</h1>\n\n<p>I always find examples helpful to understand the differences.</p>\n\n<h1><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\"><code>replace()</code></a></h1>\n\n<p>Use <code>replace()</code> if you just want to replace some <code>char</code> with another <code>char</code> or some <code>String</code> with another <code>String</code> (actually <code>CharSequence</code>).</p>\n\n<p><strong>Example 1</strong></p>\n\n<p>Replace all occurrences of the character <code>x</code> with <code>o</code>. </p>\n\n<pre><code>String myString = \"__x___x___x_x____xx_\";\n\nchar oldChar = 'x';\nchar newChar = 'o';\n\nString newString = myString.replace(oldChar, newChar);\n// __o___o___o_o____oo_\n</code></pre>\n\n<p><strong>Example 2</strong></p>\n\n<p>Replace all occurrences of the string <code>fish</code> with <code>sheep</code>. </p>\n\n<pre><code>String myString = \"one fish, two fish, three fish\";\n\nString target = \"fish\";\nString replacement = \"sheep\";\n\nString newString = myString.replace(target, replacement);\n// one sheep, two sheep, three sheep\n</code></pre>\n\n<h1><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>replaceAll()</code></a></h1>\n\n<p>Use <code>replaceAll()</code> if you want to use a <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regular expression pattern</a>.</p>\n\n<p><strong>Example 3</strong></p>\n\n<p>Replace any number with an <code>x</code>.</p>\n\n<pre><code>String myString = \"__1_6____3__6_345____0\";\n\nString regex = \"\\\\d\";\nString replacement = \"x\";\n\nString newString = myString.replaceAll(regex, replacement); \n// __x_x____x__x_xxx____x\n</code></pre>\n\n<p><strong>Example 4</strong></p>\n\n<p>Remove all whitespace.</p>\n\n<pre><code>String myString = \"   Horse         Cow\\n\\n   \\r Camel \\t\\t Sheep \\n Goat        \";\n\nString regex = \"\\\\s\";\nString replacement = \"\";\n\nString newString = myString.replaceAll(regex, replacement); \n// HorseCowCamelSheepGoat\n</code></pre>\n\n<h1>See also</h1>\n\n<p>Documentation</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char,%20char)\" rel=\"noreferrer\"><code>replace(char oldChar, char newChar)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\"><code>replace(CharSequence target, CharSequence replacement)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>replaceAll(String regex, String replacement)</code></a></li>\n<li><a href=\"http://replaceFirst(String%20regex,%20String%20replacement)\" rel=\"noreferrer\"><code>replaceFirst(String regex, String replacement)</code></a></li>\n</ul>\n\n<p>Regular Expressions</p>\n\n<ul>\n<li><a href=\"http://www.ocpsoft.org/opensource/guide-to-regular-expressions-in-java-part-1/\" rel=\"noreferrer\">Tutorial</a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">List of patterns</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578432539,"creation_date":1578432539,"answer_id":59636325,"question_id":10827872,"body_markdown":"To add to the already selected &quot;Best Answer&quot; (and others that are just as good like Suragch&#39;s), `String.replace()` is constrained by replacing characters that are sequential (thus taking `CharSequence`). However, `String.replaceAll()` is not constrained by replacing sequential characters only. You could replace non-sequential characters as well as long as your regular expression is constructed in such a way.\r\n\r\nAlso (most importantly and painfully obvious), `replace()` can only replace literal values; whereas `replaceAll` can replace &#39;like&#39; sequences (not necessarily identical).","title":"Difference between String replace() and replaceAll()","body":"<p>To add to the already selected \"Best Answer\" (and others that are just as good like Suragch's), <code>String.replace()</code> is constrained by replacing characters that are sequential (thus taking <code>CharSequence</code>). However, <code>String.replaceAll()</code> is not constrained by replacing sequential characters only. You could replace non-sequential characters as well as long as your regular expression is constructed in such a way.</p>\n\n<p>Also (most importantly and painfully obvious), <code>replace()</code> can only replace literal values; whereas <code>replaceAll</code> can replace 'like' sequences (not necessarily identical).</p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599140971,"creation_date":1599140971,"answer_id":63725052,"question_id":10827872,"body_markdown":"From Java 9 there is some optimizations in replace method.\r\n\r\nIn Java 8 it uses a regex.\r\n\r\n    public String replace(CharSequence target, CharSequence replacement) {\r\n        return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\r\n                this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\r\n    }\r\n\r\nFrom Java 9 and on.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd Stringlatin implementation.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhich perform way better.\r\n\r\n[https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TMb7B.png\r\n  [2]: https://i.stack.imgur.com/7RW94.png\r\n  [3]: https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------","title":"Difference between String replace() and replaceAll()","body":"<p>From Java 9 there is some optimizations in replace method.</p>\n<p>In Java 8 it uses a regex.</p>\n<pre><code>public String replace(CharSequence target, CharSequence replacement) {\n    return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\n            this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\n}\n</code></pre>\n<p>From Java 9 and on.</p>\n<p><a href=\"https://i.stack.imgur.com/TMb7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMb7B.png\" alt=\"enter image description here\" /></a></p>\n<p>And Stringlatin implementation.</p>\n<p><a href=\"https://i.stack.imgur.com/7RW94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RW94.png\" alt=\"enter image description here\" /></a></p>\n<p>Which perform way better.</p>\n<p><a href=\"https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------\" rel=\"nofollow noreferrer\">https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------</a></p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621845430,"creation_date":1621845430,"answer_id":67668989,"question_id":10827872,"body_markdown":"To throw more light with an example into how both are going to work for below code:\r\n\r\n```\r\npublic static void main(String[] args)\r\n{\r\n    String s = &quot;My\\\\s aaab\\\\s is\\\\s aaab\\\\s name&quot;;\r\n    String s1 = s.replace(&quot;\\\\s&quot;, &quot;c&quot;);\r\n    System.out.println(s1);\r\n    String s2 = s.replaceAll(&quot;\\\\s&quot;, &quot;c&quot;);\r\n    System.out.println(s2);\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nMyc aaabc isc aaabc name\r\nMy\\scaaab\\scis\\scaaab\\scname\r\n```\r\n\r\n**Explanation**\r\n\r\ns.replace replaces &quot;\\\\\\s&quot; sequence of characters with c. Hence, the output in first line.\r\ns.replaceAll considers \\\\\\s as a regex rather(equivalent to space) and replaces spaces with c. \\\\\\s in String s is escaped with first \\ encountered and becomes \\s.\r\n\r\nIntellij Idea is smart enough to notify you of the usage as well. If you take a closer look at below image, you will see the difference in interpretation by Intellij idea for replace and replaceAll usage.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ICXW7.png","title":"Difference between String replace() and replaceAll()","body":"<p>To throw more light with an example into how both are going to work for below code:</p>\n<pre><code>public static void main(String[] args)\n{\n    String s = &quot;My\\\\s aaab\\\\s is\\\\s aaab\\\\s name&quot;;\n    String s1 = s.replace(&quot;\\\\s&quot;, &quot;c&quot;);\n    System.out.println(s1);\n    String s2 = s.replaceAll(&quot;\\\\s&quot;, &quot;c&quot;);\n    System.out.println(s2);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Myc aaabc isc aaabc name\nMy\\scaaab\\scis\\scaaab\\scname\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>s.replace replaces &quot;\\\\s&quot; sequence of characters with c. Hence, the output in first line.\ns.replaceAll considers \\\\s as a regex rather(equivalent to space) and replaces spaces with c. \\\\s in String s is escaped with first \\ encountered and becomes \\s.</p>\n<p>Intellij Idea is smart enough to notify you of the usage as well. If you take a closer look at below image, you will see the difference in interpretation by Intellij idea for replace and replaceAll usage.</p>\n<p><a href=\"https://i.stack.imgur.com/ICXW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICXW7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":30602,"reputation":12424,"user_id":83501,"accept_rate":78,"display_name":"Jijoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335885,"favorite_count":0,"down_vote_count":2,"up_vote_count":320,"accepted_answer_id":10827900,"answer_count":13,"score":318,"last_activity_date":1699216219,"creation_date":1338441898,"question_id":10827872,"body_markdown":"What&#39;s the difference between java.lang.String &#39;s `replace()` and `replaceAll()` methods, \r\nother than the latter uses regex? For simple substitutions like, replace `.` with `/`, is there any difference?","title":"Difference between String replace() and replaceAll()","body":"<p>What's the difference between java.lang.String 's <code>replace()</code> and <code>replaceAll()</code> methods,\nother than the latter uses regex? For simple substitutions like, replace <code>.</code> with <code>/</code>, is there any difference?</p>\n"},{"tags":["java","multithreading","daemon"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699133692,"post_id":77423883,"comment_id":136493867,"body_markdown":"From the [documentation of `Thread` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html): &quot;*Platform threads are designated daemon or non-daemon threads. When the Java virtual machine starts up, there is usually one non-daemon thread (the thread that typically calls the application&#39;s main method). The shutdown sequence begins when all started non-daemon threads have terminated. Unstarted non-daemon threads do not prevent the shutdown sequence from beginning.*&quot;","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">documentation of <code>Thread</code> (<code>docs.oracle.com</code>)</a>: &quot;<i>Platform threads are designated daemon or non-daemon threads. When the Java virtual machine starts up, there is usually one non-daemon thread (the thread that typically calls the application&#39;s main method). The shutdown sequence begins when all started non-daemon threads have terminated. Unstarted non-daemon threads do not prevent the shutdown sequence from beginning.</i>&quot;"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699133807,"post_id":77423883,"comment_id":136493876,"body_markdown":"And for completeness: [Shutdown Sequence (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#shutdown)","body":"And for completeness: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#shutdown\" rel=\"nofollow noreferrer\">Shutdown Sequence (<code>docs.oracle.com</code>)</a>"},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699133944,"post_id":77423883,"comment_id":136493889,"body_markdown":"I&#39;m still new to the multi-threading in Java world... I don&#39;t understand a word written there :( All I have gathered till now is that the jvm exits whenever one of the three conditions are met.","body":"I&#39;m still new to the multi-threading in Java world... I don&#39;t understand a word written there :( All I have gathered till now is that the jvm exits whenever one of the three conditions are met."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134082,"post_id":77423883,"comment_id":136493899,"body_markdown":"In short: the JVM waits until all running non-daemon threads are terminated and starts the shutdown sequence. If, for any reason, there should still be a thread runing during the shutdown sequence, the thread gets terminated.","body":"In short: the JVM waits until all running non-daemon threads are terminated and starts the shutdown sequence. If, for any reason, there should still be a thread runing during the shutdown sequence, the thread gets terminated."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134147,"post_id":77423883,"comment_id":136493906,"body_markdown":"So will the non-main thread run or...?","body":"So will the non-main thread run or...?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134588,"post_id":77423883,"comment_id":136493937,"body_markdown":"Maybe. It depends whether it is started before the `main`-method terminates. If it started before the `main`-method terminates, it will prevent the JVM form terminating. See [this `ideone.com` demo](https://ideone.com/Ilw9zX).","body":"Maybe. It depends whether it is started before the <code>main</code>-method terminates. If it started before the <code>main</code>-method terminates, it will prevent the JVM form terminating. See <a href=\"https://ideone.com/Ilw9zX\" rel=\"nofollow noreferrer\">this <code>ideone.com</code> demo</a>."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134756,"post_id":77423883,"comment_id":136493946,"body_markdown":"@Turing85 will that depend on the fact that the main method does not end after the call to start in the example?","body":"@Turing85 will that depend on the fact that the main method does not end after the call to start in the example?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134899,"post_id":77423883,"comment_id":136493962,"body_markdown":"Again: It depends whether the new `Thread` is started before the `main`-method terminates.","body":"Again: It depends whether the new <code>Thread</code> is started before the <code>main</code>-method terminates."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134974,"post_id":77423883,"comment_id":136493968,"body_markdown":"Ok, I&#39;m lost :( How will it ever not start before the main method terminates?","body":"Ok, I&#39;m lost :( How will it ever not start before the main method terminates?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1699192959,"post_id":77423883,"comment_id":136497960,"body_markdown":"@queeg, see the discussion about what `start()` means in comments on dan1st&#39;s answer, below.","body":"@queeg, see the discussion about what <code>start()</code> means in comments on dan1st&#39;s answer, below."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699141681,"post_id":77424025,"comment_id":136494456,"body_markdown":"The `start()` method finishing does not imply that the thread has actually started. So there is a race condition. The JVM may well exit.","body":"The <code>start()</code> method finishing does not imply that the thread has actually started. So there is a race condition. The JVM may well exit."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699143935,"post_id":77424025,"comment_id":136494587,"body_markdown":"Could this be verified by calling `start()` twice? The second one should fail as the thread is no longer in NEW state...","body":"Could this be verified by calling <code>start()</code> twice? The second one should fail as the thread is no longer in NEW state..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699150369,"post_id":77424025,"comment_id":136494958,"body_markdown":"*&quot;Could this be verified by calling start() twice?&quot;*  No.  Well yea it will fail.  But that doesn&#39;t actually prove anything.  You would also need to prove that the test `threadstatus != 0` in `Thread.start` is the only thing that can cause `IllegalThreadStateException` to be thrown in this case (Hint: look at the native code!).","body":"<i>&quot;Could this be verified by calling start() twice?&quot;</i>  No.  Well yea it will fail.  But that doesn&#39;t actually prove anything.  You would also need to prove that the test <code>threadstatus != 0</code> in <code>Thread.start</code> is the only thing that can cause <code>IllegalThreadStateException</code> to be thrown in this case (Hint: look at the native code!)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699150845,"post_id":77424025,"comment_id":136494981,"body_markdown":"But I *suspect* (but can&#39;t prove) that the `Thread` will be in practice be &quot;alive&quot; for the purposes of process exit determination before `start()` returns ... irrespective of whether the (OS) thread scheduler has actually started the new native thread.  (If there was a race condition for this, I would have expected it to be documented.  But I&#39;m going to do some Googling ...)","body":"But I <i>suspect</i> (but can&#39;t prove) that the <code>Thread</code> will be in practice be &quot;alive&quot; for the purposes of process exit determination before <code>start()</code> returns ... irrespective of whether the (OS) thread scheduler has actually started the new native thread.  (If there was a race condition for this, I would have expected it to be documented.  But I&#39;m going to do some Googling ...)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699152130,"post_id":77424025,"comment_id":136495036,"body_markdown":"Best evidence I can find so far (not proof!) is that the Java 21 javadoc for Thread.setDaemon says: *&quot;Marks this thread as either a daemon or non-daemon thread. The shutdown sequence begins when all started non-daemon threads have terminated.&quot;*.   There is no precise specification of what &quot;started&quot; means,  but the intuitive meaning would be that `start()` has been called.  There is no mention I can see of a race condition in this respect.  (And nobody appears to have raised an OpenJDK bug about this hypothetical race condition.)","body":"Best evidence I can find so far (not proof!) is that the Java 21 javadoc for Thread.setDaemon says: <i>&quot;Marks this thread as either a daemon or non-daemon thread. The shutdown sequence begins when all started non-daemon threads have terminated.&quot;</i>.   There is no precise specification of what &quot;started&quot; means,  but the intuitive meaning would be that <code>start()</code> has been called.  There is no mention I can see of a race condition in this respect.  (And nobody appears to have raised an OpenJDK bug about this hypothetical race condition.)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1699152398,"post_id":77424025,"comment_id":136495045,"body_markdown":"@user207421, Can you cite documentation that says or implies that there is a race between the return from the `start()` call and the moment when the `Thread` instance is put into a state that prevents the JVM from shutting down? Is there OpenJDK code that proves it? It would be much more friendly of the library architects to declare that the `Thread` is _officially_ &quot;started&quot; as soon as `start()` returns, and never mind what state the OS thinks it&#39;s in.","body":"@user207421, Can you cite documentation that says or implies that there is a race between the return from the <code>start()</code> call and the moment when the <code>Thread</code> instance is put into a state that prevents the JVM from shutting down? Is there OpenJDK code that proves it? It would be much more friendly of the library architects to declare that the <code>Thread</code> is <i>officially</i> &quot;started&quot; as soon as <code>start()</code> returns, and never mind what state the OS thinks it&#39;s in."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699170571,"post_id":77424025,"comment_id":136495910,"body_markdown":"The [Shutdown Sequence](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#class-description) mentions: &quot;when the number of live non-daemon threads drops to zero for the first time (see note below on the JNI Invocation API);&quot; which links to [Thread#isAlive](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#) which states that it&#39;s &quot;not yet staarted&quot; and `start()` immediately marks it as started (i.e. the thread isn&#39;t `NEW` any more but `RUNNABLE` as I mentioned in my answer including a link to the native Hotspot source).","body":"The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#class-description\" rel=\"nofollow noreferrer\">Shutdown Sequence</a> mentions: &quot;when the number of live non-daemon threads drops to zero for the first time (see note below on the JNI Invocation API);&quot; which links to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#\" rel=\"nofollow noreferrer\">Thread#isAlive</a> which states that it&#39;s &quot;not yet staarted&quot; and <code>start()</code> immediately marks it as started (i.e. the thread isn&#39;t <code>NEW</code> any more but <code>RUNNABLE</code> as I mentioned in my answer including a link to the native Hotspot source)."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699170687,"post_id":77424025,"comment_id":136495918,"body_markdown":"Java doesn&#39;t have an in-between state of `start()` called but not yet started. Either the thread is started (as soon as `start()` has been called) or it is `NEW`.","body":"Java doesn&#39;t have an in-between state of <code>start()</code> called but not yet started. Either the thread is started (as soon as <code>start()</code> has been called) or it is <code>NEW</code>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699174630,"post_id":77424025,"comment_id":136496220,"body_markdown":"@user85421 yes, this is what I linked in my answer (the &quot;will be in `ThreadState.RUNNABLE`&quot; part).","body":"@user85421 yes, this is what I linked in my answer (the &quot;will be in <code>ThreadState.RUNNABLE</code>&quot; part)."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699213713,"post_id":77424025,"comment_id":136500328,"body_markdown":"The javadoc for [`start()`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#start()) states that this method &quot;Schedules this thread to begin execution.&quot; and does not guarantee that the thread is started soon as this method is called. I feel that @user207421 is right and the program in question should lead to a race condition. However, this begs the logical question, why do we have an `unStarted()` function?","body":"The javadoc for <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#start()\" rel=\"nofollow noreferrer\"><code>start()</code></a> states that this method &quot;Schedules this thread to begin execution.&quot; and does not guarantee that the thread is started soon as this method is called. I feel that @user207421 is right and the program in question should lead to a race condition. However, this begs the logical question, why do we have an <code>unStarted()</code> function?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1699343220,"post_id":77424025,"comment_id":136516327,"body_markdown":"@kesarlingHe-Him, Why would the library designers allow that race condition when they could just as easily prevent it?","body":"@kesarlingHe-Him, Why would the library designers allow that race condition when they could just as easily prevent it?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699345387,"post_id":77424025,"comment_id":136516637,"body_markdown":"@kesarlingHe-Him [From the JLS](https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html): &quot;A thread will start when the `start()` method is invoked on the corresponding `Thread` object.&quot; [and](https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4.4) &quot;An action that starts a thread _synchronizes-with_ the first action in the thread it starts.&quot;","body":"@kesarlingHe-Him <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html\" rel=\"nofollow noreferrer\">From the JLS</a>: &quot;A thread will start when the <code>start()</code> method is invoked on the corresponding <code>Thread</code> object.&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">and</a> &quot;An action that starts a thread <i>synchronizes-with</i> the first action in the thread it starts.&quot;"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":12,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1699170813,"creation_date":1699136351,"answer_id":77424025,"question_id":77423883,"body_markdown":"## TL;DR\r\nIn your example, the thread will be started and the JVM won&#39;t shutdown until that thread also terminates (unless a different shutdown event is triggered). You don&#39;t need extra synchronization for that.\r\n\r\n## longer description \r\n\r\nYou are starting the thread in your main method.\r\nBecause the `start()` method finishes before the `main` method stops, the application will _not_ shut down. As mentioned in the comments of your question (and also directly in your question), the JVM doesn&#39;t attempt to shut down before all non-daemon threads are stopped.\r\n\r\nWhen you create a thread, it will be in [`ThreadState.NEW`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.State.html) but as soon as you have called `start()`, it [will be in `ThreadState.RUNNABLE`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/thread.cpp#L382) (or similar if it had already performed some work) and will stop the application from shutting down.\r\n\r\n```java\r\nThread t = new Thread(()-&gt;{\r\n    //you can do something here if you want to\r\n});\r\nt.start();\r\nSystem.out.println(t.getState());//this will never be NEW\r\n```\r\n\r\nIf a thread is neither `NEW` nor `TERMINATED`, it [is alive](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#isAlive()) hence it it will prevent the JVM from shutting down.\r\n\r\nSo, your second thread would continue running until it finishes or something else stops the JVM.\r\n\r\nAs soon as you call `Thread#start`, you have a thread preventing the JVM from shutting down, no matter whether the thread actually started working.\r\n\r\nHowever, as [mentioned in the comments](https://stackoverflow.com/questions/77423883/can-there-be-zombie-threads-in-a-java-program#comment136493899_77423883), this can be different if `Thread#start` is invoked after the last non-daemon thread has stopped. If the JVM is already shutting down, calling `Thread#start` on another thread won&#39;t cancel shutdown.\r\n\r\nIf the last non-daemon thread stops and a daemon thread attempts to start a non-daemon thread &quot;at the same time&quot;, you will have a race condition and the thread might win or be stopped.  \r\nIf the thread is actually marked as started before the last (non-daemon thread) thread stops, it will run normally and the JVM won&#39;t shutdown.  \r\nHowever, if the JVM detects all threads are stopped before the new thread is marked as started/`RUNNABLE`, the JVM would initiate the shutdown sequence and kill the newly started thread after all shutdown hooks finish.\r\n\r\n\r\nIf you are using virtual threads, it should be noted that these always are daemon threads.","title":"Can there be zombie threads in a java program?","body":"<h2>TL;DR</h2>\n<p>In your example, the thread will be started and the JVM won't shutdown until that thread also terminates (unless a different shutdown event is triggered). You don't need extra synchronization for that.</p>\n<h2>longer description</h2>\n<p>You are starting the thread in your main method.\nBecause the <code>start()</code> method finishes before the <code>main</code> method stops, the application will <em>not</em> shut down. As mentioned in the comments of your question (and also directly in your question), the JVM doesn't attempt to shut down before all non-daemon threads are stopped.</p>\n<p>When you create a thread, it will be in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.State.html\" rel=\"nofollow noreferrer\"><code>ThreadState.NEW</code></a> but as soon as you have called <code>start()</code>, it <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/thread.cpp#L382\" rel=\"nofollow noreferrer\">will be in <code>ThreadState.RUNNABLE</code></a> (or similar if it had already performed some work) and will stop the application from shutting down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t = new Thread(()-&gt;{\n    //you can do something here if you want to\n});\nt.start();\nSystem.out.println(t.getState());//this will never be NEW\n</code></pre>\n<p>If a thread is neither <code>NEW</code> nor <code>TERMINATED</code>, it <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#isAlive()\" rel=\"nofollow noreferrer\">is alive</a> hence it it will prevent the JVM from shutting down.</p>\n<p>So, your second thread would continue running until it finishes or something else stops the JVM.</p>\n<p>As soon as you call <code>Thread#start</code>, you have a thread preventing the JVM from shutting down, no matter whether the thread actually started working.</p>\n<p>However, as <a href=\"https://stackoverflow.com/questions/77423883/can-there-be-zombie-threads-in-a-java-program#comment136493899_77423883\">mentioned in the comments</a>, this can be different if <code>Thread#start</code> is invoked after the last non-daemon thread has stopped. If the JVM is already shutting down, calling <code>Thread#start</code> on another thread won't cancel shutdown.</p>\n<p>If the last non-daemon thread stops and a daemon thread attempts to start a non-daemon thread &quot;at the same time&quot;, you will have a race condition and the thread might win or be stopped.<br />\nIf the thread is actually marked as started before the last (non-daemon thread) thread stops, it will run normally and the JVM won't shutdown.<br />\nHowever, if the JVM detects all threads are stopped before the new thread is marked as started/<code>RUNNABLE</code>, the JVM would initiate the shutdown sequence and kill the newly started thread after all shutdown hooks finish.</p>\n<p>If you are using virtual threads, it should be noted that these always are daemon threads.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699195352,"creation_date":1699195352,"answer_id":77426365,"question_id":77423883,"body_markdown":"FYI: You may have heard of &quot;zombies&quot; from Linux. Linux, processes refer to other processes by their system-wide _PIDs_ (Process IDs). The OS re-uses PIDs, but it will never re-use PID C\\* until some live process P\\* has received notification that C has died and, that its PID no longer is valid. That happens when P calls [`wait()`](https://man7.org/linux/man-pages/man2/wait.2.html) or one of several other, similar system calls.\r\n\r\nA _zombie process_ in Linux simply is the PID of some dead process for which no other living process has yet received the death notice. If process P itself dies without ever waiting for its zombie child C, then the `init` process will `wait` for both of them, and the zombie will be reaped.\r\n\r\nThe only way that zombies can be a problem is if process P runs for a long time and continually creates new children without ever `wait`ing for any of them. PIDs are a limited resource, and eventually, the process table could be so clogged with zombies that [`fork()`](https://man7.org/linux/man-pages/man2/fork.2.html) calls start failing with `ENOMEM`.\r\n\r\n-----------------\r\n\r\nI&#39;m not aware of anything similar happening with Java threads. The Java `Thread` object representing a dead thread gets managed (garbage collected) just like any other Java object, and if the OS requires some kind of cleanup after the underlying _native_ thread has ended, AFAIK, the JVM is supposed to  automatically take care of that for you. \r\n\r\n-----------------\r\n\r\n\\* I&#39;m using &quot;P&quot; for &quot;parent&quot; and &quot;C&quot; for &quot;child&quot; because that&#39;s the most common way for one process to know the PID of another.\r\n","title":"Can there be zombie threads in a java program?","body":"<p>FYI: You may have heard of &quot;zombies&quot; from Linux. Linux, processes refer to other processes by their system-wide <em>PIDs</em> (Process IDs). The OS re-uses PIDs, but it will never re-use PID C* until some live process P* has received notification that C has died and, that its PID no longer is valid. That happens when P calls <a href=\"https://man7.org/linux/man-pages/man2/wait.2.html\" rel=\"nofollow noreferrer\"><code>wait()</code></a> or one of several other, similar system calls.</p>\n<p>A <em>zombie process</em> in Linux simply is the PID of some dead process for which no other living process has yet received the death notice. If process P itself dies without ever waiting for its zombie child C, then the <code>init</code> process will <code>wait</code> for both of them, and the zombie will be reaped.</p>\n<p>The only way that zombies can be a problem is if process P runs for a long time and continually creates new children without ever <code>wait</code>ing for any of them. PIDs are a limited resource, and eventually, the process table could be so clogged with zombies that <a href=\"https://man7.org/linux/man-pages/man2/fork.2.html\" rel=\"nofollow noreferrer\"><code>fork()</code></a> calls start failing with <code>ENOMEM</code>.</p>\n<hr />\n<p>I'm not aware of anything similar happening with Java threads. The Java <code>Thread</code> object representing a dead thread gets managed (garbage collected) just like any other Java object, and if the OS requires some kind of cleanup after the underlying <em>native</em> thread has ended, AFAIK, the JVM is supposed to  automatically take care of that for you.</p>\n<hr />\n<p>* I'm using &quot;P&quot; for &quot;parent&quot; and &quot;C&quot; for &quot;child&quot; because that's the most common way for one process to know the PID of another.</p>\n"}],"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77424025,"answer_count":2,"score":0,"last_activity_date":1699215563,"creation_date":1699133263,"question_id":77423883,"body_markdown":"Consider the folowing code:\r\n\r\n```lang-java\r\npublic... main( String[] args ) // yeah yeah, I&#39;m too lazy to type it out\r\n    new ThreadExample().start(); // the run function just prints out &quot;this is run&quot;\r\n}\r\n```\r\n\r\nNow, it may so happen that the moment the call to start is made, the scheduler switches back to the main and the main block ends. What will happen to the thread that the start method created? There&#39;s still a non-daemon thread running (the one we created) meaning the program should continue execution or it can become a zombie thread (I still don&#39;t fully understand what that entails...). \r\nWhat might (or what passes for &quot;might&quot; in the absence of synchronization) happen?\r\n\r\n\r\n----------\r\n\r\nEdit:\r\n\r\nThis question is better rephrased as: &quot;What exactly does the start() method call do?&quot;  \r\nMore may be found at: [Why do we call Thread.start() method?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8052522/why-we-call-thread-start-method-which-in-turns-calls-run-method","title":"Can there be zombie threads in a java program?","body":"<p>Consider the folowing code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public... main( String[] args ) // yeah yeah, I'm too lazy to type it out\n    new ThreadExample().start(); // the run function just prints out &quot;this is run&quot;\n}\n</code></pre>\n<p>Now, it may so happen that the moment the call to start is made, the scheduler switches back to the main and the main block ends. What will happen to the thread that the start method created? There's still a non-daemon thread running (the one we created) meaning the program should continue execution or it can become a zombie thread (I still don't fully understand what that entails...).\nWhat might (or what passes for &quot;might&quot; in the absence of synchronization) happen?</p>\n<hr />\n<p>Edit:</p>\n<p>This question is better rephrased as: &quot;What exactly does the start() method call do?&quot;<br />\nMore may be found at: <a href=\"https://stackoverflow.com/questions/8052522/why-we-call-thread-start-method-which-in-turns-calls-run-method\">Why do we call Thread.start() method?</a></p>\n"},{"tags":["java","methods","static-methods","invoke"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1699126091,"post_id":77423492,"comment_id":136493134,"body_markdown":"I recommend reading a tutorial on static class members, e.g. [this one over at `oracle.com`](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html).","body":"I recommend reading a tutorial on static class members, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">this one over at <code>oracle.com</code></a>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699126338,"post_id":77423492,"comment_id":136493154,"body_markdown":"not sure in which context *invoker*  is being used, but a static method can also call a method (static or not), so we can say the (calling) static method is the invoker, or the class containing that method ...","body":"not sure in which context <i>invoker</i>  is being used, but a static method can also call a method (static or not), so we can say the (calling) static method is the invoker, or the class containing that method ..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1699126731,"post_id":77423492,"comment_id":136493195,"body_markdown":"&quot;The &quot;calc&quot; object is the invoker&quot; the `calc` object is the _receiver_.","body":"&quot;The &quot;calc&quot; object is the invoker&quot; the <code>calc</code> object is the <i>receiver</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699127046,"post_id":77423492,"comment_id":136493228,"body_markdown":"I thought the _invoker_ was the calling _object_, and not the _class_ which contains the method.  I don&#39;t follow design patterns, though.","body":"I thought the <i>invoker</i> was the calling <i>object</i>, and not the <i>class</i> which contains the method.  I don&#39;t follow design patterns, though."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699127174,"post_id":77423492,"comment_id":136493242,"body_markdown":"@user85421, here&#39;s a context, _&#39;... an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.&#39;_","body":"@user85421, here&#39;s a context, <i>&#39;... an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.&#39;</i>"}],"answers":[{"tags":[],"owner":{"account_id":29825426,"reputation":26,"user_id":22857518,"display_name":"Dimitris Dranidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699126676,"creation_date":1699125961,"answer_id":77423524,"question_id":77423492,"body_markdown":"In a class there could be two types of methods: **instance methods** and **class (or static) methods**. To call an instance method you use an instance (object) of the class to invoke the method, like you did in your example. To call a class method you use the class name to invoke the method.\r\n\r\nTaking your example:\r\n```java\r\npublic class Calculator {\r\n  public static int add(int a, int b) { \r\n    return a + b;\r\n  } \r\n}\r\n    \r\npublic static void main(String[] args) { \r\n  System.out.println(Calculator.add(5,3));\r\n}\r\n```\r\nMethod `add` is declared as `static` and we call it using the class name `Calculator`.\r\n\r\nIn the Calculator class there is no state, there are no attributes. Usually a class with no state will have only static methods since the behaviour of the method does not depend on any state. \r\n ","title":"Who will be the method invoker of a Class with no object?","body":"<p>In a class there could be two types of methods: <strong>instance methods</strong> and <strong>class (or static) methods</strong>. To call an instance method you use an instance (object) of the class to invoke the method, like you did in your example. To call a class method you use the class name to invoke the method.</p>\n<p>Taking your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Calculator {\n  public static int add(int a, int b) { \n    return a + b;\n  } \n}\n    \npublic static void main(String[] args) { \n  System.out.println(Calculator.add(5,3));\n}\n</code></pre>\n<p>Method <code>add</code> is declared as <code>static</code> and we call it using the class name <code>Calculator</code>.</p>\n<p>In the Calculator class there is no state, there are no attributes. Usually a class with no state will have only static methods since the behaviour of the method does not depend on any state.</p>\n"}],"owner":{"account_id":17354628,"reputation":3,"user_id":12572358,"display_name":"Swapnil Mishra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77423524,"answer_count":1,"score":-1,"last_activity_date":1699213910,"creation_date":1699125238,"question_id":77423492,"body_markdown":"In object-oriented programming, an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.  But my question is what if a class has just methods(static) and no object who will then be the invoker of that method?\r\n\r\nExample Code of what I am trying to ask :\r\n\r\n``` \r\npublic class Calculator {\r\n    public int add(int a, int b) { \r\n    return a + b; \r\n    }\r\npublic static void main(String[] args) { \r\n//Creating an instance of the Calculator class \r\n\r\nCalculator calc = new Calculator();\r\n\r\n// Invoking the &quot;add&quot; method with the invoker (calc)\r\nint result = calc.add(5, 3);\r\n\r\n/*\r\nThe &quot;calc&quot; object is the invoker, and it invokes the &quot;add&quot; method with arguments\r\n5 and 3. \r\nbut what if there was no calc object in the calculator class \r\nwho would have been the invoker of the method then? \r\nhow would you have then called the add() method? by making it static ?\r\nand calling it directly? if yes, who would be invoker of that static add() method?\r\n*/\r\n\r\nSystem.out.println(&quot;Result of addition: &quot; + result);\r\n    }\r\n}\r\n```","title":"Who will be the method invoker of a Class with no object?","body":"<p>In object-oriented programming, an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.  But my question is what if a class has just methods(static) and no object who will then be the invoker of that method?</p>\n<p>Example Code of what I am trying to ask :</p>\n<pre><code>public class Calculator {\n    public int add(int a, int b) { \n    return a + b; \n    }\npublic static void main(String[] args) { \n//Creating an instance of the Calculator class \n\nCalculator calc = new Calculator();\n\n// Invoking the &quot;add&quot; method with the invoker (calc)\nint result = calc.add(5, 3);\n\n/*\nThe &quot;calc&quot; object is the invoker, and it invokes the &quot;add&quot; method with arguments\n5 and 3. \nbut what if there was no calc object in the calculator class \nwho would have been the invoker of the method then? \nhow would you have then called the add() method? by making it static ?\nand calling it directly? if yes, who would be invoker of that static add() method?\n*/\n\nSystem.out.println(&quot;Result of addition: &quot; + result);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","terminal","su"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1699200523,"post_id":77426267,"comment_id":136498866,"body_markdown":"Could you please correct the code? You posted `executeCommandSU` twice.","body":"Could you please correct the code? You posted <code>executeCommandSU</code> twice."}],"answers":[{"comments":[{"owner":{"account_id":29657527,"reputation":11,"user_id":22729950,"display_name":"Defi Nghĩa"},"score":0,"creation_date":1699203499,"post_id":77426712,"comment_id":136499222,"body_markdown":"it returned same result","body":"it returned same result"}],"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699201188,"creation_date":1699201188,"answer_id":77426712,"question_id":77426267,"body_markdown":"You are using `ready()` incorrectly. Look up the docs to see why. Change:\r\n\r\n     while (br.ready()) {\r\n         sb.append(br.readLine()+&quot;\\n&quot;);\r\n     }\r\n\r\nto\r\n\r\n     while (true) {\r\n         String l = br.readLine();\r\n         if (l == null) // EOF\r\n             break;\r\n         sb.append(l+&quot;\\n&quot;);\r\n     }\r\n\r\nDo the same for the error stream.\r\n\r\nAlso to make `su` terminate change:\r\n\r\n    process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n\r\nto:\r\n\r\n    process.getOutputStream().write((command + &quot;\\nexit\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n\r\nHaven&#39;t tested it. Hope it works.","title":"android coding java excute su command android not work","body":"<p>You are using <code>ready()</code> incorrectly. Look up the docs to see why. Change:</p>\n<pre><code> while (br.ready()) {\n     sb.append(br.readLine()+&quot;\\n&quot;);\n }\n</code></pre>\n<p>to</p>\n<pre><code> while (true) {\n     String l = br.readLine();\n     if (l == null) // EOF\n         break;\n     sb.append(l+&quot;\\n&quot;);\n }\n</code></pre>\n<p>Do the same for the error stream.</p>\n<p>Also to make <code>su</code> terminate change:</p>\n<pre><code>process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n</code></pre>\n<p>to:</p>\n<pre><code>process.getOutputStream().write((command + &quot;\\nexit\\n&quot;).getBytes(&quot;ASCII&quot;));\n</code></pre>\n<p>Haven't tested it. Hope it works.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268231,"post_id":77427379,"comment_id":136505803,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77427379/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29657527,"reputation":11,"user_id":22729950,"display_name":"Defi Nghĩa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699213026,"creation_date":1699213026,"answer_id":77427379,"question_id":77426267,"body_markdown":"edit targetSdk 29 in build.gradle file will solve problem","title":"android coding java excute su command android not work","body":"<p>edit targetSdk 29 in build.gradle file will solve problem</p>\n"}],"owner":{"account_id":29657527,"reputation":11,"user_id":22729950,"display_name":"Defi Nghĩa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699213026,"creation_date":1699193869,"question_id":77426267,"body_markdown":"i have a device rooted by magisk. i want to make an app to excute &quot;su ls data/data&quot;. But when i run app it only returned two packages eg: com.google.android.gms, com.nghiatd.nghiaclicker( this is package name of my app). But when i excute that command on terminal emulator app it returned full package name of apps in data/data folder. i have added read,write,ACCESS_SUPERUSER permission in manifest. magisk granted permission.i have tested on android 10. that funtion returned full package name of all apps. anyone know why android 12 does not return full ? This is funtion: \r\n \r\n`\r\n```\r\n\r\n    enter code here\r\n\r\npublic static String executeCommandSU( String command)\r\n    {\r\n            try {\r\n                Process process = new ProcessBuilder().command(&quot;su&quot;).start();\r\n                process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n                //process.getOutputStream().write((&quot;ls data&quot; + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n                process.getOutputStream().flush();\r\n                SystemClock.sleep(3000);\r\n                StringBuffer sb = new StringBuffer();\r\n                BufferedReader bre = new BufferedReader(\r\n                        new InputStreamReader(process.getErrorStream()));\r\n                while (bre.ready()) {\r\n                    sb.append(bre.readLine());\r\n                }\r\n                String s = sb.toString();\r\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\r\n                    Log.e(&quot;SystemHelper&quot;, &quot;Error with command: &quot; + s);\r\n                    return s;\r\n                }\r\n                sb = new StringBuffer();\r\n                BufferedReader br = new BufferedReader(\r\n                        new InputStreamReader(process.getInputStream()));\r\n                while (br.ready()) {\r\n                    sb.append(br.readLine()+&quot;\\n&quot;);\r\n                }\r\n                s = sb.toString();\r\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\r\n                    Log.e(&quot;`SystemHelper`&quot;, &quot;Output from command: &quot; + s);\r\n                    return s;\r\n                }\r\n                return s;\r\n            } catch (IOException e) {\r\n                 Log.e(&quot;SystemHelper&quot;, &quot;Error executing: &quot; + command, e);\r\n            }\r\n        return &quot;&quot;;\r\n    }`\r\n```\r\n`\r\n\r\n      @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        requestPermission();\r\n        //String s=executeCommand(new String[]{&quot;su&quot;,&quot;-c&quot;,&quot;ls data/data&quot;});\r\n        String s=executeCommandSU(&quot;ls data/data&quot;);\r\n        Log.i(&quot;vvvvv&quot;,s);\r\n        Toast.makeText(getApplicationContext(),&quot;aaaaaaa: &quot;,Toast.LENGTH_LONG).show();\r\n    }\r\n","title":"android coding java excute su command android not work","body":"<p>i have a device rooted by magisk. i want to make an app to excute &quot;su ls data/data&quot;. But when i run app it only returned two packages eg: com.google.android.gms, com.nghiatd.nghiaclicker( this is package name of my app). But when i excute that command on terminal emulator app it returned full package name of apps in data/data folder. i have added read,write,ACCESS_SUPERUSER permission in manifest. magisk granted permission.i have tested on android 10. that funtion returned full package name of all apps. anyone know why android 12 does not return full ? This is funtion:</p>\n<p>`</p>\n<pre><code>\n    enter code here\n\npublic static String executeCommandSU( String command)\n    {\n            try {\n                Process process = new ProcessBuilder().command(&quot;su&quot;).start();\n                process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n                //process.getOutputStream().write((&quot;ls data&quot; + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n                process.getOutputStream().flush();\n                SystemClock.sleep(3000);\n                StringBuffer sb = new StringBuffer();\n                BufferedReader bre = new BufferedReader(\n                        new InputStreamReader(process.getErrorStream()));\n                while (bre.ready()) {\n                    sb.append(bre.readLine());\n                }\n                String s = sb.toString();\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\n                    Log.e(&quot;SystemHelper&quot;, &quot;Error with command: &quot; + s);\n                    return s;\n                }\n                sb = new StringBuffer();\n                BufferedReader br = new BufferedReader(\n                        new InputStreamReader(process.getInputStream()));\n                while (br.ready()) {\n                    sb.append(br.readLine()+&quot;\\n&quot;);\n                }\n                s = sb.toString();\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\n                    Log.e(&quot;`SystemHelper`&quot;, &quot;Output from command: &quot; + s);\n                    return s;\n                }\n                return s;\n            } catch (IOException e) {\n                 Log.e(&quot;SystemHelper&quot;, &quot;Error executing: &quot; + command, e);\n            }\n        return &quot;&quot;;\n    }`\n</code></pre>\n<p>`</p>\n<pre><code>  @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    requestPermission();\n    //String s=executeCommand(new String[]{&quot;su&quot;,&quot;-c&quot;,&quot;ls data/data&quot;});\n    String s=executeCommandSU(&quot;ls data/data&quot;);\n    Log.i(&quot;vvvvv&quot;,s);\n    Toast.makeText(getApplicationContext(),&quot;aaaaaaa: &quot;,Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"},{"tags":["java","jvm","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699212353,"creation_date":1699210987,"answer_id":77427280,"question_id":77426977,"body_markdown":"&gt; Can native methods be interpreted, and not compiled (from the java perspective)?\r\n\r\nYes, see e.g. here where the interpreter stub is being generated (in `TemplateInterpreterGenerator::generate_native_entry`): https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793\r\n\r\nThe main difference between the compiled and interpreted stub, is that the interpreter stub handles _all_ interpreted native calls (well, there are 2 stubs: one for `synchronized` methods, and one for regular methods), while the compiled wrapper is specialized for just one method.\r\n\r\nFor the interpreter stub, different parameter and return types are handled with an out-of-line call to a &#39;signature handler&#39; and &#39;result handler&#39;.","title":"Are native methods (JNI) always compiled?","body":"<blockquote>\n<p>Can native methods be interpreted, and not compiled (from the java perspective)?</p>\n</blockquote>\n<p>Yes, see e.g. here where the interpreter stub is being generated (in <code>TemplateInterpreterGenerator::generate_native_entry</code>): <a href=\"https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793</a></p>\n<p>The main difference between the compiled and interpreted stub, is that the interpreter stub handles <em>all</em> interpreted native calls (well, there are 2 stubs: one for <code>synchronized</code> methods, and one for regular methods), while the compiled wrapper is specialized for just one method.</p>\n<p>For the interpreter stub, different parameter and return types are handled with an out-of-line call to a 'signature handler' and 'result handler'.</p>\n"}],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77427280,"answer_count":1,"score":1,"last_activity_date":1699212353,"creation_date":1699205536,"question_id":77426977,"body_markdown":"I noticed [here][1] that when `native` methods are called, a wrapper is generated. However, it appears that this wrapper is only generated when the method is compiled. So, my question is:\r\nCan `native` methods be interpreted, and not compiled (**from the java perspective**)?\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/sharedRuntime.cpp#L3031","title":"Are native methods (JNI) always compiled?","body":"<p>I noticed <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/sharedRuntime.cpp#L3031\" rel=\"nofollow noreferrer\">here</a> that when <code>native</code> methods are called, a wrapper is generated. However, it appears that this wrapper is only generated when the method is compiled. So, my question is:\nCan <code>native</code> methods be interpreted, and not compiled (<strong>from the java perspective</strong>)?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":13,"creation_date":1357990112,"post_id":14292863,"comment_id":19850046,"body_markdown":"Mockito does not allow it, however PowerMock does.","body":"Mockito does not allow it, however PowerMock does."},{"owner":{"account_id":1729972,"reputation":1689,"user_id":1583763,"accept_rate":89,"display_name":"Kent"},"score":3,"creation_date":1521762849,"post_id":14292863,"comment_id":85882582,"body_markdown":"As of Mockito 2.x, Mockito now supports mocking of final classes and methods.","body":"As of Mockito 2.x, Mockito now supports mocking of final classes and methods."},{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":0,"creation_date":1532511700,"post_id":14292863,"comment_id":89999758,"body_markdown":"Possible duplicate of [Mock final class with Mockito 2](https://stackoverflow.com/questions/40979402/mock-final-class-with-mockito-2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/40979402/mock-final-class-with-mockito-2\">Mock final class with Mockito 2</a>"}],"answers":[{"comments":[{"owner":{"account_id":1182909,"reputation":379,"user_id":1157440,"display_name":"micseydel"},"score":3,"creation_date":1571764301,"post_id":14292888,"comment_id":103346314,"body_markdown":"This didn&#39;t work for me in Scala (with sbt modifications).","body":"This didn&#39;t work for me in Scala (with sbt modifications)."},{"owner":{"account_id":1182909,"reputation":379,"user_id":1157440,"display_name":"micseydel"},"score":18,"creation_date":1571764623,"post_id":14292888,"comment_id":103346467,"body_markdown":"This wasn&#39;t enough for me. I also had to create src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker with &quot;mock-maker-inline&quot; in it as per https://www.baeldung.com/mockito-final","body":"This wasn&#39;t enough for me. I also had to create src/test/resources/mockito-extensions/org.mockito.plugins.Mo&zwnj;&#8203;ckMaker with &quot;mock-maker-inline&quot; in it as per <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">baeldung.com/mockito-final</a>"},{"owner":{"account_id":5805882,"reputation":329,"user_id":4578512,"accept_rate":75,"display_name":"Hiro"},"score":1,"creation_date":1619111972,"post_id":14292888,"comment_id":118812712,"body_markdown":"Mockito guide suggests to &quot;replace&quot;, instead of &quot;add&quot;, `mockito-inline` with `mockito-core`. https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#Mocking_Final","body":"Mockito guide suggests to &quot;replace&quot;, instead of &quot;add&quot;, <code>mockito-inline</code> with <code>mockito-core</code>. <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#Mocking_Final\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":1516122,"reputation":126,"user_id":1417088,"display_name":"kajk"},"score":1,"creation_date":1626963166,"post_id":14292888,"comment_id":121036301,"body_markdown":"With newer versions of mockito (3+?) there is no need for this additional dependency of `mockito-inline`. Just the &quot;org.mockito.plugins.MockMaker&quot; file from answer https://stackoverflow.com/a/40018295/1417088 is needed.","body":"With newer versions of mockito (3+?) there is no need for this additional dependency of <code>mockito-inline</code>. Just the &quot;org.mockito.plugins.MockMaker&quot; file from answer <a href=\"https://stackoverflow.com/a/40018295/1417088\">stackoverflow.com/a/40018295/1417088</a> is needed."},{"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"score":0,"creation_date":1677287257,"post_id":14292888,"comment_id":133314274,"body_markdown":"I only needed to replace `mockito-core:3.12.4` with `mockito-inline:3.12.4`. No fiddling with `MockMaker`. Maybe different versions have different idiosyncrasies.","body":"I only needed to replace <code>mockito-core:3.12.4</code> with <code>mockito-inline:3.12.4</code>. No fiddling with <code>MockMaker</code>. Maybe different versions have different idiosyncrasies."},{"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"score":0,"creation_date":1697755200,"post_id":14292888,"comment_id":136323157,"body_markdown":"I&#39;m using 5.3.1, which I read online is supposed to support mocking final class by default. ... but I get runtime error: &quot;Mockito cannot mock/spy because : - final class&quot;","body":"I&#39;m using 5.3.1, which I read online is supposed to support mocking final class by default. ... but I get runtime error: &quot;Mockito cannot mock/spy because : - final class&quot;"}],"tags":[],"owner":{"display_name":"user180100"},"comment_count":6,"down_vote_count":1,"up_vote_count":304,"is_accepted":true,"score":303,"last_activity_date":1551877134,"creation_date":1357989974,"answer_id":14292888,"question_id":14292863,"body_markdown":"[Mocking final/static classes/methods is possible with Mockito v2 only.](https://stackoverflow.com/a/40018295/208809)\r\n\r\nadd this in your gradle file:\r\n\r\n    testImplementation &#39;org.mockito:mockito-inline:2.13.0&#39;\r\n\r\n\r\nThis is not possible with Mockito v1, from the [Mockito FAQ][1]:\r\n\r\n&gt;What are the limitations of Mockito\r\n&gt;\r\n&gt; - Needs java 1.5+\r\n&gt;\r\n&gt; - Cannot mock final classes\r\n&gt;\r\n&gt; ...\r\n\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito","title":"How to mock a final class with mockito","body":"<p><a href=\"https://stackoverflow.com/a/40018295/208809\">Mocking final/static classes/methods is possible with Mockito v2 only.</a></p>\n\n<p>add this in your gradle file:</p>\n\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.13.0'\n</code></pre>\n\n<p>This is not possible with Mockito v1, from the <a href=\"https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito\" rel=\"noreferrer\">Mockito FAQ</a>:</p>\n\n<blockquote>\n  <p>What are the limitations of Mockito</p>\n  \n  <ul>\n  <li><p>Needs java 1.5+</p></li>\n  <li><p>Cannot mock final classes</p></li>\n  </ul>\n  \n  <p>...</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":7,"creation_date":1404072492,"post_id":14292975,"comment_id":37890688,"body_markdown":"+1. If desired, you can use something like Lombok&#39;s `@Delegate` to handle a lot of the boilerplate.","body":"+1. If desired, you can use something like Lombok&#39;s <code>@Delegate</code> to handle a lot of the boilerplate."},{"owner":{"account_id":2096654,"reputation":351,"user_id":3036311,"accept_rate":33,"display_name":"Incredible"},"score":2,"creation_date":1468417540,"post_id":14292975,"comment_id":64119282,"body_markdown":"@luigi can you add code snippet for Junit as an Example. I tried to create Wrapper for my final class, but couldn&#39;t fiugre out, how to test it.","body":"@luigi can you add code snippet for Junit as an Example. I tried to create Wrapper for my final class, but couldn&#39;t fiugre out, how to test it."}],"tags":[],"owner":{"account_id":94649,"reputation":8697,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"comment_count":2,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1357991134,"creation_date":1357990795,"answer_id":14292975,"question_id":14292863,"body_markdown":"You cannot mock a final class with Mockito, as you can&#39;t do it by yourself.\r\n\r\nWhat I do, is to create a non-final class to wrap the final class and use as delegate. An example of this is [`TwitterFactory`][1] class, and this is my mockable class:\r\n\r\n\r\n    public class TwitterFactory {\r\n\r\n        private final twitter4j.TwitterFactory factory;\r\n\r\n        public TwitterFactory() {\r\n            factory = new twitter4j.TwitterFactory();\r\n        }\r\n\r\n        public Twitter getInstance(User user) {\r\n            return factory.getInstance(accessToken(user));\r\n        }\r\n \r\n        private AccessToken accessToken(User user) {\r\n            return new AccessToken(user.getAccessToken(), user.getAccessTokenSecret());\r\n        }\r\n\r\n        public Twitter getInstance() {\r\n            return factory.getInstance();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://twitter4j.org/javadoc/twitter4j/TwitterFactory.html\r\n\r\nThe disadvantage is that there is a lot of boilerplate code; the advantage is that you can add some methods that may relate to your application business (like the getInstance that is taking a user instead of an accessToken, in the above case).\r\n\r\nIn your case I would create a non-final `RainOnTrees` class that delegate to the final class. Or, if you can make it non-final, it would be better.","title":"How to mock a final class with mockito","body":"<p>You cannot mock a final class with Mockito, as you can't do it by yourself.</p>\n\n<p>What I do, is to create a non-final class to wrap the final class and use as delegate. An example of this is <a href=\"http://twitter4j.org/javadoc/twitter4j/TwitterFactory.html\" rel=\"noreferrer\"><code>TwitterFactory</code></a> class, and this is my mockable class:</p>\n\n<pre><code>public class TwitterFactory {\n\n    private final twitter4j.TwitterFactory factory;\n\n    public TwitterFactory() {\n        factory = new twitter4j.TwitterFactory();\n    }\n\n    public Twitter getInstance(User user) {\n        return factory.getInstance(accessToken(user));\n    }\n\n    private AccessToken accessToken(User user) {\n        return new AccessToken(user.getAccessToken(), user.getAccessTokenSecret());\n    }\n\n    public Twitter getInstance() {\n        return factory.getInstance();\n    }\n}\n</code></pre>\n\n<p>The disadvantage is that there is a lot of boilerplate code; the advantage is that you can add some methods that may relate to your application business (like the getInstance that is taking a user instead of an accessToken, in the above case).</p>\n\n<p>In your case I would create a non-final <code>RainOnTrees</code> class that delegate to the final class. Or, if you can make it non-final, it would be better.</p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":37,"creation_date":1466076286,"post_id":14307615,"comment_id":63173013,"body_markdown":"I think PowerMock is like one of those pieces of medicine that should only go out on &quot;prescription&quot; base. In the sense of: one should make it very clear that PowerMock has **a lot** of problems; and that using it is like the ultimate last resort; and should be avoided as much as possible.","body":"I think PowerMock is like one of those pieces of medicine that should only go out on &quot;prescription&quot; base. In the sense of: one should make it very clear that PowerMock has <b>a lot</b> of problems; and that using it is like the ultimate last resort; and should be avoided as much as possible."},{"owner":{"account_id":2517927,"reputation":1079,"user_id":2188893,"accept_rate":75,"display_name":"PragmaticProgrammer"},"score":1,"creation_date":1562347944,"post_id":14307615,"comment_id":100359064,"body_markdown":"why do you say that?","body":"why do you say that?"},{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1576587458,"post_id":14307615,"comment_id":104941804,"body_markdown":"I was using `Powermock` for mocking final classes and static methods to increase my coverage that was officially checked on `Sonarqube`. Coverage was 0% since SonarQube , for what ever reason does not recognize classes that use Powermock anywhere inside it. I took me and my team quite some time to realize it from some thread online. So that is just one of the reasons to be careful with Powermock and probably don&#39;t use it.","body":"I was using <code>Powermock</code> for mocking final classes and static methods to increase my coverage that was officially checked on <code>Sonarqube</code>. Coverage was 0% since SonarQube , for what ever reason does not recognize classes that use Powermock anywhere inside it. I took me and my team quite some time to realize it from some thread online. So that is just one of the reasons to be careful with Powermock and probably don&#39;t use it."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":2,"creation_date":1643641238,"post_id":14307615,"comment_id":125387349,"body_markdown":"Now you can get done everything using the Mockito and no need to use the Power mock to the dependency.","body":"Now you can get done everything using the Mockito and no need to use the Power mock to the dependency."}],"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":4,"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1459242516,"creation_date":1358107636,"answer_id":14307615,"question_id":14292863,"body_markdown":"Use Powermock. This link shows, how to do it: https://github.com/jayway/powermock/wiki/MockFinal","title":"How to mock a final class with mockito","body":"<p>Use Powermock. This link shows, how to do it: <a href=\"https://github.com/jayway/powermock/wiki/MockFinal\">https://github.com/jayway/powermock/wiki/MockFinal</a></p>\n"},{"comments":[{"owner":{"account_id":59411,"reputation":429,"user_id":177769,"accept_rate":50,"display_name":"StripLight"},"score":4,"creation_date":1389949702,"post_id":20493419,"comment_id":31890327,"body_markdown":"Absolutely, why mock a simple class? Mocking is for &#39;expensive&#39; interactions: other services, engines, data classes etc.","body":"Absolutely, why mock a simple class? Mocking is for &#39;expensive&#39; interactions: other services, engines, data classes etc."},{"owner":{"account_id":3001464,"reputation":134,"user_id":2546891,"accept_rate":57,"display_name":"riroo"},"score":7,"creation_date":1463066984,"post_id":20493419,"comment_id":61915260,"body_markdown":"If you create an instance of that, you cannot apply the Mockito.verify methods on it afterwards. The main use of mocks is to be able to test some of its methods.","body":"If you create an instance of that, you cannot apply the Mockito.verify methods on it afterwards. The main use of mocks is to be able to test some of its methods."}],"tags":[],"owner":{"account_id":2201069,"reputation":304,"user_id":1945457,"display_name":"user1945457"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1386675322,"creation_date":1386675322,"answer_id":20493419,"question_id":14292863,"body_markdown":"I had the same problem. Since the class I was trying to mock was a simple class, I simply created an instance of it and returned that.","title":"How to mock a final class with mockito","body":"<p>I had the same problem. Since the class I was trying to mock was a simple class, I simply created an instance of it and returned that.</p>\n"},{"tags":[],"owner":{"account_id":3409182,"reputation":364,"user_id":2859563,"display_name":"BJYC"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466200137,"creation_date":1405653559,"answer_id":24816719,"question_id":14292863,"body_markdown":"Yes same problem here, we cannot mock a final class with Mockito. To be accurate, Mockito cannot mock/spy following:\r\n\r\n  - final classes\r\n  - anonymous classes\r\n  - primitive types\r\n\r\nBut using a wrapper class seems to me a big price to pay, so get PowerMockito instead.\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Yes same problem here, we cannot mock a final class with Mockito. To be accurate, Mockito cannot mock/spy following:</p>\n\n<ul>\n<li>final classes</li>\n<li>anonymous classes</li>\n<li>primitive types</li>\n</ul>\n\n<p>But using a wrapper class seems to me a big price to pay, so get PowerMockito instead.</p>\n"},{"tags":[],"owner":{"account_id":314537,"reputation":1467,"user_id":629762,"accept_rate":80,"display_name":"Marcin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414788401,"creation_date":1414788401,"answer_id":26683152,"question_id":14292863,"body_markdown":"Please look at [JMockit][1]. It has extensive documentation with a lot of examples. Here you have an example solution of your problem (to simplify I&#39;ve added constructor to `Seasons` to inject mocked `RainOnTrees` instance):\r\n   \r\n\r\n    package jmockitexample;\r\n    \r\n    import mockit.Mocked;\r\n    import mockit.Verifications;\r\n    import mockit.integration.junit4.JMockit;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(JMockit.class)\r\n    public class SeasonsTest {\r\n    \r\n        @Test\r\n        public void shouldStartRain(@Mocked final RainOnTrees rain) {\r\n            Seasons seasons = new Seasons(rain);\r\n    \r\n            seasons.findSeasonAndRain();\r\n    \r\n            new Verifications() {{\r\n                rain.startRain();\r\n            }};\r\n        }\r\n    \r\n        public final class RainOnTrees {\r\n            public void startRain() {\r\n                // some code here\r\n            }\r\n    \r\n        }\r\n    \r\n        public class Seasons {\r\n    \r\n            private final RainOnTrees rain;\r\n    \r\n            public Seasons(RainOnTrees rain) {\r\n                this.rain = rain;\r\n            }\r\n    \r\n            public void findSeasonAndRain() {\r\n                rain.startRain();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://jmockit.github.io/\r\n","title":"How to mock a final class with mockito","body":"<p>Please look at <a href=\"http://jmockit.github.io/\" rel=\"nofollow\">JMockit</a>. It has extensive documentation with a lot of examples. Here you have an example solution of your problem (to simplify I've added constructor to <code>Seasons</code> to inject mocked <code>RainOnTrees</code> instance):</p>\n\n<pre><code>package jmockitexample;\n\nimport mockit.Mocked;\nimport mockit.Verifications;\nimport mockit.integration.junit4.JMockit;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\n@RunWith(JMockit.class)\npublic class SeasonsTest {\n\n    @Test\n    public void shouldStartRain(@Mocked final RainOnTrees rain) {\n        Seasons seasons = new Seasons(rain);\n\n        seasons.findSeasonAndRain();\n\n        new Verifications() {{\n            rain.startRain();\n        }};\n    }\n\n    public final class RainOnTrees {\n        public void startRain() {\n            // some code here\n        }\n\n    }\n\n    public class Seasons {\n\n        private final RainOnTrees rain;\n\n        public Seasons(RainOnTrees rain) {\n            this.rain = rain;\n        }\n\n        public void findSeasonAndRain() {\n            rain.startRain();\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17795,"reputation":24571,"user_id":40214,"accept_rate":79,"display_name":"Dennis C"},"score":3,"creation_date":1422525871,"post_id":27039427,"comment_id":44787769,"body_markdown":"It should be noticed that delegates is very different from native spy mocking.\n\nIn a native mockito spy, &quot;this&quot; in the instance reference to the spy itself (because is use subclass)\n\nHowever, in delegate, &quot;this&quot; will be the real object someInstanceThatIsNotMockableOrSpyable. Not the spy. \n\nThus, there is no way to doReturn/verify for self-calling functions.","body":"It should be noticed that delegates is very different from native spy mocking.  In a native mockito spy, &quot;this&quot; in the instance reference to the spy itself (because is use subclass)  However, in delegate, &quot;this&quot; will be the real object someInstanceThatIsNotMockableOrSpyable. Not the spy.   Thus, there is no way to doReturn/verify for self-calling functions."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1568292248,"post_id":27039427,"comment_id":102233891,"body_markdown":"can you put up a example?","body":"can you put up a example?"}],"tags":[],"owner":{"account_id":1296380,"reputation":2059,"user_id":1247323,"accept_rate":76,"display_name":"sakis kaliakoudas"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1416485854,"creation_date":1416485854,"answer_id":27039427,"question_id":14292863,"body_markdown":"Give this a try:\r\n\r\n    Mockito.mock(SomeMockableType.class,AdditionalAnswers.delegatesTo(someInstanceThatIsNotMockableOrSpyable));\r\n\r\nIt worked for me. &quot;SomeMockableType.class&quot; is the parent class of what you want to mock or spy, and someInstanceThatIsNotMockableOrSpyable is the actual class that you want to mock or spy.\r\n\r\nFor more details have a look [here][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/mockito/issues/detail?id=145","title":"How to mock a final class with mockito","body":"<p>Give this a try:</p>\n\n<pre><code>Mockito.mock(SomeMockableType.class,AdditionalAnswers.delegatesTo(someInstanceThatIsNotMockableOrSpyable));\n</code></pre>\n\n<p>It worked for me. \"SomeMockableType.class\" is the parent class of what you want to mock or spy, and someInstanceThatIsNotMockableOrSpyable is the actual class that you want to mock or spy.</p>\n\n<p>For more details have a look <a href=\"http://code.google.com/p/mockito/issues/detail?id=145\">here</a></p>\n"},{"tags":[],"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422891999,"creation_date":1422891999,"answer_id":28281419,"question_id":14292863,"body_markdown":"Another workaround, which may apply in some cases, is to create an interface that is implemented by that final class, change the code to use the interface instead of the concrete class and then mock the interface. This lets you separate the contract (interface) from the implementation (final class). Of course, if what you want is really to bind to the final class, this will not apply.","title":"How to mock a final class with mockito","body":"<p>Another workaround, which may apply in some cases, is to create an interface that is implemented by that final class, change the code to use the interface instead of the concrete class and then mock the interface. This lets you separate the contract (interface) from the implementation (final class). Of course, if what you want is really to bind to the final class, this will not apply.</p>\n"},{"tags":[],"owner":{"account_id":1084850,"reputation":2100,"user_id":1080793,"accept_rate":69,"display_name":"Neel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449612271,"creation_date":1449611971,"answer_id":34166839,"question_id":14292863,"body_markdown":"Solutions provided by RC and Luigi R. Viggiano together is possibly the best idea.\r\n\r\nAlthough Mockito **cannot**, by design, mock final classes, the delegation approach **is possible**. This has its advantages:\r\n\r\n 1. You are not forced to change your class to non-final if that is what your API intends in the first place (final classes have their [benefits][1]).\r\n 2. You are testing the possibility of a [decoration][2] around your API.\r\n\r\nIn your test case, you deliberately forward the calls to the system under test. Hence, by design, your decoration does *not* do anything.\r\n\r\nHence you test can also demonstrate that the user can only decorate the API instead of extending it.\r\n\r\nOn a more subjective note:\r\nI prefer keeping the frameworks to a minimum, which is why JUnit and Mockito are usually sufficient for me. In fact, restricting this way sometimes forces me to refactor for good as well.\r\n\r\n  [1]: https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA87&amp;lpg=PA87&amp;dq=bloch%20effective%20java%20item%2017&amp;source=bl&amp;ots=yZGoOfo2VY&amp;sig=ke5qo7Dw9IkMLKq0dyTIfbTuzyk&amp;hl=en&amp;sa=X&amp;sqi=2&amp;ved=0ahUKEwj_-Kn_n83JAhWJGY4KHc-HB2UQ6AEIMjAD#v=onepage&amp;q=bloch%20effective%20java%20item%2017&amp;f=false\r\n  [2]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"How to mock a final class with mockito","body":"<p>Solutions provided by RC and Luigi R. Viggiano together is possibly the best idea.</p>\n\n<p>Although Mockito <strong>cannot</strong>, by design, mock final classes, the delegation approach <strong>is possible</strong>. This has its advantages:</p>\n\n<ol>\n<li>You are not forced to change your class to non-final if that is what your API intends in the first place (final classes have their <a href=\"https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA87&amp;lpg=PA87&amp;dq=bloch%20effective%20java%20item%2017&amp;source=bl&amp;ots=yZGoOfo2VY&amp;sig=ke5qo7Dw9IkMLKq0dyTIfbTuzyk&amp;hl=en&amp;sa=X&amp;sqi=2&amp;ved=0ahUKEwj_-Kn_n83JAhWJGY4KHc-HB2UQ6AEIMjAD#v=onepage&amp;q=bloch%20effective%20java%20item%2017&amp;f=false\" rel=\"nofollow\">benefits</a>).</li>\n<li>You are testing the possibility of a <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow\">decoration</a> around your API.</li>\n</ol>\n\n<p>In your test case, you deliberately forward the calls to the system under test. Hence, by design, your decoration does <em>not</em> do anything.</p>\n\n<p>Hence you test can also demonstrate that the user can only decorate the API instead of extending it.</p>\n\n<p>On a more subjective note:\nI prefer keeping the frameworks to a minimum, which is why JUnit and Mockito are usually sufficient for me. In fact, restricting this way sometimes forces me to refactor for good as well.</p>\n"},{"comments":[{"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"score":0,"creation_date":1542972285,"post_id":36998521,"comment_id":93764340,"body_markdown":"this is not answering the question asked","body":"this is not answering the question asked"}],"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1531280839,"creation_date":1462261761,"answer_id":36998521,"question_id":14292863,"body_markdown":"Didn&#39;t try final, but for private, using reflection remove the modifier worked ! have checked further, it doesn&#39;t work for final.","title":"How to mock a final class with mockito","body":"<p>Didn't try final, but for private, using reflection remove the modifier worked ! have checked further, it doesn't work for final.</p>\n"},{"comments":[{"owner":{"account_id":1360570,"reputation":5882,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"score":1,"creation_date":1548258612,"post_id":38384788,"comment_id":95479845,"body_markdown":"this does not work for final methods which with mockito 2 can also be mocked.","body":"this does not work for final methods which with mockito 2 can also be mocked."},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1698508766,"post_id":38384788,"comment_id":136416062,"body_markdown":"@ŁukaszRzeszotarski, the answerer (Flavio) says you don&#39;t have to mark a method final. The alternative is to make the constructor private making the extension impossible","body":"@ŁukaszRzeszotarski, the answerer (Flavio) says you don&#39;t have to mark a method final. The alternative is to make the constructor private making the extension impossible"}],"tags":[],"owner":{"account_id":292867,"reputation":6585,"user_id":595881,"accept_rate":85,"display_name":"Fl&#225;vio Faria"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1468583762,"creation_date":1468532846,"answer_id":38384788,"question_id":14292863,"body_markdown":"I guess you made it `final` because you want to prevent other classes from extending `RainOnTrees`. As [Effective Java][1] suggests (item 15), there&#39;s another way to keep a class close for extension without making it `final`:\r\n\r\n1. Remove the `final` keyword;\r\n\r\n2. Make its constructor `private`. No class will be able to extend it because it won&#39;t be able to call the `super` constructor;\r\n\r\n3. Create a static factory method to instantiate your class.\r\n    \r\n        // No more final keyword here.\r\n        public class RainOnTrees {\r\n    \r\n            public static RainOnTrees newInstance() {\r\n                return new RainOnTrees();\r\n            }\r\n    \r\n    \r\n            private RainOnTrees() {\r\n                // Private constructor.\r\n            }\r\n    \r\n            public void startRain() {\r\n    \r\n                // some code here\r\n            }\r\n        }\r\n\r\n\r\nBy using this strategy, you&#39;ll be able to use Mockito and keep your class closed for extension with little boilerplate code.\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"How to mock a final class with mockito","body":"<p>I guess you made it <code>final</code> because you want to prevent other classes from extending <code>RainOnTrees</code>. As <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> suggests (item 15), there's another way to keep a class close for extension without making it <code>final</code>:</p>\n\n<ol>\n<li><p>Remove the <code>final</code> keyword;</p></li>\n<li><p>Make its constructor <code>private</code>. No class will be able to extend it because it won't be able to call the <code>super</code> constructor;</p></li>\n<li><p>Create a static factory method to instantiate your class.</p>\n\n<pre><code>// No more final keyword here.\npublic class RainOnTrees {\n\n    public static RainOnTrees newInstance() {\n        return new RainOnTrees();\n    }\n\n\n    private RainOnTrees() {\n        // Private constructor.\n    }\n\n    public void startRain() {\n\n        // some code here\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>By using this strategy, you'll be able to use Mockito and keep your class closed for extension with little boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560054576,"creation_date":1472054784,"answer_id":39128168,"question_id":14292863,"body_markdown":"Actually there is one way, which I use for spying. It would work for you only if two preconditions are satisfied:\r\n\r\n 1. You use some kind of DI to inject an instance of final class\r\n 2. Final class implements an interface\r\n\r\nPlease recall Item 16 from [Effective Java][1]. You may create a wrapper (not final) and forward all call to the instance of final class:\r\n\r\n    public final class RainOnTrees implement IRainOnTrees {\r\n        @Override public void startRain() { // some code here }\r\n    }\r\n\r\n    public class RainOnTreesWrapper implement IRainOnTrees {\r\n        private IRainOnTrees delegate;\r\n        public RainOnTreesWrapper(IRainOnTrees delegate) {this.delegate = delegate;}\r\n        @Override public void startRain() { delegate.startRain(); }\r\n    }\r\n\r\nNow not only can you mock your final class but also spy on it:\r\n\r\n    public class Seasons{\r\n        RainOnTrees rain;\r\n        public Seasons(IRainOnTrees rain) { this.rain = rain; };\r\n        public void findSeasonAndRain(){\r\n            rain.startRain();\r\n       }\r\n    }\r\n\r\n    IRainOnTrees rain = spy(new RainOnTreesWrapper(new RainOnTrees()) // or mock(IRainOnTrees.class)\r\n    doNothing().when(rain).startRain();\r\n    new Seasons(rain).findSeasonAndRain();\r\n\r\n\r\n  [1]: https://rads.stackoverflow.com/amzn/click/0321356683","title":"How to mock a final class with mockito","body":"<p>Actually there is one way, which I use for spying. It would work for you only if two preconditions are satisfied:</p>\n\n<ol>\n<li>You use some kind of DI to inject an instance of final class</li>\n<li>Final class implements an interface</li>\n</ol>\n\n<p>Please recall Item 16 from <a href=\"https://rads.stackoverflow.com/amzn/click/0321356683\" rel=\"nofollow noreferrer\">Effective Java</a>. You may create a wrapper (not final) and forward all call to the instance of final class:</p>\n\n<pre><code>public final class RainOnTrees implement IRainOnTrees {\n    @Override public void startRain() { // some code here }\n}\n\npublic class RainOnTreesWrapper implement IRainOnTrees {\n    private IRainOnTrees delegate;\n    public RainOnTreesWrapper(IRainOnTrees delegate) {this.delegate = delegate;}\n    @Override public void startRain() { delegate.startRain(); }\n}\n</code></pre>\n\n<p>Now not only can you mock your final class but also spy on it:</p>\n\n<pre><code>public class Seasons{\n    RainOnTrees rain;\n    public Seasons(IRainOnTrees rain) { this.rain = rain; };\n    public void findSeasonAndRain(){\n        rain.startRain();\n   }\n}\n\nIRainOnTrees rain = spy(new RainOnTreesWrapper(new RainOnTrees()) // or mock(IRainOnTrees.class)\ndoNothing().when(rain).startRain();\nnew Seasons(rain).findSeasonAndRain();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":40,"creation_date":1489075602,"post_id":40018295,"comment_id":72522030,"body_markdown":"I still get an error: **Cannot mock/spy class android.content.ComponentName\nMockito cannot mock/spy because :\n- final class**","body":"I still get an error: <b>Cannot mock/spy class android.content.ComponentName Mockito cannot mock/spy because : - final class</b>"},{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":6,"creation_date":1489138889,"post_id":40018295,"comment_id":72550415,"body_markdown":"Make sure you put the `org.mockito.plugins.MockMaker` file in the correct folder.","body":"Make sure you put the <code>org.mockito.plugins.MockMaker</code> file in the correct folder."},{"owner":{"account_id":5304295,"reputation":4262,"user_id":4232805,"accept_rate":17,"display_name":"rcde0"},"score":9,"creation_date":1490348023,"post_id":40018295,"comment_id":73081800,"body_markdown":"I also am getting the error even after following the above mentioned: Mockito cannot mock/spy because : - final class","body":"I also am getting the error even after following the above mentioned: Mockito cannot mock/spy because : - final class"},{"owner":{"account_id":8958729,"reputation":129,"user_id":6682169,"display_name":"Nam Vo"},"score":0,"creation_date":1492502055,"post_id":40018295,"comment_id":73988350,"body_markdown":"User `org.mockito:mockito-core` instead `org.mockito:mockito-android` to fix the error @rcde0","body":"User <code>org.mockito:mockito-core</code> instead <code>org.mockito:mockito-android</code> to fix the error @rcde0"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":10,"creation_date":1507116505,"post_id":40018295,"comment_id":80080767,"body_markdown":"@vCillusion this answer isn&#39;t related to PowerMock in any way.","body":"@vCillusion this answer isn&#39;t related to PowerMock in any way."},{"owner":{"account_id":2827636,"reputation":2721,"user_id":2429928,"accept_rate":50,"display_name":"Franco"},"score":8,"creation_date":1527748950,"post_id":40018295,"comment_id":88246024,"body_markdown":"I followed these instructions but I still couldn&#39;t make this work, did anyone have to do anything else?","body":"I followed these instructions but I still couldn&#39;t make this work, did anyone have to do anything else?"},{"owner":{"account_id":70018,"reputation":882,"user_id":203459,"display_name":"Maciek Kreft"},"score":3,"creation_date":1544056462,"post_id":40018295,"comment_id":94145048,"body_markdown":"Maker sure you have mockito version 2.X.X","body":"Maker sure you have mockito version 2.X.X"},{"owner":{"account_id":1723221,"reputation":556,"user_id":1578466,"accept_rate":50,"display_name":"Yogesh Patil"},"score":0,"creation_date":1552666536,"post_id":40018295,"comment_id":97111409,"body_markdown":"I am using it with Scala, it works fine when I run test cases for my individual module but when whole application tests run in the pipeline then it fails saying &quot;Mockito can not spy/mock&quot;.  Any Hint?","body":"I am using it with Scala, it works fine when I run test cases for my individual module but when whole application tests run in the pipeline then it fails saying &quot;Mockito can not spy/mock&quot;.  Any Hint?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1566597716,"post_id":40018295,"comment_id":101720129,"body_markdown":"NB this mocks final methods and classes but not *static* methods, as of yet.","body":"NB this mocks final methods and classes but not <i>static</i> methods, as of yet."},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1569337745,"post_id":40018295,"comment_id":102560674,"body_markdown":"If you are on Windows OS, make sure you create the file without `.txt` extension.","body":"If you are on Windows OS, make sure you create the file without <code>.txt</code> extension."},{"owner":{"account_id":4559274,"reputation":1790,"user_id":3702048,"accept_rate":100,"display_name":"Yev Kanivets"},"score":2,"creation_date":1574160991,"post_id":40018295,"comment_id":104124053,"body_markdown":"Make sure that `mock-maker-inline` is a SINGLE LINE in `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker`.","body":"Make sure that <code>mock-maker-inline</code> is a SINGLE LINE in <code>src&#47;test&#47;resources&#47;mockito-extensions&#47;org.mockito.plugins.Mo&zwnj;&#8203;ckMaker</code>."},{"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"score":0,"creation_date":1574647389,"post_id":40018295,"comment_id":104293556,"body_markdown":"Very interesting! It did really go around the Mockito final class restriction.","body":"Very interesting! It did really go around the Mockito final class restriction."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1577214410,"post_id":40018295,"comment_id":105123715,"body_markdown":"This didn&#39;t work for me then a few minutes later &quot;magically started working&quot; maybe a `maven clean` helps?","body":"This didn&#39;t work for me then a few minutes later &quot;magically started working&quot; maybe a <code>maven clean</code> helps?"},{"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"score":0,"creation_date":1597839946,"post_id":40018295,"comment_id":112263656,"body_markdown":"It did work for me, I did one more step forward, i.e. cleaned the project and run the test case after that.","body":"It did work for me, I did one more step forward, i.e. cleaned the project and run the test case after that."},{"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"score":0,"creation_date":1598667539,"post_id":40018295,"comment_id":112541550,"body_markdown":"Mine also didn&#39;t work until I found org.mockito.plugins.MockMaker I created from Eclipse(Mac) got an extra space at the end.  Everything is woking after rename that file to the correct one.","body":"Mine also didn&#39;t work until I found org.mockito.plugins.MockMaker I created from Eclipse(Mac) got an extra space at the end.  Everything is woking after rename that file to the correct one."},{"owner":{"account_id":5546216,"reputation":856,"user_id":4400812,"accept_rate":100,"display_name":"n1nsa1d00"},"score":0,"creation_date":1601467469,"post_id":40018295,"comment_id":113416291,"body_markdown":"Is there a way to achieve this programmatically now?","body":"Is there a way to achieve this programmatically now?"},{"owner":{"account_id":17270687,"reputation":1654,"user_id":12506486,"display_name":"Stachu"},"score":0,"creation_date":1607084219,"post_id":40018295,"comment_id":115167284,"body_markdown":"@MarcoDufal you can add `testImplementation &#39;org.mockito:mockito-inline:X.X.X&#39;` instead of creating the file manually","body":"@MarcoDufal you can add <code>testImplementation &#39;org.mockito:mockito-inline:X.X.X&#39;</code> instead of creating the file manually"},{"owner":{"account_id":5444267,"reputation":643,"user_id":4331353,"accept_rate":100,"display_name":"M.Muzammil"},"score":0,"creation_date":1629274536,"post_id":40018295,"comment_id":121640520,"body_markdown":"I added this file mistakenly in Res folder instead Resouces folder. Now it&#39;s working fine.","body":"I added this file mistakenly in Res folder instead Resouces folder. Now it&#39;s working fine."},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1630199690,"post_id":40018295,"comment_id":121890454,"body_markdown":"I just get `Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)` checked the folder structure, it is single line, no spelling problem, clean and rebuild.\ntestImplementation &quot;org.mockito:mockito-core:2.13.0&quot;","body":"I just get <code>Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)</code> checked the folder structure, it is single line, no spelling problem, clean and rebuild. testImplementation &quot;org.mockito:mockito-core:2.13.0&quot;"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1630959657,"post_id":40018295,"comment_id":122090854,"body_markdown":"I found the solution for above problem. Need to use the kotlin version for Android:     androidTestImplementation &quot;org.mockito.kotlin:mockito-kotlin:$mockitoKotlinVersion&quot;\nand make sure using import import org.mockito.kotlin.*","body":"I found the solution for above problem. Need to use the kotlin version for Android:     androidTestImplementation &quot;org.mockito.kotlin:mockito-kotlin:$mockitoKotlinVersion&quot; and make sure using import import org.mockito.kotlin.*"},{"owner":{"account_id":251441,"reputation":428,"user_id":528827,"accept_rate":25,"display_name":"ciaranodc"},"score":0,"creation_date":1642169087,"post_id":40018295,"comment_id":125005945,"body_markdown":"I needed both:\n`testImplementation &#39;org.mockito:mockito-core:4.2.0&#39;` and \n`testImplementation &#39;org.mockito:mockito-inline:4.2.0&#39;`","body":"I needed both: <code>testImplementation &#39;org.mockito:mockito-core:4.2.0&#39;</code> and  <code>testImplementation &#39;org.mockito:mockito-inline:4.2.0&#39;</code>"},{"owner":{"account_id":3844192,"reputation":63,"user_id":3186326,"display_name":"slhklc"},"score":1,"creation_date":1649937746,"post_id":40018295,"comment_id":127003836,"body_markdown":"After 4 hours of searching, I found the solution in another application on Github. But in the end, this works like a charm.  Add a single file with single line to test folder like image boom, solved. \n[link](https://ibb.co/LgVq5HD)","body":"After 4 hours of searching, I found the solution in another application on Github. But in the end, this works like a charm.  Add a single file with single line to test folder like image boom, solved.  <a href=\"https://ibb.co/LgVq5HD\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"comment_count":22,"down_vote_count":0,"up_vote_count":294,"is_accepted":false,"score":294,"last_activity_date":1500014935,"creation_date":1476353979,"answer_id":40018295,"question_id":14292863,"body_markdown":"**Mockito 2 now supports final** classes and methods!\n\nBut for now that&#39;s an &quot;incubating&quot; feature. It requires some steps to activate it which are described in [What&#39;s New in Mockito 2][1]:\n\n&gt; Mocking of final classes and methods is an **incubating**, opt-in feature. It uses a combination of Java agent instrumentation and subclassing in order to enable mockability of these types. As this works differently to our current mechanism and this one has different limitations and as we want to gather experience and user feedback, this feature had to be explicitly activated to be available ; it can be done via the mockito extension mechanism by creating the file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing a single line:\n&gt;\n&gt;     mock-maker-inline\n&gt;\n&gt;After you created this file, Mockito will automatically use this new engine and one can do :\n&gt;\n&gt;  \n&gt;\n&gt;      final class FinalClass {\n&gt;        final String finalMethod() { return &quot;something&quot;; }\n&gt;      }\n&gt;    \n&gt;      FinalClass concrete = new FinalClass(); \n&gt;    \n&gt;      FinalClass mock = mock(FinalClass.class);\n&gt;      given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n&gt;    \n&gt;      assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n&gt;\n&gt;In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios. Stay tuned and please let us know what you think of this feature!\n\n\n  [1]: https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\n","title":"How to mock a final class with mockito","body":"<p><strong>Mockito 2 now supports final</strong> classes and methods!</p>\n<p>But for now that's an &quot;incubating&quot; feature. It requires some steps to activate it which are described in <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">What's New in Mockito 2</a>:</p>\n<blockquote>\n<p>Mocking of final classes and methods is an <strong>incubating</strong>, opt-in feature. It uses a combination of Java agent instrumentation and subclassing in order to enable mockability of these types. As this works differently to our current mechanism and this one has different limitations and as we want to gather experience and user feedback, this feature had to be explicitly activated to be available ; it can be done via the mockito extension mechanism by creating the file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing a single line:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>After you created this file, Mockito will automatically use this new engine and one can do :</p>\n<pre><code> final class FinalClass {\n   final String finalMethod() { return &quot;something&quot;; }\n }\n\n FinalClass concrete = new FinalClass(); \n\n FinalClass mock = mock(FinalClass.class);\n given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n\n assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n</code></pre>\n<p>In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios. Stay tuned and please let us know what you think of this feature!</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":23089,"reputation":49201,"user_id":57611,"accept_rate":82,"display_name":"ErikE"},"score":1,"creation_date":1536036291,"post_id":41486861,"comment_id":91267696,"body_markdown":"Public API classes should be open for extension. Wholly agree. However, in a private code-base, `final` should be the default.","body":"Public API classes should be open for extension. Wholly agree. However, in a private code-base, <code>final</code> should be the default."}],"tags":[],"owner":{"account_id":4124813,"reputation":96,"user_id":3384245,"display_name":"Tom N."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483624489,"creation_date":1483624489,"answer_id":41486861,"question_id":14292863,"body_markdown":"As others have stated, this won&#39;t work out of the box with Mockito. I would suggest using reflection to set the specific fields on the object that is being used by the code under test. If you find yourself doing this a lot, you can wrap this functionality in a library.\r\n\r\nAs an aside, if you are the one marking classes final, stop doing that. I ran across this question because I am working with an API where everything was marked final to prevent my legitimate need for extension (mocking), and I wish that the developer had not assumed that I would never need to extend the class.","title":"How to mock a final class with mockito","body":"<p>As others have stated, this won't work out of the box with Mockito. I would suggest using reflection to set the specific fields on the object that is being used by the code under test. If you find yourself doing this a lot, you can wrap this functionality in a library.</p>\n\n<p>As an aside, if you are the one marking classes final, stop doing that. I ran across this question because I am working with an API where everything was marked final to prevent my legitimate need for extension (mocking), and I wish that the developer had not assumed that I would never need to extend the class.</p>\n"},{"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1486292503,"post_id":42050897,"comment_id":71274751,"body_markdown":"You should include the answer here and not link to an external site. If the procedure is long you could include an overview.","body":"You should include the answer here and not link to an external site. If the procedure is long you could include an overview."},{"owner":{"account_id":1864911,"reputation":1759,"user_id":1688718,"accept_rate":100,"display_name":"vCillusion"},"score":0,"creation_date":1502193555,"post_id":42050897,"comment_id":78094440,"body_markdown":"please ensure below annotations are used when mocking\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({AFinalClass.class})","body":"please ensure below annotations are used when mocking @RunWith(PowerMockRunner.class) @PrepareForTest({AFinalClass.class})"},{"owner":{"account_id":10182304,"reputation":41,"user_id":7518602,"display_name":"ksl"},"score":1,"creation_date":1502228754,"post_id":42050897,"comment_id":78116593,"body_markdown":"@vCillusion - The example I have shown just uses the Mockito2 API.Using the opt-in feature of Mockito2, one can mock the final classes directly without the need to use Powermock.","body":"@vCillusion - The example I have shown just uses the Mockito2 API.Using the opt-in feature of Mockito2, one can mock the final classes directly without the need to use Powermock."}],"tags":[],"owner":{"account_id":10182304,"reputation":41,"user_id":7518602,"display_name":"ksl"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486323845,"creation_date":1486290134,"answer_id":42050897,"question_id":14292863,"body_markdown":"This can be done if you are using Mockito2, with the new incubating feature which supports mocking of final classes &amp; methods. \r\n\r\n**Key points to note:**  \r\n1.\tCreate a simple file with the name “org.mockito.plugins.MockMaker” and place it in a folder named “mockito-extensions”. This folder should be made available on the classpath.  \r\n2.\tThe content of the file created above should be a single line as given below:  \r\n**mock-maker-inline**\r\n\r\nThe above two steps are required in order to activate the mockito extension mechanism and use this opt-in feature.\r\n\r\nSample classes are as follows:- \r\n\r\nFinalClass.java\r\n\r\n    public final class FinalClass {\r\n\t\r\n\tpublic final String hello(){\r\n\t\tSystem.out.println(&quot;Final class says Hello!!!&quot;);\r\n\t\treturn &quot;0&quot;;\r\n\t}\r\n\r\n}\r\n\r\nFoo.java\r\n\r\n    public class Foo {\r\n\t\r\n\tpublic String executeFinal(FinalClass finalClass){\r\n\t\treturn finalClass.hello();\r\n\t}\r\n\r\n}\r\n\r\nFooTest.java\r\n\r\n    public class FooTest {\r\n\t\r\n\t@Test\r\n\tpublic void testFinalClass(){\r\n\t\t// Instantiate the class under test.\r\n\t\tFoo foo = new Foo();\r\n\r\n\t\t// Instantiate the external dependency\r\n\t\tFinalClass realFinalClass = new FinalClass();\r\n\t\t\r\n\t\t// Create mock object for the final class. \r\n\t\tFinalClass mockedFinalClass = mock(FinalClass.class);\r\n\t\t\r\n\t\t// Provide stub for mocked object.\r\n\t\twhen(mockedFinalClass.hello()).thenReturn(&quot;1&quot;);\r\n\t\t\r\n\t\t// assert\r\n\t\tassertEquals(&quot;0&quot;, foo.executeFinal(realFinalClass));\r\n\t\tassertEquals(&quot;1&quot;, foo.executeFinal(mockedFinalClass));\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nHope it helps.\r\n\r\nComplete article present here [mocking-the-unmockable](https://dzone.com/articles/mocking-the-unmockable-the-mockito2-way).\r\n","title":"How to mock a final class with mockito","body":"<p>This can be done if you are using Mockito2, with the new incubating feature which supports mocking of final classes &amp; methods. </p>\n\n<p><strong>Key points to note:</strong><br>\n1.  Create a simple file with the name “org.mockito.plugins.MockMaker” and place it in a folder named “mockito-extensions”. This folder should be made available on the classpath.<br>\n2.  The content of the file created above should be a single line as given below:<br>\n<strong>mock-maker-inline</strong></p>\n\n<p>The above two steps are required in order to activate the mockito extension mechanism and use this opt-in feature.</p>\n\n<p>Sample classes are as follows:- </p>\n\n<p>FinalClass.java</p>\n\n<pre><code>public final class FinalClass {\n\npublic final String hello(){\n    System.out.println(\"Final class says Hello!!!\");\n    return \"0\";\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Foo.java</p>\n\n<pre><code>public class Foo {\n\npublic String executeFinal(FinalClass finalClass){\n    return finalClass.hello();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>FooTest.java</p>\n\n<pre><code>public class FooTest {\n\n@Test\npublic void testFinalClass(){\n    // Instantiate the class under test.\n    Foo foo = new Foo();\n\n    // Instantiate the external dependency\n    FinalClass realFinalClass = new FinalClass();\n\n    // Create mock object for the final class. \n    FinalClass mockedFinalClass = mock(FinalClass.class);\n\n    // Provide stub for mocked object.\n    when(mockedFinalClass.hello()).thenReturn(\"1\");\n\n    // assert\n    assertEquals(\"0\", foo.executeFinal(realFinalClass));\n    assertEquals(\"1\", foo.executeFinal(mockedFinalClass));\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope it helps.</p>\n\n<p>Complete article present here <a href=\"https://dzone.com/articles/mocking-the-unmockable-the-mockito2-way\" rel=\"nofollow noreferrer\">mocking-the-unmockable</a>.</p>\n"},{"comments":[{"owner":{"account_id":6157704,"reputation":498,"user_id":4800191,"display_name":"dishooom"},"score":1,"creation_date":1521824718,"post_id":44937130,"comment_id":85912792,"body_markdown":"To add to this, one thing i observed was that if you are using Powermock along with mockito; then adding the mockmaker plugin file in &#39;src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker&#39; wouldn&#39;t be useful in mocking final classes. Instead, adding a dependency like mentioned by Michael_Zhang above would solve the issue of mocking final classes. \n\nAlso, make sure you are using Mockito 2 instead of Mockito1","body":"To add to this, one thing i observed was that if you are using Powermock along with mockito; then adding the mockmaker plugin file in &#39;src/test/resources/mockito-extensions/org.mockito.plugins.M&zwnj;&#8203;ockMaker&#39; wouldn&#39;t be useful in mocking final classes. Instead, adding a dependency like mentioned by Michael_Zhang above would solve the issue of mocking final classes.   Also, make sure you are using Mockito 2 instead of Mockito1"}],"tags":[],"owner":{"account_id":7058239,"reputation":333,"user_id":5404637,"display_name":"Michael_Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1499294521,"creation_date":1499294521,"answer_id":44937130,"question_id":14292863,"body_markdown":"Just to follow up. Please add this line to your gradle file:\r\n\r\n    testCompile group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;2.8.9&#39;\r\n\r\nI have tried various version of mockito-core and mockito-all. Neither of them work.","title":"How to mock a final class with mockito","body":"<p>Just to follow up. Please add this line to your gradle file:</p>\n\n<pre><code>testCompile group: 'org.mockito', name: 'mockito-inline', version: '2.8.9'\n</code></pre>\n\n<p>I have tried various version of mockito-core and mockito-all. Neither of them work.</p>\n"},{"comments":[{"owner":{"account_id":2375700,"reputation":4554,"user_id":2079130,"display_name":"jwehrle"},"score":2,"creation_date":1551202272,"post_id":48923018,"comment_id":96551142,"body_markdown":"Should probably use &quot;testImplementation&quot; now instead of &quot;testCompile&quot;. Gradle doesn&#39;t like &quot;testCompile&quot; anymore.","body":"Should probably use &quot;testImplementation&quot; now instead of &quot;testCompile&quot;. Gradle doesn&#39;t like &quot;testCompile&quot; anymore."},{"owner":{"account_id":3676021,"reputation":1747,"user_id":3062108,"accept_rate":71,"display_name":"BennyP"},"score":0,"creation_date":1551605735,"post_id":48923018,"comment_id":96694902,"body_markdown":"great comment, thanks! edited to testImplementation.\noriginal comment: testCompile &#39;org.mockito:mockito-inline:2.13.0&#39;","body":"great comment, thanks! edited to testImplementation. original comment: testCompile &#39;org.mockito:mockito-inline:2.13.0&#39;"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":4,"creation_date":1554045270,"post_id":48923018,"comment_id":97600430,"body_markdown":"This results in error when running on Linux / OpenJDK 1.8: `org.mockito.exceptions.base.MockitoInitializationException: \nCould not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)`","body":"This results in error when running on Linux / OpenJDK 1.8: <code>org.mockito.exceptions.base.MockitoInitializationException:  Could not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)</code>"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1554049037,"post_id":48923018,"comment_id":97601456,"body_markdown":"Works fine when switched to Oracle JDK 1.8","body":"Works fine when switched to Oracle JDK 1.8"},{"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"score":1,"creation_date":1611066119,"post_id":48923018,"comment_id":116326349,"body_markdown":"This answer needs more votes! Definitely the best way to go now.","body":"This answer needs more votes! Definitely the best way to go now."},{"owner":{"account_id":1549929,"reputation":4174,"user_id":1442571,"display_name":"Nantoka"},"score":0,"creation_date":1622757583,"post_id":48923018,"comment_id":119890995,"body_markdown":"Your hint for adding Byte Buddy manually probably saved me a few hours. Thanks a lot!","body":"Your hint for adding Byte Buddy manually probably saved me a few hours. Thanks a lot!"}],"tags":[],"owner":{"account_id":3676021,"reputation":1747,"user_id":3062108,"accept_rate":71,"display_name":"BennyP"},"comment_count":6,"down_vote_count":1,"up_vote_count":93,"is_accepted":false,"score":92,"last_activity_date":1618323943,"creation_date":1519289274,"answer_id":48923018,"question_id":14292863,"body_markdown":"add this in your build file:\r\n\r\n* if using [gradle](https://gradle.org/): `build.gradle`\r\n``` gradle\r\ntestImplementation &#39;org.mockito:mockito-inline:2.13.0&#39;\r\n```\r\n* if using [maven](https://maven.apache.org/): `pom.xml`\r\n``` xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthis is a configuration to make mockito work with final classes\r\n\r\nIf you faced the `Could not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)`\r\nAdd the **Byte Buddy** dependency to your `build.gradle` file:\r\n\r\n    testImplementation &#39;net.bytebuddy:byte-buddy-agent:1.10.19&#39;\r\nsrc: https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>add this in your build file:</p>\n<ul>\n<li>if using <a href=\"https://gradle.org/\" rel=\"noreferrer\">gradle</a>: <code>build.gradle</code></li>\n</ul>\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.13.0'\n</code></pre>\n<ul>\n<li>if using <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">maven</a>: <code>pom.xml</code></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this is a configuration to make mockito work with final classes</p>\n<p>If you faced the <code>Could not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)</code>\nAdd the <strong>Byte Buddy</strong> dependency to your <code>build.gradle</code> file:</p>\n<pre><code>testImplementation 'net.bytebuddy:byte-buddy-agent:1.10.19'\n</code></pre>\n<p>src: <a href=\"https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\" rel=\"noreferrer\">https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy</a></p>\n"},{"comments":[{"owner":{"account_id":2225810,"reputation":1293,"user_id":1964609,"accept_rate":0,"display_name":"Sumit T"},"score":0,"creation_date":1546977831,"post_id":50457516,"comment_id":95030643,"body_markdown":"This works well at app level build.gradle but what can we do to get this on library level?","body":"This works well at app level build.gradle but what can we do to get this on library level?"},{"owner":{"account_id":905932,"reputation":126,"user_id":940841,"display_name":"Ozeetee"},"score":0,"creation_date":1547240821,"post_id":50457516,"comment_id":95139045,"body_markdown":"Can you elaborate a bit? Usually, use facade pattern to connect to libs. And mock these facade classes to test the app. In this way we don&#39;t need to mock any lib classes.","body":"Can you elaborate a bit? Usually, use facade pattern to connect to libs. And mock these facade classes to test the app. In this way we don&#39;t need to mock any lib classes."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1612212359,"post_id":50457516,"comment_id":116691514,"body_markdown":"I don&#39;t see any test-specific options. The procedure is fully matches with the [official instruction](https://kotlinlang.org/docs/reference/compiler-plugins.html#using-in-gradle). So class will be open in production as well.","body":"I don&#39;t see any test-specific options. The procedure is fully matches with the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#using-in-gradle\" rel=\"nofollow noreferrer\">official instruction</a>. So class will be open in production as well."}],"tags":[],"owner":{"account_id":905932,"reputation":126,"user_id":940841,"display_name":"Ozeetee"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526942859,"creation_date":1526942859,"answer_id":50457516,"question_id":14292863,"body_markdown":"Time saver for people who are facing the same issue (Mockito + Final Class) on Android + Kotlin. As in Kotlin classes are final by default. I found a solution in one of Google Android samples with Architecture component. Solution picked from here : https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample\r\n\r\nCreate following annotations :\r\n\r\n    /**\r\n     * This annotation allows us to open some classes for mocking purposes while they are final in\r\n     * release builds.\r\n     */\r\n    @Target(AnnotationTarget.ANNOTATION_CLASS)\r\n    annotation class OpenClass\r\n    \r\n    /**\r\n     * Annotate a class with [OpenForTesting] if you want it to be extendable in debug builds.\r\n     */\r\n    @OpenClass\r\n    @Target(AnnotationTarget.CLASS)\r\n    annotation class OpenForTesting\r\n\r\n\r\nModify your gradle file. Take example from here : https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle\r\n\r\n    apply plugin: &#39;kotlin-allopen&#39;\r\n    \r\n    allOpen {\r\n        // allows mocking for classes w/o directly opening them for release builds\r\n        annotation &#39;com.android.example.github.testing.OpenClass&#39;\r\n    }\r\n\r\nNow you can annotate any class to make it open for testing :\r\n\r\n    @OpenForTesting\r\n    class RepoRepository \r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Time saver for people who are facing the same issue (Mockito + Final Class) on Android + Kotlin. As in Kotlin classes are final by default. I found a solution in one of Google Android samples with Architecture component. Solution picked from here : <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample\" rel=\"noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample</a></p>\n\n<p>Create following annotations :</p>\n\n<pre><code>/**\n * This annotation allows us to open some classes for mocking purposes while they are final in\n * release builds.\n */\n@Target(AnnotationTarget.ANNOTATION_CLASS)\nannotation class OpenClass\n\n/**\n * Annotate a class with [OpenForTesting] if you want it to be extendable in debug builds.\n */\n@OpenClass\n@Target(AnnotationTarget.CLASS)\nannotation class OpenForTesting\n</code></pre>\n\n<p>Modify your gradle file. Take example from here : <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle\" rel=\"noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle</a></p>\n\n<pre><code>apply plugin: 'kotlin-allopen'\n\nallOpen {\n    // allows mocking for classes w/o directly opening them for release builds\n    annotation 'com.android.example.github.testing.OpenClass'\n}\n</code></pre>\n\n<p>Now you can annotate any class to make it open for testing :</p>\n\n<pre><code>@OpenForTesting\nclass RepoRepository \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324334,"reputation":3019,"user_id":3531558,"display_name":"Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544047002,"creation_date":1544047002,"answer_id":53641370,"question_id":14292863,"body_markdown":"If you trying to run unit-test under the **test** folder, the top solution is fine. Just follow it adding an extension.\r\n\r\nBut if you want to run it with **android related** class like context or activity which is under **androidtest** folder, [the answer][1] is for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50457516/3531558","title":"How to mock a final class with mockito","body":"<p>If you trying to run unit-test under the <strong>test</strong> folder, the top solution is fine. Just follow it adding an extension.</p>\n\n<p>But if you want to run it with <strong>android related</strong> class like context or activity which is under <strong>androidtest</strong> folder, <a href=\"https://stackoverflow.com/a/50457516/3531558\">the answer</a> is for you.</p>\n"},{"tags":[],"owner":{"account_id":91472,"reputation":2329,"user_id":251120,"accept_rate":67,"display_name":"kenyee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551813374,"creation_date":1551813374,"answer_id":55009989,"question_id":14292863,"body_markdown":"For us, it was because we excluded mockito-inline from koin-test.  One gradle module actually needed this and for reason only failed on release builds (debug builds in the IDE worked) :-P","title":"How to mock a final class with mockito","body":"<p>For us, it was because we excluded mockito-inline from koin-test.  One gradle module actually needed this and for reason only failed on release builds (debug builds in the IDE worked) :-P</p>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552296992,"creation_date":1552296992,"answer_id":55098861,"question_id":14292863,"body_markdown":"I think you need think more in principle. Instead you final class use his interface and mock interface  instead.\r\n\r\nFor this:\r\n \r\n\r\n     public class RainOnTrees{\r\n    \r\n       fun startRain():Observable&lt;Boolean&gt;{\r\n    \r\n            // some code here\r\n       }\r\n    }\r\n\r\nadd\r\n\r\n    interface iRainOnTrees{\r\n      public void startRain():Observable&lt;Boolean&gt;\r\n    }\r\n\r\n\r\nand mock you interface:\r\n\r\n   \r\n\r\n     @Before\r\n        fun setUp() {\r\n            rainService= Mockito.mock(iRainOnTrees::class.java)\r\n    \r\n            `when`(rainService.startRain()).thenReturn(\r\n                just(true).delay(3, TimeUnit.SECONDS)\r\n            )\r\n    \r\n        }","title":"How to mock a final class with mockito","body":"<p>I think you need think more in principle. Instead you final class use his interface and mock interface  instead.</p>\n\n<p>For this:</p>\n\n<pre><code> public class RainOnTrees{\n\n   fun startRain():Observable&lt;Boolean&gt;{\n\n        // some code here\n   }\n}\n</code></pre>\n\n<p>add</p>\n\n<pre><code>interface iRainOnTrees{\n  public void startRain():Observable&lt;Boolean&gt;\n}\n</code></pre>\n\n<p>and mock you interface:</p>\n\n<pre><code> @Before\n    fun setUp() {\n        rainService= Mockito.mock(iRainOnTrees::class.java)\n\n        `when`(rainService.startRain()).thenReturn(\n            just(true).delay(3, TimeUnit.SECONDS)\n        )\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":1,"creation_date":1616476091,"post_id":59512261,"comment_id":118007215,"body_markdown":"Any idea how to make it work for PowerMock","body":"Any idea how to make it work for PowerMock"},{"owner":{"account_id":9735960,"reputation":893,"user_id":7219194,"display_name":"konnovdev"},"score":0,"creation_date":1654422300,"post_id":59512261,"comment_id":128082932,"body_markdown":"This is the correct answer, you don&#39;t need any additional dependencies aside from org.mockito.kotlin:mockito-kotlin","body":"This is the correct answer, you don&#39;t need any additional dependencies aside from org.mockito.kotlin:mockito-kotlin"}],"tags":[],"owner":{"account_id":4354839,"reputation":2493,"user_id":3553843,"accept_rate":70,"display_name":"Sattar"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1577547173,"creation_date":1577547173,"answer_id":59512261,"question_id":14292863,"body_markdown":"In Mockito 3 and more I have the same problem and fixed it as from this link \n\n[Mock Final Classes and Methods with Mockito][1]\nas follow \n\n&gt;  Before Mockito can be used for mocking final classes and methods, it needs to be &gt; configured.\n&gt;\n&gt; We need to add a text file to the project&#39;s src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:\n&gt;\n&gt;     mock-maker-inline\n&gt;\n&gt; Mockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.\n\n  [1]: https://www.baeldung.com/mockito-final#configure-mocktio","title":"How to mock a final class with mockito","body":"<p>In Mockito 3 and more I have the same problem and fixed it as from this link</p>\n<p><a href=\"https://www.baeldung.com/mockito-final#configure-mocktio\" rel=\"noreferrer\">Mock Final Classes and Methods with Mockito</a>\nas follow</p>\n<blockquote>\n<p>Before Mockito can be used for mocking final classes and methods, it needs to be &gt; configured.</p>\n<p>We need to add a text file to the project's src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Mockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578564295,"creation_date":1578564295,"answer_id":59661517,"question_id":14292863,"body_markdown":"For final class add below to mock and call static or non static.\r\n\r\n1- add this in class level\r\n   @SuppressStatucInitializationFor(value ={class name with package})      \r\n2- PowerMockito.mockStatic(classname.class) will mock class     \r\n3- then use your when statement to return mock object when calling method of this class.\r\n\r\nEnjoy \r\n","title":"How to mock a final class with mockito","body":"<p>For final class add below to mock and call static or non static.</p>\n\n<p>1- add this in class level\n   @SuppressStatucInitializationFor(value ={class name with package})<br>\n2- PowerMockito.mockStatic(classname.class) will mock class<br>\n3- then use your when statement to return mock object when calling method of this class.</p>\n\n<p>Enjoy </p>\n"},{"tags":[],"owner":{"account_id":11905400,"reputation":1028,"user_id":8712102,"display_name":"HandyPawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587394467,"creation_date":1587394467,"answer_id":61325447,"question_id":14292863,"body_markdown":"\r\nAdd these dependencies for run mockito successfully :\r\n\r\n**testImplementation &#39;org.mockito:mockito-core:2.24.5&#39;   \r\ntestImplementation &quot;org.mockito:mockito-inline:2.24.5&quot;**","title":"How to mock a final class with mockito","body":"<p>Add these dependencies for run mockito successfully :</p>\n\n<p><strong>testImplementation 'org.mockito:mockito-core:2.24.5'<br>\ntestImplementation \"org.mockito:mockito-inline:2.24.5\"</strong></p>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1635584097,"post_id":62896746,"comment_id":123341470,"body_markdown":"which issue? can you provide a link?","body":"which issue? can you provide a link?"}],"tags":[],"owner":{"account_id":5885102,"reputation":1044,"user_id":4633354,"accept_rate":50,"display_name":"metis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596708706,"creation_date":1594734620,"answer_id":62896746,"question_id":14292863,"body_markdown":"Mocking final classes is **not supported** for **mockito-android** as per this GitHub issue. You should use Mockk instead for this.\r\n\r\nFor both unit test and ui test, you can use Mockk with no problem.\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Mocking final classes is <strong>not supported</strong> for <strong>mockito-android</strong> as per this GitHub issue. You should use Mockk instead for this.</p>\n<p>For both unit test and ui test, you can use Mockk with no problem.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609968862,"creation_date":1609968862,"answer_id":65603675,"question_id":14292863,"body_markdown":"I was able to overcome this message:\r\n\r\n\r\n&gt; org.mockito.exceptions.base.MockitoException: \r\nCannot mock/spy class org.slf4j.impl.Log4jLoggerAdapter\r\nMockito cannot mock/spy because :\r\n&gt; - final or anonymous class\r\n\r\nfrom this: `log = spy(log);`\r\n\r\nBy using this instead:\r\n\r\n`log = mock(Logger.class);`\r\n\r\nThen it works.\r\n\r\nI guess that &quot;default&quot; logger adapter is an instance of a final class so I couldn&#39;t &quot;spy&quot; it, but I could mock the whole thing.  Go figure...\r\n\r\nThis may mean that you could substitute it for some other &quot;non final&quot; instance if you have that handy, as well.  Or a simplified version, etc. FWIW...","title":"How to mock a final class with mockito","body":"<p>I was able to overcome this message:</p>\n<blockquote>\n<p>org.mockito.exceptions.base.MockitoException:\nCannot mock/spy class org.slf4j.impl.Log4jLoggerAdapter\nMockito cannot mock/spy because :</p>\n<ul>\n<li>final or anonymous class</li>\n</ul>\n</blockquote>\n<p>from this: <code>log = spy(log);</code></p>\n<p>By using this instead:</p>\n<p><code>log = mock(Logger.class);</code></p>\n<p>Then it works.</p>\n<p>I guess that &quot;default&quot; logger adapter is an instance of a final class so I couldn't &quot;spy&quot; it, but I could mock the whole thing.  Go figure...</p>\n<p>This may mean that you could substitute it for some other &quot;non final&quot; instance if you have that handy, as well.  Or a simplified version, etc. FWIW...</p>\n"},{"tags":[],"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Miloš Černilovsk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683729767,"creation_date":1616778078,"answer_id":66821282,"question_id":14292863,"body_markdown":"If you need to use Mockito in an instrumented test in Android (i. e. running in an Android device), you cannot use `mockito-inline`. There is a special `mockito-android` version which doesn&#39;t solve the &quot;final class&quot; problem either. The only solution which seems to work is the [Dexmaker library][1]. The only limitation is that it works only in Android P (Android 9, API 28) and higher. It can be imported as follows:\r\n\r\n    androidTestImplementation &quot;com.linkedin.dexmaker:dexmaker-mockito-inline:2.28.1&quot;\r\n\r\nBeware that there is also a &quot;dexmaker-mockito&quot; version which doesn&#39;t work for final classes either. Make sure you import &quot;dexmaker-mockito-inline&quot;.\r\n\r\nEdit: Eventually I just migrated everything to Mockk to get rid of all the problems.\r\n\r\n\r\n  [1]: https://github.com/linkedin/dexmaker","title":"How to mock a final class with mockito","body":"<p>If you need to use Mockito in an instrumented test in Android (i. e. running in an Android device), you cannot use <code>mockito-inline</code>. There is a special <code>mockito-android</code> version which doesn't solve the &quot;final class&quot; problem either. The only solution which seems to work is the <a href=\"https://github.com/linkedin/dexmaker\" rel=\"nofollow noreferrer\">Dexmaker library</a>. The only limitation is that it works only in Android P (Android 9, API 28) and higher. It can be imported as follows:</p>\n<pre><code>androidTestImplementation &quot;com.linkedin.dexmaker:dexmaker-mockito-inline:2.28.1&quot;\n</code></pre>\n<p>Beware that there is also a &quot;dexmaker-mockito&quot; version which doesn't work for final classes either. Make sure you import &quot;dexmaker-mockito-inline&quot;.</p>\n<p>Edit: Eventually I just migrated everything to Mockk to get rid of all the problems.</p>\n"},{"comments":[{"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"score":0,"creation_date":1694116508,"post_id":73905168,"comment_id":135852684,"body_markdown":"Don&#39;t use PowerMockito, there are better and more maintained options that don&#39;t have compatibility issues.","body":"Don&#39;t use PowerMockito, there are better and more maintained options that don&#39;t have compatibility issues."}],"tags":[],"owner":{"account_id":6211451,"reputation":49,"user_id":4837627,"display_name":"Pawan Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664521845,"creation_date":1664521845,"answer_id":73905168,"question_id":14292863,"body_markdown":"I am writing the steps I followed after various unsuccessful attempts to mock final/private classes and their methods in Java 11, which finally worked for me.\r\n\r\n 1. Create a file named *org.mockito.plugins.MockMaker* inside\r\n    your *test/resources/mockito-extensions* folder. Please create\r\n    *mockito-extensions* folder if not present already.\r\n 2. Add a single line *mock-maker-inline* as the content of the above *org.mockito.plugins.MockMaker* file\r\n 3. Add\r\n\r\n``` \r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;jdk.internal.reflect.*&quot;, &quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;})\r\n@PrepareForTest(Utility.class)\r\n```\r\nannotations at the class level.\r\n\r\nSetup process in the test class\r\n```\r\n  @Before\r\n  public void setup () {\r\n    MockitoAnnotations.initMocks(this);\r\n    Mockito.mockStatic(ClassToBeMocked.class); \r\n  }\r\n```\r\n \r\n 4. Use *Mockito.when(..).thenReturn(..)* for assertions \r\n 5. In case of multiple test cases, add the below code\r\n\r\n```\r\n  @After\r\n  public void after() {\r\n        Mockito.framework().clearInlineMocks();\r\n  }\r\n```\r\nThe mockito version which I am using: 3.9.0\r\nJava version: 11\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>I am writing the steps I followed after various unsuccessful attempts to mock final/private classes and their methods in Java 11, which finally worked for me.</p>\n<ol>\n<li>Create a file named <em>org.mockito.plugins.MockMaker</em> inside\nyour <em>test/resources/mockito-extensions</em> folder. Please create\n<em>mockito-extensions</em> folder if not present already.</li>\n<li>Add a single line <em>mock-maker-inline</em> as the content of the above <em>org.mockito.plugins.MockMaker</em> file</li>\n<li>Add</li>\n</ol>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;jdk.internal.reflect.*&quot;, &quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;})\n@PrepareForTest(Utility.class)\n</code></pre>\n<p>annotations at the class level.</p>\n<p>Setup process in the test class</p>\n<pre><code>  @Before\n  public void setup () {\n    MockitoAnnotations.initMocks(this);\n    Mockito.mockStatic(ClassToBeMocked.class); \n  }\n</code></pre>\n<ol start=\"4\">\n<li>Use <em>Mockito.when(..).thenReturn(..)</em> for assertions</li>\n<li>In case of multiple test cases, add the below code</li>\n</ol>\n<pre><code>  @After\n  public void after() {\n        Mockito.framework().clearInlineMocks();\n  }\n</code></pre>\n<p>The mockito version which I am using: 3.9.0\nJava version: 11</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699210415,"creation_date":1699210415,"answer_id":77427246,"question_id":14292863,"body_markdown":"### As of Mockito 5.x, you can mock final classes and methods out-of-the-box like any non-finals.\r\n\r\nNo additional dependencies (such as `mockito-inline`) required anymore.\r\n\r\nHere is an article outlining the most important changes and improvements in version 5: https://www.infoq.com/news/2023/01/mockito-5/\r\n\r\nSidenote: i was actually rather confused after reading this [Baeldung tutorial](https://www.baeldung.com/mockito-final) which is from June 2023 and simply omits the most important detail, namely that you need Mockito 5 for this.","title":"How to mock a final class with mockito","body":"<h3>As of Mockito 5.x, you can mock final classes and methods out-of-the-box like any non-finals.</h3>\n<p>No additional dependencies (such as <code>mockito-inline</code>) required anymore.</p>\n<p>Here is an article outlining the most important changes and improvements in version 5: <a href=\"https://www.infoq.com/news/2023/01/mockito-5/\" rel=\"nofollow noreferrer\">https://www.infoq.com/news/2023/01/mockito-5/</a></p>\n<p>Sidenote: i was actually rather confused after reading this <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">Baeldung tutorial</a> which is from June 2023 and simply omits the most important detail, namely that you need Mockito 5 for this.</p>\n"}],"owner":{"account_id":1838226,"reputation":4757,"user_id":1668170,"accept_rate":78,"display_name":"buttowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569550,"favorite_count":0,"down_vote_count":0,"up_vote_count":380,"accepted_answer_id":14292888,"answer_count":29,"score":380,"last_activity_date":1699210415,"creation_date":1357989781,"question_id":14292863,"body_markdown":"I have a final class, something like this:\r\n\r\n\r\n    public final class RainOnTrees{\r\n    \r\n       public void startRain(){\r\n    \r\n            // some code here\r\n       }\r\n    }\r\n\r\nI am using this class in some other class like this:\r\n\r\n    public class Seasons{\r\n            \r\n       RainOnTrees rain = new RainOnTrees();\r\n            \r\n       public void findSeasonAndRain(){\r\n            \r\n            rain.startRain();\r\n            \r\n        }\r\n    }\r\n\r\nand in my JUnit test class for `Seasons.java` I want to mock the `RainOnTrees` class. How can I do this with Mockito?\r\n\r\n\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>I have a final class, something like this:</p>\n\n<pre><code>public final class RainOnTrees{\n\n   public void startRain(){\n\n        // some code here\n   }\n}\n</code></pre>\n\n<p>I am using this class in some other class like this:</p>\n\n<pre><code>public class Seasons{\n\n   RainOnTrees rain = new RainOnTrees();\n\n   public void findSeasonAndRain(){\n\n        rain.startRain();\n\n    }\n}\n</code></pre>\n\n<p>and in my JUnit test class for <code>Seasons.java</code> I want to mock the <code>RainOnTrees</code> class. How can I do this with Mockito?</p>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"score":0,"creation_date":1699143047,"post_id":77424268,"comment_id":136494545,"body_markdown":"If my code&#39;s intention is not clear, please note that it aims to retrieve children records associated with a parent entity.","body":"If my code&#39;s intention is not clear, please note that it aims to retrieve children records associated with a parent entity."}],"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699209474,"creation_date":1699142838,"question_id":77424268,"body_markdown":"I&#39;m facing an issue with Hibernate after upgrading to version 6.0.0 (it was working fine in previous versions). I have the following code snippet:\r\n\r\n   \r\n\r\n     CriteriaBuilder builder = session.getCriteriaBuilder();\r\n     CriteriaQuery&lt;T&gt; criteria = builder.createQuery(classe);\r\n     Root&lt;?&gt; root = criteria.from(fatherClass);\r\n     Join&lt;?, T&gt; join = root.join(table);\r\n     criteria.select(join).where(builder.equal(root.get(nameField), id));\r\n     TypedQuery&lt;T&gt; query = session.createQuery(criteria); // QueryTypeMismatchException\r\n     List&lt;T&gt; resultList = query.getResultList();\r\n\r\nWhen I execute this code, I receive the following error:\r\n\r\n    org.hibernate.query.QueryTypeMismatchException: Specified result type [com.hcf.test.entities.TestEntitiyParent] did not match Query selection type [com.hcf.test.entities.TestEntitiyChildren] - multiple selections: use Tuple or array\r\n\r\nThis error didn&#39;t occur in previous versions of Hibernate but started happening after the update to version 6.0.0. Can someone explain why this is happening and how I can resolve this issue in Hibernate version 6.0.0?\r\n\r\nAny help or guidance will be greatly appreciated. Thank you!\r\n\r\n","title":"Error in Hibernate 6.0.0: QueryTypeMismatchException - Specified result type [type1] did not match Query selection type [type2]","body":"<p>I'm facing an issue with Hibernate after upgrading to version 6.0.0 (it was working fine in previous versions). I have the following code snippet:</p>\n<pre><code> CriteriaBuilder builder = session.getCriteriaBuilder();\n CriteriaQuery&lt;T&gt; criteria = builder.createQuery(classe);\n Root&lt;?&gt; root = criteria.from(fatherClass);\n Join&lt;?, T&gt; join = root.join(table);\n criteria.select(join).where(builder.equal(root.get(nameField), id));\n TypedQuery&lt;T&gt; query = session.createQuery(criteria); // QueryTypeMismatchException\n List&lt;T&gt; resultList = query.getResultList();\n</code></pre>\n<p>When I execute this code, I receive the following error:</p>\n<pre><code>org.hibernate.query.QueryTypeMismatchException: Specified result type [com.hcf.test.entities.TestEntitiyParent] did not match Query selection type [com.hcf.test.entities.TestEntitiyChildren] - multiple selections: use Tuple or array\n</code></pre>\n<p>This error didn't occur in previous versions of Hibernate but started happening after the update to version 6.0.0. Can someone explain why this is happening and how I can resolve this issue in Hibernate version 6.0.0?</p>\n<p>Any help or guidance will be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mysql","bufferedreader"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1699198401,"post_id":77426519,"comment_id":136498629,"body_markdown":"Post your code that you have so far.","body":"Post your code that you have so far."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1699198518,"post_id":77426519,"comment_id":136498646,"body_markdown":"&quot;I tried (good idea) but it doesn&#39;t work&quot; isn&#39;t a suitable SO question. Add the code you tried; the _idea_ is fine, if it doesn&#39;t work for you, you have bugs in that. We can help, but only if you add that code so we can point out where you&#39;ve written the bugs.","body":"&quot;I tried (good idea) but it doesn&#39;t work&quot; isn&#39;t a suitable SO question. Add the code you tried; the <i>idea</i> is fine, if it doesn&#39;t work for you, you have bugs in that. We can help, but only if you add that code so we can point out where you&#39;ve written the bugs."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699198911,"post_id":77426519,"comment_id":136498687,"body_markdown":"Doesn&#39;t work is not clarified.","body":"Doesn&#39;t work is not clarified."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1699202461,"post_id":77426519,"comment_id":136499083,"body_markdown":"You have a csv file. Most RDBMS allow direct import from that format","body":"You have a csv file. Most RDBMS allow direct import from that format"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699244773,"post_id":77426519,"comment_id":136502678,"body_markdown":"&quot;Using line.startsWith(&quot;^[0-9].*&quot;) doesn&#39;t seem to work,...&quot; - try `line.matches(^[0-9].*)`, where `line` is the string data for each line in your text file. String class&#39;s `matches` method takes a regex string as an argument.","body":"&quot;Using line.startsWith(&quot;^[0-9].*&quot;) doesn&#39;t seem to work,...&quot; - try <code>line.matches(^[0-9].*)</code>, where <code>line</code> is the string data for each line in your text file. String class&#39;s <code>matches</code> method takes a regex string as an argument."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699259877,"post_id":77426519,"comment_id":136504335,"body_markdown":"In my above comment the code snippet `line.matches(^[0-9].*)` is correctly used as `line.matches(&quot;^[0-9].*&quot;)`. Note the `String#startsWith(String prefix)` does not use a regex as parameter.","body":"In my above comment the code snippet <code>line.matches(^[0-9].*)</code> is correctly used as <code>line.matches(&quot;^[0-9].*&quot;)</code>. Note the <code>String#startsWith(String prefix)</code> does not use a regex as parameter."}],"answers":[{"tags":[],"owner":{"account_id":23198235,"reputation":54,"user_id":17293521,"display_name":"Oğuz Yeşil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699199086,"creation_date":1699199086,"answer_id":77426583,"question_id":77426519,"body_markdown":"this code worked for me\r\n\r\n    public class Main {\r\n\r\n\t\r\n\tpublic static String[][] arrayedDatas(String data){\r\n\t\tString[] datas = data.split(&quot;,&quot;);\r\n\t\t\r\n\t\tint sizeOfData = datas.length/5;\r\n\t\t\r\n\t\tString[][] arrayed = new String[sizeOfData][5];\r\n\t\t\r\n\t\tint j = 0;\r\n\t\tfor(int i=0; i&lt;arrayed.length; i++) {\r\n\t\t\tarrayed[i][0] = datas[j].trim();\r\n\t\t\tarrayed[i][1] = datas[j+1].trim();\r\n\t\t\tarrayed[i][2] = datas[j+2].trim();\r\n\t\t\tarrayed[i][3] = datas[j+3].trim();\r\n\t\t\tarrayed[i][4] = datas[j+4].trim();\r\n\t\t\tj += 5;\r\n\t\t}\r\n\t\t\r\n\t\treturn arrayed;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString datas = &quot;1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100 2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200 3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL 4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300 5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200 6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100 7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300 8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200 9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225 10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;&quot;;\r\n\t\t\r\n\t\tString[][] arrayed = arrayedDatas(datas);\r\n\t\t\r\n\t\tfor(String[] a : arrayed) {\r\n\t\t\tfor(String b : a) {\r\n\t\t\t\tSystem.out.println(b);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;===========&quot;);\r\n\t\t}\r\n\t\t\r\n\t }\r\n\t\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DrgF4.png","title":"Extracting SQL from a .txt","body":"<p>this code worked for me</p>\n<pre><code>public class Main {\n\n\npublic static String[][] arrayedDatas(String data){\n    String[] datas = data.split(&quot;,&quot;);\n    \n    int sizeOfData = datas.length/5;\n    \n    String[][] arrayed = new String[sizeOfData][5];\n    \n    int j = 0;\n    for(int i=0; i&lt;arrayed.length; i++) {\n        arrayed[i][0] = datas[j].trim();\n        arrayed[i][1] = datas[j+1].trim();\n        arrayed[i][2] = datas[j+2].trim();\n        arrayed[i][3] = datas[j+3].trim();\n        arrayed[i][4] = datas[j+4].trim();\n        j += 5;\n    }\n    \n    return arrayed;\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    String datas = &quot;1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100 2, 'Adela', 'Salas', 'Díaz', 'Granada', 200 3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL 4, 'Adrián', 'Suárez', NULL, 'Jaén', 300 5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200 6, 'María', 'Santana', 'Moreno', 'Cádiz', 100 7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300 8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200 9, 'Guillermo', 'López', 'Gómez', 'Granada', 225 10, 'Daniel', 'Santana', 'Loyola', 'Sevilla'&quot;;\n    \n    String[][] arrayed = arrayedDatas(datas);\n    \n    for(String[] a : arrayed) {\n        for(String b : a) {\n            System.out.println(b);\n        }\n        System.out.println(&quot;===========&quot;);\n    }\n    \n }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DrgF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrgF4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28673417,"reputation":1,"user_id":21955977,"display_name":"MPCatcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699199169,"creation_date":1699199169,"answer_id":77426588,"question_id":77426519,"body_markdown":"\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n            String line;\r\n            String currentSection = null;\r\n\r\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\nombr\\\\Downloads\\\\datos_ventas.txt&quot;));\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n                if (line.startsWith(&quot;Cliente&quot;)) {\r\n                    \r\n                    currentSection = &quot;Clientes&quot;;\r\n                    \r\n                    if (line.startsWith(&quot;^[0-9].*&quot;)){\r\n                        \r\n                        String[] valores = line.split(&quot;,&quot;);\r\n                        if (valores != null){\r\n                            String valor1 = valores[0];\r\n                            String valor2 = valores[1];\r\n                            String valor3 = valores[2];\r\n                            String valor4 = valores[3];\r\n                            String valor5 = valores[4];\r\n                            String valor6 = valores[5];\r\n                            System.out.print(&quot;Id : &quot; + valor1);\r\n                            System.out.println(&quot;Nombre : &quot; + valor2);\r\n                            System.out.println(&quot;Apellidos : &quot; + valor3 + &quot; &quot; + valor4);\r\n                            System.out.println(&quot;Vivienda : &quot; + valor5);\r\n                            System.out.println(&quot;Precio : &quot; + valor6);\r\n                            \r\n                            \r\n                        }\r\n                    }\r\n                }\r\n            }","title":"Extracting SQL from a .txt","body":"<pre><code>public static void main(String[] args) throws IOException {\n    try {\n        String line;\n        String currentSection = null;\n\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\nombr\\\\Downloads\\\\datos_ventas.txt&quot;));\n\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n            if (line.startsWith(&quot;Cliente&quot;)) {\n                \n                currentSection = &quot;Clientes&quot;;\n                \n                if (line.startsWith(&quot;^[0-9].*&quot;)){\n                    \n                    String[] valores = line.split(&quot;,&quot;);\n                    if (valores != null){\n                        String valor1 = valores[0];\n                        String valor2 = valores[1];\n                        String valor3 = valores[2];\n                        String valor4 = valores[3];\n                        String valor5 = valores[4];\n                        String valor6 = valores[5];\n                        System.out.print(&quot;Id : &quot; + valor1);\n                        System.out.println(&quot;Nombre : &quot; + valor2);\n                        System.out.println(&quot;Apellidos : &quot; + valor3 + &quot; &quot; + valor4);\n                        System.out.println(&quot;Vivienda : &quot; + valor5);\n                        System.out.println(&quot;Precio : &quot; + valor6);\n                        \n                        \n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699204647,"creation_date":1699204305,"answer_id":77426908,"question_id":77426519,"body_markdown":"Load your file into (temporary) table with the next query:\r\n```\r\nload data infile &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv&#39; -- data file\r\ninto table test                                       -- destination table\r\ncharacter set utf8mb4                                 -- CSV file charset\r\nfields terminated by &#39;,&#39; optionally enclosed by &#39;&#39;&#39;&#39;  -- columns data parsing parameters\r\nlines terminated by &#39;\\r\\n&#39;                            -- lines terminator\r\n(id, name1, name2, name2, city, @data)                -- columns and variables list where the data will be loaded into\r\nset data = nullif(@data, &#39; NULL&#39;);                    -- additional processing loaded data\r\n```\r\nA copy from CLI:\r\n```\r\nmysql&gt; create table test (id int, name1 text, name2 text, name3 text, city text, data int);\r\nQuery OK, 0 rows affected (0.39 sec)\r\n\r\nmysql&gt; load data infile &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv&#39; into table test character set utf8mb4 fields terminated by &#39;,&#39; optionally enclosed by &#39;&#39;&#39;&#39; lines terminated by &#39;\\r\\n&#39; (id, name1, name2, name2, city, @data) set data = nullif(@data, &#39; NULL&#39;);\r\nQuery OK, 10 rows affected (0.07 sec)\r\nRecords: 10  Deleted: 0  Skipped: 0  Warnings: 0\r\n\r\nmysql&gt; SELECT * FROM test;\r\n+------+--------------+------------+-------+-------------+------+\r\n| id   | name1        | name2      | name3 | city        | data |\r\n+------+--------------+------------+-------+-------------+------+\r\n|    1 |  &#39;Aar&#243;n&#39;     |  &#39;G&#243;mez&#39;   | NULL  |  &#39;Almer&#237;a&#39;  |  100 |\r\n|    2 |  &#39;Adela&#39;     |  &#39;D&#237;az&#39;    | NULL  |  &#39;Granada&#39;  |  200 |\r\n|    3 |  &#39;Adolfo&#39;    |  &#39;Flores&#39;  | NULL  |  &#39;Sevilla&#39;  | NULL |\r\n|    4 |  &#39;Adri&#225;n&#39;    |  NULL      | NULL  |  &#39;Ja&#233;n&#39;     |  300 |\r\n|    5 |  &#39;Marcos&#39;    |  &#39;M&#233;ndez&#39;  | NULL  |  &#39;Almer&#237;a&#39;  |  200 |\r\n|    6 |  &#39;Mar&#237;a&#39;     |  &#39;Moreno&#39;  | NULL  |  &#39;C&#225;diz&#39;    |  100 |\r\n|    7 |  &#39;Pilar&#39;     |  NULL      | NULL  |  &#39;Sevilla&#39;  |  300 |\r\n|    8 |  &#39;Pepe&#39;      |  &#39;Santana&#39; | NULL  |  &#39;Huelva&#39;   |  200 |\r\n|    9 |  &#39;Guillermo&#39; |  &#39;G&#243;mez&#39;   | NULL  |  &#39;Granada&#39;  |  225 |\r\n|   10 |  &#39;Daniel&#39;    |  &#39;Loyola&#39;  | NULL  |  &#39;Sevilla&#39;  |  125 |\r\n+------+--------------+------------+-------+-------------+------+\r\n```\r\nThen you can process the loaded data as you need.","title":"Extracting SQL from a .txt","body":"<p>Load your file into (temporary) table with the next query:</p>\n<pre><code>load data infile 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv' -- data file\ninto table test                                       -- destination table\ncharacter set utf8mb4                                 -- CSV file charset\nfields terminated by ',' optionally enclosed by ''''  -- columns data parsing parameters\nlines terminated by '\\r\\n'                            -- lines terminator\n(id, name1, name2, name2, city, @data)                -- columns and variables list where the data will be loaded into\nset data = nullif(@data, ' NULL');                    -- additional processing loaded data\n</code></pre>\n<p>A copy from CLI:</p>\n<pre><code>mysql&gt; create table test (id int, name1 text, name2 text, name3 text, city text, data int);\nQuery OK, 0 rows affected (0.39 sec)\n\nmysql&gt; load data infile 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv' into table test character set utf8mb4 fields terminated by ',' optionally enclosed by '''' lines terminated by '\\r\\n' (id, name1, name2, name2, city, @data) set data = nullif(@data, ' NULL');\nQuery OK, 10 rows affected (0.07 sec)\nRecords: 10  Deleted: 0  Skipped: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test;\n+------+--------------+------------+-------+-------------+------+\n| id   | name1        | name2      | name3 | city        | data |\n+------+--------------+------------+-------+-------------+------+\n|    1 |  'Aarón'     |  'Gómez'   | NULL  |  'Almería'  |  100 |\n|    2 |  'Adela'     |  'Díaz'    | NULL  |  'Granada'  |  200 |\n|    3 |  'Adolfo'    |  'Flores'  | NULL  |  'Sevilla'  | NULL |\n|    4 |  'Adrián'    |  NULL      | NULL  |  'Jaén'     |  300 |\n|    5 |  'Marcos'    |  'Méndez'  | NULL  |  'Almería'  |  200 |\n|    6 |  'María'     |  'Moreno'  | NULL  |  'Cádiz'    |  100 |\n|    7 |  'Pilar'     |  NULL      | NULL  |  'Sevilla'  |  300 |\n|    8 |  'Pepe'      |  'Santana' | NULL  |  'Huelva'   |  200 |\n|    9 |  'Guillermo' |  'Gómez'   | NULL  |  'Granada'  |  225 |\n|   10 |  'Daniel'    |  'Loyola'  | NULL  |  'Sevilla'  |  125 |\n+------+--------------+------------+-------+-------------+------+\n</code></pre>\n<p>Then you can process the loaded data as you need.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699209366,"creation_date":1699209366,"answer_id":77427192,"question_id":77426519,"body_markdown":"You can use this as a basis for strong typing for your insert instead of treating everything as a `String`. You can easily change the `Scanner` to read a file instead of the embedded input:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SqlInserter {\r\n    final static String DATA = &quot;&quot;&quot;\r\n        1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100\r\n        2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200\r\n        3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL\r\n        4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300\r\n        5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200\r\n        6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100\r\n        7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300\r\n        8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200\r\n        9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225\r\n        10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;, 125\r\n        &quot;&quot;&quot;;\r\n\r\n    record Person (Integer id, String name1, String name2, String name3, String city, Integer something) {\r\n        public Person(String[] atoms) {\r\n            this(&quot;NULL&quot;.equals(atoms[0])? null : Integer.valueOf(atoms[0]),\r\n            atoms[1],\r\n            atoms[2],\r\n            atoms[3],\r\n            atoms[4],\r\n            &quot;NULL&quot;.equals(atoms[5])? null : Integer.valueOf(atoms[5]));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try (Scanner s = new Scanner(DATA).useDelimiter(&quot;\\\\R&quot;)) {\r\n            s.tokens()\r\n                .map(line -&gt; line.replaceAll(&quot;&#39;&quot;, &quot;&quot;))\r\n                .map(line -&gt;line.split(&quot;\\\\s*,\\\\s*&quot;))\r\n                .map(a -&gt; new Person(a))\r\n                .forEach(System.out::println);\r\n        }\r\n    }\r\n}\r\n```","title":"Extracting SQL from a .txt","body":"<p>You can use this as a basis for strong typing for your insert instead of treating everything as a <code>String</code>. You can easily change the <code>Scanner</code> to read a file instead of the embedded input:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SqlInserter {\n    final static String DATA = &quot;&quot;&quot;\n        1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100\n        2, 'Adela', 'Salas', 'Díaz', 'Granada', 200\n        3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL\n        4, 'Adrián', 'Suárez', NULL, 'Jaén', 300\n        5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200\n        6, 'María', 'Santana', 'Moreno', 'Cádiz', 100\n        7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300\n        8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200\n        9, 'Guillermo', 'López', 'Gómez', 'Granada', 225\n        10, 'Daniel', 'Santana', 'Loyola', 'Sevilla', 125\n        &quot;&quot;&quot;;\n\n    record Person (Integer id, String name1, String name2, String name3, String city, Integer something) {\n        public Person(String[] atoms) {\n            this(&quot;NULL&quot;.equals(atoms[0])? null : Integer.valueOf(atoms[0]),\n            atoms[1],\n            atoms[2],\n            atoms[3],\n            atoms[4],\n            &quot;NULL&quot;.equals(atoms[5])? null : Integer.valueOf(atoms[5]));\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        try (Scanner s = new Scanner(DATA).useDelimiter(&quot;\\\\R&quot;)) {\n            s.tokens()\n                .map(line -&gt; line.replaceAll(&quot;'&quot;, &quot;&quot;))\n                .map(line -&gt;line.split(&quot;\\\\s*,\\\\s*&quot;))\n                .map(a -&gt; new Person(a))\n                .forEach(System.out::println);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28673417,"reputation":1,"user_id":21955977,"display_name":"MPCatcher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1699209366,"creation_date":1699197915,"question_id":77426519,"body_markdown":"I&#39;m trying to extract values from a text file. The content of the file is as follows:\r\n\r\n\r\nCliente\r\n\r\n    1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100\r\n    2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200\r\n    3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL\r\n    4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300\r\n    5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200\r\n    6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100\r\n    7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300\r\n    8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200\r\n    9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225\r\n    10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;, 125\r\n\r\n\r\nI&#39;ve managed to read the file and get the lines, but I can&#39;t specify the exact lines that start with digits. I want to split the values and add them to an SQL table. Using `line.startsWith(&quot;^[0-9].*&quot;)` doesn&#39;t seem to work, and I&#39;m out of ideas. I tried using a `matcher` to match the line, and it doesn&#39;t work either.\r\n\r\n","title":"Extracting SQL from a .txt","body":"<p>I'm trying to extract values from a text file. The content of the file is as follows:</p>\n<p>Cliente</p>\n<pre><code>1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100\n2, 'Adela', 'Salas', 'Díaz', 'Granada', 200\n3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL\n4, 'Adrián', 'Suárez', NULL, 'Jaén', 300\n5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200\n6, 'María', 'Santana', 'Moreno', 'Cádiz', 100\n7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300\n8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200\n9, 'Guillermo', 'López', 'Gómez', 'Granada', 225\n10, 'Daniel', 'Santana', 'Loyola', 'Sevilla', 125\n</code></pre>\n<p>I've managed to read the file and get the lines, but I can't specify the exact lines that start with digits. I want to split the values and add them to an SQL table. Using <code>line.startsWith(&quot;^[0-9].*&quot;)</code> doesn't seem to work, and I'm out of ideas. I tried using a <code>matcher</code> to match the line, and it doesn't work either.</p>\n"},{"tags":["java","spring-boot","mariadb"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699202893,"post_id":77426655,"comment_id":136499133,"body_markdown":"My guess is that value substituted for OwnerID comparison causes the issue. Btw you use mariadb, not mysql","body":"My guess is that value substituted for OwnerID comparison causes the issue. Btw you use mariadb, not mysql"},{"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"score":0,"creation_date":1699203481,"post_id":77426655,"comment_id":136499215,"body_markdown":"which comparison do you mean? this one OwnerID!=?. If so what&#39;s wrong with it?","body":"which comparison do you mean? this one OwnerID!=?. If so what&#39;s wrong with it?"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699203904,"post_id":77426655,"comment_id":136499278,"body_markdown":"You need to check what gets substituted into the parameter","body":"You need to check what gets substituted into the parameter"},{"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"score":0,"creation_date":1699204734,"post_id":77426655,"comment_id":136499390,"body_markdown":"I modified my query the following way: ...and `Country`=? and `City`=? and OwnerID!=&#39;NameSurname&#39;... and it still throws the same exception. of course I commented UID in my java function:\n                City,\n                //UID,\n                from,","body":"I modified my query the following way: ...and <code>Country</code>=? and <code>City</code>=? and OwnerID!=&#39;NameSurname&#39;... and it still throws the same exception. of course I commented UID in my java function:                 City,                 //UID,                 from,"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699206756,"post_id":77426655,"comment_id":136499643,"body_markdown":"We can&#39;t see the actually executed sql statement, so we cannot be sure what&#39;s going on before the position of the error. The error usually occures just before the part of the code indicated by the near part of the error message.","body":"We can&#39;t see the actually executed sql statement, so we cannot be sure what&#39;s going on before the position of the error. The error usually occures just before the part of the code indicated by the near part of the error message."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699207083,"post_id":77426655,"comment_id":136499687,"body_markdown":"Although the first two criteria in the where clause do not make sense. One is the same as the join clause and the other should be in the join clause.","body":"Although the first two criteria in the where clause do not make sense. One is the same as the join clause and the other should be in the join clause."}],"answers":[{"tags":[],"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699209338,"creation_date":1699209338,"answer_id":77427189,"question_id":77426655,"body_markdown":"When I&#39;ve been deploying app on googlecloud I didn&#39;t notice that I chose incorrect project adam314pi@cloudshell:~/quickadoptionapiserver (**wrong_project**)$. That&#39;s why I&#39;ve been updating wrong project and when I changed project to the correct one everything started to work","title":"spring boot app in google cloud 500 error","body":"<p>When I've been deploying app on googlecloud I didn't notice that I chose incorrect project adam314pi@cloudshell:~/quickadoptionapiserver (<strong>wrong_project</strong>)$. That's why I've been updating wrong project and when I changed project to the correct one everything started to work</p>\n"}],"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77427189,"answer_count":1,"score":0,"last_activity_date":1699209338,"creation_date":1699200232,"question_id":77426655,"body_markdown":"my repository method:\r\n```\r\npublic List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(String Country, String City, String DateRange, String UID) {\r\n        String from = DateRange.split(&quot;-&quot;)[0];\r\n        String to = DateRange.split(&quot;-&quot;)[1];\r\n        return jdbcTemplate.query(\r\n                &quot;SELECT `AnnouncementID`, `AnimalName`, `Species`, `Breed`, `DateRange`, `AnimalImage`, `Country`, `City` FROM `announcement` JOIN `user` ON `announcement`.`OwnerID`=`user`.`UID` WHERE `OwnerID` = `AssignedKeeperID` AND `user`.`UID` = `announcement`.`OwnerID` and `Country`=? and `City`=? and OwnerID!=? and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, -1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND  STR_TO_DATE(?, &#39;%d.%m.%Y&#39;);&quot;,\r\n                BeanPropertyRowMapper.newInstance(PublicAnnouncementListItem.class),\r\n                Country,\r\n                City,\r\n                UID,\r\n                from,\r\n                to,\r\n                from,\r\n                to\r\n        );\r\n    }\r\n```\r\n\r\nmy controller method:\r\n\r\n```\r\n    @GetMapping(&quot;/api/getAllPublicAnnouncementListItems/{Country}/{City}/{DateRange}/{UID}&quot;)\r\n    public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(@PathVariable(&quot;Country&quot;) String Country, @PathVariable(&quot;City&quot;) String City, @PathVariable(&quot;DateRange&quot;) String DateRange, @PathVariable(&quot;UID&quot;) String UID) {\r\n       return announcementsRepository.getAllPublicAnnouncementListItems(Country, City, DateRange, UID);\r\n    }\r\n```\r\n\r\nsql query more readable:\r\n\r\n```\r\nSELECT \r\n`AnnouncementID`, \r\n`AnimalName`,\r\n`Species`, \r\n`Breed`, \r\n`DateRange`, \r\n`AnimalImage`, \r\n`Country`, \r\n`City`\r\nFROM \r\n`announcement`\r\nJOIN `user` ON `announcement`.`OwnerID`=`user`.`UID`\r\nWHERE\r\n `OwnerID` = `AssignedKeeperID` AND\r\n `user`.`UID` = `announcement`.`OwnerID` \r\n  and `Country`=? and `City`=? and OwnerID!=? \r\n  and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) \r\n  AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, -1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;);\r\n``` \r\nquery is for getting records based on specified date range\r\n\r\nTell my what can be wrong with my code. **When I run my app on my local computer it works** but If I deploy my spring boot app to google cloud I got an error: ``` java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR...&#39; at line 1 ```. The interesting is that **when I try to perform my query in php my admin - I mean in database connected to my spring boot app - everything works fine and query doens&#39;t return any error.**","title":"spring boot app in google cloud 500 error","body":"<p>my repository method:</p>\n<pre><code>public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(String Country, String City, String DateRange, String UID) {\n        String from = DateRange.split(&quot;-&quot;)[0];\n        String to = DateRange.split(&quot;-&quot;)[1];\n        return jdbcTemplate.query(\n                &quot;SELECT `AnnouncementID`, `AnimalName`, `Species`, `Breed`, `DateRange`, `AnimalImage`, `Country`, `City` FROM `announcement` JOIN `user` ON `announcement`.`OwnerID`=`user`.`UID` WHERE `OwnerID` = `AssignedKeeperID` AND `user`.`UID` = `announcement`.`OwnerID` and `Country`=? and `City`=? and OwnerID!=? and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', -1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND  STR_TO_DATE(?, '%d.%m.%Y');&quot;,\n                BeanPropertyRowMapper.newInstance(PublicAnnouncementListItem.class),\n                Country,\n                City,\n                UID,\n                from,\n                to,\n                from,\n                to\n        );\n    }\n</code></pre>\n<p>my controller method:</p>\n<pre><code>    @GetMapping(&quot;/api/getAllPublicAnnouncementListItems/{Country}/{City}/{DateRange}/{UID}&quot;)\n    public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(@PathVariable(&quot;Country&quot;) String Country, @PathVariable(&quot;City&quot;) String City, @PathVariable(&quot;DateRange&quot;) String DateRange, @PathVariable(&quot;UID&quot;) String UID) {\n       return announcementsRepository.getAllPublicAnnouncementListItems(Country, City, DateRange, UID);\n    }\n</code></pre>\n<p>sql query more readable:</p>\n<pre><code>SELECT \n`AnnouncementID`, \n`AnimalName`,\n`Species`, \n`Breed`, \n`DateRange`, \n`AnimalImage`, \n`Country`, \n`City`\nFROM \n`announcement`\nJOIN `user` ON `announcement`.`OwnerID`=`user`.`UID`\nWHERE\n `OwnerID` = `AssignedKeeperID` AND\n `user`.`UID` = `announcement`.`OwnerID` \n  and `Country`=? and `City`=? and OwnerID!=? \n  and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y') \n  AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', -1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y');\n</code></pre>\n<p>query is for getting records based on specified date range</p>\n<p>Tell my what can be wrong with my code. <strong>When I run my app on my local computer it works</strong> but If I deploy my spring boot app to google cloud I got an error: <code>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR...' at line 1</code>. The interesting is that <strong>when I try to perform my query in php my admin - I mean in database connected to my spring boot app - everything works fine and query doens't return any error.</strong></p>\n"},{"tags":["java","spring-boot","google-drive-api","google-oauth","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699208951,"post_id":77426660,"comment_id":136499867,"body_markdown":"LocalServerReceiver and AuthorizationCodeInstalledApp are for installed apps.  When you upload or install the app on a new machine it should work the same as it did when you ran it on your machine.   All native applications use localhost.   Redirect uris are only for web applications.","body":"LocalServerReceiver and AuthorizationCodeInstalledApp are for installed apps.  When you upload or install the app on a new machine it should work the same as it did when you ran it on your machine.   All native applications use localhost.   Redirect uris are only for web applications."},{"owner":{"account_id":10590338,"reputation":13,"user_id":7801148,"display_name":"Madushan"},"score":0,"creation_date":1699352193,"post_id":77426660,"comment_id":136517895,"body_markdown":"This is a web application","body":"This is a web application"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699355551,"post_id":77426660,"comment_id":136518579,"body_markdown":"Then your using the wrong code.","body":"Then your using the wrong code."}],"owner":{"account_id":10590338,"reputation":13,"user_id":7801148,"display_name":"Madushan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699208965,"creation_date":1699200290,"question_id":77426660,"body_markdown":"I have successfully tested my file upload application in localhost and now i want it go live. I&#39;m not sure how to replace \r\n\r\n``` LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();``` \r\n\r\nsince I don&#39;t have the IP and port of the redirect URL I can&#39;t change the code like \r\n```\r\n LocalServerReceiver receiver = new LocalServerReceiver.Builder().setHost(&quot;1.1.1.1&quot;).setPort(9090).build();\r\n```\r\n I only have the url like &quot;example.com&quot; \r\nCould anybody help me to go production. \r\n\r\n``` \r\nprivate static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n            throws IOException {\r\n        // Load client secrets.\r\n        InputStream in = StorageServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets =\r\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow,receiver).authorize(&quot;user&quot;);\r\n        return credential;\r\n    } \r\n```\r\n\r\n","title":"Google Drive API Springboot","body":"<p>I have successfully tested my file upload application in localhost and now i want it go live. I'm not sure how to replace</p>\n<p><code> LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();</code></p>\n<p>since I don't have the IP and port of the redirect URL I can't change the code like</p>\n<pre><code> LocalServerReceiver receiver = new LocalServerReceiver.Builder().setHost(&quot;1.1.1.1&quot;).setPort(9090).build();\n</code></pre>\n<p>I only have the url like &quot;example.com&quot;\nCould anybody help me to go production.</p>\n<pre><code>private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n            throws IOException {\n        // Load client secrets.\n        InputStream in = StorageServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets =\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow,receiver).authorize(&quot;user&quot;);\n        return credential;\n    } \n</code></pre>\n"},{"tags":["java","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":7969588,"reputation":21,"user_id":6014758,"display_name":"Sharjeel Tariq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654150531,"creation_date":1654150531,"answer_id":72471479,"question_id":71219018,"body_markdown":"I was going through this same issue. So, I used cfx plugin to generate the class files from WSDL. After that I used maven-replacer-plugin to replace javax.xml.bind imports with jakarta.xml.bind.\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;replace-for-jakarta&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;replace&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;filesToInclude&gt;target/generated-sources/**/*.java&lt;/filesToInclude&gt;\r\n\t\t\t\t\t\t\t&lt;preserveDir&gt;true&lt;/preserveDir&gt;\r\n\t\t\t\t\t\t\t&lt;replacements&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.xml.bind&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.xml.bind&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.xml.ws&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.xml.ws&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.jws&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.jws&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t&lt;/replacements&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"Import WSDL with Java and maven without using deprecated libs","body":"<p>I was going through this same issue. So, I used cfx plugin to generate the class files from WSDL. After that I used maven-replacer-plugin to replace javax.xml.bind imports with jakarta.xml.bind.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;replace-for-jakarta&lt;/id&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;replace&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filesToInclude&gt;target/generated-sources/**/*.java&lt;/filesToInclude&gt;\n                        &lt;preserveDir&gt;true&lt;/preserveDir&gt;\n                        &lt;replacements&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.xml.bind&lt;/token&gt;\n                                &lt;value&gt;jakarta.xml.bind&lt;/value&gt;\n                            &lt;/replacement&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.xml.ws&lt;/token&gt;\n                                &lt;value&gt;jakarta.xml.ws&lt;/value&gt;\n                            &lt;/replacement&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.jws&lt;/token&gt;\n                                &lt;value&gt;jakarta.jws&lt;/value&gt;\n                            &lt;/replacement&gt;\n                        &lt;/replacements&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5519376,"reputation":21,"user_id":4382882,"display_name":"Marisa B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699208362,"creation_date":1645523130,"question_id":71219018,"body_markdown":"I&#39;m trying to update the Java version of a Java project (using intellij as IDE).\r\n\r\nSo, I installed JDK 17 and I found out that wsimport was removed. But is there any solution/alternative that is not deprecated so I can import and generate java classes?\r\n\r\nI also found that I can still use wsimport (only if I set as java path Java 8) and run the code with maven jaxws-rt, but that packages in 2022 also look like they&#39;re already deprecated too, because I can only use 2.x version.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nthere&#39;s already a &quot;3.0.2&quot; version, but if I update it i&#39;ll get a compilation error when I execute &quot;mvn clean install&quot;:\r\npackage javax.jws does not exist\r\n\r\nand the runtime error when I try to consume the service:\r\njavax.xml.ws.WebServiceException: Provider com.sun.xml.internal.ws.spi.ProviderImpl not found\r\n\tat javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:61) ~[jaxws-api-2.3.1.jar:?]\r\n\r\n\r\nthe is my pom.xml file:\r\n\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;log4j.version&gt;2.17.0&lt;/log4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;rm.ccr.JCCUI&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- Copy project dependency --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;!-- exclude junit, we need runtime dependency only --&gt;\r\n\t\t\t\t\t\t\t&lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/lib/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.jgoodies/jgoodies-common --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jgoodies-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-cli/commons-cli --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jai_core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jgoodies-forms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\r\nSo, these are in reality two questions:\r\n\r\n1- How can I generate wsdl java classes only with jdk17 and non-deprecated libs.\r\n\r\n2- How can I consume SOAP services in java without deprecated libs?\r\n","title":"Import WSDL with Java and maven without using deprecated libs","body":"<p>I'm trying to update the Java version of a Java project (using intellij as IDE).</p>\n<p>So, I installed JDK 17 and I found out that wsimport was removed. But is there any solution/alternative that is not deprecated so I can import and generate java classes?</p>\n<p>I also found that I can still use wsimport (only if I set as java path Java 8) and run the code with maven jaxws-rt, but that packages in 2022 also look like they're already deprecated too, because I can only use 2.x version.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>there's already a &quot;3.0.2&quot; version, but if I update it i'll get a compilation error when I execute &quot;mvn clean install&quot;:\npackage javax.jws does not exist</p>\n<p>and the runtime error when I try to consume the service:\njavax.xml.ws.WebServiceException: Provider com.sun.xml.internal.ws.spi.ProviderImpl not found\nat javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:61) ~[jaxws-api-2.3.1.jar:?]</p>\n<p>the is my pom.xml file:</p>\n<pre><code>&lt;properties&gt;\n    &lt;log4j.version&gt;2.17.0&lt;/log4j.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;rm.ccr.JCCUI&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Copy project dependency --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- exclude junit, we need runtime dependency only --&gt;\n                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.jgoodies/jgoodies-common --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\n        &lt;artifactId&gt;jgoodies-common&lt;/artifactId&gt;\n        &lt;version&gt;1.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-cli/commons-cli --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jai_core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\n        &lt;artifactId&gt;jgoodies-forms&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n</code></pre>\n<p>So, these are in reality two questions:</p>\n<p>1- How can I generate wsdl java classes only with jdk17 and non-deprecated libs.</p>\n<p>2- How can I consume SOAP services in java without deprecated libs?</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699134461,"post_id":77423922,"comment_id":136493926,"body_markdown":"Please use multiline code (``` in a single line) format for logs and code. Using Quote format makes it unreadable.","body":"Please use multiline code (``` in a single line) format for logs and code. Using Quote format makes it unreadable."}],"owner":{"account_id":21861237,"reputation":31,"user_id":16152010,"display_name":"Kingsley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699207453,"creation_date":1699134202,"question_id":77423922,"body_markdown":"I keep getting this error when I try using react native navigation.\r\n\r\nhow do I go about solving it.\r\n\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\n```\r\nA problem occurred configuring project &#39;:react-native-safe-area-context&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:react-native-safe-area-context:classpath&#39;.\r\n   &gt; Could not download kotlin-gradle-plugin-1.6.20.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar&#39;.\r\n            &gt; No such host is known (repo.maven.apache.org)\r\n   &gt; Could not download kotlin-android-extensions-1.6.20.jar (org.jetbrains.kotlin:kotlin-android-extensions:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-compiler-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-scripting-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-scripting-compiler-impl-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-impl-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-native-utils-1.6.20.jar (org.jetbrains.kotlin:kotlin-native-utils:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-daemon-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n```","title":"* What went wrong: A problem occurred configuring project &#39;:react-native-safe-area-context&#39;","body":"<p>I keep getting this error when I try using react native navigation.</p>\n<p>how do I go about solving it.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:</li>\n</ul>\n<pre><code>A problem occurred configuring project ':react-native-safe-area-context'.\n&gt; Could not resolve all files for configuration ':react-native-safe-area-context:classpath'.\n   &gt; Could not download kotlin-gradle-plugin-1.6.20.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar'.\n            &gt; No such host is known (repo.maven.apache.org)\n   &gt; Could not download kotlin-android-extensions-1.6.20.jar (org.jetbrains.kotlin:kotlin-android-extensions:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-compiler-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-scripting-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-scripting-compiler-impl-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-impl-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-native-utils-1.6.20.jar (org.jetbrains.kotlin:kotlin-native-utils:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-daemon-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n</code></pre>\n"},{"tags":["java","macos","java-home"],"comments":[{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":3,"creation_date":1602595554,"post_id":64335935,"comment_id":113765361,"body_markdown":"That is just the JAVA_HOME variable. You need to add $JAVA_HOME/bin to your $PATH. Please check your $PATH variable","body":"That is just the JAVA_HOME variable. You need to add $JAVA_HOME/bin to your $PATH. Please check your $PATH variable"},{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1602595678,"post_id":64335935,"comment_id":113765418,"body_markdown":"Try this one, I believe the others are for the current session and terminal: https://stackoverflow.com/a/44169445/6950859","body":"Try this one, I believe the others are for the current session and terminal: <a href=\"https://stackoverflow.com/a/44169445/6950859\">stackoverflow.com/a/44169445/6950859</a>"}],"answers":[{"comments":[{"owner":{"account_id":14143908,"reputation":603,"user_id":10217754,"display_name":"Exter"},"score":0,"creation_date":1671522207,"post_id":64336726,"comment_id":132111572,"body_markdown":"Anybody who comes here after hours of debugging, just do what he says, works like a charm.","body":"Anybody who comes here after hours of debugging, just do what he says, works like a charm."},{"owner":{"account_id":1201314,"reputation":990,"user_id":1171926,"accept_rate":50,"display_name":"David Rector"},"score":0,"creation_date":1693435997,"post_id":64336726,"comment_id":135762577,"body_markdown":"I just wish this answer included more than &quot;use someone&#39;s software because it&#39;s too hard to explain how to get around these problems.&quot; If sdkman can fix it then it should be something we fix without sdkman.","body":"I just wish this answer included more than &quot;use someone&#39;s software because it&#39;s too hard to explain how to get around these problems.&quot; If sdkman can fix it then it should be something we fix without sdkman."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602597720,"creation_date":1602597720,"answer_id":64336726,"question_id":64335935,"body_markdown":"Install [sdkman](https://sdkman.io) which takes care of the rather tedious command line voodoo you have to employ to try to make this happen. The problem is, JAVA_HOME is just an environment variable, it changes nothing - only tools that explicitly look for it (generally, maven and ant for example) will be affected by messing with it. When you type `java` on a mac, it runs `/usr/bin/java`, which is not a file you can change even as root. This java will then invoke the real java, and __does not look at JAVA_HOME__ to get the job done: It is a softlink to `/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java`, and because it is in `/System` you can&#39;t change that either, not even as root.\r\n\r\nThat&#39;s why this is so hard, and why you want a nice tool (sdkman) to do it for you.\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>Install <a href=\"https://sdkman.io\" rel=\"noreferrer\">sdkman</a> which takes care of the rather tedious command line voodoo you have to employ to try to make this happen. The problem is, JAVA_HOME is just an environment variable, it changes nothing - only tools that explicitly look for it (generally, maven and ant for example) will be affected by messing with it. When you type <code>java</code> on a mac, it runs <code>/usr/bin/java</code>, which is not a file you can change even as root. This java will then invoke the real java, and <strong>does not look at JAVA_HOME</strong> to get the job done: It is a softlink to <code>/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java</code>, and because it is in <code>/System</code> you can't change that either, not even as root.</p>\n<p>That's why this is so hard, and why you want a nice tool (sdkman) to do it for you.</p>\n"},{"tags":[],"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602602301,"creation_date":1602602301,"answer_id":64338099,"question_id":64335935,"body_markdown":"Try `export JAVA_HOME=&#39;/usr/libexec/java_home -v 11&#39;` (without the minor version), it outputs the right java -version for me on Mac.","title":"(Mac OS) JAVA version does not change","body":"<p>Try <code>export JAVA_HOME='/usr/libexec/java_home -v 11'</code> (without the minor version), it outputs the right java -version for me on Mac.</p>\n"},{"tags":[],"owner":{"account_id":5458748,"reputation":524,"user_id":4341458,"accept_rate":20,"display_name":"Pelonomi Moiloa"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616591687,"creation_date":1616591687,"answer_id":66781847,"question_id":64335935,"body_markdown":"The removal of quotes around the JAVA_HOME and then setting the path variable variable worked for me (Mac OS Catalina):\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n ","title":"(Mac OS) JAVA version does not change","body":"<p>The removal of quotes around the JAVA_HOME and then setting the path variable variable worked for me (Mac OS Catalina):</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3531464,"reputation":16212,"user_id":8160318,"display_name":"Joe - Check out my books"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642762136,"creation_date":1642762136,"answer_id":70800090,"question_id":64335935,"body_markdown":"If you need to switch between versions and already have the JDKs installed, you can adjust your bash profile with aliases that reset `JAVA_HOME` and reinitialize your `PATH` each time:\r\n```bash\r\nexport JAVA_11_HOME=$(/usr/libexec/java_home -v11)\r\nexport JAVA_14_HOME=$(/usr/libexec/java_home -v14)\r\n\r\nalias java11=&#39;export JAVA_HOME=$JAVA_11_HOME; export PATH=$JAVA_HOME/bin:$PATH&#39;\r\nalias java14=&#39;export JAVA_HOME=$JAVA_14_HOME; export PATH=$JAVA_HOME/bin:$PATH&#39;\r\n```\r\n\r\nThen, after restarting your terminal session, you can switch back and forth:\r\n```bash\r\n$ java11\r\n$ java -version\r\n```\r\nand \r\n```bash\r\n$ java14\r\n$ java -version\r\n```","title":"(Mac OS) JAVA version does not change","body":"<p>If you need to switch between versions and already have the JDKs installed, you can adjust your bash profile with aliases that reset <code>JAVA_HOME</code> and reinitialize your <code>PATH</code> each time:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_11_HOME=$(/usr/libexec/java_home -v11)\nexport JAVA_14_HOME=$(/usr/libexec/java_home -v14)\n\nalias java11='export JAVA_HOME=$JAVA_11_HOME; export PATH=$JAVA_HOME/bin:$PATH'\nalias java14='export JAVA_HOME=$JAVA_14_HOME; export PATH=$JAVA_HOME/bin:$PATH'\n</code></pre>\n<p>Then, after restarting your terminal session, you can switch back and forth:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java11\n$ java -version\n</code></pre>\n<p>and</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java14\n$ java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22412926,"reputation":1,"user_id":16621418,"display_name":"buddhasatta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699206994,"creation_date":1699206994,"answer_id":77427063,"question_id":64335935,"body_markdown":"I also faced the same problem in my apple macbook pro with m1 arm chip.\r\nThe solution is simple.\r\n\r\n1: First You have to check that what are the installed JDK in your computer .For That you have to use the following command.\r\n\r\n/usr/libexec/java_home -V\r\n\r\nAbove will give yout the versions  like\r\n 20.0.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 20.0.1&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home\r\n    16.0.1 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 16&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-16.jdk/Contents/Home\r\n    11.0.20 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.20&quot; /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\r\n    11.0.19 (arm64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home\r\n\r\n\r\nYou have to select the version from here and then apply like this\r\n\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n ** mind it you dont have to specify the complete version of the java but the normal one (means not 11.0.6. but 11.o or 1.8 as per ur requirement)**\r\n\r\n2:You have to put these command in the .bashrc and .zshrc and do source over them.\r\n\r\nI think this will solve your problem\r\n\r\n\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>I also faced the same problem in my apple macbook pro with m1 arm chip.\nThe solution is simple.</p>\n<p>1: First You have to check that what are the installed JDK in your computer .For That you have to use the following command.</p>\n<p>/usr/libexec/java_home -V</p>\n<p>Above will give yout the versions  like\n20.0.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 20.0.1&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home\n16.0.1 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 16&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-16.jdk/Contents/Home\n11.0.20 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.20&quot; /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\n11.0.19 (arm64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home</p>\n<p>You have to select the version from here and then apply like this</p>\n<p>export JAVA_HOME=<code>/usr/libexec/java_home -v 1.8</code>\n** mind it you dont have to specify the complete version of the java but the normal one (means not 11.0.6. but 11.o or 1.8 as per ur requirement)**</p>\n<p>2:You have to put these command in the .bashrc and .zshrc and do source over them.</p>\n<p>I think this will solve your problem</p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10538,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1699206994,"creation_date":1602594440,"question_id":64335935,"body_markdown":"I have 2 JAVA version on my Macbook. I want to change version from 14 to 11. I found 2 solutions on the internet but both are not working.\r\n\r\nMy **java -version** result is \r\n\r\n    openjdk version &quot;14.0.1&quot; 2020-04-14\r\n    OpenJDK Runtime Environment (build 14.0.1+14)\r\n    OpenJDK 64-Bit Server VM (build 14.0.1+14, mixed mode, sharing)\r\n\r\n**1st Solution (https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x),**\r\n I run **/usr/libexec/java_home -V** then I got a result below,\r\n\r\n    Matching Java Virtual Machines (2):\r\n    14.0.1, x86_64:\t&quot;OpenJDK 14.0.1&quot;\t/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\r\n    11.0.8, x86_64:\t&quot;Java SE 11.0.8&quot;\t/Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\r\n\r\nThen I did \r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\r\n\r\nAfter checking from **java -version**, The result is still 14.0.1\r\n\r\n**2nd solution (https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently),** I edit ~/.bash_profile file as below,\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\r\n\r\nAnd I run command\r\n\r\n    source ~/.bash_profile\r\n    echo $JAVA_HOME\r\n\r\nIt shows the result,\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\r\n\r\nBut when I check the result with **java -version**, It&#39;s still 14.0.1 as well\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>I have 2 JAVA version on my Macbook. I want to change version from 14 to 11. I found 2 solutions on the internet but both are not working.</p>\n<p>My <strong>java -version</strong> result is</p>\n<pre><code>openjdk version &quot;14.0.1&quot; 2020-04-14\nOpenJDK Runtime Environment (build 14.0.1+14)\nOpenJDK 64-Bit Server VM (build 14.0.1+14, mixed mode, sharing)\n</code></pre>\n<p><strong>1st Solution (<a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x\">How to set or change the default Java (JDK) version on OS X?</a>),</strong>\nI run <strong>/usr/libexec/java_home -V</strong> then I got a result below,</p>\n<pre><code>Matching Java Virtual Machines (2):\n14.0.1, x86_64: &quot;OpenJDK 14.0.1&quot;    /Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\n11.0.8, x86_64: &quot;Java SE 11.0.8&quot;    /Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\n</code></pre>\n<p>Then I did</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\n</code></pre>\n<p>After checking from <strong>java -version</strong>, The result is still 14.0.1</p>\n<p><strong>2nd solution (<a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\">How to set JAVA_HOME in Mac permanently?</a>),</strong> I edit ~/.bash_profile file as below,</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\n</code></pre>\n<p>And I run command</p>\n<pre><code>source ~/.bash_profile\necho $JAVA_HOME\n</code></pre>\n<p>It shows the result,</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\n</code></pre>\n<p>But when I check the result with <strong>java -version</strong>, It's still 14.0.1 as well</p>\n"},{"tags":["javascript","java","spring","pdf-generation"],"comments":[{"owner":{"account_id":20037859,"reputation":1,"user_id":14689166,"display_name":"elyes"},"score":0,"creation_date":1699273706,"post_id":77427043,"comment_id":136506721,"body_markdown":"Can you elaborate more please how can I introduce a delay from outside for the javascript to be executed before the pdf?","body":"Can you elaborate more please how can I introduce a delay from outside for the javascript to be executed before the pdf?"}],"owner":{"account_id":20037859,"reputation":1,"user_id":14689166,"display_name":"elyes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699206601,"creation_date":1699206601,"question_id":77427043,"body_markdown":"The code works and generates the pdf, but only the static html part and not the javascript generated chart: \r\n```\r\n&lt;!-- report.html --&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js&quot;&gt;&lt;/script&gt; \r\n\r\n&lt;/head&gt;\r\n&lt;p&gt;this is chart&lt;/p&gt;\r\n&lt;body&gt;\r\n&lt;div style=&quot;width: 800px; height: 400px;&quot;&gt;\r\n    &lt;canvas id=&quot;barChart&quot;&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;/static/js/ChartInitialization.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nHere is the script, which is working fine with the HTML when opened in the browser and it generates the chart correctly:\r\n```\r\n\r\nvar barData = [10, 20, 30, 40, 50];\r\n\r\n\r\nvar barChart = new Chart(document.getElementById(&#39;barChart&#39;).getContext(&#39;2d&#39;), {\r\n    type: &#39;bar&#39;,\r\n    data: {\r\n        labels: [&#39;Label 1&#39;, &#39;Label 2&#39;, &#39;Label 3&#39;, &#39;Label 4&#39;, &#39;Label 5&#39;],\r\n        datasets: [{\r\n            label: &#39;Bar Chart&#39;,\r\n            data: barData,\r\n            backgroundColor: &#39;rgba(75, 192, 192, 0.2)&#39;,\r\n            borderColor: &#39;rgba(75, 192, 192, 1)&#39;,\r\n            borderWidth: 1\r\n        }]\r\n    },\r\n});\r\n```\r\nHere is the controller code:\r\n```\r\npackage com.example.chartjs.controllers;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport org.xhtmlrenderer.pdf.ITextRenderer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.IOException;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/pdf&quot;)\r\npublic class PDFController {\r\n\r\n    @Autowired\r\n    private TemplateEngine templateEngine;\r\n\r\n    @GetMapping(&quot;/generate&quot;)\r\n    public void generatePDF(HttpServletResponse response) {\r\n        Context context = new Context();\r\n\r\n\r\n        String htmlContent = templateEngine.process(&quot;report&quot;, context);\r\n\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        try {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.setDocumentFromString(htmlContent);\r\n            renderer.layout();\r\n            renderer.createPDF(os, false);\r\n            renderer.finishPDF();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        response.setContentType(&quot;application/pdf&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=report.pdf&quot;);\r\n\r\n        try (OutputStream out = response.getOutputStream()) {\r\n            os.writeTo(out);\r\n            os.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;m not sure if the javascript code is executing after the generation of the pdf, or is there some other issue.","title":"I&#39;m trying to generate a pdf from a HTML with a javascript in it via a java spring endpoint","body":"<p>The code works and generates the pdf, but only the static html part and not the javascript generated chart:</p>\n<pre><code>&lt;!-- report.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js&quot;&gt;&lt;/script&gt; \n\n&lt;/head&gt;\n&lt;p&gt;this is chart&lt;/p&gt;\n&lt;body&gt;\n&lt;div style=&quot;width: 800px; height: 400px;&quot;&gt;\n    &lt;canvas id=&quot;barChart&quot;&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n\n&lt;script type=&quot;text/javascript&quot; src=&quot;/static/js/ChartInitialization.js&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is the script, which is working fine with the HTML when opened in the browser and it generates the chart correctly:</p>\n<pre><code>\nvar barData = [10, 20, 30, 40, 50];\n\n\nvar barChart = new Chart(document.getElementById('barChart').getContext('2d'), {\n    type: 'bar',\n    data: {\n        labels: ['Label 1', 'Label 2', 'Label 3', 'Label 4', 'Label 5'],\n        datasets: [{\n            label: 'Bar Chart',\n            data: barData,\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            borderColor: 'rgba(75, 192, 192, 1)',\n            borderWidth: 1\n        }]\n    },\n});\n</code></pre>\n<p>Here is the controller code:</p>\n<pre><code>package com.example.chartjs.controllers;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.xhtmlrenderer.pdf.ITextRenderer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport javax.servlet.http.HttpServletResponse;\n\n@Controller\n@RequestMapping(&quot;/pdf&quot;)\npublic class PDFController {\n\n    @Autowired\n    private TemplateEngine templateEngine;\n\n    @GetMapping(&quot;/generate&quot;)\n    public void generatePDF(HttpServletResponse response) {\n        Context context = new Context();\n\n\n        String htmlContent = templateEngine.process(&quot;report&quot;, context);\n\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n        try {\n            ITextRenderer renderer = new ITextRenderer();\n            renderer.setDocumentFromString(htmlContent);\n            renderer.layout();\n            renderer.createPDF(os, false);\n            renderer.finishPDF();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        response.setContentType(&quot;application/pdf&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=report.pdf&quot;);\n\n        try (OutputStream out = response.getOutputStream()) {\n            os.writeTo(out);\n            os.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure if the javascript code is executing after the generation of the pdf, or is there some other issue.</p>\n"},{"tags":["java","macos","arm","x86-64","apple-m1"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687448944,"post_id":76533631,"comment_id":134941564,"body_markdown":"On linux I would do `file $(which javac)` and it would tell me what kind of architecture it was compiled for. Not sure it works on mac but worth a try.","body":"On linux I would do <code>file $(which javac)</code> and it would tell me what kind of architecture it was compiled for. Not sure it works on mac but worth a try."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687452915,"post_id":76533631,"comment_id":134942329,"body_markdown":"When Java was developed I don&#39;t think anybody considered that an os may be able to execute more than one architecture.  And the common way to check if an app uses Rosetta isn&#39;t feasible in Java: https://developer.apple.com/forums/thread/653009. The only way I see is by try and error e.g. by trying to load a library of MacOS you know that is arm64 via `System.load()`. If this works Java is an arm64 version.","body":"When Java was developed I don&#39;t think anybody considered that an os may be able to execute more than one architecture.  And the common way to check if an app uses Rosetta isn&#39;t feasible in Java: <a href=\"https://developer.apple.com/forums/thread/653009\" rel=\"nofollow noreferrer\">developer.apple.com/forums/thread/653009</a>. The only way I see is by try and error e.g. by trying to load a library of MacOS you know that is arm64 via <code>System.load()</code>. If this works Java is an arm64 version."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1687534558,"post_id":76533631,"comment_id":134955367,"body_markdown":"@FedericoklezCulloca Great, that works on macOS, and could become accepted answer.","body":"@FedericoklezCulloca Great, that works on macOS, and could become accepted answer."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687534778,"post_id":76533631,"comment_id":134955424,"body_markdown":"@PaulVerest and an answer it is, now.","body":"@PaulVerest and an answer it is, now."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1687534826,"post_id":76533631,"comment_id":134955437,"body_markdown":"@Robert At least it is possibly from command line &#39;file $JAVA_HOME/bin/javac&#39;\nSo so it would be possible (thought no nice) to run similar from within Java","body":"@Robert At least it is possibly from command line &#39;file $JAVA_HOME/bin/javac&#39; So so it would be possible (thought no nice) to run similar from within Java"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687541827,"post_id":76533631,"comment_id":134956843,"body_markdown":"Considering the answer from Federico you could search for a library that allows to parse MachO files and that can handle thin and fat binaries and allows to extract the info what architectures the contained Macho files require. Then you could read the Java binary that is currently executed to get the info.","body":"Considering the answer from Federico you could search for a library that allows to parse MachO files and that can handle thin and fat binaries and allows to extract the info what architectures the contained Macho files require. Then you could read the Java binary that is currently executed to get the info."}],"answers":[{"comments":[{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":1,"creation_date":1687535897,"post_id":76541598,"comment_id":134955653,"body_markdown":"Thanks! Sometimes knowing/using the correct words is already half way. Now I could find https://stackoverflow.com/questions/12105253/determine-jre-architecture-32-bit-vs-64-bit and https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program that used to be common problem.","body":"Thanks! Sometimes knowing/using the correct words is already half way. Now I could find <a href=\"https://stackoverflow.com/questions/12105253/determine-jre-architecture-32-bit-vs-64-bit\" title=\"determine jre architecture 32 bit vs 64 bit\">stackoverflow.com/questions/12105253/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program\" title=\"how can i tell if im running in 64 bit jvm or 32 bit jvm from within a program\">stackoverflow.com/questions/2062020/&hellip;</a> that used to be common problem."}],"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687535663,"creation_date":1687534767,"answer_id":76541598,"question_id":76533631,"body_markdown":"If you only need to check by hand you can use the `file` utility which, for executables, should tell you what architecture the binary was built for.\r\n\r\nSo assuming you want to know about the `javac` that&#39;s on your path you can run\r\n\r\n    file $(which javac)\r\n\r\nOr, more generally\r\n\r\n    file /path/to/your/binary\r\n\r\nAnd read its output.\r\n\r\nAn example:\r\n\r\n\r\n`$ file $JAVA_HOME/bin/javac`\r\n\r\n&gt;/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/javac: Mach-O 64-bit executable x86_64\r\n\r\n`$ file $JAVA_OTHER_HOME/bin/javac`\r\n\r\n&gt;/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362-1/Contents/Home/bin/javac: Mach-O 64-bit executable arm64\r\n\r\n","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>If you only need to check by hand you can use the <code>file</code> utility which, for executables, should tell you what architecture the binary was built for.</p>\n<p>So assuming you want to know about the <code>javac</code> that's on your path you can run</p>\n<pre><code>file $(which javac)\n</code></pre>\n<p>Or, more generally</p>\n<pre><code>file /path/to/your/binary\n</code></pre>\n<p>And read its output.</p>\n<p>An example:</p>\n<p><code>$ file $JAVA_HOME/bin/javac</code></p>\n<blockquote>\n<p>/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/javac: Mach-O 64-bit executable x86_64</p>\n</blockquote>\n<p><code>$ file $JAVA_OTHER_HOME/bin/javac</code></p>\n<blockquote>\n<p>/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362-1/Contents/Home/bin/javac: Mach-O 64-bit executable arm64</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11915443,"reputation":67,"user_id":9393379,"display_name":"tkrakowian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699206026,"creation_date":1699206026,"answer_id":77427007,"question_id":76533631,"body_markdown":"on macOS 14 and later the easiest way is to use the command: \r\n\r\n```/usr/libexec/java_home -V```\r\n\r\nthe answer will be something like this \r\n\r\n```\r\nMatching Java Virtual Machines (1):\r\n    21.0.1 (arm64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 21.0.1&quot; /Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\r\n```\r\n\r\nso: \r\n```21.0.1``` -&gt; version\r\n```arm64``` -&gt; architecture (Apple Sillicon)\r\n```Eclipse Adoptium``` -&gt; distribution","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>on macOS 14 and later the easiest way is to use the command:</p>\n<p><code>/usr/libexec/java_home -V</code></p>\n<p>the answer will be something like this</p>\n<pre><code>Matching Java Virtual Machines (1):\n    21.0.1 (arm64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 21.0.1&quot; /Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\n</code></pre>\n<p>so:\n<code>21.0.1</code> -&gt; version\n<code>arm64</code> -&gt; architecture (Apple Sillicon)\n<code>Eclipse Adoptium</code> -&gt; distribution</p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76541598,"answer_count":2,"score":2,"last_activity_date":1699206026,"creation_date":1687448847,"question_id":76533631,"body_markdown":"Because on Apple with M1, M2 ... (Apple Silicon) it is possible to install both JDK for arm (aka arm64) or for Intel CPU (aka amd64), and it will just work, there is problem to tell (to colleague on other mac) how to check\r\n\r\n**How to check that installed JDK on mac is for arm64 or amd64 ?**\r\n 1. From command line?\r\n 2. From within Java program? (not the OS arch `System.getProperty(&quot;os.arch&quot;)`)\r\n\r\nFor example `mvn -v` used to be enough to tell all details.\r\n\r\n```bash\r\nmvn -v\r\nApache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\r\nMaven home: /opt/homebrew/Cellar/maven/3.9.1/libexec\r\nJava version: 17.0.6, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-17.0.6-1/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;13.4&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nJDK java/javac don&#39;t give clue either.\r\n```bash\r\njavac -version\r\njavac 17.0.6\r\n\r\njava -version\r\nopenjdk version &quot;17.0.6&quot; 2023-01-17 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\r\n```\r\n\r\nWe also have JDK installed by scripts, JDK installed in docker container.\r\nThere should be some common way to check.\r\n\r\n","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>Because on Apple with M1, M2 ... (Apple Silicon) it is possible to install both JDK for arm (aka arm64) or for Intel CPU (aka amd64), and it will just work, there is problem to tell (to colleague on other mac) how to check</p>\n<p><strong>How to check that installed JDK on mac is for arm64 or amd64 ?</strong></p>\n<ol>\n<li>From command line?</li>\n<li>From within Java program? (not the OS arch <code>System.getProperty(&quot;os.arch&quot;)</code>)</li>\n</ol>\n<p>For example <code>mvn -v</code> used to be enough to tell all details.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -v\nApache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\nMaven home: /opt/homebrew/Cellar/maven/3.9.1/libexec\nJava version: 17.0.6, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-17.0.6-1/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.4&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>JDK java/javac don't give clue either.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -version\njavac 17.0.6\n\njava -version\nopenjdk version &quot;17.0.6&quot; 2023-01-17 LTS\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\n</code></pre>\n<p>We also have JDK installed by scripts, JDK installed in docker container.\nThere should be some common way to check.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","graphql"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1699208979,"post_id":77426979,"comment_id":136499871,"body_markdown":"Please enable spring security DEBUG logs and edit your question to include the full logs.","body":"Please enable spring security DEBUG logs and edit your question to include the full logs."}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699205569,"creation_date":1699205569,"question_id":77426979,"body_markdown":"I have been trying to implement GraphAPI methods authorization. But, always get 403.\r\n\r\n**Environment:**\r\n\r\n - JDK 17\r\n - Spring Boot 3.1.5\r\n - MongoDB\r\n - Spring Security \r\n - Graph QL\r\n - OS: MacOS\r\n\r\nJDK 17\r\n\r\nMy application file looks like:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration;\r\n    import org.springframework.context.annotation.EnableAspectJAutoProxy;\r\n    \r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class,\r\n    \tUserDetailsServiceAutoConfiguration.class})\r\n    @EnableAspectJAutoProxy\r\n    public class JoblobApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(JoblobApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\nBook entity looks like: \r\n\r\n    @Document(collection = &quot;books&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Book {\r\n        @Id\r\n        private String id;\r\n        private String title;\r\n        private String author;\r\n    \r\n        // Getters and setters\r\n    }\r\n\r\nBook Repository :\r\n\r\n\r\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\r\n    }\r\n\r\nGraphQL Resolver:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Component\r\n    public @interface GraphQLResolver {\r\n    }\r\n\r\n\r\n    @Component\r\n    public class ResourceResolver {\r\n    \r\n    \r\n    \r\n        @Autowired\r\n        private BookRepository bookRepository;\r\n    \r\n        @QueryMapping\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n        public List&lt;Book&gt; books() {\r\n            return bookRepository.findAll();\r\n        }\r\n    \r\n        @QueryMapping\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n        public Book bookById(String id) {\r\n            return bookRepository.findById(id).orElse(null);\r\n        }\r\n    }\r\n\r\nGraphQL Aspect:\r\n\r\n\r\n    @Aspect\r\n    @Component\r\n    @Order(1)\r\n    public class SecurityQraphQLAspect {\r\n        @Before(&quot;allGraphQLResolverMethods() &amp;&amp; isDefinedInApplication() &amp;&amp; !isMethodAnnotatedAsUnsecured()&quot;)\r\n        public void doSecurityCheck() {\r\n            if (SecurityContextHolder.getContext() == null ||\r\n                SecurityContextHolder.getContext().getAuthentication() == null ||\r\n                !SecurityContextHolder.getContext().getAuthentication().isAuthenticated() ||\r\n                AnonymousAuthenticationToken.class.isAssignableFrom(SecurityContextHolder.getContext().getAuthentication().getClass())) {\r\n                throw new AccessDeniedException(&quot;User not authenticated&quot;);\r\n            }\r\n        }\r\n        @Pointcut(&quot;@annotation(resolver.GraphQLResolver)&quot;)\r\n        private void allGraphQLResolverMethods() {\r\n        }\r\n         @Pointcut(&quot;within(resolver.*)&quot;)\r\n        private void isDefinedInApplication() {\r\n        }\r\n        @Pointcut(&quot;execution(public java.lang.String resolver.ResourceResolver.unsecuredResource())&quot;)\r\n        private void isUnsecuredResourceMethod() {\r\n        }\r\n    \r\n        @Pointcut(&quot;@annotation(oresolver.Unsecured)&quot;)\r\n        private void isMethodAnnotatedAsUnsecured() {\r\n        }\r\n    }\r\n\r\nAnnotation Unsecured:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface Unsecured {\r\n    }\r\n\r\n\r\nWhenever I try to access using graphiql it returns 403. If I add @Unsecured to any query method it returns the response.\r\n\r\nSecurity config looks like:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration {\r\n        private static final String REALM_ACCESS_CLAIM = &quot;realm_access&quot;;\r\n        private static final String ROLES_CLAIM = &quot;roles&quot;;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .oauth2Client()\r\n                .and()\r\n                .oauth2Login()\r\n                .tokenEndpoint()\r\n                .and()\r\n                .userInfoEndpoint();\r\n    \r\n            http\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n    \r\n            http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/unauthenticated&quot;, &quot;/graphiql&quot;,&quot;/graphql&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .fullyAuthenticated()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(\r\n                    &quot;http://localhost:8180/realms/test/protocol/openid-connect/logout?redirect_uri=http://localhost:9999/&quot;);\r\n            http.csrf().disable();\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public GrantedAuthoritiesMapper userAuthoritiesMapperForKeycloak() {\r\n            return authorities -&gt; {\r\n                Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\r\n                var authority = authorities.iterator().next();\r\n                boolean isOidc = authority instanceof OidcUserAuthority;\r\n    \r\n                if (isOidc) {\r\n                    var oidcUserAuthority = (OidcUserAuthority) authority;\r\n                    var userInfo = oidcUserAuthority.getUserInfo();\r\n    \r\n                    if (userInfo.hasClaim(REALM_ACCESS_CLAIM)) {\r\n                        var realmAccess = userInfo.getClaimAsMap(REALM_ACCESS_CLAIM);\r\n                        var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\r\n                        mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\r\n                    }\r\n                } else {\r\n                    var oauth2UserAuthority = (OAuth2UserAuthority) authority;\r\n                    Map&lt;String, Object&gt; userAttributes = oauth2UserAuthority.getAttributes();\r\n    \r\n                    if (userAttributes.containsKey(REALM_ACCESS_CLAIM)) {\r\n                        var realmAccess = (Map&lt;String, Object&gt;) userAttributes.get(REALM_ACCESS_CLAIM);\r\n                        var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\r\n                        mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\r\n                    }\r\n                }\r\n                return mappedAuthorities;\r\n            };\r\n        }\r\n    \r\n        Collection&lt;GrantedAuthority&gt; generateAuthoritiesFromClaim(Collection&lt;String&gt; roles) {\r\n            return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.toUpperCase(Locale.ROOT))).collect(Collectors.toList());\r\n        }","title":"GraphQL with Spring Boot Security returning 403","body":"<p>I have been trying to implement GraphAPI methods authorization. But, always get 403.</p>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>JDK 17</li>\n<li>Spring Boot 3.1.5</li>\n<li>MongoDB</li>\n<li>Spring Security</li>\n<li>Graph QL</li>\n<li>OS: MacOS</li>\n</ul>\n<p>JDK 17</p>\n<p>My application file looks like:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration;\nimport org.springframework.context.annotation.EnableAspectJAutoProxy;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class,\n    UserDetailsServiceAutoConfiguration.class})\n@EnableAspectJAutoProxy\npublic class JoblobApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(JoblobApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Book entity looks like:</p>\n<pre><code>@Document(collection = &quot;books&quot;)\n@Getter\n@Setter\npublic class Book {\n    @Id\n    private String id;\n    private String title;\n    private String author;\n\n    // Getters and setters\n}\n</code></pre>\n<p>Book Repository :</p>\n<pre><code>public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n}\n</code></pre>\n<p>GraphQL Resolver:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Component\npublic @interface GraphQLResolver {\n}\n\n\n@Component\npublic class ResourceResolver {\n\n\n\n    @Autowired\n    private BookRepository bookRepository;\n\n    @QueryMapping\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    public List&lt;Book&gt; books() {\n        return bookRepository.findAll();\n    }\n\n    @QueryMapping\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    public Book bookById(String id) {\n        return bookRepository.findById(id).orElse(null);\n    }\n}\n</code></pre>\n<p>GraphQL Aspect:</p>\n<pre><code>@Aspect\n@Component\n@Order(1)\npublic class SecurityQraphQLAspect {\n    @Before(&quot;allGraphQLResolverMethods() &amp;&amp; isDefinedInApplication() &amp;&amp; !isMethodAnnotatedAsUnsecured()&quot;)\n    public void doSecurityCheck() {\n        if (SecurityContextHolder.getContext() == null ||\n            SecurityContextHolder.getContext().getAuthentication() == null ||\n            !SecurityContextHolder.getContext().getAuthentication().isAuthenticated() ||\n            AnonymousAuthenticationToken.class.isAssignableFrom(SecurityContextHolder.getContext().getAuthentication().getClass())) {\n            throw new AccessDeniedException(&quot;User not authenticated&quot;);\n        }\n    }\n    @Pointcut(&quot;@annotation(resolver.GraphQLResolver)&quot;)\n    private void allGraphQLResolverMethods() {\n    }\n     @Pointcut(&quot;within(resolver.*)&quot;)\n    private void isDefinedInApplication() {\n    }\n    @Pointcut(&quot;execution(public java.lang.String resolver.ResourceResolver.unsecuredResource())&quot;)\n    private void isUnsecuredResourceMethod() {\n    }\n\n    @Pointcut(&quot;@annotation(oresolver.Unsecured)&quot;)\n    private void isMethodAnnotatedAsUnsecured() {\n    }\n}\n</code></pre>\n<p>Annotation Unsecured:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Unsecured {\n}\n</code></pre>\n<p>Whenever I try to access using graphiql it returns 403. If I add @Unsecured to any query method it returns the response.</p>\n<p>Security config looks like:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration {\n    private static final String REALM_ACCESS_CLAIM = &quot;realm_access&quot;;\n    private static final String ROLES_CLAIM = &quot;roles&quot;;\n\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http\n            .oauth2Client()\n            .and()\n            .oauth2Login()\n            .tokenEndpoint()\n            .and()\n            .userInfoEndpoint();\n\n        http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n\n        http\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/unauthenticated&quot;, &quot;/graphiql&quot;,&quot;/graphql&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;).permitAll()\n            .anyRequest()\n            .fullyAuthenticated()\n            .and()\n            .logout()\n            .logoutSuccessUrl(\n                &quot;http://localhost:8180/realms/test/protocol/openid-connect/logout?redirect_uri=http://localhost:9999/&quot;);\n        http.csrf().disable();\n        return http.build();\n    }\n\n    @Bean\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public GrantedAuthoritiesMapper userAuthoritiesMapperForKeycloak() {\n        return authorities -&gt; {\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\n            var authority = authorities.iterator().next();\n            boolean isOidc = authority instanceof OidcUserAuthority;\n\n            if (isOidc) {\n                var oidcUserAuthority = (OidcUserAuthority) authority;\n                var userInfo = oidcUserAuthority.getUserInfo();\n\n                if (userInfo.hasClaim(REALM_ACCESS_CLAIM)) {\n                    var realmAccess = userInfo.getClaimAsMap(REALM_ACCESS_CLAIM);\n                    var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\n                    mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\n                }\n            } else {\n                var oauth2UserAuthority = (OAuth2UserAuthority) authority;\n                Map&lt;String, Object&gt; userAttributes = oauth2UserAuthority.getAttributes();\n\n                if (userAttributes.containsKey(REALM_ACCESS_CLAIM)) {\n                    var realmAccess = (Map&lt;String, Object&gt;) userAttributes.get(REALM_ACCESS_CLAIM);\n                    var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\n                    mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\n                }\n            }\n            return mappedAuthorities;\n        };\n    }\n\n    Collection&lt;GrantedAuthority&gt; generateAuthoritiesFromClaim(Collection&lt;String&gt; roles) {\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.toUpperCase(Locale.ROOT))).collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557843134,"post_id":56132447,"comment_id":98895874,"body_markdown":"can you add your http request ? are you sure you are passing the request body ?","body":"can you add your http request ? are you sure you are passing the request body ?"},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557843590,"post_id":56132447,"comment_id":98896183,"body_markdown":"@NaderHajlaoui i have updated my question","body":"@NaderHajlaoui i have updated my question"},{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557843982,"post_id":56132447,"comment_id":98896440,"body_markdown":"you need to provide the request body, otherwise you&#39;ll always have 400 bad request. because when you look at your endpoint signature `@Valid @RequestBody ProjectTask projectTask` we clearly see that a `projectTask` is needed as input.","body":"you need to provide the request body, otherwise you&#39;ll always have 400 bad request. because when you look at your endpoint signature <code>@Valid @RequestBody ProjectTask projectTask</code> we clearly see that a <code>projectTask</code> is needed as input."},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557844452,"post_id":56132447,"comment_id":98896765,"body_markdown":"@NaderHajlaoui how can i provide what u said?","body":"@NaderHajlaoui how can i provide what u said?"},{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557844571,"post_id":56132447,"comment_id":98896846,"body_markdown":"when you call your endpoint, you have to provide the request body, if you&#39;re using postman, you need to put some data in the body as `application/json`, please refer to my answer, i provided a sample request code, you can import it in your postman.","body":"when you call your endpoint, you have to provide the request body, if you&#39;re using postman, you need to put some data in the body as <code>application&#47;json</code>, please refer to my answer, i provided a sample request code, you can import it in your postman."}],"answers":[{"comments":[{"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"score":0,"creation_date":1557843718,"post_id":56132518,"comment_id":98896260,"body_markdown":"@rediramaj you still need to add a json object to your request body. I think it will work with an empty one as well. eg {}","body":"@rediramaj you still need to add a json object to your request body. I think it will work with an empty one as well. eg {}"},{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":1,"creation_date":1557843800,"post_id":56132518,"comment_id":98896302,"body_markdown":"it wont work with empty json body, because we have constraint on `summary`\n`@NotBlank(message = &quot;summary cannot be blank&quot;)`","body":"it wont work with empty json body, because we have constraint on <code>summary</code> <code>@NotBlank(message = &quot;summary cannot be blank&quot;)</code>"},{"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"score":0,"creation_date":1557844151,"post_id":56132518,"comment_id":98896546,"body_markdown":"I&#39;ve updated the screenshot. try adding that json object to the body of the request","body":"I&#39;ve updated the screenshot. try adding that json object to the body of the request"},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557844408,"post_id":56132518,"comment_id":98896741,"body_markdown":"@PPetkov should i add in the method or the projecttask class?","body":"@PPetkov should i add in the method or the projecttask class?"},{"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"score":0,"creation_date":1557844523,"post_id":56132518,"comment_id":98896815,"body_markdown":"you add it to your HTTP request in Postman as the request body","body":"you add it to your HTTP request in Postman as the request body"},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557844583,"post_id":56132518,"comment_id":98896855,"body_markdown":"@PPetkov not quite following you sorry","body":"@PPetkov not quite following you sorry"},{"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"score":0,"creation_date":1557845044,"post_id":56132518,"comment_id":98897173,"body_markdown":"copy the request from the screenshot above exactly as you see it @rediramaj","body":"copy the request from the screenshot above exactly as you see it @rediramaj"}],"tags":[],"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557844464,"creation_date":1557843264,"answer_id":56132518,"question_id":56132447,"body_markdown":"Since it is a @PostMapping you need to make a postman POST request like this:\r\n[![enter image description here][1]][1]\r\n\r\nmake sure to select `raw` and content type of `application/json` along with a json object for the body of the request\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1Bvu.png","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>Since it is a @PostMapping you need to make a postman POST request like this:\n<a href=\"https://i.stack.imgur.com/I1Bvu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1Bvu.png\" alt=\"enter image description here\"></a></p>\n\n<p>make sure to select <code>raw</code> and content type of <code>application/json</code> along with a json object for the body of the request</p>\n"},{"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557845202,"post_id":56132831,"comment_id":98897272,"body_markdown":"can you please validate the answer","body":"can you please validate the answer"}],"tags":[],"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557844227,"creation_date":1557844227,"answer_id":56132831,"question_id":56132447,"body_markdown":"Redi here&#39;s a sample request : \r\n```\r\ncurl -X POST \\\r\n  &#39;http://&gt;&gt;&gt;&gt; your endpoint url&#39; \\\r\n  -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;{\r\n&quot;summary&quot; : &quot;sample summary&quot;,\r\n&quot;acceptanceCriteria&quot; : &quot;blabla&quot;,\r\n&quot;status&quot; : &quot;fake status&quot;\r\n}&#39;\r\n```","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>Redi here's a sample request : </p>\n\n<pre><code>curl -X POST \\\n  'http://&gt;&gt;&gt;&gt; your endpoint url' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n\"summary\" : \"sample summary\",\n\"acceptanceCriteria\" : \"blabla\",\n\"status\" : \"fake status\"\n}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557864386,"creation_date":1557863439,"answer_id":56137691,"question_id":56132447,"body_markdown":"That&#39;s right..! Yeah you are sending a bad request. You have to send request payload in POST request.\n\n\n**Solution :** \nWhile sending the POST request please send with body like this in your case.\n\n    {\n    &quot;summary&quot;:&quot;any&quot;,\n    &quot;acceptance&quot;:&quot;any&quot;,\n    &quot;status&quot;:&quot;any&quot;\n    }","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>That's right..! Yeah you are sending a bad request. You have to send request payload in POST request.</p>\n\n<p><strong>Solution :</strong> \nWhile sending the POST request please send with body like this in your case.</p>\n\n<pre><code>{\n\"summary\":\"any\",\n\"acceptance\":\"any\",\n\"status\":\"any\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27772579,"reputation":34,"user_id":21202611,"display_name":"Imran Ullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686174982,"creation_date":1686032196,"answer_id":76411890,"question_id":56132447,"body_markdown":" You can follow these steps, hope it&#39;ll work:\r\n\r\n 1. Open Postman and locate the &quot;Import&quot; button located on the top left corner.\r\n 2. Click on the &quot;Import&quot; button and select the &quot;Paste Raw Text&quot; option.\r\n 3. In the text field that appears, paste the curl command I&#39;ve provided below:\r\n```\r\ncurl --location &#39;http://localhost:8080/api/board&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{\r\n        &quot;summary&quot;: &quot;Sample summary&quot;,\r\n        &quot;acceptanceCriteria&quot;: &quot;Sample acceptance criteria&quot;,\r\n        &quot;status&quot;: &quot;Sample status&quot;\r\n    }&#39;\r\n```\r\n\r\n 4. Click the &quot;Continue&quot; button to import the curl command.\r\n\r\n 5. Adjust the sample values in the JSON request body (summary, acceptanceCriteria, and status) with your own data.\r\n\r\n 6. Finally, click the &quot;Send&quot; button to make the POST request to `http://localhost:8080/api/board`.\r\n\r\n   \r\n\r\n","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>You can follow these steps, hope it'll work:</p>\n<ol>\n<li>Open Postman and locate the &quot;Import&quot; button located on the top left corner.</li>\n<li>Click on the &quot;Import&quot; button and select the &quot;Paste Raw Text&quot; option.</li>\n<li>In the text field that appears, paste the curl command I've provided below:</li>\n</ol>\n<pre><code>curl --location 'http://localhost:8080/api/board' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\n        &quot;summary&quot;: &quot;Sample summary&quot;,\n        &quot;acceptanceCriteria&quot;: &quot;Sample acceptance criteria&quot;,\n        &quot;status&quot;: &quot;Sample status&quot;\n    }'\n</code></pre>\n<ol start=\"4\">\n<li><p>Click the &quot;Continue&quot; button to import the curl command.</p>\n</li>\n<li><p>Adjust the sample values in the JSON request body (summary, acceptanceCriteria, and status) with your own data.</p>\n</li>\n<li><p>Finally, click the &quot;Send&quot; button to make the POST request to <code>http://localhost:8080/api/board</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20346,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1699204136,"creation_date":1557843040,"question_id":56132447,"body_markdown":"\r\nI am learning Spring-Boot features and going through them also with Postman. But when i run the code i get 400 Bad Request Error on Postman like this: \r\n&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;&quot;. Have i missed an attribute or the coding is all the way wrong?\r\n\r\n\r\n\r\n     @RestController\r\n     @RequestMapping(&quot;/api/board&quot;)\r\n     @CrossOrigin\r\n    public class ProjectTaskController {\r\n\t\r\n\t@Autowired\r\n\tprivate ProjectTaskService projectTaskService;\r\n\t\r\n\t@PostMapping(&quot;&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addPTToBoard( @Valid @RequestBody ProjectTask projectTask, BindingResult result){\r\n\t\tif(result.hasErrors()) {\r\n\t\t\tMap&lt;String, String&gt; errorMap= new HashMap&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor(FieldError error: result.getFieldErrors()) {\r\n\t\t\t\terrorMap.put(error.getField(), error.getDefaultMessage());\r\n\t\t\t}\r\n\t\t\t return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\t\r\n\t\tProjectTask newPT= projectTaskService.saveOrUpdateProjectTask(projectTask);\r\n\t\treturn new ResponseEntity&lt;ProjectTask&gt;(newPT, HttpStatus.CREATED);\r\n\t}\r\n\r\nThe projectTask code, it has getters and setters also.\r\n\r\n    @Entity\r\n    public class ProjectTask {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@NotBlank(message = &quot;summary cannot be blank&quot;)\r\n\tprivate String summary;\r\n\tprivate String acceptanceCriteria;\r\n\tprivate String status;\r\n\t\r\n\tpublic ProjectTask() {\r\n\t\t\r\n\t}\r\n\r\n[Postman request][1] Here\r\n\r\n  [1]: https://i.stack.imgur.com/57BUX.jpg\r\n\r\n","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>I am learning Spring-Boot features and going through them also with Postman. But when i run the code i get 400 Bad Request Error on Postman like this: \n\"Required request body is missing: public org.springframework.http.ResponseEntity\". Have i missed an attribute or the coding is all the way wrong?</p>\n\n<pre><code> @RestController\n @RequestMapping(\"/api/board\")\n @CrossOrigin\npublic class ProjectTaskController {\n\n@Autowired\nprivate ProjectTaskService projectTaskService;\n\n@PostMapping(\"\")\npublic ResponseEntity&lt;?&gt; addPTToBoard( @Valid @RequestBody ProjectTask projectTask, BindingResult result){\n    if(result.hasErrors()) {\n        Map&lt;String, String&gt; errorMap= new HashMap&lt;&gt;();\n\n        for(FieldError error: result.getFieldErrors()) {\n            errorMap.put(error.getField(), error.getDefaultMessage());\n        }\n         return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\n    }\n\n    ProjectTask newPT= projectTaskService.saveOrUpdateProjectTask(projectTask);\n    return new ResponseEntity&lt;ProjectTask&gt;(newPT, HttpStatus.CREATED);\n}\n</code></pre>\n\n<p>The projectTask code, it has getters and setters also.</p>\n\n<pre><code>@Entity\npublic class ProjectTask {\n\n@Id\n@GeneratedValue(strategy= GenerationType.IDENTITY)\nprivate long id;\n\n@NotBlank(message = \"summary cannot be blank\")\nprivate String summary;\nprivate String acceptanceCriteria;\nprivate String status;\n\npublic ProjectTask() {\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/57BUX.jpg\" rel=\"noreferrer\">Postman request</a> Here</p>\n"},{"tags":["java","jackson","micronaut"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696019857,"post_id":77198236,"comment_id":136105396,"body_markdown":"By the way, generally best to use only [ISO 8601](https://en.m.wikipedia.org/wiki/ISO_8601) standard formats for data-exchange.","body":"By the way, generally best to use only <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats for data-exchange."}],"answers":[{"comments":[{"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"score":0,"creation_date":1696172623,"post_id":77204632,"comment_id":136116637,"body_markdown":"I&#39;m not using kotlin. I haven&#39;t done anything with kotlin-maven-plugin.","body":"I&#39;m not using kotlin. I haven&#39;t done anything with kotlin-maven-plugin."}],"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696019206,"creation_date":1696019206,"answer_id":77204632,"question_id":77198236,"body_markdown":"The annotation processor micronaut-serde-processor wasn&#39;t running, that was the cause.\r\n\r\n(I&#39;d moved my dtos out to a separate jar file / maven module, from one that had the annotation processor configured in its pom to one that didn&#39;t).","title":"Micronaut deserialize into LocalDateTime","body":"<p>The annotation processor micronaut-serde-processor wasn't running, that was the cause.</p>\n<p>(I'd moved my dtos out to a separate jar file / maven module, from one that had the annotation processor configured in its pom to one that didn't).</p>\n"}],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77204632,"answer_count":1,"score":0,"last_activity_date":1699203133,"creation_date":1695934614,"question_id":77198236,"body_markdown":"I&#39;ve got a request body class that looks like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import io.micronaut.serde.annotation.Serdeable;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    import java.time.LocalDateTime;\r\n\r\n    @Data\r\n    @Serdeable\r\n    public class CheckDto {\r\n    \r\n        ...\r\n    \r\n        @NotNull\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n        private LocalDateTime startTime;\r\n    }\r\n\r\nIf I manually deserialize it with Jackson and JSR310, it works fine. If I leave it to Micronaut&#39;s reimplementation of Jackson it fails (seems to break when it gets to the space). I can repeat it with a test class:\r\n\r\n    import io.micronaut.serde.ObjectMapper;\r\n    import mypackage.CheckDto;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n    \r\n        private static final ObjectMapper mapper = ObjectMapper.getDefault();\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String json = &quot;{\\&quot;startTime\\&quot;:\\&quot;2023-09-28 17:00\\&quot;}&quot;;\r\n            CheckDto dto = mapper.readValue(json, CheckDto.class);\r\n    \r\n            System.out.println(dto.getStartTime());\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; io.micronaut.serde.exceptions.SerdeException: Error decoding property [LocalDateTime startTime] of type [class mypackage.CheckDto]: Text &#39;2023-09-28 17:00&#39; could not be parsed at index 10\r\n    \tat io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:825)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeInto(SimpleObjectDeserializer.java:96)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserialize(SimpleObjectDeserializer.java:68)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeNullable(SimpleObjectDeserializer.java:78)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue0(JacksonJsonMapper.java:130)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:122)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:168)\r\n    \tat io.micronaut.json.JsonMapper.readValue(JsonMapper.java:141)\r\n    \tat io.micronaut.json.JsonMapper.readValue(JsonMapper.java:168)\r\n    \tat Test.main(Test.java:12)\r\n    Caused by: java.time.format.DateTimeParseException: Text &#39;2023-09-28 17:00&#39; could not be parsed at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\r\n    \tat io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:71)\r\n    \tat io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:35)\r\n    \tat io.micronaut.serde.Deserializer.deserializeNullable(Deserializer.java:85)\r\n    \tat io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:806)\r\n    \t... 9 more\r\n\r\nAny suggestions? Thanks.\r\n\r\nETA: Perhaps I should point out, I *think* I had this working under Micronaut 3, I&#39;ve upgraded to 4 recently.","title":"Micronaut deserialize into LocalDateTime","body":"<p>I've got a request body class that looks like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport io.micronaut.serde.annotation.Serdeable;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\nimport java.time.LocalDateTime;\n\n@Data\n@Serdeable\npublic class CheckDto {\n\n    ...\n\n    @NotNull\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    private LocalDateTime startTime;\n}\n</code></pre>\n<p>If I manually deserialize it with Jackson and JSR310, it works fine. If I leave it to Micronaut's reimplementation of Jackson it fails (seems to break when it gets to the space). I can repeat it with a test class:</p>\n<pre><code>import io.micronaut.serde.ObjectMapper;\nimport mypackage.CheckDto;\n\nimport java.io.IOException;\n\npublic class Test {\n\n    private static final ObjectMapper mapper = ObjectMapper.getDefault();\n\n    public static void main(String[] args) throws IOException {\n        String json = &quot;{\\&quot;startTime\\&quot;:\\&quot;2023-09-28 17:00\\&quot;}&quot;;\n        CheckDto dto = mapper.readValue(json, CheckDto.class);\n\n        System.out.println(dto.getStartTime());\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; io.micronaut.serde.exceptions.SerdeException: Error decoding property [LocalDateTime startTime] of type [class mypackage.CheckDto]: Text '2023-09-28 17:00' could not be parsed at index 10\n    at io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:825)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeInto(SimpleObjectDeserializer.java:96)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserialize(SimpleObjectDeserializer.java:68)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeNullable(SimpleObjectDeserializer.java:78)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue0(JacksonJsonMapper.java:130)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:122)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:168)\n    at io.micronaut.json.JsonMapper.readValue(JsonMapper.java:141)\n    at io.micronaut.json.JsonMapper.readValue(JsonMapper.java:168)\n    at Test.main(Test.java:12)\nCaused by: java.time.format.DateTimeParseException: Text '2023-09-28 17:00' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\n    at io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:71)\n    at io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:35)\n    at io.micronaut.serde.Deserializer.deserializeNullable(Deserializer.java:85)\n    at io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:806)\n    ... 9 more\n</code></pre>\n<p>Any suggestions? Thanks.</p>\n<p>ETA: Perhaps I should point out, I <em>think</em> I had this working under Micronaut 3, I've upgraded to 4 recently.</p>\n"},{"tags":["java","mongodb","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1596067195,"post_id":63164092,"comment_id":111695013,"body_markdown":"Does it build from the command line using `mvn clean package`? What error do you see there? Is there any proxy configuration required for your system?","body":"Does it build from the command line using <code>mvn clean package</code>? What error do you see there? Is there any proxy configuration required for your system?"},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1596067378,"post_id":63164092,"comment_id":111695044,"body_markdown":"What does `mvn dependency:tree`say about this?","body":"What does <code>mvn dependency:tree</code>say about this?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1596080839,"post_id":63164092,"comment_id":111697634,"body_markdown":"Given the pom that you&#39;ve shared, there is no mention of `org.mongodb:mongodb-driver-sync` and its not a transitive dependency of the [artifact `mongo-java-driver`](https://search.maven.org/artifact/org.mongodb/mongo-java-driver/3.12.6/jar) either. Also, this doesn&#39;t quite relate to the Java version, so editing the tags.","body":"Given the pom that you&#39;ve shared, there is no mention of <code>org.mongodb:mongodb-driver-sync</code> and its not a transitive dependency of the <a href=\"https://search.maven.org/artifact/org.mongodb/mongo-java-driver/3.12.6/jar\" rel=\"nofollow noreferrer\">artifact <code>mongo-java-driver</code></a> either. Also, this doesn&#39;t quite relate to the Java version, so editing the tags."}],"answers":[{"tags":[],"owner":{"account_id":13285643,"reputation":530,"user_id":9591844,"display_name":"dinobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596067244,"creation_date":1596067244,"answer_id":63164226,"question_id":63164092,"body_markdown":"please [read installation][1]\r\n\r\nyou can try this \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.12/driver/getting-started/installation/#mongodb-driver-sync","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>please <a href=\"https://mongodb.github.io/mongo-java-driver/3.12/driver/getting-started/installation/#mongodb-driver-sync\" rel=\"nofollow noreferrer\">read installation</a></p>\n<p>you can try this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14590756,"reputation":73,"user_id":10537960,"display_name":"Sean E."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596144887,"creation_date":1596144887,"answer_id":63181703,"question_id":63164092,"body_markdown":"So after restarting IntelliJ the above code seems to work fine. I&#39;m unsure of where the issue was, but the dependency is being found now without any changes to the pom.","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>So after restarting IntelliJ the above code seems to work fine. I'm unsure of where the issue was, but the dependency is being found now without any changes to the pom.</p>\n"},{"tags":[],"owner":{"account_id":14584317,"reputation":109,"user_id":10533692,"display_name":"kriti arora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685965201,"creation_date":1685965201,"answer_id":76406047,"question_id":63164092,"body_markdown":"If you are working on VPN for different environments, please make sure it is connected to the environment of your data. This happened with me. ","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>If you are working on VPN for different environments, please make sure it is connected to the environment of your data. This happened with me.</p>\n"},{"tags":[],"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699201198,"creation_date":1699200809,"answer_id":77426688,"question_id":63164092,"body_markdown":"On the right side of the IDEA, click `Maven`\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nClick `blue circled button`. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z91jk.png\r\n  [2]: https://i.stack.imgur.com/fSGn1.png\r\n\r\nThen dependencies should throw no more errors. \r\n\r\n","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>On the right side of the IDEA, click <code>Maven</code></p>\n<p><a href=\"https://i.stack.imgur.com/z91jk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z91jk.png\" alt=\"enter image description here\" /></a></p>\n<p>Click <code>blue circled button</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/fSGn1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSGn1.png\" alt=\"enter image description here\" /></a></p>\n<p>Then dependencies should throw no more errors.</p>\n"}],"owner":{"account_id":14590756,"reputation":73,"user_id":10537960,"display_name":"Sean E."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5463,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63181703,"answer_count":4,"score":1,"last_activity_date":1699201198,"creation_date":1596066215,"question_id":63164092,"body_markdown":"The title says it all really, my pom is shown below:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CouncillorsApp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe following error is given:\r\n\r\n&quot;Dependency &#39;org.mongodb:mongodb-driver-sync:3.10.2&#39; not found&quot;\r\n\r\n\r\nI&#39;m using Java 14.0.2 and the latest version of IntelliJ","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>The title says it all really, my pom is shown below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;CouncillorsApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.12.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The following error is given:</p>\n<p>&quot;Dependency 'org.mongodb:mongodb-driver-sync:3.10.2' not found&quot;</p>\n<p>I'm using Java 14.0.2 and the latest version of IntelliJ</p>\n"},{"tags":["java","amazon-sqs","aws-java-sdk"],"comments":[{"owner":{"account_id":263350,"reputation":792,"user_id":548841,"accept_rate":60,"display_name":"mjuopperi"},"score":0,"creation_date":1436208043,"post_id":31252207,"comment_id":50503412,"body_markdown":"Are you passing the endpoint to your method so that it&#39;s set? It&#39;s required.","body":"Are you passing the endpoint to your method so that it&#39;s set? It&#39;s required."},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":0,"creation_date":1436210530,"post_id":31252207,"comment_id":50504849,"body_markdown":"Yes, the constructor sets the endpoint for the sqs object.","body":"Yes, the constructor sets the endpoint for the sqs object."},{"owner":{"account_id":6522903,"reputation":4553,"user_id":5046548,"display_name":"David Murray"},"score":12,"creation_date":1436238443,"post_id":31252207,"comment_id":50514377,"body_markdown":"Does your instance role have permission to call GetQueueUrl? You&#39;re bypassing that call when using the CLI by manually constructing the QueueUrl parameter.","body":"Does your instance role have permission to call GetQueueUrl? You&#39;re bypassing that call when using the CLI by manually constructing the QueueUrl parameter."},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":1,"creation_date":1436289593,"post_id":31252207,"comment_id":50544566,"body_markdown":"@DavidMurray that is a good point. I was not aware if there were permissions needed to call getQueueUrl(). I might need to check it. Do they need to be the same as the Queue permissions? Or how does it work?","body":"@DavidMurray that is a good point. I was not aware if there were permissions needed to call getQueueUrl(). I might need to check it. Do they need to be the same as the Queue permissions? Or how does it work?"},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":0,"creation_date":1436293903,"post_id":31252207,"comment_id":50547101,"body_markdown":"The permissions were added to access getQueueUrl(). I have edited my question to show how I call the method and the place it errors out.","body":"The permissions were added to access getQueueUrl(). I have edited my question to show how I call the method and the place it errors out."},{"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"score":2,"creation_date":1469028385,"post_id":31252207,"comment_id":64371417,"body_markdown":"@DavidMurray +1 Your suggestion solved my problem. Worthy of an answer.","body":"@DavidMurray +1 Your suggestion solved my problem. Worthy of an answer."}],"answers":[{"tags":[],"owner":{"account_id":53076,"reputation":50835,"user_id":158668,"accept_rate":100,"display_name":"Dennis Traub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686220705,"creation_date":1686220705,"answer_id":76430993,"question_id":31252207,"body_markdown":"As [David Murray][1] pointed out in the comments above, if the SQS Queue exists, it probably is an issue with the permissions. Make sure that the EC2 instance role is allowed to use the `sqs:GetQueueUrl` action.\r\n\r\nHere&#39;s an example policy including the necessary statement.:\r\n\r\n    {\r\n       &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n       &quot;Statement&quot;: [{\r\n          &quot;Effect&quot;: &quot;Allow&quot;,\r\n          &quot;Action&quot;: &quot;sqs:GetQueueUrl&quot;,\r\n          &quot;Resource&quot;: &quot;QUEUE_ARN&quot;\r\n       }]\r\n    }\r\n\r\n(make sure to replace `QUEUE_ARN` with SQS queue ARN)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5046548/david-murray","title":"Amazon SQS Queue Does Not Exist","body":"<p>As <a href=\"https://stackoverflow.com/users/5046548/david-murray\">David Murray</a> pointed out in the comments above, if the SQS Queue exists, it probably is an issue with the permissions. Make sure that the EC2 instance role is allowed to use the <code>sqs:GetQueueUrl</code> action.</p>\n<p>Here's an example policy including the necessary statement.:</p>\n<pre><code>{\n   &quot;Version&quot;: &quot;2012-10-17&quot;,\n   &quot;Statement&quot;: [{\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Action&quot;: &quot;sqs:GetQueueUrl&quot;,\n      &quot;Resource&quot;: &quot;QUEUE_ARN&quot;\n   }]\n}\n</code></pre>\n<p>(make sure to replace <code>QUEUE_ARN</code> with SQS queue ARN)</p>\n"}],"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11809,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699200315,"creation_date":1436204279,"question_id":31252207,"body_markdown":"I am trying to access an amazon queue using java sdk. The queue is set in an environment with EC2 instance roles so I do not need to use credentials to access it.\r\nHere is my code\r\n\r\n    public AWSSimpleQueueServiceClient(String queueName, String endPoint) {\r\n\t\ttry{\r\n\t\t\tthis.queueName = queueName;\r\n\t\t\tlogger.debug(&quot;Queue Name = &quot; + this.queueName + &quot;Endpoint = &quot; + endPoint);\r\n\t\t\tthis.sqs = new AmazonSQSClient(new InstanceProfileCredentialsProvider());\r\n\t\t\tif(endPoint != null) {\r\n\t\t\t\tthis.sqs.setEndpoint(endPoint);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Exception while creating AWS SQS Client = &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nQueueName and Endpoint are got from configuration files.\r\nI try to send/receive messages from the queue but it gives me the following exception\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist or you do not have access to it. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: c30b2c9a-0e62-560d-9306-628ebff676d8)\r\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2422)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:66)\r\n\r\nHowever, when I try to access the queue using the curl command, I get a response\r\n\r\n    aws sqs receive-message --queue-url &lt;Endpoint&gt;/031143137427/&lt;QueueName&gt; --    region us-east-1\r\n     {\r\n        &quot;Messages&quot;: [\r\n            {\r\n                &quot;Body&quot;: &quot;Test&quot;, \r\n                &quot;ReceiptHandle&quot;:     &quot;AQEBA49LjMDLPyyl4QKwHx9/oVFDV7mZDiOOpdKS/IC2zR3GNblg2IoHuqWBgr5iw7URCkL03Dm23TCs0Z2hB2DIzU+9qxZTOa9Ti57eiHOyAL2XAlbk7TAqGCR4lcsdSW8+LJ5zWCTkBUg5iZOqy4P0KFTfI7KtJJb2aAmeWJpApu+yJRTNAkYtdN91EcYOVFHqc1p6HJmtvvW6vJwfHB5JEbagXdfWwH3/UnJ/O36JwuFoLDp/NBRu6TO+bmYxeZmCN4GdhHuT0a11weki6Ez47Ln63G11LeQ4SFdZTC7QOWflypf8FSbG8W4JGGPZ8J8iWTkW7PGGw6DRavSu97rx3w==&quot;, \r\n                &quot;MD5OfBody&quot;: &quot;1f871ceacd9f4028ed371e91400efe80&quot;, \r\n                &quot;MessageId&quot;: &quot;0f6290d2-4554-4d96-8f93-7564ef667feb&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nThis is an exception that I get when I try it on another machine setup with EC2 roles.\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.AmazonClientException: Unable to load credentials from Amazon EC2 metadata service\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.handleError(InstanceProfileCredentialsProvider.java:244)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:225)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.getCredentials(InstanceProfileCredentialsProvider.java:124)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2413)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:74)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getMessagesFromQueue(AWSSimpleQueueServiceClient.java:93)\r\n\tat com.ensighten.inform.jobRunner.TestJobRunner.execute(TestJobRunner.java:96)\r\n\tat com.ensighten.inform.jobRunner.TestJobRunner.main(TestJobRunner.java:90)\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat   java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:579)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\r\n\tat com.amazonaws.internal.EC2MetadataClient.readResource(EC2MetadataClient.java:90)\r\n\tat com.amazonaws.internal.EC2MetadataClient.getDefaultCredentials(EC2MetadataClient.java:55)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:186)\r\n\t... 7 more\r\n\r\nThis is how I get the URL of the queue. Tried doing it two ways below. It errors out with the above exception\r\n\r\n    public String getQueueUrl() {\r\n\t\tGetQueueUrlRequest queueUrlRequest = new GetQueueUrlRequest(this.queueName);\r\n\t\tlogger.debug(&quot;Queue Name... = &quot; + this.queueName);\r\n        //FIRST WAY -----------&gt; EXCEPTION on the line below\r\n        System.out.println(&quot;Queue URL .....= &quot; + this.sqs.getQueueUrl(this.queueName));\r\n        //SECOND WAY\r\n\t\treturn this.sqs.getQueueUrl(queueUrlRequest).getQueueUrl();\r\n\t}\r\n\r\n\r\nI have been trying to figure this out for a while now. Any help is appreciated.","title":"Amazon SQS Queue Does Not Exist","body":"<p>I am trying to access an amazon queue using java sdk. The queue is set in an environment with EC2 instance roles so I do not need to use credentials to access it.\nHere is my code</p>\n\n<pre><code>public AWSSimpleQueueServiceClient(String queueName, String endPoint) {\n    try{\n        this.queueName = queueName;\n        logger.debug(\"Queue Name = \" + this.queueName + \"Endpoint = \" + endPoint);\n        this.sqs = new AmazonSQSClient(new InstanceProfileCredentialsProvider());\n        if(endPoint != null) {\n            this.sqs.setEndpoint(endPoint);\n        }\n    } catch (Exception e) {\n        logger.error(\"Exception while creating AWS SQS Client = \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>QueueName and Endpoint are got from configuration files.\nI try to send/receive messages from the queue but it gives me the following exception</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist or you do not have access to it. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: c30b2c9a-0e62-560d-9306-628ebff676d8)\nat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\nat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\nat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\nat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\nat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2422)\nat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:66)\n</code></pre>\n\n<p>However, when I try to access the queue using the curl command, I get a response</p>\n\n<pre><code>aws sqs receive-message --queue-url &lt;Endpoint&gt;/031143137427/&lt;QueueName&gt; --    region us-east-1\n {\n    \"Messages\": [\n        {\n            \"Body\": \"Test\", \n            \"ReceiptHandle\":     \"AQEBA49LjMDLPyyl4QKwHx9/oVFDV7mZDiOOpdKS/IC2zR3GNblg2IoHuqWBgr5iw7URCkL03Dm23TCs0Z2hB2DIzU+9qxZTOa9Ti57eiHOyAL2XAlbk7TAqGCR4lcsdSW8+LJ5zWCTkBUg5iZOqy4P0KFTfI7KtJJb2aAmeWJpApu+yJRTNAkYtdN91EcYOVFHqc1p6HJmtvvW6vJwfHB5JEbagXdfWwH3/UnJ/O36JwuFoLDp/NBRu6TO+bmYxeZmCN4GdhHuT0a11weki6Ez47Ln63G11LeQ4SFdZTC7QOWflypf8FSbG8W4JGGPZ8J8iWTkW7PGGw6DRavSu97rx3w==\", \n            \"MD5OfBody\": \"1f871ceacd9f4028ed371e91400efe80\", \n            \"MessageId\": \"0f6290d2-4554-4d96-8f93-7564ef667feb\"\n        }\n    ]\n}\n</code></pre>\n\n<p>This is an exception that I get when I try it on another machine setup with EC2 roles.</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.AmazonClientException: Unable to load credentials from Amazon EC2 metadata service\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.handleError(InstanceProfileCredentialsProvider.java:244)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:225)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.getCredentials(InstanceProfileCredentialsProvider.java:124)\nat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2413)\nat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:74)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getMessagesFromQueue(AWSSimpleQueueServiceClient.java:93)\nat com.ensighten.inform.jobRunner.TestJobRunner.execute(TestJobRunner.java:96)\nat com.ensighten.inform.jobRunner.TestJobRunner.main(TestJobRunner.java:90)\nCaused by: java.net.SocketTimeoutException: connect timed out\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat   java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:579)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\nat sun.net.www.http.HttpClient.New(HttpClient.java:308)\nat sun.net.www.http.HttpClient.New(HttpClient.java:326)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\nat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\nat com.amazonaws.internal.EC2MetadataClient.readResource(EC2MetadataClient.java:90)\nat com.amazonaws.internal.EC2MetadataClient.getDefaultCredentials(EC2MetadataClient.java:55)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:186)\n... 7 more\n</code></pre>\n\n<p>This is how I get the URL of the queue. Tried doing it two ways below. It errors out with the above exception</p>\n\n<pre><code>public String getQueueUrl() {\n    GetQueueUrlRequest queueUrlRequest = new GetQueueUrlRequest(this.queueName);\n    logger.debug(\"Queue Name... = \" + this.queueName);\n    //FIRST WAY -----------&gt; EXCEPTION on the line below\n    System.out.println(\"Queue URL .....= \" + this.sqs.getQueueUrl(this.queueName));\n    //SECOND WAY\n    return this.sqs.getQueueUrl(queueUrlRequest).getQueueUrl();\n}\n</code></pre>\n\n<p>I have been trying to figure this out for a while now. Any help is appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9836,"page":81,"page_size":100}
