{"items":[{"tags":["java","datetime","arraylist","comparator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696461233,"post_id":77232823,"comment_id":136157622,"body_markdown":"I like the `SequencedCollection` answer below - about as up-to-date as it gets. As others have said, you should use a proper `java.time` type for your sold date, but since you use proper ISO formats, you can sort as strings with `Car latestSold = carsList.stream().max(Comparator.comparing(Car::getSold)).orElseThrow();`","body":"I like the <code>SequencedCollection</code> answer below - about as up-to-date as it gets. As others have said, you should use a proper <code>java.time</code> type for your sold date, but since you use proper ISO formats, you can sort as strings with <code>Car latestSold = carsList.stream().max(Comparator.comparing(Car::getSold)).or&zwnj;&#8203;ElseThrow();</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696485721,"post_id":77232823,"comment_id":136159426,"body_markdown":"Assuming there is at least one car in the list and that `sold` is an `Instant` or other date-time object as in a couple of the answers: `Collcetions.max(carList, Comparator.comparing(Car::getSold))` gives you the most recently sold car.","body":"Assuming there is at least one car in the list and that <code>sold</code> is an <code>Instant</code> or other date-time object as in a couple of the answers: <code>Collcetions.max(carList, Comparator.comparing(Car::getSold))</code> gives you the most recently sold car."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696489597,"post_id":77232823,"comment_id":136159976,"body_markdown":"Yes, better still ;)","body":"Yes, better still ;)"}],"answers":[{"tags":[],"owner":{"account_id":15529698,"reputation":182,"user_id":11203574,"display_name":"Aurelien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696452361,"creation_date":1696452361,"answer_id":77232871,"question_id":77232823,"body_markdown":"You can replace your `for` loop by:\r\n\r\n    String mostRecentDate = carsList.get(0).sold;\r\n\r\n    for (int i = 1; i &lt; carsList.size(); i++) {\r\n      String currentDate = carsList.get(i).sold;\r\n      if (currentDate.compareTo(mostRecentDate) &gt; 0) {\r\n        mostRecentDate = currentDate;\r\n      }\r\n    }\r\n\r\nBut to be honest, the best would be to have `sold` as `LocalDateTime` (as it is a date) and compare date using:\r\n\r\n    if (currentDate.isAfter(mostRecentDate)) {\r\n        mostRecentDate = currentDate;\r\n    }","title":"Return the most recent date after comparing dates from array list in Java","body":"<p>You can replace your <code>for</code> loop by:</p>\n<pre><code>String mostRecentDate = carsList.get(0).sold;\n\nfor (int i = 1; i &lt; carsList.size(); i++) {\n  String currentDate = carsList.get(i).sold;\n  if (currentDate.compareTo(mostRecentDate) &gt; 0) {\n    mostRecentDate = currentDate;\n  }\n}\n</code></pre>\n<p>But to be honest, the best would be to have <code>sold</code> as <code>LocalDateTime</code> (as it is a date) and compare date using:</p>\n<pre><code>if (currentDate.isAfter(mostRecentDate)) {\n    mostRecentDate = currentDate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696502623,"creation_date":1696453387,"answer_id":77232964,"question_id":77232823,"body_markdown":"You can stream the cars, extract the dates and find the max date like this:\r\n\r\n    String maxDate = carsList.stream()\r\n        .map(car -&gt; car.sold)\r\n        .max(String::compareTo)\r\n        .orElse(null); // return null if no &quot;sold&quot; timestamps found\r\n\r\nSee [live demo][1].\r\n\r\n---\r\n\r\nYour dates (which are actually timestamps) are only meaningfully comparable as Strings because they&#39;re in ISO format. It would be better and clearer to use a more appropriate type to store them, such as [`LocalDateTime`][2]\r\n\r\n\r\n  [1]: https://ideone.com/w6Xb8H\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#","title":"Return the most recent date after comparing dates from array list in Java","body":"<p>You can stream the cars, extract the dates and find the max date like this:</p>\n<pre><code>String maxDate = carsList.stream()\n    .map(car -&gt; car.sold)\n    .max(String::compareTo)\n    .orElse(null); // return null if no &quot;sold&quot; timestamps found\n</code></pre>\n<p>See <a href=\"https://ideone.com/w6Xb8H\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<hr />\n<p>Your dates (which are actually timestamps) are only meaningfully comparable as Strings because they're in ISO format. It would be better and clearer to use a more appropriate type to store them, such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696453504,"creation_date":1696453504,"answer_id":77232974,"question_id":77232823,"body_markdown":"I recommend you declare `sold` as an `Instant`. However, if you want to keep it as a `String` for some reason, you can parse it into an `Instant`. Note that your date-time strings are already in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format; therefore, you do not need to use a `DateTimeFormatter` in order to parse them.\r\n\r\n    carsList.stream()\r\n            .max(Comparator.comparing(car -&gt; Instant.parse(car.sold)))\r\n            .get()\r\n            .sold\r\n\r\n[Online Demo](https://ideone.com/rNVvEP)\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**\r\n\r\n","title":"Return the most recent date after comparing dates from array list in Java","body":"<p>I recommend you declare <code>sold</code> as an <code>Instant</code>. However, if you want to keep it as a <code>String</code> for some reason, you can parse it into an <code>Instant</code>. Note that your date-time strings are already in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format; therefore, you do not need to use a <code>DateTimeFormatter</code> in order to parse them.</p>\n<pre><code>carsList.stream()\n        .max(Comparator.comparing(car -&gt; Instant.parse(car.sold)))\n        .get()\n        .sold\n</code></pre>\n<p><a href=\"https://ideone.com/rNVvEP\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696977655,"creation_date":1696455947,"answer_id":77233162,"question_id":77232823,"body_markdown":"Other Answers are correct. But here is some alternate syntax, and use of correct date-time type. And we see the new `SequencedCollection` features in Java 21+. \r\n\r\n# tl;dr\r\n\r\nDefine your class as a record that implements `Comparable`. \r\n\r\n```java\r\nrecord CarSale( String name , Instant whenSold ) implements Comparable &lt; CarSale &gt;\r\n{\r\n    private static final Comparator &lt; CarSale &gt; COMPARATOR =\r\n            Comparator\r\n                    .comparing ( CarSale :: whenSold )\r\n                    .thenComparing ( CarSale :: name );\r\n\r\n    @Override\r\n    public int compareTo ( final CarSale other )\r\n    {\r\n        return CarSale.COMPARATOR.compare ( this , other );\r\n    }\r\n}\r\n```\r\n\r\nDefine your resulting sorted collection as a `SequencedCollection` whose implementation is a `TreeSet`. Get the latest car sale by getting the last element of the collection. \r\n\r\n```java\r\nCarSale latest =\r\n        new TreeSet &lt;&gt; (\r\n                List\r\n                        .of (\r\n                                new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\r\n                                new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\r\n                                new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\r\n                        )\r\n        )\r\n                .getLast ( );  // Java 21+. \r\n```\r\n\r\n&gt;CarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]\r\n\r\n# Details\r\n\r\n## Naming\r\n\r\nYour names are a bit vague. The `sold` could be more clear such as `whenSold`. And `Car` class is really about when a car was sold. So `CarSale` would be more precise.\r\n\r\n## Record\r\n\r\nIf the main purpose of your `Car` class is to transparently communicate shallowly-immutable data, define your class as a [record][1]. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n```java\r\nrecord CarSale ( String name , String whenSold ) {}\r\n```\r\n\r\n## `java.time.Instant`\r\n\r\nThat second parameter, `whenSold`, represents a moment, a point on the timeline. Java includes the *java.time* classes for such date-time work. Use [`java.time.Instant`][2] to represent a point on the timeline as seen in UTC (an offset from UTC of zero hours-minutes-seconds). \r\n\r\n```java\r\nrecord CarSale ( String name , Instant whenSold ) {}\r\n```\r\n\r\nYour input strings use standard ISO 8601 format to represent that moment. The *java.time* classes by default use ISO 8601 formats when parsing/generating text. So we can directly parse your inputs.\r\n\r\n```java\r\nCarSale car = new CarSale ( &quot;BMW&quot; , Instant.parse( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ;\r\n```\r\n\r\n## `List.of`\r\n\r\nYou can collect your instantiated `CarSale` objects more compactly with [List.of][3].  This produces an [unmodifiable `List`][4] object.\r\n\r\nYour example data is already in the desired sort order. So I changed your original order so we can verify sorting is happening.\r\n\r\n```java\r\nList &lt; CarSale &gt; carSales =\r\n        List.of (\r\n                new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\r\n                new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ),\r\n                new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) ) \r\n        );\r\n```\r\n\r\n## `Comparable`\r\n\r\nOther Answers apply a [`Comparator`][5]. That is a valid approach. But if your primary default way to sort these `CarSale` records is by `whenSold`, then build that into your class as a feature. To build that in, implement the [`Comparable`][6] interface with its `compareTo` method. \r\n\r\nTo implement `compareTo`, we can define a contained `Comparator` to do the work. Make it `static` to have a [singleton][7] [constant][8].\r\n\r\nWhen sorting on `whenSold`, we could have a tie when two or more cars are sold at the same moment. To break the tie, we can look at the only other property, `name`. \r\n\r\n```java\r\nprivate static final Comparator &lt; CarSale &gt; COMPARATOR =\r\n        Comparator\r\n                .comparing ( CarSale :: whenSold )\r\n                .thenComparing ( CarSale :: name );\r\n```\r\n\r\nFinish the `compareTo` method.\r\n\r\n```java\r\n@Override\r\npublic int compareTo ( final CarSale other )\r\n{\r\n    return CarSale.COMPARATOR.compare ( this , other );\r\n}\r\n```\r\n\r\n## Sorting\r\n\r\nFinally, we get to the sorting. \r\n\r\nWe have an unmodifiable list, which cannot be sorted. So we need to create a modifiable collection that can be sorted. We can do that by passing the unmodifiable list to the constructor of a modifiable `List` implementation. \r\n\r\n```java\r\nnew ArrayList &lt;&gt; ( carSales )\r\n```\r\n\r\n### `Stream` sorting\r\n\r\nFrom there we can sort by making a stream, asking the stream to sort itself using the &quot;natural order&quot; of our `CarSale` objects. The natural order is the order determined by its being `Comparable`. We collect the resulting sorted elements into another `List`.\r\n\r\n    List &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\r\n\r\n### `SequencedCollection`\r\n\r\nIn Java 21, we can use the more general interface [`SequencedCollection`][9] rather than `List`. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431).\r\n\r\n    SequencedCollection &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\r\n\r\n### `TreeSet` in place of `ArrayList`\r\n\r\nAt this point, we realize that we can use a different implementation of [`SequencedCollection`][9]. We can use [`TreeSet`][10] which automatically keeps its elements in sorted order. This works only if we do not care about tracking duplicate objects, as [`Set`][11] implementations like `TreeSet` forbid duplicates. We can simply pass our unmodifiable `List` to the [constructor of `TreeSet`][12]. \r\n\r\n    SequencedCollection &lt; CarSale &gt; carSalesSorted = new TreeSet &lt;&gt; ( carSales );\r\n\r\nTo access the elements, iterate. For example, call [`java.lang.Iterable#forEach`][13]. This works because every `SequencedCollection` object is also an [`Iterable`][14] object.\r\n\r\n    carSalesSorted.forEach ( System.out::println );\r\n\r\nWhen run:\r\n\r\n```none\r\nCarSale[name=BMW, whenSold=2023-01-01T02:00:00.800Z]\r\nCarSale[name=Jeep, whenSold=2023-01-02T02:00:00.800Z]\r\nCarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]\r\n```\r\n\r\n### `getLast`\r\n\r\nDetermine the latest car sale by getting the last element from our `SequencedCollection`. Simply call [`getLast`][15]. \r\n\r\n```java\r\nCarSale latest = carSalesSorted.getLast ( );\r\n```\r\n\r\n&gt;CarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]\r\n\r\n----------\r\n\r\nComplete code example:\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.time.Instant;\r\nimport java.util.*;\r\n\r\npublic class CarsLedger\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        record CarSale( String name ,\r\n                        Instant whenSold ) implements Comparable &lt; CarSale &gt;\r\n        {\r\n            private static final Comparator &lt; CarSale &gt; COMPARATOR =\r\n                    Comparator\r\n                            .comparing ( CarSale :: whenSold )\r\n                            .thenComparing ( CarSale :: name );\r\n\r\n            @Override\r\n            public int compareTo ( final CarSale other )\r\n            {\r\n                return CarSale.COMPARATOR.compare ( this , other );\r\n            }\r\n        }\r\n        List &lt; CarSale &gt; carSales =\r\n                List.of (\r\n                        new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\r\n                        new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\r\n                        new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\r\n                );\r\n\r\n        //SequencedCollection &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\r\n\r\n        SequencedCollection &lt; CarSale &gt; carSalesSorted = new TreeSet &lt;&gt; (\r\n                List.of (\r\n                        new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\r\n                        new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\r\n                        new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\r\n                )\r\n        );\r\n\r\n        carSalesSorted.forEach ( System.out :: println );\r\n\r\n        CarSale latest = carSalesSorted.getLast ( );\r\n        System.out.println ( &quot;latest = &quot; + latest );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E)\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html\r\n  [7]: https://en.wikipedia.org/wiki/Singleton_pattern\r\n  [8]: https://en.wikipedia.org/wiki/Constant_(computer_programming)\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [10]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\r\n  [11]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html\r\n  [12]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Collection)\r\n  [13]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\r\n  [14]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html\r\n  [15]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html#getLast()","title":"Return the most recent date after comparing dates from array list in Java","body":"<p>Other Answers are correct. But here is some alternate syntax, and use of correct date-time type. And we see the new <code>SequencedCollection</code> features in Java 21+.</p>\n<h1>tl;dr</h1>\n<p>Define your class as a record that implements <code>Comparable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record CarSale( String name , Instant whenSold ) implements Comparable &lt; CarSale &gt;\n{\n    private static final Comparator &lt; CarSale &gt; COMPARATOR =\n            Comparator\n                    .comparing ( CarSale :: whenSold )\n                    .thenComparing ( CarSale :: name );\n\n    @Override\n    public int compareTo ( final CarSale other )\n    {\n        return CarSale.COMPARATOR.compare ( this , other );\n    }\n}\n</code></pre>\n<p>Define your resulting sorted collection as a <code>SequencedCollection</code> whose implementation is a <code>TreeSet</code>. Get the latest car sale by getting the last element of the collection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CarSale latest =\n        new TreeSet &lt;&gt; (\n                List\n                        .of (\n                                new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\n                                new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\n                                new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\n                        )\n        )\n                .getLast ( );  // Java 21+. \n</code></pre>\n<blockquote>\n<p>CarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]</p>\n</blockquote>\n<h1>Details</h1>\n<h2>Naming</h2>\n<p>Your names are a bit vague. The <code>sold</code> could be more clear such as <code>whenSold</code>. And <code>Car</code> class is really about when a car was sold. So <code>CarSale</code> would be more precise.</p>\n<h2>Record</h2>\n<p>If the main purpose of your <code>Car</code> class is to transparently communicate shallowly-immutable data, define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record CarSale ( String name , String whenSold ) {}\n</code></pre>\n<h2><code>java.time.Instant</code></h2>\n<p>That second parameter, <code>whenSold</code>, represents a moment, a point on the timeline. Java includes the <em>java.time</em> classes for such date-time work. Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a> to represent a point on the timeline as seen in UTC (an offset from UTC of zero hours-minutes-seconds).</p>\n<pre class=\"lang-java prettyprint-override\"><code>record CarSale ( String name , Instant whenSold ) {}\n</code></pre>\n<p>Your input strings use standard ISO 8601 format to represent that moment. The <em>java.time</em> classes by default use ISO 8601 formats when parsing/generating text. So we can directly parse your inputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CarSale car = new CarSale ( &quot;BMW&quot; , Instant.parse( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ;\n</code></pre>\n<h2><code>List.of</code></h2>\n<p>You can collect your instantiated <code>CarSale</code> objects more compactly with <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E,E,E)\" rel=\"nofollow noreferrer\">List.of</a>.  This produces an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable <code>List</code></a> object.</p>\n<p>Your example data is already in the desired sort order. So I changed your original order so we can verify sorting is happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; CarSale &gt; carSales =\n        List.of (\n                new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\n                new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ),\n                new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) ) \n        );\n</code></pre>\n<h2><code>Comparable</code></h2>\n<p>Other Answers apply a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>. That is a valid approach. But if your primary default way to sort these <code>CarSale</code> records is by <code>whenSold</code>, then build that into your class as a feature. To build that in, implement the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface with its <code>compareTo</code> method.</p>\n<p>To implement <code>compareTo</code>, we can define a contained <code>Comparator</code> to do the work. Make it <code>static</code> to have a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton</a> <a href=\"https://en.wikipedia.org/wiki/Constant_(computer_programming)\" rel=\"nofollow noreferrer\">constant</a>.</p>\n<p>When sorting on <code>whenSold</code>, we could have a tie when two or more cars are sold at the same moment. To break the tie, we can look at the only other property, <code>name</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Comparator &lt; CarSale &gt; COMPARATOR =\n        Comparator\n                .comparing ( CarSale :: whenSold )\n                .thenComparing ( CarSale :: name );\n</code></pre>\n<p>Finish the <code>compareTo</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int compareTo ( final CarSale other )\n{\n    return CarSale.COMPARATOR.compare ( this , other );\n}\n</code></pre>\n<h2>Sorting</h2>\n<p>Finally, we get to the sorting.</p>\n<p>We have an unmodifiable list, which cannot be sorted. So we need to create a modifiable collection that can be sorted. We can do that by passing the unmodifiable list to the constructor of a modifiable <code>List</code> implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArrayList &lt;&gt; ( carSales )\n</code></pre>\n<h3><code>Stream</code> sorting</h3>\n<p>From there we can sort by making a stream, asking the stream to sort itself using the &quot;natural order&quot; of our <code>CarSale</code> objects. The natural order is the order determined by its being <code>Comparable</code>. We collect the resulting sorted elements into another <code>List</code>.</p>\n<pre><code>List &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\n</code></pre>\n<h3><code>SequencedCollection</code></h3>\n<p>In Java 21, we can use the more general interface <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> rather than <code>List</code>. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n<pre><code>SequencedCollection &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\n</code></pre>\n<h3><code>TreeSet</code> in place of <code>ArrayList</code></h3>\n<p>At this point, we realize that we can use a different implementation of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>. We can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> which automatically keeps its elements in sorted order. This works only if we do not care about tracking duplicate objects, as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> implementations like <code>TreeSet</code> forbid duplicates. We can simply pass our unmodifiable <code>List</code> to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Collection)\" rel=\"nofollow noreferrer\">constructor of <code>TreeSet</code></a>.</p>\n<pre><code>SequencedCollection &lt; CarSale &gt; carSalesSorted = new TreeSet &lt;&gt; ( carSales );\n</code></pre>\n<p>To access the elements, iterate. For example, call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>java.lang.Iterable#forEach</code></a>. This works because every <code>SequencedCollection</code> object is also an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> object.</p>\n<pre><code>carSalesSorted.forEach ( System.out::println );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>CarSale[name=BMW, whenSold=2023-01-01T02:00:00.800Z]\nCarSale[name=Jeep, whenSold=2023-01-02T02:00:00.800Z]\nCarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]\n</code></pre>\n<h3><code>getLast</code></h3>\n<p>Determine the latest car sale by getting the last element from our <code>SequencedCollection</code>. Simply call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CarSale latest = carSalesSorted.getLast ( );\n</code></pre>\n<blockquote>\n<p>CarSale[name=Benz, whenSold=2023-01-03T02:00:00.800Z]</p>\n</blockquote>\n<hr />\n<p>Complete code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.time.Instant;\nimport java.util.*;\n\npublic class CarsLedger\n{\n    public static void main ( String[] args )\n    {\n        record CarSale( String name ,\n                        Instant whenSold ) implements Comparable &lt; CarSale &gt;\n        {\n            private static final Comparator &lt; CarSale &gt; COMPARATOR =\n                    Comparator\n                            .comparing ( CarSale :: whenSold )\n                            .thenComparing ( CarSale :: name );\n\n            @Override\n            public int compareTo ( final CarSale other )\n            {\n                return CarSale.COMPARATOR.compare ( this , other );\n            }\n        }\n        List &lt; CarSale &gt; carSales =\n                List.of (\n                        new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\n                        new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\n                        new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\n                );\n\n        //SequencedCollection &lt; CarSale &gt; carSalesSorted = new ArrayList &lt;&gt; ( carSales ).stream ( ).sorted ( ).toList ( );\n\n        SequencedCollection &lt; CarSale &gt; carSalesSorted = new TreeSet &lt;&gt; (\n                List.of (\n                        new CarSale ( &quot;BMW&quot; , Instant.parse ( &quot;2023-01-01T02:00:00.800Z&quot; ) ) ,\n                        new CarSale ( &quot;Benz&quot; , Instant.parse ( &quot;2023-01-03T02:00:00.800Z&quot; ) ) ,\n                        new CarSale ( &quot;Jeep&quot; , Instant.parse ( &quot;2023-01-02T02:00:00.800Z&quot; ) )\n                )\n        );\n\n        carSalesSorted.forEach ( System.out :: println );\n\n        CarSale latest = carSalesSorted.getLast ( );\n        System.out.println ( &quot;latest = &quot; + latest );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696456178,"creation_date":1696456178,"answer_id":77233184,"question_id":77232823,"body_markdown":"&gt; _&quot;... How do I return the most recent date after comparing all the elements in the Array List? ...&quot;_\r\n\r\nYou can utilize the _[ZonedDateTime#parse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#parse(java.lang.CharSequence))_ method.\\\r\nCompare _b_ to _a_, to sort by most-recent date first.\r\n\r\n```java\r\nimport static java.time.ZonedDateTime.parse;\r\n```\r\n\r\n```java\r\ncarsList.sort((a, b) -&gt; parse(b.sold).compareTo(parse(a.sold)));\r\n```\r\n\r\nOr, in one line, with a _stream_.\r\n```java\r\nCar c = carsList.stream()\r\n                .sorted((a, b) -&gt; parse(b.sold).compareTo(parse(a.sold)))\r\n                .findFirst()\r\n                .get();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nBenz 2023-01-03T02:00:00.800Z\r\n```\r\n\r\nIf you don&#39;t want to use a stream or a closure, you can use an _anonymous-class_.\r\n\r\n```java\r\ncarsList.sort(new Comparator&lt;&gt;() {\r\n    @Override\r\n    public int compare(Car a, Car b) {\r\n        return parse(b.sold).compareTo(parse(a.sold));\r\n    }\r\n});\r\n```\r\n\r\n","title":"Return the most recent date after comparing dates from array list in Java","body":"<blockquote>\n<p><em>&quot;... How do I return the most recent date after comparing all the elements in the Array List? ...&quot;</em></p>\n</blockquote>\n<p>You can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">ZonedDateTime#parse</a></em> method.<br />\nCompare <em>b</em> to <em>a</em>, to sort by most-recent date first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.time.ZonedDateTime.parse;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>carsList.sort((a, b) -&gt; parse(b.sold).compareTo(parse(a.sold)));\n</code></pre>\n<p>Or, in one line, with a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Car c = carsList.stream()\n                .sorted((a, b) -&gt; parse(b.sold).compareTo(parse(a.sold)))\n                .findFirst()\n                .get();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Benz 2023-01-03T02:00:00.800Z\n</code></pre>\n<p>If you don't want to use a stream or a closure, you can use an <em>anonymous-class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>carsList.sort(new Comparator&lt;&gt;() {\n    @Override\n    public int compare(Car a, Car b) {\n        return parse(b.sold).compareTo(parse(a.sold));\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":9416915,"reputation":4211,"user_id":7004388,"accept_rate":67,"display_name":"codrp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1696977655,"creation_date":1696451851,"question_id":77232823,"body_markdown":"How do I return the most recent date after comparing all the elements in the Array List? The expectation is to return `2023-01-03T02:00:00.800Z` value as it is the most recent date in the list out of all the elements. Could anyone please help?\r\n\r\nI created a working example using [JDoodle](https://www.jdoodle.com/iembed/v0/NF2)\r\n\r\n**Code** \r\n```java\r\nimport java.util.ArrayList;\r\n\r\nclass Car {\r\n  String name;\r\n  String sold;\r\n  Car(String name, String sold) {\r\n    this.name = name;\r\n    this.sold = sold;\r\n  }\r\n}\r\npublic class MyClass {\r\n  public static void main(String args[]) {\r\n    ArrayList &lt;Car&gt; carsList = new ArrayList &lt;Car&gt; ();\r\n\r\n    carsList.add(new Car(&quot;BMW&quot;, &quot;2023-01-01T02:00:00.800Z&quot;));\r\n    carsList.add(new Car(&quot;Jeep&quot;, &quot;2023-01-02T02:00:00.800Z&quot;));\r\n    carsList.add(new Car(&quot;Benz&quot;, &quot;2023-01-03T02:00:00.800Z&quot;));\r\n\r\n    for (int i = 0; i &lt; carsList.size(); i++) {\r\n      for (int j = i + 1; j &lt; carsList.size(); j++) {\r\n        int res = carsList.get(i).sold.compareTo(carsList.get(j).sold);\r\n        System.out.println(res);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Return the most recent date after comparing dates from array list in Java","body":"<p>How do I return the most recent date after comparing all the elements in the Array List? The expectation is to return <code>2023-01-03T02:00:00.800Z</code> value as it is the most recent date in the list out of all the elements. Could anyone please help?</p>\n<p>I created a working example using <a href=\"https://www.jdoodle.com/iembed/v0/NF2\" rel=\"nofollow noreferrer\">JDoodle</a></p>\n<p><strong>Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\nclass Car {\n  String name;\n  String sold;\n  Car(String name, String sold) {\n    this.name = name;\n    this.sold = sold;\n  }\n}\npublic class MyClass {\n  public static void main(String args[]) {\n    ArrayList &lt;Car&gt; carsList = new ArrayList &lt;Car&gt; ();\n\n    carsList.add(new Car(&quot;BMW&quot;, &quot;2023-01-01T02:00:00.800Z&quot;));\n    carsList.add(new Car(&quot;Jeep&quot;, &quot;2023-01-02T02:00:00.800Z&quot;));\n    carsList.add(new Car(&quot;Benz&quot;, &quot;2023-01-03T02:00:00.800Z&quot;));\n\n    for (int i = 0; i &lt; carsList.size(); i++) {\n      for (int j = i + 1; j &lt; carsList.size(); j++) {\n        int res = carsList.get(i).sold.compareTo(carsList.get(j).sold);\n        System.out.println(res);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6995097,"reputation":1409,"user_id":5363011,"display_name":"George Leung"},"score":0,"creation_date":1696970572,"post_id":77268839,"comment_id":136220032,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1696970649,"post_id":77268839,"comment_id":136220046,"body_markdown":"It&#39;s called a method reference. Instead of passing an existing array, you pass the reference to a method that creates an array when invoked. In this case, it&#39;s a reference to the constructor of `String[][]`","body":"It&#39;s called a method reference. Instead of passing an existing array, you pass the reference to a method that creates an array when invoked. In this case, it&#39;s a reference to the constructor of <code>String[][]</code>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1696971517,"post_id":77268839,"comment_id":136220176,"body_markdown":"It&#39;s definitely a constructor reference, @f1sh, but when did Java start allowing use of a constructor (or other method) reference in situations such as the OP&#39;s?  That is, since when can you pass a reference to a method for creating an object instead passing the created object itself? I surely might have lost track, but I would have expected Netbeans&#39; recommendation to require a method something like `&lt;T&gt; T[] toArray(Supplier&lt;T[]&gt; supplier)`.","body":"It&#39;s definitely a constructor reference, @f1sh, but when did Java start allowing use of a constructor (or other method) reference in situations such as the OP&#39;s?  That is, since when can you pass a reference to a method for creating an object instead passing the created object itself? I surely might have lost track, but I would have expected Netbeans&#39; recommendation to require a method something like <code>&lt;T&gt; T[] toArray(Supplier&lt;T[]&gt; supplier)</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1696972012,"post_id":77268839,"comment_id":136220262,"body_markdown":"@JohnBollinger this was introduced in java11. And [this overload of toArray](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)) accepts an `IntFunction&lt;T[]&gt;` instead of a `Supplier&lt;T[]&gt;` because the size of the Collection is known and can be passed to that function. Annoyingly, a size of 0 is [hardcoded](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collection.java#L418) for that value when the function is invoked. I will be happy to get an explanation for that.","body":"@JohnBollinger this was introduced in java11. And <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\">this overload of toArray</a> accepts an <code>IntFunction&lt;T[]&gt;</code> instead of a <code>Supplier&lt;T[]&gt;</code> because the size of the Collection is known and can be passed to that function. Annoyingly, a size of 0 is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collection.java#L418\" rel=\"nofollow noreferrer\">hardcoded</a> for that value when the function is invoked. I will be happy to get an explanation for that."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1696972355,"post_id":77268839,"comment_id":136220312,"body_markdown":"ok, there&#39;s some magic going on under the hood as to why the 0 is used for a size: https://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size","body":"ok, there&#39;s some magic going on under the hood as to why the 0 is used for a size: <a href=\"https://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size\" title=\"toarraynew myclass0 or toarraynew myclassmylist size\">stackoverflow.com/questions/174093/&hellip;</a>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":3,"creation_date":1696972418,"post_id":77268839,"comment_id":136220326,"body_markdown":"Thanks, @f1sh.  I overlooked that default method when I checked the docs.  I am pleased that there&#39;s an actual method on `Collection` for the purpose, and not some kind of weird inference.","body":"Thanks, @f1sh.  I overlooked that default method when I checked the docs.  I am pleased that there&#39;s an actual method on <code>Collection</code> for the purpose, and not some kind of weird inference."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696976135,"post_id":77268839,"comment_id":136220846,"body_markdown":"Instead of &quot;Netbeans is complaining&quot;, post an exact quotation of a compiler error/warning/message.","body":"Instead of &quot;Netbeans is complaining&quot;, post an exact quotation of a compiler error/warning/message."},{"owner":{"account_id":6995097,"reputation":1409,"user_id":5363011,"display_name":"George Leung"},"score":0,"creation_date":1697050421,"post_id":77268839,"comment_id":136232039,"body_markdown":"I was curious why this overload was added so I looked it up. It is to [mirror the method in `Stream`](https://bugs.openjdk.org/browse/JDK-8060192).","body":"I was curious why this overload was added so I looked it up. It is to <a href=\"https://bugs.openjdk.org/browse/JDK-8060192\" rel=\"nofollow noreferrer\">mirror the method in <code>Stream</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696975179,"creation_date":1696971142,"answer_id":77268893,"question_id":77268839,"body_markdown":"It&#39;s called a [method reference][1]. Instead of passing an existing array, you pass the reference to a method that creates an array when invoked. In this case, it&#39;s a reference to the constructor of `String[][]`.\r\n\r\nWhat you care calling in your code is the [`toArray` method of `Collection`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)).\r\n\r\nThat method accepts an `IntFunction&lt;T[]&gt;` as a parameter. That means the parameter must be a method that accepts an `int` and returns `T[]`. That is exactly what the constructor of `String[][]` does.\r\n\r\nSo the `toArray` method invokes the method that you passed as a parameter (the method reference of the constructor) to create an array of the correct size* and then calls the &quot;regular&quot; `toArray` which accepts that array as a parameter.\r\n\r\n\\* the size is actually hardcoded to be `0`, which somewhat removes the purpose from this whole topic. Read up on it [here](https://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"What does Netbeans&#39;s suggestion of String[][]::new mean?","body":"<p>It's called a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>. Instead of passing an existing array, you pass the reference to a method that creates an array when invoked. In this case, it's a reference to the constructor of <code>String[][]</code>.</p>\n<p>What you care calling in your code is the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>toArray</code> method of <code>Collection</code></a>.</p>\n<p>That method accepts an <code>IntFunction&lt;T[]&gt;</code> as a parameter. That means the parameter must be a method that accepts an <code>int</code> and returns <code>T[]</code>. That is exactly what the constructor of <code>String[][]</code> does.</p>\n<p>So the <code>toArray</code> method invokes the method that you passed as a parameter (the method reference of the constructor) to create an array of the correct size* and then calls the &quot;regular&quot; <code>toArray</code> which accepts that array as a parameter.</p>\n<p>* the size is actually hardcoded to be <code>0</code>, which somewhat removes the purpose from this whole topic. Read up on it <a href=\"https://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size\">here</a>.</p>\n"}],"owner":{"account_id":22235726,"reputation":29,"user_id":16471142,"display_name":"Sir_Ernest_Bilko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696975326,"creation_date":1696970438,"question_id":77268839,"body_markdown":"I&#39;m using Netbeans 19 with Java. I have the following conversion of an `ArrayList` called `groupData` via [`ArrayList#toArray`][1]:\r\n\r\n\r\n```\r\ngroupData.toArray(new String[groupData.size()][])\r\n```\r\n\r\nNetbeans is complaining about creation of a temporary object, I think, and suggests the following instead:\r\n\r\n\r\n```\r\ngroupData.toArray(String[][]::new);\r\n```\r\n\r\nWhat exactly is this syntax? I&#39;ve done google searches galore trying to find a definition or explanation for what this actually is. I really want to understand what the suggested replacement actually represents.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#toArray(T%5B%5D)","title":"What does Netbeans&#39;s suggestion of String[][]::new mean?","body":"<p>I'm using Netbeans 19 with Java. I have the following conversion of an <code>ArrayList</code> called <code>groupData</code> via <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>ArrayList#toArray</code></a>:</p>\n<pre><code>groupData.toArray(new String[groupData.size()][])\n</code></pre>\n<p>Netbeans is complaining about creation of a temporary object, I think, and suggests the following instead:</p>\n<pre><code>groupData.toArray(String[][]::new);\n</code></pre>\n<p>What exactly is this syntax? I've done google searches galore trying to find a definition or explanation for what this actually is. I really want to understand what the suggested replacement actually represents.</p>\n"},{"tags":["java","exception","uml","sequence-diagram"],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696837658,"creation_date":1696837658,"answer_id":77257049,"question_id":77256059,"body_markdown":"A SD focuses on a certain scenario in detail. That means it&#39;s not so meaningful for general cases. So your choice is to either have a note in a &quot;general&quot; SD or to create individual SDs to show behavior (e.g. for time-out, for cancel, for erroneous entry etc.)","title":"How to handle an exception thrown by an actor i.e. cancelOperation() in sequence diagram?","body":"<p>A SD focuses on a certain scenario in detail. That means it's not so meaningful for general cases. So your choice is to either have a note in a &quot;general&quot; SD or to create individual SDs to show behavior (e.g. for time-out, for cancel, for erroneous entry etc.)</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696975309,"creation_date":1696975309,"answer_id":77269196,"question_id":77256059,"body_markdown":"## The good: Non-exceptional outcomes \r\n\r\nIf there&#39;s a &quot;cancel&quot; button, it&#39;s legitimate to press it, and it&#39;s one of the expected outcomes, not an exception.  And if you perform a check operation,  there are two expected outcomes: successful and unsuccessful.  Nothing to do with exceptions at first sight.\r\n\r\nIn this context, your current approach is very clear: a message is received, some actions are performed and then there are two possible outcomes, each with its own sequence of interactions.  \r\n\r\nAnother approach is when a lot of things need to be performed and you perform a number of checks on the way, each may impede on the rest of the sequence. In this case the `alt` would end to be nested and repetitive and very difficult to read. In such a case, you can use, as you found out, a `break`. Break stop what&#39;s happening after the break bloc in an enclosing block.  Use this technique if most of the time the flow continues but at some occasions,  the journey ends there because of a polite decline by the user, or a negative outcome in a check.  This avoids nesting a lot of `alt` boxes. \r\n\r\n## The bad: Exceptional outcomes\r\n\r\nExcceptions are meant for truly exceptional circumstances that interrupt the flow of control.  As strange as it may sound, exceptions can be modelled in UML as a `*signal*`.  But in a sequence diagram,  signals are represented exactly as operation calls.  So despite exceptions, the SD would look closely to what you have. Including the need to use an `alt` or an `opt` fragment. \r\n\r\n## The ugly:  visual programming\r\n\r\nNow beyond the technical alternatives described above,  you should question if this is the way to go.  Indeed,  sequence diagrams belong to the scenario-based modelling:  the diagrams are well thought and intuitive to read for a specific case.  If you start to misuse sequence diagram as a visual programming tool,  modelling not a single scenario, but an algorithm as close as possible to the implementation, you&#39;ll quickly have an unreadable diagram that nobody will use.  Programming is best done in programming languages. ","title":"How to handle an exception thrown by an actor i.e. cancelOperation() in sequence diagram?","body":"<h2>The good: Non-exceptional outcomes</h2>\n<p>If there's a &quot;cancel&quot; button, it's legitimate to press it, and it's one of the expected outcomes, not an exception.  And if you perform a check operation,  there are two expected outcomes: successful and unsuccessful.  Nothing to do with exceptions at first sight.</p>\n<p>In this context, your current approach is very clear: a message is received, some actions are performed and then there are two possible outcomes, each with its own sequence of interactions.</p>\n<p>Another approach is when a lot of things need to be performed and you perform a number of checks on the way, each may impede on the rest of the sequence. In this case the <code>alt</code> would end to be nested and repetitive and very difficult to read. In such a case, you can use, as you found out, a <code>break</code>. Break stop what's happening after the break bloc in an enclosing block.  Use this technique if most of the time the flow continues but at some occasions,  the journey ends there because of a polite decline by the user, or a negative outcome in a check.  This avoids nesting a lot of <code>alt</code> boxes.</p>\n<h2>The bad: Exceptional outcomes</h2>\n<p>Excceptions are meant for truly exceptional circumstances that interrupt the flow of control.  As strange as it may sound, exceptions can be modelled in UML as a <code>*signal*</code>.  But in a sequence diagram,  signals are represented exactly as operation calls.  So despite exceptions, the SD would look closely to what you have. Including the need to use an <code>alt</code> or an <code>opt</code> fragment.</p>\n<h2>The ugly:  visual programming</h2>\n<p>Now beyond the technical alternatives described above,  you should question if this is the way to go.  Indeed,  sequence diagrams belong to the scenario-based modelling:  the diagrams are well thought and intuitive to read for a specific case.  If you start to misuse sequence diagram as a visual programming tool,  modelling not a single scenario, but an algorithm as close as possible to the implementation, you'll quickly have an unreadable diagram that nobody will use.  Programming is best done in programming languages.</p>\n"}],"owner":{"account_id":29576947,"reputation":33,"user_id":22667674,"display_name":"Star"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77257049,"answer_count":2,"score":3,"last_activity_date":1696975309,"creation_date":1696820456,"question_id":77256059,"body_markdown":"I&#39;m making a sequence diagram for some use cases of an interaction model for an online Book Store. In the use case sequence diagram, there&#39;s always the possibility of a user canceling the process that is occurring like on a normal site by logging out, by pressing cancel on an operation, or simply closing the browser or app. How do I model this in the sequence diagram? This is what I currently have:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve tried putting in an alt fragment, but it would have to encompass the lifelines and I don&#39;t think its right because it depends on where the user executes cancel. I&#39;ve thought of using break, but that assumes where the person is going to cancel. Since this applies to all use-cases I&#39;m not sure how to model cancellation during execution of a process or use-case.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nc9V8.png","title":"How to handle an exception thrown by an actor i.e. cancelOperation() in sequence diagram?","body":"<p>I'm making a sequence diagram for some use cases of an interaction model for an online Book Store. In the use case sequence diagram, there's always the possibility of a user canceling the process that is occurring like on a normal site by logging out, by pressing cancel on an operation, or simply closing the browser or app. How do I model this in the sequence diagram? This is what I currently have:</p>\n<p><a href=\"https://i.stack.imgur.com/Nc9V8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nc9V8.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried putting in an alt fragment, but it would have to encompass the lifelines and I don't think its right because it depends on where the user executes cancel. I've thought of using break, but that assumes where the person is going to cancel. Since this applies to all use-cases I'm not sure how to model cancellation during execution of a process or use-case.</p>\n"},{"tags":["java","ssl","ssl-certificate","jks"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1696958586,"post_id":77267715,"comment_id":136218224,"body_markdown":"You can make self-signed jks keystores have whatever lifetime you like.  I habitually use 365 days.   As to whether anyone cares whether it expires, it depends on whether the client code cares/does not care whether it expires.  (You&#39;ll have seen browsers saying &#39;expired cert&#39; that let you connect anyway. This means they internally control whether they care about expiration, or not).","body":"You can make self-signed jks keystores have whatever lifetime you like.  I habitually use 365 days.   As to whether anyone cares whether it expires, it depends on whether the client code cares/does not care whether it expires.  (You&#39;ll have seen browsers saying &#39;expired cert&#39; that let you connect anyway. This means they internally control whether they care about expiration, or not)."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696958690,"post_id":77267715,"comment_id":136218251,"body_markdown":"Why don&#39;t you just try it? Generating an expired self-signed certificate shouldn&#39;t be too difficult. Or just change your clock.","body":"Why don&#39;t you just try it? Generating an expired self-signed certificate shouldn&#39;t be too difficult. Or just change your clock."}],"answers":[{"tags":[],"owner":{"account_id":29643437,"reputation":1,"user_id":22719007,"display_name":"username"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696974369,"creation_date":1696974369,"answer_id":77269126,"question_id":77267715,"body_markdown":"If the certificate is added to the **truststore** that the socket uses (creating an array of `TrustManager`s and passing that to an `SSLContext`), then the `SSLSocket` seems to treat it as valid. Testing this using a dummy certificate that expires 1 second after creation, this seems to be correct; the client connects without exceptions or issues and can send messages.\r\n\r\nTherefore, if the client in question explicitly trusts the certificate, the client should be able to connect.\r\n\r\nHowever, if another implementation is being used that rejects expired certificates, the client will most likely throw an exception.","title":"Will SSL handshake work when a JKS keystore have an expired self-signed certificate and a valid CA signed certificate?","body":"<p>If the certificate is added to the <strong>truststore</strong> that the socket uses (creating an array of <code>TrustManager</code>s and passing that to an <code>SSLContext</code>), then the <code>SSLSocket</code> seems to treat it as valid. Testing this using a dummy certificate that expires 1 second after creation, this seems to be correct; the client connects without exceptions or issues and can send messages.</p>\n<p>Therefore, if the client in question explicitly trusts the certificate, the client should be able to connect.</p>\n<p>However, if another implementation is being used that rejects expired certificates, the client will most likely throw an exception.</p>\n"}],"owner":{"account_id":14059073,"reputation":119,"user_id":10155615,"display_name":"Suyash Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696974369,"creation_date":1696957242,"question_id":77267715,"body_markdown":"The self-signed certificate in a JKS keystore.jks has validity of only around 4 months, whereas the CA signed certificate will have validity of around 2 years, so when the self-signed certificate expires, will it not create any problem in SSL handshake?","title":"Will SSL handshake work when a JKS keystore have an expired self-signed certificate and a valid CA signed certificate?","body":"<p>The self-signed certificate in a JKS keystore.jks has validity of only around 4 months, whereas the CA signed certificate will have validity of around 2 years, so when the self-signed certificate expires, will it not create any problem in SSL handshake?</p>\n"},{"tags":["java","eclipse","jsf","java-17","content-assist"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":2,"creation_date":1696974232,"post_id":77268837,"comment_id":136220590,"body_markdown":"There&#39;s a bug already :-p https://bugs.eclipse.org/bugs/show_bug.cgi?id=581893","body":"There&#39;s a bug already :-p <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=581893\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=581893</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1696974547,"post_id":77268837,"comment_id":136220632,"body_markdown":"No one&#39;s provided a project demonstrating this, though.","body":"No one&#39;s provided a project demonstrating this, though."},{"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"score":0,"creation_date":1697065629,"post_id":77268837,"comment_id":136234091,"body_markdown":"Thank you for the link to the bug LMC !","body":"Thank you for the link to the bug LMC !"}],"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696974326,"creation_date":1696970407,"question_id":77268837,"body_markdown":"I am running Eclipse 2023-09 (4.29.0), Java 17 (Amazon Corretto 17.0.8_8) and have noticed that content assist we had available when using Java 11 on our xhtml pages no longer seems to be working.\r\n\r\nWe have upgraded our webapp from JSF 2 to JSF 4:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\nAnd we also use primefaces version 12:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.0.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nWe&#39;ve updated the namespaces in our xhtml pages from URLs to URNs like the following:\r\n\r\n\r\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n\txmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n\txmlns:h=&quot;jakarta.faces.html&quot;\r\n\txmlns:f=&quot;jakarta.faces.core&quot;\r\n    xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n\r\n\r\nAnd I&#39;ve double checked under Eclipse/Preferences/Web/Html Files/Editor/Content Assist everything is checked.\r\n\r\nMy project within eclipse is marked as a maven project, I can see the Maven Dependencies directory listing all the jars, including both the jakarta.faces and primefaces jars, so the taglibs should be on the classpath and visible by eclipse, but still no content assist.\r\n\r\nI&#39;m guessing it has something to do with the javax -&gt; jakarta change when we upgraded from Java 11 to Java 17 and maybe it&#39;s a bug in Eclipse? Either that or the tag libs are stored in a different place/location within the jar files and Eclipse doesn&#39;t see them correctly?\r\n\r\nIf anyone has any ideas (or if this is a known bug) I&#39;d really appreciate any feedback. Thanks for your time.\r\n\r\n","title":"Eclipse 2023-09, Java 17 and xhtml content assist not working","body":"<p>I am running Eclipse 2023-09 (4.29.0), Java 17 (Amazon Corretto 17.0.8_8) and have noticed that content assist we had available when using Java 11 on our xhtml pages no longer seems to be working.</p>\n<p>We have upgraded our webapp from JSF 2 to JSF 4:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n<p>And we also use primefaces version 12:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n        &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n        &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>We've updated the namespaces in our xhtml pages from URLs to URNs like the following:</p>\n<pre><code>xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:ui=&quot;jakarta.faces.facelets&quot;\nxmlns:h=&quot;jakarta.faces.html&quot;\nxmlns:f=&quot;jakarta.faces.core&quot;\nxmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\n</code></pre>\n<p>And I've double checked under Eclipse/Preferences/Web/Html Files/Editor/Content Assist everything is checked.</p>\n<p>My project within eclipse is marked as a maven project, I can see the Maven Dependencies directory listing all the jars, including both the jakarta.faces and primefaces jars, so the taglibs should be on the classpath and visible by eclipse, but still no content assist.</p>\n<p>I'm guessing it has something to do with the javax -&gt; jakarta change when we upgraded from Java 11 to Java 17 and maybe it's a bug in Eclipse? Either that or the tag libs are stored in a different place/location within the jar files and Eclipse doesn't see them correctly?</p>\n<p>If anyone has any ideas (or if this is a known bug) I'd really appreciate any feedback. Thanks for your time.</p>\n"},{"tags":["java","spring","spring-boot","exception","spring-bean"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696973026,"post_id":77269026,"comment_id":136220416,"body_markdown":"I see no reason that a bean couldn&#39;t extend Exception. Why don&#39;t you just try it?","body":"I see no reason that a bean couldn&#39;t extend Exception. Why don&#39;t you just try it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1696973139,"post_id":77269026,"comment_id":136220437,"body_markdown":"Also, throwing the same Exception instance multiple times will probably give you incorrect stack trace information. But it&#39;s possible (and a bad idea).","body":"Also, throwing the same Exception instance multiple times will probably give you incorrect stack trace information. But it&#39;s possible (and a bad idea)."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1696973426,"post_id":77269026,"comment_id":136220479,"body_markdown":"And if the message is updated via a setter, then it&#39;s not going to be thread safe.","body":"And if the message is updated via a setter, then it&#39;s not going to be thread safe."}],"answers":[{"tags":[],"owner":{"account_id":27770534,"reputation":24,"user_id":21200879,"display_name":"Partha Sai"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1696974169,"creation_date":1696973845,"answer_id":77269087,"question_id":77269026,"body_markdown":"Yes We can create. Sample code given below.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Bean\r\n        public MyCustomException myCustomException() {\r\n            return new MyCustomException(&quot;This is a Spring-managed exception.&quot;);\r\n        }\r\n    }\r\n\r\n    public class MyCustomException extends RuntimeException {\r\n        public MyCustomException(String message) {\r\n            super(message);\r\n        }\r\n     }\r\n\r\nfor Custom exception as below:\r\n\r\n    public class MyCustomException extends RuntimeException {\r\n    public MyCustomException(String message) {\r\n        super(message);\r\n    }\r\n    \r\n    public void setCustomMessage(String message) {\r\n        // This is a bit hacky, but demonstrates the concept\r\n        this.setStackTrace(this.getStackTrace());\r\n        this.initCause(null);\r\n        this.suppressedExceptions.clear();\r\n        super.fillInStackTrace();\r\n        \r\n        try {\r\n            Field detailMessage = Throwable.class.getDeclaredField(&quot;detailMessage&quot;);\r\n            detailMessage.setAccessible(true);\r\n            detailMessage.set(this, message);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to set custom message.&quot;, e);\r\n        }\r\n    }\r\n    }\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n    @Bean\r\n    public MyCustomException myCustomException() {\r\n        return new MyCustomException(&quot;Initial message.&quot;);\r\n    }\r\n    }\r\n\r\n\r\n    @Service\r\n    public class SomeService {\r\n    @Autowired\r\n    private MyCustomException myCustomException;\r\n\r\n    public void someMethod() {\r\n        myCustomException.setCustomMessage(&quot;New message.&quot;);\r\n        throw myCustomException;\r\n    }\r\n    }\r\n\r\n\r\n\r\n","title":"Can I create an exception as a spring bean?","body":"<p>Yes We can create. Sample code given below.</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public MyCustomException myCustomException() {\n        return new MyCustomException(&quot;This is a Spring-managed exception.&quot;);\n    }\n}\n\npublic class MyCustomException extends RuntimeException {\n    public MyCustomException(String message) {\n        super(message);\n    }\n }\n</code></pre>\n<p>for Custom exception as below:</p>\n<pre><code>public class MyCustomException extends RuntimeException {\npublic MyCustomException(String message) {\n    super(message);\n}\n\npublic void setCustomMessage(String message) {\n    // This is a bit hacky, but demonstrates the concept\n    this.setStackTrace(this.getStackTrace());\n    this.initCause(null);\n    this.suppressedExceptions.clear();\n    super.fillInStackTrace();\n    \n    try {\n        Field detailMessage = Throwable.class.getDeclaredField(&quot;detailMessage&quot;);\n        detailMessage.setAccessible(true);\n        detailMessage.set(this, message);\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Failed to set custom message.&quot;, e);\n    }\n}\n}\n@Configuration\npublic class AppConfig {\n\n@Bean\npublic MyCustomException myCustomException() {\n    return new MyCustomException(&quot;Initial message.&quot;);\n}\n}\n\n\n@Service\npublic class SomeService {\n@Autowired\nprivate MyCustomException myCustomException;\n\npublic void someMethod() {\n    myCustomException.setCustomMessage(&quot;New message.&quot;);\n    throw myCustomException;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1696999730,"accepted_answer_id":77269087,"answer_count":1,"score":-6,"last_activity_date":1696974169,"creation_date":1696972905,"question_id":77269026,"body_markdown":"Can I create an spring bean which is a Java exception? \r\n\r\nAnd then throw it multiple times ( lets say using different strings via setter)","title":"Can I create an exception as a spring bean?","body":"<p>Can I create an spring bean which is a Java exception?</p>\n<p>And then throw it multiple times ( lets say using different strings via setter)</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","amazon-glacier"],"comments":[{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1696887615,"post_id":77255881,"comment_id":136208081,"body_markdown":"Where is your code setting the desired Storage Class?","body":"Where is your code setting the desired Storage Class?"},{"owner":{"account_id":12665306,"reputation":113,"user_id":14649704,"display_name":"Willian Lima"},"score":0,"creation_date":1696973811,"post_id":77255881,"comment_id":136220530,"body_markdown":"That&#39;s the point, I have no idea where to define this.\nI created a new method looking directly at Glacier, but I don&#39;t know if it&#39;s the right approach.","body":"That&#39;s the point, I have no idea where to define this. I created a new method looking directly at Glacier, but I don&#39;t know if it&#39;s the right approach."},{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1696981504,"post_id":77255881,"comment_id":136221308,"body_markdown":"You can add `.storageClass(StorageClass.GLACIER)` to your `PutObjectRequest.builder()`. See valid values at: [StorageClass (AWS SDK for Java)](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/StorageClass.html)","body":"You can add <code>.storageClass(StorageClass.GLACIER)</code> to your <code>PutObjectRequest.builder()</code>. See valid values at: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/StorageClass.html\" rel=\"nofollow noreferrer\">StorageClass (AWS SDK for Java)</a>"}],"owner":{"account_id":12665306,"reputation":113,"user_id":14649704,"display_name":"Willian Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696974079,"creation_date":1696815161,"question_id":77255881,"body_markdown":"I have been trying to upload a file with the tier glacier flexible pattern, however it always comes in as the default. How can I fix this?\r\n\r\nFollow my methods, both from a single file and from a directory\r\n\r\n\r\nSingle File\r\n\r\n    @Override\r\n    \tpublic ResponseEntity&lt;String&gt;uploadFiles(MultipartFile file) {\r\n    \t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tString data = file.getOriginalFilename().substring(0, 8);\r\n    \t\t\t\r\n    \t\t\tfinal String fileName = data + &quot;/&quot; + file.getOriginalFilename();\r\n    \t\t\t PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n    \t\t                .bucket(BUCKETNAME)\r\n    \t\t                .key(fileName)\r\n    \t\t                .build();\r\n    \t\t\t\r\n    \t\t\t s3Client.putObject(objectRequest, RequestBody.fromBytes(file.getBytes()));\r\n    \t\t\t \r\n    \t\t\t responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\r\n    \t\t\t LOGGER.info(&quot;[AwsS3BucketService] Info - Upload File: Success&quot; );\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tresponseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do arquivo&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t\t LOGGER.info(&quot;[AwsS3BucketService] Info - Upload File: Fail &quot; + e.getMessage() );\r\n    \t\t}\r\n    \t\treturn responseEntity;\r\n    \t}\r\n\r\n\r\n\r\nUpload Directory\r\n\r\n    @Override\r\n\tpublic ResponseEntity&lt;String&gt; uploadDirectory(String folderPath ) {\r\n\t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n\t\t//String folder = folderPath.substring(folderPath.length()-8);\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\t DirectoryUpload directoryUpload =\r\n\t\t\t\t            transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n\t\t\t            \t\t.source(Paths.get(folderPath).getParent())\r\n\t\t\t\t                .bucket(BUCKETNAME)\r\n\t\t\t\t                .build());\r\n\t\t\t\t\r\n\t\t\t\t        CompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().join();\r\n\t\t\t\t        completedDirectoryUpload.failedTransfers().forEach(fail -&gt;\r\n\t\t\t\t        LOGGER.info(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\r\n\t\t\t\t        \r\n\t\t\t\t        responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\r\n\t\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tresponseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do diret&#243;rio&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\t\t LOGGER.info(&quot;[AwsS3BucketService] Info - Upload directory: Fail &quot; + e.getMessage() );\r\n\t\t\t}\r\n\t\t\r\n\t\treturn responseEntity;\r\n\t}\r\n\r\n\r\nNew Method using Glacier, but i have no ideia if this approach correctly\r\n\r\n    @Override\r\n    \tpublic ResponseEntity&lt;String&gt; uploadDirectory(String folderPath ) {\r\n    \r\n    \t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n        \t\r\n            // Get an SHA-256 tree hash value.\r\n            //String checkVal = computeSHA256(myFile);\r\n            try {\r\n            \t\r\n                UploadArchiveRequest uploadRequest = UploadArchiveRequest.builder()\r\n                    .vaultName(BUCKETNAME)\r\n                    //.checksum(checkVal)\r\n                    .build();\r\n    \r\n                UploadArchiveResponse res = glacier.uploadArchive(uploadRequest, Paths.get(folderPath));\r\n              \r\n                responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\r\n    \r\n            } catch(GlacierException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do diret&#243;rio&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\r\n                System.exit(1);\r\n            }\r\n            return responseEntity;\r\n        }\r\n\r\n","title":"how to upload a file with tier glacier flaxible by default","body":"<p>I have been trying to upload a file with the tier glacier flexible pattern, however it always comes in as the default. How can I fix this?</p>\n<p>Follow my methods, both from a single file and from a directory</p>\n<p>Single File</p>\n<pre><code>@Override\n    public ResponseEntity&lt;String&gt;uploadFiles(MultipartFile file) {\n        ResponseEntity&lt;String&gt; responseEntity = null;\n        try {\n            \n            String data = file.getOriginalFilename().substring(0, 8);\n            \n            final String fileName = data + &quot;/&quot; + file.getOriginalFilename();\n             PutObjectRequest objectRequest = PutObjectRequest.builder()\n                        .bucket(BUCKETNAME)\n                        .key(fileName)\n                        .build();\n            \n             s3Client.putObject(objectRequest, RequestBody.fromBytes(file.getBytes()));\n             \n             responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\n             LOGGER.info(&quot;[AwsS3BucketService] Info - Upload File: Success&quot; );\n        } catch (Exception e) {\n            e.printStackTrace();\n            responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do arquivo&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\n             LOGGER.info(&quot;[AwsS3BucketService] Info - Upload File: Fail &quot; + e.getMessage() );\n        }\n        return responseEntity;\n    }\n</code></pre>\n<p>Upload Directory</p>\n<pre><code>@Override\npublic ResponseEntity&lt;String&gt; uploadDirectory(String folderPath ) {\n    ResponseEntity&lt;String&gt; responseEntity = null;\n    //String folder = folderPath.substring(folderPath.length()-8);\n        try {\n            \n             DirectoryUpload directoryUpload =\n                        transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                            .source(Paths.get(folderPath).getParent())\n                            .bucket(BUCKETNAME)\n                            .build());\n            \n                    CompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().join();\n                    completedDirectoryUpload.failedTransfers().forEach(fail -&gt;\n                    LOGGER.info(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\n                    \n                    responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\n                \n        } catch (Exception e) {\n            e.printStackTrace();\n            responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do diretório&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\n             LOGGER.info(&quot;[AwsS3BucketService] Info - Upload directory: Fail &quot; + e.getMessage() );\n        }\n    \n    return responseEntity;\n}\n</code></pre>\n<p>New Method using Glacier, but i have no ideia if this approach correctly</p>\n<pre><code>@Override\n    public ResponseEntity&lt;String&gt; uploadDirectory(String folderPath ) {\n\n        ResponseEntity&lt;String&gt; responseEntity = null;\n        \n        // Get an SHA-256 tree hash value.\n        //String checkVal = computeSHA256(myFile);\n        try {\n            \n            UploadArchiveRequest uploadRequest = UploadArchiveRequest.builder()\n                .vaultName(BUCKETNAME)\n                //.checksum(checkVal)\n                .build();\n\n            UploadArchiveResponse res = glacier.uploadArchive(uploadRequest, Paths.get(folderPath));\n          \n            responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Upload realizado&quot;), HttpStatus.OK);\n\n        } catch(GlacierException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            responseEntity = new ResponseEntity&lt;String&gt;(new Gson().toJson(&quot;Falha ao realizar o upload do diretório&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\n            System.exit(1);\n        }\n        return responseEntity;\n    }\n</code></pre>\n"},{"tags":["java","react-native","text","coordinates","android-actionmode"],"owner":{"account_id":27123664,"reputation":1,"user_id":20667056,"display_name":"salih &#246;z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696973713,"creation_date":1696973432,"question_id":77269060,"body_markdown":"I&#39;m using react-native-selectable-text currently on my app and it&#39;s working with no issues on android devices except some xiaomi devices.İ tried to customize selection (e.g: Choose,add to favorite) but xiaomi devices still showing default selection [actions.](https://xiaomi.eu/community/attachments/33890/). Apart from this issue,i want to get Rect coordinates of selectedText. How can i do this? This code from RNSelectableTextManager.java of [react-native-selectanle-text.](https://www.npmjs.com/package/@alentoma/react-native-selectable-text)\r\n```\r\n//RNSelectableTextManager.java\r\n...\r\nString selectedText = view.getText().toString().substring(selectionStart, selectionEnd);\r\n...\r\n```\r\n\r\n\r\nİ read Xiaomi devices not responding to onPrepareActionMode, they are responding to onCreateActionMode on forum.Then i tried this code;\r\n```\r\n//RNSelectableTextManager.java\r\n...\r\n            @Override\r\n            public boolean onCreateActionMode(ActionMode mode, Menu menu) {\r\n                menu.clear();                                   //Added this line\r\n                for (int i = 0; i &lt; menuItems.length; i++) {    //Added this line\r\n                  menu.add(0, i, 0, menuItems[i]);              //Added this line\r\n                }                                               //Added this line\r\n                return true;\r\n            }\r\n...\r\n```\r\nbut still doesn&#39;t work.","title":"React native selectable text doesnt work on some xiaomi devices","body":"<p>I'm using react-native-selectable-text currently on my app and it's working with no issues on android devices except some xiaomi devices.İ tried to customize selection (e.g: Choose,add to favorite) but xiaomi devices still showing default selection <a href=\"https://xiaomi.eu/community/attachments/33890/\" rel=\"nofollow noreferrer\">actions.</a>. Apart from this issue,i want to get Rect coordinates of selectedText. How can i do this? This code from RNSelectableTextManager.java of <a href=\"https://www.npmjs.com/package/@alentoma/react-native-selectable-text\" rel=\"nofollow noreferrer\">react-native-selectanle-text.</a></p>\n<pre><code>//RNSelectableTextManager.java\n...\nString selectedText = view.getText().toString().substring(selectionStart, selectionEnd);\n...\n</code></pre>\n<p>İ read Xiaomi devices not responding to onPrepareActionMode, they are responding to onCreateActionMode on forum.Then i tried this code;</p>\n<pre><code>//RNSelectableTextManager.java\n...\n            @Override\n            public boolean onCreateActionMode(ActionMode mode, Menu menu) {\n                menu.clear();                                   //Added this line\n                for (int i = 0; i &lt; menuItems.length; i++) {    //Added this line\n                  menu.add(0, i, 0, menuItems[i]);              //Added this line\n                }                                               //Added this line\n                return true;\n            }\n...\n</code></pre>\n<p>but still doesn't work.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6229593,"reputation":444,"user_id":4846804,"accept_rate":60,"display_name":"vincent zhang"},"score":0,"creation_date":1467889029,"post_id":38243413,"comment_id":63908289,"body_markdown":"Please correct me if I am wrong: for my understanding, even though will returned more than one result, however, as I used &quot;findTop&quot;, so Spring JPA will help me to select top one of the result","body":"Please correct me if I am wrong: for my understanding, even though will returned more than one result, however, as I used &quot;findTop&quot;, so Spring JPA will help me to select top one of the result"},{"owner":{"account_id":6229593,"reputation":444,"user_id":4846804,"accept_rate":60,"display_name":"vincent zhang"},"score":0,"creation_date":1467972292,"post_id":38243413,"comment_id":63947576,"body_markdown":"problem resolved, because the version should at least 1.7.1.RELEASE","body":"problem resolved, because the version should at least 1.7.1.RELEASE"}],"answers":[{"tags":[],"owner":{"account_id":5145142,"reputation":22,"user_id":4121356,"display_name":"JP Bose"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467888476,"creation_date":1467888476,"answer_id":38243523,"question_id":38243413,"body_markdown":"You tried to retrieve the result as &#39;query.getSingleResult()&#39; hoping you will get only one result. whereas your query returned more than one result. That&#39;s why this exception occur.","title":"NonUniqueResultException thrown when using spring jpa &quot;findtop&quot;","body":"<p>You tried to retrieve the result as 'query.getSingleResult()' hoping you will get only one result. whereas your query returned more than one result. That's why this exception occur.</p>\n"},{"tags":[],"owner":{"account_id":3004107,"reputation":902,"user_id":2548956,"display_name":"Rae Burawes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467898498,"creation_date":1467898498,"answer_id":38246913,"question_id":38243413,"body_markdown":"Could you please check the version of your Spring Data JPA. Note that Top and First are available since 1.7.1.RELEASE.","title":"NonUniqueResultException thrown when using spring jpa &quot;findtop&quot;","body":"<p>Could you please check the version of your Spring Data JPA. Note that Top and First are available since 1.7.1.RELEASE.</p>\n"}],"owner":{"account_id":6229593,"reputation":444,"user_id":4846804,"accept_rate":60,"display_name":"vincent zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5749,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38246913,"answer_count":2,"score":3,"last_activity_date":1696973014,"creation_date":1467888123,"question_id":38243413,"body_markdown":"I am using Spring JPA, and NonUniqueResultException throw when I use &quot;findTop&quot; keyword\r\n\r\nJava source:\r\n\r\n    Optional&lt;ClassA&gt; findTopByXXXOrderByIdDesc(String xxx);\r\n\r\nThen get the exception:\r\n\r\n&gt; exceptionType = org.springframework.dao.IncorrectResultSizeDataAccessException exception = result returns more than one elements; nested exception is javax.persistence.NonUniqueResultException: result returns more than one elements\r\n\r\nAny one know what happen?","title":"NonUniqueResultException thrown when using spring jpa &quot;findtop&quot;","body":"<p>I am using Spring JPA, and NonUniqueResultException throw when I use \"findTop\" keyword</p>\n\n<p>Java source:</p>\n\n<pre><code>Optional&lt;ClassA&gt; findTopByXXXOrderByIdDesc(String xxx);\n</code></pre>\n\n<p>Then get the exception:</p>\n\n<blockquote>\n  <p>exceptionType = org.springframework.dao.IncorrectResultSizeDataAccessException exception = result returns more than one elements; nested exception is javax.persistence.NonUniqueResultException: result returns more than one elements</p>\n</blockquote>\n\n<p>Any one know what happen?</p>\n"},{"tags":["java","enums","json-deserialization","jackson-databind","json-serialization"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696958818,"post_id":77267763,"comment_id":136218275,"body_markdown":"Read the `enumclass` as a String, then use `Class.forName`.","body":"Read the <code>enumclass</code> as a String, then use <code>Class.forName</code>."},{"owner":{"account_id":28508256,"reputation":19,"user_id":21818599,"display_name":"Jacob Batista"},"score":0,"creation_date":1696962325,"post_id":77267763,"comment_id":136218784,"body_markdown":"@Jorn after trying this solution, I am greeted with a ClassNotFoundException. This leads me to believe the issue has to do with the Classloader instead. The reason I dont already know what the enum type is is because the Enums are declared in plugins loaded by PF4J.","body":"@Jorn after trying this solution, I am greeted with a ClassNotFoundException. This leads me to believe the issue has to do with the Classloader instead. The reason I dont already know what the enum type is is because the Enums are declared in plugins loaded by PF4J."}],"answers":[{"tags":[],"owner":{"account_id":28508256,"reputation":19,"user_id":21818599,"display_name":"Jacob Batista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696972687,"creation_date":1696972687,"answer_id":77269016,"question_id":77267763,"body_markdown":"Jorn&#39;s comment\r\n\r\n&gt; Read the enumclass as a String, then use `Class.forName`\r\n\r\nIs what worked for me. The issue with the `ClassNotFoundException` was due to me using PF4J to load plugins. I had to register a list of all the plugin classloaders and use the method `Class.forName(name, true, pluginClassLoader)` to pass the plugin classloaders in manually to find the class.","title":"Jackson Databind Deserializtion of Generic Enum","body":"<p>Jorn's comment</p>\n<blockquote>\n<p>Read the enumclass as a String, then use <code>Class.forName</code></p>\n</blockquote>\n<p>Is what worked for me. The issue with the <code>ClassNotFoundException</code> was due to me using PF4J to load plugins. I had to register a list of all the plugin classloaders and use the method <code>Class.forName(name, true, pluginClassLoader)</code> to pass the plugin classloaders in manually to find the class.</p>\n"}],"owner":{"account_id":28508256,"reputation":19,"user_id":21818599,"display_name":"Jacob Batista"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696972687,"creation_date":1696957897,"question_id":77267763,"body_markdown":"I am trying to properly save/load data containing a generic enum. Currently the object contains a java.lang.Class object (clazz) that get serialized into the field &quot;enumclass&quot;. The &quot;al&quot; field contains the value of the enum. My goal is to create a custom Jackson deserializer that uses the &quot;val&quot; field and the &quot;enumclass&quot; field to then run `Enum.valueOf()` to create an instance of the Enum.\r\n\r\nHowever, when I run the deserializer, it throws a `JsonMappingException` and says `Cannot construct instance of &#39;java.lang.Class&#39;, problem: me.ExampleProject.Enums$RevealType$1`\r\n\r\nI can&#39;t seem to get past this one issue and am not sure how to proceed. Any help would be appreciated.\r\n\r\n\r\nExample JSON:\r\n```\r\n&quot;revealType&quot;: {\r\n    &quot;type&quot;: &quot;enumspec&quot;,\r\n    &quot;id&quot;: &quot;Reveal Type&quot;,\r\n    &quot;val&quot;: &quot;SKIRT&quot;,\r\n    &quot;enumclass&quot;: &quot;me.ExampleProject.Enums.RevealType&quot;,\r\n    &quot;ro&quot;: false,\r\n    &quot;sec&quot;: &quot;Miscellaneous&quot;\r\n}\r\n```\r\nDeserialization Code:\r\n```\r\nClass clazz = MAP.convertValue(jsonNode.get(&quot;enumclass&quot;), new TypeReference&lt;Class&lt;? extends Enum&lt;?&gt;&gt;&gt;() {});\r\nEnum&lt;?&gt; value = Enum.valueOf(clazz, jsonNode.get(&quot;val&quot;).asText());\r\n```","title":"Jackson Databind Deserializtion of Generic Enum","body":"<p>I am trying to properly save/load data containing a generic enum. Currently the object contains a java.lang.Class object (clazz) that get serialized into the field &quot;enumclass&quot;. The &quot;al&quot; field contains the value of the enum. My goal is to create a custom Jackson deserializer that uses the &quot;val&quot; field and the &quot;enumclass&quot; field to then run <code>Enum.valueOf()</code> to create an instance of the Enum.</p>\n<p>However, when I run the deserializer, it throws a <code>JsonMappingException</code> and says <code>Cannot construct instance of 'java.lang.Class', problem: me.ExampleProject.Enums$RevealType$1</code></p>\n<p>I can't seem to get past this one issue and am not sure how to proceed. Any help would be appreciated.</p>\n<p>Example JSON:</p>\n<pre><code>&quot;revealType&quot;: {\n    &quot;type&quot;: &quot;enumspec&quot;,\n    &quot;id&quot;: &quot;Reveal Type&quot;,\n    &quot;val&quot;: &quot;SKIRT&quot;,\n    &quot;enumclass&quot;: &quot;me.ExampleProject.Enums.RevealType&quot;,\n    &quot;ro&quot;: false,\n    &quot;sec&quot;: &quot;Miscellaneous&quot;\n}\n</code></pre>\n<p>Deserialization Code:</p>\n<pre><code>Class clazz = MAP.convertValue(jsonNode.get(&quot;enumclass&quot;), new TypeReference&lt;Class&lt;? extends Enum&lt;?&gt;&gt;&gt;() {});\nEnum&lt;?&gt; value = Enum.valueOf(clazz, jsonNode.get(&quot;val&quot;).asText());\n</code></pre>\n"},{"tags":["java","swing","plugins","client"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1598268315,"post_id":63560039,"comment_id":112393384,"body_markdown":"I&#39;m guessing that you want to send an OS message that tells a window that a mouse click occurred, and if so, this would require code that makes OS calls, something that Java is very poor at doing (by design).","body":"I&#39;m guessing that you want to send an OS message that tells a window that a mouse click occurred, and if so, this would require code that makes OS calls, something that Java is very poor at doing (by design)."},{"owner":{"account_id":19361867,"reputation":1,"user_id":14156968,"display_name":"Teun"},"score":0,"creation_date":1598268974,"post_id":63560039,"comment_id":112393662,"body_markdown":"@HovercraftFullOfEels Thanks for responding so quickly! isn&#39;t this just what you can do with a new MouseEvent? because you pass an X and Y coordinate?","body":"@HovercraftFullOfEels Thanks for responding so quickly! isn&#39;t this just what you can do with a new MouseEvent? because you pass an X and Y coordinate?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1598273429,"post_id":63560039,"comment_id":112395895,"body_markdown":"No, not if you&#39;re trying to control another program that is not a Swing program that you created","body":"No, not if you&#39;re trying to control another program that is not a Swing program that you created"}],"answers":[{"tags":[],"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637040590,"creation_date":1637039391,"answer_id":69984028,"question_id":63560039,"body_markdown":"Seeing as no one else has gotten back, I&#39;ll try to point you in the right direction even though I&#39;m also not sure of a library or way to do it without hijacking the mouse. There are other methods than robot such as a scheduled executor, but it will still hijack your mouse. There are a lot of free repos that use runelite&#39;s API to cerate bots and interact with the game, allowing you to not have to worry about clicking at specific coordinates. And using those as reference will help you get where you wanna go! \r\n\r\nSome have different methods, and I&#39;ve seen some that do not hijack your mouse. However, none of those are open source (at least from what I&#39;ve found). I&#39;ll paste some examples here. Like I said at the beginning I&#39;m not super confident in how to create a bot that can override your mouse movements and click independent of your mouse but here are some examples of other&#39;s bots.\r\n\r\nThe first plugin shown below uses this method for example:\r\n\r\n\texecutor = Executors.newSingleThreadScheduledExecutor();\r\n    executor.schedule(this::simLeftClick, delay, TimeUnit.MILLISECONDS);\r\n \r\n\r\n**AutoPrayFlick** - https://github.com/Ganom/ExternalPlugins/blob/master/AutoPrayFlick/src/main/java/net/runelite/client/plugins/externals/autoprayflick/AutoPrayFlickPlugin.java\r\n\r\n**ItemDropper** - \r\nhttps://github.com/Failed4life/ExternalPlugins/blob/master/ItemDropper/src/main/java/net/runelite/client/plugins/externals/itemdropper/ItemDropper.java\r\n\r\n**OneClick** - This one uses only the API and doesn&#39;t require any mouse simulation!\r\nhttps://github.com/Ganom/ExternalPlugins/blob/master/OneClick/src/main/java/net/runelite/client/plugins/externals/oneclick/OneClickPlugin.java\r\n\r\nIt may be smart to consider detection if using robot or anything like that, using something like this will help humanize your movements\r\n \r\nhttps://github.com/JoonasVali/NaturalMouseMotion\r\n\r\nP.S I recommend looking around github at all the opensource repos to get a feel for how people are doing things, this is how I familiarized myself with the API and it&#39; usage! \r\n","title":"Java swing fake mouse in Runelite for plugin","body":"<p>Seeing as no one else has gotten back, I'll try to point you in the right direction even though I'm also not sure of a library or way to do it without hijacking the mouse. There are other methods than robot such as a scheduled executor, but it will still hijack your mouse. There are a lot of free repos that use runelite's API to cerate bots and interact with the game, allowing you to not have to worry about clicking at specific coordinates. And using those as reference will help you get where you wanna go!</p>\n<p>Some have different methods, and I've seen some that do not hijack your mouse. However, none of those are open source (at least from what I've found). I'll paste some examples here. Like I said at the beginning I'm not super confident in how to create a bot that can override your mouse movements and click independent of your mouse but here are some examples of other's bots.</p>\n<p>The first plugin shown below uses this method for example:</p>\n<pre><code>executor = Executors.newSingleThreadScheduledExecutor();\nexecutor.schedule(this::simLeftClick, delay, TimeUnit.MILLISECONDS);\n</code></pre>\n<p><strong>AutoPrayFlick</strong> - <a href=\"https://github.com/Ganom/ExternalPlugins/blob/master/AutoPrayFlick/src/main/java/net/runelite/client/plugins/externals/autoprayflick/AutoPrayFlickPlugin.java\" rel=\"nofollow noreferrer\">https://github.com/Ganom/ExternalPlugins/blob/master/AutoPrayFlick/src/main/java/net/runelite/client/plugins/externals/autoprayflick/AutoPrayFlickPlugin.java</a></p>\n<p><strong>ItemDropper</strong> -\n<a href=\"https://github.com/Failed4life/ExternalPlugins/blob/master/ItemDropper/src/main/java/net/runelite/client/plugins/externals/itemdropper/ItemDropper.java\" rel=\"nofollow noreferrer\">https://github.com/Failed4life/ExternalPlugins/blob/master/ItemDropper/src/main/java/net/runelite/client/plugins/externals/itemdropper/ItemDropper.java</a></p>\n<p><strong>OneClick</strong> - This one uses only the API and doesn't require any mouse simulation!\n<a href=\"https://github.com/Ganom/ExternalPlugins/blob/master/OneClick/src/main/java/net/runelite/client/plugins/externals/oneclick/OneClickPlugin.java\" rel=\"nofollow noreferrer\">https://github.com/Ganom/ExternalPlugins/blob/master/OneClick/src/main/java/net/runelite/client/plugins/externals/oneclick/OneClickPlugin.java</a></p>\n<p>It may be smart to consider detection if using robot or anything like that, using something like this will help humanize your movements</p>\n<p><a href=\"https://github.com/JoonasVali/NaturalMouseMotion\" rel=\"nofollow noreferrer\">https://github.com/JoonasVali/NaturalMouseMotion</a></p>\n<p>P.S I recommend looking around github at all the opensource repos to get a feel for how people are doing things, this is how I familiarized myself with the API and it' usage!</p>\n"},{"tags":[],"owner":{"account_id":27883653,"reputation":1,"user_id":21291595,"display_name":"Mocrosoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677422809,"creation_date":1677422809,"answer_id":75572755,"question_id":63560039,"body_markdown":"Your mouseEvent component is wrong. &#39;this&#39; should be replaced with client.getCanvas().\r\n\r\n      mouseEvent = new MouseEvent(client.getCanvas(), MouseEvent.MOUSE_CLICKED,\r\n                     System.currentTimeMillis(), 0, 10, 10, 1, false);\r\n\r\nThat&#39;s all to make virtual mouse click work.","title":"Java swing fake mouse in Runelite for plugin","body":"<p>Your mouseEvent component is wrong. 'this' should be replaced with client.getCanvas().</p>\n<pre><code>  mouseEvent = new MouseEvent(client.getCanvas(), MouseEvent.MOUSE_CLICKED,\n                 System.currentTimeMillis(), 0, 10, 10, 1, false);\n</code></pre>\n<p>That's all to make virtual mouse click work.</p>\n"},{"tags":[],"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693245202,"creation_date":1693245202,"answer_id":76995034,"question_id":63560039,"body_markdown":"Typically when you need to simulate an click you&#39;d do something like use the Windows API - however RuneLite is a 3rd party client for RuneScape, which is a Java application. The game window is just a [Canvas][1] and RuneLite, which is open source software, exposes this canvas in their [Client][1] class getCanvas().\r\n\r\n\r\nAutomating the game is as simple as dispatching events to this canvas, for example:\r\n\r\n     public void sendMoveEvent(int x, int y) {\r\n            Point point = new Point(x, y);\r\n            SwingUtilities.convertPointToScreen(point, canvas);\r\n            canvas.dispatchEvent(new MouseEvent(canvas, MouseEvent.MOUSE_MOVED, System.currentTimeMillis(), 0, x, y, point.x, point.y, 0, false, 0));\r\n        }\r\n\r\nYou can find more info about dispatching events online, however, given the intended use, I would recommend you set up a Plugin using the RuneLite API.\r\nIn the plugin you can register a [MouseListener][2]. Log the data from the events and you can study, and than simulate, what events should look like.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Canvas.html\r\n  [2]: https://static.runelite.net/api/runelite-client/net/runelite/client/input/MouseListener.html","title":"Java swing fake mouse in Runelite for plugin","body":"<p>Typically when you need to simulate an click you'd do something like use the Windows API - however RuneLite is a 3rd party client for RuneScape, which is a Java application. The game window is just a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Canvas.html\" rel=\"nofollow noreferrer\">Canvas</a> and RuneLite, which is open source software, exposes this canvas in their <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Canvas.html\" rel=\"nofollow noreferrer\">Client</a> class getCanvas().</p>\n<p>Automating the game is as simple as dispatching events to this canvas, for example:</p>\n<pre><code> public void sendMoveEvent(int x, int y) {\n        Point point = new Point(x, y);\n        SwingUtilities.convertPointToScreen(point, canvas);\n        canvas.dispatchEvent(new MouseEvent(canvas, MouseEvent.MOUSE_MOVED, System.currentTimeMillis(), 0, x, y, point.x, point.y, 0, false, 0));\n    }\n</code></pre>\n<p>You can find more info about dispatching events online, however, given the intended use, I would recommend you set up a Plugin using the RuneLite API.\nIn the plugin you can register a <a href=\"https://static.runelite.net/api/runelite-client/net/runelite/client/input/MouseListener.html\" rel=\"nofollow noreferrer\">MouseListener</a>. Log the data from the events and you can study, and than simulate, what events should look like.</p>\n"}],"owner":{"account_id":19361867,"reputation":1,"user_id":14156968,"display_name":"Teun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696972059,"creation_date":1598268185,"question_id":63560039,"body_markdown":"I&#39;ve been searching the Internet for making a plugin for Runelite a client for Oldschool Runescape. I want to make a plugin where I can fight some monsters, basically its a bot. I know there are other clients out there that make it easier to write bot scripts. \r\n\r\nMy question is how do I make a &quot;Fake&quot; mouse that fires `MouseEvent` to a specific location on the screen and implement this inside a plugin. I&#39;ve seen that I can create a new `MouseEvent` and pass the X and Y value&#39;s but I also need to pass a source for that. The source needs to be a component. I Tried using this [snippet](https://stackoverflow.com/questions/15910105/make-a-fake-mouse-in-java) but &quot;this&quot; doesn&#39;t work in a plugin because its not a Component I guess.\r\n\r\nI know I could use the class Robot from java.awt to create mouse movement etc but that hijacks my mouse on the PC. Also of course this is for educational purposes. I just would really like to know how to create a bot, was always fascinated by the thought of creating one. \r\n\r\nps: I found this [video](https://www.youtube.com/watch?v=w_DcXfKEUCU). I want to create something similar, this is the &quot;fake&quot; mouse I mean; the cross on the window.\r\n\r\nThis is the code I have at the moment: \r\n\r\n```java\r\npackage net.runelite.client.plugins.clicktest;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport net.runelite.api.Client;\r\nimport net.runelite.client.plugins.Plugin;\r\nimport net.runelite.client.plugins.PluginDescriptor;\r\n\r\nimport javax.inject.Inject;\r\nimport java.awt.event.MouseEvent;\r\n\r\n\r\n@Slf4j\r\n@PluginDescriptor(\r\n        name = &quot;ClickTestPlugin&quot;,\r\n        description = &quot;Plugin for testing MouseEvents in Runelite&quot;\r\n)\r\npublic class clicktest extends Plugin {\r\n\r\n    @Inject\r\n    public Client client;\r\n\r\n\r\n    @Inject\r\n    public MouseEvent mouseEvent;\r\n\r\n    public clicktest() {\r\n\r\n        mouseEvent = new MouseEvent(this, MouseEvent.MOUSE_CLICKED,\r\n                System.currentTimeMillis(), 0, 10, 10, 1, false);\r\n    }\r\n}\r\n```","title":"Java swing fake mouse in Runelite for plugin","body":"<p>I've been searching the Internet for making a plugin for Runelite a client for Oldschool Runescape. I want to make a plugin where I can fight some monsters, basically its a bot. I know there are other clients out there that make it easier to write bot scripts.</p>\n<p>My question is how do I make a &quot;Fake&quot; mouse that fires <code>MouseEvent</code> to a specific location on the screen and implement this inside a plugin. I've seen that I can create a new <code>MouseEvent</code> and pass the X and Y value's but I also need to pass a source for that. The source needs to be a component. I Tried using this <a href=\"https://stackoverflow.com/questions/15910105/make-a-fake-mouse-in-java\">snippet</a> but &quot;this&quot; doesn't work in a plugin because its not a Component I guess.</p>\n<p>I know I could use the class Robot from java.awt to create mouse movement etc but that hijacks my mouse on the PC. Also of course this is for educational purposes. I just would really like to know how to create a bot, was always fascinated by the thought of creating one.</p>\n<p>ps: I found this <a href=\"https://www.youtube.com/watch?v=w_DcXfKEUCU\" rel=\"nofollow noreferrer\">video</a>. I want to create something similar, this is the &quot;fake&quot; mouse I mean; the cross on the window.</p>\n<p>This is the code I have at the moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.runelite.client.plugins.clicktest;\n\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.Client;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\n\nimport javax.inject.Inject;\nimport java.awt.event.MouseEvent;\n\n\n@Slf4j\n@PluginDescriptor(\n        name = &quot;ClickTestPlugin&quot;,\n        description = &quot;Plugin for testing MouseEvents in Runelite&quot;\n)\npublic class clicktest extends Plugin {\n\n    @Inject\n    public Client client;\n\n\n    @Inject\n    public MouseEvent mouseEvent;\n\n    public clicktest() {\n\n        mouseEvent = new MouseEvent(this, MouseEvent.MOUSE_CLICKED,\n                System.currentTimeMillis(), 0, 10, 10, 1, false);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","date"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693249398,"post_id":76995318,"comment_id":135733000,"body_markdown":"FYI: Both of the terribly flawed `java.util.Date` and `java.sql.Date` classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. JDBC 4.2+ supports the *java.time* classes. For a date-only value, use `java.time.LocalDate`.","body":"FYI: Both of the terribly flawed <code>java.util.Date</code> and <code>java.sql.Date</code> classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. JDBC 4.2+ supports the <i>java.time</i> classes. For a date-only value, use <code>java.time.LocalDate</code>."},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693289396,"post_id":76995318,"comment_id":135737168,"body_markdown":"@BasilBourque Yes ``` java.time.LocalDate```  worked. Thanks","body":"@BasilBourque Yes ``` java.time.LocalDate```  worked. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693248547,"creation_date":1693248547,"answer_id":76995362,"question_id":76995318,"body_markdown":"Does this work?\r\n```java\r\n@JsonProperty(value = &quot;DOB&quot;)\r\n@JsonFormat(pattern = &quot;yyyyMMdd&quot;, shape = JsonFormat.Shape.STRING)\r\nprivate Date DOB;\r\n```","title":"Date type returning 1970-01-01 as default always in Java","body":"<p>Does this work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(value = &quot;DOB&quot;)\n@JsonFormat(pattern = &quot;yyyyMMdd&quot;, shape = JsonFormat.Shape.STRING)\nprivate Date DOB;\n</code></pre>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76995362,"answer_count":1,"score":0,"last_activity_date":1696971918,"creation_date":1693248029,"question_id":76995318,"body_markdown":"`setDOB` method is always inserting 1970-01-01 in database. \r\n\r\nCan&#39;t change the `dataType` of DOB which is Date in java.util.\r\n**JSON postman request is recieving like this:** \r\n```json\r\n{\r\n&quot;DOB&quot;:&quot;20101123&quot;\r\n}\r\n```\r\nRequest will be recieved in this format only, and it should insert in database like ```2010-11-23```\r\n\r\nBut only 1970-01-01 is inserting in database on every request. \r\n\r\n**ServiceClass method**\r\n```\r\nprivate void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n    try {\r\n        EmployeeInformation employeeInfo = requestMessage.getEmployeeInformation();\r\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\r\n\r\n        updater\r\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\r\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\r\n\r\n    \r\n        orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n    } catch (JSONException e) {\r\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n    } \r\n}\r\n\r\n\r\npublic static class Updater {\r\n  private final OrgEmployeeMap existing;\r\n  private final EmployeeInformation information;\r\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\r\n\r\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\r\n    this.existing = existing;\r\n    this.information = information;\r\n  }\r\n\r\n  public &lt;T&gt; Updater update(String fieldName,\r\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\r\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\r\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\r\n    final var newValue = newValueGetter.apply(information);\r\n    final var oldValue = oldValueGetter.apply(existing);\r\n    if (newValue == null || newValue.equals(oldValue)) {\r\n      return this;\r\n    }\r\n    this.updatedFields.add(fieldName);\r\n    oldValueSetter.accept(existing, newValue);\r\n    return this;\r\n  }\r\n\r\n  public Set&lt;String&gt; getUpdatedFields() {\r\n    return updatedFields;\r\n  }\r\n}\r\n```\r\n\r\n**DTO Class**\r\n```\r\n@Data\r\npublic class EmployeeInformation {\r\n\r\n    @JsonProperty(value = &quot;Email&quot;)\r\n    private String Email;\r\n\r\n    @JsonProperty(value = &quot;EmployeeFirstName&quot;)\r\n    private String EmployeeFirstName;\r\n\r\n    @JsonProperty(value = &quot;EmployeeLastName&quot;)\r\n    private String EmployeeLastName;\r\n\r\n    @JsonProperty(value = &quot;DOB&quot;)\r\n    private Date DOB;\r\n\r\n..\r\n}\r\n```\r\n\r\n**Model Class**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\npublic class EmployeeMap {\r\n@Id\r\n    @Column(name = &quot;Id&quot;, length = 100, nullable = false)\r\n    private String Id;\r\n\r\n    @Column(name = &quot;firstName&quot;, length = 100, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;lastName&quot;, length = 100)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\r\n    private String email;\r\n\r\n    @Column(name = &quot;dob&quot;, nullable = false)\r\n    private Date dob;\r\n}\r\n```","title":"Date type returning 1970-01-01 as default always in Java","body":"<p><code>setDOB</code> method is always inserting 1970-01-01 in database.</p>\n<p>Can't change the <code>dataType</code> of DOB which is Date in java.util.\n<strong>JSON postman request is recieving like this:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;DOB&quot;:&quot;20101123&quot;\n}\n</code></pre>\n<p>Request will be recieved in this format only, and it should insert in database like <code>2010-11-23</code></p>\n<p>But only 1970-01-01 is inserting in database on every request.</p>\n<p><strong>ServiceClass method</strong></p>\n<pre><code>private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n    try {\n        EmployeeInformation employeeInfo = requestMessage.getEmployeeInformation();\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\n\n        updater\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\n\n    \n        orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n    } catch (JSONException e) {\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\n    } \n}\n\n\npublic static class Updater {\n  private final OrgEmployeeMap existing;\n  private final EmployeeInformation information;\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\n\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\n    this.existing = existing;\n    this.information = information;\n  }\n\n  public &lt;T&gt; Updater update(String fieldName,\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\n    final var newValue = newValueGetter.apply(information);\n    final var oldValue = oldValueGetter.apply(existing);\n    if (newValue == null || newValue.equals(oldValue)) {\n      return this;\n    }\n    this.updatedFields.add(fieldName);\n    oldValueSetter.accept(existing, newValue);\n    return this;\n  }\n\n  public Set&lt;String&gt; getUpdatedFields() {\n    return updatedFields;\n  }\n}\n</code></pre>\n<p><strong>DTO Class</strong></p>\n<pre><code>@Data\npublic class EmployeeInformation {\n\n    @JsonProperty(value = &quot;Email&quot;)\n    private String Email;\n\n    @JsonProperty(value = &quot;EmployeeFirstName&quot;)\n    private String EmployeeFirstName;\n\n    @JsonProperty(value = &quot;EmployeeLastName&quot;)\n    private String EmployeeLastName;\n\n    @JsonProperty(value = &quot;DOB&quot;)\n    private Date DOB;\n\n..\n}\n</code></pre>\n<p><strong>Model Class</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class EmployeeMap {\n@Id\n    @Column(name = &quot;Id&quot;, length = 100, nullable = false)\n    private String Id;\n\n    @Column(name = &quot;firstName&quot;, length = 100, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;lastName&quot;, length = 100)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\n    private String email;\n\n    @Column(name = &quot;dob&quot;, nullable = false)\n    private Date dob;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":155231,"reputation":5278,"user_id":371737,"accept_rate":88,"display_name":"Crembo"},"score":0,"creation_date":1421066984,"post_id":27902242,"comment_id":44204071,"body_markdown":"I know this is a bit obvious using the same syntax you usually use for `@Value`? i.e. `@Query(value = &quot;${my.property.name}&quot;, nativeQuery = true)` and then put it in a properties file that you load?","body":"I know this is a bit obvious using the same syntax you usually use for <code>@Value</code>? i.e. <code>@Query(value = &quot;${my.property.name}&quot;, nativeQuery = true)</code> and then put it in a properties file that you load?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1421067112,"post_id":27902242,"comment_id":44204135,"body_markdown":"Ok I did not know this works. Anyhow, how could I then load a property that is spread over multiple lines?","body":"Ok I did not know this works. Anyhow, how could I then load a property that is spread over multiple lines?"},{"owner":{"account_id":155231,"reputation":5278,"user_id":371737,"accept_rate":88,"display_name":"Crembo"},"score":0,"creation_date":1421067220,"post_id":27902242,"comment_id":44204202,"body_markdown":"To be honest I don&#39;t know if it works, I cannot really try at the moment, I&#39;m just suggesting to try it (that&#39;s why I posted it as a comment rather than an answer). For your other question: http://stackoverflow.com/questions/8975908/how-to-write-multiple-line-property-value-using-propertiesconfiguration","body":"To be honest I don&#39;t know if it works, I cannot really try at the moment, I&#39;m just suggesting to try it (that&#39;s why I posted it as a comment rather than an answer). For your other question: <a href=\"http://stackoverflow.com/questions/8975908/how-to-write-multiple-line-property-value-using-propertiesconfiguration\" title=\"how to write multiple line property value using propertiesconfiguration\">stackoverflow.com/questions/8975908/&hellip;</a>"},{"owner":{"account_id":2311235,"reputation":2373,"user_id":2029323,"accept_rate":88,"display_name":"veinhorn"},"score":0,"creation_date":1555190847,"post_id":27902242,"comment_id":98026280,"body_markdown":"@membersound you can try https://github.com/VEINHORN/spring-data-sqlfile library.","body":"@membersound you can try <a href=\"https://github.com/VEINHORN/spring-data-sqlfile\" rel=\"nofollow noreferrer\">github.com/VEINHORN/spring-data-sqlfile</a> library."}],"answers":[{"tags":[],"owner":{"account_id":427097,"reputation":796,"user_id":808686,"accept_rate":75,"display_name":"souser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421340310,"creation_date":1421091555,"answer_id":27909480,"question_id":27902242,"body_markdown":"Not sure if it fits your setup, but, this can be done by :\r\n\r\n1) Adding your query to a hibernate mapping file using the `&lt;sql-query&gt;` tag\r\n\r\n    &lt;sql-query name=&quot;MyQuery&quot;&gt;.......\r\n\r\n2) Define a hibernate config file that includes the above file using the `&lt;mapping&gt;` tag\r\n\r\n    &lt;mapping resource=&quot;MyQuery.sql.xml&quot;/&gt;\r\n3) Defining a persistence file with a property `&quot;hibernate.ejb.cfgfile&quot;` that points to the above config file\r\n\r\n    &lt;property name=&quot;hibernate.ejb.cfgfile&quot; value=&quot;hibernate.cfg.xml&quot;/&gt;\r\n\r\n4) Use the above property file to build the `EntityManagerFactory`\r\n\r\nNow, the above Query can be used in the Repository method :\r\n\r\n    @Query(name = &quot;MyQuery&quot;, nativeQuery = true)\r\n\t[return type] executeMyQuery();","title":"How to store @Query sql in external file for CrudRepository?","body":"<p>Not sure if it fits your setup, but, this can be done by :</p>\n\n<p>1) Adding your query to a hibernate mapping file using the <code>&lt;sql-query&gt;</code> tag</p>\n\n<pre><code>&lt;sql-query name=\"MyQuery\"&gt;.......\n</code></pre>\n\n<p>2) Define a hibernate config file that includes the above file using the <code>&lt;mapping&gt;</code> tag</p>\n\n<pre><code>&lt;mapping resource=\"MyQuery.sql.xml\"/&gt;\n</code></pre>\n\n<p>3) Defining a persistence file with a property <code>\"hibernate.ejb.cfgfile\"</code> that points to the above config file</p>\n\n<pre><code>&lt;property name=\"hibernate.ejb.cfgfile\" value=\"hibernate.cfg.xml\"/&gt;\n</code></pre>\n\n<p>4) Use the above property file to build the <code>EntityManagerFactory</code></p>\n\n<p>Now, the above Query can be used in the Repository method :</p>\n\n<pre><code>@Query(name = \"MyQuery\", nativeQuery = true)\n[return type] executeMyQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10911665,"reputation":172,"user_id":8020870,"display_name":"Rajkumar"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1506338931,"creation_date":1495038831,"answer_id":44030397,"question_id":27902242,"body_markdown":"if your project set up has resources folder, create under `/META-INF/jpa-named-queries.properties` file and add key value pair as `repoClass.methodName=yoursql`. Spring data will pick up.\r\n\r\nFor longer queries it&#39;s probably best to use `xml` properties file with `CDATA` tags: https://stackoverflow.com/a/19128259/1194415","title":"How to store @Query sql in external file for CrudRepository?","body":"<p>if your project set up has resources folder, create under <code>/META-INF/jpa-named-queries.properties</code> file and add key value pair as <code>repoClass.methodName=yoursql</code>. Spring data will pick up.</p>\n\n<p>For longer queries it's probably best to use <code>xml</code> properties file with <code>CDATA</code> tags: <a href=\"https://stackoverflow.com/a/19128259/1194415\">https://stackoverflow.com/a/19128259/1194415</a></p>\n"},{"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1526640139,"creation_date":1526640139,"answer_id":50409558,"question_id":27902242,"body_markdown":"Use below steps.\r\n\r\n 1. Create jpa-named-queries.property file in src/main/resources--&gt;META-INF Folder\r\n[![enter image description here][1]][1]\r\n\r\n\r\n 2. Defile your query in given properties file.\r\n[![enter image description here][2]][2]\r\nAbove screenshot look closely.Here **Group** is Entity name, while **Method should match** with **method define in Repository interface.** Query should have object name instead table name and instead of column name provide variable name given in entity for respective field.\r\n\r\n 3. Interface method method with property name\r\n\r\n  [![List item][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pUEXy.png\r\n  [2]: https://i.stack.imgur.com/1WYei.png\r\n  [3]: https://i.stack.imgur.com/brUNO.png","title":"How to store @Query sql in external file for CrudRepository?","body":"<p>Use below steps.</p>\n\n<ol>\n<li><p>Create jpa-named-queries.property file in src/main/resources-->META-INF Folder\n<a href=\"https://i.stack.imgur.com/pUEXy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pUEXy.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Defile your query in given properties file.\n<a href=\"https://i.stack.imgur.com/1WYei.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1WYei.png\" alt=\"enter image description here\"></a>\nAbove screenshot look closely.Here <strong>Group</strong> is Entity name, while <strong>Method should match</strong> with <strong>method define in Repository interface.</strong> Query should have object name instead table name and instead of column name provide variable name given in entity for respective field.</p></li>\n<li><p>Interface method method with property name</p>\n\n<p><a href=\"https://i.stack.imgur.com/brUNO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/brUNO.png\" alt=\"List item\"></a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":405997,"reputation":1803,"user_id":775232,"display_name":"Marat Safin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696971870,"creation_date":1666686236,"answer_id":74191098,"question_id":27902242,"body_markdown":"Starting from Java 15 you can store queries as [Text blocks][1] in a separate class:\r\n```lang-java\r\npublic class SomeLongQuery {\r\n    public static final String QUERY = \r\n        &quot;&quot;&quot;\r\n        SELECT * \r\n        FROM table\r\n        WHERE\r\n        ...\r\n        ORDER BY some_column;\r\n        &quot;&quot;&quot;;\r\n}\r\n```\r\nAnd use it as a string constant:\r\n```lang-java\r\n@Query(value = SomeLongQuery.QUERY, native = true)\r\nIterable&lt;SomeEntity&gt; findByLongQuery();\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-text-blocks\r\n\r\n","title":"How to store @Query sql in external file for CrudRepository?","body":"<p>Starting from Java 15 you can store queries as <a href=\"https://www.baeldung.com/java-text-blocks\" rel=\"nofollow noreferrer\">Text blocks</a> in a separate class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeLongQuery {\n    public static final String QUERY = \n        &quot;&quot;&quot;\n        SELECT * \n        FROM table\n        WHERE\n        ...\n        ORDER BY some_column;\n        &quot;&quot;&quot;;\n}\n</code></pre>\n<p>And use it as a string constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = SomeLongQuery.QUERY, native = true)\nIterable&lt;SomeEntity&gt; findByLongQuery();\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19333,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":44030397,"answer_count":4,"score":21,"last_activity_date":1696971870,"creation_date":1421066350,"question_id":27902242,"body_markdown":"I&#39;m using `spring` with `CrudRepository`s for database connection.\r\n\r\nNow I require a quite long (several lines) sql query that I&#39;d prefer to maintain in a file in classpath, rather than directly inside the code.\r\n\r\nBut how could I achieve this?\r\nMy repo looks as follows:\r\n\r\n\t@Query(value = &quot;&lt;my very long sql query&gt;&quot;, nativeQuery = true) //how to inject file content?\r\n\t@Modifying\r\n\t@Transactional\r\n\tpublic void executeSpecificSql();","title":"How to store @Query sql in external file for CrudRepository?","body":"<p>I'm using <code>spring</code> with <code>CrudRepository</code>s for database connection.</p>\n\n<p>Now I require a quite long (several lines) sql query that I'd prefer to maintain in a file in classpath, rather than directly inside the code.</p>\n\n<p>But how could I achieve this?\nMy repo looks as follows:</p>\n\n<pre><code>@Query(value = \"&lt;my very long sql query&gt;\", nativeQuery = true) //how to inject file content?\n@Modifying\n@Transactional\npublic void executeSpecificSql();\n</code></pre>\n"},{"tags":["java","sql","jpa","left-join","criteria-api"],"comments":[{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1696978799,"post_id":77268920,"comment_id":136221092,"body_markdown":"Does this answer your question? [Problems with INNER JOIN and LEFT/RIGHT OUTER JOIN](https://stackoverflow.com/questions/16442900/problems-with-inner-join-and-left-right-outer-join)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16442900/problems-with-inner-join-and-left-right-outer-join\">Problems with INNER JOIN and LEFT/RIGHT OUTER JOIN</a>"},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1696978846,"post_id":77268920,"comment_id":136221101,"body_markdown":"Debug questions require a [mre]--cut &amp; paste &amp; runnable code including initialization; desired &amp; actual output (including verbatim error messages); tags &amp; versions; clear specification &amp; explanation. For SQL include DDL &amp; tabular initialization code. For debug that includes the least code you can give that is code that you show is OK extended by code that you show is not OK. [ask] [Help] When you get a result you don&#39;t expect, pause your overall goal, chop to the 1st subexpression with unexpected result &amp; say what you expected &amp; why, justified by documentation. (Debugging fundamental.)","body":"Debug questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>--cut &amp; paste &amp; runnable code including initialization; desired &amp; actual output (including verbatim error messages); tags &amp; versions; clear specification &amp; explanation. For SQL include DDL &amp; tabular initialization code. For debug that includes the least code you can give that is code that you show is OK extended by code that you show is not OK. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> When you get a result you don&#39;t expect, pause your overall goal, chop to the 1st subexpression with unexpected result &amp; say what you expected &amp; why, justified by documentation. (Debugging fundamental.)"},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1696978959,"post_id":77268920,"comment_id":136221110,"body_markdown":"You are not translating the LEFT JOIN ON AND properly. LEFT JOIN returns INNER JOIN rows UNION ALL unmatched left table rows extended by NULLs. Always know what INNER JOIN you want as part of an OUTER JOIN. After a LEFT JOIN a WHERE, INNER JOIN or HAVING that requires a right [sic] table column to be not NULL removes any rows with introduced NULLs, ie leaves only INNER JOIN rows, ie &quot;turns OUTER JOIN into INNER JOIN&quot;. You have that. PS This is a faq. But one must pin down via a [mre] &amp; write many clear, concise &amp; precise phrasings of one&#39;s question/problem/goal to search reasonably.","body":"You are not translating the LEFT JOIN ON AND properly. LEFT JOIN returns INNER JOIN rows UNION ALL unmatched left table rows extended by NULLs. Always know what INNER JOIN you want as part of an OUTER JOIN. After a LEFT JOIN a WHERE, INNER JOIN or HAVING that requires a right [sic] table column to be not NULL removes any rows with introduced NULLs, ie leaves only INNER JOIN rows, ie &quot;turns OUTER JOIN into INNER JOIN&quot;. You have that. PS This is a faq. But one must pin down via a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> &amp; write many clear, concise &amp; precise phrasings of one&#39;s question/problem/goal to search reasonably."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1696979105,"post_id":77268920,"comment_id":136221121,"body_markdown":"[Is it true that using INNER JOIN after any OUTER JOIN will essentially invalidate the effects of OUTER JOIN?](https://stackoverflow.com/a/55111083/3404097)","body":"<a href=\"https://stackoverflow.com/a/55111083/3404097\">Is it true that using INNER JOIN after any OUTER JOIN will essentially invalidate the effects of OUTER JOIN?</a>"}],"owner":{"account_id":1203546,"reputation":205,"user_id":1173732,"accept_rate":20,"display_name":"sylo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696971508,"creation_date":1696971508,"question_id":77268920,"body_markdown":"I have two entities that are structured as follows\r\n\r\n    @Entity\r\n    @Table(name = &quot;Person&quot;)\r\n    public class Person {\r\n    \r\n\t   @EmbeddedId\r\n       private PrimaryKey personPK = new PrimaryKey();\r\n   \r\n       @Column(name = &quot;name&quot;)\r\n       private String name;\r\n\r\n       @Column(name = &quot;lastname&quot;)\r\n       private String lastname;\r\n\t\r\n\t   @OneToMany(mappedBy = &quot;books&quot;)\r\n       private Set&lt;Books&gt; books = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Embeddable\r\n    public class PrimaryKey {\r\n    \r\n\t   @Column(name = &quot;ID&quot;)\r\n       private long id;\r\n\r\n       @Column(name = &quot;SOCIALNUMBER&quot;\r\n       private String socialNumber;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;Books&quot;)\r\n    public class Books {\r\n\r\n       @EmbeddedId\r\n       private PrimaryKeyBooks booksPK = new PrimaryKeyBooks();\r\n\r\n\t   @MapsId(&quot;personPK&quot;)\r\n       @ManyToOne\r\n       @JoinColumns({ @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ID&quot;), @JoinColumn(name = &quot;SOCIALNUMBER&quot;,\r\n            referencedColumnName = &quot;SOCIALNUMBER&quot;) })\r\n       private Person person;\r\n   \r\n       @Column(name = &quot;title&quot;)\r\n       private String title;\r\n\r\n       @Column(name = &quot;publisher&quot;)\r\n       private String publisher;\r\n\t\r\n\t   @Column(name = &quot;isListed&quot;)\r\n       private Boolean isListed;\r\n    }\r\n\r\nPrimaryKey and PrimaryKeyBooks has the same attributes.\r\n\r\nThe attribute &quot;isListed&quot; could be true or false. Now I want a query that returns all persons. But the list of books should only be filled if the attribute &quot;isListed&quot; is true. Otherwise the list should be null.\r\nThe SQL query I want is this:\r\n\r\n    SELECT DISTINCT * \r\n    FROM Person t1 \r\n    left join books t2 on t1.id = t2.id and t1.socialNumber = t2.socialNumber \r\n    and t2.isListed = true;\r\n\r\nThis query works exactly as I want it to.\r\nNow I want the same with the Criteria API. What I try is this:\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Person&gt; query = criteriaBuilder.createQuery(Person.class);\r\n    Root&lt;Person&gt; personRoot = query.from(Person.class);\r\n    \t\t\r\n    Join&lt;Person, Books&gt; join = personRoot.join(Person_.books, JoinType.LEFT);\r\n    join.on(criteriaBuilder.equal(join.get(Books_.isListed), true));\r\n    \t\t\t\t\r\n    return entityManager.createQuery(query).getResultList()\r\n\r\nBut it looks like the additional parameter in the on function is ignored. As a result, I also get the people who have books whose isListed value is set to false. \r\nCould it be a problem, that the on function and the @JoinColumn annotation is not usable at the same time?\r\n","title":"Join a table with CriteriaBuilder and an additional parameter seems to have no effect","body":"<p>I have two entities that are structured as follows</p>\n<pre><code>@Entity\n@Table(name = &quot;Person&quot;)\npublic class Person {\n\n   @EmbeddedId\n   private PrimaryKey personPK = new PrimaryKey();\n\n   @Column(name = &quot;name&quot;)\n   private String name;\n\n   @Column(name = &quot;lastname&quot;)\n   private String lastname;\n\n   @OneToMany(mappedBy = &quot;books&quot;)\n   private Set&lt;Books&gt; books = new HashSet&lt;&gt;();\n}\n\n@Embeddable\npublic class PrimaryKey {\n\n   @Column(name = &quot;ID&quot;)\n   private long id;\n\n   @Column(name = &quot;SOCIALNUMBER&quot;\n   private String socialNumber;\n}\n\n@Entity\n@Table(name = &quot;Books&quot;)\npublic class Books {\n\n   @EmbeddedId\n   private PrimaryKeyBooks booksPK = new PrimaryKeyBooks();\n\n   @MapsId(&quot;personPK&quot;)\n   @ManyToOne\n   @JoinColumns({ @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ID&quot;), @JoinColumn(name = &quot;SOCIALNUMBER&quot;,\n        referencedColumnName = &quot;SOCIALNUMBER&quot;) })\n   private Person person;\n\n   @Column(name = &quot;title&quot;)\n   private String title;\n\n   @Column(name = &quot;publisher&quot;)\n   private String publisher;\n\n   @Column(name = &quot;isListed&quot;)\n   private Boolean isListed;\n}\n</code></pre>\n<p>PrimaryKey and PrimaryKeyBooks has the same attributes.</p>\n<p>The attribute &quot;isListed&quot; could be true or false. Now I want a query that returns all persons. But the list of books should only be filled if the attribute &quot;isListed&quot; is true. Otherwise the list should be null.\nThe SQL query I want is this:</p>\n<pre><code>SELECT DISTINCT * \nFROM Person t1 \nleft join books t2 on t1.id = t2.id and t1.socialNumber = t2.socialNumber \nand t2.isListed = true;\n</code></pre>\n<p>This query works exactly as I want it to.\nNow I want the same with the Criteria API. What I try is this:</p>\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Person&gt; query = criteriaBuilder.createQuery(Person.class);\nRoot&lt;Person&gt; personRoot = query.from(Person.class);\n        \nJoin&lt;Person, Books&gt; join = personRoot.join(Person_.books, JoinType.LEFT);\njoin.on(criteriaBuilder.equal(join.get(Books_.isListed), true));\n                \nreturn entityManager.createQuery(query).getResultList()\n</code></pre>\n<p>But it looks like the additional parameter in the on function is ignored. As a result, I also get the people who have books whose isListed value is set to false.\nCould it be a problem, that the on function and the @JoinColumn annotation is not usable at the same time?</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1696960381,"post_id":77267867,"comment_id":136218501,"body_markdown":"Side note: &quot;O(n)&quot; makes no sense in this statement as there is no &quot;n&quot; anywhere in the text: do you believe that time complexity of your current code is O(number_of_elements_in_stack) or O(k) or something else? Also it is a good idea to clarify if K is fixed or you need to compute sumTop(k) for arbitrary K  in O(1) time (that answer was offered too, but since it is unusual for that assignment to require variable K the answer was self-deleted).","body":"Side note: &quot;O(n)&quot; makes no sense in this statement as there is no &quot;n&quot; anywhere in the text: do you believe that time complexity of your current code is O(number_of_elements_in_stack) or O(k) or something else? Also it is a good idea to clarify if K is fixed or you need to compute sumTop(k) for arbitrary K  in O(1) time (that answer was offered too, but since it is unusual for that assignment to require variable K the answer was self-deleted)."}],"answers":[{"tags":[],"owner":{"account_id":6692290,"reputation":1789,"user_id":5436259,"accept_rate":50,"display_name":"infinitezero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696959273,"creation_date":1696959273,"answer_id":77267894,"question_id":77267867,"body_markdown":"In addition to the actual value, add a second variable that tracks the current partial sum. That way, getting the sum of the top `k` elements is simply given by\r\n\r\n````\r\nelement[last].partial - element[last-k].partial\r\n````","title":"How to implement an algorithm in java that returns the sum of the top k elements on the Stack in O(1) time","body":"<p>In addition to the actual value, add a second variable that tracks the current partial sum. That way, getting the sum of the top <code>k</code> elements is simply given by</p>\n<pre><code>element[last].partial - element[last-k].partial\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25769266,"reputation":1,"user_id":19518399,"display_name":"Lukas Walkenhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696969654,"creation_date":1696969654,"answer_id":77268777,"question_id":77267867,"body_markdown":"I assume you use integers here. You could store the total sum of the stack from postition `i` in a different `sum` stack at position `i + 1` (the `sum` stack initialy contains the value `0` as it is the neutral element of addition).\r\n\r\nWhen pushing an int element onto your stack you can update your `sum` stack by adding the new total sum (just add your int value and the current top value of the `sum` stack).\r\n\r\nCalculating the sum of the top `k` elements can be achived by subtracting the `k + 1` sum value from the top sum value in your `sum` stack.\r\n\r\nHere is an example:\r\n```\r\npublic class StackNSum {\r\n\r\n    private final Stack&lt;Integer&gt; ints = new Stack&lt;&gt;();\r\n    private final Stack&lt;Integer&gt; sums = new Stack&lt;&gt;();\r\n\r\n    public StackNSum() {\r\n        sums.push(0);\r\n    }\r\n\r\n    public void push(final int number) {\r\n        sums.push(number + sums.peek());\r\n        ints.push(number);\r\n    }\r\n\r\n    public int ksum(final int k) {\r\n        // ints.size() - k &lt; 0 need to be handled\r\n        return sums.peek() - sums.get(ints.size() - k);\r\n    }\r\n}\r\n```\r\n","title":"How to implement an algorithm in java that returns the sum of the top k elements on the Stack in O(1) time","body":"<p>I assume you use integers here. You could store the total sum of the stack from postition <code>i</code> in a different <code>sum</code> stack at position <code>i + 1</code> (the <code>sum</code> stack initialy contains the value <code>0</code> as it is the neutral element of addition).</p>\n<p>When pushing an int element onto your stack you can update your <code>sum</code> stack by adding the new total sum (just add your int value and the current top value of the <code>sum</code> stack).</p>\n<p>Calculating the sum of the top <code>k</code> elements can be achived by subtracting the <code>k + 1</code> sum value from the top sum value in your <code>sum</code> stack.</p>\n<p>Here is an example:</p>\n<pre><code>public class StackNSum {\n\n    private final Stack&lt;Integer&gt; ints = new Stack&lt;&gt;();\n    private final Stack&lt;Integer&gt; sums = new Stack&lt;&gt;();\n\n    public StackNSum() {\n        sums.push(0);\n    }\n\n    public void push(final int number) {\n        sums.push(number + sums.peek());\n        ints.push(number);\n    }\n\n    public int ksum(final int k) {\n        // ints.size() - k &lt; 0 need to be handled\n        return sums.peek() - sums.get(ints.size() - k);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27447103,"reputation":1,"user_id":20940539,"display_name":"curious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1696969654,"creation_date":1696959059,"question_id":77267867,"body_markdown":"I am trying to create an ArrayList implementation of a stack that supports the method ksum(). ksum() needs to return the sum of the top k elements on the Stack in O(1) time. What algorithm should I use to achieve this?\r\n\r\nCurrently I am looping through the top k elements and adding their sum in a variable however, this is taking me O(n) time. What is a better way to get the sum of top k elements in a stack in constant time?","title":"How to implement an algorithm in java that returns the sum of the top k elements on the Stack in O(1) time","body":"<p>I am trying to create an ArrayList implementation of a stack that supports the method ksum(). ksum() needs to return the sum of the top k elements on the Stack in O(1) time. What algorithm should I use to achieve this?</p>\n<p>Currently I am looping through the top k elements and adding their sum in a variable however, this is taking me O(n) time. What is a better way to get the sum of top k elements in a stack in constant time?</p>\n"},{"tags":["java","sockets","zebra-printers","network-printers"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696968138,"post_id":77268631,"comment_id":136219654,"body_markdown":"Why the Java tag? Are you using some Java library for PJL?","body":"Why the Java tag? Are you using some Java library for PJL?"},{"owner":{"account_id":29589462,"reputation":1,"user_id":22677435,"display_name":"Hari Prasad N"},"score":0,"creation_date":1696968542,"post_id":77268631,"comment_id":136219701,"body_markdown":"Yes Java Socket connection, I updated question, its not PJL but Zebra printer specific commands we are sending.","body":"Yes Java Socket connection, I updated question, its not PJL but Zebra printer specific commands we are sending."},{"owner":{"account_id":15693573,"reputation":138,"user_id":11323821,"display_name":"ZRep"},"score":0,"creation_date":1697358774,"post_id":77268631,"comment_id":136267830,"body_markdown":"just to better understand, what is the response you&#39;re getting from the printer?","body":"just to better understand, what is the response you&#39;re getting from the printer?"}],"owner":{"account_id":29589462,"reputation":1,"user_id":22677435,"display_name":"Hari Prasad N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696968469,"creation_date":1696967561,"question_id":77268631,"body_markdown":"How can I get or set printer user language(English, Spanish etc) for Zebra using socket connection?\r\nWe have one use case where printer GUI language set to Spanish so the response/output of print jobs coming in Spanish language, we want response in English always because currently our response parsers can handle English language only.\r\n\r\nI am expecting Zebra print job response in English not in Spanish.","title":"Get or set printer user language(English, Spanish etc) for Zebra printer with socket connection","body":"<p>How can I get or set printer user language(English, Spanish etc) for Zebra using socket connection?\nWe have one use case where printer GUI language set to Spanish so the response/output of print jobs coming in Spanish language, we want response in English always because currently our response parsers can handle English language only.</p>\n<p>I am expecting Zebra print job response in English not in Spanish.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":15806948,"reputation":150,"user_id":11405229,"display_name":"Romain Lavabre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671816499,"creation_date":1671813960,"answer_id":74902051,"question_id":74901986,"body_markdown":"The methods have not changed too much.\r\n\r\nSample :\r\n\r\n```java\r\n@Bean\r\nSecurityFilterChain web(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t\t// ...\r\n\t\t.authorizeHttpRequests(authorize -&gt; authorize                                  \r\n\t\t\t.requestMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \r\n\t\t\t.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \r\n\t\t\t.requestMatchers(&quot;/db/**&quot;).access(new WebExpressionAuthorizationManager(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;))   \r\n\t\t\t// .requestMatchers(&quot;/db/**&quot;).access(AuthorizationManagers.allOf(AuthorityAuthorizationManager.hasRole(&quot;ADMIN&quot;), AuthorityAuthorizationManager.hasRole(&quot;DBA&quot;)))   \r\n\t\t\t.anyRequest().denyAll()                                                \r\n\t\t);\r\n\r\n\treturn http.build();\r\n}\r\n```\r\n\r\nProvided of https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\r\n\r\n\r\nEDIT : To complete my answer, you have access to all methods, so to set up a resource server you need to add this :\r\n\r\n```java\r\n@Bean\r\nSecurityFilterChain web(HttpSecurity http) throws Exception {\r\n    http\r\n        // ...\r\n        .authorizeHttpRequests(authorize -&gt; authorize                                  \r\n            // ...                                                \r\n        )\r\n        .and()\r\n        .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt )\r\n\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nRemember to add the variables corresponding to your OAuth2 provider\r\n\r\n```properties\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=https://{your-ouath2-provider}/{issuer-uri}\r\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://{your-ouath2-provider}/{jwk-uri} (optionnal)\r\n```\r\nThe links depend on your oauth2 provider.\r\n\r\nFor more information about the resource owner server\r\n : https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html","title":"How to permitAll anonymous access in Spring Boot 3 or above?","body":"<p>The methods have not changed too much.</p>\n<p>Sample :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain web(HttpSecurity http) throws Exception {\n    http\n        // ...\n        .authorizeHttpRequests(authorize -&gt; authorize                                  \n            .requestMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \n            .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \n            .requestMatchers(&quot;/db/**&quot;).access(new WebExpressionAuthorizationManager(&quot;hasRole('ADMIN') and hasRole('DBA')&quot;))   \n            // .requestMatchers(&quot;/db/**&quot;).access(AuthorizationManagers.allOf(AuthorityAuthorizationManager.hasRole(&quot;ADMIN&quot;), AuthorityAuthorizationManager.hasRole(&quot;DBA&quot;)))   \n            .anyRequest().denyAll()                                                \n        );\n\n    return http.build();\n}\n</code></pre>\n<p>Provided of <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html</a></p>\n<p>EDIT : To complete my answer, you have access to all methods, so to set up a resource server you need to add this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain web(HttpSecurity http) throws Exception {\n    http\n        // ...\n        .authorizeHttpRequests(authorize -&gt; authorize                                  \n            // ...                                                \n        )\n        .and()\n        .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt )\n\n\n    return http.build();\n}\n</code></pre>\n<p>Remember to add the variables corresponding to your OAuth2 provider</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://{your-ouath2-provider}/{issuer-uri}\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://{your-ouath2-provider}/{jwk-uri} (optionnal)\n</code></pre>\n<p>The links depend on your oauth2 provider.</p>\n<p>For more information about the resource owner server\n: <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672041627,"creation_date":1671818435,"answer_id":74902682,"question_id":74901986,"body_markdown":"You are almost there: move `requestMatchers` with `permitAll` to `SecurityFilterChain` definition (and remove `WebSecurityCustomizer`):\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    return http.csrf(CsrfConfigurer::disable)\r\n        .authorizeHttpRequests(requests -&gt; requests\r\n            .requestMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll() \r\n            .anyRequest().authenticated())\r\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n        .build();\r\n}\r\n```\r\nAlso, make sure the configuration class containing your `SecurityFilterChain` bean declaration is decorated with `@Configuration` (set a breakpoint or log line to ensure it is instantiated).\r\n\r\nFew notes:\r\n- never disable CSRF protection if you don&#39;t also disable sessions with `http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)`\r\n- CORS is configured with SecurityFilterChain too: `http.cors().configurationSource(corsConfigurationSource())`\r\n- you might need to map roles or groups or whatever your authorization-server populates as private-claim to Spring authorities by providing your own `jwtAuthenticationConverter` to JWT `oauth2ResourceServer` configurer \r\n\r\nYou can do all of above with no Java conf (just a few properties) with [thin wrappers][1] around `spring-boot-starter-oauth2-resource-server` I wrote:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic static class SecurityConfig {\r\n}\r\n```\r\n```properties\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\n# This is adapted to Keycloak with a client-id spring-addons-public. Replace with the claim(s) your authorization-server puts roles into\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles\r\n\r\n# you might want something more restrictive as allowed origins (accepts a list), at least for a part of your endpoints\r\ncom.c4-soft.springaddons.security.cors[0].path=/**\r\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=*\r\n```\r\nComplete (short) tutorials there (with spring libs only or &quot;my&quot; wrappers): https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"How to permitAll anonymous access in Spring Boot 3 or above?","body":"<p>You are almost there: move <code>requestMatchers</code> with <code>permitAll</code> to <code>SecurityFilterChain</code> definition (and remove <code>WebSecurityCustomizer</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http.csrf(CsrfConfigurer::disable)\n        .authorizeHttpRequests(requests -&gt; requests\n            .requestMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll() \n            .anyRequest().authenticated())\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n        .build();\n}\n</code></pre>\n<p>Also, make sure the configuration class containing your <code>SecurityFilterChain</code> bean declaration is decorated with <code>@Configuration</code> (set a breakpoint or log line to ensure it is instantiated).</p>\n<p>Few notes:</p>\n<ul>\n<li>never disable CSRF protection if you don't also disable sessions with <code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</code></li>\n<li>CORS is configured with SecurityFilterChain too: <code>http.cors().configurationSource(corsConfigurationSource())</code></li>\n<li>you might need to map roles or groups or whatever your authorization-server populates as private-claim to Spring authorities by providing your own <code>jwtAuthenticationConverter</code> to JWT <code>oauth2ResourceServer</code> configurer</li>\n</ul>\n<p>You can do all of above with no Java conf (just a few properties) with <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">thin wrappers</a> around <code>spring-boot-starter-oauth2-resource-server</code> I wrote:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic static class SecurityConfig {\n}\n</code></pre>\n<pre><code>com.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\n# This is adapted to Keycloak with a client-id spring-addons-public. Replace with the claim(s) your authorization-server puts roles into\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles\n\n# you might want something more restrictive as allowed origins (accepts a list), at least for a part of your endpoints\ncom.c4-soft.springaddons.security.cors[0].path=/**\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=*\n</code></pre>\n<p>Complete (short) tutorials there (with spring libs only or &quot;my&quot; wrappers): <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a></p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5528,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74902682,"answer_count":2,"score":4,"last_activity_date":1696968469,"creation_date":1671813592,"question_id":74901986,"body_markdown":"After upgraded to Spring Boot 3.0.0 from 2.7.6, public API are not accessible.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .csrf(CsrfConfigurer::disable)\r\n    \t\t.authorizeHttpRequests(requests -&gt; requests\r\n\t            .anyRequest().authenticated())\r\n\t\t\t\t.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n\t\t        .build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; web\r\n                         .ignoring()\r\n                             .requestMatchers(CorsUtils::isPreFlightRequest)\t\r\n                             .requestMatchers(&quot;/actuator/**&quot;, &quot;/graphiql/**&quot;, &quot;/voyager/**&quot;, &quot;/vendor/**&quot;, &quot;/rest/**&quot;,\r\n        \t\t\t\t         &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\r\n    }\r\n","title":"How to permitAll anonymous access in Spring Boot 3 or above?","body":"<p>After upgraded to Spring Boot 3.0.0 from 2.7.6, public API are not accessible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n        .csrf(CsrfConfigurer::disable)\n        .authorizeHttpRequests(requests -&gt; requests\n            .anyRequest().authenticated())\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n            .build();\n}\n\n@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return web -&gt; web\n                     .ignoring()\n                         .requestMatchers(CorsUtils::isPreFlightRequest)    \n                         .requestMatchers(&quot;/actuator/**&quot;, &quot;/graphiql/**&quot;, &quot;/voyager/**&quot;, &quot;/vendor/**&quot;, &quot;/rest/**&quot;,\n                             &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\n}\n</code></pre>\n"},{"tags":["java","maven","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1703604,"reputation":7254,"user_id":1563130,"display_name":"Harald Gliebe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489670862,"creation_date":1489670862,"answer_id":42835459,"question_id":42834723,"body_markdown":"You also have to specify your main class with spark-submit\r\n\r\n    spark-submit --class &lt;your.package&gt;.SimpleApp testjar/spark-0.0.1-SNAPSHOT.jar","title":"Missing application resource","body":"<p>You also have to specify your main class with spark-submit</p>\n\n<pre><code>spark-submit --class &lt;your.package&gt;.SimpleApp testjar/spark-0.0.1-SNAPSHOT.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2925254,"reputation":700,"user_id":2506726,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489671635,"creation_date":1489671635,"answer_id":42835763,"question_id":42834723,"body_markdown":"You will need to specify the main class along with master\r\n\r\n    ./bin/spark-submit --class package.name.MainClass --master local[2] /testjar/spark-0.0.1-SNAPSHOT.jar","title":"Missing application resource","body":"<p>You will need to specify the main class along with master</p>\n\n<pre><code>./bin/spark-submit --class package.name.MainClass --master local[2] /testjar/spark-0.0.1-SNAPSHOT.jar\n</code></pre>\n"}],"owner":{"account_id":10458890,"reputation":61,"user_id":7710313,"display_name":"yikezhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8277,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1696968140,"creation_date":1489668913,"question_id":42834723,"body_markdown":"**Use java to write the spark program, the code is as follows:**\r\n\r\n   \r\n\r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.api.java.JavaRDD;\r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    import org.apache.spark.api.java.function.Function;\r\n\r\n    public class SimpleApp {\r\n      public static void main(String[] args) {\r\n    \t  SparkConf conf = new SparkConf().setAppName(&quot;wordCount&quot;).setMaster(&quot;local&quot;); \r\n    \t  JavaSparkContext sc = new JavaSparkContext(conf); \r\n    \t  JavaRDD&lt;String&gt; input = sc.textFile(&quot;/bigdata/softwares/spark-2.1.0-bin-hadoop2.7/testdata/a.txt&quot;);\r\n    \t  System.out.println();\r\n    \t  Long bCount = input.filter(new Function&lt;String,Boolean&gt;(){\r\n    \t\t public Boolean call(String s){return s.contains(&quot;yes&quot;);}\r\n    \t  }).count();\r\n    \t  Long cCount = input.filter(new Function&lt;String,Boolean&gt;(){\r\n    \t\t public Boolean call(String s){return s.contains(&quot;ywq&quot;);}\r\n    \t  }).count();\r\n    \t  System.out.println(&quot;yes:&quot;+bCount+&quot;  ywq:&quot;+cCount+&quot;  all：&quot;);\r\n    //\t  sc.stop();\r\n      }\r\n    }\r\n\r\n\r\n**Pom as follows：**\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;      \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n**The following error occurred**\r\n**Maven all the resources are packaged into jar file, run the time reported the following mistakes, I just started learning, who knows to teach, thank you**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l2FXq.png","title":"Missing application resource","body":"<p><strong>Use java to write the spark program, the code is as follows:</strong></p>\n<pre><code>import org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.api.java.function.Function;\n\npublic class SimpleApp {\n  public static void main(String[] args) {\n      SparkConf conf = new SparkConf().setAppName(&quot;wordCount&quot;).setMaster(&quot;local&quot;); \n      JavaSparkContext sc = new JavaSparkContext(conf); \n      JavaRDD&lt;String&gt; input = sc.textFile(&quot;/bigdata/softwares/spark-2.1.0-bin-hadoop2.7/testdata/a.txt&quot;);\n      System.out.println();\n      Long bCount = input.filter(new Function&lt;String,Boolean&gt;(){\n         public Boolean call(String s){return s.contains(&quot;yes&quot;);}\n      }).count();\n      Long cCount = input.filter(new Function&lt;String,Boolean&gt;(){\n         public Boolean call(String s){return s.contains(&quot;ywq&quot;);}\n      }).count();\n      System.out.println(&quot;yes:&quot;+bCount+&quot;  ywq:&quot;+cCount+&quot;  all：&quot;);\n//    sc.stop();\n  }\n}\n</code></pre>\n<p><strong>Pom as follows：</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;      \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p><strong>The following error occurred</strong>\n<strong>Maven all the resources are packaged into jar file, run the time reported the following mistakes, I just started learning, who knows to teach, thank you</strong></p>\n<p><img src=\"https://i.stack.imgur.com/l2FXq.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696955448,"post_id":77267481,"comment_id":136217628,"body_markdown":"Code snippets are for javascript, html, and css.","body":"Code snippets are for javascript, html, and css."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696955338,"creation_date":1696955338,"answer_id":77267507,"question_id":77267481,"body_markdown":"You&#39;ll have to keep that state while going through the questions. You&#39;ve already declared `public static boolean guess()`, but you&#39;re not actually returning a boolean. So change that to return based on answer correct or not.\r\n\r\nThen where you now have `public void guess ();` in the `main` method, replace that with a `guess` call and increment the total number of correct answers if the method returns `true`.\r\n","title":"How to write a methood to count the number of correct answers in trivia game?","body":"<p>You'll have to keep that state while going through the questions. You've already declared <code>public static boolean guess()</code>, but you're not actually returning a boolean. So change that to return based on answer correct or not.</p>\n<p>Then where you now have <code>public void guess ();</code> in the <code>main</code> method, replace that with a <code>guess</code> call and increment the total number of correct answers if the method returns <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696964319,"creation_date":1696963962,"answer_id":77268331,"question_id":77267481,"body_markdown":"First, I&#39;d like for you to complete and run the code you do have. Remove these lines: each `public void guess ();`, `public void correct (guess) {`. Also, be sure the `{` and `}` are  properly paired and nested. Bear in  mind that you cannot code one method inside another. This example is correct:\r\n````\r\n     public static void main (String [] args) { \r\n       // code for main\r\n     } // end of main\r\n   \r\n     public static int foo (int arg) { \r\n       // code for foo\r\n     } // end of foo\r\n\r\n     public static boolean bar (String bat) { \r\n        // code for bar\r\n     }  // end of bar\r\n````\r\nBut, this is incorrect:\r\n````\r\n    public void static main (String [] args) { \r\n      // some code for main\r\n      public static int foo (int value) { \r\n         // some code for foo\r\n      } // end of foo\r\n    }  // end of main\r\n````\r\nIn addition, if you have a method that has a non-void return type, the code in the method must return a value of the specified type, via any execution path in that method.  For example, if you have an `int` return type, the code must have a `return` statement with an `int` expression. The expression may be a constant. For an `int` return type method, the following are valid:\r\n\r\n - `return 3;`\r\n - `return arg * arg + 7;`\r\n - `return foo;`\r\n\r\nWhen you get a clean compile, run your code. With at least one question, give no correct answer.\r\n\r\nI suspect that, having done that, you don&#39;t need much more help\r\n\r\nLet&#39;s continue with a design tip. This part is optional. You have repeated code. It might be that your teacher, at this point, wants you to have repeated code, because the next lesson will be about how to avoid repeated code.\r\n\r\nWhen you want to have code that repeats, consider using some combination of the following:\r\n\r\n - Looping\r\n - An array or [Collection](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html), such as an [ArrayList](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html)\r\n - Additional methods.\r\n - Additional `class` definitions.\r\n\r\nSince you are new to Java, I assume `Collection` Objects will be in a future lesson.\r\n\r\nYour code has several pairs, with each pair has one question and one answer. One way to pair a question with an answer is to use a new `class`:\r\n\r\n````\r\npublic class QuizEntry { \r\n    private String question;\r\n    private String answer;\r\n   \r\n    public QuizEntry (String question, String answer) {\r\n        this.question = question;\r\n        this.answer = answer;\r\n    } \r\n    public String getQuestion () { return question; }\r\n    public String getAnswer () { return answer; }\r\n}\r\n\r\n````\r\nWith that, you could have an array of `QuizEntry`:\r\n\r\n````\r\n   QuizItem [] theQuiz = { \r\n        new QuizItem (&quot;What types of animal(s) can&#39;t vomit?&quot;,&quot;rodents&quot;)\r\n      , new QuizItem (&quot;What is the only mammal capable of flight?&quot;,&quot;bats&quot;) \r\n      // etc. \r\n      }; \r\n````\r\n\r\nIf the items making a pair are of the same type, an alternative is to  use a 2D array:\r\n````\r\n    String [][] theQuiz = {\r\n              {&quot;What types of animal(s) can&#39;t vomit?&quot;,&quot;rodents&quot;}\r\n             ,{&quot;What is the only mammal capable of flight?&quot;, &quot;bats&quot;}\r\n        // etc.\r\n    }; \r\n````\r\nNow, you can have a loop to run your quiz. But, before we get to that, there is a conflict in getting and handling the answers. In your code, taking one question as an example, you have this:\r\n\r\n````   \r\n    System.out.println(&quot;What is the only mammal capable of flight?&quot;);\r\n    String input = scan.nextLine(); //get input\r\n    String answer = &quot;Bats&quot;;\r\n````\r\nIn the above, the question is displayed, the  user&#39;s answer is retrieved and awaits processing.  Processing is  presumably to be handled by the `public static boolean guess (String answer, Scanner input)` method. The problem  is that method also gets the answer from the user. That means the user has to enter an answer twice before the answer is evaluated. The first response is ignored. The second is processed. If the second user response is incorrect, a third response will be processed. \r\n\r\nNow, back to the loop:\r\n\r\n````\r\n    // 1D array with class QuizEntry version\r\n    int correct = 0;\r\n    for  (int question = 0; question &lt; theQuiz.length; question++) { \r\n      System.out.println (theQuiz[question].getQuestion ());\r\n      *******  guess (theQuiz[question].getAnswer (), scan);\r\n      *******\r\n    }\r\n````\r\n````\r\n   // 2D array version\r\n   int correct = 0;\r\n   for (int question = 0; question &lt; theQuiz.length; question++) { \r\n      System.out.println (theQuiz[question][0]);\r\n      ******* guess (theQuiz[question][1], scan);\r\n      *******\r\n   }\r\n````\r\n\r\nNow, update your code and run it. Don&#39;t worry about finishing the part that counts correct answers. Oh, and remove the `*******`. It won&#39;t compile with them. Doing this reflects the &quot;code a little, test a little&quot; practice. If you  have not already found and fixed it, you might find there is still a bug in  the `guess` method. \r\n\r\n\r\n\r\nNow, where I have the `*******`, you should make more changes. \r\n\r\nA method with an `int` return type will return an `int`, and can be used where an `int` expression can be used. If `bin`, `bar`,  `bat` are each a method taking an `int` and returning an `int`, you cold have statements like these: \r\n - `int foo = bar (3) * bin (k) + bat (7);` \r\n - `int frob = bar (3) * m + (bat (bin (8));`\r\n\r\nA method returning a `boolean` can be used where a `boolean` expression can be used:\r\n````\r\n     public static boolean isEnglishLetter (char x) { \r\n        return (x &gt;= &#39;a&#39; &amp;&amp; x &lt;= &#39;z&#39;) || (x &gt;= &#39;A&#39; &amp;&amp; x &lt;= &#39;Z&#39;);\r\n     }\r\n````\r\nYou can use it in an `if`:\r\n````\r\n     char choice = scan.next ().charAt(0);\r\n     if (isEnglishLetter (choice)) { ... }\r\n````\r\nYou can assign it to another `boolean`:\r\n```` \r\n     boolean goodAnswer = isEnglishLetter (choice);\r\n````\r\nSo, you use the result returned by the `uess` method to update the value of `correct` or not update it. ","title":"How to write a methood to count the number of correct answers in trivia game?","body":"<p>First, I'd like for you to complete and run the code you do have. Remove these lines: each <code>public void guess ();</code>, <code>public void correct (guess) {</code>. Also, be sure the <code>{</code> and <code>}</code> are  properly paired and nested. Bear in  mind that you cannot code one method inside another. This example is correct:</p>\n<pre><code>     public static void main (String [] args) { \n       // code for main\n     } // end of main\n   \n     public static int foo (int arg) { \n       // code for foo\n     } // end of foo\n\n     public static boolean bar (String bat) { \n        // code for bar\n     }  // end of bar\n</code></pre>\n<p>But, this is incorrect:</p>\n<pre><code>    public void static main (String [] args) { \n      // some code for main\n      public static int foo (int value) { \n         // some code for foo\n      } // end of foo\n    }  // end of main\n</code></pre>\n<p>In addition, if you have a method that has a non-void return type, the code in the method must return a value of the specified type, via any execution path in that method.  For example, if you have an <code>int</code> return type, the code must have a <code>return</code> statement with an <code>int</code> expression. The expression may be a constant. For an <code>int</code> return type method, the following are valid:</p>\n<ul>\n<li><code>return 3;</code></li>\n<li><code>return arg * arg + 7;</code></li>\n<li><code>return foo;</code></li>\n</ul>\n<p>When you get a clean compile, run your code. With at least one question, give no correct answer.</p>\n<p>I suspect that, having done that, you don't need much more help</p>\n<p>Let's continue with a design tip. This part is optional. You have repeated code. It might be that your teacher, at this point, wants you to have repeated code, because the next lesson will be about how to avoid repeated code.</p>\n<p>When you want to have code that repeats, consider using some combination of the following:</p>\n<ul>\n<li>Looping</li>\n<li>An array or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Collection</a>, such as an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></li>\n<li>Additional methods.</li>\n<li>Additional <code>class</code> definitions.</li>\n</ul>\n<p>Since you are new to Java, I assume <code>Collection</code> Objects will be in a future lesson.</p>\n<p>Your code has several pairs, with each pair has one question and one answer. One way to pair a question with an answer is to use a new <code>class</code>:</p>\n<pre><code>public class QuizEntry { \n    private String question;\n    private String answer;\n   \n    public QuizEntry (String question, String answer) {\n        this.question = question;\n        this.answer = answer;\n    } \n    public String getQuestion () { return question; }\n    public String getAnswer () { return answer; }\n}\n\n</code></pre>\n<p>With that, you could have an array of <code>QuizEntry</code>:</p>\n<pre><code>   QuizItem [] theQuiz = { \n        new QuizItem (&quot;What types of animal(s) can't vomit?&quot;,&quot;rodents&quot;)\n      , new QuizItem (&quot;What is the only mammal capable of flight?&quot;,&quot;bats&quot;) \n      // etc. \n      }; \n</code></pre>\n<p>If the items making a pair are of the same type, an alternative is to  use a 2D array:</p>\n<pre><code>    String [][] theQuiz = {\n              {&quot;What types of animal(s) can't vomit?&quot;,&quot;rodents&quot;}\n             ,{&quot;What is the only mammal capable of flight?&quot;, &quot;bats&quot;}\n        // etc.\n    }; \n</code></pre>\n<p>Now, you can have a loop to run your quiz. But, before we get to that, there is a conflict in getting and handling the answers. In your code, taking one question as an example, you have this:</p>\n<pre><code>    System.out.println(&quot;What is the only mammal capable of flight?&quot;);\n    String input = scan.nextLine(); //get input\n    String answer = &quot;Bats&quot;;\n</code></pre>\n<p>In the above, the question is displayed, the  user's answer is retrieved and awaits processing.  Processing is  presumably to be handled by the <code>public static boolean guess (String answer, Scanner input)</code> method. The problem  is that method also gets the answer from the user. That means the user has to enter an answer twice before the answer is evaluated. The first response is ignored. The second is processed. If the second user response is incorrect, a third response will be processed.</p>\n<p>Now, back to the loop:</p>\n<pre><code>    // 1D array with class QuizEntry version\n    int correct = 0;\n    for  (int question = 0; question &lt; theQuiz.length; question++) { \n      System.out.println (theQuiz[question].getQuestion ());\n      *******  guess (theQuiz[question].getAnswer (), scan);\n      *******\n    }\n</code></pre>\n<pre><code>   // 2D array version\n   int correct = 0;\n   for (int question = 0; question &lt; theQuiz.length; question++) { \n      System.out.println (theQuiz[question][0]);\n      ******* guess (theQuiz[question][1], scan);\n      *******\n   }\n</code></pre>\n<p>Now, update your code and run it. Don't worry about finishing the part that counts correct answers. Oh, and remove the <code>*******</code>. It won't compile with them. Doing this reflects the &quot;code a little, test a little&quot; practice. If you  have not already found and fixed it, you might find there is still a bug in  the <code>guess</code> method.</p>\n<p>Now, where I have the <code>*******</code>, you should make more changes.</p>\n<p>A method with an <code>int</code> return type will return an <code>int</code>, and can be used where an <code>int</code> expression can be used. If <code>bin</code>, <code>bar</code>,  <code>bat</code> are each a method taking an <code>int</code> and returning an <code>int</code>, you cold have statements like these:</p>\n<ul>\n<li><code>int foo = bar (3) * bin (k) + bat (7);</code></li>\n<li><code>int frob = bar (3) * m + (bat (bin (8));</code></li>\n</ul>\n<p>A method returning a <code>boolean</code> can be used where a <code>boolean</code> expression can be used:</p>\n<pre><code>     public static boolean isEnglishLetter (char x) { \n        return (x &gt;= 'a' &amp;&amp; x &lt;= 'z') || (x &gt;= 'A' &amp;&amp; x &lt;= 'Z');\n     }\n</code></pre>\n<p>You can use it in an <code>if</code>:</p>\n<pre><code>     char choice = scan.next ().charAt(0);\n     if (isEnglishLetter (choice)) { ... }\n</code></pre>\n<p>You can assign it to another <code>boolean</code>:</p>\n<pre><code>     boolean goodAnswer = isEnglishLetter (choice);\n</code></pre>\n<p>So, you use the result returned by the <code>uess</code> method to update the value of <code>correct</code> or not update it.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696967866,"creation_date":1696967866,"answer_id":77268648,"question_id":77267481,"body_markdown":"&gt; _&quot;... I&#39;m not sure how to write it and use the for loop to count whether the question was right/wrong then count. This includes those guessed correctly on the first try, and those changed to be correct after an initial incorrect response. ...&quot;_\r\n\r\nUse a _[record](https://docs.oracle.com/en/java/javase/20/language/records.html)_, or a _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)_, to contain each question and answer.\r\n\r\n```java\r\nrecord QA(String q, String a) { }\r\n```\r\n\r\nAnd, a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ to contain whether it was answered correctly or not.\r\n\r\n```java\r\nMap&lt;QA, Boolean&gt; map = new LinkedHashMap&lt;&gt;();\r\nmap.put(new QA(&quot;What types of animal(s) can&#39;t vomit?&quot;, &quot;Rodents&quot;), false);\r\nmap.put(new QA(&quot;What is the only mammal capable of flight?&quot;, &quot;Bats&quot;), false);\r\nmap.put(new QA(&quot;What mammal has the most powerful bite&quot;, &quot;Hippos&quot;), false);\r\nmap.put(new QA(&quot;Where is the only place that dogs have sweat glands?&quot;, &quot;paws&quot;), false);\r\nmap.put(new QA(&quot;What is a male duck called?&quot;, &quot;drake&quot;), false);\r\n```\r\n\r\nThen, traverse _map_.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nString s1 = &quot;Try again!&quot;,\r\n       s2 = &quot;Sorry! Answer is incorrect. Time for the next question!&quot;,\r\n       s3 = &quot;Good job, you got the correct answer!&quot;,\r\n       s4 = s3 + &quot; Let&#39;s move onto the next question&quot;;\r\nQA qa;\r\nString s;\r\nfor (Map.Entry&lt;QA, Boolean&gt; e : map.entrySet()) {\r\n    qa = e.getKey();\r\n    System.out.println(qa.q);\r\n    s = in.nextLine();\r\n    if (s.equalsIgnoreCase(qa.a)) {\r\n        e.setValue(true);\r\n        System.out.println(s3);\r\n    } else {\r\n        System.out.println(s1);\r\n        s = in.nextLine();\r\n        if (s.equalsIgnoreCase(qa.a)) {\r\n            e.setValue(true);\r\n            System.out.println(s4);\r\n        } else System.out.println(s2);\r\n    }\r\n}\r\n```\r\n\r\n&gt; _&quot;... at the end of the game we have to count how many questions they got wrong. ...&quot;_\r\n\r\nI&#39;m using your _pseudo-code_ here.\\\r\nCount the number of _map_ entries, with a _true_ _value_.\r\n\r\n```java\r\nint correct = 0;\r\nfor (boolean v : map.values()) if (v) correct++;\r\n```\r\n\r\nOr, with a stream.\r\n\r\n```java\r\nint correct = (int) map.values().stream().filter(x -&gt; x).count();\r\n```\r\n\r\nHere is an example output.\r\n\r\n```none\r\nWhat types of animal(s) can&#39;t vomit?\r\nabc\r\nTry again!\r\n123\r\nSorry! Answer is incorrect. Time for the next question!\r\nWhat is the only mammal capable of flight?\r\nBats\r\nGood job, you got the correct answer!\r\nWhat mammal has the most powerful bite\r\nHippos\r\nGood job, you got the correct answer!\r\nWhere is the only place that dogs have sweat glands?\r\npaws\r\nGood job, you got the correct answer!\r\nWhat is a male duck called?\r\nabc\r\nTry again!\r\n123\r\nSorry! Answer is incorrect. Time for the next question!\r\n```","title":"How to write a methood to count the number of correct answers in trivia game?","body":"<blockquote>\n<p><em>&quot;... I'm not sure how to write it and use the for loop to count whether the question was right/wrong then count. This includes those guessed correctly on the first try, and those changed to be correct after an initial incorrect response. ...&quot;</em></p>\n</blockquote>\n<p>Use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/records.html\" rel=\"nofollow noreferrer\">record</a></em>, or a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class</a></em>, to contain each question and answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record QA(String q, String a) { }\n</code></pre>\n<p>And, a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em> to contain whether it was answered correctly or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;QA, Boolean&gt; map = new LinkedHashMap&lt;&gt;();\nmap.put(new QA(&quot;What types of animal(s) can't vomit?&quot;, &quot;Rodents&quot;), false);\nmap.put(new QA(&quot;What is the only mammal capable of flight?&quot;, &quot;Bats&quot;), false);\nmap.put(new QA(&quot;What mammal has the most powerful bite&quot;, &quot;Hippos&quot;), false);\nmap.put(new QA(&quot;Where is the only place that dogs have sweat glands?&quot;, &quot;paws&quot;), false);\nmap.put(new QA(&quot;What is a male duck called?&quot;, &quot;drake&quot;), false);\n</code></pre>\n<p>Then, traverse <em>map</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nString s1 = &quot;Try again!&quot;,\n       s2 = &quot;Sorry! Answer is incorrect. Time for the next question!&quot;,\n       s3 = &quot;Good job, you got the correct answer!&quot;,\n       s4 = s3 + &quot; Let's move onto the next question&quot;;\nQA qa;\nString s;\nfor (Map.Entry&lt;QA, Boolean&gt; e : map.entrySet()) {\n    qa = e.getKey();\n    System.out.println(qa.q);\n    s = in.nextLine();\n    if (s.equalsIgnoreCase(qa.a)) {\n        e.setValue(true);\n        System.out.println(s3);\n    } else {\n        System.out.println(s1);\n        s = in.nextLine();\n        if (s.equalsIgnoreCase(qa.a)) {\n            e.setValue(true);\n            System.out.println(s4);\n        } else System.out.println(s2);\n    }\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... at the end of the game we have to count how many questions they got wrong. ...&quot;</em></p>\n</blockquote>\n<p>I'm using your <em>pseudo-code</em> here.<br />\nCount the number of <em>map</em> entries, with a <em>true</em> <em>value</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int correct = 0;\nfor (boolean v : map.values()) if (v) correct++;\n</code></pre>\n<p>Or, with a stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int correct = (int) map.values().stream().filter(x -&gt; x).count();\n</code></pre>\n<p>Here is an example output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>What types of animal(s) can't vomit?\nabc\nTry again!\n123\nSorry! Answer is incorrect. Time for the next question!\nWhat is the only mammal capable of flight?\nBats\nGood job, you got the correct answer!\nWhat mammal has the most powerful bite\nHippos\nGood job, you got the correct answer!\nWhere is the only place that dogs have sweat glands?\npaws\nGood job, you got the correct answer!\nWhat is a male duck called?\nabc\nTry again!\n123\nSorry! Answer is incorrect. Time for the next question!\n</code></pre>\n"}],"owner":{"account_id":29641853,"reputation":1,"user_id":22717840,"display_name":"jiayou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1696967866,"creation_date":1696955074,"question_id":77267481,"body_markdown":"I&#39;m new to Java and for an assignment we have to write a trivia game that gives the player a 2 attempts to guess the answer. Then at the end of the game we have to count how many questions they got wrong. \r\n\r\nI&#39;ve written pseudocode for a method that can count number of attempts but I&#39;m not sure how to write it and use the for loop to count whether the question was right/wrong then count. This includes those guessed correctly on the first try, and those changed to be correct after an initial incorrect response.\r\n\r\n If anyone could help me I&#39;d appreciate it!\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            //Introduction\r\n            System.out.println(&quot;Welcome to the Animal Answers Trivia Game!&quot;);\r\n            System.out.println(&quot;You will be answering questions about various animals and &quot; +\r\n                    &quot;tested on your knowledge of furry critters to slimy snakes.&quot;);\r\n\r\n            //Ask at least 5 questions and prompt for answers.\r\n            //First Question\r\n            System.out.println(&quot;What types of animal(s) can&#39;t vomit?&quot;);\r\n            String input = scan.nextLine(); //get input\r\n            String answer = &quot;Rodents&quot;;\r\n            public void guess ();\r\n\r\n            //Second Question\r\n            System.out.println(&quot;What is the only mammal capable of flight?&quot;);\r\n            String input = scan.nextLine(); //get input\r\n            String answer = &quot;Bats&quot;;\r\n            public void guess ();\r\n\r\n            //Third Question\r\n            System.out.println(&quot;What mammal has the most powerful bite&quot;);\r\n            String input = scan.nextLine(); //get input\r\n            String answer = &quot;Hippos&quot;;\r\n            public void guess ();\r\n\r\n            //Fourth Question\r\n            System.out.println(&quot;Where is the only place that dogs have sweat glands?&quot;);\r\n            String input = scan.nextLine(); //get input\r\n            String answer = &quot;paws&quot;;\r\n            public void guess ();\r\n\r\n            //Fifth Question\r\n            System.out.println(&quot;What is a male duck called?&quot;);\r\n            String input = scan.nextLine(); //get input\r\n            String answer = &quot;drake&quot;;\r\n            public void guess ();\r\n\r\n\r\n            //Closing message with how many answers were correct\r\n            public void correct (guess) {\r\n            int correct = 0\r\n            // for(get questions and answers)\r\n            //if answer correct {\r\n            //increment correct\r\n            //}\r\n\r\n            //} return correct\r\n\r\n\r\n            //Write any additional methods you need here\r\n\r\n\r\n            public static boolean guess (String answer, Scanner input){\r\n                int guess = 0;\r\n                for (int guess = 0; guess &lt; 2; guess++) {\r\n                    if (input.nextLine().equalsIgnoreCase(answer)) {\r\n                        System.out.println(&quot;Good job, you got the correct answer!&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;Try again!&quot;);\r\n                        if (input.nextLine().equalsIgnoreCase(answer)) { //need a nested if else this is if they got it wrong the second time\r\n                            System.out.println(&quot;Good job, you got the correct answer! Let&#39;s move onto the next question&quot;)\r\n                        } else {\r\n                            System.out.println(&quot;Sorry! Answer is incorrect. Time for the next question!&quot;);\r\n                        }\r\n                    }\r\n                    guess++;\r\n                }\r\n            }\r\n\r\n","title":"How to write a methood to count the number of correct answers in trivia game?","body":"<p>I'm new to Java and for an assignment we have to write a trivia game that gives the player a 2 attempts to guess the answer. Then at the end of the game we have to count how many questions they got wrong.</p>\n<p>I've written pseudocode for a method that can count number of attempts but I'm not sure how to write it and use the for loop to count whether the question was right/wrong then count. This includes those guessed correctly on the first try, and those changed to be correct after an initial incorrect response.</p>\n<p>If anyone could help me I'd appreciate it!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        //Introduction\n        System.out.println(&quot;Welcome to the Animal Answers Trivia Game!&quot;);\n        System.out.println(&quot;You will be answering questions about various animals and &quot; +\n                &quot;tested on your knowledge of furry critters to slimy snakes.&quot;);\n\n        //Ask at least 5 questions and prompt for answers.\n        //First Question\n        System.out.println(&quot;What types of animal(s) can't vomit?&quot;);\n        String input = scan.nextLine(); //get input\n        String answer = &quot;Rodents&quot;;\n        public void guess ();\n\n        //Second Question\n        System.out.println(&quot;What is the only mammal capable of flight?&quot;);\n        String input = scan.nextLine(); //get input\n        String answer = &quot;Bats&quot;;\n        public void guess ();\n\n        //Third Question\n        System.out.println(&quot;What mammal has the most powerful bite&quot;);\n        String input = scan.nextLine(); //get input\n        String answer = &quot;Hippos&quot;;\n        public void guess ();\n\n        //Fourth Question\n        System.out.println(&quot;Where is the only place that dogs have sweat glands?&quot;);\n        String input = scan.nextLine(); //get input\n        String answer = &quot;paws&quot;;\n        public void guess ();\n\n        //Fifth Question\n        System.out.println(&quot;What is a male duck called?&quot;);\n        String input = scan.nextLine(); //get input\n        String answer = &quot;drake&quot;;\n        public void guess ();\n\n\n        //Closing message with how many answers were correct\n        public void correct (guess) {\n        int correct = 0\n        // for(get questions and answers)\n        //if answer correct {\n        //increment correct\n        //}\n\n        //} return correct\n\n\n        //Write any additional methods you need here\n\n\n        public static boolean guess (String answer, Scanner input){\n            int guess = 0;\n            for (int guess = 0; guess &lt; 2; guess++) {\n                if (input.nextLine().equalsIgnoreCase(answer)) {\n                    System.out.println(&quot;Good job, you got the correct answer!&quot;);\n                } else {\n                    System.out.println(&quot;Try again!&quot;);\n                    if (input.nextLine().equalsIgnoreCase(answer)) { //need a nested if else this is if they got it wrong the second time\n                        System.out.println(&quot;Good job, you got the correct answer! Let's move onto the next question&quot;)\n                    } else {\n                        System.out.println(&quot;Sorry! Answer is incorrect. Time for the next question!&quot;);\n                    }\n                }\n                guess++;\n            }\n        }\n</code></pre>\n"},{"tags":["java","security","encryption","cryptography","aes-gcm"],"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1438857289,"post_id":31851612,"comment_id":51626578,"body_markdown":"&quot;For a given key, the IV MUST NOT repeat.&quot; Obviously can&#39;t hold, because Java doesn&#39;t keep track of which IVs (nonces) you already used for a given key. The question is whether the probability of a repeating nonce is negligible for a given definition of &quot;neglibile&quot;.","body":"&quot;For a given key, the IV MUST NOT repeat.&quot; Obviously can&#39;t hold, because Java doesn&#39;t keep track of which IVs (nonces) you already used for a given key. The question is whether the probability of a repeating nonce is negligible for a given definition of &quot;neglibile&quot;."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1438857663,"post_id":31851612,"comment_id":51626824,"body_markdown":"I do find that you shouldn&#39;t ask 16 (!) questions in one post. You really should be doing some research on [crypto.se] to seriously reduce the number of questions. Splitting them into multiple posts is not an option, because most of them are not about programming.","body":"I do find that you shouldn&#39;t ask 16 (!) questions in one post. You really should be doing some research on <a href=\"https://crypto.stackexchange.com\">Cryptography</a> to seriously reduce the number of questions. Splitting them into multiple posts is not an option, because most of them are not about programming."},{"owner":{"account_id":147709,"reputation":1271,"user_id":359008,"accept_rate":75,"display_name":"Michael Hixson"},"score":0,"creation_date":1438858412,"post_id":31851612,"comment_id":51627286,"body_markdown":"I could delete some of the questions if you think it would make the post more useful to others.  I suppose it was selfish to ask them all here.  Re: &quot;must not repeat&quot; - Agreed.  Mainly I&#39;m wondering whether cipher.getIV() gives me something the flagrantly violates the RFC, and if I&#39;d be better off creating my own IV from scratch.","body":"I could delete some of the questions if you think it would make the post more useful to others.  I suppose it was selfish to ask them all here.  Re: &quot;must not repeat&quot; - Agreed.  Mainly I&#39;m wondering whether cipher.getIV() gives me something the flagrantly violates the RFC, and if I&#39;d be better off creating my own IV from scratch."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1696967765,"creation_date":1438885669,"answer_id":31863209,"question_id":31851612,"body_markdown":"**Q1: Is the IV returned by cipher.getIV() safe for me to use in this way?**\r\n\r\nYes, it is at least for the Oracle provided implementation. It is generated separately using the default `SecureRandom` implementation. As it is 12 bytes in size (the default for GCM) then you have 96 bits of randomness. The chance that the counter repeats is abysmally small. You can look up the source in the OpenJDK (GPL&#39;ed) which the Oracle JDK is based on.\r\n\r\nI would however still recommend you to generate your own 12 random bytes as other providers may behave differently.\r\n\r\n---\r\n\r\n**Q2: Is that IV always 12 bytes long?**\r\n\r\nIt&#39;s extremely likely as it is the GCM default, but other lengths *are* valid for GCM. The algorithm will however have to do additional calculations for any other size than 12 bytes. Due to weaknesses it is strongly recommended to keep it at 12 bytes / 96 bits and API&#39;s *may restrict you to that choice of IV size*.\r\n\r\n---\r\n\r\n**Q3: Is the authentication tag always 16 bytes (128 bits) long?**\r\n\r\nNo, it can have any size in bytes ranging from 64 bits to 128 bits with 8 bit increments. If it is smaller it simply consists of the leftmost bytes of the authentication tag though. You can specify another size of tag using [`GCMParameterSpec`](http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/GCMParameterSpec.html) as third parameter for your `init` call.\r\n\r\nNote that the strength of GCM is strongly dependent on the size of the tag. I would recommend keeping it to 128 bits. 96 bits should be the minimum *especially* if you want to generate a lot of ciphertext.\r\n\r\n---\r\n\r\n**Q4: With #2 and #3, and the lack of padding, does that mean my encrypted messages are always 12 + src.length + 16 bytes long? (And so I can safely squish them into one byte array, for which I know the correct length?)**\r\n\r\nSee above. For the Oracle provider this is the case. Use `GCMParameterSpec` to be sure of it.\r\n\r\nNote that this answer assumes that the user prefixes the nonce themselves, the authentication tag is considered part of the ciphertext by Java / Oracle provider. See the code in the question.\r\n\r\n---\r\n\r\n**Q5: Is it safe for me to display an unbounded number of src data encryptions to users, given constant src data that the users know?**\r\n\r\n*Virtually* unbound, yes. I would start worrying after about 2^48 encryptions. In general you should however *design for* key change.\r\n\r\n---\r\n\r\n**Q6: Is it safe for me to display an unbounded number of src data encryptions to users, if the src data is different every time (e.g. including System.currentTimeMillis() or random numbers)?**\r\n\r\nSee answer to Q5 &amp; Q7\r\n\r\n---\r\n\r\n**Q7: Would it help if I padded the src data with random numbers before encryption? Say 8 random bytes in front and back, or only on one end? Or would that not help at all / make my encryption worse?**\r\n\r\nNo, it would not help at all. GCM uses CTR mode underneath, so it would just be encrypted with the key stream. It would *not* act as an IV. Nowadays you could look at AES-GCM-SIV if you have an ever changing message to encrypt, but note that that algorithm is not implemented in any of the JCA providers.\r\n\r\n---\r\n\r\nIf you need a lot of ciphertexts (higher than 2^48!, or 2^32 - ~4 billion - for the cautious) then I would suggest you use that random number and your key for a key derivation function or KDF. HKDF is currently best of breed, but you may need to use Bouncy Castle or implement it yourself.","title":"How are the IV and authentication tag handled for &quot;AES/GCM/NoPadding&quot;?","body":"<p><strong>Q1: Is the IV returned by cipher.getIV() safe for me to use in this way?</strong></p>\n<p>Yes, it is at least for the Oracle provided implementation. It is generated separately using the default <code>SecureRandom</code> implementation. As it is 12 bytes in size (the default for GCM) then you have 96 bits of randomness. The chance that the counter repeats is abysmally small. You can look up the source in the OpenJDK (GPL'ed) which the Oracle JDK is based on.</p>\n<p>I would however still recommend you to generate your own 12 random bytes as other providers may behave differently.</p>\n<hr />\n<p><strong>Q2: Is that IV always 12 bytes long?</strong></p>\n<p>It's extremely likely as it is the GCM default, but other lengths <em>are</em> valid for GCM. The algorithm will however have to do additional calculations for any other size than 12 bytes. Due to weaknesses it is strongly recommended to keep it at 12 bytes / 96 bits and API's <em>may restrict you to that choice of IV size</em>.</p>\n<hr />\n<p><strong>Q3: Is the authentication tag always 16 bytes (128 bits) long?</strong></p>\n<p>No, it can have any size in bytes ranging from 64 bits to 128 bits with 8 bit increments. If it is smaller it simply consists of the leftmost bytes of the authentication tag though. You can specify another size of tag using <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/GCMParameterSpec.html\" rel=\"nofollow noreferrer\"><code>GCMParameterSpec</code></a> as third parameter for your <code>init</code> call.</p>\n<p>Note that the strength of GCM is strongly dependent on the size of the tag. I would recommend keeping it to 128 bits. 96 bits should be the minimum <em>especially</em> if you want to generate a lot of ciphertext.</p>\n<hr />\n<p><strong>Q4: With #2 and #3, and the lack of padding, does that mean my encrypted messages are always 12 + src.length + 16 bytes long? (And so I can safely squish them into one byte array, for which I know the correct length?)</strong></p>\n<p>See above. For the Oracle provider this is the case. Use <code>GCMParameterSpec</code> to be sure of it.</p>\n<p>Note that this answer assumes that the user prefixes the nonce themselves, the authentication tag is considered part of the ciphertext by Java / Oracle provider. See the code in the question.</p>\n<hr />\n<p><strong>Q5: Is it safe for me to display an unbounded number of src data encryptions to users, given constant src data that the users know?</strong></p>\n<p><em>Virtually</em> unbound, yes. I would start worrying after about 2^48 encryptions. In general you should however <em>design for</em> key change.</p>\n<hr />\n<p><strong>Q6: Is it safe for me to display an unbounded number of src data encryptions to users, if the src data is different every time (e.g. including System.currentTimeMillis() or random numbers)?</strong></p>\n<p>See answer to Q5 &amp; Q7</p>\n<hr />\n<p><strong>Q7: Would it help if I padded the src data with random numbers before encryption? Say 8 random bytes in front and back, or only on one end? Or would that not help at all / make my encryption worse?</strong></p>\n<p>No, it would not help at all. GCM uses CTR mode underneath, so it would just be encrypted with the key stream. It would <em>not</em> act as an IV. Nowadays you could look at AES-GCM-SIV if you have an ever changing message to encrypt, but note that that algorithm is not implemented in any of the JCA providers.</p>\n<hr />\n<p>If you need a lot of ciphertexts (higher than 2^48!, or 2^32 - ~4 billion - for the cautious) then I would suggest you use that random number and your key for a key derivation function or KDF. HKDF is currently best of breed, but you may need to use Bouncy Castle or implement it yourself.</p>\n"}],"owner":{"account_id":147709,"reputation":1271,"user_id":359008,"accept_rate":75,"display_name":"Michael Hixson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38619,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":31863209,"answer_count":1,"score":58,"last_activity_date":1696967765,"creation_date":1438852471,"question_id":31851612,"body_markdown":"I&#39;m using `AES/GCM/NoPadding` encryption in Java 8 and I&#39;m wondering whether my code has a security flaw.  My code seems to *work*, in that it encrypts and decrypts text, but a few details are unclear.\r\n\r\nMy main question is this:\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, key);\r\n    byte[] iv = cipher.getIV(); // ?????\r\n\r\n**Does that IV satisfy the requirement of &quot;For a given key, the IV MUST NOT repeat.&quot; from [RFC 4106](https://www.rfc-editor.org/rfc/rfc4106#section-3.1)?**\r\n\r\nI&#39;d also appreciate any answers / insight for my related questions (see below), but that first question is bugging me the most.  I don&#39;t know where to find source code or documentation that answers this.\r\n\r\n--------------------\r\n\r\nHere is the full code, roughly.  I apologize in case I introduced errors while writing this post:\r\n\r\n    class Encryptor {\r\n      Key key;\r\n\r\n      Encryptor(byte[] key) {\r\n        if (key.length != 32) throw new IllegalArgumentException();\r\n        this.key = new SecretKeySpec(key, &quot;AES&quot;);\r\n      }\r\n\r\n      // the output is sent to users\r\n      byte[] encrypt(byte[] src) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n        byte[] iv = cipher.getIV(); // See question #1\r\n        assert iv.length == 12; // See question #2\r\n        byte[] cipherText = cipher.doFinal(src);\r\n        assert cipherText.length == src.length + 16; // See question #3\r\n        byte[] message = new byte[12 + src.length + 16]; // See question #4\r\n        System.arraycopy(iv, 0, message, 0, 12);\r\n        System.arraycopy(cipherText, 0, message, 12, cipherText.length);\r\n        return message;\r\n      }\r\n\r\n      // the input comes from users\r\n      byte[] decrypt(byte[] message) throws Exception {\r\n        if (message.length &lt; 12 + 16) throw new IllegalArgumentException();\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec params = new GCMParameterSpec(128, message, 0, 12);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, params);\r\n        return cipher.doFinal(message, 12, message.length - 12);\r\n      }\r\n    }\r\n\r\nSuppose that users cracking my secret key = game over.\r\n\r\n--------------------\r\n\r\nMore detailed questions / related questions:\r\n\r\n1. Is the IV returned by cipher.getIV() safe for me to use in this way?\r\n  - Does it avoid the catastrophe of reusing the IV,key combination in Galois/Counter Mode?\r\n  - Is it still safe when I have multiple applications running this code at once, all displaying encrypted messages to users from the same src data (possibly in the same millisecond)?\r\n  - What&#39;s the returned IV made of?  Is it an atomic counter plus some random noise?\r\n  - Do I need to avoid `cipher.getIV()` and construct an IV myself, with my own counter?\r\n  - Is the source code implementing `cipher.getIV()` available online somewhere, assuming I&#39;m using Oracle JDK 8 + JCE Unlimited Strength extension?\r\n\r\n2. Is that IV always 12 bytes long?\r\n\r\n3. Is the authentication tag always 16 bytes (128 bits) long?\r\n\r\n4. With #2 and #3, and the lack of padding, does that mean my encrypted messages are always `12 + src.length + 16` bytes long?  (And so I can safely squish them into one byte array, for which I know the correct length?)\r\n\r\n5. Is it safe for me to display an unbounded number of src data encryptions to users, given constant src data that the users know?\r\n\r\n6. Is it safe for me to display an unbounded number of src data encryptions to users, if the src data is different every time (e.g. including `System.currentTimeMillis()` or random numbers)?\r\n\r\n7. Would it help if I padded the src data with random numbers before encryption?  Say 8 random bytes in front and back, or only on one end?  Or would that not help at all / make my encryption worse?\r\n\r\n(Because these questions are all about the same block of my own code, and they are strongly related to each other, and others might/should have the same set of questions when implementing the same functionality, it felt wrong to split the questions into multiple posts.  I can re-post them separately if that is more appropriate for StackOverflow&#39;s format.  Let me know!)","title":"How are the IV and authentication tag handled for &quot;AES/GCM/NoPadding&quot;?","body":"<p>I'm using <code>AES/GCM/NoPadding</code> encryption in Java 8 and I'm wondering whether my code has a security flaw.  My code seems to <em>work</em>, in that it encrypts and decrypts text, but a few details are unclear.</p>\n<p>My main question is this:</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, key);\nbyte[] iv = cipher.getIV(); // ?????\n</code></pre>\n<p><strong>Does that IV satisfy the requirement of &quot;For a given key, the IV MUST NOT repeat.&quot; from <a href=\"https://www.rfc-editor.org/rfc/rfc4106#section-3.1\" rel=\"nofollow noreferrer\">RFC 4106</a>?</strong></p>\n<p>I'd also appreciate any answers / insight for my related questions (see below), but that first question is bugging me the most.  I don't know where to find source code or documentation that answers this.</p>\n<hr />\n<p>Here is the full code, roughly.  I apologize in case I introduced errors while writing this post:</p>\n<pre><code>class Encryptor {\n  Key key;\n\n  Encryptor(byte[] key) {\n    if (key.length != 32) throw new IllegalArgumentException();\n    this.key = new SecretKeySpec(key, &quot;AES&quot;);\n  }\n\n  // the output is sent to users\n  byte[] encrypt(byte[] src) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, key);\n    byte[] iv = cipher.getIV(); // See question #1\n    assert iv.length == 12; // See question #2\n    byte[] cipherText = cipher.doFinal(src);\n    assert cipherText.length == src.length + 16; // See question #3\n    byte[] message = new byte[12 + src.length + 16]; // See question #4\n    System.arraycopy(iv, 0, message, 0, 12);\n    System.arraycopy(cipherText, 0, message, 12, cipherText.length);\n    return message;\n  }\n\n  // the input comes from users\n  byte[] decrypt(byte[] message) throws Exception {\n    if (message.length &lt; 12 + 16) throw new IllegalArgumentException();\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec params = new GCMParameterSpec(128, message, 0, 12);\n    cipher.init(Cipher.DECRYPT_MODE, key, params);\n    return cipher.doFinal(message, 12, message.length - 12);\n  }\n}\n</code></pre>\n<p>Suppose that users cracking my secret key = game over.</p>\n<hr />\n<p>More detailed questions / related questions:</p>\n<ol>\n<li>Is the IV returned by cipher.getIV() safe for me to use in this way?</li>\n</ol>\n<ul>\n<li>Does it avoid the catastrophe of reusing the IV,key combination in Galois/Counter Mode?</li>\n<li>Is it still safe when I have multiple applications running this code at once, all displaying encrypted messages to users from the same src data (possibly in the same millisecond)?</li>\n<li>What's the returned IV made of?  Is it an atomic counter plus some random noise?</li>\n<li>Do I need to avoid <code>cipher.getIV()</code> and construct an IV myself, with my own counter?</li>\n<li>Is the source code implementing <code>cipher.getIV()</code> available online somewhere, assuming I'm using Oracle JDK 8 + JCE Unlimited Strength extension?</li>\n</ul>\n<ol start=\"2\">\n<li><p>Is that IV always 12 bytes long?</p>\n</li>\n<li><p>Is the authentication tag always 16 bytes (128 bits) long?</p>\n</li>\n<li><p>With #2 and #3, and the lack of padding, does that mean my encrypted messages are always <code>12 + src.length + 16</code> bytes long?  (And so I can safely squish them into one byte array, for which I know the correct length?)</p>\n</li>\n<li><p>Is it safe for me to display an unbounded number of src data encryptions to users, given constant src data that the users know?</p>\n</li>\n<li><p>Is it safe for me to display an unbounded number of src data encryptions to users, if the src data is different every time (e.g. including <code>System.currentTimeMillis()</code> or random numbers)?</p>\n</li>\n<li><p>Would it help if I padded the src data with random numbers before encryption?  Say 8 random bytes in front and back, or only on one end?  Or would that not help at all / make my encryption worse?</p>\n</li>\n</ol>\n<p>(Because these questions are all about the same block of my own code, and they are strongly related to each other, and others might/should have the same set of questions when implementing the same functionality, it felt wrong to split the questions into multiple posts.  I can re-post them separately if that is more appropriate for StackOverflow's format.  Let me know!)</p>\n"},{"tags":["java","javafx","netbeans","java-8","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696966780,"creation_date":1696965106,"answer_id":77268430,"question_id":77267851,"body_markdown":"This is a pretty broad question and is arguably a bit too opinion-based for this site, but I will try to give a couple of pointers.\r\n\r\n1. Your classes should each have a single responsibility, and should only contain fields and methods related to that responsibility. If you have a class called `MyCircle`, each instance of that class represents a single circle. &quot;Which circle is selected&quot; is not part of the responsibility of that class (it is part of the broader application). In fact, you are implementing a business rule (that perhaps you haven&#39;t actually verbalized), that no more than one circle can be selected at once. It certainly is not the responsibility of `MyCircle` (which again, just represents a single circle) to implement that rule (or to keep track of which of the many circles is selected).\r\n\r\n    On the other hand, &quot;is this circle selected&quot; probably is a responsibility of the `MyCircle` class. So some kind of boolean `selected` property might well be appropriate here. It&#39;s not too hard to see how to change such a property in response to a mouse click.\r\n\r\n    This is actually the reason you&#39;re having trouble implementing this; you&#39;re trying to maintain the state of &quot;which circle is selected&quot; in *every* circle instance.\r\n\r\n2. Favor composition over inheritance. This is one of the key items in Joshua Bloch&#39;s book *Effective Java* (which every Java Programmer should read). My particular rule of thumb is that if you are not adding functionality to a class, but are just providing a convenient way to configure instances of it, you should not subclass it. Even if you are adding some functionality (and in your case you can argue you are: you are adding the notion of selection), you might favor composition.\r\n\r\n    Inheriting from a class means you have access to more of the inner workings of that class, and consequently you have more responsibility in terms of understanding how the class works in order not to write code which might not work the way you want. (&quot;Inheritance violates encapsulation&quot;, to quote Bloch.) The more complex a class is (and UI classes are *very* complex), the more wary you should be of subclassing them. I would not recommend subclassing `Circle` here.\r\n\r\nThe first point creates a potential problem: we do need somewhere to track which circle is selected. If each circle only knows when it is selected, we need to know when any of the `selected` values (one for each circle) changes. JavaFX provides a mechanism for doing this via [JavaFX Properties](https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm). These are basically &quot;observable&quot; properties: meaning we can *register a listener* with them and the listener is invoked if the property value changes.\r\n\r\nSo I would do:\r\n\r\n```\r\nimport javafx.beans.property.BooleanProperty;\r\nimport javafx.beans.property.SimpleBooleanProperty;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\n\r\npublic class SelectableCircle {\r\n    double xOffset = 0;\r\n    double yOffset = 0;\r\n\r\n    private final Circle uiComponent;\r\n\r\n    private final BooleanProperty selected = new SimpleBooleanProperty(false);\r\n\r\n    public BooleanProperty selectedProperty() {\r\n        return selected;\r\n    }\r\n    public final boolean isSelected() {\r\n        return selectedProperty().get();\r\n    }\r\n    public final void setSelected(boolean selected) {\r\n        selectedProperty().set(selected);\r\n    }\r\n\r\n    public SelectableCircle(int xPos, int yPos, double radius, Color color){\r\n        uiComponent = new Circle(xPos, yPos, radius, color);\r\n\r\n        uiComponent.setOnMouseClicked(e -&gt; {\r\n            setSelected( ! isSelected() );\r\n        });\r\n\r\n        uiComponent.setOnKeyPressed((KeyEvent event) -&gt;{\r\n            //Handle circle movement\r\n            handleCircleMovement(event);\r\n        });\r\n        uiComponent.setOnMousePressed((MouseEvent event) -&gt;{\r\n            //Handle drag start\r\n            handleCircleDragStart(event);\r\n        });\r\n\r\n        uiComponent.setOnMouseDragged((MouseEvent event) -&gt;{\r\n            //Handle drag\r\n            handleCircleDrag(event);\r\n        });\r\n\r\n\r\n        // update circle ui according to selected state:\r\n        selected.addListener((obs, wasSelected, isNowSelected) -&gt; {\r\n            if (isNowSelected) {\r\n                Color fillColor = (Color) uiComponent.getFill();\r\n                Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\r\n                uiComponent.setStroke(complementary);\r\n                uiComponent.requestFocus();\r\n            } else {\r\n                uiComponent.setStroke(Color.TRANSPARENT);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    public void handleCircleMovement(KeyEvent event){\r\n        switch (event.getCode()) {\r\n            case LEFT:\r\n                uiComponent.setCenterX(uiComponent.getCenterX() - 10);\r\n                event.consume();\r\n                break;\r\n            case RIGHT:\r\n                uiComponent.setCenterX(uiComponent.getCenterX() + 10);\r\n                event.consume();\r\n                break;\r\n            case UP:\r\n                uiComponent.setCenterY(uiComponent.getCenterY() - 10);\r\n                event.consume();\r\n                break;\r\n            case DOWN:\r\n                uiComponent.setCenterY(uiComponent.getCenterY() + 10);\r\n                event.consume();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public void handleCircleDragStart(MouseEvent event){\r\n        xOffset = event.getSceneX() - uiComponent.getCenterX();\r\n        yOffset = event.getSceneY() - uiComponent.getCenterY();\r\n    }\r\n\r\n    public void handleCircleDrag(MouseEvent event){\r\n        double x = event.getSceneX() - xOffset;\r\n        double y = event.getSceneY() - yOffset;\r\n\r\n        uiComponent.setCenterX(x);\r\n        uiComponent.setCenterY(y);\r\n    }\r\n\r\n    public Circle getUIComponent() {\r\n        return uiComponent;\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow you will need a few changes in your controller code. When you add the circle, you need to do something like this:\r\n\r\n```\r\n    public void handleAddCircleButton() {\r\n\r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n\r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n\r\n        SelectableCircle circle = new SelectableCircle(x, y, selectedSize, selectedColor);\r\n\r\n        // if selected state of circle changes, update our selectedCircle:\r\n        circle.selectedProperty().addListener((obs, wasSelected, isNowSelected) -&gt; {\r\n            if (selectedCircle != null) {\r\n                selectedCircle.setSelected(false);\r\n                selectedCircle = null;\r\n            }\r\n            if (isNowSelected) {\r\n                selectedCircle = circle;\r\n            }\r\n        });\r\n\r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle.getUIComponent());\r\n\r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n```\r\n\r\nTo clear the selection, all we need to do is tell the current selection not to be selected any more (the listener takes care of the rest):\r\n\r\n```\r\n    public void handleContainerPaneClick(MouseEvent event) {\r\n        if (selectedCircle != null &amp;&amp; !selectedCircle.getUIComponent().contains(event.getX(), event.getY())) {\r\n            selectedCircle.setSelected(false);\r\n        }\r\n    }\r\n```\r\n\r\nand then in various places (basically when working with the UI) you will need to refer to `selectedCircle.getUIComponent()` instead of just `selectedCircle`. For example:\r\n\r\n```\r\n    public void handleDeleteButton(ActionEvent event) {\r\n        if (selectedCircle != null) {\r\n            circles.remove(selectedCircle);\r\n            containerPane.getChildren().remove(selectedCircle.getUIComponent());\r\n            selectedCircle = null;\r\n        }\r\n    }\r\n```","title":"How to separate elements into classes in JavaFX?","body":"<p>This is a pretty broad question and is arguably a bit too opinion-based for this site, but I will try to give a couple of pointers.</p>\n<ol>\n<li><p>Your classes should each have a single responsibility, and should only contain fields and methods related to that responsibility. If you have a class called <code>MyCircle</code>, each instance of that class represents a single circle. &quot;Which circle is selected&quot; is not part of the responsibility of that class (it is part of the broader application). In fact, you are implementing a business rule (that perhaps you haven't actually verbalized), that no more than one circle can be selected at once. It certainly is not the responsibility of <code>MyCircle</code> (which again, just represents a single circle) to implement that rule (or to keep track of which of the many circles is selected).</p>\n<p>On the other hand, &quot;is this circle selected&quot; probably is a responsibility of the <code>MyCircle</code> class. So some kind of boolean <code>selected</code> property might well be appropriate here. It's not too hard to see how to change such a property in response to a mouse click.</p>\n<p>This is actually the reason you're having trouble implementing this; you're trying to maintain the state of &quot;which circle is selected&quot; in <em>every</em> circle instance.</p>\n</li>\n<li><p>Favor composition over inheritance. This is one of the key items in Joshua Bloch's book <em>Effective Java</em> (which every Java Programmer should read). My particular rule of thumb is that if you are not adding functionality to a class, but are just providing a convenient way to configure instances of it, you should not subclass it. Even if you are adding some functionality (and in your case you can argue you are: you are adding the notion of selection), you might favor composition.</p>\n<p>Inheriting from a class means you have access to more of the inner workings of that class, and consequently you have more responsibility in terms of understanding how the class works in order not to write code which might not work the way you want. (&quot;Inheritance violates encapsulation&quot;, to quote Bloch.) The more complex a class is (and UI classes are <em>very</em> complex), the more wary you should be of subclassing them. I would not recommend subclassing <code>Circle</code> here.</p>\n</li>\n</ol>\n<p>The first point creates a potential problem: we do need somewhere to track which circle is selected. If each circle only knows when it is selected, we need to know when any of the <code>selected</code> values (one for each circle) changes. JavaFX provides a mechanism for doing this via <a href=\"https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm\" rel=\"noreferrer\">JavaFX Properties</a>. These are basically &quot;observable&quot; properties: meaning we can <em>register a listener</em> with them and the listener is invoked if the property value changes.</p>\n<p>So I would do:</p>\n<pre><code>import javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\n\npublic class SelectableCircle {\n    double xOffset = 0;\n    double yOffset = 0;\n\n    private final Circle uiComponent;\n\n    private final BooleanProperty selected = new SimpleBooleanProperty(false);\n\n    public BooleanProperty selectedProperty() {\n        return selected;\n    }\n    public final boolean isSelected() {\n        return selectedProperty().get();\n    }\n    public final void setSelected(boolean selected) {\n        selectedProperty().set(selected);\n    }\n\n    public SelectableCircle(int xPos, int yPos, double radius, Color color){\n        uiComponent = new Circle(xPos, yPos, radius, color);\n\n        uiComponent.setOnMouseClicked(e -&gt; {\n            setSelected( ! isSelected() );\n        });\n\n        uiComponent.setOnKeyPressed((KeyEvent event) -&gt;{\n            //Handle circle movement\n            handleCircleMovement(event);\n        });\n        uiComponent.setOnMousePressed((MouseEvent event) -&gt;{\n            //Handle drag start\n            handleCircleDragStart(event);\n        });\n\n        uiComponent.setOnMouseDragged((MouseEvent event) -&gt;{\n            //Handle drag\n            handleCircleDrag(event);\n        });\n\n\n        // update circle ui according to selected state:\n        selected.addListener((obs, wasSelected, isNowSelected) -&gt; {\n            if (isNowSelected) {\n                Color fillColor = (Color) uiComponent.getFill();\n                Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\n                uiComponent.setStroke(complementary);\n                uiComponent.requestFocus();\n            } else {\n                uiComponent.setStroke(Color.TRANSPARENT);\n            }\n        });\n    }\n\n\n\n    public void handleCircleMovement(KeyEvent event){\n        switch (event.getCode()) {\n            case LEFT:\n                uiComponent.setCenterX(uiComponent.getCenterX() - 10);\n                event.consume();\n                break;\n            case RIGHT:\n                uiComponent.setCenterX(uiComponent.getCenterX() + 10);\n                event.consume();\n                break;\n            case UP:\n                uiComponent.setCenterY(uiComponent.getCenterY() - 10);\n                event.consume();\n                break;\n            case DOWN:\n                uiComponent.setCenterY(uiComponent.getCenterY() + 10);\n                event.consume();\n                break;\n            default:\n                break;\n        }\n    }\n\n    public void handleCircleDragStart(MouseEvent event){\n        xOffset = event.getSceneX() - uiComponent.getCenterX();\n        yOffset = event.getSceneY() - uiComponent.getCenterY();\n    }\n\n    public void handleCircleDrag(MouseEvent event){\n        double x = event.getSceneX() - xOffset;\n        double y = event.getSceneY() - yOffset;\n\n        uiComponent.setCenterX(x);\n        uiComponent.setCenterY(y);\n    }\n\n    public Circle getUIComponent() {\n        return uiComponent;\n    }\n\n}\n</code></pre>\n<p>Now you will need a few changes in your controller code. When you add the circle, you need to do something like this:</p>\n<pre><code>    public void handleAddCircleButton() {\n\n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n\n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n\n        SelectableCircle circle = new SelectableCircle(x, y, selectedSize, selectedColor);\n\n        // if selected state of circle changes, update our selectedCircle:\n        circle.selectedProperty().addListener((obs, wasSelected, isNowSelected) -&gt; {\n            if (selectedCircle != null) {\n                selectedCircle.setSelected(false);\n                selectedCircle = null;\n            }\n            if (isNowSelected) {\n                selectedCircle = circle;\n            }\n        });\n\n        circles.add(circle);\n        containerPane.getChildren().add(circle.getUIComponent());\n\n        System.out.println(&quot;New circle was created!&quot;);\n    }\n</code></pre>\n<p>To clear the selection, all we need to do is tell the current selection not to be selected any more (the listener takes care of the rest):</p>\n<pre><code>    public void handleContainerPaneClick(MouseEvent event) {\n        if (selectedCircle != null &amp;&amp; !selectedCircle.getUIComponent().contains(event.getX(), event.getY())) {\n            selectedCircle.setSelected(false);\n        }\n    }\n</code></pre>\n<p>and then in various places (basically when working with the UI) you will need to refer to <code>selectedCircle.getUIComponent()</code> instead of just <code>selectedCircle</code>. For example:</p>\n<pre><code>    public void handleDeleteButton(ActionEvent event) {\n        if (selectedCircle != null) {\n            circles.remove(selectedCircle);\n            containerPane.getChildren().remove(selectedCircle.getUIComponent());\n            selectedCircle = null;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":29627250,"reputation":61,"user_id":22706630,"display_name":"Enzo Pirineli Pacheco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696966780,"creation_date":1696958889,"question_id":77267851,"body_markdown":"I developed a relatively simple application, using JavaFX, capable of adding a circle shape to the interface every time the user presses a button, in addition to allowing the user to manipulate this object.\r\n\r\nI need to separate the program into classes, so I thought about creating a class for the circles, but I don&#39;t know how to do that. Can you help me?\r\n\r\nThis is my AddCircleApp.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddCircleApp extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        \r\n        Scene scene = new Scene(root);\r\n        \r\n        stage.setScene(scene);\r\n        stage.setTitle(&quot;Interacting with Objects&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nThis is my FXMLDocumentController.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.net.URL;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.input.*;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.Random;\r\nimport java.util.ResourceBundle;\r\nimport javafx.scene.control.ButtonBar.ButtonData;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Dialog;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.util.Pair;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    @FXML\r\n    private Pane containerPane;\r\n\r\n    @FXML\r\n    private Button addCircleButton;\r\n\r\n    @FXML\r\n    private Button editButton;\r\n\r\n    @FXML\r\n    private Button deleteButton;\r\n\r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n\r\n    @FXML\r\n    private Slider sizeSlider;\r\n\r\n    @FXML\r\n    private Label colorSelectLabel;\r\n\r\n    @FXML\r\n    private Label sizeSelectLabel;\r\n\r\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private Circle selectedCircle = null;\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n        sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(sizeSlider.getValue()));\r\n\r\n        sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(newValue.intValue()));\r\n        });\r\n    }\r\n\r\n    public void handleAddCircleButton() {\r\n\r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n\r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n\r\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\r\n\r\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n            handleCircleClick(circle);\r\n        });\r\n\r\n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n            handleCircleMovement(e, circle);\r\n        });\r\n\r\n        circle.setOnMousePressed((MouseEvent e) -&gt; {\r\n            handleCircleDragStart(e, circle);\r\n        });\r\n\r\n        circle.setOnMouseDragged((MouseEvent e) -&gt; {\r\n            handleCircleDrag(e, circle);\r\n        });\r\n\r\n        circle.setOnMouseReleased((MouseEvent e) -&gt; {\r\n            handleCircleDragEnd(e, circle);\r\n        });\r\n\r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n\r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n\r\n    public void handleEditButton() {\r\n        if (selectedCircle != null) {\r\n            Dialog&lt;Pair&lt;Color, Double&gt;&gt; editDialog = new Dialog&lt;&gt;();\r\n            editDialog.setTitle(&quot;Edit Circle&quot;);\r\n            editDialog.setHeaderText(&quot;Edit the color and size of the selected circle.&quot;);\r\n\r\n            ButtonType confirmButton = new ButtonType(&quot;OK&quot;, ButtonData.OK_DONE);\r\n            editDialog.getDialogPane().getButtonTypes().addAll(confirmButton, ButtonType.CANCEL);\r\n\r\n            ColorPicker colorPicker = new ColorPicker((Color) selectedCircle.getFill());\r\n            Slider sizeSlider = new Slider(10, 100, selectedCircle.getRadius());\r\n\r\n            VBox vbox = new VBox(10);\r\n            Label colorLabel = new Label(&quot;Color:&quot;);\r\n            Label sizeLabel = new Label(&quot;Size:&quot;);\r\n\r\n            sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\r\n\r\n            sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\r\n            });\r\n\r\n            vbox.getChildren().addAll(colorLabel, colorPicker, sizeLabel, sizeSlider);\r\n\r\n            editDialog.getDialogPane().setContent(vbox);\r\n\r\n            editDialog.setResultConverter((ButtonType dialogButton) -&gt; {\r\n                if (dialogButton == confirmButton) {\r\n                    return new Pair&lt;&gt;(colorPicker.getValue(), sizeSlider.getValue());\r\n                }\r\n                return null;\r\n            });\r\n\r\n            Optional&lt;Pair&lt;Color, Double&gt;&gt; result = editDialog.showAndWait();\r\n\r\n            result.ifPresent(newValues -&gt; {\r\n                selectedCircle.setFill(newValues.getKey());\r\n                selectedCircle.setRadius(newValues.getValue());\r\n            });\r\n        }\r\n    }\r\n\r\n    public void handleDeleteButton(ActionEvent event) {\r\n        if (selectedCircle != null) {\r\n            circles.remove(selectedCircle);\r\n            containerPane.getChildren().remove(selectedCircle);\r\n            selectedCircle = null;\r\n        }\r\n    }\r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        if (selectedCircle != null) {\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n\r\n        selectedCircle = clickedCircle;\r\n        Color fillColor = (Color) selectedCircle.getFill();\r\n        Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\r\n\r\n        selectedCircle.setStroke(complementary);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n\r\n        selectedCircle.requestFocus();\r\n    }\r\n\r\n    public void handleContainerPaneClick(MouseEvent event) {\r\n        if (selectedCircle != null &amp;&amp; !selectedCircle.contains(event.getX(), event.getY())) {\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n            selectedCircle = null;\r\n        }\r\n    }\r\n\r\n    private void handleCircleMovement(KeyEvent event, Circle circle) {\r\n        if (selectedCircle != null &amp;&amp; null != event.getCode()) {\r\n            switch (event.getCode()) {\r\n                case LEFT:\r\n                    circle.setCenterX(circle.getCenterX() - 10);\r\n                    event.consume();\r\n                    break;\r\n                case RIGHT:\r\n                    circle.setCenterX(circle.getCenterX() + 10);\r\n                    event.consume();\r\n                    break;\r\n                case UP:\r\n                    circle.setCenterY(circle.getCenterY() - 10);\r\n                    event.consume();\r\n                    break;\r\n                case DOWN:\r\n                    circle.setCenterY(circle.getCenterY() + 10);\r\n                    event.consume();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void handleCircleDragStart(MouseEvent event, Circle circle) {\r\n        xOffset = event.getSceneX() - circle.getCenterX();\r\n        yOffset = event.getSceneY() - circle.getCenterY();\r\n    }\r\n\r\n    public void handleCircleDrag(MouseEvent event, Circle circle) {\r\n        double x = event.getSceneX() - xOffset;\r\n        double y = event.getSceneY() - yOffset;\r\n\r\n        circle.setCenterX(x);\r\n        circle.setCenterY(y);\r\n    }\r\n\r\n    public void handleCircleDragEnd(MouseEvent event, Circle circle) {\r\n        xOffset = 0;\r\n        yOffset = 0;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my FXMLDocument.fxml:\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ColorPicker?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Slider?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onMouseClicked=&quot;#handleContainerPaneClick&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\r\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\r\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;editButton&quot; layoutX=&quot;432.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleEditButton&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Edit&quot; /&gt;\r\n      &lt;Button fx:id=&quot;deleteButton&quot; layoutX=&quot;519.0&quot; layoutY=&quot;361.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleDeleteButton&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Delete&quot; /&gt;\r\n      &lt;Label fx:id=&quot;colorSelectLabel&quot; layoutX=&quot;14.0&quot; layoutY=&quot;340.0&quot; text=&quot;Select a color:&quot; /&gt;\r\n      &lt;Label fx:id=&quot;sizeSelectLabel&quot; layoutX=&quot;180.0&quot; layoutY=&quot;340.0&quot; text=&quot;Size:&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n\r\n```\r\n\r\n\r\nI managed to create a &quot;MyCircle&quot; class and add some event handlers, but some features are not working correctly, such as the handleCircleClick method. Also, I don&#39;t know how to resolve the handleEditButton and handleDeleteButton methods.\r\n\r\nMy FXMLDocumentController.java file looked like this:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.net.URL;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.Random;\r\nimport java.util.ResourceBundle;\r\nimport javafx.scene.control.ButtonBar.ButtonData;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Dialog;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.util.Pair;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    @FXML\r\n    private Pane containerPane;\r\n\r\n    @FXML\r\n    private Button addCircleButton;\r\n\r\n    @FXML\r\n    private Button editButton;\r\n\r\n    @FXML\r\n    private Button deleteButton;\r\n\r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n\r\n    @FXML\r\n    private Slider sizeSlider;\r\n\r\n    @FXML\r\n    private Label colorSelectLabel;\r\n\r\n    @FXML\r\n    private Label sizeSelectLabel;\r\n\r\n    private List&lt;MyCircle&gt; circles = new ArrayList&lt;&gt;();\r\n    private MyCircle selectedCircle = null;\r\n    //private double xOffset = 0;\r\n    //private double yOffset = 0;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n        sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(sizeSlider.getValue()));\r\n\r\n        sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(newValue.intValue()));\r\n        });\r\n    }\r\n\r\n    public void handleAddCircleButton() {\r\n\r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n\r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n\r\n        MyCircle circle = new MyCircle(x, y, selectedSize, selectedColor);\r\n\r\n        /*circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n        handleCircleClick(circle);\r\n        });\r\n        \r\n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n        handleCircleMovement(e, circle);\r\n        });\r\n        \r\n        circle.setOnMousePressed((MouseEvent e) -&gt; {\r\n        handleCircleDragStart(e, circle);\r\n        });\r\n        \r\n        circle.setOnMouseDragged((MouseEvent e) -&gt; {\r\n        handleCircleDrag(e, circle);\r\n        });\r\n        \r\n        circle.setOnMouseReleased((MouseEvent e) -&gt; {\r\n        handleCircleDragEnd(e, circle);\r\n        });*/\r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n\r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n\r\n    public void handleEditButton() {\r\n        if (selectedCircle != null) {\r\n            Dialog&lt;Pair&lt;Color, Double&gt;&gt; editDialog = new Dialog&lt;&gt;();\r\n            editDialog.setTitle(&quot;Edit Circle&quot;);\r\n            editDialog.setHeaderText(&quot;Edit the color and size of the selected circle.&quot;);\r\n\r\n            ButtonType confirmButton = new ButtonType(&quot;OK&quot;, ButtonData.OK_DONE);\r\n            editDialog.getDialogPane().getButtonTypes().addAll(confirmButton, ButtonType.CANCEL);\r\n\r\n            ColorPicker colorPicker = new ColorPicker((Color) selectedCircle.getFill());\r\n            Slider sizeSlider = new Slider(10, 100, selectedCircle.getRadius());\r\n\r\n            VBox vbox = new VBox(10);\r\n            Label colorLabel = new Label(&quot;Color:&quot;);\r\n            Label sizeLabel = new Label(&quot;Size:&quot;);\r\n\r\n            sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\r\n\r\n            sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\r\n            });\r\n\r\n            vbox.getChildren().addAll(colorLabel, colorPicker, sizeLabel, sizeSlider);\r\n\r\n            editDialog.getDialogPane().setContent(vbox);\r\n\r\n            editDialog.setResultConverter((ButtonType dialogButton) -&gt; {\r\n                if (dialogButton == confirmButton) {\r\n                    return new Pair&lt;&gt;(colorPicker.getValue(), sizeSlider.getValue());\r\n                }\r\n                return null;\r\n            });\r\n\r\n            Optional&lt;Pair&lt;Color, Double&gt;&gt; result = editDialog.showAndWait();\r\n\r\n            result.ifPresent(newValues -&gt; {\r\n                selectedCircle.setFill(newValues.getKey());\r\n                selectedCircle.setRadius(newValues.getValue());\r\n            });\r\n        }\r\n    }\r\n\r\n    public void handleDeleteButton(ActionEvent event) {\r\n        if (selectedCircle != null) {\r\n            circles.remove(selectedCircle);\r\n            containerPane.getChildren().remove(selectedCircle);\r\n            selectedCircle = null;\r\n        }\r\n    }\r\n\r\n    /*private void handleCircleClick(MyCircle clickedCircle) {\r\n    if (selectedCircle != null) {\r\n    selectedCircle.setStroke(Color.TRANSPARENT);\r\n    }\r\n    \r\n    selectedCircle = clickedCircle;\r\n    Color fillColor = (Color) selectedCircle.getFill();\r\n    Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\r\n    \r\n    selectedCircle.setStroke(complementary);\r\n    selectedCircle.setStrokeWidth(2.0);\r\n    \r\n    selectedCircle.requestFocus();\r\n    }*/\r\n\r\n    public void handleContainerPaneClick(MouseEvent event) {\r\n        if (selectedCircle != null &amp;&amp; !selectedCircle.contains(event.getX(), event.getY())) {\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n            selectedCircle = null;\r\n        }\r\n    }\r\n\r\n    /*\r\n    private void handleCircleMovement(KeyEvent event, MyCircle circle) {\r\n    if (selectedCircle != null &amp;&amp; null != event.getCode()) {\r\n    switch (event.getCode()) {\r\n    case LEFT:\r\n    circle.setCenterX(circle.getCenterX() - 10);\r\n    event.consume();\r\n    break;\r\n    case RIGHT:\r\n    circle.setCenterX(circle.getCenterX() + 10);\r\n    event.consume();\r\n    break;\r\n    case UP:\r\n    circle.setCenterY(circle.getCenterY() - 10);\r\n    event.consume();\r\n    break;\r\n    case DOWN:\r\n    circle.setCenterY(circle.getCenterY() + 10);\r\n    event.consume();\r\n    break;\r\n    default:\r\n    break;\r\n    }\r\n    }\r\n    \r\n    }\r\n    \r\n    public void handleCircleDragStart(MouseEvent event, MyCircle circle) {\r\n    xOffset = event.getSceneX() - circle.getCenterX();\r\n    yOffset = event.getSceneY() - circle.getCenterY();\r\n    }\r\n    \r\n    public void handleCircleDrag(MouseEvent event, MyCircle circle) {\r\n    double x = event.getSceneX() - xOffset;\r\n    double y = event.getSceneY() - yOffset;\r\n    \r\n    circle.setCenterX(x);\r\n    circle.setCenterY(y);\r\n    }\r\n    \r\n    public void handleCircleDragEnd(MouseEvent event, MyCircle circle) {\r\n    xOffset = 0;\r\n    yOffset = 0;\r\n    }*/\r\n\r\n}\r\n\r\n```\r\n\r\nMy MyCircle.java file looked like this:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport javafx.scene.input.*;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\n\r\npublic class MyCircle extends Circle {\r\n    double xOffset = 0;\r\n    double yOffset = 0;\r\n    MyCircle selectedCircle = null;\r\n    \r\n    public MyCircle(int xPos, int yPos, double radius, Color color){\r\n        super(xPos, yPos, radius, color);\r\n        \r\n        setOnMouseClicked((MouseEvent event) -&gt;{\r\n            //Handle circle click\r\n            MyCircle selectedCircle = (MyCircle) event.getTarget();\r\n            \r\n            if(selectedCircle.isSelected()){\r\n                selectedCircle.deselect();\r\n            } else {\r\n                selectedCircle.select();\r\n            }\r\n        });\r\n        \r\n        setOnKeyPressed((KeyEvent event) -&gt;{\r\n            //Handle circle movement\r\n            handleCircleMovement(event, this);\r\n        });\r\n        \r\n        setOnMousePressed((MouseEvent event) -&gt;{\r\n            //Handle drag start\r\n            handleCircleDragStart(event, this);\r\n        });\r\n        \r\n        setOnMouseDragged((MouseEvent event) -&gt;{\r\n            //Handle drag\r\n            handleCircleDrag(event, this);\r\n        });\r\n        \r\n        setOnMouseReleased((MouseEvent event) -&gt;{\r\n            //Handle drag end\r\n            handleCircleDragEnd(this);\r\n        });\r\n    }\r\n    \r\n    public void select(){\r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n        \r\n        Color fillColor = (Color) getFill();\r\n        Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\r\n        \r\n        setStroke(complementary);\r\n        setStrokeWidth(2.0);\r\n        \r\n        requestFocus();\r\n    }\r\n    \r\n    public void deselect(){\r\n        setStroke(Color.TRANSPARENT);\r\n    }\r\n    \r\n    public boolean isSelected(){\r\n        return getStroke() != Color.TRANSPARENT;\r\n    }\r\n    \r\n    public void handleCircleMovement(KeyEvent event, MyCircle circle){\r\n        if(null != event.getCode())switch (event.getCode()) {\r\n            case LEFT:\r\n                circle.setCenterX(circle.getCenterX() - 10);\r\n                event.consume();\r\n                break;\r\n            case RIGHT:\r\n                circle.setCenterX(circle.getCenterX() + 10);\r\n                event.consume();\r\n                break;\r\n            case UP:\r\n                circle.setCenterY(circle.getCenterY() - 10);\r\n                event.consume();\r\n                break;\r\n            case DOWN:\r\n                circle.setCenterY(circle.getCenterY() + 10);\r\n                event.consume();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    \r\n    public void handleCircleDragStart(MouseEvent event, MyCircle circle){\r\n        xOffset = event.getSceneX() - circle.getCenterX();\r\n        yOffset = event.getSceneY() - circle.getCenterY();\r\n    }\r\n    \r\n    public void handleCircleDrag(MouseEvent event, MyCircle circle){\r\n        double x = event.getSceneX() - xOffset;\r\n        double y = event.getSceneY() - yOffset;\r\n        \r\n        circle.setCenterX(x);\r\n        circle.setCenterY(y);\r\n    }\r\n    \r\n    public void handleCircleDragEnd(MyCircle circle){\r\n        xOffset = 0;\r\n        yOffset = 0;\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to separate elements into classes in JavaFX?","body":"<p>I developed a relatively simple application, using JavaFX, capable of adding a circle shape to the interface every time the user presses a button, in addition to allowing the user to manipulate this object.</p>\n<p>I need to separate the program into classes, so I thought about creating a class for the circles, but I don't know how to do that. Can you help me?</p>\n<p>This is my AddCircleApp.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class AddCircleApp extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        \n        Scene scene = new Scene(root);\n        \n        stage.setScene(scene);\n        stage.setTitle(&quot;Interacting with Objects&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n\n</code></pre>\n<p>This is my FXMLDocumentController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.net.URL;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.control.Slider;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.Random;\nimport java.util.ResourceBundle;\nimport javafx.scene.control.ButtonBar.ButtonData;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Dialog;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.shape.Circle;\nimport javafx.util.Pair;\n\npublic class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private Pane containerPane;\n\n    @FXML\n    private Button addCircleButton;\n\n    @FXML\n    private Button editButton;\n\n    @FXML\n    private Button deleteButton;\n\n    @FXML\n    private ColorPicker colorPicker;\n\n    @FXML\n    private Slider sizeSlider;\n\n    @FXML\n    private Label colorSelectLabel;\n\n    @FXML\n    private Label sizeSelectLabel;\n\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private Circle selectedCircle = null;\n    private double xOffset = 0;\n    private double yOffset = 0;\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n        sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(sizeSlider.getValue()));\n\n        sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n            sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(newValue.intValue()));\n        });\n    }\n\n    public void handleAddCircleButton() {\n\n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n\n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\n\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\n            handleCircleClick(circle);\n        });\n\n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n            handleCircleMovement(e, circle);\n        });\n\n        circle.setOnMousePressed((MouseEvent e) -&gt; {\n            handleCircleDragStart(e, circle);\n        });\n\n        circle.setOnMouseDragged((MouseEvent e) -&gt; {\n            handleCircleDrag(e, circle);\n        });\n\n        circle.setOnMouseReleased((MouseEvent e) -&gt; {\n            handleCircleDragEnd(e, circle);\n        });\n\n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n\n        System.out.println(&quot;New circle was created!&quot;);\n    }\n\n    public void handleEditButton() {\n        if (selectedCircle != null) {\n            Dialog&lt;Pair&lt;Color, Double&gt;&gt; editDialog = new Dialog&lt;&gt;();\n            editDialog.setTitle(&quot;Edit Circle&quot;);\n            editDialog.setHeaderText(&quot;Edit the color and size of the selected circle.&quot;);\n\n            ButtonType confirmButton = new ButtonType(&quot;OK&quot;, ButtonData.OK_DONE);\n            editDialog.getDialogPane().getButtonTypes().addAll(confirmButton, ButtonType.CANCEL);\n\n            ColorPicker colorPicker = new ColorPicker((Color) selectedCircle.getFill());\n            Slider sizeSlider = new Slider(10, 100, selectedCircle.getRadius());\n\n            VBox vbox = new VBox(10);\n            Label colorLabel = new Label(&quot;Color:&quot;);\n            Label sizeLabel = new Label(&quot;Size:&quot;);\n\n            sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\n\n            sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n                sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\n            });\n\n            vbox.getChildren().addAll(colorLabel, colorPicker, sizeLabel, sizeSlider);\n\n            editDialog.getDialogPane().setContent(vbox);\n\n            editDialog.setResultConverter((ButtonType dialogButton) -&gt; {\n                if (dialogButton == confirmButton) {\n                    return new Pair&lt;&gt;(colorPicker.getValue(), sizeSlider.getValue());\n                }\n                return null;\n            });\n\n            Optional&lt;Pair&lt;Color, Double&gt;&gt; result = editDialog.showAndWait();\n\n            result.ifPresent(newValues -&gt; {\n                selectedCircle.setFill(newValues.getKey());\n                selectedCircle.setRadius(newValues.getValue());\n            });\n        }\n    }\n\n    public void handleDeleteButton(ActionEvent event) {\n        if (selectedCircle != null) {\n            circles.remove(selectedCircle);\n            containerPane.getChildren().remove(selectedCircle);\n            selectedCircle = null;\n        }\n    }\n\n    private void handleCircleClick(Circle clickedCircle) {\n        if (selectedCircle != null) {\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n\n        selectedCircle = clickedCircle;\n        Color fillColor = (Color) selectedCircle.getFill();\n        Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\n\n        selectedCircle.setStroke(complementary);\n        selectedCircle.setStrokeWidth(2.0);\n\n        selectedCircle.requestFocus();\n    }\n\n    public void handleContainerPaneClick(MouseEvent event) {\n        if (selectedCircle != null &amp;&amp; !selectedCircle.contains(event.getX(), event.getY())) {\n            selectedCircle.setStroke(Color.TRANSPARENT);\n            selectedCircle = null;\n        }\n    }\n\n    private void handleCircleMovement(KeyEvent event, Circle circle) {\n        if (selectedCircle != null &amp;&amp; null != event.getCode()) {\n            switch (event.getCode()) {\n                case LEFT:\n                    circle.setCenterX(circle.getCenterX() - 10);\n                    event.consume();\n                    break;\n                case RIGHT:\n                    circle.setCenterX(circle.getCenterX() + 10);\n                    event.consume();\n                    break;\n                case UP:\n                    circle.setCenterY(circle.getCenterY() - 10);\n                    event.consume();\n                    break;\n                case DOWN:\n                    circle.setCenterY(circle.getCenterY() + 10);\n                    event.consume();\n                    break;\n                default:\n                    break;\n            }\n        }\n\n    }\n\n    public void handleCircleDragStart(MouseEvent event, Circle circle) {\n        xOffset = event.getSceneX() - circle.getCenterX();\n        yOffset = event.getSceneY() - circle.getCenterY();\n    }\n\n    public void handleCircleDrag(MouseEvent event, Circle circle) {\n        double x = event.getSceneX() - xOffset;\n        double y = event.getSceneY() - yOffset;\n\n        circle.setCenterX(x);\n        circle.setCenterY(y);\n    }\n\n    public void handleCircleDragEnd(MouseEvent event, Circle circle) {\n        xOffset = 0;\n        yOffset = 0;\n    }\n\n}\n\n</code></pre>\n<p>This is my FXMLDocument.fxml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ColorPicker?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Slider?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onMouseClicked=&quot;#handleContainerPaneClick&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\n      &lt;Button fx:id=&quot;editButton&quot; layoutX=&quot;432.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleEditButton&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Edit&quot; /&gt;\n      &lt;Button fx:id=&quot;deleteButton&quot; layoutX=&quot;519.0&quot; layoutY=&quot;361.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleDeleteButton&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;67.0&quot; text=&quot;Delete&quot; /&gt;\n      &lt;Label fx:id=&quot;colorSelectLabel&quot; layoutX=&quot;14.0&quot; layoutY=&quot;340.0&quot; text=&quot;Select a color:&quot; /&gt;\n      &lt;Label fx:id=&quot;sizeSelectLabel&quot; layoutX=&quot;180.0&quot; layoutY=&quot;340.0&quot; text=&quot;Size:&quot; /&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n\n</code></pre>\n<p>I managed to create a &quot;MyCircle&quot; class and add some event handlers, but some features are not working correctly, such as the handleCircleClick method. Also, I don't know how to resolve the handleEditButton and handleDeleteButton methods.</p>\n<p>My FXMLDocumentController.java file looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.net.URL;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.Random;\nimport java.util.ResourceBundle;\nimport javafx.scene.control.ButtonBar.ButtonData;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Dialog;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.util.Pair;\n\npublic class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private Pane containerPane;\n\n    @FXML\n    private Button addCircleButton;\n\n    @FXML\n    private Button editButton;\n\n    @FXML\n    private Button deleteButton;\n\n    @FXML\n    private ColorPicker colorPicker;\n\n    @FXML\n    private Slider sizeSlider;\n\n    @FXML\n    private Label colorSelectLabel;\n\n    @FXML\n    private Label sizeSelectLabel;\n\n    private List&lt;MyCircle&gt; circles = new ArrayList&lt;&gt;();\n    private MyCircle selectedCircle = null;\n    //private double xOffset = 0;\n    //private double yOffset = 0;\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n        sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(sizeSlider.getValue()));\n\n        sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n            sizeSelectLabel.setText(&quot;Size: &quot; + String.valueOf(newValue.intValue()));\n        });\n    }\n\n    public void handleAddCircleButton() {\n\n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n\n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n\n        MyCircle circle = new MyCircle(x, y, selectedSize, selectedColor);\n\n        /*circle.setOnMouseClicked((MouseEvent e) -&gt; {\n        handleCircleClick(circle);\n        });\n        \n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n        handleCircleMovement(e, circle);\n        });\n        \n        circle.setOnMousePressed((MouseEvent e) -&gt; {\n        handleCircleDragStart(e, circle);\n        });\n        \n        circle.setOnMouseDragged((MouseEvent e) -&gt; {\n        handleCircleDrag(e, circle);\n        });\n        \n        circle.setOnMouseReleased((MouseEvent e) -&gt; {\n        handleCircleDragEnd(e, circle);\n        });*/\n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n\n        System.out.println(&quot;New circle was created!&quot;);\n    }\n\n    public void handleEditButton() {\n        if (selectedCircle != null) {\n            Dialog&lt;Pair&lt;Color, Double&gt;&gt; editDialog = new Dialog&lt;&gt;();\n            editDialog.setTitle(&quot;Edit Circle&quot;);\n            editDialog.setHeaderText(&quot;Edit the color and size of the selected circle.&quot;);\n\n            ButtonType confirmButton = new ButtonType(&quot;OK&quot;, ButtonData.OK_DONE);\n            editDialog.getDialogPane().getButtonTypes().addAll(confirmButton, ButtonType.CANCEL);\n\n            ColorPicker colorPicker = new ColorPicker((Color) selectedCircle.getFill());\n            Slider sizeSlider = new Slider(10, 100, selectedCircle.getRadius());\n\n            VBox vbox = new VBox(10);\n            Label colorLabel = new Label(&quot;Color:&quot;);\n            Label sizeLabel = new Label(&quot;Size:&quot;);\n\n            sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\n\n            sizeSlider.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n                sizeLabel.setText(&quot;Size: &quot; + String.valueOf((int) sizeSlider.getValue()));\n            });\n\n            vbox.getChildren().addAll(colorLabel, colorPicker, sizeLabel, sizeSlider);\n\n            editDialog.getDialogPane().setContent(vbox);\n\n            editDialog.setResultConverter((ButtonType dialogButton) -&gt; {\n                if (dialogButton == confirmButton) {\n                    return new Pair&lt;&gt;(colorPicker.getValue(), sizeSlider.getValue());\n                }\n                return null;\n            });\n\n            Optional&lt;Pair&lt;Color, Double&gt;&gt; result = editDialog.showAndWait();\n\n            result.ifPresent(newValues -&gt; {\n                selectedCircle.setFill(newValues.getKey());\n                selectedCircle.setRadius(newValues.getValue());\n            });\n        }\n    }\n\n    public void handleDeleteButton(ActionEvent event) {\n        if (selectedCircle != null) {\n            circles.remove(selectedCircle);\n            containerPane.getChildren().remove(selectedCircle);\n            selectedCircle = null;\n        }\n    }\n\n    /*private void handleCircleClick(MyCircle clickedCircle) {\n    if (selectedCircle != null) {\n    selectedCircle.setStroke(Color.TRANSPARENT);\n    }\n    \n    selectedCircle = clickedCircle;\n    Color fillColor = (Color) selectedCircle.getFill();\n    Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\n    \n    selectedCircle.setStroke(complementary);\n    selectedCircle.setStrokeWidth(2.0);\n    \n    selectedCircle.requestFocus();\n    }*/\n\n    public void handleContainerPaneClick(MouseEvent event) {\n        if (selectedCircle != null &amp;&amp; !selectedCircle.contains(event.getX(), event.getY())) {\n            selectedCircle.setStroke(Color.TRANSPARENT);\n            selectedCircle = null;\n        }\n    }\n\n    /*\n    private void handleCircleMovement(KeyEvent event, MyCircle circle) {\n    if (selectedCircle != null &amp;&amp; null != event.getCode()) {\n    switch (event.getCode()) {\n    case LEFT:\n    circle.setCenterX(circle.getCenterX() - 10);\n    event.consume();\n    break;\n    case RIGHT:\n    circle.setCenterX(circle.getCenterX() + 10);\n    event.consume();\n    break;\n    case UP:\n    circle.setCenterY(circle.getCenterY() - 10);\n    event.consume();\n    break;\n    case DOWN:\n    circle.setCenterY(circle.getCenterY() + 10);\n    event.consume();\n    break;\n    default:\n    break;\n    }\n    }\n    \n    }\n    \n    public void handleCircleDragStart(MouseEvent event, MyCircle circle) {\n    xOffset = event.getSceneX() - circle.getCenterX();\n    yOffset = event.getSceneY() - circle.getCenterY();\n    }\n    \n    public void handleCircleDrag(MouseEvent event, MyCircle circle) {\n    double x = event.getSceneX() - xOffset;\n    double y = event.getSceneY() - yOffset;\n    \n    circle.setCenterX(x);\n    circle.setCenterY(y);\n    }\n    \n    public void handleCircleDragEnd(MouseEvent event, MyCircle circle) {\n    xOffset = 0;\n    yOffset = 0;\n    }*/\n\n}\n\n</code></pre>\n<p>My MyCircle.java file looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport javafx.scene.input.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\n\npublic class MyCircle extends Circle {\n    double xOffset = 0;\n    double yOffset = 0;\n    MyCircle selectedCircle = null;\n    \n    public MyCircle(int xPos, int yPos, double radius, Color color){\n        super(xPos, yPos, radius, color);\n        \n        setOnMouseClicked((MouseEvent event) -&gt;{\n            //Handle circle click\n            MyCircle selectedCircle = (MyCircle) event.getTarget();\n            \n            if(selectedCircle.isSelected()){\n                selectedCircle.deselect();\n            } else {\n                selectedCircle.select();\n            }\n        });\n        \n        setOnKeyPressed((KeyEvent event) -&gt;{\n            //Handle circle movement\n            handleCircleMovement(event, this);\n        });\n        \n        setOnMousePressed((MouseEvent event) -&gt;{\n            //Handle drag start\n            handleCircleDragStart(event, this);\n        });\n        \n        setOnMouseDragged((MouseEvent event) -&gt;{\n            //Handle drag\n            handleCircleDrag(event, this);\n        });\n        \n        setOnMouseReleased((MouseEvent event) -&gt;{\n            //Handle drag end\n            handleCircleDragEnd(this);\n        });\n    }\n    \n    public void select(){\n        if(selectedCircle != null){\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n        \n        Color fillColor = (Color) getFill();\n        Color complementary = Color.color(1.0 - fillColor.getRed(), 1.0 - fillColor.getBlue(), 1.0 - fillColor.getGreen());\n        \n        setStroke(complementary);\n        setStrokeWidth(2.0);\n        \n        requestFocus();\n    }\n    \n    public void deselect(){\n        setStroke(Color.TRANSPARENT);\n    }\n    \n    public boolean isSelected(){\n        return getStroke() != Color.TRANSPARENT;\n    }\n    \n    public void handleCircleMovement(KeyEvent event, MyCircle circle){\n        if(null != event.getCode())switch (event.getCode()) {\n            case LEFT:\n                circle.setCenterX(circle.getCenterX() - 10);\n                event.consume();\n                break;\n            case RIGHT:\n                circle.setCenterX(circle.getCenterX() + 10);\n                event.consume();\n                break;\n            case UP:\n                circle.setCenterY(circle.getCenterY() - 10);\n                event.consume();\n                break;\n            case DOWN:\n                circle.setCenterY(circle.getCenterY() + 10);\n                event.consume();\n                break;\n            default:\n                break;\n        }\n    }\n    \n    public void handleCircleDragStart(MouseEvent event, MyCircle circle){\n        xOffset = event.getSceneX() - circle.getCenterX();\n        yOffset = event.getSceneY() - circle.getCenterY();\n    }\n    \n    public void handleCircleDrag(MouseEvent event, MyCircle circle){\n        double x = event.getSceneX() - xOffset;\n        double y = event.getSceneY() - yOffset;\n        \n        circle.setCenterX(x);\n        circle.setCenterY(y);\n    }\n    \n    public void handleCircleDragEnd(MyCircle circle){\n        xOffset = 0;\n        yOffset = 0;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","maven","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1696970064,"post_id":77268531,"comment_id":136219947,"body_markdown":"You are using an outdated version of maven-enforcer-plugin (maven-enforcer-plugin:3.0.0-M1)? Why ? The message tells that you have not defined (pinned) the versions of the used plugin via pluginManagement which you always should with all your plugins","body":"You are using an outdated version of maven-enforcer-plugin (maven-enforcer-plugin:3.0.0-M1)? Why ? The message tells that you have not defined (pinned) the versions of the used plugin via pluginManagement which you always should with all your plugins"},{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1696970629,"post_id":77268531,"comment_id":136220042,"body_markdown":"In `pom.xml` I have configured version: `3.4.1` of maven-enforcer-plugin. Not sure why in console is version: 3.0.0-M1","body":"In <code>pom.xml</code> I have configured version: <code>3.4.1</code> of maven-enforcer-plugin. Not sure why in console is version: 3.0.0-M1"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697043231,"post_id":77268531,"comment_id":136230795,"body_markdown":"That means thre is something wrong in your pom file...without the full pom files I can&#39;t even guess....","body":"That means thre is something wrong in your pom file...without the full pom files I can&#39;t even guess...."}],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696966511,"creation_date":1696966511,"question_id":77268531,"body_markdown":"I am working on some legacy project, currently trying to remove maintained parent-pom. All typical maven tasks works (comile, install, test). But during release it is failing on command: `mvn release:prepare release:perform`. And in the console I see:\r\n```\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] BUILD FAILURE\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] Total time:  1.611 s\r\n[INFO] [INFO] Finished at: 2023-10-10T20:41:54+02:00\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M1:enforce (default) on project my-project-plugin: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\r\n[INFO] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M1:enforce (default) on project my-project-plugin: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed.\r\n```\r\nand when I check above, I can see:\r\n\r\n```\r\n[INFO] [WARNING] Rule 0: org.apache.maven.plugins.enforcer.RequirePluginVersions failed with message:\r\n[INFO] Some plugins are missing valid versions:(LATEST RELEASE SNAPSHOT are not allowed )\r\n[INFO] org.apache.maven.plugins:maven-source-plugin. \tThe version currently in use is 3.3.0\r\n[INFO] org.apache.maven.plugins:maven-javadoc-plugin. \tThe version currently in use is 3.6.0\r\n```\r\n\r\nWhich does not say anything to me. Any tip or advice what can I check?","title":"maven-enforcer-plugin - Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed","body":"<p>I am working on some legacy project, currently trying to remove maintained parent-pom. All typical maven tasks works (comile, install, test). But during release it is failing on command: <code>mvn release:prepare release:perform</code>. And in the console I see:</p>\n<pre><code>[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] BUILD FAILURE\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] Total time:  1.611 s\n[INFO] [INFO] Finished at: 2023-10-10T20:41:54+02:00\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M1:enforce (default) on project my-project-plugin: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\n[INFO] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M1:enforce (default) on project my-project-plugin: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed.\n</code></pre>\n<p>and when I check above, I can see:</p>\n<pre><code>[INFO] [WARNING] Rule 0: org.apache.maven.plugins.enforcer.RequirePluginVersions failed with message:\n[INFO] Some plugins are missing valid versions:(LATEST RELEASE SNAPSHOT are not allowed )\n[INFO] org.apache.maven.plugins:maven-source-plugin.    The version currently in use is 3.3.0\n[INFO] org.apache.maven.plugins:maven-javadoc-plugin.   The version currently in use is 3.6.0\n</code></pre>\n<p>Which does not say anything to me. Any tip or advice what can I check?</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1439314359,"post_id":31948300,"comment_id":51806193,"body_markdown":"Generally, I&#39;d just throw an exception annotated with `@ResponseStatus`.","body":"Generally, I&#39;d just throw an exception annotated with <code>@ResponseStatus</code>."},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1439315313,"post_id":31948300,"comment_id":51806722,"body_markdown":"You should always return &quot;ResponseEntity&quot; - in the first case return ResponseEntity with body - List&lt;Obj&gt; and status 200; in the second case: either return ResponseEntity with body empty list and status 401 or throw exception as suggested in the previous comment.","body":"You should always return &quot;ResponseEntity&quot; - in the first case return ResponseEntity with body - List&lt;Obj&gt; and status 200; in the second case: either return ResponseEntity with body empty list and status 401 or throw exception as suggested in the previous comment."}],"answers":[{"tags":[],"owner":{"account_id":4638441,"reputation":2839,"user_id":3758948,"accept_rate":89,"display_name":"Darshan Patel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1497156985,"creation_date":1439315177,"answer_id":31948553,"question_id":31948300,"body_markdown":"You just need to change your return type to `ResponseEntity`.\r\n\r\n    @RequestMapping(value = &quot;/getSomething&quot;\r\n            , method = RequestMethod.POST\r\n            , consumes = &quot;application/json&quot;\r\n            , produces = &quot;application/json&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; getSomething(@RequestBody Input f) {\r\n\r\n        DAOImpl dAOImpl = (MapDAOImpl) appContext.getBean(&quot;DAOImpl&quot;);\r\n\r\n        Boolean res =  dAOImpl.validateToken(f.session);\r\n        if(res) {\r\n            List&lt;Obj&gt; response = dAOImpl.getSomething(f.ID);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n        } \r\n        return new ResponseEntity&lt;String&gt;(&quot;Unauthorized&quot;, HttpStatus.UNAUTHORIZED);\r\n    } \r\n\r\nNote : I would recommend to pass proper JSON in error response so that client can parse and use if required.","title":"Java Spring rest return unauthorized json","body":"<p>You just need to change your return type to <code>ResponseEntity</code>.</p>\n\n<pre><code>@RequestMapping(value = \"/getSomething\"\n        , method = RequestMethod.POST\n        , consumes = \"application/json\"\n        , produces = \"application/json\")\n@ResponseBody\npublic ResponseEntity&lt;?&gt; getSomething(@RequestBody Input f) {\n\n    DAOImpl dAOImpl = (MapDAOImpl) appContext.getBean(\"DAOImpl\");\n\n    Boolean res =  dAOImpl.validateToken(f.session);\n    if(res) {\n        List&lt;Obj&gt; response = dAOImpl.getSomething(f.ID);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    } \n    return new ResponseEntity&lt;String&gt;(\"Unauthorized\", HttpStatus.UNAUTHORIZED);\n} \n</code></pre>\n\n<p>Note : I would recommend to pass proper JSON in error response so that client can parse and use if required.</p>\n"}],"owner":{"account_id":2973276,"reputation":861,"user_id":2524908,"accept_rate":42,"display_name":"user2524908"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26836,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31948553,"answer_count":1,"score":6,"last_activity_date":1696966255,"creation_date":1439314282,"question_id":31948300,"body_markdown":"Currently have a java spring application in development. It utilizes a ui along with restful apis which send/receive json via post requests. \r\n\r\nEach api request needs to be validated with a token which will be sent with the request. This action is completed and a boolean is returned. Now the problem is when the boolean value is false(token not valid) I need to return a 401 error to the end user. Currently I am returning List&lt;obj&gt; which is being converted to json. How can I return some 401 error to the end user. \r\n\r\nExample\r\n\r\n \r\n\r\n       //done\r\n        @RequestMapping(value = &quot;/getSomething&quot;\r\n                , method = RequestMethod.POST\r\n                , consumes = &quot;application/json&quot;\r\n                , produces = &quot;application/json&quot;)\r\n        @ResponseBody\r\n        public List&lt;Obj&gt; getSomething(@RequestBody Input f) {\r\n    \r\n            DAOImpl dAOImpl = (MapDAOImpl) appContext.getBean(&quot;DAOImpl&quot;);\r\n    \r\n            Boolean res =  dAOImpl.validateToken(f.session);\r\n            if(res) {\r\n                List&lt;Obj&gt; response = dAOImpl.getSomething(f.ID);\r\n                return response;\r\n            } else {\r\n\r\n                return new ResponseEntity&lt;String&gt;(&quot;test&quot;, HttpStatus.UNAUTHORIZED);\r\n            }\r\n    \r\n        } ","title":"Java Spring rest return unauthorized json","body":"<p>Currently have a java spring application in development. It utilizes a ui along with restful apis which send/receive json via post requests. </p>\n\n<p>Each api request needs to be validated with a token which will be sent with the request. This action is completed and a boolean is returned. Now the problem is when the boolean value is false(token not valid) I need to return a 401 error to the end user. Currently I am returning List which is being converted to json. How can I return some 401 error to the end user. </p>\n\n<p>Example</p>\n\n<pre><code>   //done\n    @RequestMapping(value = \"/getSomething\"\n            , method = RequestMethod.POST\n            , consumes = \"application/json\"\n            , produces = \"application/json\")\n    @ResponseBody\n    public List&lt;Obj&gt; getSomething(@RequestBody Input f) {\n\n        DAOImpl dAOImpl = (MapDAOImpl) appContext.getBean(\"DAOImpl\");\n\n        Boolean res =  dAOImpl.validateToken(f.session);\n        if(res) {\n            List&lt;Obj&gt; response = dAOImpl.getSomething(f.ID);\n            return response;\n        } else {\n\n            return new ResponseEntity&lt;String&gt;(\"test\", HttpStatus.UNAUTHORIZED);\n        }\n\n    } \n</code></pre>\n"},{"tags":["java","android","google-maps-api-3"],"comments":[{"owner":{"account_id":2451375,"reputation":4308,"user_id":2137578,"accept_rate":60,"display_name":"Jay Snayder"},"score":0,"creation_date":1544807162,"post_id":53783872,"comment_id":94419585,"body_markdown":"I don&#39;t know of the format for what the task, but just an off chance...do you mean to have a delimiter of `&amp;` with your location attribute?  Manually compare the result of your URL and if that doesn&#39;t work pasting from the code then perhaps you can add/remove attibutes until some do work.","body":"I don&#39;t know of the format for what the task, but just an off chance...do you mean to have a delimiter of <code>&amp;</code> with your location attribute?  Manually compare the result of your URL and if that doesn&#39;t work pasting from the code then perhaps you can add/remove attibutes until some do work."},{"owner":{"account_id":10938609,"reputation":4860,"user_id":8039298,"display_name":"Barns"},"score":0,"creation_date":1544814049,"post_id":53783872,"comment_id":94422432,"body_markdown":"@JaySnayder :: Sorry, I just now read your comment! I Didn&#39;t see that you had already pointed out the same potential error. If you want to provide an answer I will delete mine!","body":"@JaySnayder :: Sorry, I just now read your comment! I Didn&#39;t see that you had already pointed out the same potential error. If you want to provide an answer I will delete mine!"}],"answers":[{"tags":[],"owner":{"account_id":10938609,"reputation":4860,"user_id":8039298,"display_name":"Barns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544807435,"creation_date":1544807435,"answer_id":53784138,"question_id":53783872,"body_markdown":"It appears as if you have perhaps missed an `&amp;` in the construction of the paramerters. The `location` parameter is not prepended by an ampersand. Try this: \r\n\r\n    public void onClick(View v) {\r\n    \tStringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\r\n    \tsb.append(&quot;&amp;key=&quot; + API_KEY_SERVER);\r\n    \tsb.append(&quot;&amp;location=&quot; + mLatitude + &quot;,&quot; + mLongitude);\r\n    \tsb.append(&quot;&amp;radius=10000&quot;);\r\n    \tsb.append(&quot;&amp;keyword=Vape&quot;);\r\n    \tsb.append(&quot;&amp;sensor=true&quot;);\r\n    \tToast.makeText(MapsActivity.this,&quot;Your Message&quot;, Toast.LENGTH_LONG).show();\r\n        \r\n    \tnew PlacesTask().execute(sb.toString());\r\n    }\r\n\r\n\r\nAlso note that the `sensor` parameter is no longer required.","title":"Nearby Place is not being shown","body":"<p>It appears as if you have perhaps missed an <code>&amp;</code> in the construction of the paramerters. The <code>location</code> parameter is not prepended by an ampersand. Try this: </p>\n\n<pre><code>public void onClick(View v) {\n    StringBuilder sb = new StringBuilder(\"https://maps.googleapis.com/maps/api/place/nearbysearch/json?\");\n    sb.append(\"&amp;key=\" + API_KEY_SERVER);\n    sb.append(\"&amp;location=\" + mLatitude + \",\" + mLongitude);\n    sb.append(\"&amp;radius=10000\");\n    sb.append(\"&amp;keyword=Vape\");\n    sb.append(\"&amp;sensor=true\");\n    Toast.makeText(MapsActivity.this,\"Your Message\", Toast.LENGTH_LONG).show();\n\n    new PlacesTask().execute(sb.toString());\n}\n</code></pre>\n\n<p>Also note that the <code>sensor</code> parameter is no longer required.</p>\n"}],"owner":{"account_id":14069299,"reputation":21,"user_id":10163227,"display_name":"Agam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":53784138,"answer_count":1,"score":-1,"last_activity_date":1696965189,"creation_date":1544806273,"question_id":53783872,"body_markdown":"I&#39;m making a **Find nearby vape store App**. But when I click find vape store, the map won&#39;t show the place. Below is the code:-\r\n\r\n \r\n\r\n    btnFind.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n               StringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\r\n                sb.append(&quot;&amp;key=&quot; + API_KEY_SERVER);\r\n                sb.append(&quot;location=&quot; + mLatitude + &quot;,&quot; + mLongitude);\r\n                sb.append(&quot;&amp;radius=10000&quot;);\r\n                sb.append(&quot;&amp;keyword=Vape&quot;);\r\n                sb.append(&quot;&amp;sensor=true&quot;);\r\n                Toast.makeText(MapsActivity.this,\r\n                        &quot;Your Message&quot;, Toast.LENGTH_LONG).show();\r\n               \r\n                new PlacesTask().execute(sb.toString());\r\n            }","title":"Nearby Place is not being shown","body":"<p>I'm making a <strong>Find nearby vape store App</strong>. But when I click find vape store, the map won't show the place. Below is the code:-</p>\n\n<pre><code>btnFind.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n           StringBuilder sb = new StringBuilder(\"https://maps.googleapis.com/maps/api/place/nearbysearch/json?\");\n            sb.append(\"&amp;key=\" + API_KEY_SERVER);\n            sb.append(\"location=\" + mLatitude + \",\" + mLongitude);\n            sb.append(\"&amp;radius=10000\");\n            sb.append(\"&amp;keyword=Vape\");\n            sb.append(\"&amp;sensor=true\");\n            Toast.makeText(MapsActivity.this,\n                    \"Your Message\", Toast.LENGTH_LONG).show();\n\n            new PlacesTask().execute(sb.toString());\n        }\n</code></pre>\n"},{"tags":["java","button","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696869695,"post_id":77260383,"comment_id":136205312,"body_markdown":"It&#39;s not really clear what you&#39;re doing in the `salvaSocieta(...)` method. You load the `main_creazione.fxml` file, and call a method on its controller, but since you never actually do anything with the UI you loaded (i.e. you just put it in the variable `root`, and then do nothing) you obviously won&#39;t see the result of calling the controller method anywhere.","body":"It&#39;s not really clear what you&#39;re doing in the <code>salvaSocieta(...)</code> method. You load the <code>main_creazione.fxml</code> file, and call a method on its controller, but since you never actually do anything with the UI you loaded (i.e. you just put it in the variable <code>root</code>, and then do nothing) you obviously won&#39;t see the result of calling the controller method anywhere."},{"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"score":0,"creation_date":1696870216,"post_id":77260383,"comment_id":136205422,"body_markdown":"i don&#39;t really know ho to call the method from a class to an other without creating a new Object of the Creazione class","body":"i don&#39;t really know ho to call the method from a class to an other without creating a new Object of the Creazione class"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696870715,"post_id":77260383,"comment_id":136205501,"body_markdown":"The &quot;quick and dirty&quot; approach would just be to pass a reference to the existing `Creazione` instance to the `CreazioneSocieta` controller instance that is created when you load `creazione_societa.fxml`. But really here you should use a [MVC (or similar) design](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx)","body":"The &quot;quick and dirty&quot; approach would just be to pass a reference to the existing <code>Creazione</code> instance to the <code>CreazioneSocieta</code> controller instance that is created when you load <code>creazione_societa.fxml</code>. But really here you should use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC (or similar) design</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696898559,"creation_date":1696881703,"answer_id":77261470,"question_id":77260383,"body_markdown":"Use a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). Define a `Model` class that contains the state of the application, with mechanisms to observe the values and respond to them changes. You can use JavaFX Properties to do this easily (see [this](https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm) or the &quot;Bindings and Observable Values&quot; section of [this](https://www.pragmaticcoding.ca/javafx/elements/), and links from there)\r\n\r\n```\r\npublic class Model {\r\n\r\n    private final BooleanProperty societySaved = new SimpleBooleanProperty(false);\r\n\r\n    public BooleanProperty societySavedProperty() {\r\n        return societySaved ;\r\n    }\r\n\r\n    public final boolean isSocietySaved() {\r\n        return societySavedProperty().get();\r\n    }\r\n\r\n    public final void setSocietySaved(boolean societySaved) {\r\n        societySavedProperty().set(societySaved);\r\n    }\r\n\r\n\r\n    // similarly for other properties as needed\r\n}\r\n```\r\n\r\nIn your `Creazione` controller class, define a field for the model and bind the state of the button to the state in the model:\r\n\r\n```\r\npublic class Creazione {\r\n\r\n    @FXML\r\n    private JFXButton btnSocieta;\r\n\r\n    @FXML\r\n    private JFXButton btnUnitaLocali;\r\n\r\n    @FXML\r\n    private JFXButton btnReparti;\r\n\r\n    @FXML\r\n    private StackPane stackPane;\r\n\r\n    private Model model ;\r\n\r\n    public void setModel(Model model) {\r\n        this.model = model ;\r\n        btnUnitaLocali.disableProperty().bind(model.societySavedProperty().not());\r\n        // similarly for other buttons and properties in the model\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n\r\n        //btnUnitaLocali.setDisable(true);\r\n        //btnReparti.setDisable(true);\r\n\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n            stackPane.getChildren().removeAll();\r\n            stackPane.getChildren().setAll(root);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    // ... (further modifications to methods shown later)\r\n\r\n\r\n\r\n    // these are not needed\r\n    // public void setEnableBtnUnitaLocale() {\r\n        \r\n    //     btnUnitaLocali.setDisable(false);\r\n    //     System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\r\n\r\n    // }\r\n\r\n    // public void setEnableBtnReparti() {\r\n\r\n    //     btnReparti.setDisable(false);\r\n    // }\r\n\r\n}\r\n```\r\n\r\nSimilarly, in your other controllers, define a reference to the model and update the property. For example:\r\n\r\n```\r\npublic class CreazioneSocieta  {\r\n\r\n    private Model model ;\r\n\r\n    public void setModel(Model model) {\r\n        this.model = model;\r\n    }\r\n\r\n\r\n    public void salvaSocieta(ActionEvent event) {\r\n        \r\n        model.setSocietySaved(true);\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\nNow, in your application code, you need to create a `Model` instance and when you load the initial \r\nview, pass the model to the controller:\r\n\r\n```\r\nModel model = new Model();\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\nParent root = (Parent) loader.load();\r\n        \r\nCreazione controller = loader.getController();\r\ncontroller.setModel(model);\r\n\r\nScene scene = new Scene(root);\r\nstage.setScene(scene);\r\n// etc.\r\n```\r\n\r\nFinally, back in your `Creazione` class, be sure to pass the same model instance to the other controllers. For example:\r\n\r\n```\r\npublic class Creazione {\r\n\r\n    // existing code ...\r\n\r\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n        Parent root = loader.load();\r\n        CreazioneSocieta controller = loader.getController();\r\n        controller.setModel(model);\r\n\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n}\r\n```\r\n\r\nFor better decoupling of the controllers, in particular in the context of switching scene, study [this example](https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554).","title":"JavaFX - transform from disable to enable button","body":"<p>Use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a>. Define a <code>Model</code> class that contains the state of the application, with mechanisms to observe the values and respond to them changes. You can use JavaFX Properties to do this easily (see <a href=\"https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm\" rel=\"nofollow noreferrer\">this</a> or the &quot;Bindings and Observable Values&quot; section of <a href=\"https://www.pragmaticcoding.ca/javafx/elements/\" rel=\"nofollow noreferrer\">this</a>, and links from there)</p>\n<pre><code>public class Model {\n\n    private final BooleanProperty societySaved = new SimpleBooleanProperty(false);\n\n    public BooleanProperty societySavedProperty() {\n        return societySaved ;\n    }\n\n    public final boolean isSocietySaved() {\n        return societySavedProperty().get();\n    }\n\n    public final void setSocietySaved(boolean societySaved) {\n        societySavedProperty().set(societySaved);\n    }\n\n\n    // similarly for other properties as needed\n}\n</code></pre>\n<p>In your <code>Creazione</code> controller class, define a field for the model and bind the state of the button to the state in the model:</p>\n<pre><code>public class Creazione {\n\n    @FXML\n    private JFXButton btnSocieta;\n\n    @FXML\n    private JFXButton btnUnitaLocali;\n\n    @FXML\n    private JFXButton btnReparti;\n\n    @FXML\n    private StackPane stackPane;\n\n    private Model model ;\n\n    public void setModel(Model model) {\n        this.model = model ;\n        btnUnitaLocali.disableProperty().bind(model.societySavedProperty().not());\n        // similarly for other buttons and properties in the model\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n\n        //btnUnitaLocali.setDisable(true);\n        //btnReparti.setDisable(true);\n\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n            stackPane.getChildren().removeAll();\n            stackPane.getChildren().setAll(root);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    // ... (further modifications to methods shown later)\n\n\n\n    // these are not needed\n    // public void setEnableBtnUnitaLocale() {\n        \n    //     btnUnitaLocali.setDisable(false);\n    //     System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\n\n    // }\n\n    // public void setEnableBtnReparti() {\n\n    //     btnReparti.setDisable(false);\n    // }\n\n}\n</code></pre>\n<p>Similarly, in your other controllers, define a reference to the model and update the property. For example:</p>\n<pre><code>public class CreazioneSocieta  {\n\n    private Model model ;\n\n    public void setModel(Model model) {\n        this.model = model;\n    }\n\n\n    public void salvaSocieta(ActionEvent event) {\n        \n        model.setSocietySaved(true);\n\n    }\n    \n}\n</code></pre>\n<p>Now, in your application code, you need to create a <code>Model</code> instance and when you load the initial\nview, pass the model to the controller:</p>\n<pre><code>Model model = new Model();\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\nParent root = (Parent) loader.load();\n        \nCreazione controller = loader.getController();\ncontroller.setModel(model);\n\nScene scene = new Scene(root);\nstage.setScene(scene);\n// etc.\n</code></pre>\n<p>Finally, back in your <code>Creazione</code> class, be sure to pass the same model instance to the other controllers. For example:</p>\n<pre><code>public class Creazione {\n\n    // existing code ...\n\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n        Parent root = loader.load();\n        CreazioneSocieta controller = loader.getController();\n        controller.setModel(model);\n\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n}\n</code></pre>\n<p>For better decoupling of the controllers, in particular in the context of switching scene, study <a href=\"https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"},{"tags":[],"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696965059,"creation_date":1696965059,"answer_id":77268423,"question_id":77260383,"body_markdown":"# I ended up doing this:\r\n\r\n### This is the method you can find in ViewController\r\n\r\n    public void switchToCreazione(ActionEvent event) throws IOException{\r\n        CreazioneModel creazioneModel = new CreazioneModel();\r\n\r\n        FXMLLoader loader = \r\n      new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\n\r\n        Parent root = loader.load();\r\n        Creazione creazione = loader.getController();\r\n\r\n        creazione.setCreazioneModel(creazioneModel);\r\n\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n    \r\n\r\n## This is the method you can find in the preview answer \r\n\r\n    public void setCreazioneModel(CreazioneModel creazioneModel) {\r\n        this.creazioneModel = creazioneModel;\r\n\r\n        try {\r\n            switchToSocieta();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        this.btnUnitaLocali\r\n            .disableProperty()\r\n            .bind(creazioneModel.societaSavedProperty().not());\r\n        this.btnReparti\r\n            .disableProperty()\r\n            .bind(creazioneModel.unitaLocaleSavedProperty().not());}\r\n\r\n\r\n## This is the method setModel in CreazioneModel class\r\n\r\n    public void setCreazioneModel(CreazioneModel creazioneModel) {\r\n        this.creazioneModel = creazioneModel;\r\n\r\n        try {\r\n            switchToSocieta();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        this.btnUnitaLocali\r\n            .disableProperty()\r\n            .bind(creazioneModel.societaSavedProperty().not());\r\n        this.btnReparti\r\n            .disableProperty()\r\n            .bind(creazioneModel.unitaLocaleSavedProperty().not());}\r\n\r\n\r\n\r\n# Warning \r\ni couldn&#39;t call switchToSocieta in the initialize method of Creazione because it wont have the Model correctly initialized \r\n\r\n\r\n\r\n","title":"JavaFX - transform from disable to enable button","body":"<h1>I ended up doing this:</h1>\n<h3>This is the method you can find in ViewController</h3>\n<pre><code>public void switchToCreazione(ActionEvent event) throws IOException{\n    CreazioneModel creazioneModel = new CreazioneModel();\n\n    FXMLLoader loader = \n  new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\n\n    Parent root = loader.load();\n    Creazione creazione = loader.getController();\n\n    creazione.setCreazioneModel(creazioneModel);\n\n    stackPane.getChildren().removeAll();\n    stackPane.getChildren().setAll(root);\n}\n</code></pre>\n<h2>This is the method you can find in the preview answer</h2>\n<pre><code>public void setCreazioneModel(CreazioneModel creazioneModel) {\n    this.creazioneModel = creazioneModel;\n\n    try {\n        switchToSocieta();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    this.btnUnitaLocali\n        .disableProperty()\n        .bind(creazioneModel.societaSavedProperty().not());\n    this.btnReparti\n        .disableProperty()\n        .bind(creazioneModel.unitaLocaleSavedProperty().not());}\n</code></pre>\n<h2>This is the method setModel in CreazioneModel class</h2>\n<pre><code>public void setCreazioneModel(CreazioneModel creazioneModel) {\n    this.creazioneModel = creazioneModel;\n\n    try {\n        switchToSocieta();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    this.btnUnitaLocali\n        .disableProperty()\n        .bind(creazioneModel.societaSavedProperty().not());\n    this.btnReparti\n        .disableProperty()\n        .bind(creazioneModel.unitaLocaleSavedProperty().not());}\n</code></pre>\n<h1>Warning</h1>\n<p>i couldn't call switchToSocieta in the initialize method of Creazione because it wont have the Model correctly initialized</p>\n"}],"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261470,"answer_count":2,"score":0,"last_activity_date":1696965059,"creation_date":1696868386,"question_id":77260383,"body_markdown":"## Controller of the father class\r\n\r\nthis class contains 3 button &#39;btnSocieta&#39;, &#39;btnUnitaLocali&#39;, &#39;btnReparti&#39;.\r\nThe first is enable from default other 2 are disable.\r\nIn the stackPane i show the start page where you can find right away.\r\n\r\nthey have to change state after calling method setEnableBtnUnitaLocale or the other one\r\n\r\n```\r\npackage View.Controllers;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.jfoenix.controls.JFXButton;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Creazione implements Initializable {\r\n\r\n    @FXML\r\n    private JFXButton btnSocieta;\r\n\r\n    @FXML\r\n    private JFXButton btnUnitaLocali;\r\n\r\n    @FXML\r\n    private JFXButton btnReparti;\r\n\r\n    @FXML\r\n    private StackPane stackPane;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n\r\n        btnUnitaLocali.setDisable(true);\r\n        btnReparti.setDisable(true);\r\n\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n            stackPane.getChildren().removeAll();\r\n            stackPane.getChildren().setAll(root);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n\r\n    public void switchToUnitaLocali(javafx.event.ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_unitalocale.fxml&quot;));\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n\r\n    public void switchToReparti(javafx.event.ActionEvent event) {\r\n        System.out.println(&quot;You clicked me!&quot;);\r\n    }\r\n\r\n    public void setEnableBtnUnitaLocale() {\r\n        \r\n        btnUnitaLocali.setDisable(false);\r\n        System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\r\n\r\n    }\r\n\r\n    public void setEnableBtnReparti() {\r\n\r\n        btnReparti.setDisable(false);\r\n    }\r\n\r\n}\r\n```\r\n\r\n## FXML file menaged by Creazione that have a StackPane that contains CreazioneSocieta\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;View.Controllers.Creazione&quot;&gt;\r\n   &lt;top&gt;\r\n      &lt;Pane prefHeight=&quot;48.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;181.0&quot; layoutY=&quot;16.0&quot; minWidth=&quot;34.0&quot; prefHeight=&quot;17.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;382.0&quot; layoutY=&quot;16.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnSocieta&quot; alignment=&quot;CENTER&quot; layoutX=&quot;53.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToSocieta&quot; text=&quot;Societ&#224; / Ente&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnUnitaLocali&quot; alignment=&quot;CENTER&quot; layoutX=&quot;255.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToUnitaLocali&quot; text=&quot;Unit&#224; locali&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnReparti&quot; alignment=&quot;CENTER&quot; layoutX=&quot;453.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToReparti&quot; text=&quot;Reparti&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/Pane&gt;\r\n   &lt;/top&gt;\r\n   &lt;center&gt;\r\n      &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;352.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\n## Controller of the FXML file\r\n\r\nthis controller only scope is to call the method &#39;setEnableBtnUnitaLocale&#39; that we&#39;ve see before through method &#39;salvaSocieta&#39;\r\n\r\n```\r\npackage View.Controllers;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.jfoenix.controls.JFXButton;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\n\r\n\r\npublic class CreazioneSocieta implements Initializable {\r\n\r\n    @FXML\r\n    JFXButton btnSalva;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        \r\n\r\n    }\r\n\r\n    public void salvaSocieta(javafx.event.ActionEvent event) throws IOException{\r\n        \r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\n        Parent root = (Parent) loader.load();\r\n        \r\n        Creazione controller = loader.getController();\r\n        controller.setEnableBtnUnitaLocale();\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\n## FXML File that contains the save button\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n   fx:controller=&quot;View.Controllers.CreazioneSocieta&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;139.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;93.0&quot;\r\n         text=&quot;Ragione Sociale:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;153.0&quot; layoutY=&quot;135.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;437.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Indirizzo:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;324.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Telefono:&quot; /&gt;\r\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;115.0&quot; layoutY=&quot;320.0&quot; prefHeight=&quot;25.0&quot;\r\n         prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;262.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;43.0&quot; text=&quot;e-mail:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;467.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Provincia:&quot; /&gt;\r\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;533.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot;\r\n         prefWidth=&quot;56.0&quot; /&gt;\r\n      &lt;JFXButton onAction=&quot;#salvaSocieta&quot; contentDisplay=&quot;CENTER&quot; defaultButton=&quot;true&quot;\r\n         graphicTextGap=&quot;0.0&quot; layoutX=&quot;573.0&quot; layoutY=&quot;421.0&quot; prefHeight=&quot;45.0&quot; prefWidth=&quot;0.0&quot;\r\n         ripplerFill=&quot;#bfbdbd&quot; textFill=&quot;WHITE&quot; textOverrun=&quot;CLIP&quot;&gt;\r\n         &lt;graphic&gt;\r\n            &lt;ImageView fitHeight=&quot;37.0&quot; fitWidth=&quot;37.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@../icons/save_icon.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n         &lt;/graphic&gt;\r\n      &lt;/JFXButton&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n## Problem: The &#39;btnUnitaLocale&#39; doesn&#39;t became enable after calling the function &#39;setEnableBtnUnitaLocale&#39;","title":"JavaFX - transform from disable to enable button","body":"<h2>Controller of the father class</h2>\n<p>this class contains 3 button 'btnSocieta', 'btnUnitaLocali', 'btnReparti'.\nThe first is enable from default other 2 are disable.\nIn the stackPane i show the start page where you can find right away.</p>\n<p>they have to change state after calling method setEnableBtnUnitaLocale or the other one</p>\n<pre><code>package View.Controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport com.jfoenix.controls.JFXButton;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Creazione implements Initializable {\n\n    @FXML\n    private JFXButton btnSocieta;\n\n    @FXML\n    private JFXButton btnUnitaLocali;\n\n    @FXML\n    private JFXButton btnReparti;\n\n    @FXML\n    private StackPane stackPane;\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n\n        btnUnitaLocali.setDisable(true);\n        btnReparti.setDisable(true);\n\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n            stackPane.getChildren().removeAll();\n            stackPane.getChildren().setAll(root);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n\n    public void switchToUnitaLocali(javafx.event.ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_unitalocale.fxml&quot;));\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n\n    public void switchToReparti(javafx.event.ActionEvent event) {\n        System.out.println(&quot;You clicked me!&quot;);\n    }\n\n    public void setEnableBtnUnitaLocale() {\n        \n        btnUnitaLocali.setDisable(false);\n        System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\n\n    }\n\n    public void setEnableBtnReparti() {\n\n        btnReparti.setDisable(false);\n    }\n\n}\n</code></pre>\n<h2>FXML file menaged by Creazione that have a StackPane that contains CreazioneSocieta</h2>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;View.Controllers.Creazione&quot;&gt;\n   &lt;top&gt;\n      &lt;Pane prefHeight=&quot;48.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;181.0&quot; layoutY=&quot;16.0&quot; minWidth=&quot;34.0&quot; prefHeight=&quot;17.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;382.0&quot; layoutY=&quot;16.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnSocieta&quot; alignment=&quot;CENTER&quot; layoutX=&quot;53.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToSocieta&quot; text=&quot;Società / Ente&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnUnitaLocali&quot; alignment=&quot;CENTER&quot; layoutX=&quot;255.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToUnitaLocali&quot; text=&quot;Unità locali&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnReparti&quot; alignment=&quot;CENTER&quot; layoutX=&quot;453.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToReparti&quot; text=&quot;Reparti&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n   &lt;/top&gt;\n   &lt;center&gt;\n      &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;352.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<h2>Controller of the FXML file</h2>\n<p>this controller only scope is to call the method 'setEnableBtnUnitaLocale' that we've see before through method 'salvaSocieta'</p>\n<pre><code>package View.Controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport com.jfoenix.controls.JFXButton;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\n\n\npublic class CreazioneSocieta implements Initializable {\n\n    @FXML\n    JFXButton btnSalva;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        \n\n    }\n\n    public void salvaSocieta(javafx.event.ActionEvent event) throws IOException{\n        \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\n        Parent root = (Parent) loader.load();\n        \n        Creazione controller = loader.getController();\n        controller.setEnableBtnUnitaLocale();\n\n    }\n    \n}\n</code></pre>\n<h2>FXML File that contains the save button</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n   fx:controller=&quot;View.Controllers.CreazioneSocieta&quot;&gt;\n   &lt;children&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;139.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;93.0&quot;\n         text=&quot;Ragione Sociale:&quot; /&gt;\n      &lt;TextField layoutX=&quot;153.0&quot; layoutY=&quot;135.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;437.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Indirizzo:&quot; /&gt;\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;324.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Telefono:&quot; /&gt;\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;115.0&quot; layoutY=&quot;320.0&quot; prefHeight=&quot;25.0&quot;\n         prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;262.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;43.0&quot; text=&quot;e-mail:&quot; /&gt;\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;467.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Provincia:&quot; /&gt;\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;533.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot;\n         prefWidth=&quot;56.0&quot; /&gt;\n      &lt;JFXButton onAction=&quot;#salvaSocieta&quot; contentDisplay=&quot;CENTER&quot; defaultButton=&quot;true&quot;\n         graphicTextGap=&quot;0.0&quot; layoutX=&quot;573.0&quot; layoutY=&quot;421.0&quot; prefHeight=&quot;45.0&quot; prefWidth=&quot;0.0&quot;\n         ripplerFill=&quot;#bfbdbd&quot; textFill=&quot;WHITE&quot; textOverrun=&quot;CLIP&quot;&gt;\n         &lt;graphic&gt;\n            &lt;ImageView fitHeight=&quot;37.0&quot; fitWidth=&quot;37.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@../icons/save_icon.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n         &lt;/graphic&gt;\n      &lt;/JFXButton&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<h2>Problem: The 'btnUnitaLocale' doesn't became enable after calling the function 'setEnableBtnUnitaLocale'</h2>\n"},{"tags":["java","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1389866418,"post_id":21157853,"comment_id":31848422,"body_markdown":"Your `abc != &quot;&quot;` comparison will always resolve to `true`. Change it to `&quot;&quot;.equals(abc)` or `abc.isEmpty()` of you know it cannot be `null`.","body":"Your <code>abc != &quot;&quot;</code> comparison will always resolve to <code>true</code>. Change it to <code>&quot;&quot;.equals(abc)</code> or <code>abc.isEmpty()</code> of you know it cannot be <code>null</code>."},{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1389866598,"post_id":21157853,"comment_id":31848538,"body_markdown":"You say you are submitting something. If you&#39;re using a form you should validate using `BindingResult` and display the errors through `&lt;form:errors path=&quot;property&quot; /&gt;`","body":"You say you are submitting something. If you&#39;re using a form you should validate using <code>BindingResult</code> and display the errors through <code>&lt;form:errors path=&quot;property&quot; &#47;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":87917,"reputation":689,"user_id":243514,"accept_rate":100,"display_name":"Nu2Overflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456479556,"creation_date":1389864602,"answer_id":21157939,"question_id":21157853,"body_markdown":"On validation failure do not return to error page, instead return to same page so your code in else block should be \r\n\r\n \r\n\r\n    }else{ String error = &quot;You must have xyzzzzzz&quot;;\r\n            return new ModelAndView(&quot;2.0/error&quot;, &quot;downloaderror&quot;, abc); }\r\n\r\nAnd also store the errormessage in your modelmap against some key like &quot;errormsg&quot; and on your abc page check for this key and then print the message.","title":"How to manage error message in Spring MVC","body":"<p>On validation failure do not return to error page, instead return to same page so your code in else block should be </p>\n\n<pre><code>}else{ String error = \"You must have xyzzzzzz\";\n        return new ModelAndView(\"2.0/error\", \"downloaderror\", abc); }\n</code></pre>\n\n<p>And also store the errormessage in your modelmap against some key like \"errormsg\" and on your abc page check for this key and then print the message.</p>\n"},{"tags":[],"owner":{"account_id":3393753,"reputation":781,"user_id":2847964,"accept_rate":38,"display_name":"Sunil Singh Bora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389865410,"creation_date":1389864770,"answer_id":21158007,"question_id":21157853,"body_markdown":"Add an error flag in controller method like this\r\n\r\n    public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\r\n       \r\n     ModelAndView model=new ModelAndView();\r\n     model.addObject(&quot;error&quot;, true);\r\n\r\n     return model;\r\n\r\n    }\r\n\r\n\r\nIn JSP\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script src=&quot;abc/js/jquery-1.9.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;c:if test=&quot;${error}&quot;&gt;\r\n    &lt;script&gt;\r\n      alert(&quot;You must have something...&quot;);        \r\n    &lt;/script&gt;\r\n    &lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How to manage error message in Spring MVC","body":"<p>Add an error flag in controller method like this</p>\n\n<pre><code>public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\n\n ModelAndView model=new ModelAndView();\n model.addObject(\"error\", true);\n\n return model;\n\n}\n</code></pre>\n\n<p>In JSP</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"abc/js/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;c:if test=\"${error}\"&gt;\n&lt;script&gt;\n  alert(\"You must have something...\");        \n&lt;/script&gt;\n&lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313156,"reputation":1241,"user_id":1260702,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389865308,"creation_date":1389865308,"answer_id":21158196,"question_id":21157853,"body_markdown":"You can implement HandlerExceptionResolver on your own.Refer to this tutorial: http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"How to manage error message in Spring MVC","body":"<p>You can implement HandlerExceptionResolver on your own.Refer to this tutorial: <a href=\"http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow\">http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"},{"tags":[],"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389868076,"creation_date":1389868076,"answer_id":21159141,"question_id":21157853,"body_markdown":"You can achieve the scenario by going in following way:\r\n\r\n    import org.springframework.web.servlet.ModelAndView; \r\n    \r\n    public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\r\n    \r\n     ModelAndView model=new ModelAndView();\r\n     model.addObject(&quot;ERROR_CODE&quot;, &quot;Error Occurred&quot;);\r\n     model.setViewName(&quot;page1&quot;);\r\n     \r\n     return model;\r\n    \r\n    }\r\n\r\nand your jsp page will be like following:\r\n\r\npage1.jsp\r\n\r\n \r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n        &lt;!DOCTYPE html&gt;\r\n        &lt;html&gt;\r\n        \r\n        &lt;body&gt;\r\n        &lt;c:if test=&quot;${!empty ERROR_CODE }&quot;&gt;\r\n       &lt;c:out value=&quot;${ERROR_CODE }&quot;&gt;&lt;/c:out&gt;\r\n        &lt;/c:if&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n","title":"How to manage error message in Spring MVC","body":"<p>You can achieve the scenario by going in following way:</p>\n\n<pre><code>import org.springframework.web.servlet.ModelAndView; \n\npublic ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\n\n ModelAndView model=new ModelAndView();\n model.addObject(\"ERROR_CODE\", \"Error Occurred\");\n model.setViewName(\"page1\");\n\n return model;\n\n}\n</code></pre>\n\n<p>and your jsp page will be like following:</p>\n\n<p>page1.jsp</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n\n    &lt;body&gt;\n    &lt;c:if test=\"${!empty ERROR_CODE }\"&gt;\n   &lt;c:out value=\"${ERROR_CODE }\"&gt;&lt;/c:out&gt;\n    &lt;/c:if&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1696964625,"creation_date":1389864353,"question_id":21157853,"body_markdown":"I am new to spring MVC .My abc page is have one submit button. On click of submit button, abcHandler called which is inside xyzController.\r\nJust wondering how to achieve this scenario.\r\n\r\n-- If some error occurs then it should return some message.&lt;br&gt;\r\n-- It should stay in the same page , for me its abc page.\r\n\r\nI have tried this.The problem I am facing is that , i am getting the alert message as &quot;You must have something...&quot;,\r\nbut it is navigating to error page means a blank page. This is not suppose to happen.I want to show the message and stay in the same page.\r\nHow can i achieve easily with spring MVC.\r\nPlease suggest some idea.\r\n\r\n\r\n    public class xyzController extends MultiActionController implements InitializingBean {\r\n\r\n    public ModelAndView abcHandler(HttpServletRequest request,HttpServletResponse response)throws Exception  {\r\n\t\t\r\n    // session\r\n    HttpSession session = request.getSession(true);\r\n\r\n    String abc = &quot;&quot;;\r\n    if(abc != &quot;&quot;){\r\n    \t\r\n    }else{\r\n    String error = &quot;You must have xyzzzzzz&quot;;\r\n    return new ModelAndView(&quot;2.0/error&quot;, &quot;downloaderror&quot;, error);\r\n    }\r\n\t\t\t\r\n    return new ModelAndView();\r\n    }\r\n    }\r\n\r\nMy error.jsp is like this\t\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script src=&quot;abc/js/jquery-1.9.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t&lt;c:if test=&quot;${not empty downloaderror}&quot;&gt;\r\n\t&lt;script&gt;\r\n\t\talert(&quot;You must have something...&quot;);\t\t\r\n\t&lt;/script&gt;\r\n\t&lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How to manage error message in Spring MVC","body":"<p>I am new to spring MVC .My abc page is have one submit button. On click of submit button, abcHandler called which is inside xyzController.\nJust wondering how to achieve this scenario.</p>\n\n<p>-- If some error occurs then it should return some message.<br>\n-- It should stay in the same page , for me its abc page.</p>\n\n<p>I have tried this.The problem I am facing is that , i am getting the alert message as \"You must have something...\",\nbut it is navigating to error page means a blank page. This is not suppose to happen.I want to show the message and stay in the same page.\nHow can i achieve easily with spring MVC.\nPlease suggest some idea.</p>\n\n<pre><code>public class xyzController extends MultiActionController implements InitializingBean {\n\npublic ModelAndView abcHandler(HttpServletRequest request,HttpServletResponse response)throws Exception  {\n\n// session\nHttpSession session = request.getSession(true);\n\nString abc = \"\";\nif(abc != \"\"){\n\n}else{\nString error = \"You must have xyzzzzzz\";\nreturn new ModelAndView(\"2.0/error\", \"downloaderror\", error);\n}\n\nreturn new ModelAndView();\n}\n}\n</code></pre>\n\n<p>My error.jsp is like this   </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"abc/js/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;c:if test=\"${not empty downloaderror}\"&gt;\n&lt;script&gt;\n    alert(\"You must have something...\");        \n&lt;/script&gt;\n&lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":16283593,"reputation":241,"user_id":11758880,"display_name":"Kfir Doron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629287982,"creation_date":1629189261,"answer_id":68814140,"question_id":68813546,"body_markdown":"It is not clear what is exactly the format which it needs to be sent as,  \r\nbut a  quick guess would be: ```DistributionChoices=[&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]```. \r\n\r\nSo, in order to parse the list to this format do the following:  \r\n```Java\r\nvar value = &quot;[\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\\\A&quot;)) + &quot;\\&quot;]&quot;;\r\nqueryParam.put(&quot;DistributionChoices&quot;, value)\r\n```\r\nThis is simply adding a comma between every word in this list, and wrapping these in brackets. (JSON format)","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>It is not clear what is exactly the format which it needs to be sent as,<br />\nbut a  quick guess would be: <code>DistributionChoices=[&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]</code>.</p>\n<p>So, in order to parse the list to this format do the following:</p>\n<pre><code>var value = &quot;[\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\\\A&quot;)) + &quot;\\&quot;]&quot;;\nqueryParam.put(&quot;DistributionChoices&quot;, value)\n</code></pre>\n<p>This is simply adding a comma between every word in this list, and wrapping these in brackets. (JSON format)</p>\n"},{"tags":[],"owner":{"account_id":273888,"reputation":163,"user_id":565785,"display_name":"fahran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696964588,"creation_date":1696939693,"answer_id":77265640,"question_id":68813546,"body_markdown":"To send a formParam with an array of values, the key must be suffixed by `[]`.\r\n\r\nSo for your example, this should work:\r\n\r\n```\r\nformParam(&quot;DistributionChoices[]&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n```\r\n\r\nGetting the request working in PostMan gave me the clue: https://stackoverflow.com/questions/12756688/is-it-possible-to-send-an-array-with-the-postman-chrome-extension \r\n\r\n","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>To send a formParam with an array of values, the key must be suffixed by <code>[]</code>.</p>\n<p>So for your example, this should work:</p>\n<pre><code>formParam(&quot;DistributionChoices[]&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>Getting the request working in PostMan gave me the clue: <a href=\"https://stackoverflow.com/questions/12756688/is-it-possible-to-send-an-array-with-the-postman-chrome-extension\">Is it possible to send an array with the Postman Chrome extension?</a></p>\n"}],"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696964588,"creation_date":1629186637,"question_id":68813546,"body_markdown":"I have a request which have multiple form parameters. One of the form parameters is in below format:\r\n\r\n    &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\r\n\r\nWhen I am doing post request with queryParams and passing:\r\n\r\n    queryParam.put(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n\r\nor\r\n\r\n    formParam(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n\r\nThen it is selecting only the first value, i.e. ABC.com\r\n\r\nThe field is a multichoice which accepts all values.\r\n\r\nHow can I pass all values in this parameter?\r\n\r\nNote: In Postman, it works fine if I pass it like this:\r\n\r\n     &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\r\n\r\n\r\nLanguage: Java\r\nFramework: RestAssured along with TestNG\r\n\r\nCode:\r\n\r\n    List&lt;String&gt; items = Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;);\r\n    \r\n    RestAssured.base = &quot;baseURI&quot;;\r\n    Map&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\r\n    queryParams.put(&quot;apiKey&quot;,&quot;apiKeyValue&quot;);\r\n    queryParams.put(&quot;name&quot;,&quot;nameValue&quot;);\r\n    queryParams.put(&quot;description&quot;,&quot;descriptionValue&quot;);\r\n    \r\n    queryParams.put(&quot;distrbutionChoice&quot;,items); // Here is the issue\r\n    \r\n    RestAssured.given().params(queryParams);\r\n    \r\n    Response response = request.when().post();\r\n\r\nOutput: This takes the first value from the item list.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>I have a request which have multiple form parameters. One of the form parameters is in below format:</p>\n<pre><code>&quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\n</code></pre>\n<p>When I am doing post request with queryParams and passing:</p>\n<pre><code>queryParam.put(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>formParam(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>Then it is selecting only the first value, i.e. ABC.com</p>\n<p>The field is a multichoice which accepts all values.</p>\n<p>How can I pass all values in this parameter?</p>\n<p>Note: In Postman, it works fine if I pass it like this:</p>\n<pre><code> &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\n</code></pre>\n<p>Language: Java\nFramework: RestAssured along with TestNG</p>\n<p>Code:</p>\n<pre><code>List&lt;String&gt; items = Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;);\n\nRestAssured.base = &quot;baseURI&quot;;\nMap&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\nqueryParams.put(&quot;apiKey&quot;,&quot;apiKeyValue&quot;);\nqueryParams.put(&quot;name&quot;,&quot;nameValue&quot;);\nqueryParams.put(&quot;description&quot;,&quot;descriptionValue&quot;);\n\nqueryParams.put(&quot;distrbutionChoice&quot;,items); // Here is the issue\n\nRestAssured.given().params(queryParams);\n\nResponse response = request.when().post();\n</code></pre>\n<p>Output: This takes the first value from the item list.</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":3638171,"reputation":78,"user_id":3033050,"display_name":"Solerman Kaplon"},"score":0,"creation_date":1696971870,"post_id":77268372,"comment_id":136220239,"body_markdown":"Seems similar to [this](https://stackoverflow.com/questions/71956289/how-to-make-micronaut-create-beans-from-a-custom-library)","body":"Seems similar to <a href=\"https://stackoverflow.com/questions/71956289/how-to-make-micronaut-create-beans-from-a-custom-library\">this</a>"},{"owner":{"account_id":4930800,"reputation":316,"user_id":3970651,"accept_rate":100,"display_name":"Rahul Khanna"},"score":0,"creation_date":1697006598,"post_id":77268372,"comment_id":136223497,"body_markdown":"@SolermanKaplon I am using maven so that plugin isn&#39;t available to download but otherwise from code perspective implemented the same way as mentioned","body":"@SolermanKaplon I am using maven so that plugin isn&#39;t available to download but otherwise from code perspective implemented the same way as mentioned"}],"owner":{"account_id":4930800,"reputation":316,"user_id":3970651,"accept_rate":100,"display_name":"Rahul Khanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696964433,"creation_date":1696964433,"question_id":77268372,"body_markdown":"I have a common modules that defines caffiene-cache for us like\r\n```\r\n@Factory\r\npublic class CaffeineCacheFactory {\r\n\r\n    @Value(&quot;${cache.max.size}&quot;)\r\n    private long maximumSize;\r\n\r\n    @Value(&quot;${cache.duration.hours}&quot;)\r\n    private long durationInHours;\r\n\r\n    @Bean\r\n    @Named(&quot;caffeine-cache&quot;)\r\n    public Cache&lt;String, Object&gt; entitlementCache() {\r\n        return Caffeine.newBuilder()\r\n                .maximumSize(maximumSize)\r\n                .expireAfterWrite(durationInHours, TimeUnit.HOURS)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nwe have built this common module as a jar and are using it in another project as dependency. The problem is in the main code this bean is not found and could not be intialized. I am not sure what I am missing here. \r\n\r\nI have micronaut-inject-java in annotation processor. The only difference is common module is built on 3.8.0 but main module is on micronaut 4.1.3\r\n\r\n```\r\n@Singleton\r\npublic class CacheService {\r\n    final Cache&lt;String, String&gt; cache;\r\n\r\n    public CacheService(Cache&lt;String, String&gt; cache) {\r\n        this.cache = cache;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAny help would be appreciated","title":"Bean Injection Issue from dependency jar for micronaut","body":"<p>I have a common modules that defines caffiene-cache for us like</p>\n<pre><code>@Factory\npublic class CaffeineCacheFactory {\n\n    @Value(&quot;${cache.max.size}&quot;)\n    private long maximumSize;\n\n    @Value(&quot;${cache.duration.hours}&quot;)\n    private long durationInHours;\n\n    @Bean\n    @Named(&quot;caffeine-cache&quot;)\n    public Cache&lt;String, Object&gt; entitlementCache() {\n        return Caffeine.newBuilder()\n                .maximumSize(maximumSize)\n                .expireAfterWrite(durationInHours, TimeUnit.HOURS)\n                .build();\n    }\n}\n</code></pre>\n<p>we have built this common module as a jar and are using it in another project as dependency. The problem is in the main code this bean is not found and could not be intialized. I am not sure what I am missing here.</p>\n<p>I have micronaut-inject-java in annotation processor. The only difference is common module is built on 3.8.0 but main module is on micronaut 4.1.3</p>\n<pre><code>@Singleton\npublic class CacheService {\n    final Cache&lt;String, String&gt; cache;\n\n    public CacheService(Cache&lt;String, String&gt; cache) {\n        this.cache = cache;\n    }\n\n}\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","gradle","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2512893,"reputation":6790,"user_id":2184930,"accept_rate":74,"display_name":"suman j"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1406892742,"creation_date":1406892742,"answer_id":25079306,"question_id":25079244,"body_markdown":"In gradle build script, define systemProperties for run task.\r\n\r\n    //to provide the properties while running the application using spring-boot&#39;s run task\r\n        run {\r\n            systemProperties[&#39;property name&#39;] = &#39;value&#39;\r\n        }\r\n\r\nand `gradle run` should accept this value.\r\n\r\nOr define a project level property as mentioned in \r\nhttp://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run","title":"How to pass JVM options from bootRun","body":"<p>In gradle build script, define systemProperties for run task.</p>\n\n<pre><code>//to provide the properties while running the application using spring-boot's run task\n    run {\n        systemProperties['property name'] = 'value'\n    }\n</code></pre>\n\n<p>and <code>gradle run</code> should accept this value.</p>\n\n<p>Or define a project level property as mentioned in \n<a href=\"http://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run\" rel=\"noreferrer\">http://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run</a></p>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":1,"up_vote_count":133,"is_accepted":true,"score":132,"last_activity_date":1459317887,"creation_date":1406893150,"answer_id":25079415,"question_id":25079244,"body_markdown":"**Original Answer (using Gradle 1.12 and Spring Boot 1.0.x):**\r\n\r\nThe `bootRun` task of the Spring Boot gradle plugin extends the gradle JavaExec task. See [this][1].\r\n\r\nThat means that you can configure the plugin to use the proxy by adding: \r\n\r\n    bootRun {\r\n       jvmArgs = &quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;\r\n    }\r\n\r\nto your build file.\r\n\r\nOf course you could use the `systemProperties` instead of `jvmArgs`\r\n\r\n\r\nIf you want to conditionally add jvmArgs from the command line you can do the following:\r\n\r\n    bootRun {\r\n        if ( project.hasProperty(&#39;jvmArgs&#39;) ) {\r\n            jvmArgs project.jvmArgs.split(&#39;\\\\s+&#39;)\r\n        }\r\n    }\r\n    \r\n    gradle bootRun -PjvmArgs=&quot;-Dwhatever1=value1 -Dwhatever2=value2&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java\r\n\r\n**Updated Answer:**\r\n\r\nAfter trying out my solution above using *Spring Boot 1.2.6.RELEASE* and *Gradle 2.7* I observed that it was not working as some of the comments mention.\r\nHowever, a few minor tweaks can be made to recover the working state.\r\n\r\nThe new code is:\r\n\r\n    bootRun {\r\n       jvmArgs = [&quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;]\r\n    }\r\n\r\nfor hard-coded arguments, and\r\n\r\n    bootRun {\r\n        if ( project.hasProperty(&#39;jvmArgs&#39;) ) {\r\n            jvmArgs = (project.jvmArgs.split(&quot;\\\\s+&quot;) as List)\r\n    \r\n        }\r\n    }\r\n\r\nfor arguments provided from the command line\r\n\r\n","title":"How to pass JVM options from bootRun","body":"<p><strong>Original Answer (using Gradle 1.12 and Spring Boot 1.0.x):</strong></p>\n\n<p>The <code>bootRun</code> task of the Spring Boot gradle plugin extends the gradle JavaExec task. See <a href=\"https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java\">this</a>.</p>\n\n<p>That means that you can configure the plugin to use the proxy by adding: </p>\n\n<pre><code>bootRun {\n   jvmArgs = \"-Dhttp.proxyHost=xxxxxx\", \"-Dhttp.proxyPort=xxxxxx\"\n}\n</code></pre>\n\n<p>to your build file.</p>\n\n<p>Of course you could use the <code>systemProperties</code> instead of <code>jvmArgs</code></p>\n\n<p>If you want to conditionally add jvmArgs from the command line you can do the following:</p>\n\n<pre><code>bootRun {\n    if ( project.hasProperty('jvmArgs') ) {\n        jvmArgs project.jvmArgs.split('\\\\s+')\n    }\n}\n\ngradle bootRun -PjvmArgs=\"-Dwhatever1=value1 -Dwhatever2=value2\"\n</code></pre>\n\n<p><strong>Updated Answer:</strong></p>\n\n<p>After trying out my solution above using <em>Spring Boot 1.2.6.RELEASE</em> and <em>Gradle 2.7</em> I observed that it was not working as some of the comments mention.\nHowever, a few minor tweaks can be made to recover the working state.</p>\n\n<p>The new code is:</p>\n\n<pre><code>bootRun {\n   jvmArgs = [\"-Dhttp.proxyHost=xxxxxx\", \"-Dhttp.proxyPort=xxxxxx\"]\n}\n</code></pre>\n\n<p>for hard-coded arguments, and</p>\n\n<pre><code>bootRun {\n    if ( project.hasProperty('jvmArgs') ) {\n        jvmArgs = (project.jvmArgs.split(\"\\\\s+\") as List)\n\n    }\n}\n</code></pre>\n\n<p>for arguments provided from the command line</p>\n"},{"tags":[],"owner":{"account_id":259954,"reputation":930,"user_id":543217,"display_name":"levsa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410465638,"creation_date":1410449239,"answer_id":25791430,"question_id":25079244,"body_markdown":"It seems to work:\r\n\r\n    bootRun {\r\n        systemProperties &quot;property1&quot;: &quot;value1&quot;, &quot;property2&quot;: &quot;value2&quot;\r\n    }\r\n","title":"How to pass JVM options from bootRun","body":"<p>It seems to work:</p>\n\n<pre><code>bootRun {\n    systemProperties \"property1\": \"value1\", \"property2\": \"value2\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335509,"reputation":1040,"user_id":662635,"display_name":"Marvin Frommhold"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1412167963,"creation_date":1412167963,"answer_id":26141841,"question_id":25079244,"body_markdown":"    bootRun {\r\n      // support passing -Dsystem.property=value to bootRun task\r\n      systemProperties = System.properties\r\n    }\r\n\r\nThis should pass all JVM options to the app started via `bootRun`.","title":"How to pass JVM options from bootRun","body":"<pre><code>bootRun {\n  // support passing -Dsystem.property=value to bootRun task\n  systemProperties = System.properties\n}\n</code></pre>\n\n<p>This should pass all JVM options to the app started via <code>bootRun</code>.</p>\n"},{"tags":[],"owner":{"account_id":2796711,"reputation":131,"user_id":2405817,"display_name":"Cristian Botiza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470410917,"creation_date":1470410917,"answer_id":38792860,"question_id":25079244,"body_markdown":"    bootRun {\r\n      args = [&#39;myProgramArgument1&#39;, &#39;myProgramArgument2&#39;]\r\n    }\r\n\r\nUsing jvmArgs may cause JVM start issues. Using args allows you to pass your custom program arguments","title":"How to pass JVM options from bootRun","body":"<pre><code>bootRun {\n  args = ['myProgramArgument1', 'myProgramArgument2']\n}\n</code></pre>\n\n<p>Using jvmArgs may cause JVM start issues. Using args allows you to pass your custom program arguments</p>\n"},{"tags":[],"owner":{"account_id":1774317,"reputation":51,"user_id":1618417,"display_name":"Rishik Dhar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480310046,"creation_date":1480310046,"answer_id":40837569,"question_id":25079244,"body_markdown":"@marvin, thanks for your post it was very helpful.\r\n\r\nSharing how I used it:\r\n\r\n    test {\r\n      // support passing -Dsystem.property=value to bootRun task\r\n      systemProperties = System.properties\r\n    }\r\n\r\nI have JUnit tests that I wanted to skip unless a property was used to include such tests. Using JUnit Assume for including the tests conditionally:\r\n\r\n    //first line of test\r\n    assumeThat(Boolean.parseBoolean(System.getProperty(&quot;deep.test.run&quot;,&quot;false&quot;),true)\r\n\r\nDoing this with gradle required that the system property provided at the time of running gradle build, shown here,\r\n\r\n    gradle build -Ddeep.test.run=true\r\n\r\nwas indeed passed through to the tests.\r\n\r\nHope this helps others trying out this approach for running tests conditionally.","title":"How to pass JVM options from bootRun","body":"<p>@marvin, thanks for your post it was very helpful.</p>\n\n<p>Sharing how I used it:</p>\n\n<pre><code>test {\n  // support passing -Dsystem.property=value to bootRun task\n  systemProperties = System.properties\n}\n</code></pre>\n\n<p>I have JUnit tests that I wanted to skip unless a property was used to include such tests. Using JUnit Assume for including the tests conditionally:</p>\n\n<pre><code>//first line of test\nassumeThat(Boolean.parseBoolean(System.getProperty(\"deep.test.run\",\"false\"),true)\n</code></pre>\n\n<p>Doing this with gradle required that the system property provided at the time of running gradle build, shown here,</p>\n\n<pre><code>gradle build -Ddeep.test.run=true\n</code></pre>\n\n<p>was indeed passed through to the tests.</p>\n\n<p>Hope this helps others trying out this approach for running tests conditionally.</p>\n"},{"tags":[],"owner":{"account_id":10810227,"reputation":185,"user_id":7951035,"display_name":"Evelino Bomitali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493799658,"creation_date":1493799658,"answer_id":43754809,"question_id":25079244,"body_markdown":"I got into a similar problem, bootRun needed some parameters but I wouldn&#39;t feel like modifying bootRun as I want to keep some flexibility and stick to standard bootRun behaviour. My suggestion is to add some custom tasks (let&#39;s say bootRunDev, bootRunProxy) that extends bootRun, as described in the following code snippet \r\n\r\n    task bootRunPxy(type: org.springframework.boot.gradle.run.BootRunTask, dependsOn: &#39;build&#39;) {\r\n        group = &#39;Application&#39;\r\n        doFirst() {\r\n            main = project.mainClassName\r\n            classpath = sourceSets.main.runtimeClasspath\r\n            systemProperty &#39;http.proxyHost&#39;, &#39;xxxxx&#39;\r\n            systemProperty &#39;http.proxyPort&#39;, &#39;yyyyy&#39;\r\n        }\r\n    }\r\n\r\nI don&#39;t have an environment to exercise the script but I used this approach to pass profile to spring using the property spring.profiles.active.\r\nCredits should go to [Karol Kaliński](https://karolkalinski.github.io/gradle-task-that-runs-spring-boot-aplication-with-profile-activated/)","title":"How to pass JVM options from bootRun","body":"<p>I got into a similar problem, bootRun needed some parameters but I wouldn't feel like modifying bootRun as I want to keep some flexibility and stick to standard bootRun behaviour. My suggestion is to add some custom tasks (let's say bootRunDev, bootRunProxy) that extends bootRun, as described in the following code snippet </p>\n\n<pre><code>task bootRunPxy(type: org.springframework.boot.gradle.run.BootRunTask, dependsOn: 'build') {\n    group = 'Application'\n    doFirst() {\n        main = project.mainClassName\n        classpath = sourceSets.main.runtimeClasspath\n        systemProperty 'http.proxyHost', 'xxxxx'\n        systemProperty 'http.proxyPort', 'yyyyy'\n    }\n}\n</code></pre>\n\n<p>I don't have an environment to exercise the script but I used this approach to pass profile to spring using the property spring.profiles.active.\nCredits should go to <a href=\"https://karolkalinski.github.io/gradle-task-that-runs-spring-boot-aplication-with-profile-activated/\" rel=\"nofollow noreferrer\">Karol Kaliński</a></p>\n"},{"tags":[],"owner":{"account_id":298675,"reputation":165,"user_id":604811,"display_name":"Kevin-Prichard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614031897,"creation_date":1614031897,"answer_id":66324190,"question_id":25079244,"body_markdown":"It&#39;s worth mentioning, here, that some systems that use Gradle and Spring Boot are starting JVM outside of `build.gradle`, e.g. in a Dockerfile.\r\n\r\nIt&#39;s not pointless to mention this on a thread specifically about `bootRun`! I wound up here because this particular post is a magnet for searches about jvm options in the context of a Spring Boot app compiled / run under gradle. (All the advice I found for adding java.net.http.httpclient logging said &quot;add it to `bootRun`&#39;s `jvmArgs`&quot;. Nothing happened, though.\r\n\r\nSo, if you happen to run your gradle-built Spring Boot app from a Docker container, you&#39;ll want to add your JVM params to an env var in your project&#39;s Dockerfile, like so, e.g.-\r\n\r\n    ...\r\n    ENV JAVA_OPTS &quot;${JAVA_OPTS} \\\r\n    -server \\\r\n    -Duser.timezone=UTC \\\r\n    -XX:InitialRAMPercentage=50 \\\r\n    -XX:MaxRAMPercentage=50 \\\r\n    -Djavax.net.ssl.trustStorePassword=elvislives \\\r\n    -Djavax.net.ssl.trustStoreProvider=BCFIPS \\\r\n    -Djavax.net.ssl.trustStoreType=BCFKS \\\r\n    -Djdk.internal.httpclient.debug=true \\\r\n    -Djava.util.logging.manager=org.apache.logging.log4j2.jul.LogManager \\\r\n    -Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all..],content,ssl,trace,channel \\\r\n    &quot;\r\n    ...\r\n    \r\n    ENTRYPOINT java ${JAVA_OPTS} -cp app:app/lib/* com.mygreatcompany.theapp\r\n\r\n","title":"How to pass JVM options from bootRun","body":"<p>It's worth mentioning, here, that some systems that use Gradle and Spring Boot are starting JVM outside of <code>build.gradle</code>, e.g. in a Dockerfile.</p>\n<p>It's not pointless to mention this on a thread specifically about <code>bootRun</code>! I wound up here because this particular post is a magnet for searches about jvm options in the context of a Spring Boot app compiled / run under gradle. (All the advice I found for adding java.net.http.httpclient logging said &quot;add it to <code>bootRun</code>'s <code>jvmArgs</code>&quot;. Nothing happened, though.</p>\n<p>So, if you happen to run your gradle-built Spring Boot app from a Docker container, you'll want to add your JVM params to an env var in your project's Dockerfile, like so, e.g.-</p>\n<pre><code>...\nENV JAVA_OPTS &quot;${JAVA_OPTS} \\\n-server \\\n-Duser.timezone=UTC \\\n-XX:InitialRAMPercentage=50 \\\n-XX:MaxRAMPercentage=50 \\\n-Djavax.net.ssl.trustStorePassword=elvislives \\\n-Djavax.net.ssl.trustStoreProvider=BCFIPS \\\n-Djavax.net.ssl.trustStoreType=BCFKS \\\n-Djdk.internal.httpclient.debug=true \\\n-Djava.util.logging.manager=org.apache.logging.log4j2.jul.LogManager \\\n-Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all..],content,ssl,trace,channel \\\n&quot;\n...\n\nENTRYPOINT java ${JAVA_OPTS} -cp app:app/lib/* com.mygreatcompany.theapp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649245918,"creation_date":1649245918,"answer_id":71766276,"question_id":25079244,"body_markdown":"For development as Docker Container add to run_script.sh as JAVA_OPTS\r\n\r\nJAVA_OPTS=&quot;-XX:+UseG1GC\r\n-Xms512m\r\n-Xmx2048m\r\n--add-opens java.base/java.util=ALL-UNNAMED -Dspring.profiles.active=$PROFILE,discovery&quot;","title":"How to pass JVM options from bootRun","body":"<p>For development as Docker Container add to run_script.sh as JAVA_OPTS</p>\n<p>JAVA_OPTS=&quot;-XX:+UseG1GC\n-Xms512m\n-Xmx2048m\n--add-opens java.base/java.util=ALL-UNNAMED -Dspring.profiles.active=$PROFILE,discovery&quot;</p>\n"},{"tags":[],"owner":{"account_id":20136122,"reputation":21,"user_id":16492777,"display_name":"Mektogon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696962809,"creation_date":1696962809,"answer_id":77268209,"question_id":25079244,"body_markdown":"You can pass arguments as follows:\r\n\r\n    gradlew bootRun -Pargs=-Dspring.profiles.active=DEV,--POSTGRES_DB_HOST=jdbc:postgresql://localhost:5432/postgres,--POSTGRES_USR=postgres,--POSTGRES_PWD=postgres\r\n\r\nIf you use build.gradle.kts:\r\n\r\n    tasks.bootRun {\r\n        if (project.hasProperty(&quot;args&quot;)) {\r\n            args(project.properties[&quot;args&quot;]?.toString()?.split(&quot;,&quot;))\r\n        }\r\n    }\r\n\r\nIf you use build.gradle:\r\n\r\n    bootRun {\r\n        if (project.hasProperty(&#39;args&#39;)) {\r\n            args project.args.split(&#39;,&#39;)\r\n        }\r\n    }","title":"How to pass JVM options from bootRun","body":"<p>You can pass arguments as follows:</p>\n<pre><code>gradlew bootRun -Pargs=-Dspring.profiles.active=DEV,--POSTGRES_DB_HOST=jdbc:postgresql://localhost:5432/postgres,--POSTGRES_USR=postgres,--POSTGRES_PWD=postgres\n</code></pre>\n<p>If you use build.gradle.kts:</p>\n<pre><code>tasks.bootRun {\n    if (project.hasProperty(&quot;args&quot;)) {\n        args(project.properties[&quot;args&quot;]?.toString()?.split(&quot;,&quot;))\n    }\n}\n</code></pre>\n<p>If you use build.gradle:</p>\n<pre><code>bootRun {\n    if (project.hasProperty('args')) {\n        args project.args.split(',')\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":206701,"reputation":1433,"user_id":456143,"accept_rate":78,"display_name":"Evgeny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99953,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":25079415,"answer_count":10,"score":121,"last_activity_date":1696962809,"creation_date":1406892449,"question_id":25079244,"body_markdown":"I&#39;m developing simple Spring web application that communicates with remote host and I would like to test it locally behind corporate proxy.\r\nI use &quot;Spring Boot&quot; gradle plugin and the question is **how can I specify proxy settings for JVM?**\r\n\r\nI have try several ways to do it:\r\n\r\n 1. `gradle -Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080 bootRun`\r\n 2. `export JAVA_OPTS=&quot;-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080&quot;`\r\n 3. `export GRADLE_OPTS=&quot;-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080&quot;`\r\n\r\nBut it seems like none of them work - &quot;NoRouteToHostException&quot; throws in &quot;network&quot; code.\r\nAlso, I have added some extra code to debug JVM start arguments:\r\n\r\n        RuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\r\n        List&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\r\n        for (String arg: arguments) System.out.println(arg);\r\n\r\nAnd only one argument was printed: &quot;-Dfile.encoding=UTF-8&quot;.\r\n\r\nIf I set system property in code:\r\n\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;X.X.X.X&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;);\r\n\r\nEverything works just fine! ","title":"How to pass JVM options from bootRun","body":"<p>I'm developing simple Spring web application that communicates with remote host and I would like to test it locally behind corporate proxy.\nI use \"Spring Boot\" gradle plugin and the question is <strong>how can I specify proxy settings for JVM?</strong></p>\n\n<p>I have try several ways to do it:</p>\n\n<ol>\n<li><code>gradle -Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080 bootRun</code></li>\n<li><code>export JAVA_OPTS=\"-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080\"</code></li>\n<li><code>export GRADLE_OPTS=\"-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080\"</code></li>\n</ol>\n\n<p>But it seems like none of them work - \"NoRouteToHostException\" throws in \"network\" code.\nAlso, I have added some extra code to debug JVM start arguments:</p>\n\n<pre><code>    RuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\n    List&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\n    for (String arg: arguments) System.out.println(arg);\n</code></pre>\n\n<p>And only one argument was printed: \"-Dfile.encoding=UTF-8\".</p>\n\n<p>If I set system property in code:</p>\n\n<pre><code>    System.setProperty(\"http.proxyHost\", \"X.X.X.X\");\n    System.setProperty(\"http.proxyPort\", \"8080\");\n</code></pre>\n\n<p>Everything works just fine! </p>\n"},{"tags":["java","android","service","broadcastreceiver","touch-event"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696958410,"post_id":77267697,"comment_id":136218194,"body_markdown":"Do you really mean &quot;all over the device&quot;, or just your own app? Because if it&#39;s the former, I don&#39;t expect that&#39;s possible.","body":"Do you really mean &quot;all over the device&quot;, or just your own app? Because if it&#39;s the former, I don&#39;t expect that&#39;s possible."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696962087,"creation_date":1696962087,"answer_id":77268150,"question_id":77267697,"body_markdown":"check out `AccessibilityService`, using it you can lock and unlock (control) touch on whole device (besides when locked). probably you can use it also for showing additional button &quot;above everything&quot;, if not you may interest in `SYSTEM_ALERT_WINDOW` permission which allows that","title":"Floating action button in Android on all the screens","body":"<p>check out <code>AccessibilityService</code>, using it you can lock and unlock (control) touch on whole device (besides when locked). probably you can use it also for showing additional button &quot;above everything&quot;, if not you may interest in <code>SYSTEM_ALERT_WINDOW</code> permission which allows that</p>\n"}],"owner":{"account_id":26187164,"reputation":1,"user_id":19869556,"display_name":"Apoorva A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696962087,"creation_date":1696956987,"question_id":77267697,"body_markdown":"I am a newbie is android , As a part of my project, I need to  create a floating action button  which is seen all screen all overs the device ,and on click of that button should disable the screen touch sensitivity of the screen and one more click on the FAB buttons will enable the screen touch sensitivity.\r\n\r\nCan anybody please help to achieve this.\r\n  \r\n\r\nIs there any library I can make use of ?\r\nComplete explanation to achieve this.","title":"Floating action button in Android on all the screens","body":"<p>I am a newbie is android , As a part of my project, I need to  create a floating action button  which is seen all screen all overs the device ,and on click of that button should disable the screen touch sensitivity of the screen and one more click on the FAB buttons will enable the screen touch sensitivity.</p>\n<p>Can anybody please help to achieve this.</p>\n<p>Is there any library I can make use of ?\nComplete explanation to achieve this.</p>\n"},{"tags":["java","mysql","debezium","mysqlbinlog"],"answers":[{"tags":[],"owner":{"account_id":1671576,"reputation":64,"user_id":1537953,"display_name":"Melknix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696960816,"creation_date":1696960816,"answer_id":77268034,"question_id":77235547,"body_markdown":"Upgrade to kafka 3.5.1, the version used in debezium 2.4.0.Final","title":"java.lang.NoSuchMethodError on upgrading to latest debezium ( void org.apache.kafka.connect.storage.KafkaOffsetBackingStore init )","body":"<p>Upgrade to kafka 3.5.1, the version used in debezium 2.4.0.Final</p>\n"}],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77268034,"answer_count":1,"score":0,"last_activity_date":1696960816,"creation_date":1696495569,"question_id":77235547,"body_markdown":"We have a simple spring boot 3.1 app that wraps debezium. We upgraded to the latest version 2.4.0.Final. Now getting this error at startup:\r\n\r\n    ERROR io.debezium.embedded.EmbeddedEngine - Unable to instantiate OffsetBackingStore class &#39;org.apache.kafka.connect.storage.KafkaOffsetBackingStore&#39;\r\n    java.lang.NoSuchMethodError: &#39;void org.apache.kafka.connect.storage.KafkaOffsetBackingStore.&lt;init&gt;(java.util.function.Supplier, java.util.function.Supplier, org.apache.kafka.connect.storage.Converter)&#39;\r\n            at io.debezium.embedded.KafkaConnectUtil.kafkaOffsetBackingStore(KafkaConnectUtil.java:75)\r\n            at io.debezium.embedded.EmbeddedEngine.initializeOffsetStore(EmbeddedEngine.java:826)\r\n            at io.debezium.embedded.EmbeddedEngine.run(EmbeddedEngine.java:714)\r\n            at io.debezium.embedded.ConvertingEngineBuilder$2.run(ConvertingEngineBuilder.java:229)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe dependencies show up like this:\r\n\r\n\r\n    +- io.debezium:debezium-embedded:jar:2.4.0.Final:compile\r\n    |  +- io.debezium:debezium-core:jar:2.4.0.Final:compile\r\n    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\r\n    |  +- org.apache.kafka:connect-api:jar:3.4.0:compile\r\n    |  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\r\n    |  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\r\n    |  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\r\n    |  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\r\n    |  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\r\n","title":"java.lang.NoSuchMethodError on upgrading to latest debezium ( void org.apache.kafka.connect.storage.KafkaOffsetBackingStore init )","body":"<p>We have a simple spring boot 3.1 app that wraps debezium. We upgraded to the latest version 2.4.0.Final. Now getting this error at startup:</p>\n<pre><code>ERROR io.debezium.embedded.EmbeddedEngine - Unable to instantiate OffsetBackingStore class 'org.apache.kafka.connect.storage.KafkaOffsetBackingStore'\njava.lang.NoSuchMethodError: 'void org.apache.kafka.connect.storage.KafkaOffsetBackingStore.&lt;init&gt;(java.util.function.Supplier, java.util.function.Supplier, org.apache.kafka.connect.storage.Converter)'\n        at io.debezium.embedded.KafkaConnectUtil.kafkaOffsetBackingStore(KafkaConnectUtil.java:75)\n        at io.debezium.embedded.EmbeddedEngine.initializeOffsetStore(EmbeddedEngine.java:826)\n        at io.debezium.embedded.EmbeddedEngine.run(EmbeddedEngine.java:714)\n        at io.debezium.embedded.ConvertingEngineBuilder$2.run(ConvertingEngineBuilder.java:229)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The dependencies show up like this:</p>\n<pre><code>+- io.debezium:debezium-embedded:jar:2.4.0.Final:compile\n|  +- io.debezium:debezium-core:jar:2.4.0.Final:compile\n|  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\n|  +- org.apache.kafka:connect-api:jar:3.4.0:compile\n|  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\n|  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\n|  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\n|  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\n|  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\n</code></pre>\n"},{"tags":["java","apache-kafka","jaas","sasl"],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1503060830,"creation_date":1503060830,"answer_id":45757197,"question_id":45756543,"body_markdown":"There are 2 ways to provide the JAAS configuration to the Kafka clients.\r\n\r\n- Via the client property: `sasl.jaas.config`. In that case you set it to the actual JAAS configuration entry. For example, your configuration file becomes:\r\n\r\n        bootstrap.servers=(address)\r\n        zookeeper.connect=127.0.0.1:2181\r\n        zookeeper.connection.timeout.ms=6000\r\n        sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;(username)&quot; password=&quot;(password)&quot;;\r\n        security.protocol=SASL_PLAINTEXT\r\n        sasl.mechanism=PLAIN\r\n        group.id=(group)\r\n\r\n As you&#39;ve already figured out, you can use `--command-config` to pass a properties file to `kafka-consumer-groups.sh`.\r\n\r\n- Via the Java property: `java.security.auth.login.config`. In this case, you set it to the path of your JAAS file. Also if you set it in `KAFKA_OPTS`, `kafka-consumer-groups.sh` will pick it up automatically.\r\n\r\n        export KAFKA_OPTS=&quot;-Djava.security.auth.login.config=(path)/consumer_jaas.conf&quot;","title":"Kafka &quot;Login module not specified in JAAS config&quot;","body":"<p>There are 2 ways to provide the JAAS configuration to the Kafka clients.</p>\n\n<ul>\n<li><p>Via the client property: <code>sasl.jaas.config</code>. In that case you set it to the actual JAAS configuration entry. For example, your configuration file becomes:</p>\n\n<pre><code>bootstrap.servers=(address)\nzookeeper.connect=127.0.0.1:2181\nzookeeper.connection.timeout.ms=6000\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"(username)\" password=\"(password)\";\nsecurity.protocol=SASL_PLAINTEXT\nsasl.mechanism=PLAIN\ngroup.id=(group)\n</code></pre>\n\n<p>As you've already figured out, you can use <code>--command-config</code> to pass a properties file to <code>kafka-consumer-groups.sh</code>.</p></li>\n<li><p>Via the Java property: <code>java.security.auth.login.config</code>. In this case, you set it to the path of your JAAS file. Also if you set it in <code>KAFKA_OPTS</code>, <code>kafka-consumer-groups.sh</code> will pick it up automatically.</p>\n\n<pre><code>export KAFKA_OPTS=\"-Djava.security.auth.login.config=(path)/consumer_jaas.conf\"\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":11579015,"reputation":668,"user_id":8483496,"accept_rate":60,"display_name":"Tomasz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98512,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45757197,"answer_count":1,"score":30,"last_activity_date":1696960805,"creation_date":1503058920,"question_id":45756543,"body_markdown":"I have a problem communicating with Kafka secured with `sasl` using console scripts. Kafka is secured with `sasl`, listener is `SASL_PLAINTEXT` and mechanism is `PLAIN`.\r\n\r\nWhat I did:\r\nI tried listing some data using one of kafka scripts:\r\n\r\n    bin/kafka-consumer-groups.sh --bootstrap-server (address) --list\r\n\r\nHowever I get \r\n\r\n    WARN Bootstrap broker (address) disconnected (org.apache.kafka.clients.NetworkClient)\r\n\r\n and command fails, which is understandable because it&#39;s secured with sasl.\r\n \r\nSo I tried how to add client username/password to that command.\r\nFirst, I tried to run `kafka-console-consumer` script, I used `--command-config` to add necessary file. I quickly discovered that I can&#39;t add `jaas` file directly and I needed to use `.properties` file, so I did.\r\n\r\nMy properties file(keep in mind that brackets indicate &quot;censored&quot; data, I can&#39;t put all real data here):\r\n\r\n    bootstrap.servers=(address)\r\n    zookeeper.connect=127.0.0.1:2181\r\n    zookeeper.connection.timeout.ms=6000\r\n    sasl.jaas.config=(path)/consumer_jaas.conf\r\n    security.protocol=SASL_PLAINTEXT\r\n    sasl.mechanism=PLAIN\r\n    group.id=(group)\r\n\r\nMy jaas file:\r\n\r\n    KafkaClient {\r\n\t    org.apache.kafka.common.security.plain.PlainLoginModule required\r\n        username=(username)\r\n        password=(password);\r\n    };\r\n\r\nThis `jaas` file works in my standard java applications.\r\n\r\nHowever, when I&#39;m trying to run either `kafka-consumer-groups` script or `kafka-console-consumer`, I get this error:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: java.lang.IllegalArgumentException: Login module not specified in JAAS config\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:94)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:93)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:51)\r\n\tat org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:84)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:229)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:223)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:221)\r\n\tat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.createAdminClient(ConsumerGroupCommand.scala:454)\r\n\tat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.&lt;init&gt;(ConsumerGroupCommand.scala:389)\r\n\tat kafka.admin.ConsumerGroupCommand$.main(ConsumerGroupCommand.scala:65)\r\n\tat kafka.admin.ConsumerGroupCommand.main(ConsumerGroupCommand.scala)\r\n\tCaused by: java.lang.IllegalArgumentException: Login module not specified in JAAS config\r\n\tat org.apache.kafka.common.security.JaasConfig.&lt;init&gt;(JaasConfig.java:68)\r\n\tat org.apache.kafka.common.security.JaasUtils.jaasConfig(JaasUtils.java:59)\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:85)\r\n\r\nThis `jaas` file is a direct copy of a file that I&#39;m using in java app that communicates with kafka and it works, however here, using console tools, it just doesn&#39;t work. I tried searching for a solution but I can&#39;t find anything useful. \r\n\r\nCan anyone help me with this?\r\n\r\n","title":"Kafka &quot;Login module not specified in JAAS config&quot;","body":"<p>I have a problem communicating with Kafka secured with <code>sasl</code> using console scripts. Kafka is secured with <code>sasl</code>, listener is <code>SASL_PLAINTEXT</code> and mechanism is <code>PLAIN</code>.</p>\n\n<p>What I did:\nI tried listing some data using one of kafka scripts:</p>\n\n<pre><code>bin/kafka-consumer-groups.sh --bootstrap-server (address) --list\n</code></pre>\n\n<p>However I get </p>\n\n<pre><code>WARN Bootstrap broker (address) disconnected (org.apache.kafka.clients.NetworkClient)\n</code></pre>\n\n<p>and command fails, which is understandable because it's secured with sasl.</p>\n\n<p>So I tried how to add client username/password to that command.\nFirst, I tried to run <code>kafka-console-consumer</code> script, I used <code>--command-config</code> to add necessary file. I quickly discovered that I can't add <code>jaas</code> file directly and I needed to use <code>.properties</code> file, so I did.</p>\n\n<p>My properties file(keep in mind that brackets indicate \"censored\" data, I can't put all real data here):</p>\n\n<pre><code>bootstrap.servers=(address)\nzookeeper.connect=127.0.0.1:2181\nzookeeper.connection.timeout.ms=6000\nsasl.jaas.config=(path)/consumer_jaas.conf\nsecurity.protocol=SASL_PLAINTEXT\nsasl.mechanism=PLAIN\ngroup.id=(group)\n</code></pre>\n\n<p>My jaas file:</p>\n\n<pre><code>KafkaClient {\n    org.apache.kafka.common.security.plain.PlainLoginModule required\n    username=(username)\n    password=(password);\n};\n</code></pre>\n\n<p>This <code>jaas</code> file works in my standard java applications.</p>\n\n<p>However, when I'm trying to run either <code>kafka-consumer-groups</code> script or <code>kafka-console-consumer</code>, I get this error:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.kafka.common.KafkaException: java.lang.IllegalArgumentException: Login module not specified in JAAS config\nat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:94)\nat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:93)\nat org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:51)\nat org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:84)\nat kafka.admin.AdminClient$.create(AdminClient.scala:229)\nat kafka.admin.AdminClient$.create(AdminClient.scala:223)\nat kafka.admin.AdminClient$.create(AdminClient.scala:221)\nat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.createAdminClient(ConsumerGroupCommand.scala:454)\nat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.&lt;init&gt;(ConsumerGroupCommand.scala:389)\nat kafka.admin.ConsumerGroupCommand$.main(ConsumerGroupCommand.scala:65)\nat kafka.admin.ConsumerGroupCommand.main(ConsumerGroupCommand.scala)\nCaused by: java.lang.IllegalArgumentException: Login module not specified in JAAS config\nat org.apache.kafka.common.security.JaasConfig.&lt;init&gt;(JaasConfig.java:68)\nat org.apache.kafka.common.security.JaasUtils.jaasConfig(JaasUtils.java:59)\nat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:85)\n</code></pre>\n\n<p>This <code>jaas</code> file is a direct copy of a file that I'm using in java app that communicates with kafka and it works, however here, using console tools, it just doesn't work. I tried searching for a solution but I can't find anything useful. </p>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","spring","datetime","validation","entity"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696981277,"post_id":77267987,"comment_id":136221290,"body_markdown":"By the way, be aware that `LocalDateTime` is ambiguous, having no concept of time zone or offset-from-UTC. The JVM’s current default time zone is used by the `now` method to determine a date &amp; time-of-day. That time, and even that date, may vary depending on the current default time zone. For any given moment, the date varies around the globe by time zone, &quot;tomorrow&quot; in Tokyo while simultaneously &quot;yesterday&quot; in Toledo Ohio. I suspect your case really needs an `Instant` or `ZonedDateTime` instead of `LocalDateTime`.","body":"By the way, be aware that <code>LocalDateTime</code> is ambiguous, having no concept of time zone or offset-from-UTC. The JVM’s current default time zone is used by the <code>now</code> method to determine a date &amp; time-of-day. That time, and even that date, may vary depending on the current default time zone. For any given moment, the date varies around the globe by time zone, &quot;tomorrow&quot; in Tokyo while simultaneously &quot;yesterday&quot; in Toledo Ohio. I suspect your case really needs an <code>Instant</code> or <code>ZonedDateTime</code> instead of <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696960617,"creation_date":1696960617,"answer_id":77268013,"question_id":77267987,"body_markdown":"Separate out your Entity and Validator classes:\r\n\r\n```\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    private long id;\r\n\r\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\r\n    private LocalDateTime start;\r\n\r\n    public Message() {}\r\n}\r\n\r\npublic class MessageValidator implements Validator {\r\n    @Autowired private Clock clock;\r\n\r\n    @Override\r\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\r\n        return Message.class.equals(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        Message m = (Message) target;\r\n\r\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\r\n        {\r\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow you can Autowire any dependency you want.","title":"Supplying Java Clock to Entity Class for Spring Validation","body":"<p>Separate out your Entity and Validator classes:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class Message {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\n    private LocalDateTime start;\n\n    public Message() {}\n}\n\npublic class MessageValidator implements Validator {\n    @Autowired private Clock clock;\n\n    @Override\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\n        return Message.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        Message m = (Message) target;\n\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\n        {\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Now you can Autowire any dependency you want.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77268013,"answer_count":1,"score":1,"last_activity_date":1696960617,"creation_date":1696960279,"question_id":77267987,"body_markdown":"I&#39;m working on a spring-boot application. I have an Entity class called Message that I want to validate using Spring validation. One of the fields I need to validate is a LocalDateTime that must not be more than 6 days before the current date. My entity class looks like this:\r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Message implements Validator {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    \tprivate long id;\r\n    \r\n    \t@Column(name = &quot;start&quot;, length = 20, nullable = true)\r\n    \tprivate LocalDateTime start;\r\n    \r\n        public Message() {}\r\n    \r\n        @Override\r\n    \tpublic boolean supports(@NotNull Class&lt;?&gt; clazz) {\r\n    \t\treturn Message.class.equals(clazz);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void validate(Object target, Errors errors) {\r\n    \t\tMessage m = (Message) target;\r\n    \r\n    \t\tif(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\r\n    \t\t{\r\n    \t\t\terrors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe problem I&#39;m running into is that I want to be able to supply a Clock to the validation so that I can use a fixed datetime for testing. I can&#39;t simply use a constructor; the Message could be coming from a database lookup. I would prefer to use dependency injection, but I&#39;m not sure how that would work with an Entity class. Is there some way to do this that I&#39;m just not seeing?","title":"Supplying Java Clock to Entity Class for Spring Validation","body":"<p>I'm working on a spring-boot application. I have an Entity class called Message that I want to validate using Spring validation. One of the fields I need to validate is a LocalDateTime that must not be more than 6 days before the current date. My entity class looks like this:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class Message implements Validator {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\n    private LocalDateTime start;\n\n    public Message() {}\n\n    @Override\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\n        return Message.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        Message m = (Message) target;\n\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\n        {\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The problem I'm running into is that I want to be able to supply a Clock to the validation so that I can use a fixed datetime for testing. I can't simply use a constructor; the Message could be coming from a database lookup. I would prefer to use dependency injection, but I'm not sure how that would work with an Entity class. Is there some way to do this that I'm just not seeing?</p>\n"},{"tags":["java","mongodb","pojo","bson"],"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1667983655,"post_id":71777864,"comment_id":131295397,"body_markdown":"Where do you get the codecRegistry from in the test code?","body":"Where do you get the codecRegistry from in the test code?"},{"owner":{"account_id":24771171,"reputation":21,"user_id":18654866,"display_name":"Sebastian Wollner"},"score":0,"creation_date":1668153806,"post_id":71777864,"comment_id":131341149,"body_markdown":"The CodecRegistry is the one you create yourself when you define your pojo for your database. e.g.:\n CodecProvider pojoCodecProvider = PojoCodecProvider.builder()\n.automatic(true)\n.build();\n CodecRegistries.fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                 CodecRegistries.fromProviders(pojoCodecProvider));","body":"The CodecRegistry is the one you create yourself when you define your pojo for your database. e.g.:  CodecProvider pojoCodecProvider = PojoCodecProvider.builder() .automatic(true) .build();  CodecRegistries.fromRegistries(                 MongoClientSettings.getDefaultCodecRegistry(),                  CodecRegistries.fromProviders(pojoCodecProvider));"}],"answers":[{"tags":[],"owner":{"account_id":9807707,"reputation":760,"user_id":7266903,"display_name":"Ponaguynik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696960060,"creation_date":1696960060,"answer_id":77267959,"question_id":71777864,"body_markdown":"If you use Spring Data MongoDB you can inject `MongoConverter` and use `convertToMongoType`.","title":"How to convert a POJO to an BSON using MongoDB Java Driver","body":"<p>If you use Spring Data MongoDB you can inject <code>MongoConverter</code> and use <code>convertToMongoType</code>.</p>\n"}],"owner":{"account_id":24771171,"reputation":21,"user_id":18654866,"display_name":"Sebastian Wollner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696960060,"creation_date":1649315901,"question_id":71777864,"body_markdown":"I&#39;ve searched for a way to to convert a POJO into a BSON document. Unfortunately, the only answer you can find on the web is that MongoDB does this implicitly through the `db.getCollection(&quot;some collection&quot;, Pojo.class)` function. But there are some use cases where you want to convert a POJO into a BSON document.\r\n\r\nOne could be that you want to update a nested document in your MongoDB root document.\r\nHowever, this isn&#39;t possible with the provided methods of the MongoDB Java Driver. The only way to do this is to write all the values manually in to a update expression.\r\n```\r\ndb.getCollection(&quot;some collection&quot;, Pojo.class)\r\n  .updateOne(Filter.eq(id), Updates.set(&quot;myNestedDoc&quot;, new Document(&quot;some&quot;, &quot;value&quot;));\r\n```\r\nBut it would be nice to do the same with a POJO. The advantages are obvious! Less duplicated code, better maintainable and less error prune.\r\n\r\nBut how can we accomplish this?\r\nAs described above, no answer can be found on the web. So I&#39;ve searched the MongoDB Java Driver source code and found a way!\r\nThe BsonDocumentWrapper is a utility class to wrap a object as a BsonDocument. It uses the CodecRegistry which does the conversion internally.  \r\n```\r\ndb.getCollection(&quot;some collection&quot;, Pojo.class)\r\n  .updateOne(Filter.eq(id), \r\n             Updates.set(&quot;myNestedDoc&quot;,\r\n                         BsonDocumentWrapper.asBsonDocument(lom, codecRegistry)));\r\n)\r\n```\r\nYou could also use the CodecRegistry object directly.   \r\n```\r\nPojo myPojo...\r\nBsonDocument unwrapped = new BsonDocument();\r\nBsonWriter writer = new BsonDocumentWriter(unwrapped);\r\nEncoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);\r\nencoder.encode(writer, myPojo, EncoderContext.builder().build());\r\nthis.unwrapped = unwrapped;\r\n```\r\nBut the utility class is more readable and maintainable.\r\n\r\nThis way you can safely use your existing POJOs to update your nested structures. \r\nKeep in mind that you will replace the whole sub object, not only the fields that have been changed! \r\n\r\nIf you for some reason need to convert a BSON into a POJO you can use this sniped:\r\n```\r\nBsonDocument bson...\r\nBsonReader reader = new BsonDocumentReader(bson);\r\nDecoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);        \r\nPojo myPojo = encoder.decode(reader, DecoderContext.builder().build());\r\n```\r\n\r\nI hope this is useful to someone ;)","title":"How to convert a POJO to an BSON using MongoDB Java Driver","body":"<p>I've searched for a way to to convert a POJO into a BSON document. Unfortunately, the only answer you can find on the web is that MongoDB does this implicitly through the <code>db.getCollection(&quot;some collection&quot;, Pojo.class)</code> function. But there are some use cases where you want to convert a POJO into a BSON document.</p>\n<p>One could be that you want to update a nested document in your MongoDB root document.\nHowever, this isn't possible with the provided methods of the MongoDB Java Driver. The only way to do this is to write all the values manually in to a update expression.</p>\n<pre><code>db.getCollection(&quot;some collection&quot;, Pojo.class)\n  .updateOne(Filter.eq(id), Updates.set(&quot;myNestedDoc&quot;, new Document(&quot;some&quot;, &quot;value&quot;));\n</code></pre>\n<p>But it would be nice to do the same with a POJO. The advantages are obvious! Less duplicated code, better maintainable and less error prune.</p>\n<p>But how can we accomplish this?\nAs described above, no answer can be found on the web. So I've searched the MongoDB Java Driver source code and found a way!\nThe BsonDocumentWrapper is a utility class to wrap a object as a BsonDocument. It uses the CodecRegistry which does the conversion internally.</p>\n<pre><code>db.getCollection(&quot;some collection&quot;, Pojo.class)\n  .updateOne(Filter.eq(id), \n             Updates.set(&quot;myNestedDoc&quot;,\n                         BsonDocumentWrapper.asBsonDocument(lom, codecRegistry)));\n)\n</code></pre>\n<p>You could also use the CodecRegistry object directly.</p>\n<pre><code>Pojo myPojo...\nBsonDocument unwrapped = new BsonDocument();\nBsonWriter writer = new BsonDocumentWriter(unwrapped);\nEncoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);\nencoder.encode(writer, myPojo, EncoderContext.builder().build());\nthis.unwrapped = unwrapped;\n</code></pre>\n<p>But the utility class is more readable and maintainable.</p>\n<p>This way you can safely use your existing POJOs to update your nested structures.\nKeep in mind that you will replace the whole sub object, not only the fields that have been changed!</p>\n<p>If you for some reason need to convert a BSON into a POJO you can use this sniped:</p>\n<pre><code>BsonDocument bson...\nBsonReader reader = new BsonDocumentReader(bson);\nDecoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);        \nPojo myPojo = encoder.decode(reader, DecoderContext.builder().build());\n</code></pre>\n<p>I hope this is useful to someone ;)</p>\n"},{"tags":["java","spring","spring-restcontroller","objectmapper","mockmvc"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696902993,"post_id":77262050,"comment_id":136209213,"body_markdown":"There are hundreds of reasons why this would not be working as you expect it to, but you&#39;re going to need to include a lot more code, at least the controller, service, repository, and model with all applied annotations","body":"There are hundreds of reasons why this would not be working as you expect it to, but you&#39;re going to need to include a lot more code, at least the controller, service, repository, and model with all applied annotations"},{"owner":{"account_id":28633818,"reputation":13,"user_id":21924304,"display_name":"reizorwins"},"score":0,"creation_date":1696959906,"post_id":77262050,"comment_id":136218439,"body_markdown":"@lane.maxwell I added a link to github in the description, due to my mistake the link didn&#39;t work before.","body":"@lane.maxwell I added a link to github in the description, due to my mistake the link didn&#39;t work before."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1697141247,"post_id":77262050,"comment_id":136246082,"body_markdown":"I ran your tests and got the desired behavior by simply adding @NoArgsConstructor to both of your DTOs (BookTitleDto and BookCopyDto). It looked like you extracted that behavior into your setup method, and your `testCreateBookCopy` is now just doing a GET.  But, by adding those annotations, all is working","body":"I ran your tests and got the desired behavior by simply adding @NoArgsConstructor to both of your DTOs (BookTitleDto and BookCopyDto). It looked like you extracted that behavior into your setup method, and your <code>testCreateBookCopy</code> is now just doing a GET.  But, by adding those annotations, all is working"}],"owner":{"account_id":28633818,"reputation":13,"user_id":21924304,"display_name":"reizorwins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696959804,"creation_date":1696889765,"question_id":77262050,"body_markdown":"Description:\r\n\r\nhttps://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java\r\n\r\nI&#39;m facing an issue with relationship mapping in Spring Boot controllers. I have a project structured as follows:\r\n\r\n```\r\nproject-root\r\n|-- main\r\n|   |-- java\r\n|   |   |-- com.kodilla.library\r\n|   |       |-- controller\r\n|   |       |-- domain\r\n|   |       |-- dto\r\n|   |       |-- error\r\n|   |       |-- mapper\r\n|   |       |-- repository\r\n|   |       |-- service\r\n|-- test\r\n|   |-- java\r\n|   |   |-- com.kodilla.library\r\n|   |       |-- controller\r\n|   |       |-- repository\r\n```\r\n\r\nIn this project, I&#39;m testing the controllers in the com.kodilla.library.controller package. My issue lies in the relationship mapping between entities, specifically, BookCopy and BookTitle. When I create objects using controllers, the relationship is not being established correctly, resulting in the TITLE_ID being null in bookCopy instances.\r\n\r\nHere&#39;s a simplified example of the problem:\r\n\r\nBookCopyControllerTestSuite.java:\r\n\r\n\r\n```\r\n@Test\r\nvoid testCreateBookCopy() throws Exception {\r\n    // Creating a BookTitle\r\n    mockMvc.perform(post(&quot;/api/booktitles&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(bookTitleDto)))\r\n            .andExpect(status().isOk());\r\n\r\n    // Creating a BookCopy\r\n    mockMvc.perform(post(&quot;/api/bookcopies&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(bookCopyDto)))\r\n            .andExpect(status().isOk());\r\n\r\n    // The problem: bookCopyDto.getTitleId() is null in the controller\r\n    // but should be populated based on the relationship with bookTitleDto.\r\n}\r\n```\r\n\r\nIn the above test, bookCopyDto.getTitleId() should be populated based on the relationship with bookTitleDto. However, it remains null. The thing is that the service layer correctly handles this relationship, but it breaks in the controllers.\r\n\r\n\r\nQuestion:\r\n\r\nHow can I ensure that the relationship mapping works correctly in the Spring Boot controllers?\r\nIs there a specific configuration or method that I should be using to set the TITLE_ID correctly when creating bookCopy objects via the controller?\r\nAdditional Note: I have also tested the repository layer, and the relationship mapping works correctly there. The issue appears to be specific to the controller implementations.\r\n\r\nAny help or guidance on this issue would be greatly appreciated. Thank you!","title":"Issue with Relationship Mapping in Spring Boot Controller","body":"<p>Description:</p>\n<p><a href=\"https://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java\" rel=\"nofollow noreferrer\">https://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java</a></p>\n<p>I'm facing an issue with relationship mapping in Spring Boot controllers. I have a project structured as follows:</p>\n<pre><code>project-root\n|-- main\n|   |-- java\n|   |   |-- com.kodilla.library\n|   |       |-- controller\n|   |       |-- domain\n|   |       |-- dto\n|   |       |-- error\n|   |       |-- mapper\n|   |       |-- repository\n|   |       |-- service\n|-- test\n|   |-- java\n|   |   |-- com.kodilla.library\n|   |       |-- controller\n|   |       |-- repository\n</code></pre>\n<p>In this project, I'm testing the controllers in the com.kodilla.library.controller package. My issue lies in the relationship mapping between entities, specifically, BookCopy and BookTitle. When I create objects using controllers, the relationship is not being established correctly, resulting in the TITLE_ID being null in bookCopy instances.</p>\n<p>Here's a simplified example of the problem:</p>\n<p>BookCopyControllerTestSuite.java:</p>\n<pre><code>@Test\nvoid testCreateBookCopy() throws Exception {\n    // Creating a BookTitle\n    mockMvc.perform(post(&quot;/api/booktitles&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(bookTitleDto)))\n            .andExpect(status().isOk());\n\n    // Creating a BookCopy\n    mockMvc.perform(post(&quot;/api/bookcopies&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(bookCopyDto)))\n            .andExpect(status().isOk());\n\n    // The problem: bookCopyDto.getTitleId() is null in the controller\n    // but should be populated based on the relationship with bookTitleDto.\n}\n</code></pre>\n<p>In the above test, bookCopyDto.getTitleId() should be populated based on the relationship with bookTitleDto. However, it remains null. The thing is that the service layer correctly handles this relationship, but it breaks in the controllers.</p>\n<p>Question:</p>\n<p>How can I ensure that the relationship mapping works correctly in the Spring Boot controllers?\nIs there a specific configuration or method that I should be using to set the TITLE_ID correctly when creating bookCopy objects via the controller?\nAdditional Note: I have also tested the repository layer, and the relationship mapping works correctly there. The issue appears to be specific to the controller implementations.</p>\n<p>Any help or guidance on this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":19887841,"reputation":13,"user_id":14570507,"display_name":"Bence Katona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696958655,"creation_date":1696958655,"question_id":77267828,"body_markdown":"Im working on an app which lets the user plan a menu (this is a school project), and I ran into the problem that when i plan the menu, and the duration is 7 or longer it connects the first and seventh, second and eight etc forms with eachother and if i fill in one of them it automatically fills the other. I tried many things, but nothing seems to be working.\r\n\r\nThis is the Activity, which handles the populating of the RecyclerView:\r\n\r\n```\r\npublic class NewMenuActivity extends AppCompatActivity {\r\n\r\n    String usrname;\r\n    String name;\r\n    Date startDate;\r\n    int duration;\r\n    private final List&lt;MenuClass&gt; formDataList = new ArrayList&lt;&gt;();\r\n    private MenuAdapter adapter;\r\n    private List&lt;Calendar&gt; formDates;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_menu);\r\n        Intent intent = getIntent();\r\n\r\n        usrname = intent.getStringExtra(&quot;username&quot;);\r\n        name = intent.getStringExtra(&quot;name&quot;);\r\n        startDate = (Date) getIntent().getSerializableExtra(&quot;startDate&quot;);\r\n        duration = intent.getIntExtra(&quot;duration&quot;, 0);\r\n\r\n        formDates = calculateDates();\r\n        setupFormDataList();\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        adapter = new MenuAdapter(formDataList, formDates);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        Button submitButton = findViewById(R.id.submitButton);\r\n\r\n\r\n        submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Upload data to Firebase\r\n                uploadDataToFirebase();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void uploadDataToFirebase() {\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference reference = database.getReference(&quot;Menus&quot;).child(usrname);\r\n\r\n        for (int index = 0; index &lt; formDataList.size(); index++) {\r\n            MenuClass formData = formDataList.get(index);\r\n            Calendar formDate = formDates.get(index); // Get the corresponding date\r\n\r\n            // Format the date to a string (you can choose your desired date format)\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String dateString = dateFormat.format(formDate.getTime());\r\n\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Index: &quot; + index);\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Date: &quot; + dateString);\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;formData: &quot; + formData.toString());\r\n\r\n            // Create a child node with the date as the key\r\n            DatabaseReference childReference = reference.child(name).child(dateString);\r\n            childReference.setValue(formData).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        // Data uploaded successfully\r\n                        Log.d(&quot;Firebase_Upload&quot;, &quot;Data uploaded successfully&quot;);\r\n                    } else {\r\n                        // Handle the error\r\n                        Log.e(&quot;Firebase_Upload&quot;, &quot;Error: &quot; + task.getException().getMessage());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    private List&lt;Calendar&gt; calculateDates() {\r\n        Calendar initDate = Calendar.getInstance();\r\n        initDate.setTime(startDate);\r\n\r\n        List&lt;Calendar&gt; formDates = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; duration; i++) {\r\n            Calendar formDate = (Calendar) initDate.clone();\r\n            formDate.add(Calendar.DAY_OF_MONTH, i);\r\n            formDates.add(formDate);\r\n\r\n            // Log the calculated date for debugging\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            Log.d(&quot;CalculateDates&quot;, &quot;Date &quot; + i + &quot;: &quot; + dateFormat.format(formDate.getTime()));\r\n        }\r\n\r\n        return formDates;\r\n    }\r\n\r\n    private void setupFormDataList() {\r\n        formDataList.clear(); // Clear any existing forms\r\n        for (int i = 0; i &lt; duration; i++) {\r\n            MenuClass menu = new MenuClass();\r\n            formDataList.add(menu);\r\n            Log.d(&quot;FormDataList&quot;, &quot;Adding data: &quot; + menu.toString());\r\n        }\r\n        Log.d(&quot;NewMenuActivity&quot;, &quot;formDataList size: &quot; + formDataList.size());\r\n    }\r\n\r\n\r\n//    for (MenuClass mc : ){\r\n\r\n//    }\r\n}\r\n```\r\n\r\nAnd this is the code of the Adapter, which handles the editing of the said forms:\r\n\r\n```\r\npublic class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.ViewHolder&gt; {\r\n    private final List&lt;MenuClass&gt; data;\r\n    private List&lt;Calendar&gt; formDates;\r\n\r\n    public MenuAdapter(List&lt;MenuClass&gt; data, List&lt;Calendar&gt; formDates) {\r\n        this.data = data;\r\n        this.formDates = formDates;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.menu_layout, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        MenuClass formData = data.get(position);\r\n        Log.d(&quot;DataObjectHash&quot;, &quot;Data object hash code: &quot; + System.identityHashCode(formData));\r\n\r\n        // Attach TextWatchers to capture user input and update formData\r\n        holder.etName.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setName(s.toString());\r\n\r\n\r\n                Log.d(&quot;UserInput&quot;, &quot;User input: &quot; + s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n\r\n        holder.etSpecial.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setSpecial(s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n\r\n        holder.etIngredients.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setIngredients(s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n        Calendar dateCalendar = formDates.get(position);\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy.MM.dd&quot;);\r\n        String formattedDate = dateFormat.format(dateCalendar.getTime());\r\n        holder.dateTextView.setText(formattedDate);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        EditText etName, etSpecial, etIngredients;\r\n        TextView dateTextView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            etName = itemView.findViewById(R.id.etName);\r\n            etSpecial = itemView.findViewById(R.id.etSpecial);\r\n            etIngredients = itemView.findViewById(R.id.etIngredients);\r\n            dateTextView = itemView.findViewById(R.id.dateTextView);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried using ListView, with the same error, and tried logging stuff, or modifying the code, but nothing seems to help.\r\n\r\nThis picture shows little, but first i filled out 2023.11.11 but 11.18 got filled with the same data: \r\n[![the problem][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7uiyz.png","title":"Java Forms connecting with eacother in RecyclerView","body":"<p>Im working on an app which lets the user plan a menu (this is a school project), and I ran into the problem that when i plan the menu, and the duration is 7 or longer it connects the first and seventh, second and eight etc forms with eachother and if i fill in one of them it automatically fills the other. I tried many things, but nothing seems to be working.</p>\n<p>This is the Activity, which handles the populating of the RecyclerView:</p>\n<pre><code>public class NewMenuActivity extends AppCompatActivity {\n\n    String usrname;\n    String name;\n    Date startDate;\n    int duration;\n    private final List&lt;MenuClass&gt; formDataList = new ArrayList&lt;&gt;();\n    private MenuAdapter adapter;\n    private List&lt;Calendar&gt; formDates;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_menu);\n        Intent intent = getIntent();\n\n        usrname = intent.getStringExtra(&quot;username&quot;);\n        name = intent.getStringExtra(&quot;name&quot;);\n        startDate = (Date) getIntent().getSerializableExtra(&quot;startDate&quot;);\n        duration = intent.getIntExtra(&quot;duration&quot;, 0);\n\n        formDates = calculateDates();\n        setupFormDataList();\n\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        adapter = new MenuAdapter(formDataList, formDates);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n        Button submitButton = findViewById(R.id.submitButton);\n\n\n        submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Upload data to Firebase\n                uploadDataToFirebase();\n            }\n        });\n    }\n\n    private void uploadDataToFirebase() {\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference reference = database.getReference(&quot;Menus&quot;).child(usrname);\n\n        for (int index = 0; index &lt; formDataList.size(); index++) {\n            MenuClass formData = formDataList.get(index);\n            Calendar formDate = formDates.get(index); // Get the corresponding date\n\n            // Format the date to a string (you can choose your desired date format)\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String dateString = dateFormat.format(formDate.getTime());\n\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Index: &quot; + index);\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Date: &quot; + dateString);\n            Log.d(&quot;Firebase_Upload&quot;, &quot;formData: &quot; + formData.toString());\n\n            // Create a child node with the date as the key\n            DatabaseReference childReference = reference.child(name).child(dateString);\n            childReference.setValue(formData).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if (task.isSuccessful()) {\n                        // Data uploaded successfully\n                        Log.d(&quot;Firebase_Upload&quot;, &quot;Data uploaded successfully&quot;);\n                    } else {\n                        // Handle the error\n                        Log.e(&quot;Firebase_Upload&quot;, &quot;Error: &quot; + task.getException().getMessage());\n                    }\n                }\n            });\n        }\n    }\n\n\n    private List&lt;Calendar&gt; calculateDates() {\n        Calendar initDate = Calendar.getInstance();\n        initDate.setTime(startDate);\n\n        List&lt;Calendar&gt; formDates = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; duration; i++) {\n            Calendar formDate = (Calendar) initDate.clone();\n            formDate.add(Calendar.DAY_OF_MONTH, i);\n            formDates.add(formDate);\n\n            // Log the calculated date for debugging\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            Log.d(&quot;CalculateDates&quot;, &quot;Date &quot; + i + &quot;: &quot; + dateFormat.format(formDate.getTime()));\n        }\n\n        return formDates;\n    }\n\n    private void setupFormDataList() {\n        formDataList.clear(); // Clear any existing forms\n        for (int i = 0; i &lt; duration; i++) {\n            MenuClass menu = new MenuClass();\n            formDataList.add(menu);\n            Log.d(&quot;FormDataList&quot;, &quot;Adding data: &quot; + menu.toString());\n        }\n        Log.d(&quot;NewMenuActivity&quot;, &quot;formDataList size: &quot; + formDataList.size());\n    }\n\n\n//    for (MenuClass mc : ){\n\n//    }\n}\n</code></pre>\n<p>And this is the code of the Adapter, which handles the editing of the said forms:</p>\n<pre><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.ViewHolder&gt; {\n    private final List&lt;MenuClass&gt; data;\n    private List&lt;Calendar&gt; formDates;\n\n    public MenuAdapter(List&lt;MenuClass&gt; data, List&lt;Calendar&gt; formDates) {\n        this.data = data;\n        this.formDates = formDates;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.menu_layout, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        MenuClass formData = data.get(position);\n        Log.d(&quot;DataObjectHash&quot;, &quot;Data object hash code: &quot; + System.identityHashCode(formData));\n\n        // Attach TextWatchers to capture user input and update formData\n        holder.etName.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setName(s.toString());\n\n\n                Log.d(&quot;UserInput&quot;, &quot;User input: &quot; + s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n\n        holder.etSpecial.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setSpecial(s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n\n        holder.etIngredients.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setIngredients(s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n        Calendar dateCalendar = formDates.get(position);\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy.MM.dd&quot;);\n        String formattedDate = dateFormat.format(dateCalendar.getTime());\n        holder.dateTextView.setText(formattedDate);\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        EditText etName, etSpecial, etIngredients;\n        TextView dateTextView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            etName = itemView.findViewById(R.id.etName);\n            etSpecial = itemView.findViewById(R.id.etSpecial);\n            etIngredients = itemView.findViewById(R.id.etIngredients);\n            dateTextView = itemView.findViewById(R.id.dateTextView);\n        }\n    }\n}\n\n</code></pre>\n<p>I tried using ListView, with the same error, and tried logging stuff, or modifying the code, but nothing seems to help.</p>\n<p>This picture shows little, but first i filled out 2023.11.11 but 11.18 got filled with the same data:\n<a href=\"https://i.stack.imgur.com/7uiyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7uiyz.png\" alt=\"the problem\" /></a></p>\n"},{"tags":["java","gradle","aspectj","freefair-aspectj"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696901467,"creation_date":1696746704,"answer_id":77252559,"question_id":77174865,"body_markdown":"For me, this works. Did you really forget the `java` plugin, or did you post an incomplete Gradle build file? What I cannot know is if your annotation is in the exact same package as the aspect, otherwise you would need a fully qualified class name in the `@annotation()` pointcut.\r\n\r\n```java\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n}\r\n\r\nrepositories {\r\n  mavenLocal()\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;org.aspectj:aspectjrt:1.9.20.1&#39;\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface LogExecutionTime {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\npublic class TestClass {\r\n  @LogExecutionTime\r\n  public String hello() {\r\n    return &quot;hello&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new TestClass().hello();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class LogExecutionTimeAspect {\r\n  @Around(&quot;@annotation(LogExecutionTime)&quot;)\r\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n    long start = System.currentTimeMillis();\r\n    Object proceed = pjp.proceed();\r\n    long executionTime = System.currentTimeMillis() - start;\r\n    System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\r\n    return proceed;\r\n  }\r\n}\r\n```\r\n\r\nRunning from my IDE IntelliJ IDEA, the console log looks as follows:\r\n\r\n```none\r\n13:24:24: Executing &#39;:TestClass.main()&#39;...\r\n\r\n&gt; Task :compileJava NO-SOURCE\r\n&gt; Task :compileAspectj\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :TestClass.main()\r\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 0ms\r\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 2ms\r\n(...)\r\n```\r\n\r\nOf course, you see two log messages, because your pointcut captures both `call()` and `execution()` joinpoints. You can fix that as follows:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class LogExecutionTimeAspect {\r\n  @Around(&quot;@annotation(LogExecutionTime) &amp;&amp; execution(* *(..))&quot;)\r\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n    long start = System.currentTimeMillis();\r\n    try {\r\n      return pjp.proceed();\r\n    } finally {\r\n      System.out.println(pjp.getSignature() + &quot; executed in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOne thing you maybe forgot is that for Freefair, the default source directory is `src/man/aspectj`. For me, it looks like this:\r\n\r\n[![IDE screenshot showing directory tree][1]][1]\r\n\r\nThe default will probably change to `src/main/java` in version 8.4, see [GitHub issue #881](https://github.com/freefair/gradle-plugins/issues/881).\r\n\r\n---\r\n\r\n**Update 2023-10-10:** Freefair 8.4 has been published and now defaults to `src/main/java`, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.\r\n\r\n  [1]: https://i.stack.imgur.com/hfA1q.png","title":"How can I setup AspectJ for a non-Spring Java 11 app built with Gradle?","body":"<p>For me, this works. Did you really forget the <code>java</code> plugin, or did you post an incomplete Gradle build file? What I cannot know is if your annotation is in the exact same package as the aspect, otherwise you would need a fully qualified class name in the <code>@annotation()</code> pointcut.</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n  id 'java'\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\n\nrepositories {\n  mavenLocal()\n  mavenCentral()\n}\n\ndependencies {\n  implementation 'org.aspectj:aspectjrt:1.9.20.1'\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LogExecutionTime {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\npublic class TestClass {\n  @LogExecutionTime\n  public String hello() {\n    return &quot;hello&quot;;\n  }\n\n  public static void main(String[] args) {\n    new TestClass().hello();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n  @Around(&quot;@annotation(LogExecutionTime)&quot;)\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\n    long start = System.currentTimeMillis();\n    Object proceed = pjp.proceed();\n    long executionTime = System.currentTimeMillis() - start;\n    System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\n    return proceed;\n  }\n}\n</code></pre>\n<p>Running from my IDE IntelliJ IDEA, the console log looks as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>13:24:24: Executing ':TestClass.main()'...\n\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :compileAspectj\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :TestClass.main()\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 0ms\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 2ms\n(...)\n</code></pre>\n<p>Of course, you see two log messages, because your pointcut captures both <code>call()</code> and <code>execution()</code> joinpoints. You can fix that as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n  @Around(&quot;@annotation(LogExecutionTime) &amp;&amp; execution(* *(..))&quot;)\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\n    long start = System.currentTimeMillis();\n    try {\n      return pjp.proceed();\n    } finally {\n      System.out.println(pjp.getSignature() + &quot; executed in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\n    }\n  }\n}\n</code></pre>\n<p>One thing you maybe forgot is that for Freefair, the default source directory is <code>src/man/aspectj</code>. For me, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/hfA1q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfA1q.png\" alt=\"IDE screenshot showing directory tree\" /></a></p>\n<p>The default will probably change to <code>src/main/java</code> in version 8.4, see <a href=\"https://github.com/freefair/gradle-plugins/issues/881\" rel=\"nofollow noreferrer\">GitHub issue #881</a>.</p>\n<hr />\n<p><strong>Update 2023-10-10:</strong> Freefair 8.4 has been published and now defaults to <code>src/main/java</code>, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.</p>\n"}],"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77252559,"answer_count":1,"score":1,"last_activity_date":1696958586,"creation_date":1695665256,"question_id":77174865,"body_markdown":"For the life of me, I can&#39;t figure out how to get some AspectJ advice to run.\r\n\r\n## Current Setup\r\n* Java 11\r\n* Gradle 8.3\r\n* IntelliJ IDEA Ultimate\r\n* **NOT** using Spring\r\n\r\n## Attempted Config (one attempt among many)\r\n`build.gradle`:\r\n\r\n    plugins {\r\n        id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n    }\r\n    dependencies {\r\n        // https://mvnrepository.com/artifact/org.aspectj/aspectjweaver\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.20.1&#39;\r\n        // https://mvnrepository.com/artifact/org.aspectj/aspectjrt\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.20.1&#39;\r\n    }\r\n\r\n## Sample Aspect\r\n`LogExecutionTime.java`\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface LogExecutionTime {}\r\n\r\n`LogExecutionTimeAspect.java`\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n\r\n    @Aspect\r\n    public class LogExecutionTimeAspect {\r\n        @Around(&quot;@annotation(LogExecutionTime)&quot;)\r\n        public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n            long start = System.currentTimeMillis();\r\n            Object proceed = pjp.proceed();\r\n            long executionTime = System.currentTimeMillis() - start;\r\n            System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\r\n            return proceed;\r\n        }\r\n    }\r\n\r\n`TestClass.java`\r\n\r\n    public class TestClass {\r\n        @LogExecutionTime\r\n        public String hello() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\nI&#39;ve called `new TestClass().hello()` in both a unit test (JUnit 5) and when running our application locally (Appengine Web App). Everything compiles and runs, but the execution time isn&#39;t getting printed out. I&#39;ve tried debugging and putting a break point inside the `LogExecutionTimeAspect::around` method, but it was never reached.\r\n\r\nI feel like it shouldn&#39;t be this complicated, but I can&#39;t seem to figure it out.\r\n\r\n## Update\r\n\r\nI have a basic working project here for anyone interested: https://github.com/MuffinTheMan/gradle-aspectj","title":"How can I setup AspectJ for a non-Spring Java 11 app built with Gradle?","body":"<p>For the life of me, I can't figure out how to get some AspectJ advice to run.</p>\n<h2>Current Setup</h2>\n<ul>\n<li>Java 11</li>\n<li>Gradle 8.3</li>\n<li>IntelliJ IDEA Ultimate</li>\n<li><strong>NOT</strong> using Spring</li>\n</ul>\n<h2>Attempted Config (one attempt among many)</h2>\n<p><code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\ndependencies {\n    // https://mvnrepository.com/artifact/org.aspectj/aspectjweaver\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.20.1'\n    // https://mvnrepository.com/artifact/org.aspectj/aspectjrt\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.20.1'\n}\n</code></pre>\n<h2>Sample Aspect</h2>\n<p><code>LogExecutionTime.java</code></p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LogExecutionTime {}\n</code></pre>\n<p><code>LogExecutionTimeAspect.java</code></p>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n    @Around(&quot;@annotation(LogExecutionTime)&quot;)\n    public Object around(ProceedingJoinPoint pjp) throws Throwable {\n        long start = System.currentTimeMillis();\n        Object proceed = pjp.proceed();\n        long executionTime = System.currentTimeMillis() - start;\n        System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\n        return proceed;\n    }\n}\n</code></pre>\n<p><code>TestClass.java</code></p>\n<pre><code>public class TestClass {\n    @LogExecutionTime\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>I've called <code>new TestClass().hello()</code> in both a unit test (JUnit 5) and when running our application locally (Appengine Web App). Everything compiles and runs, but the execution time isn't getting printed out. I've tried debugging and putting a break point inside the <code>LogExecutionTimeAspect::around</code> method, but it was never reached.</p>\n<p>I feel like it shouldn't be this complicated, but I can't seem to figure it out.</p>\n<h2>Update</h2>\n<p>I have a basic working project here for anyone interested: <a href=\"https://github.com/MuffinTheMan/gradle-aspectj\" rel=\"nofollow noreferrer\">https://github.com/MuffinTheMan/gradle-aspectj</a></p>\n"},{"tags":["java","instrumentation","javassist","prometheus-java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697191569,"post_id":77267801,"comment_id":136251873,"body_markdown":"Since the method receivers are reads of named instance fields, this information is definitely contained in the bytecode though not necessarily available in Javassist. I don’t recommend Javassist for non-trivial tasks. It’s better to learn how bytecode really works and use one of the other bytecode manipulation libraries, e.g. [ASM](https://asm.ow2.io/). Might look harder at the first glance but you will soon realize how the complex things become easier than shoveling source code fragments around or when and why things are not possible,","body":"Since the method receivers are reads of named instance fields, this information is definitely contained in the bytecode though not necessarily available in Javassist. I don’t recommend Javassist for non-trivial tasks. It’s better to learn how bytecode really works and use one of the other bytecode manipulation libraries, e.g. <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>. Might look harder at the first glance but you will soon realize how the complex things become easier than shoveling source code fragments around or when and why things are not possible,"}],"owner":{"account_id":19394226,"reputation":13,"user_id":14182248,"display_name":"autopwn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696958304,"creation_date":1696958304,"question_id":77267801,"body_markdown":"Given the following example class, I want to count the calls to doThis() and doThat() per Instance (sc1, sc2) using Javassist (ExprEditor) and the Prometheus Java client library, but I find no way to distinguish the calls within Javassist.\r\n\r\n```\r\npublic class InstrumentedClass {\r\n\r\n    private SomeClass sc1 = new SomeClass();\r\n    private SomeClass sc2 = new SomeClass();\r\n\r\n    public void doSomething() {\r\n        sc1.doThis();\r\n        sc2.doOther();\r\n        sc2.doThis();\r\n        sc1.doOther();\r\n        // number of occurrences and order of this calls is object to change\r\n        // so I cannot rely on line numbers (e.g. insertAt())\r\n    }\r\n}\r\n```\r\n\r\nMy general approach is to replace each method call with a block statement containing the original expression followed by the incrementation of a Prometheus counter object. Unfortunately, the code is kind of hard to read given the neccessary type cast and fully-qualified class name.\r\n\r\n```\r\ncc.getDeclaredMethod(&quot;doSomething&quot;).instrument(new ExprEditor() {\r\n    public void edit(MethodCall m) throws CannotCompileException {\r\n        if (m.getClassName().equals(&quot;SomeClass&quot;)) {\r\n            if (m.getMethodName().equals(&quot;doThis&quot;)) {\r\n\r\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\r\n                    &quot;counterDoThis.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\r\n\r\n            } else if (m.getMethodName().equals(&quot;doOther&quot;)) {\r\n\r\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\r\n                    &quot;counterdoOther.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nNow the challenge is to replace the label &quot;*MissingPiece*&quot; with something that allows me to distinguish between the calls on sc1 or sc2. The type is not an option as it is the same. I could use object ids for example, but those are to volatile and not human readable to be used as labels accross application restarts.\r\n\r\nMy fear is that this type of information is not available anymore in the bytecode and my plan is doomed to fail.\r\n\r\nBut maybe someone has a smart idea :)\r\n","title":"javassist ExprEditor - how to distinguish multiple method calls on same type","body":"<p>Given the following example class, I want to count the calls to doThis() and doThat() per Instance (sc1, sc2) using Javassist (ExprEditor) and the Prometheus Java client library, but I find no way to distinguish the calls within Javassist.</p>\n<pre><code>public class InstrumentedClass {\n\n    private SomeClass sc1 = new SomeClass();\n    private SomeClass sc2 = new SomeClass();\n\n    public void doSomething() {\n        sc1.doThis();\n        sc2.doOther();\n        sc2.doThis();\n        sc1.doOther();\n        // number of occurrences and order of this calls is object to change\n        // so I cannot rely on line numbers (e.g. insertAt())\n    }\n}\n</code></pre>\n<p>My general approach is to replace each method call with a block statement containing the original expression followed by the incrementation of a Prometheus counter object. Unfortunately, the code is kind of hard to read given the neccessary type cast and fully-qualified class name.</p>\n<pre><code>cc.getDeclaredMethod(&quot;doSomething&quot;).instrument(new ExprEditor() {\n    public void edit(MethodCall m) throws CannotCompileException {\n        if (m.getClassName().equals(&quot;SomeClass&quot;)) {\n            if (m.getMethodName().equals(&quot;doThis&quot;)) {\n\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\n                    &quot;counterDoThis.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\n\n            } else if (m.getMethodName().equals(&quot;doOther&quot;)) {\n\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\n                    &quot;counterdoOther.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\n\n            }\n        }\n    }\n});\n</code></pre>\n<p>Now the challenge is to replace the label &quot;<em>MissingPiece</em>&quot; with something that allows me to distinguish between the calls on sc1 or sc2. The type is not an option as it is the same. I could use object ids for example, but those are to volatile and not human readable to be used as labels accross application restarts.</p>\n<p>My fear is that this type of information is not available anymore in the bytecode and my plan is doomed to fail.</p>\n<p>But maybe someone has a smart idea :)</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696951347,"post_id":77266723,"comment_id":136216764,"body_markdown":"*&quot;any other option accessing the data using some sort of index.&quot;* If the keys are just integers, in order, why not simply use a list? Or `ObservableIntegerArray`?","body":"<i>&quot;any other option accessing the data using some sort of index.&quot;</i> If the keys are just integers, in order, why not simply use a list? Or <code>ObservableIntegerArray</code>?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696951623,"post_id":77266723,"comment_id":136216823,"body_markdown":"Maybe that is the solution. I just don&#39;t know how. This is new terrain for me :/","body":"Maybe that is the solution. I just don&#39;t know how. This is new terrain for me :/"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696952127,"post_id":77266723,"comment_id":136216921,"body_markdown":"It&#39;s not really clear what the question is. As for the cast, why not just make the return type of the method `MapProperty&lt;Integer, Integer&gt;` (or the equivalent for whatever data structure you decide to use), and omit the cast? Why do you need to return a specific implementation type?","body":"It&#39;s not really clear what the question is. As for the cast, why not just make the return type of the method <code>MapProperty&lt;Integer, Integer&gt;</code> (or the equivalent for whatever data structure you decide to use), and omit the cast? Why do you need to return a specific implementation type?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696952668,"post_id":77266723,"comment_id":136217030,"body_markdown":"Changing the return type wont work for getDmxDataArrayProperty. Sorry. I know this is not as clear as it could be, I find I hard to fine any tutorials/howto concerning this part of JavaFX. Maybe it is even more unclear, but maybe I should ask &quot;how can I turn my dmxDataArray array into a property?","body":"Changing the return type wont work for getDmxDataArrayProperty. Sorry. I know this is not as clear as it could be, I find I hard to fine any tutorials/howto concerning this part of JavaFX. Maybe it is even more unclear, but maybe I should ask &quot;how can I turn my dmxDataArray array into a property?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696955186,"post_id":77266723,"comment_id":136217582,"body_markdown":"I think instead of “into a property” you just mean “into something observable” no? You just want to respond to changes, so all you need is observability. `ObservableList`, `ObservableMap`, and `ObservableSet` are the direct observable counterparts of the standard Java interfaces `List`, `Map`, and `Set`, respectively","body":"I think instead of “into a property” you just mean “into something observable” no? You just want to respond to changes, so all you need is observability. <code>ObservableList</code>, <code>ObservableMap</code>, and <code>ObservableSet</code> are the direct observable counterparts of the standard Java interfaces <code>List</code>, <code>Map</code>, and <code>Set</code>, respectively"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696956105,"post_id":77266723,"comment_id":136217760,"body_markdown":"Yes, that is exactly what I mean. Sorry for the confusing.","body":"Yes, that is exactly what I mean. Sorry for the confusing."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1696961045,"post_id":77266723,"comment_id":136218608,"body_markdown":"This [example](https://stackoverflow.com/a/69781121/230513) displays an existing `Map` in a `TableView`.","body":"This <a href=\"https://stackoverflow.com/a/69781121/230513\">example</a> displays an existing <code>Map</code> in a <code>TableView</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696975587,"post_id":77266723,"comment_id":136220771,"body_markdown":"&quot;_Changing the return type wont work for getDmxDataArrayProperty_&quot; – Can you explain this? [`SimpleMapProperty`](https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/SimpleMapProperty.html) does not expose any specific public API that [`MapProperty`](https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/MapProperty.html) does not. The former is simply a concrete implementation of the latter. But if you must return `SimpleMapProperty`, then to avoid the cast you just have to change the field type from `MapProperty` to `SimpleMapProperty`.","body":"&quot;<i>Changing the return type wont work for getDmxDataArrayProperty</i>&quot; – Can you explain this? <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/SimpleMapProperty.html\" rel=\"nofollow noreferrer\"><code>SimpleMapProperty</code></a> does not expose any specific public API that <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/MapProperty.html\" rel=\"nofollow noreferrer\"><code>MapProperty</code></a> does not. The former is simply a concrete implementation of the latter. But if you must return <code>SimpleMapProperty</code>, then to avoid the cast you just have to change the field type from <code>MapProperty</code> to <code>SimpleMapProperty</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696957668,"creation_date":1696952671,"answer_id":77267223,"question_id":77266723,"body_markdown":"It seems like all you need is &quot;observability&quot; (i.e. the opportunity to respond to changes in the data structure). The JavaFX interfaces `ObservableList`, `ObservableMap`, and `ObservableSet` are the direct *observable* equivalents of the standard `java.util` collections interfaces `List`, `Map`, and `Set`, respectively. So I think all you need here is an `ObservableList` (`List` being the collection interface which most closely mimics an array).\r\n\r\nYou can do something like:\r\n\r\n```\r\npublic class Model {\r\n\r\n    private final ObservableList&lt;Byte&gt; bytes ;\r\n\r\n    public Model(byte[] bytes) {\r\n        this.bytes = FXCollections.observableArrayList();\r\n        for (byte b : bytes) this.bytes.add(b();\r\n    }\r\n\r\n    public void setByte(int index, byte b) {\r\n        bytes.set(index, b);\r\n    }\r\n\r\n    public void getByte(int index) {\r\n        return bytes.get(index);\r\n    }\r\n\r\n    public ObservableList&lt;Byte&gt; getBytes() {\r\n        // prevent things like getBytes().add() etc.\r\n        return FXCollections.unmodifiableObservableList(bytes);\r\n    }\r\n\r\n    public byte[] getBytesAsArray() {\r\n        byte[] byteArray = new byte[bytes.size()];\r\n        for (int i = 0 ; i &lt; bytes.size(); i++) {\r\n            byteArray[i] = bytes.get(i);\r\n        }\r\n        return byteArray;\r\n    }\r\n}\r\n```\r\n\r\nand then \r\n\r\n```\r\nmyModel.getBytes().addListener((ListChangeListener.Change&lt;Byte&gt; change) -&gt; {\r\n   // ...\r\n});\r\n```\r\n\r\nSee the [`ListChangeListener.Change` documentation](https://openjfx.io/javadoc/21/javafx.base/javafx/collections/ListChangeListener.Change.html) for more information.\r\n\r\nThe exact API in the `Model` class may need to be modified for whatever your actual use case is.","title":"JavaFX MapProperty behave like an array","body":"<p>It seems like all you need is &quot;observability&quot; (i.e. the opportunity to respond to changes in the data structure). The JavaFX interfaces <code>ObservableList</code>, <code>ObservableMap</code>, and <code>ObservableSet</code> are the direct <em>observable</em> equivalents of the standard <code>java.util</code> collections interfaces <code>List</code>, <code>Map</code>, and <code>Set</code>, respectively. So I think all you need here is an <code>ObservableList</code> (<code>List</code> being the collection interface which most closely mimics an array).</p>\n<p>You can do something like:</p>\n<pre><code>public class Model {\n\n    private final ObservableList&lt;Byte&gt; bytes ;\n\n    public Model(byte[] bytes) {\n        this.bytes = FXCollections.observableArrayList();\n        for (byte b : bytes) this.bytes.add(b();\n    }\n\n    public void setByte(int index, byte b) {\n        bytes.set(index, b);\n    }\n\n    public void getByte(int index) {\n        return bytes.get(index);\n    }\n\n    public ObservableList&lt;Byte&gt; getBytes() {\n        // prevent things like getBytes().add() etc.\n        return FXCollections.unmodifiableObservableList(bytes);\n    }\n\n    public byte[] getBytesAsArray() {\n        byte[] byteArray = new byte[bytes.size()];\n        for (int i = 0 ; i &lt; bytes.size(); i++) {\n            byteArray[i] = bytes.get(i);\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>myModel.getBytes().addListener((ListChangeListener.Change&lt;Byte&gt; change) -&gt; {\n   // ...\n});\n</code></pre>\n<p>See the <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/collections/ListChangeListener.Change.html\" rel=\"nofollow noreferrer\"><code>ListChangeListener.Change</code> documentation</a> for more information.</p>\n<p>The exact API in the <code>Model</code> class may need to be modified for whatever your actual use case is.</p>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77267223,"answer_count":1,"score":1,"last_activity_date":1696957668,"creation_date":1696948423,"question_id":77266723,"body_markdown":"Not sure the topic makes 100% sense, it was the best I could come up with, but this is want I want:\r\n\r\nI have a normal, fix sized, byte array like this:\r\n\r\n    private final byte[] dmxDataArray = new byte[512];\r\n\r\nWorking fine, I can put data into the array like this:\r\n\r\n    dmxDataArray[channel] = (byte) value;\r\n\r\nI&#39;m using the array in a JavaFX app and I want to show the array data in the GUI so I want to turn the array into a MapProperty so I can attach addListener and update the GUI when new data are added to the Map. I need to use a Map since I need to have a key-value, or any other option accessing the data using some sort of index.\r\n\r\nThis is what I have tried (using Integers instead of byte, which is fine):\r\n\r\n    MapProperty&lt;Integer, Integer&gt; dmxDataArrayProperty dmxDataArrayProperty = new SimpleMapProperty&lt;&gt;(FXCollections.observableHashMap());\r\n\r\n    public final SimpleMapProperty&lt;Integer, Integer&gt; getDmxDataArrayProperty() {\r\n    \r\n      return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty.get();\r\n    \r\n    }\r\n\r\n    public final void setDmxDataArrayProperty(Integer value, Integer channel) {\r\n    \r\n      dmxDataArrayProperty.put(value, channel);\r\n    \r\n    }\r\n\r\n    public final SimpleMapProperty&lt;Integer, Integer&gt; dmxDataArrayPropertyProperty() {\r\n    \r\n      return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty;\r\n    \r\n    }\r\n\r\nIs that what you would do? Not sure about the getDmxDataArrayProperty and dmxDataArrayPropertyProperty, why do I need to cast to (SimpleMapProperty&lt;Integer, Integer&gt;)?\r\n\r\nAbove is working, I can put data into the Map like this:\r\n\r\n    setDmxDataArrayProperty(channel, value);\r\n\r\nAnd I can attach a listener like this:\r\n\r\n    dmxDataArrayPropertyProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n    \r\n      //Do something\r\n    \r\n    })\r\n\r\nI have worked with BooleanProperty, StringProperty and IntergerProperty before but I find MapProperty a litte bit more tricky.\r\n\r\nAlso, I not sure how to get the MapProperty elsewhere in my code, I would think that I should use getDmxDataArrayProperty() but that is giving me this:\r\n\r\n    class com.sun.javafx.collections.ObservableMapWrapper cannot be cast to class javafx.beans.property.SimpleMapProperty\r\n\r\nAlso, can I(should I?) use a ObservableArray instead?\r\n\r\nI would like the possibility to print/show all 512 (0 as initial value) values when changes are made and also the option to get just one specific value (based on the key)\r\n\r\n\r\n\r\n\r\n\r\n","title":"JavaFX MapProperty behave like an array","body":"<p>Not sure the topic makes 100% sense, it was the best I could come up with, but this is want I want:</p>\n<p>I have a normal, fix sized, byte array like this:</p>\n<pre><code>private final byte[] dmxDataArray = new byte[512];\n</code></pre>\n<p>Working fine, I can put data into the array like this:</p>\n<pre><code>dmxDataArray[channel] = (byte) value;\n</code></pre>\n<p>I'm using the array in a JavaFX app and I want to show the array data in the GUI so I want to turn the array into a MapProperty so I can attach addListener and update the GUI when new data are added to the Map. I need to use a Map since I need to have a key-value, or any other option accessing the data using some sort of index.</p>\n<p>This is what I have tried (using Integers instead of byte, which is fine):</p>\n<pre><code>MapProperty&lt;Integer, Integer&gt; dmxDataArrayProperty dmxDataArrayProperty = new SimpleMapProperty&lt;&gt;(FXCollections.observableHashMap());\n\npublic final SimpleMapProperty&lt;Integer, Integer&gt; getDmxDataArrayProperty() {\n\n  return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty.get();\n\n}\n\npublic final void setDmxDataArrayProperty(Integer value, Integer channel) {\n\n  dmxDataArrayProperty.put(value, channel);\n\n}\n\npublic final SimpleMapProperty&lt;Integer, Integer&gt; dmxDataArrayPropertyProperty() {\n\n  return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty;\n\n}\n</code></pre>\n<p>Is that what you would do? Not sure about the getDmxDataArrayProperty and dmxDataArrayPropertyProperty, why do I need to cast to (SimpleMapProperty&lt;Integer, Integer&gt;)?</p>\n<p>Above is working, I can put data into the Map like this:</p>\n<pre><code>setDmxDataArrayProperty(channel, value);\n</code></pre>\n<p>And I can attach a listener like this:</p>\n<pre><code>dmxDataArrayPropertyProperty().addListener((observable, oldValue, newValue) -&gt; {\n\n  //Do something\n\n})\n</code></pre>\n<p>I have worked with BooleanProperty, StringProperty and IntergerProperty before but I find MapProperty a litte bit more tricky.</p>\n<p>Also, I not sure how to get the MapProperty elsewhere in my code, I would think that I should use getDmxDataArrayProperty() but that is giving me this:</p>\n<pre><code>class com.sun.javafx.collections.ObservableMapWrapper cannot be cast to class javafx.beans.property.SimpleMapProperty\n</code></pre>\n<p>Also, can I(should I?) use a ObservableArray instead?</p>\n<p>I would like the possibility to print/show all 512 (0 as initial value) values when changes are made and also the option to get just one specific value (based on the key)</p>\n"},{"tags":["java","postgresql","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1696957341,"post_id":77267694,"comment_id":136218018,"body_markdown":"Are you completely restarting the Postgres image for every single test? Yes, that seems like a great way to take up a lot of time. Have you considered simply clearing the tables or restoring state from a backup?","body":"Are you completely restarting the Postgres image for every single test? Yes, that seems like a great way to take up a lot of time. Have you considered simply clearing the tables or restoring state from a backup?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1697043381,"post_id":77267694,"comment_id":136230827,"body_markdown":"first time execution is around that because pulling the image and then start the container. But, second one should be 2 or 3 seconds. Postgres startup is quite fast. At least, on desktop you should not experience more than that. In CI, for example, using GHA will be pulling the image every time. I am talking from the test execution POV and not the whole build process which involves more tasks depending on which one you are using.","body":"first time execution is around that because pulling the image and then start the container. But, second one should be 2 or 3 seconds. Postgres startup is quite fast. At least, on desktop you should not experience more than that. In CI, for example, using GHA will be pulling the image every time. I am talking from the test execution POV and not the whole build process which involves more tasks depending on which one you are using."},{"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"score":0,"creation_date":1697094537,"post_id":77267694,"comment_id":136236701,"body_markdown":"I get ~40 seconds even if I run it several times so the image has been pulled by the time I run the test","body":"I get ~40 seconds even if I run it several times so the image has been pulled by the time I run the test"},{"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"score":0,"creation_date":1699358180,"post_id":77267694,"comment_id":136519034,"body_markdown":"On my M1 Pro single test with PostgreSQL container takes about 17 seconds for small Spring Boot application.\nIn general startup time depends on size of ApplicationContext and a huge amount of options in application.yaml.\nConsider to set server.shutdown=immediate for tests and share a demo project with us.","body":"On my M1 Pro single test with PostgreSQL container takes about 17 seconds for small Spring Boot application. In general startup time depends on size of ApplicationContext and a huge amount of options in application.yaml. Consider to set server.shutdown=immediate for tests and share a demo project with us."},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1699390060,"post_id":77267694,"comment_id":136525010,"body_markdown":"out of curiosity, which container runtime are you using? Docker Desktop? Colima? Rancher? Testcontainers Embedded Runtime? Orbstack?","body":"out of curiosity, which container runtime are you using? Docker Desktop? Colima? Rancher? Testcontainers Embedded Runtime? Orbstack?"}],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696956953,"creation_date":1696956953,"question_id":77267694,"body_markdown":"I&#39;m attempting to execute integration tests utilizing Spring Boot in conjunction with Testcontainers. However, I&#39;ve noticed that the database initialization is quite time-consuming. As it stands, a single test takes approximately 40 seconds to finish, including the time it takes to close all connections. The relevant code is structured as follows:\r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\nclass ApplicationTests {\r\n\r\n    @Container\r\n    @ServiceConnection\r\n    static PostgreSQLContainer&lt;?&gt; posgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:16.0-alpine&quot;);\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nIn the logs I can see the following after the test is completed:\r\n\r\n[![Test logs picture][1]][1]\r\n\r\nGiven that I&#39;m working on a MacBook M1 Max, I believe there should be sufficient computational resources to expedite the test execution. Does anyone have suggestions for optimizing the duration of such tests? Perhaps there&#39;s a specialized Postgres image designed for quicker startup, or certain arguments that could be passed to improve the container&#39;s initialization time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4CWWw.png","title":"How to improve PostreSQL speed when running tests via test containers","body":"<p>I'm attempting to execute integration tests utilizing Spring Boot in conjunction with Testcontainers. However, I've noticed that the database initialization is quite time-consuming. As it stands, a single test takes approximately 40 seconds to finish, including the time it takes to close all connections. The relevant code is structured as follows:</p>\n<pre><code>@SpringBootTest\n@Testcontainers\nclass ApplicationTests {\n\n    @Container\n    @ServiceConnection\n    static PostgreSQLContainer&lt;?&gt; posgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:16.0-alpine&quot;);\n\n    @Test\n    void contextLoads() {\n        \n    }\n\n}\n</code></pre>\n<p>In the logs I can see the following after the test is completed:</p>\n<p><a href=\"https://i.stack.imgur.com/4CWWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CWWw.png\" alt=\"Test logs picture\" /></a></p>\n<p>Given that I'm working on a MacBook M1 Max, I believe there should be sufficient computational resources to expedite the test execution. Does anyone have suggestions for optimizing the duration of such tests? Perhaps there's a specialized Postgres image designed for quicker startup, or certain arguments that could be passed to improve the container's initialization time.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1696955552,"post_id":77267518,"comment_id":136217650,"body_markdown":"@Jorn Pls see the code block. That&#39;s what I&#39;ve tried.","body":"@Jorn Pls see the code block. That&#39;s what I&#39;ve tried."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1696955849,"post_id":77267518,"comment_id":136217703,"body_markdown":"Did start the jvm with --add-opens=java.base/java.lang=ALL-UNNAMED like the error message says?","body":"Did start the jvm with --add-opens=java.base/java.lang=ALL-UNNAMED like the error message says?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1696956108,"post_id":77267518,"comment_id":136217761,"body_markdown":"Have you tried to remove the &quot;add-opens=&quot; part from the second argument? Could you try setting your JDK source and target versions to 11 in the plugin config?","body":"Have you tried to remove the &quot;add-opens=&quot; part from the second argument? Could you try setting your JDK source and target versions to 11 in the plugin config?"},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1696960566,"post_id":77267518,"comment_id":136218526,"body_markdown":"@Mr.Polywhirl Produces same error when I removed add-opens from 2nd arg. Also do have the following in the POM file. \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;","body":"@Mr.Polywhirl Produces same error when I removed add-opens from 2nd arg. Also do have the following in the POM file. \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt; \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696956413,"creation_date":1696956203,"answer_id":77267619,"question_id":77267518,"body_markdown":"You have modified the `maven-compiler-plugin` but the `--add-opens` is neededd at run-time.  Since you run the app through the `spring-boot-maven-plugin` the correct configuration is:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n     &lt;configuration&gt;\r\n         &lt;jvmArguments&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvmArguments&gt;\r\n     &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Illegal access error after upgrading version","body":"<p>You have modified the <code>maven-compiler-plugin</code> but the <code>--add-opens</code> is neededd at run-time.  Since you run the app through the <code>spring-boot-maven-plugin</code> the correct configuration is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;jvmArguments&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvmArguments&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77267619,"answer_count":1,"score":2,"last_activity_date":1696956413,"creation_date":1696955397,"question_id":77267518,"body_markdown":"I have a Spring boot app. Using version `2.7.16`. \r\n\r\nI was on Java version `8`. Moved to Java version `11` now. \r\n\r\nWhen I run the app, getting the error: \r\n\r\n&gt; Caused by: org.springframework.cglib.core.ReflectUtils$6: ClassLoader\r\n&gt; mismatch for [java.util.concurrent.ScheduledThreadPoolExecutor]: JVM\r\n&gt; should be started with --add-opens=java.base/java.lang=ALL-UNNAMED for\r\n&gt; ClassLoader.defineClass to be accessible on\r\n&gt; org.springframework.boot.loader.LaunchedURLClassLoader; consider\r\n&gt; co-locating the affected class in that target ClassLoader instead.\r\n&gt; Caused by: java.lang.IllegalAccessException: module java.base does not\r\n&gt; open java.util.concurrent to unnamed module\r\n\r\nI updated the pom file as follows. But the error remains. Why? \r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n                        &lt;arg&gt;add-opens=java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    // other plugins\r\n    &lt;plugins&gt;\r\n        spring-boot-maven-plugin\r\n        maven-resources-plugin\r\n        maven-assembly-plugin\r\n        jacoco-maven-plugin\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nUsing Java 11, running it via Terminal using command:\r\n\r\n```shell\r\nmvn spring-boot:run\r\n```","title":"Illegal access error after upgrading version","body":"<p>I have a Spring boot app. Using version <code>2.7.16</code>.</p>\n<p>I was on Java version <code>8</code>. Moved to Java version <code>11</code> now.</p>\n<p>When I run the app, getting the error:</p>\n<blockquote>\n<p>Caused by: org.springframework.cglib.core.ReflectUtils$6: ClassLoader\nmismatch for [java.util.concurrent.ScheduledThreadPoolExecutor]: JVM\nshould be started with --add-opens=java.base/java.lang=ALL-UNNAMED for\nClassLoader.defineClass to be accessible on\norg.springframework.boot.loader.LaunchedURLClassLoader; consider\nco-locating the affected class in that target ClassLoader instead.\nCaused by: java.lang.IllegalAccessException: module java.base does not\nopen java.util.concurrent to unnamed module</p>\n</blockquote>\n<p>I updated the pom file as follows. But the error remains. Why?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-opens&lt;/arg&gt;\n                        &lt;arg&gt;add-opens=java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    // other plugins\n    &lt;plugins&gt;\n        spring-boot-maven-plugin\n        maven-resources-plugin\n        maven-assembly-plugin\n        jacoco-maven-plugin\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Using Java 11, running it via Terminal using command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n"},{"tags":["java","soap","wsdl","soap-client"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696956566,"post_id":77267629,"comment_id":136217853,"body_markdown":"Did you look at the release notes for the dependency used in that code? Perhaps it changed how the headers should be retrieved.","body":"Did you look at the release notes for the dependency used in that code? Perhaps it changed how the headers should be retrieved."},{"owner":{"account_id":29641887,"reputation":11,"user_id":22717862,"display_name":"manas021"},"score":0,"creation_date":1696957013,"post_id":77267629,"comment_id":136217950,"body_markdown":"@Jorn I i did , there is no specific mention of a different way and moreover other headers are present in the soap context , only the request headers are missing","body":"@Jorn I i did , there is no specific mention of a different way and moreover other headers are present in the soap context , only the request headers are missing"}],"owner":{"account_id":29641887,"reputation":11,"user_id":22717862,"display_name":"manas021"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696956300,"creation_date":1696956300,"question_id":77267629,"body_markdown":"I have recently upgraded from jdk8 to jdk17 and for this I have updated few of my dependencies in POM and added a few new ones , below are the dependencies\r\n\r\n```\r\n &lt;jaxws-maven-plugin.version&gt;2.6&lt;/jaxws-maven-plugin.version&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.5&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n  &lt;/dependency&gt;`\r\n```\r\n\r\n\r\nAfter making these updates , when I am sending a soap request using my soap client, HTTP Request Headers are missing when I try to fetch them in my Soap Message Handler.\r\n\r\n\r\n```\r\nfinal Map headers = (Map) context.get(MessageContext.HTTP_REQUEST_HEADERS);\r\n```\r\ncontext is of type SOAPMessageContext\r\n\r\n\r\nin above code headers turn out to be null\r\n\r\nI was expecting that HTTP REQUEST HEADERS will be present because they were present before the upgrade.","title":"HTPP_REQUEST_HEADERS missing when sending a soap request through soap client","body":"<p>I have recently upgraded from jdk8 to jdk17 and for this I have updated few of my dependencies in POM and added a few new ones , below are the dependencies</p>\n<pre><code> &lt;jaxws-maven-plugin.version&gt;2.6&lt;/jaxws-maven-plugin.version&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n  &lt;/dependency&gt;`\n</code></pre>\n<p>After making these updates , when I am sending a soap request using my soap client, HTTP Request Headers are missing when I try to fetch them in my Soap Message Handler.</p>\n<pre><code>final Map headers = (Map) context.get(MessageContext.HTTP_REQUEST_HEADERS);\n</code></pre>\n<p>context is of type SOAPMessageContext</p>\n<p>in above code headers turn out to be null</p>\n<p>I was expecting that HTTP REQUEST HEADERS will be present because they were present before the upgrade.</p>\n"},{"tags":["java","spring","spring-boot","java-17"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1661762878,"post_id":73526228,"comment_id":129840320,"body_markdown":"I&#39;ve never needd to set this. Can you go to https://start.spring.io and generate a new project and compare it with yours?","body":"I&#39;ve never needd to set this. Can you go to <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> and generate a new project and compare it with yours?"},{"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"score":1,"creation_date":1661764556,"post_id":73526228,"comment_id":129840814,"body_markdown":"Thanks for your advice. I managed to find the cause : my project uses Load Time Weaving with AspectJ and it looks like AspectJ needs this option to work with JDK 17. If I disable load time weaving I don&#39;t get the error. But since I do need load time weaving I&#39;ll have to wait for aspectJ to find a solution and use the VM option in the meantime.","body":"Thanks for your advice. I managed to find the cause : my project uses Load Time Weaving with AspectJ and it looks like AspectJ needs this option to work with JDK 17. If I disable load time weaving I don&#39;t get the error. But since I do need load time weaving I&#39;ll have to wait for aspectJ to find a solution and use the VM option in the meantime."}],"answers":[{"tags":[],"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1661764843,"creation_date":1661764843,"answer_id":73526644,"question_id":73526228,"body_markdown":"I discovered that my issue was not so much related to Spring Boot but more to AspectJ load time weaving.\r\n\r\nIndeed my project uses Load Time Weaving with AspectJ, and as we can see in the [latest changelog from AspectJ][1] : \r\n\r\n&gt; Use LTW on Java 16+\r\nPlease note that if you want to use load-time weaving on Java 16+, the weaving agent collides with JEP 396 (Strongly Encapsulate JDK Internals by Default) and related subsequent JEPs. Therefore, you need to set the JVM parameter --add-opens java.base/java.lang=ALL-UNNAMED in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders\r\n\r\nTherefore the VM option is need for my project for now.\r\n\r\n\r\n  [1]: https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-198.html","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I discovered that my issue was not so much related to Spring Boot but more to AspectJ load time weaving.</p>\n<p>Indeed my project uses Load Time Weaving with AspectJ, and as we can see in the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-198.html\" rel=\"noreferrer\">latest changelog from AspectJ</a> :</p>\n<blockquote>\n<p>Use LTW on Java 16+\nPlease note that if you want to use load-time weaving on Java 16+, the weaving agent collides with JEP 396 (Strongly Encapsulate JDK Internals by Default) and related subsequent JEPs. Therefore, you need to set the JVM parameter --add-opens java.base/java.lang=ALL-UNNAMED in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders</p>\n</blockquote>\n<p>Therefore the VM option is need for my project for now.</p>\n"},{"tags":[],"owner":{"account_id":18152,"reputation":3361,"user_id":41324,"display_name":"Anders B"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696956220,"creation_date":1677668079,"answer_id":75602720,"question_id":73526228,"body_markdown":"Using maven?\r\n\r\nFor me this fixed my problem:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.8.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;source&gt;17&lt;/source&gt;\r\n    &lt;target&gt;17&lt;/target&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Using maven?</p>\n<p>For me this fixed my problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;17&lt;/source&gt;\n    &lt;target&gt;17&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14425,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73526644,"answer_count":2,"score":7,"last_activity_date":1696956220,"creation_date":1661762744,"question_id":73526228,"body_markdown":"I am migrating a Spring Boot app from JDK 8 to JDK 17.\r\n\r\nBut in JDK 17 I have the following error : \r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.findLoadedClass(java.lang.String) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1356d4d4\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.ContextTypeMatchClassLoader$ContextOverridingClassLoader.isEligibleForOverriding(ContextTypeMatchClassLoader.java:99) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:87) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:82) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.ContextTypeMatchClassLoader.loadClass(ContextTypeMatchClassLoader.java:70) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1594) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.pacinformatique.vinotech.mobile.VinotechMobileApplication.main(VinotechMobileApplication.java:42) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\r\n\r\nAdding `--add-opens java.base/java.lang=ALL-UNNAMED` to the VM options works but it looks pretty hacky. I thought that with Spring Boot 2.7 I would&#39;ve been able to run the app without the VM options.\r\n\r\nHave I missed something ?","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I am migrating a Spring Boot app from JDK 8 to JDK 17.</p>\n<p>But in JDK 17 I have the following error :</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.findLoadedClass(java.lang.String) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1356d4d4\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.ContextTypeMatchClassLoader$ContextOverridingClassLoader.isEligibleForOverriding(ContextTypeMatchClassLoader.java:99) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:87) ~[spring-core-5.3.20.jar:5.3.20]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:82) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.ContextTypeMatchClassLoader.loadClass(ContextTypeMatchClassLoader.java:70) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1594) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.pacinformatique.vinotech.mobile.VinotechMobileApplication.main(VinotechMobileApplication.java:42) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\n</code></pre>\n<p>Adding <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> to the VM options works but it looks pretty hacky. I thought that with Spring Boot 2.7 I would've been able to run the app without the VM options.</p>\n<p>Have I missed something ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-test","spring-mvc-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1462269430,"post_id":37000457,"comment_id":61554845,"body_markdown":"How are you testing this? By just calling the controller method or are you actually using MockMvc. If it is the latter you are using it wrong, if it is the former, you are making it to difficult.","body":"How are you testing this? By just calling the controller method or are you actually using MockMvc. If it is the latter you are using it wrong, if it is the former, you are making it to difficult."},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1462278339,"post_id":37000457,"comment_id":61560598,"body_markdown":"I&#39;m using MockMvc. I added the code I&#39;m using","body":"I&#39;m using MockMvc. I added the code I&#39;m using"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1462278790,"post_id":37000457,"comment_id":61560909,"body_markdown":"A `MultipartFile` isn&#39;t a `Part` so that won&#39;t work. You can only add parts and afaik that currently isn&#39;t possible with MockMvc. Your only change probably is to mock the `Part` and add it yourself by creating a custom RequestBuilder.","body":"A <code>MultipartFile</code> isn&#39;t a <code>Part</code> so that won&#39;t work. You can only add parts and afaik that currently isn&#39;t possible with MockMvc. Your only change probably is to mock the <code>Part</code> and add it yourself by creating a custom RequestBuilder."}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1462448851,"creation_date":1462448851,"answer_id":37049803,"question_id":37000457,"body_markdown":"There is currently no support for testing with `javax.servlet.http.Part` in the _Spring MVC Test Framework_.\r\n\r\nConsequently, I have introduced two tickets to address this shortcoming in Spring Framework 5.0:\r\n\r\n- https://jira.spring.io/browse/SPR-14252\r\n- https://jira.spring.io/browse/SPR-14253\r\n\r\nIn the interim, you should be able to mock `Part` yourself and register it in the prepared `MockHttpServletRequest` via a custom `RequestPostProcessor`.\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)","title":"Setting request parts in spring test mvc","body":"<p>There is currently no support for testing with <code>javax.servlet.http.Part</code> in the <em>Spring MVC Test Framework</em>.</p>\n\n<p>Consequently, I have introduced two tickets to address this shortcoming in Spring Framework 5.0:</p>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/SPR-14252\" rel=\"noreferrer\">https://jira.spring.io/browse/SPR-14252</a></li>\n<li><a href=\"https://jira.spring.io/browse/SPR-14253\" rel=\"noreferrer\">https://jira.spring.io/browse/SPR-14253</a></li>\n</ul>\n\n<p>In the interim, you should be able to mock <code>Part</code> yourself and register it in the prepared <code>MockHttpServletRequest</code> via a custom <code>RequestPostProcessor</code>.</p>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"tags":[],"owner":{"account_id":7502173,"reputation":360,"user_id":6928724,"display_name":"Per"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641382658,"creation_date":1641382220,"answer_id":70592125,"question_id":37000457,"body_markdown":"To elaborate on Sam Brannens answer: You can do it as follows:\r\n\r\nCreate a MockPart (instead of a MockMultipartFile) and add it using part() instead of file(); e.g:\r\n\r\n    MockPart coverPart = new MockPart(&quot;file&quot;, &quot;1.png&quot;, Files.readAllBytes(Paths.get(&quot;images/1.png&quot;)));\r\n    coverPart.getHeaders().setContentType(MediaType.IMAGE_PNG);\r\n\r\nAnd the use it in perform():\r\n\r\n    mockMvc.perform(multipart(&quot;/some/url&quot;)\r\n        .part(coverPart)\r\n        .contentType(MediaType.MULTIPART_FORM_DATA)\r\n        .andExpect(status().isOk())\r\n\r\nThen in you controller, you will see that request.getParts() will contain a part called &quot;file&quot; that you can retrieve the content from using e.g. part.getInputStream().\r\n\r\nI used the following dependency to test this:\r\norg.springframework:spring-test:5.3.14 which is included in org.springframework.boot:spring-boot-starter-test:2.6.2","title":"Setting request parts in spring test mvc","body":"<p>To elaborate on Sam Brannens answer: You can do it as follows:</p>\n<p>Create a MockPart (instead of a MockMultipartFile) and add it using part() instead of file(); e.g:</p>\n<pre><code>MockPart coverPart = new MockPart(&quot;file&quot;, &quot;1.png&quot;, Files.readAllBytes(Paths.get(&quot;images/1.png&quot;)));\ncoverPart.getHeaders().setContentType(MediaType.IMAGE_PNG);\n</code></pre>\n<p>And the use it in perform():</p>\n<pre><code>mockMvc.perform(multipart(&quot;/some/url&quot;)\n    .part(coverPart)\n    .contentType(MediaType.MULTIPART_FORM_DATA)\n    .andExpect(status().isOk())\n</code></pre>\n<p>Then in you controller, you will see that request.getParts() will contain a part called &quot;file&quot; that you can retrieve the content from using e.g. part.getInputStream().</p>\n<p>I used the following dependency to test this:\norg.springframework:spring-test:5.3.14 which is included in org.springframework.boot:spring-boot-starter-test:2.6.2</p>\n"},{"tags":[],"owner":{"account_id":228645,"reputation":587,"user_id":491085,"display_name":"mio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696955635,"creation_date":1696955635,"answer_id":77267546,"question_id":37000457,"body_markdown":"Just for reference, if you have a multipart request with multiple additional json non-file request parts you can create them like the following:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()\r\n    // ...\r\n    // a file\r\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;/some/name&quot;, &quot;text/plain&quot;, &quot;hello&quot;.getBytes())\r\n    // and other parts\r\n    byte[] content = objectMapper.writeValueAsBytes(somePayload)\r\n    Part somePart = new MockPart(&quot;someName&quot;, content)\r\n    somePart.getHeaders().setContentType(MediaType.APPLICATION_JSON)\r\n    \r\n\r\nand then call the service like this:\r\n\r\n    mockMvc.perform(multipart(&quot;/some/path&quot;)\r\n              .file(someFile)\r\n              .part(somePart)\r\n              .part(anotherPart))\r\n           .andExpect...\r\n\r\nNote: sending multiple MockMultiPartFiles instead of Parts works, too. But that looks ugly.","title":"Setting request parts in spring test mvc","body":"<p>Just for reference, if you have a multipart request with multiple additional json non-file request parts you can create them like the following:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n// ...\n// a file\nMockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;/some/name&quot;, &quot;text/plain&quot;, &quot;hello&quot;.getBytes())\n// and other parts\nbyte[] content = objectMapper.writeValueAsBytes(somePayload)\nPart somePart = new MockPart(&quot;someName&quot;, content)\nsomePart.getHeaders().setContentType(MediaType.APPLICATION_JSON)\n</code></pre>\n<p>and then call the service like this:</p>\n<pre><code>mockMvc.perform(multipart(&quot;/some/path&quot;)\n          .file(someFile)\n          .part(somePart)\n          .part(anotherPart))\n       .andExpect...\n</code></pre>\n<p>Note: sending multiple MockMultiPartFiles instead of Parts works, too. But that looks ugly.</p>\n"}],"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3182,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37049803,"answer_count":3,"score":7,"last_activity_date":1696955635,"creation_date":1462267827,"question_id":37000457,"body_markdown":"I&#39;m trying to test (through Spring test (mvc)) a controller that uses `servletRequest.getParts()` \r\n\r\nAll I&#39;ve read so far is that `MockMvcRequestBuilders.fileUpload().file()` is the solution. However I cannot make it work. I wrote the following test which fails\r\n\r\n\r\n    MockMultipartHttpServletRequestBuilder builder = MockMvcRequestBuilders.fileUpload(&quot;/foo&quot;)\r\n                .file(new MockMultipartFile(&quot;file&quot;, new byte[] { 1, 2, 3, 4 }));\r\n    MockHttpServletRequest rq = builder.buildRequest(null);\r\n    Assert.assertEquals(1, rq.getParts().size()); // result 0\r\n\r\nI went through spring code, and the call to `file(...)` adds an element in `List&lt;MockMultipartFile&gt;` when `getParts()` gets its elements from another list `(Map&lt;String, Part&gt; parts)`\r\n\r\nThere must be another way to do it...\r\n\r\n**Edit 1**\r\n\r\nThe code I&#39;m using to test the controller is :\r\n\r\n    ResultActions result = mockMvc.perform(\r\n                MockMvcRequestBuilders.fileUpload(new URI(&quot;/url&quot;)).file(&quot;param&quot;, &quot;expected&quot;.getBytes()))","title":"Setting request parts in spring test mvc","body":"<p>I'm trying to test (through Spring test (mvc)) a controller that uses <code>servletRequest.getParts()</code> </p>\n\n<p>All I've read so far is that <code>MockMvcRequestBuilders.fileUpload().file()</code> is the solution. However I cannot make it work. I wrote the following test which fails</p>\n\n<pre><code>MockMultipartHttpServletRequestBuilder builder = MockMvcRequestBuilders.fileUpload(\"/foo\")\n            .file(new MockMultipartFile(\"file\", new byte[] { 1, 2, 3, 4 }));\nMockHttpServletRequest rq = builder.buildRequest(null);\nAssert.assertEquals(1, rq.getParts().size()); // result 0\n</code></pre>\n\n<p>I went through spring code, and the call to <code>file(...)</code> adds an element in <code>List&lt;MockMultipartFile&gt;</code> when <code>getParts()</code> gets its elements from another list <code>(Map&lt;String, Part&gt; parts)</code></p>\n\n<p>There must be another way to do it...</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>The code I'm using to test the controller is :</p>\n\n<pre><code>ResultActions result = mockMvc.perform(\n            MockMvcRequestBuilders.fileUpload(new URI(\"/url\")).file(\"param\", \"expected\".getBytes()))\n</code></pre>\n"},{"tags":["java","cucumber","web-api-testing","cucumber-serenity"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1696955720,"post_id":77267257,"comment_id":136217677,"body_markdown":"Does `api-testing` have a dependency on `rest-commons`?","body":"Does <code>api-testing</code> have a dependency on <code>rest-commons</code>?"},{"owner":{"account_id":16824920,"reputation":1,"user_id":12164447,"display_name":"Stelian Yolov"},"score":0,"creation_date":1696957647,"post_id":77267257,"comment_id":136218076,"body_markdown":"Thank you for the idea, I added a dependency in api-testing for rest-commons, and the feature was mapped to the step definition","body":"Thank you for the idea, I added a dependency in api-testing for rest-commons, and the feature was mapped to the step definition"}],"owner":{"account_id":16824920,"reputation":1,"user_id":12164447,"display_name":"Stelian Yolov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696955538,"creation_date":1696952958,"question_id":77267257,"body_markdown":"I am unable to map the feature file to the step definition one which is in different module.\r\n\r\nThe project is split between two Java modules, in the firts one are the feature files and the runner and in the second one the steps and the definitions of the tests.\r\n\r\n\r\n\r\nThis is part of runner that I&#39;m currently using:\r\n```\r\n@RunWith ( CucumberWithSerenity.class )\r\n@CucumberOptions ( features = &quot;features/&quot;, glue = { &quot;com.kps.api.steps.definitions&quot; }, tags = &quot;@API&quot;\r\n    ,plugin = { &quot;pretty&quot;, &quot;json:target/cucumber-reports/Cucumber.json&quot; },\r\n    monochrome = true)\r\n```\r\nAnd this is the project structure\r\n```\r\n-API_TESTING\r\n--.idea\r\n--api-testing (First module)\r\n --feature\r\n   --feature.file\r\n --src\r\n   --java\r\n     --Runner.class\r\n\r\n--rest-commons (second module)\r\n  --src\r\n    --main\r\n      --java\r\n        --definitions\r\n```\r\nI was trying different &quot;glue&quot; options in the runner, but the result is the same:\r\n```\r\nio.cucumber.junit.UndefinedStepException: The step &quot;testing step&quot; is undefined.\r\nYou can implement this step using the snippet bellow:\r\n\r\n```\r\nIf I place the step definition in the same module as the feature file the it&#39;s working normally. \r\n","title":"Cucumber: Feature file is unable to find step definitions when they are in separate modules","body":"<p>I am unable to map the feature file to the step definition one which is in different module.</p>\n<p>The project is split between two Java modules, in the firts one are the feature files and the runner and in the second one the steps and the definitions of the tests.</p>\n<p>This is part of runner that I'm currently using:</p>\n<pre><code>@RunWith ( CucumberWithSerenity.class )\n@CucumberOptions ( features = &quot;features/&quot;, glue = { &quot;com.kps.api.steps.definitions&quot; }, tags = &quot;@API&quot;\n    ,plugin = { &quot;pretty&quot;, &quot;json:target/cucumber-reports/Cucumber.json&quot; },\n    monochrome = true)\n</code></pre>\n<p>And this is the project structure</p>\n<pre><code>-API_TESTING\n--.idea\n--api-testing (First module)\n --feature\n   --feature.file\n --src\n   --java\n     --Runner.class\n\n--rest-commons (second module)\n  --src\n    --main\n      --java\n        --definitions\n</code></pre>\n<p>I was trying different &quot;glue&quot; options in the runner, but the result is the same:</p>\n<pre><code>io.cucumber.junit.UndefinedStepException: The step &quot;testing step&quot; is undefined.\nYou can implement this step using the snippet bellow:\n\n</code></pre>\n<p>If I place the step definition in the same module as the feature file the it's working normally.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534544606,"creation_date":1534544606,"answer_id":51903524,"question_id":48964093,"body_markdown":"I had the exact same issue while I was creating an APK with React Native. It was solved changing the scope of signingConfigs.\r\n\r\nSource: https://github.com/researchgate/gradle-release/issues/187","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I had the exact same issue while I was creating an APK with React Native. It was solved changing the scope of signingConfigs.</p>\n\n<p>Source: <a href=\"https://github.com/researchgate/gradle-release/issues/187\" rel=\"nofollow noreferrer\">https://github.com/researchgate/gradle-release/issues/187</a></p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17297,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564391369,"creation_date":1564391369,"answer_id":57250540,"question_id":48964093,"body_markdown":"In my case (which was not in `signingConfig` block), I was using a property called `release` in a gradle file that was applied in my module gradle file.\r\n\r\n*build.gradle*:\r\n```groovy\r\napply from: &#39;a_file.gradle&#39;\r\n```\r\n\r\n*a_file.gradle*\r\n```groovy\r\ndef variable = release // which is undefined\r\n```\r\n\r\nAnd inside that file, I was using this `release` property which was not defined anywhere. So I simply fixed that problem.","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>In my case (which was not in <code>signingConfig</code> block), I was using a property called <code>release</code> in a gradle file that was applied in my module gradle file.</p>\n\n<p><em>build.gradle</em>:</p>\n\n<pre><code>apply from: 'a_file.gradle'\n</code></pre>\n\n<p><em>a_file.gradle</em></p>\n\n<pre><code>def variable = release // which is undefined\n</code></pre>\n\n<p>And inside that file, I was using this <code>release</code> property which was not defined anywhere. So I simply fixed that problem.</p>\n"},{"tags":[],"owner":{"account_id":13253565,"reputation":3003,"user_id":9570401,"display_name":"Inamur Rahman"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1608309493,"creation_date":1591362290,"answer_id":62216030,"question_id":48964093,"body_markdown":"I was also facing the same issue. **In my case** I just placed the `signingConfigs{}` above the `buildTypes{}`\r\n\r\n    signingConfigs {\r\n            release {\r\n                keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n                storePassword keystoreProperties[&#39;storePassword&#39;]\r\n            }\r\n        }\r\n    \r\n    buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I was also facing the same issue. <strong>In my case</strong> I just placed the <code>signingConfigs{}</code> above the <code>buildTypes{}</code></p>\n<pre><code>signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\nbuildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20764952,"reputation":121,"user_id":15249193,"display_name":"Aarti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614535864,"creation_date":1614245037,"answer_id":66365707,"question_id":48964093,"body_markdown":"Please try the following 10 steps :\r\n\r\n1) Go to &quot;**Build**&quot; on the top panel of Android Studio.\r\n2) Select &quot;**Edit Build Variant**&quot;.\r\n3) Go to &quot;**Modules**&quot;(on the left side).\r\n4) Click &quot;signin configs&quot;\r\n5) Click on &quot;+&quot; sign, and type &quot;release&quot;.\r\n6) Click apply and ok\r\n\r\nAfter this please enter your keystore details,   \r\n \r\n7) go to &quot;**Build variants**&quot; on the same place in the left side.    \r\n8) Click on &quot;**release**&quot;    \r\n9) scroll down and go to &quot;**sign in config**&quot; and select &quot;**$signinConfig.release**&quot;    \r\n10) Click apply and Ok.\r\n","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>Please try the following 10 steps :</p>\n<ol>\n<li>Go to &quot;<strong>Build</strong>&quot; on the top panel of Android Studio.</li>\n<li>Select &quot;<strong>Edit Build Variant</strong>&quot;.</li>\n<li>Go to &quot;<strong>Modules</strong>&quot;(on the left side).</li>\n<li>Click &quot;signin configs&quot;</li>\n<li>Click on &quot;+&quot; sign, and type &quot;release&quot;.</li>\n<li>Click apply and ok</li>\n</ol>\n<p>After this please enter your keystore details,</p>\n<ol start=\"7\">\n<li>go to &quot;<strong>Build variants</strong>&quot; on the same place in the left side.</li>\n<li>Click on &quot;<strong>release</strong>&quot;</li>\n<li>scroll down and go to &quot;<strong>sign in config</strong>&quot; and select &quot;<strong>$signinConfig.release</strong>&quot;</li>\n<li>Click apply and Ok.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11525976,"reputation":51,"user_id":8446430,"display_name":"Rodrigo Martins"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1660694044,"creation_date":1659994863,"answer_id":73284305,"question_id":48964093,"body_markdown":"In my case, I had already the `signingConfigs{}` block.\r\n\r\nWhat I did to fix this was, make sure that the `signingConfigs{}` block is declared before the `buildTypes{}` block.\r\n\r\nI didn&#39;t know that **Gradle** files are oriented by declaration position.","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>In my case, I had already the <code>signingConfigs{}</code> block.</p>\n<p>What I did to fix this was, make sure that the <code>signingConfigs{}</code> block is declared before the <code>buildTypes{}</code> block.</p>\n<p>I didn't know that <strong>Gradle</strong> files are oriented by declaration position.</p>\n"}],"owner":{"account_id":12659708,"reputation":231,"user_id":9201069,"display_name":"Gifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35307,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":5,"score":22,"last_activity_date":1696955254,"creation_date":1519483758,"question_id":48964093,"body_markdown":"\r\nI&#39;m trying to modify an open source code in android studio, but I keep getting Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer. Does anyone know what&#39;s wrong with the code?\r\nThe code in the build.gradle file is posted below.\r\n\r\n    //apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    android {\r\n    \r\n        // Create a variable called keystorePropertiesFile, and initialize it to your\r\n        // keystore.properties file, in the rootProject folder.\r\n        def keystorePropertiesFile = rootProject.file(&quot;keystore.properties&quot;)\r\n        if (keystorePropertiesFile.exists()) {\r\n            Properties keystoreProperties = new Properties();\r\n            keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n    \r\n    \r\n    \r\n        compileSdkVersion 27\r\n        buildToolsVersion &quot;$supportLibraryVersion&quot;\r\n        defaultConfig {\r\n            applicationId &quot;org.bottiger.podcast&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 27\r\n            versionCode 424        // even - release. Odd - development\r\n            versionName &quot;0.160.2&quot; // even - release. Odd - development\r\n            multiDexEnabled = true\r\n    \r\n            vectorDrawables.useSupportLibrary = true\r\n    \r\n            // Espresso\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-std=c++11&quot;\r\n                    arguments &#39;-DANDROID_PLATFORM=android-16&#39;, &#39;-DANDROID_TOOLCHAIN=clang&#39;\r\n                }\r\n            }\r\n        }\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n        // Point Gradle at the directory where you want to root all of your native code\r\n        // There is a default directory but I prefer to control which directories to use\r\n        // and there will be a point later where keeping control over this is important\r\n        sourceSets.main {\r\n            jni.srcDirs = [&quot;src/main/jni&quot;];\r\n            java.srcDirs += &#39;src/main/kotlin&#39;\r\n    \r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;LICENSE.txt&#39;\r\n            exclude &#39;META-INF/rxjava.properties&#39;\r\n        }\r\n    \r\n        flavorDimensions &quot;default&quot;\r\n    \r\n        productFlavors {\r\n    \r\n            dev {\r\n                // To avoid using legacy multidex when building from the command line,\r\n                // set minSdkVersion to 21 or higher. When using Android Studio 2.3 or higher,\r\n                // the build automatically avoids legacy multidex when deploying to a device running\r\n                // API level 21 or higher—regardless of what you set as your minSdkVersion.\r\n                minSdkVersion 21\r\n                versionNameSuffix &quot;-dev&quot;\r\n                //applicationIdSuffix &#39;.dev&#39;\r\n    \r\n                // The following configuration limits the &quot;dev&quot; flavor to using\r\n                // English stringresources and xxhdpi screen-density resources.\r\n                resConfigs &quot;en&quot;, &quot;xxhdpi&quot;\r\n    \r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;true&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            free {\r\n                ndk {\r\n                    abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;\r\n                }\r\n    \r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;true&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;true&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            google {\r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            amazon {\r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n        }\r\n    \r\n            signingConfigs {\r\n                release {\r\n                    keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                    keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                    storeFile file(keystoreProperties[&#39;storeFile&#39;])\r\n                    storePassword keystoreProperties[&#39;storePassword&#39;]\r\n                }\r\n            }\r\n            android.buildTypes.release.signingConfig = signingConfigs.release\r\n        } else  {\r\n            android.buildTypes.release.signingConfig = null\r\n        }\r\n    \r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n    \r\n    \r\n            }\r\n        }\r\n        // http://stackoverflow.com/questions/22851103/android-studio-gradle-error-multiple-dex-files-define\r\n        dexOptions {\r\n            preDexLibraries true\r\n            maxProcessCount 8\r\n            javaMaxHeapSize &quot;2g&quot;\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        // Encapsulates your external native build configurations.\r\n        externalNativeBuild {\r\n    \r\n            // Encapsulates your CMake build configurations.\r\n            cmake {\r\n                // Provides a relative path to your CMake build script.\r\n                path &quot;src/main/cpp/CMakeLists.txt&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n        google()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        compile &#39;com.android.support:multidex:1.0.2&#39;\r\n    \r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\r\n    \r\n        compile &quot;com.android.support:support-v4:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:appcompat-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:recyclerview-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:palette-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:cardview-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:mediarouter-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:design:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:percent:$supportLibraryVersion&quot;\r\n    \r\n        compile &quot;android.arch.lifecycle:runtime:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.lifecycle:extensions:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.lifecycle:reactivestreams:$architectureComponentsVersion&quot;\r\n        annotationProcessor &quot;android.arch.lifecycle:compiler:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.persistence.room:runtime:$architectureComponentsVersion&quot;\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.persistence.room:rxjava2:$architectureComponentsVersion&quot;\r\n    \r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n    \r\n        compile &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.2.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.2.0&#39;\r\n        compile(&#39;com.googlecode.json-simple:json-simple:1.1.1&#39;) {\r\n            exclude module: &#39;junit&#39;\r\n        }\r\n        //compile &#39;com.google.apis:google-api-services-drive:+&#39;\r\n        compile &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        compile &#39;io.reactivex:rxjava:1.3.0&#39;\r\n    \r\n        compile &#39;com.jakewharton.rxbinding2:rxbinding:2.0.0&#39;\r\n        compile &#39;io.reactivex.rxjava2:rxandroid:2.0.1&#39;\r\n        compile &#39;io.reactivex.rxjava2:rxjava:2.1.8&#39;\r\n    \r\n        compile &#39;io.requery:sqlite-android:3.20.0&#39;\r\n        compile &#39;com.google.android.exoplayer:exoplayer:2.6.1&#39;\r\n        compile(&#39;com.wdullaer:materialdatetimepicker:3.1.1&#39;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n        }\r\n    \r\n        // Glide\r\n        compile &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:okhttp3-integration:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:recyclerview-integration:$glide_version&quot;\r\n        annotationProcessor &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n    \r\n        compile &#39;net.steamcrafted:materialiconlib:1.1.2&#39;\r\n        compile &#39;org.whispersystems:libpastelog:1.0.7&#39;\r\n        compile &#39;com.bignerdranch.android:recyclerview-multiselect:0.2&#39;\r\n        compile &#39;com.google.http-client:google-http-client-gson:1.22.0&#39;\r\n    \r\n        compile &#39;jp.wasabeef:recyclerview-animators:2.2.6&#39;\r\n        compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.6&#39;\r\n        compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        compile &#39;com.bugsnag:bugsnag-android:3.8.0&#39;\r\n        compile &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n        compile &#39;com.heinrichreimersoftware:material-intro:1.6.2&#39;\r\n        compile &#39;com.dmitrymalkovich.android:material-design-dimens:1.4&#39;\r\n        compile &#39;com.github.daniel-stoneuk:material-about-library:2.2.3-support26.1.0&#39;\r\n        compile &#39;org.unbescape:unbescape:1.1.4.RELEASE&#39;\r\n        compile &#39;com.google.dagger:dagger:2.10&#39;\r\n        annotationProcessor &#39;com.google.dagger:dagger-compiler:2.10&#39;\r\n    \r\n        compile project(&#39;:armv7-fmmr&#39;)\r\n        // For testing only\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        testCompile &#39;org.mockito:mockito-core:2.7.19&#39;\r\n        testCompile(&quot;android.arch.persistence.room:testing:$architectureComponentsVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n            exclude group: &#39;com.google.code.gson&#39;\r\n        }\r\n    \r\n        configurations.all {\r\n            resolutionStrategy.force &quot;com.android.support:support-annotations:$supportLibraryVersion&quot;\r\n            resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:3.0.1&#39;\r\n    \r\n            exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpclient&quot;\r\n        }\r\n        // Espresso\r\n        // https://developer.android.com/training/testing/ui-testing/espresso-testing.html\r\n        androidTestCompile &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestCompile &#39;com.android.support.test:rules:1.0.1&#39;\r\n        androidTestCompile &#39;com.jakewharton.espresso:okhttp3-idling-resource:1.0.0&#39;\r\n        androidTestCompile &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n        androidTestCompile(&quot;com.android.support.test.espresso:espresso-contrib:$espressoVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n        }\r\n        androidTestCompile(&quot;com.android.support.test.espresso:espresso-core:$espressoVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        }\r\n        // Free version\r\n        // Amazon version\r\n        amazonCompile fileTree(dir: &#39;src/amazon/libs&#39;, include: [&#39;*.jar&#39;])\r\n        amazonCompile &quot;com.google.android.gms:play-services-cast:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-cast-framework:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-auth:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-location:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.firebase:firebase-messaging:$playServicesVersion&quot;\r\n        // google cast\r\n        // Play Store\r\n        googleCompile &quot;com.google.android.gms:play-services-analytics:$playServicesVersion&quot;\r\n        // analytics\r\n        googleCompile &quot;com.google.android.gms:play-services-cast:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-cast-framework:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-auth:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-location:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-core:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-messaging:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-database:$playServicesVersion&quot;\r\n        // google cast\r\n        compile project(&#39;:soundwavescommon&#39;)\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I'm trying to modify an open source code in android studio, but I keep getting Error:(134, 0) Could not get unknown property 'release' for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer. Does anyone know what's wrong with the code?\nThe code in the build.gradle file is posted below.</p>\n\n<pre><code>//apply plugin: 'idea'\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n\n    // Create a variable called keystorePropertiesFile, and initialize it to your\n    // keystore.properties file, in the rootProject folder.\n    def keystorePropertiesFile = rootProject.file(\"keystore.properties\")\n    if (keystorePropertiesFile.exists()) {\n        Properties keystoreProperties = new Properties();\n        keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\n\n\n    compileSdkVersion 27\n    buildToolsVersion \"$supportLibraryVersion\"\n    defaultConfig {\n        applicationId \"org.bottiger.podcast\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 424        // even - release. Odd - development\n        versionName \"0.160.2\" // even - release. Odd - development\n        multiDexEnabled = true\n\n        vectorDrawables.useSupportLibrary = true\n\n        // Espresso\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        externalNativeBuild {\n            cmake {\n                cppFlags \"-std=c++11\"\n                arguments '-DANDROID_PLATFORM=android-16', '-DANDROID_TOOLCHAIN=clang'\n            }\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n    // Point Gradle at the directory where you want to root all of your native code\n    // There is a default directory but I prefer to control which directories to use\n    // and there will be a point later where keeping control over this is important\n    sourceSets.main {\n        jni.srcDirs = [\"src/main/jni\"];\n        java.srcDirs += 'src/main/kotlin'\n\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n    packagingOptions {\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/NOTICE'\n        exclude 'LICENSE.txt'\n        exclude 'META-INF/rxjava.properties'\n    }\n\n    flavorDimensions \"default\"\n\n    productFlavors {\n\n        dev {\n            // To avoid using legacy multidex when building from the command line,\n            // set minSdkVersion to 21 or higher. When using Android Studio 2.3 or higher,\n            // the build automatically avoids legacy multidex when deploying to a device running\n            // API level 21 or higher—regardless of what you set as your minSdkVersion.\n            minSdkVersion 21\n            versionNameSuffix \"-dev\"\n            //applicationIdSuffix '.dev'\n\n            // The following configuration limits the \"dev\" flavor to using\n            // English stringresources and xxhdpi screen-density resources.\n            resConfigs \"en\", \"xxhdpi\"\n\n            buildConfigField \"boolean\", \"DEV_MODE\", \"true\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n\n        free {\n            ndk {\n                abiFilters \"armeabi-v7a\", \"x86\"\n            }\n\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"true\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"true\"\n\n            dimension \"default\"\n        }\n\n        google {\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n\n        amazon {\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n    }\n\n        signingConfigs {\n            release {\n                keyAlias keystoreProperties['keyAlias']\n                keyPassword keystoreProperties['keyPassword']\n                storeFile file(keystoreProperties['storeFile'])\n                storePassword keystoreProperties['storePassword']\n            }\n        }\n        android.buildTypes.release.signingConfig = signingConfigs.release\n    } else  {\n        android.buildTypes.release.signingConfig = null\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n\n\n        }\n    }\n    // http://stackoverflow.com/questions/22851103/android-studio-gradle-error-multiple-dex-files-define\n    dexOptions {\n        preDexLibraries true\n        maxProcessCount 8\n        javaMaxHeapSize \"2g\"\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    // Encapsulates your external native build configurations.\n    externalNativeBuild {\n\n        // Encapsulates your CMake build configurations.\n        cmake {\n            // Provides a relative path to your CMake build script.\n            path \"src/main/cpp/CMakeLists.txt\"\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n    google()\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:multidex:1.0.2'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    compile \"com.android.support:support-v4:$supportLibraryVersion\"\n    compile \"com.android.support:appcompat-v7:$supportLibraryVersion\"\n    compile \"com.android.support:recyclerview-v7:$supportLibraryVersion\"\n    compile \"com.android.support:palette-v7:$supportLibraryVersion\"\n    compile \"com.android.support:cardview-v7:$supportLibraryVersion\"\n    compile \"com.android.support:mediarouter-v7:$supportLibraryVersion\"\n    compile \"com.android.support:design:$supportLibraryVersion\"\n    compile \"com.android.support:percent:$supportLibraryVersion\"\n\n    compile \"android.arch.lifecycle:runtime:$architectureComponentsVersion\"\n    compile \"android.arch.lifecycle:extensions:$architectureComponentsVersion\"\n    compile \"android.arch.lifecycle:reactivestreams:$architectureComponentsVersion\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$architectureComponentsVersion\"\n    compile \"android.arch.persistence.room:runtime:$architectureComponentsVersion\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$architectureComponentsVersion\"\n    compile \"android.arch.persistence.room:rxjava2:$architectureComponentsVersion\"\n\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    compile \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    compile 'com.squareup.retrofit2:retrofit:2.2.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.2.0'\n    compile('com.googlecode.json-simple:json-simple:1.1.1') {\n        exclude module: 'junit'\n    }\n    //compile 'com.google.apis:google-api-services-drive:+'\n    compile 'io.reactivex:rxandroid:1.2.1'\n    compile 'io.reactivex:rxjava:1.3.0'\n\n    compile 'com.jakewharton.rxbinding2:rxbinding:2.0.0'\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.8'\n\n    compile 'io.requery:sqlite-android:3.20.0'\n    compile 'com.google.android.exoplayer:exoplayer:2.6.1'\n    compile('com.wdullaer:materialdatetimepicker:3.1.1') {\n        exclude group: 'com.android.support'\n    }\n\n    // Glide\n    compile \"com.github.bumptech.glide:glide:$glide_version\"\n    compile \"com.github.bumptech.glide:okhttp3-integration:$glide_version\"\n    compile \"com.github.bumptech.glide:compiler:$glide_version\"\n    compile \"com.github.bumptech.glide:recyclerview-integration:$glide_version\"\n    annotationProcessor \"com.github.bumptech.glide:compiler:$glide_version\"\n\n    compile 'net.steamcrafted:materialiconlib:1.1.2'\n    compile 'org.whispersystems:libpastelog:1.0.7'\n    compile 'com.bignerdranch.android:recyclerview-multiselect:0.2'\n    compile 'com.google.http-client:google-http-client-gson:1.22.0'\n\n    compile 'jp.wasabeef:recyclerview-animators:2.2.6'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.8.6'\n    compile 'com.nineoldandroids:library:2.4.0'\n    compile 'com.bugsnag:bugsnag-android:3.8.0'\n    compile 'com.journeyapps:zxing-android-embedded:3.4.0'\n    compile 'com.heinrichreimersoftware:material-intro:1.6.2'\n    compile 'com.dmitrymalkovich.android:material-design-dimens:1.4'\n    compile 'com.github.daniel-stoneuk:material-about-library:2.2.3-support26.1.0'\n    compile 'org.unbescape:unbescape:1.1.4.RELEASE'\n    compile 'com.google.dagger:dagger:2.10'\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.10'\n\n    compile project(':armv7-fmmr')\n    // For testing only\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.mockito:mockito-core:2.7.19'\n    testCompile(\"android.arch.persistence.room:testing:$architectureComponentsVersion\") {\n        exclude group: 'com.android.support'\n        exclude group: 'com.google.code.gson'\n    }\n\n    configurations.all {\n        resolutionStrategy.force \"com.android.support:support-annotations:$supportLibraryVersion\"\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:3.0.1'\n\n        exclude group: \"org.apache.httpcomponents\", module: \"httpclient\"\n    }\n    // Espresso\n    // https://developer.android.com/training/testing/ui-testing/espresso-testing.html\n    androidTestCompile 'com.android.support.test:runner:1.0.1'\n    androidTestCompile 'com.android.support.test:rules:1.0.1'\n    androidTestCompile 'com.jakewharton.espresso:okhttp3-idling-resource:1.0.0'\n    androidTestCompile \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    androidTestCompile(\"com.android.support.test.espresso:espresso-contrib:$espressoVersion\") {\n        exclude group: 'com.android.support'\n    }\n    androidTestCompile(\"com.android.support.test.espresso:espresso-core:$espressoVersion\") {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    // Free version\n    // Amazon version\n    amazonCompile fileTree(dir: 'src/amazon/libs', include: ['*.jar'])\n    amazonCompile \"com.google.android.gms:play-services-cast:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-cast-framework:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-auth:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-location:$playServicesVersion\"\n    amazonCompile \"com.google.firebase:firebase-messaging:$playServicesVersion\"\n    // google cast\n    // Play Store\n    googleCompile \"com.google.android.gms:play-services-analytics:$playServicesVersion\"\n    // analytics\n    googleCompile \"com.google.android.gms:play-services-cast:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-cast-framework:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-auth:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-location:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-core:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-messaging:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-database:$playServicesVersion\"\n    // google cast\n    compile project(':soundwavescommon')\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["java","spring","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696955063,"creation_date":1696955063,"answer_id":77267480,"question_id":77267032,"body_markdown":"Consider to use this API of that error handler:\r\n\r\n\t/**\r\n\t * Set a function to dynamically determine the {@link BackOff} to use, based on the\r\n\t * consumer record and/or exception. If null is returned, the default BackOff will be\r\n\t * used.\r\n\t * @param backOffFunction the function.\r\n\t * @since 2.6\r\n\t */\r\n\tpublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\r\n\r\nhttps://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh","title":"Spring Kafka Not Retryable Exceptions Filter","body":"<p>Consider to use this API of that error handler:</p>\n<pre><code>/**\n * Set a function to dynamically determine the {@link BackOff} to use, based on the\n * consumer record and/or exception. If null is returned, the default BackOff will be\n * used.\n * @param backOffFunction the function.\n * @since 2.6\n */\npublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh</a></p>\n"}],"owner":{"account_id":18127008,"reputation":103,"user_id":13182452,"display_name":"Petro Prydorozhnyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77267480,"answer_count":1,"score":0,"last_activity_date":1696955063,"creation_date":1696951113,"question_id":77267032,"body_markdown":"I&#39;m trying to implement dynamic Kafka exception handling, specifically reties on some conditions but cannot find any way to filter exceptions that should not be retried not only by their class. My error handler code looks like this:\r\n\r\n```\r\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(\r\n                (consumerRecord, e) -&gt; {\r\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\r\n                },\r\n                exponentialBackOff);\r\n\r\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\r\n```\r\n\r\nbut I want to control what is a non-retryable exception more granularly like:\r\n\r\n\r\n```\r\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(\r\n                (consumerRecord, e) -&gt; {\r\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\r\n                },\r\n                exponentialBackOff);\r\n\r\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\r\nerrorHandler.addNotRetryableExceptionFilter(throwable -&gt; throwable.getMessage().startsWith(&quot;foo&quot;));\r\n```\r\n\r\n\r\n\r\nI cannot find such functionality inside the standard implementation. I checked sources and found *BinaryExceptionClassifier#classify* which checks fatal/not fatal exceptions but perhaps customizing it is not the best way to deal with it.\r\n\r\nIs there any way to effectively have a filter to check whether the expection is retryable or not?","title":"Spring Kafka Not Retryable Exceptions Filter","body":"<p>I'm trying to implement dynamic Kafka exception handling, specifically reties on some conditions but cannot find any way to filter exceptions that should not be retried not only by their class. My error handler code looks like this:</p>\n<pre><code>DefaultErrorHandler errorHandler = new DefaultErrorHandler(\n                (consumerRecord, e) -&gt; {\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\n                },\n                exponentialBackOff);\n\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\n</code></pre>\n<p>but I want to control what is a non-retryable exception more granularly like:</p>\n<pre><code>DefaultErrorHandler errorHandler = new DefaultErrorHandler(\n                (consumerRecord, e) -&gt; {\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\n                },\n                exponentialBackOff);\n\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\nerrorHandler.addNotRetryableExceptionFilter(throwable -&gt; throwable.getMessage().startsWith(&quot;foo&quot;));\n</code></pre>\n<p>I cannot find such functionality inside the standard implementation. I checked sources and found <em>BinaryExceptionClassifier#classify</em> which checks fatal/not fatal exceptions but perhaps customizing it is not the best way to deal with it.</p>\n<p>Is there any way to effectively have a filter to check whether the expection is retryable or not?</p>\n"},{"tags":["java","exception","httpclient"],"answers":[{"tags":[],"owner":{"account_id":79739,"reputation":8808,"user_id":225885,"accept_rate":71,"display_name":"jim"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1353947056,"creation_date":1332101337,"answer_id":9761833,"question_id":9761575,"body_markdown":"Well after doing some more searching I discovered the error may be related to other issues as invalid keystores, passwords etc.\r\n\r\nI then remembered that I had set two VM arguments for when I was testing SSL for my network connectivity.\r\n\r\nI removed the following VM arguments to fix the problem:\r\n\r\n    -Djavax.net.ssl.keyStore=mySrvKeystore -Djavax.net.ssl.keyStorePassword=123456\r\n\r\nNote: this keystore no longer exists so that&#39;s probably why the Exception.","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>Well after doing some more searching I discovered the error may be related to other issues as invalid keystores, passwords etc.</p>\n\n<p>I then remembered that I had set two VM arguments for when I was testing SSL for my network connectivity.</p>\n\n<p>I removed the following VM arguments to fix the problem:</p>\n\n<pre><code>-Djavax.net.ssl.keyStore=mySrvKeystore -Djavax.net.ssl.keyStorePassword=123456\n</code></pre>\n\n<p>Note: this keystore no longer exists so that's probably why the Exception.</p>\n"},{"tags":[],"owner":{"account_id":389040,"reputation":385,"user_id":748285,"accept_rate":25,"display_name":"RJC"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1393426464,"creation_date":1393426464,"answer_id":22045028,"question_id":9761575,"body_markdown":"I&#39;ve had a similar issue with this error.  In my case, I was entering the incorrect password for the Keystore.\r\n\r\nI changed the password for the Keystore to match what I was entering (I didn&#39;t want to change the password I was entering), but it still gave the same error.\r\n\r\n    keytool -storepasswd -keystore keystore.jks\r\n\r\nProblem was that I also needed to change the Key&#39;s password within the Keystore.  \r\n\r\nWhen I initially created the Keystore, the Key was created with the same password as the Keystore (I accepted this default option).  So I had to also change the Key&#39;s password as follows:\r\n\r\n    keytool -keypasswd  -alias my.alias -keystore keystore.jks","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I've had a similar issue with this error.  In my case, I was entering the incorrect password for the Keystore.</p>\n\n<p>I changed the password for the Keystore to match what I was entering (I didn't want to change the password I was entering), but it still gave the same error.</p>\n\n<pre><code>keytool -storepasswd -keystore keystore.jks\n</code></pre>\n\n<p>Problem was that I also needed to change the Key's password within the Keystore.  </p>\n\n<p>When I initially created the Keystore, the Key was created with the same password as the Keystore (I accepted this default option).  So I had to also change the Key's password as follows:</p>\n\n<pre><code>keytool -keypasswd  -alias my.alias -keystore keystore.jks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539254112,"creation_date":1539254112,"answer_id":52757944,"question_id":9761575,"body_markdown":" I had the similar issue. The problem was in the passwords: the Keystore and private key used different passwords. (KeyStore explorer was used)\r\n\r\nAfter creating Keystore with the same password as private key had the issue was resolved.\r\n","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I had the similar issue. The problem was in the passwords: the Keystore and private key used different passwords. (KeyStore explorer was used)</p>\n\n<p>After creating Keystore with the same password as private key had the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":279172,"reputation":4377,"user_id":574187,"accept_rate":64,"display_name":"ihadanny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628780241,"creation_date":1628780241,"answer_id":68759782,"question_id":9761575,"body_markdown":"similar issue - had this bug when running from within intellij, did not have it when running from maven.\r\n\r\nturns out that IntelliJ was internally using bad java:\r\n\r\n```\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java --version\r\nopenjdk 11.0.12 2021-07-20\r\n```\r\n\r\nwhile maven was using good java:\r\n\r\n```\r\n/usr/local/buildtools/java/jdk11/bin/java --version\r\nopenjdk 11.0.11 2021-08-03\r\n```\r\n\r\nprobably one of these had some of the above keystore problems. ","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>similar issue - had this bug when running from within intellij, did not have it when running from maven.</p>\n<p>turns out that IntelliJ was internally using bad java:</p>\n<pre><code>/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java --version\nopenjdk 11.0.12 2021-07-20\n</code></pre>\n<p>while maven was using good java:</p>\n<pre><code>/usr/local/buildtools/java/jdk11/bin/java --version\nopenjdk 11.0.11 2021-08-03\n</code></pre>\n<p>probably one of these had some of the above keystore problems.</p>\n"},{"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676550084,"creation_date":1676550084,"answer_id":75472190,"question_id":9761575,"body_markdown":"You can try un-disabling of MD2 by re-enabling it by editing JDK_HOME/jre/lib/security/java.security. Simply comment the following line: From jdk.certpath.disabledAlgorithms=MD2 to #jdk.certpath.disabledAlgorithms=MD2","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>You can try un-disabling of MD2 by re-enabling it by editing JDK_HOME/jre/lib/security/java.security. Simply comment the following line: From jdk.certpath.disabledAlgorithms=MD2 to #jdk.certpath.disabledAlgorithms=MD2</p>\n"},{"tags":[],"owner":{"account_id":27724902,"reputation":299,"user_id":21164658,"display_name":"CloudWatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689936007,"creation_date":1689241039,"answer_id":76677957,"question_id":9761575,"body_markdown":"I ran into this error message using [typesafe config][1]. I noticed that the error message was preceeded by these log messages:\r\n```\r\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.048 CEST|TrustStoreManager.java:161|Inaccessible trust store: /srv/truststore.jks\r\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.050 CEST|TrustStoreManager.java:112|trustStore is: /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts\r\n```\r\nSo even though I had used `-Djavax.net.ssl.trustStore=./truststore.jks` when starting the application, it would not stick and the application tried to access a different truststore. The explanation was that `/srv/truststore.jks` was configured in the reference.conf, overwrote the value of the system property in the code, did not exist locally and did not match the one I wanted to use. Then, a default truststore was used by Java, which of course did not have the correct certificates.\r\n\r\nThe reference.conf could be overridden by `-DtrustStore=./truststore.jks` on application start, no further credentials needed.\r\n\r\n\r\n  [1]: https://github.com/lightbend/config","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I ran into this error message using <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">typesafe config</a>. I noticed that the error message was preceeded by these log messages:</p>\n<pre><code>javax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.048 CEST|TrustStoreManager.java:161|Inaccessible trust store: /srv/truststore.jks\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.050 CEST|TrustStoreManager.java:112|trustStore is: /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts\n</code></pre>\n<p>So even though I had used <code>-Djavax.net.ssl.trustStore=./truststore.jks</code> when starting the application, it would not stick and the application tried to access a different truststore. The explanation was that <code>/srv/truststore.jks</code> was configured in the reference.conf, overwrote the value of the system property in the code, did not exist locally and did not match the one I wanted to use. Then, a default truststore was used by Java, which of course did not have the correct certificates.</p>\n<p>The reference.conf could be overridden by <code>-DtrustStore=./truststore.jks</code> on application start, no further credentials needed.</p>\n"},{"tags":[],"owner":{"account_id":21797838,"reputation":81,"user_id":16097168,"display_name":"Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696954040,"creation_date":1696954040,"answer_id":77267390,"question_id":9761575,"body_markdown":"I use HttpURLConnection and see error java.security.NoSuchAlgorithmException. I use below codes and solved problem.\r\n```\r\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // or &quot;SSL&quot; depending on your requirements\r\nsslContext.init(null, null, new SecureRandom());\r\n\r\n((HttpsURLConnection) connection).setSSLSocketFactory(sslContext.getSocketFactory());\r\n```","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I use HttpURLConnection and see error java.security.NoSuchAlgorithmException. I use below codes and solved problem.</p>\n<pre><code>SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // or &quot;SSL&quot; depending on your requirements\nsslContext.init(null, null, new SecureRandom());\n\n((HttpsURLConnection) connection).setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n"}],"owner":{"account_id":79739,"reputation":8808,"user_id":225885,"accept_rate":71,"display_name":"jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160103,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":9761833,"answer_count":7,"score":42,"last_activity_date":1696954040,"creation_date":1332099393,"question_id":9761575,"body_markdown":"**Background**\r\n\r\nI have been using the Authorize.net SDK in an Eclipse project of it&#39;s own. Everything was working great. I then needed to add it to my main project. I added the dependencies to the class path and the copied in the block of code that I needed. It should have worked.\r\n\r\n**Problem**\r\n\r\nLong story short, the code wouldn&#39;t work where I placed it. However, it will work when I bring it right out to the main method in the project.\r\n\r\nIn the place it won&#39;t work I stepped through the code with the debugger and found the following exception:\r\n\r\n    java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n\r\nthrown at:\r\n\r\n    HttpResponse httpResponse = httpClient.execute(httpPost);\r\nNote: httpClient = [DefaultHttpClient][1] from Apache\r\n\r\n\r\nI&#39;m completely stumped now. Don&#39;t what is causing this error. In Eclipse both products appear to be targeting the same JRE. They also both have httpclient-4.0.1.jar. Note that The problematic project also has some other dependencies that the working project doesnt { boneCP, guava, mysql_connector_java, protobuf }\r\n\r\nI don&#39;t think the extra jars are the cause as the problem code works at a different location in the project.\r\n\r\nAny ideas on what is wrong are greatly appreciated, i&#39;ve spent the day debugging this and don&#39;t know where to go next.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p><strong>Background</strong></p>\n\n<p>I have been using the Authorize.net SDK in an Eclipse project of it's own. Everything was working great. I then needed to add it to my main project. I added the dependencies to the class path and the copied in the block of code that I needed. It should have worked.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>Long story short, the code wouldn't work where I placed it. However, it will work when I bring it right out to the main method in the project.</p>\n\n<p>In the place it won't work I stepped through the code with the debugger and found the following exception:</p>\n\n<pre><code>java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n</code></pre>\n\n<p>thrown at:</p>\n\n<pre><code>HttpResponse httpResponse = httpClient.execute(httpPost);\n</code></pre>\n\n<p>Note: httpClient = <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\">DefaultHttpClient</a> from Apache</p>\n\n<p>I'm completely stumped now. Don't what is causing this error. In Eclipse both products appear to be targeting the same JRE. They also both have httpclient-4.0.1.jar. Note that The problematic project also has some other dependencies that the working project doesnt { boneCP, guava, mysql_connector_java, protobuf }</p>\n\n<p>I don't think the extra jars are the cause as the problem code works at a different location in the project.</p>\n\n<p>Any ideas on what is wrong are greatly appreciated, i've spent the day debugging this and don't know where to go next.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","ejb","wildfly","circular-dependency"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696907034,"post_id":77238263,"comment_id":136209463,"body_markdown":"What do you mean by &quot;call&quot;? You should be able to do this with the deployment in WildFly, but you can&#39;t do it in a Maven build.","body":"What do you mean by &quot;call&quot;? You should be able to do this with the deployment in WildFly, but you can&#39;t do it in a Maven build."},{"owner":{"account_id":23255114,"reputation":1,"user_id":17342295,"display_name":"Maloda"},"score":0,"creation_date":1696910648,"post_id":77238263,"comment_id":136209720,"body_markdown":"I mean I want that the EJB act as a server as a client too, but to be able to do that each of them need the dependency of the other","body":"I mean I want that the EJB act as a server as a client too, but to be able to do that each of them need the dependency of the other"}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696953634,"creation_date":1696953634,"answer_id":77267336,"question_id":77238263,"body_markdown":"You can&#39;t have circular dependencies like that in build tools as it has to build one first. However, it can&#39;t build one without the other. You may want to consider handling this differently. Either put the common types into their own library or combine the two into a single library.","title":"Maven cyclic dependency error with EJBs acting as server as ejb client too","body":"<p>You can't have circular dependencies like that in build tools as it has to build one first. However, it can't build one without the other. You may want to consider handling this differently. Either put the common types into their own library or combine the two into a single library.</p>\n"}],"owner":{"account_id":23255114,"reputation":1,"user_id":17342295,"display_name":"Maloda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696953634,"creation_date":1696517555,"question_id":77238263,"body_markdown":"I created two projects with the same structure that will be packaged to ear and deployed using WildFly 29 Domain.\r\nA project contains an EJB module and a WEB module\r\n\r\nLet them be A and B\r\n\r\n\r\nI have done some research and I followed the [quickstart-ejb-multi-server][1] and A and B hase the same structure in it.\r\nI am already able to call A from B, but when I tried to call B from A, I got a problem with the **maven cyclic dependency**, because **A&#39;s EJB must be in B&#39;s pom.xml dependencies and the same as B&#39;s EJB must be in A&#39;s pom.xml dependencies**\r\n\r\n\r\nThe main pom.xml contains:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n  \r\nThe A or B&#39; pom.xml contains:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;ejb&lt;/module&gt;\r\n        &lt;module&gt;web&lt;/module&gt;\r\n        &lt;module&gt;ear&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n\r\nAnd  B&#39;s EJB pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A-ejb&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;ejb-client&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.ejb3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-ejb3-ext-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;2.2.0.Final&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;version&gt;19.8.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\r\n                    &lt;generateClient&gt;true&lt;/generateClient&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nI am able to call A from B and now I can&#39; t do the inverse\r\nI have already searched how to solve the cyclic dependency, but I didn&#39;t find a solution for EJB\r\nWhat should I do ?\r\n\r\n[1]: https://github.com/wildfly/quickstart/blob/main/ejb-multi-server/README.adoc#install_the_quickstart_parent_artifact_in_maven","title":"Maven cyclic dependency error with EJBs acting as server as ejb client too","body":"<p>I created two projects with the same structure that will be packaged to ear and deployed using WildFly 29 Domain.\nA project contains an EJB module and a WEB module</p>\n<p>Let them be A and B</p>\n<p>I have done some research and I followed the <a href=\"https://github.com/wildfly/quickstart/blob/main/ejb-multi-server/README.adoc#install_the_quickstart_parent_artifact_in_maven\" rel=\"nofollow noreferrer\">quickstart-ejb-multi-server</a> and A and B hase the same structure in it.\nI am already able to call A from B, but when I tried to call B from A, I got a problem with the <strong>maven cyclic dependency</strong>, because <strong>A's EJB must be in B's pom.xml dependencies and the same as B's EJB must be in A's pom.xml dependencies</strong></p>\n<p>The main pom.xml contains:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;A&lt;/module&gt;\n    &lt;module&gt;B&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>The A or B' pom.xml contains:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;ejb&lt;/module&gt;\n    &lt;module&gt;web&lt;/module&gt;\n    &lt;module&gt;ear&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>And  B's EJB pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;A-ejb&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;ejb-client&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ejb3&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-ejb3-ext-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;2.2.0.Final&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;version&gt;19.8.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\n                &lt;generateClient&gt;true&lt;/generateClient&gt;\n                &lt;archive&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I am able to call A from B and now I can' t do the inverse\nI have already searched how to solve the cyclic dependency, but I didn't find a solution for EJB\nWhat should I do ?</p>\n"},{"tags":["java","spring-boot","server"],"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696953259,"creation_date":1696953108,"question_id":77267275,"body_markdown":"I want my Spring Boot Application to run on a vServer and not only from my local machine. \r\nSo I rented a vServer which is available under http://81f32c8.online-server.cloud/. \r\nAfter that I ran my build Spring Boot App on the server with `java -jar -Dspring.profiles.active=prod ./app.jar`\r\n\r\nAnd Spring Boot started successfully: \r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.8)\r\n\r\n2023-10-10 15:42:49.906  INFO 5279 --- [           main] com.example.system.SystemApplication     : Starting SystemApplication using Java 11.0.20.1 on localhost with PID 5279 (/root/app.jar started by root in /root)\r\n2023-10-10 15:42:49.915  INFO 5279 --- [           main] com.example.system.SystemApplication     : The following 1 profile is active: &quot;prod&quot;\r\n2023-10-10 15:42:52.870  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-10 15:42:53.150  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 8 JPA repository interfaces.\r\n2023-10-10 15:42:55.298  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\r\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5513 ms\r\n2023-10-10 15:42:56.757  WARN 5279 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-10-10 15:42:57.173  INFO 5279 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-10-10 15:42:57.366  INFO 5279 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n2023-10-10 15:42:57.940  INFO 5279 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-10-10 15:42:58.313  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-10 15:42:58.538  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-10-10 15:42:58.651  INFO 5279 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MariaDB106Dialect\r\n2023-10-10 15:43:00.963  INFO 5279 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-10-10 15:43:00.995  INFO 5279 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-10-10 15:43:06.896  INFO 5279 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c1663c, org.springframework.security.web.context.SecurityContextPersistenceFilter@42aae04d, org.springframework.security.web.header.HeaderWriterFilter@6419a0e1, org.springframework.web.filter.CorsFilter@f5cf29b, org.springframework.security.web.authentication.logout.LogoutFilter@16a35bd, com.example.system.security.jwt.JwtAuthenticationTokenFilter@3f9f71ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@575e572f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7426a448, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c66b7d8, org.springframework.security.web.session.SessionManagementFilter@56b859a6, org.springframework.security.web.access.ExceptionTranslationFilter@6ed043d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a2e565]\r\n2023-10-10 15:43:07.854  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-10-10 15:43:07.891  INFO 5279 --- [           main] com.example.system.SystemApplication     : Started SystemApplication in 19.602 seconds (JVM running for 21.136)\r\n```\r\n\r\nBut when I try to reach my get endpoint `/api/v1/instrument/list` with `http://81f32c8.online-server.cloud/api/v1/instrument/list` I got no response. \r\n\r\nHas someone an idea what I forgot? \r\nDo I have to configure the tomcat webserver somehow?","title":"Spring Boot API on vServer not responding","body":"<p>I want my Spring Boot Application to run on a vServer and not only from my local machine.\nSo I rented a vServer which is available under <a href=\"http://81f32c8.online-server.cloud/\" rel=\"nofollow noreferrer\">http://81f32c8.online-server.cloud/</a>.\nAfter that I ran my build Spring Boot App on the server with <code>java -jar -Dspring.profiles.active=prod ./app.jar</code></p>\n<p>And Spring Boot started successfully:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.8)\n\n2023-10-10 15:42:49.906  INFO 5279 --- [           main] com.example.system.SystemApplication     : Starting SystemApplication using Java 11.0.20.1 on localhost with PID 5279 (/root/app.jar started by root in /root)\n2023-10-10 15:42:49.915  INFO 5279 --- [           main] com.example.system.SystemApplication     : The following 1 profile is active: &quot;prod&quot;\n2023-10-10 15:42:52.870  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-10 15:42:53.150  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 8 JPA repository interfaces.\n2023-10-10 15:42:55.298  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5513 ms\n2023-10-10 15:42:56.757  WARN 5279 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-10-10 15:42:57.173  INFO 5279 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-10-10 15:42:57.366  INFO 5279 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2023-10-10 15:42:57.940  INFO 5279 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-10-10 15:42:58.313  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-10 15:42:58.538  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-10-10 15:42:58.651  INFO 5279 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MariaDB106Dialect\n2023-10-10 15:43:00.963  INFO 5279 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-10-10 15:43:00.995  INFO 5279 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-10-10 15:43:06.896  INFO 5279 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c1663c, org.springframework.security.web.context.SecurityContextPersistenceFilter@42aae04d, org.springframework.security.web.header.HeaderWriterFilter@6419a0e1, org.springframework.web.filter.CorsFilter@f5cf29b, org.springframework.security.web.authentication.logout.LogoutFilter@16a35bd, com.example.system.security.jwt.JwtAuthenticationTokenFilter@3f9f71ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@575e572f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7426a448, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c66b7d8, org.springframework.security.web.session.SessionManagementFilter@56b859a6, org.springframework.security.web.access.ExceptionTranslationFilter@6ed043d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a2e565]\n2023-10-10 15:43:07.854  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-10-10 15:43:07.891  INFO 5279 --- [           main] com.example.system.SystemApplication     : Started SystemApplication in 19.602 seconds (JVM running for 21.136)\n</code></pre>\n<p>But when I try to reach my get endpoint <code>/api/v1/instrument/list</code> with <code>http://81f32c8.online-server.cloud/api/v1/instrument/list</code> I got no response.</p>\n<p>Has someone an idea what I forgot?\nDo I have to configure the tomcat webserver somehow?</p>\n"},{"tags":["java","spring","docker","jersey"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1693586353,"post_id":77006236,"comment_id":135785393,"body_markdown":"Seem trying to build uber jar with Jersey doesn&#39;t work in Spring Boot. The `packages()` function breaks. But when you register the classes individually, it works. I&#39;ve seen workarounds people have used, but I&#39;m not sure what they are.","body":"Seem trying to build uber jar with Jersey doesn&#39;t work in Spring Boot. The <code>packages()</code> function breaks. But when you register the classes individually, it works. I&#39;ve seen workarounds people have used, but I&#39;m not sure what they are."}],"owner":{"account_id":29327954,"reputation":1,"user_id":22470025,"display_name":"Cyril Demand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696953231,"creation_date":1693384371,"question_id":77006236,"body_markdown":"I tried to make a REST API with spring and launching it with docker. But my jerseyConfig seems a bit broken.\r\n\r\nI can run my spring API on my computer but it doesn&#39;t seem to work on docker and I don&#39;t know why :( . I found people that had the same problem as me on internet but it didn&#39;t really help me.\r\n\r\nHere&#39;s my JerseyConfig:\r\n\r\n``` \r\npackage imt.projetrentree.projet.config;\r\n\r\nimport imt.projetrentree.projet.controllers.AuthController;\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Configuration\r\n@ApplicationPath(&quot;api&quot;)\r\npublic class JerseyConfig extends ResourceConfig {\r\n\r\n\tpublic JerseyConfig() {\r\n\r\n\t\tString basePackage = AuthController.class.getPackage().getName();\r\n\r\n\t\tpackages(basePackage);\r\n\t}\r\n}\r\n``` \r\n\r\nWhen I try to run my project on Docker I have this error, but I don&#39;t know why:\r\n\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;jerseyConfig&#39; defined in URL\r\n&gt; [jar:file:/usr/src/app/target/projet-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/imt/projetrentree/projet/config/JerseyConfig.class]:\r\n&gt; Failed to instantiate\r\n&gt; [imt.projetrentree.projet.config.JerseyConfig$$SpringCGLIB$$0]:\r\n&gt; Constructor threw exception\r\n\r\nNote that if I change my `basePackage` variable to `JerseyConfig.class.getPackage().getName()` my project runs but I only have 404 errors.\r\n\r\nI put a image of my docker directories.","title":"How can I config my JerseyConfig with docker","body":"<p>I tried to make a REST API with spring and launching it with docker. But my jerseyConfig seems a bit broken.</p>\n<p>I can run my spring API on my computer but it doesn't seem to work on docker and I don't know why :( . I found people that had the same problem as me on internet but it didn't really help me.</p>\n<p>Here's my JerseyConfig:</p>\n<pre><code>package imt.projetrentree.projet.config;\n\nimport imt.projetrentree.projet.controllers.AuthController;\nimport jakarta.ws.rs.ApplicationPath;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Configuration\n@ApplicationPath(&quot;api&quot;)\npublic class JerseyConfig extends ResourceConfig {\n\n    public JerseyConfig() {\n\n        String basePackage = AuthController.class.getPackage().getName();\n\n        packages(basePackage);\n    }\n}\n</code></pre>\n<p>When I try to run my project on Docker I have this error, but I don't know why:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'jerseyConfig' defined in URL\n[jar:file:/usr/src/app/target/projet-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/imt/projetrentree/projet/config/JerseyConfig.class]:\nFailed to instantiate\n[imt.projetrentree.projet.config.JerseyConfig$$SpringCGLIB$$0]:\nConstructor threw exception</p>\n</blockquote>\n<p>Note that if I change my <code>basePackage</code> variable to <code>JerseyConfig.class.getPackage().getName()</code> my project runs but I only have 404 errors.</p>\n<p>I put a image of my docker directories.</p>\n"},{"tags":["java","spring-boot","google-oauth","google-calendar-api","google-api-java-client"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696865321,"post_id":77260057,"comment_id":136204462,"body_markdown":"No. If you want access to a user&#39;s Google calendar, they will always have to go through some kind of Google authentication to give you access. You don&#39;t have to use that as your application&#39;s login, of course, but they do have to do it.","body":"No. If you want access to a user&#39;s Google calendar, they will always have to go through some kind of Google authentication to give you access. You don&#39;t have to use that as your application&#39;s login, of course, but they do have to do it."},{"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"score":0,"creation_date":1696866033,"post_id":77260057,"comment_id":136204597,"body_markdown":"I don&#39;t think so, because I have already used a web application in the past where I had to integrate my Google account just once and subsequently each time I create an event in the application it is created automatically in my google calendar","body":"I don&#39;t think so, because I have already used a web application in the past where I had to integrate my Google account just once and subsequently each time I create an event in the application it is created automatically in my google calendar"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696866477,"post_id":77260057,"comment_id":136204689,"body_markdown":"Yes, that might be possible. But you&#39;d have to gain access to that calendar the first time at least. You&#39;ll get a token from Google that allows you to interact with the calendar.","body":"Yes, that might be possible. But you&#39;d have to gain access to that calendar the first time at least. You&#39;ll get a token from Google that allows you to interact with the calendar."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696952344,"creation_date":1696868720,"answer_id":77260416,"question_id":77260057,"body_markdown":"You should have a look at the [official sample][1]\r\n\r\n\r\n    // Build flow and trigger user authorization request.\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n        .setAccessType(&quot;offline&quot;)\r\n        .build();\r\n\r\nIf FileDataStoreFactory is configured properly it will store each users credentials, then you will only need to request access once. \r\n\r\nUpdate: \r\n\r\nquestions from comments\r\n\r\n&gt;1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user?\r\n\r\nCheck the sample below `.authorize(&quot;user&quot;);` will denote a user and store the creds for that user.\r\n\r\n&gt;2. how to disconect an account?\r\n\r\nby either calling the revoke endpoint or deleting their file stored above.  It will force your app to request authorization again.\r\n\r\n\r\n    private static Credential authorize() throws Exception\r\n        {\r\n            HttpTransport httpTransport = new NetHttpTransport();\r\n            JsonFactory jsonFactory = new JacksonFactory();\r\n    \r\n            // load client secrets\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\r\n                    new InputStreamReader(BigQueryConsumer.class.getResourceAsStream(&quot;/secret.json&quot;)));\r\n    \r\n            // This creates the credentials datastore at ~/.oauth-credentials/${credentialDatastore}\r\n            FileDataStoreFactory fileDataStoreFactory = new FileDataStoreFactory(new File(System.getProperty(&quot;user.home&quot;) + &quot;/&quot; + CREDENTIALS_DIRECTORY));\r\n    \r\n            // set up authorization code flow\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    httpTransport, JSON_FACTORY, clientSecrets,\r\n                    SCOPES).setDataStoreFactory(fileDataStoreFactory)\r\n                    .build();\r\n            // authorize\r\n            return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/calendar/api/quickstart/java","title":"google-calendar-api with java spring boot","body":"<p>You should have a look at the <a href=\"https://developers.google.com/calendar/api/quickstart/java\" rel=\"nofollow noreferrer\">official sample</a></p>\n<pre><code>// Build flow and trigger user authorization request.\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n    .setAccessType(&quot;offline&quot;)\n    .build();\n</code></pre>\n<p>If FileDataStoreFactory is configured properly it will store each users credentials, then you will only need to request access once.</p>\n<p>Update:</p>\n<p>questions from comments</p>\n<blockquote>\n<p>1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user?</p>\n</blockquote>\n<p>Check the sample below <code>.authorize(&quot;user&quot;);</code> will denote a user and store the creds for that user.</p>\n<blockquote>\n<ol start=\"2\">\n<li>how to disconect an account?</li>\n</ol>\n</blockquote>\n<p>by either calling the revoke endpoint or deleting their file stored above.  It will force your app to request authorization again.</p>\n<pre><code>private static Credential authorize() throws Exception\n    {\n        HttpTransport httpTransport = new NetHttpTransport();\n        JsonFactory jsonFactory = new JacksonFactory();\n\n        // load client secrets\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\n                new InputStreamReader(BigQueryConsumer.class.getResourceAsStream(&quot;/secret.json&quot;)));\n\n        // This creates the credentials datastore at ~/.oauth-credentials/${credentialDatastore}\n        FileDataStoreFactory fileDataStoreFactory = new FileDataStoreFactory(new File(System.getProperty(&quot;user.home&quot;) + &quot;/&quot; + CREDENTIALS_DIRECTORY));\n\n        // set up authorization code flow\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                httpTransport, JSON_FACTORY, clientSecrets,\n                SCOPES).setDataStoreFactory(fileDataStoreFactory)\n                .build();\n        // authorize\n        return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260416,"answer_count":1,"score":0,"last_activity_date":1696952344,"creation_date":1696865094,"question_id":77260057,"body_markdown":"I am developing a java Springboot web application. In Which I have multiple users that login with a adress mail and a password. The login is Ok. \r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\t\thttp.authorizeRequests().antMatchers(&quot;/error.xhtml&quot;).permitAll().antMatchers(&quot;/error-404.xhtml&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated().accessDeniedPage(&quot;/accessDenied.xhtml&quot;);\r\n\t\t;\r\n\t\t// login\r\n\t\thttp.formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=1&quot;);\r\n\t\t// logout\r\n\t\thttp.logout().logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;);\r\n\r\n\t\thttp.formLogin().defaultSuccessUrl(&quot;/dashboard&quot;, true);\r\n\r\n\t\thttp.csrf().disable();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n\t\tauthenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nI don’t want a google login. I need to integrate their google calendar to application account so hey cant creat  event and meeting using their gmail id.\r\n\r\n \r\nIs there any way that I can integrate their google account to the application by having to get consent from the users just only one time in the setting.\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOKGL.png","title":"google-calendar-api with java spring boot","body":"<p>I am developing a java Springboot web application. In Which I have multiple users that login with a adress mail and a password. The login is Ok.</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests().antMatchers(&quot;/error.xhtml&quot;).permitAll().antMatchers(&quot;/error-404.xhtml&quot;).permitAll()\n            .anyRequest().authenticated().accessDeniedPage(&quot;/accessDenied.xhtml&quot;);\n    ;\n    // login\n    http.formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=1&quot;);\n    // logout\n    http.logout().logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;);\n\n    http.formLogin().defaultSuccessUrl(&quot;/dashboard&quot;, true);\n\n    http.csrf().disable();\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>I don’t want a google login. I need to integrate their google calendar to application account so hey cant creat  event and meeting using their gmail id.</p>\n<p>Is there any way that I can integrate their google account to the application by having to get consent from the users just only one time in the setting.</p>\n<p><img src=\"https://i.stack.imgur.com/IOKGL.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","grails","inheritance","model-view-controller","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1424896374,"post_id":28728135,"comment_id":45744273,"body_markdown":"so you think, that the data binding is not working there?  can you do a quick override of the method in your concrete instance there and see if this fills the object?  or how can you be sure, that there is no error already in an earlier stage (e.g. submitted data)?","body":"so you think, that the data binding is not working there?  can you do a quick override of the method in your concrete instance there and see if this fills the object?  or how can you be sure, that there is no error already in an earlier stage (e.g. submitted data)?"},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1424896659,"post_id":28728135,"comment_id":45744415,"body_markdown":"@cfrick I&#39;ve checked it, if you pass `SomeCommand` to `SomeController` it will work.","body":"@cfrick I&#39;ve checked it, if you pass <code>SomeCommand</code> to <code>SomeController</code> it will work."}],"answers":[{"tags":[],"owner":{"account_id":22688574,"reputation":1,"user_id":16857817,"display_name":"Dyanko Petkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696951689,"creation_date":1696590117,"answer_id":77243925,"question_id":28728135,"body_markdown":"Create explicit constructor with the super properties for the command class. It worked for me:\r\n\r\n```java\r\nClassConstructor() {\r\n    this.propOne = super.propOne\r\n    this.propTwo = super.propTwo\r\n}\r\n```","title":"Grails command object inheritance","body":"<p>Create explicit constructor with the super properties for the command class. It worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassConstructor() {\n    this.propOne = super.propOne\n    this.propTwo = super.propTwo\n}\n</code></pre>\n"}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696951689,"creation_date":1424893289,"question_id":28728135,"body_markdown":"In my project I use abstract controller to wrap some basic rest stuff.\r\n\r\nlets say we have a base domain class: `abstract class Entity`. And a base controller: \r\n\r\n    abstract class CrudController&lt;\r\n        Domain extends Entity, \r\n        DTO extends Command&lt;Domain&gt;,\r\n        Service extends CrudService&lt;Domain&gt;&gt; {\r\n    \r\n        //...//\r\n    \r\n        def insert(DTO dto) { \r\n            //..// \r\n        }\r\n    \r\n        //...//\r\n    \r\n    }\r\n    \r\n    class Command&lt;Domain extends Entity&gt; {\r\n    \r\n    }\r\nand then we have our implementations:\r\n\r\n    SomeController extends CrudController&lt;SomeDomain,SomeCommand,SomeService&gt; \r\n    SomeCommand extends Command&lt;SomeDomain&gt;\r\n    SomeDomain extends Entity\r\n\r\nThe code compile without complaining, but insert method always receives null. Am I on the right track? How can I make this work?\r\n\r\n**UPDATE**\r\n\r\nIt seems that insert method receives `Command` instead of `SomeCommand` instance. ","title":"Grails command object inheritance","body":"<p>In my project I use abstract controller to wrap some basic rest stuff.</p>\n\n<p>lets say we have a base domain class: <code>abstract class Entity</code>. And a base controller: </p>\n\n<pre><code>abstract class CrudController&lt;\n    Domain extends Entity, \n    DTO extends Command&lt;Domain&gt;,\n    Service extends CrudService&lt;Domain&gt;&gt; {\n\n    //...//\n\n    def insert(DTO dto) { \n        //..// \n    }\n\n    //...//\n\n}\n\nclass Command&lt;Domain extends Entity&gt; {\n\n}\n</code></pre>\n\n<p>and then we have our implementations:</p>\n\n<pre><code>SomeController extends CrudController&lt;SomeDomain,SomeCommand,SomeService&gt; \nSomeCommand extends Command&lt;SomeDomain&gt;\nSomeDomain extends Entity\n</code></pre>\n\n<p>The code compile without complaining, but insert method always receives null. Am I on the right track? How can I make this work?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It seems that insert method receives <code>Command</code> instead of <code>SomeCommand</code> instance. </p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696863438,"creation_date":1696863438,"answer_id":77259871,"question_id":77256669,"body_markdown":"Your consumer is taking too long to process the batch and Kafka is kicking the consumer out of the group; either increase `max.poll.intervl.ms` or decrease `max.poll.records` such that your listener can always process the records without exceeding the interval (allow a good amount of safety).","title":"Spring kafka batch listener transaction","body":"<p>Your consumer is taking too long to process the batch and Kafka is kicking the consumer out of the group; either increase <code>max.poll.intervl.ms</code> or decrease <code>max.poll.records</code> such that your listener can always process the records without exceeding the interval (allow a good amount of safety).</p>\n"},{"tags":[],"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696951510,"creation_date":1696951510,"answer_id":77267081,"question_id":77256669,"body_markdown":"I am  throwing batchListenerFailedExcpetion with the index of the failed msg and using error handler which publishes the failed record( suppose 2nd msg) to error topic and commits the offset. In the rollbackprocessor logic, I have overriden the process method with no code inside the method since defaulterrorhandler does the required job. And in the next poll call, I can now see the message batch starting from the offset after the failed msg offset. But the problem is since I am using transaction in a batch, even if 1st msg of that batch is successfully commited in the error handler, but in the poll method, after processing and publishing of the msg to downstream topic corresponding to the first msg is done, It wont be available in that downstream topic since that particular txn is aborted and we are read8ng in read_committed mode","title":"Spring kafka batch listener transaction","body":"<p>I am  throwing batchListenerFailedExcpetion with the index of the failed msg and using error handler which publishes the failed record( suppose 2nd msg) to error topic and commits the offset. In the rollbackprocessor logic, I have overriden the process method with no code inside the method since defaulterrorhandler does the required job. And in the next poll call, I can now see the message batch starting from the offset after the failed msg offset. But the problem is since I am using transaction in a batch, even if 1st msg of that batch is successfully commited in the error handler, but in the poll method, after processing and publishing of the msg to downstream topic corresponding to the first msg is done, It wont be available in that downstream topic since that particular txn is aborted and we are read8ng in read_committed mode</p>\n"}],"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696951510,"creation_date":1696833109,"question_id":77256669,"body_markdown":"I am using spring kafka batch listener. For dealing with exception, I am throwing BatchListenerFailedException with the index of the failed msg. In the kafka config class, I have added this logic.\r\n\r\n    DeadLetterPublishingRecoverer dlpRecoverer = new DeadLetterPublish8ngRecoverer(dltTemplate,(record, exception) -&gt; new TopicPartition(topicName, record.partition()));\r\n    DefaultErrorHandler errorHandler = new DefaultErrorHandler(dlpRecoverer, new FixedBackOff(0,0));\r\n    factory.setCommonErrorHandler(errorHandler);\r\n\r\nAfter executing this logic, failed msg are getting pushed to dlt topic but offset is getting committed intermittently. Hence same msg batch is getting polled again.\r\nException I am getting while commit.sync is\r\nCommitFailedException: Offset commit cannot be completed since the consumer is not a part of an active group for auto partition assignment.\r\n\r\nTried BatchExceptionHandling logic but did not work\r\n","title":"Spring kafka batch listener transaction","body":"<p>I am using spring kafka batch listener. For dealing with exception, I am throwing BatchListenerFailedException with the index of the failed msg. In the kafka config class, I have added this logic.</p>\n<pre><code>DeadLetterPublishingRecoverer dlpRecoverer = new DeadLetterPublish8ngRecoverer(dltTemplate,(record, exception) -&gt; new TopicPartition(topicName, record.partition()));\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(dlpRecoverer, new FixedBackOff(0,0));\nfactory.setCommonErrorHandler(errorHandler);\n</code></pre>\n<p>After executing this logic, failed msg are getting pushed to dlt topic but offset is getting committed intermittently. Hence same msg batch is getting polled again.\nException I am getting while commit.sync is\nCommitFailedException: Offset commit cannot be completed since the consumer is not a part of an active group for auto partition assignment.</p>\n<p>Tried BatchExceptionHandling logic but did not work</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696950913,"post_id":77266964,"comment_id":136216678,"body_markdown":"I think this is one of the details left out of the tutorial, and that the author created a `static` method called `from` to take the place of a constructor, and that is one of the details they glossed over using the comment _&quot;// constructor, getters etc.&quot;_ in the `Passengers` class. There is nothing in Java nor in JPA that would somehow automatically create a method called `from`.","body":"I think this is one of the details left out of the tutorial, and that the author created a <code>static</code> method called <code>from</code> to take the place of a constructor, and that is one of the details they glossed over using the comment <i>&quot;// constructor, getters etc.&quot;</i> in the <code>Passengers</code> class. There is nothing in Java nor in JPA that would somehow automatically create a method called <code>from</code>."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696951070,"post_id":77266964,"comment_id":136216716,"body_markdown":"This is confirmed if you look at the GitHub repository linked at the end of the tutorial. Specifically, look at [`Passenger.from`](https://github.com/eugenp/tutorials/blob/master/persistence-modules/spring-data-jpa-query/src/main/java/com/baeldung/boot/passenger/Passenger.java#L36). In other words, your question is based on a misconception.","body":"This is confirmed if you look at the GitHub repository linked at the end of the tutorial. Specifically, look at <a href=\"https://github.com/eugenp/tutorials/blob/master/persistence-modules/spring-data-jpa-query/src/main/java/com/baeldung/boot/passenger/Passenger.java#L36\" rel=\"nofollow noreferrer\"><code>Passenger.from</code></a>. In other words, your question is based on a misconception."}],"owner":{"account_id":10698974,"reputation":1,"user_id":15337112,"display_name":"Rosario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696950797,"creation_date":1696950511,"question_id":77266964,"body_markdown":"I have written a service which makes a query using as filters several fields. I want to learn to use the &quot;Example&quot; class of JPA. The problem is that the DatiAccessoriFascicoloModel.from method is not recognized by Eclipse.\r\n\r\nThe class DatiAccessoriFascicoloModel actually does not contain a &quot;from&quot; method, but I followed this tutorial https://www.baeldung.com/spring-data-query-by-example which suggests the use of a construct similar to Model.from in order to build the Example object.\r\n\r\n```\r\npublic DatiAccessoriFascicoloModel findByIdFascAndIdRegistr(long idFascicolo, long idRegistro){\r\n\tDatiAccessoriFascicoloModel datiAccessFascic = new DatiAccessoriFascicoloModel();\r\n\tExample&lt;DatiAccessoriFascicoloModel&gt; example = Example.of(DatiAccessoriFascicoloModel.from(null,idFascicolo,idRegistro,null,null));\r\n    Optional&lt;DatiAccessoriFascicoloModel&gt; actual = datiAccessoriFascicoloRepository.findOne(example);\r\n    \r\n    if(actual.isPresent()) {\r\n    \treturn actual.get();\r\n    }\r\n    else return null;\r\n\treturn null;\r\n}\r\n```\r\n\r\nI made efforts to search guides in order to find a solution. I want to understand where the problem is, my suspicion is that there is a confusion in the classes used or imported.","title":"Method &quot;from&quot; not recognize in a Jpa Model object","body":"<p>I have written a service which makes a query using as filters several fields. I want to learn to use the &quot;Example&quot; class of JPA. The problem is that the DatiAccessoriFascicoloModel.from method is not recognized by Eclipse.</p>\n<p>The class DatiAccessoriFascicoloModel actually does not contain a &quot;from&quot; method, but I followed this tutorial <a href=\"https://www.baeldung.com/spring-data-query-by-example\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-query-by-example</a> which suggests the use of a construct similar to Model.from in order to build the Example object.</p>\n<pre><code>public DatiAccessoriFascicoloModel findByIdFascAndIdRegistr(long idFascicolo, long idRegistro){\n    DatiAccessoriFascicoloModel datiAccessFascic = new DatiAccessoriFascicoloModel();\n    Example&lt;DatiAccessoriFascicoloModel&gt; example = Example.of(DatiAccessoriFascicoloModel.from(null,idFascicolo,idRegistro,null,null));\n    Optional&lt;DatiAccessoriFascicoloModel&gt; actual = datiAccessoriFascicoloRepository.findOne(example);\n    \n    if(actual.isPresent()) {\n        return actual.get();\n    }\n    else return null;\n    return null;\n}\n</code></pre>\n<p>I made efforts to search guides in order to find a solution. I want to understand where the problem is, my suspicion is that there is a confusion in the classes used or imported.</p>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696845468,"post_id":77253206,"comment_id":136200482,"body_markdown":"Which MySQL version are you using, and which version of MySQL Connector/J?","body":"Which MySQL version are you using, and which version of MySQL Connector/J?"},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1696848612,"post_id":77253206,"comment_id":136201049,"body_markdown":"@MarkRotteveel I currently use MariaDB version 11.1.2, and MySQL connector version 8.0.27","body":"@MarkRotteveel I currently use MariaDB version 11.1.2, and MySQL connector version 8.0.27"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696852904,"post_id":77253206,"comment_id":136201874,"body_markdown":"If you&#39;re using MariaDB, then you should 1) use the MariaDB Connector, 2) use a MariaDB JDBC URL (`jdbc:mariadb:...`, which would then select the MariaDB dialect.","body":"If you&#39;re using MariaDB, then you should 1) use the MariaDB Connector, 2) use a MariaDB JDBC URL (<code>jdbc:mariadb:...</code>, which would then select the MariaDB dialect."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1696946358,"post_id":77253206,"comment_id":136215635,"body_markdown":"Thanks for your suggestion! I will try that Connector driver thing out.","body":"Thanks for your suggestion! I will try that Connector driver thing out."}],"answers":[{"tags":[],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696950672,"creation_date":1696946524,"answer_id":77266482,"question_id":77253206,"body_markdown":"As suggested by Mark Rotteveel, I tried to change my dependencies to use MariaDB rather than MySQL itself.\r\n\r\n```groovy\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n\r\n    // hibernate\r\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.0.Final&quot;)\r\n\r\n    // mysql / mariadb\r\n    // implementation(&quot;mysql:mysql-connector-java:8.0.27&quot;)\r\n    implementation(&quot;org.mariadb.jdbc:mariadb-java-client:3.1.4&quot;)\r\n}\r\n```\r\nTurns out I don&#39;t have to specify the driver and the dialect either. \r\n\r\n```xml\r\n    &lt;!-- JDBC Database connection settings --&gt;\r\n    &lt;!-- &lt;property name=&quot;connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt; --&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mariadb://localhost:3306/test&lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;joun&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;123&lt;/property&gt;\r\n\r\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n    &lt;!-- Select our SQL dialect --&gt;\r\n    &lt;!-- &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt; --&gt;\r\n\r\n    &lt;!-- Echo the SQL to stdout --&gt;\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n```","title":"Hibernate error in missing dialect while suggested not to include so","body":"<p>As suggested by Mark Rotteveel, I tried to change my dependencies to use MariaDB rather than MySQL itself.</p>\n<pre><code>dependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n\n    // hibernate\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.0.Final&quot;)\n\n    // mysql / mariadb\n    // implementation(&quot;mysql:mysql-connector-java:8.0.27&quot;)\n    implementation(&quot;org.mariadb.jdbc:mariadb-java-client:3.1.4&quot;)\n}\n</code></pre>\n<p>Turns out I don't have to specify the driver and the dialect either.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;!-- JDBC Database connection settings --&gt;\n    &lt;!-- &lt;property name=&quot;connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt; --&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mariadb://localhost:3306/test&lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;joun&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;123&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n    &lt;!-- Select our SQL dialect --&gt;\n    &lt;!-- &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt; --&gt;\n\n    &lt;!-- Echo the SQL to stdout --&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77266482,"answer_count":1,"score":-1,"last_activity_date":1696950672,"creation_date":1696760203,"question_id":77253206,"body_markdown":"I am learning how to configure a Hibernate project. My config file is as follows:\r\n\r\n```xml\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n\r\n    &lt;!-- JDBC Database connection settings --&gt;\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n\r\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n    &lt;!-- Select our SQL dialect --&gt;\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n    &lt;!-- Echo the SQL to stdout --&gt;\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n    &lt;!-- Set the current session context --&gt;\r\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nWhile the project did run smoothly and give out desired results, there were some logs at the end that caught my attentions:\r\n\r\n```none\r\n...\r\nBUILD SUCCESSFUL in 1s\r\n3 actionable tasks: 2 executed, 1 up-to-date\r\nOct 08, 2023 5:10:39 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 6.3.0.Final\r\nOct 08, 2023 5:10:39 PM org.hibernate.cache.internal.RegionFactoryInitiator initiateService\r\nINFO: HHH000026: Second-level cache disabled\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/test]\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=joun}\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH10001115: Connection pool size: 1 (min=1)\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator getJdbcEnvironmentUsingJdbcMetadata\r\nWARN: HHH000339: Could not obtain connection metadata: java.sql.SQLSyntaxErrorException: Unknown column &#39;RESERVED&#39; in &#39;where clause&#39;\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl constructDialect\r\nWARN: HHH90000025: MySQLDialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\nOct 08, 2023 5:10:40 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/test]\r\n5:10:40 PM: Execution finished &#39;:Main.main()&#39;.\r\n\r\n```\r\n\r\nSeems to me that the last two warnings relate to the `connection metadata` and `dialect`. While I am no idea how to deal with the first one, I am thinking the second one relate to these lines\r\n\r\n```\r\n&lt;!-- Select our SQL dialect --&gt;\r\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```\r\n\r\nI have tried changing the dialect to other name such as `org.hibernate.dialect.MariaDBDialect` or remove them, but eventually yields no results.\r\n\r\nMay I get some suggestions on how to fix these two warnings?\r\n\r\n\r\n","title":"Hibernate error in missing dialect while suggested not to include so","body":"<p>I am learning how to configure a Hibernate project. My config file is as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n\n    &lt;!-- JDBC Database connection settings --&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n    &lt;!-- Select our SQL dialect --&gt;\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Echo the SQL to stdout --&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n    &lt;!-- Set the current session context --&gt;\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>While the project did run smoothly and give out desired results, there were some logs at the end that caught my attentions:</p>\n<pre class=\"lang-none prettyprint-override\"><code>...\nBUILD SUCCESSFUL in 1s\n3 actionable tasks: 2 executed, 1 up-to-date\nOct 08, 2023 5:10:39 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.3.0.Final\nOct 08, 2023 5:10:39 PM org.hibernate.cache.internal.RegionFactoryInitiator initiateService\nINFO: HHH000026: Second-level cache disabled\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/test]\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=joun}\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH10001115: Connection pool size: 1 (min=1)\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator getJdbcEnvironmentUsingJdbcMetadata\nWARN: HHH000339: Could not obtain connection metadata: java.sql.SQLSyntaxErrorException: Unknown column 'RESERVED' in 'where clause'\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl constructDialect\nWARN: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\nOct 08, 2023 5:10:40 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/test]\n5:10:40 PM: Execution finished ':Main.main()'.\n\n</code></pre>\n<p>Seems to me that the last two warnings relate to the <code>connection metadata</code> and <code>dialect</code>. While I am no idea how to deal with the first one, I am thinking the second one relate to these lines</p>\n<pre><code>&lt;!-- Select our SQL dialect --&gt;\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>I have tried changing the dialect to other name such as <code>org.hibernate.dialect.MariaDBDialect</code> or remove them, but eventually yields no results.</p>\n<p>May I get some suggestions on how to fix these two warnings?</p>\n"},{"tags":["java","maven","selenium","cucumber","testng"],"comments":[{"owner":{"account_id":12266927,"reputation":651,"user_id":8953213,"display_name":"Ramu"},"score":0,"creation_date":1574520769,"post_id":59008797,"comment_id":104265885,"body_markdown":"As the error suggests, please check if you running the goal with JDK or JRE.","body":"As the error suggests, please check if you running the goal with JDK or JRE."},{"owner":{"account_id":13568005,"reputation":11,"user_id":9787486,"display_name":"Niaz Maksud"},"score":0,"creation_date":1574566113,"post_id":59008797,"comment_id":104276104,"body_markdown":"@Ramu I was using JRE back when I raised the issue here but now I have switched to JDK and to my surprise, the compiler is not able to find step definitions anymore. I am getting missing snippets error.","body":"@Ramu I was using JRE back when I raised the issue here but now I have switched to JDK and to my surprise, the compiler is not able to find step definitions anymore. I am getting missing snippets error."}],"answers":[{"tags":[],"owner":{"account_id":8692093,"reputation":26,"user_id":6504704,"display_name":"arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574522869,"creation_date":1574522869,"answer_id":59009162,"question_id":59008797,"body_markdown":"I don’t know which developmen IDE are you using If you are using STS/Eclipse go to java -&gt;compiler-&gt;choose JDK rather than jre","title":"&quot;Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile)&quot;","body":"<p>I don’t know which developmen IDE are you using If you are using STS/Eclipse go to java ->compiler->choose JDK rather than jre</p>\n"}],"owner":{"account_id":13568005,"reputation":11,"user_id":9787486,"display_name":"Niaz Maksud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696950255,"creation_date":1574520196,"question_id":59008797,"body_markdown":"Whenever doing a Maven Build..&gt;clean install, I am facing this error. I have tried with different versions of plugins and adding testFailureIgnore attribute, but the issue still remains. Please find the POM.XML below-\r\n\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\r\n\t&lt;groupId&gt;Cucumber-Automation-Niaz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Cucumber-Automation-Niaz&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.41.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;projectName&gt;NiazProject&lt;/projectName&gt;  &lt;!-- Replace with project name --&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/cucumber-reports/advanced-reports&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;cucumberOutput&gt;target/cucumber-reports/CucumberTestReport.json&lt;/cucumberOutput&gt;\r\n\t\t\t\t\t\t\t&lt;buildNumber&gt;1&lt;/buildNumber&gt;\r\n\t\t\t\t\t\t\t&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h8xH1.png","title":"&quot;Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile)&quot;","body":"<p>Whenever doing a Maven Build..>clean install, I am facing this error. I have tried with different versions of plugins and adding testFailureIgnore attribute, but the issue still remains. Please find the POM.XML below-</p>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    \n        \n            central\n            Central Repository\n            <a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2</a>\n            default\n            \n                false\n            </p>\n\n<pre><code>    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n\n&lt;groupId&gt;Cucumber-Automation-Niaz&lt;/groupId&gt;\n&lt;artifactId&gt;Cucumber-Automation-Niaz&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n        &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;2.41.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;NiazProject&lt;/projectName&gt;  &lt;!-- Replace with project name --&gt;\n                        &lt;outputDirectory&gt;target/cucumber-reports/advanced-reports&lt;/outputDirectory&gt;\n                        &lt;cucumberOutput&gt;target/cucumber-reports/CucumberTestReport.json&lt;/cucumberOutput&gt;\n                        &lt;buildNumber&gt;1&lt;/buildNumber&gt;\n                        &lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/h8xH1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","notifications","android-relativelayout"],"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696949565,"creation_date":1696949565,"question_id":77266860,"body_markdown":"I am changing a Relativelayout color in status bar notification with the following code\r\n\r\n```\r\nnotificationLayout.setInt(R.id.notiMainRl,&quot;setBackgroundColor&quot;,context.getColor(R.color.notification_bg));\r\n```\r\n\r\nbut sometime my app crashing with following error\r\n\r\n```\r\nandroid.app.ActivityThread$H.handleMessage\r\nandroid.app.RemoteServiceException - Bad notification posted from package com.app.myapp:\r\n Couldn&#39;t inflate\r\ncontentViewsandroid.widget.RemoteViews$ActionException:\r\nview: android.widget.RelativeLayout doesn&#39;t have method:\r\nsetBackground(int)\r\n```\r\n\r\nfull stack trace is\r\n \r\n```\r\nFatal Exception: android.app.RemoteServiceException: Bad notification for startForeground\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1774)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loop(Looper.java:164)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\r\n```\r\n\r\nthe crash is not frequent it appears on very little amount of devices  ","title":"RelativeLayout doesn&#39;t have method: setBackground(int)","body":"<p>I am changing a Relativelayout color in status bar notification with the following code</p>\n<pre><code>notificationLayout.setInt(R.id.notiMainRl,&quot;setBackgroundColor&quot;,context.getColor(R.color.notification_bg));\n</code></pre>\n<p>but sometime my app crashing with following error</p>\n<pre><code>android.app.ActivityThread$H.handleMessage\nandroid.app.RemoteServiceException - Bad notification posted from package com.app.myapp:\n Couldn't inflate\ncontentViewsandroid.widget.RemoteViews$ActionException:\nview: android.widget.RelativeLayout doesn't have method:\nsetBackground(int)\n</code></pre>\n<p>full stack trace is</p>\n<pre><code>Fatal Exception: android.app.RemoteServiceException: Bad notification for startForeground\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1774)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\n</code></pre>\n<p>the crash is not frequent it appears on very little amount of devices</p>\n"},{"tags":["java","libgdx","game-development"],"answers":[{"tags":[],"owner":{"account_id":29638491,"reputation":1,"user_id":22715186,"display_name":"CielGre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696949256,"creation_date":1696937212,"answer_id":77265366,"question_id":77264204,"body_markdown":"Found the answer , in the new GameScreen the animations should be set with `new Animation&lt;TextureRegion&gt;`, and `atlas.findRegion` should be replaced with `atlas.findRegions`. That solved the problem and the movement is working correctly.\r\nFinally the correct code for GameScreen class is:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    AnimationSet&lt;TextureRegion&gt; animations = new AnimationSet&lt;TextureRegion&gt;(\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    atlas.findRegion(&quot;dawn_stand_north&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_south&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_east&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_west&quot;)\r\n            );\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Exception in libgdx TextureRegion class","body":"<p>Found the answer , in the new GameScreen the animations should be set with <code>new Animation&lt;TextureRegion&gt;</code>, and <code>atlas.findRegion</code> should be replaced with <code>atlas.findRegions</code>. That solved the problem and the movement is working correctly.\nFinally the correct code for GameScreen class is:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>AnimationSet&lt;TextureRegion&gt; animations = new AnimationSet&lt;TextureRegion&gt;(\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_north\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_south\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_east\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_west\"), Animation.PlayMode.LOOP_PINGPONG),\n                atlas.findRegion(\"dawn_stand_north\"),\n                atlas.findRegion(\"dawn_stand_south\"),\n                atlas.findRegion(\"dawn_stand_east\"),\n                atlas.findRegion(\"dawn_stand_west\")\n        );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29638491,"reputation":1,"user_id":22715186,"display_name":"CielGre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77265366,"answer_count":1,"score":0,"last_activity_date":1696949256,"creation_date":1696927498,"question_id":77264204,"body_markdown":"I was following a tutorial to create a pokemon like game with libgdx library in java.\r\nI am stuck on making the walking animation part because of the libgdx update on Animation&lt;T&gt; , so the animation should be set to TextureRegion each time displayed(if I am not mistaken ).\r\n\r\n```\r\npublic TextureRegion getSprite() {\r\n        if (state == ACTOR_STATE.WALKING) {\r\n            Animation&lt;TextureRegion&gt; walkingAnimation = animations.getWalking(facing);\r\n            return walkingAnimation.getKeyFrame(walkTimer);\r\n        } else if (state == ACTOR_STATE.STANDING) {\r\n            return animations.getStanding(facing);\r\n        }\r\n        return animations.getStanding(DIRECTION.SOUTH);\r\n    }\r\n```\r\nThis is the method getSprite and the game is crashing after trying to move ( it makes a small move but before ending it crashes ) with this exception on the  return walkingAnimation.getKeyFrame(walkTimer); line:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.badlogic.gdx.graphics.g2d.Animation$PlayMode cannot be cast to class com.badlogic.gdx.graphics.g2d.TextureRegion (com.badlogic.gdx.graphics.g2d.Animation$PlayMode and com.badlogic.gdx.graphics.g2d.TextureRegion are in unnamed module of loader &#39;app&#39;)`\r\n\r\nThe variable animations is set like :\r\n` private AnimationSet&lt;TextureRegion&gt; animations;`\r\nand the AnimationSet class:\r\n\r\n```\r\npackage util;\r\n\r\nimport com.badlogic.gdx.graphics.g2d.Animation;\r\nimport model.DIRECTION;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Hashtable;\r\nimport java.util.Map;\r\n\r\n\r\n\r\n    public class AnimationSet&lt;TextureRegion&gt; {\r\n\r\n        private Map&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt; walking;\r\n        private Map&lt;DIRECTION, TextureRegion&gt; standing;\r\n\r\n        public AnimationSet(Animation&lt;TextureRegion&gt; walkNorth,\r\n                            Animation&lt;TextureRegion&gt; walkSouth,\r\n                            Animation&lt;TextureRegion&gt; walkEast,\r\n                            Animation&lt;TextureRegion&gt; walkWest,\r\n                            TextureRegion standNorth,\r\n                            TextureRegion standSouth,\r\n                            TextureRegion standEast,\r\n                            TextureRegion standWest ) {\r\n            walking = new HashMap&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt;();\r\n            walking.put(DIRECTION.NORTH, walkNorth);\r\n            walking.put(DIRECTION.SOUTH, walkSouth);\r\n            walking.put(DIRECTION.EAST, walkEast);\r\n            walking.put(DIRECTION.WEST, walkWest);\r\n            standing = new Hashtable&lt;DIRECTION, TextureRegion&gt;();\r\n            standing.put(DIRECTION.NORTH, standNorth);\r\n            standing.put(DIRECTION.SOUTH, standSouth);\r\n            standing.put(DIRECTION.EAST, standEast);\r\n            standing.put(DIRECTION.WEST, standWest);\r\n        }\r\n\r\n        public Animation&lt;TextureRegion&gt; getWalking(DIRECTION dir){\r\n            return walking.get(dir);\r\n        }\r\n\r\n        public TextureRegion getStanding(DIRECTION dir){\r\n            return standing.get(dir);\r\n        }\r\n    }\r\n\r\n```\r\nFinally it&#39;s called here:\r\n\r\n```\r\n public GameScreen(MyGdxGame app) {\r\n        super(app);\r\n        south = new Texture(&quot;assets/stand.png&quot;);\r\n        room1 = new Texture(&quot;assets/tile2.png&quot;);\r\n        room2 = new Texture(&quot;assets/tile2.png&quot;);\r\n        batch = new SpriteBatch();\r\n        TextureAtlas atlas = app.getAssetManager().get(&quot;assets/packed/textures.atlas&quot;, TextureAtlas.class);\r\n        AnimationSet animations = new AnimationSet(\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                atlas.findRegion(&quot;dawn_stand_north&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_south&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_east&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_west&quot;)\r\n        );\r\n\r\n        map = new TileMap(10,10);\r\n        actor = new Actor(map,0,0,animations);\r\n        controller = new PlayerController(actor);\r\n        camera = new Camera();\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to see the getWalking(facing) and walkTimer values on debugger but nothing seems to be null or wrong with this part. \r\nAlso in the version I uploaded i casted Animation&lt;TextureRegion&gt; before returning to make sure the returned object is Animation and not Object.\r\nSame exception happens without casting. Could the error  be somewhere on the GameScreen class?","title":"Exception in libgdx TextureRegion class","body":"<p>I was following a tutorial to create a pokemon like game with libgdx library in java.\nI am stuck on making the walking animation part because of the libgdx update on Animation , so the animation should be set to TextureRegion each time displayed(if I am not mistaken ).</p>\n<pre><code>public TextureRegion getSprite() {\n        if (state == ACTOR_STATE.WALKING) {\n            Animation&lt;TextureRegion&gt; walkingAnimation = animations.getWalking(facing);\n            return walkingAnimation.getKeyFrame(walkTimer);\n        } else if (state == ACTOR_STATE.STANDING) {\n            return animations.getStanding(facing);\n        }\n        return animations.getStanding(DIRECTION.SOUTH);\n    }\n</code></pre>\n<p>This is the method getSprite and the game is crashing after trying to move ( it makes a small move but before ending it crashes ) with this exception on the  return walkingAnimation.getKeyFrame(walkTimer); line:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.badlogic.gdx.graphics.g2d.Animation$PlayMode cannot be cast to class com.badlogic.gdx.graphics.g2d.TextureRegion (com.badlogic.gdx.graphics.g2d.Animation$PlayMode and com.badlogic.gdx.graphics.g2d.TextureRegion are in unnamed module of loader 'app')</code></p>\n<p>The variable animations is set like :\n<code> private AnimationSet&lt;TextureRegion&gt; animations;</code>\nand the AnimationSet class:</p>\n<pre><code>package util;\n\nimport com.badlogic.gdx.graphics.g2d.Animation;\nimport model.DIRECTION;\n\nimport java.util.HashMap;\nimport java.util.Hashtable;\nimport java.util.Map;\n\n\n\n    public class AnimationSet&lt;TextureRegion&gt; {\n\n        private Map&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt; walking;\n        private Map&lt;DIRECTION, TextureRegion&gt; standing;\n\n        public AnimationSet(Animation&lt;TextureRegion&gt; walkNorth,\n                            Animation&lt;TextureRegion&gt; walkSouth,\n                            Animation&lt;TextureRegion&gt; walkEast,\n                            Animation&lt;TextureRegion&gt; walkWest,\n                            TextureRegion standNorth,\n                            TextureRegion standSouth,\n                            TextureRegion standEast,\n                            TextureRegion standWest ) {\n            walking = new HashMap&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt;();\n            walking.put(DIRECTION.NORTH, walkNorth);\n            walking.put(DIRECTION.SOUTH, walkSouth);\n            walking.put(DIRECTION.EAST, walkEast);\n            walking.put(DIRECTION.WEST, walkWest);\n            standing = new Hashtable&lt;DIRECTION, TextureRegion&gt;();\n            standing.put(DIRECTION.NORTH, standNorth);\n            standing.put(DIRECTION.SOUTH, standSouth);\n            standing.put(DIRECTION.EAST, standEast);\n            standing.put(DIRECTION.WEST, standWest);\n        }\n\n        public Animation&lt;TextureRegion&gt; getWalking(DIRECTION dir){\n            return walking.get(dir);\n        }\n\n        public TextureRegion getStanding(DIRECTION dir){\n            return standing.get(dir);\n        }\n    }\n\n</code></pre>\n<p>Finally it's called here:</p>\n<pre><code> public GameScreen(MyGdxGame app) {\n        super(app);\n        south = new Texture(&quot;assets/stand.png&quot;);\n        room1 = new Texture(&quot;assets/tile2.png&quot;);\n        room2 = new Texture(&quot;assets/tile2.png&quot;);\n        batch = new SpriteBatch();\n        TextureAtlas atlas = app.getAssetManager().get(&quot;assets/packed/textures.atlas&quot;, TextureAtlas.class);\n        AnimationSet animations = new AnimationSet(\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                atlas.findRegion(&quot;dawn_stand_north&quot;),\n                atlas.findRegion(&quot;dawn_stand_south&quot;),\n                atlas.findRegion(&quot;dawn_stand_east&quot;),\n                atlas.findRegion(&quot;dawn_stand_west&quot;)\n        );\n\n        map = new TileMap(10,10);\n        actor = new Actor(map,0,0,animations);\n        controller = new PlayerController(actor);\n        camera = new Camera();\n    }\n</code></pre>\n<p>I've tried to see the getWalking(facing) and walkTimer values on debugger but nothing seems to be null or wrong with this part.\nAlso in the version I uploaded i casted Animation before returning to make sure the returned object is Animation and not Object.\nSame exception happens without casting. Could the error  be somewhere on the GameScreen class?</p>\n"},{"tags":["java","authentication","jwt"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1648735087,"post_id":71693342,"comment_id":126704291,"body_markdown":"this should only work if everything is identical to original actions that were done when encoding the JWT. Is it so, do you know how the JWT was created?","body":"this should only work if everything is identical to original actions that were done when encoding the JWT. Is it so, do you know how the JWT was created?"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1648735693,"post_id":71693342,"comment_id":126704540,"body_markdown":"`new String(decoder.decode(chunks[0]), StandardCharsets.UTF_8);`? `String` can hold text, but not binary data. Conversion from bytes always involve some Charset, possibly corrupting data. _(No remembered experience with JwtBuilder.)_","body":"<code>new String(decoder.decode(chunks[0]), StandardCharsets.UTF_8);</code>? <code>String</code> can hold text, but not binary data. Conversion from bytes always involve some Charset, possibly corrupting data. <i>(No remembered experience with JwtBuilder.)</i>"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648736337,"post_id":71693342,"comment_id":126704833,"body_markdown":"@JoopEggen Sorry, can&#39;t follow you... Where did you see StandardCharsets.UTF_8 ? Or do you suggest me to use it? thanks","body":"@JoopEggen Sorry, can&#39;t follow you... Where did you see StandardCharsets.UTF_8 ? Or do you suggest me to use it? thanks"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648736384,"post_id":71693342,"comment_id":126704849,"body_markdown":"@eis I know the secret key. Anyway the problem is only the difference in the signature.","body":"@eis I know the secret key. Anyway the problem is only the difference in the signature."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1648736950,"post_id":71693342,"comment_id":126705117,"body_markdown":"I see now two very different tokens in your question. It would be interesting to see the original token and the rebuilt token  side by side to compare.","body":"I see now two very different tokens in your question. It would be interesting to see the original token and the rebuilt token  side by side to compare."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737044,"post_id":71693342,"comment_id":126705168,"body_markdown":"@jps Do you refer to the new token I posted in the update? This is my own test as opposed to the original data which was given to me.","body":"@jps Do you refer to the new token I posted in the update? This is my own test as opposed to the original data which was given to me."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1648737269,"post_id":71693342,"comment_id":126705297,"body_markdown":"what I mean is: you decode a token and encode it again and wonder about the different signatures, right?! So it would be useful to see the token that you decode (original) and the result of you encoding. Then it&#39;s easier to see if there&#39;s additional whitespace, different order of values etc.","body":"what I mean is: you decode a token and encode it again and wonder about the different signatures, right?! So it would be useful to see the token that you decode (original) and the result of you encoding. Then it&#39;s easier to see if there&#39;s additional whitespace, different order of values etc."},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1648737412,"post_id":71693342,"comment_id":126705356,"body_markdown":"Just wanted to comment that `new String(byte[])` uses the default platform encoding which is non-portable and not all bytes are _text_, some are binary data (payload) which might be corrupted. You said the strings were alrlght, but if the dev pc is Windows, the server Linux, you might want to use `new String(byte[], Charset)` or better keep the `byte[]`.","body":"Just wanted to comment that <code>new String(byte[])</code> uses the default platform encoding which is non-portable and not all bytes are <i>text</i>, some are binary data (payload) which might be corrupted. You said the strings were alrlght, but if the dev pc is Windows, the server Linux, you might want to use <code>new String(byte[], Charset)</code> or better keep the <code>byte[]</code>."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1648737519,"post_id":71693342,"comment_id":126705410,"body_markdown":"@dushkin I didn&#39;t say it&#39;s only about the secret key. you would need to know all the exact parameters and options that were used when making this JWT, including signature. without it, it&#39;s not likely you would get identical result.","body":"@dushkin I didn&#39;t say it&#39;s only about the secret key. you would need to know all the exact parameters and options that were used when making this JWT, including signature. without it, it&#39;s not likely you would get identical result."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737616,"post_id":71693342,"comment_id":126705453,"body_markdown":"@jps Got it now. Will do","body":"@jps Got it now. Will do"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737715,"post_id":71693342,"comment_id":126705505,"body_markdown":"@JoopEggen The decoding was ok for the textual values of course. I don&#39;t know if the signature was decoded correctly, and according to what you&#39;ve said - probably it wasn&#39;t. I&#39;ll check your recommendation. Thanks","body":"@JoopEggen The decoding was ok for the textual values of course. I don&#39;t know if the signature was decoded correctly, and according to what you&#39;ve said - probably it wasn&#39;t. I&#39;ll check your recommendation. Thanks"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737736,"post_id":71693342,"comment_id":126705517,"body_markdown":"@eis Understood now","body":"@eis Understood now"}],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648734706,"creation_date":1648734706,"answer_id":71693733,"question_id":71693342,"body_markdown":"The resulting signature can be different even for the same payload and headers. It depends also on whitespace, newline, etc. characters used. Maybe the original token was formatted with whitespaces, that were removed in the resulting string?\r\n\r\nAlso, remember that the signature is calculated for payload **and** header. I can see that you&#39;re constructing the header yourself. Is it exactly the same as in the original?","title":"Why do I fail to encode back a decoded JWT?","body":"<p>The resulting signature can be different even for the same payload and headers. It depends also on whitespace, newline, etc. characters used. Maybe the original token was formatted with whitespaces, that were removed in the resulting string?</p>\n<p>Also, remember that the signature is calculated for payload <strong>and</strong> header. I can see that you're constructing the header yourself. Is it exactly the same as in the original?</p>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648744433,"creation_date":1648744433,"answer_id":71696175,"question_id":71693342,"body_markdown":"I found another way to solve the problem:\r\n\r\n    private String encodeToken(DecodedToken decodedToken) {\r\n    \r\n            Key hmacKey = new SecretKeySpec(Base64.getDecoder().decode(SECRET_KEY_BASE64),\r\n                SignatureAlgorithm.HS256.getJcaName());\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; payload = objectMapper.readValue(decodedToken.getPayload(), Map.class);\r\n    \r\n            return Jwts.builder()\r\n                .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n                .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n                .claim(&quot;pub&quot;, payload.get(&quot;pub&quot;))\r\n                .claim(&quot;wid&quot;, payload.get(&quot;wid&quot;))\r\n                .claim(&quot;expiry&quot;, payload.get(&quot;expiry&quot;))\r\n                .claim(&quot;url&quot;, payload.get(&quot;url&quot;))\r\n                .signWith(hmacKey)\r\n                .compact();\r\n    }\r\n\r\nWith this I got the same jwt back.\r\nAnother matter that wasted my time was that at the beggining I set the headers with this order:\r\n\r\n    .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n    .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n\r\nwhereas as I should have set them with this order:\r\n\r\n    .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n    .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n\r\nThat was creating a different signature... :(\r\n\r\nThank you all!!\r\n","title":"Why do I fail to encode back a decoded JWT?","body":"<p>I found another way to solve the problem:</p>\n<pre><code>private String encodeToken(DecodedToken decodedToken) {\n\n        Key hmacKey = new SecretKeySpec(Base64.getDecoder().decode(SECRET_KEY_BASE64),\n            SignatureAlgorithm.HS256.getJcaName());\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, Object&gt; payload = objectMapper.readValue(decodedToken.getPayload(), Map.class);\n\n        return Jwts.builder()\n            .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n            .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n            .claim(&quot;pub&quot;, payload.get(&quot;pub&quot;))\n            .claim(&quot;wid&quot;, payload.get(&quot;wid&quot;))\n            .claim(&quot;expiry&quot;, payload.get(&quot;expiry&quot;))\n            .claim(&quot;url&quot;, payload.get(&quot;url&quot;))\n            .signWith(hmacKey)\n            .compact();\n}\n</code></pre>\n<p>With this I got the same jwt back.\nAnother matter that wasted my time was that at the beggining I set the headers with this order:</p>\n<pre><code>.setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n.setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n</code></pre>\n<p>whereas as I should have set them with this order:</p>\n<pre><code>.setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n.setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n</code></pre>\n<p>That was creating a different signature... :(</p>\n<p>Thank you all!!</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696949118,"creation_date":1648733301,"question_id":71693342,"body_markdown":"I have this JWT token:\r\n\r\n    public final String WTOK = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiIyMzUzNiIsIndpZCI6IjAwMXcwMDAwMDFmbEN3MkFBRV9NMTQ0NDU5IiwidXJsIjpbIndvY2hpdC5jb20iXSwiZXhwaXJ5IjoiMjAyMy0wMy0yOFQxMjoxMToyNC4xODdaIiwiaWF0IjoxNjQ4NDY5NDg0fQ.r_xKkhqE2WCmqcrsdFvZsMFbWDoaV9AVGrg8pq270ZE&quot;;\r\n\r\nThen I used the following simple method to decode it:\r\n\r\n    public class DecodedToken {\r\n    \r\n        Map&lt;String, Object&gt; headers;\r\n        String payload;\r\n        String signature;\r\n    }\r\n\r\n    private DecodedToken decodeToken(String token) {\r\n\r\n        String[] chunks = token.split(&quot;\\\\.&quot;);\r\n\r\n        Base64.Decoder decoder = Base64.getUrlDecoder();\r\n\r\n        try {\r\n            String headersStr = new String(decoder.decode(chunks[0]));\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; headers = objectMapper.readValue(headersStr, Map.class);\r\n            String payload = new String(decoder.decode(chunks[1]));\r\n            System.out.println(payload);\r\n            String signature = new String(decoder.decode(chunks[2]));\r\n            System.out.println(signature);\r\n\r\n            return new DecodedToken(headers, payload, signature);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nand the parts where decoded successfully.\r\n\r\nThen I tried to encode it back using the following method:\r\n\r\n    private String encodeToken( DecodedToken decodedToken) {\r\n\r\n        byte[] decodedSecret = Base64.getDecoder().decode(SECRET_KEY_BASE64);\r\n        byte[] encodedSignature = Base64.getEncoder().encode(decodedToken.getSignature().getBytes());\r\n        System.out.println(new String(encodedSignature));\r\n\r\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;));\r\n        headers.put(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;));\r\n\r\n        return Jwts.builder()\r\n            .setPayload(decodedToken.getPayload())\r\n            .setHeader(headers)\r\n            .signWith(SignatureAlgorithm.HS256,decodedSecret)\r\n            .compact();\r\n    }\r\n\r\nwhich returned me a string.\r\nHowever, the signature part came out different from the original one.\r\n\r\nCan you advise what is wrong with my code?\r\nMy guess I should encode back the decoded signature. How can I do that?\r\n\r\n(Please tell me if you need more information from me)\r\n\r\n---------------------------\r\nUpdate\r\n\r\nI retried the methods above with a token I created by myself and a my secret key.\r\n\r\nWould you please use them on my code and try to see where is the error?\r\n\r\n&gt; token:\r\n&gt; eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiJwdWJwdWIiLCJ3aWQiOiJ3aWR3aWQiLCJleHBpcnkiOiIyMDIzLTAzLTMwVDE2OjExOjAwWiIsInVybCI6WyJsbCJdfQ.o8qD7CfvtWFvqE-Ti_hZq2Tcf4tdcIWutr6vFNRtwRw\r\n&gt; \r\n&gt; Base64 secret key: MTIzNDU2NDU2NDMyMTMyMTY1NDY1ODc4OTc5NjQxMzIx\r\n&gt; \r\n&gt; headers:\r\n&gt; \r\n&gt; {   &quot;alg&quot;: &quot;HS256&quot;,   &quot;typ&quot;: &quot;JWT&quot; }\r\n&gt; \r\n&gt; enc: A128CBC-HS256\r\n\r\n\r\n","title":"Why do I fail to encode back a decoded JWT?","body":"<p>I have this JWT token:</p>\n<pre><code>public final String WTOK = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiIyMzUzNiIsIndpZCI6IjAwMXcwMDAwMDFmbEN3MkFBRV9NMTQ0NDU5IiwidXJsIjpbIndvY2hpdC5jb20iXSwiZXhwaXJ5IjoiMjAyMy0wMy0yOFQxMjoxMToyNC4xODdaIiwiaWF0IjoxNjQ4NDY5NDg0fQ.r_xKkhqE2WCmqcrsdFvZsMFbWDoaV9AVGrg8pq270ZE&quot;;\n</code></pre>\n<p>Then I used the following simple method to decode it:</p>\n<pre><code>public class DecodedToken {\n\n    Map&lt;String, Object&gt; headers;\n    String payload;\n    String signature;\n}\n\nprivate DecodedToken decodeToken(String token) {\n\n    String[] chunks = token.split(&quot;\\\\.&quot;);\n\n    Base64.Decoder decoder = Base64.getUrlDecoder();\n\n    try {\n        String headersStr = new String(decoder.decode(chunks[0]));\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, Object&gt; headers = objectMapper.readValue(headersStr, Map.class);\n        String payload = new String(decoder.decode(chunks[1]));\n        System.out.println(payload);\n        String signature = new String(decoder.decode(chunks[2]));\n        System.out.println(signature);\n\n        return new DecodedToken(headers, payload, signature);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>and the parts where decoded successfully.</p>\n<p>Then I tried to encode it back using the following method:</p>\n<pre><code>private String encodeToken( DecodedToken decodedToken) {\n\n    byte[] decodedSecret = Base64.getDecoder().decode(SECRET_KEY_BASE64);\n    byte[] encodedSignature = Base64.getEncoder().encode(decodedToken.getSignature().getBytes());\n    System.out.println(new String(encodedSignature));\n\n    Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n    headers.put(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;));\n    headers.put(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;));\n\n    return Jwts.builder()\n        .setPayload(decodedToken.getPayload())\n        .setHeader(headers)\n        .signWith(SignatureAlgorithm.HS256,decodedSecret)\n        .compact();\n}\n</code></pre>\n<p>which returned me a string.\nHowever, the signature part came out different from the original one.</p>\n<p>Can you advise what is wrong with my code?\nMy guess I should encode back the decoded signature. How can I do that?</p>\n<p>(Please tell me if you need more information from me)</p>\n<hr />\n<p>Update</p>\n<p>I retried the methods above with a token I created by myself and a my secret key.</p>\n<p>Would you please use them on my code and try to see where is the error?</p>\n<blockquote>\n<p>token:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiJwdWJwdWIiLCJ3aWQiOiJ3aWR3aWQiLCJleHBpcnkiOiIyMDIzLTAzLTMwVDE2OjExOjAwWiIsInVybCI6WyJsbCJdfQ.o8qD7CfvtWFvqE-Ti_hZq2Tcf4tdcIWutr6vFNRtwRw</p>\n<p>Base64 secret key: MTIzNDU2NDU2NDMyMTMyMTY1NDY1ODc4OTc5NjQxMzIx</p>\n<p>headers:</p>\n<p>{   &quot;alg&quot;: &quot;HS256&quot;,   &quot;typ&quot;: &quot;JWT&quot; }</p>\n<p>enc: A128CBC-HS256</p>\n</blockquote>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649148277,"creation_date":1649143047,"answer_id":71747661,"question_id":71747639,"body_markdown":"Just use the annotation `@JsonProperty` on top of the field declaration, with a name that is different than the field&#39;s name:\r\n\r\n    @JsonProperty(&quot;key.1&quot;)\r\n    private final int key1;\r\n    @JsonProperty(&quot;key.2&quot;)\r\n    private final int key2;\r\n    @JsonProperty(&quot;key.3&quot;)\r\n    private final int key3;\r\n\r\nAs a general note, Jackson will map the Json key to the field name *only if you don&#39;t specify anything else* (so it will go by reflection).\r\nHowever, with Jackson is possible to modify the names of the fields (and not only) using their annotations.\r\n\r\nAs a side note, you&#39;ll also need to annotate the constructor parameters to deserialize the object from Json to Java object:\r\n\r\n    @JsonCreator\r\n    public MyClass(\r\n        @JsonProperty(value = &quot;key.1&quot;, required = true) int key1,\r\n        @JsonProperty(value = &quot;key.2&quot;, required = true) int key2,\r\n        @JsonProperty(value = &quot;key.3&quot;, required = true) int key3) {\r\n        this.key1 = key1;\r\n        this.key2 = key2;\r\n        this.key3 = key3;\r\n    }\r\n\r\n... then you will be able to do what you wanted:\r\n\r\n    MyClass obj = mapper.readValue(json, MyClass.class);","title":"How to map json keys which include dots?","body":"<p>Just use the annotation <code>@JsonProperty</code> on top of the field declaration, with a name that is different than the field's name:</p>\n<pre><code>@JsonProperty(&quot;key.1&quot;)\nprivate final int key1;\n@JsonProperty(&quot;key.2&quot;)\nprivate final int key2;\n@JsonProperty(&quot;key.3&quot;)\nprivate final int key3;\n</code></pre>\n<p>As a general note, Jackson will map the Json key to the field name <em>only if you don't specify anything else</em> (so it will go by reflection).\nHowever, with Jackson is possible to modify the names of the fields (and not only) using their annotations.</p>\n<p>As a side note, you'll also need to annotate the constructor parameters to deserialize the object from Json to Java object:</p>\n<pre><code>@JsonCreator\npublic MyClass(\n    @JsonProperty(value = &quot;key.1&quot;, required = true) int key1,\n    @JsonProperty(value = &quot;key.2&quot;, required = true) int key2,\n    @JsonProperty(value = &quot;key.3&quot;, required = true) int key3) {\n    this.key1 = key1;\n    this.key2 = key2;\n    this.key3 = key3;\n}\n</code></pre>\n<p>... then you will be able to do what you wanted:</p>\n<pre><code>MyClass obj = mapper.readValue(json, MyClass.class);\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71747661,"answer_count":1,"score":0,"last_activity_date":1696949104,"creation_date":1649142928,"question_id":71747639,"body_markdown":"I have a json in which some of its keys include dots.\r\nfor example:\r\n\r\n    {\r\n        &quot;key.1&quot; : 10,\r\n        &quot;key.2&quot; : 20,\r\n        &quot;key.3&quot; : 30\r\n    }\r\n\r\nI was planning to use Jackson to map it into a MyClass model object using something like:\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    MyClass obj = mapper.readValue(json, MyClass.class\r\n\r\nOf course I cannot create class members with dots in their names.\r\n\r\nSo, is there a way to overcome this situation? \r\n\r\nJackson is preferred but not mandatory.\r\n","title":"How to map json keys which include dots?","body":"<p>I have a json in which some of its keys include dots.\nfor example:</p>\n<pre><code>{\n    &quot;key.1&quot; : 10,\n    &quot;key.2&quot; : 20,\n    &quot;key.3&quot; : 30\n}\n</code></pre>\n<p>I was planning to use Jackson to map it into a MyClass model object using something like:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMyClass obj = mapper.readValue(json, MyClass.class\n</code></pre>\n<p>Of course I cannot create class members with dots in their names.</p>\n<p>So, is there a way to overcome this situation?</p>\n<p>Jackson is preferred but not mandatory.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1660547717,"post_id":73357800,"comment_id":129549946,"body_markdown":"This looks kind of weird to me. You always return a list of one thing regardless of what `valuesNumber` is?","body":"This looks kind of weird to me. You always return a list of one thing regardless of what <code>valuesNumber</code> is?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1660547906,"post_id":73357800,"comment_id":129549981,"body_markdown":"What do you mean by &quot;one thing&quot;? I pass the specific class as an argument to the method, and return a list of this class objects. Hope it is clearer now :)","body":"What do you mean by &quot;one thing&quot;? I pass the specific class as an argument to the method, and return a list of this class objects. Hope it is clearer now :)"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":8,"creation_date":1660547913,"post_id":73357800,"comment_id":129549982,"body_markdown":"Varargs in Java are just syntactic sugar for arrays. This means that you can pass an array to  `ctor.newInstance()` instead of separate varargs. Just create a `String[]`, fill it with the appropriate values, and pass it to `ctor.newInstance` - no `switch` necessary and it will work for any number of values. (The same for `cCtor.getConstructor()`).","body":"Varargs in Java are just syntactic sugar for arrays. This means that you can pass an array to  <code>ctor.newInstance()</code> instead of separate varargs. Just create a <code>String[]</code>, fill it with the appropriate values, and pass it to <code>ctor.newInstance</code> - no <code>switch</code> necessary and it will work for any number of values. (The same for <code>cCtor.getConstructor()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660547891,"creation_date":1660547891,"answer_id":73357896,"question_id":73357800,"body_markdown":"That `getConstructor` method call is already taking an array of classes. Same with `newInstance` so all you need to do is initialize an array of size `valuesNumber` that is filled with String.class and then convert your valuesList to an array. Here are some useful links: \r\n\r\nhttps://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\r\n\r\nhttps://stackoverflow.com/questions/9572795/convert-list-to-array-in-java","title":"Can this code of on the fly objects creation be optimized?","body":"<p>That <code>getConstructor</code> method call is already taking an array of classes. Same with <code>newInstance</code> so all you need to do is initialize an array of size <code>valuesNumber</code> that is filled with String.class and then convert your valuesList to an array. Here are some useful links:</p>\n<p><a href=\"https://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\">Fastest way to set all values of an array?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/9572795/convert-list-to-array-in-java\">Convert list to array in Java</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660549032,"creation_date":1660548497,"answer_id":73357972,"question_id":73357800,"body_markdown":"If I understand correctly, this should work:\r\n\r\n    public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class&lt;?&gt; cCtor){\r\n        try {\r\n            List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\r\n            int valuesNumber = valuesList.size();\r\n\r\n            Class&lt;?&gt;[] constructorParameters = new Class&lt;?&gt;[valuesNumber];\r\n            Arrays.fill(constructorParameters, String.class);\r\n            Constructor&lt;?&gt; ctor = cCtor.getConstructor(constructorParameters);\r\n            return List.of(ctor.newInstance(valuesList.toArray()));\r\n        } catch (NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\r\n            return List.of();\r\n        }\r\n    }\r\n\r\nI&#39;ve changed the last parameter to not use a raw type, and I&#39;ve removed the use of `Class.forName`, which seems redundant.\r\n\r\nTo call `getConstructor`, you can create an array of size `valuesNumber` and `fill` it with `String.class`, then pass that array. \r\n\r\nSimilarly, to call `newInstance`, you can just convert `valuesList` to an array.\r\n\r\nThis works because variable arity parameters (e.g. the parameter of `getConstructor`) have array types as their formal parameter types, and Java prefers a non-variable arity invocation over a variable arity invocation. This means that `ctor.newInstance(valuesList.toArray())` will actually be understood as &quot;call the constructor with the parameters in this array&quot;, rather than &quot;call the constructor with the array as the single parameter&quot;.","title":"Can this code of on the fly objects creation be optimized?","body":"<p>If I understand correctly, this should work:</p>\n<pre><code>public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class&lt;?&gt; cCtor){\n    try {\n        List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\n        int valuesNumber = valuesList.size();\n\n        Class&lt;?&gt;[] constructorParameters = new Class&lt;?&gt;[valuesNumber];\n        Arrays.fill(constructorParameters, String.class);\n        Constructor&lt;?&gt; ctor = cCtor.getConstructor(constructorParameters);\n        return List.of(ctor.newInstance(valuesList.toArray()));\n    } catch (NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\n        return List.of();\n    }\n}\n</code></pre>\n<p>I've changed the last parameter to not use a raw type, and I've removed the use of <code>Class.forName</code>, which seems redundant.</p>\n<p>To call <code>getConstructor</code>, you can create an array of size <code>valuesNumber</code> and <code>fill</code> it with <code>String.class</code>, then pass that array.</p>\n<p>Similarly, to call <code>newInstance</code>, you can just convert <code>valuesList</code> to an array.</p>\n<p>This works because variable arity parameters (e.g. the parameter of <code>getConstructor</code>) have array types as their formal parameter types, and Java prefers a non-variable arity invocation over a variable arity invocation. This means that <code>ctor.newInstance(valuesList.toArray())</code> will actually be understood as &quot;call the constructor with the parameters in this array&quot;, rather than &quot;call the constructor with the array as the single parameter&quot;.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73357972,"answer_count":2,"score":0,"last_activity_date":1696949096,"creation_date":1660547186,"question_id":73357800,"body_markdown":"I have a method which accepts a class parameter.\r\nI need to create a list of this class objects for any kind of a class.\r\nEach class may have a constructor with various number of parameters.\r\n\r\nThis is what I managed to get so far.\r\nIt works, but obviously it is not generic enough.\r\nIs there a more generic code for this code?\r\n\r\n\r\n    public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class c){\r\n\r\n            try {\r\n    \r\n                    Class&lt;?&gt; cCtor = Class.forName(c.getTypeName());\r\n    \r\n                    List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\r\n                    int valuesNumber = valuesList.size();\r\n    \r\n                    switch (valuesNumber) {\r\n                        case 1 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0)));\r\n                        }\r\n                        case 2 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1)));\r\n                        }\r\n                        case 4 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3)));\r\n                        }\r\n                        case 5 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3), valuesList.get(4)));\r\n                        }\r\n                        default -&gt; {\r\n                            return new ArrayList&lt;&gt;();\r\n                        }\r\n                    }\r\n                } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\r\n                    log.error(e.getMessage());\r\n                    return new ArrayList&lt;&gt;();\r\n                }\r\n    }\r\n\r\nMy goal: to generalize the switch part for all list sizes.","title":"Can this code of on the fly objects creation be optimized?","body":"<p>I have a method which accepts a class parameter.\nI need to create a list of this class objects for any kind of a class.\nEach class may have a constructor with various number of parameters.</p>\n<p>This is what I managed to get so far.\nIt works, but obviously it is not generic enough.\nIs there a more generic code for this code?</p>\n<pre><code>public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class c){\n\n        try {\n\n                Class&lt;?&gt; cCtor = Class.forName(c.getTypeName());\n\n                List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\n                int valuesNumber = valuesList.size();\n\n                switch (valuesNumber) {\n                    case 1 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0)));\n                    }\n                    case 2 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1)));\n                    }\n                    case 4 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3)));\n                    }\n                    case 5 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3), valuesList.get(4)));\n                    }\n                    default -&gt; {\n                        return new ArrayList&lt;&gt;();\n                    }\n                }\n            } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\n                log.error(e.getMessage());\n                return new ArrayList&lt;&gt;();\n            }\n}\n</code></pre>\n<p>My goal: to generalize the switch part for all list sizes.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696948202,"creation_date":1696934932,"question_id":77265116,"body_markdown":"So I am trying to make common/utility jar which will store my spring security configuration and custom permission evaluator and some additional stuff. And then services which will need to have access to it will just add it to the project.\r\nBut for some reason it does not work properly, my configuration and beans are loaded correctly. But when I am trying access my example endpoint it does not go into my custom permission evaluator, which is strange. Because before moving this code outside of my webservice everything was correctly.\r\n\r\nI am using Spring Boot 3+, and java 17.\r\nAnd my code looks like following:\r\n\r\n    @PreAuthorize(&quot;hasPermission(&#39;example&#39;)&quot;)\r\n    @GetMapping(path = &quot;/&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; getAll()\r\n\r\nSecurity Configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    //Tried both\r\n    @EnableMethodSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .authorizeHttpRequests(auth -&gt; auth\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .csrf().disable()\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public MethodSecurityExpressionHandler customMethodSecurityExpressionHandler() {\r\n            System.out.println(&quot;Creating customMethodSecurityExpressionHandler&quot;);\r\n    \r\n            DefaultMethodSecurityExpressionHandler expressionHandler =\r\n                    new DefaultMethodSecurityExpressionHandler();\r\n            expressionHandler.setPermissionEvaluator(customPermissionEvaluator());\r\n            return expressionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public CustomPermissionEvaluator customPermissionEvaluator() {\r\n            System.out.println(&quot;Creating customPermissionEvaluator&quot;);\r\n            return new CustomPermissionEvaluator();\r\n        }\r\n    }\r\n\r\nAnd evaluator\r\n\r\n    public class CustomPermissionEvaluator implements PermissionEvaluator {\r\n    \r\n        public CustomPermissionEvaluator() {\r\n            System.out.println(&quot;constructor CustomPermissionEvaluator&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }\r\n\r\nAny idea where can be an issue?\r\n","title":"Custom PermissionEvaluator does not work when security configuration is put outside of service - in seperate jar","body":"<p>So I am trying to make common/utility jar which will store my spring security configuration and custom permission evaluator and some additional stuff. And then services which will need to have access to it will just add it to the project.\nBut for some reason it does not work properly, my configuration and beans are loaded correctly. But when I am trying access my example endpoint it does not go into my custom permission evaluator, which is strange. Because before moving this code outside of my webservice everything was correctly.</p>\n<p>I am using Spring Boot 3+, and java 17.\nAnd my code looks like following:</p>\n<pre><code>@PreAuthorize(&quot;hasPermission('example')&quot;)\n@GetMapping(path = &quot;/&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;String&gt;&gt; getAll()\n</code></pre>\n<p>Security Configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n//Tried both\n@EnableMethodSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .anyRequest().authenticated()\n                )\n                .csrf().disable()\n                .build();\n    }\n\n    @Bean\n    public MethodSecurityExpressionHandler customMethodSecurityExpressionHandler() {\n        System.out.println(&quot;Creating customMethodSecurityExpressionHandler&quot;);\n\n        DefaultMethodSecurityExpressionHandler expressionHandler =\n                new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(customPermissionEvaluator());\n        return expressionHandler;\n    }\n\n    @Bean\n    public CustomPermissionEvaluator customPermissionEvaluator() {\n        System.out.println(&quot;Creating customPermissionEvaluator&quot;);\n        return new CustomPermissionEvaluator();\n    }\n}\n</code></pre>\n<p>And evaluator</p>\n<pre><code>public class CustomPermissionEvaluator implements PermissionEvaluator {\n\n    public CustomPermissionEvaluator() {\n        System.out.println(&quot;constructor CustomPermissionEvaluator&quot;);\n    }\n\n    @Override\n    public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\n        return true;\n    }\n\n    @Override\n    public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n<p>Any idea where can be an issue?</p>\n"},{"tags":["java","spring","types","error-handling","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":16927441,"reputation":11,"user_id":12242696,"display_name":"dxgamer2001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696947267,"creation_date":1696947267,"answer_id":77266583,"question_id":77265216,"body_markdown":"For anyone withe the same doubt.\r\n\r\nTry changing the GetMapping annotation:\r\n\r\n    @GetMapping(value=&quot;/search&quot;, produces={&quot;application/json&quot;,&quot;text/html&quot;}, consumes=&quot;application/json&quot;)\r\n\r\nI think it&#39;s self explanatory, but this enables 2 types HTTP mediaTypes to be returned instead of only one, which was the issue.","title":"Java Spring Reactive return error message to user OR json of some Object","body":"<p>For anyone withe the same doubt.</p>\n<p>Try changing the GetMapping annotation:</p>\n<pre><code>@GetMapping(value=&quot;/search&quot;, produces={&quot;application/json&quot;,&quot;text/html&quot;}, consumes=&quot;application/json&quot;)\n</code></pre>\n<p>I think it's self explanatory, but this enables 2 types HTTP mediaTypes to be returned instead of only one, which was the issue.</p>\n"}],"owner":{"account_id":16927441,"reputation":11,"user_id":12242696,"display_name":"dxgamer2001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696947267,"creation_date":1696935777,"question_id":77265216,"body_markdown":"My first question, so please be understanding if I miss something.\r\n\r\nSo I need to do something similar to this image (but working):\r\n\r\n```\r\n    @GetMapping(&quot;/search&quot;)\r\n    public Mono&lt;ResponseEntity&lt;?&gt;&gt; findProduct(@RequestBody ProductSearch productSearch) {\r\n        return findProduct2(productSearch)\r\n            .map(products -&gt; new ResponseEntity&lt;&gt;(products, HttpStatus.OK))\r\n            .onErrorResume(IllegalArgumentException.class, error -&gt; new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST));\r\n    }\r\n```\r\n\r\nHere I try to send a Mono&lt;List&lt;ProductEntity&gt;&gt; back to the user if he passed some other validations and no errors processing request. But I would also like to return a 400 and a message back to user indicating why it failed the validations (the message would be a String).\r\nThe error I can not get past is the type checking.\r\n\r\nThis seems like a fairly easy task since HTTP does not care wether it receives object/string (maybe only in the sense of it&#39;s MediaType).\r\n\r\n\r\nI already researched quite a bit on this and I only find one answer that would somewhat fit (although tried others) and that would be changing the &quot;server.error.include-message&quot; setting of spring to &quot;onparam&quot; or &quot;always&quot; but I don&#39;t want this here. Mostly because if some unknown error happens it might leak the stacktrace to the user, but there are other reasons.\r\n\r\nAnother one would be to create an Object similar to this:\r\n\r\n```\r\npublic class ReturnType {\r\n   private List&lt;ProductEntity&gt;&gt; result;\r\n   private String errorMessage;\r\n}\r\n```\r\nand return it, but I am working in a team so this would be a more complex solution and not what I wanted.\r\n\r\nYet again I stress, I know these are solutions, but for such a simple problem I can not understand why there is not one better.\r\n\r\nThanks to anyone who helps me on this, in advance!","title":"Java Spring Reactive return error message to user OR json of some Object","body":"<p>My first question, so please be understanding if I miss something.</p>\n<p>So I need to do something similar to this image (but working):</p>\n<pre><code>    @GetMapping(&quot;/search&quot;)\n    public Mono&lt;ResponseEntity&lt;?&gt;&gt; findProduct(@RequestBody ProductSearch productSearch) {\n        return findProduct2(productSearch)\n            .map(products -&gt; new ResponseEntity&lt;&gt;(products, HttpStatus.OK))\n            .onErrorResume(IllegalArgumentException.class, error -&gt; new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST));\n    }\n</code></pre>\n<p>Here I try to send a Mono&lt;List&gt; back to the user if he passed some other validations and no errors processing request. But I would also like to return a 400 and a message back to user indicating why it failed the validations (the message would be a String).\nThe error I can not get past is the type checking.</p>\n<p>This seems like a fairly easy task since HTTP does not care wether it receives object/string (maybe only in the sense of it's MediaType).</p>\n<p>I already researched quite a bit on this and I only find one answer that would somewhat fit (although tried others) and that would be changing the &quot;server.error.include-message&quot; setting of spring to &quot;onparam&quot; or &quot;always&quot; but I don't want this here. Mostly because if some unknown error happens it might leak the stacktrace to the user, but there are other reasons.</p>\n<p>Another one would be to create an Object similar to this:</p>\n<pre><code>public class ReturnType {\n   private List&lt;ProductEntity&gt;&gt; result;\n   private String errorMessage;\n}\n</code></pre>\n<p>and return it, but I am working in a team so this would be a more complex solution and not what I wanted.</p>\n<p>Yet again I stress, I know these are solutions, but for such a simple problem I can not understand why there is not one better.</p>\n<p>Thanks to anyone who helps me on this, in advance!</p>\n"},{"tags":["java","hibernate","spring-data-jpa","jparepository"],"owner":{"account_id":2475280,"reputation":11,"user_id":2156047,"display_name":"Maxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696947018,"creation_date":1696947018,"question_id":77266548,"body_markdown":"I have a problem in JPA with an @Entity object and the @DiscriminatorValue annotation. When I search for the object with JpaRepository, the child object is null.\r\n\r\nthis is the class:\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;KLP_IF_INVOICE_FINANCING&quot;)\r\npublic final class InvoiceFinancing&lt;I extends InvoiceFinancingInfo&gt; extends Agreement&lt;I,Underlying&lt;?&gt;&gt; {\r\n\r\n    private I invoiceFinancingInfo;\r\n\r\n    @Override\r\n    @OneToOne(targetEntity = InvoiceFinancingInfo.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    public I getInfo() {\r\n        return this.invoiceFinancingInfo;\r\n    }\r\n\r\n    public void setInfo(I invoiceFinancing) {\r\n        this.invoiceFinancingInfo = invoiceFinancing;\r\n    }\r\n}\r\n```\r\n\r\nWhen i get the invoiceFinancingInfo, with getInfo() the object is null, but in database table the record exist.\r\nFollow the othres classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;KLP_IF_INVOICE_FINANCING&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class InvoiceFinancingInfo extends AbstractAgreementInfo {\r\n\r\n    private String domainId;\r\n    private String name;\r\n    private String externalId;\r\n    //GETTERS AND SETTERS\r\n\r\n}\r\n\r\n@MappedSuperclass\r\npublic abstract class AbstractAgreementInfo extends IdentifiableEntity implements AgreementInfo {\r\n\r\n\tprivate ZonedDateTime startDate;\r\n\tprivate ZonedDateTime endDate;\r\n\tprivate Agreement&lt;?,?&gt; agreement;\r\n\t\r\n\tpublic ZonedDateTime getStartDate() {\r\n\t\treturn startDate;\r\n\t}\r\n\t\r\n\tpublic void setStartDate(ZonedDateTime startDate) {\r\n\t\tthis.startDate = startDate;\r\n\t}\r\n\t\r\n\tpublic ZonedDateTime getEndDate() {\r\n\t\treturn endDate;\r\n\t}\r\n\t\r\n\tpublic void setEndDate(ZonedDateTime endDate) {\r\n\t\tthis.endDate = endDate;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@OneToOne(targetEntity = Agreement.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY, optional = false)\r\n\t@JoinColumn(nullable = false, insertable = true, updatable = false)\r\n\tpublic Agreement&lt;?, ?&gt; getAgreement() {\r\n\t\treturn agreement;\r\n\t}\r\n\t\r\n\tpublic void setAgreement(Agreement&lt;?, ?&gt; agreement) {\r\n\t\tthis.agreement = agreement;\r\n\t}\r\n\t\r\n}\r\n\r\n@MappedSuperclass\r\npublic abstract class IdentifiableEntity implements ManagedMappedSuperclass {\r\n    private String id;\r\n    //GETTERS AND SETTERS\r\n}\r\n\r\npublic interface AgreementInfo {\r\n\tZonedDateTime getStartDate();\r\n\tZonedDateTime getEndDate();\r\n\tAgreement&lt;?,?&gt; getAgreement();\r\n\tvoid setAgreement(Agreement&lt;?,?&gt; agreement);\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;KLP_AGREEMENT&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\npublic abstract class Agreement&lt;I extends AgreementInfo, U extends Underlying&lt;?&gt;&gt; extends IdentifiableEntity {\r\n\r\n\tprivate Collection&lt;Participant&gt; participants;\r\n\tprivate Collection&lt;? extends U&gt; underlyings;\r\n\t/* Commit comment */\r\n\tpublic static final &lt;U extends Underlying&lt;?&gt;, I extends AgreementInfo, A extends Agreement&lt;I,U&gt;&gt; A of(Supplier&lt;A&gt; supplier, I info, Collection&lt;U&gt; underlyings, Collection&lt;Participant&gt; participants) {\r\n\t\tA agreement = supplier.get();\r\n\t\tif(info != null) {\r\n\t\t\tagreement.setInfo(info);\r\n\t\t\tinfo.setAgreement(agreement);\r\n\t\t}\r\n\t\tif(participants != null) {\t\t\t\r\n\t\t\tagreement.setParticipants(participants);\r\n\t\t\tparticipants.forEach(p -&gt; p.setAgreement(agreement));\r\n\t\t}\r\n\t\tif(underlyings != null) {\t\t\t\r\n\t\t\tagreement.setUnderlyings(underlyings);\r\n\t\t\tunderlyings.forEach(u -&gt; u.setAgreement(agreement));\r\n\t\t}\r\n\t\tinfo.setAgreement(agreement);\r\n\t\treturn agreement;\r\n\t}\r\n\r\n\t@OneToMany(targetEntity = Participant.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tpublic Collection&lt;Participant&gt; getParticipants() {\r\n\t\treturn participants;\r\n\t}\r\n\r\n\tpublic void setParticipants(Collection&lt;Participant&gt; participants) {\r\n\t\tthis.participants = participants;\r\n\t}\r\n\r\n\t@OneToMany(targetEntity = Underlying.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tpublic Collection&lt;? extends U&gt; getUnderlyings() {\r\n\t\treturn underlyings;\r\n\t}\r\n\r\n\tpublic void setUnderlyings(Collection&lt;? extends U&gt; underlyings) {\r\n\t\tthis.underlyings = underlyings;\r\n\t}\r\n\t\r\n\t@Transient\r\n\tpublic abstract I getInfo();\r\n\tpublic abstract void setInfo(I info);\r\n\t\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;KLP_UNDERLYING&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\npublic abstract class Underlying&lt;T&gt; extends IdentifiableEntity {\r\n\r\n\tprivate Agreement&lt;?,?&gt; agreement;\r\n\r\n\tpublic static final &lt;T , U extends Underlying&lt;T&gt;&gt; U of(Supplier&lt;U&gt; supplier, T underlyingObject) {\r\n\t\tU underlying = supplier.get();\r\n\t\tif(underlyingObject != null) {\r\n\t\t\tunderlying.setObject(underlyingObject);\r\n\t\t}\r\n\t\treturn underlying;\r\n\t}\r\n\t\r\n\t@ManyToOne(targetEntity = Agreement.class, fetch = FetchType.LAZY, optional = false)\r\n\t@JoinColumn(nullable = false, insertable = true, updatable = false)\r\n\tpublic Agreement&lt;?,?&gt; getAgreement() {\r\n\t\treturn agreement;\r\n\t}\r\n\r\n\tpublic void setAgreement(Agreement&lt;?,?&gt; agreement) {\r\n\t\tthis.agreement = agreement;\r\n\t}\r\n\t\r\n\t@Transient\r\n\tpublic abstract T getObject();\r\n\tpublic abstract void setObject(T info);\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\nI hope that someone can help me. The problem started after updating to springboot 2.6.6, before that it worked!","title":"JPA problem with an @Entity and @DiscriminatorValue annotation","body":"<p>I have a problem in JPA with an @Entity object and the @DiscriminatorValue annotation. When I search for the object with JpaRepository, the child object is null.</p>\n<p>this is the class:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;KLP_IF_INVOICE_FINANCING&quot;)\npublic final class InvoiceFinancing&lt;I extends InvoiceFinancingInfo&gt; extends Agreement&lt;I,Underlying&lt;?&gt;&gt; {\n\n    private I invoiceFinancingInfo;\n\n    @Override\n    @OneToOne(targetEntity = InvoiceFinancingInfo.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public I getInfo() {\n        return this.invoiceFinancingInfo;\n    }\n\n    public void setInfo(I invoiceFinancing) {\n        this.invoiceFinancingInfo = invoiceFinancing;\n    }\n}\n</code></pre>\n<p>When i get the invoiceFinancingInfo, with getInfo() the object is null, but in database table the record exist.\nFollow the othres classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;KLP_IF_INVOICE_FINANCING&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@EntityListeners(AuditingEntityListener.class)\npublic class InvoiceFinancingInfo extends AbstractAgreementInfo {\n\n    private String domainId;\n    private String name;\n    private String externalId;\n    //GETTERS AND SETTERS\n\n}\n\n@MappedSuperclass\npublic abstract class AbstractAgreementInfo extends IdentifiableEntity implements AgreementInfo {\n\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n    private Agreement&lt;?,?&gt; agreement;\n    \n    public ZonedDateTime getStartDate() {\n        return startDate;\n    }\n    \n    public void setStartDate(ZonedDateTime startDate) {\n        this.startDate = startDate;\n    }\n    \n    public ZonedDateTime getEndDate() {\n        return endDate;\n    }\n    \n    public void setEndDate(ZonedDateTime endDate) {\n        this.endDate = endDate;\n    }\n    \n    @Override\n    @OneToOne(targetEntity = Agreement.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(nullable = false, insertable = true, updatable = false)\n    public Agreement&lt;?, ?&gt; getAgreement() {\n        return agreement;\n    }\n    \n    public void setAgreement(Agreement&lt;?, ?&gt; agreement) {\n        this.agreement = agreement;\n    }\n    \n}\n\n@MappedSuperclass\npublic abstract class IdentifiableEntity implements ManagedMappedSuperclass {\n    private String id;\n    //GETTERS AND SETTERS\n}\n\npublic interface AgreementInfo {\n    ZonedDateTime getStartDate();\n    ZonedDateTime getEndDate();\n    Agreement&lt;?,?&gt; getAgreement();\n    void setAgreement(Agreement&lt;?,?&gt; agreement);\n}\n\n@Entity\n@Table(name = &quot;KLP_AGREEMENT&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic abstract class Agreement&lt;I extends AgreementInfo, U extends Underlying&lt;?&gt;&gt; extends IdentifiableEntity {\n\n    private Collection&lt;Participant&gt; participants;\n    private Collection&lt;? extends U&gt; underlyings;\n    /* Commit comment */\n    public static final &lt;U extends Underlying&lt;?&gt;, I extends AgreementInfo, A extends Agreement&lt;I,U&gt;&gt; A of(Supplier&lt;A&gt; supplier, I info, Collection&lt;U&gt; underlyings, Collection&lt;Participant&gt; participants) {\n        A agreement = supplier.get();\n        if(info != null) {\n            agreement.setInfo(info);\n            info.setAgreement(agreement);\n        }\n        if(participants != null) {          \n            agreement.setParticipants(participants);\n            participants.forEach(p -&gt; p.setAgreement(agreement));\n        }\n        if(underlyings != null) {           \n            agreement.setUnderlyings(underlyings);\n            underlyings.forEach(u -&gt; u.setAgreement(agreement));\n        }\n        info.setAgreement(agreement);\n        return agreement;\n    }\n\n    @OneToMany(targetEntity = Participant.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public Collection&lt;Participant&gt; getParticipants() {\n        return participants;\n    }\n\n    public void setParticipants(Collection&lt;Participant&gt; participants) {\n        this.participants = participants;\n    }\n\n    @OneToMany(targetEntity = Underlying.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public Collection&lt;? extends U&gt; getUnderlyings() {\n        return underlyings;\n    }\n\n    public void setUnderlyings(Collection&lt;? extends U&gt; underlyings) {\n        this.underlyings = underlyings;\n    }\n    \n    @Transient\n    public abstract I getInfo();\n    public abstract void setInfo(I info);\n    \n}\n\n@Entity\n@Table(name = &quot;KLP_UNDERLYING&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic abstract class Underlying&lt;T&gt; extends IdentifiableEntity {\n\n    private Agreement&lt;?,?&gt; agreement;\n\n    public static final &lt;T , U extends Underlying&lt;T&gt;&gt; U of(Supplier&lt;U&gt; supplier, T underlyingObject) {\n        U underlying = supplier.get();\n        if(underlyingObject != null) {\n            underlying.setObject(underlyingObject);\n        }\n        return underlying;\n    }\n    \n    @ManyToOne(targetEntity = Agreement.class, fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(nullable = false, insertable = true, updatable = false)\n    public Agreement&lt;?,?&gt; getAgreement() {\n        return agreement;\n    }\n\n    public void setAgreement(Agreement&lt;?,?&gt; agreement) {\n        this.agreement = agreement;\n    }\n    \n    @Transient\n    public abstract T getObject();\n    public abstract void setObject(T info);\n    \n}\n</code></pre>\n<p>I hope that someone can help me. The problem started after updating to springboot 2.6.6, before that it worked!</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"score":0,"creation_date":1428381776,"post_id":29463560,"comment_id":47127915,"body_markdown":"I guess it is happening at the very first initialization.\nFor now, check if it has any children before calling findFirstVisible and also it would be nice if you can create a bug report on b.android.com .","body":"I guess it is happening at the very first initialization. For now, check if it has any children before calling findFirstVisible and also it would be nice if you can create a bug report on b.android.com ."}],"answers":[{"tags":[],"owner":{"account_id":3136581,"reputation":464,"user_id":2652974,"display_name":"zed007"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1428554709,"creation_date":1428310583,"answer_id":29468149,"question_id":29463560,"body_markdown":"I tested it with this code and it works fine with me \r\n\r\n    int positionView = ((LinearLayoutManager)recyclerView.getLayoutManager()).findFirstVisibleItemPosition();\r\n\r\nI used the recycle view parameter.","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>I tested it with this code and it works fine with me </p>\n\n<pre><code>int positionView = ((LinearLayoutManager)recyclerView.getLayoutManager()).findFirstVisibleItemPosition();\n</code></pre>\n\n<p>I used the recycle view parameter.</p>\n"},{"tags":[],"owner":{"account_id":5801790,"reputation":2991,"user_id":4575744,"display_name":"Ankit Aggarwal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1428554964,"creation_date":1428554624,"answer_id":29529952,"question_id":29463560,"body_markdown":"Try this:\r\n\r\n    int position = layoutManager.findFirstVisibleItemPositions(null)[0];\r\n\r\nwhere `layoutManager` is what you set in your `recyclerview`.\r\n\r\nFor example,\r\n\r\n    layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\r\n    mrecyclerView.setLayoutManager(layoutManager );","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Try this:</p>\n\n<pre><code>int position = layoutManager.findFirstVisibleItemPositions(null)[0];\n</code></pre>\n\n<p>where <code>layoutManager</code> is what you set in your <code>recyclerview</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\nmrecyclerView.setLayoutManager(layoutManager );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23056,"reputation":8896,"user_id":57490,"display_name":"TalkLittle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453178252,"creation_date":1453178252,"answer_id":34868592,"question_id":29463560,"body_markdown":"This is a bug in the RecyclerView StaggeredGridLayoutManager:\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=180521\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=181461\r\n\r\nA workaround is to try/catch the exception:\r\n\r\n    try {\r\n        ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions);\r\n    } catch (NullPointerException ex) {\r\n        // workaround for RecyclerView bug. assume not laid out, so no items visible\r\n        firstVisibleItemPositions[0] = RecyclerView.NO_POSITION;\r\n        firstVisibleItemPositions[1] = RecyclerView.NO_POSITION;\r\n    }\r\n\r\n","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>This is a bug in the RecyclerView StaggeredGridLayoutManager:</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=180521\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=180521</a></p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=181461\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=181461</a></p>\n\n<p>A workaround is to try/catch the exception:</p>\n\n<pre><code>try {\n    ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions);\n} catch (NullPointerException ex) {\n    // workaround for RecyclerView bug. assume not laid out, so no items visible\n    firstVisibleItemPositions[0] = RecyclerView.NO_POSITION;\n    firstVisibleItemPositions[1] = RecyclerView.NO_POSITION;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685955,"reputation":31,"user_id":3793358,"display_name":"user3793358"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480187575,"creation_date":1480187575,"answer_id":40822104,"question_id":29463560,"body_markdown":"You can use this : \r\n\r\n    int[] firstVisibleItemPositions = new int[yourNumberOfColumns];\r\n    int pastVisiblesItems = layoutManager.findFirstVisibleItemPositions(firstVisibleItem‌​Positions)[0];","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>You can use this : </p>\n\n<pre><code>int[] firstVisibleItemPositions = new int[yourNumberOfColumns];\nint pastVisiblesItems = layoutManager.findFirstVisibleItemPositions(firstVisibleItem‌​Positions)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3459925,"reputation":3985,"user_id":2897365,"display_name":"varotariya vajsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503127649,"creation_date":1503127191,"answer_id":45768855,"question_id":29463560,"body_markdown":"If you are using StaggeredGridLayoutManager you can find **findLastVisibleItemPositions** like below:\r\n\r\n    int visibleThreshold =1;\r\n    final StaggeredGridLayoutManager linearLayoutManager = (StaggeredGridLayoutManager) mRecyclerViewAllPost.getLayoutManager();\r\n        mRecyclerViewAllPost.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                int[] lastVisibleItemPositions = linearLayoutManager.findLastVisibleItemPositions(null);\r\n                int lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\r\n                int totalItemCount = linearLayoutManager.getItemCount();\r\n                if (!isLoading &amp;&amp; totalItemCount &lt;= (lastVisibleItem + visibleThreshold)) {\r\n                    print(&quot;load more item &quot;);\r\n                    isLoading = true;\r\n                }\r\n            }\r\n        });\r\n\r\nand **getLastVisibleItem** method as below:\r\n\r\n    public int getLastVisibleItem(int[] lastVisibleItemPositions) {\r\n        int maxSize = 0;\r\n        for (int i = 0; i &lt; lastVisibleItemPositions.length; i++) {\r\n            if (i == 0) {\r\n                maxSize = lastVisibleItemPositions[i];\r\n            }\r\n            else if (lastVisibleItemPositions[i] &gt; maxSize) {\r\n                maxSize = lastVisibleItemPositions[i];\r\n            }\r\n        }\r\n        return maxSize;\r\n    }","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>If you are using StaggeredGridLayoutManager you can find <strong>findLastVisibleItemPositions</strong> like below:</p>\n\n<pre><code>int visibleThreshold =1;\nfinal StaggeredGridLayoutManager linearLayoutManager = (StaggeredGridLayoutManager) mRecyclerViewAllPost.getLayoutManager();\n    mRecyclerViewAllPost.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n\n            int[] lastVisibleItemPositions = linearLayoutManager.findLastVisibleItemPositions(null);\n            int lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\n            int totalItemCount = linearLayoutManager.getItemCount();\n            if (!isLoading &amp;&amp; totalItemCount &lt;= (lastVisibleItem + visibleThreshold)) {\n                print(\"load more item \");\n                isLoading = true;\n            }\n        }\n    });\n</code></pre>\n\n<p>and <strong>getLastVisibleItem</strong> method as below:</p>\n\n<pre><code>public int getLastVisibleItem(int[] lastVisibleItemPositions) {\n    int maxSize = 0;\n    for (int i = 0; i &lt; lastVisibleItemPositions.length; i++) {\n        if (i == 0) {\n            maxSize = lastVisibleItemPositions[i];\n        }\n        else if (lastVisibleItemPositions[i] &gt; maxSize) {\n            maxSize = lastVisibleItemPositions[i];\n        }\n    }\n    return maxSize;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649239,"reputation":51,"user_id":1520139,"display_name":"Subhash Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534921526,"creation_date":1534920038,"answer_id":51961065,"question_id":29463560,"body_markdown":"You can try it this way:\r\n    \r\n    StaggeredGridLayoutManager staggeredGridLayoutManager = (StaggeredGridLayoutManager) recyclerView.getLayoutManager();\r\n    \r\nOr you can use your `staggeredlayoutManager` object directly instead of above object:\r\n    \r\n    int[] into = staggeredGridLayoutManager .findLastVisibleItemPositions(null);\r\n    List&lt;Integer&gt; intoList = new ArrayList&lt;&gt;();\r\n    \r\n    for (int i : into) \r\n    {\r\n     intoList.add(i);\r\n    }\r\n  \r\n \r\n    \r\n    int firstVisbleoitem= Collections.max(intoList);","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>You can try it this way:</p>\n\n<pre><code>StaggeredGridLayoutManager staggeredGridLayoutManager = (StaggeredGridLayoutManager) recyclerView.getLayoutManager();\n</code></pre>\n\n<p>Or you can use your <code>staggeredlayoutManager</code> object directly instead of above object:</p>\n\n<pre><code>int[] into = staggeredGridLayoutManager .findLastVisibleItemPositions(null);\nList&lt;Integer&gt; intoList = new ArrayList&lt;&gt;();\n\nfor (int i : into) \n{\n intoList.add(i);\n}\n\n\n\nint firstVisbleoitem= Collections.max(intoList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10890458,"reputation":1371,"user_id":8006435,"display_name":"smarteist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558798407,"creation_date":1558798407,"answer_id":56306259,"question_id":29463560,"body_markdown":"Use these two methods :\r\n\r\n        /**\r\n         * @return Last visible item position for staggeredGridLayoutManager\r\n         */\r\n        private int getLastVisibleItem(int[] lastVisibleItemPositions) {\r\n            int maxSize = 0;\r\n            for (int position : lastVisibleItemPositions) {\r\n                if (position &gt; maxSize) {\r\n                    maxSize = position;\r\n                }\r\n            }\r\n            return maxSize;\r\n        }\r\n    \r\n        /**\r\n         * @return First visible item position for staggeredGridLayoutManager\r\n         */\r\n        private int getFirstVisibleItem(int[] firstVisibleItemPositions) {\r\n            int minSize = 0;\r\n            if (firstVisibleItemPositions.length &gt; 0) {\r\n                minSize = firstVisibleItemPositions[0];\r\n                for (int position : firstVisibleItemPositions) {\r\n                    if (position &lt; minSize) {\r\n                        minSize = position;\r\n                    }\r\n                }\r\n            }\r\n            return minSize;\r\n        }\r\n\r\nand getLastVisibleItem method as below:\r\n\r\n                        int[] lastVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findLastVisibleItemPositions(null);\r\n                        int[] firstVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findFirstVisibleItemPositions(null);\r\n                        // get maximum element within the list\r\n                        lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\r\n                        firstVisibleItem = getFirstVisibleItem(firstVisibleItemPositions);\r\n\r\n","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Use these two methods :</p>\n\n<pre><code>    /**\n     * @return Last visible item position for staggeredGridLayoutManager\n     */\n    private int getLastVisibleItem(int[] lastVisibleItemPositions) {\n        int maxSize = 0;\n        for (int position : lastVisibleItemPositions) {\n            if (position &gt; maxSize) {\n                maxSize = position;\n            }\n        }\n        return maxSize;\n    }\n\n    /**\n     * @return First visible item position for staggeredGridLayoutManager\n     */\n    private int getFirstVisibleItem(int[] firstVisibleItemPositions) {\n        int minSize = 0;\n        if (firstVisibleItemPositions.length &gt; 0) {\n            minSize = firstVisibleItemPositions[0];\n            for (int position : firstVisibleItemPositions) {\n                if (position &lt; minSize) {\n                    minSize = position;\n                }\n            }\n        }\n        return minSize;\n    }\n</code></pre>\n\n<p>and getLastVisibleItem method as below:</p>\n\n<pre><code>                    int[] lastVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findLastVisibleItemPositions(null);\n                    int[] firstVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findFirstVisibleItemPositions(null);\n                    // get maximum element within the list\n                    lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\n                    firstVisibleItem = getFirstVisibleItem(firstVisibleItemPositions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033977,"reputation":6390,"user_id":3319132,"accept_rate":49,"display_name":"reza_khalafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696946876,"creation_date":1696946876,"answer_id":77266533,"question_id":29463560,"body_markdown":"Use this in Kotlin:\r\n\r\n    val positionView = (recyclerView.layoutManager as LinearLayoutManager?)!!.findFirstVisibleItemPosition()\r\n\r\n\r\nJust this.","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Use this in Kotlin:</p>\n<pre><code>val positionView = (recyclerView.layoutManager as LinearLayoutManager?)!!.findFirstVisibleItemPosition()\n</code></pre>\n<p>Just this.</p>\n"}],"owner":{"account_id":4329949,"reputation":253,"user_id":3535747,"display_name":"user3535747"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24584,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29468149,"answer_count":8,"score":18,"last_activity_date":1696946876,"creation_date":1428277733,"question_id":29463560,"body_markdown":"I have this code:\r\n\r\n    mRecycleView.setOnScrollListener(new RecyclerView.OnScrollListener() {\r\n        @Override\r\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n            super.onScrolled(recyclerView, dx, dy);\r\n            int[] firstVisibleItemPositions = new int[getResources().getInteger(R.integer.news_numbers_column)]; \r\n            int pastVisiblesItems = ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions)[0];\r\n        }\r\n    });\r\n\r\nWhen I scroll my recycleview I get this error:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.support.v7.widget.OrientationHelper.getStartAfterPadding()&#39; on a null object reference\r\n    at android.support.v7.widget.StaggeredGridLayoutManager$Span.findOneVisibleChild(StaggeredGridLayoutManager.java:2177)\r\n    at android.support.v7.widget.StaggeredGridLayoutManager$Span.findFirstVisibleItemPosition(StaggeredGridLayoutManager.java:2153)\r\n    at android.support.v7.widget.StaggeredGridLayoutManager.findFirstVisibleItemPositions(StaggeredGridLayoutManager.java:806)\r\n    at info.lanouvelletribune.apps.android.ui.fragments.NewsFragment$1.onScrollStateChanged(NewsFragment.java:90)\r\n    at android.support.v7.widget.RecyclerView.setScrollState(RecyclerView.java:751)\r\n    at android.support.v7.widget.RecyclerView.onInterceptTouchEvent(RecyclerView.java:1535)\r\n    at com.github.ksoichiro.android.observablescrollview.ObservableRecyclerView.onInterceptTouchEvent(ObservableRecyclerView.java:188)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2060)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2390)\r\n    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1741)\r\n    at android.app.Activity.dispatchTouchEvent(Activity.java:2826)\r\n    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2351)\r\n    at android.view.View.dispatchPointerEvent(View.java:8590)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4098)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:3964)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\r\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3515)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\r\n    at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3617)\r\n    at android\r\n\r\nHow can I do to handle this error and get the first visible item position?","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>I have this code:</p>\n\n<pre><code>mRecycleView.setOnScrollListener(new RecyclerView.OnScrollListener() {\n    @Override\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n        super.onScrolled(recyclerView, dx, dy);\n        int[] firstVisibleItemPositions = new int[getResources().getInteger(R.integer.news_numbers_column)]; \n        int pastVisiblesItems = ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions)[0];\n    }\n});\n</code></pre>\n\n<p>When I scroll my recycleview I get this error:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.support.v7.widget.OrientationHelper.getStartAfterPadding()' on a null object reference\nat android.support.v7.widget.StaggeredGridLayoutManager$Span.findOneVisibleChild(StaggeredGridLayoutManager.java:2177)\nat android.support.v7.widget.StaggeredGridLayoutManager$Span.findFirstVisibleItemPosition(StaggeredGridLayoutManager.java:2153)\nat android.support.v7.widget.StaggeredGridLayoutManager.findFirstVisibleItemPositions(StaggeredGridLayoutManager.java:806)\nat info.lanouvelletribune.apps.android.ui.fragments.NewsFragment$1.onScrollStateChanged(NewsFragment.java:90)\nat android.support.v7.widget.RecyclerView.setScrollState(RecyclerView.java:751)\nat android.support.v7.widget.RecyclerView.onInterceptTouchEvent(RecyclerView.java:1535)\nat com.github.ksoichiro.android.observablescrollview.ObservableRecyclerView.onInterceptTouchEvent(ObservableRecyclerView.java:188)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2060)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2390)\nat com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1741)\nat android.app.Activity.dispatchTouchEvent(Activity.java:2826)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2351)\nat android.view.View.dispatchPointerEvent(View.java:8590)\nat android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4098)\nat android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:3964)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3515)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\nat android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3617)\nat android\n</code></pre>\n\n<p>How can I do to handle this error and get the first visible item position?</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":24157215,"reputation":104,"user_id":18121299,"display_name":"SpeedyTheSnail"},"score":0,"creation_date":1696614045,"post_id":77246125,"comment_id":136180602,"body_markdown":"Maybe this will help? https://stackoverflow.com/a/27215864/18121299","body":"Maybe this will help? <a href=\"https://stackoverflow.com/a/27215864/18121299\">stackoverflow.com/a/27215864/18121299</a>"},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1696946714,"post_id":77246125,"comment_id":136215726,"body_markdown":"changed the type reference to `new TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}` fixed it.","body":"changed the type reference to <code>new TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}</code> fixed it."}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696660309,"creation_date":1696660309,"answer_id":77248646,"question_id":77246125,"body_markdown":" 1. **Annotation Effects**: Make sure that annotations like @Jacksonized\r\n    from Lombok are not altering the default behavior of the\r\n    ObjectMapper, particularly concerning the handling of unknown\r\n    properties.\r\n    \r\n \r\n 2. **Example of a Global ObjectMapper Bean with Feature Enabled**: You can\r\n    create an ObjectMapper bean with the FAIL_ON_UNKNOWN_PROPERTIES\r\n    feature enabled and use it throughout your application. Here&#39;s how\r\n    to do it in a Spring Boot @Configuration class:\r\n\r\n\r\n   \r\n\r\n     @Configuration\r\n        public class MyConfiguration {\r\n        \r\n            @Bean\r\n            public ObjectMapper objectMapper() {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n                return objectMapper;\r\n            }\r\n        }\r\n\r\n\r\n3. **JunitTest isolate:**\r\n\r\n \r\n\r\n   \r\n   \r\n    \r\n        @Test\r\n        @DisplayName(&quot;GIVEN a JSON string with unknown properties WHEN deserialized THEN should throw UnrecognizedPropertyException&quot;)\r\n        void debugTest() {\r\n            ObjectMapper localMapper = new ObjectMapper();\r\n            localMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    \r\n            String jsonString = &quot;{\\&quot;selected\\&quot;: false, \\&quot;disabled\\&quot;: true, \\&quot;foo\\&quot;: \\&quot;bar\\&quot;}&quot;;\r\n    \r\n            Assertions.assertThrows(\r\n                UnrecognizedPropertyException.class,\r\n                () -&gt; localMapper.readValue(jsonString, MyFormLayout.class)\r\n            );\r\n        }\r\n    \r\n\r\n","title":"Jackson deserialisation NOT failing on unknown properties","body":"<ol>\n<li><p><strong>Annotation Effects</strong>: Make sure that annotations like @Jacksonized\nfrom Lombok are not altering the default behavior of the\nObjectMapper, particularly concerning the handling of unknown\nproperties.</p>\n</li>\n<li><p><strong>Example of a Global ObjectMapper Bean with Feature Enabled</strong>: You can\ncreate an ObjectMapper bean with the FAIL_ON_UNKNOWN_PROPERTIES\nfeature enabled and use it throughout your application. Here's how\nto do it in a Spring Boot @Configuration class:</p>\n<p>@Configuration\npublic class MyConfiguration {</p>\n<pre><code>    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        return objectMapper;\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>JunitTest isolate:</strong></p>\n<pre><code> @Test\n @DisplayName(&quot;GIVEN a JSON string with unknown properties WHEN deserialized THEN should throw UnrecognizedPropertyException&quot;)\n void debugTest() {\n     ObjectMapper localMapper = new ObjectMapper();\n     localMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n\n     String jsonString = &quot;{\\&quot;selected\\&quot;: false, \\&quot;disabled\\&quot;: true, \\&quot;foo\\&quot;: \\&quot;bar\\&quot;}&quot;;\n\n     Assertions.assertThrows(\n         UnrecognizedPropertyException.class,\n         () -&gt; localMapper.readValue(jsonString, MyFormLayout.class)\n     );\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696946763,"creation_date":1696946763,"answer_id":77266520,"question_id":77246125,"body_markdown":"Changed the type reference to new `TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}` fixed it.","title":"Jackson deserialisation NOT failing on unknown properties","body":"<p>Changed the type reference to new <code>TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}</code> fixed it.</p>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77266520,"answer_count":2,"score":0,"last_activity_date":1696946763,"creation_date":1696610220,"question_id":77246125,"body_markdown":"Deserialisation should fail for the following POJO if the json has an additional field, as the Jackson documentation says ` FAIL_ON_UKNOWN_PROPERTIES ` is set by default.\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldNameConstants\r\n    @ToString\r\n    @Builder\r\n    @Document(collection = &quot;form_layouts&quot;)\r\n    @EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\n    @Jacksonized\r\n    public class MyFormLayout extends AuditableDocument {\r\n    \r\n        @NotNull\r\n        private Boolean selected;\r\n        @NotNull\r\n        private Boolean disabled;\r\n        @NotEmpty\r\n        private List&lt;Layout&gt; layout;\r\n    \r\n        @NotBlank\r\n        @EqualsAndHashCode.Include\r\n        private String realmId;\r\n    }\r\n\r\nI was expecting this test to fail with `UnrecognizedPropertyException` which it doesn&#39;t even after setting this property on Jackson \r\n\r\n    @SpringJUnitConfig\r\n    @TestPropertySource(\r\n            properties = {\r\n                    &quot;spring.jackson.deserialization.fail-on-unknown-properties=true&quot;\r\n            }\r\n    )\r\n    @AutoConfigureJson\r\n    @DisplayName(&quot;Form Layout Deserialisation&quot;)\r\n    public class MyFormLayoutDeserialisationTest {\r\n    \r\n        @Autowired\r\n        Jackson2ObjectMapperBuilder objectMapperBuilder;\r\n        ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            objectMapper = objectMapperBuilder.build();\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;fails loading seeder json if the keys don&#39;t match to object fields&quot;)\r\n        void testForcesJsonToMatchFormTemplate(@Value(&quot;classpath:bad_nform_layout.json&quot;) Resource badLayout) {\r\n            Assertions.assertThrows(UnrecognizedPropertyException.class, () -&gt; objectMapper.readValue(Files.readString(Path.of(badLayout.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\r\n            }), &quot;Seeder JSON should have the exact keys and fields declared in the MyFormLayout object&quot;);\r\n        }\r\n    }\r\n\r\nTest fails with the message \r\n\r\n    org.opentest4j.AssertionFailedError: Seeder JSON should have the exact keys and fields declared in the MyFormLayout object ==&gt; Expected com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException to be thrown, but nothing was thrown.\r\n\r\nthe JSON file\r\n\r\n    [\r\n      {\r\n        &quot;selected&quot;: false,\r\n        &quot;disabled&quot;: true,\r\n        &quot;app&quot;: &quot;blox&quot;,\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;layout&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;B-1&quot;,\r\n            &quot;x&quot;: 0,\r\n            &quot;y&quot;: 0,\r\n            &quot;w&quot;: 12,\r\n            &quot;h&quot;: 7\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-2&quot;,\r\n            &quot;x&quot;: 13,\r\n            &quot;y&quot;: 0,\r\n            &quot;w&quot;: 4,\r\n            &quot;h&quot;: 4\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-3&quot;,\r\n            &quot;x&quot;: 0,\r\n            &quot;y&quot;: 8,\r\n            &quot;w&quot;: 12,\r\n            &quot;h&quot;: 3\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-4&quot;,\r\n            &quot;x&quot;: 13,\r\n            &quot;y&quot;: 5,\r\n            &quot;w&quot;: 4,\r\n            &quot;h&quot;: 6\r\n          }\r\n        ]\r\n      }\r\n      ...\r\n    ]\r\n\r\n`&quot;foo&quot;: &quot;bar&quot;` is the unknown property that should have failed deserialisation.","title":"Jackson deserialisation NOT failing on unknown properties","body":"<p>Deserialisation should fail for the following POJO if the json has an additional field, as the Jackson documentation says <code>FAIL_ON_UKNOWN_PROPERTIES</code> is set by default.</p>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@ToString\n@Builder\n@Document(collection = &quot;form_layouts&quot;)\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\n@Jacksonized\npublic class MyFormLayout extends AuditableDocument {\n\n    @NotNull\n    private Boolean selected;\n    @NotNull\n    private Boolean disabled;\n    @NotEmpty\n    private List&lt;Layout&gt; layout;\n\n    @NotBlank\n    @EqualsAndHashCode.Include\n    private String realmId;\n}\n</code></pre>\n<p>I was expecting this test to fail with <code>UnrecognizedPropertyException</code> which it doesn't even after setting this property on Jackson</p>\n<pre><code>@SpringJUnitConfig\n@TestPropertySource(\n        properties = {\n                &quot;spring.jackson.deserialization.fail-on-unknown-properties=true&quot;\n        }\n)\n@AutoConfigureJson\n@DisplayName(&quot;Form Layout Deserialisation&quot;)\npublic class MyFormLayoutDeserialisationTest {\n\n    @Autowired\n    Jackson2ObjectMapperBuilder objectMapperBuilder;\n    ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        objectMapper = objectMapperBuilder.build();\n    }\n\n    @Test\n    @DisplayName(&quot;fails loading seeder json if the keys don't match to object fields&quot;)\n    void testForcesJsonToMatchFormTemplate(@Value(&quot;classpath:bad_nform_layout.json&quot;) Resource badLayout) {\n        Assertions.assertThrows(UnrecognizedPropertyException.class, () -&gt; objectMapper.readValue(Files.readString(Path.of(badLayout.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\n        }), &quot;Seeder JSON should have the exact keys and fields declared in the MyFormLayout object&quot;);\n    }\n}\n</code></pre>\n<p>Test fails with the message</p>\n<pre><code>org.opentest4j.AssertionFailedError: Seeder JSON should have the exact keys and fields declared in the MyFormLayout object ==&gt; Expected com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException to be thrown, but nothing was thrown.\n</code></pre>\n<p>the JSON file</p>\n<pre><code>[\n  {\n    &quot;selected&quot;: false,\n    &quot;disabled&quot;: true,\n    &quot;app&quot;: &quot;blox&quot;,\n    &quot;foo&quot;: &quot;bar&quot;,\n    &quot;layout&quot;: [\n      {\n        &quot;id&quot;: &quot;B-1&quot;,\n        &quot;x&quot;: 0,\n        &quot;y&quot;: 0,\n        &quot;w&quot;: 12,\n        &quot;h&quot;: 7\n      },\n      {\n        &quot;id&quot;: &quot;B-2&quot;,\n        &quot;x&quot;: 13,\n        &quot;y&quot;: 0,\n        &quot;w&quot;: 4,\n        &quot;h&quot;: 4\n      },\n      {\n        &quot;id&quot;: &quot;B-3&quot;,\n        &quot;x&quot;: 0,\n        &quot;y&quot;: 8,\n        &quot;w&quot;: 12,\n        &quot;h&quot;: 3\n      },\n      {\n        &quot;id&quot;: &quot;B-4&quot;,\n        &quot;x&quot;: 13,\n        &quot;y&quot;: 5,\n        &quot;w&quot;: 4,\n        &quot;h&quot;: 6\n      }\n    ]\n  }\n  ...\n]\n</code></pre>\n<p><code>&quot;foo&quot;: &quot;bar&quot;</code> is the unknown property that should have failed deserialisation.</p>\n"},{"tags":["java","unit-testing","mapstruct"],"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696945466,"post_id":77266188,"comment_id":136215445,"body_markdown":"@AnishB. no, sorry. It&#39;s not a public repository","body":"@AnishB. no, sorry. It&#39;s not a public repository"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696945505,"post_id":77266188,"comment_id":136215455,"body_markdown":"Ok. No problem.","body":"Ok. No problem."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696945916,"post_id":77266188,"comment_id":136215541,"body_markdown":"@AnishB. but then the `delegate` field is cannot be initialized, and I get an NPE","body":"@AnishB. but then the <code>delegate</code> field is cannot be initialized, and I get an NPE"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696945911,"creation_date":1696945911,"answer_id":77266411,"question_id":77266188,"body_markdown":"Try with `default` component model for mapper. \r\n\r\nChange to this `@Mapper(componentModel = &quot;default&quot;)` and see if this works.","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>Try with <code>default</code> component model for mapper.</p>\n<p>Change to this <code>@Mapper(componentModel = &quot;default&quot;)</code> and see if this works.</p>\n"},{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696946575,"creation_date":1696946575,"answer_id":77266490,"question_id":77266188,"body_markdown":"Since I had the component model &quot;spring&quot; in my `pom.xml`, I had to override it in my `@Mapper` interface for this to work. Change this\r\n```java\r\n@Mapper\r\n```\r\nto this\r\n```java\r\n@Mapper(componentModel = &quot;default&quot;)\r\n```\r\nIntelliJ may say it&#39;s redundant to pass a default attribute value, but you should ignore it on that","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>Since I had the component model &quot;spring&quot; in my <code>pom.xml</code>, I had to override it in my <code>@Mapper</code> interface for this to work. Change this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;default&quot;)\n</code></pre>\n<p>IntelliJ may say it's redundant to pass a default attribute value, but you should ignore it on that</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77266411,"answer_count":2,"score":1,"last_activity_date":1696946575,"creation_date":1696944184,"question_id":77266188,"body_markdown":"I want to test a Mapstruct mapper. The code below works if I make my test integrational and annotate it with `@SpringBootTest`. However, I want to make it a unit test instead. How do I get that decorated mapper in that case?\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    @DecoratedWith(CardMapperDecorator.class)\r\n    public interface CardMapper {\r\n       // and so on\r\n    }\r\n\r\n\r\n\r\n\r\n \r\n----\r\n\r\n    @Component\r\n    public abstract class CardMapperDecorator implements CardMapper {\r\n    \r\n        private CardMapper delegate;\r\n    \r\n        @Autowired\r\n        public void setDelegate(CardMapper delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n       \r\n        // and so on \r\n\r\n    }\r\n\r\n---\r\n\r\n    // commented out to avoid bootstrapping the Spring context\r\n    //@ExtendWith(MockitoExtension.class)\r\n    //@SpringBootTest\r\n    //@ActiveProfiles(&quot;test&quot;)\r\n    class CardMapperTest {\r\n    \r\n        private final String CARD_NUMBER = &quot;1111222233334444&quot;;\r\n    //    @Autowired\r\n        private CardMapper cardMapper;\r\n    // ...\r\n        @BeforeEach\r\n        void setUp() {\r\n    // this leads to an NPE later since the delegate field is not initialized\r\n            cardMapper = Mappers.getMapper(CardMapper.class);\r\n\r\n\r\nIf I follow the documentation&#39;s [advice][1], then I changed the code to this by adding a constructor:\r\n\r\n    //@Component\r\n    @RequiredArgsConstructor\r\n    public abstract class CardMapperDecorator implements CardMapper {\r\n    \r\n        private final CardMapper delegate;\r\n    \r\n    //    @Autowired\r\n    //    public void setDelegate(CardMapper delegate) {\r\n    //        this.delegate = delegate;\r\n    //    }\r\n    }   \r\n\r\nI get another exception:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: by.afinny.credit.mapper.decorator.CardMapperDecorator: method &#39;void &lt;init&gt;()&#39; not found\r\n\tat by.afinny.credit.mapper.CardMapperImpl.&lt;init&gt;(CardMapperImpl.java:28)\r\n\t... 82 more\r\n```\r\nWhy do I need some `void &lt;init&gt;`?\r\n\r\n  [1]: https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\r\n\r\n\r\n","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>I want to test a Mapstruct mapper. The code below works if I make my test integrational and annotate it with <code>@SpringBootTest</code>. However, I want to make it a unit test instead. How do I get that decorated mapper in that case?</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n   // and so on\n}\n</code></pre>\n<hr />\n<pre><code>@Component\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private CardMapper delegate;\n\n    @Autowired\n    public void setDelegate(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n   \n    // and so on \n\n}\n</code></pre>\n<hr />\n<pre><code>// commented out to avoid bootstrapping the Spring context\n//@ExtendWith(MockitoExtension.class)\n//@SpringBootTest\n//@ActiveProfiles(&quot;test&quot;)\nclass CardMapperTest {\n\n    private final String CARD_NUMBER = &quot;1111222233334444&quot;;\n//    @Autowired\n    private CardMapper cardMapper;\n// ...\n    @BeforeEach\n    void setUp() {\n// this leads to an NPE later since the delegate field is not initialized\n        cardMapper = Mappers.getMapper(CardMapper.class);\n</code></pre>\n<p>If I follow the documentation's <a href=\"https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\" rel=\"nofollow noreferrer\">advice</a>, then I changed the code to this by adding a constructor:</p>\n<pre><code>//@Component\n@RequiredArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private final CardMapper delegate;\n\n//    @Autowired\n//    public void setDelegate(CardMapper delegate) {\n//        this.delegate = delegate;\n//    }\n}   \n</code></pre>\n<p>I get another exception:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: by.afinny.credit.mapper.decorator.CardMapperDecorator: method 'void &lt;init&gt;()' not found\n    at by.afinny.credit.mapper.CardMapperImpl.&lt;init&gt;(CardMapperImpl.java:28)\n    ... 82 more\n</code></pre>\n<p>Why do I need some <code>void &lt;init&gt;</code>?</p>\n"},{"tags":["java","user-interface","javafx","height","width"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1424219377,"post_id":28573700,"comment_id":45457139,"body_markdown":"It is usually best to supply [real executable code](http://stackoverflow.com/help/mcve) that replicates the stack trace you provide.  Also note: [&quot;If no size is specified, the scene will automatically compute its initial size based on the preferred size of its content.&quot;](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html)","body":"It is usually best to supply <a href=\"http://stackoverflow.com/help/mcve\">real executable code</a> that replicates the stack trace you provide.  Also note: <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\">&quot;If no size is specified, the scene will automatically compute its initial size based on the preferred size of its content.&quot;</a>"},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424228797,"post_id":28573700,"comment_id":45459757,"body_markdown":"I understand, but it is this computed value, which I want to have as a minimum value for width and for height, so that the window can become bigger but not smaller than the computed size. About the code: It&#39;s really pages of code for that stage, is it really appropriate to put so much in here? Also I&#39;d have to make it executable on it&#39;s own first, since it is not the main window of my application, or even more code, post the whole application. I think there should be a standard way how to achieve the desired effect, no matter what the stage is for. I just can&#39;t figure that one out : /","body":"I understand, but it is this computed value, which I want to have as a minimum value for width and for height, so that the window can become bigger but not smaller than the computed size. About the code: It&#39;s really pages of code for that stage, is it really appropriate to put so much in here? Also I&#39;d have to make it executable on it&#39;s own first, since it is not the main window of my application, or even more code, post the whole application. I think there should be a standard way how to achieve the desired effect, no matter what the stage is for. I just can&#39;t figure that one out : /"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1424235600,"post_id":28573700,"comment_id":45461746,"body_markdown":"Surely you can create (from scratch) a complete, executable example that does the same thing but involves only a few lines of code?","body":"Surely you can create (from scratch) a complete, executable example that does the same thing but involves only a few lines of code?"},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424258005,"post_id":28573700,"comment_id":45472172,"body_markdown":"Actually this is difficult. &quot;From scratch&quot; doesn&#39;t result in the same exception for some reason I don&#39;t know and if it did the &quot;same&quot;, it would not only involve a few lines of code, since &quot;the same&quot; is quite a lot. However something different happens with another smaller example application, that I tried to do this with: The minSize is ignored / has the wrong value. I can still make the window smaller than the space needed. Isn&#39;t there a general way how to get this effect? That&#39;s the main question here.","body":"Actually this is difficult. &quot;From scratch&quot; doesn&#39;t result in the same exception for some reason I don&#39;t know and if it did the &quot;same&quot;, it would not only involve a few lines of code, since &quot;the same&quot; is quite a lot. However something different happens with another smaller example application, that I tried to do this with: The minSize is ignored / has the wrong value. I can still make the window smaller than the space needed. Isn&#39;t there a general way how to get this effect? That&#39;s the main question here."},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424258507,"post_id":28573700,"comment_id":45472432,"body_markdown":"EDIT2: Smaller example with different result added.","body":"EDIT2: Smaller example with different result added."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1424259071,"post_id":28573700,"comment_id":45472761,"body_markdown":"The culprit is `GridPane.setRowSpan(tex, 2);`. Try removing it.","body":"The culprit is <code>GridPane.setRowSpan(tex, 2);</code>. Try removing it."},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424354149,"post_id":28573700,"comment_id":45520263,"body_markdown":"That didn&#39;t change anything, except how it looks. The window is still resizeable to sizes lower than the needed amount of space. You also could&#39;ve posted this as an answer : )","body":"That didn&#39;t change anything, except how it looks. The window is still resizeable to sizes lower than the needed amount of space. You also could&#39;ve posted this as an answer : )"}],"answers":[{"tags":[],"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1424377049,"creation_date":1424377049,"answer_id":28616087,"question_id":28573700,"body_markdown":"One of the comments helped me to find a solution, although it might not be the best solution:\r\nAfter adding all controls to the scene I simply can do the following:\r\n    \r\n    setMinWidth(getWidth());\r\n\tsetMinHeight(getHeight());\r\n\r\nThis works because JavaFX initially sets the stage to a size needed by the controls on its scene.","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>One of the comments helped me to find a solution, although it might not be the best solution:\nAfter adding all controls to the scene I simply can do the following:</p>\n\n<pre><code>setMinWidth(getWidth());\nsetMinHeight(getHeight());\n</code></pre>\n\n<p>This works because JavaFX initially sets the stage to a size needed by the controls on its scene.</p>\n"},{"tags":[],"owner":{"account_id":14473726,"reputation":160,"user_id":10454874,"display_name":"stolorma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593909020,"creation_date":1593909020,"answer_id":62735731,"question_id":28573700,"body_markdown":"Probably late to the party but here is what I found out:\r\n\r\nFor Textfield there is a static field `TextField.USE_COMPUTED_SIZE` which has the value `-1`\r\n\r\nI assume you can pass `-1` to the Stage as well.\r\n","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>Probably late to the party but here is what I found out:</p>\n<p>For Textfield there is a static field <code>TextField.USE_COMPUTED_SIZE</code> which has the value <code>-1</code></p>\n<p>I assume you can pass <code>-1</code> to the Stage as well.</p>\n"}],"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15000,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1696946465,"creation_date":1424218551,"question_id":28573700,"body_markdown":"In the JavaFX Scene Builder, I can select a value for the minimum, maximum and preferred width and height of a `Control` or `Container`. There are predefined values like `USE_COMPUTED_SIZE`.\r\n\r\nI came to the conclusion, that I don&#39;t like to use FXML for my current project, for several reasons and now I am wondering how to set those values when not using FXML.\r\n\r\nHow do I do this?\r\n\r\nI&#39;ve tried the following code:\r\n\r\n    initializeControls();\r\n    addControls();\r\n\t\t\r\n\t\t\r\n\tsetMinHeight(Control.USE_COMPUTED_SIZE);\r\n\tsetMinWidth(Control.USE_COMPUTED_SIZE);\r\n\t\t\r\n\taddActionListeners();\r\n\taddFocusChangeListeners();\r\n\r\nHowever, that results in an Exception when trying to create the Stage:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: The width and height must be &gt;= 0. Got: width=-1; height=-1\r\n\tat com.sun.glass.ui.Window.setMinimumSize(Window.java:984)\r\n\tat com.sun.javafx.tk.quantum.WindowStage.setMinimumSize(WindowStage.java:291)\r\n\tat javafx.stage.Stage.impl_visibleChanging(Stage.java:1154)\r\n\tat javafx.stage.Window$9.invalidated(Window.java:743)\r\n\tat javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)\r\n\tat javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:143)\r\n\tat javafx.stage.Window.setShowing(Window.java:841)\r\n\tat javafx.stage.Window.show(Window.java:856)\r\n\tat javafx.stage.Stage.show(Stage.java:255)\r\n\tat dictionary.MainApp.trainVocablesButtonActionPerformed(MainApp.java:281)\r\n\tat dictionary.MainApp.lambda$addActionListeners$2(MainApp.java:240)\r\n\tat dictionary.MainApp$$Lambda$281/81350454.handle(Unknown Source)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Node.fireEvent(Node.java:8216)\r\n\tat javafx.scene.control.Button.fire(Button.java:185)\r\n\tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:553)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:925)\r\n\tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\r\n\tat com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/379110473.run(Unknown Source)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nI guess, that I took the `USE_COMPUTED_SIZE` value from the wrong class or something, but where do I get the correct value from? Or is this whole approach somehow wrong?\r\n\r\nMy ultimate goal is to make the stage take as much space as is needed to display all the controls and containers in it, but not more.\r\n\r\nEDIT#1:\r\nCorrection: It should take as much space as needed as a *Minimum* width and height, so that the window is still resizeable but cannot be made so small that controls are not displayed any more.\r\n\r\nEDIT#2:\r\nResult of trying to set the minimum width + height on a smaller example app:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ImbIH.png\r\n\r\nCode:\r\n\r\n    package javafxapplication3;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.HPos;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Control;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.Paint;\r\n    import javafx.scene.paint.RadialGradientBuilder;\r\n    import javafx.scene.paint.Stop;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class GridPaneExample extends Application {\r\n    private final Paint background = RadialGradientBuilder.create()\r\n                .stops(new Stop(0d, Color.TURQUOISE), new Stop(1, Color.web(&quot;3A5998&quot;)))\r\n                .centerX(0.5d).centerY(0.5d).build();\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            GridPane root = new GridPane();\r\n            root.setPadding(new Insets(5));\r\n            root.setHgap(2);\r\n            root.setVgap(2);\r\n            root.setAlignment(Pos.CENTER);\r\n            final TextField tex = new TextField();\r\n            tex.setPrefWidth(250);\r\n            tex.setPrefHeight(50);\r\n            tex.setPromptText(&quot;Press the buttons to Display text here&quot;);\r\n            tex.setFocusTraversable(false);\r\n            GridPane.setColumnSpan(tex, 7);\r\n            GridPane.setRowSpan(tex, 2);\r\n            root.add(tex, 0, 0);\r\n            GridPane.setHalignment(tex, HPos.CENTER);\r\n            final Button[][] btn = new Button[5][5];\r\n            char ch = &#39;A&#39;;\r\n            for ( int i = 0; i &lt; btn.length; i++) {\r\n                for ( int j = 0; j &lt; btn.length; j++) {\r\n    \r\n                    btn[i][j] = new Button(&quot;&quot; + ch);\r\n                    btn[i][j].setPrefSize(50, 50);\r\n                    root.add(btn[i][j], j, i+2);\r\n                    ch++;\r\n                    btn[i][j].setOnMouseClicked((mouseEvent) -&gt; {\r\n    \t\t\t\t\tButton b = (Button) mouseEvent.getSource();\r\n    \t\t\t\t\ttex.appendText(b.getText());\r\n    \t\t\t\t});\r\n                }\r\n            }\r\n    \r\n            Scene scene = new Scene(root,background);\r\n    \r\n            primaryStage.setTitle(&quot;Grid Pane Example&quot;);\r\n    \t\t\r\n    \t\t\r\n            primaryStage.setScene(scene);\r\n    \t\t\r\n    \t\tprimaryStage.setWidth(Control.USE_COMPUTED_SIZE);\r\n    \t\tprimaryStage.setHeight(Control.USE_COMPUTED_SIZE);\r\n            \r\n    \t\tprimaryStage.show();\r\n        }\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>In the JavaFX Scene Builder, I can select a value for the minimum, maximum and preferred width and height of a <code>Control</code> or <code>Container</code>. There are predefined values like <code>USE_COMPUTED_SIZE</code>.</p>\n\n<p>I came to the conclusion, that I don't like to use FXML for my current project, for several reasons and now I am wondering how to set those values when not using FXML.</p>\n\n<p>How do I do this?</p>\n\n<p>I've tried the following code:</p>\n\n<pre><code>initializeControls();\naddControls();\n\n\nsetMinHeight(Control.USE_COMPUTED_SIZE);\nsetMinWidth(Control.USE_COMPUTED_SIZE);\n\naddActionListeners();\naddFocusChangeListeners();\n</code></pre>\n\n<p>However, that results in an Exception when trying to create the Stage:</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" java.lang.IllegalArgumentException: The width and height must be &gt;= 0. Got: width=-1; height=-1\nat com.sun.glass.ui.Window.setMinimumSize(Window.java:984)\nat com.sun.javafx.tk.quantum.WindowStage.setMinimumSize(WindowStage.java:291)\nat javafx.stage.Stage.impl_visibleChanging(Stage.java:1154)\nat javafx.stage.Window$9.invalidated(Window.java:743)\nat javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)\nat javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:143)\nat javafx.stage.Window.setShowing(Window.java:841)\nat javafx.stage.Window.show(Window.java:856)\nat javafx.stage.Stage.show(Stage.java:255)\nat dictionary.MainApp.trainVocablesButtonActionPerformed(MainApp.java:281)\nat dictionary.MainApp.lambda$addActionListeners$2(MainApp.java:240)\nat dictionary.MainApp$$Lambda$281/81350454.handle(Unknown Source)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Node.fireEvent(Node.java:8216)\nat javafx.scene.control.Button.fire(Button.java:185)\nat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\nat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\nat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\nat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\nat com.sun.glass.ui.View.handleMouseEvent(View.java:553)\nat com.sun.glass.ui.View.notifyMouse(View.java:925)\nat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\nat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\nat com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/379110473.run(Unknown Source)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I guess, that I took the <code>USE_COMPUTED_SIZE</code> value from the wrong class or something, but where do I get the correct value from? Or is this whole approach somehow wrong?</p>\n\n<p>My ultimate goal is to make the stage take as much space as is needed to display all the controls and containers in it, but not more.</p>\n\n<p>EDIT#1:\nCorrection: It should take as much space as needed as a <em>Minimum</em> width and height, so that the window is still resizeable but cannot be made so small that controls are not displayed any more.</p>\n\n<p>EDIT#2:\nResult of trying to set the minimum width + height on a smaller example app:\n<img src=\"https://i.stack.imgur.com/ImbIH.png\" alt=\"enter image description here\"></p>\n\n<p>Code:</p>\n\n<pre><code>package javafxapplication3;\n\nimport javafx.application.Application;\nimport javafx.geometry.HPos;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Control;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.Paint;\nimport javafx.scene.paint.RadialGradientBuilder;\nimport javafx.scene.paint.Stop;\nimport javafx.stage.Stage;\n\npublic class GridPaneExample extends Application {\nprivate final Paint background = RadialGradientBuilder.create()\n            .stops(new Stop(0d, Color.TURQUOISE), new Stop(1, Color.web(\"3A5998\")))\n            .centerX(0.5d).centerY(0.5d).build();\n    @Override\n    public void start(Stage primaryStage) {\n        GridPane root = new GridPane();\n        root.setPadding(new Insets(5));\n        root.setHgap(2);\n        root.setVgap(2);\n        root.setAlignment(Pos.CENTER);\n        final TextField tex = new TextField();\n        tex.setPrefWidth(250);\n        tex.setPrefHeight(50);\n        tex.setPromptText(\"Press the buttons to Display text here\");\n        tex.setFocusTraversable(false);\n        GridPane.setColumnSpan(tex, 7);\n        GridPane.setRowSpan(tex, 2);\n        root.add(tex, 0, 0);\n        GridPane.setHalignment(tex, HPos.CENTER);\n        final Button[][] btn = new Button[5][5];\n        char ch = 'A';\n        for ( int i = 0; i &lt; btn.length; i++) {\n            for ( int j = 0; j &lt; btn.length; j++) {\n\n                btn[i][j] = new Button(\"\" + ch);\n                btn[i][j].setPrefSize(50, 50);\n                root.add(btn[i][j], j, i+2);\n                ch++;\n                btn[i][j].setOnMouseClicked((mouseEvent) -&gt; {\n                    Button b = (Button) mouseEvent.getSource();\n                    tex.appendText(b.getText());\n                });\n            }\n        }\n\n        Scene scene = new Scene(root,background);\n\n        primaryStage.setTitle(\"Grid Pane Example\");\n\n\n        primaryStage.setScene(scene);\n\n        primaryStage.setWidth(Control.USE_COMPUTED_SIZE);\n        primaryStage.setHeight(Control.USE_COMPUTED_SIZE);\n\n        primaryStage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","jooq","batching"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696946014,"creation_date":1696946014,"answer_id":77266422,"question_id":77265155,"body_markdown":"The simplest way I can think of is to use the logical table (e.g. from code generation) and [apply table mapping at runtime][1] to translate the table directly to the underlying partition.\r\n\r\nE.g. you write:\r\n\r\n```java\r\nList&lt;MyTableRecord&gt; records = ...\r\nctx.batchUpdate(records);\r\n```\r\n\r\nBut jOOQ doesn&#39;t update the `MY_TABLE` table, but the `MY_TABLE_1341` partition instead:\r\n\r\n```sql\r\nUPDATE my_table_1341 SET ...\r\n```\r\n\r\nThis only works if you&#39;re writing to a single partition at a time.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/","title":"JOOQ: batch CRUD operations using dynamic table definitions, how to?","body":"<p>The simplest way I can think of is to use the logical table (e.g. from code generation) and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/\" rel=\"nofollow noreferrer\">apply table mapping at runtime</a> to translate the table directly to the underlying partition.</p>\n<p>E.g. you write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyTableRecord&gt; records = ...\nctx.batchUpdate(records);\n</code></pre>\n<p>But jOOQ doesn't update the <code>MY_TABLE</code> table, but the <code>MY_TABLE_1341</code> partition instead:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE my_table_1341 SET ...\n</code></pre>\n<p>This only works if you're writing to a single partition at a time.</p>\n"}],"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77266422,"answer_count":1,"score":2,"last_activity_date":1696946014,"creation_date":1696935185,"question_id":77265155,"body_markdown":"I&#39;m looking for a way to dynamically create CRUD queries using JOOQ.\r\n\r\nI have a heavily partitioned table and I&#39;d like to perform batch inserts/updates/deletes directly into the right partition. Reason is significant performance gain in my scenario.\r\n\r\n\r\n1. I have JOOQ-generated templates for root table.\r\n2. Partitions for this table are generated dynamically.\r\n2. I can create a table with required schema and partition name using `DSL.table()`\r\n3. There is no way I can define Record type for newly created table.\r\n4. Otherwise, if I create a table definition from RootRecord, I cannot alter table name.\r\n\r\nIs there a way to achieve desired behaviour with JOOQ?","title":"JOOQ: batch CRUD operations using dynamic table definitions, how to?","body":"<p>I'm looking for a way to dynamically create CRUD queries using JOOQ.</p>\n<p>I have a heavily partitioned table and I'd like to perform batch inserts/updates/deletes directly into the right partition. Reason is significant performance gain in my scenario.</p>\n<ol>\n<li>I have JOOQ-generated templates for root table.</li>\n<li>Partitions for this table are generated dynamically.</li>\n<li>I can create a table with required schema and partition name using <code>DSL.table()</code></li>\n<li>There is no way I can define Record type for newly created table.</li>\n<li>Otherwise, if I create a table definition from RootRecord, I cannot alter table name.</li>\n</ol>\n<p>Is there a way to achieve desired behaviour with JOOQ?</p>\n"},{"tags":["java","android","permissions","runtime-error","manifest"],"answers":[{"tags":[],"owner":{"account_id":9922559,"reputation":155,"user_id":7345214,"display_name":"Babak Karchini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696945730,"creation_date":1696945730,"answer_id":77266390,"question_id":76938574,"body_markdown":"Test this:\r\nadd `token?.continuePermissionRequest()` to `onPermissionRationaleShouldBeShown`\r\nlike this:\r\n\r\n    override fun onPermissionRationaleShouldBeShown(\r\n                            permissions: MutableList&lt;PermissionRequest&gt;?,\r\n                            token: PermissionToken?\r\n                        ) {\r\n                            token?.continuePermissionRequest()\r\n                        }","title":"Dexter &quot;REQUEST_ONGOING&quot; error in android","body":"<p>Test this:\nadd <code>token?.continuePermissionRequest()</code> to <code>onPermissionRationaleShouldBeShown</code>\nlike this:</p>\n<pre><code>override fun onPermissionRationaleShouldBeShown(\n                        permissions: MutableList&lt;PermissionRequest&gt;?,\n                        token: PermissionToken?\n                    ) {\n                        token?.continuePermissionRequest()\n                    }\n</code></pre>\n"}],"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696945730,"creation_date":1692519945,"question_id":76938574,"body_markdown":"I am using Dexter v6.2.3 in my android studio to handle the permission for RECORD_AUDIO but getting an error in &quot;withErrorListener&quot; method. The error just says &quot;REQUEST_ONGOING&quot;.\r\nPlease help me out from this error.\r\n\r\nHere are my codes :\r\n\r\n``` \r\nDexter.withActivity(MainActivity.this).withPermission(android.Manifest.permission.RECORD_AUDIO).withListener(new PermissionListener() {\r\n      @Override\r\n      public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                showSpeechSheetDialog();\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                if (permissionDeniedResponse.isPermanentlyDenied()) {\r\n                    showCustomDialog(&quot;Permission Required&quot;, &quot;Record audio permission required to use this feature. You can grant this permission in app settings.&quot;, &quot;Cancel&quot;,\r\n                            null, &quot;Go to Settings&quot;, new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View v) {\r\n                                    dialog.cancel();\r\n                                    Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                                    intent.setData(uri);\r\n                                    startActivity(intent);\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                permissionToken.continuePermissionRequest();\r\n            }\r\n        }).withErrorListener(new PermissionRequestErrorListener() {\r\n            @Override\r\n            public void onError(DexterError dexterError) {\r\n                Log.e(&quot;Dexter error&quot;, dexterError.toString());\r\n            }\r\n        }).check();\r\n```\r\n\r\n\r\nHere is the library implementation :\r\n```\r\nimplementation &#39;com.karumi:dexter:6.2.3&#39;\r\n```\r\nAnd this is the logcat :\r\n```\r\n2023-08-20 13:59:40.595  6153-6153  Dexter error            com.pratapbrothers.dotted.pizza      E  REQUEST_ONGOING\r\n```\r\n\r\nI have mentioned the permission also in Manifest.xml","title":"Dexter &quot;REQUEST_ONGOING&quot; error in android","body":"<p>I am using Dexter v6.2.3 in my android studio to handle the permission for RECORD_AUDIO but getting an error in &quot;withErrorListener&quot; method. The error just says &quot;REQUEST_ONGOING&quot;.\nPlease help me out from this error.</p>\n<p>Here are my codes :</p>\n<pre><code>Dexter.withActivity(MainActivity.this).withPermission(android.Manifest.permission.RECORD_AUDIO).withListener(new PermissionListener() {\n      @Override\n      public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                showSpeechSheetDialog();\n            }\n\n            @Override\n            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                if (permissionDeniedResponse.isPermanentlyDenied()) {\n                    showCustomDialog(&quot;Permission Required&quot;, &quot;Record audio permission required to use this feature. You can grant this permission in app settings.&quot;, &quot;Cancel&quot;,\n                            null, &quot;Go to Settings&quot;, new View.OnClickListener() {\n                                @Override\n                                public void onClick(View v) {\n                                    dialog.cancel();\n                                    Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                                    intent.setData(uri);\n                                    startActivity(intent);\n                                }\n                            });\n                }\n            }\n\n            @Override\n            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                permissionToken.continuePermissionRequest();\n            }\n        }).withErrorListener(new PermissionRequestErrorListener() {\n            @Override\n            public void onError(DexterError dexterError) {\n                Log.e(&quot;Dexter error&quot;, dexterError.toString());\n            }\n        }).check();\n</code></pre>\n<p>Here is the library implementation :</p>\n<pre><code>implementation 'com.karumi:dexter:6.2.3'\n</code></pre>\n<p>And this is the logcat :</p>\n<pre><code>2023-08-20 13:59:40.595  6153-6153  Dexter error            com.pratapbrothers.dotted.pizza      E  REQUEST_ONGOING\n</code></pre>\n<p>I have mentioned the permission also in Manifest.xml</p>\n"},{"tags":["java","xml","spring-boot","gradle"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695113195,"post_id":77126793,"comment_id":135977302,"body_markdown":"Unfortunately your question is very obscure. You can make it easier for people to help, by copying the exact code (your hand-written sample has typos which make it more confusing) and by pasting the stack trace and pointing out which line in your code sample the stack trace refers to.","body":"Unfortunately your question is very obscure. You can make it easier for people to help, by copying the exact code (your hand-written sample has typos which make it more confusing) and by pasting the stack trace and pointing out which line in your code sample the stack trace refers to."}],"owner":{"account_id":6306781,"reputation":145,"user_id":4899649,"display_name":"shraddha bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696945422,"creation_date":1695036448,"question_id":77126793,"body_markdown":"I am using jdk8/spring boot2/gradle 7. Trying to unmarshall but getting below error:\r\n\r\n&gt; reader property msInput gives method threw\r\n&gt; &quot;java.lang.NullPointerException&quot; exception..cannot evaluate\r\n&gt; com.ctc.wstx.io.BranchingReaderSource.toString().\r\n\r\ncode fragement:\r\n```\r\nUnmarshaller unmarshaller = JAXBContext.newInstance(Response.class, ErrorResponse.class).createUnmarshaller();\r\nString subStr = archResponse.gethildText(&quot;Document&quot;).trim();\r\nXMLStreamReader reader = xif.createXMLStreamReader(new ByteArrayInputStream(subStr));\r\nunmarshaller.unmarshal(reader);\r\n```\r\nlib used:\r\n- woodstox-core:6.4.0\r\n- stax2-api:4.2.1\r\n\r\nPlease help.\r\n\r\nchanging library versions.","title":"createXMLStreamReader giving cannot evaluate com.ctc.wstx.io.BranchingReadingSource.toString","body":"<p>I am using jdk8/spring boot2/gradle 7. Trying to unmarshall but getting below error:</p>\n<blockquote>\n<p>reader property msInput gives method threw\n&quot;java.lang.NullPointerException&quot; exception..cannot evaluate\ncom.ctc.wstx.io.BranchingReaderSource.toString().</p>\n</blockquote>\n<p>code fragement:</p>\n<pre><code>Unmarshaller unmarshaller = JAXBContext.newInstance(Response.class, ErrorResponse.class).createUnmarshaller();\nString subStr = archResponse.gethildText(&quot;Document&quot;).trim();\nXMLStreamReader reader = xif.createXMLStreamReader(new ByteArrayInputStream(subStr));\nunmarshaller.unmarshal(reader);\n</code></pre>\n<p>lib used:</p>\n<ul>\n<li>woodstox-core:6.4.0</li>\n<li>stax2-api:4.2.1</li>\n</ul>\n<p>Please help.</p>\n<p>changing library versions.</p>\n"},{"tags":["java","android","android-studio","wear-os"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696941533,"post_id":77265598,"comment_id":136214585,"body_markdown":"You are unlikely to be able to override the home button -- that is for the user to be able to have control over their watch. The only way to avoid that is for your app to be the watch face app (the rough equivalent of being the launcher app on a phone). The code you have in `onBackPressed()` is truly bizarre (for example, never call `super.onPause()` from anywhere other than `onPause()`).","body":"You are unlikely to be able to override the home button -- that is for the user to be able to have control over their watch. The only way to avoid that is for your app to be the watch face app (the rough equivalent of being the launcher app on a phone). The code you have in <code>onBackPressed()</code> is truly bizarre (for example, never call <code>super.onPause()</code> from anywhere other than <code>onPause()</code>)."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696941699,"post_id":77265598,"comment_id":136214622,"body_markdown":"`onBackPressed()` is generally not used anymore. See https://developer.android.com/guide/navigation/navigation-custom-back for documentation about customizing back navigation in modern Android app development.","body":"<code>onBackPressed()</code> is generally not used anymore. See <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/navigation-custom-bac&zwnj;&#8203;k</a> for documentation about customizing back navigation in modern Android app development."},{"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"score":0,"creation_date":1697008440,"post_id":77265598,"comment_id":136223819,"body_markdown":"@CommonsWare how would you do it, then?","body":"@CommonsWare how would you do it, then?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1697023366,"post_id":77265598,"comment_id":136226617,"body_markdown":"Sorry, but I do not know what &quot;it&quot; is. I also do not know why you think your app should always be in the foreground. And I do not know if you plan to distribute this app how you intend to convince Google to relax its [Wear OS quality guidelines](https://developer.android.com/docs/quality-guidelines/wear-app-quality), such as WO-V3. So, it is difficult to provide you with advice for addressing your business concerns in a way that matches platform and user expectations.","body":"Sorry, but I do not know what &quot;it&quot; is. I also do not know why you think your app should always be in the foreground. And I do not know if you plan to distribute this app how you intend to convince Google to relax its <a href=\"https://developer.android.com/docs/quality-guidelines/wear-app-quality\" rel=\"nofollow noreferrer\">Wear OS quality guidelines</a>, such as WO-V3. So, it is difficult to provide you with advice for addressing your business concerns in a way that matches platform and user expectations."}],"answers":[{"tags":[],"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696945375,"creation_date":1696945375,"answer_id":77266340,"question_id":77265598,"body_markdown":"To &quot;disable&quot; the back button you just **call the onBackPressed without it&#39;s super**...\r\n\r\n```\r\n@Override\r\npublic void onBackPressed() {\r\n    //super.onBackPressed();\r\n}\r\n```\r\n\r\nAbout the moveTaskToFront of your code doesn&#39;t make much sense, as it is already on foreground, otherwise the onBackPressed wouldn&#39;t be called...\r\n\r\n**About the home button, I don&#39;t think you can override it&#39;s function**...","title":"Disable Back Button Samsung Smatwatch","body":"<p>To &quot;disable&quot; the back button you just <strong>call the onBackPressed without it's super</strong>...</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    //super.onBackPressed();\n}\n</code></pre>\n<p>About the moveTaskToFront of your code doesn't make much sense, as it is already on foreground, otherwise the onBackPressed wouldn't be called...</p>\n<p><strong>About the home button, I don't think you can override it's function</strong>...</p>\n"}],"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77266340,"answer_count":1,"score":0,"last_activity_date":1696945375,"creation_date":1696939331,"question_id":77265598,"body_markdown":"I am developing an app that always works in the foreground for smartwatches. I use a samsung watch, it has two buttons (back and home)and i can&#39;t manage to deactivate them by code, so that i can&#39;t act on them.\r\n\r\nRight now I have this for the back button, but it doesn&#39;t work. For the home button I don&#39;t know what to do.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onPause();\r\n        ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(ACTIVITY_SERVICE);\r\n        activityManager.moveTaskToFront(getTaskId(), 0);\r\n    }\r\n\r\ncould someone help me?","title":"Disable Back Button Samsung Smatwatch","body":"<p>I am developing an app that always works in the foreground for smartwatches. I use a samsung watch, it has two buttons (back and home)and i can't manage to deactivate them by code, so that i can't act on them.</p>\n<p>Right now I have this for the back button, but it doesn't work. For the home button I don't know what to do.</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onPause();\n    ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(ACTIVITY_SERVICE);\n    activityManager.moveTaskToFront(getTaskId(), 0);\n}\n</code></pre>\n<p>could someone help me?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1271310960,"creation_date":1271310960,"answer_id":2643046,"question_id":2643038,"body_markdown":"You mean the `src` folder? It&#39;s short for &quot;source&quot;, it&#39;s where the source code files are stored. When it compiles it stores the class files in `bin`","title":"What is meant by src in Java Eclipse?","body":"<p>You mean the <code>src</code> folder? It's short for \"source\", it's where the source code files are stored. When it compiles it stores the class files in <code>bin</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490493269,"creation_date":1271311000,"answer_id":2643050,"question_id":2643038,"body_markdown":"The word &#39;src&#39; is a common abbreviation for &#39;source&#39; ... e.g. a project&#39;s source code.  \r\n\r\nIn an Eclipse project &#39;src&#39; is a common default folder name for a project&#39;s source code ... though it depends on how the Eclipse project was created or instantiated.  For example, the &#39;src&#39; name in a Maven-based project comes from the default Maven project structure.\r\n\r\n&gt; Also what are all the default packages/components/classes created by the eclipse IDE for us?\r\n\r\nFor a typical Eclipse project, Eclipse does not create any default packages, components or classes.  Some non-generic Eclipse project creation wizards may generate  stuff, but it doesn&#39;t make sense to enumerate all possible behaviors of all possible wizards.  Check the documentation for the wizard you are using ...","title":"What is meant by src in Java Eclipse?","body":"<p>The word 'src' is a common abbreviation for 'source' ... e.g. a project's source code.  </p>\n\n<p>In an Eclipse project 'src' is a common default folder name for a project's source code ... though it depends on how the Eclipse project was created or instantiated.  For example, the 'src' name in a Maven-based project comes from the default Maven project structure.</p>\n\n<blockquote>\n  <p>Also what are all the default packages/components/classes created by the eclipse IDE for us?</p>\n</blockquote>\n\n<p>For a typical Eclipse project, Eclipse does not create any default packages, components or classes.  Some non-generic Eclipse project creation wizards may generate  stuff, but it doesn't make sense to enumerate all possible behaviors of all possible wizards.  Check the documentation for the wizard you are using ...</p>\n"}],"owner":{"account_id":674413,"reputation":41,"user_id":317181,"display_name":"ashok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26546,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696945127,"creation_date":1271310815,"question_id":2643038,"body_markdown":"What is meant by the src in Eclipse IDE?\r\n\r\nAlso what are all the default packages/components/classes created by the eclipse IDE for us?","title":"What is meant by src in Java Eclipse?","body":"<p>What is meant by the src in Eclipse IDE?</p>\n\n<p>Also what are all the default packages/components/classes created by the eclipse IDE for us?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696937324,"post_id":77265107,"comment_id":136213751,"body_markdown":"You can tell MapStruct to use constructors using the `injectionStrategy` attribute of `@Mapper`. However, I&#39;m not sure if it then calls the super constructor, or only stores its own `delegate` field.","body":"You can tell MapStruct to use constructors using the <code>injectionStrategy</code> attribute of <code>@Mapper</code>. However, I&#39;m not sure if it then calls the super constructor, or only stores its own <code>delegate</code> field."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696941130,"post_id":77265107,"comment_id":136214498,"body_markdown":"Your design looks wrong. Your implementation has got two fields both named `delegate`, one declared in the superclass and one declared in the class itself. Was this what you wanted? What for?","body":"Your design looks wrong. Your implementation has got two fields both named <code>delegate</code>, one declared in the superclass and one declared in the class itself. Was this what you wanted? What for?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1696943760,"post_id":77265107,"comment_id":136215088,"body_markdown":"@OleV.V. first, it&#39;s not exactly my code, I try to improve it. Second, the second class is the  class Mapstruct generated, no human wrote it","body":"@OleV.V. first, it&#39;s not exactly my code, I try to improve it. Second, the second class is the  class Mapstruct generated, no human wrote it"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944830,"creation_date":1696934884,"question_id":77265107,"body_markdown":"I have this mapper:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n```\r\nAnd this mapper decorator:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n\r\n    private final CardMapper delegate;\r\n```\r\nNotice it has a constructor (for injection purposes). When Mapstruct generates an implementation, it looks like this:\r\n```java\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2023-10-10T13:40:01+0300&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.5 (Amazon.com Inc.)&quot;\r\n)\r\n@Component\r\n@Primary\r\npublic class CardMapperImpl extends CardMapperDecorator implements CardMapper {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private CardMapper delegate;\r\n\r\n// methods\r\n```\r\nIt doesn&#39;t compile since the implementation doesn&#39;t call the `super` constructor. How do I fix it?\r\n\r\nI know Mapstruct [doesn&#39;t support][1] calling super constructors. Does it mean the only way forward I have is to either use field or setter injection?\r\n\r\n**UPD:** Does it really not support constructors? The code below must be valid according to the [docs][2]:\r\n```java\r\n public abstract class PersonMapperDecorator implements PersonMapper {\r\n\r\n     private PersonMapper delegate;\r\n\r\n     public PersonMapperDecorator(PersonMapper delegate) {\r\n         this.delegate = delegate;\r\n     }\r\n\r\n     @Override\r\n     public PersonDto personToPersonDto(Person person) {\r\n         PersonDto dto = delegate.personToPersonDto( person );\r\n         dto.setName( person.getFirstName() + &quot; &quot; + person.getLastName() );\r\n\r\n         return dto;\r\n     }\r\n }\r\n```\r\nThis wouldn&#39;t work unless Mapstruct generated a constructor with a `super` call in it\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection\r\n  [2]: https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html","title":"Mapstruct&#39;s generated mapper doesn&#39;t call the super constructor. How do I fix it?","body":"<p>I have this mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n</code></pre>\n<p>And this mapper decorator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private final CardMapper delegate;\n</code></pre>\n<p>Notice it has a constructor (for injection purposes). When Mapstruct generates an implementation, it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-10-10T13:40:01+0300&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.5 (Amazon.com Inc.)&quot;\n)\n@Component\n@Primary\npublic class CardMapperImpl extends CardMapperDecorator implements CardMapper {\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private CardMapper delegate;\n\n// methods\n</code></pre>\n<p>It doesn't compile since the implementation doesn't call the <code>super</code> constructor. How do I fix it?</p>\n<p>I know Mapstruct <a href=\"https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection\">doesn't support</a> calling super constructors. Does it mean the only way forward I have is to either use field or setter injection?</p>\n<p><strong>UPD:</strong> Does it really not support constructors? The code below must be valid according to the <a href=\"https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public abstract class PersonMapperDecorator implements PersonMapper {\n\n     private PersonMapper delegate;\n\n     public PersonMapperDecorator(PersonMapper delegate) {\n         this.delegate = delegate;\n     }\n\n     @Override\n     public PersonDto personToPersonDto(Person person) {\n         PersonDto dto = delegate.personToPersonDto( person );\n         dto.setName( person.getFirstName() + &quot; &quot; + person.getLastName() );\n\n         return dto;\n     }\n }\n</code></pre>\n<p>This wouldn't work unless Mapstruct generated a constructor with a <code>super</code> call in it</p>\n"},{"tags":["java","android","rest"],"comments":[{"owner":{"account_id":2931563,"reputation":434,"user_id":2511670,"accept_rate":60,"display_name":"Andrew"},"score":1,"creation_date":1494448257,"post_id":43901529,"comment_id":74838228,"body_markdown":"I&#39;m guessing that an exception is thrown. You can print it using `e.printStackTrace()`. `e.getMessage()` returns string, but it doesn&#39;t print anything.","body":"I&#39;m guessing that an exception is thrown. You can print it using <code>e.printStackTrace()</code>. <code>e.getMessage()</code> returns string, but it doesn&#39;t print anything."},{"owner":{"account_id":10080165,"reputation":1007,"user_id":7450780,"display_name":"Denis Micheal"},"score":0,"creation_date":1494613872,"post_id":43901529,"comment_id":74921444,"body_markdown":"Yah thanx...it was throwing an unknown host exception..","body":"Yah thanx...it was throwing an unknown host exception.."}],"owner":{"account_id":10080165,"reputation":1007,"user_id":7450780,"display_name":"Denis Micheal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944668,"creation_date":1494445695,"question_id":43901529,"body_markdown":"I&#39;m trying to use the [Fatsecret](https://platform.fatsecret.com/docs/guides) Rest api endpoint `foods/search` to return nutritional values based on food objects related to the search expression in the parameter. The Problem I&#39;m encountering is in my background async task that makes the call to the above endpoint.\r\n\r\n        void requester(){\r\n    \t\r\n    \tclass GetRequest extends AsyncTask&lt;String,Void,String&gt;{\r\n            \r\n\t\t\t@Override\r\n\t\t\tprotected String doInBackground(String... params) {\r\n\t\t\t\tString result=&quot;&quot;;\r\n\t\t\t\tBufferedReader bufferedReader=null;\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t /* Global string variable that contains the request */\r\n\r\n\t\t\t\t\tURL url = new URL(apiUrle); \r\n \r\n\r\n\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    StringBuilder sb = new StringBuilder();\r\n \r\n                    bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n \r\n                    String json;\r\n                    while((json = bufferedReader.readLine())!= null){\r\n                        sb.append(json+&quot;\\n&quot;);\r\n                    }\r\n \r\n                    result =  sb.toString();\r\n                    \r\n    \r\n\t\t\t} catch (ClientProtocolException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.getMessage();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.getMessage();\r\n\t\t\t}\r\n\t      \r\n\t\t  \r\n\t\t    \r\n\t\t\t\treturn result;\r\n\t\t\t \r\n\t\t\t}\r\n    \t\t\r\n\t\t\t @Override\r\n\t            protected void onPostExecute(String result) {\r\n\t                \r\n\t                Log.d(&quot;YOUR RESULT&quot;, result+&quot;230&quot;);/* result string appears empty in logcat since it only displays string 230*/\r\n\t            }\r\n    \t\t\r\n    \t}\r\n    \tGetRequest ret = new GetRequest();\r\n    \tret.execute();\r\n    }\r\n\r\n\r\nThe main problem is that the `string(result)` returned is empty. I validated that Im not sending a wrong consumer key or secret by using the same values on a java application and I had no problem. \r\nI also entered the apiUrl value in my browser and got the results I expected below.\r\n      \r\n       { &quot;foods&quot;: { &quot;food&quot;: [ {&quot;food_description&quot;: &quot;Per 101g - Calories: 197kcal | Fat: 7.79g | Carbs: 0.00g | Protein: 29.80g&quot;, &quot;food_id&quot;: &quot;1641&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 110kcal | Fat: 1.24g | Carbs: 0.00g | Protein: 23.09g&quot;, &quot;food_id&quot;: &quot;4881229&quot;, &quot;food_name&quot;: &quot;Skinless Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-skinless&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;448901&quot;, &quot;food_name&quot;: &quot;Grilled Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-grilled-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 247kcal | Fat: 15.49g | Carbs: 0.00g | Protein: 25.06g&quot;, &quot;food_id&quot;: &quot;1695&quot;, &quot;food_name&quot;: &quot;Chicken Thigh&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-thigh-ns-as-to-skin-eaten&quot; }, {&quot;brand_name&quot;: &quot;Valbest&quot;, &quot;food_description&quot;: &quot;Per 4 oz - Calories: 130kcal | Fat: 3.00g | Carbs: 0.00g | Protein: 26.00g&quot;, &quot;food_id&quot;: &quot;3946778&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Brand&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/valbest\\/chicken-breast&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 216kcal | Fat: 11.15g | Carbs: 0.00g | Protein: 27.03g&quot;, &quot;food_id&quot;: &quot;1677&quot;, &quot;food_name&quot;: &quot;Chicken Drumstick&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-drumstick-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;419178&quot;, &quot;food_name&quot;: &quot;Rotisserie Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-rotisserie-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 190kcal | Fat: 7.41g | Carbs: 0.00g | Protein: 28.93g&quot;, &quot;food_id&quot;: &quot;1628&quot;, &quot;food_name&quot;: &quot;Roasted Broiled or Baked Chicken (Skin Not Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-roasted-broiled-or-baked-skin-not-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 96g - Calories: 279kcal | Fat: 16.60g | Carbs: 9.59g | Protein: 21.45g&quot;, &quot;food_id&quot;: &quot;1636&quot;, &quot;food_name&quot;: &quot;Baked or Fried Coated Chicken with Skin (Skin\\/Coating Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-coated-baked-or-fried-prepared-with-skin-skin-coating-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 237kcal | Fat: 11.89g | Carbs: 0.00g | Protein: 30.42g&quot;, &quot;food_id&quot;: &quot;34511&quot;, &quot;food_name&quot;: &quot;Chicken Meat (Stewing, Stewed, Cooked)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/usda\\/chicken-meat-(stewing-stewed-cooked)&quot; } ], &quot;max_results&quot;: &quot;10&quot;, &quot;page_number&quot;: &quot;0&quot;, &quot;total_results&quot;: &quot;5362&quot; }}\r\n\r\nOtherwise yeah ,I dont know what I could be missing so any insight will deeply be appreciated.\r\n","title":"Background Task returning null string using Fatsecret rest api","body":"<p>I'm trying to use the <a href=\"https://platform.fatsecret.com/docs/guides\" rel=\"nofollow noreferrer\">Fatsecret</a> Rest api endpoint <code>foods/search</code> to return nutritional values based on food objects related to the search expression in the parameter. The Problem I'm encountering is in my background async task that makes the call to the above endpoint.</p>\n<pre><code>    void requester(){\n    \n    class GetRequest extends AsyncTask&lt;String,Void,String&gt;{\n        \n        @Override\n        protected String doInBackground(String... params) {\n            String result=&quot;&quot;;\n            BufferedReader bufferedReader=null;\n            try {\n\n             /* Global string variable that contains the request */\n\n                URL url = new URL(apiUrle); \n\n\n\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                StringBuilder sb = new StringBuilder();\n\n                bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n                String json;\n                while((json = bufferedReader.readLine())!= null){\n                    sb.append(json+&quot;\\n&quot;);\n                }\n\n                result =  sb.toString();\n                \n\n        } catch (ClientProtocolException e1) {\n            // TODO Auto-generated catch block\n            e1.getMessage();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.getMessage();\n        }\n      \n      \n        \n            return result;\n         \n        }\n        \n         @Override\n            protected void onPostExecute(String result) {\n                \n                Log.d(&quot;YOUR RESULT&quot;, result+&quot;230&quot;);/* result string appears empty in logcat since it only displays string 230*/\n            }\n        \n    }\n    GetRequest ret = new GetRequest();\n    ret.execute();\n}\n</code></pre>\n<p>The main problem is that the <code>string(result)</code> returned is empty. I validated that Im not sending a wrong consumer key or secret by using the same values on a java application and I had no problem.\nI also entered the apiUrl value in my browser and got the results I expected below.</p>\n<pre><code>   { &quot;foods&quot;: { &quot;food&quot;: [ {&quot;food_description&quot;: &quot;Per 101g - Calories: 197kcal | Fat: 7.79g | Carbs: 0.00g | Protein: 29.80g&quot;, &quot;food_id&quot;: &quot;1641&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 110kcal | Fat: 1.24g | Carbs: 0.00g | Protein: 23.09g&quot;, &quot;food_id&quot;: &quot;4881229&quot;, &quot;food_name&quot;: &quot;Skinless Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-skinless&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;448901&quot;, &quot;food_name&quot;: &quot;Grilled Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-grilled-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 247kcal | Fat: 15.49g | Carbs: 0.00g | Protein: 25.06g&quot;, &quot;food_id&quot;: &quot;1695&quot;, &quot;food_name&quot;: &quot;Chicken Thigh&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-thigh-ns-as-to-skin-eaten&quot; }, {&quot;brand_name&quot;: &quot;Valbest&quot;, &quot;food_description&quot;: &quot;Per 4 oz - Calories: 130kcal | Fat: 3.00g | Carbs: 0.00g | Protein: 26.00g&quot;, &quot;food_id&quot;: &quot;3946778&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Brand&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/valbest\\/chicken-breast&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 216kcal | Fat: 11.15g | Carbs: 0.00g | Protein: 27.03g&quot;, &quot;food_id&quot;: &quot;1677&quot;, &quot;food_name&quot;: &quot;Chicken Drumstick&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-drumstick-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;419178&quot;, &quot;food_name&quot;: &quot;Rotisserie Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-rotisserie-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 190kcal | Fat: 7.41g | Carbs: 0.00g | Protein: 28.93g&quot;, &quot;food_id&quot;: &quot;1628&quot;, &quot;food_name&quot;: &quot;Roasted Broiled or Baked Chicken (Skin Not Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-roasted-broiled-or-baked-skin-not-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 96g - Calories: 279kcal | Fat: 16.60g | Carbs: 9.59g | Protein: 21.45g&quot;, &quot;food_id&quot;: &quot;1636&quot;, &quot;food_name&quot;: &quot;Baked or Fried Coated Chicken with Skin (Skin\\/Coating Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-coated-baked-or-fried-prepared-with-skin-skin-coating-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 237kcal | Fat: 11.89g | Carbs: 0.00g | Protein: 30.42g&quot;, &quot;food_id&quot;: &quot;34511&quot;, &quot;food_name&quot;: &quot;Chicken Meat (Stewing, Stewed, Cooked)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/usda\\/chicken-meat-(stewing-stewed-cooked)&quot; } ], &quot;max_results&quot;: &quot;10&quot;, &quot;page_number&quot;: &quot;0&quot;, &quot;total_results&quot;: &quot;5362&quot; }}\n</code></pre>\n<p>Otherwise yeah ,I dont know what I could be missing so any insight will deeply be appreciated.</p>\n"},{"tags":["java","swing","arraylist","jframe","jlist"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1505435380,"post_id":46219776,"comment_id":79423900,"body_markdown":"1) See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/q/9554636/418556) 2) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"1) See <a href=\"http://stackoverflow.com/q/9554636/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a> 2) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":10743052,"reputation":440,"user_id":7905419,"accept_rate":25,"display_name":"Strahinja"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505394749,"creation_date":1505394749,"answer_id":46220139,"question_id":46219776,"body_markdown":"I would suggest you using a ListModel/TreeModel to handle JList, JTree etc.\r\n\r\nThere you can make something like this:\r\n\r\n    DefaultListModel listModel = new DefaultListModel(name);\r\n    JList jList = new JList(listModel); //or setListModel(listModel)\r\n\r\nAnd when you want to update it, you can just use `reload()`, `validate()` or `refresh()`. So you can refresh the model of the list and everything&#39;s gonna be ok.\r\nOr you could just create new listModel and set the new values that you would like to show.\r\n\r\nSince the question is similar to some others on Stackoverflow, you could check on this links and that should help you:\r\n\r\n - [First link][1]\r\n - [Second link][2]\r\n - [Third link][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/3268383/java-refreshing-an-array-into-jlist\r\n  [2]: https://stackoverflow.com/questions/18502025/how-to-make-a-jlist-refresh-method-in-a-jpanel-class\r\n  [3]: https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\r\n\r\nAlso check related questions to yours. I hope I was helpful.","title":"How do I refresh a JList?","body":"<p>I would suggest you using a ListModel/TreeModel to handle JList, JTree etc.</p>\n\n<p>There you can make something like this:</p>\n\n<pre><code>DefaultListModel listModel = new DefaultListModel(name);\nJList jList = new JList(listModel); //or setListModel(listModel)\n</code></pre>\n\n<p>And when you want to update it, you can just use <code>reload()</code>, <code>validate()</code> or <code>refresh()</code>. So you can refresh the model of the list and everything's gonna be ok.\nOr you could just create new listModel and set the new values that you would like to show.</p>\n\n<p>Since the question is similar to some others on Stackoverflow, you could check on this links and that should help you:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3268383/java-refreshing-an-array-into-jlist\">First link</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18502025/how-to-make-a-jlist-refresh-method-in-a-jpanel-class\">Second link</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\">Third link</a></li>\n</ul>\n\n<p>Also check related questions to yours. I hope I was helpful.</p>\n"},{"tags":[],"owner":{"account_id":16708524,"reputation":153,"user_id":12076383,"display_name":"the_mackster"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696944593,"creation_date":1661209475,"answer_id":73451806,"question_id":46219776,"body_markdown":" There is a suggestion [here][1] to call `yourJList.ensureIndexIsVisible(yourModel.getSize());`.However, this didn&#39;t work, for me.\r\n\r\nWhat worked was calling:\r\n\r\n    addElement(String);\r\nthen call:\r\n\r\n    yourJList.requestFocus();\r\n\r\nHopefully, this helps some folks.\r\n\r\n**Edit:** Changed naming convention.\r\n\r\n  [1]: https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe","title":"How do I refresh a JList?","body":"<p>There is a suggestion <a href=\"https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\">here</a> to call <code>yourJList.ensureIndexIsVisible(yourModel.getSize());</code>.However, this didn't work, for me.</p>\n<p>What worked was calling:</p>\n<pre><code>addElement(String);\n</code></pre>\n<p>then call:</p>\n<pre><code>yourJList.requestFocus();\n</code></pre>\n<p>Hopefully, this helps some folks.</p>\n<p><strong>Edit:</strong> Changed naming convention.</p>\n"}],"owner":{"account_id":10513102,"reputation":29,"user_id":7748117,"accept_rate":0,"display_name":"Bravecity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4418,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1696944593,"creation_date":1505393680,"question_id":46219776,"body_markdown":"I am making a GUI that adds a name to a list and then I have a JList on the home frame. When I hit the button on the other frame, I want it to update the JList to display the recently added string to the arraylist\r\n\r\nArrayList:\r\n\r\n    private static ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n\r\nJList:\r\n\r\n    JList lisName = new JList(name.toArray());\r\n\r\nJButton I want to update the list:\r\n\r\n    JButton btnAdd = new JButton(&quot;Add&quot;);\r\n\tbtnAdd.addActionListener(new ActionListener() {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(txtName.getText() == null) {\r\n\t\t\t\tJOptionPane.showMessageDialog(pnlName, &quot;Error: Please enter name!&quot;);\r\n\t\t\t}else{\r\n\t\t\t\tname.add(txtName.getText());\r\n\t\t\t\tnameFrame.setVisible(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n","title":"How do I refresh a JList?","body":"<p>I am making a GUI that adds a name to a list and then I have a JList on the home frame. When I hit the button on the other frame, I want it to update the JList to display the recently added string to the arraylist</p>\n<p>ArrayList:</p>\n<pre><code>private static ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>JList:</p>\n<pre><code>JList lisName = new JList(name.toArray());\n</code></pre>\n<p>JButton I want to update the list:</p>\n<pre><code>JButton btnAdd = new JButton(&quot;Add&quot;);\nbtnAdd.addActionListener(new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(txtName.getText() == null) {\n            JOptionPane.showMessageDialog(pnlName, &quot;Error: Please enter name!&quot;);\n        }else{\n            name.add(txtName.getText());\n            nameFrame.setVisible(false);\n        }\n        \n    }\n    \n});\n</code></pre>\n"},{"tags":["java","elasticsearch","kibana","elk"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1697753294,"post_id":77266233,"comment_id":136322965,"body_markdown":"Please paste the JSON code and single data insertion as code, not images","body":"Please paste the JSON code and single data insertion as code, not images"}],"owner":{"account_id":22125310,"reputation":43,"user_id":16377789,"display_name":"micro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944570,"creation_date":1696944570,"question_id":77266233,"body_markdown":"I am inserting JSON data in Elasticsearch using ElasticearchClient Bulk Insert in Java, the code I have written is \r\n\r\n    static void submitBulkUsingElasticClient(JSONArray data) throws IOException {\r\n            BulkRequest.Builder builder = new BulkRequest.Builder();\r\n    \r\n            ElasticsearchClient esClient = getElasticsearchClient();\r\n    \r\n            for (Object document : data)\r\n                if (document instanceof JSONObject) {\r\n                    JSONObject jsonObject = new JSONObject(document);\r\n                    builder.operations(op -&gt; op\r\n                            .index(idx -&gt; idx\r\n                                    .index(&quot;demo_data&quot;)\r\n                                    .document(jsonObject.toMap())\r\n                                    .id(String.valueOf(((JSONObject) document).getInt(&quot;id&quot;)))\r\n                            )\r\n    \r\n                    );\r\n                }\r\n    \r\n            BulkResponse response = esClient.bulk(builder.build());\r\n    \r\n            // Log errors, if any\r\n            if (response.errors()) {\r\n                System.out.println(&quot;Bulk had errors&quot;);\r\n                for (BulkResponseItem item : response.items()) {\r\n                    if (item.error() != null) {\r\n                        System.out.println(item.error().reason());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;response = &quot; + response.toString());\r\n        }\r\n\r\nAnd the sample JSON data I have taken is this,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDuring single data insert data is populating and visualizing in Kibana properly. Here is the example for single data insertion,\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the code of Single Insertion,\r\n\r\n    static void submitRequestUsingElasticClient(String data) throws IOException {\r\n            Reader input = new StringReader(data);\r\n    \r\n            IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\r\n                    .index(&quot;demo_data&quot;)\r\n                    .withJson(input)\r\n            );\r\n    \r\n            ElasticsearchClient esClient = getElasticsearchClient();\r\n    \r\n            IndexResponse response = esClient.index(request);\r\n    \r\n            System.out.println(&quot;Indexed with version &quot; + response.version());\r\n        }\r\n\r\n\r\nBut during bulk insertion the data is getting inserted successfully but not in proper format, its looking something like this,\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI don&#39;t understand the problem why the format is like this. Is it because Elasticsearch is serializing the data or is there any field missing in BulkRequest Builder operation? \r\n\r\nPlease help me..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KIAxz.png\r\n  [2]: https://i.stack.imgur.com/MAYly.png\r\n  [3]: https://i.stack.imgur.com/lYyTh.png","title":"Problem in data format during bulk insert in Elasticsearch using ElasticsearchClient in Java","body":"<p>I am inserting JSON data in Elasticsearch using ElasticearchClient Bulk Insert in Java, the code I have written is</p>\n<pre><code>static void submitBulkUsingElasticClient(JSONArray data) throws IOException {\n        BulkRequest.Builder builder = new BulkRequest.Builder();\n\n        ElasticsearchClient esClient = getElasticsearchClient();\n\n        for (Object document : data)\n            if (document instanceof JSONObject) {\n                JSONObject jsonObject = new JSONObject(document);\n                builder.operations(op -&gt; op\n                        .index(idx -&gt; idx\n                                .index(&quot;demo_data&quot;)\n                                .document(jsonObject.toMap())\n                                .id(String.valueOf(((JSONObject) document).getInt(&quot;id&quot;)))\n                        )\n\n                );\n            }\n\n        BulkResponse response = esClient.bulk(builder.build());\n\n        // Log errors, if any\n        if (response.errors()) {\n            System.out.println(&quot;Bulk had errors&quot;);\n            for (BulkResponseItem item : response.items()) {\n                if (item.error() != null) {\n                    System.out.println(item.error().reason());\n                }\n            }\n        }\n\n        System.out.println(&quot;response = &quot; + response.toString());\n    }\n</code></pre>\n<p>And the sample JSON data I have taken is this,</p>\n<p><a href=\"https://i.stack.imgur.com/KIAxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIAxz.png\" alt=\"enter image description here\" /></a></p>\n<p>During single data insert data is populating and visualizing in Kibana properly. Here is the example for single data insertion,</p>\n<p><a href=\"https://i.stack.imgur.com/MAYly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MAYly.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code of Single Insertion,</p>\n<pre><code>static void submitRequestUsingElasticClient(String data) throws IOException {\n        Reader input = new StringReader(data);\n\n        IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\n                .index(&quot;demo_data&quot;)\n                .withJson(input)\n        );\n\n        ElasticsearchClient esClient = getElasticsearchClient();\n\n        IndexResponse response = esClient.index(request);\n\n        System.out.println(&quot;Indexed with version &quot; + response.version());\n    }\n</code></pre>\n<p>But during bulk insertion the data is getting inserted successfully but not in proper format, its looking something like this,</p>\n<p><a href=\"https://i.stack.imgur.com/lYyTh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYyTh.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand the problem why the format is like this. Is it because Elasticsearch is serializing the data or is there any field missing in BulkRequest Builder operation?</p>\n<p>Please help me..</p>\n"},{"tags":["java","spring","spring-boot","java-17"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696940072,"post_id":77265557,"comment_id":136214271,"body_markdown":"Call an `@Async` annotated method. It isn&#39;t any harder then that.","body":"Call an <code>@Async</code> annotated method. It isn&#39;t any harder then that."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696941456,"post_id":77265557,"comment_id":136214568,"body_markdown":"@M.Deinum you can read the question carefully, its not about calling annotation.","body":"@M.Deinum you can read the question carefully, its not about calling annotation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696941573,"post_id":77265557,"comment_id":136214596,"body_markdown":"Yes it is. Call an `@Async` annotated method from the controller, it will return immediatly while the task keeps running. So it is exactbly about that. You can return a `CompletableFuture` if you want (or use a defferedresult) and set a timeout. Which will then return. If that isn&#39;t the case then provide additional information what you have tried (as you stated your chosen solutions didn&#39;t work).","body":"Yes it is. Call an <code>@Async</code> annotated method from the controller, it will return immediatly while the task keeps running. So it is exactbly about that. You can return a <code>CompletableFuture</code> if you want (or use a defferedresult) and set a timeout. Which will then return. If that isn&#39;t the case then provide additional information what you have tried (as you stated your chosen solutions didn&#39;t work)."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696942644,"post_id":77265557,"comment_id":136214821,"body_markdown":"Yes, I understand u . In my implementation, I have placed the @Async annotation on the service method rather than in the controller. This choice is based on the fact that most of the time-consuming operations are typically performed in the service layer to keep controllers lean and focused on handling HTTP requests.\n\nIn the service layer, I have replaced the return type from List&lt;myObject&gt; to CompletableFuture&lt;List&lt;myObject&gt;&gt;. This allows me to execute the method asynchronously.\n\nCheck the question , I put some of my code on it","body":"Yes, I understand u . In my implementation, I have placed the @Async annotation on the service method rather than in the controller. This choice is based on the fact that most of the time-consuming operations are typically performed in the service layer to keep controllers lean and focused on handling HTTP requests.  In the service layer, I have replaced the return type from List&lt;myObject&gt; to CompletableFuture&lt;List&lt;myObject&gt;&gt;. This allows me to execute the method asynchronously.  Check the question , I put some of my code on it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696942738,"post_id":77265557,"comment_id":136214850,"body_markdown":"Your code doesn&#39;t do what you think it does. Just execute the async method. Nothing more nothing less. You are making things overly complex. As stated just annotate your service method and be done. Also the code you posted doesn&#39;t make anything clear it only shows delated execution and some timer, all working around the `@Async` from spring.","body":"Your code doesn&#39;t do what you think it does. Just execute the async method. Nothing more nothing less. You are making things overly complex. As stated just annotate your service method and be done. Also the code you posted doesn&#39;t make anything clear it only shows delated execution and some timer, all working around the <code>@Async</code> from spring."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696943003,"post_id":77265557,"comment_id":136214925,"body_markdown":"@M.Deinum but what about providing an immediate response to the client after 30 seconds with the message, i need the response to become send for frontend side for example as a message inside the object? and completing the work in the background ? also you said i need Just execute the async method - service method -, but what about the data type in the service, to keep it as it is. ?","body":"@M.Deinum but what about providing an immediate response to the client after 30 seconds with the message, i need the response to become send for frontend side for example as a message inside the object? and completing the work in the background ? also you said i need Just execute the async method - service method -, but what about the data type in the service, to keep it as it is. ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696943069,"post_id":77265557,"comment_id":136214942,"body_markdown":"What datatype/ You haven&#39;t posted any of the classes you are referring to. As I stated return a completablefuture, in the controller use a deferredresult with a timeout of 30 seconds. That is it, nothing more, nothiong less.","body":"What datatype/ You haven&#39;t posted any of the classes you are referring to. As I stated return a completablefuture, in the controller use a deferredresult with a timeout of 30 seconds. That is it, nothing more, nothiong less."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696943459,"post_id":77265557,"comment_id":136215037,"body_markdown":"this steps i will go with \nIn the service layer, execute the asynchronous method and return a CompletableFuture for the result.\nIn the controller, use a DeferredResult with a timeout of 30 seconds.\nIf the timeout occurs, return a response with the status &quot;Processing in progress...&quot; and complete the work in the background asynchronously.","body":"this steps i will go with  In the service layer, execute the asynchronous method and return a CompletableFuture for the result. In the controller, use a DeferredResult with a timeout of 30 seconds. If the timeout occurs, return a response with the status &quot;Processing in progress...&quot; and complete the work in the background asynchronously."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696943951,"creation_date":1696943951,"answer_id":77266156,"question_id":77265557,"body_markdown":"You are making things overly complex. You should be calling an `@Async` service method, which would return a `CompletableFuture` (or you can inject the `AsyncTaskExecutor` and use the `submitCompletable` to wrap the service call (instead of annotating it with `@Async` and return a `CompletableFuture`). \r\n\r\nIn the controller use a `DeferredResult` which will send the result as soon as it is available from the `CompletableFuture` through the `CompletableFuture` callback methods. It will also have an `onTimeout` callback (for 30 seconds) which will fire if the process didn&#39;t finish within 30 seconds. It will keep the background process running but will return an answer to the client. \r\n\r\n```java\r\n// Deferred Result with 30 second timeout\r\nDeferredResult&lt;ResponseEntity&lt;?&gt;&gt; result = new DeferredResult(30_000, () -&gt; ResponseEntity.accepted().body(&quot;Processing&quot;).build());\r\nCompletableFuture&lt;YourResult&gt; future = ... // However you achieve this\r\nfuture.whenComplete( (res, ex) -&gt; {\r\n  if (res != null) {\r\n    res.setResult(ResponseEntity.ok(res));\r\n  } else {\r\n    res.setErrorResult(ex);\r\n  }\r\n});\r\nreturn result;\r\n```\r\n\r\nSomething along those lines. The `DeferredResult` will wait for 30 seconds, if not return a default response (HTTP 200 ACCEPTED with a message, when the `CompletableFuture` completes it will return a regular response, or if it was an exception return that). \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/async/DeferredResult.html","title":"How to Implement Asynchronous Processing in a Spring Application for Long-Running Tasks?","body":"<p>You are making things overly complex. You should be calling an <code>@Async</code> service method, which would return a <code>CompletableFuture</code> (or you can inject the <code>AsyncTaskExecutor</code> and use the <code>submitCompletable</code> to wrap the service call (instead of annotating it with <code>@Async</code> and return a <code>CompletableFuture</code>).</p>\n<p>In the controller use a <code>DeferredResult</code> which will send the result as soon as it is available from the <code>CompletableFuture</code> through the <code>CompletableFuture</code> callback methods. It will also have an <code>onTimeout</code> callback (for 30 seconds) which will fire if the process didn't finish within 30 seconds. It will keep the background process running but will return an answer to the client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Deferred Result with 30 second timeout\nDeferredResult&lt;ResponseEntity&lt;?&gt;&gt; result = new DeferredResult(30_000, () -&gt; ResponseEntity.accepted().body(&quot;Processing&quot;).build());\nCompletableFuture&lt;YourResult&gt; future = ... // However you achieve this\nfuture.whenComplete( (res, ex) -&gt; {\n  if (res != null) {\n    res.setResult(ResponseEntity.ok(res));\n  } else {\n    res.setErrorResult(ex);\n  }\n});\nreturn result;\n</code></pre>\n<p>Something along those lines. The <code>DeferredResult</code> will wait for 30 seconds, if not return a default response (HTTP 200 ACCEPTED with a message, when the <code>CompletableFuture</code> completes it will return a regular response, or if it was an exception return that).</p>\n"}],"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77266156,"answer_count":1,"score":1,"last_activity_date":1696943951,"creation_date":1696939047,"question_id":77265557,"body_markdown":"How can I implement **asynchronous processing** in a Java Spring 3-tier application to handle long-running tasks that are expected to take more than **30 seconds**, while providing an immediate response to the client after 30 seconds with the message &#39;Processing in progress. We will notify you when it&#39;s completed&#39;\r\nThen continue the work and processing in the background. Once the background work is completed, I only need to log the completion without sending any further response to the client. \r\n\r\n**Note: I work in both JAVA 17 and JAVA 8, so I found most of the functionality didn&#39;t work as expected in both of them.** \r\n\r\n\r\nin my controller, I used this : \r\n\r\n    CompletableFuture.delayedExecutor(30, TimeUnit.SECONDS)\r\n\r\nand also like this \r\n\r\n    Timer timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // return ResponseEntity with the message &#39;Processing in progress...&#39;\r\n                }\r\n            }, 30000); ","title":"How to Implement Asynchronous Processing in a Spring Application for Long-Running Tasks?","body":"<p>How can I implement <strong>asynchronous processing</strong> in a Java Spring 3-tier application to handle long-running tasks that are expected to take more than <strong>30 seconds</strong>, while providing an immediate response to the client after 30 seconds with the message 'Processing in progress. We will notify you when it's completed'\nThen continue the work and processing in the background. Once the background work is completed, I only need to log the completion without sending any further response to the client.</p>\n<p><strong>Note: I work in both JAVA 17 and JAVA 8, so I found most of the functionality didn't work as expected in both of them.</strong></p>\n<p>in my controller, I used this :</p>\n<pre><code>CompletableFuture.delayedExecutor(30, TimeUnit.SECONDS)\n</code></pre>\n<p>and also like this</p>\n<pre><code>Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                // return ResponseEntity with the message 'Processing in progress...'\n            }\n        }, 30000); \n</code></pre>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":3,"creation_date":1365654541,"post_id":15940763,"comment_id":22712527,"body_markdown":"Of course it is not the same. You are interpreting the byte as UTF-8, while what you want to do is to print out the value of the byte instead.","body":"Of course it is not the same. You are interpreting the byte as UTF-8, while what you want to do is to print out the value of the byte instead."},{"owner":{"account_id":282492,"reputation":956,"user_id":579416,"accept_rate":92,"display_name":"ebolyen"},"score":0,"creation_date":1365654704,"post_id":15940763,"comment_id":22712559,"body_markdown":"Like nhatdh said, just do: \nSystem.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + bytes[0]);","body":"Like nhatdh said, just do:  System.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + bytes[0]);"},{"owner":{"account_id":2620660,"reputation":113,"user_id":2268748,"display_name":"TonyChou"},"score":0,"creation_date":1365655420,"post_id":15940763,"comment_id":22712721,"body_markdown":"I have tried, and i print the value of bytes, result is -103, code is:","body":"I have tried, and i print the value of bytes, result is -103, code is:"},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":1,"creation_date":1365655984,"post_id":15940763,"comment_id":22712871,"body_markdown":"-103 is what you would expect. Java&#39;s `byte` type is signed, so the maximum value it can hold is 127. When you cast 153 (an int) to a byte you get the bit pattern 10011001. When interpreted as a twos-complement number this is -103.","body":"-103 is what you would expect. Java&#39;s <code>byte</code> type is signed, so the maximum value it can hold is 127. When you cast 153 (an int) to a byte you get the bit pattern 10011001. When interpreted as a twos-complement number this is -103."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365654925,"creation_date":1365654925,"answer_id":15940868,"question_id":15940763,"body_markdown":"Try this:\r\n\r\n    byte[] aaa = new byte[1];\r\n    aaa[0] = (byte) 153;\r\n    System.out.println(&quot;original bytes &lt;&lt;&gt;&gt; &quot; + Arrays.toString(aaa));\r\n\r\n    // Encode the bytes to Base64\r\n    String encoder = Base64.encodeBase64String(aaa);\r\n    System.out.println(&quot;encoder &lt;&lt;&gt;&gt; &quot; + encoder);\r\n    \r\n    // Decode the Base64 String to bytes\r\n    byte[] bytes = Base64.decodeBase64(encoder);\r\n    System.out.println(&quot;decoded bytes &lt;&lt;&gt;&gt; &quot; + Arrays.toString(bytes));\r\n","title":"Java base64 encode and decode","body":"<p>Try this:</p>\n\n<pre><code>byte[] aaa = new byte[1];\naaa[0] = (byte) 153;\nSystem.out.println(\"original bytes &lt;&lt;&gt;&gt; \" + Arrays.toString(aaa));\n\n// Encode the bytes to Base64\nString encoder = Base64.encodeBase64String(aaa);\nSystem.out.println(\"encoder &lt;&lt;&gt;&gt; \" + encoder);\n\n// Decode the Base64 String to bytes\nbyte[] bytes = Base64.decodeBase64(encoder);\nSystem.out.println(\"decoded bytes &lt;&lt;&gt;&gt; \" + Arrays.toString(bytes));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939135,"reputation":728,"user_id":3853452,"display_name":"maris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414583842,"creation_date":1414583842,"answer_id":26629738,"question_id":15940763,"body_markdown":"simple static utility methods to encode and decode the given string.\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    ...\r\n    \r\n    private static byte[] key = {\r\n            0x74, 0x68, 0x69, 0x73, 0x49, 0x73, 0x41, 0x53, 0x65, 0x63, 0x72, 0x65, 0x74, 0x4b, 0x65, 0x79\r\n        };  // &quot;ThisIsASecretKey&quot;;\r\n    \r\n        public static String encrypt(String stringToEncrypt) throws Exception {\r\n    \tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            final String encryptedString = Base64.encodeBase64String(cipher.doFinal(stringToEncrypt.getBytes()));\r\n            return encryptedString;\r\n        }\r\n    \r\n        public static String decrypt(String stringToDecrypt) throws Exception {\r\n    \tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n            final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n            final String decryptedString = new String(cipher.doFinal(Base64.decodeBase64(stringToDecrypt)));\r\n            return decryptedString;\r\n        }\r\n\r\n","title":"Java base64 encode and decode","body":"<p>simple static utility methods to encode and decode the given string.</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n...\n\nprivate static byte[] key = {\n        0x74, 0x68, 0x69, 0x73, 0x49, 0x73, 0x41, 0x53, 0x65, 0x63, 0x72, 0x65, 0x74, 0x4b, 0x65, 0x79\n    };  // \"ThisIsASecretKey\";\n\n    public static String encrypt(String stringToEncrypt) throws Exception {\n    Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5Padding\");\n        final SecretKeySpec secretKey = new SecretKeySpec(key, \"AES\");\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        final String encryptedString = Base64.encodeBase64String(cipher.doFinal(stringToEncrypt.getBytes()));\n        return encryptedString;\n    }\n\n    public static String decrypt(String stringToDecrypt) throws Exception {\n    Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5PADDING\");\n        final SecretKeySpec secretKey = new SecretKeySpec(key, \"AES\");\n        cipher.init(Cipher.DECRYPT_MODE, secretKey);\n        final String decryptedString = new String(cipher.doFinal(Base64.decodeBase64(stringToDecrypt)));\n        return decryptedString;\n    }\n</code></pre>\n"}],"owner":{"account_id":2620660,"reputation":113,"user_id":2268748,"display_name":"TonyChou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15940868,"answer_count":2,"score":1,"last_activity_date":1696943938,"creation_date":1365654338,"question_id":15940763,"body_markdown":"I am trying to encode `byte[]` to `String`, then decode this `String` to `byte[]`, my code is:\r\n\r\n    byte[] aaa = new byte[1];\r\n    aaa[0] = (byte) 153;\r\n\t\t\t\r\n    String encoder = Base64.encodeBase64String(aaa);\r\n    System.out.println(&quot;encoder &lt;&lt;&gt;&gt; &quot; + encoder);\r\n\t\r\n    // Decode the Base64 String.\t\t\r\n    byte[] bytes = Base64.decodeBase64(encoder);\r\n    String decoder = new String(bytes, &quot;UTF08&quot;);\r\n    System.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + decoder );\r\n\r\nResult is:\r\n\r\n    encoder &lt;&lt;&gt;&gt; mQ==\r\n    decoder &lt;&lt;&gt;&gt; ?\r\n\r\nThe result are not the same one. Why does this happen?\r\n","title":"Java base64 encode and decode","body":"<p>I am trying to encode <code>byte[]</code> to <code>String</code>, then decode this <code>String</code> to <code>byte[]</code>, my code is:</p>\n\n<pre><code>byte[] aaa = new byte[1];\naaa[0] = (byte) 153;\n\nString encoder = Base64.encodeBase64String(aaa);\nSystem.out.println(\"encoder &lt;&lt;&gt;&gt; \" + encoder);\n\n// Decode the Base64 String.        \nbyte[] bytes = Base64.decodeBase64(encoder);\nString decoder = new String(bytes, \"UTF08\");\nSystem.out.println(\"decoder &lt;&lt;&gt;&gt; \" + decoder );\n</code></pre>\n\n<p>Result is:</p>\n\n<pre><code>encoder &lt;&lt;&gt;&gt; mQ==\ndecoder &lt;&lt;&gt;&gt; ?\n</code></pre>\n\n<p>The result are not the same one. Why does this happen?</p>\n"},{"tags":["java","string","if-statement","contains","charsequence"],"comments":[{"owner":{"account_id":1875759,"reputation":1289,"user_id":1697008,"display_name":"daf"},"score":2,"creation_date":1467458718,"post_id":38159568,"comment_id":63747514,"body_markdown":"Check the casing on the word Like, perhaps? Contains should be case-sensitive and you&#39;re looking for &quot;I Like my&quot;, not &quot;I like my&quot;","body":"Check the casing on the word Like, perhaps? Contains should be case-sensitive and you&#39;re looking for &quot;I Like my&quot;, not &quot;I like my&quot;"},{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467642071,"post_id":38159568,"comment_id":63799427,"body_markdown":"I converted the &quot;L&quot; to a &quot;l&quot; , saved the file, and meticulously type my answers only to arrive at the same error message? Any other ideas?","body":"I converted the &quot;L&quot; to a &quot;l&quot; , saved the file, and meticulously type my answers only to arrive at the same error message? Any other ideas?"},{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467859777,"post_id":38159568,"comment_id":63895126,"body_markdown":"My mistake was in the scan.next() method instead of using scan.nextLine(). Thanks for your time.","body":"My mistake was in the scan.next() method instead of using scan.nextLine(). Thanks for your time."}],"answers":[{"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467458746,"creation_date":1467458746,"answer_id":38159607,"question_id":38159568,"body_markdown":"Your `searchString` is `&quot;I Like my&quot;`, while your text has `&quot;I like my&quot;`. So I assume your user will enter the lowercase one and `contains` is case sensitive so it won&#39;t find it.\r\n\r\nChange to:\r\n\r\n    CharSequence searchString = &quot;I like my&quot;;","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>Your <code>searchString</code> is <code>\"I Like my\"</code>, while your text has <code>\"I like my\"</code>. So I assume your user will enter the lowercase one and <code>contains</code> is case sensitive so it won't find it.</p>\n\n<p>Change to:</p>\n\n<pre><code>CharSequence searchString = \"I like my\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8684997,"reputation":2630,"user_id":6499716,"accept_rate":100,"display_name":"Shiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467458778,"creation_date":1467458778,"answer_id":38159615,"question_id":38159568,"body_markdown":"You are searching for `&quot;I Like my&quot;` while your error massages says it should be `&#39;I like my&#39;`. \r\n\r\n**It&#39;s case sensitive.**\r\n\r\nEither type in `&quot;I Like my&quot;` or change your `searchString` to &quot;I like my&quot;.","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>You are searching for <code>\"I Like my\"</code> while your error massages says it should be <code>'I like my'</code>. </p>\n\n<p><strong>It's case sensitive.</strong></p>\n\n<p>Either type in <code>\"I Like my\"</code> or change your <code>searchString</code> to \"I like my\".</p>\n"},{"tags":[],"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467459931,"creation_date":1467459931,"answer_id":38159775,"question_id":38159568,"body_markdown":"\r\nUse\r\n\r\n    if (selfEsteem.containsIgnoreCase(searchString))\r\n        ...\r\n\r\ninstead of\r\n\r\n    if (selfEsteem.contains(searchString))\r\n        ...\r\n\r\nThen it doesn&#39;t matter what case the user types in.","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>Use</p>\n\n<pre><code>if (selfEsteem.containsIgnoreCase(searchString))\n    ...\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>if (selfEsteem.contains(searchString))\n    ...\n</code></pre>\n\n<p>Then it doesn't matter what case the user types in.</p>\n"}],"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696943180,"creation_date":1467458467,"question_id":38159568,"body_markdown":"I am having difficulty triggering my &quot;if&quot; statement. When I input &quot;I like my &#39;anything&#39;&quot;, which the CharSequence should be searching for, the code kicks out the error from the else statement. I&#39;ve tried to see if the contains method wasn&#39;t reading whitespace by attempting to identify just one letter using the CharSequence. That didn&#39;t help. I also attempted to change my contains method into a boolean and run the if statement if the boolean were true. That also did not work. I&#39;ve searched around a bit at other code and it seems to look similar. Eclipse isn&#39;t flagging any errors I&#39;m just beginning and have little clue on what else to attempt. If there are any additional hints on how to clean my code up or methods that might work better. Please give some constructive criticism.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class hello {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Hi, what is your name?&quot;);\r\n    \t\t\tString name1 = scan.next();\r\n    \t\t\tSystem.out.println(&quot;Hello &quot;+ name1 + &quot;. Tell me what you like about yourself?\\n&quot;\r\n    \t\t\t\t\t+ &quot;Please pretext what you like about yourself with the phrase &#39;I like my&#39;.&quot;);\r\n    \t\t\tString selfEsteem = scan.next();\r\n    \t\t\tCharSequence searchString = &quot;I Like my&quot;;\r\n    \t\t\t\r\n    \t\t\tif (selfEsteem.contains(searchString)) {\r\n    \t\t\t\tselfEsteem = selfEsteem.replace(&quot;my&quot;, &quot;your&quot;);\r\n    \t\t\t\tSystem.out.println(selfEsteem + &quot;also.&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.err.println(&quot;Error: User did not use &#39;I like my&#39; input format&quot;);\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tscan.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\noutput:\r\n\r\nHi, what is your name?\r\nJanet\r\nHello Janet. Tell me what you like about yourself?\r\nPlease pretext what you like about yourself with the phrase &#39;I like my&#39;.\r\nI like my boobs\r\nError: User did not use &#39;I like my&#39; input format\r\n","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>I am having difficulty triggering my \"if\" statement. When I input \"I like my 'anything'\", which the CharSequence should be searching for, the code kicks out the error from the else statement. I've tried to see if the contains method wasn't reading whitespace by attempting to identify just one letter using the CharSequence. That didn't help. I also attempted to change my contains method into a boolean and run the if statement if the boolean were true. That also did not work. I've searched around a bit at other code and it seems to look similar. Eclipse isn't flagging any errors I'm just beginning and have little clue on what else to attempt. If there are any additional hints on how to clean my code up or methods that might work better. Please give some constructive criticism.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class hello {\n\n    public static void main(String args[]) {\n\n        Scanner scan = new Scanner(System.in);\n        try {\n            System.out.println(\"Hi, what is your name?\");\n            String name1 = scan.next();\n            System.out.println(\"Hello \"+ name1 + \". Tell me what you like about yourself?\\n\"\n                    + \"Please pretext what you like about yourself with the phrase 'I like my'.\");\n            String selfEsteem = scan.next();\n            CharSequence searchString = \"I Like my\";\n\n            if (selfEsteem.contains(searchString)) {\n                selfEsteem = selfEsteem.replace(\"my\", \"your\");\n                System.out.println(selfEsteem + \"also.\");\n            } else {\n                System.err.println(\"Error: User did not use 'I like my' input format\");\n            }\n        } finally {\n            scan.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<p>Hi, what is your name?\nJanet\nHello Janet. Tell me what you like about yourself?\nPlease pretext what you like about yourself with the phrase 'I like my'.\nI like my boobs\nError: User did not use 'I like my' input format</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696941067,"post_id":77265627,"comment_id":136214490,"body_markdown":"Just replace `.findAny()` with the `.reduce((a, b) -&gt; { throw new MultiMatchException(); })` you were thinking of and you’re done.","body":"Just replace <code>.findAny()</code> with the <code>.reduce((a, b) -&gt; { throw new MultiMatchException(); })</code> you were thinking of and you’re done."},{"owner":{"account_id":29639870,"reputation":13,"user_id":22716307,"display_name":"John Doe"},"score":0,"creation_date":1696941185,"post_id":77265627,"comment_id":136214507,"body_markdown":"@Holger thank you so much, it works!  findAny() was my mistake!","body":"@Holger thank you so much, it works!  findAny() was my mistake!"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696942957,"creation_date":1696940194,"answer_id":77265705,"question_id":77265627,"body_markdown":"You were close:\r\n\r\n```java\r\nstream.reduce((i1, i2) -&gt; { throw new RuntimeException(); })\r\n      .orElseThrow(() -&gt; new RuntimeException());\r\n```","title":"How to check elements count and throw an exception in the middle of the stream?","body":"<p>You were close:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.reduce((i1, i2) -&gt; { throw new RuntimeException(); })\n      .orElseThrow(() -&gt; new RuntimeException());\n</code></pre>\n"}],"owner":{"account_id":29639870,"reputation":13,"user_id":22716307,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77265705,"answer_count":1,"score":1,"last_activity_date":1696942957,"creation_date":1696939599,"question_id":77265627,"body_markdown":"I have a stream of elements and want to get only one element from stream and throw exceptions if there are more than one element in the stream and if there is no elemenets at all. Is it possible to make with Stream?\r\n\r\n```\r\npublic Entity getEntityByValue(String value) {\r\n        return entityService.getEntitiesByValue(value)\r\n                .stream\r\n                // check here count of entities and throw a MultiMatchException if more than one entity is present\r\n                .findAny()\r\n                .orElseThrow(() -&gt; throw NoEntitiesFoundException()); //no entities found\r\n    }\r\n```\r\n\r\n\r\nI thought of using .reduce(a, b -&gt; throw MultiMatchException) and throw the exception if the second element is exists but couldn&#39;t combine it with other code ","title":"How to check elements count and throw an exception in the middle of the stream?","body":"<p>I have a stream of elements and want to get only one element from stream and throw exceptions if there are more than one element in the stream and if there is no elemenets at all. Is it possible to make with Stream?</p>\n<pre><code>public Entity getEntityByValue(String value) {\n        return entityService.getEntitiesByValue(value)\n                .stream\n                // check here count of entities and throw a MultiMatchException if more than one entity is present\n                .findAny()\n                .orElseThrow(() -&gt; throw NoEntitiesFoundException()); //no entities found\n    }\n</code></pre>\n<p>I thought of using .reduce(a, b -&gt; throw MultiMatchException) and throw the exception if the second element is exists but couldn't combine it with other code</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696942885,"creation_date":1696942055,"answer_id":77265931,"question_id":77265802,"body_markdown":"The documentation for the method you linked says:\r\n\r\n&gt; **source** the source object to convert, which must be an instance of `S` (never `null`)\r\n\r\nSo `S` is required to be non-nullable.\r\n\r\n----\r\nThe reason Kotlin seems to &quot;know&quot; that the parameter must be non-nullable is likely from nullability annotations. Kotlin supports [several nullability annotations for Java](https://kotlinlang.org/docs/java-interop.html#nullability-annotations). Spring&#39;s nullability annotations are [meta-annotated using JSR-305](https://docs.spring.io/spring-framework/reference/core/null-safety.html#jsr-305-meta-annotations), so they are supported.\r\n\r\nAlthough this method doesn&#39;t mark `source` as `@NonNull`, I think the whole package is marked with non-nullability as the default [here](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/package-info.java).","title":"Cannot implement java interface in kotlin due to nullabilty","body":"<p>The documentation for the method you linked says:</p>\n<blockquote>\n<p><strong>source</strong> the source object to convert, which must be an instance of <code>S</code> (never <code>null</code>)</p>\n</blockquote>\n<p>So <code>S</code> is required to be non-nullable.</p>\n<hr />\n<p>The reason Kotlin seems to &quot;know&quot; that the parameter must be non-nullable is likely from nullability annotations. Kotlin supports <a href=\"https://kotlinlang.org/docs/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">several nullability annotations for Java</a>. Spring's nullability annotations are <a href=\"https://docs.spring.io/spring-framework/reference/core/null-safety.html#jsr-305-meta-annotations\" rel=\"nofollow noreferrer\">meta-annotated using JSR-305</a>, so they are supported.</p>\n<p>Although this method doesn't mark <code>source</code> as <code>@NonNull</code>, I think the whole package is marked with non-nullability as the default <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/package-info.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3587403,"reputation":511,"user_id":3623593,"accept_rate":50,"display_name":"videokojot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77265931,"answer_count":1,"score":1,"last_activity_date":1696942885,"creation_date":1696941061,"question_id":77265802,"body_markdown":"I cannot implement this java interface in kotlin.\r\n\r\n``` kotlin\r\nimport org.springframework.core.convert.converter.Converter\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass FeatureFlagConverter : Converter&lt;String?, FeatureFlags&gt; {\r\n    override fun convert(source: String?): FeatureFlags = FeatureFlags(source ?: &quot;&quot;)\r\n}\r\n```\r\n\r\nCompiler fails with following:\r\n\r\n&gt; Class &#39;FeatureFlagConverter&#39; is not abstract and does not implement abstract member public abstract fun convert(source: String): FeatureFlags? defined in org.springframework.core.convert.converter.Converter\r\n\r\n**Why?** The interface is pure java interface (https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java) so the `source` parameter in `convert` method might be null, and there is no anotation to hint that it is not null.\r\n\r\n*It helps to remove the nullabilty around String. But I do not want to do that since it is Java interface and the `source` parameter in `convert` method might be null. And some java caller might pass null here.*","title":"Cannot implement java interface in kotlin due to nullabilty","body":"<p>I cannot implement this java interface in kotlin.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.core.convert.converter.Converter\nimport org.springframework.stereotype.Component\n\n@Component\nclass FeatureFlagConverter : Converter&lt;String?, FeatureFlags&gt; {\n    override fun convert(source: String?): FeatureFlags = FeatureFlags(source ?: &quot;&quot;)\n}\n</code></pre>\n<p>Compiler fails with following:</p>\n<blockquote>\n<p>Class 'FeatureFlagConverter' is not abstract and does not implement abstract member public abstract fun convert(source: String): FeatureFlags? defined in org.springframework.core.convert.converter.Converter</p>\n</blockquote>\n<p><strong>Why?</strong> The interface is pure java interface (<a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java</a>) so the <code>source</code> parameter in <code>convert</code> method might be null, and there is no anotation to hint that it is not null.</p>\n<p><em>It helps to remove the nullabilty around String. But I do not want to do that since it is Java interface and the <code>source</code> parameter in <code>convert</code> method might be null. And some java caller might pass null here.</em></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1585725644,"post_id":60965473,"comment_id":107859520,"body_markdown":"Duplicate the Run Configuration and make the changes in the duplicate.","body":"Duplicate the Run Configuration and make the changes in the duplicate."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1585725650,"post_id":60965473,"comment_id":107859524,"body_markdown":"surrounding it in double quotes may work and remove the dash","body":"surrounding it in double quotes may work and remove the dash"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1585725778,"post_id":60965473,"comment_id":107859585,"body_markdown":"@greg-449 you mean create a Run Configuration without these argument instead of erasing? If that is what you mean, I am looking for something like commenting feature.","body":"@greg-449 you mean create a Run Configuration without these argument instead of erasing? If that is what you mean, I am looking for something like commenting feature."},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1585725814,"post_id":60965473,"comment_id":107859608,"body_markdown":"Yes, that is what I mean. There is no commenting feature","body":"Yes, that is what I mean. There is no commenting feature"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1585725934,"post_id":60965473,"comment_id":107859659,"body_markdown":"@JorgeCampos Tried with the way you said. It doesn&#39;t work.","body":"@JorgeCampos Tried with the way you said. It doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1585727090,"creation_date":1585727090,"answer_id":60965881,"question_id":60965473,"body_markdown":"I do not believe there is a way to do that.\r\n\r\nHowever, for `-D` options you could use the following work-around:\r\n\r\n&gt; change `-Dlog4j.debug=true` to `-DXXlog4j.debug=true` or similar\r\n\r\nA system property whose name is not recognized by anything should simply be ignored.\r\n\r\n&lt;sup&gt;(Hypothetically, an application *could* iterate all of the properties and do something with them all ... beyond simply printing / displaying them.  But that is pretty contrived / perverse.)&lt;/sup&gt;\r\n\r\nUnfortunately this approach won&#39;t work for other options.  In general, unrecognized JVM command line options will cause errors.","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p>I do not believe there is a way to do that.</p>\n\n<p>However, for <code>-D</code> options you could use the following work-around:</p>\n\n<blockquote>\n  <p>change <code>-Dlog4j.debug=true</code> to <code>-DXXlog4j.debug=true</code> or similar</p>\n</blockquote>\n\n<p>A system property whose name is not recognized by anything should simply be ignored.</p>\n\n<p><sup>(Hypothetically, an application <em>could</em> iterate all of the properties and do something with them all ... beyond simply printing / displaying them.  But that is pretty contrived / perverse.)</sup></p>\n\n<p>Unfortunately this approach won't work for other options.  In general, unrecognized JVM command line options will cause errors.</p>\n"},{"tags":[],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696941877,"creation_date":1696941877,"answer_id":77265913,"question_id":60965473,"body_markdown":"Generally, I used to comment the following way (won`t be printed during runtime):\r\n\r\n    -Dcomment=&lt;comment&gt;\r\n\r\nHere, `&lt;comment&gt;` can be anything, but do not use spaces. Use dot (.) instead. For example:\r\n\r\n    -Dcomment=this.is.my.comment\r\n\r\nThis works in Eclipse as well as in IntelliJ VM arguments.","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p>Generally, I used to comment the following way (won`t be printed during runtime):</p>\n<pre><code>-Dcomment=&lt;comment&gt;\n</code></pre>\n<p>Here, <code>&lt;comment&gt;</code> can be anything, but do not use spaces. Use dot (.) instead. For example:</p>\n<pre><code>-Dcomment=this.is.my.comment\n</code></pre>\n<p>This works in Eclipse as well as in IntelliJ VM arguments.</p>\n"}],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2046,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60965881,"answer_count":2,"score":4,"last_activity_date":1696941877,"creation_date":1585725473,"question_id":60965473,"body_markdown":"[![Run Configuration from Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7U0Fz.png\r\n\r\nFor example, Here I just want to comment this whenever I do not need this argument. I don&#39;t want to erase this. So, Is there any way to comment/uncomment the VM arguments in eclipse?","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p><a href=\"https://i.stack.imgur.com/7U0Fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7U0Fz.png\" alt=\"Run Configuration from Eclipse\"></a></p>\n\n<p>For example, Here I just want to comment this whenever I do not need this argument. I don't want to erase this. So, Is there any way to comment/uncomment the VM arguments in eclipse?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696942529,"post_id":77265905,"comment_id":136214792,"body_markdown":"It isn&#39;t empty, you aren&#39;t subscribing to the mono tha tis being returned effectifly making it do, nothing. Your code is simply wrong. You are writing reactive code with an imperative mindset.","body":"It isn&#39;t empty, you aren&#39;t subscribing to the mono tha tis being returned effectifly making it do, nothing. Your code is simply wrong. You are writing reactive code with an imperative mindset."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1696943663,"post_id":77265905,"comment_id":136215069,"body_markdown":"@M.Deinum what about the   `exchange.getMultipartData().subscribe()` snippet? Even using `subscribe` function I still not subscribing?","body":"@M.Deinum what about the   <code>exchange.getMultipartData().subscribe()</code> snippet? Even using <code>subscribe</code> function I still not subscribing?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696944146,"post_id":77265905,"comment_id":136215154,"body_markdown":"It is but you aren&#39;t subscribing the `WebClient` call, making it again effectivly do nothing.","body":"It is but you aren&#39;t subscribing the <code>WebClient</code> call, making it again effectivly do nothing."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1697020265,"post_id":77265905,"comment_id":136226000,"body_markdown":"@M.Deinum I&#39;ll be glad if you could provide an example in an answer on this question. I don&#39;t get the &quot;you aren&#39;t subscribing the web client&quot; part.","body":"@M.Deinum I&#39;ll be glad if you could provide an example in an answer on this question. I don&#39;t get the &quot;you aren&#39;t subscribing the web client&quot; part."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697021607,"post_id":77265905,"comment_id":136226259,"body_markdown":"The last method in your `subscribe` is `.bodyToFlux(DataBuffer.class)` which returns a `Flux`. This is a reactive type and it doesn&#39;t do anything until you `subscribe()` to it. So while you have a subscribe method effectively the code you call in there doesn&#39;t do anything.","body":"The last method in your <code>subscribe</code> is <code>.bodyToFlux(DataBuffer.class)</code> which returns a <code>Flux</code>. This is a reactive type and it doesn&#39;t do anything until you <code>subscribe()</code> to it. So while you have a subscribe method effectively the code you call in there doesn&#39;t do anything."}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696941835,"creation_date":1696941835,"question_id":77265905,"body_markdown":"I have a Java 11, Spring Boot 2.7.16 Only with Webflux and Netty (Without starter web i.e without tomcat) application.\r\n\r\nI&#39;m trying to get the multipart form data in a WebFilter and post it to an application.\r\n\r\n**NO. I cannot build a controller with @RequestPart. This is a requirement of my solution.**\r\n\r\nThe problem is that `ServerWebExchange.getFormData()` or `ServerWebExchange.getMultipartData()` is allways empty, even sending a request with multipart form...\r\n\r\nThe code:\r\n\r\n```java\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class WebInterceptor implements WebFilter {\r\n\r\n    private final SecurityService securityService;\r\n    private final WebClient webClient;\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\r\n\r\n        if(exchange.getRequest().getHeaders().getContentType().isCompatibleWith(MediaType.MULTIPART_FORM_DATA)){\r\n       \r\n\r\n            var token = securityService.doSomeThing(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;).get(0));\r\n\r\n// Don&#39;t print nothing\r\n            exchange.getMultipartData()\r\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\r\n\r\n// Don&#39;t print nothing\r\n            exchange.getFormData()\r\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\r\n\r\n          \r\n// Never post :/\r\n            exchange.getMultipartData().subscribe(value -&gt; {\r\n\r\n                webClient.post()\r\n                        .uri(URI.create(token.getUrl() + &quot;?&quot; +  exchange.getRequest().getURI()  ))\r\n                        .headers(headers -&gt; headers.setAll(token.getHeaders(exchange.getRequest().getHeaders().getContentType().toString())))\r\n                        .body(BodyInserters.fromMultipartData(value))\r\n                        .retrieve()\r\n                        .bodyToFlux(DataBuffer.class);\r\n            });\r\n\r\n            return Mono.empty();\r\n\r\n        }else return chain.filter(exchange);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is the request:\r\n\r\n```bash\r\ncurl --request POST \\\r\n  --url &#39;localhost:8080/uri&#39; \\\r\n  --header &#39;Authorization: Bearer token&#39; \\\r\n  --header &#39;Content-Type: multipart/form-data&#39; \\\r\n  --form &#39;arquivo=@/home/me/Pictures/Screenshots/Screenshot from 2023-10-10 08-37-37.png&#39;\r\n```\r\n\r\nThe documentation says:\r\n\r\n -  `ServerWebExchange.getMultipartData()` returns value if content-type is multipart-form or empty otherwise.\r\n - `ServerWebExchange.getFormData()` returs value if content-type is application/x-www-form-urlencoded or empty otherwise.\r\n\r\nWhat&#39;s the problem? Why both `ServerWebExchange.getFormData()` or `ServerWebExchange.getMultipartData()` is allways empty?\r\n\r\n","title":"WebFlux WebFilter get Multipart Form Data - Allways empty - Spring Boot","body":"<p>I have a Java 11, Spring Boot 2.7.16 Only with Webflux and Netty (Without starter web i.e without tomcat) application.</p>\n<p>I'm trying to get the multipart form data in a WebFilter and post it to an application.</p>\n<p><strong>NO. I cannot build a controller with @RequestPart. This is a requirement of my solution.</strong></p>\n<p>The problem is that <code>ServerWebExchange.getFormData()</code> or <code>ServerWebExchange.getMultipartData()</code> is allways empty, even sending a request with multipart form...</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\n@RequiredArgsConstructor\npublic class WebInterceptor implements WebFilter {\n\n    private final SecurityService securityService;\n    private final WebClient webClient;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n\n        if(exchange.getRequest().getHeaders().getContentType().isCompatibleWith(MediaType.MULTIPART_FORM_DATA)){\n       \n\n            var token = securityService.doSomeThing(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;).get(0));\n\n// Don't print nothing\n            exchange.getMultipartData()\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\n\n// Don't print nothing\n            exchange.getFormData()\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\n\n          \n// Never post :/\n            exchange.getMultipartData().subscribe(value -&gt; {\n\n                webClient.post()\n                        .uri(URI.create(token.getUrl() + &quot;?&quot; +  exchange.getRequest().getURI()  ))\n                        .headers(headers -&gt; headers.setAll(token.getHeaders(exchange.getRequest().getHeaders().getContentType().toString())))\n                        .body(BodyInserters.fromMultipartData(value))\n                        .retrieve()\n                        .bodyToFlux(DataBuffer.class);\n            });\n\n            return Mono.empty();\n\n        }else return chain.filter(exchange);\n\n    }\n}\n</code></pre>\n<p>This is the request:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --request POST \\\n  --url 'localhost:8080/uri' \\\n  --header 'Authorization: Bearer token' \\\n  --header 'Content-Type: multipart/form-data' \\\n  --form 'arquivo=@/home/me/Pictures/Screenshots/Screenshot from 2023-10-10 08-37-37.png'\n</code></pre>\n<p>The documentation says:</p>\n<ul>\n<li><code>ServerWebExchange.getMultipartData()</code> returns value if content-type is multipart-form or empty otherwise.</li>\n<li><code>ServerWebExchange.getFormData()</code> returs value if content-type is application/x-www-form-urlencoded or empty otherwise.</li>\n</ul>\n<p>What's the problem? Why both <code>ServerWebExchange.getFormData()</code> or <code>ServerWebExchange.getMultipartData()</code> is allways empty?</p>\n"},{"tags":["java","uri","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696941359,"creation_date":1422336208,"answer_id":28163746,"question_id":28163528,"body_markdown":"It looks like you are parsing HTML from String, not from URL. Because of that jsoup can&#39;t know from which URL this HTML comes from, so it can&#39;t create absolute path.\r\n\r\nTo set this URL for Document you can parse it using [`Jsoup.parse(String html, String baseUri)`][1] version, like\r\n\r\n\tString url = &quot;http://server/pages/document.htlm&quot;;\r\n\tString text = &quot;&lt;img src = &#39;../images/image_name1.jpg&#39;/&gt;&lt;img src = &#39;../images/image_name2.jpg&#39;/&gt;&#39;&quot;;\r\n\tDocument doc = Jsoup.parse(text, url);\r\n\tElements images = doc.getElementsByTag(&quot;img&quot;);\r\n\tfor (Element image : images){\r\n\t\tSystem.out.println(image.attr(&quot;src&quot;)+&quot; -&gt; &quot;+image.attr(&quot;abs:src&quot;));\r\n\t}\r\n\r\nOutput:\r\n\r\n    ../images/image_name1.jpg -&gt; http://server/images/image_name1.jpg\r\n    ../images/image_name2.jpg -&gt; http://server/images/image_name2.jpg\r\n\r\n\r\n---\r\n\r\nOther option would be letting Jsoup parse page directly by supplying URL instead of String with HTML\r\n\r\n    Document doc = Jsoup.connect(&quot;http://example.com&quot;).get();\r\n\r\nThis way Document will know from which URL it came, so it will be able to create absolute paths.\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/Jsoup.html#parse(java.lang.String,%20java.lang.String)","title":"Jsoup: null result in absUrl (abs:)","body":"<p>It looks like you are parsing HTML from String, not from URL. Because of that jsoup can't know from which URL this HTML comes from, so it can't create absolute path.</p>\n<p>To set this URL for Document you can parse it using <a href=\"http://jsoup.org/apidocs/org/jsoup/Jsoup.html#parse(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>Jsoup.parse(String html, String baseUri)</code></a> version, like</p>\n<pre><code>String url = &quot;http://server/pages/document.htlm&quot;;\nString text = &quot;&lt;img src = '../images/image_name1.jpg'/&gt;&lt;img src = '../images/image_name2.jpg'/&gt;'&quot;;\nDocument doc = Jsoup.parse(text, url);\nElements images = doc.getElementsByTag(&quot;img&quot;);\nfor (Element image : images){\n    System.out.println(image.attr(&quot;src&quot;)+&quot; -&gt; &quot;+image.attr(&quot;abs:src&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>../images/image_name1.jpg -&gt; http://server/images/image_name1.jpg\n../images/image_name2.jpg -&gt; http://server/images/image_name2.jpg\n</code></pre>\n<hr />\n<p>Other option would be letting Jsoup parse page directly by supplying URL instead of String with HTML</p>\n<pre><code>Document doc = Jsoup.connect(&quot;http://example.com&quot;).get();\n</code></pre>\n<p>This way Document will know from which URL it came, so it will be able to create absolute paths.</p>\n"}],"owner":{"account_id":5683053,"reputation":15,"user_id":4493488,"display_name":"Vladislav Zelenin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28163746,"answer_count":1,"score":1,"last_activity_date":1696941359,"creation_date":1422334738,"question_id":28163528,"body_markdown":"I tried to make a image links downloader with jsoup. I have made a downloader HTML code part, and when I have done a parse part, I recognized, that sometimes links to images appeared without main part. So I found absUrl solution, but by some reasons it did not work (it gave me null). So I tried use `uri.resolve()`, but it gave me unchanged result. So now I do not know how to solve it. I attached part of my code, that responsible for parsing ant writing url to string:   \t\r\n\r\n\r\n\tpublic static String finalcode(String textin) throws Exception {\r\n\t\tString text = source(textin);\r\n\t\tDocument doc = Jsoup.parse(text);\r\n\t\tElements images = doc.getElementsByTag(&quot;img&quot;);\r\n\t\tString Simages = images.toString();\r\n\t\tint Limages = countLines(Simages);\r\n\t\tStringBuilder src = new StringBuilder();\r\n\t\twhile (Limages &gt; 0) {\r\n\t\t\tLimages--;\r\n\t\t\tElement image = images.get(Limages);\r\n\t\t\tString href = image.attr(&quot;src&quot;);\r\n\t\t\tsrc.append(href);\r\n\t\t\tsrc.append(&quot;\\n&quot;);\r\n\t\t}\r\n\t\tString result = src.toString();\r\n\t\treturn result;\r\n\t}","title":"Jsoup: null result in absUrl (abs:)","body":"<p>I tried to make a image links downloader with jsoup. I have made a downloader HTML code part, and when I have done a parse part, I recognized, that sometimes links to images appeared without main part. So I found absUrl solution, but by some reasons it did not work (it gave me null). So I tried use <code>uri.resolve()</code>, but it gave me unchanged result. So now I do not know how to solve it. I attached part of my code, that responsible for parsing ant writing url to string:     </p>\n\n<pre><code>public static String finalcode(String textin) throws Exception {\n    String text = source(textin);\n    Document doc = Jsoup.parse(text);\n    Elements images = doc.getElementsByTag(\"img\");\n    String Simages = images.toString();\n    int Limages = countLines(Simages);\n    StringBuilder src = new StringBuilder();\n    while (Limages &gt; 0) {\n        Limages--;\n        Element image = images.get(Limages);\n        String href = image.attr(\"src\");\n        src.append(href);\n        src.append(\"\\n\");\n    }\n    String result = src.toString();\n    return result;\n}\n</code></pre>\n"},{"tags":["java","scala","deeplearning4j","nd4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1513380915,"creation_date":1513380915,"answer_id":47841153,"question_id":47839617,"body_markdown":".data() gives you a straight row. \r\nSee: http://nd4j.org/tensor\r\n\r\nThe shape of an array is just a view of the underlying databuffer.\r\nI typically don&#39;t recommend doing what you&#39;re trying to do without good reason. All of the data is stored off heap. That copy is expensive.\r\n\r\nOn heap is bad for doing any kind of math. The only use case here is integrations. I would suggest operating on the arrays directly as much as possible. Everything from serialization to indexing is handled for you.\r\n\r\nIf you *really* need it for an integration of some kind, use guava and you can do it in one line:\r\nDoubles.asList(arr.data().dup().asDouble());\r\n\r\nwhere arr is your ndarray to operate on.","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>.data() gives you a straight row. \nSee: <a href=\"http://nd4j.org/tensor\" rel=\"nofollow noreferrer\">http://nd4j.org/tensor</a></p>\n\n<p>The shape of an array is just a view of the underlying databuffer.\nI typically don't recommend doing what you're trying to do without good reason. All of the data is stored off heap. That copy is expensive.</p>\n\n<p>On heap is bad for doing any kind of math. The only use case here is integrations. I would suggest operating on the arrays directly as much as possible. Everything from serialization to indexing is handled for you.</p>\n\n<p>If you <em>really</em> need it for an integration of some kind, use guava and you can do it in one line:\nDoubles.asList(arr.data().dup().asDouble());</p>\n\n<p>where arr is your ndarray to operate on.</p>\n"},{"tags":[],"owner":{"account_id":4736442,"reputation":85,"user_id":3921643,"display_name":"syenmesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546355044,"creation_date":1546355044,"answer_id":53996504,"question_id":47839617,"body_markdown":"Yeah, it turns out `.data()` with ND4J is not something you should really use for anything very serious. This is a bit of a shame for what I was trying to do: writing unit tests that don&#39;t really depend on ND4J and how it internally handles data.\r\n\r\nAs another example of the issue here, consider this code:\r\n\r\n    import org.nd4j.linalg.factory.Nd4j\r\n\r\n    object foo extends App {\r\n\r\n      val x = Nd4j.create(Array[Double](1,2, 3,4, 5,6), Array(3,2))\r\n      // 1,2\r\n      // 3,4\r\n      // 5,6\r\n      println(x)\r\n      val xArr = x.data().asDouble().toList\r\n      // 1,2,  3,4,  5,6 - row-wise\r\n      println(xArr)\r\n\r\n      val w = Nd4j.create(Array[Double](10,20,30, 40,50,60), Array(2,3))\r\n      // 10,20,30\r\n      // 40,50,60\r\n      println(w)\r\n      val wArr = w.data().asDouble().toList\r\n      // 10,20,30,  40,50,60 - row-wise\r\n      println(wArr)\r\n\r\n      val wx = w.mmul(x)\r\n      /*\r\n       *  10,20,30   1,2     10*1+20*3+30*5  10*2+20*4+30*6      220  280\r\n       *  40,50,60   3,4  =  40*1+50*3+60*5  40*2+50*4+60*6  =   490  640\r\n       *             5,6\r\n       */\r\n      println(wx)\r\n      val wxArr = wx.data().asDouble().toList\r\n      // 220, 490,  280, 640 - column-wise\r\n      println(wxArr)\r\n      val wxTArr = wx.transpose().data().asDouble().toList\r\n      // 220, 490,  280, 640 - still column-wise\r\n      println(wxTArr)\r\n      val wxTIArr = wx.transposei().data().asDouble().toList\r\n      // 220, 490,  280, 640 - still column-wise\r\n      println(wxTIArr)\r\n\r\n    }\r\n\r\nAs you can see ND4J basically does what it wants internally, and when you use `.data()` it will simply give you its internal representation; this representation isn&#39;t altered by any transposes or whatever else you ask it to do, since those don&#39;t actually move the underlying data around.\r\n\r\nThis is all fine, but what I wanted to do was basically: make a Scala list of ordinary doubles; give that to my custom library thing; ask library to do its thing; take its output and convert that to another Scala list of doubles; verify that these doubles are what I expected it to calculate. Instead, what I&#39;m having to do is put the expected stuff in an ND4J array so I can properly compare that to the actual output, so my tests now depend on ND4J, which is an internal technical choice of my library.\r\n\r\nAnyway, this is a relatively minor complaint and the lesson is, avoid `.data()` and instead if you&#39;re using ND4J, use it throughout (even if you think that a bit inelegant).\r\n","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Yeah, it turns out <code>.data()</code> with ND4J is not something you should really use for anything very serious. This is a bit of a shame for what I was trying to do: writing unit tests that don't really depend on ND4J and how it internally handles data.</p>\n\n<p>As another example of the issue here, consider this code:</p>\n\n<pre><code>import org.nd4j.linalg.factory.Nd4j\n\nobject foo extends App {\n\n  val x = Nd4j.create(Array[Double](1,2, 3,4, 5,6), Array(3,2))\n  // 1,2\n  // 3,4\n  // 5,6\n  println(x)\n  val xArr = x.data().asDouble().toList\n  // 1,2,  3,4,  5,6 - row-wise\n  println(xArr)\n\n  val w = Nd4j.create(Array[Double](10,20,30, 40,50,60), Array(2,3))\n  // 10,20,30\n  // 40,50,60\n  println(w)\n  val wArr = w.data().asDouble().toList\n  // 10,20,30,  40,50,60 - row-wise\n  println(wArr)\n\n  val wx = w.mmul(x)\n  /*\n   *  10,20,30   1,2     10*1+20*3+30*5  10*2+20*4+30*6      220  280\n   *  40,50,60   3,4  =  40*1+50*3+60*5  40*2+50*4+60*6  =   490  640\n   *             5,6\n   */\n  println(wx)\n  val wxArr = wx.data().asDouble().toList\n  // 220, 490,  280, 640 - column-wise\n  println(wxArr)\n  val wxTArr = wx.transpose().data().asDouble().toList\n  // 220, 490,  280, 640 - still column-wise\n  println(wxTArr)\n  val wxTIArr = wx.transposei().data().asDouble().toList\n  // 220, 490,  280, 640 - still column-wise\n  println(wxTIArr)\n\n}\n</code></pre>\n\n<p>As you can see ND4J basically does what it wants internally, and when you use <code>.data()</code> it will simply give you its internal representation; this representation isn't altered by any transposes or whatever else you ask it to do, since those don't actually move the underlying data around.</p>\n\n<p>This is all fine, but what I wanted to do was basically: make a Scala list of ordinary doubles; give that to my custom library thing; ask library to do its thing; take its output and convert that to another Scala list of doubles; verify that these doubles are what I expected it to calculate. Instead, what I'm having to do is put the expected stuff in an ND4J array so I can properly compare that to the actual output, so my tests now depend on ND4J, which is an internal technical choice of my library.</p>\n\n<p>Anyway, this is a relatively minor complaint and the lesson is, avoid <code>.data()</code> and instead if you're using ND4J, use it throughout (even if you think that a bit inelegant).</p>\n"},{"tags":[],"owner":{"account_id":15207853,"reputation":11,"user_id":10973652,"display_name":"zeibou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696940917,"creation_date":1696940917,"answer_id":77265783,"question_id":47839617,"body_markdown":"Using .data() indeed seems risky without checking the ordering + shape of the NDArray.\r\n&#39;c&#39; stands for row by row, and &#39;f&#39; (fortran) stands for column by column\r\n\r\nYou can enforce the ordering when creating an array:\r\n\r\n    INDArray array = Nd4j.create(new double[] {1,2,3,4,5,6}, new  int[]{3,2}, &#39;f&#39;);\r\n\r\nAnd you can enforce the ordering when retrieving the double[] flattened array:\r\n\r\n    double[] data = Nd4j.toFlattened(&#39;f&#39;, array).toDoubleVector();\r\n\r\ncf. reference : https://deeplearning4j.konduit.ai/nd4j/reference","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Using .data() indeed seems risky without checking the ordering + shape of the NDArray.\n'c' stands for row by row, and 'f' (fortran) stands for column by column</p>\n<p>You can enforce the ordering when creating an array:</p>\n<pre><code>INDArray array = Nd4j.create(new double[] {1,2,3,4,5,6}, new  int[]{3,2}, 'f');\n</code></pre>\n<p>And you can enforce the ordering when retrieving the double[] flattened array:</p>\n<pre><code>double[] data = Nd4j.toFlattened('f', array).toDoubleVector();\n</code></pre>\n<p>cf. reference : <a href=\"https://deeplearning4j.konduit.ai/nd4j/reference\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/nd4j/reference</a></p>\n"}],"owner":{"account_id":4736442,"reputation":85,"user_id":3921643,"display_name":"syenmesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47841153,"answer_count":3,"score":0,"last_activity_date":1696940917,"creation_date":1513370587,"question_id":47839617,"body_markdown":"Consider the following code, which uses the [ND4J library](https://nd4j.org/) to create a simpler version of [the &quot;moons&quot; test data set](https://github.com/scikit-learn/scikit-learn/blob/a24c8b46/sklearn/datasets/samples_generator.py#L639):\r\n\r\n    val n = 100\r\n    val n1: Int = n/2\r\n    val n2: Int = n-n1\r\n    val outerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n1)))\r\n    val outerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n1)))\r\n    val innerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\r\n    val innerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\r\n    val X: INDArray = Nd4j.vstack(\r\n      Nd4j.concat(1, outerX, innerX), // 1 x n\r\n      Nd4j.concat(1, outerY, innerY)  // 1 x n\r\n    ) // 2 x n\r\n    val y: INDArray = Nd4j.hstack(\r\n      Nd4j.zeros(n1), // 1 x n1\r\n      Nd4j.ones(n2)   // 1 x n2\r\n    ) // 1 x n\r\n    println(s&quot;# y shape: ${y.shape().toList}&quot;)                        // 1x100\r\n    println(s&quot;# y data length: ${y.data().length()}&quot;)                 // 100\r\n    println(s&quot;# X shape: ${X.shape().toList}&quot;)                        // 2x100\r\n    println(s&quot;# X row 0 shape: ${X.getRow(0).shape().toList}&quot;)        // 1x100\r\n    println(s&quot;# X row 1 shape: ${X.getRow(1).shape().toList}&quot;)        // 1x100\r\n    println(s&quot;# X row 0 data length: ${X.getRow(0).data().length()}&quot;) // 200    &lt;- !\r\n    println(s&quot;# X row 1 data length: ${X.getRow(1).data().length()}&quot;) // 100\r\n\r\nOn the second to last line, `X.getRow(0).data().length()` is, surprisingly, 200 not 100. On inspection this is because the structure returned by `data()` contains the entire matrix, i.e. both rows, concatenated.\r\n\r\nHow do I get just the actual first row of the X matrix into a Java (or Scala) `List`? I could take just the first 100 items of the 200-element &quot;first row&quot;, but that doesn&#39;t seem very elegant.\r\n","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Consider the following code, which uses the <a href=\"https://nd4j.org/\" rel=\"nofollow noreferrer\">ND4J library</a> to create a simpler version of <a href=\"https://github.com/scikit-learn/scikit-learn/blob/a24c8b46/sklearn/datasets/samples_generator.py#L639\" rel=\"nofollow noreferrer\">the \"moons\" test data set</a>:</p>\n\n<pre><code>val n = 100\nval n1: Int = n/2\nval n2: Int = n-n1\nval outerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n1)))\nval outerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n1)))\nval innerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\nval innerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\nval X: INDArray = Nd4j.vstack(\n  Nd4j.concat(1, outerX, innerX), // 1 x n\n  Nd4j.concat(1, outerY, innerY)  // 1 x n\n) // 2 x n\nval y: INDArray = Nd4j.hstack(\n  Nd4j.zeros(n1), // 1 x n1\n  Nd4j.ones(n2)   // 1 x n2\n) // 1 x n\nprintln(s\"# y shape: ${y.shape().toList}\")                        // 1x100\nprintln(s\"# y data length: ${y.data().length()}\")                 // 100\nprintln(s\"# X shape: ${X.shape().toList}\")                        // 2x100\nprintln(s\"# X row 0 shape: ${X.getRow(0).shape().toList}\")        // 1x100\nprintln(s\"# X row 1 shape: ${X.getRow(1).shape().toList}\")        // 1x100\nprintln(s\"# X row 0 data length: ${X.getRow(0).data().length()}\") // 200    &lt;- !\nprintln(s\"# X row 1 data length: ${X.getRow(1).data().length()}\") // 100\n</code></pre>\n\n<p>On the second to last line, <code>X.getRow(0).data().length()</code> is, surprisingly, 200 not 100. On inspection this is because the structure returned by <code>data()</code> contains the entire matrix, i.e. both rows, concatenated.</p>\n\n<p>How do I get just the actual first row of the X matrix into a Java (or Scala) <code>List</code>? I could take just the first 100 items of the 200-element \"first row\", but that doesn't seem very elegant.</p>\n"},{"tags":["java","gradle","build","build.gradle","gradlew"],"owner":{"account_id":17050088,"reputation":11,"user_id":12335937,"display_name":"Bharath N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696940596,"creation_date":1696940596,"question_id":77265747,"body_markdown":"I tried to search this error clue, the closest i get this gradle forum where they discuss about enforcePlatform to be possible solution but we are no using any &quot;platform&quot; in our build gradle scripts.\r\nAnd every time i run any gradlew command i get this message and build takes for hours which normally it completes in few minutes.\r\n\r\nAny leads or clue are much appreciated. Thank you!!\r\n\r\nthis the gradlew version\r\n\r\n\r\n------------------------------------------------------------\r\nGradle 6.8.3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-02-22 16:13:28 UTC\r\nRevision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78\r\n\r\nKotlin:       1.4.20\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM:          11.0.19 (Eclipse Adoptium 11.0.19+7)\r\nOS:           Mac OS X 14.0 aarch64\r\n\r\n```\r\nThe dependency resolution engine wasn&#39;t able to find a version of module org.apache.httpcomponents:httpasyncclient which satisfied all requirements because the graph wasn&#39;t stable enough. The highest version was selected in order to stabilize selection.\r\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\r\nThe dependency resolution engine wasn&#39;t able to find a version of module org.apache.httpcomponents:httpcore-nio which satisfied all requirements because the graph wasn&#39;t stable enough. The highest version was selected in order to stabilize selection.\r\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\r\n```\r\n\r\nhttps://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872\r\nchecked above forum not helpful.","title":"Gradlew dependeny resolution stuck for ever","body":"<p>I tried to search this error clue, the closest i get this gradle forum where they discuss about enforcePlatform to be possible solution but we are no using any &quot;platform&quot; in our build gradle scripts.\nAnd every time i run any gradlew command i get this message and build takes for hours which normally it completes in few minutes.</p>\n<p>Any leads or clue are much appreciated. Thank you!!</p>\n<p>this the gradlew version</p>\n<hr />\n<h2>Gradle 6.8.3</h2>\n<p>Build time:   2021-02-22 16:13:28 UTC\nRevision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78</p>\n<p>Kotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          11.0.19 (Eclipse Adoptium 11.0.19+7)\nOS:           Mac OS X 14.0 aarch64</p>\n<pre><code>The dependency resolution engine wasn't able to find a version of module org.apache.httpcomponents:httpasyncclient which satisfied all requirements because the graph wasn't stable enough. The highest version was selected in order to stabilize selection.\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\nThe dependency resolution engine wasn't able to find a version of module org.apache.httpcomponents:httpcore-nio which satisfied all requirements because the graph wasn't stable enough. The highest version was selected in order to stabilize selection.\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\n</code></pre>\n<p><a href=\"https://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872</a>\nchecked above forum not helpful.</p>\n"},{"tags":["java","spring-boot","github","github-actions"],"owner":{"account_id":28730679,"reputation":1,"user_id":22002709,"display_name":"Mert İzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696940386,"creation_date":1696940386,"question_id":77265724,"body_markdown":"I have a workflow to do CI and CD work, but the problem is that my jar file, which is compiled and packaged during CI, cannot be found in the packaged folder when it will be built. I think this is because two workflows run in separate work environments, and the operation performed in one of them is deleted after the job is completed. So, my main problem here is that my worfklows do not work synchronously, and the CD must continue from where the CI process ends. By the way, my project is a spring boot project. I hope I could express myself well.[[[[enter image description here](https://i.stack.imgur.com/YsyZl.png)](https://i.stack.imgur.com/M5c3b.png)](https://i.stack.imgur.com/GTm3g.png)](https://i.stack.imgur.com/he0mA.png)\r\n\r\nI tried using github artifact, but the same problem persisted. In the photos I added, you can see how I tried to use the github artifact.","title":"buildx failed with: ERROR: failed to solve: failed to compute cache key: failed to calculate checksum no such file or directory","body":"<p>I have a workflow to do CI and CD work, but the problem is that my jar file, which is compiled and packaged during CI, cannot be found in the packaged folder when it will be built. I think this is because two workflows run in separate work environments, and the operation performed in one of them is deleted after the job is completed. So, my main problem here is that my worfklows do not work synchronously, and the CD must continue from where the CI process ends. By the way, my project is a spring boot project. I hope I could express myself well.[[[<a href=\"https://i.stack.imgur.com/YsyZl.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/M5c3b.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/M5c3b.png</a>)](<a href=\"https://i.stack.imgur.com/GTm3g.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GTm3g.png</a>)](<a href=\"https://i.stack.imgur.com/he0mA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/he0mA.png</a>)</p>\n<p>I tried using github artifact, but the same problem persisted. In the photos I added, you can see how I tried to use the github artifact.</p>\n"},{"tags":["java","android","dex","smali"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546914384,"post_id":54084470,"comment_id":95002165,"body_markdown":"Which `v2` register?","body":"Which <code>v2</code> register?"},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546914980,"post_id":54084470,"comment_id":95002247,"body_markdown":"Sorry I missed. I enter an indication in the code, go to the end. 3 lines after &quot;const-string v2,&quot; Key: &quot;&quot;.","body":"Sorry I missed. I enter an indication in the code, go to the end. 3 lines after &quot;const-string v2,&quot; Key: &quot;&quot;."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915156,"post_id":54084470,"comment_id":95002275,"body_markdown":"Trying to Toast `v2` from that point will result in an error. Are you sure you don&#39;t mean to Toast `v1` (your StringBuilder) after calling `toString()` on it?","body":"Trying to Toast <code>v2</code> from that point will result in an error. Are you sure you don&#39;t mean to Toast <code>v1</code> (your StringBuilder) after calling <code>toString()</code> on it?"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915421,"post_id":54084470,"comment_id":95002312,"body_markdown":"You also can&#39;t show Toasts without a Context, which that class doesn&#39;t have.","body":"You also can&#39;t show Toasts without a Context, which that class doesn&#39;t have."},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546915679,"post_id":54084470,"comment_id":95002353,"body_markdown":"Where should Trying to Toast be? In my code I have 4 variables that contain: &quot;Sector&quot;, &quot;Key Type&quot; and &quot;Key&quot;. Then each one is completed with more text. I want to show my variable &quot;Key&quot; in a message","body":"Where should Trying to Toast be? In my code I have 4 variables that contain: &quot;Sector&quot;, &quot;Key Type&quot; and &quot;Key&quot;. Then each one is completed with more text. I want to show my variable &quot;Key&quot; in a message"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915716,"post_id":54084470,"comment_id":95002363,"body_markdown":"You want to literally just toast &quot;Key: &quot;?","body":"You want to literally just toast &quot;Key: &quot;?"},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546916266,"post_id":54084470,"comment_id":95002464,"body_markdown":"No, in the next 3 lines after &quot;Key: &quot; more information is added to this variable. I want Toast this variable with all the information .. I am going to add my Java code to the post.","body":"No, in the next 3 lines after &quot;Key: &quot; more information is added to this variable. I want Toast this variable with all the information .. I am going to add my Java code to the post."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546916443,"post_id":54084470,"comment_id":95002502,"body_markdown":"So you want to Toast `stringBuilder2`? No matter what, though, you still can&#39;t Toast without a Context Object, which you don&#39;t have.","body":"So you want to Toast <code>stringBuilder2</code>? No matter what, though, you still can&#39;t Toast without a Context Object, which you don&#39;t have."},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546917165,"post_id":54084470,"comment_id":95002638,"body_markdown":"Yes I want to Toast stringBuilder2. Ok I try to add Context Object. Thanks you!","body":"Yes I want to Toast stringBuilder2. Ok I try to add Context Object. Thanks you!"}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548518721,"creation_date":1548518721,"answer_id":54380117,"question_id":54084470,"body_markdown":"You can generate Smali code from Java just like from any Android App. Therefore you can simply write a very small Android app that contains your code. \r\n\r\nCreate a simple app in AndroidStudio that contains the code. Build the app and the decompile the apk file using `apktool` and you have your Java code converted to Smali code. \r\n\r\nThe easiest way should be to create a new function that can then be injected into the existing Smali code and called from an existing function.\r\n\r\nOr the same way but using some shortcuts:\r\n\r\n.java --&gt; .class --&gt; dex -&gt; smali\r\n\r\nCompile Java to a class file (AFAIR you have to use Java 7 as target). Then convert the code to a dex file using `dx` (java -jar `dx.jar`) tool from Android SDK. And in the end decompile it with `apktool`.","title":"Add message to Smali file OR convert Java to Smali","body":"<p>You can generate Smali code from Java just like from any Android App. Therefore you can simply write a very small Android app that contains your code. </p>\n\n<p>Create a simple app in AndroidStudio that contains the code. Build the app and the decompile the apk file using <code>apktool</code> and you have your Java code converted to Smali code. </p>\n\n<p>The easiest way should be to create a new function that can then be injected into the existing Smali code and called from an existing function.</p>\n\n<p>Or the same way but using some shortcuts:</p>\n\n<p>.java --> .class --> dex -> smali</p>\n\n<p>Compile Java to a class file (AFAIR you have to use Java 7 as target). Then convert the code to a dex file using <code>dx</code> (java -jar <code>dx.jar</code>) tool from Android SDK. And in the end decompile it with <code>apktool</code>.</p>\n"}],"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696940287,"creation_date":1546914310,"question_id":54084470,"body_markdown":"Hi I want to add a messsage into this Smali file but I dont understad how its works. I cant convert my Java code to Smali.\r\n\r\nI want to show my V2 variable. I Try this: \r\ninvoke-virtual {v2}, Landroid/widget/Toast;-&gt;show()V\r\n\r\nBut doesnt work... The app crashes when start. Thanks you, I apreciate any help!\r\n\r\n\r\nThe Entery code:\r\n\r\n\r\n    .class public final Lcom/sube/subemobileclient/b/b/b/b/b/a$a;\r\n    .super Ljava/lang/Object;\r\n    \r\n    \r\n    # annotations\r\n    .annotation system Ldalvik/annotation/EnclosingClass;\r\n        value = Lcom/sube/subemobileclient/b/b/b/b/b/a;\r\n    .end annotation\r\n    \r\n    .annotation system Ldalvik/annotation/InnerClass;\r\n        accessFlags = 0x9\r\n        name = &quot;a&quot;\r\n    .end annotation\r\n    \r\n    \r\n    # instance fields\r\n    .field public a:B\r\n    \r\n    .field public b:B\r\n    \r\n    .field public c:[B\r\n    \r\n    \r\n    # direct methods\r\n    .method public constructor &lt;init&gt;()V\r\n        .locals 0\r\n    \r\n        invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\r\n    \r\n        return-void\r\n    .end method\r\n    \r\n    .method public constructor &lt;init&gt;(BB[B)V\r\n        .locals 0\r\n    \r\n        invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\r\n    \r\n        iput-byte p1, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\r\n    \r\n        iput-byte p2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\r\n    \r\n        iput-object p3, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\r\n    \r\n        return-void\r\n    .end method\r\n    \r\n    \r\n    # virtual methods\r\n    .method public final toString()Ljava/lang/String;\r\n        .locals 3\r\n    \r\n        new-instance v0, Ljava/lang/StringBuilder;\r\n    \r\n        invoke-direct {v0}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Sector: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Key Type: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Key: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-object v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\r\n    \r\n        invoke-static {v2}, Ljava/util/Arrays;-&gt;toString([B)Ljava/lang/String;\r\n\r\n\r\n\r\n\r\n\r\n        **HEREHEREHERE**  So message to display = &quot;Key: ....&quot; \r\n\r\n\r\n\r\n    \r\n        move-result-object v2\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v0\r\n    \r\n    .end method\r\n\r\n\r\n\r\n\r\nJAVA\r\n\r\n\r\n       public final String toString() {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            StringBuilder stringBuilder2 = new StringBuilder(&quot;Sector: &quot;);\r\n            stringBuilder2.append(this.f892a);\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            stringBuilder2 = new StringBuilder(&quot;Key Type: &quot;);\r\n            stringBuilder2.append(this.f893b);\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            stringBuilder2 = new StringBuilder(&quot;Key: &quot;);\r\n            stringBuilder2.append(Arrays.toString(this.f894c));\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            return stringBuilder.toString();\r\n        }\r\n","title":"Add message to Smali file OR convert Java to Smali","body":"<p>Hi I want to add a messsage into this Smali file but I dont understad how its works. I cant convert my Java code to Smali.</p>\n\n<p>I want to show my V2 variable. I Try this: \ninvoke-virtual {v2}, Landroid/widget/Toast;->show()V</p>\n\n<p>But doesnt work... The app crashes when start. Thanks you, I apreciate any help!</p>\n\n<p>The Entery code:</p>\n\n<pre><code>.class public final Lcom/sube/subemobileclient/b/b/b/b/b/a$a;\n.super Ljava/lang/Object;\n\n\n# annotations\n.annotation system Ldalvik/annotation/EnclosingClass;\n    value = Lcom/sube/subemobileclient/b/b/b/b/b/a;\n.end annotation\n\n.annotation system Ldalvik/annotation/InnerClass;\n    accessFlags = 0x9\n    name = \"a\"\n.end annotation\n\n\n# instance fields\n.field public a:B\n\n.field public b:B\n\n.field public c:[B\n\n\n# direct methods\n.method public constructor &lt;init&gt;()V\n    .locals 0\n\n    invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\n\n    return-void\n.end method\n\n.method public constructor &lt;init&gt;(BB[B)V\n    .locals 0\n\n    invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\n\n    iput-byte p1, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\n\n    iput-byte p2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\n\n    iput-object p3, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\n\n    return-void\n.end method\n\n\n# virtual methods\n.method public final toString()Ljava/lang/String;\n    .locals 3\n\n    new-instance v0, Ljava/lang/StringBuilder;\n\n    invoke-direct {v0}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Sector: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Key Type: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Key: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-object v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\n\n    invoke-static {v2}, Ljava/util/Arrays;-&gt;toString([B)Ljava/lang/String;\n\n\n\n\n\n    **HEREHEREHERE**  So message to display = \"Key: ....\" \n\n\n\n\n    move-result-object v2\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v0\n\n.end method\n</code></pre>\n\n<p>JAVA</p>\n\n<pre><code>   public final String toString() {\n        StringBuilder stringBuilder = new StringBuilder();\n        StringBuilder stringBuilder2 = new StringBuilder(\"Sector: \");\n        stringBuilder2.append(this.f892a);\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        stringBuilder2 = new StringBuilder(\"Key Type: \");\n        stringBuilder2.append(this.f893b);\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        stringBuilder2 = new StringBuilder(\"Key: \");\n        stringBuilder2.append(Arrays.toString(this.f894c));\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        return stringBuilder.toString();\n    }\n</code></pre>\n"},{"tags":["java","performance","apache-spark","apache-kafka","inputstream"],"owner":{"account_id":3830476,"reputation":1,"user_id":3176131,"display_name":"user3176131"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696940004,"creation_date":1696940004,"question_id":77265675,"body_markdown":"Setting spark.streaming.kafka.maxRatePerPartition:100 and ingesting the 10000 records , it should take 100 records per second ,\r\nbut consumes all 10000 records\r\n","title":"spark + kafka inputstream &quot;spark.streaming.kafka.maxRatePerPartition&quot;","body":"<p>Setting spark.streaming.kafka.maxRatePerPartition:100 and ingesting the 10000 records , it should take 100 records per second ,\nbut consumes all 10000 records</p>\n"},{"tags":["java","android","printing","android-ndk","brother-bpac"],"answers":[{"tags":[],"owner":{"account_id":2489263,"reputation":91,"user_id":2167097,"display_name":"fidschau"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520522929,"creation_date":1520522929,"answer_id":49176744,"question_id":45623320,"body_markdown":"I had a similar problem today, it turns out the android.permission.WRITE_EXTERNAL_STORAGE permission was not granted. If you are running on and Android 6 or greater, check your [run time permissions][1] for writing to the external storage. Declaring the permission in the manifest is not enough. The brother documentation hints at this at the end of their [manual][2].\r\n\r\n&gt; 8.3. Android 6 compatibility Since Android 6.0, Users are allowed to change the application’s permissions after installation. Permission to\r\n&gt; access Android external storage must be granted to use this\r\n&gt; application.\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting.html\r\n  [2]: http://www.brother.com/product/dev/mobile/android/index.htm","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>I had a similar problem today, it turns out the android.permission.WRITE_EXTERNAL_STORAGE permission was not granted. If you are running on and Android 6 or greater, check your <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"noreferrer\">run time permissions</a> for writing to the external storage. Declaring the permission in the manifest is not enough. The brother documentation hints at this at the end of their <a href=\"http://www.brother.com/product/dev/mobile/android/index.htm\" rel=\"noreferrer\">manual</a>.</p>\n\n<blockquote>\n  <p>8.3. Android 6 compatibility Since Android 6.0, Users are allowed to change the application’s permissions after installation. Permission to\n  access Android external storage must be granted to use this\n  application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3475864,"reputation":923,"user_id":2909074,"accept_rate":73,"display_name":"marson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696939618,"creation_date":1696939618,"answer_id":77265629,"question_id":45623320,"body_markdown":"Here is a list of steps I&#39;ve done in order to make the printing functional and get rid of this error. I am using the newest Brother SDK 4.6.4.\r\n\r\n**1. AndroidManifest.xml**\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\n---\r\n\r\n**2. Runtime request for permission**\r\n\r\n```\r\nif (context.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n  ActivityCompat.requestPermissions(activity, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 8);\r\n}\r\n```\r\n\r\n---\r\n\r\n**3. build.gradle**\r\n\r\n```\r\ntargetSdkVersion = 32\r\n```\r\n(lowering to 32 helped me to show the permissions popup on a newer device)\r\n\r\n---\r\n\r\n**4. [This one did the trick] Adding `workPath` to printer info**\r\n\r\n```\r\nPrinterInfo printInfo = printer.getPrinterInfo();\r\nprintInfo.workPath = &quot;storage/emulated/0/Download/&quot;;\r\n```\r\n\r\n\r\nBrothers at Brother should work on that developer experience. I hope this helps!","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>Here is a list of steps I've done in order to make the printing functional and get rid of this error. I am using the newest Brother SDK 4.6.4.</p>\n<p><strong>1. AndroidManifest.xml</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<hr />\n<p><strong>2. Runtime request for permission</strong></p>\n<pre><code>if (context.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n  ActivityCompat.requestPermissions(activity, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 8);\n}\n</code></pre>\n<hr />\n<p><strong>3. build.gradle</strong></p>\n<pre><code>targetSdkVersion = 32\n</code></pre>\n<p>(lowering to 32 helped me to show the permissions popup on a newer device)</p>\n<hr />\n<p><strong>4. [This one did the trick] Adding <code>workPath</code> to printer info</strong></p>\n<pre><code>PrinterInfo printInfo = printer.getPrinterInfo();\nprintInfo.workPath = &quot;storage/emulated/0/Download/&quot;;\n</code></pre>\n<p>Brothers at Brother should work on that developer experience. I hope this helps!</p>\n"}],"owner":{"account_id":11322734,"reputation":101,"user_id":8302689,"display_name":"Iam Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696939618,"creation_date":1502398499,"question_id":45623320,"body_markdown":"Im trying to print a image in Brother SDK in my app.\r\n\r\nthis is my code:\r\n\r\n           `myPrinterInfo = myPrinter.getPrinterInfo();\r\n            myPrinterInfo.printerModel = PrinterInfo.Model.QL_810W;\r\n            myPrinterInfo.port = PrinterInfo.Port.NET;\r\n            myPrinterInfo.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\r\n            myPrinterInfo.paperSize = PrinterInfo.PaperSize.CUSTOM;\r\n            myPrinterInfo.labelNameIndex = 5;\r\n            myPrinterInfo.isAutoCut = false;\r\n            myPrinterInfo.isCutAtEnd = false;\r\n            myPrinterInfo.orientation = PrinterInfo.Orientation.PORTRAIT;\r\n            myPrinterInfo.valign = PrinterInfo.VAlign.TOP;\r\n            myPrinterInfo.align = PrinterInfo.Align.LEFT;\r\n            myPrinterInfo.halftone = PrinterInfo.Halftone.THRESHOLD;\r\n            myPrinterInfo.ipAddress = &quot;192.168.1.146&quot;;\r\n            myPrinterInfo.thresholdingValue = 127;\r\n            myPrinterInfo.pjCarbon = false;\r\n            myPrinterInfo.pjDensity = 5;\r\n            myPrinterInfo.pjFeedMode = PrinterInfo.PjFeedMode.PJ_FEED_MODE_FIXEDPAGE;\r\n            myPrinterInfo.pjPaperKind = PJ_CUT_PAPER;\r\n            myPrinterInfo.rollPrinterCase = PrinterInfo.PjRollCase.PJ_ROLLCASE_OFF;\r\n            myPrinterInfo.paperPosition = PrinterInfo.Align.CENTER;\r\n            myPrinterInfo.numberOfCopies = 1;\r\n\r\n\r\nIm using the 62mmx100mm paper roll and I got this error message:\r\n\r\n&gt; JNI DETECTED ERROR IN APPLICATION: GetStringUTFChars received NULL jstring\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     in call to GetStringUTFChars\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     from boolean com.brother.ptouch.sdk.JNIWrapper.writeByteInFile(int[], int, java.lang.String, boolean)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art: &quot;AsyncTask #1&quot; prio=5 tid=10 Runnable\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x12c99460 self=0xe9594500\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | sysTid=31584 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xe0b65930\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | state=R schedstat=( 80462688 29252686 258 ) utm=5 stm=3 core=2 HZ=100\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | stack=0xe0a63000-0xe0a65000 stackSize=1038KB\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #00 pc 0035adcf  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #01 pc 0033bdeb  /system/lib/libart.so (_ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #02 pc 0024ef71  /system/lib/libart.so (_ZN3art9JavaVMExt8JniAbortEPKcS2_+900)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #03 pc 0024f607  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortVEPKcS2_St9__va_list+54)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #04 pc 000fbe5d  /system/lib/libart.so (_ZN3art11ScopedCheck6AbortFEPKcz+28)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #05 pc 001003b9  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE.constprop.95+2676)\r\n08-10 17:33:18.883 31333-31584/br.com.squarebits.brothertest E/art:   native: #06 pc 00108cd5  /system/lib/libart.so (_ZN3art8CheckJNI17GetStringUTFCharsEP7_JNIEnvP8_jstringPh+376)\r\n\r\n\r\n\r\nIf anyone knows how to fix it, please help me :(","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>Im trying to print a image in Brother SDK in my app.</p>\n\n<p>this is my code:</p>\n\n<pre><code>       `myPrinterInfo = myPrinter.getPrinterInfo();\n        myPrinterInfo.printerModel = PrinterInfo.Model.QL_810W;\n        myPrinterInfo.port = PrinterInfo.Port.NET;\n        myPrinterInfo.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\n        myPrinterInfo.paperSize = PrinterInfo.PaperSize.CUSTOM;\n        myPrinterInfo.labelNameIndex = 5;\n        myPrinterInfo.isAutoCut = false;\n        myPrinterInfo.isCutAtEnd = false;\n        myPrinterInfo.orientation = PrinterInfo.Orientation.PORTRAIT;\n        myPrinterInfo.valign = PrinterInfo.VAlign.TOP;\n        myPrinterInfo.align = PrinterInfo.Align.LEFT;\n        myPrinterInfo.halftone = PrinterInfo.Halftone.THRESHOLD;\n        myPrinterInfo.ipAddress = \"192.168.1.146\";\n        myPrinterInfo.thresholdingValue = 127;\n        myPrinterInfo.pjCarbon = false;\n        myPrinterInfo.pjDensity = 5;\n        myPrinterInfo.pjFeedMode = PrinterInfo.PjFeedMode.PJ_FEED_MODE_FIXEDPAGE;\n        myPrinterInfo.pjPaperKind = PJ_CUT_PAPER;\n        myPrinterInfo.rollPrinterCase = PrinterInfo.PjRollCase.PJ_ROLLCASE_OFF;\n        myPrinterInfo.paperPosition = PrinterInfo.Align.CENTER;\n        myPrinterInfo.numberOfCopies = 1;\n</code></pre>\n\n<p>Im using the 62mmx100mm paper roll and I got this error message:</p>\n\n<blockquote>\n  <p>JNI DETECTED ERROR IN APPLICATION: GetStringUTFChars received NULL jstring\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     in call to GetStringUTFChars\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     from boolean com.brother.ptouch.sdk.JNIWrapper.writeByteInFile(int[], int, java.lang.String, boolean)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art: \"AsyncTask #1\" prio=5 tid=10 Runnable\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | group=\"main\" sCount=0 dsCount=0 obj=0x12c99460 self=0xe9594500\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | sysTid=31584 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xe0b65930\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | state=R schedstat=( 80462688 29252686 258 ) utm=5 stm=3 core=2 HZ=100\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | stack=0xe0a63000-0xe0a65000 stackSize=1038KB\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | held mutexes= \"mutator lock\"(shared held)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #00 pc 0035adcf  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #01 pc 0033bdeb  /system/lib/libart.so (_ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #02 pc 0024ef71  /system/lib/libart.so (<em>ZN3art9JavaVMExt8JniAbortEPKcS2</em>+900)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #03 pc 0024f607  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortVEPKcS2_St9__va_list+54)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #04 pc 000fbe5d  /system/lib/libart.so (_ZN3art11ScopedCheck6AbortFEPKcz+28)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #05 pc 001003b9  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE.constprop.95+2676)\n  08-10 17:33:18.883 31333-31584/br.com.squarebits.brothertest E/art:   native: #06 pc 00108cd5  /system/lib/libart.so (_ZN3art8CheckJNI17GetStringUTFCharsEP7_JNIEnvP8_jstringPh+376)</p>\n</blockquote>\n\n<p>If anyone knows how to fix it, please help me :(</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":8640700,"reputation":2237,"user_id":6469477,"display_name":"Moe Ghafari"},"score":2,"creation_date":1495227027,"post_id":44076480,"comment_id":75181549,"body_markdown":"Possible duplicate of [wait.until(ExpectedConditions) doesnt work any more in selenium](http://stackoverflow.com/questions/42421148/wait-untilexpectedconditions-doesnt-work-any-more-in-selenium)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/42421148/wait-untilexpectedconditions-doesnt-work-any-more-in-selenium\">wait.until(ExpectedConditions) doesnt work any more in selenium</a>"}],"answers":[{"tags":[],"owner":{"account_id":5920017,"reputation":144,"user_id":4657593,"display_name":"sideshowmanny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513615882,"creation_date":1495228140,"answer_id":44079017,"question_id":44076480,"body_markdown":"Selenium 3.1.0 onwards needs guava 21 for the wait.until method.\r\nTry adding this to your pom, preferable near the top in case another dependency is importing and older version of guava:\r\n      \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>Selenium 3.1.0 onwards needs guava 21 for the wait.until method.\nTry adding this to your pom, preferable near the top in case another dependency is importing and older version of guava:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9461605,"reputation":177,"user_id":7035187,"accept_rate":60,"display_name":"mohamed faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495284044,"creation_date":1495284044,"answer_id":44085988,"question_id":44076480,"body_markdown":"I think your problem is in this line of code \r\n\r\n    WebElement element=wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\n\r\nAs Wait.until is used to tell your web driver to wait until a certain action to occur which is visibility of The element located by ID = &quot;dnn_dnnUser_enhancedRegisterLink&quot; in your case \r\nbut this method Doesn&#39;t return a web element object so you can&#39;t use it to define a web element \r\n\r\nInstead you just need to write :\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\n","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>I think your problem is in this line of code </p>\n\n<pre><code>WebElement element=wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n\n<p>As Wait.until is used to tell your web driver to wait until a certain action to occur which is visibility of The element located by ID = \"dnn_dnnUser_enhancedRegisterLink\" in your case \nbut this method Doesn't return a web element object so you can't use it to define a web element </p>\n\n<p>Instead you just need to write :</p>\n\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534151528,"creation_date":1534151528,"answer_id":51818930,"question_id":44076480,"body_markdown":"**It worked with latest jars:**\r\n\r\n    Appium 1.8.1\r\n    Java-client 5.0.4\r\n    Selenium-java 3.7.1","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p><strong>It worked with latest jars:</strong></p>\n\n<pre><code>Appium 1.8.1\nJava-client 5.0.4\nSelenium-java 3.7.1\n</code></pre>\n"}],"owner":{"account_id":2763820,"reputation":7837,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11532,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696939395,"creation_date":1495217587,"question_id":44076480,"body_markdown":"i am trying to run the below selenium code :\r\n\r\n\t        WebDriver driver;\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Driver\\\\chromedriver.exe&quot;);\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t\tdriver.get(&quot;http://www.behsad.com/nportal/Default.aspx?tabid=55&quot;);\r\n\t\t\t                \r\n\t\t\tdriver.findElement(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)).click();\r\n\t\t\t\r\n\t\t\tWebDriverWait wait=new WebDriverWait(driver, 30);\r\n\t\t\tWebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\t                                By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\t\t\telement.click();\r\n\r\nhere is my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand at the end there is the imports of the code:\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nthe code gets stuck in the line:\r\n\r\n    WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n    \t\t\t                                By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\nand it complains with:\r\n\r\n    java.lang.NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until(Lcom/google/common/base/Function;)Ljava/lang/Object;","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>i am trying to run the below selenium code :</p>\n\n<pre><code>        WebDriver driver;\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Driver\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n        driver.get(\"http://www.behsad.com/nportal/Default.aspx?tabid=55\");\n\n        driver.findElement(By.id(\"dnn_dnnUser_enhancedRegisterLink\")).click();\n\n        WebDriverWait wait=new WebDriverWait(driver, 30);\n        WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\n                                        By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n        element.click();\n</code></pre>\n\n<p>here is my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n    &lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and at the end there is the imports of the code:</p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n\n<p>the code gets stuck in the line:</p>\n\n<pre><code>WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\n                                            By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n\n<p>and it complains with:</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until(Lcom/google/common/base/Function;)Ljava/lang/Object;\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver","nosuchmethoderror"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1696436638,"post_id":77231316,"comment_id":136153664,"body_markdown":"*java.lang.NoSuchMethorError:* mostly indicates incompatible jars in your classpath. But hard to say which one without a complete stacktrace","body":"<i>java.lang.NoSuchMethorError:</i> mostly indicates incompatible jars in your classpath. But hard to say which one without a complete stacktrace"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696485063,"post_id":77231316,"comment_id":136159362,"body_markdown":"*What is that?* What is what?","body":"<i>What is that?</i> What is what?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696828751,"post_id":77231316,"comment_id":136197901,"body_markdown":"Looks like the version of appache-poi and log4j are incompatible","body":"Looks like the version of appache-poi and log4j are incompatible"},{"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"score":0,"creation_date":1696938645,"post_id":77231316,"comment_id":136213985,"body_markdown":"I fixed it.. thanks for help","body":"I fixed it.. thanks for help"}],"answers":[{"tags":[],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938579,"creation_date":1696938579,"answer_id":77265501,"question_id":77231316,"body_markdown":"I fixed it by including another dependency in the pom.xml, by the name of SLF4J Reload4j Provider 2.0.9\r\n\r\n","title":"NoSuchMethodError in Java Selenium Eclipse...can you help me debug it?","body":"<p>I fixed it by including another dependency in the pom.xml, by the name of SLF4J Reload4j Provider 2.0.9</p>\n"}],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696938579,"creation_date":1696436473,"question_id":77231316,"body_markdown":"Here is the full code, the error is coming in the line [&quot;xlutil.setCellData(...)&quot;;], I have highlighted it with the comment &quot;ERROR HERE&quot;. The rest of the code is simply to navigate to the page where there is a webtable. The purpose is to copy a value from the webtable into an excel file...\r\n\r\nBut the thing is, I copied the entire file from another laptop, where it worked seamlessly. The function is completely same in both systems, and yet there is this error only in this laptop. \r\n\r\nThe error exactly reads: \r\nException in thread &quot;main&quot; java.lang.NoSuchMethorError: &#39;org.apache.logging.log4j.LogBuilder org.apache.log4j.Logger.atDebug()&#39;\r\n\r\n\r\n\r\n```\r\npackage packageOne;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.Select;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.locators.RelativeLocator;\r\n\r\npublic class shilpi {\r\n\tpublic static void main(String[] args) throws Throwable {\r\n\t\tint rows;\r\n\t\tString lgrpath;\r\n\t\tfloat[] lgr = { 0, 0, 0, 0, 0, 0, 0, 0 };\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\tString[] acc = { &quot;I6&quot;, &quot;I7&quot;, &quot;I8&quot;, &quot;I9&quot;, &quot;I501&quot;, &quot;I201&quot;, &quot;I88&quot;, &quot;I4&quot; };\r\n\t\tString url = &quot;https://bo.competentfinman.com:1467/capexweb/capexweb/&quot;;\r\n\t\tdriver.get(url);\r\n\t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;main&quot;)));\r\n\t\tdriver.findElement(By.name(&quot;dfuserid&quot;)).sendKeys(&quot;**&quot;);\r\n\t\tdriver.findElement(By.name(&quot;dfpassword&quot;)).sendKeys(&quot;********&quot;);\r\n\t\tdriver.findElement(By.name(&quot;B1&quot;)).click();\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div[1]/a&quot;)));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/a&quot;)).click(); // Continue &gt;&gt;\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\tdriver.findElement(\r\n\t\t\t\tBy.cssSelector(&quot;#Table2&gt;tbody:nth-child(1)&gt;tr:nth-child(1)&gt;td:nth-child(1)&gt;input:nth-child(3)&quot;))\r\n\t\t\t\t.click(); // NSE-FO 2023-24 \r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;contents&quot;));\r\n\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#itemTextLink3&quot;)));\r\n\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\r\n\t\t}\r\n\t\tdriver.findElement(By.cssSelector(&quot;#itemTextLink3&quot;)).click(); // Financial\r\n\t\tdriver.findElement(By.id(&quot;itemTextLink6&quot;)).click(); // Fin. Lgr.\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tdriver.switchTo().defaultContent();\r\n\t\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));\r\n\t\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\t}\r\n\t\t\tSelect dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));               \r\n\t\t\tdropdown.selectByValue(acc[i]);\r\n\t\t\tdriver.findElement(By.name(&quot;B1&quot;)).click(); // GO\r\n\t\t\tdriver.switchTo().defaultContent();\r\n\t\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\trows = driver.findElements(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)).size();\r\n\t\t\trows--;\r\n\t\t\tlgrpath = (&quot;/html/body/table[2]/tbody/tr[&quot; + rows + &quot;]/td[2]/b&quot;);\r\n\r\n\t\t\tlgr[i] = Float.parseFloat(driver.findElement(By.xpath(lgrpath)).getText());\r\n\t\t\tXLUtility xlutil = new XLUtility(&quot;\\\\C:\\\\Users\\\\Acer A515\\\\Desktop\\\\Book1.xlsm&quot;);\r\n\t\t\t// **ERROR HERE**\r\n            xlutil.setCellData(&quot;sheetone&quot;, i, 0, acc[i]);\r\n\t\t\txlutil.setCellData(&quot;sheetone&quot;, i, 1, lgr[i]);\r\n\t\t\tSystem.out.println(&quot;Shoved &quot; + lgr[i] + &quot; up yours&quot;);\r\n\r\n\t\t\t// Go back to go to next account:\r\n\t\t\tdriver.navigate().back();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried changing the file path before it, I tried changing the name of the function in both this class and the definition class. But nothing worked...\r\n\r\nHere is the list of errors at the bottom in Eclipse:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.apache.logging.log4j.LogBuilder org.apache.logging.log4j.Logger.atDebug()&#39;\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:309)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:160)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:130)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:565)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:745)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315)\r\n\tat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:289)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:285)\r\n\tat packageOne.XLUtility.setCellData(XLUtility.java:154)\r\n\tat packageOne.shilpi.main(shilpi.java:115)\r\n```\r\n\r\nI tried to redo the whole thing with a Java project, the same error came. Here is the stacktrace:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\r\n\tat JavaPackage.XLUtility.setCellData(XLUtility.java:153)\r\n\tat JavaPackage.shilpi.main(shilpi.java:110)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n```","title":"NoSuchMethodError in Java Selenium Eclipse...can you help me debug it?","body":"<p>Here is the full code, the error is coming in the line [&quot;xlutil.setCellData(...)&quot;;], I have highlighted it with the comment &quot;ERROR HERE&quot;. The rest of the code is simply to navigate to the page where there is a webtable. The purpose is to copy a value from the webtable into an excel file...</p>\n<p>But the thing is, I copied the entire file from another laptop, where it worked seamlessly. The function is completely same in both systems, and yet there is this error only in this laptop.</p>\n<p>The error exactly reads:\nException in thread &quot;main&quot; java.lang.NoSuchMethorError: 'org.apache.logging.log4j.LogBuilder org.apache.log4j.Logger.atDebug()'</p>\n<pre><code>package packageOne;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport java.time.Duration;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.locators.RelativeLocator;\n\npublic class shilpi {\n    public static void main(String[] args) throws Throwable {\n        int rows;\n        String lgrpath;\n        float[] lgr = { 0, 0, 0, 0, 0, 0, 0, 0 };\n        WebDriver driver = new FirefoxDriver();\n        WebDriverManager.firefoxdriver().setup();\n        String[] acc = { &quot;I6&quot;, &quot;I7&quot;, &quot;I8&quot;, &quot;I9&quot;, &quot;I501&quot;, &quot;I201&quot;, &quot;I88&quot;, &quot;I4&quot; };\n        String url = &quot;https://bo.competentfinman.com:1467/capexweb/capexweb/&quot;;\n        driver.get(url);\n        driver.switchTo().frame(driver.findElement(By.name(&quot;main&quot;)));\n        driver.findElement(By.name(&quot;dfuserid&quot;)).sendKeys(&quot;**&quot;);\n        driver.findElement(By.name(&quot;dfpassword&quot;)).sendKeys(&quot;********&quot;);\n        driver.findElement(By.name(&quot;B1&quot;)).click();\n        driver.switchTo().defaultContent();\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n        } catch (Exception e) {\n        }\n        try {\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div[1]/a&quot;)));\n        } catch (Exception e) {\n        }\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/a&quot;)).click(); // Continue &gt;&gt;\n        driver.switchTo().defaultContent();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n        } catch (Exception e) {\n        }\n        driver.findElement(\n                By.cssSelector(&quot;#Table2&gt;tbody:nth-child(1)&gt;tr:nth-child(1)&gt;td:nth-child(1)&gt;input:nth-child(3)&quot;))\n                .click(); // NSE-FO 2023-24 \n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        driver.switchTo().defaultContent();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;contents&quot;));\n        } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n        \n        }\n        try {\n            wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#itemTextLink3&quot;)));\n        } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n        \n        }\n        driver.findElement(By.cssSelector(&quot;#itemTextLink3&quot;)).click(); // Financial\n        driver.findElement(By.id(&quot;itemTextLink6&quot;)).click(); // Fin. Lgr.\n        for (int i = 0; i &lt; 8; i++) {\n            driver.switchTo().defaultContent();\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n            try {\n                wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n            } catch (Exception e) {\n            }\n            try {\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));\n            } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n            }\n            Select dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));               \n            dropdown.selectByValue(acc[i]);\n            driver.findElement(By.name(&quot;B1&quot;)).click(); // GO\n            driver.switchTo().defaultContent();\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n            try {\n                wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n            } catch (Exception e) {\n            }\n            try {\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)));\n            } catch (Exception e) {\n            }\n            rows = driver.findElements(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)).size();\n            rows--;\n            lgrpath = (&quot;/html/body/table[2]/tbody/tr[&quot; + rows + &quot;]/td[2]/b&quot;);\n\n            lgr[i] = Float.parseFloat(driver.findElement(By.xpath(lgrpath)).getText());\n            XLUtility xlutil = new XLUtility(&quot;\\\\C:\\\\Users\\\\Acer A515\\\\Desktop\\\\Book1.xlsm&quot;);\n            // **ERROR HERE**\n            xlutil.setCellData(&quot;sheetone&quot;, i, 0, acc[i]);\n            xlutil.setCellData(&quot;sheetone&quot;, i, 1, lgr[i]);\n            System.out.println(&quot;Shoved &quot; + lgr[i] + &quot; up yours&quot;);\n\n            // Go back to go to next account:\n            driver.navigate().back();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried changing the file path before it, I tried changing the name of the function in both this class and the definition class. But nothing worked...</p>\n<p>Here is the list of errors at the bottom in Eclipse:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.apache.logging.log4j.LogBuilder org.apache.logging.log4j.Logger.atDebug()'\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:309)\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:160)\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:130)\n    at org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:565)\n    at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:745)\n    at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315)\n    at org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:289)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:285)\n    at packageOne.XLUtility.setCellData(XLUtility.java:154)\n    at packageOne.shilpi.main(shilpi.java:115)\n</code></pre>\n<p>I tried to redo the whole thing with a Java project, the same error came. Here is the stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\n    at JavaPackage.XLUtility.setCellData(XLUtility.java:153)\n    at JavaPackage.shilpi.main(shilpi.java:110)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 2 more\n</code></pre>\n"},{"tags":["java","debugging","exception","logging","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":12324,"reputation":43314,"user_id":24195,"display_name":"Rob Di Marco"},"down_vote_count":1,"up_vote_count":327,"is_accepted":false,"score":326,"last_activity_date":1244038639,"creation_date":1244038543,"answer_id":945020,"question_id":944991,"body_markdown":"Yes, simply use\r\n\r\n    Thread.dumpStack()","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Yes, simply use</p>\n\n<pre><code>Thread.dumpStack()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1696938425,"creation_date":1244038572,"answer_id":945022,"question_id":944991,"body_markdown":"You can get a stack trace like this:\r\n\r\n    Throwable t = new Throwable();\r\n    t.printStackTrace();\r\n\r\nIf you want to access the frame, you can use `t.getStackTrace()` to get an array of stack frames.\r\n\r\nBe aware that this stacktrace (just like any other) may be missing some frames if the hotspot compiler has been busy optimizing things.","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can get a stack trace like this:</p>\n<pre><code>Throwable t = new Throwable();\nt.printStackTrace();\n</code></pre>\n<p>If you want to access the frame, you can use <code>t.getStackTrace()</code> to get an array of stack frames.</p>\n<p>Be aware that this stacktrace (just like any other) may be missing some frames if the hotspot compiler has been busy optimizing things.</p>\n"},{"tags":[],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"down_vote_count":2,"up_vote_count":90,"is_accepted":true,"score":88,"last_activity_date":1428570863,"creation_date":1244038784,"answer_id":945037,"question_id":944991,"body_markdown":"You can also try `Thread.getAllStackTraces()` to get a map of stack traces for all the threads that are alive.​​​​​​","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can also try <code>Thread.getAllStackTraces()</code> to get a map of stack traces for all the threads that are alive.​​​​​​</p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1244111018,"creation_date":1244042917,"answer_id":945407,"question_id":944991,"body_markdown":"If you want the trace for just the current thread (rather than all the threads in the system, as Ram&#39;s suggestion does), do:\r\n\r\nThread.currentThread().[getStackTrace()][1]\r\n\r\nTo find the caller, do:\r\n\r\n    private String getCallingMethodName() {\r\n        StackTraceElement callingFrame = Thread.currentThread().getStackTrace()[4];\r\n        return callingFrame.getMethodName();\r\n    }\r\n\r\nAnd call that method from within the method that needs to know who its caller is. However, a word of warning: the index of the calling frame within the list could vary according to the JVM! It all depends on how many layers of calls there are within getStackTrace before you hit the point where the trace is generated. A more robust solution would be to get the trace, and iterate over it looking for the frame for getCallingMethodName, then take two steps further up to find the true caller.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getStackTrace()","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>If you want the trace for just the current thread (rather than all the threads in the system, as Ram's suggestion does), do:</p>\n\n<p>Thread.currentThread().<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getStackTrace()\" rel=\"noreferrer\">getStackTrace()</a></p>\n\n<p>To find the caller, do:</p>\n\n<pre><code>private String getCallingMethodName() {\n    StackTraceElement callingFrame = Thread.currentThread().getStackTrace()[4];\n    return callingFrame.getMethodName();\n}\n</code></pre>\n\n<p>And call that method from within the method that needs to know who its caller is. However, a word of warning: the index of the calling frame within the list could vary according to the JVM! It all depends on how many layers of calls there are within getStackTrace before you hit the point where the trace is generated. A more robust solution would be to get the trace, and iterate over it looking for the frame for getCallingMethodName, then take two steps further up to find the true caller.</p>\n"},{"tags":[],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496156428,"creation_date":1244043507,"answer_id":945463,"question_id":944991,"body_markdown":"[HPROF Java Profiler][1]\r\n\r\nYou don&#39;t even have to do this in the code.  You can attach the Java HPROF to your process and at any point hit Control-\\ to output heap dump, running threads, etc . . . without mucking up your application code.  This is a bit outdated, Java 6 comes with the GUI jconsole, but I still find HPROF to be very useful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr008.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr008.html\" rel=\"nofollow noreferrer\">HPROF Java Profiler</a></p>\n\n<p>You don't even have to do this in the code.  You can attach the Java HPROF to your process and at any point hit Control-\\ to output heap dump, running threads, etc . . . without mucking up your application code.  This is a bit outdated, Java 6 comes with the GUI jconsole, but I still find HPROF to be very useful.</p>\n"},{"tags":[],"owner":{"account_id":20832,"reputation":6065,"user_id":50131,"accept_rate":100,"display_name":"Andrew Newdigate"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1244045078,"creation_date":1244045078,"answer_id":945583,"question_id":944991,"body_markdown":"You can also send a signal to the JVM to execute Thread.getAllStackTraces() on a running Java process by sending a QUIT signal to the process.\r\n\r\nOn Unix/Linux use:\r\n\r\n`kill -QUIT process_id`, where process_id is the process number of your Java program.\r\n\r\nOn Windows, you can press Ctrl-Break in the application, although you usually won&#39;t see this unless you&#39;re running a console process.\r\n\r\nJDK6 introduced another option, the jstack command, which will display the stack from any running JDK6 process on your computer:\r\n\r\n`jstack [-l] &lt;pid&gt;`\r\n\r\n\r\nThese options are very useful for applications which are running in a production environment and cannot be modified easily. They&#39;re especially useful for diagnosing runtime deadlocks or performance problems.\r\n\r\n[http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/][1]\r\n[http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html][2]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can also send a signal to the JVM to execute Thread.getAllStackTraces() on a running Java process by sending a QUIT signal to the process.</p>\n\n<p>On Unix/Linux use:</p>\n\n<p><code>kill -QUIT process_id</code>, where process_id is the process number of your Java program.</p>\n\n<p>On Windows, you can press Ctrl-Break in the application, although you usually won't see this unless you're running a console process.</p>\n\n<p>JDK6 introduced another option, the jstack command, which will display the stack from any running JDK6 process on your computer:</p>\n\n<p><code>jstack [-l] &lt;pid&gt;</code></p>\n\n<p>These options are very useful for applications which are running in a production environment and cannot be modified easily. They're especially useful for diagnosing runtime deadlocks or performance problems.</p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/\" rel=\"noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/</a>\n<a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html</a></p>\n"},{"tags":[],"owner":{"account_id":433957,"reputation":2917,"user_id":819606,"accept_rate":60,"display_name":"Ariel T"},"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1359644780,"creation_date":1359644780,"answer_id":14628854,"question_id":944991,"body_markdown":"Notice that Thread.dumpStack() actually throws an exception:\r\n\r\n\r\n    new Exception(&quot;Stack trace&quot;).printStackTrace();","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Notice that Thread.dumpStack() actually throws an exception:</p>\n\n<pre><code>new Exception(\"Stack trace\").printStackTrace();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":924881,"reputation":549,"user_id":955857,"display_name":"Ricardo Jl Rufino"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1491303027,"creation_date":1491303027,"answer_id":43205102,"question_id":944991,"body_markdown":"If you need capture output\r\n\r\n    StringWriter sw = new StringWriter();\r\n    new Throwable(&quot;&quot;).printStackTrace(new PrintWriter(sw));\r\n    String stackTrace = sw.toString();","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>If you need capture output</p>\n\n<pre><code>StringWriter sw = new StringWriter();\nnew Throwable(\"\").printStackTrace(new PrintWriter(sw));\nString stackTrace = sw.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1512656163,"creation_date":1512656163,"answer_id":47697023,"question_id":944991,"body_markdown":"Java 9 introduced the [`StackWalker`][1] and supporting classes for walking the stack.\r\n\r\nHere are a few snippets from the Javadoc:\r\n\r\n&gt; The [`walk`][2] method opens a sequential stream of [`StackFrames`][3] for the current thread and then applies the given function to walk the `StackFrame` stream. The stream reports stack frame elements in order, from the top most frame that represents the execution point at which the stack was generated to the bottom most frame. The `StackFrame` stream is closed when the walk method returns. If an attempt is made to reuse the closed stream, `IllegalStateException` will be thrown.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; 2. To snapshot the top 10 stack frames of the current thread,\r\n&gt;\r\n&gt;         List&lt;StackFrame&gt; stack = StackWalker.getInstance().walk(s -&gt;\r\n         s.limit(10).collect(Collectors.toList()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html#walk-java.util.function.Function-\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.StackFrame.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Java 9 introduced the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html\" rel=\"noreferrer\"><code>StackWalker</code></a> and supporting classes for walking the stack.</p>\n\n<p>Here are a few snippets from the Javadoc:</p>\n\n<blockquote>\n  <p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html#walk-java.util.function.Function-\" rel=\"noreferrer\"><code>walk</code></a> method opens a sequential stream of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.StackFrame.html\" rel=\"noreferrer\"><code>StackFrames</code></a> for the current thread and then applies the given function to walk the <code>StackFrame</code> stream. The stream reports stack frame elements in order, from the top most frame that represents the execution point at which the stack was generated to the bottom most frame. The <code>StackFrame</code> stream is closed when the walk method returns. If an attempt is made to reuse the closed stream, <code>IllegalStateException</code> will be thrown.</p>\n  \n  <p>...</p>\n  \n  <ol start=\"2\">\n  <li><p>To snapshot the top 10 stack frames of the current thread,</p>\n\n<pre><code>List&lt;StackFrame&gt; stack = StackWalker.getInstance().walk(s -&gt;\n s.limit(10).collect(Collectors.toList()));\n</code></pre></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588408091,"creation_date":1588408091,"answer_id":61556469,"question_id":944991,"body_markdown":"The [answer by Rob Di Marco][1] is by far the best if you are happy to output to `stderr`. \r\n\r\nIf you want to capture to a `String`, with new lines as per a normal trace, you could do this:\r\n\r\n    Arrays.toString(Thread.currentThread().getStackTrace()).replace( &#39;,&#39;, &#39;\\n&#39; );\r\n\r\n  [1]: https://stackoverflow.com/a/945020/595305\r\n","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>The <a href=\"https://stackoverflow.com/a/945020/595305\">answer by Rob Di Marco</a> is by far the best if you are happy to output to <code>stderr</code>. </p>\n\n<p>If you want to capture to a <code>String</code>, with new lines as per a normal trace, you could do this:</p>\n\n<pre><code>Arrays.toString(Thread.currentThread().getStackTrace()).replace( ',', '\\n' );\n</code></pre>\n"}],"owner":{"account_id":29678,"reputation":11815,"user_id":80389,"accept_rate":65,"display_name":"corgrath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102116,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":945037,"answer_count":10,"score":209,"last_activity_date":1696938425,"creation_date":1244038318,"question_id":944991,"body_markdown":"I am thinking of creating a debug tool for my Java application.\r\n\r\nI am wondering if it is possible to get a stack trace, just like ``Exception.printStackTrace()`` but without actually throwing an exception?\r\n\r\nMy goal is to, in any given method, dump a stack to see who the method caller is.","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>I am thinking of creating a debug tool for my Java application.</p>\n\n<p>I am wondering if it is possible to get a stack trace, just like <code>Exception.printStackTrace()</code> but without actually throwing an exception?</p>\n\n<p>My goal is to, in any given method, dump a stack to see who the method caller is.</p>\n"},{"tags":["java","azure","spring-data","azure-cosmosdb-sqlapi"],"owner":{"account_id":4831207,"reputation":57,"user_id":3899369,"display_name":"Bhukailas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696938394,"creation_date":1696938394,"question_id":77265476,"body_markdown":"I am using following spring data cosmos library. But we would like to selectively log cosmos RUs based on a requestId or transaction Id for tracing only if Rus usage of a given call is more than threshold. How to achieve this with spring data cosmos \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"how to log cosmos RUs usage selectively along with a transaction identifier using Cosmos DB Spring data SQL api","body":"<p>I am using following spring data cosmos library. But we would like to selectively log cosmos RUs based on a requestId or transaction Id for tracing only if Rus usage of a given call is more than threshold. How to achieve this with spring data cosmos</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure&lt;/groupId&gt;\n  &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":13,"creation_date":1441639501,"post_id":32441919,"comment_id":52747632,"body_markdown":"Change your return type to a `ResponseEntity&lt;Object&gt;` or to a `ResponseEntity&lt;?&gt;`. Instead of passing a `null` argument for your error case, pass in a `String`. Spring is smart enough to see the `String` and write it as text to the response body. Alternatively, provide a `@ExceptionHandler` that will handle the exception itself and have your handler throw the exception.","body":"Change your return type to a <code>ResponseEntity&lt;Object&gt;</code> or to a <code>ResponseEntity&lt;?&gt;</code>. Instead of passing a <code>null</code> argument for your error case, pass in a <code>String</code>. Spring is smart enough to see the <code>String</code> and write it as text to the response body. Alternatively, provide a <code>@ExceptionHandler</code> that will handle the exception itself and have your handler throw the exception."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1441642741,"post_id":32441919,"comment_id":52749090,"body_markdown":"@SotiriosDelimanolis, wondering why don&#39;t you create answer?","body":"@SotiriosDelimanolis, wondering why don&#39;t you create answer?"},{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1441722373,"post_id":32441919,"comment_id":52782737,"body_markdown":"@lkrnac I&#39;ve answered similar questions in the past. I don&#39;t find them necessarily interesting anymore. But I couldn&#39;t find a duplicate, so I still wanted to give something.","body":"@lkrnac I&#39;ve answered similar questions in the past. I don&#39;t find them necessarily interesting anymore. But I couldn&#39;t find a duplicate, so I still wanted to give something."}],"answers":[{"tags":[],"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1455562987,"creation_date":1441656208,"answer_id":32445360,"question_id":32441919,"body_markdown":"As [ Sotirios Delimanolis][1] already pointed out in the comments, there are two options:\r\n\r\nReturn `ResponseEntity` with error message\r\n------------------------------------------\r\nChange your method like this:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public ResponseEntity getUser(@RequestHeader(value=&quot;Access-key&quot;) String accessKey,\r\n                                  @RequestHeader(value=&quot;Secret-key&quot;) String secretKey) {\r\n        try {\r\n            // see note 1\r\n            return ResponseEntity\r\n                .status(HttpStatus.CREATED)                 \r\n                .body(this.userService.chkCredentials(accessKey, secretKey, timestamp));\r\n        }\r\n        catch(ChekingCredentialsFailedException e) {\r\n            e.printStackTrace(); // see note 2\r\n            return ResponseEntity\r\n                .status(HttpStatus.FORBIDDEN)\r\n                .body(&quot;Error Message&quot;);\r\n        }\r\n    }\r\n\r\n*Note 1*: You don&#39;t have to use the `ResponseEntity` builder but I find it helps with keeping the code readable. It also helps remembering, which data a response for a specific HTTP status code should include. For example, a response with the status code 201 should contain a link to the newly created resource in the `Location` header (see [Status Code Definitions][2]). This is why Spring offers the convenient build method `ResponseEntity.created(URI)`. \r\n\r\n*Note 2*: Don&#39;t use `printStackTrace()`, use a logger instead.\r\n\r\nProvide an `@ExceptionHandler`\r\n------------------------------\r\nRemove the try-catch block from your method and let it throw the exception. Then create another method in a class annotated with `@ControllerAdvice` like this:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerAdvice {\r\n\r\n        @ExceptionHandler(ChekingCredentialsFailedException.class)\r\n        public ResponseEntity handleException(ChekingCredentialsFailedException e) {\r\n            // log exception\r\n            return ResponseEntity\r\n                    .status(HttpStatus.FORBIDDEN)\r\n                    .body(&quot;Error Message&quot;);\r\n        }        \r\n    }\r\n\r\nNote that methods which are annotated with `@ExceptionHandler` are allowed to have very flexible signatures. See the [Javadoc][3] for details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/438154/sotirios-delimanolis\r\n  [2]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html","title":"How return error message in spring mvc @Controller","body":"<p>As <a href=\"https://stackoverflow.com/users/438154/sotirios-delimanolis\"> Sotirios Delimanolis</a> already pointed out in the comments, there are two options:</p>\n\n<h2>Return <code>ResponseEntity</code> with error message</h2>\n\n<p>Change your method like this:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic ResponseEntity getUser(@RequestHeader(value=\"Access-key\") String accessKey,\n                              @RequestHeader(value=\"Secret-key\") String secretKey) {\n    try {\n        // see note 1\n        return ResponseEntity\n            .status(HttpStatus.CREATED)                 \n            .body(this.userService.chkCredentials(accessKey, secretKey, timestamp));\n    }\n    catch(ChekingCredentialsFailedException e) {\n        e.printStackTrace(); // see note 2\n        return ResponseEntity\n            .status(HttpStatus.FORBIDDEN)\n            .body(\"Error Message\");\n    }\n}\n</code></pre>\n\n<p><em>Note 1</em>: You don't have to use the <code>ResponseEntity</code> builder but I find it helps with keeping the code readable. It also helps remembering, which data a response for a specific HTTP status code should include. For example, a response with the status code 201 should contain a link to the newly created resource in the <code>Location</code> header (see <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"noreferrer\">Status Code Definitions</a>). This is why Spring offers the convenient build method <code>ResponseEntity.created(URI)</code>. </p>\n\n<p><em>Note 2</em>: Don't use <code>printStackTrace()</code>, use a logger instead.</p>\n\n<h2>Provide an <code>@ExceptionHandler</code></h2>\n\n<p>Remove the try-catch block from your method and let it throw the exception. Then create another method in a class annotated with <code>@ControllerAdvice</code> like this:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice {\n\n    @ExceptionHandler(ChekingCredentialsFailedException.class)\n    public ResponseEntity handleException(ChekingCredentialsFailedException e) {\n        // log exception\n        return ResponseEntity\n                .status(HttpStatus.FORBIDDEN)\n                .body(\"Error Message\");\n    }        \n}\n</code></pre>\n\n<p>Note that methods which are annotated with <code>@ExceptionHandler</code> are allowed to have very flexible signatures. See the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\" rel=\"noreferrer\">Javadoc</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":1285498,"reputation":645,"user_id":1238676,"display_name":"Norris"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1466539532,"creation_date":1466539532,"answer_id":37953633,"question_id":32441919,"body_markdown":"Here is an alternative.  Create a generic exception that takes a status code and a message.  Then create an exception handler.  Use the exception handler to retrieve the information out of the exception and return to the caller of the service.\r\n\r\nhttp://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/\r\n\r\n    public class ResourceException extends RuntimeException {\r\n    \r\n        private HttpStatus httpStatus = HttpStatus.INTERNAL_SERVER_ERROR;\r\n    \r\n        public HttpStatus getHttpStatus() {\r\n            return httpStatus;\r\n        }\r\n    \r\n        /**\r\n         * Constructs a new runtime exception with the specified detail message.\r\n         * The cause is not initialized, and may subsequently be initialized by a\r\n         * call to {@link #initCause}.\r\n         * @param message the detail message. The detail message is saved for later retrieval by the {@link #getMessage()}\r\n         *                method.\r\n         */\r\n        public ResourceException(HttpStatus httpStatus, String message) {\r\n            super(message);\r\n            this.httpStatus = httpStatus;\r\n        }\r\n    }\r\n\r\n\r\nThen use an exception handler to retrieve the information and return it to the service caller.\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerAdvice { \r\n     \r\n        @ExceptionHandler(ResourceException.class)\r\n        public ResponseEntity handleException(ResourceException e) {\r\n            // log exception \r\n            return ResponseEntity.status(e.getHttpStatus()).body(e.getMessage());\r\n        }         \r\n    } \r\n\r\nThen create an exception when you need to.\r\n\r\n    throw new ResourceException(HttpStatus.NOT_FOUND, &quot;We were unable to find the specified resource.&quot;);","title":"How return error message in spring mvc @Controller","body":"<p>Here is an alternative.  Create a generic exception that takes a status code and a message.  Then create an exception handler.  Use the exception handler to retrieve the information out of the exception and return to the caller of the service.</p>\n\n<p><a href=\"http://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/\" rel=\"noreferrer\">http://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/</a></p>\n\n<pre><code>public class ResourceException extends RuntimeException {\n\n    private HttpStatus httpStatus = HttpStatus.INTERNAL_SERVER_ERROR;\n\n    public HttpStatus getHttpStatus() {\n        return httpStatus;\n    }\n\n    /**\n     * Constructs a new runtime exception with the specified detail message.\n     * The cause is not initialized, and may subsequently be initialized by a\n     * call to {@link #initCause}.\n     * @param message the detail message. The detail message is saved for later retrieval by the {@link #getMessage()}\n     *                method.\n     */\n    public ResourceException(HttpStatus httpStatus, String message) {\n        super(message);\n        this.httpStatus = httpStatus;\n    }\n}\n</code></pre>\n\n<p>Then use an exception handler to retrieve the information and return it to the service caller.</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice { \n\n    @ExceptionHandler(ResourceException.class)\n    public ResponseEntity handleException(ResourceException e) {\n        // log exception \n        return ResponseEntity.status(e.getHttpStatus()).body(e.getMessage());\n    }         \n} \n</code></pre>\n\n<p>Then create an exception when you need to.</p>\n\n<pre><code>throw new ResourceException(HttpStatus.NOT_FOUND, \"We were unable to find the specified resource.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1540289177,"creation_date":1540288102,"answer_id":52946033,"question_id":32441919,"body_markdown":"    return new ResponseEntity&lt;&gt;(GenericResponseBean.newGenericError(&quot;Error during the calling the service&quot;, -1L), HttpStatus.EXPECTATION_FAILED);","title":"How return error message in spring mvc @Controller","body":"<pre><code>return new ResponseEntity&lt;&gt;(GenericResponseBean.newGenericError(\"Error during the calling the service\", -1L), HttpStatus.EXPECTATION_FAILED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8233813,"reputation":149,"user_id":6193744,"display_name":"frangel02"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580745661,"creation_date":1580744301,"answer_id":60042459,"question_id":32441919,"body_markdown":"Evaluating the error response from another service invocated...\r\n\r\nThis was my solution for evaluating the error:\r\n\r\n    try {\r\n            return authenticationFeign.signIn(userDto, dataRequest);\r\n        }catch(FeignException ex){\r\n            \r\n            //ex.status();\r\n\r\n            if(ex.status() == HttpStatus.UNAUTHORIZED.value()){\r\n                System.out.println(&quot;is a error 401&quot;);\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\r\n        }\r\n\r\n","title":"How return error message in spring mvc @Controller","body":"<p>Evaluating the error response from another service invocated...</p>\n\n<p>This was my solution for evaluating the error:</p>\n\n<pre><code>try {\n        return authenticationFeign.signIn(userDto, dataRequest);\n    }catch(FeignException ex){\n\n        //ex.status();\n\n        if(ex.status() == HttpStatus.UNAUTHORIZED.value()){\n            System.out.println(\"is a error 401\");\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10714522,"reputation":11,"user_id":7885687,"display_name":"Van"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938334,"creation_date":1696938334,"answer_id":77265469,"question_id":32441919,"body_markdown":"I&#180;m not using the RepsoneEntitiy as return element because it destroys json format of the body. I found at this time of my posting this solution:\r\n\r\n            throw new ResponseStatusException(\r\n          HttpStatus.BAD_REQUEST, &quot;ErrorMessage&quot;, optionalCauseExeption);\r\n\r\nfound here:\r\nhttps://www.baeldung.com/spring-response-status-exception\r\n","title":"How return error message in spring mvc @Controller","body":"<p>I´m not using the RepsoneEntitiy as return element because it destroys json format of the body. I found at this time of my posting this solution:</p>\n<pre><code>        throw new ResponseStatusException(\n      HttpStatus.BAD_REQUEST, &quot;ErrorMessage&quot;, optionalCauseExeption);\n</code></pre>\n<p>found here:\n<a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-status-exception</a></p>\n"}],"owner":{"account_id":4117696,"reputation":1844,"user_id":3378876,"accept_rate":74,"display_name":"user3378876"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213848,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":32445360,"answer_count":5,"score":85,"last_activity_date":1696938334,"creation_date":1441639391,"question_id":32441919,"body_markdown":"I am using methods like this \r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserWithPhoto&gt; getUser(@RequestHeader(value=&quot;Access-key&quot;) String accessKey,\r\n\t\t\t\t\t\t\t\t\t     @RequestHeader(value=&quot;Secret-key&quot;) String secretKey){\r\n\t\ttry{\r\n\t\t\treturn new ResponseEntity&lt;UserWithPhoto&gt;((UserWithPhoto)this.userService.chkCredentials(accessKey, secretKey, timestamp),\r\n\t\t\t\t\tnew HttpHeaders(),\r\n\t\t\t\t\tHttpStatus.CREATED);\r\n        }\r\n\t\tcatch(ChekingCredentialsFailedException e){\r\n\t\t\te.printStackTrace();\r\n        \treturn new ResponseEntity&lt;UserWithPhoto&gt;(null,new HttpHeaders(),HttpStatus.FORBIDDEN);\r\n        }\r\n    }\r\n\r\nAnd I want to return some text message when exception occurs but now I just return status and null object. Is it possible to do?","title":"How return error message in spring mvc @Controller","body":"<p>I am using methods like this </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic ResponseEntity&lt;UserWithPhoto&gt; getUser(@RequestHeader(value=\"Access-key\") String accessKey,\n                                     @RequestHeader(value=\"Secret-key\") String secretKey){\n    try{\n        return new ResponseEntity&lt;UserWithPhoto&gt;((UserWithPhoto)this.userService.chkCredentials(accessKey, secretKey, timestamp),\n                new HttpHeaders(),\n                HttpStatus.CREATED);\n    }\n    catch(ChekingCredentialsFailedException e){\n        e.printStackTrace();\n        return new ResponseEntity&lt;UserWithPhoto&gt;(null,new HttpHeaders(),HttpStatus.FORBIDDEN);\n    }\n}\n</code></pre>\n\n<p>And I want to return some text message when exception occurs but now I just return status and null object. Is it possible to do?</p>\n"},{"tags":["java","spring","azure","deployment","cloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696883710,"post_id":77261003,"comment_id":136207618,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696908976,"post_id":77261003,"comment_id":136209612,"body_markdown":"Please provide code or repository link if you have your project in GitHub(excluding sensitive information).","body":"Please provide code or repository link if you have your project in GitHub(excluding sensitive information)."},{"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"score":1,"creation_date":1696921978,"post_id":77261003,"comment_id":136210984,"body_markdown":"Edited just now @PravallikaKV","body":"Edited just now @PravallikaKV"},{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696922397,"post_id":77261003,"comment_id":136211067,"body_markdown":"How are you deploying your application? Any IDE?","body":"How are you deploying your application? Any IDE?"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938265,"creation_date":1696938265,"answer_id":77265463,"question_id":77261003,"body_markdown":"***I created a simple spring boot application and used your code with few modifications as below:*** \r\n```java\r\npackage com.example.spring_crud;\r\n\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class StudentController {\r\n    private Student student;\r\n\r\n    @GetMapping(&quot;/student/{id}&quot;)\r\n    public Student getStudent(String id)\r\n    {\r\n        System.out.println(&quot;students displayed&quot;);\r\n        return student;\r\n        // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\r\n    }\r\n    @GetMapping(&quot;/student&quot;)\r\n    public Student getStudents()\r\n    {\r\n        System.out.println(&quot;students displayed&quot;);\r\n    return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\r\n    }\r\n\r\n    @PostMapping(&quot;/student&quot;)\r\n    public String createStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student created!&quot;;\r\n    }\r\n\r\n    @PutMapping(&quot;/student/{id}&quot;)\r\n    public String updateStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student updated!&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/student/delete/{id}&quot;)\r\n    public String deleteStudent( String id)\r\n    {\r\n        this.student = null;\r\n        return &quot;Student deleted!&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Local response:**\r\n\r\nAs I don&#39;t have any data, I could just display like below:\r\n\r\n![enter image description here](https://i.imgur.com/9EoLBoF.png)\r\n\r\nI have deployed the application via IntelliJ IDE:\r\n\r\n![enter image description here](https://i.imgur.com/VmKsejQ.png)\r\n\r\n![enter image description here](https://i.imgur.com/JMgi0Uc.png)\r\n\r\n**Deployed Successfully:**\r\n\r\n![enter image description here](https://i.imgur.com/Ujzq3vO.png)\r\n\r\n**Azure response:**\r\n\r\n![enter image description here](https://i.imgur.com/aKvlCME.png)\r\n\r\n***Refer my [GitHub repository](https://github.com/PravallikaKothaveerannagari/Springboot_H2-database_CRUD) for a sample Spring_boot CRUD Application.*** \r\n\r\n**Deployed to Azure App Service:**\r\n\r\n![enter image description here](https://i.imgur.com/t8HwGTc.png)\r\n\r\n![enter image description here](https://i.imgur.com/3f99LM2.png)","title":"why do i get blank page after deploying my spring boot CRUD REST Api to Azure when i try to make a request on an endpoint?","body":"<p><em><strong>I created a simple spring boot application and used your code with few modifications as below:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.spring_crud;\n\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\npublic class StudentController {\n    private Student student;\n\n    @GetMapping(&quot;/student/{id}&quot;)\n    public Student getStudent(String id)\n    {\n        System.out.println(&quot;students displayed&quot;);\n        return student;\n        // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\n    }\n    @GetMapping(&quot;/student&quot;)\n    public Student getStudents()\n    {\n        System.out.println(&quot;students displayed&quot;);\n    return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\n    }\n\n    @PostMapping(&quot;/student&quot;)\n    public String createStudent(@RequestBody Student student)\n    {\n        this.student = student;\n        return &quot;Student created!&quot;;\n    }\n\n    @PutMapping(&quot;/student/{id}&quot;)\n    public String updateStudent(@RequestBody Student student)\n    {\n        this.student = student;\n        return &quot;Student updated!&quot;;\n    }\n\n    @DeleteMapping(&quot;/student/delete/{id}&quot;)\n    public String deleteStudent( String id)\n    {\n        this.student = null;\n        return &quot;Student deleted!&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>Local response:</strong></p>\n<p>As I don't have any data, I could just display like below:</p>\n<p><img src=\"https://i.imgur.com/9EoLBoF.png\" alt=\"enter image description here\" /></p>\n<p>I have deployed the application via IntelliJ IDE:</p>\n<p><img src=\"https://i.imgur.com/VmKsejQ.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/JMgi0Uc.png\" alt=\"enter image description here\" /></p>\n<p><strong>Deployed Successfully:</strong></p>\n<p><img src=\"https://i.imgur.com/Ujzq3vO.png\" alt=\"enter image description here\" /></p>\n<p><strong>Azure response:</strong></p>\n<p><img src=\"https://i.imgur.com/aKvlCME.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Refer my <a href=\"https://github.com/PravallikaKothaveerannagari/Springboot_H2-database_CRUD\" rel=\"nofollow noreferrer\">GitHub repository</a> for a sample Spring_boot CRUD Application.</strong></em></p>\n<p><strong>Deployed to Azure App Service:</strong></p>\n<p><img src=\"https://i.imgur.com/t8HwGTc.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/3f99LM2.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696938265,"creation_date":1696875443,"question_id":77261003,"body_markdown":"I created an Crud REST API in spring, after deploying to azure i cannot see anything on the endpoints (just a blank page). On my localhost it worked just fine.\r\n\r\nthis is the site https://app-studentiapi-231009202421.azurewebsites.net/student/2\r\n\r\nI tried redeploying the entire app, didnt work.\r\nI tried updating the settings from the azure portal, still didnt work.\r\n\r\nI dont have the code posted in GIT, but the program itself its pretty simple, i have one controller and one model. Here is my controller class:\r\n\r\n    package com.studentComanCatalin.demo.controller;\r\n\r\n    import com.studentComanCatalin.demo.model.Student;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/student&quot;)\r\n    public class StudentController {\r\n    private Student student;\r\n\r\n    @GetMapping(&quot;{id}&quot;)\r\n    public Student getStudent(String id)\r\n    {\r\n        return student;\r\n       // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, \r\n    22);\r\n    }\r\n\r\n    @PostMapping\r\n    public String createStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student created!&quot;;\r\n    }\r\n\r\n    @PutMapping\r\n    public String updateStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student updated!&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;{id}&quot;)\r\n    public String deleteStudent( String id)\r\n    {\r\n        this.student = null;\r\n        return &quot;Student deleted!&quot;;\r\n    }\r\n\r\n}\r\n","title":"why do i get blank page after deploying my spring boot CRUD REST Api to Azure when i try to make a request on an endpoint?","body":"<p>I created an Crud REST API in spring, after deploying to azure i cannot see anything on the endpoints (just a blank page). On my localhost it worked just fine.</p>\n<p>this is the site <a href=\"https://app-studentiapi-231009202421.azurewebsites.net/student/2\" rel=\"nofollow noreferrer\">https://app-studentiapi-231009202421.azurewebsites.net/student/2</a></p>\n<p>I tried redeploying the entire app, didnt work.\nI tried updating the settings from the azure portal, still didnt work.</p>\n<p>I dont have the code posted in GIT, but the program itself its pretty simple, i have one controller and one model. Here is my controller class:</p>\n<pre><code>package com.studentComanCatalin.demo.controller;\n\nimport com.studentComanCatalin.demo.model.Student;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/student&quot;)\npublic class StudentController {\nprivate Student student;\n\n@GetMapping(&quot;{id}&quot;)\npublic Student getStudent(String id)\n{\n    return student;\n   // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, \n22);\n}\n\n@PostMapping\npublic String createStudent(@RequestBody Student student)\n{\n    this.student = student;\n    return &quot;Student created!&quot;;\n}\n\n@PutMapping\npublic String updateStudent(@RequestBody Student student)\n{\n    this.student = student;\n    return &quot;Student updated!&quot;;\n}\n\n@DeleteMapping(&quot;{id}&quot;)\npublic String deleteStudent( String id)\n{\n    this.student = null;\n    return &quot;Student deleted!&quot;;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tomcat","tomcat8"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1495561137,"post_id":44141560,"comment_id":75301207,"body_markdown":"How *have* you configured the filters?","body":"How <i>have</i> you configured the filters?"}],"answers":[{"tags":[],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495589110,"creation_date":1495589110,"answer_id":44147478,"question_id":44141560,"body_markdown":"As your log suggests (`Full details will be found in the appropriate container log file`), you should check Tomcat log, and then you can find the message starts with `Exception starting filter ...`.\r\n","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>As your log suggests (<code>Full details will be found in the appropriate container log file</code>), you should check Tomcat log, and then you can find the message starts with <code>Exception starting filter ...</code>.</p>\n"},{"tags":[],"owner":{"account_id":976292,"reputation":2932,"user_id":2048740,"display_name":"jgrocha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1631818093,"creation_date":1554679192,"answer_id":55564519,"question_id":44141560,"body_markdown":"Using Tomcat 8.5.30 on Ubuntu 18.04, I was getting the error:\r\n\r\n    08-Apr-2019 00:02:16.994 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n\r\nThe details were in the log file: `/var/lib/tomcat8/logs/localhost.2019-04-08.log` (the same as `/var/log/tomcat8/localhost.2019-04-08.log`).\r\n\r\nThe details were:\r\n\r\n    08-Apr-2019 00:02:01.869 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [CorsFilter]\r\n     javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]\r\n\r\nI was trying to use `*` for the `cors.allowed.origins` with `cors.support.credentials` set to `true`. Setting `cors.support.credentials` to `false` solved the problem.\r\n\r\nFinding and checking the correct log file solved my problem.","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>Using Tomcat 8.5.30 on Ubuntu 18.04, I was getting the error:</p>\n<pre><code>08-Apr-2019 00:02:16.994 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\n</code></pre>\n<p>The details were in the log file: <code>/var/lib/tomcat8/logs/localhost.2019-04-08.log</code> (the same as <code>/var/log/tomcat8/localhost.2019-04-08.log</code>).</p>\n<p>The details were:</p>\n<pre><code>08-Apr-2019 00:02:01.869 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [CorsFilter]\n javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]\n</code></pre>\n<p>I was trying to use <code>*</code> for the <code>cors.allowed.origins</code> with <code>cors.support.credentials</code> set to <code>true</code>. Setting <code>cors.support.credentials</code> to <code>false</code> solved the problem.</p>\n<p>Finding and checking the correct log file solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":27384899,"reputation":11,"user_id":20888918,"display_name":"Rao Aadil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672334898,"creation_date":1672334898,"answer_id":74954254,"question_id":44141560,"body_markdown":"In my case I haven&#39;t set my workspace to build automaticaly\r\n\r\nin eclipse\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pxQTa.png","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>In my case I haven't set my workspace to build automaticaly</p>\n<p>in eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/pxQTa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696937673,"creation_date":1696937673,"answer_id":77265416,"question_id":44141560,"body_markdown":"Detailed logs on such exceptions can be found under `CATALINA_HOME/logs/localhost.&lt;timestamp&gt;.log`\r\n\r\nRefer to latest timestamp log.\r\n\r\nSometimes, application specific logs(under tomcat logs) will also contain detailed info, depending upon application logging. ","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>Detailed logs on such exceptions can be found under <code>CATALINA_HOME/logs/localhost.&lt;timestamp&gt;.log</code></p>\n<p>Refer to latest timestamp log.</p>\n<p>Sometimes, application specific logs(under tomcat logs) will also contain detailed info, depending upon application logging.</p>\n"}],"owner":{"account_id":10741764,"reputation":327,"user_id":7904578,"accept_rate":60,"display_name":"KyrinWoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33334,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1696937673,"creation_date":1495561064,"question_id":44141560,"body_markdown":"I installed Tomcat-8.0.44 and put a war file named bimserver.war in webapps folder. But when I ran the startup.bat routine, I got two Severe Log info:\r\n\r\n    24-May-2017 01:15:53.065 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n    24-May-2017 01:15:53.068 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal Context [/bimserver] startup failed due to previous errors\r\n\r\nIt seems that some filters of tomcat failed to start. This prevented bimserver from starting. How should the filters be configured? ","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>I installed Tomcat-8.0.44 and put a war file named bimserver.war in webapps folder. But when I ran the startup.bat routine, I got two Severe Log info:</p>\n\n<pre><code>24-May-2017 01:15:53.065 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\n24-May-2017 01:15:53.068 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal Context [/bimserver] startup failed due to previous errors\n</code></pre>\n\n<p>It seems that some filters of tomcat failed to start. This prevented bimserver from starting. How should the filters be configured? </p>\n"},{"tags":["java","sql","sql-server","mssql-jdbc"],"comments":[{"owner":{"account_id":2312068,"reputation":90326,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1696937586,"post_id":77265381,"comment_id":136213802,"body_markdown":"Seems like a plan has been cached for the variables query which isn&#39;t useful (any more). This could possibly be due to parameter sniffing, where a prior run for the values passed made that query plan make more sense.","body":"Seems like a plan has been cached for the variables query which isn&#39;t useful (any more). This could possibly be due to parameter sniffing, where a prior run for the values passed made that query plan make more sense."},{"owner":{"account_id":2312068,"reputation":90326,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1696937675,"post_id":77265381,"comment_id":136213826,"body_markdown":"As a side note, I very much doubt you want/need `SELECT *`, and should be specific on the columns you need. Why do you need both `t024.c011` and `t023.c010` returned, for example, when you know they&#39;ll have the same value? Limiting the columns could well provide a benefit when you can use a less wide, and also now covering, index.","body":"As a side note, I very much doubt you want/need <code>SELECT *</code>, and should be specific on the columns you need. Why do you need both <code>t024.c011</code> and <code>t023.c010</code> returned, for example, when you know they&#39;ll have the same value? Limiting the columns could well provide a benefit when you can use a less wide, and also now covering, index."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":2,"creation_date":1696937991,"post_id":77265381,"comment_id":136213884,"body_markdown":"I expect adding an `OPTION(RECOMPILE)` query hint will address the issue. TL;DR: see [Slow in the Application, Fast in SSMS?](https://www.sommarskog.se/query-plan-mysteries.html).","body":"I expect adding an <code>OPTION(RECOMPILE)</code> query hint will address the issue. TL;DR: see <a href=\"https://www.sommarskog.se/query-plan-mysteries.html\" rel=\"nofollow noreferrer\">Slow in the Application, Fast in SSMS?</a>."},{"owner":{"account_id":2312068,"reputation":90326,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1696939212,"post_id":77265381,"comment_id":136214106,"body_markdown":"If you&#39;re on the newest version of SQL Server (2022 at time of writing), have query store enabled, and have good indexing and up to date statistics, SQL Server may also be clever enough to cache multiple plans for your query for the different parameter values, as it&#39;ll recognise the different needs. We don&#39;t know enough about the query, or your environment, to know it that might occur though.","body":"If you&#39;re on the newest version of SQL Server (2022 at time of writing), have query store enabled, and have good indexing and up to date statistics, SQL Server may also be clever enough to cache multiple plans for your query for the different parameter values, as it&#39;ll recognise the different needs. We don&#39;t know enough about the query, or your environment, to know it that might occur though."},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1696939321,"post_id":77265381,"comment_id":136214132,"body_markdown":"So i understand what the problem is BUT i dont understand WHY this problem appears! P0 and P1 and @P2 are integers AND mesoyear are also an integer and are indexed. so why mssql should use a diffenrent Executionplan? sorry but i dont understand the problem here. and this also doesnt have Subquerys it only has 2 Joins. so WHAT could be different for SQL when i say mesoyear = P0 (both are integer!)","body":"So i understand what the problem is BUT i dont understand WHY this problem appears! P0 and P1 and @P2 are integers AND mesoyear are also an integer and are indexed. so why mssql should use a diffenrent Executionplan? sorry but i dont understand the problem here. and this also doesnt have Subquerys it only has 2 Joins. so WHAT could be different for SQL when i say mesoyear = P0 (both are integer!)"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1696939387,"post_id":77265381,"comment_id":136214143,"body_markdown":"If everything else fails, you can rewrite it to dynamic sql which concats the parameters (ie. non-parametrized query). Of course you need to think of injection etc but if your parameters are integer&#39;s it&#39;s not a problem.","body":"If everything else fails, you can rewrite it to dynamic sql which concats the parameters (ie. non-parametrized query). Of course you need to think of injection etc but if your parameters are integer&#39;s it&#39;s not a problem."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1696939464,"post_id":77265381,"comment_id":136214157,"body_markdown":"@Sametcey because sql server doesn&#39;t know the parameter values if it&#39;s hidden in a variable. consider code that does: `declare @a int; set @a = 5; if 1 = 0 SET @a = 2; SELECT * FROM sometable where ID = @a` Here, it cannot pinpoint @a to exact value, therefor it will use some guessing which sometimes goes wrong","body":"@Sametcey because sql server doesn&#39;t know the parameter values if it&#39;s hidden in a variable. consider code that does: <code>declare @a int; set @a = 5; if 1 = 0 SET @a = 2; SELECT * FROM sometable where ID = @a</code> Here, it cannot pinpoint @a to exact value, therefor it will use some guessing which sometimes goes wrong"},{"owner":{"account_id":2312068,"reputation":90326,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1696939693,"post_id":77265381,"comment_id":136214202,"body_markdown":"Traditionally SQL Server cached a plan based on  the **first** set of values it gets for the parameters, @Sametcey . This is a *flawed* solution, but also expected and well documented, and a frequently discussed topic. This is why the feature I mention in my prior comment was introduced, to try and alleviate  the issue; it only, however, works with equality operators, and with `AND` constraints (not `OR`), so it&#39;s far from a complete fix, but it *is* a start.","body":"Traditionally SQL Server cached a plan based on  the <b>first</b> set of values it gets for the parameters, @Sametcey . This is a <i>flawed</i> solution, but also expected and well documented, and a frequently discussed topic. This is why the feature I mention in my prior comment was introduced, to try and alleviate  the issue; it only, however, works with equality operators, and with <code>AND</code> constraints (not <code>OR</code>), so it&#39;s far from a complete fix, but it <i>is</i> a start."},{"owner":{"account_id":26850000,"reputation":264,"user_id":20435104,"display_name":"Nandalal Seth"},"score":0,"creation_date":1696940972,"post_id":77265381,"comment_id":136214463,"body_markdown":"btw, which jdbc driver are you using ?","body":"btw, which jdbc driver are you using ?"},{"owner":{"account_id":23003930,"reputation":192,"user_id":17127521,"display_name":"Aardvark"},"score":1,"creation_date":1696943540,"post_id":77265381,"comment_id":136215048,"body_markdown":"https://www.mssqltips.com/sqlservertip/3257/different-approaches-to-correct-sql-server-parameter-sniffing/","body":"<a href=\"https://www.mssqltips.com/sqlservertip/3257/different-approaches-to-correct-sql-server-parameter-sniffing/\" rel=\"nofollow noreferrer\">mssqltips.com/sqlservertip/3257/&hellip;</a>"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696937606,"creation_date":1696937346,"question_id":77265381,"body_markdown":"I have a big performance Problem with my Query: I use Java Spring boot 3.1.1 with JDBCTemplate.\r\n\r\nMy Program executes this Query on MSSQL Server:\r\n```sql\r\n    DECLARE @P0 Integer; \r\n    DECLARE @P1 Integer; \r\n    DECLARE @P2 Integer;\r\n    \r\n    SET @P0 = 1476;\r\n    SET @P1 = 1476;\r\n    SET @P2 = 1476;\r\n    \r\n    select \r\n    \t*\r\n    from \r\n    \tSL.dbo.t024 WITH (READPAST) \r\n    \tJOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\r\n    \tJOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\r\n    where \r\n    \tt024.mesoyear = @P0 \r\n    \tAND t023.mesoyear = @P1 \r\n    \tAND t346.mesoyear = @P2 \r\n    \tAND (t024.c014 = 1 OR t024.c014 = 0)\r\n    \tAND (t024.c038 IS NULL OR t346.c002 &lt;&gt; &#39;999&#39;)\r\n    Order BY\r\n    \tt346.c002,\r\n    \tt024.c002\r\n```\r\nIt takes 8 seconds to finish! BUT when i change the Statement (in MSSQL Studio) to:\r\n\r\n```sql\r\n    select \r\n    \t*\r\n    from \r\n    \tSL.dbo.t024 WITH (READPAST) \r\n    \tJOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\r\n    \tJOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\r\n    where \r\n    \tt024.mesoyear = 1476 \r\n    \tAND t023.mesoyear = 1476 \r\n    \tAND t346.mesoyear = 1476 \r\n    \tAND (t024.c014 = 1 OR t024.c014 = 0)\r\n    \tAND (t024.c038 IS NULL OR t346.c002 &lt;&gt; &#39;999&#39;)\r\n    Order BY\r\n    \tt346.c002,\r\n    \tt024.c002\r\n```\r\nthen it takes 0 seconds to finish!\r\n\r\non the first Satement with Variables the MSSQL Studio Execution plan says that he didn&#39;t find the indexes, bu on the second statement he find the indexes and it is very fast! WHY??\r\n\r\nThe next one i find is that when i add `OPTION (RECOMPILE)` to the end of the first Query with Variable so the Query finishes in 0 seconds. \r\n\r\nSo what&#39;s the problem here? How can i solve this? i cannot test every query for `OPTION (RECOMPILE)` is needed!\r\n\r\nthe same could happen also with JPA and Hibernate... I dont know where the issue is! OR how i can solve this without `OPTION (RECOMPILE)`","title":"MSSQL Query with Variables are very slow","body":"<p>I have a big performance Problem with my Query: I use Java Spring boot 3.1.1 with JDBCTemplate.</p>\n<p>My Program executes this Query on MSSQL Server:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    DECLARE @P0 Integer; \n    DECLARE @P1 Integer; \n    DECLARE @P2 Integer;\n    \n    SET @P0 = 1476;\n    SET @P1 = 1476;\n    SET @P2 = 1476;\n    \n    select \n        *\n    from \n        SL.dbo.t024 WITH (READPAST) \n        JOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\n        JOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\n    where \n        t024.mesoyear = @P0 \n        AND t023.mesoyear = @P1 \n        AND t346.mesoyear = @P2 \n        AND (t024.c014 = 1 OR t024.c014 = 0)\n        AND (t024.c038 IS NULL OR t346.c002 &lt;&gt; '999')\n    Order BY\n        t346.c002,\n        t024.c002\n</code></pre>\n<p>It takes 8 seconds to finish! BUT when i change the Statement (in MSSQL Studio) to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select \n        *\n    from \n        SL.dbo.t024 WITH (READPAST) \n        JOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\n        JOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\n    where \n        t024.mesoyear = 1476 \n        AND t023.mesoyear = 1476 \n        AND t346.mesoyear = 1476 \n        AND (t024.c014 = 1 OR t024.c014 = 0)\n        AND (t024.c038 IS NULL OR t346.c002 &lt;&gt; '999')\n    Order BY\n        t346.c002,\n        t024.c002\n</code></pre>\n<p>then it takes 0 seconds to finish!</p>\n<p>on the first Satement with Variables the MSSQL Studio Execution plan says that he didn't find the indexes, bu on the second statement he find the indexes and it is very fast! WHY??</p>\n<p>The next one i find is that when i add <code>OPTION (RECOMPILE)</code> to the end of the first Query with Variable so the Query finishes in 0 seconds.</p>\n<p>So what's the problem here? How can i solve this? i cannot test every query for <code>OPTION (RECOMPILE)</code> is needed!</p>\n<p>the same could happen also with JPA and Hibernate... I dont know where the issue is! OR how i can solve this without <code>OPTION (RECOMPILE)</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9885,"page":132,"page_size":100}
