{"items":[{"tags":["java","deep-learning","recurrent-neural-network","deeplearning4j","dl4j"],"answers":[{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691760681,"creation_date":1691760681,"answer_id":76884004,"question_id":76883871,"body_markdown":"In DL4J you always have a batch of data in a DataSet object. \r\nThat means, if your training data has the shape `(n, f)`, it will be interpreted as `n` examples with `f` features per example. \r\n\r\nAn RNN expects several steps per example, that means your data needs to have the shape `(n, f, t)` so you have `n` examples, `f` features and `t` steps. \r\n\r\nI suppose you are going for a batch size of `n=1` examples. The easiest solution to your predicament is therefore going to call `Nd4j.expandDims(arr, 0)` to give it that additional singular dimension.","title":"Deeplearning4J RNN Training : Exception 3D input expected to RNN layer expected, got 2","body":"<p>In DL4J you always have a batch of data in a DataSet object.\nThat means, if your training data has the shape <code>(n, f)</code>, it will be interpreted as <code>n</code> examples with <code>f</code> features per example.</p>\n<p>An RNN expects several steps per example, that means your data needs to have the shape <code>(n, f, t)</code> so you have <code>n</code> examples, <code>f</code> features and <code>t</code> steps.</p>\n<p>I suppose you are going for a batch size of <code>n=1</code> examples. The easiest solution to your predicament is therefore going to call <code>Nd4j.expandDims(arr, 0)</code> to give it that additional singular dimension.</p>\n"},{"comments":[{"owner":{"account_id":3672748,"reputation":3884,"user_id":3059517,"accept_rate":85,"display_name":"Mark Giaconia"},"score":0,"creation_date":1691771854,"post_id":76884415,"comment_id":135541598,"body_markdown":"Thank you! Worked like a champ and makes total sense actually","body":"Thank you! Worked like a champ and makes total sense actually"}],"tags":[],"owner":{"account_id":29199734,"reputation":18,"user_id":22370108,"display_name":"James Moore"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691763713,"creation_date":1691763713,"answer_id":76884415,"question_id":76883871,"body_markdown":"RNN expect sequences of data, and the data should be structured as a 3D tensor with dimensions (batchSize, sequenceLength, numFeatures).\r\n\r\nHowever, the generated random data is only 2D, and you need to convert it into the appropriate 3D format.\r\n\r\nPlease modify as below.\r\n\r\n    return predicted.getDouble(predicted.length() - 1);\r\n    return predicted.getDouble(0, predicted.length(1) - 1, 0);\r\n    \r\n    INDArray inputArray = Nd4j.create(inputSequence);\r\n    INDArray inputArray = Nd4j.create(inputSequence).reshape(1, inputSequence.length, 1);\r\n    \r\n    INDArray training = Nd4j.zeros(numRows, lengthEach - 1);\r\n    INDArray training = Nd4j.zeros(numRows, lengthEach - 1, 1);\r\n    \r\n    INDArray labels = Nd4j.zeros(numRows, 1);\r\n    INDArray labels = Nd4j.zeros(numRows, 1, 1);\r\n    \r\n    training.putScalar(new int[]{i, j}, randomData[j]);\r\n    training.putScalar(new int[]{i, j, 0}, randomData[j]);\r\n    \r\n    labels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\r\n    labels.putScalar(new int[]{i, 0, 0}, randomData[randomData.length - 1]);","title":"Deeplearning4J RNN Training : Exception 3D input expected to RNN layer expected, got 2","body":"<p>RNN expect sequences of data, and the data should be structured as a 3D tensor with dimensions (batchSize, sequenceLength, numFeatures).</p>\n<p>However, the generated random data is only 2D, and you need to convert it into the appropriate 3D format.</p>\n<p>Please modify as below.</p>\n<pre><code>return predicted.getDouble(predicted.length() - 1);\nreturn predicted.getDouble(0, predicted.length(1) - 1, 0);\n\nINDArray inputArray = Nd4j.create(inputSequence);\nINDArray inputArray = Nd4j.create(inputSequence).reshape(1, inputSequence.length, 1);\n\nINDArray training = Nd4j.zeros(numRows, lengthEach - 1);\nINDArray training = Nd4j.zeros(numRows, lengthEach - 1, 1);\n\nINDArray labels = Nd4j.zeros(numRows, 1);\nINDArray labels = Nd4j.zeros(numRows, 1, 1);\n\ntraining.putScalar(new int[]{i, j}, randomData[j]);\ntraining.putScalar(new int[]{i, j, 0}, randomData[j]);\n\nlabels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\nlabels.putScalar(new int[]{i, 0, 0}, randomData[randomData.length - 1]);\n</code></pre>\n"}],"owner":{"account_id":3672748,"reputation":3884,"user_id":3059517,"accept_rate":85,"display_name":"Mark Giaconia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76884415,"answer_count":2,"score":0,"last_activity_date":1691772590,"creation_date":1691759610,"question_id":76883871,"body_markdown":"with the following code (tweaked for hours with different params), I keep getting an exception\r\njava.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\r\n\r\nWhat I am trying to accomplish is to train a RNN to predict the next value (double) in a sequence based on a bunch of training sequences. I am generating the features with a simple random data generator, and using the last val in a sequence as the training label (in this case predicted value).\r\n\r\nmy code:\r\n\r\n    import org.nd4j.linalg.api.ndarray.INDArray;\r\n    import org.nd4j.linalg.factory.Nd4j;\r\n    import org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\n    \r\n    import java.util.Random;\r\n    import org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\n    import org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\n    import org.deeplearning4j.nn.conf.layers.LSTM;\r\n    import org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\r\n    import org.nd4j.linalg.activations.Activation;\r\n    import org.nd4j.linalg.dataset.DataSet;\r\n    import org.nd4j.linalg.lossfunctions.LossFunctions;\r\n    \r\n    public class RnnPredictionExample {\r\n    \r\n      public static void main(String[] args) {\r\n        //generate 100 rows of data that have 50 columns/features each\r\n        DataSet trainingdata = getRandomDataset(100, 51, 1);\r\n        // Train the RNN model...\r\n        MultiLayerNetwork trainedModel = trainRnnModel(trainingdata, 50, 10, 1);\r\n    \r\n        // generate a sequence, and Perform next value prediction on the sequence\r\n        double[] inputSequence = randomData(50, 1);\r\n        double predictedValue = predictNextValue(trainedModel, inputSequence);\r\n        System.out.println(&quot;Predicted Next Value: &quot; + predictedValue);\r\n      }\r\n    \r\n      public static MultiLayerNetwork trainRnnModel(DataSet trainingdataandlabels, int sequenceLength, int numHiddenUnits, int numEpochs) {\r\n        // ... Create network configuration ...\r\n    \r\n        // Create and initialize the network\r\n        MultiLayerConfiguration config = new NeuralNetConfiguration.Builder()\r\n                //.seed(123)\r\n                .list()\r\n                .layer(new LSTM.Builder()\r\n                        .nIn(1)\r\n                        .nOut(50)\r\n                        .build()\r\n                )\r\n                .layer(new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(50)\r\n                        .nOut(1) // Set nOut to 1\r\n                        .build()\r\n                )\r\n                .build();\r\n        MultiLayerNetwork net = new MultiLayerNetwork(config);\r\n        net.init();\r\n    \r\n        for (int i = 0; i &lt; numEpochs; i++) {\r\n          net.fit(trainingdataandlabels);\r\n        }\r\n    \r\n        return net;\r\n      }\r\n    \r\n      public static double predictNextValue(MultiLayerNetwork trainedModel, double[] inputSequence) {\r\n        INDArray inputArray = Nd4j.create(inputSequence);\r\n        INDArray predicted = trainedModel.rnnTimeStep(inputArray);\r\n    \r\n        // Predicted value is the last element of the predicted sequence\r\n        return predicted.getDouble(predicted.length() - 1);\r\n      }\r\n    \r\n      static Random random = new Random();\r\n    \r\n      public static double[] randomData(int length, int rangeMultiplier) {\r\n    \r\n        double[] out = new double[length];\r\n        for (int i = 0; i &lt; out.length; i++) {\r\n          out[i] = random.nextDouble() * rangeMultiplier;\r\n        }\r\n        return out;\r\n      }\r\n    \r\n      //assumes labes is the last val in each sequence\r\n      public static DataSet getRandomDataset(int numRows, int lengthEach, int rangeMultiplier) {\r\n        INDArray training = Nd4j.zeros(numRows, lengthEach - 1);\r\n        INDArray labels = Nd4j.zeros(numRows, 1);\r\n    \r\n        for (int i = 0; i &lt; numRows; i++) {\r\n          double[] randomData = randomData(lengthEach, rangeMultiplier);\r\n          for (int j = 0; j &lt; randomData.length - 1; j++) {\r\n            training.putScalar(new int[]{i, j}, randomData[j]);\r\n          }\r\n          labels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\r\n    \r\n        }\r\n    \r\n        return new DataSet(training, labels);\r\n    \r\n      }\r\n    }\r\n\r\n\r\nthanks\r\n\r\n\r\nFor those interested, I made the changes based on the accepted answer, and here is the working code again in entirety\r\n\r\n\r\n\r\n    import org.nd4j.linalg.api.ndarray.INDArray;\r\n    import org.nd4j.linalg.factory.Nd4j;\r\n    import org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\n    \r\n    import java.util.Random;\r\n    import org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\n    import org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\n    import org.deeplearning4j.nn.conf.layers.LSTM;\r\n    import org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\r\n    import org.nd4j.linalg.activations.Activation;\r\n    import org.nd4j.linalg.dataset.DataSet;\r\n    import org.nd4j.linalg.lossfunctions.LossFunctions;\r\n    \r\n    public class RnnPredictionExample {\r\n    \r\n      public static void main(String[] args) {\r\n        //generate 100 rows of data that have 50 columns/features each\r\n        DataSet trainingdata = getRandomDataset(100, 51, 1);\r\n        // Train the RNN model...\r\n        MultiLayerNetwork trainedModel = trainRnnModel(trainingdata, 50, 10, 1);\r\n    \r\n        // generate a sequence, and Perform next value prediction on the sequence\r\n        double[] inputSequence = randomData(50, 1);\r\n        double predictedValue = predictNextValue(trainedModel, inputSequence);\r\n        System.out.println(&quot;Predicted Next Value: &quot; + predictedValue);\r\n      }\r\n    \r\n      public static MultiLayerNetwork trainRnnModel(DataSet trainingdataandlabels, int sequenceLength, int numHiddenUnits, int numEpochs) {\r\n        // ... Create network configuration ...\r\n    \r\n        // Create and initialize the network\r\n        MultiLayerConfiguration config = new NeuralNetConfiguration.Builder()\r\n                //.seed(123)\r\n                .list()\r\n                .layer(new LSTM.Builder()\r\n                        .nIn(50)\r\n                        .nOut(1)\r\n                        .build()\r\n                )\r\n                .layer(new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(1)\r\n                        .nOut(1) // Set nOut to 1\r\n                        .build()\r\n                )\r\n                .build();\r\n        MultiLayerNetwork net = new MultiLayerNetwork(config);\r\n        net.init();\r\n    \r\n        for (int i = 0; i &lt; numEpochs; i++) {\r\n          net.fit(trainingdataandlabels);\r\n        }\r\n    \r\n        return net;\r\n      }\r\n    \r\n      public static double predictNextValue(MultiLayerNetwork trainedModel, double[] inputSequence) {\r\n        // INDArray inputArray = Nd4j.create(inputSequence);\r\n        INDArray inputArray = Nd4j.create(inputSequence).reshape(1, inputSequence.length, 1);\r\n        INDArray predicted = trainedModel.rnnTimeStep(inputArray);\r\n    \r\n        // Predicted value is the last element of the predicted sequence\r\n        return predicted.getDouble(predicted.length() - 1);\r\n      }\r\n    \r\n      static Random random = new Random();\r\n    \r\n      public static double[] randomData(int length, int rangeMultiplier) {\r\n    \r\n        double[] out = new double[length];\r\n        for (int i = 0; i &lt; out.length; i++) {\r\n          out[i] = random.nextDouble() * rangeMultiplier;\r\n        }\r\n        return out;\r\n      }\r\n    \r\n      //assumes labes is the last val in each sequence\r\n      public static DataSet getRandomDataset(int numRows, int lengthEach, int rangeMultiplier) {\r\n        //INDArray training = Nd4j.zeros(numRows, lengthEach - 1);\r\n        INDArray training = Nd4j.zeros(numRows, lengthEach - 1, 1);\r\n        //INDArray labels = Nd4j.zeros(numRows, 1);\r\n        INDArray labels = Nd4j.zeros(numRows, 1, 1);\r\n    \r\n        for (int i = 0; i &lt; numRows; i++) {\r\n          double[] randomData = randomData(lengthEach, rangeMultiplier);\r\n          for (int j = 0; j &lt; randomData.length - 1; j++) {\r\n            // training.putScalar(new int[]{i, j}, randomData[j]);\r\n            training.putScalar(new int[]{i, j, 0}, randomData[j]);\r\n          }\r\n          //labels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\r\n          labels.putScalar(new int[]{i, 0, 0}, randomData[randomData.length - 1]);\r\n        }\r\n    \r\n        return new DataSet(training, labels);\r\n    \r\n      }\r\n    }\r\n\r\n","title":"Deeplearning4J RNN Training : Exception 3D input expected to RNN layer expected, got 2","body":"<p>with the following code (tweaked for hours with different params), I keep getting an exception\njava.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2</p>\n<p>What I am trying to accomplish is to train a RNN to predict the next value (double) in a sequence based on a bunch of training sequences. I am generating the features with a simple random data generator, and using the last val in a sequence as the training label (in this case predicted value).</p>\n<p>my code:</p>\n<pre><code>import org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\n\nimport java.util.Random;\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.layers.LSTM;\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\n\npublic class RnnPredictionExample {\n\n  public static void main(String[] args) {\n    //generate 100 rows of data that have 50 columns/features each\n    DataSet trainingdata = getRandomDataset(100, 51, 1);\n    // Train the RNN model...\n    MultiLayerNetwork trainedModel = trainRnnModel(trainingdata, 50, 10, 1);\n\n    // generate a sequence, and Perform next value prediction on the sequence\n    double[] inputSequence = randomData(50, 1);\n    double predictedValue = predictNextValue(trainedModel, inputSequence);\n    System.out.println(&quot;Predicted Next Value: &quot; + predictedValue);\n  }\n\n  public static MultiLayerNetwork trainRnnModel(DataSet trainingdataandlabels, int sequenceLength, int numHiddenUnits, int numEpochs) {\n    // ... Create network configuration ...\n\n    // Create and initialize the network\n    MultiLayerConfiguration config = new NeuralNetConfiguration.Builder()\n            //.seed(123)\n            .list()\n            .layer(new LSTM.Builder()\n                    .nIn(1)\n                    .nOut(50)\n                    .build()\n            )\n            .layer(new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                    .activation(Activation.IDENTITY)\n                    .nIn(50)\n                    .nOut(1) // Set nOut to 1\n                    .build()\n            )\n            .build();\n    MultiLayerNetwork net = new MultiLayerNetwork(config);\n    net.init();\n\n    for (int i = 0; i &lt; numEpochs; i++) {\n      net.fit(trainingdataandlabels);\n    }\n\n    return net;\n  }\n\n  public static double predictNextValue(MultiLayerNetwork trainedModel, double[] inputSequence) {\n    INDArray inputArray = Nd4j.create(inputSequence);\n    INDArray predicted = trainedModel.rnnTimeStep(inputArray);\n\n    // Predicted value is the last element of the predicted sequence\n    return predicted.getDouble(predicted.length() - 1);\n  }\n\n  static Random random = new Random();\n\n  public static double[] randomData(int length, int rangeMultiplier) {\n\n    double[] out = new double[length];\n    for (int i = 0; i &lt; out.length; i++) {\n      out[i] = random.nextDouble() * rangeMultiplier;\n    }\n    return out;\n  }\n\n  //assumes labes is the last val in each sequence\n  public static DataSet getRandomDataset(int numRows, int lengthEach, int rangeMultiplier) {\n    INDArray training = Nd4j.zeros(numRows, lengthEach - 1);\n    INDArray labels = Nd4j.zeros(numRows, 1);\n\n    for (int i = 0; i &lt; numRows; i++) {\n      double[] randomData = randomData(lengthEach, rangeMultiplier);\n      for (int j = 0; j &lt; randomData.length - 1; j++) {\n        training.putScalar(new int[]{i, j}, randomData[j]);\n      }\n      labels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\n\n    }\n\n    return new DataSet(training, labels);\n\n  }\n}\n</code></pre>\n<p>thanks</p>\n<p>For those interested, I made the changes based on the accepted answer, and here is the working code again in entirety</p>\n<pre><code>import org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\n\nimport java.util.Random;\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.layers.LSTM;\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\n\npublic class RnnPredictionExample {\n\n  public static void main(String[] args) {\n    //generate 100 rows of data that have 50 columns/features each\n    DataSet trainingdata = getRandomDataset(100, 51, 1);\n    // Train the RNN model...\n    MultiLayerNetwork trainedModel = trainRnnModel(trainingdata, 50, 10, 1);\n\n    // generate a sequence, and Perform next value prediction on the sequence\n    double[] inputSequence = randomData(50, 1);\n    double predictedValue = predictNextValue(trainedModel, inputSequence);\n    System.out.println(&quot;Predicted Next Value: &quot; + predictedValue);\n  }\n\n  public static MultiLayerNetwork trainRnnModel(DataSet trainingdataandlabels, int sequenceLength, int numHiddenUnits, int numEpochs) {\n    // ... Create network configuration ...\n\n    // Create and initialize the network\n    MultiLayerConfiguration config = new NeuralNetConfiguration.Builder()\n            //.seed(123)\n            .list()\n            .layer(new LSTM.Builder()\n                    .nIn(50)\n                    .nOut(1)\n                    .build()\n            )\n            .layer(new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                    .activation(Activation.IDENTITY)\n                    .nIn(1)\n                    .nOut(1) // Set nOut to 1\n                    .build()\n            )\n            .build();\n    MultiLayerNetwork net = new MultiLayerNetwork(config);\n    net.init();\n\n    for (int i = 0; i &lt; numEpochs; i++) {\n      net.fit(trainingdataandlabels);\n    }\n\n    return net;\n  }\n\n  public static double predictNextValue(MultiLayerNetwork trainedModel, double[] inputSequence) {\n    // INDArray inputArray = Nd4j.create(inputSequence);\n    INDArray inputArray = Nd4j.create(inputSequence).reshape(1, inputSequence.length, 1);\n    INDArray predicted = trainedModel.rnnTimeStep(inputArray);\n\n    // Predicted value is the last element of the predicted sequence\n    return predicted.getDouble(predicted.length() - 1);\n  }\n\n  static Random random = new Random();\n\n  public static double[] randomData(int length, int rangeMultiplier) {\n\n    double[] out = new double[length];\n    for (int i = 0; i &lt; out.length; i++) {\n      out[i] = random.nextDouble() * rangeMultiplier;\n    }\n    return out;\n  }\n\n  //assumes labes is the last val in each sequence\n  public static DataSet getRandomDataset(int numRows, int lengthEach, int rangeMultiplier) {\n    //INDArray training = Nd4j.zeros(numRows, lengthEach - 1);\n    INDArray training = Nd4j.zeros(numRows, lengthEach - 1, 1);\n    //INDArray labels = Nd4j.zeros(numRows, 1);\n    INDArray labels = Nd4j.zeros(numRows, 1, 1);\n\n    for (int i = 0; i &lt; numRows; i++) {\n      double[] randomData = randomData(lengthEach, rangeMultiplier);\n      for (int j = 0; j &lt; randomData.length - 1; j++) {\n        // training.putScalar(new int[]{i, j}, randomData[j]);\n        training.putScalar(new int[]{i, j, 0}, randomData[j]);\n      }\n      //labels.putScalar(new int[]{i, 0}, randomData[randomData.length - 1]);\n      labels.putScalar(new int[]{i, 0, 0}, randomData[randomData.length - 1]);\n    }\n\n    return new DataSet(training, labels);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","libtorrent","magnet-uri"],"owner":{"account_id":27382782,"reputation":5,"user_id":20999572,"display_name":"Jibuza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691772370,"creation_date":1691772370,"question_id":76885384,"body_markdown":"I am programming an application for android with java and one of its functionalities is to be able to download books through a magnetLink. The problem is that I can&#39;t find any documentation on how to do it and I don&#39;t have much experience working with magnetLink, torrent and all the P2P stuff.\r\n\r\n\r\nI am also trying to see if there is any library that can help me and that is specific for MagnetLinks, for now I&#39;m trying libtorrent4j.\r\n\r\nIf someone could guide me in all this P2P network world it would be very helpful, maybe I don&#39;t even need to use external libraries, but I have no idea.","title":"how can use libtorrent4j to download files with a magnetLink?","body":"<p>I am programming an application for android with java and one of its functionalities is to be able to download books through a magnetLink. The problem is that I can't find any documentation on how to do it and I don't have much experience working with magnetLink, torrent and all the P2P stuff.</p>\n<p>I am also trying to see if there is any library that can help me and that is specific for MagnetLinks, for now I'm trying libtorrent4j.</p>\n<p>If someone could guide me in all this P2P network world it would be very helpful, maybe I don't even need to use external libraries, but I have no idea.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1691753795,"post_id":76883166,"comment_id":135537863,"body_markdown":"given that array2 is an array of objects, it seems like you are just missing `.map(/*a lambda to extract itemType*/)` before `.anyMatch(...)`","body":"given that array2 is an array of objects, it seems like you are just missing <code>.map(&#47;*a lambda to extract itemType*&#47;)</code> before <code>.anyMatch(...)</code>"},{"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"score":0,"creation_date":1691753924,"post_id":76883166,"comment_id":135537888,"body_markdown":"@ODDminus1, can you please help me with clear code?","body":"@ODDminus1, can you please help me with clear code?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1691754028,"post_id":76883166,"comment_id":135537910,"body_markdown":"You&#39;ll need to tell me what array2 consists of for me to help you. Is it an array of objects which has the field `itemType`? Do you have getters for the object or do you access the fields directly?","body":"You&#39;ll need to tell me what array2 consists of for me to help you. Is it an array of objects which has the field <code>itemType</code>? Do you have getters for the object or do you access the fields directly?"},{"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"score":0,"creation_date":1691754123,"post_id":76883166,"comment_id":135537930,"body_markdown":"boolean anyMatch = array2.stream().map(skinyItems-&gt;skinyItems.getItemType()).anyMatch(array1::contains);","body":"boolean anyMatch = array2.stream().map(skinyItems-&gt;skinyItems.getItemType()).an&zwnj;&#8203;yMatch(array1::conta&zwnj;&#8203;ins);"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1691754222,"post_id":76883166,"comment_id":135537944,"body_markdown":"that looks correct.","body":"that looks correct."}],"answers":[{"tags":[],"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691761124,"creation_date":1691754809,"answer_id":76883332,"question_id":76883166,"body_markdown":"    boolean anyMatch = array2.stream()\r\n                             .map(item -&gt; item.get(&quot;itemType&quot;))\r\n                             .anyMatch(array1::contains);\r\n\r\n","title":"How to compare two collections of ArrayLists in Java","body":"<pre><code>boolean anyMatch = array2.stream()\n                         .map(item -&gt; item.get(&quot;itemType&quot;))\n                         .anyMatch(array1::contains);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691772346,"creation_date":1691763488,"answer_id":76884378,"question_id":76883166,"body_markdown":"Since the data structures are not arrays I am renaming them to `arrayList1` and `arrayList2`.\r\n\r\nYou didn&#39;t really explain the types in `arrayList2` so I am assuming it is a map (it could have been a record or class with String fields).\r\n\r\n**Given**\r\n```\r\nList&lt;String&gt; arrayList1 = List.of(&quot;accessory&quot;, &quot;device&quot;, &quot;pSim&quot;);\r\n    \r\nList&lt;Map&lt;String, String&gt;&gt; arrayList2 = List.of(\r\n        Map.of(&quot;itemType&quot;, &quot;device&quot;), Map.of(&quot;itemType&quot;, &quot;pSim&quot;),\r\n        Map.of(&quot;itemType&quot;, &quot;NA&quot;));\r\n```\r\nIn the contains method you need to get the item from the streamed maps and see if `arrayList1` contains it.\r\n```\r\nboolean anyMatch = arrayList2.stream()\r\n        .anyMatch(map-&gt;arrayList1.contains(map.get(&quot;itemType&quot;)));\r\n\r\nSystem.out.println(anyMatch);\r\n```\r\nprints\r\n```\r\ntrue\r\n```\r\n**Note:**  It doesn&#39;t make sense unless it is a requirement to use `List&lt;String&gt;` for `arrayList1`. Duplicates would not make any difference so you could use a `Set&lt;String&gt;`.  Since sets are hashed, `Set.contains()` is more efficient.  This can make a huge different for very large lists.","title":"How to compare two collections of ArrayLists in Java","body":"<p>Since the data structures are not arrays I am renaming them to <code>arrayList1</code> and <code>arrayList2</code>.</p>\n<p>You didn't really explain the types in <code>arrayList2</code> so I am assuming it is a map (it could have been a record or class with String fields).</p>\n<p><strong>Given</strong></p>\n<pre><code>List&lt;String&gt; arrayList1 = List.of(&quot;accessory&quot;, &quot;device&quot;, &quot;pSim&quot;);\n    \nList&lt;Map&lt;String, String&gt;&gt; arrayList2 = List.of(\n        Map.of(&quot;itemType&quot;, &quot;device&quot;), Map.of(&quot;itemType&quot;, &quot;pSim&quot;),\n        Map.of(&quot;itemType&quot;, &quot;NA&quot;));\n</code></pre>\n<p>In the contains method you need to get the item from the streamed maps and see if <code>arrayList1</code> contains it.</p>\n<pre><code>boolean anyMatch = arrayList2.stream()\n        .anyMatch(map-&gt;arrayList1.contains(map.get(&quot;itemType&quot;)));\n\nSystem.out.println(anyMatch);\n</code></pre>\n<p>prints</p>\n<pre><code>true\n</code></pre>\n<p><strong>Note:</strong>  It doesn't make sense unless it is a requirement to use <code>List&lt;String&gt;</code> for <code>arrayList1</code>. Duplicates would not make any difference so you could use a <code>Set&lt;String&gt;</code>.  Since sets are hashed, <code>Set.contains()</code> is more efficient.  This can make a huge different for very large lists.</p>\n"}],"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691772346,"creation_date":1691753488,"question_id":76883166,"body_markdown":"I have 2 `ArrayList`s as mentioned below and I want to compare them: if any one of the elements is matched in arrays it should return true. I found the below solution, but looks like it&#39;s not suitable/working to compare the `Object` array with the `String` array.\r\n\r\n```\r\narray1 = [&quot;accessory&quot;,&quot;device&quot;,&quot;pSim&quot;];\r\narray2 = [{&quot;itemType&quot;:&quot;device&quot;},{&quot;itemType&quot;:&quot;pSim&quot;},{&quot;itemType&quot;:&quot;NA&quot;}]\r\n```\r\n\r\n```java\r\nboolean anyMatch = array2.stream().anyMatch(array1::contains);\r\n```","title":"How to compare two collections of ArrayLists in Java","body":"<p>I have 2 <code>ArrayList</code>s as mentioned below and I want to compare them: if any one of the elements is matched in arrays it should return true. I found the below solution, but looks like it's not suitable/working to compare the <code>Object</code> array with the <code>String</code> array.</p>\n<pre><code>array1 = [&quot;accessory&quot;,&quot;device&quot;,&quot;pSim&quot;];\narray2 = [{&quot;itemType&quot;:&quot;device&quot;},{&quot;itemType&quot;:&quot;pSim&quot;},{&quot;itemType&quot;:&quot;NA&quot;}]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>boolean anyMatch = array2.stream().anyMatch(array1::contains);\n</code></pre>\n"},{"tags":["java","parsing","identifier"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1427498415,"post_id":29311723,"comment_id":46816986,"body_markdown":"Yes, `equals` is an identifier.  I recommend reading [sections 3.8 and 3.9 of the JLS](https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html)","body":"Yes, <code>equals</code> is an identifier.  I recommend reading <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html\" rel=\"nofollow noreferrer\">sections 3.8 and 3.9 of the JLS</a>"},{"owner":{"account_id":5271111,"reputation":1420,"user_id":4209304,"accept_rate":39,"display_name":"btrballin"},"score":0,"creation_date":1427498574,"post_id":29311723,"comment_id":46817029,"body_markdown":"It looks like the code insertion program for this forum doesn&#39;t color code the identifiers correct? Also what about special data structures like ArrayList? Are they identifiers?","body":"It looks like the code insertion program for this forum doesn&#39;t color code the identifiers correct? Also what about special data structures like ArrayList? Are they identifiers?"},{"owner":{"account_id":5271111,"reputation":1420,"user_id":4209304,"accept_rate":39,"display_name":"btrballin"},"score":0,"creation_date":1427498840,"post_id":29311723,"comment_id":46817110,"body_markdown":"What about a variable&#39;s defined value like in: int i = 1; is 1 an identifier?","body":"What about a variable&#39;s defined value like in: int i = 1; is 1 an identifier?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1427499024,"post_id":29311723,"comment_id":46817164,"body_markdown":"The answer to whether `1` is an identifier is on the first line of the section that I recommended you to read.","body":"The answer to whether <code>1</code> is an identifier is on the first line of the section that I recommended you to read."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1427501920,"post_id":29311723,"comment_id":46817842,"body_markdown":"Also, to write this program correctly, you need to replace Unicode escape sequences first, then strip out comments, before you search for identifiers.    The details are in the JLS.","body":"Also, to write this program correctly, you need to replace Unicode escape sequences first, then strip out comments, before you search for identifiers.    The details are in the JLS."}],"answers":[{"comments":[{"owner":{"account_id":5271111,"reputation":1420,"user_id":4209304,"accept_rate":39,"display_name":"btrballin"},"score":0,"creation_date":1427499015,"post_id":29311793,"comment_id":46817160,"body_markdown":"So far, my parser would only take in individual words minus the punctuation for each call of .next(). How would I be able to tell my program that the literals of variables are not identifiers?","body":"So far, my parser would only take in individual words minus the punctuation for each call of .next(). How would I be able to tell my program that the literals of variables are not identifiers?"},{"owner":{"account_id":1697276,"reputation":7542,"user_id":1558392,"accept_rate":60,"display_name":"ElliotSchmelliot"},"score":0,"creation_date":1427499228,"post_id":29311793,"comment_id":46817209,"body_markdown":"That sounds like an entirely different question and one that depends on your source code. I would suggest posting a different, more specific question with your attempts at solving the problem.","body":"That sounds like an entirely different question and one that depends on your source code. I would suggest posting a different, more specific question with your attempts at solving the problem."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1427499529,"post_id":29311793,"comment_id":46817292,"body_markdown":"Well, section 3.10 of the JLS (I won&#39;t give you the link again) tells you how to identify literals.","body":"Well, section 3.10 of the JLS (I won&#39;t give you the link again) tells you how to identify literals."}],"tags":[],"owner":{"account_id":1697276,"reputation":7542,"user_id":1558392,"accept_rate":60,"display_name":"ElliotSchmelliot"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427498921,"creation_date":1427498921,"answer_id":29311793,"question_id":29311723,"body_markdown":"From a quick [Google search][1]:\r\n\r\n&gt; Identifiers are the names of variables, methods, classes, packages and interfaces. Unlike literals they are not the things themselves, just ways of referring to them. In the HelloWorld program, HelloWorld, String, args, main and println are identifiers.\r\n\r\nSo in your case: `String`, `st`, and `equals` are all identifiers as they are the names of classes, variables, and methods respectively.\r\n\r\n  [1]: http://www.cafeaulait.org/course/week2/08.html","title":"What are identifiers in java exactly?","body":"<p>From a quick <a href=\"http://www.cafeaulait.org/course/week2/08.html\" rel=\"nofollow\">Google search</a>:</p>\n\n<blockquote>\n  <p>Identifiers are the names of variables, methods, classes, packages and interfaces. Unlike literals they are not the things themselves, just ways of referring to them. In the HelloWorld program, HelloWorld, String, args, main and println are identifiers.</p>\n</blockquote>\n\n<p>So in your case: <code>String</code>, <code>st</code>, and <code>equals</code> are all identifiers as they are the names of classes, variables, and methods respectively.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691848151,"post_id":76861539,"comment_id":135548523,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76861539/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1691850420,"post_id":76861539,"comment_id":135548777,"body_markdown":"Just for clarity: keywords themselves are not identifiers. &quot;*An identifier cannot have the same spelling as a keyword*&quot;—[spec](https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.8)","body":"Just for clarity: keywords themselves are not identifiers. &quot;<i>An identifier cannot have the same spelling as a keyword</i>&quot;—<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">spec</a>"}],"tags":[],"owner":{"account_id":25273962,"reputation":1,"user_id":19102894,"display_name":"Nirmal Aravind"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691772325,"creation_date":1691512326,"answer_id":76861539,"question_id":29311723,"body_markdown":"An identifier is a name given to a variable, method, class, interface, or other program element. Identifiers are used to uniquely identify these program elements within your code.\r\n\r\n`st`, `equals`, and `return` are identifiers.\r\n\r\n`st`: This is a variable identifier of type String.\r\n\r\n`equals`: This is a method identifier (a member function of the String class) used to compare strings.\r\n\r\n`return`: This is a keyword used to return a value from a method.\r\nJava library methods, such as equals in your example, are indeed considered identifiers.","title":"What are identifiers in java exactly?","body":"<p>An identifier is a name given to a variable, method, class, interface, or other program element. Identifiers are used to uniquely identify these program elements within your code.</p>\n<p><code>st</code>, <code>equals</code>, and <code>return</code> are identifiers.</p>\n<p><code>st</code>: This is a variable identifier of type String.</p>\n<p><code>equals</code>: This is a method identifier (a member function of the String class) used to compare strings.</p>\n<p><code>return</code>: This is a keyword used to return a value from a method.\nJava library methods, such as equals in your example, are indeed considered identifiers.</p>\n"}],"owner":{"account_id":5271111,"reputation":1420,"user_id":4209304,"accept_rate":39,"display_name":"btrballin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29311793,"answer_count":2,"score":0,"last_activity_date":1691772325,"creation_date":1427498386,"question_id":29311723,"body_markdown":"I don&#39;t understand the full definition of a java identifier. For example in:\r\n\r\n    String st = &quot;hello&quot;;\r\n    if(st.equals(&quot;hello&quot;) return st;\r\nWould equals count as an identifier?\r\nI need to create a program in which identifiers are detected in source code and stored if they are. But if the java library methods don&#39;t count as identifiers, then there&#39;s no way I could store only the programmed named variables, methods, and classes.","title":"What are identifiers in java exactly?","body":"<p>I don't understand the full definition of a java identifier. For example in:</p>\n\n<pre><code>String st = \"hello\";\nif(st.equals(\"hello\") return st;\n</code></pre>\n\n<p>Would equals count as an identifier?\nI need to create a program in which identifiers are detected in source code and stored if they are. But if the java library methods don't count as identifiers, then there's no way I could store only the programmed named variables, methods, and classes.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1691762170,"post_id":76883869,"comment_id":135539650,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691768449,"post_id":76883869,"comment_id":135540998,"body_markdown":"&quot;Is there a different way to add new objects to a Panel?&quot;  Yes.  You can draw them.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"&quot;Is there a different way to add new objects to a Panel?&quot;  Yes.  You can draw them.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691768554,"post_id":76883869,"comment_id":135541032,"body_markdown":"Here&#39;s a [Stack Overflow answer](https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365) that explains what you should consider when creating a Snake (or any other) game.","body":"Here&#39;s a <a href=\"https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365\">Stack Overflow answer</a> that explains what you should consider when creating a Snake (or any other) game."}],"owner":{"account_id":23769832,"reputation":11,"user_id":17784058,"display_name":"user17784058"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691771844,"creation_date":1691759558,"question_id":76883869,"body_markdown":"I am doing my first project involving the JFrame and JPanel modules. I am trying to make a simple version of the iconic snake game. The current Panel structure im using is as follows:\r\n\r\nI have a GamePanel that is supposed to hold the other panels. I added a background panel that includes the cells to the GamePanel. Now I am trying to draw food onto the GamePanel. I have been trying to just use the add method to add more panels on top of the background panel however, this doesnt seem to work. When trying to add a second panel to the GamePanel, only the background Panel shows up.\r\n\r\nI want to draw the food object onto the GamePanel. How do I add new panels to the GamePanel? Is there a different way to add new objects to a Panel?\r\n\r\nHere is some of the code that I have written:\r\n\r\n  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class GamePanel extends JPanel {\r\n        private int cellSize;\r\n        private int boardSizeX;\r\n        private int boardSizeY;\r\n        public GamePanel(int x, int y, int cellSize) {\r\n            this.boardSizeX = x;\r\n            this.boardSizeY = y;\r\n            this.cellSize = cellSize;\r\n            this.setPreferredSize(new Dimension(100 + x * cellSize, 100 + y * cellSize));\r\n            this.add(new Board(x, y, cellSize));\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Board extends JPanel {\r\n        private int cellSize;\r\n        private int boardSizeX;\r\n        private int boardSizeY;\r\n        public Board(int x, int y, int cellSize) {\r\n            this.boardSizeX = x;\r\n            this.boardSizeY = y;\r\n            this.cellSize = cellSize;\r\n            this.setPreferredSize(new Dimension(100 + x * cellSize, 100 + y * cellSize));\r\n            this.setBounds(0, 0, this.getWidth(), this.getHeight());\r\n        }\r\n\r\n\r\n        @Override\r\n        public void paint (Graphics g) {\r\n\r\n\r\n            Graphics2D g2D = (Graphics2D) g;\r\n\r\n            //Background\r\n            g2D.setPaint(new Color(41, 41, 41));\r\n            g2D.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n\r\n            g2D.setPaint(Color.GRAY);\r\n            g2D.setStroke(new BasicStroke(1));\r\n            int to = this.getHeight() - 50;\r\n            int cord = 50;\r\n            for (int i = 0; i &lt; boardSizeX + 1; i++) {\r\n                g2D.drawLine(cord, 50, cord, to);\r\n                cord += cellSize;\r\n            }\r\n            to = this.getWidth() - 50;\r\n            cord = 50;\r\n            for (int i = 0; i &lt; boardSizeY + 1; i++) {\r\n                g2D.drawLine(50, cord, to, cord);\r\n                cord += cellSize;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MyFrame extends JFrame {\r\n        private GamePanel gamePanel;\r\n        public MyFrame(int x, int y, int cellSize) {\r\n\r\n            gamePanel = new GamePanel(x, y, cellSize);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setResizable(false);\r\n            this.setTitle(&quot;Snake Game&quot;);\r\n\r\n            this.add(gamePanel);\r\n            this.pack();\r\n\r\n\r\n            this.setVisible(true);\r\n        }\r\n\r\n        public GamePanel getGamePanel() {\r\n            return gamePanel;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Testing extends JComponent {\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            Graphics2D g2D = (Graphics2D) g;\r\n            g2D.setPaint(Color.YELLOW);\r\n            g2D.fillRect(100, 100, 200, 200);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int x = 40;\r\n            int y = 40;\r\n            int cellSize = 15;\r\n            MyFrame frame = new MyFrame(x, y, cellSize);\r\n            Testing test = new Testing();\r\n            frame.getGamePanel().add(test);\r\n            frame.getGamePanel().repaint();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe problem is that test JComponent isnt showing up in the frame.\r\n\r\nThank you for your help!","title":"Adding objects onto JPanels","body":"<p>I am doing my first project involving the JFrame and JPanel modules. I am trying to make a simple version of the iconic snake game. The current Panel structure im using is as follows:</p>\n<p>I have a GamePanel that is supposed to hold the other panels. I added a background panel that includes the cells to the GamePanel. Now I am trying to draw food onto the GamePanel. I have been trying to just use the add method to add more panels on top of the background panel however, this doesnt seem to work. When trying to add a second panel to the GamePanel, only the background Panel shows up.</p>\n<p>I want to draw the food object onto the GamePanel. How do I add new panels to the GamePanel? Is there a different way to add new objects to a Panel?</p>\n<p>Here is some of the code that I have written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GamePanel extends JPanel {\n    private int cellSize;\n    private int boardSizeX;\n    private int boardSizeY;\n    public GamePanel(int x, int y, int cellSize) {\n        this.boardSizeX = x;\n        this.boardSizeY = y;\n        this.cellSize = cellSize;\n        this.setPreferredSize(new Dimension(100 + x * cellSize, 100 + y * cellSize));\n        this.add(new Board(x, y, cellSize));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Board extends JPanel {\n    private int cellSize;\n    private int boardSizeX;\n    private int boardSizeY;\n    public Board(int x, int y, int cellSize) {\n        this.boardSizeX = x;\n        this.boardSizeY = y;\n        this.cellSize = cellSize;\n        this.setPreferredSize(new Dimension(100 + x * cellSize, 100 + y * cellSize));\n        this.setBounds(0, 0, this.getWidth(), this.getHeight());\n    }\n\n\n    @Override\n    public void paint (Graphics g) {\n\n\n        Graphics2D g2D = (Graphics2D) g;\n\n        //Background\n        g2D.setPaint(new Color(41, 41, 41));\n        g2D.fillRect(0, 0, this.getWidth(), this.getHeight());\n\n        g2D.setPaint(Color.GRAY);\n        g2D.setStroke(new BasicStroke(1));\n        int to = this.getHeight() - 50;\n        int cord = 50;\n        for (int i = 0; i &lt; boardSizeX + 1; i++) {\n            g2D.drawLine(cord, 50, cord, to);\n            cord += cellSize;\n        }\n        to = this.getWidth() - 50;\n        cord = 50;\n        for (int i = 0; i &lt; boardSizeY + 1; i++) {\n            g2D.drawLine(50, cord, to, cord);\n            cord += cellSize;\n        }\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFrame extends JFrame {\n    private GamePanel gamePanel;\n    public MyFrame(int x, int y, int cellSize) {\n\n        gamePanel = new GamePanel(x, y, cellSize);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setTitle(&quot;Snake Game&quot;);\n\n        this.add(gamePanel);\n        this.pack();\n\n\n        this.setVisible(true);\n    }\n\n    public GamePanel getGamePanel() {\n        return gamePanel;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Testing extends JComponent {\n\n    @Override\n    public void paintComponent(Graphics g) {\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setPaint(Color.YELLOW);\n        g2D.fillRect(100, 100, 200, 200);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        int x = 40;\n        int y = 40;\n        int cellSize = 15;\n        MyFrame frame = new MyFrame(x, y, cellSize);\n        Testing test = new Testing();\n        frame.getGamePanel().add(test);\n        frame.getGamePanel().repaint();\n    }\n}\n</code></pre>\n<p>The problem is that test JComponent isnt showing up in the frame.</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1691229062,"post_id":7658881,"comment_id":135465961,"body_markdown":"@mattsmith5 The bounty should be on your own question, not on a completely unrelated one!","body":"@mattsmith5 The bounty should be on your own question, not on a completely unrelated one!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1317805346,"creation_date":1317805346,"answer_id":7658906,"question_id":7658881,"body_markdown":"You simply need to get the output stream (or output writer) of the servlet response, and write to that. See [`ServletResponse.getOutputStream()`][1] and [`ServletResponse.getWriter()`][2] for more details.\r\n\r\n(Or simply read any servlet tutorial - without the ability to include data in response bodies, servlets would be pretty useless :)\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#getOutputStream%28%29\r\n  [2]: http://download.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#getWriter%28%29","title":"Setting a string in a body of httpResponse","body":"<p>You simply need to get the output stream (or output writer) of the servlet response, and write to that. See <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#getOutputStream%28%29\" rel=\"noreferrer\"><code>ServletResponse.getOutputStream()</code></a> and <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#getWriter%28%29\" rel=\"noreferrer\"><code>ServletResponse.getWriter()</code></a> for more details.</p>\n\n<p>(Or simply read any servlet tutorial - without the ability to include data in response bodies, servlets would be pretty useless :)</p>\n"},{"comments":[{"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"score":50,"creation_date":1317807156,"post_id":7658948,"comment_id":9306680,"body_markdown":"httpServletResponse.getWriter().close() is not a good idea. In general it&#39;s not a good idea to close a stream that was not opened by you.","body":"httpServletResponse.getWriter().close() is not a good idea. In general it&#39;s not a good idea to close a stream that was not opened by you."},{"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"score":3,"creation_date":1558005816,"post_id":7658948,"comment_id":98961373,"body_markdown":"This really helped, however, I didn&#39;t receive the body right away when using a JSON body. I had to add the following: httpServletResponse.setContentType(&quot;application/json&quot;);\nhttpServletResponse.setCharacterEncoding(&quot;UTF-8&quot;);","body":"This really helped, however, I didn&#39;t receive the body right away when using a JSON body. I had to add the following: httpServletResponse.setContentType(&quot;application/json&quot;); httpServletResponse.setCharacterEncoding(&quot;UTF-8&quot;);"},{"owner":{"account_id":27509504,"reputation":121,"user_id":20991677,"display_name":"Luca La Malfa"},"score":0,"creation_date":1691761118,"post_id":7658948,"comment_id":135539414,"body_markdown":"yes httpServletResponse.getWriter().flush(); is better","body":"yes httpServletResponse.getWriter().flush(); is better"}],"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":3,"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1611579338,"creation_date":1317805614,"answer_id":7658948,"question_id":7658881,"body_markdown":"You can write the XML directly to the response as follows:\r\n\r\nThis example uses a `ServletResponse.getWriter()`, which is a `PrintWriter` to write a String to the response.\r\n\r\n    String responseToClient= &quot;&lt;tdcp&gt;&lt;cmd&gt;&lt;ack cmd=”Init”&gt;&lt;panelistid&gt;3849303&lt;/panelistid&gt;&lt;/ack&gt;&lt;/cmd&gt;&lt;/tdcp&gt;&quot;;\r\n    \r\n    httpServletResponse.setStatus(HttpServletResponse.SC_OK);\r\n    httpServletResponse.getWriter().write(responseToClient);\r\n    httpServletResponse.getWriter().flush();\r\n","title":"Setting a string in a body of httpResponse","body":"<p>You can write the XML directly to the response as follows:</p>\n<p>This example uses a <code>ServletResponse.getWriter()</code>, which is a <code>PrintWriter</code> to write a String to the response.</p>\n<pre><code>String responseToClient= &quot;&lt;tdcp&gt;&lt;cmd&gt;&lt;ack cmd=”Init”&gt;&lt;panelistid&gt;3849303&lt;/panelistid&gt;&lt;/ack&gt;&lt;/cmd&gt;&lt;/tdcp&gt;&quot;;\n\nhttpServletResponse.setStatus(HttpServletResponse.SC_OK);\nhttpServletResponse.getWriter().write(responseToClient);\nhttpServletResponse.getWriter().flush();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317806990,"creation_date":1317806990,"answer_id":7659212,"question_id":7658881,"body_markdown":"If that&#39;s meant to be XML, Word has already spoiled things for you by changing the attribute quote symbol to `”` instead of `&quot;`.\r\n\r\nIt is worth having a look at [JAXP][1] if you want to generate XML using Java. Writing strings with `&lt;` etc. in them won&#39;t scale and you&#39;ll run into problems with encodings of non-ASCII characters.\r\n\r\n\r\n  [1]: http://java.sun.com/webservices/reference/tutorials/jaxp/html/intro.html","title":"Setting a string in a body of httpResponse","body":"<p>If that's meant to be XML, Word has already spoiled things for you by changing the attribute quote symbol to <code>”</code> instead of <code>\"</code>.</p>\n\n<p>It is worth having a look at <a href=\"http://java.sun.com/webservices/reference/tutorials/jaxp/html/intro.html\" rel=\"nofollow\">JAXP</a> if you want to generate XML using Java. Writing strings with <code>&lt;</code> etc. in them won't scale and you'll run into problems with encodings of non-ASCII characters.</p>\n"},{"tags":[],"owner":{"account_id":28363221,"reputation":11,"user_id":21692917,"display_name":"Aakash Ambodkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691771803,"creation_date":1691771803,"answer_id":76885320,"question_id":7658881,"body_markdown":" 1. You can use a library or built-in functionality to escape the XML content properly before sending it in the response. This can ensure that any potentially harmful characters are correctly encoded.\r\n 2. You can also avoid directly concatenating user input to form XML responses, as this may lead to an injection attack.\r\n\r\n\r\n","title":"Setting a string in a body of httpResponse","body":"<ol>\n<li>You can use a library or built-in functionality to escape the XML content properly before sending it in the response. This can ensure that any potentially harmful characters are correctly encoded.</li>\n<li>You can also avoid directly concatenating user input to form XML responses, as this may lead to an injection attack.</li>\n</ol>\n"}],"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124626,"favorite_count":0,"down_vote_count":1,"up_vote_count":55,"accepted_answer_id":7658948,"answer_count":4,"score":54,"last_activity_date":1691771803,"creation_date":1317805185,"question_id":7658881,"body_markdown":"I need help. In my current development one of the requirements says:\r\n\r\n&gt; The server will return 200-OK as a response(httpresponse).\r\n&gt; \r\n&gt; If the  panelist is  verified then as a result,  the server must also\r\n&gt; return the panelist id of this panelist.\r\n&gt; \r\n&gt; The server will place the panelist id inside the body of the 200-OK\r\n&gt; response in the following way:\r\n\r\n    &lt;tdcp&gt;\r\n\r\n    &lt;cmd&gt;\r\n\r\n       &lt;ack cmd=”Init”&gt;\r\n\r\n          &lt;panelistid&gt;3849303&lt;/panelistid&gt;\r\n\r\n       &lt;/ack&gt;\r\n\r\n    &lt;/cmd&gt;\r\n\r\n   &lt;/tdcp&gt;\r\n\r\n   \r\n\r\nNow I am able to put the httpresponse as \r\n\r\n    httpServletResponse.setStatus(HttpServletResponse.SC_OK);\r\n\r\nAnd I can put\r\n\r\n`String responseToClient= &quot;&lt;tdcp&gt;&lt;cmd&gt;&lt;ack  cmd=”Init”&gt;&lt;panelistid&gt;3849303&lt;/panelistid&gt;&lt;/ack&gt;&lt;/cmd&gt;&lt;/tdcp&gt;&quot;;`\r\n\r\nNow what does putting the above xml inside the body of 200-OK response mean and how can it be achieved?\r\n\r\n","title":"Setting a string in a body of httpResponse","body":"<p>I need help. In my current development one of the requirements says:</p>\n\n<blockquote>\n  <p>The server will return 200-OK as a response(httpresponse).</p>\n  \n  <p>If the  panelist is  verified then as a result,  the server must also\n  return the panelist id of this panelist.</p>\n  \n  <p>The server will place the panelist id inside the body of the 200-OK\n  response in the following way:</p>\n</blockquote>\n\n<pre><code>&lt;tdcp&gt;\n\n&lt;cmd&gt;\n\n   &lt;ack cmd=”Init”&gt;\n\n      &lt;panelistid&gt;3849303&lt;/panelistid&gt;\n\n   &lt;/ack&gt;\n\n&lt;/cmd&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now I am able to put the httpresponse as </p>\n\n<pre><code>httpServletResponse.setStatus(HttpServletResponse.SC_OK);\n</code></pre>\n\n<p>And I can put</p>\n\n<p><code>String responseToClient= \"&lt;tdcp&gt;&lt;cmd&gt;&lt;ack  cmd=”Init”&gt;&lt;panelistid&gt;3849303&lt;/panelistid&gt;&lt;/ack&gt;&lt;/cmd&gt;&lt;/tdcp&gt;\";</code></p>\n\n<p>Now what does putting the above xml inside the body of 200-OK response mean and how can it be achieved?</p>\n"},{"tags":["java","android","android-studio","android-listview","context-switch"],"owner":{"account_id":25404225,"reputation":1,"user_id":19213191,"display_name":"ayna khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691771552,"creation_date":1691757611,"question_id":76883631,"body_markdown":"I&#39;m using a &#39;ListView` to show all the system apps with their names, icons, and switch, and wants to save the state of the switch, it is saving the state if I check it and closes the app, but if I scroll down the list, the switch loses its state.\r\n\r\nI&#39;m expecting it to save the switch state in whatever situation, but it loses its state after scrolling down the list\r\nThis is my code: \r\n\r\n```java\r\npublic class system_apps extends Fragment {\r\n\r\n    private static final String PREFERENCE_KEY = &quot;AppSwitchStates&quot;;\r\n    private List&lt;AppInfo&gt; systemAppInfos = new ArrayList&lt;&gt;();\r\n    private AppListAdapter adapter;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_system_apps, container, false);\r\n\r\n        ListView listView = view.findViewById(R.id.system_app_list);\r\n        adapter = new AppListAdapter(requireContext(), systemAppInfos);\r\n        listView.setAdapter(adapter);\r\n\r\n        // Populate the list of system apps\r\n        systemAppInfos.clear();\r\n        systemAppInfos.addAll(getSystemAppInfos());\r\n        adapter.notifyDataSetChanged();\r\n\r\n        return view;\r\n    }\r\n\r\n    private List&lt;AppInfo&gt; getSystemAppInfos() {\r\n        List&lt;AppInfo&gt; appInfos = new ArrayList&lt;&gt;();\r\n        PackageManager packageManager = requireContext().getPackageManager();\r\n\r\n        Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\r\n        mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n\r\n        List&lt;ResolveInfo&gt; allAppInfos = packageManager.queryIntentActivities(mainIntent, 0);\r\n        SharedPreferences preferences = requireContext().getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\r\n\r\n        for (ResolveInfo resolveInfo : allAppInfos) {\r\n            if ((resolveInfo.activityInfo.applicationInfo.flags &amp; android.content.pm.ApplicationInfo.FLAG_SYSTEM) != 0) {\r\n                String appName = resolveInfo.loadLabel(getContext().getPackageManager()).toString();\r\n                boolean isSelected = preferences.getBoolean(appName, false);\r\n                Drawable appIcon = resolveInfo.loadIcon(packageManager);\r\n                AppInfo appInfo = new AppInfo(appName, appIcon, isSelected);\r\n                appInfos.add(appInfo);\r\n            }\r\n        }\r\n\r\n        return appInfos;\r\n    }\r\n\r\n    private class AppListAdapter extends ArrayAdapter&lt;AppInfo&gt; {\r\n\r\n        AppListAdapter(Context context, List&lt;AppInfo&gt; appInfos) {\r\n            super(context, R.layout.list_item_app, appInfos);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            if (convertView == null) {\r\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item_app, parent, false);\r\n            }\r\n\r\n            AppInfo appInfo = getItem(position);\r\n\r\n            if (appInfo != null) {\r\n                TextView appNameTextView = convertView.findViewById(R.id.app_name);\r\n                ImageView appIconImageView = convertView.findViewById(R.id.app_icon);\r\n                Switch appSwitch = convertView.findViewById(R.id.app_switch);\r\n\r\n                appNameTextView.setText(appInfo.appName);\r\n                appIconImageView.setImageDrawable(appInfo.appIcon);\r\n                appSwitch.setChecked(appInfo.isSelected);\r\n\r\n                // Set a listener to update the switch state\r\n                appSwitch.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n                    // Update the switch state in the AppInfo object\r\n                    appInfo.isSelected = isChecked;\r\n                    // Save the switch state\r\n                    saveSwitchState(appInfo.appName, isChecked);\r\n                    \r\n                    // Handle any additional logic here\r\n                });\r\n\r\n                // Show the switch for system apps\r\n                appSwitch.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            return convertView;\r\n        }\r\n    }\r\n\r\n    private void saveSwitchState(String appName, boolean isChecked) {\r\n        SharedPreferences preferences = requireContext().getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putBoolean(appName, isChecked);\r\n        editor.apply();\r\n    }\r\n\r\n    private static class AppInfo {\r\n        String appName;\r\n        Drawable appIcon;\r\n        boolean isSelected;\r\n\r\n        AppInfo(String name, Drawable icon, boolean selected) {\r\n            appName = name;\r\n            appIcon = icon;\r\n            isSelected = selected;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"switch loses its state while scrolling even after getting saved","body":"<p>I'm using a 'ListView` to show all the system apps with their names, icons, and switch, and wants to save the state of the switch, it is saving the state if I check it and closes the app, but if I scroll down the list, the switch loses its state.</p>\n<p>I'm expecting it to save the switch state in whatever situation, but it loses its state after scrolling down the list\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class system_apps extends Fragment {\n\n    private static final String PREFERENCE_KEY = &quot;AppSwitchStates&quot;;\n    private List&lt;AppInfo&gt; systemAppInfos = new ArrayList&lt;&gt;();\n    private AppListAdapter adapter;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_system_apps, container, false);\n\n        ListView listView = view.findViewById(R.id.system_app_list);\n        adapter = new AppListAdapter(requireContext(), systemAppInfos);\n        listView.setAdapter(adapter);\n\n        // Populate the list of system apps\n        systemAppInfos.clear();\n        systemAppInfos.addAll(getSystemAppInfos());\n        adapter.notifyDataSetChanged();\n\n        return view;\n    }\n\n    private List&lt;AppInfo&gt; getSystemAppInfos() {\n        List&lt;AppInfo&gt; appInfos = new ArrayList&lt;&gt;();\n        PackageManager packageManager = requireContext().getPackageManager();\n\n        Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\n        mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n\n        List&lt;ResolveInfo&gt; allAppInfos = packageManager.queryIntentActivities(mainIntent, 0);\n        SharedPreferences preferences = requireContext().getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\n\n        for (ResolveInfo resolveInfo : allAppInfos) {\n            if ((resolveInfo.activityInfo.applicationInfo.flags &amp; android.content.pm.ApplicationInfo.FLAG_SYSTEM) != 0) {\n                String appName = resolveInfo.loadLabel(getContext().getPackageManager()).toString();\n                boolean isSelected = preferences.getBoolean(appName, false);\n                Drawable appIcon = resolveInfo.loadIcon(packageManager);\n                AppInfo appInfo = new AppInfo(appName, appIcon, isSelected);\n                appInfos.add(appInfo);\n            }\n        }\n\n        return appInfos;\n    }\n\n    private class AppListAdapter extends ArrayAdapter&lt;AppInfo&gt; {\n\n        AppListAdapter(Context context, List&lt;AppInfo&gt; appInfos) {\n            super(context, R.layout.list_item_app, appInfos);\n        }\n\n        @NonNull\n        @Override\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n            if (convertView == null) {\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item_app, parent, false);\n            }\n\n            AppInfo appInfo = getItem(position);\n\n            if (appInfo != null) {\n                TextView appNameTextView = convertView.findViewById(R.id.app_name);\n                ImageView appIconImageView = convertView.findViewById(R.id.app_icon);\n                Switch appSwitch = convertView.findViewById(R.id.app_switch);\n\n                appNameTextView.setText(appInfo.appName);\n                appIconImageView.setImageDrawable(appInfo.appIcon);\n                appSwitch.setChecked(appInfo.isSelected);\n\n                // Set a listener to update the switch state\n                appSwitch.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n                    // Update the switch state in the AppInfo object\n                    appInfo.isSelected = isChecked;\n                    // Save the switch state\n                    saveSwitchState(appInfo.appName, isChecked);\n                    \n                    // Handle any additional logic here\n                });\n\n                // Show the switch for system apps\n                appSwitch.setVisibility(View.VISIBLE);\n            }\n\n            return convertView;\n        }\n    }\n\n    private void saveSwitchState(String appName, boolean isChecked) {\n        SharedPreferences preferences = requireContext().getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putBoolean(appName, isChecked);\n        editor.apply();\n    }\n\n    private static class AppInfo {\n        String appName;\n        Drawable appIcon;\n        boolean isSelected;\n\n        AppInfo(String name, Drawable icon, boolean selected) {\n            appName = name;\n            appIcon = icon;\n            isSelected = selected;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","or-tools","heap-dump","cp-sat-solver"],"answers":[{"comments":[{"owner":{"account_id":25098481,"reputation":1,"user_id":18949425,"display_name":"user18949425"},"score":0,"creation_date":1691768694,"post_id":76884398,"comment_id":135541058,"body_markdown":"I aggree that IntVar is not the problem here. \nActually IntVar objects are garbage collected when I do not have any reference to them. \n\nBut for some reason there are lot of protobuf related objects in memory (SingleFieldBuilderV3, GeneratedMessageV3, IntegerVariableProto$Builder ...)\nThey are not garbage collected. \n\nI just thought there is maybe a way to serialize variables and constraints in the moment there are created. So that there is no need to keep the protobuf objects in memory. \nBut to be honest, I do not know much about protobuf.","body":"I aggree that IntVar is not the problem here.  Actually IntVar objects are garbage collected when I do not have any reference to them.   But for some reason there are lot of protobuf related objects in memory (SingleFieldBuilderV3, GeneratedMessageV3, IntegerVariableProto$Builder ...) They are not garbage collected.   I just thought there is maybe a way to serialize variables and constraints in the moment there are created. So that there is no need to keep the protobuf objects in memory.  But to be honest, I do not know much about protobuf."},{"owner":{"account_id":25098481,"reputation":1,"user_id":18949425,"display_name":"user18949425"},"score":0,"creation_date":1691768705,"post_id":76884398,"comment_id":135541060,"body_markdown":"About solving: You are right I think. But also with a smaller model I would like to avoid to pay the memory for the protobuf objects.","body":"About solving: You are right I think. But also with a smaller model I would like to avoid to pay the memory for the protobuf objects."},{"owner":{"account_id":25098481,"reputation":1,"user_id":18949425,"display_name":"user18949425"},"score":0,"creation_date":1691768836,"post_id":76884398,"comment_id":135541087,"body_markdown":"I consider using C++. \nI think about writing the model from Java to a file in a custom format. \nThen I can write a small C++ library that reads the file and builds the model on native side.\n\nYou wrote \n`Doing it in C++ will remove one copy and one serialization.`\n\nSo is it right that objects like SingleFiledBuilder or GeneratedMessage doe not appear on C++ side. \nI just ask because I saw int cp_model.h the class IntVar and there is the comment \n`This class wraps an IntegerVariableProto.`\n\nThis makes me worry that I will have the same problem doing it in C++.","body":"I consider using C++.  I think about writing the model from Java to a file in a custom format.  Then I can write a small C++ library that reads the file and builds the model on native side.  You wrote  <code>Doing it in C++ will remove one copy and one serialization.</code>  So is it right that objects like SingleFiledBuilder or GeneratedMessage doe not appear on C++ side.  I just ask because I saw int cp_model.h the class IntVar and there is the comment  <code>This class wraps an IntegerVariableProto.</code>  This makes me worry that I will have the same problem doing it in C++."},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1691771340,"post_id":76884398,"comment_id":135541531,"body_markdown":"The wrapping is the same. An IntVar is a pointer to the cp_model proto and an index. And this wrapping is not build when solving from java. Still, the C++ allocation is leaner.","body":"The wrapping is the same. An IntVar is a pointer to the cp_model proto and an index. And this wrapping is not build when solving from java. Still, the C++ allocation is leaner."}],"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691771431,"creation_date":1691763615,"answer_id":76884398,"question_id":76884211,"body_markdown":"Currently the java wrapper is quite light. An intVar uses 2 pointers and one int32. Not much to gain here, and not much that can be deleted.\r\n\r\nWhen solving, it will serialize the model to string, cross the C++/Java layer, rebuild the proto in C++, then solve using the C++ code.\r\n\r\nDoing it in C++ will remove one copy and one serialization.\r\n\r\nYou have a bigger issue IMO with solve. \r\nLast time I checked, solving a 12M variables problems with a healthy number of workers took more than 256GB of RAM.\r\n\r\nSo it would be better to decompose the model, try to solve it sequentially, try to reduce its size. This would be time better spent than optimizing the intermediate layers.","title":"RAM usage of Google OR-Tools Java API of CP-SAT model","body":"<p>Currently the java wrapper is quite light. An intVar uses 2 pointers and one int32. Not much to gain here, and not much that can be deleted.</p>\n<p>When solving, it will serialize the model to string, cross the C++/Java layer, rebuild the proto in C++, then solve using the C++ code.</p>\n<p>Doing it in C++ will remove one copy and one serialization.</p>\n<p>You have a bigger issue IMO with solve.\nLast time I checked, solving a 12M variables problems with a healthy number of workers took more than 256GB of RAM.</p>\n<p>So it would be better to decompose the model, try to solve it sequentially, try to reduce its size. This would be time better spent than optimizing the intermediate layers.</p>\n"}],"owner":{"account_id":25098481,"reputation":1,"user_id":18949425,"display_name":"user18949425"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691771431,"creation_date":1691762212,"question_id":76884211,"body_markdown":"I am using the Java bindings for the CP-SAT model in OR-Tools. My application creates a big model but only holds a few refernces to some Int- and BoolVars. \r\nI realized that after the creation of the model (even before I call of CpSolver#solve). The Java Heap allocates multiple gigabytes just for the model. \r\n\r\nI made a heap dump and found following entries:\r\n\r\n```\r\n long []   (mostly part of IntegerVariableProto$Builder, &gt; 13,000,000 inst.) =&gt; 1,433 MB\r\n com.google.ortools.sat.ConstraintProto$Builder (&gt; 8,000,000 instances)      =&gt; 1,194 MB\r\n com.google.protobuf.SingleFieldBuilderV3       (&gt; 21,000,000 instances)     =&gt;   682 MB\r\n com.google.protobuf.GeneratedMessageV3$1       (&gt; 21,000,000 instances)     =&gt;   511 MB\r\n com.google.protobuf.IntArrayList               (&gt; 13,000,000 instances)     =&gt;   445 MB\r\n com.google.protobuf.LongArrayList              (&gt; 13,000,000 instances)     =&gt;   433 MB\r\n ...\r\n```\r\n\r\n \r\nI understand, that a big model needs some memory. \r\nBut after I had a look in the Java bindings code, it seems to me that theses objects are only used by protobuf to build a message to send the information to the native backend. \r\n\r\n\r\n\r\nMy question is:\r\n\r\nIs there any way to use the Java API, without keeping these objects in memory (e.g. by incrementally flushing the model) and still having a reference to CpModel and some variables?\r\n\r\nAnd how would it behave when I use C++ instead? \r\nI am confused here because\r\n- I found an answer in the google group, it says that in C++ the model does not need to be serialized (https://groups.google.com/g/or-tools-discuss/c/5-6OthD5JQo/m/ZzeeXD34AAAJ)\r\n- I had then a look in the repository (https://github.com/google/or-tools/tree/stable/ortools/sat) and saw that protobuf seems to be used there. \r\n\r\n\r\n\r\nI tried it with OR-Tools version 9.3 and 9.7.\r\n\r\n\r\nThank you very much.","title":"RAM usage of Google OR-Tools Java API of CP-SAT model","body":"<p>I am using the Java bindings for the CP-SAT model in OR-Tools. My application creates a big model but only holds a few refernces to some Int- and BoolVars.\nI realized that after the creation of the model (even before I call of CpSolver#solve). The Java Heap allocates multiple gigabytes just for the model.</p>\n<p>I made a heap dump and found following entries:</p>\n<pre><code> long []   (mostly part of IntegerVariableProto$Builder, &gt; 13,000,000 inst.) =&gt; 1,433 MB\n com.google.ortools.sat.ConstraintProto$Builder (&gt; 8,000,000 instances)      =&gt; 1,194 MB\n com.google.protobuf.SingleFieldBuilderV3       (&gt; 21,000,000 instances)     =&gt;   682 MB\n com.google.protobuf.GeneratedMessageV3$1       (&gt; 21,000,000 instances)     =&gt;   511 MB\n com.google.protobuf.IntArrayList               (&gt; 13,000,000 instances)     =&gt;   445 MB\n com.google.protobuf.LongArrayList              (&gt; 13,000,000 instances)     =&gt;   433 MB\n ...\n</code></pre>\n<p>I understand, that a big model needs some memory.\nBut after I had a look in the Java bindings code, it seems to me that theses objects are only used by protobuf to build a message to send the information to the native backend.</p>\n<p>My question is:</p>\n<p>Is there any way to use the Java API, without keeping these objects in memory (e.g. by incrementally flushing the model) and still having a reference to CpModel and some variables?</p>\n<p>And how would it behave when I use C++ instead?\nI am confused here because</p>\n<ul>\n<li>I found an answer in the google group, it says that in C++ the model does not need to be serialized (<a href=\"https://groups.google.com/g/or-tools-discuss/c/5-6OthD5JQo/m/ZzeeXD34AAAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/g/or-tools-discuss/c/5-6OthD5JQo/m/ZzeeXD34AAAJ</a>)</li>\n<li>I had then a look in the repository (<a href=\"https://github.com/google/or-tools/tree/stable/ortools/sat\" rel=\"nofollow noreferrer\">https://github.com/google/or-tools/tree/stable/ortools/sat</a>) and saw that protobuf seems to be used there.</li>\n</ul>\n<p>I tried it with OR-Tools version 9.3 and 9.7.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","object","junit","comparison"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1465374049,"post_id":37689255,"comment_id":62868994,"body_markdown":"Side note: if you end up writing your own &quot;reflection based&quot; field checker ... consider using **assertThat** and writing your own custom matchers for it. That might at least allow you to make use of the superior features of **assertThat**.","body":"Side note: if you end up writing your own &quot;reflection based&quot; field checker ... consider using <b>assertThat</b> and writing your own custom matchers for it. That might at least allow you to make use of the superior features of <b>assertThat</b>."}],"answers":[{"comments":[{"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"score":0,"creation_date":1625829080,"post_id":37691703,"comment_id":120737880,"body_markdown":"Saying &quot;do it yourself if you don&#39;t like what you&#39;ve got so far&quot;  is not in any way helping the OP solve the problem","body":"Saying &quot;do it yourself if you don&#39;t like what you&#39;ve got so far&quot;  is not in any way helping the OP solve the problem"},{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":0,"creation_date":1625850662,"post_id":37691703,"comment_id":120746112,"body_markdown":"5 years ago... I find if I spend more than about a half hour searching for a tool that will do what I want, then having someone say, &quot;Maybe you can roll your own with &lt;insert language feature&gt;&quot; can be a useful nudge. He spent hours searching and isn&#39;t satisfied. He also never gave a &quot;best answer&quot; green checkbox to the suggestion of AssertJ. Maybe someone nudging java reflection at him was useful or not. Maybe for other people who see this answer, a nudge at reflection may be enough to look and consider. Or maybe not.","body":"5 years ago... I find if I spend more than about a half hour searching for a tool that will do what I want, then having someone say, &quot;Maybe you can roll your own with &lt;insert language feature&gt;&quot; can be a useful nudge. He spent hours searching and isn&#39;t satisfied. He also never gave a &quot;best answer&quot; green checkbox to the suggestion of AssertJ. Maybe someone nudging java reflection at him was useful or not. Maybe for other people who see this answer, a nudge at reflection may be enough to look and consider. Or maybe not."}],"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465347481,"creation_date":1465347481,"answer_id":37691703,"question_id":37689255,"body_markdown":"It wouldn&#39;t be that hard to roll your own using java reflection, if you don&#39;t like the capabilities of the ones you&#39;re finding.","title":"Java Compare complex objects excluding some fields for JUnit","body":"<p>It wouldn't be that hard to roll your own using java reflection, if you don't like the capabilities of the ones you're finding.</p>\n"},{"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1603358441,"creation_date":1465366233,"answer_id":37694522,"question_id":37689255,"body_markdown":"You could solve your problem by using [AssertJ](http://joel-costigliola.github.io/assertj/). It can do [field-by-field recursive comparison](https://assertj.github.io/doc/#assertj-core-recursive-comparison) with options to [ignore fields](https://assertj.github.io/doc/#assertj-core-recursive-comparison-ignoring-fields) by name, regex or type.\r\n\r\n```\r\nassertThat(sherlock)\r\n  .usingRecursiveComparison()\r\n  .ignoringFields(&quot;name&quot;, &quot;home.address.street&quot;)\r\n  .isEqualTo(moriarty);\r\n\r\n```","title":"Java Compare complex objects excluding some fields for JUnit","body":"<p>You could solve your problem by using <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a>. It can do <a href=\"https://assertj.github.io/doc/#assertj-core-recursive-comparison\" rel=\"noreferrer\">field-by-field recursive comparison</a> with options to <a href=\"https://assertj.github.io/doc/#assertj-core-recursive-comparison-ignoring-fields\" rel=\"noreferrer\">ignore fields</a> by name, regex or type.</p>\n<pre><code>assertThat(sherlock)\n  .usingRecursiveComparison()\n  .ignoringFields(&quot;name&quot;, &quot;home.address.street&quot;)\n  .isEqualTo(moriarty);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3952954,"reputation":332,"user_id":3642853,"display_name":"RonaldFindling"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1494786531,"creation_date":1494786531,"answer_id":43967454,"question_id":37689255,"body_markdown":"We use our own approach in groovy (similar to [Frank Neblung&#39;s][1] answer ) where we convert an object to a formated Json string using an ObjectMapper and a filterList for the attributes. This is pretty handy for testing but has also some downsides like the loss of type information.\r\n\r\n    // interface of the conversion\r\n    String nice(Object o, String... filterList) { ... }\r\n\r\n    // test calls\r\n    assertEquals(nice(actual, [&quot;-unusedAttribute&quot;, &quot;-unusedAttribute2&quot;]), nice(expected, [&quot;-unusedAttribute&quot;, &quot;-unusedAttribute2&quot;]))\r\n    assertEquals(nice(actual, [&quot;+usedAttibute&quot;, &quot;+usedAttibute2&quot;]), nice(expected, [&quot;+usedAttibute&quot;, &quot;+usedAttibute2&quot;]))\r\n\r\n    // test calls using the spock framework\r\n    nice(actual, [&quot;-unusedAttribute&quot;, &quot;-unusedAttribute2&quot;]) == nice(expected, [&quot;-unusedAttribute&quot;, &quot;-unusedAttribute2&quot;])\r\n    nice(actual, [&quot;+usedAttibute&quot;, &quot;+usedAttibute2&quot;]) == nice(expected, [&quot;+usedAttibute&quot;, &quot;+usedAttibute2&quot;])\r\n   \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4774054/frank-neblung &quot;Frank Neblung&quot;","title":"Java Compare complex objects excluding some fields for JUnit","body":"<p>We use our own approach in groovy (similar to <a href=\"https://stackoverflow.com/users/4774054/frank-neblung\" title=\"Frank Neblung\">Frank Neblung's</a> answer ) where we convert an object to a formated Json string using an ObjectMapper and a filterList for the attributes. This is pretty handy for testing but has also some downsides like the loss of type information.</p>\n\n<pre><code>// interface of the conversion\nString nice(Object o, String... filterList) { ... }\n\n// test calls\nassertEquals(nice(actual, [\"-unusedAttribute\", \"-unusedAttribute2\"]), nice(expected, [\"-unusedAttribute\", \"-unusedAttribute2\"]))\nassertEquals(nice(actual, [\"+usedAttibute\", \"+usedAttibute2\"]), nice(expected, [\"+usedAttibute\", \"+usedAttibute2\"]))\n\n// test calls using the spock framework\nnice(actual, [\"-unusedAttribute\", \"-unusedAttribute2\"]) == nice(expected, [\"-unusedAttribute\", \"-unusedAttribute2\"])\nnice(actual, [\"+usedAttibute\", \"+usedAttibute2\"]) == nice(expected, [\"+usedAttibute\", \"+usedAttibute2\"])\n</code></pre>\n"}],"owner":{"account_id":8593479,"reputation":111,"user_id":6437309,"display_name":"Harter Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13176,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1691771304,"creation_date":1465333143,"question_id":37689255,"body_markdown":"I tried the Unitils tool which is really great, but doesn&#39;t provide you an option for excluding fields. The only way by doing this is to set `null` the objects and enable the `IGNORE_DEFAULTS` flag, but in my case, it&#39;s not helpful, since I&#39;ve got some ids autogenerated by the system. So if I could just add the id to an exclude list it would be perfect. \r\n\r\nI also tried Mockito&#39;s `ReflectionEquals` but it was not helpful, since I need a field-to-field comparison.\r\n\r\nIs there something else helpful? I have been searching for hours without success.\r\n\r\nThank you in advance!","title":"Java Compare complex objects excluding some fields for JUnit","body":"<p>I tried the Unitils tool which is really great, but doesn't provide you an option for excluding fields. The only way by doing this is to set <code>null</code> the objects and enable the <code>IGNORE_DEFAULTS</code> flag, but in my case, it's not helpful, since I've got some ids autogenerated by the system. So if I could just add the id to an exclude list it would be perfect.</p>\n<p>I also tried Mockito's <code>ReflectionEquals</code> but it was not helpful, since I need a field-to-field comparison.</p>\n<p>Is there something else helpful? I have been searching for hours without success.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","exception","runtimeexception"],"comments":[{"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"score":3,"creation_date":1280930322,"post_id":3406219,"comment_id":3543830,"body_markdown":"Why would you want to throw a RuntimeException?","body":"Why would you want to throw a RuntimeException?"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":10,"creation_date":1441895674,"post_id":3406219,"comment_id":52868844,"body_markdown":"@JonathonFaust - Because sometimes you neither want to handle the exception yourself, nor want to force your user to handle the exception. But if nobody handles it, the application should crash. In Python, nearly every exception is a runtime exception, and everyone loves it. If you know how the exception should be handled, you handle it, and if you don&#39;t, then you ignore it - either someone above you can handle it or you&#39;ll crash, and either scenario is fine. The only thing that wouldn&#39;t be fine is logging it and otherwise ignoring it.","body":"@JonathonFaust - Because sometimes you neither want to handle the exception yourself, nor want to force your user to handle the exception. But if nobody handles it, the application should crash. In Python, nearly every exception is a runtime exception, and everyone loves it. If you know how the exception should be handled, you handle it, and if you don&#39;t, then you ignore it - either someone above you can handle it or you&#39;ll crash, and either scenario is fine. The only thing that wouldn&#39;t be fine is logging it and otherwise ignoring it."},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":0,"creation_date":1447153715,"post_id":3406219,"comment_id":55030706,"body_markdown":"Do not throw a runtime exception or create a subclass of RuntimeException simply because you don&#39;t want to be bothered with specifying the exceptions your methods can throw. \n\n http://journals.ecs.soton.ac.uk/java/tutorial/java/exceptions/runtime.html","body":"Do not throw a runtime exception or create a subclass of RuntimeException simply because you don&#39;t want to be bothered with specifying the exceptions your methods can throw.    <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/java/exceptions/runtime.html\" rel=\"nofollow noreferrer\">journals.ecs.soton.ac.uk/java/tutorial/java/exceptions/&hellip;</a>"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":1,"creation_date":1447406444,"post_id":3406219,"comment_id":55150781,"body_markdown":"It needs to add &quot;new&quot; keyword after throw.","body":"It needs to add &quot;new&quot; keyword after throw."}],"answers":[{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1456084117,"post_id":3406235,"comment_id":58770826,"body_markdown":"@PedroD\t Because checked exceptions are a failed experiment? Or are you asking why someone would want to throw a *raw* `RuntimeException` instead of a reasonable subclass?","body":"@PedroD\t Because checked exceptions are a failed experiment? Or are you asking why someone would want to throw a <i>raw</i> <code>RuntimeException</code> instead of a reasonable subclass?"},{"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"score":0,"creation_date":1456084791,"post_id":3406235,"comment_id":58771099,"body_markdown":"No no, checked exceptions should be the only type of throwables you could use. They are part of the API you are creating/defining. Unchecked exceptions should be reserved for system errors which cannot/should not be recovered (like NullPointer or OutOfMemory). Eg. If I have a function that parses a number from a string, it should throw me a **checked** NumberFormatException, because it is expected that this function might fail for that reason and it is totally reasonable that I might catch and recover from that error, so it should be checked... However if I get a Null pointer...","body":"No no, checked exceptions should be the only type of throwables you could use. They are part of the API you are creating/defining. Unchecked exceptions should be reserved for system errors which cannot/should not be recovered (like NullPointer or OutOfMemory). Eg. If I have a function that parses a number from a string, it should throw me a <b>checked</b> NumberFormatException, because it is expected that this function might fail for that reason and it is totally reasonable that I might catch and recover from that error, so it should be checked... However if I get a Null pointer..."},{"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"score":1,"creation_date":1456084997,"post_id":3406235,"comment_id":58771197,"body_markdown":"...I is very very very likely a programming mistake (some unhandled fault condition) so the app should terminate with that exception, which is **unchecked** on purpose. Unchecked exceptions are to be expected to happen anywhere in the program and should only be recovered if we really know what are the implications of that recovery, hence why we must explicitly surround then with a try-catch and the compiler cannot tell where they are thrown.","body":"...I is very very very likely a programming mistake (some unhandled fault condition) so the app should terminate with that exception, which is <b>unchecked</b> on purpose. Unchecked exceptions are to be expected to happen anywhere in the program and should only be recovered if we really know what are the implications of that recovery, hence why we must explicitly surround then with a try-catch and the compiler cannot tell where they are thrown."},{"owner":{"account_id":6571936,"reputation":132,"user_id":5079567,"display_name":"Ankit Arora"},"score":0,"creation_date":1536147448,"post_id":3406235,"comment_id":91317998,"body_markdown":"You also need to use runtime exceptions in case you&#39;ve a static {} block where you&#39;re doing instantiation and want to throw an exception if that instantiation fails. Since static blocks do not have throw/throws keyword, RuntimeExceptions become suitable in this case.","body":"You also need to use runtime exceptions in case you&#39;ve a static {} block where you&#39;re doing instantiation and want to throw an exception if that instantiation fails. Since static blocks do not have throw/throws keyword, RuntimeExceptions become suitable in this case."}],"tags":[],"owner":{"account_id":151026,"reputation":1999,"user_id":364634,"display_name":"j flemm"},"comment_count":4,"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1548859531,"creation_date":1280930244,"answer_id":3406235,"question_id":3406219,"body_markdown":"`throw new RuntimeException(msg);`\r\n\r\nYou need the `new` in there. It&#39;s creating an instance and throwing it, not calling a method.","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p><code>throw new RuntimeException(msg);</code></p>\n\n<p>You need the <code>new</code> in there. It's creating an instance and throwing it, not calling a method.</p>\n"},{"tags":[],"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1280930246,"creation_date":1280930246,"answer_id":3406237,"question_id":3406219,"body_markdown":"    throw new RuntimeException(msg); // notice the &quot;new&quot; keyword","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<pre><code>throw new RuntimeException(msg); // notice the \"new\" keyword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1378380211,"creation_date":1280930257,"answer_id":3406239,"question_id":3406219,"body_markdown":"An `Exception` is an `Object` like any other in Java.  You need to use the `new` keyword to create a new `Exception` before you can `throw` it.\r\n\r\n    throw new RuntimeException();\r\n\r\nOptionally you could also do the following:\r\n\r\n    RuntimeException e = new RuntimeException();\r\n    throw e;\r\n\r\nBoth code snippets are equivalent.\r\n\r\n\r\n[*Link to the tutorials for completeness.*](http://docs.oracle.com/javase/tutorial/essential/exceptions/throwing.html)","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>An <code>Exception</code> is an <code>Object</code> like any other in Java.  You need to use the <code>new</code> keyword to create a new <code>Exception</code> before you can <code>throw</code> it.</p>\n\n<pre><code>throw new RuntimeException();\n</code></pre>\n\n<p>Optionally you could also do the following:</p>\n\n<pre><code>RuntimeException e = new RuntimeException();\nthrow e;\n</code></pre>\n\n<p>Both code snippets are equivalent.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/throwing.html\" rel=\"noreferrer\"><em>Link to the tutorials for completeness.</em></a></p>\n"},{"tags":[],"owner":{"account_id":13372,"reputation":16082,"user_id":26816,"accept_rate":69,"display_name":"RHSeeger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280930261,"creation_date":1280930261,"answer_id":3406240,"question_id":3406219,"body_markdown":"You need to create the instance of the RuntimeException, using &lt;code&gt;new&lt;/code&gt; the same way you would to create an instance of most other classes:\r\n\r\n    throw new RuntimeException(msg);","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>You need to create the instance of the RuntimeException, using <code>new</code> the same way you would to create an instance of most other classes:</p>\n\n<pre><code>throw new RuntimeException(msg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145010,"reputation":4823,"user_id":354495,"accept_rate":73,"display_name":"Sudhakar"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1280930429,"creation_date":1280930429,"answer_id":3406273,"question_id":3406219,"body_markdown":"you will have to instantiate it before you throw it \r\n\r\n    throw new RuntimeException(arg0) \r\n\r\n\r\n\r\nPS:\r\nIntrestingly enough the Netbeans IDE should have already pointed out that compile time error","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>you will have to instantiate it before you throw it </p>\n\n<pre><code>throw new RuntimeException(arg0) \n</code></pre>\n\n<p>PS:\nIntrestingly enough the Netbeans IDE should have already pointed out that compile time error</p>\n"},{"comments":[{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1280940414,"post_id":3406674,"comment_id":3545585,"body_markdown":"Ditto. In general, you should create your own exceptions to throw, and inherit them from Exception.\n\nRuntimeException should be used with extreme care as it bypasses the normal guarantees in Java that a function must declare all the exceptions that it can throw.","body":"Ditto. In general, you should create your own exceptions to throw, and inherit them from Exception.  RuntimeException should be used with extreme care as it bypasses the normal guarantees in Java that a function must declare all the exceptions that it can throw."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1281016319,"post_id":3406674,"comment_id":3554414,"body_markdown":"One common case for doing this is if you&#39;re implementing an existing interface that doesn&#39;t declare any checked exceptions.  For instance, writing a network-backed cache it makes sense to implement `Map` - but if you get an `IOException` when processing a `put()` or `get()`, you&#39;re going to have to throw some kind of RuntimeException.  (It should be a custom class thereof, but it will have to be an unchecked exception).","body":"One common case for doing this is if you&#39;re implementing an existing interface that doesn&#39;t declare any checked exceptions.  For instance, writing a network-backed cache it makes sense to implement <code>Map</code> - but if you get an <code>IOException</code> when processing a <code>put()</code> or <code>get()</code>, you&#39;re going to have to throw some kind of RuntimeException.  (It should be a custom class thereof, but it will have to be an unchecked exception)."}],"tags":[],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1280946670,"creation_date":1280933134,"answer_id":3406674,"question_id":3406219,"body_markdown":"As everyone else has said, instantiate the object before throwing it.\r\n\r\nJust wanted to add one bit; it&#39;s incredibly uncommon to throw a RuntimeException.  It would be normal for code in the API to throw a subclass of this, but normally, application code would throw Exception, or something that extends Exception but not RuntimeException.\r\n\r\nAnd in retrospect, I missed adding the reason *why* you use Exception instead of RuntimeException; @Jay, in the comment below, added in the useful bit.  RuntimeException isn&#39;t a checked exception; \r\n\r\n - The method signature doesn&#39;t have to declare that a RuntimeException may be thrown.\r\n - Callers of that method aren&#39;t required to catch the exception, or acknowlege it in any way.\r\n - **Developers who try to later use your code won&#39;t anticipate this problem unless they look carefully, and it will increase the maintenance burden of the code.**\r\n","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>As everyone else has said, instantiate the object before throwing it.</p>\n\n<p>Just wanted to add one bit; it's incredibly uncommon to throw a RuntimeException.  It would be normal for code in the API to throw a subclass of this, but normally, application code would throw Exception, or something that extends Exception but not RuntimeException.</p>\n\n<p>And in retrospect, I missed adding the reason <em>why</em> you use Exception instead of RuntimeException; @Jay, in the comment below, added in the useful bit.  RuntimeException isn't a checked exception; </p>\n\n<ul>\n<li>The method signature doesn't have to declare that a RuntimeException may be thrown.</li>\n<li>Callers of that method aren't required to catch the exception, or acknowlege it in any way.</li>\n<li><strong>Developers who try to later use your code won't anticipate this problem unless they look carefully, and it will increase the maintenance burden of the code.</strong></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1281394,"reputation":1792,"user_id":1235426,"display_name":"dillip"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405706719,"creation_date":1405706719,"answer_id":24831208,"question_id":3406219,"body_markdown":"Just for others: be sure it is new RuntimeException, not new RuntimeErrorException which needs error as an argument.","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>Just for others: be sure it is new RuntimeException, not new RuntimeErrorException which needs error as an argument.</p>\n"},{"tags":[],"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458825167,"creation_date":1458825167,"answer_id":36201064,"question_id":3406219,"body_markdown":"    throw new RuntimeException(msg);\r\n\r\nunlike any other Exceptions I think RuntimeException is the only one that will not stall the program but it can still keep running and recover just print out a bunch of Exception lines? correct me if I am wrong.","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<pre><code>throw new RuntimeException(msg);\n</code></pre>\n\n<p>unlike any other Exceptions I think RuntimeException is the only one that will not stall the program but it can still keep running and recover just print out a bunch of Exception lines? correct me if I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691771231,"creation_date":1560159213,"answer_id":56523786,"question_id":3406219,"body_markdown":"Using the `new` keyword will always create an instance (new object) and throw it, not called a method\r\n    \r\n```java\r\n    throw new RuntimeException(&quot;Your Message&quot;);\r\n    \r\n    // You need the new in there. It&#39;s creating an instance and throwing it, not calling a method.\r\n    \r\n    int no = new Scanner().nextInt(); // we create an instance using new keyword and throwing it \r\n```    \r\n\r\nUsing `new` keyword memory clean [because use and throw]:\r\n \r\n```java\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n    \r\n            //do your work here..\r\n        }\r\n    }, 1000);\r\n```","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>Using the <code>new</code> keyword will always create an instance (new object) and throw it, not called a method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    throw new RuntimeException(&quot;Your Message&quot;);\n    \n    // You need the new in there. It's creating an instance and throwing it, not calling a method.\n    \n    int no = new Scanner().nextInt(); // we create an instance using new keyword and throwing it \n</code></pre>\n<p>Using <code>new</code> keyword memory clean [because use and throw]:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n    \n            //do your work here..\n        }\n    }, 1000);\n</code></pre>\n"}],"owner":{"account_id":7472,"reputation":45806,"user_id":13009,"accept_rate":80,"display_name":"Greg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184349,"favorite_count":0,"down_vote_count":2,"up_vote_count":49,"accepted_answer_id":3406235,"answer_count":9,"score":47,"last_activity_date":1691771231,"creation_date":1280930125,"question_id":3406219,"body_markdown":"I&#39;m trying to throw an exception in my code like this:\r\n\r\n    throw RuntimeException(msg);\r\n\r\nBut when I build in NetBeans I get this error:\r\n\r\n    C:\\....java:50: cannot find symbol\r\n    symbol  : method RuntimeException(java.lang.String)\r\n    location: class ...\r\n            throw RuntimeException(msg);\r\n    1 error\r\n\r\nDo I need to import something?  Am I misspelling it?  I&#39;m sure I must be doing something dumb :-(\r\n","title":"How to throw RuntimeException (&quot;cannot find symbol&quot;)","body":"<p>I'm trying to throw an exception in my code like this:</p>\n\n<pre><code>throw RuntimeException(msg);\n</code></pre>\n\n<p>But when I build in NetBeans I get this error:</p>\n\n<pre><code>C:\\....java:50: cannot find symbol\nsymbol  : method RuntimeException(java.lang.String)\nlocation: class ...\n        throw RuntimeException(msg);\n1 error\n</code></pre>\n\n<p>Do I need to import something?  Am I misspelling it?  I'm sure I must be doing something dumb :-(</p>\n"},{"tags":["java","concurrency","deadlock"],"answers":[{"comments":[{"owner":{"account_id":10025552,"reputation":281,"user_id":13475302,"display_name":"Belenot"},"score":0,"creation_date":1691771845,"post_id":76885220,"comment_id":135541595,"body_markdown":"Oh, yes, you&#39;re right. I completely forgot, that this is not distributed lock on entity, but lock on object in memory. So really, I didn&#39;t think about simple detail that **If you don&#39;t share the objects between different threads, then there is no problem(with deadlock in app)**. Presumably, there can be problem, when flushing compatation results to database/external services, but this is not in context of the book). Thank you!)","body":"Oh, yes, you&#39;re right. I completely forgot, that this is not distributed lock on entity, but lock on object in memory. So really, I didn&#39;t think about simple detail that <b>If you don&#39;t share the objects between different threads, then there is no problem(with deadlock in app)</b>. Presumably, there can be problem, when flushing compatation results to database/external services, but this is not in context of the book). Thank you!)"}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691770805,"creation_date":1691770805,"answer_id":76885220,"question_id":76885133,"body_markdown":"That is meant to guarantee the order of locking those two `Account` objects is always the same, since `identityHashCode` never changes for an object and we get an easy comparison of == same object, != different object (but we can artificially compare one as &quot;lower&quot; than the other, giving us order). \r\n\r\nIf we have multiple threads using the same `Account` objects (possibly through a global cache, but that&#39;s an unnecessary detail) and for some reason the order of locking varies, there is the potential of a deadlock when one thread locks `fromAcct` first and another locks `toAcct` first, even though they&#39;re working on the same accounts.\r\n\r\nSo this guarantees that given two accounts, we can&#39;t get a deadlock and the code is thread-safe. If you don&#39;t share the objects between different threads, then there is no problem. But since this is JCIP, we can assume that accounts are shared and there are thousands of concurrent transactions (imagine a stock broker system for example, and accounts are cached and concurrently used).","title":"Why is deadlock-safe example with identityHashCode valid in Concurrency in Practice book?","body":"<p>That is meant to guarantee the order of locking those two <code>Account</code> objects is always the same, since <code>identityHashCode</code> never changes for an object and we get an easy comparison of == same object, != different object (but we can artificially compare one as &quot;lower&quot; than the other, giving us order).</p>\n<p>If we have multiple threads using the same <code>Account</code> objects (possibly through a global cache, but that's an unnecessary detail) and for some reason the order of locking varies, there is the potential of a deadlock when one thread locks <code>fromAcct</code> first and another locks <code>toAcct</code> first, even though they're working on the same accounts.</p>\n<p>So this guarantees that given two accounts, we can't get a deadlock and the code is thread-safe. If you don't share the objects between different threads, then there is no problem. But since this is JCIP, we can assume that accounts are shared and there are thousands of concurrent transactions (imagine a stock broker system for example, and accounts are cached and concurrently used).</p>\n"}],"owner":{"account_id":10025552,"reputation":281,"user_id":13475302,"display_name":"Belenot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76885220,"answer_count":1,"score":0,"last_activity_date":1691770805,"creation_date":1691769878,"question_id":76885133,"body_markdown":"Why is using identityHashCode in `listing 10.3` is valid. If there is two simultaneous requests:\r\n```\r\nA: transferMoney(myAccount, yourAccount, 10);\r\nB: transferMoney(yourAccount, myAccount, 20);\r\n```\r\n\r\nthen, there can be two objects of same account in memory. So assume, I have two threads, that create domain object of account `record Account(int accountNumber) { }`\r\n```(java)\r\nakk1Thread1 = new Account(1)\r\nakk1Thread2 = new Account(2)\r\nakk1Thread1.equals(akk1Thread2) // true\r\nSystem.identityHashCode(akk1Thread1) - System.identityHashCode(akk1Thread2) // -227806817 not equals\r\n```\r\nIf identityHashCode does not depend on state of an Object, how can we ensure that `System.identityHashCode(akk1Thread1) &gt; System.identityHashCode(akk2Thread1) == System.identityHashCode(akk1Thread2) &gt; System.identityHashCode(akk2Thread2)`?\r\n\r\n----\r\n\r\nListing 10.3. Inducing a lock ordering to avoid deadlock.\r\n```(java)\r\n    private static final Object tieLock = new Object();\r\n\r\n    public void transferMoney(final Account fromAcct,\r\n                              final Account toAcct,\r\n                              final DollarAmount amount)\r\n            throws InsufficientFundsException {\r\n\r\n        class Helper {\r\n            public void transfer() throws InsufficientFundsException {\r\n                if (fromAcct.getBalance().compareTo(amount) &lt; 0) {\r\n                    throw new InsufficientFundsException();\r\n                } else {\r\n                    fromAcct.debit(amount);\r\n                    toAcct.credit(amount);\r\n                }\r\n            }\r\n        }\r\n        int fromHash = System.identityHashCode(fromAcct);\r\n        int toHash = System.identityHashCode(toAcct);\r\n        if (fromHash &lt; toHash) {\r\n            synchronized (fromAcct) {\r\n                synchronized (toAcct) {\r\n                    new Helper().transfer();\r\n                }\r\n            }\r\n        } else if (fromHash &gt; toHash) {\r\n            synchronized (toAcct) {\r\n                synchronized (fromAcct) {\r\n                    new Helper().transfer();\r\n                }\r\n            }\r\n        } else {\r\n            synchronized (tieLock) {\r\n                synchronized (fromAcct) {\r\n                    synchronized (toAcct) {\r\n                        new Helper().transfer();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nShould I accept, that this example is valid only when application has global cache of Accounts?","title":"Why is deadlock-safe example with identityHashCode valid in Concurrency in Practice book?","body":"<p>Why is using identityHashCode in <code>listing 10.3</code> is valid. If there is two simultaneous requests:</p>\n<pre><code>A: transferMoney(myAccount, yourAccount, 10);\nB: transferMoney(yourAccount, myAccount, 20);\n</code></pre>\n<p>then, there can be two objects of same account in memory. So assume, I have two threads, that create domain object of account <code>record Account(int accountNumber) { }</code></p>\n<pre><code>akk1Thread1 = new Account(1)\nakk1Thread2 = new Account(2)\nakk1Thread1.equals(akk1Thread2) // true\nSystem.identityHashCode(akk1Thread1) - System.identityHashCode(akk1Thread2) // -227806817 not equals\n</code></pre>\n<p>If identityHashCode does not depend on state of an Object, how can we ensure that <code>System.identityHashCode(akk1Thread1) &gt; System.identityHashCode(akk2Thread1) == System.identityHashCode(akk1Thread2) &gt; System.identityHashCode(akk2Thread2)</code>?</p>\n<hr />\n<p>Listing 10.3. Inducing a lock ordering to avoid deadlock.</p>\n<pre><code>    private static final Object tieLock = new Object();\n\n    public void transferMoney(final Account fromAcct,\n                              final Account toAcct,\n                              final DollarAmount amount)\n            throws InsufficientFundsException {\n\n        class Helper {\n            public void transfer() throws InsufficientFundsException {\n                if (fromAcct.getBalance().compareTo(amount) &lt; 0) {\n                    throw new InsufficientFundsException();\n                } else {\n                    fromAcct.debit(amount);\n                    toAcct.credit(amount);\n                }\n            }\n        }\n        int fromHash = System.identityHashCode(fromAcct);\n        int toHash = System.identityHashCode(toAcct);\n        if (fromHash &lt; toHash) {\n            synchronized (fromAcct) {\n                synchronized (toAcct) {\n                    new Helper().transfer();\n                }\n            }\n        } else if (fromHash &gt; toHash) {\n            synchronized (toAcct) {\n                synchronized (fromAcct) {\n                    new Helper().transfer();\n                }\n            }\n        } else {\n            synchronized (tieLock) {\n                synchronized (fromAcct) {\n                    synchronized (toAcct) {\n                        new Helper().transfer();\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Should I accept, that this example is valid only when application has global cache of Accounts?</p>\n"},{"tags":["java","mysql","database","spring-boot","database-connection"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1691769899,"post_id":76885045,"comment_id":135541304,"body_markdown":"you should prob  put the version tag  of the dependecies in the pom file and your db name has a question mark?","body":"you should prob  put the version tag  of the dependecies in the pom file and your db name has a question mark?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1691770043,"post_id":76885045,"comment_id":135541325,"body_markdown":"1. Why are you trying to configure Cassandra password if your database is MySQL? 2. Are you able to connect with the same url and credentials using pgAdmin?","body":"1. Why are you trying to configure Cassandra password if your database is MySQL? 2. Are you able to connect with the same url and credentials using pgAdmin?"},{"owner":{"account_id":21730227,"reputation":63,"user_id":16039091,"display_name":"Imesh Isuranga"},"score":0,"creation_date":1691770229,"post_id":76885045,"comment_id":135541352,"body_markdown":"password is &#39;aaaa&#39;.I will correct it.It is a typing mistake.","body":"password is &#39;aaaa&#39;.I will correct it.It is a typing mistake."},{"owner":{"account_id":21730227,"reputation":63,"user_id":16039091,"display_name":"Imesh Isuranga"},"score":0,"creation_date":1691770293,"post_id":76885045,"comment_id":135541366,"body_markdown":"One of my friend done this without any error using  Cassandra password.Thats why.","body":"One of my friend done this without any error using  Cassandra password.Thats why."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1691770771,"post_id":76885045,"comment_id":135541448,"body_markdown":"hmm if your db has no question mark remove it from the spring.datasource.url there is no r eason for it to be there unless you have more things next to it","body":"hmm if your db has no question mark remove it from the spring.datasource.url there is no r eason for it to be there unless you have more things next to it"}],"owner":{"account_id":21730227,"reputation":63,"user_id":16039091,"display_name":"Imesh Isuranga"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691770345,"creation_date":1691769124,"question_id":76885045,"body_markdown":"I&#39;m trying to connect my spring boot application with MySQL database.when running the application following exception occur.\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: \r\n    YES)\r\n\r\nBelow is my database configuration.\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/Thogakade? \r\n    createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=aaaa\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nI created this application again and occur this.I found many answers regarding MySQL ERROR 1045 (28000): Access denied for user &#39;bill&#39;@&#39;localhost&#39; (using password: YES),\r\njava.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) and java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: No).But any one of these answers are not acceptable for me. \r\n\r\nLog:\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    at com.ijse.pos.thogakadeapi.ThogakadeApiApplication.main(ThogakadeApiApplication.java:11) ~[classes/:an]\r\n\r\n\r\nAlso I checked installation of my depencies(my SQL connector).Apparently I can&#39;t find any issue of that.\r\n\r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.ijse.pos&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ThogakadeApi&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ThogakadeApi&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nI tried below question answer for my trouble.\r\n\r\nhttps://stackoverflow.com/questions/10299148/mysql-error-1045-28000-access-denied-for-user-billlocalhost-using-passw\r\n\r\nBut that question and my case are different.\r\n\r\nI think if I used `spring.data.cassandra.password=aaaa` in application.properties instead of `spring.datasource.password=aaaa` error might be resolved.But when applied `spring.data.cassandra.password=aaaa` it considered as **Deprecated configuration property**(use replacement key &#39;spring.cassandra.password&#39;). After I replaced with `spring.cassandra.password`.Then occur below exception.\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.ijse.pos.thogakadeapi.ThogakadeApiApplication.main(ThogakadeApiApplication.java:11) ~[classes/:na]\r\n\r\n\r\nHow I solve this error.Plz help.\r\n","title":"Why is the configuration property &#39;spring.data.cassandra.password&#39; considered deprecated?","body":"<p>I'm trying to connect my spring boot application with MySQL database.when running the application following exception occur.</p>\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: \nYES)\n</code></pre>\n<p>Below is my database configuration.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/Thogakade? \ncreateDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=aaaa\nspring.jpa.show-sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>I created this application again and occur this.I found many answers regarding MySQL ERROR 1045 (28000): Access denied for user 'bill'@'localhost' (using password: YES),\njava.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES) and java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: No).But any one of these answers are not acceptable for me.</p>\n<p>Log:</p>\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\nat com.ijse.pos.thogakadeapi.ThogakadeApiApplication.main(ThogakadeApiApplication.java:11) ~[classes/:an]\n</code></pre>\n<p>Also I checked installation of my depencies(my SQL connector).Apparently I can't find any issue of that.</p>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.ijse.pos&lt;/groupId&gt;\n&lt;artifactId&gt;ThogakadeApi&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;ThogakadeApi&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I tried below question answer for my trouble.</p>\n<p><a href=\"https://stackoverflow.com/questions/10299148/mysql-error-1045-28000-access-denied-for-user-billlocalhost-using-passw\">MySQL ERROR 1045 (28000): Access denied for user &#39;bill&#39;@&#39;localhost&#39; (using password: YES)</a></p>\n<p>But that question and my case are different.</p>\n<p>I think if I used <code>spring.data.cassandra.password=aaaa</code> in application.properties instead of <code>spring.datasource.password=aaaa</code> error might be resolved.But when applied <code>spring.data.cassandra.password=aaaa</code> it considered as <strong>Deprecated configuration property</strong>(use replacement key 'spring.cassandra.password'). After I replaced with <code>spring.cassandra.password</code>.Then occur below exception.</p>\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\nat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\nat com.ijse.pos.thogakadeapi.ThogakadeApiApplication.main(ThogakadeApiApplication.java:11) ~[classes/:na]\n</code></pre>\n<p>How I solve this error.Plz help.</p>\n"},{"tags":["java","android","android-source","android-soong"],"owner":{"account_id":7388590,"reputation":103,"user_id":12519442,"display_name":"Banana999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691770165,"creation_date":1691769749,"question_id":76885125,"body_markdown":"I&#39;ve set up the AOSP project, it builds fine (Android 12).\r\n\r\nI&#39;ve created a new module under `frameworks/base/mylib` which is just a Java library. It builds fine and gets added to `/system/framework/mylib.jar`. The `jar` contains a `classes.dex` which contains my classes.\r\n\r\nI now want to add this `jar` to the boot class path so any app can access the classes inside of it. \r\n\r\n\r\nI&#39;ve tried adding `PRODUCT_BOOT_JARS += com.example.mylib` to my target product, `build/target/product/sdk_phone_arm64.mk`. \r\n\r\nThis causes the build to generate the following files in the `framework` folder:\r\n```\r\narm64/boot-com.example.mylib.art\r\narm64/boot-com.example.mylib.oat\r\narm64/boot-com.example.mylib.vdex\r\n\r\nboot-com.example.mylib.vdex\r\n```\r\n\r\nThe `jar` now contains an empty `classes.dex`. When I try accessing a class in my app, I am getting the following errors:\r\n```\r\nAccessing hidden field Lcom/example/mylib/MyClass;-&gt;\r\nMY_STRING:Ljava/lang/String; (blocked, linking, denied)\r\n\r\njava.lang.NoSuchFieldError: No static field MY_STRING of type Ljava/lang/String; \r\nin class Lcom/example/mylib/MyClass; or its superclasses \r\n(declaration of &#39;com.example.mylib.MyClass&#39; appears in \r\n/system/framework/com.example.mylib.jar)\r\n```\r\n\r\nThis seems to be due to the non SDK interface restrictions of Android. \r\n\r\nHow do I get around this, if I need to add it to the SDK where can I do that?\r\n\r\nI am aware that using the `&lt;uses-library&gt;` will add the library to the app&#39;s class path, but I&#39;d like to avoid app&#39;s needing to add this to their Manifest files and just make it globally available.","title":"AOSP Add Jar to Boot Class Path","body":"<p>I've set up the AOSP project, it builds fine (Android 12).</p>\n<p>I've created a new module under <code>frameworks/base/mylib</code> which is just a Java library. It builds fine and gets added to <code>/system/framework/mylib.jar</code>. The <code>jar</code> contains a <code>classes.dex</code> which contains my classes.</p>\n<p>I now want to add this <code>jar</code> to the boot class path so any app can access the classes inside of it.</p>\n<p>I've tried adding <code>PRODUCT_BOOT_JARS += com.example.mylib</code> to my target product, <code>build/target/product/sdk_phone_arm64.mk</code>.</p>\n<p>This causes the build to generate the following files in the <code>framework</code> folder:</p>\n<pre><code>arm64/boot-com.example.mylib.art\narm64/boot-com.example.mylib.oat\narm64/boot-com.example.mylib.vdex\n\nboot-com.example.mylib.vdex\n</code></pre>\n<p>The <code>jar</code> now contains an empty <code>classes.dex</code>. When I try accessing a class in my app, I am getting the following errors:</p>\n<pre><code>Accessing hidden field Lcom/example/mylib/MyClass;-&gt;\nMY_STRING:Ljava/lang/String; (blocked, linking, denied)\n\njava.lang.NoSuchFieldError: No static field MY_STRING of type Ljava/lang/String; \nin class Lcom/example/mylib/MyClass; or its superclasses \n(declaration of 'com.example.mylib.MyClass' appears in \n/system/framework/com.example.mylib.jar)\n</code></pre>\n<p>This seems to be due to the non SDK interface restrictions of Android.</p>\n<p>How do I get around this, if I need to add it to the SDK where can I do that?</p>\n<p>I am aware that using the <code>&lt;uses-library&gt;</code> will add the library to the app's class path, but I'd like to avoid app's needing to add this to their Manifest files and just make it globally available.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":7,"creation_date":1691680558,"post_id":76877098,"comment_id":135527020,"body_markdown":"*I would like to know what this kind of information table is called* - there is no single component that does exactly that. You can build your own using multiple components on a JPanel with a GridBagLayout.","body":"<i>I would like to know what this kind of information table is called</i> - there is no single component that does exactly that. You can build your own using multiple components on a JPanel with a GridBagLayout."},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":1,"creation_date":1691680611,"post_id":76877098,"comment_id":135527029,"body_markdown":"Take a look at different layouts within `Swing`: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html - I, personally, like the GridBagLayout most (gives you most freedom to arrange elements).","body":"Take a look at different layouts within <code>Swing</code>: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a> - I, personally, like the GridBagLayout most (gives you most freedom to arrange elements)."},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1691681242,"post_id":76877098,"comment_id":135527196,"body_markdown":"It&#39;s just a table.","body":"It&#39;s just a table."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691685426,"post_id":76877098,"comment_id":135528166,"body_markdown":"“Text in every cell can be selected and copy.” Does that include the non-data label cells, like **Overcharge Effect**?","body":"“Text in every cell can be selected and copy.” Does that include the non-data label cells, like <b>Overcharge Effect</b>?"},{"owner":{"account_id":29183914,"reputation":9,"user_id":22357486,"display_name":"Meltryllis"},"score":0,"creation_date":1691688762,"post_id":76877098,"comment_id":135528784,"body_markdown":"@VGR That&#39;s all ok.  it&#39;s not a necessary feature compared with other three points, you can think of it as an expansion feature.","body":"@VGR That&#39;s all ok.  it&#39;s not a necessary feature compared with other three points, you can think of it as an expansion feature."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691692938,"post_id":76877098,"comment_id":135529602,"body_markdown":"“Is there any good way to solve the border problem and avoid set every label&#39;s border.”  As far as I know, the answer is no.  You have to call setBorder on each label.","body":"“Is there any good way to solve the border problem and avoid set every label&#39;s border.”  As far as I know, the answer is no.  You have to call setBorder on each label."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691699062,"creation_date":1691699062,"answer_id":76879095,"question_id":76877098,"body_markdown":"You can display this in Swing in various ways.\r\n\r\nIf you use Swing components, align them using a GridLayout or even better GridBagLayout. Make up your mind which Swing components you use - if they are JLabels you will not be able to select and copy the text. In this case you are better off by using JTextField and use setEditable(false).\r\n\r\nIf you want all text to be selectable in one go - even across cells - you might prefer using a JEditorPane. Switch it into HTML mode and create a suitable HTML document containing a table with all your desired fields. Use the JEditorPane&#39;s setText() method to insert the HTML.","title":"How to create a form by java swing","body":"<p>You can display this in Swing in various ways.</p>\n<p>If you use Swing components, align them using a GridLayout or even better GridBagLayout. Make up your mind which Swing components you use - if they are JLabels you will not be able to select and copy the text. In this case you are better off by using JTextField and use setEditable(false).</p>\n<p>If you want all text to be selectable in one go - even across cells - you might prefer using a JEditorPane. Switch it into HTML mode and create a suitable HTML document containing a table with all your desired fields. Use the JEditorPane's setText() method to insert the HTML.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691769988,"creation_date":1691769988,"answer_id":76885145,"question_id":76877098,"body_markdown":"&gt;It is composed of key(e.g Rank or Hits) and value(e.g A or 1).\r\n\r\nI’m going to assume these are the only two keys.  If there are more, it is possible to make the layout more flexible.  If there could be a lot of them, a JTable may be a more appropriate choice.\r\n\r\n&gt;Its cells&#39; width is not same and fixed.\r\n\r\nGridBagLayout is designed for that exact case.  It’s powerful and flexible, but that creates a potential for complexity, so it is somewhat hard to use properly.\r\n\r\n&gt;Text in every cell can be selected and copy.\r\n\r\nFor now, based on your follow-up comment, I’m going to set aside this requirement, as the text and appearance are easier to accomplish with JLabels, whose text cannot be selected.\r\n\r\nFirst, you’ll want variables to hold all your cells.  Some of them might not need to be kept in private instance fields, if they never change, but I didn’t want to make that assumption.\r\n\r\n    public class SpecSheet {\r\n        private final JLabel baseDamageField;\r\n\r\n        private final JLabel rankLabelField;\r\n        private final JLabel rankValueField;\r\n\r\n        private final JLabel noblePhantasmTypeLabelField;\r\n        private final JLabel noblePhantasmTypeValueField;\r\n\r\n        private final JLabel hitsLabelField;\r\n        private final JLabel hitsValueField;\r\n\r\n        private final JLabel perHitPercentageLabelField;\r\n        private final JLabel perHitPercentageValueField;\r\n\r\n        private final JLabel effectLabelField;\r\n        private final JLabel effectValueField;\r\n\r\n        private final JLabel npLevelLabelField;\r\n        private final JLabel[] npLevelNameFields;\r\n\r\n        private final JLabel npLevelDamageLabelField;\r\n        private final JLabel[] npLevelDamageValueFields;\r\n\r\n        private final JLabel overchargeEffectLabelField;\r\n        private final JLabel overchargeEffectValueField;\r\n\r\n        private final JLabel chargeLabelField;\r\n        private final JLabel[] chargeNameFields;\r\n\r\n        private final JLabel chargeNPLabelField;\r\n        private final JLabel[] chargeNPValueFields;\r\n\r\n        private final JFrame frame;\r\n\r\nThen we can define them:\r\n\r\n    public SpecSheet() {\r\n        baseDamageField = new JLabel(&quot; Base Damage: x1.5 &quot;);\r\n        baseDamageField.setIcon(new ImageIcon(\r\n            SpecSheet.class.getResource(&quot;buster.png&quot;)));\r\n        baseDamageField.setHorizontalTextPosition(JLabel.CENTER);\r\n        baseDamageField.setVerticalTextPosition(JLabel.BOTTOM);\r\n\r\n        rankLabelField = new JLabel(&quot;Rank&quot;);\r\n        rankValueField = new JLabel(&quot;A&quot;);\r\n\r\n        noblePhantasmTypeLabelField = new JLabel(&quot;Noble Phantasm Type&quot;);\r\n        noblePhantasmTypeValueField = new JLabel(&quot;Anti-Fortress&quot;);\r\n\r\n        hitsLabelField = new JLabel(&quot;Hits&quot;);\r\n        hitsValueField = new JLabel(&quot; 1 &quot;);\r\n\r\n        perHitPercentageLabelField = new JLabel(&quot;Per Hit Percentage&quot;);\r\n        perHitPercentageValueField = new JLabel(&quot;100%&quot;);\r\n\r\n        effectLabelField = new JLabel(&quot;Effect&quot;);\r\n        effectValueField = new JLabel(&quot;Deals damage to all enemies.&quot;);\r\n        effectValueField.setIcon(new ImageIcon(\r\n            SpecSheet.class.getResource(&quot;increase.png&quot;)));\r\n        effectValueField.setHorizontalTextPosition(JLabel.LEADING);\r\n\r\n        npLevelLabelField = new JLabel(&quot;NP Level&quot;);\r\n        npLevelNameFields = new JLabel[] {\r\n            new JLabel(&quot;1&quot;),\r\n            new JLabel(&quot;2&quot;),\r\n            new JLabel(&quot;3&quot;),\r\n            new JLabel(&quot;4&quot;),\r\n            new JLabel(&quot;5&quot;),\r\n        };\r\n\r\n        npLevelDamageLabelField = new JLabel(&quot;Damage+&quot;);\r\n        npLevelDamageLabelField.setIcon(\r\n            new ImageIcon(SpecSheet.class.getResource(&quot;damage-boost.png&quot;)));\r\n        npLevelDamageValueFields = new JLabel[] {\r\n            new JLabel(&quot;300%&quot;),\r\n            new JLabel(&quot;400%&quot;),\r\n            new JLabel(&quot;450%&quot;),\r\n            new JLabel(&quot;475%&quot;),\r\n            new JLabel(&quot;500%&quot;),\r\n        };\r\n\r\n        overchargeEffectLabelField = new JLabel(&quot;Overcharge Effect&quot;);\r\n        overchargeEffectValueField =\r\n            new JLabel(&quot;Charges own NP gauge&quot;);\r\n\r\n        chargeLabelField = new JLabel(&quot;Charge&quot;);\r\n        chargeNameFields = new JLabel[] {\r\n            new JLabel(&quot;100%&quot;),\r\n            new JLabel(&quot;200%&quot;),\r\n            new JLabel(&quot;300%&quot;),\r\n            new JLabel(&quot;400%&quot;),\r\n            new JLabel(&quot;500%&quot;),\r\n        };\r\n\r\n        chargeNPLabelField = new JLabel(&quot;NP+&quot;);\r\n        chargeNPLabelField.setIcon(new ImageIcon(\r\n            SpecSheet.class.getResource(&quot;np-boost.png&quot;)));\r\n        chargeNPValueFields = new JLabel[] {\r\n            new JLabel(&quot;20%&quot;),\r\n            new JLabel(&quot;27.5%&quot;),\r\n            new JLabel(&quot;35%&quot;),\r\n            new JLabel(&quot;42.5%&quot;),\r\n            new JLabel(&quot;50%&quot;),\r\n        };\r\n\r\n(Note: `SpecSheet.class.getResource` expects the image file to reside in the *same package* as the SpecSheet class itself.  This is by design;  you don’t want to place images in the root of an application, since that increases the chance they will conflict with something else in the classpath.)\r\n\r\nNext, we want to set their appearance.  I found it cleaner to move that task into private methods:\r\n\r\n    updateFonts();\r\n    updateColors();\r\n    updateBorders();\r\n\r\nThe methods are a bit painstaking, but you only have write them once:\r\n\r\n    private void updateFonts() {\r\n        JLabel[] boldLabelFields = {\r\n            baseDamageField,\r\n            rankLabelField,\r\n            noblePhantasmTypeLabelField,\r\n            hitsLabelField,\r\n            perHitPercentageLabelField,\r\n            effectLabelField,\r\n            npLevelLabelField,\r\n            npLevelDamageLabelField,\r\n            overchargeEffectLabelField,\r\n            chargeLabelField,\r\n            chargeNPLabelField,\r\n        };\r\n        JLabel[][] boldFieldSets = {\r\n            boldLabelFields,\r\n            npLevelNameFields,\r\n            chargeNameFields,\r\n        };\r\n        for (JLabel[] fieldSet : boldFieldSets) {\r\n            for (JLabel field : fieldSet) {\r\n                Font font = field.getFont();\r\n                font = font.deriveFont(Font.BOLD);\r\n                field.setFont(font);\r\n            }\r\n        }\r\n\r\n        JLabel[] plainLabelFields = {\r\n            rankValueField,\r\n            noblePhantasmTypeValueField,\r\n            hitsValueField,\r\n            perHitPercentageValueField,\r\n            overchargeEffectValueField,\r\n        };\r\n        JLabel[][] plainFieldSets = {\r\n            plainLabelFields,\r\n            npLevelDamageValueFields,\r\n            chargeNPValueFields,\r\n        };\r\n        for (JLabel[] fieldSet : plainFieldSets) {\r\n            for (JLabel field : fieldSet) {\r\n                Font font = field.getFont();\r\n                font = font.deriveFont(Font.PLAIN);\r\n                field.setFont(font);\r\n            }\r\n        }\r\n    }\r\n\r\nSetting the colors:\r\n\r\n    private void updateColors() {\r\n        Color lightPink = Color.decode(&quot;#f6dde9&quot;);\r\n        Color darkPink = Color.decode(&quot;#e5ccd8&quot;);\r\n\r\n        Color lightGray = Color.decode(&quot;#ebebeb&quot;);\r\n        Color darkGray = Color.decode(&quot;#dfdfdf&quot;);\r\n\r\n        baseDamageField.setBackground(lightPink);\r\n        overchargeEffectValueField.setBackground(lightPink);\r\n        for (JLabel npField : chargeNPValueFields) {\r\n            npField.setBackground(lightPink);\r\n        }\r\n\r\n        overchargeEffectLabelField.setBackground(darkPink);\r\n        chargeLabelField.setBackground(darkPink);\r\n        for (JLabel nameField : chargeNameFields) {\r\n            nameField.setBackground(darkPink);\r\n        }\r\n        chargeNPLabelField.setBackground(darkPink);\r\n\r\n        rankLabelField.setBackground(darkGray);\r\n        noblePhantasmTypeLabelField.setBackground(darkGray);\r\n        hitsLabelField.setBackground(darkGray);\r\n        perHitPercentageLabelField.setBackground(darkGray);\r\n        effectLabelField.setBackground(darkGray);\r\n        npLevelLabelField.setBackground(darkGray);\r\n        npLevelDamageLabelField.setBackground(darkGray);\r\n        for (JLabel nameField : npLevelNameFields) {\r\n            nameField.setBackground(darkGray);\r\n        }\r\n\r\n        rankValueField.setBackground(lightGray);\r\n        noblePhantasmTypeValueField.setBackground(lightGray);\r\n        hitsValueField.setBackground(lightGray);\r\n        perHitPercentageValueField.setBackground(lightGray);\r\n        effectValueField.setBackground(lightGray);\r\n        for (JLabel valueField : npLevelDamageValueFields) {\r\n            valueField.setBackground(lightGray);\r\n        }\r\n    }\r\n\r\nAnd finally, the part you explicitly asked about—setting the borders:\r\n\r\n    private void updateBorders() {\r\n        Color borderColor = Color.decode(&quot;#bfbfbf&quot;);\r\n\r\n        Border leftOnly =\r\n            BorderFactory.createMatteBorder(0, 1, 0, 0, borderColor);\r\n        rankLabelField.setBorder(leftOnly);\r\n        noblePhantasmTypeLabelField.setBorder(leftOnly);\r\n\r\n        Border topOnly =\r\n            BorderFactory.createMatteBorder(1, 0, 0, 0, borderColor);\r\n        chargeLabelField.setBorder(topOnly);\r\n        effectLabelField.setBorder(topOnly);\r\n        npLevelLabelField.setBorder(topOnly);\r\n        npLevelDamageLabelField.setBorder(topOnly);\r\n        overchargeEffectLabelField.setBorder(topOnly);\r\n        chargeLabelField.setBorder(topOnly);\r\n        chargeNPLabelField.setBorder(topOnly);\r\n\r\n        Border leftAndTop =\r\n            BorderFactory.createMatteBorder(1, 1, 0, 0, borderColor);\r\n        rankValueField.setBorder(leftAndTop);\r\n        noblePhantasmTypeValueField.setBorder(leftAndTop);\r\n        hitsLabelField.setBorder(leftAndTop);\r\n        hitsValueField.setBorder(leftAndTop);\r\n        perHitPercentageLabelField.setBorder(leftAndTop);\r\n        perHitPercentageValueField.setBorder(leftAndTop);\r\n        effectValueField.setBorder(leftAndTop);\r\n        npLevelLabelField.setBorder(leftAndTop);\r\n        overchargeEffectValueField.setBorder(leftAndTop);\r\n        for (JLabel field : npLevelNameFields) {\r\n            field.setBorder(leftAndTop);\r\n        }\r\n        for (JLabel field : npLevelDamageValueFields) {\r\n            field.setBorder(leftAndTop);\r\n        }\r\n        for (JLabel field : chargeNameFields) {\r\n            field.setBorder(leftAndTop);\r\n        }\r\n        for (JLabel field : chargeNPValueFields) {\r\n            field.setBorder(leftAndTop);\r\n        }\r\n    }\r\n\r\nIt’s a pain, but ultimately the method is only 40 lines long.\r\n\r\nGoing back to our constructor, we’re now ready to assemble everything:\r\n\r\n    JPanel panel = new JPanel(new GridBagLayout());\r\n\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.weightx = 1;\r\n    gbc.weighty = 1;\r\n    gbc.fill = GridBagConstraints.BOTH;\r\n    gbc.ipadx = 40;\r\n    gbc.ipady = 16;\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 0;\r\n    gbc.gridheight = 4;\r\n    panel.add(baseDamageField, gbc);\r\n\r\n    gbc.gridx++;\r\n    gbc.gridheight = 1;\r\n    panel.add(rankLabelField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(rankValueField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(hitsLabelField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(hitsValueField, gbc);\r\n\r\n    gbc.gridx++;\r\n    gbc.gridy -= 3;\r\n    gbc.gridwidth = 4;\r\n    panel.add(noblePhantasmTypeLabelField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(noblePhantasmTypeValueField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(perHitPercentageLabelField, gbc);\r\n    gbc.gridy++;\r\n    panel.add(perHitPercentageValueField, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    gbc.gridwidth = 1;\r\n    panel.add(effectLabelField, gbc);\r\n    gbc.gridx++;\r\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    panel.add(effectValueField, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    gbc.gridwidth = 1;\r\n    panel.add(npLevelLabelField, gbc);\r\n    for (JLabel nameField : npLevelNameFields) {\r\n        gbc.gridx++;\r\n        panel.add(nameField, gbc);\r\n    }\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    panel.add(npLevelDamageLabelField, gbc);\r\n    for (JLabel valueField : npLevelDamageValueFields) {\r\n        gbc.gridx++;\r\n        panel.add(valueField, gbc);\r\n    }\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    panel.add(overchargeEffectLabelField, gbc);\r\n    gbc.gridx++;\r\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    panel.add(overchargeEffectValueField, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    gbc.gridwidth = 1;\r\n    panel.add(chargeLabelField, gbc);\r\n    for (JLabel nameField : chargeNameFields) {\r\n        gbc.gridx++;\r\n        panel.add(nameField, gbc);\r\n    }\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy++;\r\n    panel.add(chargeNPLabelField, gbc);\r\n    for (JLabel valueField : chargeNPValueFields) {\r\n        gbc.gridx++;\r\n        panel.add(valueField, gbc);\r\n    }\r\n\r\n    for (Object child : panel.getComponents()) {\r\n        if (child instanceof JComponent c) {\r\n            // Background colors are only used by opaque Swing components.\r\n            c.setOpaque(true);\r\n        }\r\n        if (child instanceof JLabel label) {\r\n            label.setHorizontalAlignment(JLabel.CENTER);\r\n        }\r\n    }\r\n\r\n    frame = new JFrame(&quot;Sword of Promised Victory&quot;);\r\n    frame.getContentPane().add(panel);\r\n    frame.pack();\r\n    frame.setLocationByPlatform(true);\r\n\r\nA complex UI can be tedious to write, but you only have to do it once, so it’s best to just do what you have to do.\r\n\r\nHere is the complete program:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.EventQueue;\r\n\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.border.Border;\r\n\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class SpecSheet {\r\n        private final JLabel baseDamageField;\r\n\r\n        private final JLabel rankLabelField;\r\n        private final JLabel rankValueField;\r\n\r\n        private final JLabel noblePhantasmTypeLabelField;\r\n        private final JLabel noblePhantasmTypeValueField;\r\n\r\n        private final JLabel hitsLabelField;\r\n        private final JLabel hitsValueField;\r\n\r\n        private final JLabel perHitPercentageLabelField;\r\n        private final JLabel perHitPercentageValueField;\r\n\r\n        private final JLabel effectLabelField;\r\n        private final JLabel effectValueField;\r\n\r\n        private final JLabel npLevelLabelField;\r\n        private final JLabel[] npLevelNameFields;\r\n\r\n        private final JLabel npLevelDamageLabelField;\r\n        private final JLabel[] npLevelDamageValueFields;\r\n\r\n        private final JLabel overchargeEffectLabelField;\r\n        private final JLabel overchargeEffectValueField;\r\n\r\n        private final JLabel chargeLabelField;\r\n        private final JLabel[] chargeNameFields;\r\n\r\n        private final JLabel chargeNPLabelField;\r\n        private final JLabel[] chargeNPValueFields;\r\n\r\n        private final JFrame frame;\r\n\r\n        public SpecSheet() {\r\n            baseDamageField = new JLabel(&quot; Base Damage: x1.5 &quot;);\r\n            baseDamageField.setIcon(new ImageIcon(\r\n                SpecSheet.class.getResource(&quot;buster.png&quot;)));\r\n            baseDamageField.setHorizontalTextPosition(JLabel.CENTER);\r\n            baseDamageField.setVerticalTextPosition(JLabel.BOTTOM);\r\n\r\n            rankLabelField = new JLabel(&quot;Rank&quot;);\r\n            rankValueField = new JLabel(&quot;A&quot;);\r\n\r\n            noblePhantasmTypeLabelField = new JLabel(&quot;Noble Phantasm Type&quot;);\r\n            noblePhantasmTypeValueField = new JLabel(&quot;Anti-Fortress&quot;);\r\n\r\n            hitsLabelField = new JLabel(&quot;Hits&quot;);\r\n            hitsValueField = new JLabel(&quot; 1 &quot;);\r\n\r\n            perHitPercentageLabelField = new JLabel(&quot;Per Hit Percentage&quot;);\r\n            perHitPercentageValueField = new JLabel(&quot;100%&quot;);\r\n\r\n            effectLabelField = new JLabel(&quot;Effect&quot;);\r\n            effectValueField = new JLabel(&quot;Deals damage to all enemies.&quot;);\r\n            effectValueField.setIcon(new ImageIcon(\r\n                SpecSheet.class.getResource(&quot;increase.png&quot;)));\r\n            effectValueField.setHorizontalTextPosition(JLabel.LEADING);\r\n\r\n            npLevelLabelField = new JLabel(&quot;NP Level&quot;);\r\n            npLevelNameFields = new JLabel[] {\r\n                new JLabel(&quot;1&quot;),\r\n                new JLabel(&quot;2&quot;),\r\n                new JLabel(&quot;3&quot;),\r\n                new JLabel(&quot;4&quot;),\r\n                new JLabel(&quot;5&quot;),\r\n            };\r\n\r\n            npLevelDamageLabelField = new JLabel(&quot;Damage+&quot;);\r\n            npLevelDamageLabelField.setIcon(\r\n                new ImageIcon(SpecSheet.class.getResource(&quot;damage-boost.png&quot;)));\r\n            npLevelDamageValueFields = new JLabel[] {\r\n                new JLabel(&quot;300%&quot;),\r\n                new JLabel(&quot;400%&quot;),\r\n                new JLabel(&quot;450%&quot;),\r\n                new JLabel(&quot;475%&quot;),\r\n                new JLabel(&quot;500%&quot;),\r\n            };\r\n\r\n            overchargeEffectLabelField = new JLabel(&quot;Overcharge Effect&quot;);\r\n            overchargeEffectValueField =\r\n                new JLabel(&quot;Charges own NP gauge&quot;);\r\n\r\n            chargeLabelField = new JLabel(&quot;Charge&quot;);\r\n            chargeNameFields = new JLabel[] {\r\n                new JLabel(&quot;100%&quot;),\r\n                new JLabel(&quot;200%&quot;),\r\n                new JLabel(&quot;300%&quot;),\r\n                new JLabel(&quot;400%&quot;),\r\n                new JLabel(&quot;500%&quot;),\r\n            };\r\n\r\n            chargeNPLabelField = new JLabel(&quot;NP+&quot;);\r\n            chargeNPLabelField.setIcon(new ImageIcon(\r\n                SpecSheet.class.getResource(&quot;np-boost.png&quot;)));\r\n            chargeNPValueFields = new JLabel[] {\r\n                new JLabel(&quot;20%&quot;),\r\n                new JLabel(&quot;27.5%&quot;),\r\n                new JLabel(&quot;35%&quot;),\r\n                new JLabel(&quot;42.5%&quot;),\r\n                new JLabel(&quot;50%&quot;),\r\n            };\r\n\r\n            updateFonts();\r\n            updateColors();\r\n            updateBorders();\r\n\r\n            JPanel panel = new JPanel(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.weighty = 1;\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n            gbc.ipadx = 40;\r\n            gbc.ipady = 16;\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.gridheight = 4;\r\n            panel.add(baseDamageField, gbc);\r\n\r\n            gbc.gridx++;\r\n            gbc.gridheight = 1;\r\n            panel.add(rankLabelField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(rankValueField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(hitsLabelField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(hitsValueField, gbc);\r\n\r\n            gbc.gridx++;\r\n            gbc.gridy -= 3;\r\n            gbc.gridwidth = 4;\r\n            panel.add(noblePhantasmTypeLabelField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(noblePhantasmTypeValueField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(perHitPercentageLabelField, gbc);\r\n            gbc.gridy++;\r\n            panel.add(perHitPercentageValueField, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = 1;\r\n            panel.add(effectLabelField, gbc);\r\n            gbc.gridx++;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            panel.add(effectValueField, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = 1;\r\n            panel.add(npLevelLabelField, gbc);\r\n            for (JLabel nameField : npLevelNameFields) {\r\n                gbc.gridx++;\r\n                panel.add(nameField, gbc);\r\n            }\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            panel.add(npLevelDamageLabelField, gbc);\r\n            for (JLabel valueField : npLevelDamageValueFields) {\r\n                gbc.gridx++;\r\n                panel.add(valueField, gbc);\r\n            }\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            panel.add(overchargeEffectLabelField, gbc);\r\n            gbc.gridx++;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            panel.add(overchargeEffectValueField, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = 1;\r\n            panel.add(chargeLabelField, gbc);\r\n            for (JLabel nameField : chargeNameFields) {\r\n                gbc.gridx++;\r\n                panel.add(nameField, gbc);\r\n            }\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            panel.add(chargeNPLabelField, gbc);\r\n            for (JLabel valueField : chargeNPValueFields) {\r\n                gbc.gridx++;\r\n                panel.add(valueField, gbc);\r\n            }\r\n\r\n            for (Object child : panel.getComponents()) {\r\n                if (child instanceof JComponent c) {\r\n                    // Background colors are only used by opaque Swing components.\r\n                    c.setOpaque(true);\r\n                }\r\n                if (child instanceof JLabel label) {\r\n                    label.setHorizontalAlignment(JLabel.CENTER);\r\n                }\r\n            }\r\n\r\n            frame = new JFrame(&quot;Sword of Promised Victory&quot;);\r\n            frame.getContentPane().add(panel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n        }\r\n\r\n        private void updateFonts() {\r\n            JLabel[] boldLabelFields = {\r\n                baseDamageField,\r\n                rankLabelField,\r\n                noblePhantasmTypeLabelField,\r\n                hitsLabelField,\r\n                perHitPercentageLabelField,\r\n                effectLabelField,\r\n                npLevelLabelField,\r\n                npLevelDamageLabelField,\r\n                overchargeEffectLabelField,\r\n                chargeLabelField,\r\n                chargeNPLabelField,\r\n            };\r\n            JLabel[][] boldFieldSets = {\r\n                boldLabelFields,\r\n                npLevelNameFields,\r\n                chargeNameFields,\r\n            };\r\n            for (JLabel[] fieldSet : boldFieldSets) {\r\n                for (JLabel field : fieldSet) {\r\n                    Font font = field.getFont();\r\n                    font = font.deriveFont(Font.BOLD);\r\n                    field.setFont(font);\r\n                }\r\n            }\r\n\r\n            JLabel[] plainLabelFields = {\r\n                rankValueField,\r\n                noblePhantasmTypeValueField,\r\n                hitsValueField,\r\n                perHitPercentageValueField,\r\n                overchargeEffectValueField,\r\n            };\r\n            JLabel[][] plainFieldSets = {\r\n                plainLabelFields,\r\n                npLevelDamageValueFields,\r\n                chargeNPValueFields,\r\n            };\r\n            for (JLabel[] fieldSet : plainFieldSets) {\r\n                for (JLabel field : fieldSet) {\r\n                    Font font = field.getFont();\r\n                    font = font.deriveFont(Font.PLAIN);\r\n                    field.setFont(font);\r\n                }\r\n            }\r\n        }\r\n\r\n        private void updateColors() {\r\n            Color lightPink = Color.decode(&quot;#f6dde9&quot;);\r\n            Color darkPink = Color.decode(&quot;#e5ccd8&quot;);\r\n\r\n            Color lightGray = Color.decode(&quot;#ebebeb&quot;);\r\n            Color darkGray = Color.decode(&quot;#dfdfdf&quot;);\r\n\r\n            baseDamageField.setBackground(lightPink);\r\n            overchargeEffectValueField.setBackground(lightPink);\r\n            for (JLabel npField : chargeNPValueFields) {\r\n                npField.setBackground(lightPink);\r\n            }\r\n\r\n            overchargeEffectLabelField.setBackground(darkPink);\r\n            chargeLabelField.setBackground(darkPink);\r\n            for (JLabel nameField : chargeNameFields) {\r\n                nameField.setBackground(darkPink);\r\n            }\r\n            chargeNPLabelField.setBackground(darkPink);\r\n\r\n            rankLabelField.setBackground(darkGray);\r\n            noblePhantasmTypeLabelField.setBackground(darkGray);\r\n            hitsLabelField.setBackground(darkGray);\r\n            perHitPercentageLabelField.setBackground(darkGray);\r\n            effectLabelField.setBackground(darkGray);\r\n            npLevelLabelField.setBackground(darkGray);\r\n            npLevelDamageLabelField.setBackground(darkGray);\r\n            for (JLabel nameField : npLevelNameFields) {\r\n                nameField.setBackground(darkGray);\r\n            }\r\n\r\n            rankValueField.setBackground(lightGray);\r\n            noblePhantasmTypeValueField.setBackground(lightGray);\r\n            hitsValueField.setBackground(lightGray);\r\n            perHitPercentageValueField.setBackground(lightGray);\r\n            effectValueField.setBackground(lightGray);\r\n            for (JLabel valueField : npLevelDamageValueFields) {\r\n                valueField.setBackground(lightGray);\r\n            }\r\n        }\r\n\r\n        private void updateBorders() {\r\n            Color borderColor = Color.decode(&quot;#bfbfbf&quot;);\r\n\r\n            Border leftOnly =\r\n                BorderFactory.createMatteBorder(0, 1, 0, 0, borderColor);\r\n            rankLabelField.setBorder(leftOnly);\r\n            noblePhantasmTypeLabelField.setBorder(leftOnly);\r\n\r\n            Border topOnly =\r\n                BorderFactory.createMatteBorder(1, 0, 0, 0, borderColor);\r\n            chargeLabelField.setBorder(topOnly);\r\n            effectLabelField.setBorder(topOnly);\r\n            npLevelLabelField.setBorder(topOnly);\r\n            npLevelDamageLabelField.setBorder(topOnly);\r\n            overchargeEffectLabelField.setBorder(topOnly);\r\n            chargeLabelField.setBorder(topOnly);\r\n            chargeNPLabelField.setBorder(topOnly);\r\n\r\n            Border leftAndTop =\r\n                BorderFactory.createMatteBorder(1, 1, 0, 0, borderColor);\r\n            rankValueField.setBorder(leftAndTop);\r\n            noblePhantasmTypeValueField.setBorder(leftAndTop);\r\n            hitsLabelField.setBorder(leftAndTop);\r\n            hitsValueField.setBorder(leftAndTop);\r\n            perHitPercentageLabelField.setBorder(leftAndTop);\r\n            perHitPercentageValueField.setBorder(leftAndTop);\r\n            effectValueField.setBorder(leftAndTop);\r\n            npLevelLabelField.setBorder(leftAndTop);\r\n            overchargeEffectValueField.setBorder(leftAndTop);\r\n            for (JLabel field : npLevelNameFields) {\r\n                field.setBorder(leftAndTop);\r\n            }\r\n            for (JLabel field : npLevelDamageValueFields) {\r\n                field.setBorder(leftAndTop);\r\n            }\r\n            for (JLabel field : chargeNameFields) {\r\n                field.setBorder(leftAndTop);\r\n            }\r\n            for (JLabel field : chargeNPValueFields) {\r\n                field.setBorder(leftAndTop);\r\n            }\r\n        }\r\n\r\n        public void show() {\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public void hide() {\r\n            frame.setVisible(false);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; {\r\n                try {\r\n                    UIManager.setLookAndFeel(\r\n                        UIManager.getSystemLookAndFeelClassName());\r\n                } catch (UnsupportedLookAndFeelException |\r\n                         ReflectiveOperationException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                SpecSheet s = new SpecSheet();\r\n                s.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                s.show();\r\n            });\r\n        }\r\n    }\r\n\r\nIt is worth mentioning that JavaFX would make some of this noticeably easier.  The colors and fonts could be accomplished with CSS classes.  GridPane has a [setGridLinesVisible](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/GridPane.html#setGridLinesVisible(boolean)) method which would remove the need for setting borders.\r\n","title":"How to create a form by java swing","body":"<blockquote>\n<p>It is composed of key(e.g Rank or Hits) and value(e.g A or 1).</p>\n</blockquote>\n<p>I’m going to assume these are the only two keys.  If there are more, it is possible to make the layout more flexible.  If there could be a lot of them, a JTable may be a more appropriate choice.</p>\n<blockquote>\n<p>Its cells' width is not same and fixed.</p>\n</blockquote>\n<p>GridBagLayout is designed for that exact case.  It’s powerful and flexible, but that creates a potential for complexity, so it is somewhat hard to use properly.</p>\n<blockquote>\n<p>Text in every cell can be selected and copy.</p>\n</blockquote>\n<p>For now, based on your follow-up comment, I’m going to set aside this requirement, as the text and appearance are easier to accomplish with JLabels, whose text cannot be selected.</p>\n<p>First, you’ll want variables to hold all your cells.  Some of them might not need to be kept in private instance fields, if they never change, but I didn’t want to make that assumption.</p>\n<pre><code>public class SpecSheet {\n    private final JLabel baseDamageField;\n\n    private final JLabel rankLabelField;\n    private final JLabel rankValueField;\n\n    private final JLabel noblePhantasmTypeLabelField;\n    private final JLabel noblePhantasmTypeValueField;\n\n    private final JLabel hitsLabelField;\n    private final JLabel hitsValueField;\n\n    private final JLabel perHitPercentageLabelField;\n    private final JLabel perHitPercentageValueField;\n\n    private final JLabel effectLabelField;\n    private final JLabel effectValueField;\n\n    private final JLabel npLevelLabelField;\n    private final JLabel[] npLevelNameFields;\n\n    private final JLabel npLevelDamageLabelField;\n    private final JLabel[] npLevelDamageValueFields;\n\n    private final JLabel overchargeEffectLabelField;\n    private final JLabel overchargeEffectValueField;\n\n    private final JLabel chargeLabelField;\n    private final JLabel[] chargeNameFields;\n\n    private final JLabel chargeNPLabelField;\n    private final JLabel[] chargeNPValueFields;\n\n    private final JFrame frame;\n</code></pre>\n<p>Then we can define them:</p>\n<pre><code>public SpecSheet() {\n    baseDamageField = new JLabel(&quot; Base Damage: x1.5 &quot;);\n    baseDamageField.setIcon(new ImageIcon(\n        SpecSheet.class.getResource(&quot;buster.png&quot;)));\n    baseDamageField.setHorizontalTextPosition(JLabel.CENTER);\n    baseDamageField.setVerticalTextPosition(JLabel.BOTTOM);\n\n    rankLabelField = new JLabel(&quot;Rank&quot;);\n    rankValueField = new JLabel(&quot;A&quot;);\n\n    noblePhantasmTypeLabelField = new JLabel(&quot;Noble Phantasm Type&quot;);\n    noblePhantasmTypeValueField = new JLabel(&quot;Anti-Fortress&quot;);\n\n    hitsLabelField = new JLabel(&quot;Hits&quot;);\n    hitsValueField = new JLabel(&quot; 1 &quot;);\n\n    perHitPercentageLabelField = new JLabel(&quot;Per Hit Percentage&quot;);\n    perHitPercentageValueField = new JLabel(&quot;100%&quot;);\n\n    effectLabelField = new JLabel(&quot;Effect&quot;);\n    effectValueField = new JLabel(&quot;Deals damage to all enemies.&quot;);\n    effectValueField.setIcon(new ImageIcon(\n        SpecSheet.class.getResource(&quot;increase.png&quot;)));\n    effectValueField.setHorizontalTextPosition(JLabel.LEADING);\n\n    npLevelLabelField = new JLabel(&quot;NP Level&quot;);\n    npLevelNameFields = new JLabel[] {\n        new JLabel(&quot;1&quot;),\n        new JLabel(&quot;2&quot;),\n        new JLabel(&quot;3&quot;),\n        new JLabel(&quot;4&quot;),\n        new JLabel(&quot;5&quot;),\n    };\n\n    npLevelDamageLabelField = new JLabel(&quot;Damage+&quot;);\n    npLevelDamageLabelField.setIcon(\n        new ImageIcon(SpecSheet.class.getResource(&quot;damage-boost.png&quot;)));\n    npLevelDamageValueFields = new JLabel[] {\n        new JLabel(&quot;300%&quot;),\n        new JLabel(&quot;400%&quot;),\n        new JLabel(&quot;450%&quot;),\n        new JLabel(&quot;475%&quot;),\n        new JLabel(&quot;500%&quot;),\n    };\n\n    overchargeEffectLabelField = new JLabel(&quot;Overcharge Effect&quot;);\n    overchargeEffectValueField =\n        new JLabel(&quot;Charges own NP gauge&quot;);\n\n    chargeLabelField = new JLabel(&quot;Charge&quot;);\n    chargeNameFields = new JLabel[] {\n        new JLabel(&quot;100%&quot;),\n        new JLabel(&quot;200%&quot;),\n        new JLabel(&quot;300%&quot;),\n        new JLabel(&quot;400%&quot;),\n        new JLabel(&quot;500%&quot;),\n    };\n\n    chargeNPLabelField = new JLabel(&quot;NP+&quot;);\n    chargeNPLabelField.setIcon(new ImageIcon(\n        SpecSheet.class.getResource(&quot;np-boost.png&quot;)));\n    chargeNPValueFields = new JLabel[] {\n        new JLabel(&quot;20%&quot;),\n        new JLabel(&quot;27.5%&quot;),\n        new JLabel(&quot;35%&quot;),\n        new JLabel(&quot;42.5%&quot;),\n        new JLabel(&quot;50%&quot;),\n    };\n</code></pre>\n<p>(Note: <code>SpecSheet.class.getResource</code> expects the image file to reside in the <em>same package</em> as the SpecSheet class itself.  This is by design;  you don’t want to place images in the root of an application, since that increases the chance they will conflict with something else in the classpath.)</p>\n<p>Next, we want to set their appearance.  I found it cleaner to move that task into private methods:</p>\n<pre><code>updateFonts();\nupdateColors();\nupdateBorders();\n</code></pre>\n<p>The methods are a bit painstaking, but you only have write them once:</p>\n<pre><code>private void updateFonts() {\n    JLabel[] boldLabelFields = {\n        baseDamageField,\n        rankLabelField,\n        noblePhantasmTypeLabelField,\n        hitsLabelField,\n        perHitPercentageLabelField,\n        effectLabelField,\n        npLevelLabelField,\n        npLevelDamageLabelField,\n        overchargeEffectLabelField,\n        chargeLabelField,\n        chargeNPLabelField,\n    };\n    JLabel[][] boldFieldSets = {\n        boldLabelFields,\n        npLevelNameFields,\n        chargeNameFields,\n    };\n    for (JLabel[] fieldSet : boldFieldSets) {\n        for (JLabel field : fieldSet) {\n            Font font = field.getFont();\n            font = font.deriveFont(Font.BOLD);\n            field.setFont(font);\n        }\n    }\n\n    JLabel[] plainLabelFields = {\n        rankValueField,\n        noblePhantasmTypeValueField,\n        hitsValueField,\n        perHitPercentageValueField,\n        overchargeEffectValueField,\n    };\n    JLabel[][] plainFieldSets = {\n        plainLabelFields,\n        npLevelDamageValueFields,\n        chargeNPValueFields,\n    };\n    for (JLabel[] fieldSet : plainFieldSets) {\n        for (JLabel field : fieldSet) {\n            Font font = field.getFont();\n            font = font.deriveFont(Font.PLAIN);\n            field.setFont(font);\n        }\n    }\n}\n</code></pre>\n<p>Setting the colors:</p>\n<pre><code>private void updateColors() {\n    Color lightPink = Color.decode(&quot;#f6dde9&quot;);\n    Color darkPink = Color.decode(&quot;#e5ccd8&quot;);\n\n    Color lightGray = Color.decode(&quot;#ebebeb&quot;);\n    Color darkGray = Color.decode(&quot;#dfdfdf&quot;);\n\n    baseDamageField.setBackground(lightPink);\n    overchargeEffectValueField.setBackground(lightPink);\n    for (JLabel npField : chargeNPValueFields) {\n        npField.setBackground(lightPink);\n    }\n\n    overchargeEffectLabelField.setBackground(darkPink);\n    chargeLabelField.setBackground(darkPink);\n    for (JLabel nameField : chargeNameFields) {\n        nameField.setBackground(darkPink);\n    }\n    chargeNPLabelField.setBackground(darkPink);\n\n    rankLabelField.setBackground(darkGray);\n    noblePhantasmTypeLabelField.setBackground(darkGray);\n    hitsLabelField.setBackground(darkGray);\n    perHitPercentageLabelField.setBackground(darkGray);\n    effectLabelField.setBackground(darkGray);\n    npLevelLabelField.setBackground(darkGray);\n    npLevelDamageLabelField.setBackground(darkGray);\n    for (JLabel nameField : npLevelNameFields) {\n        nameField.setBackground(darkGray);\n    }\n\n    rankValueField.setBackground(lightGray);\n    noblePhantasmTypeValueField.setBackground(lightGray);\n    hitsValueField.setBackground(lightGray);\n    perHitPercentageValueField.setBackground(lightGray);\n    effectValueField.setBackground(lightGray);\n    for (JLabel valueField : npLevelDamageValueFields) {\n        valueField.setBackground(lightGray);\n    }\n}\n</code></pre>\n<p>And finally, the part you explicitly asked about—setting the borders:</p>\n<pre><code>private void updateBorders() {\n    Color borderColor = Color.decode(&quot;#bfbfbf&quot;);\n\n    Border leftOnly =\n        BorderFactory.createMatteBorder(0, 1, 0, 0, borderColor);\n    rankLabelField.setBorder(leftOnly);\n    noblePhantasmTypeLabelField.setBorder(leftOnly);\n\n    Border topOnly =\n        BorderFactory.createMatteBorder(1, 0, 0, 0, borderColor);\n    chargeLabelField.setBorder(topOnly);\n    effectLabelField.setBorder(topOnly);\n    npLevelLabelField.setBorder(topOnly);\n    npLevelDamageLabelField.setBorder(topOnly);\n    overchargeEffectLabelField.setBorder(topOnly);\n    chargeLabelField.setBorder(topOnly);\n    chargeNPLabelField.setBorder(topOnly);\n\n    Border leftAndTop =\n        BorderFactory.createMatteBorder(1, 1, 0, 0, borderColor);\n    rankValueField.setBorder(leftAndTop);\n    noblePhantasmTypeValueField.setBorder(leftAndTop);\n    hitsLabelField.setBorder(leftAndTop);\n    hitsValueField.setBorder(leftAndTop);\n    perHitPercentageLabelField.setBorder(leftAndTop);\n    perHitPercentageValueField.setBorder(leftAndTop);\n    effectValueField.setBorder(leftAndTop);\n    npLevelLabelField.setBorder(leftAndTop);\n    overchargeEffectValueField.setBorder(leftAndTop);\n    for (JLabel field : npLevelNameFields) {\n        field.setBorder(leftAndTop);\n    }\n    for (JLabel field : npLevelDamageValueFields) {\n        field.setBorder(leftAndTop);\n    }\n    for (JLabel field : chargeNameFields) {\n        field.setBorder(leftAndTop);\n    }\n    for (JLabel field : chargeNPValueFields) {\n        field.setBorder(leftAndTop);\n    }\n}\n</code></pre>\n<p>It’s a pain, but ultimately the method is only 40 lines long.</p>\n<p>Going back to our constructor, we’re now ready to assemble everything:</p>\n<pre><code>JPanel panel = new JPanel(new GridBagLayout());\n\nGridBagConstraints gbc = new GridBagConstraints();\ngbc.weightx = 1;\ngbc.weighty = 1;\ngbc.fill = GridBagConstraints.BOTH;\ngbc.ipadx = 40;\ngbc.ipady = 16;\n\ngbc.gridx = 0;\ngbc.gridy = 0;\ngbc.gridheight = 4;\npanel.add(baseDamageField, gbc);\n\ngbc.gridx++;\ngbc.gridheight = 1;\npanel.add(rankLabelField, gbc);\ngbc.gridy++;\npanel.add(rankValueField, gbc);\ngbc.gridy++;\npanel.add(hitsLabelField, gbc);\ngbc.gridy++;\npanel.add(hitsValueField, gbc);\n\ngbc.gridx++;\ngbc.gridy -= 3;\ngbc.gridwidth = 4;\npanel.add(noblePhantasmTypeLabelField, gbc);\ngbc.gridy++;\npanel.add(noblePhantasmTypeValueField, gbc);\ngbc.gridy++;\npanel.add(perHitPercentageLabelField, gbc);\ngbc.gridy++;\npanel.add(perHitPercentageValueField, gbc);\n\ngbc.gridx = 0;\ngbc.gridy++;\ngbc.gridwidth = 1;\npanel.add(effectLabelField, gbc);\ngbc.gridx++;\ngbc.gridwidth = GridBagConstraints.REMAINDER;\npanel.add(effectValueField, gbc);\n\ngbc.gridx = 0;\ngbc.gridy++;\ngbc.gridwidth = 1;\npanel.add(npLevelLabelField, gbc);\nfor (JLabel nameField : npLevelNameFields) {\n    gbc.gridx++;\n    panel.add(nameField, gbc);\n}\n\ngbc.gridx = 0;\ngbc.gridy++;\npanel.add(npLevelDamageLabelField, gbc);\nfor (JLabel valueField : npLevelDamageValueFields) {\n    gbc.gridx++;\n    panel.add(valueField, gbc);\n}\n\ngbc.gridx = 0;\ngbc.gridy++;\npanel.add(overchargeEffectLabelField, gbc);\ngbc.gridx++;\ngbc.gridwidth = GridBagConstraints.REMAINDER;\npanel.add(overchargeEffectValueField, gbc);\n\ngbc.gridx = 0;\ngbc.gridy++;\ngbc.gridwidth = 1;\npanel.add(chargeLabelField, gbc);\nfor (JLabel nameField : chargeNameFields) {\n    gbc.gridx++;\n    panel.add(nameField, gbc);\n}\n\ngbc.gridx = 0;\ngbc.gridy++;\npanel.add(chargeNPLabelField, gbc);\nfor (JLabel valueField : chargeNPValueFields) {\n    gbc.gridx++;\n    panel.add(valueField, gbc);\n}\n\nfor (Object child : panel.getComponents()) {\n    if (child instanceof JComponent c) {\n        // Background colors are only used by opaque Swing components.\n        c.setOpaque(true);\n    }\n    if (child instanceof JLabel label) {\n        label.setHorizontalAlignment(JLabel.CENTER);\n    }\n}\n\nframe = new JFrame(&quot;Sword of Promised Victory&quot;);\nframe.getContentPane().add(panel);\nframe.pack();\nframe.setLocationByPlatform(true);\n</code></pre>\n<p>A complex UI can be tedious to write, but you only have to do it once, so it’s best to just do what you have to do.</p>\n<p>Here is the complete program:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.EventQueue;\n\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JLabel;\nimport javax.swing.ImageIcon;\nimport javax.swing.BorderFactory;\nimport javax.swing.border.Border;\n\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class SpecSheet {\n    private final JLabel baseDamageField;\n\n    private final JLabel rankLabelField;\n    private final JLabel rankValueField;\n\n    private final JLabel noblePhantasmTypeLabelField;\n    private final JLabel noblePhantasmTypeValueField;\n\n    private final JLabel hitsLabelField;\n    private final JLabel hitsValueField;\n\n    private final JLabel perHitPercentageLabelField;\n    private final JLabel perHitPercentageValueField;\n\n    private final JLabel effectLabelField;\n    private final JLabel effectValueField;\n\n    private final JLabel npLevelLabelField;\n    private final JLabel[] npLevelNameFields;\n\n    private final JLabel npLevelDamageLabelField;\n    private final JLabel[] npLevelDamageValueFields;\n\n    private final JLabel overchargeEffectLabelField;\n    private final JLabel overchargeEffectValueField;\n\n    private final JLabel chargeLabelField;\n    private final JLabel[] chargeNameFields;\n\n    private final JLabel chargeNPLabelField;\n    private final JLabel[] chargeNPValueFields;\n\n    private final JFrame frame;\n\n    public SpecSheet() {\n        baseDamageField = new JLabel(&quot; Base Damage: x1.5 &quot;);\n        baseDamageField.setIcon(new ImageIcon(\n            SpecSheet.class.getResource(&quot;buster.png&quot;)));\n        baseDamageField.setHorizontalTextPosition(JLabel.CENTER);\n        baseDamageField.setVerticalTextPosition(JLabel.BOTTOM);\n\n        rankLabelField = new JLabel(&quot;Rank&quot;);\n        rankValueField = new JLabel(&quot;A&quot;);\n\n        noblePhantasmTypeLabelField = new JLabel(&quot;Noble Phantasm Type&quot;);\n        noblePhantasmTypeValueField = new JLabel(&quot;Anti-Fortress&quot;);\n\n        hitsLabelField = new JLabel(&quot;Hits&quot;);\n        hitsValueField = new JLabel(&quot; 1 &quot;);\n\n        perHitPercentageLabelField = new JLabel(&quot;Per Hit Percentage&quot;);\n        perHitPercentageValueField = new JLabel(&quot;100%&quot;);\n\n        effectLabelField = new JLabel(&quot;Effect&quot;);\n        effectValueField = new JLabel(&quot;Deals damage to all enemies.&quot;);\n        effectValueField.setIcon(new ImageIcon(\n            SpecSheet.class.getResource(&quot;increase.png&quot;)));\n        effectValueField.setHorizontalTextPosition(JLabel.LEADING);\n\n        npLevelLabelField = new JLabel(&quot;NP Level&quot;);\n        npLevelNameFields = new JLabel[] {\n            new JLabel(&quot;1&quot;),\n            new JLabel(&quot;2&quot;),\n            new JLabel(&quot;3&quot;),\n            new JLabel(&quot;4&quot;),\n            new JLabel(&quot;5&quot;),\n        };\n\n        npLevelDamageLabelField = new JLabel(&quot;Damage+&quot;);\n        npLevelDamageLabelField.setIcon(\n            new ImageIcon(SpecSheet.class.getResource(&quot;damage-boost.png&quot;)));\n        npLevelDamageValueFields = new JLabel[] {\n            new JLabel(&quot;300%&quot;),\n            new JLabel(&quot;400%&quot;),\n            new JLabel(&quot;450%&quot;),\n            new JLabel(&quot;475%&quot;),\n            new JLabel(&quot;500%&quot;),\n        };\n\n        overchargeEffectLabelField = new JLabel(&quot;Overcharge Effect&quot;);\n        overchargeEffectValueField =\n            new JLabel(&quot;Charges own NP gauge&quot;);\n\n        chargeLabelField = new JLabel(&quot;Charge&quot;);\n        chargeNameFields = new JLabel[] {\n            new JLabel(&quot;100%&quot;),\n            new JLabel(&quot;200%&quot;),\n            new JLabel(&quot;300%&quot;),\n            new JLabel(&quot;400%&quot;),\n            new JLabel(&quot;500%&quot;),\n        };\n\n        chargeNPLabelField = new JLabel(&quot;NP+&quot;);\n        chargeNPLabelField.setIcon(new ImageIcon(\n            SpecSheet.class.getResource(&quot;np-boost.png&quot;)));\n        chargeNPValueFields = new JLabel[] {\n            new JLabel(&quot;20%&quot;),\n            new JLabel(&quot;27.5%&quot;),\n            new JLabel(&quot;35%&quot;),\n            new JLabel(&quot;42.5%&quot;),\n            new JLabel(&quot;50%&quot;),\n        };\n\n        updateFonts();\n        updateColors();\n        updateBorders();\n\n        JPanel panel = new JPanel(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.weighty = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.ipadx = 40;\n        gbc.ipady = 16;\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridheight = 4;\n        panel.add(baseDamageField, gbc);\n\n        gbc.gridx++;\n        gbc.gridheight = 1;\n        panel.add(rankLabelField, gbc);\n        gbc.gridy++;\n        panel.add(rankValueField, gbc);\n        gbc.gridy++;\n        panel.add(hitsLabelField, gbc);\n        gbc.gridy++;\n        panel.add(hitsValueField, gbc);\n\n        gbc.gridx++;\n        gbc.gridy -= 3;\n        gbc.gridwidth = 4;\n        panel.add(noblePhantasmTypeLabelField, gbc);\n        gbc.gridy++;\n        panel.add(noblePhantasmTypeValueField, gbc);\n        gbc.gridy++;\n        panel.add(perHitPercentageLabelField, gbc);\n        gbc.gridy++;\n        panel.add(perHitPercentageValueField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = 1;\n        panel.add(effectLabelField, gbc);\n        gbc.gridx++;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        panel.add(effectValueField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = 1;\n        panel.add(npLevelLabelField, gbc);\n        for (JLabel nameField : npLevelNameFields) {\n            gbc.gridx++;\n            panel.add(nameField, gbc);\n        }\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        panel.add(npLevelDamageLabelField, gbc);\n        for (JLabel valueField : npLevelDamageValueFields) {\n            gbc.gridx++;\n            panel.add(valueField, gbc);\n        }\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        panel.add(overchargeEffectLabelField, gbc);\n        gbc.gridx++;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        panel.add(overchargeEffectValueField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = 1;\n        panel.add(chargeLabelField, gbc);\n        for (JLabel nameField : chargeNameFields) {\n            gbc.gridx++;\n            panel.add(nameField, gbc);\n        }\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        panel.add(chargeNPLabelField, gbc);\n        for (JLabel valueField : chargeNPValueFields) {\n            gbc.gridx++;\n            panel.add(valueField, gbc);\n        }\n\n        for (Object child : panel.getComponents()) {\n            if (child instanceof JComponent c) {\n                // Background colors are only used by opaque Swing components.\n                c.setOpaque(true);\n            }\n            if (child instanceof JLabel label) {\n                label.setHorizontalAlignment(JLabel.CENTER);\n            }\n        }\n\n        frame = new JFrame(&quot;Sword of Promised Victory&quot;);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n    }\n\n    private void updateFonts() {\n        JLabel[] boldLabelFields = {\n            baseDamageField,\n            rankLabelField,\n            noblePhantasmTypeLabelField,\n            hitsLabelField,\n            perHitPercentageLabelField,\n            effectLabelField,\n            npLevelLabelField,\n            npLevelDamageLabelField,\n            overchargeEffectLabelField,\n            chargeLabelField,\n            chargeNPLabelField,\n        };\n        JLabel[][] boldFieldSets = {\n            boldLabelFields,\n            npLevelNameFields,\n            chargeNameFields,\n        };\n        for (JLabel[] fieldSet : boldFieldSets) {\n            for (JLabel field : fieldSet) {\n                Font font = field.getFont();\n                font = font.deriveFont(Font.BOLD);\n                field.setFont(font);\n            }\n        }\n\n        JLabel[] plainLabelFields = {\n            rankValueField,\n            noblePhantasmTypeValueField,\n            hitsValueField,\n            perHitPercentageValueField,\n            overchargeEffectValueField,\n        };\n        JLabel[][] plainFieldSets = {\n            plainLabelFields,\n            npLevelDamageValueFields,\n            chargeNPValueFields,\n        };\n        for (JLabel[] fieldSet : plainFieldSets) {\n            for (JLabel field : fieldSet) {\n                Font font = field.getFont();\n                font = font.deriveFont(Font.PLAIN);\n                field.setFont(font);\n            }\n        }\n    }\n\n    private void updateColors() {\n        Color lightPink = Color.decode(&quot;#f6dde9&quot;);\n        Color darkPink = Color.decode(&quot;#e5ccd8&quot;);\n\n        Color lightGray = Color.decode(&quot;#ebebeb&quot;);\n        Color darkGray = Color.decode(&quot;#dfdfdf&quot;);\n\n        baseDamageField.setBackground(lightPink);\n        overchargeEffectValueField.setBackground(lightPink);\n        for (JLabel npField : chargeNPValueFields) {\n            npField.setBackground(lightPink);\n        }\n\n        overchargeEffectLabelField.setBackground(darkPink);\n        chargeLabelField.setBackground(darkPink);\n        for (JLabel nameField : chargeNameFields) {\n            nameField.setBackground(darkPink);\n        }\n        chargeNPLabelField.setBackground(darkPink);\n\n        rankLabelField.setBackground(darkGray);\n        noblePhantasmTypeLabelField.setBackground(darkGray);\n        hitsLabelField.setBackground(darkGray);\n        perHitPercentageLabelField.setBackground(darkGray);\n        effectLabelField.setBackground(darkGray);\n        npLevelLabelField.setBackground(darkGray);\n        npLevelDamageLabelField.setBackground(darkGray);\n        for (JLabel nameField : npLevelNameFields) {\n            nameField.setBackground(darkGray);\n        }\n\n        rankValueField.setBackground(lightGray);\n        noblePhantasmTypeValueField.setBackground(lightGray);\n        hitsValueField.setBackground(lightGray);\n        perHitPercentageValueField.setBackground(lightGray);\n        effectValueField.setBackground(lightGray);\n        for (JLabel valueField : npLevelDamageValueFields) {\n            valueField.setBackground(lightGray);\n        }\n    }\n\n    private void updateBorders() {\n        Color borderColor = Color.decode(&quot;#bfbfbf&quot;);\n\n        Border leftOnly =\n            BorderFactory.createMatteBorder(0, 1, 0, 0, borderColor);\n        rankLabelField.setBorder(leftOnly);\n        noblePhantasmTypeLabelField.setBorder(leftOnly);\n\n        Border topOnly =\n            BorderFactory.createMatteBorder(1, 0, 0, 0, borderColor);\n        chargeLabelField.setBorder(topOnly);\n        effectLabelField.setBorder(topOnly);\n        npLevelLabelField.setBorder(topOnly);\n        npLevelDamageLabelField.setBorder(topOnly);\n        overchargeEffectLabelField.setBorder(topOnly);\n        chargeLabelField.setBorder(topOnly);\n        chargeNPLabelField.setBorder(topOnly);\n\n        Border leftAndTop =\n            BorderFactory.createMatteBorder(1, 1, 0, 0, borderColor);\n        rankValueField.setBorder(leftAndTop);\n        noblePhantasmTypeValueField.setBorder(leftAndTop);\n        hitsLabelField.setBorder(leftAndTop);\n        hitsValueField.setBorder(leftAndTop);\n        perHitPercentageLabelField.setBorder(leftAndTop);\n        perHitPercentageValueField.setBorder(leftAndTop);\n        effectValueField.setBorder(leftAndTop);\n        npLevelLabelField.setBorder(leftAndTop);\n        overchargeEffectValueField.setBorder(leftAndTop);\n        for (JLabel field : npLevelNameFields) {\n            field.setBorder(leftAndTop);\n        }\n        for (JLabel field : npLevelDamageValueFields) {\n            field.setBorder(leftAndTop);\n        }\n        for (JLabel field : chargeNameFields) {\n            field.setBorder(leftAndTop);\n        }\n        for (JLabel field : chargeNPValueFields) {\n            field.setBorder(leftAndTop);\n        }\n    }\n\n    public void show() {\n        frame.setVisible(true);\n    }\n\n    public void hide() {\n        frame.setVisible(false);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                UIManager.setLookAndFeel(\n                    UIManager.getSystemLookAndFeelClassName());\n            } catch (UnsupportedLookAndFeelException |\n                     ReflectiveOperationException e) {\n                e.printStackTrace();\n            }\n\n            SpecSheet s = new SpecSheet();\n            s.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            s.show();\n        });\n    }\n}\n</code></pre>\n<p>It is worth mentioning that JavaFX would make some of this noticeably easier.  The colors and fonts could be accomplished with CSS classes.  GridPane has a <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/GridPane.html#setGridLinesVisible(boolean)\" rel=\"nofollow noreferrer\">setGridLinesVisible</a> method which would remove the need for setting borders.</p>\n"}],"owner":{"account_id":29183914,"reputation":9,"user_id":22357486,"display_name":"Meltryllis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691769988,"creation_date":1691680431,"question_id":76877098,"body_markdown":"I don&#39;t know whether it&#39;s called *form*, so i will try to describe it by listing its features.\r\nHere is an example:\r\n[![example pictrue][1]][1]\r\n\r\nor you can see the pic [here](https://fategrandorder.fandom.com/wiki/Artoria_Pendragon).\r\n\r\n1. It is composed of key(e.g Rank or Hits) and value(e.g A or 1).\r\n2. Its looks like JTable, but its key and value may be in any cell and don&#39;t have a TableHeader, I don&#39;t know how to achieve it by JTable.\r\n3. Its cells&#39; width is not same and fixed.\r\n4. Text in every cell can be selected and copy.\r\n\r\nI have tried to put JLabel(set inset 0, use MatteBorder and gridbaglayout) together to achieve the &#39;form&#39;, it works but inconvenient. For example, put two labels (inset is 0 and has LineBorder) together, the borders where they intersect do not coincide, but instead look like 2px borders. So, I have to use MatteBorder(left and top border is 1px, right border will be 1px when the cell is in last column).\r\n\r\nI would like to know what this kind of information table is called, how to achieve it conveniently or what keywords should I search.\r\n\r\nUpdate:\r\nI already know that it has to be customized by myself, I also mentioned a method I tried (use JLabel with no insets and GridBagLayout) above, but the JLabels&#39; border junction looks like a 2-pixel border ([e.g][2]), which makes me have to repeatedly set the four borders of each Label by MatteBorder to avoid the stacking of border lines. Code looks like this:\r\n\r\n```java\r\nJLabel attributeLabel = new JLabel(&quot;Earth&quot;);\r\nattributeLabel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 0, Color.BLACK));\r\nJLabel genderLabel = new JLabel(&quot;Female&quot;);\r\ngenderLabel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\r\n```\r\nThen the border could look [normal][3].\r\nIs there any good way to solve the border problem and avoid set every label&#39;s border.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dtX5W.png\r\n  [2]: https://i.stack.imgur.com/2onZK.png\r\n  [3]: https://i.stack.imgur.com/vqL04.png","title":"How to create a form by java swing","body":"<p>I don't know whether it's called <em>form</em>, so i will try to describe it by listing its features.\nHere is an example:\n<a href=\"https://i.stack.imgur.com/dtX5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dtX5W.png\" alt=\"example pictrue\" /></a></p>\n<p>or you can see the pic <a href=\"https://fategrandorder.fandom.com/wiki/Artoria_Pendragon\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ol>\n<li>It is composed of key(e.g Rank or Hits) and value(e.g A or 1).</li>\n<li>Its looks like JTable, but its key and value may be in any cell and don't have a TableHeader, I don't know how to achieve it by JTable.</li>\n<li>Its cells' width is not same and fixed.</li>\n<li>Text in every cell can be selected and copy.</li>\n</ol>\n<p>I have tried to put JLabel(set inset 0, use MatteBorder and gridbaglayout) together to achieve the 'form', it works but inconvenient. For example, put two labels (inset is 0 and has LineBorder) together, the borders where they intersect do not coincide, but instead look like 2px borders. So, I have to use MatteBorder(left and top border is 1px, right border will be 1px when the cell is in last column).</p>\n<p>I would like to know what this kind of information table is called, how to achieve it conveniently or what keywords should I search.</p>\n<p>Update:\nI already know that it has to be customized by myself, I also mentioned a method I tried (use JLabel with no insets and GridBagLayout) above, but the JLabels' border junction looks like a 2-pixel border (<a href=\"https://i.stack.imgur.com/2onZK.png\" rel=\"nofollow noreferrer\">e.g</a>), which makes me have to repeatedly set the four borders of each Label by MatteBorder to avoid the stacking of border lines. Code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JLabel attributeLabel = new JLabel(&quot;Earth&quot;);\nattributeLabel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 0, Color.BLACK));\nJLabel genderLabel = new JLabel(&quot;Female&quot;);\ngenderLabel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\n</code></pre>\n<p>Then the border could look <a href=\"https://i.stack.imgur.com/vqL04.png\" rel=\"nofollow noreferrer\">normal</a>.\nIs there any good way to solve the border problem and avoid set every label's border.</p>\n"},{"tags":["java","maven","sonarqube","jacoco"],"comments":[{"owner":{"account_id":6650981,"reputation":3550,"user_id":5133088,"accept_rate":89,"display_name":"Jeroen Heier"},"score":0,"creation_date":1564681962,"post_id":57301580,"comment_id":101120953,"body_markdown":"Did you try using SonarQube 7.9.1 with all plugins updated?","body":"Did you try using SonarQube 7.9.1 with all plugins updated?"},{"owner":{"account_id":15376241,"reputation":91,"user_id":11092868,"display_name":"Ani"},"score":0,"creation_date":1564703150,"post_id":57301580,"comment_id":101127747,"body_markdown":"It didn&#39;t work even after upgradation still facing same issue","body":"It didn&#39;t work even after upgradation still facing same issue"}],"answers":[{"tags":[],"owner":{"account_id":15376241,"reputation":91,"user_id":11092868,"display_name":"Ani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564709828,"creation_date":1564708384,"answer_id":57318802,"question_id":57301580,"body_markdown":"The issue was with property need to include sonar.coverage.jacoco.xmlReportPaths \r\n\r\n      \t\t&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n\r\nAfter changing the mvn sonar:sonar is successful but  the code coverage is 0%","title":"Upgrading to Java 11, sonarqube, jacoco with maven causing errors","body":"<p>The issue was with property need to include sonar.coverage.jacoco.xmlReportPaths </p>\n\n<pre><code>        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n</code></pre>\n\n<p>After changing the mvn sonar:sonar is successful but  the code coverage is 0%</p>\n"},{"tags":[],"owner":{"account_id":15376241,"reputation":91,"user_id":11092868,"display_name":"Ani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574860915,"creation_date":1564720404,"answer_id":57319989,"question_id":57301580,"body_markdown":"Removing `sonar.coverage.jacoco.xmlReportPaths` and `maven-surefire-plugin` gave the code coverage. Issue is fixed.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt;--illegal-access=permit&lt;/argLine&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;${runSuite}&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nUseful links:\r\n\r\nhttps://52.213.100.93/browse/MMF-1651\r\n\r\nhttps://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven","title":"Upgrading to Java 11, sonarqube, jacoco with maven causing errors","body":"<p>Removing <code>sonar.coverage.jacoco.xmlReportPaths</code> and <code>maven-surefire-plugin</code> gave the code coverage. Issue is fixed.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;--illegal-access=permit&lt;/argLine&gt;\n        &lt;includes&gt;\n            &lt;include&gt;${runSuite}&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Useful links:</p>\n\n<p><a href=\"https://52.213.100.93/browse/MMF-1651\" rel=\"nofollow noreferrer\">https://52.213.100.93/browse/MMF-1651</a></p>\n\n<p><a href=\"https://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven</a></p>\n"},{"tags":[],"owner":{"account_id":17569903,"reputation":1,"user_id":12745800,"display_name":"Andreas Bib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691769820,"creation_date":1691769820,"answer_id":76885130,"question_id":57301580,"body_markdown":"This is a known issue, since `maven-surefire-plugin` version `3.0.0-M3` this is fixed. I had the same issue and the migrating from version `2.22.2` to `3.1.2` fixed it.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSource: [maven-surefire-plugin change log](https://maven.apache.org/surefire/maven-surefire-plugin/history.html)\r\n\r\nP.S.: Don&#39;t forget to update the `maven-failsafe-plugin` as well, if you are using it.","title":"Upgrading to Java 11, sonarqube, jacoco with maven causing errors","body":"<p>This is a known issue, since <code>maven-surefire-plugin</code> version <code>3.0.0-M3</code> this is fixed. I had the same issue and the migrating from version <code>2.22.2</code> to <code>3.1.2</code> fixed it.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Source: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/history.html\" rel=\"nofollow noreferrer\">maven-surefire-plugin change log</a></p>\n<p>P.S.: Don't forget to update the <code>maven-failsafe-plugin</code> as well, if you are using it.</p>\n"}],"owner":{"account_id":15376241,"reputation":91,"user_id":11092868,"display_name":"Ani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11937,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691769820,"creation_date":1564631333,"question_id":57301580,"body_markdown":"After upgrading Java from 8 to 11. sonar:sonar is not working getting exception\r\nin the end.\r\n\r\nJava 1.8 is working fine with Sonarqube 7.7, now with java 11 and sonarqube 7.8 it is failing with exception\r\n\r\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.6.0.1398:sonar (default-cli) on project xxxx: Unable to read ..\\..\\target\\jacoco.exec to determine JaCoCo binary format.: EOFException -&gt; [Help 1]\r\n\r\nUsing below properties for java 11\r\n\r\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n    &lt;sonar.sources&gt;src/main&lt;/sonar.sources&gt;\r\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\t\t\r\n    &lt;runSuite&gt;**/*Test.class&lt;/runSuite&gt;\r\n    &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis\r\n    &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n\r\nBelow plugins using jacoco\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;${java.version}&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt;--illegal-access=permit&lt;/argLine&gt;\r\n            &lt;includes&gt;\r\n    \t\t    &lt;include&gt;${runSuite}&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n    \t\t&lt;forkCount&gt;0&lt;/forkCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.4&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;destFile&gt;${sonar.jacoco.reportPaths}&lt;/destFile&gt;\r\n            &lt;append&gt;true&lt;/append&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;agent&lt;/id&gt;\r\n                &lt;goals&gt;\r\n    \t\t\t    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAm I missing any configuration in pom file to run sonarqube using jacoco","title":"Upgrading to Java 11, sonarqube, jacoco with maven causing errors","body":"<p>After upgrading Java from 8 to 11. sonar:sonar is not working getting exception\nin the end.</p>\n\n<p>Java 1.8 is working fine with Sonarqube 7.7, now with java 11 and sonarqube 7.8 it is failing with exception</p>\n\n<p>[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.6.0.1398:sonar (default-cli) on project xxxx: Unable to read ....\\target\\jacoco.exec to determine JaCoCo binary format.: EOFException -> [Help 1]</p>\n\n<p>Using below properties for java 11</p>\n\n<pre><code>&lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n&lt;sonar.sources&gt;src/main&lt;/sonar.sources&gt;\n&lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;     \n&lt;runSuite&gt;**/*Test.class&lt;/runSuite&gt;\n&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n&lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis\n&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\n&lt;sonar.language&gt;java&lt;/sonar.language&gt;\n</code></pre>\n\n<p>Below plugins using jacoco</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;${java.version}&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;--illegal-access=permit&lt;/argLine&gt;\n        &lt;includes&gt;\n            &lt;include&gt;${runSuite}&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;destFile&gt;${sonar.jacoco.reportPaths}&lt;/destFile&gt;\n        &lt;append&gt;true&lt;/append&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Am I missing any configuration in pom file to run sonarqube using jacoco</p>\n"},{"tags":["java","string","recursion","substring"],"answers":[{"tags":[],"owner":{"account_id":1682819,"reputation":8527,"user_id":1546713,"accept_rate":61,"display_name":"azrosen92"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351868782,"creation_date":1351868782,"answer_id":13197884,"question_id":13197696,"body_markdown":"Instead of recursing on the letters of the word, you could recurse on the word length. For example, on the top level of recursion you could find all substrings with `word.length()` letters then `word.length() - 1` letters and so on. This would probably require two recursive methods though, one to loop through the word lengths and one to loop through all possible substrings of that length.","title":"Using recursion to generate all substrings of a given string","body":"<p>Instead of recursing on the letters of the word, you could recurse on the word length. For example, on the top level of recursion you could find all substrings with <code>word.length()</code> letters then <code>word.length() - 1</code> letters and so on. This would probably require two recursive methods though, one to loop through the word lengths and one to loop through all possible substrings of that length.</p>\n"},{"comments":[{"owner":{"account_id":2004250,"reputation":69,"user_id":1794574,"display_name":"user1794574"},"score":0,"creation_date":1351871010,"post_id":13197962,"comment_id":17968080,"body_markdown":"makes since gonna try it after school today ty","body":"makes since gonna try it after school today ty"}],"tags":[],"owner":{"account_id":1609084,"reputation":9398,"user_id":1617269,"display_name":"cyon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351869044,"creation_date":1351869044,"answer_id":13197962,"question_id":13197696,"body_markdown":"Sounds like you have done most of the work already. Just write another recursive method `generateSuffix(word)` which \r\n\r\n- first calls `generate(word)` \r\n- then calls `generateSuffix()` with the longest suffix of word.\r\n\r\nYou will still need a similar base case to what you have in generate.","title":"Using recursion to generate all substrings of a given string","body":"<p>Sounds like you have done most of the work already. Just write another recursive method <code>generateSuffix(word)</code> which </p>\n\n<ul>\n<li>first calls <code>generate(word)</code> </li>\n<li>then calls <code>generateSuffix()</code> with the longest suffix of word.</li>\n</ul>\n\n<p>You will still need a similar base case to what you have in generate.</p>\n"},{"tags":[],"owner":{"account_id":2004250,"reputation":69,"user_id":1794574,"display_name":"user1794574"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352059964,"creation_date":1351961265,"answer_id":13211265,"question_id":13197696,"body_markdown":"Both the 2 answers were pretty much right. I just added a new method called `suffixGen`:\r\n\r\n    public static void suffixGen(String word)\r\n\t{\r\n\t\tif (word.length() &gt; 1)\r\n\t\t{\r\n\t\t\tgenerate(word);\r\n\t\t\tsuffixGen(word.substring(1));\r\n\t\t}\r\n\r\n\t}\r\n\r\nand in my main I just call `suffixGen` instead of `generate` and it gets me the desired results.\r\n","title":"Using recursion to generate all substrings of a given string","body":"<p>Both the 2 answers were pretty much right. I just added a new method called <code>suffixGen</code>:</p>\n\n<pre><code>public static void suffixGen(String word)\n{\n    if (word.length() &gt; 1)\n    {\n        generate(word);\n        suffixGen(word.substring(1));\n    }\n\n}\n</code></pre>\n\n<p>and in my main I just call <code>suffixGen</code> instead of <code>generate</code> and it gets me the desired results.</p>\n"},{"comments":[{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":2,"creation_date":1526631946,"post_id":24583674,"comment_id":87829154,"body_markdown":"It doesn&#39;t seem to work. `ac` isn&#39;t a substring of `abc`.","body":"It doesn&#39;t seem to work. <code>ac</code> isn&#39;t a substring of <code>abc</code>."}],"tags":[],"owner":{"display_name":"user3003961"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1404541662,"creation_date":1404541662,"answer_id":24583674,"question_id":13197696,"body_markdown":"You don&#39;t need a helper method, if you pass an additional string to the method, just pass it&#39;s value as a blank as shown in the method call below:\r\n\r\n        public static void substrings(String str, String temp)\r\n    \t{\r\n    \t\tif(str.length()==0)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(temp); return;\r\n    \t\t}\r\n    \t\t\r\n    \t      substrings(str.substring(1), temp+str.substring(0,1));\r\n    \t      substrings(str.substring(1), temp);\r\n    \t}\r\n\r\n\r\nA sample call ---&gt;**substrings(&quot;abc&quot;, &quot;&quot;)**;  \r\n\r\nproduces the output below:\r\n\r\nabc\r\n\r\nab\r\n\r\nac\r\n\r\na\r\n\r\nbc\r\n\r\nb\r\n\r\nc\r\n\r\nThere is one invisible string which is actually a blank string.","title":"Using recursion to generate all substrings of a given string","body":"<p>You don't need a helper method, if you pass an additional string to the method, just pass it's value as a blank as shown in the method call below:</p>\n\n<pre><code>    public static void substrings(String str, String temp)\n    {\n        if(str.length()==0)\n        {\n            System.out.println(temp); return;\n        }\n\n          substrings(str.substring(1), temp+str.substring(0,1));\n          substrings(str.substring(1), temp);\n    }\n</code></pre>\n\n<p>A sample call ---><strong>substrings(\"abc\", \"\")</strong>;  </p>\n\n<p>produces the output below:</p>\n\n<p>abc</p>\n\n<p>ab</p>\n\n<p>ac</p>\n\n<p>a</p>\n\n<p>bc</p>\n\n<p>b</p>\n\n<p>c</p>\n\n<p>There is one invisible string which is actually a blank string.</p>\n"},{"tags":[],"owner":{"account_id":4197541,"reputation":604,"user_id":3438582,"display_name":"vjpandian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437184726,"creation_date":1437184726,"answer_id":31487021,"question_id":13197696,"body_markdown":"Try something like this\r\n\r\n    String word; \r\n    int word_length = word.length(); //get the length of the word\r\n\r\n    for(int i=0;i&lt;word_length;i++){\r\n       for(int j=0; j&lt;=word_length-i ; j++){\r\n\r\n           String sub = word.substring(i,i+j); \r\n           System.out.println(sub); //print the substrings\r\n        }","title":"Using recursion to generate all substrings of a given string","body":"<p>Try something like this</p>\n\n<pre><code>String word; \nint word_length = word.length(); //get the length of the word\n\nfor(int i=0;i&lt;word_length;i++){\n   for(int j=0; j&lt;=word_length-i ; j++){\n\n       String sub = word.substring(i,i+j); \n       System.out.println(sub); //print the substrings\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505184435,"creation_date":1505184435,"answer_id":46167125,"question_id":13197696,"body_markdown":"An easy to read solution here\r\n\r\n    public class AllSubStrings {\r\n        //hashset to keep a record of all the substrings\r\n    \tstatic HashSet&lt;String&gt; subStrings_r=new HashSet&lt;&gt;();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString testString=&quot;Sujal&quot;;\r\n    \t\tgetSubstrings_r(testString);\r\n    \t\tSystem.out.println(&quot;RECURSION -&gt;&quot;+subStrings_r);\r\n    \t}\r\n    \t\r\n    \tpublic static void getSubstrings_r(String testString){\r\n    \t\t_getSubstrings_r(testString, 0, testString.length());\r\n    \t}\r\n    \t\r\n    \tpublic static void _getSubstrings_r(String testString,int start,int end){\r\n    \t\tif(start==end){ //base condition\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tsubStrings_r.add(testString.substring(start, end));\r\n            //start getting substrings from left to right\r\n    \t\t_getSubstrings_r(testString,start+1,end); \r\n            //start getting substrings from right to left\r\n    \t\t_getSubstrings_r(testString,start,end-1);\r\n    \t}\r\n    \r\n    }","title":"Using recursion to generate all substrings of a given string","body":"<p>An easy to read solution here</p>\n\n<pre><code>public class AllSubStrings {\n    //hashset to keep a record of all the substrings\n    static HashSet&lt;String&gt; subStrings_r=new HashSet&lt;&gt;();\n\n    public static void main(String[] args) {\n        String testString=\"Sujal\";\n        getSubstrings_r(testString);\n        System.out.println(\"RECURSION -&gt;\"+subStrings_r);\n    }\n\n    public static void getSubstrings_r(String testString){\n        _getSubstrings_r(testString, 0, testString.length());\n    }\n\n    public static void _getSubstrings_r(String testString,int start,int end){\n        if(start==end){ //base condition\n            return;\n        }\n        subStrings_r.add(testString.substring(start, end));\n        //start getting substrings from left to right\n        _getSubstrings_r(testString,start+1,end); \n        //start getting substrings from right to left\n        _getSubstrings_r(testString,start,end-1);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29152787,"reputation":1,"user_id":22333282,"display_name":"user22333282"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691769495,"creation_date":1691769495,"answer_id":76885095,"question_id":13197696,"body_markdown":"The existing answers work, but you can do it without helper methods or changing the method signature, as long as you&#39;re ok with duplicates. Just use multiple recursive calls.\r\n```\r\npublic static void generate(String word){\r\n    System.out.println(word);\r\n    if(word.length() &lt;= 1) {\r\n        return;\r\n    }\r\n    generate(word.substring(1);\r\n    generate(word.substring(0, word.length() - 1);\r\n}\r\n```","title":"Using recursion to generate all substrings of a given string","body":"<p>The existing answers work, but you can do it without helper methods or changing the method signature, as long as you're ok with duplicates. Just use multiple recursive calls.</p>\n<pre><code>public static void generate(String word){\n    System.out.println(word);\n    if(word.length() &lt;= 1) {\n        return;\n    }\n    generate(word.substring(1);\n    generate(word.substring(0, word.length() - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":2004250,"reputation":69,"user_id":1794574,"display_name":"user1794574"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10959,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1691769495,"creation_date":1351868224,"question_id":13197696,"body_markdown":"I should start off by saying there are similar questions asked here but for the assignment i am on i cannot use any loops and all the answers to these questions use loops. So Use java 6 and recursion to generate all the substrings of a given string. For example your given String word = &quot;Ralph&quot;; i need the output to be formatted like this.\r\n\r\n    Ralph\r\n    Ralp\r\n    Ral\r\n    Ra\r\n    R\r\n    alph\r\n    alp\r\n    al\r\n    a\r\n    lph\r\n    lp\r\n    l\r\n    ph\r\n    h\r\n\r\nHere&#39;s my generate method\r\n\r\n        //written by Justin Tew&lt;BR&gt;\r\n\r\n\tpublic static void generate(String word) \r\n\t{\r\n\r\n\r\n\t\t//base case... wtf is the base case here?\r\n\t\t//idk bout this \r\n\t\tif (word.length() == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(word);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//recursive case\r\n\t\tif (word.length() != 0)\r\n\t\t{\r\n\r\n\t\t\tSystem.out.println(word);\r\n\t\t\tgenerate(word.substring(0, word.length()-1)); //gets the first 5 substrings\r\n\t\t}\r\n\r\n\r\n\r\noutput: \r\n\r\n    Ralph\r\n    Ralp\r\n    Ral\r\n    ra\r\n    r\r\n\r\nIn my mind this call, `generate(word.substring(1, word.length()-1));` should get the next 5 but it doesn&#39;t it gets very weird output...\r\n\r\nAny ideas?\r\n\r\n\r\n\r\n\r\n","title":"Using recursion to generate all substrings of a given string","body":"<p>I should start off by saying there are similar questions asked here but for the assignment i am on i cannot use any loops and all the answers to these questions use loops. So Use java 6 and recursion to generate all the substrings of a given string. For example your given String word = \"Ralph\"; i need the output to be formatted like this.</p>\n\n<pre><code>Ralph\nRalp\nRal\nRa\nR\nalph\nalp\nal\na\nlph\nlp\nl\nph\nh\n</code></pre>\n\n<p>Here's my generate method</p>\n\n<pre><code>    //written by Justin Tew&lt;BR&gt;\n\npublic static void generate(String word) \n{\n\n\n    //base case... wtf is the base case here?\n    //idk bout this \n    if (word.length() == 1)\n    {\n        System.out.println(word);\n        return;\n    }\n\n\n    //recursive case\n    if (word.length() != 0)\n    {\n\n        System.out.println(word);\n        generate(word.substring(0, word.length()-1)); //gets the first 5 substrings\n    }\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>Ralph\nRalp\nRal\nra\nr\n</code></pre>\n\n<p>In my mind this call, <code>generate(word.substring(1, word.length()-1));</code> should get the next 5 but it doesn't it gets very weird output...</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692020847,"post_id":76882286,"comment_id":135565468,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76882286/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29205210,"reputation":1,"user_id":22374461,"display_name":"Komal Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691746264,"creation_date":1691746264,"answer_id":76882286,"question_id":76880415,"body_markdown":" We have that key coming from server, so you can read your JSON file and provide key yourself.","title":"Is it possible to store the AppLovin SDK key in a JSON file instead of the manifest.xml","body":"<p>We have that key coming from server, so you can read your JSON file and provide key yourself.</p>\n"}],"owner":{"account_id":29203224,"reputation":1,"user_id":22372856,"display_name":"kamal zawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691768707,"creation_date":1691722576,"question_id":76880415,"body_markdown":"Hey fellow Android developers,\r\n\r\nI&#39;m currently integrating the AppLovin SDK into my Android app, and I&#39;m wondering if there&#39;s a way to keep my sensitive SDK key separate from the manifest.xml file. I&#39;ve been trying to find a way to store the AppLovin SDK key in a JSON file or some other secure manner, but I haven&#39;t come across a clear solution yet.\r\n\r\nHas anyone successfully managed to achieve this? If so, could you share your approach or any resources you found helpful? I believe this would not only enhance security but also make it easier to manage different SDK keys for different build configurations.\r\n\r\nLooking forward to hearing your insights and experiences. \r\n\r\nThanks in advance\r\n\r\nhttps://i.imgur.com/iKHwB2k.png","title":"Is it possible to store the AppLovin SDK key in a JSON file instead of the manifest.xml","body":"<p>Hey fellow Android developers,</p>\n<p>I'm currently integrating the AppLovin SDK into my Android app, and I'm wondering if there's a way to keep my sensitive SDK key separate from the manifest.xml file. I've been trying to find a way to store the AppLovin SDK key in a JSON file or some other secure manner, but I haven't come across a clear solution yet.</p>\n<p>Has anyone successfully managed to achieve this? If so, could you share your approach or any resources you found helpful? I believe this would not only enhance security but also make it easier to manage different SDK keys for different build configurations.</p>\n<p>Looking forward to hearing your insights and experiences.</p>\n<p>Thanks in advance</p>\n<p><a href=\"https://i.imgur.com/iKHwB2k.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/iKHwB2k.png</a></p>\n"},{"tags":["java","spring","checkstyle","maven-checkstyle-plugin"],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691768463,"creation_date":1691768463,"question_id":76884968,"body_markdown":"I want to have my imports grouped by 2 levels of package declaration, and then separated by a line between those groups.\r\n\r\nHere is my checkstyle config for `CustomImportOrder`:\r\n\r\n```xml\r\n&lt;module name=&quot;CustomImportOrder&quot;&gt;\r\n    &lt;property name=&quot;sortImportsInGroupAlphabetically&quot; value=&quot;true&quot;/&gt;\r\n    &lt;property name=&quot;separateLineBetweenGroups&quot; value=&quot;true&quot;/&gt;\r\n    &lt;property name=&quot;customImportOrderRules&quot; value=&quot;STATIC###STANDARD_JAVA_PACKAGE###THIRD_PARTY_PACKAGE###SPECIAL_IMPORTS###SAME_PACKAGE(2)&quot;/&gt;\r\n    &lt;property name=&quot;thirdPartyPackageRegExp&quot; value=&quot;^(com|org|io)\\.&quot;/&gt;\r\n    &lt;property name=&quot;specialImportsRegExp&quot; value=&quot;^de\\.&quot;/&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nHere is an example that I am trying.\r\n\r\n```java\r\nimport static java.lang.String.format;\r\nimport static java.time.ZoneOffset.UTC;\r\nimport static java.util.Collections.emptyList;\r\nimport static java.util.stream.Collectors.toList;\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\nimport java.time.OffsetDateTime;\r\n\r\nimport java.util.Arrays;              // Checkstyle complains here for extra line\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.data.util.Pair; // Checkstyle complains here for extra line\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.util.CollectionUtils;\r\n```\r\n\r\nHere is the execution output:\r\n```\r\n-&gt; java -Duser.language=en -Duser.country=US -jar ~/Downloads/checkstyle-10.5.0-all.jar -c checkstyle.xml TestClass.java\r\nStarting audit...\r\n[WARN] /home/dshakya/test/TestClass.java:11:1: Extra separation in import group before &#39;java.util.Arrays&#39; [CustomImportOrder]\r\n[WARN] /home/dshakya/test/TestClass.java:22:1: Extra separation in import group before &#39;org.springframework.data.util.Pair&#39; [CustomImportOrder]\r\n```\r\n\r\nI was referring to this [Documentation page][1], but not sure what I am missing. Can anybody point me on what configuration would work for my case?\r\n\r\n  [1]: https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/CustomImportOrderCheck.html","title":"How to have Checkstlye groups by 2 levels of package declaration?","body":"<p>I want to have my imports grouped by 2 levels of package declaration, and then separated by a line between those groups.</p>\n<p>Here is my checkstyle config for <code>CustomImportOrder</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;module name=&quot;CustomImportOrder&quot;&gt;\n    &lt;property name=&quot;sortImportsInGroupAlphabetically&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;separateLineBetweenGroups&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;customImportOrderRules&quot; value=&quot;STATIC###STANDARD_JAVA_PACKAGE###THIRD_PARTY_PACKAGE###SPECIAL_IMPORTS###SAME_PACKAGE(2)&quot;/&gt;\n    &lt;property name=&quot;thirdPartyPackageRegExp&quot; value=&quot;^(com|org|io)\\.&quot;/&gt;\n    &lt;property name=&quot;specialImportsRegExp&quot; value=&quot;^de\\.&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n<p>Here is an example that I am trying.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.format;\nimport static java.time.ZoneOffset.UTC;\nimport static java.util.Collections.emptyList;\nimport static java.util.stream.Collectors.toList;\nimport static java.util.stream.Collectors.toMap;\n\nimport java.time.OffsetDateTime;\n\nimport java.util.Arrays;              // Checkstyle complains here for extra line\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.Optional;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.data.util.Pair; // Checkstyle complains here for extra line\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.CollectionUtils;\n</code></pre>\n<p>Here is the execution output:</p>\n<pre><code>-&gt; java -Duser.language=en -Duser.country=US -jar ~/Downloads/checkstyle-10.5.0-all.jar -c checkstyle.xml TestClass.java\nStarting audit...\n[WARN] /home/dshakya/test/TestClass.java:11:1: Extra separation in import group before 'java.util.Arrays' [CustomImportOrder]\n[WARN] /home/dshakya/test/TestClass.java:22:1: Extra separation in import group before 'org.springframework.data.util.Pair' [CustomImportOrder]\n</code></pre>\n<p>I was referring to this <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/CustomImportOrderCheck.html\" rel=\"nofollow noreferrer\">Documentation page</a>, but not sure what I am missing. Can anybody point me on what configuration would work for my case?</p>\n"},{"tags":["java","spring-boot","metrics","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691768404,"creation_date":1691767604,"answer_id":76884882,"question_id":76884355,"body_markdown":"Here my very clean workaround for the first question **&quot;I don&#39;t know how to provide configuration settings (like the step) by the application.yaml file&quot;** (found after a lot of debugging of `LoggingMeterRegistry`).\r\n\r\n**Configuration class**\r\n\r\n```java\r\n@Bean\r\nLoggingMeterRegistry loggingMeterRegistry(Environment environments) {\r\n    LoggingRegistryConfig config =\r\n        key -&gt; {\r\n            String property = null;\r\n\r\n            switch (key) {\r\n                case &quot;logging.enabled&quot;:\r\n                    property = &quot;management.metrics.export.logging.enabled&quot;;\r\n                    break;\r\n\r\n                case &quot;logging.step&quot;:\r\n                    property = &quot;management.metrics.export.logging.step&quot;;\r\n                    break;\r\n\r\n            }\r\n\r\n            return\r\n                  (null != property)\r\n                ? environments.getProperty(property)\r\n                : null;\r\n        };\r\n\r\n    return new LoggingMeterRegistry(config, Clock.SYSTEM);\r\n}\r\n```\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nmanagement:\r\n  metrics:\r\n    export:\r\n      logging:\r\n        step: 10s\r\n```\r\n\r\nNow, I am going to find a solution for the second issue...","title":"MicroMeter LoggingMeterRegistry configuration in SpringBoot 3 application","body":"<p>Here my very clean workaround for the first question <strong>&quot;I don't know how to provide configuration settings (like the step) by the application.yaml file&quot;</strong> (found after a lot of debugging of <code>LoggingMeterRegistry</code>).</p>\n<p><strong>Configuration class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nLoggingMeterRegistry loggingMeterRegistry(Environment environments) {\n    LoggingRegistryConfig config =\n        key -&gt; {\n            String property = null;\n\n            switch (key) {\n                case &quot;logging.enabled&quot;:\n                    property = &quot;management.metrics.export.logging.enabled&quot;;\n                    break;\n\n                case &quot;logging.step&quot;:\n                    property = &quot;management.metrics.export.logging.step&quot;;\n                    break;\n\n            }\n\n            return\n                  (null != property)\n                ? environments.getProperty(property)\n                : null;\n        };\n\n    return new LoggingMeterRegistry(config, Clock.SYSTEM);\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:\n  metrics:\n    export:\n      logging:\n        step: 10s\n</code></pre>\n<p>Now, I am going to find a solution for the second issue...</p>\n"}],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76884882,"answer_count":1,"score":0,"last_activity_date":1691768404,"creation_date":1691763314,"question_id":76884355,"body_markdown":"I am writing a SpringBoot 3 application which needs to report metrics inside log files too.\r\n\r\nI registered an instance of `io.micrometer.core.instrument.logging.LoggingMeterRegistry` by:\r\n\r\n```java\r\n@Bean\r\nLoggingMeterRegistry loggingMeterRegistry() {\r\n    return new LoggingMeterRegistry();\r\n}\r\n```\r\n\r\nIt works as expected, but: \r\n\r\n1. I don&#39;t know how to provide configuration settings (like the `step`) by the `application.yaml` file.\r\n2. I don&#39;t know how to register a custom instance of the class `com.codahale.metrics.MetricFilter` to filter the output.\r\n\r\nCould somebody tell me how to achieve these goals?\r\n\r\nThank you so much in advance!\r\n\r\n**Edit:** my issue seems similar to https://stackoverflow.com/questions/57663369/how-to-configure-loggingmeterregistry-step-duration-in-spring-boot-2-x .","title":"MicroMeter LoggingMeterRegistry configuration in SpringBoot 3 application","body":"<p>I am writing a SpringBoot 3 application which needs to report metrics inside log files too.</p>\n<p>I registered an instance of <code>io.micrometer.core.instrument.logging.LoggingMeterRegistry</code> by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nLoggingMeterRegistry loggingMeterRegistry() {\n    return new LoggingMeterRegistry();\n}\n</code></pre>\n<p>It works as expected, but:</p>\n<ol>\n<li>I don't know how to provide configuration settings (like the <code>step</code>) by the <code>application.yaml</code> file.</li>\n<li>I don't know how to register a custom instance of the class <code>com.codahale.metrics.MetricFilter</code> to filter the output.</li>\n</ol>\n<p>Could somebody tell me how to achieve these goals?</p>\n<p>Thank you so much in advance!</p>\n<p><strong>Edit:</strong> my issue seems similar to <a href=\"https://stackoverflow.com/questions/57663369/how-to-configure-loggingmeterregistry-step-duration-in-spring-boot-2-x\">How to configure LoggingMeterRegistry step duration in Spring Boot 2.x?</a> .</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6017129,"reputation":919,"user_id":4725548,"accept_rate":48,"display_name":"Izak"},"score":0,"creation_date":1691698288,"post_id":76877830,"comment_id":135530574,"body_markdown":"Can you please post the menu xml code?","body":"Can you please post the menu xml code?"},{"owner":{"account_id":27465894,"reputation":1,"user_id":20955612,"display_name":"Orhan Berkil"},"score":0,"creation_date":1691698960,"post_id":76877830,"comment_id":135530681,"body_markdown":"I edited and added my question","body":"I edited and added my question"}],"owner":{"account_id":27465894,"reputation":1,"user_id":20955612,"display_name":"Orhan Berkil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691768198,"creation_date":1691686487,"question_id":76877830,"body_markdown":"When I add the `R.id.action_latest` line to the code, no click event occurs on the screen, when I remove this code, the application returns to its previous state. \r\n\r\n```kotlin   \r\n\r\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\r\n        menuInflater.inflate(R.menu.toolbar_menu, menu)\r\n        return true\r\n    }\r\n    \r\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n        \r\n        return when (item.itemId) {\r\n           \r\n            R.id.action_more -&gt; {\r\n                showCustomDialog()\r\n                true\r\n            }\r\n            R.id.action_latest -&gt; {\r\n                val fragment = LatestNewsFragment()\r\n                val transaction = supportFragmentManager.beginTransaction()\r\n                transaction.replace(R.id.container, fragment)\r\n                transaction.addToBackStack(null)\r\n                transaction.commit()\r\n                true\r\n            }\r\n            else -&gt; super.onOptionsItemSelected(item)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```xml\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#F2F2F2&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appbar&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                app:title=&quot;InsMate&quot;\r\n                app:menu=&quot;@menu/toolbar_menu&quot;\r\n                android:background=&quot;#F2F2F2&quot;\r\n                android:layout_width=&quot;match_parent&quot;/&gt;\r\n    \r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    &lt;/FrameLayout&gt;\r\n```\r\n\r\nI want to make a page transition when I click on the icon in the `R.id.action_latest` row,\r\nbut I tried all the methods I know and they were not successful.\r\n\r\n","title":"Clicking on icons in the toolbar in my Kotlin project","body":"<p>When I add the <code>R.id.action_latest</code> line to the code, no click event occurs on the screen, when I remove this code, the application returns to its previous state.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.toolbar_menu, menu)\n        return true\n    }\n    \n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        \n        return when (item.itemId) {\n           \n            R.id.action_more -&gt; {\n                showCustomDialog()\n                true\n            }\n            R.id.action_latest -&gt; {\n                val fragment = LatestNewsFragment()\n                val transaction = supportFragmentManager.beginTransaction()\n                transaction.replace(R.id.container, fragment)\n                transaction.addToBackStack(null)\n                transaction.commit()\n                true\n            }\n            else -&gt; super.onOptionsItemSelected(item)\n        }\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/container&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;#F2F2F2&quot;&gt;\n    \n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:id=&quot;@+id/appbar&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;match_parent&quot;&gt;\n    \n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                app:title=&quot;InsMate&quot;\n                app:menu=&quot;@menu/toolbar_menu&quot;\n                android:background=&quot;#F2F2F2&quot;\n                android:layout_width=&quot;match_parent&quot;/&gt;\n    \n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n    &lt;/FrameLayout&gt;\n</code></pre>\n<p>I want to make a page transition when I click on the icon in the <code>R.id.action_latest</code> row,\nbut I tried all the methods I know and they were not successful.</p>\n"},{"tags":["java","oracle","spring-boot","schema","atomikos"],"owner":{"account_id":20702030,"reputation":11,"user_id":15200847,"display_name":"Atlas Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691768141,"creation_date":1691551299,"question_id":76864352,"body_markdown":"I am setting up a multi-connection database in my project, I&#39;m currently using OracleDB to set up a local db but there are a lot of Schemas. I can&#39;t get to a point to the correct schema I wanted.\r\n\r\nHere is my `jdbc.properties` config:\r\n\r\n```\r\n    extr.datasource.xa-data-source-class-name=oracle.jdbc.xa.client.OracleXADataSource\r\n    extr.datasource.xa-properties.user=system  \r\n    extr.datasource.xa-properties.password=123456  \r\n    extr.datasource.xa-properties.URL=jdbc:oracle:thin:@localhost:1521/XEPDB1\r\n```\r\n\r\nI have tried putting `currentSchema=mySchema` in the URL link, but it&#39;s not working.\r\n\r\nBelow is my database config class to connect to the local DB:\r\n\r\n```java\r\n    @Configuration\r\n    public class ExtrPersistenceConfig {\r\n    \r\n    \t/**\r\n    \t * configure jdbc properties\r\n    \t * @return\r\n    \t */\r\n    \t@Bean(name = &quot;extrDS&quot;)\r\n    \t@ConfigurationProperties(prefix = &quot;extr.datasource&quot;)\r\n    \tpublic DataSource datasource() {\r\n    \t\treturn new AtomikosDataSourceBean();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * set EntityManagerFactory to create EntityManager\r\n    \t * \r\n    \t * @param ds\r\n    \t * @return\r\n    \t */\r\n    \t@Bean(name = &quot;extrEM&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(@Qualifier(&quot;extrDS&quot;) DataSource ds) {\r\n    \t\t\r\n    \t\treturn AtomikosTxConfiguration.setEntityManagerFactoryBean(ds, &quot;extrPU&quot;, new HibernateJpaVendorAdapter(), &quot;com.cbm.batch.ccris.vo&quot;);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * setup the transaction manager by inject the atomikosUT and atomikosTM from cbm-core-atomikos dependency\r\n    \t * @param userTransaction\r\n    \t * @param transactionManager\r\n    \t * @return\r\n    \t * @throws Throwable\r\n    \t */\r\n    \t@Bean(name = &quot;extrTM&quot;)\r\n    \tpublic PlatformTransactionManager transactionManager(\r\n    \t\t\t@Qualifier(&quot;atomikosUT&quot;) UserTransaction userTransaction,\r\n    \t\t\t@Qualifier(&quot;atomikosTM&quot;) TransactionManager transactionManager) throws Throwable {\r\n    \t\t\r\n    \t\treturn new JtaTransactionManager(userTransaction, transactionManager);\r\n    \t}\r\n    }\r\n```","title":"Atomikos in Java Spring Boot - How to target a schema","body":"<p>I am setting up a multi-connection database in my project, I'm currently using OracleDB to set up a local db but there are a lot of Schemas. I can't get to a point to the correct schema I wanted.</p>\n<p>Here is my <code>jdbc.properties</code> config:</p>\n<pre><code>    extr.datasource.xa-data-source-class-name=oracle.jdbc.xa.client.OracleXADataSource\n    extr.datasource.xa-properties.user=system  \n    extr.datasource.xa-properties.password=123456  \n    extr.datasource.xa-properties.URL=jdbc:oracle:thin:@localhost:1521/XEPDB1\n</code></pre>\n<p>I have tried putting <code>currentSchema=mySchema</code> in the URL link, but it's not working.</p>\n<p>Below is my database config class to connect to the local DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class ExtrPersistenceConfig {\n    \n        /**\n         * configure jdbc properties\n         * @return\n         */\n        @Bean(name = &quot;extrDS&quot;)\n        @ConfigurationProperties(prefix = &quot;extr.datasource&quot;)\n        public DataSource datasource() {\n            return new AtomikosDataSourceBean();\n        }\n        \n        /**\n         * set EntityManagerFactory to create EntityManager\n         * \n         * @param ds\n         * @return\n         */\n        @Bean(name = &quot;extrEM&quot;)\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(@Qualifier(&quot;extrDS&quot;) DataSource ds) {\n            \n            return AtomikosTxConfiguration.setEntityManagerFactoryBean(ds, &quot;extrPU&quot;, new HibernateJpaVendorAdapter(), &quot;com.cbm.batch.ccris.vo&quot;);\n        }\n        \n        /**\n         * setup the transaction manager by inject the atomikosUT and atomikosTM from cbm-core-atomikos dependency\n         * @param userTransaction\n         * @param transactionManager\n         * @return\n         * @throws Throwable\n         */\n        @Bean(name = &quot;extrTM&quot;)\n        public PlatformTransactionManager transactionManager(\n                @Qualifier(&quot;atomikosUT&quot;) UserTransaction userTransaction,\n                @Qualifier(&quot;atomikosTM&quot;) TransactionManager transactionManager) throws Throwable {\n            \n            return new JtaTransactionManager(userTransaction, transactionManager);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","anychart"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691764562,"post_id":76884474,"comment_id":135540183,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">read this</a>, and then edit your question."}],"owner":{"account_id":23843135,"reputation":1,"user_id":17847953,"display_name":"unique identifier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691767821,"creation_date":1691764150,"question_id":76884474,"body_markdown":"We have android mobile application. And it has screen which has pie charts.\r\n\r\nWe can&#39;t align legend labels vertically like as below image.\r\n\r\nhttps://github.com/reactchartjs/react-chartjs-2/issues/348\r\n\r\nLegend labels shows without alignment like as above pie chart example image.\r\n\r\nHow can we align this legends labels like as below pie chart example: \r\n\r\nhttps://billobrien.wordpress.com/2014/04/17/pie-chart-horror/\r\n\r\nThanks for your advice.\r\n\r\n","title":"Pie Chart Legend Label Vertical Alignment","body":"<p>We have android mobile application. And it has screen which has pie charts.</p>\n<p>We can't align legend labels vertically like as below image.</p>\n<p><a href=\"https://github.com/reactchartjs/react-chartjs-2/issues/348\" rel=\"nofollow noreferrer\">https://github.com/reactchartjs/react-chartjs-2/issues/348</a></p>\n<p>Legend labels shows without alignment like as above pie chart example image.</p>\n<p>How can we align this legends labels like as below pie chart example:</p>\n<p><a href=\"https://billobrien.wordpress.com/2014/04/17/pie-chart-horror/\" rel=\"nofollow noreferrer\">https://billobrien.wordpress.com/2014/04/17/pie-chart-horror/</a></p>\n<p>Thanks for your advice.</p>\n"},{"tags":["java","spring","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591415251,"creation_date":1591415251,"answer_id":62227045,"question_id":62226648,"body_markdown":"The @RequestAttribute annotation is usually used to retrieve data that is populated on the server-side but during the same HTTP request. For example, if you have used an interceptor, filter or possibly an aspect to populate the &quot;payload&quot; attribute then you should be able to access this using the @RequestAttribute annotation. \r\n\r\nIf you are looking to pass something from an external client (i.e via postman, curl or any other simple client) - @RequestAttribute is not the way forward.\r\n\r\nGood references;\r\nhttps://www.baeldung.com/whats-new-in-spring-4-3\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/request-attribute.html\r\n\r\nThis [SO][1] post may also help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13919307/how-is-used-requestattribute-and-modelattribute-annotation-in-this-spring-mvc","title":"How to set value to @RequestAttribute in Spring boot using postman or feign client","body":"<p>The @RequestAttribute annotation is usually used to retrieve data that is populated on the server-side but during the same HTTP request. For example, if you have used an interceptor, filter or possibly an aspect to populate the \"payload\" attribute then you should be able to access this using the @RequestAttribute annotation. </p>\n\n<p>If you are looking to pass something from an external client (i.e via postman, curl or any other simple client) - @RequestAttribute is not the way forward.</p>\n\n<p>Good references;\n<a href=\"https://www.baeldung.com/whats-new-in-spring-4-3\" rel=\"nofollow noreferrer\">https://www.baeldung.com/whats-new-in-spring-4-3</a>\n<a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/request-attribute.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/request-attribute.html</a></p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/13919307/how-is-used-requestattribute-and-modelattribute-annotation-in-this-spring-mvc\">SO</a> post may also help.</p>\n"},{"tags":[],"owner":{"account_id":18504101,"reputation":21,"user_id":13480788,"display_name":"Mesut Uluag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691767631,"creation_date":1691767631,"answer_id":76884883,"question_id":62226648,"body_markdown":"you should set request attribute inside interceptor at serverside like shown below\r\n\r\n        override fun preHandle(request: HttpServletRequest, response: HttpServletResponse, handler: Any): Boolean {\r\n             request.setAttribute(&quot;requestInfo&quot;, RequestInfo(115639, 63643, 0, 266239512, applicationKey))\r\n             true\r\n    }","title":"How to set value to @RequestAttribute in Spring boot using postman or feign client","body":"<p>you should set request attribute inside interceptor at serverside like shown below</p>\n<pre><code>    override fun preHandle(request: HttpServletRequest, response: HttpServletResponse, handler: Any): Boolean {\n         request.setAttribute(&quot;requestInfo&quot;, RequestInfo(115639, 63643, 0, 266239512, applicationKey))\n         true\n}\n</code></pre>\n"}],"owner":{"account_id":8420973,"reputation":11,"user_id":6319800,"display_name":"Nguyễn Tiến Th&#224;nh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5622,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691767631,"creation_date":1591410837,"question_id":62226648,"body_markdown":"I have method like this:\r\n\r\n    @PostMapping(path = &quot;/workflow-services/{service_id}/tickets&quot;,\r\n      consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;TicketIdResponse&gt; createTicket(@PathVariable(&quot;service_id&quot;) String  serviceId,\r\n      @RequestBody @Validated CreateTicketRequest request, @RequestAttribute Payload payload) {\r\n    log.info(&quot;Start create ticket [{}]&quot;, request);\r\n\r\n    TicketIdResponse response = ticketService.createTicket(serviceId, request, payload);\r\n\r\n    log.info(&quot;Create ticket response: {}&quot;, response);\r\n    return ResponseFactory.success(response);\r\n  }\r\n\r\nso how to set value to @RequestAttribute Payload in postman or feign client \r\n\r\nThank you very much! ","title":"How to set value to @RequestAttribute in Spring boot using postman or feign client","body":"<p>I have method like this:</p>\n\n<pre><code>@PostMapping(path = \"/workflow-services/{service_id}/tickets\",\n  consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;TicketIdResponse&gt; createTicket(@PathVariable(\"service_id\") String  serviceId,\n  @RequestBody @Validated CreateTicketRequest request, @RequestAttribute Payload payload) {\nlog.info(\"Start create ticket [{}]\", request);\n\nTicketIdResponse response = ticketService.createTicket(serviceId, request, payload);\n\nlog.info(\"Create ticket response: {}\", response);\nreturn ResponseFactory.success(response);\n</code></pre>\n\n<p>}</p>\n\n<p>so how to set value to @RequestAttribute Payload in postman or feign client </p>\n\n<p>Thank you very much! </p>\n"},{"tags":["java","character-encoding"],"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1271786289,"post_id":2677419,"comment_id":2696583,"body_markdown":"You should clarify exactly what you mean.  Start with why you want the information.","body":"You should clarify exactly what you mean.  Start with why you want the information."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1271788761,"post_id":2677419,"comment_id":2696907,"body_markdown":"If you can&#39;t find the questions you previously asked, just click anywhere where your name appears as a link like here: [Anand](http://stackoverflow.com/users/226906/anand) and in the top bar. You can find the questions there, you&#39;ve pretty much unaccepted questions (note: questions are spread over pages!). Review them once again and vote/accept some.","body":"If you can&#39;t find the questions you previously asked, just click anywhere where your name appears as a link like here: <a href=\"http://stackoverflow.com/users/226906/anand\">Anand</a> and in the top bar. You can find the questions there, you&#39;ve pretty much unaccepted questions (note: questions are spread over pages!). Review them once again and vote/accept some."}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":3,"creation_date":1271792455,"post_id":2677505,"comment_id":2697374,"body_markdown":"...but don&#39;t bother.  There are very few valid reasons to use `String.getBytes()`, and when you do use it you should always specify an encoding rather than rely on the default.  The same goes for the `new String(byte[])` constructors.","body":"...but don&#39;t bother.  There are very few valid reasons to use <code>String.getBytes()</code>, and when you do use it you should always specify an encoding rather than rely on the default.  The same goes for the <code>new String(byte[])</code> constructors."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691752714,"post_id":2677505,"comment_id":135537621,"body_markdown":"__This answer is completely incorrect.__ file.encoding returns things like `COMPAT`. Reading it out makes no sense for client code trying to figure out, well, anything.","body":"<b>This answer is completely incorrect.</b> file.encoding returns things like <code>COMPAT</code>. Reading it out makes no sense for client code trying to figure out, well, anything."}],"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":2,"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1271786668,"creation_date":1271786668,"answer_id":2677505,"question_id":2677419,"body_markdown":"It means the default character encoding of the JVM that you&#39;re running on, \r\n\r\nTo check the default encoding you can do the following:\r\n\r\n    System.getProperty(&quot;file.encoding&quot;);\r\n\r\nthat will return the default encoding (and the one used by getBytes() above).","title":"Determining default character set of platform in Java","body":"<p>It means the default character encoding of the JVM that you're running on, </p>\n\n<p>To check the default encoding you can do the following:</p>\n\n<pre><code>System.getProperty(\"file.encoding\");\n</code></pre>\n\n<p>that will return the default encoding (and the one used by getBytes() above).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691767544,"creation_date":1691767544,"answer_id":76884877,"question_id":2677419,"body_markdown":"__The answer to this question has changed with the release of java 18__.\r\n\r\nSince Java 18, [the default charset of the JVM is always UTF-8 regardless of the underlying OS&#39;s platform default charset (JEP-400)](https://openjdk.org/jeps/400).\r\n\r\nThis affects almost everything:\r\n\r\n* [`Charset.defaultCharset()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()) (always returns the same thing as `StandardCharsets.UTF8` which should use instead if that&#39;s what you want.\r\n* The value of `System.getProperty(&quot;file.encoding&quot;)`. This isn&#39;t _actually_ any sort of relevant encoding, in that this is a parameter you send _to_ the JVM, not something you&#39;re meant to read. It&#39;s always worked this way - for example, this can get you the value `COMPAT`. Which isn&#39;t an encoding, but means: Hey, JVM, instead of UTF-8, use the OS&#39;s default encoding. Hence, __do not read this value__.\r\n* The behaviour of every method that converts bytes to characters or vice versa and doesn&#39;t accept an explicit `Charset` parameter. Such as `new String(bytes)`, `someStr.getBytes()`, `new FileWriter(filePath)`, and many, _many_ more. __However__, all methods in `java.nio.file.Files` that do this use UTF-8 and always have, regardless of `Charset.defaultCharset()`. You _can_ mess with it though. For example, by invoking `java -Dfile.encoding=COMPAT` - then these methods all use your platform&#39;s native encoding instead.\r\n\r\nYour question breaks down to two subtly different questions:\r\n\r\n* If I use these `new String(byteArr)` style methods, what encoding does java actually use?\r\n* What is the OS&#39;s platform encoding - if I write a text file the user is supposed to e.g. `cat thatfile.txt` later, what encoding should I write it in so that they&#39;ll be able to read it, presuming that they don&#39;t change their OS&#39;s default encoding (if they do that, all bets are off).\r\n\r\nIf you ask the first question, the correct answer is `Charset.defaultCharSet()`.\r\n\r\nIf you ask the second question, that&#39;s a lot trickier. Because __it depends on the JVM version__ - that means it&#39;s impossible to test that you do it right unless you set up a complicated testing framework that runs your unit tests on multiple JVM versions.\r\n\r\n## Java 18+\r\n\r\nThis is how:\r\n\r\n```\r\nCharset c = System.console().charset();\r\n```\r\n\r\nTechnically that doesn&#39;t return &quot;the OS&#39;s native encoding&quot;, it returns &quot;the encoding in use by the console&quot;. One particular issue is that various platforms do not _have_ a console (the above code would result in a `NullPointerException` - the spec of `console()` says it may return `null`). Often IDE&#39;s have a little console-ish thing to do keyboard input and output straight from a view inside your IDE, and they often have no console, or broken implementations. Hence, I strongly advise you _do not_ use the above code, and instead use:\r\n\r\n```\r\nCharset c = Charset.forName(System.getProperty(&quot;native.encoding&quot;));\r\n```\r\n\r\nAlso, `System.console().charset()` causes a `NoSuchMethodError` on JDK16 and below - as it was introduced in 17. Yet another reason to use the `native.encoding` system property.\r\n\r\n## Java 8\r\n\r\n... unfortunately, the `native.encoding` sysproperty has only been added in JDK18. and Console.charset() in JDK17. Hence, in Java 8, the above would fail because the property&#39;s value is `null` (because it doesn&#39;t exist) / won&#39;t compile / will cause `NoSuchMethodError`. You&#39;d just go with `Charset.defaultCharset()` as they haven&#39;t gone through JEP400 yet.\r\n\r\n## Java any version\r\n\r\nHence, you get into this utter mess, to get the platform native encoding regardless of JVM release:\r\n\r\n```\r\nString nativeEncodingDescriptor = System.getProperty(&quot;native.encoding&quot;);\r\nCharset nativeEncoding = nativeEncodingDescriptor == null ?\r\n   Charset.defaultCharset() :\r\n   Charset.forName(nativeEncodingDescriptor);\r\n```\r\n\r\nYou&#39;d think there&#39;d be a utility method for that. It doesn&#39;t exist, of course: If the core java libraries were to add it, you.. wouldn&#39;t be able to invoke it on JDK8 as it didn&#39;t exist back then. Hence, write that utility method yourself. Perhaps take some solace in the fact everybody messes this up.\r\n\r\n## About output\r\n\r\nThe vast majority of needs to determine native encoding is for writing to `System.out`; after all, that&#39;s interacting with the system, _and_ they are byte-based (both `in` and `out` are).\r\n\r\nFortunately (?) the `PrintWriter` representing `System.out` is actually properly configured; its charset encoding will be the native encoding. You can &#39;just&#39; call `System.out.println(&quot;☃&quot;)` in a text file, save it using UTF-8 encoding, invoke `javac` with `-encoding UTF8`, then run the resulting classfile and assuming your console&#39;s font supports the unicode snowman, you&#39;ll see a snowman. On any JDK version.\r\n\r\nThis rule is trickier, though, if you pipe text data straight to the byte-based methods of `PrintStream`. You&#39;d have to apply the proper encoding; use the above snippet to determine this.\r\n\r\n__`System.in` is a much bigger issue__.\r\n\r\nThat&#39;s a simple `InputStream` and it has no methods to read characters from it at all. Folks who want to read keyboard input tend to toss `System.in` at `Scanner`. This is a mistake (scanner isn&#39;t really designed to parse keyboard input; there&#39;s a reason every 5th `java` tagged question on SO is about misunderstanding how it works).\r\n\r\n__This is broken on JDK18+__. Because scanner will apply the default charset (i.e. `UTF-8`, on JDK18+). Yes, one of the most common java lines: `new Scanner(System.in)`, is broken these days.\r\n\r\nImprovements to &#39;first steps java&#39; are on the way, and one of these improvements is hopefully to ditch scanner and write a much better &#39;interact with the console&#39; concept. Latest indications on the relevant OpenJDK mailing lists seem to indicate this is probably going to happen.\r\n\r\nOnce those APIs are out, use them. Until then, this is really the only way to write a really simple java console app:\r\n\r\n```\r\npublic class ExampleApp {\r\n  public static void main(String[] args) throws Exception {\r\n    Scanner keyboard = getKeyboard();\r\n  }\r\n\r\n  static Scanner getKeyboard() {\r\n    Scanner s = new Scanner(System.in. getNativeCharset());\r\n    s.useDelimiter(&quot;\\\\R&quot;); // Fix the nextLine v nextX nuttiness.\r\n  }\r\n\r\n  static Charset getNativeCharset() {\r\n    String nativeEncodingDescriptor = System.getProperty(&quot;native.encoding&quot;);\r\n    return nativeEncodingDescriptor == null ?\r\n      Charset.defaultCharset() :\r\n      Charset.forName(nativeEncodingDescriptor);\r\n}\r\n```\r\n\r\nAlso, every method in the core libraries outside of the `java.nio.file` package that converts bytes to chars or vice versa that defaults its charset (such as `new String(bytes)` or the _entirety_ of `FileWriter`) __is broken__ and unsalvageably so: If your IDE or linter tool supports a denylist of methods/constructors that must never ever be used, all of these methods should be on the list.\r\n\r\nEvery time you write code that converts bytes to chars or vice versa, you should call the variant that lets you explicitly define charset. And then write code so that no confusion can exist; use `StandardCharsets.UTF_8`, or, if you intend to want native encoding, use the `.getNativeEncoding()` utility method you put in your project, pasted from the snippet above.\r\n\r\n`java.nio.file` is the exception - you can call the charset-less variants if UTF-8 is what you want. I can see an argument for also calling the charset-ful versions just to avoid confusion. After all, the version that is charset-less behaves differently on JDK17- vs JDK18+ and is thus broken.\r\n\r\nIf your command line java app doesn&#39;t look like that, or it calls any of those methods, it&#39;s subtly broken.","title":"Determining default character set of platform in Java","body":"<p><strong>The answer to this question has changed with the release of java 18</strong>.</p>\n<p>Since Java 18, <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">the default charset of the JVM is always UTF-8 regardless of the underlying OS's platform default charset (JEP-400)</a>.</p>\n<p>This affects almost everything:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\"><code>Charset.defaultCharset()</code></a> (always returns the same thing as <code>StandardCharsets.UTF8</code> which should use instead if that's what you want.</li>\n<li>The value of <code>System.getProperty(&quot;file.encoding&quot;)</code>. This isn't <em>actually</em> any sort of relevant encoding, in that this is a parameter you send <em>to</em> the JVM, not something you're meant to read. It's always worked this way - for example, this can get you the value <code>COMPAT</code>. Which isn't an encoding, but means: Hey, JVM, instead of UTF-8, use the OS's default encoding. Hence, <strong>do not read this value</strong>.</li>\n<li>The behaviour of every method that converts bytes to characters or vice versa and doesn't accept an explicit <code>Charset</code> parameter. Such as <code>new String(bytes)</code>, <code>someStr.getBytes()</code>, <code>new FileWriter(filePath)</code>, and many, <em>many</em> more. <strong>However</strong>, all methods in <code>java.nio.file.Files</code> that do this use UTF-8 and always have, regardless of <code>Charset.defaultCharset()</code>. You <em>can</em> mess with it though. For example, by invoking <code>java -Dfile.encoding=COMPAT</code> - then these methods all use your platform's native encoding instead.</li>\n</ul>\n<p>Your question breaks down to two subtly different questions:</p>\n<ul>\n<li>If I use these <code>new String(byteArr)</code> style methods, what encoding does java actually use?</li>\n<li>What is the OS's platform encoding - if I write a text file the user is supposed to e.g. <code>cat thatfile.txt</code> later, what encoding should I write it in so that they'll be able to read it, presuming that they don't change their OS's default encoding (if they do that, all bets are off).</li>\n</ul>\n<p>If you ask the first question, the correct answer is <code>Charset.defaultCharSet()</code>.</p>\n<p>If you ask the second question, that's a lot trickier. Because <strong>it depends on the JVM version</strong> - that means it's impossible to test that you do it right unless you set up a complicated testing framework that runs your unit tests on multiple JVM versions.</p>\n<h2>Java 18+</h2>\n<p>This is how:</p>\n<pre><code>Charset c = System.console().charset();\n</code></pre>\n<p>Technically that doesn't return &quot;the OS's native encoding&quot;, it returns &quot;the encoding in use by the console&quot;. One particular issue is that various platforms do not <em>have</em> a console (the above code would result in a <code>NullPointerException</code> - the spec of <code>console()</code> says it may return <code>null</code>). Often IDE's have a little console-ish thing to do keyboard input and output straight from a view inside your IDE, and they often have no console, or broken implementations. Hence, I strongly advise you <em>do not</em> use the above code, and instead use:</p>\n<pre><code>Charset c = Charset.forName(System.getProperty(&quot;native.encoding&quot;));\n</code></pre>\n<p>Also, <code>System.console().charset()</code> causes a <code>NoSuchMethodError</code> on JDK16 and below - as it was introduced in 17. Yet another reason to use the <code>native.encoding</code> system property.</p>\n<h2>Java 8</h2>\n<p>... unfortunately, the <code>native.encoding</code> sysproperty has only been added in JDK18. and Console.charset() in JDK17. Hence, in Java 8, the above would fail because the property's value is <code>null</code> (because it doesn't exist) / won't compile / will cause <code>NoSuchMethodError</code>. You'd just go with <code>Charset.defaultCharset()</code> as they haven't gone through JEP400 yet.</p>\n<h2>Java any version</h2>\n<p>Hence, you get into this utter mess, to get the platform native encoding regardless of JVM release:</p>\n<pre><code>String nativeEncodingDescriptor = System.getProperty(&quot;native.encoding&quot;);\nCharset nativeEncoding = nativeEncodingDescriptor == null ?\n   Charset.defaultCharset() :\n   Charset.forName(nativeEncodingDescriptor);\n</code></pre>\n<p>You'd think there'd be a utility method for that. It doesn't exist, of course: If the core java libraries were to add it, you.. wouldn't be able to invoke it on JDK8 as it didn't exist back then. Hence, write that utility method yourself. Perhaps take some solace in the fact everybody messes this up.</p>\n<h2>About output</h2>\n<p>The vast majority of needs to determine native encoding is for writing to <code>System.out</code>; after all, that's interacting with the system, <em>and</em> they are byte-based (both <code>in</code> and <code>out</code> are).</p>\n<p>Fortunately (?) the <code>PrintWriter</code> representing <code>System.out</code> is actually properly configured; its charset encoding will be the native encoding. You can 'just' call <code>System.out.println(&quot;☃&quot;)</code> in a text file, save it using UTF-8 encoding, invoke <code>javac</code> with <code>-encoding UTF8</code>, then run the resulting classfile and assuming your console's font supports the unicode snowman, you'll see a snowman. On any JDK version.</p>\n<p>This rule is trickier, though, if you pipe text data straight to the byte-based methods of <code>PrintStream</code>. You'd have to apply the proper encoding; use the above snippet to determine this.</p>\n<p><strong><code>System.in</code> is a much bigger issue</strong>.</p>\n<p>That's a simple <code>InputStream</code> and it has no methods to read characters from it at all. Folks who want to read keyboard input tend to toss <code>System.in</code> at <code>Scanner</code>. This is a mistake (scanner isn't really designed to parse keyboard input; there's a reason every 5th <code>java</code> tagged question on SO is about misunderstanding how it works).</p>\n<p><strong>This is broken on JDK18+</strong>. Because scanner will apply the default charset (i.e. <code>UTF-8</code>, on JDK18+). Yes, one of the most common java lines: <code>new Scanner(System.in)</code>, is broken these days.</p>\n<p>Improvements to 'first steps java' are on the way, and one of these improvements is hopefully to ditch scanner and write a much better 'interact with the console' concept. Latest indications on the relevant OpenJDK mailing lists seem to indicate this is probably going to happen.</p>\n<p>Once those APIs are out, use them. Until then, this is really the only way to write a really simple java console app:</p>\n<pre><code>public class ExampleApp {\n  public static void main(String[] args) throws Exception {\n    Scanner keyboard = getKeyboard();\n  }\n\n  static Scanner getKeyboard() {\n    Scanner s = new Scanner(System.in. getNativeCharset());\n    s.useDelimiter(&quot;\\\\R&quot;); // Fix the nextLine v nextX nuttiness.\n  }\n\n  static Charset getNativeCharset() {\n    String nativeEncodingDescriptor = System.getProperty(&quot;native.encoding&quot;);\n    return nativeEncodingDescriptor == null ?\n      Charset.defaultCharset() :\n      Charset.forName(nativeEncodingDescriptor);\n}\n</code></pre>\n<p>Also, every method in the core libraries outside of the <code>java.nio.file</code> package that converts bytes to chars or vice versa that defaults its charset (such as <code>new String(bytes)</code> or the <em>entirety</em> of <code>FileWriter</code>) <strong>is broken</strong> and unsalvageably so: If your IDE or linter tool supports a denylist of methods/constructors that must never ever be used, all of these methods should be on the list.</p>\n<p>Every time you write code that converts bytes to chars or vice versa, you should call the variant that lets you explicitly define charset. And then write code so that no confusion can exist; use <code>StandardCharsets.UTF_8</code>, or, if you intend to want native encoding, use the <code>.getNativeEncoding()</code> utility method you put in your project, pasted from the snippet above.</p>\n<p><code>java.nio.file</code> is the exception - you can call the charset-less variants if UTF-8 is what you want. I can see an argument for also calling the charset-ful versions just to avoid confusion. After all, the version that is charset-less behaves differently on JDK17- vs JDK18+ and is thus broken.</p>\n<p>If your command line java app doesn't look like that, or it calls any of those methods, it's subtly broken.</p>\n"}],"owner":{"account_id":80187,"reputation":7940,"user_id":226906,"accept_rate":66,"display_name":"Anand Sunderraman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20073,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":2677505,"answer_count":2,"score":10,"last_activity_date":1691767544,"creation_date":1271785832,"question_id":2677419,"body_markdown":"I am programming in Java\r\n\r\nI have the code as:\r\n\r\n    byte[] b = test.getBytes();\r\n\r\nIn the api it is specified that if we do not specify character encoding it takes the default platform character encoding.\r\n\r\nWhat is meant by &quot;default platform character encoding&quot; ?\r\n\r\nDoes it mean the Java encoding or the OS encoding ?\r\n\r\nIf it means OS encoding the how can i check the default character encoding of Windows and Linux ? Is there anyway we can get the default character encoding using command line ?","title":"Determining default character set of platform in Java","body":"<p>I am programming in Java</p>\n\n<p>I have the code as:</p>\n\n<pre><code>byte[] b = test.getBytes();\n</code></pre>\n\n<p>In the api it is specified that if we do not specify character encoding it takes the default platform character encoding.</p>\n\n<p>What is meant by \"default platform character encoding\" ?</p>\n\n<p>Does it mean the Java encoding or the OS encoding ?</p>\n\n<p>If it means OS encoding the how can i check the default character encoding of Windows and Linux ? Is there anyway we can get the default character encoding using command line ?</p>\n"},{"tags":["java","constraints","quarkus","optaplanner","timefold"],"answers":[{"comments":[{"owner":{"account_id":29206918,"reputation":11,"user_id":22375815,"display_name":"sicario_23"},"score":0,"creation_date":1691778025,"post_id":76884863,"comment_id":135542625,"body_markdown":"Thanks Lukas, I understood the point and I would like to ask if there is any other way to do it other than using the constraints. Like maybe I will initially provide only the priority 1 shifts to the solver and then trigger another solve with a new list of priority 2 shifts when it gets completed.","body":"Thanks Lukas, I understood the point and I would like to ask if there is any other way to do it other than using the constraints. Like maybe I will initially provide only the priority 1 shifts to the solver and then trigger another solve with a new list of priority 2 shifts when it gets completed."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1691778304,"post_id":76884863,"comment_id":135542675,"body_markdown":"You could do it like that, but I wouldn&#39;t. The guarantee you&#39;re looking for simply doesn&#39;t exist - even if there are no P2 shifts, the solver still may not find a way to satisfy all P1 shifts. You are chasing something which you may never get and in fact if you include the P2 shifts, the likelihood of getting your ideal outcome is actually higher. Because with all those extra shifts, there will be a larger amount of different solutions for the solver to look at, with possibly less score traps.","body":"You could do it like that, but I wouldn&#39;t. The guarantee you&#39;re looking for simply doesn&#39;t exist - even if there are no P2 shifts, the solver still may not find a way to satisfy all P1 shifts. You are chasing something which you may never get and in fact if you include the P2 shifts, the likelihood of getting your ideal outcome is actually higher. Because with all those extra shifts, there will be a larger amount of different solutions for the solver to look at, with possibly less score traps."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691767476,"creation_date":1691767476,"answer_id":76884863,"question_id":76884674,"body_markdown":"In Timefold, you can not really say that the solver should only work on a constraint after it is finished with another constraint. The solver is never finished with any constraint, and it always evaluates all of them together.\r\n\r\nThe way of getting your priority is penalizing the less important shifts *more*. Either on a lower score level, or on the same score level but by larger amounts; maybe even significantly higher amounts, `10x`, `100x`, `x^2`... The solver will work to improve the score and as it finds solutions with better and better scores, the likelihood of accomplishing your desired goal is increasing. \r\n\r\nIn this case, I recommend making the higher-priority shifts a hard constraint, as I&#39;m assuming unfilled higher-priority shifts are a problem and therefore the solution is not feasible. \r\n\r\nBut you need to understand one thing most of all - with local search, *there are no guarantees* that you will find any particular solution. If the solver can only find solutions that break hard constraints, then that&#39;s what you&#39;ll get. Quality of the resulting solution will be a factor of move diversity, score calculation speed and time spent solving. The higher you can push those variables, the better your solution quality will be.","title":"OptaPlanner Employee Rostering: Fill Priority 1 Shifts Before Priority 2 Shifts","body":"<p>In Timefold, you can not really say that the solver should only work on a constraint after it is finished with another constraint. The solver is never finished with any constraint, and it always evaluates all of them together.</p>\n<p>The way of getting your priority is penalizing the less important shifts <em>more</em>. Either on a lower score level, or on the same score level but by larger amounts; maybe even significantly higher amounts, <code>10x</code>, <code>100x</code>, <code>x^2</code>... The solver will work to improve the score and as it finds solutions with better and better scores, the likelihood of accomplishing your desired goal is increasing.</p>\n<p>In this case, I recommend making the higher-priority shifts a hard constraint, as I'm assuming unfilled higher-priority shifts are a problem and therefore the solution is not feasible.</p>\n<p>But you need to understand one thing most of all - with local search, <em>there are no guarantees</em> that you will find any particular solution. If the solver can only find solutions that break hard constraints, then that's what you'll get. Quality of the resulting solution will be a factor of move diversity, score calculation speed and time spent solving. The higher you can push those variables, the better your solution quality will be.</p>\n"}],"owner":{"account_id":29206918,"reputation":11,"user_id":22375815,"display_name":"sicario_23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691767476,"creation_date":1691765958,"question_id":76884674,"body_markdown":"I&#39;m working on an employee rostering system using OptaPlanner, and I&#39;m facing a scenario where I need to ensure that priority 1 shifts are filled before priority 2 shifts. The shifts are identified by a priority field in the Shift class, which serves as the planning entity.\r\n\r\nHere&#39;s what I&#39;m trying to achieve:\r\n\r\n- Priority 1 shifts must be assigned first, and they have higher importance.\r\n- Only after all priority 1 shifts are assigned should the solver consider filling priority 2 shifts.\r\nCould someone guide me on how to set up the OptaPlanner configuration and constraints to achieve this behavior? I&#39;ve tried a few approaches, but I&#39;m not sure how to make sure the solver respects this priority order when assigning shifts.\r\n\r\nAny help, sample code snippets, or guidance on how to structure my constraint configuration for this scenario would be greatly appreciated. Thank you in advance for your assistance!\r\n\r\nOptaPlanner Version: 8.29.0.Final\r\n\r\nI have tried created a constraint like this\r\n\r\n```\r\nConstraint constraint = constraintFactory.forEach(Shift.class)\r\n\t\t\t\t.groupBy(shift -&gt; shift.getWorksite(), ConstraintCollectors.toList())\r\n\t\t\t\t.filter((worksite, shiftList) -&gt; filterAlternateShifts(shiftList)).penalizeConfigurable((u, s) -&gt; 20)\r\n\t\t\t\t.asConstraint(CONSTRAINT_ALTERNATES_SHOULD_NOT_BE_ASSIGNED_BEFORE_SCHEDULED);\r\n```\r\nwith the filter method defined as:\r\n\r\n```\r\n\tprivate boolean filterAlternateShifts(List&lt;Shift&gt; shiftList) {\r\n\t\tList&lt;Shift&gt; alternates = shiftList.stream().filter(s -&gt; s.getRank().equals(SchedulingConstants.ALTERNATE_SHIFT))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\tList&lt;Shift&gt; scheduled = shiftList.stream().filter(s -&gt; s.getRank().equals(SchedulingConstants.SCHEDULED_SHIFT))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\tboolean unassignedScheduledShiftExists = scheduled.stream().anyMatch(s -&gt; s.getClinician() == null);\r\n\r\n\t\tboolean assignedAlternateExists = alternates.stream().anyMatch(s -&gt; s.getClinician() != null);\r\n\r\n\t\treturn unassignedScheduledShiftExists &amp;&amp; assignedAlternateExists;\r\n\r\n\t}\r\n```\r\n\r\nBut this is not working. I have tried another approach similar to the already defined assignEveryShift constraint\r\n\r\n```\r\n\r\n\tConstraint assignEveryShift(ConstraintFactory constraintFactory) {\r\n\t\tLOG.trace(SchedulingConstants.METHOD_ENTRY);\r\n\t\tConstraint constraint = constraintFactory.forEachIncludingNullVars(Shift.class)\r\n\t\t\t\t.filter(shift -&gt; shift.getClinician() == null).penalizeConfigurable()\r\n\t\t\t\t.asConstraint(CONSTRAINT_ASSIGN_EVERY_SHIFT);\r\n\r\n\t\tLOG.trace(SchedulingConstants.METHOD_EXIT);\r\n\t\treturn constraint;\r\n\t}\r\n\r\n\tConstraint prioritizeScheduledRankShift(ConstraintFactory constraintFactory) {\r\n\t\tLOG.trace(SchedulingConstants.METHOD_ENTRY);\r\n\t\tConstraint constraint = constraintFactory.forEachIncludingNullVars(Shift.class).filter(\r\n\t\t\t\tshift -&gt; shift.getClinician() == null &amp;&amp; shift.getRank().equals(SchedulingConstants.SCHEDULED_SHIFT))\r\n\t\t\t\t.penalizeConfigurable().asConstraint(CONSTRAINT_SHIFT_ALLOCATION_PREFERENCE_TO_SCHEDULED_RANK);\r\n\r\n\t\tLOG.trace(SchedulingConstants.METHOD_EXIT);\r\n\t\treturn constraint;\r\n\t}\r\n\r\n```\r\nThe difference being i have used a hard score to penalize it. This is working to an extend but not on all occasions and I am scared that it can break something.\r\n","title":"OptaPlanner Employee Rostering: Fill Priority 1 Shifts Before Priority 2 Shifts","body":"<p>I'm working on an employee rostering system using OptaPlanner, and I'm facing a scenario where I need to ensure that priority 1 shifts are filled before priority 2 shifts. The shifts are identified by a priority field in the Shift class, which serves as the planning entity.</p>\n<p>Here's what I'm trying to achieve:</p>\n<ul>\n<li>Priority 1 shifts must be assigned first, and they have higher importance.</li>\n<li>Only after all priority 1 shifts are assigned should the solver consider filling priority 2 shifts.\nCould someone guide me on how to set up the OptaPlanner configuration and constraints to achieve this behavior? I've tried a few approaches, but I'm not sure how to make sure the solver respects this priority order when assigning shifts.</li>\n</ul>\n<p>Any help, sample code snippets, or guidance on how to structure my constraint configuration for this scenario would be greatly appreciated. Thank you in advance for your assistance!</p>\n<p>OptaPlanner Version: 8.29.0.Final</p>\n<p>I have tried created a constraint like this</p>\n<pre><code>Constraint constraint = constraintFactory.forEach(Shift.class)\n                .groupBy(shift -&gt; shift.getWorksite(), ConstraintCollectors.toList())\n                .filter((worksite, shiftList) -&gt; filterAlternateShifts(shiftList)).penalizeConfigurable((u, s) -&gt; 20)\n                .asConstraint(CONSTRAINT_ALTERNATES_SHOULD_NOT_BE_ASSIGNED_BEFORE_SCHEDULED);\n</code></pre>\n<p>with the filter method defined as:</p>\n<pre><code>    private boolean filterAlternateShifts(List&lt;Shift&gt; shiftList) {\n        List&lt;Shift&gt; alternates = shiftList.stream().filter(s -&gt; s.getRank().equals(SchedulingConstants.ALTERNATE_SHIFT))\n                .collect(Collectors.toList());\n        List&lt;Shift&gt; scheduled = shiftList.stream().filter(s -&gt; s.getRank().equals(SchedulingConstants.SCHEDULED_SHIFT))\n                .collect(Collectors.toList());\n\n        boolean unassignedScheduledShiftExists = scheduled.stream().anyMatch(s -&gt; s.getClinician() == null);\n\n        boolean assignedAlternateExists = alternates.stream().anyMatch(s -&gt; s.getClinician() != null);\n\n        return unassignedScheduledShiftExists &amp;&amp; assignedAlternateExists;\n\n    }\n</code></pre>\n<p>But this is not working. I have tried another approach similar to the already defined assignEveryShift constraint</p>\n<pre><code>\n    Constraint assignEveryShift(ConstraintFactory constraintFactory) {\n        LOG.trace(SchedulingConstants.METHOD_ENTRY);\n        Constraint constraint = constraintFactory.forEachIncludingNullVars(Shift.class)\n                .filter(shift -&gt; shift.getClinician() == null).penalizeConfigurable()\n                .asConstraint(CONSTRAINT_ASSIGN_EVERY_SHIFT);\n\n        LOG.trace(SchedulingConstants.METHOD_EXIT);\n        return constraint;\n    }\n\n    Constraint prioritizeScheduledRankShift(ConstraintFactory constraintFactory) {\n        LOG.trace(SchedulingConstants.METHOD_ENTRY);\n        Constraint constraint = constraintFactory.forEachIncludingNullVars(Shift.class).filter(\n                shift -&gt; shift.getClinician() == null &amp;&amp; shift.getRank().equals(SchedulingConstants.SCHEDULED_SHIFT))\n                .penalizeConfigurable().asConstraint(CONSTRAINT_SHIFT_ALLOCATION_PREFERENCE_TO_SCHEDULED_RANK);\n\n        LOG.trace(SchedulingConstants.METHOD_EXIT);\n        return constraint;\n    }\n\n</code></pre>\n<p>The difference being i have used a hard score to penalize it. This is working to an extend but not on all occasions and I am scared that it can break something.</p>\n"},{"tags":["java","spring","maven-3","spring-data-mongodb","tomcat10"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690481690,"post_id":76780075,"comment_id":135363678,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29095235,"reputation":1,"user_id":22288237,"display_name":"Hitesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691767235,"creation_date":1690463312,"question_id":76780075,"body_markdown":"I have upgraded my maven project From Java 8 to Java 17 i have resolved all compilation errors , but I am getting error in MongoDb initialisation while deploying tomcat server locally.\r\n\r\nException : \r\n\r\n```\r\nERROR ContextLoader Context initialization failed\r\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mappingMongoConverter&#39; defined in com.project.app.config.web.DbConfig: Unsatisfied dependency expressed through method &#39;mappingMongoConverter&#39; parameter 2: Error creating bean with name &#39;mongoMappingContext&#39; defined in com.project.app.config.web.DbConfig: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:394)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:274)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:102)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1821)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoMappingContext&#39; defined in com.project.app.config.web.DbConfig: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t... 61 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:787)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:339)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mongodb.MongoManagedTypes.forEach(MongoManagedTypes.java:79)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.initialize(AbstractMappingContext.java:484)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.afterPropertiesSet(AbstractMappingContext.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n\t... 72 more\r\n\r\n```\r\nDBConfig class\r\n\r\n```\r\npackage com.project.app.config.web;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.ReadPreference;\r\nimport com.project.dao.mongodb.config.MongoAuditAware;\r\nimport com.project.rest.utils.JSR310DateConverters.DateToZonedDateTimeConverter;\r\nimport com.project.rest.utils.JSR310DateConverters.ZonedDateTimeToDateConverter;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.data.domain.AuditorAware;\r\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\r\nimport org.springframework.data.mongodb.config.AbstractMongoClientConfiguration;\r\nimport org.springframework.data.mongodb.config.EnableMongoAuditing;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\r\nimport org.springframework.data.mongodb.core.WriteResultChecking;\r\nimport org.springframework.data.mongodb.core.convert.DefaultDbRefResolver;\r\nimport org.springframework.data.mongodb.core.convert.DefaultMongoTypeMapper;\r\nimport org.springframework.data.mongodb.core.convert.MappingMongoConverter;\r\nimport org.springframework.data.mongodb.core.convert.MongoCustomConversions;\r\nimport org.springframework.data.mongodb.core.mapping.MongoMappingContext;\r\nimport org.springframework.data.mongodb.core.mapping.event.LoggingEventListener;\r\nimport org.springframework.data.mongodb.core.mapping.event.ValidatingMongoEventListener;\r\nimport org.springframework.data.mongodb.gridfs.GridFsTemplate;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n/**\r\n * Created by prateek on 3/2/17.\r\n */\r\n@Configuration\r\n@EnableMongoRepositories(basePackages = {&quot;com.project.dao.mongodb&quot;})\r\n@ComponentScan(basePackages = {&quot;com.project.dao.mongodb.*&quot;, &quot;com.project.dao.redisdb.*&quot;})\r\n@EnableMongoAuditing\r\npublic class DbConfig extends AbstractMongoClientConfiguration {\r\n    private static final Logger logger = LoggerFactory.getLogger(DbConfig.class);\r\n\r\n    @Value(&quot;${db.name}&quot;)\r\n    private String dbName;\r\n\r\n    @Value(&quot;${db.host}&quot;)\r\n    private String dbHost;\r\n\r\n    @Value(&quot;${db.port}&quot;)\r\n    private int dbPort;\r\n\r\n    @Value(&quot;${db.totalConnection}&quot;)\r\n    private int connectionPerHost;\r\n\r\n    @Value(&quot;${db.gridFs.uri}&quot;)\r\n    private String gridFsUri;\r\n\r\n    @Value(&quot;${db.client.uri}&quot;)\r\n    private String mongoUri;\r\n\r\n    @Value(&quot;${db.batchSize}&quot;)\r\n    public static int batchSize = 50;\r\n\r\n    @Override\r\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\r\n        builder.applyConnectionString(new ConnectionString(mongoUri));\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return dbName;\r\n    }\r\n\r\n    @Override\r\n    protected Collection&lt;String&gt; getMappingBasePackages() {\r\n        return Arrays.asList(&quot;com.project.all&quot;, &quot;com.project.nextgen.*&quot;, &quot;com.project.metrics.*&quot;, &quot;com.project.config.*&quot;);\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public MongoTemplate mongoTemplate() throws Exception {\r\n        logger.debug(&quot;Initializing mongo template with dbName [{}]&quot;, dbName);\r\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(mongoUri);\r\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\r\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\r\n\r\n        mappingMongoConverter.setCustomConversions(customConversions());\r\n        mappingMongoConverter.setTypeMapper(new DefaultMongoTypeMapper(null));\r\n        mappingMongoConverter.afterPropertiesSet();\r\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoDatabaseFactory, mappingMongoConverter);\r\n        mongoTemplate.setWriteResultChecking(WriteResultChecking.EXCEPTION);\r\n        logger.debug(&quot;Initialization of mongo template completed successfully with URI {}&quot;, mongoUri);\r\n        return mongoTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public GridFsTemplate gridFsTemplate() throws Exception {\r\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(gridFsUri);\r\n\r\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\r\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\r\n\r\n        GridFsTemplate gridFsTemplate = new GridFsTemplate(mongoDatabaseFactory, mappingMongoConverter);\r\n\r\n        logger.debug(&quot;Initialization of mongo grid fs template completed successfully with URI {}&quot;, gridFsUri);\r\n\r\n        return gridFsTemplate;\r\n    }\r\n\r\n    @Bean(name = &quot;mongoSecondaryBean&quot;)\r\n    public MongoTemplate mongoTemplateSecondaryPreference() throws Exception {\r\n        logger.debug(&quot;Initializing mongo template with dbName [{}]&quot;, dbName);\r\n\r\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(mongoUri);\r\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\r\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\r\n\r\n        mappingMongoConverter.setCustomConversions(customConversions());\r\n        mappingMongoConverter.setTypeMapper(new DefaultMongoTypeMapper(null));\r\n        mappingMongoConverter.afterPropertiesSet();\r\n\r\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoDatabaseFactory, mappingMongoConverter);\r\n\r\n        mongoTemplate.setWriteResultChecking(WriteResultChecking.EXCEPTION);\r\n        mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\r\n\r\n        logger.debug(&quot;Initialization of mongo template completed successfully with URI {}&quot;, mongoUri);\r\n        return mongoTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public ValidatingMongoEventListener validatingMongoEventListener() {\r\n        return new ValidatingMongoEventListener(validator().getValidator());\r\n    }\r\n\r\n    @Bean\r\n    public LocalValidatorFactoryBean validator() {\r\n        return new LocalValidatorFactoryBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configureConverters(MongoCustomConversions.MongoConverterConfigurationAdapter converterConfigurationAdapter) {\r\n        converterConfigurationAdapter.registerConverter(DateToZonedDateTimeConverter.INSTANCE);\r\n        converterConfigurationAdapter.registerConverter(ZonedDateTimeToDateConverter.INSTANCE);\r\n    }\r\n\r\n    @Bean(name = &quot;mongoAudit&quot;)\r\n    public AuditorAware&lt;String&gt; mongoAuditProvider() {\r\n        return new MongoAuditAware();\r\n    }\r\n\r\n    @Bean\r\n    public LoggingEventListener mappingEventsListener() {\r\n        return new LoggingEventListener();\r\n    }\r\n}\r\n```\r\n**Dependencies** :\r\n1. spring : 6.0.8, \r\n2. spring-data-mongodb : 4.0.0, \r\n3. mongodb-driver-core : 4.8.0,\r\n4. mongodb-driver-sync : 4.8.0\r\n5. JDK : 17.0.7\r\n6. Maven : 3.8.1\r\n7. Tomacat : 10.1.10\r\n8. lombok : 1.18.28\r\n9. IDE : IntelliJ IDEA 2020.3.3 (Ultimate Edition)\r\n      Runtime version: 11.0.10+8-b1145.96 amd64\r\n\r\nIam not sure if the problem is with incorrect dependencies versions or i have done something wrong in mongoDB initialization \r\n\r\nPlease help in in understanding if I am doing something wrong. i have tried other solutions like adding --add-opens=java.xml/javax.xml.namespace=ALL-UNNAMED in idea64.vmoptions file but my problem is not resolved yet.\r\nThanks in advance.\r\n\r\nNOTE : \r\nI have debugged the code and found that below field is causing the issue, and this is getting used in another class also, but Iam not sure why this error is caused by JAXBElement&lt;String&gt;. Please let me know if anyone has any explanation.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n                            @Data\r\n                            @AllArgsConstructor\r\n                            @NoArgsConstructor\r\n                            @XmlType(name = &quot;&quot;, propOrder = {\r\n                                    &quot;content&quot;\r\n                            })\r\n                            public static class REMARKS {\r\n\r\n\r\n                                @XmlElementRef(name = &quot;REMARK&quot;, type = JAXBElement.class, required = false)\r\n                                @JsonProperty(&quot;aContent&quot;)\r\n                                @JsonInclude(JsonInclude.Include.NON_NULL)\r\n                                protected List&lt;JAXBElement&lt;String&gt;&gt; content;\r\n\r\n                            }","title":"getting module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module","body":"<p>I have upgraded my maven project From Java 8 to Java 17 i have resolved all compilation errors , but I am getting error in MongoDb initialisation while deploying tomcat server locally.</p>\n<p>Exception :</p>\n<pre><code>ERROR ContextLoader Context initialization failed\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mappingMongoConverter' defined in com.project.app.config.web.DbConfig: Unsatisfied dependency expressed through method 'mappingMongoConverter' parameter 2: Error creating bean with name 'mongoMappingContext' defined in com.project.app.config.web.DbConfig: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:394)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:274)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:102)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1821)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext' defined in com.project.app.config.web.DbConfig: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 61 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String javax.xml.namespace.QName.namespaceURI accessible: module java.xml does not &quot;opens javax.xml.namespace&quot; to unnamed module @e416d24\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:787)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:711)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:339)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mongodb.MongoManagedTypes.forEach(MongoManagedTypes.java:79)\n    at org.springframework.data.mapping.context.AbstractMappingContext.initialize(AbstractMappingContext.java:484)\n    at org.springframework.data.mapping.context.AbstractMappingContext.afterPropertiesSet(AbstractMappingContext.java:476)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 72 more\n\n</code></pre>\n<p>DBConfig class</p>\n<pre><code>package com.project.app.config.web;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.ReadPreference;\nimport com.project.dao.mongodb.config.MongoAuditAware;\nimport com.project.rest.utils.JSR310DateConverters.DateToZonedDateTimeConverter;\nimport com.project.rest.utils.JSR310DateConverters.ZonedDateTimeToDateConverter;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.data.domain.AuditorAware;\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\nimport org.springframework.data.mongodb.config.AbstractMongoClientConfiguration;\nimport org.springframework.data.mongodb.config.EnableMongoAuditing;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\nimport org.springframework.data.mongodb.core.WriteResultChecking;\nimport org.springframework.data.mongodb.core.convert.DefaultDbRefResolver;\nimport org.springframework.data.mongodb.core.convert.DefaultMongoTypeMapper;\nimport org.springframework.data.mongodb.core.convert.MappingMongoConverter;\nimport org.springframework.data.mongodb.core.convert.MongoCustomConversions;\nimport org.springframework.data.mongodb.core.mapping.MongoMappingContext;\nimport org.springframework.data.mongodb.core.mapping.event.LoggingEventListener;\nimport org.springframework.data.mongodb.core.mapping.event.ValidatingMongoEventListener;\nimport org.springframework.data.mongodb.gridfs.GridFsTemplate;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.lang.NonNull;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\n/**\n * Created by prateek on 3/2/17.\n */\n@Configuration\n@EnableMongoRepositories(basePackages = {&quot;com.project.dao.mongodb&quot;})\n@ComponentScan(basePackages = {&quot;com.project.dao.mongodb.*&quot;, &quot;com.project.dao.redisdb.*&quot;})\n@EnableMongoAuditing\npublic class DbConfig extends AbstractMongoClientConfiguration {\n    private static final Logger logger = LoggerFactory.getLogger(DbConfig.class);\n\n    @Value(&quot;${db.name}&quot;)\n    private String dbName;\n\n    @Value(&quot;${db.host}&quot;)\n    private String dbHost;\n\n    @Value(&quot;${db.port}&quot;)\n    private int dbPort;\n\n    @Value(&quot;${db.totalConnection}&quot;)\n    private int connectionPerHost;\n\n    @Value(&quot;${db.gridFs.uri}&quot;)\n    private String gridFsUri;\n\n    @Value(&quot;${db.client.uri}&quot;)\n    private String mongoUri;\n\n    @Value(&quot;${db.batchSize}&quot;)\n    public static int batchSize = 50;\n\n    @Override\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\n        builder.applyConnectionString(new ConnectionString(mongoUri));\n    }\n\n    @NonNull\n    @Override\n    protected String getDatabaseName() {\n        return dbName;\n    }\n\n    @Override\n    protected Collection&lt;String&gt; getMappingBasePackages() {\n        return Arrays.asList(&quot;com.project.all&quot;, &quot;com.project.nextgen.*&quot;, &quot;com.project.metrics.*&quot;, &quot;com.project.config.*&quot;);\n    }\n\n    @Primary\n    @Bean\n    public MongoTemplate mongoTemplate() throws Exception {\n        logger.debug(&quot;Initializing mongo template with dbName [{}]&quot;, dbName);\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(mongoUri);\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\n\n        mappingMongoConverter.setCustomConversions(customConversions());\n        mappingMongoConverter.setTypeMapper(new DefaultMongoTypeMapper(null));\n        mappingMongoConverter.afterPropertiesSet();\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoDatabaseFactory, mappingMongoConverter);\n        mongoTemplate.setWriteResultChecking(WriteResultChecking.EXCEPTION);\n        logger.debug(&quot;Initialization of mongo template completed successfully with URI {}&quot;, mongoUri);\n        return mongoTemplate;\n    }\n\n    @Bean\n    public GridFsTemplate gridFsTemplate() throws Exception {\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(gridFsUri);\n\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\n\n        GridFsTemplate gridFsTemplate = new GridFsTemplate(mongoDatabaseFactory, mappingMongoConverter);\n\n        logger.debug(&quot;Initialization of mongo grid fs template completed successfully with URI {}&quot;, gridFsUri);\n\n        return gridFsTemplate;\n    }\n\n    @Bean(name = &quot;mongoSecondaryBean&quot;)\n    public MongoTemplate mongoTemplateSecondaryPreference() throws Exception {\n        logger.debug(&quot;Initializing mongo template with dbName [{}]&quot;, dbName);\n\n        MongoDatabaseFactory mongoDatabaseFactory = new SimpleMongoClientDatabaseFactory(mongoUri);\n        MappingMongoConverter mappingMongoConverter = new MappingMongoConverter(\n                new DefaultDbRefResolver(mongoDatabaseFactory), new MongoMappingContext());\n\n        mappingMongoConverter.setCustomConversions(customConversions());\n        mappingMongoConverter.setTypeMapper(new DefaultMongoTypeMapper(null));\n        mappingMongoConverter.afterPropertiesSet();\n\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoDatabaseFactory, mappingMongoConverter);\n\n        mongoTemplate.setWriteResultChecking(WriteResultChecking.EXCEPTION);\n        mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\n\n        logger.debug(&quot;Initialization of mongo template completed successfully with URI {}&quot;, mongoUri);\n        return mongoTemplate;\n    }\n\n    @Bean\n    public ValidatingMongoEventListener validatingMongoEventListener() {\n        return new ValidatingMongoEventListener(validator().getValidator());\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        return new LocalValidatorFactoryBean();\n    }\n\n    @Override\n    protected void configureConverters(MongoCustomConversions.MongoConverterConfigurationAdapter converterConfigurationAdapter) {\n        converterConfigurationAdapter.registerConverter(DateToZonedDateTimeConverter.INSTANCE);\n        converterConfigurationAdapter.registerConverter(ZonedDateTimeToDateConverter.INSTANCE);\n    }\n\n    @Bean(name = &quot;mongoAudit&quot;)\n    public AuditorAware&lt;String&gt; mongoAuditProvider() {\n        return new MongoAuditAware();\n    }\n\n    @Bean\n    public LoggingEventListener mappingEventsListener() {\n        return new LoggingEventListener();\n    }\n}\n</code></pre>\n<p><strong>Dependencies</strong> :</p>\n<ol>\n<li>spring : 6.0.8,</li>\n<li>spring-data-mongodb : 4.0.0,</li>\n<li>mongodb-driver-core : 4.8.0,</li>\n<li>mongodb-driver-sync : 4.8.0</li>\n<li>JDK : 17.0.7</li>\n<li>Maven : 3.8.1</li>\n<li>Tomacat : 10.1.10</li>\n<li>lombok : 1.18.28</li>\n<li>IDE : IntelliJ IDEA 2020.3.3 (Ultimate Edition)\nRuntime version: 11.0.10+8-b1145.96 amd64</li>\n</ol>\n<p>Iam not sure if the problem is with incorrect dependencies versions or i have done something wrong in mongoDB initialization</p>\n<p>Please help in in understanding if I am doing something wrong. i have tried other solutions like adding --add-opens=java.xml/javax.xml.namespace=ALL-UNNAMED in idea64.vmoptions file but my problem is not resolved yet.\nThanks in advance.</p>\n<p>NOTE :\nI have debugged the code and found that below field is causing the issue, and this is getting used in another class also, but Iam not sure why this error is caused by JAXBElement. Please let me know if anyone has any explanation.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n                        @Data\n                        @AllArgsConstructor\n                        @NoArgsConstructor\n                        @XmlType(name = &quot;&quot;, propOrder = {\n                                &quot;content&quot;\n                        })\n                        public static class REMARKS {\n\n\n                            @XmlElementRef(name = &quot;REMARK&quot;, type = JAXBElement.class, required = false)\n                            @JsonProperty(&quot;aContent&quot;)\n                            @JsonInclude(JsonInclude.Include.NON_NULL)\n                            protected List&lt;JAXBElement&lt;String&gt;&gt; content;\n\n                        }\n</code></pre>\n"},{"tags":["java","ui-automation","cucumber-jvm","appium-ios"],"answers":[{"tags":[],"owner":{"account_id":23234665,"reputation":1,"user_id":17324812,"display_name":"Tashmim Tahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691766807,"creation_date":1691766807,"answer_id":76884773,"question_id":76884429,"body_markdown":"It sounds like you&#39;re working on some cool automation using Appium, TestNG, and Cucumber – that&#39;s awesome! \r\n\r\nSo, you&#39;re trying to scroll down a long list in your iOS app until you find a specific item to interact with, right? You&#39;re using the scrollElementIntoView() method, which usually works like a charm, but it&#39;s misbehaving when the list gets extra long. Not cool!\r\n\r\nYou&#39;re on the right track with your approach. The issue seems to stem from the findElementWithWait() method, where you&#39;re setting a wait time and trying to locate an element. If it&#39;s taking longer than your wait time, it throws a NoSuchElementException. Got it.\r\n\r\nYou could consider increasing the wait time in the DriverHelper class – maybe to 30 seconds or so – especially for those longer lists. This can give the system more time to find the element, especially in cases where the list is extensive.\r\n\r\nAlternatively, you could try catching StaleElementReferenceException in your isElementVisible() method. Sometimes, if the DOM changes during scrolling, this exception could occur.\r\n\r\nAlso, be sure to double-check your XPath for accuracy. If it&#39;s not accurately identifying the element, that could be a reason for your NoSuchElementException.\r\n\r\nAnd finally, just a heads-up: Appium&#39;s mobile: scrollToElement might not be available in all scenarios. So, you might want to have a fallback plan, like using the swipe action to simulate scrolling.\r\n\r\nRemember, automation can be a bit tricky sometimes, but you&#39;re doing great by digging into the details!\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get Appium to scroll to an Element it can&#39;t find in iOS","body":"<p>It sounds like you're working on some cool automation using Appium, TestNG, and Cucumber – that's awesome!</p>\n<p>So, you're trying to scroll down a long list in your iOS app until you find a specific item to interact with, right? You're using the scrollElementIntoView() method, which usually works like a charm, but it's misbehaving when the list gets extra long. Not cool!</p>\n<p>You're on the right track with your approach. The issue seems to stem from the findElementWithWait() method, where you're setting a wait time and trying to locate an element. If it's taking longer than your wait time, it throws a NoSuchElementException. Got it.</p>\n<p>You could consider increasing the wait time in the DriverHelper class – maybe to 30 seconds or so – especially for those longer lists. This can give the system more time to find the element, especially in cases where the list is extensive.</p>\n<p>Alternatively, you could try catching StaleElementReferenceException in your isElementVisible() method. Sometimes, if the DOM changes during scrolling, this exception could occur.</p>\n<p>Also, be sure to double-check your XPath for accuracy. If it's not accurately identifying the element, that could be a reason for your NoSuchElementException.</p>\n<p>And finally, just a heads-up: Appium's mobile: scrollToElement might not be available in all scenarios. So, you might want to have a fallback plan, like using the swipe action to simulate scrolling.</p>\n<p>Remember, automation can be a bit tricky sometimes, but you're doing great by digging into the details!</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691766807,"creation_date":1691763804,"question_id":76884429,"body_markdown":"I am developing an automation test suite in Java using Appium 2, TestNG, and Cucumber.\r\n\r\nI am currently facing an issue where I am trying to scroll to down a XCUIElementTypeTable until a particular XCUIElementTypeCell is visible then click on the cell.\r\n\r\nFor all my test that require scrolling to an element I have been using this method\r\n```java\r\npublic void scrollElementIntoView(WebElement element) {\r\n    driver.executeScript(&quot;mobile: scrollToElement&quot;, \r\n        ImmutableMap.of(&quot;element&quot;, ((RemoteWebElement) element).getId()));\r\n}\r\n```\r\nThis works 99% of the time. However, if the screen/list is particularly long I keep getting `NoSuchElementException`. Even Appium Inspector fails to find the element sometimes.\r\n\r\nHow can I rework my scrollElementIntoView() method to avoid this issue?\r\n\r\nHere is a censored(due to NDAs)version of the actual test that is failing.\r\n\r\n**list-test.feature**\r\n```gherkin\r\nScenario: App Item to List and verify it is present\r\n    Given: App is open and user is logged in\r\n    When: User navigates to Item List\r\n    And: User adds new Item &quot;itemName&quot; to List\r\n    Then: User can see new Item &quot;itemName&quot; listed #this step fails\r\n```\r\n\r\n**Stepdefs.java**\r\n```java\r\n@Then(&quot;User can see new Item {string} listed&quot;)\r\npublic void userSeeItem(String itemName){\r\n    Assert.assertTrue(listPage.isItemListed(itemName));\r\n```\r\n\r\n**ListPage.java**\r\n```java\r\npublic class ListPage {\r\n    public AppiumDriver driver;\r\n    public DriverHelper driverHelper;\r\n\r\n    public MyPhonePage(AppiumDriver driver) {\r\n            this.driver = driver;\r\n            this.driverHelper = new DriverHelper(driver);\r\n            PageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n    }\r\n\r\n    private WebElement listedItem(String itemName){\r\n        return driverHelper.findElementWithWait(AppiumBy.xpath(String.format(\r\n            &quot;//XCUIElementTypeCell[@label=&#39;%s&#39;]&quot;, itemName))); // findElementWithWait() is where the error is thrown\r\n    }\r\n\r\n    public boolean isItemListed(itemName){\r\n        driverHelper.scrollElementIntoView(listItem(itemName));\r\n        return driverHelper.isElementVisible(listItem(itemName));\r\n    }\r\n}\r\n```\r\n\r\n**DriverHelper.java**\r\n```java\r\npublic DriverHelper{\r\n    AppiumDriver driver;\r\n    private static final Duration WAIT = Duration.ofSeconds(15);\r\n\r\n    public DriverHelper(AppiumDriver){\r\n        this.driver = driver;\r\n    }\r\n\r\n    public WebElement findElementWithWait(By by) {\r\n        WebDriverWait wait = new WebDriverWait(driver, WAIT);\r\n\r\n        try {\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n            return driver.findElement(by);\r\n        } \r\n        catch (TimeoutException e) {\r\n            throw new NoSuchElementException(String.format(&quot;The element with locator %s \r\n                was not located within 15 seconds.&quot;, by));\r\n        }\r\n    }\r\n\r\n    public void scrollElementIntoView(WebElement element) {\r\n        driver.executeScript(&quot;mobile: scrollToElement&quot;, \r\n            ImmutableMap.of(&quot;element&quot;, ((RemoteWebElement) element).getId()));\r\n    }\r\n\r\n    public boolean isElementVisible(WebElement element){\r\n        WebDriverWait wait = new WebDriverWait(driver, WAIT);\r\n        \r\n        try {\r\n            wait.until(ExpectedConditions.refreshed(\r\n                ExpectedConditions.visibilityOf(element)));\r\n            return true\r\n        } \r\n        catch (TimeoutException e) {\r\n            return false;\r\n        }\r\n        \r\n```\r\n","title":"How can I get Appium to scroll to an Element it can&#39;t find in iOS","body":"<p>I am developing an automation test suite in Java using Appium 2, TestNG, and Cucumber.</p>\n<p>I am currently facing an issue where I am trying to scroll to down a XCUIElementTypeTable until a particular XCUIElementTypeCell is visible then click on the cell.</p>\n<p>For all my test that require scrolling to an element I have been using this method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void scrollElementIntoView(WebElement element) {\n    driver.executeScript(&quot;mobile: scrollToElement&quot;, \n        ImmutableMap.of(&quot;element&quot;, ((RemoteWebElement) element).getId()));\n}\n</code></pre>\n<p>This works 99% of the time. However, if the screen/list is particularly long I keep getting <code>NoSuchElementException</code>. Even Appium Inspector fails to find the element sometimes.</p>\n<p>How can I rework my scrollElementIntoView() method to avoid this issue?</p>\n<p>Here is a censored(due to NDAs)version of the actual test that is failing.</p>\n<p><strong>list-test.feature</strong></p>\n<pre><code>Scenario: App Item to List and verify it is present\n    Given: App is open and user is logged in\n    When: User navigates to Item List\n    And: User adds new Item &quot;itemName&quot; to List\n    Then: User can see new Item &quot;itemName&quot; listed #this step fails\n</code></pre>\n<p><strong>Stepdefs.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;User can see new Item {string} listed&quot;)\npublic void userSeeItem(String itemName){\n    Assert.assertTrue(listPage.isItemListed(itemName));\n</code></pre>\n<p><strong>ListPage.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListPage {\n    public AppiumDriver driver;\n    public DriverHelper driverHelper;\n\n    public MyPhonePage(AppiumDriver driver) {\n            this.driver = driver;\n            this.driverHelper = new DriverHelper(driver);\n            PageFactory.initElements(new AppiumFieldDecorator(driver), this);\n    }\n\n    private WebElement listedItem(String itemName){\n        return driverHelper.findElementWithWait(AppiumBy.xpath(String.format(\n            &quot;//XCUIElementTypeCell[@label='%s']&quot;, itemName))); // findElementWithWait() is where the error is thrown\n    }\n\n    public boolean isItemListed(itemName){\n        driverHelper.scrollElementIntoView(listItem(itemName));\n        return driverHelper.isElementVisible(listItem(itemName));\n    }\n}\n</code></pre>\n<p><strong>DriverHelper.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public DriverHelper{\n    AppiumDriver driver;\n    private static final Duration WAIT = Duration.ofSeconds(15);\n\n    public DriverHelper(AppiumDriver){\n        this.driver = driver;\n    }\n\n    public WebElement findElementWithWait(By by) {\n        WebDriverWait wait = new WebDriverWait(driver, WAIT);\n\n        try {\n            wait.until(ExpectedConditions.presenceOfElementLocated(by));\n            return driver.findElement(by);\n        } \n        catch (TimeoutException e) {\n            throw new NoSuchElementException(String.format(&quot;The element with locator %s \n                was not located within 15 seconds.&quot;, by));\n        }\n    }\n\n    public void scrollElementIntoView(WebElement element) {\n        driver.executeScript(&quot;mobile: scrollToElement&quot;, \n            ImmutableMap.of(&quot;element&quot;, ((RemoteWebElement) element).getId()));\n    }\n\n    public boolean isElementVisible(WebElement element){\n        WebDriverWait wait = new WebDriverWait(driver, WAIT);\n        \n        try {\n            wait.until(ExpectedConditions.refreshed(\n                ExpectedConditions.visibilityOf(element)));\n            return true\n        } \n        catch (TimeoutException e) {\n            return false;\n        }\n        \n</code></pre>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":29199763,"reputation":21,"user_id":22370135,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691766786,"creation_date":1691766786,"answer_id":76884772,"question_id":76876345,"body_markdown":"I was able to figure out the root cause.\r\n\r\nThe issue was with the following method. \r\n\r\n    public static List&lt;Object[]&gt; prepareTestData() {\r\n        final List&lt;Object[]&gt; testDataList = new ArrayList&lt;&gt;();\r\n        \r\n        testDataMap\r\n        \t.entrySet()\r\n        \t.parallelStream()\r\n        \t.forEach(entry -&gt; {\r\n        \t\tfinal String storeAlias = entry.getKey();\r\n        \t\tfinal List&lt;TestData&gt; testDataList = entry.getValue();\r\n        \t\tfinal List&lt;Object[]&gt; list = testDataList\r\n        \t\t\t\t.stream()\r\n        \t\t\t\t...\r\n        \t\t\t\t.map(testData -&gt; new Object[]{someObj1, someObj2})\r\n        \t\t\t\t.toList();\r\n        \t\ttestDataList.addAll(list);\r\n        \t});\r\n    }\r\n\r\nHere, I was trying to add the elements to an `ArrayList` concurrently.\r\nBut, then I realized that ArrayList is not thread-safe, and hence this was causing issues.\r\n\r\n## Solution?\r\nI used `CopyOnWriteArrayList`.","title":"Intermittently getting ParameterResolutionException for JUnit5 parameterized tests running in parallel","body":"<p>I was able to figure out the root cause.</p>\n<p>The issue was with the following method.</p>\n<pre><code>public static List&lt;Object[]&gt; prepareTestData() {\n    final List&lt;Object[]&gt; testDataList = new ArrayList&lt;&gt;();\n    \n    testDataMap\n        .entrySet()\n        .parallelStream()\n        .forEach(entry -&gt; {\n            final String storeAlias = entry.getKey();\n            final List&lt;TestData&gt; testDataList = entry.getValue();\n            final List&lt;Object[]&gt; list = testDataList\n                    .stream()\n                    ...\n                    .map(testData -&gt; new Object[]{someObj1, someObj2})\n                    .toList();\n            testDataList.addAll(list);\n        });\n}\n</code></pre>\n<p>Here, I was trying to add the elements to an <code>ArrayList</code> concurrently.\nBut, then I realized that ArrayList is not thread-safe, and hence this was causing issues.</p>\n<h2>Solution?</h2>\n<p>I used <code>CopyOnWriteArrayList</code>.</p>\n"}],"owner":{"account_id":29199763,"reputation":21,"user_id":22370135,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76884772,"answer_count":1,"score":2,"last_activity_date":1691766786,"creation_date":1691675161,"question_id":76876345,"body_markdown":"I am writing parameterized tests, where test classes and methods are running in parallel. Below is the configuration.\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled = true\r\njunit.jupiter.execution.parallel.mode.default = concurrent\r\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\r\njunit.jupiter.execution.parallel.config.dynamic.factor = 2\r\n```\r\n\r\nThe tests snippet is below -\r\n\r\n```\r\nimport org.junit.jupiter.api.Tag;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.MethodSource;\r\n\r\n@ExtendWith(SimpleCallbackListener.class)\r\npublic class HelloWorldTest {\r\n    private static final Map&lt;String, List&lt;TestData&gt;&gt; testDataMap;\r\n\r\n    static {\r\n        testDataMap = TestsConfigManager.readTestConfig(&quot;test-data&quot;);\r\n    }\r\n\r\n    private static List&lt;Object[]&gt; data() {\r\n        final List&lt;Object[]&gt; testDataList = prepareTestData(testDataMap);\r\n        return testDataList;\r\n    }\r\n\r\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\r\n    @MethodSource(&quot;data&quot;)\r\n    @Tag(&quot;regression&quot;)\r\n    public void testMethodName(\r\n            final String expected,\r\n            final String actual\r\n    ) {\r\n        // test code goes here\r\n    }\r\n}\r\n```\r\n\r\n`SimpleCallbackListener` is as below -\r\n\r\n```\r\npublic class SimpleCallbackListener implements BeforeAllCallback, ExtensionContext.Store.CloseableResource {\r\n    /**\r\n     * gatekeeper to prevent multiple Threads within the same routine\r\n     */\r\n    private static final Lock LOCK = new ReentrantLock();\r\n    private static boolean started = false;\r\n    private Instant startTime;\r\n\r\n    @Override\r\n    public void beforeAll(final ExtensionContext context) {\r\n        LOCK.lock();\r\n        try {\r\n            if (!started) {\r\n                startTime = Instant.now();\r\n                requireApplicationInitializer();\r\n                // The following line registers a callback hook when the root test context is shut down\r\n                context.getRoot().getStore(GLOBAL).put(this.getClass().getName(), this);\r\n                started = true;\r\n            }\r\n        } finally {\r\n            LOCK.unlock();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Question\r\nThis setup is causing below intermittent exception.\r\n\r\n```\r\norg.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter ... in method ...\r\n\tat java.base@17.0.7/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)\r\n\tat java.base@17.0.7/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base@17.0.7/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base@17.0.7/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base@17.0.7/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base@17.0.7/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n```\r\n\r\nLooked at answers suggested at -\r\n1. https://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-tehttps://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-te\r\n2. https://stackoverflow.com/questions/51867650/junit-5-no-parameterresolver-registered-for-parameter","title":"Intermittently getting ParameterResolutionException for JUnit5 parameterized tests running in parallel","body":"<p>I am writing parameterized tests, where test classes and methods are running in parallel. Below is the configuration.</p>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\njunit.jupiter.execution.parallel.mode.default = concurrent\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\njunit.jupiter.execution.parallel.config.dynamic.factor = 2\n</code></pre>\n<p>The tests snippet is below -</p>\n<pre><code>import org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.MethodSource;\n\n@ExtendWith(SimpleCallbackListener.class)\npublic class HelloWorldTest {\n    private static final Map&lt;String, List&lt;TestData&gt;&gt; testDataMap;\n\n    static {\n        testDataMap = TestsConfigManager.readTestConfig(&quot;test-data&quot;);\n    }\n\n    private static List&lt;Object[]&gt; data() {\n        final List&lt;Object[]&gt; testDataList = prepareTestData(testDataMap);\n        return testDataList;\n    }\n\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\n    @MethodSource(&quot;data&quot;)\n    @Tag(&quot;regression&quot;)\n    public void testMethodName(\n            final String expected,\n            final String actual\n    ) {\n        // test code goes here\n    }\n}\n</code></pre>\n<p><code>SimpleCallbackListener</code> is as below -</p>\n<pre><code>public class SimpleCallbackListener implements BeforeAllCallback, ExtensionContext.Store.CloseableResource {\n    /**\n     * gatekeeper to prevent multiple Threads within the same routine\n     */\n    private static final Lock LOCK = new ReentrantLock();\n    private static boolean started = false;\n    private Instant startTime;\n\n    @Override\n    public void beforeAll(final ExtensionContext context) {\n        LOCK.lock();\n        try {\n            if (!started) {\n                startTime = Instant.now();\n                requireApplicationInitializer();\n                // The following line registers a callback hook when the root test context is shut down\n                context.getRoot().getStore(GLOBAL).put(this.getClass().getName(), this);\n                started = true;\n            }\n        } finally {\n            LOCK.unlock();\n        }\n    }\n}\n</code></pre>\n<h2>Question</h2>\n<p>This setup is causing below intermittent exception.</p>\n<pre><code>org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter ... in method ...\n    at java.base@17.0.7/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)\n    at java.base@17.0.7/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base@17.0.7/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base@17.0.7/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>Looked at answers suggested at -</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-tehttps://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-te\">https://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-tehttps://stackoverflow.com/questions/65934665/why-do-i-have-parameterresolutionexception-when-i-dont-even-use-parametrized-te</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51867650/junit-5-no-parameterresolver-registered-for-parameter\">Junit 5 - No ParameterResolver registered for parameter</a></li>\n</ol>\n"},{"tags":["java","mariadb"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":1,"creation_date":1691766453,"post_id":76884675,"comment_id":135540580,"body_markdown":"Do you have an appropriate driver-jar on your classpath?","body":"Do you have an appropriate driver-jar on your classpath?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691770354,"post_id":76884675,"comment_id":135541380,"body_markdown":"Is there even a db socket listening on that server?","body":"Is there even a db socket listening on that server?"}],"owner":{"account_id":29207027,"reputation":1,"user_id":22375898,"display_name":"QbSss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691766655,"creation_date":1691765966,"question_id":76884675,"body_markdown":"I have problem with, mysql from 11.0.2-MariaDB, client 15.2 when creating minecraft plugin, connecting to database\r\n\r\nfull error:\r\n\r\njava.lang.RuntimeException: java.sql.SQLException: No suitable driver found for jdbc:mariadb://172.17.0.1:3306/s1_users\r\n\tat qbsss.statsmpcore.statssmpcore.StatsSMPCore.onEnable(StatsSMPCore.java:43) ~[?:?]\r\n\tat org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:342) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:480) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.craftbukkit.v1_19_R1.CraftServer.enablePlugin(CraftServer.java:525) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\r\n\tat org.bukkit.craftbukkit.v1_19_R1.CraftServer.enablePlugins(CraftServer.java:439) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\r\n\tat net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:225) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\r\n\tat net.minecraft.server.MinecraftServer.v(MinecraftServer.java:968) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\r\n\tat net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:293) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:mariadb://172.17.0.1:3306/s1_users\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:706) ~[java.sql:?]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:229) ~[java.sql:?]\r\n\tat qbsss.statsmpcore.statssmpcore.StatsSMPCore.onEnable(StatsSMPCore.java:38) ~[?:?]\r\n\t... 9 more\r\n\r\nmy code:\r\n```\r\npackage qbsss.statsmpcore.statssmpcore;\r\n\r\nimport io.papermc.paper.event.player.AsyncChatCommandDecorateEvent;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\nimport qbsss.statsmpcore.commands.AddZycie;\r\nimport qbsss.statsmpcore.commands.Menu;\r\nimport qbsss.statsmpcore.events.PlayerKillOtherPlayer;\r\nimport xyz.xenondevs.invui.gui.Gui;\r\nimport xyz.xenondevs.invui.item.builder.ItemBuilder;\r\nimport xyz.xenondevs.invui.item.impl.SimpleItem;\r\n\r\nimport org.mariadb.jdbc.Driver;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.function.Supplier;\r\n\r\nimport static qbsss.statsmpcore.methods.Color.color;\r\n\r\npublic final class StatsSMPCore extends JavaPlugin {\r\n\r\n\r\n    @Override\r\n    public void onEnable()\r\n    {\r\n\r\n        //DATTABASE SETTINGS\r\n        //String databaseUrl = &quot;jdbc:mariadb://172.17.0.1:3306/DB?user=u1_lob9V9Z6iJ&amp;password=@LRV=lP1WWPhzhYlqQqB85Sb&quot;;\r\n        //String databaseUser = &quot;u1_lob9V9Z6iJ&quot;;\r\n        ///String databasePassword = &quot;@LRV=lP1WWPhzhYlqQqB85Sb&quot;;\r\n\r\n        //DATABASE CONNECTION\r\n\r\n        try {\r\n            Connection connection = DriverManager.getConnection(\r\n                    &quot;jdbc:mariadb://172.17.0.1:3306/s1_users&quot;,\r\n                    &quot;u1_lob9V9Z6iJ&quot;, &quot;@LRV=lP1WWPhzhYlqQqB85Sb&quot;\r\n            );\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        //Connection databaseConnection = DriverManager.getConnection(databaseUrl);\r\n            //Connection databaseConnection = DriverManager.getConnection(databaseUrl, databaseUser, databasePassword);\r\n\r\n            System.out.println(color(&quot;&amp;aPolaczono z baza danych&quot;));\r\n\r\n\r\n\r\n\r\n        getCommand(&quot;menu&quot;).setExecutor( new Menu());\r\n        getCommand(&quot;addzycie&quot;).setExecutor( new AddZycie());\r\n\r\n        getServer().getPluginManager().registerEvents(new PlayerKillOtherPlayer(), this);\r\n\r\n        System.out.println(&quot;[StatsSMPCore]&quot; +  &quot;&amp;a Witaj Swiecie!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDisable()\r\n    {\r\n        System.out.println(&quot;[StatsSMPCore]&quot; + ChatColor.GREEN + &quot; Goodbye!!!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nimpotrant is to use mariadb so i dont want to change db engine\r\n\r\n\r\ni tried code thats upper and using mysql jdbc from mysql\r\n","title":"mariadb No suitable driver found","body":"<p>I have problem with, mysql from 11.0.2-MariaDB, client 15.2 when creating minecraft plugin, connecting to database</p>\n<p>full error:</p>\n<p>java.lang.RuntimeException: java.sql.SQLException: No suitable driver found for jdbc:mariadb://172.17.0.1:3306/s1_users\nat qbsss.statsmpcore.statssmpcore.StatsSMPCore.onEnable(StatsSMPCore.java:43) ~[?:?]\nat org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:342) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:480) ~[spigot-api-1.19.2-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.craftbukkit.v1_19_R1.CraftServer.enablePlugin(CraftServer.java:525) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\nat org.bukkit.craftbukkit.v1_19_R1.CraftServer.enablePlugins(CraftServer.java:439) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\nat net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:225) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\nat net.minecraft.server.MinecraftServer.v(MinecraftServer.java:968) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\nat net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:293) ~[spigot-1.19.2-R0.1-SNAPSHOT.jar:3610-Spigot-6198b5a-19df23a]\nat java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:mariadb://172.17.0.1:3306/s1_users\nat java.sql.DriverManager.getConnection(DriverManager.java:706) ~[java.sql:?]\nat java.sql.DriverManager.getConnection(DriverManager.java:229) ~[java.sql:?]\nat qbsss.statsmpcore.statssmpcore.StatsSMPCore.onEnable(StatsSMPCore.java:38) ~[?:?]\n... 9 more</p>\n<p>my code:</p>\n<pre><code>package qbsss.statsmpcore.statssmpcore;\n\nimport io.papermc.paper.event.player.AsyncChatCommandDecorateEvent;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.plugin.java.JavaPlugin;\n\nimport qbsss.statsmpcore.commands.AddZycie;\nimport qbsss.statsmpcore.commands.Menu;\nimport qbsss.statsmpcore.events.PlayerKillOtherPlayer;\nimport xyz.xenondevs.invui.gui.Gui;\nimport xyz.xenondevs.invui.item.builder.ItemBuilder;\nimport xyz.xenondevs.invui.item.impl.SimpleItem;\n\nimport org.mariadb.jdbc.Driver;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.function.Supplier;\n\nimport static qbsss.statsmpcore.methods.Color.color;\n\npublic final class StatsSMPCore extends JavaPlugin {\n\n\n    @Override\n    public void onEnable()\n    {\n\n        //DATTABASE SETTINGS\n        //String databaseUrl = &quot;jdbc:mariadb://172.17.0.1:3306/DB?user=u1_lob9V9Z6iJ&amp;password=@LRV=lP1WWPhzhYlqQqB85Sb&quot;;\n        //String databaseUser = &quot;u1_lob9V9Z6iJ&quot;;\n        ///String databasePassword = &quot;@LRV=lP1WWPhzhYlqQqB85Sb&quot;;\n\n        //DATABASE CONNECTION\n\n        try {\n            Connection connection = DriverManager.getConnection(\n                    &quot;jdbc:mariadb://172.17.0.1:3306/s1_users&quot;,\n                    &quot;u1_lob9V9Z6iJ&quot;, &quot;@LRV=lP1WWPhzhYlqQqB85Sb&quot;\n            );\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n        //Connection databaseConnection = DriverManager.getConnection(databaseUrl);\n            //Connection databaseConnection = DriverManager.getConnection(databaseUrl, databaseUser, databasePassword);\n\n            System.out.println(color(&quot;&amp;aPolaczono z baza danych&quot;));\n\n\n\n\n        getCommand(&quot;menu&quot;).setExecutor( new Menu());\n        getCommand(&quot;addzycie&quot;).setExecutor( new AddZycie());\n\n        getServer().getPluginManager().registerEvents(new PlayerKillOtherPlayer(), this);\n\n        System.out.println(&quot;[StatsSMPCore]&quot; +  &quot;&amp;a Witaj Swiecie!&quot;);\n    }\n\n    @Override\n    public void onDisable()\n    {\n        System.out.println(&quot;[StatsSMPCore]&quot; + ChatColor.GREEN + &quot; Goodbye!!!&quot;);\n    }\n}\n\n</code></pre>\n<p>impotrant is to use mariadb so i dont want to change db engine</p>\n<p>i tried code thats upper and using mysql jdbc from mysql</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries","dynamo-local"],"answers":[{"comments":[{"owner":{"account_id":11303581,"reputation":478,"user_id":8288828,"display_name":"Scott McAllister"},"score":10,"creation_date":1625759610,"post_id":61352705,"comment_id":120718832,"body_markdown":"The link above is a 404 now. Here&#39;s the official documentation:  https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.CLI.html#UsingWithDDBLocal","body":"The link above is a 404 now. Here&#39;s the official documentation:  <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.CLI.html#UsingWithDDBLocal\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a>"},{"owner":{"account_id":4167474,"reputation":4535,"user_id":3416135,"display_name":"NoSQLKnowHow"},"score":0,"creation_date":1661987744,"post_id":61352705,"comment_id":129904875,"body_markdown":"Thanks Scott. I fixed my post with the URL you put. Not sure why I didn&#39;t sooner as I am the one that fixed the documentation. So again, thank you!","body":"Thanks Scott. I fixed my post with the URL you put. Not sure why I didn&#39;t sooner as I am the one that fixed the documentation. So again, thank you!"},{"owner":{"account_id":11087309,"reputation":861,"user_id":8140523,"display_name":"NanoNova"},"score":0,"creation_date":1695195848,"post_id":61352705,"comment_id":135990076,"body_markdown":"and check this out: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-endpoints.html#endpoints-service-specific-table\n\nfor config service-specific endpoint globally on local","body":"and check this out: <a href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-endpoints.html#endpoints-service-specific-table\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cli/latest/userguide/&hellip;</a>  for config service-specific endpoint globally on local"}],"tags":[],"owner":{"account_id":4167474,"reputation":4535,"user_id":3416135,"display_name":"NoSQLKnowHow"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1661987672,"creation_date":1587501156,"answer_id":61352705,"question_id":61346821,"body_markdown":"Nothing in the cited code points to the DynamoDB local instance from what I can tell. It looks like it is pointing to DynamoDB proper.\r\n\r\nYou need to change the endpoint to be the local version. Take a look at [this page][1]. It has an example of changing the endpoint to localhost:8080.\r\n\r\n\r\n  [1]:https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.CLI.html#UsingWithDDBLocal","title":"AWS Local DynamoDB The security token included in the request is invalid","body":"<p>Nothing in the cited code points to the DynamoDB local instance from what I can tell. It looks like it is pointing to DynamoDB proper.</p>\n<p>You need to change the endpoint to be the local version. Take a look at <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.CLI.html#UsingWithDDBLocal\" rel=\"nofollow noreferrer\">this page</a>. It has an example of changing the endpoint to localhost:8080.</p>\n"},{"tags":[],"owner":{"account_id":2415063,"reputation":1037,"user_id":2109292,"display_name":"Mart&#237;n C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614893867,"creation_date":1614893867,"answer_id":66483420,"question_id":61346821,"body_markdown":"Precisely, the problem indeed seems to be pointing to the DynamoDB on AWS rather than a local one, although I can&#39;t validate this for the original comment because the links are broken now, at least this is what happened to me.\r\n\r\nThe solution would be to explicitly connect to the local DynamoBD (needed to be installed)\r\nThis is the code to achieve it:\r\n\r\n    AmazonDynamoDBClientBuilder.standard().withEndpointConfiguration(\r\n                // we can use any region here\r\n                new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))\r\n                .build();\r\n\r\n\r\nThis is the link to the example class mentioned on previous comments that was deleted(you will need to click on Load Diff for the DynamoDBLocalFixture.java class): \r\nhttps://github.com/aws-samples/aws-dynamodb-examples/commit/461b0e85bfad58f4a62c63f38426c650896fb870#diff-b331539c5e8b0398d9bbb85c5b87a4cdfa32efbefb27f68f3402c223b243b178\r\n\r\n\r\n  ","title":"AWS Local DynamoDB The security token included in the request is invalid","body":"<p>Precisely, the problem indeed seems to be pointing to the DynamoDB on AWS rather than a local one, although I can't validate this for the original comment because the links are broken now, at least this is what happened to me.</p>\n<p>The solution would be to explicitly connect to the local DynamoBD (needed to be installed)\nThis is the code to achieve it:</p>\n<pre><code>AmazonDynamoDBClientBuilder.standard().withEndpointConfiguration(\n            // we can use any region here\n            new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))\n            .build();\n</code></pre>\n<p>This is the link to the example class mentioned on previous comments that was deleted(you will need to click on Load Diff for the DynamoDBLocalFixture.java class):\n<a href=\"https://github.com/aws-samples/aws-dynamodb-examples/commit/461b0e85bfad58f4a62c63f38426c650896fb870#diff-b331539c5e8b0398d9bbb85c5b87a4cdfa32efbefb27f68f3402c223b243b178\" rel=\"nofollow noreferrer\">https://github.com/aws-samples/aws-dynamodb-examples/commit/461b0e85bfad58f4a62c63f38426c650896fb870#diff-b331539c5e8b0398d9bbb85c5b87a4cdfa32efbefb27f68f3402c223b243b178</a></p>\n"},{"tags":[],"owner":{"account_id":20545462,"reputation":21,"user_id":15079406,"display_name":"Samadrit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681281132,"creation_date":1681281132,"answer_id":75992540,"question_id":61346821,"body_markdown":"As a update to Mart&#237;n C&#39;s comment, this is how I solved the issue\r\n\r\n```\r\nDynamoDbClient dynamoDbClient =\r\n                DynamoDbClient.builder()\r\n.region(Region.US_EAST_1)\r\n.endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\r\n.credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n.build();\r\n```\r\n\r\nYou can change the port to whichever port your DynamoDB is locally hosted.\r\n\r\n","title":"AWS Local DynamoDB The security token included in the request is invalid","body":"<p>As a update to Martín C's comment, this is how I solved the issue</p>\n<pre><code>DynamoDbClient dynamoDbClient =\n                DynamoDbClient.builder()\n.region(Region.US_EAST_1)\n.endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\n.credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n.build();\n</code></pre>\n<p>You can change the port to whichever port your DynamoDB is locally hosted.</p>\n"},{"tags":[],"owner":{"account_id":6084213,"reputation":1143,"user_id":4748886,"display_name":"horizon7"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691766456,"creation_date":1691766456,"answer_id":76884730,"question_id":61346821,"body_markdown":"For those using DynamoDBLocal version greater than 1.23 or 2.0.0 must use ACCESS_KEY_ID value as alphaneumeric i.e characters strictly between [A-Z, a-z] and numbers [0-9]. \r\n\r\nFor ex:\r\n\r\n  dummy-key-123 -&gt; does not work.\r\n  \r\n  dummyKey123 -&gt; does work.\r\n\r\nPlease refer this official article [here][1]\r\n\r\n\r\n  [1]: https://repost.aws/articles/ARc4hEkF9CRgOrw8kSMe6CwQ/troubleshooting-the-access-key-id-or-security-token-is-invalid-error-after-upgrading-dynamodb-local-to-version-2-0-0-1-23-0-or-greater","title":"AWS Local DynamoDB The security token included in the request is invalid","body":"<p>For those using DynamoDBLocal version greater than 1.23 or 2.0.0 must use ACCESS_KEY_ID value as alphaneumeric i.e characters strictly between [A-Z, a-z] and numbers [0-9].</p>\n<p>For ex:</p>\n<p>dummy-key-123 -&gt; does not work.</p>\n<p>dummyKey123 -&gt; does work.</p>\n<p>Please refer this official article <a href=\"https://repost.aws/articles/ARc4hEkF9CRgOrw8kSMe6CwQ/troubleshooting-the-access-key-id-or-security-token-is-invalid-error-after-upgrading-dynamodb-local-to-version-2-0-0-1-23-0-or-greater\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":3188079,"reputation":1216,"user_id":2693135,"accept_rate":52,"display_name":"user2693135"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15368,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":61352705,"answer_count":4,"score":10,"last_activity_date":1691766456,"creation_date":1587481827,"question_id":61346821,"body_markdown":"I am new to AWS and I am trying to perform CRUD operation on Local DynamoDB from a Java program. The Java program is an AWS sample. \r\n\r\nI have AWS CLI installed and have set the following configuration - As per AWS documentation, I don&#39;t need a real AWS access and secret key for Local DynamoDB.\r\n\r\nI have set the following values in in ~/.aws/config and ~/.aws/credentials through running aws configure in the AWS CLI.\r\n\r\n    [default]\r\n    aws_access_key_id = &#39;&#39;\r\n    aws_secret_access_key = &#39;&#39;\r\n    [default]\r\n    region = ap-south-1\r\n\r\n\r\nI have the Local DYnamoDB JAR running with this.\r\n\r\njava -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb\r\n\r\n\r\nAnd the code I&#39;m trying to run is this.\r\n\r\n[https://github.com/aws-samples/aws-dynamodb-examples/blob/master/src/main/java/com/amazonaws/codesamples/datamodeling/ObjectPersistenceCRUDExample.java][1]\r\n\r\n\r\n  [1]: https://github.com/aws-samples/aws-dynamodb-examples/blob/master/src/main/java/com/amazonaws/codesamples/datamodeling/ObjectPersistenceCRUDExample.java\r\n\r\nHowevwer, I&#39;m getting this Exception.\r\n\r\n&gt; AmazonDynamoDBException: The security token included in the request is\r\n&gt; invalid.\r\n\r\nThe complete stack is this.\r\n\r\n        Exception in thread &quot;main&quot; com.amazonaws.services.dynamodbv2.model.AmazonDynamoDBException: The security token included in the request is invalid. (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: UnrecognizedClientException; Request ID: UPGRD2BRNUN6S1702EN6N6S8RJVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1695)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1350)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1101)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:758)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:732)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:714)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:674)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:656)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:520)\r\n        at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.doInvoke(AmazonDynamoDBClient.java:4192)\r\n        at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:4159)\r\n        at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.executeUpdateItem(AmazonDynamoDBClient.java:3868)\r\n        at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.updateItem(AmazonDynamoDBClient.java:3835)\r\n        at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.doUpdateItem(DynamoDBMapper.java:854)\r\n        at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$2.executeLowLevelRequest(DynamoDBMapper.java:594)\r\n        at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.execute(DynamoDBMapper.java:733)\r\n        at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.save(DynamoDBMapper.java:623)\r\n        at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.save(AbstractDynamoDBMapper.java:123)\r\n        at com.stackroute.Main.testCRUDOperations(Main.java:60\r\n        at com.stackroute.Main.main(Main.java:17)\r\n\r\nAny help will be highly appreciated. Thanks in Advance.","title":"AWS Local DynamoDB The security token included in the request is invalid","body":"<p>I am new to AWS and I am trying to perform CRUD operation on Local DynamoDB from a Java program. The Java program is an AWS sample. </p>\n\n<p>I have AWS CLI installed and have set the following configuration - As per AWS documentation, I don't need a real AWS access and secret key for Local DynamoDB.</p>\n\n<p>I have set the following values in in ~/.aws/config and ~/.aws/credentials through running aws configure in the AWS CLI.</p>\n\n<pre><code>[default]\naws_access_key_id = ''\naws_secret_access_key = ''\n[default]\nregion = ap-south-1\n</code></pre>\n\n<p>I have the Local DYnamoDB JAR running with this.</p>\n\n<p>java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb</p>\n\n<p>And the code I'm trying to run is this.</p>\n\n<p><a href=\"https://github.com/aws-samples/aws-dynamodb-examples/blob/master/src/main/java/com/amazonaws/codesamples/datamodeling/ObjectPersistenceCRUDExample.java\" rel=\"noreferrer\">https://github.com/aws-samples/aws-dynamodb-examples/blob/master/src/main/java/com/amazonaws/codesamples/datamodeling/ObjectPersistenceCRUDExample.java</a></p>\n\n<p>Howevwer, I'm getting this Exception.</p>\n\n<blockquote>\n  <p>AmazonDynamoDBException: The security token included in the request is\n  invalid.</p>\n</blockquote>\n\n<p>The complete stack is this.</p>\n\n<pre><code>    Exception in thread \"main\" com.amazonaws.services.dynamodbv2.model.AmazonDynamoDBException: The security token included in the request is invalid. (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: UnrecognizedClientException; Request ID: UPGRD2BRNUN6S1702EN6N6S8RJVV4KQNSO5AEMVJF66Q9ASUAAJG)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1695)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1350)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1101)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:758)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:732)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:714)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:674)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:656)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:520)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.doInvoke(AmazonDynamoDBClient.java:4192)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:4159)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.executeUpdateItem(AmazonDynamoDBClient.java:3868)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.updateItem(AmazonDynamoDBClient.java:3835)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.doUpdateItem(DynamoDBMapper.java:854)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$2.executeLowLevelRequest(DynamoDBMapper.java:594)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.execute(DynamoDBMapper.java:733)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.save(DynamoDBMapper.java:623)\n    at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.save(AbstractDynamoDBMapper.java:123)\n    at com.stackroute.Main.testCRUDOperations(Main.java:60\n    at com.stackroute.Main.main(Main.java:17)\n</code></pre>\n\n<p>Any help will be highly appreciated. Thanks in Advance.</p>\n"},{"tags":["java","spring","file"],"comments":[{"owner":{"account_id":1133296,"reputation":2292,"user_id":1118878,"accept_rate":52,"display_name":"drodil"},"score":0,"creation_date":1596193002,"post_id":63190354,"comment_id":111740574,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot\" title=\"the request was rejected because no multipart boundary was found in springboot\">stackoverflow.com/questions/36005436/&hellip;</a>"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1596213220,"post_id":63190354,"comment_id":111749807,"body_markdown":"Does this answer your question? [The request was rejected because no multipart boundary was found in springboot](https://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36005436/the-request-was-rejected-because-no-multipart-boundary-was-found-in-springboot\">The request was rejected because no multipart boundary was found in springboot</a>"}],"answers":[{"tags":[],"owner":{"account_id":6838496,"reputation":2450,"user_id":5259625,"accept_rate":56,"display_name":"Gen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596246522,"creation_date":1596246522,"answer_id":63201007,"question_id":63190354,"body_markdown":"The problem is that I am setting the `Content-Type` by myself, let it be blank. Google Chrome will do it for me. The multipart `Content-Type` needs to know the file boundary, and when you remove the `Content-Type`, Postman will do it automagically for you.\r\n\r\n","title":"the request was rejected because no multipart boundary was found java","body":"<p>The problem is that I am setting the <code>Content-Type</code> by myself, let it be blank. Google Chrome will do it for me. The multipart <code>Content-Type</code> needs to know the file boundary, and when you remove the <code>Content-Type</code>, Postman will do it automagically for you.</p>\n"},{"tags":[],"owner":{"account_id":15194478,"reputation":63,"user_id":10964280,"display_name":"Badreddine BOUSBA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691765998,"creation_date":1691765998,"answer_id":76884680,"question_id":63190354,"body_markdown":"If you are using angular 15+ with restful spring api, I did encapsulated the file in ***FormData*** object and it worked : \r\n\r\n     const formData = new FormData();\r\n     formData.append(&quot;file&quot;, file, file.name);\r\n\r\n    return this.http.post&lt;any&gt;(`${env.apiUrl}/controllerUrl/uploadFile`, formData);","title":"the request was rejected because no multipart boundary was found java","body":"<p>If you are using angular 15+ with restful spring api, I did encapsulated the file in <em><strong>FormData</strong></em> object and it worked :</p>\n<pre><code> const formData = new FormData();\n formData.append(&quot;file&quot;, file, file.name);\n\nreturn this.http.post&lt;any&gt;(`${env.apiUrl}/controllerUrl/uploadFile`, formData);\n</code></pre>\n"}],"owner":{"account_id":6838496,"reputation":2450,"user_id":5259625,"accept_rate":56,"display_name":"Gen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10053,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63201007,"answer_count":2,"score":0,"last_activity_date":1691765998,"creation_date":1596192143,"question_id":63190354,"body_markdown":"I am developing a file upload functionality. for that I have a spring boot web service and client is angular.\r\n\r\n**Webservice:-**\r\n\r\n        @PostMapping(value = &quot;/sendmails&quot;, headers = &quot;content-type=multipart/*&quot;, consumes = &quot;application/*&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; sendEmails(@RequestParam(&quot;data&quot;) MultipartFile reapExcelDataFile) {\r\n    \t\r\n    \t\treturn new ResponseEntity(&quot;Success&quot;, HttpStatus.OK);\r\n    \t}\r\n\r\n**UI: -**\r\n\r\n    postFile(fileToUpload: File): Observable&lt;boolean&gt; {\r\n      const endpoint = &#39;http://localhost:8080/sendmails&#39;;\r\n    debugger;\r\n      let config =  {headers: new  HttpHeaders({ &#39;Content-Type&#39;: &#39;multipart/form-data&#39;})};\r\n      const formData: FormData = new FormData();\r\n      formData.append(&#39;data&#39;, fileToUpload);\r\n      return this.httpClient.post(endpoint, formData, config)\r\n        .pipe(map(() =&gt; { return true; }));\r\n    }\r\n**ERROR: -**\r\n\r\n&gt; 2020-07-31 16:13:19.644 ERROR 13144 --- [nio-8080-exec-2]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Request processing failed; nested exception is\r\n&gt; org.springframework.web.multipart.MultipartException: Failed to parse\r\n&gt; multipart servlet request; nested exception is java.io.IOException:\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadException: the\r\n&gt; request was rejected because no multipart boundary was found] with\r\n&gt; root cause\r\n&gt; \r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadException: the\r\n&gt; request was rejected because no multipart boundary was found \tat\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:834)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.connector.Request.parseParts(Request.java:2881)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.connector.Request.parseParameters(Request.java:3214)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.connector.Request.getParameter(Request.java:1116)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:84)\r\n&gt; ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n&gt; ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n&gt; ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n&gt; ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n&gt; ~[tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [na:1.8.0_251] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [na:1.8.0_251] \tat\r\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; [tomcat-embed-core-9.0.21.jar:9.0.21] \tat\r\n&gt; java.lang.Thread.run(Thread.java:748) [na:1.8.0_251]\r\n\r\n\r\n\r\n\r\nIf I remove the file and give a string then the call is going. What might be the issue.","title":"the request was rejected because no multipart boundary was found java","body":"<p>I am developing a file upload functionality. for that I have a spring boot web service and client is angular.</p>\n<p><strong>Webservice:-</strong></p>\n<pre><code>    @PostMapping(value = &quot;/sendmails&quot;, headers = &quot;content-type=multipart/*&quot;, consumes = &quot;application/*&quot;)\n    public ResponseEntity&lt;String&gt; sendEmails(@RequestParam(&quot;data&quot;) MultipartFile reapExcelDataFile) {\n    \n        return new ResponseEntity(&quot;Success&quot;, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>UI: -</strong></p>\n<pre><code>postFile(fileToUpload: File): Observable&lt;boolean&gt; {\n  const endpoint = 'http://localhost:8080/sendmails';\ndebugger;\n  let config =  {headers: new  HttpHeaders({ 'Content-Type': 'multipart/form-data'})};\n  const formData: FormData = new FormData();\n  formData.append('data', fileToUpload);\n  return this.httpClient.post(endpoint, formData, config)\n    .pipe(map(() =&gt; { return true; }));\n}\n</code></pre>\n<p><strong>ERROR: -</strong></p>\n<blockquote>\n<p>2020-07-31 16:13:19.644 ERROR 13144 --- [nio-8080-exec-2]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Request processing failed; nested exception is\norg.springframework.web.multipart.MultipartException: Failed to parse\nmultipart servlet request; nested exception is java.io.IOException:\norg.apache.tomcat.util.http.fileupload.FileUploadException: the\nrequest was rejected because no multipart boundary was found] with\nroot cause</p>\n<p>org.apache.tomcat.util.http.fileupload.FileUploadException: the\nrequest was rejected because no multipart boundary was found  at\norg.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.(FileUploadBase.java:834)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.connector.Request.parseParts(Request.java:2881)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.connector.Request.parseParameters(Request.java:3214)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.connector.Request.getParameter(Request.java:1116)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:84)\n~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n~[tomcat-embed-core-9.0.21.jar:9.0.21]    at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[na:1.8.0_251]    at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[na:1.8.0_251]    at\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[tomcat-embed-core-9.0.21.jar:9.0.21]     at\njava.lang.Thread.run(Thread.java:748) [na:1.8.0_251]</p>\n</blockquote>\n<p>If I remove the file and give a string then the call is going. What might be the issue.</p>\n"},{"tags":["java","spring-boot","get","paging","findall"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":3,"creation_date":1591802424,"post_id":62307015,"comment_id":110196287,"body_markdown":"You have imported incorrectly `Pageable` from `java.awt.print` while it should be imported from `org.springframework.data.domain.Pageable`.  If you needed to add a parameter for a `findAll` method, you should have used method `findAllById(String id)`","body":"You have imported incorrectly <code>Pageable</code> from <code>java.awt.print</code> while it should be imported from <code>org.springframework.data.domain.Pageable</code>.  If you needed to add a parameter for a <code>findAll</code> method, you should have used method <code>findAllById(String id)</code>"},{"owner":{"account_id":16551443,"reputation":61,"user_id":11959620,"display_name":"Julia"},"score":0,"creation_date":1591918538,"post_id":62307015,"comment_id":110245749,"body_markdown":"@AlexRudenko thank you so much!  it works!!!!","body":"@AlexRudenko thank you so much!  it works!!!!"}],"answers":[{"tags":[],"owner":{"account_id":5033461,"reputation":93,"user_id":13178124,"display_name":"harshrathod50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691765727,"creation_date":1691765727,"answer_id":76884652,"question_id":62307015,"body_markdown":"Fix your import statement:\r\n```java\r\nimport org.springframework.data.domain.Pageable;\r\n```","title":"Paging query needs to have a pageable parameter [Spring Boot]","body":"<p>Fix your import statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.domain.Pageable;\n</code></pre>\n"}],"owner":{"account_id":16551443,"reputation":61,"user_id":11959620,"display_name":"Julia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3006,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691765727,"creation_date":1591801998,"question_id":62307015,"body_markdown":"I&#39;m new to spring boot. I&#39;ve tried to solve this bug for a whole afternoon but haven&#39;t get it right. I&#39;ve checked these sites and tried to solve in their way but still failed.\r\n :https://stackoverflow.com/questions/10647843/issue-of-pagination-in-spring-data-jpa \r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-data/pagination.html\r\nhttps://blog.csdn.net/weixin_42050545/article/details/84317816\r\n\r\nMy situation here is that I want to GET the data from my database on the browser. There are many data, and I want to separate the data by page. Every page only has 3 data. And when I pass the page number through browser, for example, *http:localhost:8080/test?page=1*, I&#39;ll need to see the according data containing in the very page.\r\n\r\nhere is my **Contoller**  :\r\n\r\n    //I have @autowired ExampleService here beforehand\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public Page&lt;DatabaseTableName&gt; getDataByPage(@RequestParam(value=&quot;page&quot;) int pageNum){\r\n    return exampleService.separatePage(pageNum);}\r\n\r\nhere is my **Repository**:\r\n\r\n    Page&lt;DatabaseTableName&gt; findAll(Pageable pageable);\r\n    List&lt;DatabaseTableName&gt; findAll(String id);\r\n\r\nhere is my **ServiceImplementation class**:\r\n\r\n    //I have @autowired ExampleRepository here beforehand\r\n\r\n    @Override\r\n    public Page&lt;DatabaseTableName&gt; separatePage(int pageNum){\r\n    return exampleRepository.findAll(PageRequest.of(pageNum, 3));\r\n\r\nMy error messages basically are :\r\n\r\n    Failed to load Application Context\r\n    \r\n    error creating bean with name &#39;exampleRepository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.illegalargumentexception Paging query needs to have a pageable parameter! offending method public abstract org.springframework.data.domain.Page.com.practice.repo.ExampleRepository.findAll(java.awt.print.pageable)\r\n\r\nI get confused with Paging\r\n     **query needs to have a pageable parameter** don&#39;t exactly know how to assign the parameter, I&#39;ve tried to add `List&lt;DatabaseTableName&gt; findAll(String id)` to Repository, and I thought it should solve the problem but it did not. Pls provide some guide. Thank you in advance!!! \r\n\r\n\r\n","title":"Paging query needs to have a pageable parameter [Spring Boot]","body":"<p>I'm new to spring boot. I've tried to solve this bug for a whole afternoon but haven't get it right. I've checked these sites and tried to solve in their way but still failed.\n :<a href=\"https://stackoverflow.com/questions/10647843/issue-of-pagination-in-spring-data-jpa\">Issue of pagination in Spring Data JPA</a> \n<a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/pagination.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-data/pagination.html</a>\n<a href=\"https://blog.csdn.net/weixin_42050545/article/details/84317816\" rel=\"nofollow noreferrer\">https://blog.csdn.net/weixin_42050545/article/details/84317816</a></p>\n\n<p>My situation here is that I want to GET the data from my database on the browser. There are many data, and I want to separate the data by page. Every page only has 3 data. And when I pass the page number through browser, for example, <em>http:localhost:8080/test?page=1</em>, I'll need to see the according data containing in the very page.</p>\n\n<p>here is my <strong>Contoller</strong>  :</p>\n\n<pre><code>//I have @autowired ExampleService here beforehand\n\n@GetMapping(\"/test\")\npublic Page&lt;DatabaseTableName&gt; getDataByPage(@RequestParam(value=\"page\") int pageNum){\nreturn exampleService.separatePage(pageNum);}\n</code></pre>\n\n<p>here is my <strong>Repository</strong>:</p>\n\n<pre><code>Page&lt;DatabaseTableName&gt; findAll(Pageable pageable);\nList&lt;DatabaseTableName&gt; findAll(String id);\n</code></pre>\n\n<p>here is my <strong>ServiceImplementation class</strong>:</p>\n\n<pre><code>//I have @autowired ExampleRepository here beforehand\n\n@Override\npublic Page&lt;DatabaseTableName&gt; separatePage(int pageNum){\nreturn exampleRepository.findAll(PageRequest.of(pageNum, 3));\n</code></pre>\n\n<p>My error messages basically are :</p>\n\n<pre><code>Failed to load Application Context\n\nerror creating bean with name 'exampleRepository': FactoryBean threw exception on object creation; nested exception is java.lang.illegalargumentexception Paging query needs to have a pageable parameter! offending method public abstract org.springframework.data.domain.Page.com.practice.repo.ExampleRepository.findAll(java.awt.print.pageable)\n</code></pre>\n\n<p>I get confused with Paging\n     <strong>query needs to have a pageable parameter</strong> don't exactly know how to assign the parameter, I've tried to add <code>List&lt;DatabaseTableName&gt; findAll(String id)</code> to Repository, and I thought it should solve the problem but it did not. Pls provide some guide. Thank you in advance!!! </p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1448202722,"post_id":33855859,"comment_id":55475931,"body_markdown":"I tried to create lambda instance of shuffling, just to test how lambdas in kotlin work.","body":"I tried to create lambda instance of shuffling, just to test how lambdas in kotlin work."},{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1448202814,"post_id":33855859,"comment_id":55475957,"body_markdown":"1)  Am I able to add multi lines? Last line will return the value? But what if I use if/else? \n2) If I re-write interface to java&#39;s one, I&#39;ll be able to use lamdas? Or how to do this with Kotlin? I really like do not write this object, override, etc","body":"1)  Am I able to add multi lines? Last line will return the value? But what if I use if/else?  2) If I re-write interface to java&#39;s one, I&#39;ll be able to use lamdas? Or how to do this with Kotlin? I really like do not write this object, override, etc"},{"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"score":0,"creation_date":1448203010,"post_id":33855859,"comment_id":55476022,"body_markdown":"would you prefer my incomplete, shortened answer or a link to docs?","body":"would you prefer my incomplete, shortened answer or a link to docs?"},{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1448203273,"post_id":33855859,"comment_id":55476111,"body_markdown":"heh, I think your answer would be more clear. Also yes, your solution works for me, but I still have that questions","body":"heh, I think your answer would be more clear. Also yes, your solution works for me, but I still have that questions"},{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1448203398,"post_id":33855859,"comment_id":55476153,"body_markdown":"And also, is it necessary to &quot;cast&quot; to Shuffling? Am I able somehow use just curly braces?","body":"And also, is it necessary to &quot;cast&quot; to Shuffling? Am I able somehow use just curly braces?"},{"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"score":0,"creation_date":1448203720,"post_id":33855859,"comment_id":55476271,"body_markdown":"I don&#39;t really get your question about the lambda syntax but: (1) lines are not restricted, (2) the last expression in a lambda is returned (3) what is it so special about if\\else?","body":"I don&#39;t really get your question about the lambda syntax but: (1) lines are not restricted, (2) the last expression in a lambda is returned (3) what is it so special about if\\else?"},{"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"score":0,"creation_date":1448203941,"post_id":33855859,"comment_id":55476364,"body_markdown":"about the interfaces: with Kotlin you can throw them out and use a functional type: `() -&gt; Unit`. And I insist on you reading the docs, because it gets complicated here. Sorry :D https://kotlinlang.org/docs/reference/lambdas.html#function-types","body":"about the interfaces: with Kotlin you can throw them out and use a functional type: <code>() -&gt; Unit</code>. And I insist on you reading the docs, because it gets complicated here. Sorry :D <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html#function-types</a>"},{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1448204158,"post_id":33855859,"comment_id":55476452,"body_markdown":"Kinda this: http://pastie.org/10573950. And about interfaces, that was just because I wanted to create list of single method interface and put there kinda lambda from Java8","body":"Kinda this: <a href=\"http://pastie.org/10573950\" rel=\"nofollow noreferrer\">pastie.org/10573950</a>. And about interfaces, that was just because I wanted to create list of single method interface and put there kinda lambda from Java8"},{"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"score":0,"creation_date":1448204588,"post_id":33855859,"comment_id":55476640,"body_markdown":"one question at a comment please! With the `if`: you got two options: (1) you add an `else` branch and put the `if` as the last expression https://kotlinlang.org/docs/reference/control-flow.html#if-expression.\n\nOr (2) if you feel geeky you may utilize a &quot;function expression&quot;, cause it has returns and everything (but nobody like the syntax :)","body":"one question at a comment please! With the <code>if</code>: you got two options: (1) you add an <code>else</code> branch and put the <code>if</code> as the last expression <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#if-expression\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html#if-expressio&zwnj;&#8203;n</a>.  Or (2) if you feel geeky you may utilize a &quot;function expression&quot;, cause it has returns and everything (but nobody like the syntax :)"}],"tags":[],"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"comment_count":9,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1448202702,"creation_date":1448202304,"answer_id":33855859,"question_id":33855154,"body_markdown":"OK, so here are the quick fixes:\r\n\r\nFor your first question: please remove the &quot;internal&quot; pair of brackets from your lambda. Now your code returns not `ArrayList&lt;Int&gt;()`, but a function that returns the list (when invoked)\r\n\r\nFor the second question: the trick that you used in your first question called SAM conversion and works *only* for java interfaces to be consistent with java8. Your `Drawable` is defined in Kotlin, so no black magic available, you have to create an instance and pass it: \r\n\r\n    drawList.add(object: Drawable {\r\n        override fun draw() = glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)\r\n    })\r\nfor more info please read: https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\r\n\r\nP.S you do not have to use `Shuffling` before a lambda. It is not needed here (I guess) and it complicates the the code a lot.","title":"Anonymous classes with lambdas in Kotlin","body":"<p>OK, so here are the quick fixes:</p>\n\n<p>For your first question: please remove the \"internal\" pair of brackets from your lambda. Now your code returns not <code>ArrayList&lt;Int&gt;()</code>, but a function that returns the list (when invoked)</p>\n\n<p>For the second question: the trick that you used in your first question called SAM conversion and works <em>only</em> for java interfaces to be consistent with java8. Your <code>Drawable</code> is defined in Kotlin, so no black magic available, you have to create an instance and pass it: </p>\n\n<pre><code>drawList.add(object: Drawable {\n    override fun draw() = glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)\n})\n</code></pre>\n\n<p>for more info please read: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions</a></p>\n\n<p>P.S you do not have to use <code>Shuffling</code> before a lambda. It is not needed here (I guess) and it complicates the the code a lot.</p>\n"},{"comments":[{"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"score":0,"creation_date":1691835810,"post_id":76884644,"comment_id":135547346,"body_markdown":"Is it chatgpt generated?","body":"Is it chatgpt generated?"},{"owner":{"account_id":26387165,"reputation":1,"user_id":20039522,"display_name":"Arifmmmdov"},"score":0,"creation_date":1692024929,"post_id":76884644,"comment_id":135566441,"body_markdown":"Nope, that is my own writing. What did you ask for?","body":"Nope, that is my own writing. What did you ask for?"},{"owner":{"account_id":26387165,"reputation":1,"user_id":20039522,"display_name":"Arifmmmdov"},"score":0,"creation_date":1692025023,"post_id":76884644,"comment_id":135566463,"body_markdown":"I am new here and have been in some problem to make answers that is it )","body":"I am new here and have been in some problem to make answers that is it )"}],"tags":[],"owner":{"account_id":26387165,"reputation":1,"user_id":20039522,"display_name":"Arifmmmdov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691765652,"creation_date":1691765652,"answer_id":76884644,"question_id":33855154,"body_markdown":"First of all, you it would be good you to write object declaration before Shuffling declaration, because it is not declared by the system sometime. Then, inside shuffle method of Shuffle interface give a returnable value which is List&lt;Int&gt;. \r\n\r\n**val algorist = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\r\n\t\talgorist.add(object : Shuffling&lt;Int&gt; {\r\n\t\t\toverride fun shuffle(list: List&lt;Int&gt;, callback: Shuffling.ShuffleCallback): List&lt;Int&gt; {\r\n\t\t\t\tprintln(&quot;Test&quot;)\r\n\t\t\t\treturn ArrayList&lt;Int&gt;()\r\n\t\t\t}\r\n\t\t})\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    val algorist = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\r\n    algorist.add(object : Shuffling&lt;Int&gt; {\r\n    \t\toverride fun shuffle(list: List&lt;Int&gt;, callback: Shuffling.ShuffleCallback): List&lt;Int&gt; {\r\n    \t\t\tprintln(&quot;Test&quot;)\r\n    \t\t\treturn ArrayList&lt;Int&gt;()\r\n    \t\t}\r\n    \t})\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**\r\n\r\nThat is it. Happy coding...","title":"Anonymous classes with lambdas in Kotlin","body":"<p>First of all, you it would be good you to write object declaration before Shuffling declaration, because it is not declared by the system sometime. Then, inside shuffle method of Shuffle interface give a returnable value which is List.</p>\n<p>**val algorist = ArrayList&lt;Shuffling&gt;()\nalgorist.add(object : Shuffling {\noverride fun shuffle(list: List, callback: Shuffling.ShuffleCallback): List {\nprintln(&quot;Test&quot;)\nreturn ArrayList()\n}\n})</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>val algorist = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\nalgorist.add(object : Shuffling&lt;Int&gt; {\n        override fun shuffle(list: List&lt;Int&gt;, callback: Shuffling.ShuffleCallback): List&lt;Int&gt; {\n            println(\"Test\")\n            return ArrayList&lt;Int&gt;()\n        }\n    })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>**</p>\n<p>That is it. Happy coding...</p>\n"}],"owner":{"account_id":5174467,"reputation":4311,"user_id":4142087,"accept_rate":92,"display_name":"Anton Shkurenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8039,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":33855859,"answer_count":2,"score":10,"last_activity_date":1691765652,"creation_date":1448198024,"question_id":33855154,"body_markdown":"I&#39;m trying to re-write my leisure time project from Java to Kotlin (to understand it) and I met some problems. Researches brought me to `{ function() }` but It didn&#39;t help me\r\n\r\nIn Java I have this interface:\r\n\r\n    public interface Shuffling&lt;T&gt; {\r\n    \r\n      List&lt;T&gt; shuffle(List&lt;T&gt; list, ShuffleCallback callback);\r\n    \r\n      interface ShuffleCallback {\r\n        void onShuffle(int addedTo, int randomIndex);\r\n      }\r\n    }\r\n\r\nAnd I&#39;m trying to add test object to List of shuffling algorithms in Kotlin:\r\n\r\n    val algoList = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\r\n    algoList.add(Shuffling { list, callback -&gt; {\r\n        Timber.d(&quot;Test!&quot;)\r\n        ArrayList&lt;Int&gt;() // how to return this value?\r\n    }})\r\n\r\n[![First trouble][1]][1]\r\n\r\nHow to add multiple lines to lambda function?\r\n\r\nAlso I have another example with troubles:\r\n\r\nKotlin interface:\r\n\r\n    interface Drawable {\r\n        fun draw()\r\n    }\r\n\r\nAnd Kotlin implementation: \r\n\r\n    private val drawList = ArrayList&lt;Drawable&gt;()\r\n\r\n    //...\r\n    drawList.add(Drawable {glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)})\r\n\r\n[![Second trouble][2]][2]\r\n\r\nPreviously I used just:\r\n\r\n    mDrawList.add(() -&gt; glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices));\r\n\r\nAnd everything was OK.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/220JU.png\r\n  [2]: http://i.stack.imgur.com/zkLpu.png","title":"Anonymous classes with lambdas in Kotlin","body":"<p>I'm trying to re-write my leisure time project from Java to Kotlin (to understand it) and I met some problems. Researches brought me to <code>{ function() }</code> but It didn't help me</p>\n\n<p>In Java I have this interface:</p>\n\n<pre><code>public interface Shuffling&lt;T&gt; {\n\n  List&lt;T&gt; shuffle(List&lt;T&gt; list, ShuffleCallback callback);\n\n  interface ShuffleCallback {\n    void onShuffle(int addedTo, int randomIndex);\n  }\n}\n</code></pre>\n\n<p>And I'm trying to add test object to List of shuffling algorithms in Kotlin:</p>\n\n<pre><code>val algoList = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\nalgoList.add(Shuffling { list, callback -&gt; {\n    Timber.d(\"Test!\")\n    ArrayList&lt;Int&gt;() // how to return this value?\n}})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/220JU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/220JU.png\" alt=\"First trouble\"></a></p>\n\n<p>How to add multiple lines to lambda function?</p>\n\n<p>Also I have another example with troubles:</p>\n\n<p>Kotlin interface:</p>\n\n<pre><code>interface Drawable {\n    fun draw()\n}\n</code></pre>\n\n<p>And Kotlin implementation: </p>\n\n<pre><code>private val drawList = ArrayList&lt;Drawable&gt;()\n\n//...\ndrawList.add(Drawable {glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zkLpu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zkLpu.png\" alt=\"Second trouble\"></a></p>\n\n<p>Previously I used just:</p>\n\n<pre><code>mDrawList.add(() -&gt; glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices));\n</code></pre>\n\n<p>And everything was OK.</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat9"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":1,"creation_date":1691766800,"post_id":76884569,"comment_id":135540652,"body_markdown":"I expect those instructions are aimed at the case where you are running tomcat within/bundled into the self-contained spring boot application. If you build a WAR then those JVM settings are not going to have any effect on the tomcat where that WAR is deployed. Your options are to run the application as standalone with bundled tomcat and debug that, or else update the `catalina.sh` of the Tomcat you are deploying to.","body":"I expect those instructions are aimed at the case where you are running tomcat within/bundled into the self-contained spring boot application. If you build a WAR then those JVM settings are not going to have any effect on the tomcat where that WAR is deployed. Your options are to run the application as standalone with bundled tomcat and debug that, or else update the <code>catalina.sh</code> of the Tomcat you are deploying to."}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691764988,"creation_date":1691764988,"question_id":76884569,"body_markdown":"I need to do some remote debugging of a java web app running on tomcat9. I followed the instructions here: https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/maven-plugin/examples/run-debug.html and modified my pom.xml to include\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;jvmArguments&gt;\r\n\t\t\t\t\t\t-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005\r\n\t\t\t\t\t&lt;/jvmArguments&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nI compiled the project with \r\n\r\n&gt; mvn clean package\r\n\r\n, copied the WAR to the remote server, and restarted Tomcat with a systemctl command. When I tried to actually connect to the debug port however, the connection failed. Looking at the output of the server logs, it doesn&#39;t seem as though those JVM args were actually applied. In the logs I get the following output:\r\n\r\n    [2023-08-11 14:00:53] [info] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Server version name:   Apache Tomcat/9.0.58 (Ubuntu)\r\n    [2023-08-11 14:00:54] [info] Server built:          Jan 6 1970 15:09:28 UTC\r\n    [2023-08-11 14:00:54] [info] Server version number: 9.0.58.0\r\n    [2023-08-11 14:00:54] [info] OS Name:               Linux\r\n    [2023-08-11 14:00:54] [info] OS Version:            5.19.0-1027-aws\r\n    [2023-08-11 14:00:54] [info] Architecture:          amd64\r\n    [2023-08-11 14:00:54] [info] Java Home:             /usr/lib/jvm/java-11-openjdk-amd64\r\n    [2023-08-11 14:00:54] [info] JVM Version:           11.0.20+8-post-Ubuntu-1ubuntu122.04\r\n    [2023-08-11 14:00:54] [info] JVM Vendor:            Ubuntu\r\n    [2023-08-11 14:00:54] [info] CATALINA_BASE:         /var/lib/tomcat9\r\n    [2023-08-11 14:00:54] [info] CATALINA_HOME:         /usr/share/tomcat9\r\n    [2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djava.util.logging.config.file=/var/lib/tomcat9/conf/logging.properties\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djava.awt.headless=true\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Dignore.endorsed.dirs=\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Dcatalina.base=/var/lib/tomcat9\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Dcatalina.home=/usr/share/tomcat9\r\n    [2023-08-11 14:00:54] [info] Command line argument: -Djava.io.tmpdir=/tmp\r\n    [2023-08-11 14:00:54] [info] Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\r\n\r\n\r\nJust to be sure I wasn&#39;t missing something, I also used the ps command on the running application and got the following results:\r\n\r\n    tomcat    205443       1  2 14:00 ?        00:00:36 /usr/lib/jvm/default java/bin/java \r\n    -Djava.util.logging.config.file=/var/lib/tomcat9/conf/logging.properties \r\n    -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \r\n    -Djava.awt.headless=true \r\n    -Djdk.tls.ephemeralDHKeySize=2048 \r\n    -Djava.protocol.handler.pkgs=org.apache.catalina.webresources \r\n    -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 \r\n    -Dignore.endorsed.dirs= -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/tomcat-juli.jar \r\n    -Dcatalina.base=/var/lib/tomcat9 \r\n    -Dcatalina.home=/usr/share/tomcat9 \r\n    -Djava.io.tmpdir=/tmp org.apache.catalina.startup.Bootstrap start\r\n\r\nI don&#39;t see any indication that the additional JVM args I supplied to spring-boot were actually applied. I&#39;m at a bit of a loss here. Is the spring-boot-maven-plugin not the correct way to specify these args? The only other way I know of would be to modify the Catalina.sh, but then I wouldn&#39;t be able to disable the debugging without editing the file again.\r\n\r\n","title":"JVM args from spring-boot are not applied to tomcat","body":"<p>I need to do some remote debugging of a java web app running on tomcat9. I followed the instructions here: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/maven-plugin/examples/run-debug.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/maven-plugin/examples/run-debug.html</a> and modified my pom.xml to include</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;jvmArguments&gt;\n                    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005\n                &lt;/jvmArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I compiled the project with</p>\n<blockquote>\n<p>mvn clean package</p>\n</blockquote>\n<p>, copied the WAR to the remote server, and restarted Tomcat with a systemctl command. When I tried to actually connect to the debug port however, the connection failed. Looking at the output of the server logs, it doesn't seem as though those JVM args were actually applied. In the logs I get the following output:</p>\n<pre><code>[2023-08-11 14:00:53] [info] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Server version name:   Apache Tomcat/9.0.58 (Ubuntu)\n[2023-08-11 14:00:54] [info] Server built:          Jan 6 1970 15:09:28 UTC\n[2023-08-11 14:00:54] [info] Server version number: 9.0.58.0\n[2023-08-11 14:00:54] [info] OS Name:               Linux\n[2023-08-11 14:00:54] [info] OS Version:            5.19.0-1027-aws\n[2023-08-11 14:00:54] [info] Architecture:          amd64\n[2023-08-11 14:00:54] [info] Java Home:             /usr/lib/jvm/java-11-openjdk-amd64\n[2023-08-11 14:00:54] [info] JVM Version:           11.0.20+8-post-Ubuntu-1ubuntu122.04\n[2023-08-11 14:00:54] [info] JVM Vendor:            Ubuntu\n[2023-08-11 14:00:54] [info] CATALINA_BASE:         /var/lib/tomcat9\n[2023-08-11 14:00:54] [info] CATALINA_HOME:         /usr/share/tomcat9\n[2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[2023-08-11 14:00:54] [info] Command line argument: -Djava.util.logging.config.file=/var/lib/tomcat9/conf/logging.properties\n[2023-08-11 14:00:54] [info] Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n[2023-08-11 14:00:54] [info] Command line argument: -Djava.awt.headless=true\n[2023-08-11 14:00:54] [info] Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n[2023-08-11 14:00:54] [info] Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n[2023-08-11 14:00:54] [info] Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n[2023-08-11 14:00:54] [info] Command line argument: -Dignore.endorsed.dirs=\n[2023-08-11 14:00:54] [info] Command line argument: -Dcatalina.base=/var/lib/tomcat9\n[2023-08-11 14:00:54] [info] Command line argument: -Dcatalina.home=/usr/share/tomcat9\n[2023-08-11 14:00:54] [info] Command line argument: -Djava.io.tmpdir=/tmp\n[2023-08-11 14:00:54] [info] Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\n</code></pre>\n<p>Just to be sure I wasn't missing something, I also used the ps command on the running application and got the following results:</p>\n<pre><code>tomcat    205443       1  2 14:00 ?        00:00:36 /usr/lib/jvm/default java/bin/java \n-Djava.util.logging.config.file=/var/lib/tomcat9/conf/logging.properties \n-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \n-Djava.awt.headless=true \n-Djdk.tls.ephemeralDHKeySize=2048 \n-Djava.protocol.handler.pkgs=org.apache.catalina.webresources \n-Dorg.apache.catalina.security.SecurityListener.UMASK=0027 \n-Dignore.endorsed.dirs= -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/tomcat-juli.jar \n-Dcatalina.base=/var/lib/tomcat9 \n-Dcatalina.home=/usr/share/tomcat9 \n-Djava.io.tmpdir=/tmp org.apache.catalina.startup.Bootstrap start\n</code></pre>\n<p>I don't see any indication that the additional JVM args I supplied to spring-boot were actually applied. I'm at a bit of a loss here. Is the spring-boot-maven-plugin not the correct way to specify these args? The only other way I know of would be to modify the Catalina.sh, but then I wouldn't be able to disable the debugging without editing the file again.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1691764343,"post_id":76884479,"comment_id":135540137,"body_markdown":"That&#39;s just the shortcuts syntax [to create an array](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html). An empty array in this case. And `new int[] {1, 2, 3}` would create an array containing those 3 integers.","body":"That&#39;s just the shortcuts syntax <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">to create an array</a>. An empty array in this case. And <code>new int[] {1, 2, 3}</code> would create an array containing those 3 integers."},{"owner":{"account_id":27908838,"reputation":11,"user_id":21311461,"display_name":"SleepyProgrammingN0ises"},"score":0,"creation_date":1691764587,"post_id":76884479,"comment_id":135540192,"body_markdown":"Aah thanks so much @OHGODSPIDERS , kinda figured it out after asking lmao but understood perfectly now!","body":"Aah thanks so much @OHGODSPIDERS , kinda figured it out after asking lmao but understood perfectly now!"}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691764628,"post_id":76884502,"comment_id":135540209,"body_markdown":"No, it returns an empty `int` array. Not an `Integer` array.","body":"No, it returns an empty <code>int</code> array. Not an <code>Integer</code> array."},{"owner":{"account_id":27908838,"reputation":11,"user_id":21311461,"display_name":"SleepyProgrammingN0ises"},"score":1,"creation_date":1691764718,"post_id":76884502,"comment_id":135540223,"body_markdown":"Thanks! I thought it had something to do with the prevMap variable, but turns out it was a lot simpler... smh","body":"Thanks! I thought it had something to do with the prevMap variable, but turns out it was a lot simpler... smh"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1691764817,"post_id":76884502,"comment_id":135540247,"body_markdown":"@user21311461 you&#39;re welcome","body":"@user21311461 you&#39;re welcome"}],"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691764747,"creation_date":1691764390,"answer_id":76884502,"question_id":76884479,"body_markdown":"It simply returns an empty `int` array as function output.","title":"What does using &quot;{}&quot; mean, in this context?","body":"<p>It simply returns an empty <code>int</code> array as function output.</p>\n"}],"owner":{"account_id":27908838,"reputation":11,"user_id":21311461,"display_name":"SleepyProgrammingN0ises"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691764414,"answer_count":1,"score":0,"last_activity_date":1691764747,"creation_date":1691764175,"question_id":76884479,"body_markdown":"I found this line very confusing:\r\n\r\n```\r\nreturn new int[] {};\r\n```\r\n\r\nAre the two curly brackets referencing something in memory? Here&#39;s the full code:\r\n\r\n\r\n```\r\nclass Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n        HashMap&lt;Integer, Integer&gt; prevMap = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int num = nums[i];\r\n            int diff = target - num; //En diff, iremos restando el num al Objetivo\r\n\r\n            if (prevMap.containsKey(diff)) { \r\n                return new int[] { prevMap.get(diff), i };\r\n            }\r\n\r\n            prevMap.put(num, i);\r\n        }\r\n\r\n        return new int[] {};\r\n    }\r\n}\r\n```\r\n","title":"What does using &quot;{}&quot; mean, in this context?","body":"<p>I found this line very confusing:</p>\n<pre><code>return new int[] {};\n</code></pre>\n<p>Are the two curly brackets referencing something in memory? Here's the full code:</p>\n<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        HashMap&lt;Integer, Integer&gt; prevMap = new HashMap&lt;&gt;();\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            int num = nums[i];\n            int diff = target - num; //En diff, iremos restando el num al Objetivo\n\n            if (prevMap.containsKey(diff)) { \n                return new int[] { prevMap.get(diff), i };\n            }\n\n            prevMap.put(num, i);\n        }\n\n        return new int[] {};\n    }\n}\n</code></pre>\n"},{"tags":["java","string","pdf","base64"],"answers":[{"comments":[{"owner":{"account_id":29193572,"reputation":1,"user_id":22365218,"display_name":"Fiko"},"score":0,"creation_date":1691739419,"post_id":76881527,"comment_id":135535105,"body_markdown":"The problem is I don&#39;t need file on disk. I need to pass decoded PDF as String to context in WSO2 solution...","body":"The problem is I don&#39;t need file on disk. I need to pass decoded PDF as String to context in WSO2 solution..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1691740569,"post_id":76881527,"comment_id":135535301,"body_markdown":"Fiko ... you can&#39;t pass an (unencoded) PDF as a String.   It is a BINARY format.  Which &quot;WSO2 solution&quot; are you referring to?   What is &quot;going on&quot; is that converting the PDF binary to a string is giving you garbage.","body":"Fiko ... you can&#39;t pass an (unencoded) PDF as a String.   It is a BINARY format.  Which &quot;WSO2 solution&quot; are you referring to?   What is &quot;going on&quot; is that converting the PDF binary to a string is giving you garbage."},{"owner":{"account_id":29193572,"reputation":1,"user_id":22365218,"display_name":"Fiko"},"score":0,"creation_date":1691741621,"post_id":76881527,"comment_id":135535470,"body_markdown":"@StephenC https://stackoverflow.com/questions/76869867/wso2-mi-decode-multipart-data-isnt-passed-to-endpont-in-blocking-mode","body":"@StephenC <a href=\"https://stackoverflow.com/questions/76869867/wso2-mi-decode-multipart-data-isnt-passed-to-endpont-in-blocking-mode\" title=\"wso2 mi decode multipart data isnt passed to endpont in blocking mode\">stackoverflow.com/questions/76869867/&hellip;</a>"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1691742918,"post_id":76881527,"comment_id":135535697,"body_markdown":"Best option is to pass Base64 encoded string to the other side, and have the other side decode it and use it as byte[] directly, and not try to convert byte array to string.  I don&#39;t know about WSO2, but if you are passing the byte array - make sure you are using the bytes read from the InputStream as-is and use those bytes as they are.  If you try to convert it to a String, it may get corrupted.  Still, try to use &#39;UTF-8&#39; encoding to convert byte[] to string. But whenever it is to be converted back to byte[] it has to use the same encoding.  Directly using Base64 string is the best option.","body":"Best option is to pass Base64 encoded string to the other side, and have the other side decode it and use it as byte[] directly, and not try to convert byte array to string.  I don&#39;t know about WSO2, but if you are passing the byte array - make sure you are using the bytes read from the InputStream as-is and use those bytes as they are.  If you try to convert it to a String, it may get corrupted.  Still, try to use &#39;UTF-8&#39; encoding to convert byte[] to string. But whenever it is to be converted back to byte[] it has to use the same encoding.  Directly using Base64 string is the best option."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1691743409,"post_id":76881527,"comment_id":135535789,"body_markdown":"I take it back. Don&#39;t convert byte[] to string even using UTF-8 or UTF-16. Converting back that string to byte[] using the same charset also corrupts the byte array. I tried it.  So, either Base64 encoded string (other side has to decode and use byte[] as pdf content) OR the decoded bytes as-is (the other side has to accept byte stream and use it as is as pdf content)","body":"I take it back. Don&#39;t convert byte[] to string even using UTF-8 or UTF-16. Converting back that string to byte[] using the same charset also corrupts the byte array. I tried it.  So, either Base64 encoded string (other side has to decode and use byte[] as pdf content) OR the decoded bytes as-is (the other side has to accept byte stream and use it as is as pdf content)"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1691743789,"post_id":76881527,"comment_id":135535876,"body_markdown":"One more try.  I used `ISO_8859_1` like this `String pdfStr = new String(pdfBytes, StandardCharsets.ISO_8859_1)`. And then again converted to byte array to string using the same charset, e.g. `pdfStr.getBytes(StandardCharsets.ISO_8859_1)`. This results in the same byte array as the original decoded array. Wrote it to the file and the file opened fine.  So, if the WSO2 side has the option to specify the charset, try using this one.","body":"One more try.  I used <code>ISO_8859_1</code> like this <code>String pdfStr = new String(pdfBytes, StandardCharsets.ISO_8859_1)</code>. And then again converted to byte array to string using the same charset, e.g. <code>pdfStr.getBytes(StandardCharsets.ISO_8859_1)</code>. This results in the same byte array as the original decoded array. Wrote it to the file and the file opened fine.  So, if the WSO2 side has the option to specify the charset, try using this one."},{"owner":{"account_id":29193572,"reputation":1,"user_id":22365218,"display_name":"Fiko"},"score":0,"creation_date":1691744560,"post_id":76881527,"comment_id":135536038,"body_markdown":"Yeah, i got valid pdf too, but still it is byte[] insetad of String","body":"Yeah, i got valid pdf too, but still it is byte[] insetad of String"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691753271,"post_id":76881527,"comment_id":135537743,"body_markdown":"The likelihood that you can get away with sending anything other than a known, fixed pdf file as a string is so low that it shouldn&#39;t even be attempted. An API that requires receiving this is wrong, *unless* it&#39;s base64 encoded","body":"The likelihood that you can get away with sending anything other than a known, fixed pdf file as a string is so low that it shouldn&#39;t even be attempted. An API that requires receiving this is wrong, <i>unless</i> it&#39;s base64 encoded"}],"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691764615,"creation_date":1691739272,"answer_id":76881527,"question_id":76881484,"body_markdown":"Don&#39;t try to print it on the screen. Write it on the disk directly and check the PDF. Not sure how you got that content with corrupt characters, but it could be due to encoding issues while showing the bytes.\r\nSince you have Base64 encoded PDF string, you don&#39;t have to convert it to `byte[]` too.  Directly pass it to `decode()` method.\r\n\r\n```\r\nString pdfB64 = &quot;JVBERi0xLjcKJcfsj6IKNSAwIG9iago8PC9MZW5ndGggNiAwIFIvRmlsdGVyIC9GbGF0ZURlY29kZT4+CnN0cmVhbQp4nE2KsQ6DMAxEd3+Fx2TAtUlsw1qJpVvBW9UJqZ0y8P8L0KpS7y1Pd7chkyvyyU/WBoxv2EConPmU/742vAZcZkdhUsN4gXxPaEZeq6BbT+VYGjxSTLmrxGqjpCWPxDaop8gDqRSXhPkZN5gC7gc7KKIc9GVuZHN0cmVhbQplbmRvYmoKNiAwIG9iagoxMTYKZW5kb2JqCjQgMCBvYmoKPDwvVHlwZS9QYWdlL01lZGlhQm94IFswIDAgNTk1LjMyIDg0MS45Ml0KL1JvdGF0ZSAwL1BhcmVudCAzIDAgUgovUmVzb3VyY2VzPDwvUHJvY1NldFsvUERGIC9UZXh0XQovRm9udCA5IDAgUgo+PgovQ29udGVudHMgNSAwIFIKPj4KZW5kb2JqCjMgMCBvYmoKPDwgL1R5cGUgL1BhZ2VzIC9LaWRzIFsKNCAwIFIKXSAvQ291bnQgMQo+PgplbmRvYmoKMSAwIG9iago8PC9UeXBlIC9DYXRhbG9nIC9QYWdlcyAzIDAgUgovTWV0YWRhdGEgMTEgMCBSCj4+CmVuZG9iago5IDAgb2JqCjw8L1I3CjcgMCBSPj4KZW5kb2JqCjcgMCBvYmoKPDwvQmFzZUZvbnQvS09OS1dVK0NvdXJpZXJOZXdQU01UL0ZvbnREZXNjcmlwdG9yIDggMCBSL1R5cGUvRm9udAovRmlyc3RDaGFyIDMyL0xhc3RDaGFyIDg0L1dpZHRoc1sKNjAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAKMCAwIDAgMCAwIDYwMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDYwMCA2MDBdCi9TdWJ0eXBlL1RydWVUeXBlPj4KZW5kb2JqCjggMCBvYmoKPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9LT05LV1UrQ291cmllck5ld1BTTVQvRm9udEJCb3hbMCAtMTYgNTI5IDU4NF0vRmxhZ3MgNjU1NDAKL0FzY2VudCA1ODQKL0NhcEhlaWdodCA1ODQKL0Rlc2NlbnQgLTE2Ci9JdGFsaWNBbmdsZSAwCi9TdGVtViA3OQovTWlzc2luZ1dpZHRoIDYwMAovRm9udEZpbGUyIDEwIDAgUj4+CmVuZG9iagoxMCAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUKL0xlbmd0aDEgMzUzMjAvTGVuZ3RoIDg4MDM+PnN0cmVhbQp4nO19C1xbx5nvN+ccQGBjMMaAeR5ZNg8jwC/8xEYChME8zcNGrhMjJAFKAMmSsOu0jb1pntiJnWSbpnW2yW3a3qaJY4HTFjvdxtmku5tt07RN1t0+9ibbmz6zbrJ7m+69m4Duf+YcCUEcr9vf3Xtvfz9pmJlvvvnme8+cB8ImRkRL6DjJ1N/RXbWexOfm02j2OkcdPm3s+Wci9gXn4aD6lSXuTCAwTjo56BsaPfB5xxIiw0eJEv9uaOTooEbf1ESk1Ay7Ha43j6Y+TXTPJSA3DQOR8jR7kSitAeNVw6PBj+ryfkVUcHnE63Ro49bbMR4edXzUtyx7URD0w0Cqo+6gQ34sATRpd2PcP+YYdW+7vesQxlhfcYvPGwjOFlMv0Q4Xp/f53b5zl7IPYAx+KS8ov4RWD1Ae+kJ5gAqJwq/r9Wezt2IO87Mz4bD0Q6zu0av26UH5lGh7WJvWk4teo1G6nz4N3Ab2XXqCLJQG/GskM2J9VEMP0hH6e+oN/wuwRnqc3iYzbaXh8CwtpWM0yz5BjzOJJKzaQq+Sm05LNXK58hYxWsPWyk+y26gCXHroIcqmV8BxTTgF4/NSgVSDVT30bfmgwRxeG/5Xdkl5KTxAn2c10mXlafoOXWErFZr9ZPhE+Ez4EcT3d3LBzAvhdeFRrOqlfhqnj0OD4/Q5epnZpR3Sc+F7oFMfdDhGX6dvs3KFlH7KoC5Q304P0wX6Jr1C/0A/Z4ylsVJ2nL3KXkugmRdnXww3hwfCXrJRO3XSccwWsNXMKu2X98tn5R/O/PfZN8KF4N1Dh+mj9DE6RafpSfoh/Yh+wmQpReqReuWzlEc7aD8NwJsPQqcn6CV6nRnYRraNWdid7CnpsCLPvIgcVWg5PNgkvH8/nYFPv0jn6EX6Hn0fPP8FPpXZClbOetkB9gl2B7uP/Tn7InuKPc3ekhKkf5Bl+c+Uv1bemr0cTgl/NvwE5OZRPqlUhshsoVbE82X6Dexbw8yslv1AKpfMMlMWz8zObgjvCh8Lfyv8QzJRCWh3UANsbqN90PoofZKepb/G2pfpu/QL+jd4SWYpLAO+UJmJdbFuNg4tzrK32YyUhfhtkUakKek1uVx+WdmnPD3zzOzy2anZt2fD4SfDofAL4e+I+G6CnHpE4AbyUUBE7KuQ8y16k35N70JGIiuCrk2sBfY+DP6vs/eRTgbpVukpKSzvkE/LLykrlIdn22dHZx+ePR/eGG5DbsmUQCtoI8o2ZFMv2cH7NnjzcfoKInMe2XOZfstyWCFby5rZXtbH+tkw8zIfO8Q+xj4Orz7BnmHPssvsJ+y3kiIlSsvhp3LJKd0mPSg9I70oXZbelEnulvvkQ/LH5AflZ+Tvyb9S0hWzslZpU/qVo8otCZQgJ2YZvvN+9vujMwMzn515YbZytmH25tkTs8/PXp79WXhR+LnwzymR1kJHOw1Bx0/A/jvpPnoU+fEV6PhP9Et6CzH/V/hCZsksFxoXibjVQ+82aL6P2dkgyjC7Cf4/zp5kU+wb7BJ7nr3Evs1+wH7K3pYYtK9E2Y5d0CsNwobPSk9KIelHKO9K/0suls3yenmDvFPuhzV3yXfDnk/LP5V/rkjKcmWd0q0cU/4mQU5wJTyUcCbhxYS/TfhNYnriR/QzYu4EwUf+jvS8slMeoceoU5Ll30g/kGrYJ6T32H+VCtjzkFYgd8qdUr20nST2LLJ8lDKTziQaE41SJqUn9XMe0mekCnmfUiwvpiD2G0n7pTulfvoS+wa9JzUh0w7LL0uPSQflM8oDyk72QzoGmSSlst+TlaxsJ2L3Kh1ChCrkc8p3OccEg/x+wqiUGr5L+WWCJP8A5+AOJsl/x/azK6xTyoK3tkv3kQnjdHYFfTN24I+Q+RfYPtqivCGflHZLPwFuhB5kz8PGZ2lEepZ9HnHZgv3oZ53sEXkd3coOwRtb6Sbpz2ml5JNWIp976X+w29hy7Nz3EJtV0iApcqrkpNckO6L+PZYhVbJbkaejdIJNkJnNsEv0Hel+2sTc8jffXzFTKrH3r7BJuYkm2XvKS8pLkgJOz8Oba3F6WJAhj+OM6MXONMrFyJotlCCZkf834ARspaXSu+zj0gh52MPyr9kXJSt1kFsOSI3sodl3Fau8AR67iNOkPnGrgRJqEgqUjYj4L2knsnEI17th5fWE2zgsvyr/LmwPG2cPJiyZ/SndAu804XQ7gb3URD9mWexGtkcJSy1KOLyXnpTOKT8NZ7PFzEjfD2OHzX6V1bBVYZUdCi9ie5DhNyY+MfMZ5YRyhzKufBzXpvdwat5JD9Bn6a9wNfkCrlsl8GMrvHkAZ48H14i1tJ6qYd1OqsOp1Iy5TtqL87Qfp+QgjdEhnLx/QU/RJK5QLfDHjVg3SDcBH8AV6mN0K/b/XXQSZ8BD9CX6vvQV6VHZKN0tfUs6LHnox/Rj+W9kC9tLryn3KMeom1bRHrYMkjcjSkVYdzL8KqSVUR5O/43Ypcj78Fvhy+Evz7wCfl+C7g8k1tFbifVUSh3s90ouS7DU9/X2WGp37qjZvm3rls3VGzesX7e2qrLCXL6mrLSkePUq00qjWlRYkJ+XuyInO2t55rKMpelpS1IXL0pJNiQlJiiyxMhsMzX2q6Hi/pBSbGpqquBjkwMIRwyiP6QC1TifJqT2CzJ1PqUFlIMLKC0apSVKydLVGqqpMKs2kxp6ucGkTrP9e/oA39tgsquhKwJuE/BpAacCNhqxQLXlDDeoIdav2kKNh4cnbP0NYDe5KKXeVO9OqTDTZMoigIsAhbJNvkmWvZMJQMq2bZuUyJAKpUK5pgZbaIWpgWsQklfbHK5Q554+W0Oe0WivMIdYvdM0ECJTXSitXJBQvRATSqwPJQkxqodbQyfUSfOliZPT6TTQX77YZXI5DvSFZIedy1haDrkNoexb3syZG4J5Rn3fXbGzefKELcej8uHExF1q6LE9fbGzRt7a7eCBtdLqxv6JRog+CSe2dKuQJt1h7wuxOyBS5ZZwqzT73CYbx/TfpIaSTXWm4Ymb+hGa3IkQdR01TuXmWi6E36BcmzrR02cyhmrzTHZHQ/5kJk10HT2/wqKumD9TYZ5MX6o5dnJJmg4sTo0F3NE5AQlyDrV0RT3LuEamZiRESHWq0KTPBJu28Ma9hSacW0CGj51hVciFiHhCyfX9E+nbOJ6vDyWsTjepE+8SMsB05Z/nYxw6JnF1+rvEQZ4n0VTDfAQOlZeH1qzhKZJUj5hCx51iXF1hPjwteUy+dBUd3Eed8K3Dvq0K7jcaeYBPTFtoAIPQ8T192lilgbwpslSV20NSP5+5FJlZ3stnjkdmosv7TcjkZ4g/NiwPGYqjP2npWctsw9tCLOsa025tvqXb1LJnf59qm+jXfdvSM2+kzW+JzulQaFl9n5wn6ZCUJ4tZJOWBKDEf9C0OKavxkyiS2jWdZEBWCgxTG0Pp/U1aa08xGq9z0XT4Hb5KdHPLdDVD28rnj7fPG89Tb/GEDIWVYqmlZ//ERMq8uUacQBMTjSa1caJ/wjEdPj5gUtNNExdwC1I84bP1RyI6Hb54Ii/UeNIOI4bZNmSrRHWTJnb3nkkLu7t7f9+FdDz83N3TN4Wbm/r+OvvkKsz1XVCJLAIrcSxH8oHKB9TCkOhTuHXk9HkXLETHxawiEGLsnGYkcIYIjpFzWtJw6ZqgYiHIgptX57SizVgi1ApwBg13XKMu1akNmEnnMxdx34NbGj6pffipUd/TF5sPYpOJAwMzIWYKfcz0UeMkFoX8pqMCmAipOFtAFXLm2ycmVBQT+Dv39mkt3B9iH+Gt+BEMJzeRKR+87fyQDx0fAIOJAxP7TUacIQXgoqGMfLgk3y44IA4P52MzINOhNL9m487p5XBSeL/ynsj/2A/jmCXn8cSVLsYS+irc15L8m5QXojTap5TPu0bGhnQ4K6DBO1FXWv2jY2a1/qh/xKzu8rtvNqutjuCY1e8YMKsfnGtyD/g1CqzdJn2T34QK8bnaDamQmiVGstBqiXS3DstkkR7SYSWGJoFypMs6nEj50m91OInGojQGWivn6HAy5SeU6nDqksSEhoidLHXZbh1mtChznw5LlJR5nw7LpGZ+SoeVGJoEWpz5VR1OpCWZz+twEm2O0hgoZ9keHU4GzSs6nJokZ/4jODNFhqzFeW8IOIFHJO8dASdyfD4JOInj8xcL2CDgfAEnQ9FCOUWHNR9qsOZDDdZ8qMFKDI3mQw3WfKjBmg81WPOhBms+1ODUJTn5ZgGnxOi/iOu2pkHAi2PwSzi8pkfA6Vy3NS4BLwOcscYv4MwY+uXCDxqcFYNfIdbeLuA8IUvjWRBDUxQDrxL0Dwh4jYAfE3CFgJ/msCFGf0OMrMUx+MURW57AM/p63Oeuwz2nivvLYXKjbyMv7m69eBI6iidkjqnHyA+Ytw7gPYKiEjNWPJ+MoO8Cbgjrg7j35SM3ejeoD6N1CcpUlCaMBoB14/5YxXMB5z4GuRE5reB+FLzHwUcFXy94esgJ2AnYhzl/VI4a1X4tbQBUHB1tJrPQwQEOPtCqkOuAHM7DSTfrtLsxGgaWz45Dx0DUJu4Hj7Bj5EP1GRS+UPFk4IFFIwLrEJ6Yb6PGx6tbqgop45h1Cnv5aBC8j2CtX2DGQeUSnlOBj8SjGTpx73jEujHh2+1ivVtQuPEsNyA87RKtqmsUoVUFPgAM958vGsE5O/h8EFp4sDIAL9Trenp0Xdrn2eMQ2vFccAnZXPubhZ2Df1Qe8XwZgrwRwWnhum0fqk0paD3CKm/Ul2V4RuNUgaiNmyBhK3JjPheNRyeeu/ibx/+7OyFF1Phu+FPZDU3Aa1pxbi1iNog5t8jWhRnINRkHX5+Qq2kwKCQEhUftwmpV7JujwkpNq2DU0xFqjvOKeHN/8Hxzi2i6BJ1Pj4hZ7MgxIccnbNLWOnUubn3sELx9QutRUAXFHF81IPSIeHiht4L6Ci12/g9gBqM2mKPjuWh90Ds+MXZhjRNjsx45vkM0ueaonIUWeESUjgg/OUUuX81nR3RLPSLLR0Q+R/beQt/zNSMCKgV92bzsuTp3TYc/1rexuck5DQHnF9kYFJFzRrPxahZEpH9Qr+0xOcAt0WwJCnmR08ov8vmoyB+ez2NiDzs+1FIt9xzzskrbi1691azSYH4q+PSzgWsbiWaED6fkJ9C1clQ7R8f0yMxxj+wQj+5lvzitPOI9XVCPLb+/iJzb3IYRYd2RqJfnZ7VZRMYhYJeeBx88YxbuhFJx1nI7t+E5o0rMVAoZN4uTxC2i6gCOe2gIFJG5Kp3nwQXnVpm+e+dOi0DUYxFt/pArw3WexGr+Ah6tER5qQTSbbwJOi1Mka9ziKjain+Bz2X2tq0skKz/8CsMj1xndOYGYK7cWby0L3LqsIZHLY3rczcJmv37ya2cPPxkcwv9anCN5rOWVT7870CR4wVU76ceimeKguSvswvPsPyEWUQ85hO3cbx79rHfpe9UJ7qP6Hpm76+ASPOIqFBC5qev44bEF3D3/Gotol8X4yCWuMiPzzpkP2ngNfuL09Yh1Eeqrn27mBadbxPcLV3OvaedprN0Rvebuf+Z2zdyVKBJDszjvvULKYHTsjskQfm5pEQqA29wVVtN6QOji1q9U49FYxp4lWgyr9IgHxC4ZieoQ2dfzc+n6vRp7hdesjL3SzM/pOU8cEX4c/SPjGLka8PuzMd0z7hgNXKLlMuf8chMonDHXjuA1zmPt5HcJCyJXvG3zTnEHOHrFiXP1O17tzjxylZnzT+RKNuej2DNl/qqAOCu0WA3odl/9muv4kIj6o9YHRJaOCe7aLtKuvLFX9D82AyLXtyayidkOasRoH66WXQLTDJyKU7QLM3sx4r9FbwCmBBTd+nyJiNQ+cR1qAl2vuMZpPLrQtmNsF2dcI6lizEctoG8HL77WRn1Chg3cugVll+DdBmwreptOx1fUA9Mrfm/WTrvEKajJa8cq7f69Wb8mapr2AK9GLZyvVbOQGNGsDaMu8G/SZ63g3Sz4cf25/EYBt0f1bNQ1tQofcc6cJ/8OQKsYcWwv+k7QdQv5VmGzpm27sKER85otNqEBl1yp26rRcf/s1Wd4jLh+rShzVlmFD5qENnP+q0ffCc05/13iWxiqoGkVUdQo68R6biO3tlWM5qzSIlUvrOFe5T5oANyGuivquy7Rarp0xXCb77t9Yn6OSrPPqrf1wnMdYqRFo16MekSs+KxZj2WXsGOh1H0iE22Cyios7o5mSKPIXk37SHZqMjpiNNHk8djG6hLJavUae0TjEpnv1SP9Qb9wr1uFT7he3VHJH8YZe/MJdf3adZvVnmG32uYd8waP+txqvdfv8/odQY93rFK1joyoXZ6h4WBA7XIH3P7DblelmprK3yS7j6gdPvdYD1/T6jjqHQ+qI94hj1N1en1H/XyNytmv3aAW826zWe1yjPiG1SbHmNPrvBnY3d7hMbVp3BXgknqGPQF1JJbPoNev1nkGRjxOx4iqSwSNF0LVgHfc73SjGwwecfjd6viYy+1Xg9yO5h611eN0jwXc29WA2626RwfcLpfbpY5oWNXlDjj9Hh83UMhwuYMOz0igsh48PeDSrslxqEG/w+UedfhvVr2DH+6jLvfQ+IjDH5nbFsumtM3j9Hu5lmV73f4Al7ipcut6nQQUnd1tPU1emOBSW9zB4IjbH12hBsZ9vhEPFB/0jgUrVbt3XB11HFXHYUKQO4uj1aBXdfrdjqDbrLo8AR8caFYdYy7V5/dg1gkSN3pHQPW5/aOeYBDsBo4KR0XcEcQEvOqPAINcgpn3wp1RdXx+r2vcGTSrPA2w1szXRAR4xtQjwx7ncIxmRyDUM+YcGXfxnIlo7x0bOaqWesq0sMSQg8O1tNWi6BkbUv3uQNDvcXLfzwngy6O8tgsPlHogJege5YHyeyDV5T0yNuJ1uOZ7z6G5CgGDOV6IQjse9CELXW5uJqcZdo/45nsUO2PsqE7OAwKG8M+wZ8ADnStTU3m2DHpHRrxHuMq6q83qgCMAXb1j0UyNBKF0OBj0bauqco9VHvHc7PG5XR5Hpdc/VMVHVaA8qOd0GcIr0iLAFeNsrr4Jr7Z5fqBTtHKKV7mbb/LCJu4a92H3CDaWcPf8bcpdOW+jpqZ28uAERDbDbrjAjVVDfgc84zKrg35sOmSPc9jhH4LN3MfwFSKK5ap3AJttjDvFIQ6KSJ5dvxVcIUcg4HV6HDw/XF7n+Cgi4tD2s2cEninlHOdZq3brJ8WrZUIjlxsMPVocrkqnHvEEhzk6Jt3Merpx7SPTIx7kqSab8/JrZyUkiE3ELTSro16XZ5D3buEQ3zgMCgyLDQvWA+N88wY4Us8SWFgFwwNuHL7gwGOte+mqqmobHiK1TaN7WihxZNg7eg0b+TYY949BGbdg4PLiRBW63OR2BiMJNpfHSH6XR2y8bVqKOwa8h90xBz6OQL5lhD58k/nmMkWfCgw7YNWAe97OdcQY6ufiA0EkkwchwubVNvq1HMD3W5NN7e5o7Nln7bKpzd1qZ1fH3uYGW4NaYu3GuMSs7mvuaero7VFB0WVt77GrHY2qtd2utjS3N5hVW19nl627W+3oUpvbOlubbcA1t9e39jY0t+9S67CuvQPXlWbsRDDt6VC5QJ1Vs62bM2uzddU3YWita25t7rGb1cbmnnbOsxFMrWqntaunub631dqldvZ2dXZ02yC+AWzbm9sbuyDF1mZr76mEVOBU214M1O4ma2urEGXthfZdQr/6jk57V/Ouph61qaO1wQZknQ2aWetabZooGFXfam1uM6sN1jbrLptY1QEuXYJM125fk02gIM+Kn/qe5o52bkZ9R3tPF4ZmWNnVE126r7nbZlatXc3d3CGNXR1gz92JFR2CCda12zQu3NXqvIiAhI97u21zujTYrK3g1c0XxxJXpuKuxSuegPjTyJh40higoywVzxM3Yfxr8SwUme/Wn15c2ntu+bPypPyX8nOoF+SL8lPx99zx99x/gG/j77n/895za789jL/r/tN8161FL/6+O/6+O/6+O/6+e+FpHn/nPf+dd8Q78ffe8ffe8ffe/9+998benHvGdIjrRGT8T+KZ0z3vGdQ97ylTPGcqhco6pUXZpexAuxXUDpx+/F5dO7OGWYj9F5nEGWoFvV98J4zz0L9zTTRrEn8PyBZ8N5wuUk/4knxpqneDZRrdNtGdX7Jq/XHeL0oV/VTyhlprlXyJfKjnUF9BVegg2mM6RqYitLWoHHtKzD8mP0sh1Euo30PlmIvAXATmIjAXgamVp4nJX5e/NrWqCKKfOb9i1fq3rbnyeQqjSvL98gkygveNen9Q70+hX4P+tN7fK5+Y2l6UZk3GmNHbaMOoEmx7ZGpXx/oLAthcI4AzEcyZ88AUWVfIj0CrR6DVI9DqEWj1NloGrmeAPwP8GeDPCPwZYoKVsUxnpQOPTKVl6RgA1hTZLu+l9WDRp/f75L1T64ues/bLvWB9TrSPyT1oT4n2oGg7RHtMzB4TsFfAXgHXCrhWh3lbFdMWiTaNt3KX3I17uCJ5j7xb9J2yjVaj78CY9+1ys+jb5F2ibwU+B30L6DLQ75YbxbhZ5udvkdyEMe93yY1TDUVrrT6MD2JOgjyOb4AODdCpAU7imFOoj6G+LjAH0R5DfUXm3xLnlExuQKlHscpWrLCAhwUzFpJlC0otyk55J2Z2gHYHWotcI2ysAVUNJNXAVzXgXIPw1CA8NZQk16BV5Wpai2pB7UTtR00AHzPWmaGXGRLMcgWtAi+jdJIy0at6XySdoEL0hdKJqcIiizVZeoY6UftRfajHpWemEjLSrJmg47RVqB2oB1GPoT6Keg7VQLXajGWRVCvVyh1Sh6wgu8vO19SsF/2GTVqfX6D1i3PXp1n9chncVEaPospQuQwql8HUyKgIVULqlNBzqK+gvo7KHV4CZ5TAGSUwsATrSwRVoqB7GzWMKiOJSsB/Pk2CWF2EWhXDhWNLgSnFqBRrSkFbCuzraJlYwec7UU+hPqfPrRTJvFIk50rwWgltq9DWCigNbZG8ckpKTpuGf9m2NGst/N6BiknpXnjzXvjtXn6USHwTp4m2SodPAjpJkRWnUM+hJsoXUMpQSlBKUVaiGFFUFERULkQ0T6OcQrkP5V6UkygnEJ3Mc+XPlUsHq73Vx6pPVT9afa76ueqkZyUHSr/Ub0mhrCwckRlLDbnWdEmhA5TK/l20Z0XrF61FtNmW3AOpbx5I/dsDqZ85kPqpA6l9B1LbD6Q2HkitOpA6zQYs2eWpPylPPV2eurc8dVN5anV56oby1LLyVOtSZmf7cJH4pmjrRLtetCtFW8D2TaVS8jfYR8howA5gJc8Y/6zo58ZphU0VfdI4bUB3mzb6iNZt58ivFa01DhWZNUyx1q0y/qUCDtTLnqIkVm4xJ72UdDDJkrQ1qTKpIqk0qSTJlFSUlGnIMKQblhgWG1IMBkOiQTFIBjJkToffsJTzK0hmYjrvEhXeKgJOl3graRcYiRkkPNyHlsktUkt3HWsJXXJSy4Aa+n23aZql7NkfSjDVsVBGC7X01OWENpe3TCeFu0JbyltCyZ0f6Ztk7D47RiHp7mlGPX3TLMxRd+TxPwC9QIyZ77g3T+/tdr6mb1Jh995rp6zDtTm1GTuXbm1suErTr7flc5+c8tgBNCkIPdTS3Rf6SoE9tJ4D4QJ7CzzH/170grRF2mRruCBt5p2970LKcWmLrYvjU4432OfoSAW+4QIZeSfoSOV0pC6gK5Q2c7rVvNPoCgVd4Ty6yR1GW8Ok0Rih2SFodsynGZpPMyRohnQaWaMxxtAkvUFGQWNMeuMDNIXXQbP6qjQx3nTXlV/jwy7QbnZ5sv4W/se2/SabG7U/dOLwcA7/Yzf1AtWzy/rf4Rb3DziHee9wT7PLJndDqN7UoE7uvuWD86Fb+PRuU8Mk3WLr6Zu8xeJumNpt2W0zORrs53c51pydJ+6eiLjJNY6rMHNwZmu4rF1nrzJ9lk/v4rLOcllnuaxdll1Clsh6pKWB6uz1B7T+vLQoBQncn2e012Wl+3aKbN5uzLk176JC7Mu0qNweWmyqC6Wi8qkKa4WVT2GX8akl/G+q9amcW7cb8y6yL+tT6UAvNdVRjs3TgJ9AQAeu8yfAP8EbAzeKXvwEguOoPFD8ATlIsMG6WJzKRTifJXEy8xOZn9pyIGAPkohqYJw4vyBv5thHoXFwZoHYNKDAwg/PjXLSKtgFxhmoOOG4njgBhkmwIa6kzgWHTh+RUqU8QNUsw5J7sMibeCxRXrpoSXlGRsGilflF1SZTQb6cnDgdvnQ+rbCW9xZz2oraxL2SVJCcmZtdvmxZQe7GyrR1ReukdeXV1QWVJRW0Jn2NtKa8uLigomiajVhqciVWvMi0qji3mopXF8L5udIiw8ritHz2dn44X8q3ysWUzDqTH0v+XvIbye8kJyRXFxdXUkV6hVQxzXZaslavXkWsMLlrWVXG2xnvZMgZKzbt9uaUt6f/7oaatiszNTU1HJqpSb/h0JXfoVJtbcbWKoxr0mfEzxWWfoXS373htZoowHHv8g7D8vLIRBS/bi3dwJYaqzdu2rA+a/lS48piDm5YatIA49LMRA5WG+dodAzrle7MXrYs+31HYW5u4aFDvJUDHDPzJVaRsywjJydjWY5UPVv0P/nU7DMYZsu/4QSzr3PMy7MtB8XMb3l7EFG6EH5dyVTO4k7yZ5Y1Oza05nVsuGHDkaw7s+7KvSfv5NbP1KU0q41W6f6izxc9Yf1y3d9n/yL73eykvOnw76eW5WyaDv83y8FyS9mO7bk5aQmZxDYvWb/WJFduTEslBHtFcU3NxqWr6xepycl1vYtOKJUnSjauNtbLilRiMCYvKTb0b159sNBbKBXmNmautqwrNhVbrN6yY2Wnyh4tO1eWULbC9hcXWRHl4MoiYtL25pUr6Vfa039/Q9vMDA9GbW36FV7K02eWbq26sjQjeyuvbGnG1q0C3gp3b9myhd1Ah25guj+XC3+WFBebViYuzyyUsrOys7IEsmS57mpBCOyG9ZuqN4KUF4GUH+TuzF6Wkc0SHr/9xBcqW/sHn7Tus//ihZ98EtgcbebZz33u6422tQ9//8CBV8+GlJ353N+XC3Nz8nruPOVY37WhaGl+QcnEjae/fc9aPvWrIkwd+PTnRuqGCpfnmpqa7rj9m/zWjf+7WdhDJrrPsiYteXF1enpBMjbPJr55JENCNWMFhmUrsjZhU60wZRTm5UrJBsOKaeb9Wnr6UuwHBtCipudX5ffnv5KvpOXX5nfkH8z35Z/KP5f/er4h/9er/wrpDn8e+p1I5zeptqYW+b4gZxdmMFvK/QhfRbM3krZzgHT6x9y0mX/j7Y9nv8y9I5/l3lN2vp+VrWUr0nP2H4tyc4vYkdl7RG9a+Dz8f+Dz6ocX9nmpMF7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7i5U+7EP/XlbVvH2dq30lmuaiJ//GvU+Xr+Z1r6bzRps1/4K9s/59+FJoQrcL9805POIxW5S3/eh1dpwOu61N6jblNtJnLZ6cpgQzXyW8B3Tv0TngeQv+2ufKy+F9Lhq5bz//403eNcoFOxUu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xMsfULTf7ya+dcdk6NzFg2k17xqStV8IP756D/+Xx+hy1T1p4aR/P628Zygn/j8h678P/t+Md++jCmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKPDwvVHlwZS9NZXRhZGF0YQovU3VidHlwZS9YTUwvTGVuZ3RoIDExNzg+PnN0cmVhbQo8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8P2Fkb2JlLXhhcC1maWx0ZXJzIGVzYz0iQ1JMRiI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJyB4OnhtcHRrPSdYTVAgdG9vbGtpdCAyLjkuMS0xMywgZnJhbWV3b3JrIDEuNic+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIycgeG1sbnM6aVg9J2h0dHA6Ly9ucy5hZG9iZS5jb20vaVgvMS4wLyc+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLycgcGRmOlByb2R1Y2VyPSdHUEwgR2hvc3RzY3JpcHQgMTAuMDEuMScvPgo8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPjx4bXA6TW9kaWZ5RGF0ZT4yMDIzLTA2LTI3VDIzOjA0OjAzKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KPHhtcDpDcmVhdGVEYXRlPjIwMjMtMDYtMjdUMjM6MDQ6MDMrMDI6MDA8L3htcDpDcmVhdGVEYXRlPgo8eG1wOkNyZWF0b3JUb29sPlBERjI0IENyZWF0b3I8L3htcDpDcmVhdG9yVG9vbD48L3JkZjpEZXNjcmlwdGlvbj4KPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eGFwTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nIHhhcE1NOkRvY3VtZW50SUQ9J3V1aWQ6YTUyNThiOTYtMTc4OS0xMWVlLTAwMDAtZmFjYTg5YjdiMWQ2Jy8+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLycgZGM6Zm9ybWF0PSdhcHBsaWNhdGlvbi9wZGYnPjxkYzp0aXRsZT48cmRmOkFsdD48cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkPC9yZGY6bGk+PC9yZGY6QWx0PjwvZGM6dGl0bGU+PC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0ndyc/PgplbmRzdHJlYW0KZW5kb2JqCjIgMCBvYmoKPDwvUHJvZHVjZXIoR1BMIEdob3N0c2NyaXB0IDEwLjAxLjEpCi9DcmVhdGlvbkRhdGUoRDoyMDIzMDYyNzIzMDQwMyswMicwMCcpCi9Nb2REYXRlKEQ6MjAyMzA2MjcyMzA0MDMrMDInMDAnKQovQ3JlYXRvcihQREYyNCBDcmVhdG9yKT4+ZW5kb2JqCnhyZWYKMCAxMgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDA0MjYgMDAwMDAgbiAKMDAwMDAxMTExOSAwMDAwMCBuIAowMDAwMDAwMzY3IDAwMDAwIG4gCjAwMDAwMDAyMjAgMDAwMDAgbiAKMDAwMDAwMDAxNSAwMDAwMCBuIAowMDAwMDAwMjAxIDAwMDAwIG4gCjAwMDAwMDA1MjAgMDAwMDAgbiAKMDAwMDAwMDc2OSAwMDAwMCBuIAowMDAwMDAwNDkxIDAwMDAwIG4gCjAwMDAwMDA5NzcgMDAwMDAgbiAKMDAwMDAwOTg2NCAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDEyIC9Sb290IDEgMCBSIC9JbmZvIDIgMCBSCi9JRCBbPEMxNTY1RTJBM0FEODkwMDU3QjdENTk4OUMxMTY0QjdBPjxDMTU2NUUyQTNBRDg5MDA1N0I3RDU5ODlDMTE2NEI3QT5dCj4+CnN0YXJ0eHJlZgoxMTI2OQolJUVPRgo=&quot;;\r\nFileOutputStream fos = new FileOutputStream(&quot;D:/Temp/test.pdf&quot;);\r\nfos.write(Base64.getDecoder().decode(pdfB64));\r\nfos.close();\r\n```\r\n\r\nI directly wrote the decoded bytes to the disk, and test.pdf opens up fine with &#39;TEST&#39; as text on the one-page PDF.\r\n\r\nUpdate...\r\n\r\n```\r\nString pdfB64 = &quot;JVBERi0xL......JUVPRgo=&quot;;\r\nbyte[] pdfBytes = Base64.getDecoder().decode(pdfB64);\r\nCharset ch = StandardCharsets.ISO_8859_1;\r\nString pdfStr = new String(pdfBytes, ch);\r\nSystem.out.println(pdfStr);  // This still shows corrupt, but that is due to CLI limitation\r\nFileOutputStream fos = new FileOutputStream(&quot;D:/Temp/test.pdf&quot;);\r\nfos.write(pdfStr.getBytes(ch));\r\nfos.close();\r\n```\r\nConverting the `byte` array to string and back to the `byte` array using `ISO_8859_1` results in the same `byte` array in this sample case.\r\nThe file written on the disk is valid and opens up fine.\r\nThe only thing is both sides have to use the same charset for the conversion. So, the WSO2 side also has to have the option to use this charset to convert the received string to a `byte` array.\r\n\r\n**BEST OPTION** would always be to pass Base64 encoded string and let the other side decode it and get the byte array, which can then be used as PDF content.","title":"Inappropriate decoding Base64 PDF to String in Java","body":"<p>Don't try to print it on the screen. Write it on the disk directly and check the PDF. Not sure how you got that content with corrupt characters, but it could be due to encoding issues while showing the bytes.\nSince you have Base64 encoded PDF string, you don't have to convert it to <code>byte[]</code> too.  Directly pass it to <code>decode()</code> method.</p>\n<pre><code>String pdfB64 = &quot;JVBERi0xLjcKJcfsj6IKNSAwIG9iago8PC9MZW5ndGggNiAwIFIvRmlsdGVyIC9GbGF0ZURlY29kZT4+CnN0cmVhbQp4nE2KsQ6DMAxEd3+Fx2TAtUlsw1qJpVvBW9UJqZ0y8P8L0KpS7y1Pd7chkyvyyU/WBoxv2EConPmU/742vAZcZkdhUsN4gXxPaEZeq6BbT+VYGjxSTLmrxGqjpCWPxDaop8gDqRSXhPkZN5gC7gc7KKIc9GVuZHN0cmVhbQplbmRvYmoKNiAwIG9iagoxMTYKZW5kb2JqCjQgMCBvYmoKPDwvVHlwZS9QYWdlL01lZGlhQm94IFswIDAgNTk1LjMyIDg0MS45Ml0KL1JvdGF0ZSAwL1BhcmVudCAzIDAgUgovUmVzb3VyY2VzPDwvUHJvY1NldFsvUERGIC9UZXh0XQovRm9udCA5IDAgUgo+PgovQ29udGVudHMgNSAwIFIKPj4KZW5kb2JqCjMgMCBvYmoKPDwgL1R5cGUgL1BhZ2VzIC9LaWRzIFsKNCAwIFIKXSAvQ291bnQgMQo+PgplbmRvYmoKMSAwIG9iago8PC9UeXBlIC9DYXRhbG9nIC9QYWdlcyAzIDAgUgovTWV0YWRhdGEgMTEgMCBSCj4+CmVuZG9iago5IDAgb2JqCjw8L1I3CjcgMCBSPj4KZW5kb2JqCjcgMCBvYmoKPDwvQmFzZUZvbnQvS09OS1dVK0NvdXJpZXJOZXdQU01UL0ZvbnREZXNjcmlwdG9yIDggMCBSL1R5cGUvRm9udAovRmlyc3RDaGFyIDMyL0xhc3RDaGFyIDg0L1dpZHRoc1sKNjAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAKMCAwIDAgMCAwIDYwMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDYwMCA2MDBdCi9TdWJ0eXBlL1RydWVUeXBlPj4KZW5kb2JqCjggMCBvYmoKPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9LT05LV1UrQ291cmllck5ld1BTTVQvRm9udEJCb3hbMCAtMTYgNTI5IDU4NF0vRmxhZ3MgNjU1NDAKL0FzY2VudCA1ODQKL0NhcEhlaWdodCA1ODQKL0Rlc2NlbnQgLTE2Ci9JdGFsaWNBbmdsZSAwCi9TdGVtViA3OQovTWlzc2luZ1dpZHRoIDYwMAovRm9udEZpbGUyIDEwIDAgUj4+CmVuZG9iagoxMCAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUKL0xlbmd0aDEgMzUzMjAvTGVuZ3RoIDg4MDM+PnN0cmVhbQp4nO19C1xbx5nvN+ccQGBjMMaAeR5ZNg8jwC/8xEYChME8zcNGrhMjJAFKAMmSsOu0jb1pntiJnWSbpnW2yW3a3qaJY4HTFjvdxtmku5tt07RN1t0+9ibbmz6zbrJ7m+69m4Duf+YcCUEcr9vf3Xtvfz9pmJlvvvnme8+cB8ImRkRL6DjJ1N/RXbWexOfm02j2OkcdPm3s+Wci9gXn4aD6lSXuTCAwTjo56BsaPfB5xxIiw0eJEv9uaOTooEbf1ESk1Ay7Ha43j6Y+TXTPJSA3DQOR8jR7kSitAeNVw6PBj+ryfkVUcHnE63Ro49bbMR4edXzUtyx7URD0w0Cqo+6gQ34sATRpd2PcP+YYdW+7vesQxlhfcYvPGwjOFlMv0Q4Xp/f53b5zl7IPYAx+KS8ov4RWD1Ae+kJ5gAqJwq/r9Wezt2IO87Mz4bD0Q6zu0av26UH5lGh7WJvWk4teo1G6nz4N3Ab2XXqCLJQG/GskM2J9VEMP0hH6e+oN/wuwRnqc3iYzbaXh8CwtpWM0yz5BjzOJJKzaQq+Sm05LNXK58hYxWsPWyk+y26gCXHroIcqmV8BxTTgF4/NSgVSDVT30bfmgwRxeG/5Xdkl5KTxAn2c10mXlafoOXWErFZr9ZPhE+Ez4EcT3d3LBzAvhdeFRrOqlfhqnj0OD4/Q5epnZpR3Sc+F7oFMfdDhGX6dvs3KFlH7KoC5Q304P0wX6Jr1C/0A/Z4ylsVJ2nL3KXkugmRdnXww3hwfCXrJRO3XSccwWsNXMKu2X98tn5R/O/PfZN8KF4N1Dh+mj9DE6RafpSfoh/Yh+wmQpReqReuWzlEc7aD8NwJsPQqcn6CV6nRnYRraNWdid7CnpsCLPvIgcVWg5PNgkvH8/nYFPv0jn6EX6Hn0fPP8FPpXZClbOetkB9gl2B7uP/Tn7InuKPc3ekhKkf5Bl+c+Uv1bemr0cTgl/NvwE5OZRPqlUhshsoVbE82X6Dexbw8yslv1AKpfMMlMWz8zObgjvCh8Lfyv8QzJRCWh3UANsbqN90PoofZKepb/G2pfpu/QL+jd4SWYpLAO+UJmJdbFuNg4tzrK32YyUhfhtkUakKek1uVx+WdmnPD3zzOzy2anZt2fD4SfDofAL4e+I+G6CnHpE4AbyUUBE7KuQ8y16k35N70JGIiuCrk2sBfY+DP6vs/eRTgbpVukpKSzvkE/LLykrlIdn22dHZx+ePR/eGG5DbsmUQCtoI8o2ZFMv2cH7NnjzcfoKInMe2XOZfstyWCFby5rZXtbH+tkw8zIfO8Q+xj4Orz7BnmHPssvsJ+y3kiIlSsvhp3LJKd0mPSg9I70oXZbelEnulvvkQ/LH5AflZ+Tvyb9S0hWzslZpU/qVo8otCZQgJ2YZvvN+9vujMwMzn515YbZytmH25tkTs8/PXp79WXhR+LnwzymR1kJHOw1Bx0/A/jvpPnoU+fEV6PhP9Et6CzH/V/hCZsksFxoXibjVQ+82aL6P2dkgyjC7Cf4/zp5kU+wb7BJ7nr3Evs1+wH7K3pYYtK9E2Y5d0CsNwobPSk9KIelHKO9K/0suls3yenmDvFPuhzV3yXfDnk/LP5V/rkjKcmWd0q0cU/4mQU5wJTyUcCbhxYS/TfhNYnriR/QzYu4EwUf+jvS8slMeoceoU5Ll30g/kGrYJ6T32H+VCtjzkFYgd8qdUr20nST2LLJ8lDKTziQaE41SJqUn9XMe0mekCnmfUiwvpiD2G0n7pTulfvoS+wa9JzUh0w7LL0uPSQflM8oDyk72QzoGmSSlst+TlaxsJ2L3Kh1ChCrkc8p3OccEg/x+wqiUGr5L+WWCJP8A5+AOJsl/x/azK6xTyoK3tkv3kQnjdHYFfTN24I+Q+RfYPtqivCGflHZLPwFuhB5kz8PGZ2lEepZ9HnHZgv3oZ53sEXkd3coOwRtb6Sbpz2ml5JNWIp976X+w29hy7Nz3EJtV0iApcqrkpNckO6L+PZYhVbJbkaejdIJNkJnNsEv0Hel+2sTc8jffXzFTKrH3r7BJuYkm2XvKS8pLkgJOz8Oba3F6WJAhj+OM6MXONMrFyJotlCCZkf834ARspaXSu+zj0gh52MPyr9kXJSt1kFsOSI3sodl3Fau8AR67iNOkPnGrgRJqEgqUjYj4L2knsnEI17th5fWE2zgsvyr/LmwPG2cPJiyZ/SndAu804XQ7gb3URD9mWexGtkcJSy1KOLyXnpTOKT8NZ7PFzEjfD2OHzX6V1bBVYZUdCi9ie5DhNyY+MfMZ5YRyhzKufBzXpvdwat5JD9Bn6a9wNfkCrlsl8GMrvHkAZ48H14i1tJ6qYd1OqsOp1Iy5TtqL87Qfp+QgjdEhnLx/QU/RJK5QLfDHjVg3SDcBH8AV6mN0K/b/XXQSZ8BD9CX6vvQV6VHZKN0tfUs6LHnox/Rj+W9kC9tLryn3KMeom1bRHrYMkjcjSkVYdzL8KqSVUR5O/43Ypcj78Fvhy+Evz7wCfl+C7g8k1tFbifVUSh3s90ouS7DU9/X2WGp37qjZvm3rls3VGzesX7e2qrLCXL6mrLSkePUq00qjWlRYkJ+XuyInO2t55rKMpelpS1IXL0pJNiQlJiiyxMhsMzX2q6Hi/pBSbGpqquBjkwMIRwyiP6QC1TifJqT2CzJ1PqUFlIMLKC0apSVKydLVGqqpMKs2kxp6ucGkTrP9e/oA39tgsquhKwJuE/BpAacCNhqxQLXlDDeoIdav2kKNh4cnbP0NYDe5KKXeVO9OqTDTZMoigIsAhbJNvkmWvZMJQMq2bZuUyJAKpUK5pgZbaIWpgWsQklfbHK5Q554+W0Oe0WivMIdYvdM0ECJTXSitXJBQvRATSqwPJQkxqodbQyfUSfOliZPT6TTQX77YZXI5DvSFZIedy1haDrkNoexb3syZG4J5Rn3fXbGzefKELcej8uHExF1q6LE9fbGzRt7a7eCBtdLqxv6JRog+CSe2dKuQJt1h7wuxOyBS5ZZwqzT73CYbx/TfpIaSTXWm4Ymb+hGa3IkQdR01TuXmWi6E36BcmzrR02cyhmrzTHZHQ/5kJk10HT2/wqKumD9TYZ5MX6o5dnJJmg4sTo0F3NE5AQlyDrV0RT3LuEamZiRESHWq0KTPBJu28Ma9hSacW0CGj51hVciFiHhCyfX9E+nbOJ6vDyWsTjepE+8SMsB05Z/nYxw6JnF1+rvEQZ4n0VTDfAQOlZeH1qzhKZJUj5hCx51iXF1hPjwteUy+dBUd3Eed8K3Dvq0K7jcaeYBPTFtoAIPQ8T192lilgbwpslSV20NSP5+5FJlZ3stnjkdmosv7TcjkZ4g/NiwPGYqjP2npWctsw9tCLOsa025tvqXb1LJnf59qm+jXfdvSM2+kzW+JzulQaFl9n5wn6ZCUJ4tZJOWBKDEf9C0OKavxkyiS2jWdZEBWCgxTG0Pp/U1aa08xGq9z0XT4Hb5KdHPLdDVD28rnj7fPG89Tb/GEDIWVYqmlZ//ERMq8uUacQBMTjSa1caJ/wjEdPj5gUtNNExdwC1I84bP1RyI6Hb54Ii/UeNIOI4bZNmSrRHWTJnb3nkkLu7t7f9+FdDz83N3TN4Wbm/r+OvvkKsz1XVCJLAIrcSxH8oHKB9TCkOhTuHXk9HkXLETHxawiEGLsnGYkcIYIjpFzWtJw6ZqgYiHIgptX57SizVgi1ApwBg13XKMu1akNmEnnMxdx34NbGj6pffipUd/TF5sPYpOJAwMzIWYKfcz0UeMkFoX8pqMCmAipOFtAFXLm2ycmVBQT+Dv39mkt3B9iH+Gt+BEMJzeRKR+87fyQDx0fAIOJAxP7TUacIQXgoqGMfLgk3y44IA4P52MzINOhNL9m487p5XBSeL/ynsj/2A/jmCXn8cSVLsYS+irc15L8m5QXojTap5TPu0bGhnQ4K6DBO1FXWv2jY2a1/qh/xKzu8rtvNqutjuCY1e8YMKsfnGtyD/g1CqzdJn2T34QK8bnaDamQmiVGstBqiXS3DstkkR7SYSWGJoFypMs6nEj50m91OInGojQGWivn6HAy5SeU6nDqksSEhoidLHXZbh1mtChznw5LlJR5nw7LpGZ+SoeVGJoEWpz5VR1OpCWZz+twEm2O0hgoZ9keHU4GzSs6nJokZ/4jODNFhqzFeW8IOIFHJO8dASdyfD4JOInj8xcL2CDgfAEnQ9FCOUWHNR9qsOZDDdZ8qMFKDI3mQw3WfKjBmg81WPOhBms+1ODUJTn5ZgGnxOi/iOu2pkHAi2PwSzi8pkfA6Vy3NS4BLwOcscYv4MwY+uXCDxqcFYNfIdbeLuA8IUvjWRBDUxQDrxL0Dwh4jYAfE3CFgJ/msCFGf0OMrMUx+MURW57AM/p63Oeuwz2nivvLYXKjbyMv7m69eBI6iidkjqnHyA+Ytw7gPYKiEjNWPJ+MoO8Cbgjrg7j35SM3ejeoD6N1CcpUlCaMBoB14/5YxXMB5z4GuRE5reB+FLzHwUcFXy94esgJ2AnYhzl/VI4a1X4tbQBUHB1tJrPQwQEOPtCqkOuAHM7DSTfrtLsxGgaWz45Dx0DUJu4Hj7Bj5EP1GRS+UPFk4IFFIwLrEJ6Yb6PGx6tbqgop45h1Cnv5aBC8j2CtX2DGQeUSnlOBj8SjGTpx73jEujHh2+1ivVtQuPEsNyA87RKtqmsUoVUFPgAM958vGsE5O/h8EFp4sDIAL9Trenp0Xdrn2eMQ2vFccAnZXPubhZ2Df1Qe8XwZgrwRwWnhum0fqk0paD3CKm/Ul2V4RuNUgaiNmyBhK3JjPheNRyeeu/ibx/+7OyFF1Phu+FPZDU3Aa1pxbi1iNog5t8jWhRnINRkHX5+Qq2kwKCQEhUftwmpV7JujwkpNq2DU0xFqjvOKeHN/8Hxzi2i6BJ1Pj4hZ7MgxIccnbNLWOnUubn3sELx9QutRUAXFHF81IPSIeHiht4L6Ci12/g9gBqM2mKPjuWh90Ds+MXZhjRNjsx45vkM0ueaonIUWeESUjgg/OUUuX81nR3RLPSLLR0Q+R/beQt/zNSMCKgV92bzsuTp3TYc/1rexuck5DQHnF9kYFJFzRrPxahZEpH9Qr+0xOcAt0WwJCnmR08ov8vmoyB+ez2NiDzs+1FIt9xzzskrbi1691azSYH4q+PSzgWsbiWaED6fkJ9C1clQ7R8f0yMxxj+wQj+5lvzitPOI9XVCPLb+/iJzb3IYRYd2RqJfnZ7VZRMYhYJeeBx88YxbuhFJx1nI7t+E5o0rMVAoZN4uTxC2i6gCOe2gIFJG5Kp3nwQXnVpm+e+dOi0DUYxFt/pArw3WexGr+Ah6tER5qQTSbbwJOi1Mka9ziKjain+Bz2X2tq0skKz/8CsMj1xndOYGYK7cWby0L3LqsIZHLY3rczcJmv37ya2cPPxkcwv9anCN5rOWVT7870CR4wVU76ceimeKguSvswvPsPyEWUQ85hO3cbx79rHfpe9UJ7qP6Hpm76+ASPOIqFBC5qev44bEF3D3/Gotol8X4yCWuMiPzzpkP2ngNfuL09Yh1Eeqrn27mBadbxPcLV3OvaedprN0Rvebuf+Z2zdyVKBJDszjvvULKYHTsjskQfm5pEQqA29wVVtN6QOji1q9U49FYxp4lWgyr9IgHxC4ZieoQ2dfzc+n6vRp7hdesjL3SzM/pOU8cEX4c/SPjGLka8PuzMd0z7hgNXKLlMuf8chMonDHXjuA1zmPt5HcJCyJXvG3zTnEHOHrFiXP1O17tzjxylZnzT+RKNuej2DNl/qqAOCu0WA3odl/9muv4kIj6o9YHRJaOCe7aLtKuvLFX9D82AyLXtyayidkOasRoH66WXQLTDJyKU7QLM3sx4r9FbwCmBBTd+nyJiNQ+cR1qAl2vuMZpPLrQtmNsF2dcI6lizEctoG8HL77WRn1Chg3cugVll+DdBmwreptOx1fUA9Mrfm/WTrvEKajJa8cq7f69Wb8mapr2AK9GLZyvVbOQGNGsDaMu8G/SZ63g3Sz4cf25/EYBt0f1bNQ1tQofcc6cJ/8OQKsYcWwv+k7QdQv5VmGzpm27sKER85otNqEBl1yp26rRcf/s1Wd4jLh+rShzVlmFD5qENnP+q0ffCc05/13iWxiqoGkVUdQo68R6biO3tlWM5qzSIlUvrOFe5T5oANyGuivquy7Rarp0xXCb77t9Yn6OSrPPqrf1wnMdYqRFo16MekSs+KxZj2WXsGOh1H0iE22Cyios7o5mSKPIXk37SHZqMjpiNNHk8djG6hLJavUae0TjEpnv1SP9Qb9wr1uFT7he3VHJH8YZe/MJdf3adZvVnmG32uYd8waP+txqvdfv8/odQY93rFK1joyoXZ6h4WBA7XIH3P7DblelmprK3yS7j6gdPvdYD1/T6jjqHQ+qI94hj1N1en1H/XyNytmv3aAW826zWe1yjPiG1SbHmNPrvBnY3d7hMbVp3BXgknqGPQF1JJbPoNev1nkGRjxOx4iqSwSNF0LVgHfc73SjGwwecfjd6viYy+1Xg9yO5h611eN0jwXc29WA2626RwfcLpfbpY5oWNXlDjj9Hh83UMhwuYMOz0igsh48PeDSrslxqEG/w+UedfhvVr2DH+6jLvfQ+IjDH5nbFsumtM3j9Hu5lmV73f4Al7ipcut6nQQUnd1tPU1emOBSW9zB4IjbH12hBsZ9vhEPFB/0jgUrVbt3XB11HFXHYUKQO4uj1aBXdfrdjqDbrLo8AR8caFYdYy7V5/dg1gkSN3pHQPW5/aOeYBDsBo4KR0XcEcQEvOqPAINcgpn3wp1RdXx+r2vcGTSrPA2w1szXRAR4xtQjwx7ncIxmRyDUM+YcGXfxnIlo7x0bOaqWesq0sMSQg8O1tNWi6BkbUv3uQNDvcXLfzwngy6O8tgsPlHogJege5YHyeyDV5T0yNuJ1uOZ7z6G5CgGDOV6IQjse9CELXW5uJqcZdo/45nsUO2PsqE7OAwKG8M+wZ8ADnStTU3m2DHpHRrxHuMq6q83qgCMAXb1j0UyNBKF0OBj0bauqco9VHvHc7PG5XR5Hpdc/VMVHVaA8qOd0GcIr0iLAFeNsrr4Jr7Z5fqBTtHKKV7mbb/LCJu4a92H3CDaWcPf8bcpdOW+jpqZ28uAERDbDbrjAjVVDfgc84zKrg35sOmSPc9jhH4LN3MfwFSKK5ap3AJttjDvFIQ6KSJ5dvxVcIUcg4HV6HDw/XF7n+Cgi4tD2s2cEninlHOdZq3brJ8WrZUIjlxsMPVocrkqnHvEEhzk6Jt3Merpx7SPTIx7kqSab8/JrZyUkiE3ELTSro16XZ5D3buEQ3zgMCgyLDQvWA+N88wY4Us8SWFgFwwNuHL7gwGOte+mqqmobHiK1TaN7WihxZNg7eg0b+TYY949BGbdg4PLiRBW63OR2BiMJNpfHSH6XR2y8bVqKOwa8h90xBz6OQL5lhD58k/nmMkWfCgw7YNWAe97OdcQY6ufiA0EkkwchwubVNvq1HMD3W5NN7e5o7Nln7bKpzd1qZ1fH3uYGW4NaYu3GuMSs7mvuaero7VFB0WVt77GrHY2qtd2utjS3N5hVW19nl627W+3oUpvbOlubbcA1t9e39jY0t+9S67CuvQPXlWbsRDDt6VC5QJ1Vs62bM2uzddU3YWita25t7rGb1cbmnnbOsxFMrWqntaunub631dqldvZ2dXZ02yC+AWzbm9sbuyDF1mZr76mEVOBU214M1O4ma2urEGXthfZdQr/6jk57V/Ouph61qaO1wQZknQ2aWetabZooGFXfam1uM6sN1jbrLptY1QEuXYJM125fk02gIM+Kn/qe5o52bkZ9R3tPF4ZmWNnVE126r7nbZlatXc3d3CGNXR1gz92JFR2CCda12zQu3NXqvIiAhI97u21zujTYrK3g1c0XxxJXpuKuxSuegPjTyJh40higoywVzxM3Yfxr8SwUme/Wn15c2ntu+bPypPyX8nOoF+SL8lPx99zx99x/gG/j77n/895za789jL/r/tN8161FL/6+O/6+O/6+O/6+e+FpHn/nPf+dd8Q78ffe8ffe8ffe/9+998benHvGdIjrRGT8T+KZ0z3vGdQ97ylTPGcqhco6pUXZpexAuxXUDpx+/F5dO7OGWYj9F5nEGWoFvV98J4zz0L9zTTRrEn8PyBZ8N5wuUk/4knxpqneDZRrdNtGdX7Jq/XHeL0oV/VTyhlprlXyJfKjnUF9BVegg2mM6RqYitLWoHHtKzD8mP0sh1Euo30PlmIvAXATmIjAXgamVp4nJX5e/NrWqCKKfOb9i1fq3rbnyeQqjSvL98gkygveNen9Q70+hX4P+tN7fK5+Y2l6UZk3GmNHbaMOoEmx7ZGpXx/oLAthcI4AzEcyZ88AUWVfIj0CrR6DVI9DqEWj1NloGrmeAPwP8GeDPCPwZYoKVsUxnpQOPTKVl6RgA1hTZLu+l9WDRp/f75L1T64ues/bLvWB9TrSPyT1oT4n2oGg7RHtMzB4TsFfAXgHXCrhWh3lbFdMWiTaNt3KX3I17uCJ5j7xb9J2yjVaj78CY9+1ys+jb5F2ibwU+B30L6DLQ75YbxbhZ5udvkdyEMe93yY1TDUVrrT6MD2JOgjyOb4AODdCpAU7imFOoj6G+LjAH0R5DfUXm3xLnlExuQKlHscpWrLCAhwUzFpJlC0otyk55J2Z2gHYHWotcI2ysAVUNJNXAVzXgXIPw1CA8NZQk16BV5Wpai2pB7UTtR00AHzPWmaGXGRLMcgWtAi+jdJIy0at6XySdoEL0hdKJqcIiizVZeoY6UftRfajHpWemEjLSrJmg47RVqB2oB1GPoT6Keg7VQLXajGWRVCvVyh1Sh6wgu8vO19SsF/2GTVqfX6D1i3PXp1n9chncVEaPospQuQwql8HUyKgIVULqlNBzqK+gvo7KHV4CZ5TAGSUwsATrSwRVoqB7GzWMKiOJSsB/Pk2CWF2EWhXDhWNLgSnFqBRrSkFbCuzraJlYwec7UU+hPqfPrRTJvFIk50rwWgltq9DWCigNbZG8ckpKTpuGf9m2NGst/N6BiknpXnjzXvjtXn6USHwTp4m2SodPAjpJkRWnUM+hJsoXUMpQSlBKUVaiGFFUFERULkQ0T6OcQrkP5V6UkygnEJ3Mc+XPlUsHq73Vx6pPVT9afa76ueqkZyUHSr/Ub0mhrCwckRlLDbnWdEmhA5TK/l20Z0XrF61FtNmW3AOpbx5I/dsDqZ85kPqpA6l9B1LbD6Q2HkitOpA6zQYs2eWpPylPPV2eurc8dVN5anV56oby1LLyVOtSZmf7cJH4pmjrRLtetCtFW8D2TaVS8jfYR8howA5gJc8Y/6zo58ZphU0VfdI4bUB3mzb6iNZt58ivFa01DhWZNUyx1q0y/qUCDtTLnqIkVm4xJ72UdDDJkrQ1qTKpIqk0qSTJlFSUlGnIMKQblhgWG1IMBkOiQTFIBjJkToffsJTzK0hmYjrvEhXeKgJOl3graRcYiRkkPNyHlsktUkt3HWsJXXJSy4Aa+n23aZql7NkfSjDVsVBGC7X01OWENpe3TCeFu0JbyltCyZ0f6Ztk7D47RiHp7mlGPX3TLMxRd+TxPwC9QIyZ77g3T+/tdr6mb1Jh995rp6zDtTm1GTuXbm1suErTr7flc5+c8tgBNCkIPdTS3Rf6SoE9tJ4D4QJ7CzzH/170grRF2mRruCBt5p2970LKcWmLrYvjU4432OfoSAW+4QIZeSfoSOV0pC6gK5Q2c7rVvNPoCgVd4Ty6yR1GW8Ok0Rih2SFodsynGZpPMyRohnQaWaMxxtAkvUFGQWNMeuMDNIXXQbP6qjQx3nTXlV/jwy7QbnZ5sv4W/se2/SabG7U/dOLwcA7/Yzf1AtWzy/rf4Rb3DziHee9wT7PLJndDqN7UoE7uvuWD86Fb+PRuU8Mk3WLr6Zu8xeJumNpt2W0zORrs53c51pydJ+6eiLjJNY6rMHNwZmu4rF1nrzJ9lk/v4rLOcllnuaxdll1Clsh6pKWB6uz1B7T+vLQoBQncn2e012Wl+3aKbN5uzLk176JC7Mu0qNweWmyqC6Wi8qkKa4WVT2GX8akl/G+q9amcW7cb8y6yL+tT6UAvNdVRjs3TgJ9AQAeu8yfAP8EbAzeKXvwEguOoPFD8ATlIsMG6WJzKRTifJXEy8xOZn9pyIGAPkohqYJw4vyBv5thHoXFwZoHYNKDAwg/PjXLSKtgFxhmoOOG4njgBhkmwIa6kzgWHTh+RUqU8QNUsw5J7sMibeCxRXrpoSXlGRsGilflF1SZTQb6cnDgdvnQ+rbCW9xZz2oraxL2SVJCcmZtdvmxZQe7GyrR1ReukdeXV1QWVJRW0Jn2NtKa8uLigomiajVhqciVWvMi0qji3mopXF8L5udIiw8ritHz2dn44X8q3ysWUzDqTH0v+XvIbye8kJyRXFxdXUkV6hVQxzXZaslavXkWsMLlrWVXG2xnvZMgZKzbt9uaUt6f/7oaatiszNTU1HJqpSb/h0JXfoVJtbcbWKoxr0mfEzxWWfoXS373htZoowHHv8g7D8vLIRBS/bi3dwJYaqzdu2rA+a/lS48piDm5YatIA49LMRA5WG+dodAzrle7MXrYs+31HYW5u4aFDvJUDHDPzJVaRsywjJydjWY5UPVv0P/nU7DMYZsu/4QSzr3PMy7MtB8XMb3l7EFG6EH5dyVTO4k7yZ5Y1Oza05nVsuGHDkaw7s+7KvSfv5NbP1KU0q41W6f6izxc9Yf1y3d9n/yL73eykvOnw76eW5WyaDv83y8FyS9mO7bk5aQmZxDYvWb/WJFduTEslBHtFcU3NxqWr6xepycl1vYtOKJUnSjauNtbLilRiMCYvKTb0b159sNBbKBXmNmautqwrNhVbrN6yY2Wnyh4tO1eWULbC9hcXWRHl4MoiYtL25pUr6Vfa039/Q9vMDA9GbW36FV7K02eWbq26sjQjeyuvbGnG1q0C3gp3b9myhd1Ah25guj+XC3+WFBebViYuzyyUsrOys7IEsmS57mpBCOyG9ZuqN4KUF4GUH+TuzF6Wkc0SHr/9xBcqW/sHn7Tus//ihZ98EtgcbebZz33u6422tQ9//8CBV8+GlJ353N+XC3Nz8nruPOVY37WhaGl+QcnEjae/fc9aPvWrIkwd+PTnRuqGCpfnmpqa7rj9m/zWjf+7WdhDJrrPsiYteXF1enpBMjbPJr55JENCNWMFhmUrsjZhU60wZRTm5UrJBsOKaeb9Wnr6UuwHBtCipudX5ffnv5KvpOXX5nfkH8z35Z/KP5f/er4h/9er/wrpDn8e+p1I5zeptqYW+b4gZxdmMFvK/QhfRbM3krZzgHT6x9y0mX/j7Y9nv8y9I5/l3lN2vp+VrWUr0nP2H4tyc4vYkdl7RG9a+Dz8f+Dz6ocX9nmpMF7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7i5U+7EP/XlbVvH2dq30lmuaiJ//GvU+Xr+Z1r6bzRps1/4K9s/59+FJoQrcL9805POIxW5S3/eh1dpwOu61N6jblNtJnLZ6cpgQzXyW8B3Tv0TngeQv+2ufKy+F9Lhq5bz//403eNcoFOxUu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xMsfULTf7ya+dcdk6NzFg2k17xqStV8IP756D/+Xx+hy1T1p4aR/P628Zygn/j8h678P/t+Md++jCmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKPDwvVHlwZS9NZXRhZGF0YQovU3VidHlwZS9YTUwvTGVuZ3RoIDExNzg+PnN0cmVhbQo8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8P2Fkb2JlLXhhcC1maWx0ZXJzIGVzYz0iQ1JMRiI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJyB4OnhtcHRrPSdYTVAgdG9vbGtpdCAyLjkuMS0xMywgZnJhbWV3b3JrIDEuNic+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIycgeG1sbnM6aVg9J2h0dHA6Ly9ucy5hZG9iZS5jb20vaVgvMS4wLyc+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLycgcGRmOlByb2R1Y2VyPSdHUEwgR2hvc3RzY3JpcHQgMTAuMDEuMScvPgo8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPjx4bXA6TW9kaWZ5RGF0ZT4yMDIzLTA2LTI3VDIzOjA0OjAzKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KPHhtcDpDcmVhdGVEYXRlPjIwMjMtMDYtMjdUMjM6MDQ6MDMrMDI6MDA8L3htcDpDcmVhdGVEYXRlPgo8eG1wOkNyZWF0b3JUb29sPlBERjI0IENyZWF0b3I8L3htcDpDcmVhdG9yVG9vbD48L3JkZjpEZXNjcmlwdGlvbj4KPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eGFwTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nIHhhcE1NOkRvY3VtZW50SUQ9J3V1aWQ6YTUyNThiOTYtMTc4OS0xMWVlLTAwMDAtZmFjYTg5YjdiMWQ2Jy8+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLycgZGM6Zm9ybWF0PSdhcHBsaWNhdGlvbi9wZGYnPjxkYzp0aXRsZT48cmRmOkFsdD48cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkPC9yZGY6bGk+PC9yZGY6QWx0PjwvZGM6dGl0bGU+PC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0ndyc/PgplbmRzdHJlYW0KZW5kb2JqCjIgMCBvYmoKPDwvUHJvZHVjZXIoR1BMIEdob3N0c2NyaXB0IDEwLjAxLjEpCi9DcmVhdGlvbkRhdGUoRDoyMDIzMDYyNzIzMDQwMyswMicwMCcpCi9Nb2REYXRlKEQ6MjAyMzA2MjcyMzA0MDMrMDInMDAnKQovQ3JlYXRvcihQREYyNCBDcmVhdG9yKT4+ZW5kb2JqCnhyZWYKMCAxMgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDA0MjYgMDAwMDAgbiAKMDAwMDAxMTExOSAwMDAwMCBuIAowMDAwMDAwMzY3IDAwMDAwIG4gCjAwMDAwMDAyMjAgMDAwMDAgbiAKMDAwMDAwMDAxNSAwMDAwMCBuIAowMDAwMDAwMjAxIDAwMDAwIG4gCjAwMDAwMDA1MjAgMDAwMDAgbiAKMDAwMDAwMDc2OSAwMDAwMCBuIAowMDAwMDAwNDkxIDAwMDAwIG4gCjAwMDAwMDA5NzcgMDAwMDAgbiAKMDAwMDAwOTg2NCAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDEyIC9Sb290IDEgMCBSIC9JbmZvIDIgMCBSCi9JRCBbPEMxNTY1RTJBM0FEODkwMDU3QjdENTk4OUMxMTY0QjdBPjxDMTU2NUUyQTNBRDg5MDA1N0I3RDU5ODlDMTE2NEI3QT5dCj4+CnN0YXJ0eHJlZgoxMTI2OQolJUVPRgo=&quot;;\nFileOutputStream fos = new FileOutputStream(&quot;D:/Temp/test.pdf&quot;);\nfos.write(Base64.getDecoder().decode(pdfB64));\nfos.close();\n</code></pre>\n<p>I directly wrote the decoded bytes to the disk, and test.pdf opens up fine with 'TEST' as text on the one-page PDF.</p>\n<p>Update...</p>\n<pre><code>String pdfB64 = &quot;JVBERi0xL......JUVPRgo=&quot;;\nbyte[] pdfBytes = Base64.getDecoder().decode(pdfB64);\nCharset ch = StandardCharsets.ISO_8859_1;\nString pdfStr = new String(pdfBytes, ch);\nSystem.out.println(pdfStr);  // This still shows corrupt, but that is due to CLI limitation\nFileOutputStream fos = new FileOutputStream(&quot;D:/Temp/test.pdf&quot;);\nfos.write(pdfStr.getBytes(ch));\nfos.close();\n</code></pre>\n<p>Converting the <code>byte</code> array to string and back to the <code>byte</code> array using <code>ISO_8859_1</code> results in the same <code>byte</code> array in this sample case.\nThe file written on the disk is valid and opens up fine.\nThe only thing is both sides have to use the same charset for the conversion. So, the WSO2 side also has to have the option to use this charset to convert the received string to a <code>byte</code> array.</p>\n<p><strong>BEST OPTION</strong> would always be to pass Base64 encoded string and let the other side decode it and get the byte array, which can then be used as PDF content.</p>\n"}],"owner":{"account_id":29193572,"reputation":1,"user_id":22365218,"display_name":"Fiko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691764615,"creation_date":1691738813,"question_id":76881484,"body_markdown":"I have encoded Base64 PDF file:\r\n\r\n    JVBERi0xLjcKJcfsj6IKNSAwIG9iago8PC9MZW5ndGggNiAwIFIvRmlsdGVyIC9GbGF0ZURlY29kZT4+CnN0cmVhbQp4nE2KsQ6DMAxEd3+Fx2TAtUlsw1qJpVvBW9UJqZ0y8P8L0KpS7y1Pd7chkyvyyU/WBoxv2EConPmU/742vAZcZkdhUsN4gXxPaEZeq6BbT+VYGjxSTLmrxGqjpCWPxDaop8gDqRSXhPkZN5gC7gc7KKIc9GVuZHN0cmVhbQplbmRvYmoKNiAwIG9iagoxMTYKZW5kb2JqCjQgMCBvYmoKPDwvVHlwZS9QYWdlL01lZGlhQm94IFswIDAgNTk1LjMyIDg0MS45Ml0KL1JvdGF0ZSAwL1BhcmVudCAzIDAgUgovUmVzb3VyY2VzPDwvUHJvY1NldFsvUERGIC9UZXh0XQovRm9udCA5IDAgUgo+PgovQ29udGVudHMgNSAwIFIKPj4KZW5kb2JqCjMgMCBvYmoKPDwgL1R5cGUgL1BhZ2VzIC9LaWRzIFsKNCAwIFIKXSAvQ291bnQgMQo+PgplbmRvYmoKMSAwIG9iago8PC9UeXBlIC9DYXRhbG9nIC9QYWdlcyAzIDAgUgovTWV0YWRhdGEgMTEgMCBSCj4+CmVuZG9iago5IDAgb2JqCjw8L1I3CjcgMCBSPj4KZW5kb2JqCjcgMCBvYmoKPDwvQmFzZUZvbnQvS09OS1dVK0NvdXJpZXJOZXdQU01UL0ZvbnREZXNjcmlwdG9yIDggMCBSL1R5cGUvRm9udAovRmlyc3RDaGFyIDMyL0xhc3RDaGFyIDg0L1dpZHRoc1sKNjAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAKMCAwIDAgMCAwIDYwMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDYwMCA2MDBdCi9TdWJ0eXBlL1RydWVUeXBlPj4KZW5kb2JqCjggMCBvYmoKPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9LT05LV1UrQ291cmllck5ld1BTTVQvRm9udEJCb3hbMCAtMTYgNTI5IDU4NF0vRmxhZ3MgNjU1NDAKL0FzY2VudCA1ODQKL0NhcEhlaWdodCA1ODQKL0Rlc2NlbnQgLTE2Ci9JdGFsaWNBbmdsZSAwCi9TdGVtViA3OQovTWlzc2luZ1dpZHRoIDYwMAovRm9udEZpbGUyIDEwIDAgUj4+CmVuZG9iagoxMCAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUKL0xlbmd0aDEgMzUzMjAvTGVuZ3RoIDg4MDM+PnN0cmVhbQp4nO19C1xbx5nvN+ccQGBjMMaAeR5ZNg8jwC/8xEYChME8zcNGrhMjJAFKAMmSsOu0jb1pntiJnWSbpnW2yW3a3qaJY4HTFjvdxtmku5tt07RN1t0+9ibbmz6zbrJ7m+69m4Duf+YcCUEcr9vf3Xtvfz9pmJlvvvnme8+cB8ImRkRL6DjJ1N/RXbWexOfm02j2OkcdPm3s+Wci9gXn4aD6lSXuTCAwTjo56BsaPfB5xxIiw0eJEv9uaOTooEbf1ESk1Ay7Ha43j6Y+TXTPJSA3DQOR8jR7kSitAeNVw6PBj+ryfkVUcHnE63Ro49bbMR4edXzUtyx7URD0w0Cqo+6gQ34sATRpd2PcP+YYdW+7vesQxlhfcYvPGwjOFlMv0Q4Xp/f53b5zl7IPYAx+KS8ov4RWD1Ae+kJ5gAqJwq/r9Wezt2IO87Mz4bD0Q6zu0av26UH5lGh7WJvWk4teo1G6nz4N3Ab2XXqCLJQG/GskM2J9VEMP0hH6e+oN/wuwRnqc3iYzbaXh8CwtpWM0yz5BjzOJJKzaQq+Sm05LNXK58hYxWsPWyk+y26gCXHroIcqmV8BxTTgF4/NSgVSDVT30bfmgwRxeG/5Xdkl5KTxAn2c10mXlafoOXWErFZr9ZPhE+Ez4EcT3d3LBzAvhdeFRrOqlfhqnj0OD4/Q5epnZpR3Sc+F7oFMfdDhGX6dvs3KFlH7KoC5Q304P0wX6Jr1C/0A/Z4ylsVJ2nL3KXkugmRdnXww3hwfCXrJRO3XSccwWsNXMKu2X98tn5R/O/PfZN8KF4N1Dh+mj9DE6RafpSfoh/Yh+wmQpReqReuWzlEc7aD8NwJsPQqcn6CV6nRnYRraNWdid7CnpsCLPvIgcVWg5PNgkvH8/nYFPv0jn6EX6Hn0fPP8FPpXZClbOetkB9gl2B7uP/Tn7InuKPc3ekhKkf5Bl+c+Uv1bemr0cTgl/NvwE5OZRPqlUhshsoVbE82X6Dexbw8yslv1AKpfMMlMWz8zObgjvCh8Lfyv8QzJRCWh3UANsbqN90PoofZKepb/G2pfpu/QL+jd4SWYpLAO+UJmJdbFuNg4tzrK32YyUhfhtkUakKek1uVx+WdmnPD3zzOzy2anZt2fD4SfDofAL4e+I+G6CnHpE4AbyUUBE7KuQ8y16k35N70JGIiuCrk2sBfY+DP6vs/eRTgbpVukpKSzvkE/LLykrlIdn22dHZx+ePR/eGG5DbsmUQCtoI8o2ZFMv2cH7NnjzcfoKInMe2XOZfstyWCFby5rZXtbH+tkw8zIfO8Q+xj4Orz7BnmHPssvsJ+y3kiIlSsvhp3LJKd0mPSg9I70oXZbelEnulvvkQ/LH5AflZ+Tvyb9S0hWzslZpU/qVo8otCZQgJ2YZvvN+9vujMwMzn515YbZytmH25tkTs8/PXp79WXhR+LnwzymR1kJHOw1Bx0/A/jvpPnoU+fEV6PhP9Et6CzH/V/hCZsksFxoXibjVQ+82aL6P2dkgyjC7Cf4/zp5kU+wb7BJ7nr3Evs1+wH7K3pYYtK9E2Y5d0CsNwobPSk9KIelHKO9K/0suls3yenmDvFPuhzV3yXfDnk/LP5V/rkjKcmWd0q0cU/4mQU5wJTyUcCbhxYS/TfhNYnriR/QzYu4EwUf+jvS8slMeoceoU5Ll30g/kGrYJ6T32H+VCtjzkFYgd8qdUr20nST2LLJ8lDKTziQaE41SJqUn9XMe0mekCnmfUiwvpiD2G0n7pTulfvoS+wa9JzUh0w7LL0uPSQflM8oDyk72QzoGmSSlst+TlaxsJ2L3Kh1ChCrkc8p3OccEg/x+wqiUGr5L+WWCJP8A5+AOJsl/x/azK6xTyoK3tkv3kQnjdHYFfTN24I+Q+RfYPtqivCGflHZLPwFuhB5kz8PGZ2lEepZ9HnHZgv3oZ53sEXkd3coOwRtb6Sbpz2ml5JNWIp976X+w29hy7Nz3EJtV0iApcqrkpNckO6L+PZYhVbJbkaejdIJNkJnNsEv0Hel+2sTc8jffXzFTKrH3r7BJuYkm2XvKS8pLkgJOz8Oba3F6WJAhj+OM6MXONMrFyJotlCCZkf834ARspaXSu+zj0gh52MPyr9kXJSt1kFsOSI3sodl3Fau8AR67iNOkPnGrgRJqEgqUjYj4L2knsnEI17th5fWE2zgsvyr/LmwPG2cPJiyZ/SndAu804XQ7gb3URD9mWexGtkcJSy1KOLyXnpTOKT8NZ7PFzEjfD2OHzX6V1bBVYZUdCi9ie5DhNyY+MfMZ5YRyhzKufBzXpvdwat5JD9Bn6a9wNfkCrlsl8GMrvHkAZ48H14i1tJ6qYd1OqsOp1Iy5TtqL87Qfp+QgjdEhnLx/QU/RJK5QLfDHjVg3SDcBH8AV6mN0K/b/XXQSZ8BD9CX6vvQV6VHZKN0tfUs6LHnox/Rj+W9kC9tLryn3KMeom1bRHrYMkjcjSkVYdzL8KqSVUR5O/43Ypcj78Fvhy+Evz7wCfl+C7g8k1tFbifVUSh3s90ouS7DU9/X2WGp37qjZvm3rls3VGzesX7e2qrLCXL6mrLSkePUq00qjWlRYkJ+XuyInO2t55rKMpelpS1IXL0pJNiQlJiiyxMhsMzX2q6Hi/pBSbGpqquBjkwMIRwyiP6QC1TifJqT2CzJ1PqUFlIMLKC0apSVKydLVGqqpMKs2kxp6ucGkTrP9e/oA39tgsquhKwJuE/BpAacCNhqxQLXlDDeoIdav2kKNh4cnbP0NYDe5KKXeVO9OqTDTZMoigIsAhbJNvkmWvZMJQMq2bZuUyJAKpUK5pgZbaIWpgWsQklfbHK5Q554+W0Oe0WivMIdYvdM0ECJTXSitXJBQvRATSqwPJQkxqodbQyfUSfOliZPT6TTQX77YZXI5DvSFZIedy1haDrkNoexb3syZG4J5Rn3fXbGzefKELcej8uHExF1q6LE9fbGzRt7a7eCBtdLqxv6JRog+CSe2dKuQJt1h7wuxOyBS5ZZwqzT73CYbx/TfpIaSTXWm4Ymb+hGa3IkQdR01TuXmWi6E36BcmzrR02cyhmrzTHZHQ/5kJk10HT2/wqKumD9TYZ5MX6o5dnJJmg4sTo0F3NE5AQlyDrV0RT3LuEamZiRESHWq0KTPBJu28Ma9hSacW0CGj51hVciFiHhCyfX9E+nbOJ6vDyWsTjepE+8SMsB05Z/nYxw6JnF1+rvEQZ4n0VTDfAQOlZeH1qzhKZJUj5hCx51iXF1hPjwteUy+dBUd3Eed8K3Dvq0K7jcaeYBPTFtoAIPQ8T192lilgbwpslSV20NSP5+5FJlZ3stnjkdmosv7TcjkZ4g/NiwPGYqjP2npWctsw9tCLOsa025tvqXb1LJnf59qm+jXfdvSM2+kzW+JzulQaFl9n5wn6ZCUJ4tZJOWBKDEf9C0OKavxkyiS2jWdZEBWCgxTG0Pp/U1aa08xGq9z0XT4Hb5KdHPLdDVD28rnj7fPG89Tb/GEDIWVYqmlZ//ERMq8uUacQBMTjSa1caJ/wjEdPj5gUtNNExdwC1I84bP1RyI6Hb54Ii/UeNIOI4bZNmSrRHWTJnb3nkkLu7t7f9+FdDz83N3TN4Wbm/r+OvvkKsz1XVCJLAIrcSxH8oHKB9TCkOhTuHXk9HkXLETHxawiEGLsnGYkcIYIjpFzWtJw6ZqgYiHIgptX57SizVgi1ApwBg13XKMu1akNmEnnMxdx34NbGj6pffipUd/TF5sPYpOJAwMzIWYKfcz0UeMkFoX8pqMCmAipOFtAFXLm2ycmVBQT+Dv39mkt3B9iH+Gt+BEMJzeRKR+87fyQDx0fAIOJAxP7TUacIQXgoqGMfLgk3y44IA4P52MzINOhNL9m487p5XBSeL/ynsj/2A/jmCXn8cSVLsYS+irc15L8m5QXojTap5TPu0bGhnQ4K6DBO1FXWv2jY2a1/qh/xKzu8rtvNqutjuCY1e8YMKsfnGtyD/g1CqzdJn2T34QK8bnaDamQmiVGstBqiXS3DstkkR7SYSWGJoFypMs6nEj50m91OInGojQGWivn6HAy5SeU6nDqksSEhoidLHXZbh1mtChznw5LlJR5nw7LpGZ+SoeVGJoEWpz5VR1OpCWZz+twEm2O0hgoZ9keHU4GzSs6nJokZ/4jODNFhqzFeW8IOIFHJO8dASdyfD4JOInj8xcL2CDgfAEnQ9FCOUWHNR9qsOZDDdZ8qMFKDI3mQw3WfKjBmg81WPOhBms+1ODUJTn5ZgGnxOi/iOu2pkHAi2PwSzi8pkfA6Vy3NS4BLwOcscYv4MwY+uXCDxqcFYNfIdbeLuA8IUvjWRBDUxQDrxL0Dwh4jYAfE3CFgJ/msCFGf0OMrMUx+MURW57AM/p63Oeuwz2nivvLYXKjbyMv7m69eBI6iidkjqnHyA+Ytw7gPYKiEjNWPJ+MoO8Cbgjrg7j35SM3ejeoD6N1CcpUlCaMBoB14/5YxXMB5z4GuRE5reB+FLzHwUcFXy94esgJ2AnYhzl/VI4a1X4tbQBUHB1tJrPQwQEOPtCqkOuAHM7DSTfrtLsxGgaWz45Dx0DUJu4Hj7Bj5EP1GRS+UPFk4IFFIwLrEJ6Yb6PGx6tbqgop45h1Cnv5aBC8j2CtX2DGQeUSnlOBj8SjGTpx73jEujHh2+1ivVtQuPEsNyA87RKtqmsUoVUFPgAM958vGsE5O/h8EFp4sDIAL9Trenp0Xdrn2eMQ2vFccAnZXPubhZ2Df1Qe8XwZgrwRwWnhum0fqk0paD3CKm/Ul2V4RuNUgaiNmyBhK3JjPheNRyeeu/ibx/+7OyFF1Phu+FPZDU3Aa1pxbi1iNog5t8jWhRnINRkHX5+Qq2kwKCQEhUftwmpV7JujwkpNq2DU0xFqjvOKeHN/8Hxzi2i6BJ1Pj4hZ7MgxIccnbNLWOnUubn3sELx9QutRUAXFHF81IPSIeHiht4L6Ci12/g9gBqM2mKPjuWh90Ds+MXZhjRNjsx45vkM0ueaonIUWeESUjgg/OUUuX81nR3RLPSLLR0Q+R/beQt/zNSMCKgV92bzsuTp3TYc/1rexuck5DQHnF9kYFJFzRrPxahZEpH9Qr+0xOcAt0WwJCnmR08ov8vmoyB+ez2NiDzs+1FIt9xzzskrbi1691azSYH4q+PSzgWsbiWaED6fkJ9C1clQ7R8f0yMxxj+wQj+5lvzitPOI9XVCPLb+/iJzb3IYRYd2RqJfnZ7VZRMYhYJeeBx88YxbuhFJx1nI7t+E5o0rMVAoZN4uTxC2i6gCOe2gIFJG5Kp3nwQXnVpm+e+dOi0DUYxFt/pArw3WexGr+Ah6tER5qQTSbbwJOi1Mka9ziKjain+Bz2X2tq0skKz/8CsMj1xndOYGYK7cWby0L3LqsIZHLY3rczcJmv37ya2cPPxkcwv9anCN5rOWVT7870CR4wVU76ceimeKguSvswvPsPyEWUQ85hO3cbx79rHfpe9UJ7qP6Hpm76+ASPOIqFBC5qev44bEF3D3/Gotol8X4yCWuMiPzzpkP2ngNfuL09Yh1Eeqrn27mBadbxPcLV3OvaedprN0Rvebuf+Z2zdyVKBJDszjvvULKYHTsjskQfm5pEQqA29wVVtN6QOji1q9U49FYxp4lWgyr9IgHxC4ZieoQ2dfzc+n6vRp7hdesjL3SzM/pOU8cEX4c/SPjGLka8PuzMd0z7hgNXKLlMuf8chMonDHXjuA1zmPt5HcJCyJXvG3zTnEHOHrFiXP1O17tzjxylZnzT+RKNuej2DNl/qqAOCu0WA3odl/9muv4kIj6o9YHRJaOCe7aLtKuvLFX9D82AyLXtyayidkOasRoH66WXQLTDJyKU7QLM3sx4r9FbwCmBBTd+nyJiNQ+cR1qAl2vuMZpPLrQtmNsF2dcI6lizEctoG8HL77WRn1Chg3cugVll+DdBmwreptOx1fUA9Mrfm/WTrvEKajJa8cq7f69Wb8mapr2AK9GLZyvVbOQGNGsDaMu8G/SZ63g3Sz4cf25/EYBt0f1bNQ1tQofcc6cJ/8OQKsYcWwv+k7QdQv5VmGzpm27sKER85otNqEBl1yp26rRcf/s1Wd4jLh+rShzVlmFD5qENnP+q0ffCc05/13iWxiqoGkVUdQo68R6biO3tlWM5qzSIlUvrOFe5T5oANyGuivquy7Rarp0xXCb77t9Yn6OSrPPqrf1wnMdYqRFo16MekSs+KxZj2WXsGOh1H0iE22Cyios7o5mSKPIXk37SHZqMjpiNNHk8djG6hLJavUae0TjEpnv1SP9Qb9wr1uFT7he3VHJH8YZe/MJdf3adZvVnmG32uYd8waP+txqvdfv8/odQY93rFK1joyoXZ6h4WBA7XIH3P7DblelmprK3yS7j6gdPvdYD1/T6jjqHQ+qI94hj1N1en1H/XyNytmv3aAW826zWe1yjPiG1SbHmNPrvBnY3d7hMbVp3BXgknqGPQF1JJbPoNev1nkGRjxOx4iqSwSNF0LVgHfc73SjGwwecfjd6viYy+1Xg9yO5h611eN0jwXc29WA2626RwfcLpfbpY5oWNXlDjj9Hh83UMhwuYMOz0igsh48PeDSrslxqEG/w+UedfhvVr2DH+6jLvfQ+IjDH5nbFsumtM3j9Hu5lmV73f4Al7ipcut6nQQUnd1tPU1emOBSW9zB4IjbH12hBsZ9vhEPFB/0jgUrVbt3XB11HFXHYUKQO4uj1aBXdfrdjqDbrLo8AR8caFYdYy7V5/dg1gkSN3pHQPW5/aOeYBDsBo4KR0XcEcQEvOqPAINcgpn3wp1RdXx+r2vcGTSrPA2w1szXRAR4xtQjwx7ncIxmRyDUM+YcGXfxnIlo7x0bOaqWesq0sMSQg8O1tNWi6BkbUv3uQNDvcXLfzwngy6O8tgsPlHogJege5YHyeyDV5T0yNuJ1uOZ7z6G5CgGDOV6IQjse9CELXW5uJqcZdo/45nsUO2PsqE7OAwKG8M+wZ8ADnStTU3m2DHpHRrxHuMq6q83qgCMAXb1j0UyNBKF0OBj0bauqco9VHvHc7PG5XR5Hpdc/VMVHVaA8qOd0GcIr0iLAFeNsrr4Jr7Z5fqBTtHKKV7mbb/LCJu4a92H3CDaWcPf8bcpdOW+jpqZ28uAERDbDbrjAjVVDfgc84zKrg35sOmSPc9jhH4LN3MfwFSKK5ap3AJttjDvFIQ6KSJ5dvxVcIUcg4HV6HDw/XF7n+Cgi4tD2s2cEninlHOdZq3brJ8WrZUIjlxsMPVocrkqnHvEEhzk6Jt3Merpx7SPTIx7kqSab8/JrZyUkiE3ELTSro16XZ5D3buEQ3zgMCgyLDQvWA+N88wY4Us8SWFgFwwNuHL7gwGOte+mqqmobHiK1TaN7WihxZNg7eg0b+TYY949BGbdg4PLiRBW63OR2BiMJNpfHSH6XR2y8bVqKOwa8h90xBz6OQL5lhD58k/nmMkWfCgw7YNWAe97OdcQY6ufiA0EkkwchwubVNvq1HMD3W5NN7e5o7Nln7bKpzd1qZ1fH3uYGW4NaYu3GuMSs7mvuaero7VFB0WVt77GrHY2qtd2utjS3N5hVW19nl627W+3oUpvbOlubbcA1t9e39jY0t+9S67CuvQPXlWbsRDDt6VC5QJ1Vs62bM2uzddU3YWita25t7rGb1cbmnnbOsxFMrWqntaunub631dqldvZ2dXZ02yC+AWzbm9sbuyDF1mZr76mEVOBU214M1O4ma2urEGXthfZdQr/6jk57V/Ouph61qaO1wQZknQ2aWetabZooGFXfam1uM6sN1jbrLptY1QEuXYJM125fk02gIM+Kn/qe5o52bkZ9R3tPF4ZmWNnVE126r7nbZlatXc3d3CGNXR1gz92JFR2CCda12zQu3NXqvIiAhI97u21zujTYrK3g1c0XxxJXpuKuxSuegPjTyJh40higoywVzxM3Yfxr8SwUme/Wn15c2ntu+bPypPyX8nOoF+SL8lPx99zx99x/gG/j77n/895za789jL/r/tN8161FL/6+O/6+O/6+O/6+e+FpHn/nPf+dd8Q78ffe8ffe8ffe/9+998benHvGdIjrRGT8T+KZ0z3vGdQ97ylTPGcqhco6pUXZpexAuxXUDpx+/F5dO7OGWYj9F5nEGWoFvV98J4zz0L9zTTRrEn8PyBZ8N5wuUk/4knxpqneDZRrdNtGdX7Jq/XHeL0oV/VTyhlprlXyJfKjnUF9BVegg2mM6RqYitLWoHHtKzD8mP0sh1Euo30PlmIvAXATmIjAXgamVp4nJX5e/NrWqCKKfOb9i1fq3rbnyeQqjSvL98gkygveNen9Q70+hX4P+tN7fK5+Y2l6UZk3GmNHbaMOoEmx7ZGpXx/oLAthcI4AzEcyZ88AUWVfIj0CrR6DVI9DqEWj1NloGrmeAPwP8GeDPCPwZYoKVsUxnpQOPTKVl6RgA1hTZLu+l9WDRp/f75L1T64ues/bLvWB9TrSPyT1oT4n2oGg7RHtMzB4TsFfAXgHXCrhWh3lbFdMWiTaNt3KX3I17uCJ5j7xb9J2yjVaj78CY9+1ys+jb5F2ibwU+B30L6DLQ75YbxbhZ5udvkdyEMe93yY1TDUVrrT6MD2JOgjyOb4AODdCpAU7imFOoj6G+LjAH0R5DfUXm3xLnlExuQKlHscpWrLCAhwUzFpJlC0otyk55J2Z2gHYHWotcI2ysAVUNJNXAVzXgXIPw1CA8NZQk16BV5Wpai2pB7UTtR00AHzPWmaGXGRLMcgWtAi+jdJIy0at6XySdoEL0hdKJqcIiizVZeoY6UftRfajHpWemEjLSrJmg47RVqB2oB1GPoT6Keg7VQLXajGWRVCvVyh1Sh6wgu8vO19SsF/2GTVqfX6D1i3PXp1n9chncVEaPospQuQwql8HUyKgIVULqlNBzqK+gvo7KHV4CZ5TAGSUwsATrSwRVoqB7GzWMKiOJSsB/Pk2CWF2EWhXDhWNLgSnFqBRrSkFbCuzraJlYwec7UU+hPqfPrRTJvFIk50rwWgltq9DWCigNbZG8ckpKTpuGf9m2NGst/N6BiknpXnjzXvjtXn6USHwTp4m2SodPAjpJkRWnUM+hJsoXUMpQSlBKUVaiGFFUFERULkQ0T6OcQrkP5V6UkygnEJ3Mc+XPlUsHq73Vx6pPVT9afa76ueqkZyUHSr/Ub0mhrCwckRlLDbnWdEmhA5TK/l20Z0XrF61FtNmW3AOpbx5I/dsDqZ85kPqpA6l9B1LbD6Q2HkitOpA6zQYs2eWpPylPPV2eurc8dVN5anV56oby1LLyVOtSZmf7cJH4pmjrRLtetCtFW8D2TaVS8jfYR8howA5gJc8Y/6zo58ZphU0VfdI4bUB3mzb6iNZt58ivFa01DhWZNUyx1q0y/qUCDtTLnqIkVm4xJ72UdDDJkrQ1qTKpIqk0qSTJlFSUlGnIMKQblhgWG1IMBkOiQTFIBjJkToffsJTzK0hmYjrvEhXeKgJOl3graRcYiRkkPNyHlsktUkt3HWsJXXJSy4Aa+n23aZql7NkfSjDVsVBGC7X01OWENpe3TCeFu0JbyltCyZ0f6Ztk7D47RiHp7mlGPX3TLMxRd+TxPwC9QIyZ77g3T+/tdr6mb1Jh995rp6zDtTm1GTuXbm1suErTr7flc5+c8tgBNCkIPdTS3Rf6SoE9tJ4D4QJ7CzzH/170grRF2mRruCBt5p2970LKcWmLrYvjU4432OfoSAW+4QIZeSfoSOV0pC6gK5Q2c7rVvNPoCgVd4Ty6yR1GW8Ok0Rih2SFodsynGZpPMyRohnQaWaMxxtAkvUFGQWNMeuMDNIXXQbP6qjQx3nTXlV/jwy7QbnZ5sv4W/se2/SabG7U/dOLwcA7/Yzf1AtWzy/rf4Rb3DziHee9wT7PLJndDqN7UoE7uvuWD86Fb+PRuU8Mk3WLr6Zu8xeJumNpt2W0zORrs53c51pydJ+6eiLjJNY6rMHNwZmu4rF1nrzJ9lk/v4rLOcllnuaxdll1Clsh6pKWB6uz1B7T+vLQoBQncn2e012Wl+3aKbN5uzLk176JC7Mu0qNweWmyqC6Wi8qkKa4WVT2GX8akl/G+q9amcW7cb8y6yL+tT6UAvNdVRjs3TgJ9AQAeu8yfAP8EbAzeKXvwEguOoPFD8ATlIsMG6WJzKRTifJXEy8xOZn9pyIGAPkohqYJw4vyBv5thHoXFwZoHYNKDAwg/PjXLSKtgFxhmoOOG4njgBhkmwIa6kzgWHTh+RUqU8QNUsw5J7sMibeCxRXrpoSXlGRsGilflF1SZTQb6cnDgdvnQ+rbCW9xZz2oraxL2SVJCcmZtdvmxZQe7GyrR1ReukdeXV1QWVJRW0Jn2NtKa8uLigomiajVhqciVWvMi0qji3mopXF8L5udIiw8ritHz2dn44X8q3ysWUzDqTH0v+XvIbye8kJyRXFxdXUkV6hVQxzXZaslavXkWsMLlrWVXG2xnvZMgZKzbt9uaUt6f/7oaatiszNTU1HJqpSb/h0JXfoVJtbcbWKoxr0mfEzxWWfoXS373htZoowHHv8g7D8vLIRBS/bi3dwJYaqzdu2rA+a/lS48piDm5YatIA49LMRA5WG+dodAzrle7MXrYs+31HYW5u4aFDvJUDHDPzJVaRsywjJydjWY5UPVv0P/nU7DMYZsu/4QSzr3PMy7MtB8XMb3l7EFG6EH5dyVTO4k7yZ5Y1Oza05nVsuGHDkaw7s+7KvSfv5NbP1KU0q41W6f6izxc9Yf1y3d9n/yL73eykvOnw76eW5WyaDv83y8FyS9mO7bk5aQmZxDYvWb/WJFduTEslBHtFcU3NxqWr6xepycl1vYtOKJUnSjauNtbLilRiMCYvKTb0b159sNBbKBXmNmautqwrNhVbrN6yY2Wnyh4tO1eWULbC9hcXWRHl4MoiYtL25pUr6Vfa039/Q9vMDA9GbW36FV7K02eWbq26sjQjeyuvbGnG1q0C3gp3b9myhd1Ah25guj+XC3+WFBebViYuzyyUsrOys7IEsmS57mpBCOyG9ZuqN4KUF4GUH+TuzF6Wkc0SHr/9xBcqW/sHn7Tus//ihZ98EtgcbebZz33u6422tQ9//8CBV8+GlJ353N+XC3Nz8nruPOVY37WhaGl+QcnEjae/fc9aPvWrIkwd+PTnRuqGCpfnmpqa7rj9m/zWjf+7WdhDJrrPsiYteXF1enpBMjbPJr55JENCNWMFhmUrsjZhU60wZRTm5UrJBsOKaeb9Wnr6UuwHBtCipudX5ffnv5KvpOXX5nfkH8z35Z/KP5f/er4h/9er/wrpDn8e+p1I5zeptqYW+b4gZxdmMFvK/QhfRbM3krZzgHT6x9y0mX/j7Y9nv8y9I5/l3lN2vp+VrWUr0nP2H4tyc4vYkdl7RG9a+Dz8f+Dz6ocX9nmpMF7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7i5U+7EP/XlbVvH2dq30lmuaiJ//GvU+Xr+Z1r6bzRps1/4K9s/59+FJoQrcL9805POIxW5S3/eh1dpwOu61N6jblNtJnLZ6cpgQzXyW8B3Tv0TngeQv+2ufKy+F9Lhq5bz//403eNcoFOxUu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xMsfULTf7ya+dcdk6NzFg2k17xqStV8IP756D/+Xx+hy1T1p4aR/P628Zygn/j8h678P/t+Md++jCmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKPDwvVHlwZS9NZXRhZGF0YQovU3VidHlwZS9YTUwvTGVuZ3RoIDExNzg+PnN0cmVhbQo8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8P2Fkb2JlLXhhcC1maWx0ZXJzIGVzYz0iQ1JMRiI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJyB4OnhtcHRrPSdYTVAgdG9vbGtpdCAyLjkuMS0xMywgZnJhbWV3b3JrIDEuNic+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIycgeG1sbnM6aVg9J2h0dHA6Ly9ucy5hZG9iZS5jb20vaVgvMS4wLyc+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLycgcGRmOlByb2R1Y2VyPSdHUEwgR2hvc3RzY3JpcHQgMTAuMDEuMScvPgo8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPjx4bXA6TW9kaWZ5RGF0ZT4yMDIzLTA2LTI3VDIzOjA0OjAzKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KPHhtcDpDcmVhdGVEYXRlPjIwMjMtMDYtMjdUMjM6MDQ6MDMrMDI6MDA8L3htcDpDcmVhdGVEYXRlPgo8eG1wOkNyZWF0b3JUb29sPlBERjI0IENyZWF0b3I8L3htcDpDcmVhdG9yVG9vbD48L3JkZjpEZXNjcmlwdGlvbj4KPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eGFwTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nIHhhcE1NOkRvY3VtZW50SUQ9J3V1aWQ6YTUyNThiOTYtMTc4OS0xMWVlLTAwMDAtZmFjYTg5YjdiMWQ2Jy8+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLycgZGM6Zm9ybWF0PSdhcHBsaWNhdGlvbi9wZGYnPjxkYzp0aXRsZT48cmRmOkFsdD48cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkPC9yZGY6bGk+PC9yZGY6QWx0PjwvZGM6dGl0bGU+PC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0ndyc/PgplbmRzdHJlYW0KZW5kb2JqCjIgMCBvYmoKPDwvUHJvZHVjZXIoR1BMIEdob3N0c2NyaXB0IDEwLjAxLjEpCi9DcmVhdGlvbkRhdGUoRDoyMDIzMDYyNzIzMDQwMyswMicwMCcpCi9Nb2REYXRlKEQ6MjAyMzA2MjcyMzA0MDMrMDInMDAnKQovQ3JlYXRvcihQREYyNCBDcmVhdG9yKT4+ZW5kb2JqCnhyZWYKMCAxMgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDA0MjYgMDAwMDAgbiAKMDAwMDAxMTExOSAwMDAwMCBuIAowMDAwMDAwMzY3IDAwMDAwIG4gCjAwMDAwMDAyMjAgMDAwMDAgbiAKMDAwMDAwMDAxNSAwMDAwMCBuIAowMDAwMDAwMjAxIDAwMDAwIG4gCjAwMDAwMDA1MjAgMDAwMDAgbiAKMDAwMDAwMDc2OSAwMDAwMCBuIAowMDAwMDAwNDkxIDAwMDAwIG4gCjAwMDAwMDA5NzcgMDAwMDAgbiAKMDAwMDAwOTg2NCAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDEyIC9Sb290IDEgMCBSIC9JbmZvIDIgMCBSCi9JRCBbPEMxNTY1RTJBM0FEODkwMDU3QjdENTk4OUMxMTY0QjdBPjxDMTU2NUUyQTNBRDg5MDA1N0I3RDU5ODlDMTE2NEI3QT5dCj4+CnN0YXJ0eHJlZgoxMTI2OQolJUVPRgo=\r\n\r\nI am trying to decode this into String like this:\r\n`new String(Base64.getDecoder().decode(encoded.getBytes()))`\r\n\r\nBut after this the decoded pdf structure is different than the original which cause, that result is just a blank white paper nad it&#39;s size is bigger than original.\r\n\r\n**Fragment of Original**:\r\n\r\n```\r\n%PDF-1.7\r\n%&#199;ěŹ˘\r\n5 0 obj\r\n&lt;&lt;/Length 6 0 R/Filter /FlateDecode&gt;&gt;\r\nstream\r\nxśMŠ&#177;ƒ0Dw…&#199;dŔ&#181;IlĂZ‰Ą[&#193;[Ő\t&#169;ť2đ˙ĐŞRď-Ow&#183;!“+ň&#201;O&#214;ŚoŘ@&#168;śů”˙ľ6Ľ\\fGaRĂx|OhF^&#171;&#160;[OĺX&lt;RLą&#171;&#196;jŁ&#164;%Ź&#196;6&#168;&#167;Č&#169;—„ů7˜&#238;;(˘&#244;endstream\r\nendobj\r\n```\r\n\r\n**Fragment of Decoded**:\r\n\r\n```\r\n%PDF-1.7\r\n%�쏢\r\n5 0 obj\r\n&lt;&lt;/Length 6 0 R/Filter /FlateDecode&gt;&gt;\r\nstream\r\nx�M���0Dw��d��Il�Z��[�[�\t��2��ЪR�-Ow�!�+��O��o�@������6�\\fGaR�x�|OhF^��[O�X&lt;RL���j��%��6�������7��;(��endstream\r\nendobj\r\n```\r\n\r\nI don&#39;t understand what is going on. I would be very grateful for tips.","title":"Inappropriate decoding Base64 PDF to String in Java","body":"<p>I have encoded Base64 PDF file:</p>\n<pre><code>JVBERi0xLjcKJcfsj6IKNSAwIG9iago8PC9MZW5ndGggNiAwIFIvRmlsdGVyIC9GbGF0ZURlY29kZT4+CnN0cmVhbQp4nE2KsQ6DMAxEd3+Fx2TAtUlsw1qJpVvBW9UJqZ0y8P8L0KpS7y1Pd7chkyvyyU/WBoxv2EConPmU/742vAZcZkdhUsN4gXxPaEZeq6BbT+VYGjxSTLmrxGqjpCWPxDaop8gDqRSXhPkZN5gC7gc7KKIc9GVuZHN0cmVhbQplbmRvYmoKNiAwIG9iagoxMTYKZW5kb2JqCjQgMCBvYmoKPDwvVHlwZS9QYWdlL01lZGlhQm94IFswIDAgNTk1LjMyIDg0MS45Ml0KL1JvdGF0ZSAwL1BhcmVudCAzIDAgUgovUmVzb3VyY2VzPDwvUHJvY1NldFsvUERGIC9UZXh0XQovRm9udCA5IDAgUgo+PgovQ29udGVudHMgNSAwIFIKPj4KZW5kb2JqCjMgMCBvYmoKPDwgL1R5cGUgL1BhZ2VzIC9LaWRzIFsKNCAwIFIKXSAvQ291bnQgMQo+PgplbmRvYmoKMSAwIG9iago8PC9UeXBlIC9DYXRhbG9nIC9QYWdlcyAzIDAgUgovTWV0YWRhdGEgMTEgMCBSCj4+CmVuZG9iago5IDAgb2JqCjw8L1I3CjcgMCBSPj4KZW5kb2JqCjcgMCBvYmoKPDwvQmFzZUZvbnQvS09OS1dVK0NvdXJpZXJOZXdQU01UL0ZvbnREZXNjcmlwdG9yIDggMCBSL1R5cGUvRm9udAovRmlyc3RDaGFyIDMyL0xhc3RDaGFyIDg0L1dpZHRoc1sKNjAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAKMCAwIDAgMCAwIDYwMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDYwMCA2MDBdCi9TdWJ0eXBlL1RydWVUeXBlPj4KZW5kb2JqCjggMCBvYmoKPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9LT05LV1UrQ291cmllck5ld1BTTVQvRm9udEJCb3hbMCAtMTYgNTI5IDU4NF0vRmxhZ3MgNjU1NDAKL0FzY2VudCA1ODQKL0NhcEhlaWdodCA1ODQKL0Rlc2NlbnQgLTE2Ci9JdGFsaWNBbmdsZSAwCi9TdGVtViA3OQovTWlzc2luZ1dpZHRoIDYwMAovRm9udEZpbGUyIDEwIDAgUj4+CmVuZG9iagoxMCAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUKL0xlbmd0aDEgMzUzMjAvTGVuZ3RoIDg4MDM+PnN0cmVhbQp4nO19C1xbx5nvN+ccQGBjMMaAeR5ZNg8jwC/8xEYChME8zcNGrhMjJAFKAMmSsOu0jb1pntiJnWSbpnW2yW3a3qaJY4HTFjvdxtmku5tt07RN1t0+9ibbmz6zbrJ7m+69m4Duf+YcCUEcr9vf3Xtvfz9pmJlvvvnme8+cB8ImRkRL6DjJ1N/RXbWexOfm02j2OkcdPm3s+Wci9gXn4aD6lSXuTCAwTjo56BsaPfB5xxIiw0eJEv9uaOTooEbf1ESk1Ay7Ha43j6Y+TXTPJSA3DQOR8jR7kSitAeNVw6PBj+ryfkVUcHnE63Ro49bbMR4edXzUtyx7URD0w0Cqo+6gQ34sATRpd2PcP+YYdW+7vesQxlhfcYvPGwjOFlMv0Q4Xp/f53b5zl7IPYAx+KS8ov4RWD1Ae+kJ5gAqJwq/r9Wezt2IO87Mz4bD0Q6zu0av26UH5lGh7WJvWk4teo1G6nz4N3Ab2XXqCLJQG/GskM2J9VEMP0hH6e+oN/wuwRnqc3iYzbaXh8CwtpWM0yz5BjzOJJKzaQq+Sm05LNXK58hYxWsPWyk+y26gCXHroIcqmV8BxTTgF4/NSgVSDVT30bfmgwRxeG/5Xdkl5KTxAn2c10mXlafoOXWErFZr9ZPhE+Ez4EcT3d3LBzAvhdeFRrOqlfhqnj0OD4/Q5epnZpR3Sc+F7oFMfdDhGX6dvs3KFlH7KoC5Q304P0wX6Jr1C/0A/Z4ylsVJ2nL3KXkugmRdnXww3hwfCXrJRO3XSccwWsNXMKu2X98tn5R/O/PfZN8KF4N1Dh+mj9DE6RafpSfoh/Yh+wmQpReqReuWzlEc7aD8NwJsPQqcn6CV6nRnYRraNWdid7CnpsCLPvIgcVWg5PNgkvH8/nYFPv0jn6EX6Hn0fPP8FPpXZClbOetkB9gl2B7uP/Tn7InuKPc3ekhKkf5Bl+c+Uv1bemr0cTgl/NvwE5OZRPqlUhshsoVbE82X6Dexbw8yslv1AKpfMMlMWz8zObgjvCh8Lfyv8QzJRCWh3UANsbqN90PoofZKepb/G2pfpu/QL+jd4SWYpLAO+UJmJdbFuNg4tzrK32YyUhfhtkUakKek1uVx+WdmnPD3zzOzy2anZt2fD4SfDofAL4e+I+G6CnHpE4AbyUUBE7KuQ8y16k35N70JGIiuCrk2sBfY+DP6vs/eRTgbpVukpKSzvkE/LLykrlIdn22dHZx+ePR/eGG5DbsmUQCtoI8o2ZFMv2cH7NnjzcfoKInMe2XOZfstyWCFby5rZXtbH+tkw8zIfO8Q+xj4Orz7BnmHPssvsJ+y3kiIlSsvhp3LJKd0mPSg9I70oXZbelEnulvvkQ/LH5AflZ+Tvyb9S0hWzslZpU/qVo8otCZQgJ2YZvvN+9vujMwMzn515YbZytmH25tkTs8/PXp79WXhR+LnwzymR1kJHOw1Bx0/A/jvpPnoU+fEV6PhP9Et6CzH/V/hCZsksFxoXibjVQ+82aL6P2dkgyjC7Cf4/zp5kU+wb7BJ7nr3Evs1+wH7K3pYYtK9E2Y5d0CsNwobPSk9KIelHKO9K/0suls3yenmDvFPuhzV3yXfDnk/LP5V/rkjKcmWd0q0cU/4mQU5wJTyUcCbhxYS/TfhNYnriR/QzYu4EwUf+jvS8slMeoceoU5Ll30g/kGrYJ6T32H+VCtjzkFYgd8qdUr20nST2LLJ8lDKTziQaE41SJqUn9XMe0mekCnmfUiwvpiD2G0n7pTulfvoS+wa9JzUh0w7LL0uPSQflM8oDyk72QzoGmSSlst+TlaxsJ2L3Kh1ChCrkc8p3OccEg/x+wqiUGr5L+WWCJP8A5+AOJsl/x/azK6xTyoK3tkv3kQnjdHYFfTN24I+Q+RfYPtqivCGflHZLPwFuhB5kz8PGZ2lEepZ9HnHZgv3oZ53sEXkd3coOwRtb6Sbpz2ml5JNWIp976X+w29hy7Nz3EJtV0iApcqrkpNckO6L+PZYhVbJbkaejdIJNkJnNsEv0Hel+2sTc8jffXzFTKrH3r7BJuYkm2XvKS8pLkgJOz8Oba3F6WJAhj+OM6MXONMrFyJotlCCZkf834ARspaXSu+zj0gh52MPyr9kXJSt1kFsOSI3sodl3Fau8AR67iNOkPnGrgRJqEgqUjYj4L2knsnEI17th5fWE2zgsvyr/LmwPG2cPJiyZ/SndAu804XQ7gb3URD9mWexGtkcJSy1KOLyXnpTOKT8NZ7PFzEjfD2OHzX6V1bBVYZUdCi9ie5DhNyY+MfMZ5YRyhzKufBzXpvdwat5JD9Bn6a9wNfkCrlsl8GMrvHkAZ48H14i1tJ6qYd1OqsOp1Iy5TtqL87Qfp+QgjdEhnLx/QU/RJK5QLfDHjVg3SDcBH8AV6mN0K/b/XXQSZ8BD9CX6vvQV6VHZKN0tfUs6LHnox/Rj+W9kC9tLryn3KMeom1bRHrYMkjcjSkVYdzL8KqSVUR5O/43Ypcj78Fvhy+Evz7wCfl+C7g8k1tFbifVUSh3s90ouS7DU9/X2WGp37qjZvm3rls3VGzesX7e2qrLCXL6mrLSkePUq00qjWlRYkJ+XuyInO2t55rKMpelpS1IXL0pJNiQlJiiyxMhsMzX2q6Hi/pBSbGpqquBjkwMIRwyiP6QC1TifJqT2CzJ1PqUFlIMLKC0apSVKydLVGqqpMKs2kxp6ucGkTrP9e/oA39tgsquhKwJuE/BpAacCNhqxQLXlDDeoIdav2kKNh4cnbP0NYDe5KKXeVO9OqTDTZMoigIsAhbJNvkmWvZMJQMq2bZuUyJAKpUK5pgZbaIWpgWsQklfbHK5Q554+W0Oe0WivMIdYvdM0ECJTXSitXJBQvRATSqwPJQkxqodbQyfUSfOliZPT6TTQX77YZXI5DvSFZIedy1haDrkNoexb3syZG4J5Rn3fXbGzefKELcej8uHExF1q6LE9fbGzRt7a7eCBtdLqxv6JRog+CSe2dKuQJt1h7wuxOyBS5ZZwqzT73CYbx/TfpIaSTXWm4Ymb+hGa3IkQdR01TuXmWi6E36BcmzrR02cyhmrzTHZHQ/5kJk10HT2/wqKumD9TYZ5MX6o5dnJJmg4sTo0F3NE5AQlyDrV0RT3LuEamZiRESHWq0KTPBJu28Ma9hSacW0CGj51hVciFiHhCyfX9E+nbOJ6vDyWsTjepE+8SMsB05Z/nYxw6JnF1+rvEQZ4n0VTDfAQOlZeH1qzhKZJUj5hCx51iXF1hPjwteUy+dBUd3Eed8K3Dvq0K7jcaeYBPTFtoAIPQ8T192lilgbwpslSV20NSP5+5FJlZ3stnjkdmosv7TcjkZ4g/NiwPGYqjP2npWctsw9tCLOsa025tvqXb1LJnf59qm+jXfdvSM2+kzW+JzulQaFl9n5wn6ZCUJ4tZJOWBKDEf9C0OKavxkyiS2jWdZEBWCgxTG0Pp/U1aa08xGq9z0XT4Hb5KdHPLdDVD28rnj7fPG89Tb/GEDIWVYqmlZ//ERMq8uUacQBMTjSa1caJ/wjEdPj5gUtNNExdwC1I84bP1RyI6Hb54Ii/UeNIOI4bZNmSrRHWTJnb3nkkLu7t7f9+FdDz83N3TN4Wbm/r+OvvkKsz1XVCJLAIrcSxH8oHKB9TCkOhTuHXk9HkXLETHxawiEGLsnGYkcIYIjpFzWtJw6ZqgYiHIgptX57SizVgi1ApwBg13XKMu1akNmEnnMxdx34NbGj6pffipUd/TF5sPYpOJAwMzIWYKfcz0UeMkFoX8pqMCmAipOFtAFXLm2ycmVBQT+Dv39mkt3B9iH+Gt+BEMJzeRKR+87fyQDx0fAIOJAxP7TUacIQXgoqGMfLgk3y44IA4P52MzINOhNL9m487p5XBSeL/ynsj/2A/jmCXn8cSVLsYS+irc15L8m5QXojTap5TPu0bGhnQ4K6DBO1FXWv2jY2a1/qh/xKzu8rtvNqutjuCY1e8YMKsfnGtyD/g1CqzdJn2T34QK8bnaDamQmiVGstBqiXS3DstkkR7SYSWGJoFypMs6nEj50m91OInGojQGWivn6HAy5SeU6nDqksSEhoidLHXZbh1mtChznw5LlJR5nw7LpGZ+SoeVGJoEWpz5VR1OpCWZz+twEm2O0hgoZ9keHU4GzSs6nJokZ/4jODNFhqzFeW8IOIFHJO8dASdyfD4JOInj8xcL2CDgfAEnQ9FCOUWHNR9qsOZDDdZ8qMFKDI3mQw3WfKjBmg81WPOhBms+1ODUJTn5ZgGnxOi/iOu2pkHAi2PwSzi8pkfA6Vy3NS4BLwOcscYv4MwY+uXCDxqcFYNfIdbeLuA8IUvjWRBDUxQDrxL0Dwh4jYAfE3CFgJ/msCFGf0OMrMUx+MURW57AM/p63Oeuwz2nivvLYXKjbyMv7m69eBI6iidkjqnHyA+Ytw7gPYKiEjNWPJ+MoO8Cbgjrg7j35SM3ejeoD6N1CcpUlCaMBoB14/5YxXMB5z4GuRE5reB+FLzHwUcFXy94esgJ2AnYhzl/VI4a1X4tbQBUHB1tJrPQwQEOPtCqkOuAHM7DSTfrtLsxGgaWz45Dx0DUJu4Hj7Bj5EP1GRS+UPFk4IFFIwLrEJ6Yb6PGx6tbqgop45h1Cnv5aBC8j2CtX2DGQeUSnlOBj8SjGTpx73jEujHh2+1ivVtQuPEsNyA87RKtqmsUoVUFPgAM958vGsE5O/h8EFp4sDIAL9Trenp0Xdrn2eMQ2vFccAnZXPubhZ2Df1Qe8XwZgrwRwWnhum0fqk0paD3CKm/Ul2V4RuNUgaiNmyBhK3JjPheNRyeeu/ibx/+7OyFF1Phu+FPZDU3Aa1pxbi1iNog5t8jWhRnINRkHX5+Qq2kwKCQEhUftwmpV7JujwkpNq2DU0xFqjvOKeHN/8Hxzi2i6BJ1Pj4hZ7MgxIccnbNLWOnUubn3sELx9QutRUAXFHF81IPSIeHiht4L6Ci12/g9gBqM2mKPjuWh90Ds+MXZhjRNjsx45vkM0ueaonIUWeESUjgg/OUUuX81nR3RLPSLLR0Q+R/beQt/zNSMCKgV92bzsuTp3TYc/1rexuck5DQHnF9kYFJFzRrPxahZEpH9Qr+0xOcAt0WwJCnmR08ov8vmoyB+ez2NiDzs+1FIt9xzzskrbi1691azSYH4q+PSzgWsbiWaED6fkJ9C1clQ7R8f0yMxxj+wQj+5lvzitPOI9XVCPLb+/iJzb3IYRYd2RqJfnZ7VZRMYhYJeeBx88YxbuhFJx1nI7t+E5o0rMVAoZN4uTxC2i6gCOe2gIFJG5Kp3nwQXnVpm+e+dOi0DUYxFt/pArw3WexGr+Ah6tER5qQTSbbwJOi1Mka9ziKjain+Bz2X2tq0skKz/8CsMj1xndOYGYK7cWby0L3LqsIZHLY3rczcJmv37ya2cPPxkcwv9anCN5rOWVT7870CR4wVU76ceimeKguSvswvPsPyEWUQ85hO3cbx79rHfpe9UJ7qP6Hpm76+ASPOIqFBC5qev44bEF3D3/Gotol8X4yCWuMiPzzpkP2ngNfuL09Yh1Eeqrn27mBadbxPcLV3OvaedprN0Rvebuf+Z2zdyVKBJDszjvvULKYHTsjskQfm5pEQqA29wVVtN6QOji1q9U49FYxp4lWgyr9IgHxC4ZieoQ2dfzc+n6vRp7hdesjL3SzM/pOU8cEX4c/SPjGLka8PuzMd0z7hgNXKLlMuf8chMonDHXjuA1zmPt5HcJCyJXvG3zTnEHOHrFiXP1O17tzjxylZnzT+RKNuej2DNl/qqAOCu0WA3odl/9muv4kIj6o9YHRJaOCe7aLtKuvLFX9D82AyLXtyayidkOasRoH66WXQLTDJyKU7QLM3sx4r9FbwCmBBTd+nyJiNQ+cR1qAl2vuMZpPLrQtmNsF2dcI6lizEctoG8HL77WRn1Chg3cugVll+DdBmwreptOx1fUA9Mrfm/WTrvEKajJa8cq7f69Wb8mapr2AK9GLZyvVbOQGNGsDaMu8G/SZ63g3Sz4cf25/EYBt0f1bNQ1tQofcc6cJ/8OQKsYcWwv+k7QdQv5VmGzpm27sKER85otNqEBl1yp26rRcf/s1Wd4jLh+rShzVlmFD5qENnP+q0ffCc05/13iWxiqoGkVUdQo68R6biO3tlWM5qzSIlUvrOFe5T5oANyGuivquy7Rarp0xXCb77t9Yn6OSrPPqrf1wnMdYqRFo16MekSs+KxZj2WXsGOh1H0iE22Cyios7o5mSKPIXk37SHZqMjpiNNHk8djG6hLJavUae0TjEpnv1SP9Qb9wr1uFT7he3VHJH8YZe/MJdf3adZvVnmG32uYd8waP+txqvdfv8/odQY93rFK1joyoXZ6h4WBA7XIH3P7DblelmprK3yS7j6gdPvdYD1/T6jjqHQ+qI94hj1N1en1H/XyNytmv3aAW826zWe1yjPiG1SbHmNPrvBnY3d7hMbVp3BXgknqGPQF1JJbPoNev1nkGRjxOx4iqSwSNF0LVgHfc73SjGwwecfjd6viYy+1Xg9yO5h611eN0jwXc29WA2626RwfcLpfbpY5oWNXlDjj9Hh83UMhwuYMOz0igsh48PeDSrslxqEG/w+UedfhvVr2DH+6jLvfQ+IjDH5nbFsumtM3j9Hu5lmV73f4Al7ipcut6nQQUnd1tPU1emOBSW9zB4IjbH12hBsZ9vhEPFB/0jgUrVbt3XB11HFXHYUKQO4uj1aBXdfrdjqDbrLo8AR8caFYdYy7V5/dg1gkSN3pHQPW5/aOeYBDsBo4KR0XcEcQEvOqPAINcgpn3wp1RdXx+r2vcGTSrPA2w1szXRAR4xtQjwx7ncIxmRyDUM+YcGXfxnIlo7x0bOaqWesq0sMSQg8O1tNWi6BkbUv3uQNDvcXLfzwngy6O8tgsPlHogJege5YHyeyDV5T0yNuJ1uOZ7z6G5CgGDOV6IQjse9CELXW5uJqcZdo/45nsUO2PsqE7OAwKG8M+wZ8ADnStTU3m2DHpHRrxHuMq6q83qgCMAXb1j0UyNBKF0OBj0bauqco9VHvHc7PG5XR5Hpdc/VMVHVaA8qOd0GcIr0iLAFeNsrr4Jr7Z5fqBTtHKKV7mbb/LCJu4a92H3CDaWcPf8bcpdOW+jpqZ28uAERDbDbrjAjVVDfgc84zKrg35sOmSPc9jhH4LN3MfwFSKK5ap3AJttjDvFIQ6KSJ5dvxVcIUcg4HV6HDw/XF7n+Cgi4tD2s2cEninlHOdZq3brJ8WrZUIjlxsMPVocrkqnHvEEhzk6Jt3Merpx7SPTIx7kqSab8/JrZyUkiE3ELTSro16XZ5D3buEQ3zgMCgyLDQvWA+N88wY4Us8SWFgFwwNuHL7gwGOte+mqqmobHiK1TaN7WihxZNg7eg0b+TYY949BGbdg4PLiRBW63OR2BiMJNpfHSH6XR2y8bVqKOwa8h90xBz6OQL5lhD58k/nmMkWfCgw7YNWAe97OdcQY6ufiA0EkkwchwubVNvq1HMD3W5NN7e5o7Nln7bKpzd1qZ1fH3uYGW4NaYu3GuMSs7mvuaero7VFB0WVt77GrHY2qtd2utjS3N5hVW19nl627W+3oUpvbOlubbcA1t9e39jY0t+9S67CuvQPXlWbsRDDt6VC5QJ1Vs62bM2uzddU3YWita25t7rGb1cbmnnbOsxFMrWqntaunub631dqldvZ2dXZ02yC+AWzbm9sbuyDF1mZr76mEVOBU214M1O4ma2urEGXthfZdQr/6jk57V/Ouph61qaO1wQZknQ2aWetabZooGFXfam1uM6sN1jbrLptY1QEuXYJM125fk02gIM+Kn/qe5o52bkZ9R3tPF4ZmWNnVE126r7nbZlatXc3d3CGNXR1gz92JFR2CCda12zQu3NXqvIiAhI97u21zujTYrK3g1c0XxxJXpuKuxSuegPjTyJh40higoywVzxM3Yfxr8SwUme/Wn15c2ntu+bPypPyX8nOoF+SL8lPx99zx99x/gG/j77n/895za789jL/r/tN8161FL/6+O/6+O/6+O/6+e+FpHn/nPf+dd8Q78ffe8ffe8ffe/9+998benHvGdIjrRGT8T+KZ0z3vGdQ97ylTPGcqhco6pUXZpexAuxXUDpx+/F5dO7OGWYj9F5nEGWoFvV98J4zz0L9zTTRrEn8PyBZ8N5wuUk/4knxpqneDZRrdNtGdX7Jq/XHeL0oV/VTyhlprlXyJfKjnUF9BVegg2mM6RqYitLWoHHtKzD8mP0sh1Euo30PlmIvAXATmIjAXgamVp4nJX5e/NrWqCKKfOb9i1fq3rbnyeQqjSvL98gkygveNen9Q70+hX4P+tN7fK5+Y2l6UZk3GmNHbaMOoEmx7ZGpXx/oLAthcI4AzEcyZ88AUWVfIj0CrR6DVI9DqEWj1NloGrmeAPwP8GeDPCPwZYoKVsUxnpQOPTKVl6RgA1hTZLu+l9WDRp/f75L1T64ues/bLvWB9TrSPyT1oT4n2oGg7RHtMzB4TsFfAXgHXCrhWh3lbFdMWiTaNt3KX3I17uCJ5j7xb9J2yjVaj78CY9+1ys+jb5F2ibwU+B30L6DLQ75YbxbhZ5udvkdyEMe93yY1TDUVrrT6MD2JOgjyOb4AODdCpAU7imFOoj6G+LjAH0R5DfUXm3xLnlExuQKlHscpWrLCAhwUzFpJlC0otyk55J2Z2gHYHWotcI2ysAVUNJNXAVzXgXIPw1CA8NZQk16BV5Wpai2pB7UTtR00AHzPWmaGXGRLMcgWtAi+jdJIy0at6XySdoEL0hdKJqcIiizVZeoY6UftRfajHpWemEjLSrJmg47RVqB2oB1GPoT6Keg7VQLXajGWRVCvVyh1Sh6wgu8vO19SsF/2GTVqfX6D1i3PXp1n9chncVEaPospQuQwql8HUyKgIVULqlNBzqK+gvo7KHV4CZ5TAGSUwsATrSwRVoqB7GzWMKiOJSsB/Pk2CWF2EWhXDhWNLgSnFqBRrSkFbCuzraJlYwec7UU+hPqfPrRTJvFIk50rwWgltq9DWCigNbZG8ckpKTpuGf9m2NGst/N6BiknpXnjzXvjtXn6USHwTp4m2SodPAjpJkRWnUM+hJsoXUMpQSlBKUVaiGFFUFERULkQ0T6OcQrkP5V6UkygnEJ3Mc+XPlUsHq73Vx6pPVT9afa76ueqkZyUHSr/Ub0mhrCwckRlLDbnWdEmhA5TK/l20Z0XrF61FtNmW3AOpbx5I/dsDqZ85kPqpA6l9B1LbD6Q2HkitOpA6zQYs2eWpPylPPV2eurc8dVN5anV56oby1LLyVOtSZmf7cJH4pmjrRLtetCtFW8D2TaVS8jfYR8howA5gJc8Y/6zo58ZphU0VfdI4bUB3mzb6iNZt58ivFa01DhWZNUyx1q0y/qUCDtTLnqIkVm4xJ72UdDDJkrQ1qTKpIqk0qSTJlFSUlGnIMKQblhgWG1IMBkOiQTFIBjJkToffsJTzK0hmYjrvEhXeKgJOl3graRcYiRkkPNyHlsktUkt3HWsJXXJSy4Aa+n23aZql7NkfSjDVsVBGC7X01OWENpe3TCeFu0JbyltCyZ0f6Ztk7D47RiHp7mlGPX3TLMxRd+TxPwC9QIyZ77g3T+/tdr6mb1Jh995rp6zDtTm1GTuXbm1suErTr7flc5+c8tgBNCkIPdTS3Rf6SoE9tJ4D4QJ7CzzH/170grRF2mRruCBt5p2970LKcWmLrYvjU4432OfoSAW+4QIZeSfoSOV0pC6gK5Q2c7rVvNPoCgVd4Ty6yR1GW8Ok0Rih2SFodsynGZpPMyRohnQaWaMxxtAkvUFGQWNMeuMDNIXXQbP6qjQx3nTXlV/jwy7QbnZ5sv4W/se2/SabG7U/dOLwcA7/Yzf1AtWzy/rf4Rb3DziHee9wT7PLJndDqN7UoE7uvuWD86Fb+PRuU8Mk3WLr6Zu8xeJumNpt2W0zORrs53c51pydJ+6eiLjJNY6rMHNwZmu4rF1nrzJ9lk/v4rLOcllnuaxdll1Clsh6pKWB6uz1B7T+vLQoBQncn2e012Wl+3aKbN5uzLk176JC7Mu0qNweWmyqC6Wi8qkKa4WVT2GX8akl/G+q9amcW7cb8y6yL+tT6UAvNdVRjs3TgJ9AQAeu8yfAP8EbAzeKXvwEguOoPFD8ATlIsMG6WJzKRTifJXEy8xOZn9pyIGAPkohqYJw4vyBv5thHoXFwZoHYNKDAwg/PjXLSKtgFxhmoOOG4njgBhkmwIa6kzgWHTh+RUqU8QNUsw5J7sMibeCxRXrpoSXlGRsGilflF1SZTQb6cnDgdvnQ+rbCW9xZz2oraxL2SVJCcmZtdvmxZQe7GyrR1ReukdeXV1QWVJRW0Jn2NtKa8uLigomiajVhqciVWvMi0qji3mopXF8L5udIiw8ritHz2dn44X8q3ysWUzDqTH0v+XvIbye8kJyRXFxdXUkV6hVQxzXZaslavXkWsMLlrWVXG2xnvZMgZKzbt9uaUt6f/7oaatiszNTU1HJqpSb/h0JXfoVJtbcbWKoxr0mfEzxWWfoXS373htZoowHHv8g7D8vLIRBS/bi3dwJYaqzdu2rA+a/lS48piDm5YatIA49LMRA5WG+dodAzrle7MXrYs+31HYW5u4aFDvJUDHDPzJVaRsywjJydjWY5UPVv0P/nU7DMYZsu/4QSzr3PMy7MtB8XMb3l7EFG6EH5dyVTO4k7yZ5Y1Oza05nVsuGHDkaw7s+7KvSfv5NbP1KU0q41W6f6izxc9Yf1y3d9n/yL73eykvOnw76eW5WyaDv83y8FyS9mO7bk5aQmZxDYvWb/WJFduTEslBHtFcU3NxqWr6xepycl1vYtOKJUnSjauNtbLilRiMCYvKTb0b159sNBbKBXmNmautqwrNhVbrN6yY2Wnyh4tO1eWULbC9hcXWRHl4MoiYtL25pUr6Vfa039/Q9vMDA9GbW36FV7K02eWbq26sjQjeyuvbGnG1q0C3gp3b9myhd1Ah25guj+XC3+WFBebViYuzyyUsrOys7IEsmS57mpBCOyG9ZuqN4KUF4GUH+TuzF6Wkc0SHr/9xBcqW/sHn7Tus//ihZ98EtgcbebZz33u6422tQ9//8CBV8+GlJ353N+XC3Nz8nruPOVY37WhaGl+QcnEjae/fc9aPvWrIkwd+PTnRuqGCpfnmpqa7rj9m/zWjf+7WdhDJrrPsiYteXF1enpBMjbPJr55JENCNWMFhmUrsjZhU60wZRTm5UrJBsOKaeb9Wnr6UuwHBtCipudX5ffnv5KvpOXX5nfkH8z35Z/KP5f/er4h/9er/wrpDn8e+p1I5zeptqYW+b4gZxdmMFvK/QhfRbM3krZzgHT6x9y0mX/j7Y9nv8y9I5/l3lN2vp+VrWUr0nP2H4tyc4vYkdl7RG9a+Dz8f+Dz6ocX9nmpMF7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7iJV7i5U+7EP/XlbVvH2dq30lmuaiJ//GvU+Xr+Z1r6bzRps1/4K9s/59+FJoQrcL9805POIxW5S3/eh1dpwOu61N6jblNtJnLZ6cpgQzXyW8B3Tv0TngeQv+2ufKy+F9Lhq5bz//403eNcoFOxUu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xEu8xMsfULTf7ya+dcdk6NzFg2k17xqStV8IP756D/+Xx+hy1T1p4aR/P628Zygn/j8h678P/t+Md++jCmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKPDwvVHlwZS9NZXRhZGF0YQovU3VidHlwZS9YTUwvTGVuZ3RoIDExNzg+PnN0cmVhbQo8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8P2Fkb2JlLXhhcC1maWx0ZXJzIGVzYz0iQ1JMRiI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJyB4OnhtcHRrPSdYTVAgdG9vbGtpdCAyLjkuMS0xMywgZnJhbWV3b3JrIDEuNic+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIycgeG1sbnM6aVg9J2h0dHA6Ly9ucy5hZG9iZS5jb20vaVgvMS4wLyc+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLycgcGRmOlByb2R1Y2VyPSdHUEwgR2hvc3RzY3JpcHQgMTAuMDEuMScvPgo8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPjx4bXA6TW9kaWZ5RGF0ZT4yMDIzLTA2LTI3VDIzOjA0OjAzKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KPHhtcDpDcmVhdGVEYXRlPjIwMjMtMDYtMjdUMjM6MDQ6MDMrMDI6MDA8L3htcDpDcmVhdGVEYXRlPgo8eG1wOkNyZWF0b3JUb29sPlBERjI0IENyZWF0b3I8L3htcDpDcmVhdG9yVG9vbD48L3JkZjpEZXNjcmlwdGlvbj4KPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eGFwTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nIHhhcE1NOkRvY3VtZW50SUQ9J3V1aWQ6YTUyNThiOTYtMTc4OS0xMWVlLTAwMDAtZmFjYTg5YjdiMWQ2Jy8+CjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLycgZGM6Zm9ybWF0PSdhcHBsaWNhdGlvbi9wZGYnPjxkYzp0aXRsZT48cmRmOkFsdD48cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkPC9yZGY6bGk+PC9yZGY6QWx0PjwvZGM6dGl0bGU+PC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0ndyc/PgplbmRzdHJlYW0KZW5kb2JqCjIgMCBvYmoKPDwvUHJvZHVjZXIoR1BMIEdob3N0c2NyaXB0IDEwLjAxLjEpCi9DcmVhdGlvbkRhdGUoRDoyMDIzMDYyNzIzMDQwMyswMicwMCcpCi9Nb2REYXRlKEQ6MjAyMzA2MjcyMzA0MDMrMDInMDAnKQovQ3JlYXRvcihQREYyNCBDcmVhdG9yKT4+ZW5kb2JqCnhyZWYKMCAxMgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDA0MjYgMDAwMDAgbiAKMDAwMDAxMTExOSAwMDAwMCBuIAowMDAwMDAwMzY3IDAwMDAwIG4gCjAwMDAwMDAyMjAgMDAwMDAgbiAKMDAwMDAwMDAxNSAwMDAwMCBuIAowMDAwMDAwMjAxIDAwMDAwIG4gCjAwMDAwMDA1MjAgMDAwMDAgbiAKMDAwMDAwMDc2OSAwMDAwMCBuIAowMDAwMDAwNDkxIDAwMDAwIG4gCjAwMDAwMDA5NzcgMDAwMDAgbiAKMDAwMDAwOTg2NCAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDEyIC9Sb290IDEgMCBSIC9JbmZvIDIgMCBSCi9JRCBbPEMxNTY1RTJBM0FEODkwMDU3QjdENTk4OUMxMTY0QjdBPjxDMTU2NUUyQTNBRDg5MDA1N0I3RDU5ODlDMTE2NEI3QT5dCj4+CnN0YXJ0eHJlZgoxMTI2OQolJUVPRgo=\n</code></pre>\n<p>I am trying to decode this into String like this:\n<code>new String(Base64.getDecoder().decode(encoded.getBytes()))</code></p>\n<p>But after this the decoded pdf structure is different than the original which cause, that result is just a blank white paper nad it's size is bigger than original.</p>\n<p><strong>Fragment of Original</strong>:</p>\n<pre><code>%PDF-1.7\n%ÇěŹ˘\n5 0 obj\n&lt;&lt;/Length 6 0 R/Filter /FlateDecode&gt;&gt;\nstream\nxśMŠ±ƒ0Dw…ÇdŔµIlĂZ‰Ą[Á[Ő    ©ť2đ˙ĐŞRď-Ow·!“+ňÉOÖŚoŘ@¨śů”˙ľ6Ľ\\fGaRĂx|OhF^« [OĺX&lt;RLą«ÄjŁ¤%ŹÄ6¨§Č©—„ů7˜î;(˘ôendstream\nendobj\n</code></pre>\n<p><strong>Fragment of Decoded</strong>:</p>\n<pre><code>%PDF-1.7\n%�쏢\n5 0 obj\n&lt;&lt;/Length 6 0 R/Filter /FlateDecode&gt;&gt;\nstream\nx�M���0Dw��d��Il�Z��[�[�    ��2��ЪR�-Ow�!�+��O��o�@������6�\\fGaR�x�|OhF^��[O�X&lt;RL���j��%��6�������7��;(��endstream\nendobj\n</code></pre>\n<p>I don't understand what is going on. I would be very grateful for tips.</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1557928006,"post_id":56150697,"comment_id":98931163,"body_markdown":"Separate them with spaces, as described in http://openjdk.java.net/jeps/261.  (Why the !#$&amp; does the postgresql driver need to access a private field of TimeZone, especially something accessible via a public method?)","body":"Separate them with spaces, as described in <a href=\"http://openjdk.java.net/jeps/261\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/261</a>.  (Why the !#$&amp; does the postgresql driver need to access a private field of TimeZone, especially something accessible via a public method?)"}],"answers":[{"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1690402926,"post_id":66737459,"comment_id":135350495,"body_markdown":"An example would be very helpful","body":"An example would be very helpful"},{"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"score":1,"creation_date":1691764618,"post_id":66737459,"comment_id":135540204,"body_markdown":"Done @JesseBarnum :)","body":"Done @JesseBarnum :)"}],"tags":[],"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1691764582,"creation_date":1616360284,"answer_id":66737459,"question_id":56150697,"body_markdown":"[JEP 261: Module System][1] explains how to specify multiple module/package combinations:\r\n\r\n&gt; Two new JDK-specific JAR-file manifest attributes are defined to correspond to the --add-exports and --add-opens command-line options:\r\n&gt;\r\n&gt; Add-Exports: `&lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*`\r\n&gt;\r\n&gt; Add-Opens: `&lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*`\r\n&gt;\r\n&gt; The value of each attribute is a **space-separated list** of slash-separated module-name/package-name pairs\r\n\r\nFor example,\r\n\r\n```\r\nAdd-Opens: java.base/java.util java.base/sun.net.dns\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/261#Breaking-encapsulation","title":"Multiple Add-Opens in Java Jar MANIFEST","body":"<p><a href=\"https://openjdk.java.net/jeps/261#Breaking-encapsulation\" rel=\"nofollow noreferrer\">JEP 261: Module System</a> explains how to specify multiple module/package combinations:</p>\n<blockquote>\n<p>Two new JDK-specific JAR-file manifest attributes are defined to correspond to the --add-exports and --add-opens command-line options:</p>\n<p>Add-Exports: <code>&lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*</code></p>\n<p>Add-Opens: <code>&lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*</code></p>\n<p>The value of each attribute is a <strong>space-separated list</strong> of slash-separated module-name/package-name pairs</p>\n</blockquote>\n<p>For example,</p>\n<pre><code>Add-Opens: java.base/java.util java.base/sun.net.dns\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2516613,"reputation":500,"user_id":2187908,"display_name":"Abdelrahman Elattar"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1625660802,"creation_date":1625660802,"answer_id":68286031,"question_id":56150697,"body_markdown":"You can add multiple add-opens during running application.\r\n\r\nExample could help:\r\n\r\n    java --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED -jar test.war","title":"Multiple Add-Opens in Java Jar MANIFEST","body":"<p>You can add multiple add-opens during running application.</p>\n<p>Example could help:</p>\n<pre><code>java --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED -jar test.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9679536,"reputation":101,"user_id":7181748,"display_name":"Manisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666312114,"creation_date":1666311762,"answer_id":74147550,"question_id":56150697,"body_markdown":"What worked for me\r\n 1. Add-opens at the start of file - i.e. it is the first attribute in manifest\r\n 2. one space at the end, one at start - for each line.\r\n 3. only one entity on each line.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6RG8K.png","title":"Multiple Add-Opens in Java Jar MANIFEST","body":"<p>What worked for me</p>\n<ol>\n<li>Add-opens at the start of file - i.e. it is the first attribute in manifest</li>\n<li>one space at the end, one at start - for each line.</li>\n<li>only one entity on each line.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/6RG8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6RG8K.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8626532,"reputation":209,"user_id":6459594,"display_name":"Enrico Olivelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7225,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1691764582,"creation_date":1557927268,"question_id":56150697,"body_markdown":"I have an executable Jar which is using reflection in order to access some java internal (actually I am shading some third party library like Netty, DNSJava...)\r\n\r\nI see that adding this entry to the MANIFEST of the Jar \r\n\r\n    Add-Opens: java.base/sun.net.dns\r\n\r\nsolves my first problem:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.xbill.DNS.ResolverConfig (file:/home/diennea.lan/enrico.olivelli/dev/magnews/magnews.installer/target/magnews-24.05-SNAPSHOT.dev-b199bacf8f2-noci-installer.jar) to method sun.net.dns.ResolverConfiguration.open()\r\n    WARNING: Please consider reporting this to the maintainers of org.xbill.DNS.ResolverConfig\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\n\r\nBut now I have a second warning:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.postgresql.jdbc.TimestampUtils (file:/home/diennea.lan/enrico.olivelli/dev/magnews/magnews.installer/target/example/.tmpPackage/packages/postgresql.jar) to field java.util.TimeZone.defaultTimeZone\r\n    WARNING: Please consider reporting this to the maintainers of org.postgresql.jdbc.TimestampUtils\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nAnd I need to add this new exception\r\n\r\n    Add-Opens: java.base/java.util\r\n\r\n\r\nI am trying with:\r\n\r\n    Add-Opens: java.base/java.util,java.base/sun.net.dns\r\n    Add-Opens: java.base/java.util;java.base/sun.net.dns\r\n    Add-Opens: java.base/java.util:java.base/sun.net.dns\r\n\r\nWithout results.\r\nI can&#39;t find any &quot;specification&quot; about Add-Opens\r\n","title":"Multiple Add-Opens in Java Jar MANIFEST","body":"<p>I have an executable Jar which is using reflection in order to access some java internal (actually I am shading some third party library like Netty, DNSJava...)</p>\n\n<p>I see that adding this entry to the MANIFEST of the Jar </p>\n\n<pre><code>Add-Opens: java.base/sun.net.dns\n</code></pre>\n\n<p>solves my first problem:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.xbill.DNS.ResolverConfig (file:/home/diennea.lan/enrico.olivelli/dev/magnews/magnews.installer/target/magnews-24.05-SNAPSHOT.dev-b199bacf8f2-noci-installer.jar) to method sun.net.dns.ResolverConfiguration.open()\nWARNING: Please consider reporting this to the maintainers of org.xbill.DNS.ResolverConfig\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<p>But now I have a second warning:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.postgresql.jdbc.TimestampUtils (file:/home/diennea.lan/enrico.olivelli/dev/magnews/magnews.installer/target/example/.tmpPackage/packages/postgresql.jar) to field java.util.TimeZone.defaultTimeZone\nWARNING: Please consider reporting this to the maintainers of org.postgresql.jdbc.TimestampUtils\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<p>And I need to add this new exception</p>\n\n<pre><code>Add-Opens: java.base/java.util\n</code></pre>\n\n<p>I am trying with:</p>\n\n<pre><code>Add-Opens: java.base/java.util,java.base/sun.net.dns\nAdd-Opens: java.base/java.util;java.base/sun.net.dns\nAdd-Opens: java.base/java.util:java.base/sun.net.dns\n</code></pre>\n\n<p>Without results.\nI can't find any \"specification\" about Add-Opens</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1691726084,"post_id":76880124,"comment_id":135533391,"body_markdown":"Is there any chance that the `user_id` column is not a defined foreign key?  There&#39;s some threads that indicate if it&#39;s not a foreign key, this will break lazy fetching on ManyToOne.","body":"Is there any chance that the <code>user_id</code> column is not a defined foreign key?  There&#39;s some threads that indicate if it&#39;s not a foreign key, this will break lazy fetching on ManyToOne."},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691737526,"post_id":76880124,"comment_id":135534797,"body_markdown":"Ideally the FetchType.LAZY should work for you. Are you sure you are not calling getUser() method of Task entity? Can you please share your POM file?","body":"Ideally the FetchType.LAZY should work for you. Are you sure you are not calling getUser() method of Task entity? Can you please share your POM file?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691737760,"post_id":76880124,"comment_id":135534833,"body_markdown":"can you also share the method body where this query is invoked ?","body":"can you also share the method body where this query is invoked ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1691761791,"post_id":76880124,"comment_id":135539560,"body_markdown":"Task is serializable - how are you serializing it? Make sure that your serialization method (ie JSON) isn&#39;t accessing the lazy relationship, or that you don&#39;t have other methods (equals, hashcode or anything else) inadvertently doing so either. You can try debugging to see where this query is being executed, as knowing that will help determine what can be done to stop it.","body":"Task is serializable - how are you serializing it? Make sure that your serialization method (ie JSON) isn&#39;t accessing the lazy relationship, or that you don&#39;t have other methods (equals, hashcode or anything else) inadvertently doing so either. You can try debugging to see where this query is being executed, as knowing that will help determine what can be done to stop it."},{"owner":{"account_id":25178831,"reputation":11,"user_id":19020583,"display_name":"mrVin99"},"score":1,"creation_date":1691768230,"post_id":76880124,"comment_id":135540954,"body_markdown":"Managed to fix my problem. I had method getUser() inside of my taskEntity. After removing it hibernate is no longer fetching the extra data. \nI guess when TaskEntity was being constructed by jpa, it was automatically calling the getUser() and making an extra query to get the user data.","body":"Managed to fix my problem. I had method getUser() inside of my taskEntity. After removing it hibernate is no longer fetching the extra data.  I guess when TaskEntity was being constructed by jpa, it was automatically calling the getUser() and making an extra query to get the user data."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1691774853,"post_id":76880124,"comment_id":135542081,"body_markdown":"Glad you got it resolved, but I don&#39;t think it was JPA calling your getUser, not directly without there being a major bug - it had to be your own methods making the call or having that call in other accessors and methods JPA is required to call. This is especially common in hashcode/equals when the entity is used in Sets or Maps in other entities.","body":"Glad you got it resolved, but I don&#39;t think it was JPA calling your getUser, not directly without there being a major bug - it had to be your own methods making the call or having that call in other accessors and methods JPA is required to call. This is especially common in hashcode/equals when the entity is used in Sets or Maps in other entities."}],"answers":[{"comments":[{"owner":{"account_id":25178831,"reputation":11,"user_id":19020583,"display_name":"mrVin99"},"score":1,"creation_date":1691768661,"post_id":76884491,"comment_id":135541052,"body_markdown":"For some reason JPQL doesnt work, throws UnsatisfiedDependencyException.\nOpenSessionInView did nothing for me.\n@JsonIgnore is tricky, because i cant save my task properly if i use him, because i save my task with passing a userid.\n\nI managed to fix this by making a query and mapping it directly to a TaskDTO, but i felt it was too complicaded for something that should be simple. \nSo i dig a little more and found the problem, i had a getUser() method inside of my TaskEntity which i didnt really need, i removed it and it works perfectly now.\n\nYour insights helped a lot, thanks.","body":"For some reason JPQL doesnt work, throws UnsatisfiedDependencyException. OpenSessionInView did nothing for me. @JsonIgnore is tricky, because i cant save my task properly if i use him, because i save my task with passing a userid.  I managed to fix this by making a query and mapping it directly to a TaskDTO, but i felt it was too complicaded for something that should be simple.  So i dig a little more and found the problem, i had a getUser() method inside of my TaskEntity which i didnt really need, i removed it and it works perfectly now.  Your insights helped a lot, thanks."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692575501,"post_id":76884491,"comment_id":135638033,"body_markdown":"did you use chatgpt or any similar AI at all to write any part of this answer?","body":"did you use chatgpt or any similar AI at all to write any part of this answer?"},{"owner":{"account_id":25178831,"reputation":11,"user_id":19020583,"display_name":"mrVin99"},"score":0,"creation_date":1692728444,"post_id":76884491,"comment_id":135663291,"body_markdown":"@starball No, why? If my english feels off, its because im not a native speaker.","body":"@starball No, why? If my english feels off, its because im not a native speaker."}],"tags":[],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691764280,"creation_date":1691764280,"answer_id":76884491,"question_id":76880124,"body_markdown":"You&#39;ve set the user relationship in TaskEntity to lazy-load. But if anywhere in your code you access this user, it will trigger a database query for that user. Here&#39;s how to avoid it:\r\n\r\nDon&#39;t Access the User: After fetching the task, make sure you&#39;re not calling getUser() or accessing the user directly. This causes Hibernate to fetch the user due to its lazy nature.\r\n\r\nUse DTOs: Consider using DTOs. Map only needed fields from TaskEntity to the DTO without including the user. This way, even if you touch the user field in the logic layer, it won&#39;t query the database.\r\n\r\nTry JPQL: Instead of native queries, use JPQL. It&#39;s better optimized for JPA. For example:\r\n\r\n    @Query(&quot;SELECT t FROM TaskEntity t WHERE t.user.id = :userId&quot;)\r\n    List&lt;TaskEntity&gt; findByUserId(@Param(&quot;userId&quot;) Long userId);\r\n\r\n\r\n\r\nHandle Serialization: The error you saw can arise when lazy entities are serialized without being fully loaded. When serializing TaskEntity, make sure not to serialize the user too. If using Jackson, @JsonIgnore can help.\r\n\r\nBytecode Enhancement: A more advanced method, but you can use Hibernate&#39;s bytecode enhancement to refine lazy loading.\r\n\r\nAvoid Open Session in View: Make sure not to use this pattern. It keeps the Hibernate session active for too long and can cause lazy entities to load unintentionally.\r\n\r\nIn short, ensure you&#39;re not accessing the user unintentionally after fetching the task. This way, Hibernate won&#39;t make extra user queries.","title":"How to stop JPA from creating an extra query","body":"<p>You've set the user relationship in TaskEntity to lazy-load. But if anywhere in your code you access this user, it will trigger a database query for that user. Here's how to avoid it:</p>\n<p>Don't Access the User: After fetching the task, make sure you're not calling getUser() or accessing the user directly. This causes Hibernate to fetch the user due to its lazy nature.</p>\n<p>Use DTOs: Consider using DTOs. Map only needed fields from TaskEntity to the DTO without including the user. This way, even if you touch the user field in the logic layer, it won't query the database.</p>\n<p>Try JPQL: Instead of native queries, use JPQL. It's better optimized for JPA. For example:</p>\n<pre><code>@Query(&quot;SELECT t FROM TaskEntity t WHERE t.user.id = :userId&quot;)\nList&lt;TaskEntity&gt; findByUserId(@Param(&quot;userId&quot;) Long userId);\n</code></pre>\n<p>Handle Serialization: The error you saw can arise when lazy entities are serialized without being fully loaded. When serializing TaskEntity, make sure not to serialize the user too. If using Jackson, @JsonIgnore can help.</p>\n<p>Bytecode Enhancement: A more advanced method, but you can use Hibernate's bytecode enhancement to refine lazy loading.</p>\n<p>Avoid Open Session in View: Make sure not to use this pattern. It keeps the Hibernate session active for too long and can cause lazy entities to load unintentionally.</p>\n<p>In short, ensure you're not accessing the user unintentionally after fetching the task. This way, Hibernate won't make extra user queries.</p>\n"}],"owner":{"account_id":25178831,"reputation":11,"user_id":19020583,"display_name":"mrVin99"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691764406,"creation_date":1691715367,"question_id":76880124,"body_markdown":"I&#39;m trying to fetch data from an endpoint, where I want to fetch all tasks that match the user id.\r\nWhen I run my query on Postgres it runs like it&#39;s supposed to, but JPA for some reason also feels the necessity to fetch the user. \r\nI need to fetch only the task, without fetching the user.\r\nI&#39;ve tried adding lazy loading, but it throws a serialization exception.\r\nAny ideas how to make it not fetch extra data that I don&#39;t need?\r\nI could work around this by creating a DTO, however, when accessing the database it will fetch unnecessary data and I&#39;d like to avoid that.\r\n\r\n\r\nMy query looks like this:\r\n\r\n`@Query(value = &quot;SELECT * FROM tasks t WHERE t.user_id = :userId&quot;, nativeQuery = true)\r\n    List&lt;TaskEntity&gt; findByUserId(@Param(&quot;userId&quot;) Long userId);`\r\n\r\nMy task entity: \r\n\r\n    public class TaskEntity implements Serializable {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String title;\r\n        private String description;\r\n        private LocalDate date;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY) \r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private UserEntity user;\r\n\r\n        // getters, setters and constructor \r\n    }\r\n\r\nMy user entity:\r\n\r\n    public class UserEntity implements Serializable {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n    // getters, setters and constructor \r\n    }\r\n\r\nJPA is creating this query to fetch data:\r\n\r\n    Hibernate: \r\n        SELECT\r\n            * \r\n        FROM\r\n            tasks t \r\n        WHERE\r\n            t.user_id = ?\r\n    Hibernate: \r\n        select\r\n            u1_0.id,\r\n            u1_0.email,\r\n            u1_0.name,\r\n            u1_0.password \r\n        from\r\n            users u1_0 \r\n        where\r\n            u1_0.id=?\r\n\r\nI dont have any extra logic yet, just calling the method.\r\n\r\n    controller\r\n        @GetMapping(&quot;/user={id}&quot;)\r\n    public ResponseEntity&lt;List&lt;TaskEntity&gt;&gt; getTaskByUser(@PathVariable                                               Long id){\r\n        return ResponseEntity.ok().body(service.getTaskByUserId(id));\r\n    }\r\n\r\n    service\r\n        public List&lt;TaskEntity&gt; getTaskByUserId(Long id){\r\n        System.out.println(&quot;GET TASK BY USER ID&quot;);\r\n        return repository.findByUserId(id);\r\n    }\r\n\r\n\r\n","title":"How to stop JPA from creating an extra query","body":"<p>I'm trying to fetch data from an endpoint, where I want to fetch all tasks that match the user id.\nWhen I run my query on Postgres it runs like it's supposed to, but JPA for some reason also feels the necessity to fetch the user.\nI need to fetch only the task, without fetching the user.\nI've tried adding lazy loading, but it throws a serialization exception.\nAny ideas how to make it not fetch extra data that I don't need?\nI could work around this by creating a DTO, however, when accessing the database it will fetch unnecessary data and I'd like to avoid that.</p>\n<p>My query looks like this:</p>\n<p><code>@Query(value = &quot;SELECT * FROM tasks t WHERE t.user_id = :userId&quot;, nativeQuery = true) List&lt;TaskEntity&gt; findByUserId(@Param(&quot;userId&quot;) Long userId);</code></p>\n<p>My task entity:</p>\n<pre><code>public class TaskEntity implements Serializable {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n    private String description;\n    private LocalDate date;\n\n    @ManyToOne(fetch = FetchType.LAZY) \n    @JoinColumn(name = &quot;user_id&quot;)\n    private UserEntity user;\n\n    // getters, setters and constructor \n}\n</code></pre>\n<p>My user entity:</p>\n<pre><code>public class UserEntity implements Serializable {\n@Id @GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\nprivate String email;\nprivate String password;\n// getters, setters and constructor \n}\n</code></pre>\n<p>JPA is creating this query to fetch data:</p>\n<pre><code>Hibernate: \n    SELECT\n        * \n    FROM\n        tasks t \n    WHERE\n        t.user_id = ?\nHibernate: \n    select\n        u1_0.id,\n        u1_0.email,\n        u1_0.name,\n        u1_0.password \n    from\n        users u1_0 \n    where\n        u1_0.id=?\n</code></pre>\n<p>I dont have any extra logic yet, just calling the method.</p>\n<pre><code>controller\n    @GetMapping(&quot;/user={id}&quot;)\npublic ResponseEntity&lt;List&lt;TaskEntity&gt;&gt; getTaskByUser(@PathVariable                                               Long id){\n    return ResponseEntity.ok().body(service.getTaskByUserId(id));\n}\n\nservice\n    public List&lt;TaskEntity&gt; getTaskByUserId(Long id){\n    System.out.println(&quot;GET TASK BY USER ID&quot;);\n    return repository.findByUserId(id);\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","nullreferenceexception"],"owner":{"account_id":26997047,"reputation":11,"user_id":20558973,"display_name":"Reventh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691763633,"creation_date":1691763633,"question_id":76884401,"body_markdown":"I am new to selenium and I am trying setup a Automation framework, I have two classes one for Webdriver (Base class) initialization and second is to run testScripts I have Marked the Webdriver initialization with @BeforeSuite Tag \r\n\r\n```\r\npublic class Base {\r\n\t\r\n\tLogger logs = StartLogging(&quot;Base&quot;);\r\n\tpublic static String browser;\r\n\tpublic static WebDriver driver;\r\n\r\n\t//Browser installization\r\n\t@BeforeSuite\r\n\tpublic void browserSetup() throws IOException{\r\n\t\tbrowser = readConfigData(&quot;browser&quot;);\r\n\t\tif (browser.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t} else if (browser.equalsIgnoreCase(&quot;Firefox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t} else if (browser.equalsIgnoreCase(&quot;edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\t\tdriver.get(readConfigData(&quot;TestURL&quot;));\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tlogs.fatal(driver);\r\n\t}\r\n}\r\n```\r\n\r\nSecondly I have a Page object model class where I initialize the web elements  \r\n\r\n```\r\npublic class loginPage extends Base {\r\n\r\n\tLogger logs = StartLogging(&quot;loginPage&quot;);\r\n\r\n\t@FindBy(xpath = &quot;//input[@id=&#39;user-name&#39;]&quot;)\r\n\tWebElement Username;\r\n\t@FindBy(xpath = &quot;//input[@id=&#39;password&#39;]&quot;)\r\n\tWebElement PassTab;\r\n\t@FindBy(xpath = &quot;//input[@id=&#39;login-button&#39;]&quot;)\r\n\tWebElement Loginbtn;\r\n\t@FindBy(xpath = &quot;//img[@class=&#39;bot_column&#39;]&quot;)\r\n\tWebElement Logo;\r\n\r\n\tpublic loginPage() {\r\n\t\tlogs.fatal(driver);\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n             //--------------rest of the methods below -------------------------\r\n}\r\n```\r\n\r\nI have a third Test class from which the test are executed\r\n\r\n```\r\npublic class LoginTest extends Base {\r\n\r\n\tloginPage lp = new loginPage();\r\n\tLogger logs = StartLogging(&quot;LoginTest&quot;);\r\n\t\r\n\t@Test(priority = 1)\r\n\tpublic void VerifyPageTitle() throws IOException, InterruptedException {\r\n\t\t\r\n\t\tString actualTitle = driver.getTitle();\r\n\t\tString ExpectedTitle = readConfigData(&quot;ExpectedTitle&quot;);\r\n\t\tassertEquals(actualTitle, ExpectedTitle);\r\n\t}\r\n\r\n\t@Test(priority = 2)\r\n\tpublic void VerifyPageLogo() {\r\n\r\n\t\tlogs.info(lp.IslogoDisplayed());\r\n\t\tassertEquals(lp.IslogoDisplayed(), true);\r\n\t}\r\n\r\n\t@Test(priority = 3)\r\n\tpublic void VerifyPageURL() throws IOException {\r\n\t\tString ActualURL = driver.getCurrentUrl();\r\n\t\tString ExpectedURL = readConfigData(&quot;ExpectedURL&quot;);\r\n\t\tassertEquals(ActualURL, ExpectedURL);\r\n\t}\r\n\r\n         //--------------rest of the methods below -------------------------\r\n}\r\n```\r\n\r\nSo when Even I try to run the  Test from Test Suite the test class runs first before the  @BeforeSuite Class which causes Nullreferenceexception on searchContext (when initializing page objects web elements) \r\n\r\nTestNG trace looks like this\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:68)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy46.isDisplayed(Unknown Source)\r\n\tat com.saucelab.pages.loginPage.IslogoDisplayed(loginPage.java:31)\r\n\tat com.saucelab.Testcases.LoginTest.VerifyPageLogo(LoginTest.java:28)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\tat org.testng.TestRunner.run(TestRunner.java:621)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n\r\nI suspect  that the TestClass is being called before the Web driver class which causes this error \r\n\r\nUpon Debugging the following console output is displayed\r\n\r\n```\r\n19:41:31:241 [main] FATAL loginPage - null\r\n19:41:33:101 [main] FATAL Base - ChromeDriver: chrome on windows (34e5b87c9e9c80670ebcc46b04a7f9e6)\r\n19:41:33:136 [main] INFO ProductPage - Product page loaded\r\n19:41:33:167 [main] INFO YourInformationPage - Entering infomations\r\n```\r\n\r\nAs you can notice from the output **Loginpage(Test case)** log Prints first and **Base(Webdriver class)** prints second \r\n\r\n**Note:** This issue occurs only for the  first POM and rest of the  pages get initialized correctly and Test are successful \r\n\r\n  \r\n\r\nThe Base class (Web driver) should run first but  the  Login class(Test class) Gets Executed ","title":"Test Class runs before @beforeSuite Class which causes NullreferenceException on Webdriver","body":"<p>I am new to selenium and I am trying setup a Automation framework, I have two classes one for Webdriver (Base class) initialization and second is to run testScripts I have Marked the Webdriver initialization with @BeforeSuite Tag</p>\n<pre><code>public class Base {\n    \n    Logger logs = StartLogging(&quot;Base&quot;);\n    public static String browser;\n    public static WebDriver driver;\n\n    //Browser installization\n    @BeforeSuite\n    public void browserSetup() throws IOException{\n        browser = readConfigData(&quot;browser&quot;);\n        if (browser.equalsIgnoreCase(&quot;Chrome&quot;)) {\n            WebDriverManager.chromedriver().setup();\n            driver = new ChromeDriver();\n        } else if (browser.equalsIgnoreCase(&quot;Firefox&quot;)) {\n            WebDriverManager.firefoxdriver().setup();\n            driver = new FirefoxDriver();\n        } else if (browser.equalsIgnoreCase(&quot;edge&quot;)) {\n            WebDriverManager.edgedriver().setup();\n            driver = new EdgeDriver();\n        }\n        driver.get(readConfigData(&quot;TestURL&quot;));\n        driver.manage().window().maximize();\n        driver.manage().deleteAllCookies();\n        logs.fatal(driver);\n    }\n}\n</code></pre>\n<p>Secondly I have a Page object model class where I initialize the web elements</p>\n<pre><code>public class loginPage extends Base {\n\n    Logger logs = StartLogging(&quot;loginPage&quot;);\n\n    @FindBy(xpath = &quot;//input[@id='user-name']&quot;)\n    WebElement Username;\n    @FindBy(xpath = &quot;//input[@id='password']&quot;)\n    WebElement PassTab;\n    @FindBy(xpath = &quot;//input[@id='login-button']&quot;)\n    WebElement Loginbtn;\n    @FindBy(xpath = &quot;//img[@class='bot_column']&quot;)\n    WebElement Logo;\n\n    public loginPage() {\n        logs.fatal(driver);\n        PageFactory.initElements(driver, this);\n    }\n             //--------------rest of the methods below -------------------------\n}\n</code></pre>\n<p>I have a third Test class from which the test are executed</p>\n<pre><code>public class LoginTest extends Base {\n\n    loginPage lp = new loginPage();\n    Logger logs = StartLogging(&quot;LoginTest&quot;);\n    \n    @Test(priority = 1)\n    public void VerifyPageTitle() throws IOException, InterruptedException {\n        \n        String actualTitle = driver.getTitle();\n        String ExpectedTitle = readConfigData(&quot;ExpectedTitle&quot;);\n        assertEquals(actualTitle, ExpectedTitle);\n    }\n\n    @Test(priority = 2)\n    public void VerifyPageLogo() {\n\n        logs.info(lp.IslogoDisplayed());\n        assertEquals(lp.IslogoDisplayed(), true);\n    }\n\n    @Test(priority = 3)\n    public void VerifyPageURL() throws IOException {\n        String ActualURL = driver.getCurrentUrl();\n        String ExpectedURL = readConfigData(&quot;ExpectedURL&quot;);\n        assertEquals(ActualURL, ExpectedURL);\n    }\n\n         //--------------rest of the methods below -------------------------\n}\n</code></pre>\n<p>So when Even I try to run the  Test from Test Suite the test class runs first before the  @BeforeSuite Class which causes Nullreferenceexception on searchContext (when initializing page objects web elements)</p>\n<p>TestNG trace looks like this</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:68)\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\n    at jdk.proxy2/jdk.proxy2.$Proxy46.isDisplayed(Unknown Source)\n    at com.saucelab.pages.loginPage.IslogoDisplayed(loginPage.java:31)\n    at com.saucelab.Testcases.LoginTest.VerifyPageLogo(LoginTest.java:28)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>I suspect  that the TestClass is being called before the Web driver class which causes this error</p>\n<p>Upon Debugging the following console output is displayed</p>\n<pre><code>19:41:31:241 [main] FATAL loginPage - null\n19:41:33:101 [main] FATAL Base - ChromeDriver: chrome on windows (34e5b87c9e9c80670ebcc46b04a7f9e6)\n19:41:33:136 [main] INFO ProductPage - Product page loaded\n19:41:33:167 [main] INFO YourInformationPage - Entering infomations\n</code></pre>\n<p>As you can notice from the output <strong>Loginpage(Test case)</strong> log Prints first and <strong>Base(Webdriver class)</strong> prints second</p>\n<p><strong>Note:</strong> This issue occurs only for the  first POM and rest of the  pages get initialized correctly and Test are successful</p>\n<p>The Base class (Web driver) should run first but  the  Login class(Test class) Gets Executed</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":2,"creation_date":1691758111,"post_id":76883630,"comment_id":135538712,"body_markdown":"`jclass target = env-&gt;FindClass(&quot;gwy/bml/agent/nativeContent$cppFunc&quot;);` -- Your code does not check for errors.  What if `target` is null?  The error: `siginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000` suggests that you are trying to read from the null pointer.","body":"<code>jclass target = env-&gt;FindClass(&quot;gwy&#47;bml&#47;agent&#47;nativeContent$cppFunc&quot;);</code> -- Your code does not check for errors.  What if <code>target</code> is null?  The error: <code>siginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000</code> suggests that you are trying to read from the null pointer."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691758189,"post_id":76883630,"comment_id":135538734,"body_markdown":"Also, it is not wise to write JNI code without any error checking, without any error recovery, and without throwing an exception back to the Java if there is an issue.  If you had done that, then possibly you would have a better experience than have the JVM crash.","body":"Also, it is not wise to write JNI code without any error checking, without any error recovery, and without throwing an exception back to the Java if there is an issue.  If you had done that, then possibly you would have a better experience than have the JVM crash."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691758386,"post_id":76883630,"comment_id":135538773,"body_markdown":"JNI is incredibly hard to get right, I suggest you take a look at [JNA](https://github.com/java-native-access/jna).","body":"JNI is incredibly hard to get right, I suggest you take a look at <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a>."},{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":0,"creation_date":1691758427,"post_id":76883630,"comment_id":135538784,"body_markdown":"From a distance, having one executable with 3 different technologies Java/C++/Python (assuming you load python.dll in C++ to do some python stuff as well). Is asking for lifetime/memory access issues somewhere at sometime. (All 3 languages use memory in totally different manners). Is there a reason you must do this (run all code in the same process). I would at least have a look at using value semantic (copying data not passing references/pointers) and/or running each technolgy in its own process with RPC calls (grpc) in between. (unless it would hurt perfromance too much)","body":"From a distance, having one executable with 3 different technologies Java/C++/Python (assuming you load python.dll in C++ to do some python stuff as well). Is asking for lifetime/memory access issues somewhere at sometime. (All 3 languages use memory in totally different manners). Is there a reason you must do this (run all code in the same process). I would at least have a look at using value semantic (copying data not passing references/pointers) and/or running each technolgy in its own process with RPC calls (grpc) in between. (unless it would hurt perfromance too much)"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691758515,"post_id":76883630,"comment_id":135538799,"body_markdown":"@PepijnKramer Or maybe use [Graal](https://www.graalvm.org/python/).","body":"@PepijnKramer Or maybe use <a href=\"https://www.graalvm.org/python/\" rel=\"nofollow noreferrer\">Graal</a>."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691758575,"post_id":76883630,"comment_id":135538808,"body_markdown":"Yes, JNI is for those who know what they are doing, and know exactly how to diagnose issues.  It isn&#39;t for the novice -- if you are asking others why the JVM crashed using JNI, then it may be time to look for alternatives.","body":"Yes, JNI is for those who know what they are doing, and know exactly how to diagnose issues.  It isn&#39;t for the novice -- if you are asking others why the JVM crashed using JNI, then it may be time to look for alternatives."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1691758595,"post_id":76883630,"comment_id":135538811,"body_markdown":"What does `tools-&gt;ToString` do if its argument is `null` ?","body":"What does <code>tools-&gt;ToString</code> do if its argument is <code>null</code> ?"},{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":0,"creation_date":1691758833,"post_id":76883630,"comment_id":135538869,"body_markdown":"@ElliottFrisch The point I was making is that mixing languages with different life-cycle and (value/reference) semantic is always going to be problematic when you pass values by reference (e.g. C#/C++ you will need to pin memory to avoid garbage collector from interfering etc.. etc..)","body":"@ElliottFrisch The point I was making is that mixing languages with different life-cycle and (value/reference) semantic is always going to be problematic when you pass values by reference (e.g. C#/C++ you will need to pin memory to avoid garbage collector from interfering etc.. etc..)"},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691758996,"post_id":76883630,"comment_id":135538897,"body_markdown":"What makes me ensure target isn&#39;t null is that method `IsPrepared` and `setCharset` was called without errors. And `target` is used to register native methods. It proved that registering methods succeeded and &#39;target&#39; is not `null`","body":"What makes me ensure target isn&#39;t null is that method <code>IsPrepared</code> and <code>setCharset</code> was called without errors. And <code>target</code> is used to register native methods. It proved that registering methods succeeded and &#39;target&#39; is not <code>null</code>"},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":1,"creation_date":1691759170,"post_id":76883630,"comment_id":135538938,"body_markdown":"@Nahida *It proved that ...* -- That still does not address the issue of not having error checking right at that line of code where you are setting `target`.  Why wait until other functions are called before you actually claim where you are doing the checking?  Another set of eyes looking at your code should (or would) point out this deficiency.","body":"@Nahida <i>It proved that ...</i> -- That still does not address the issue of not having error checking right at that line of code where you are setting <code>target</code>.  Why wait until other functions are called before you actually claim where you are doing the checking?  Another set of eyes looking at your code should (or would) point out this deficiency."},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691759361,"post_id":76883630,"comment_id":135538991,"body_markdown":"I forgot to say that This error was thrown at the initialization stage. Python.dll is loaded and python was inited. But no python object or code was used or executed. `tools-&gt;ToString` was checked just now and it worked correctly.","body":"I forgot to say that This error was thrown at the initialization stage. Python.dll is loaded and python was inited. But no python object or code was used or executed. <code>tools-&gt;ToString</code> was checked just now and it worked correctly."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691759513,"post_id":76883630,"comment_id":135539030,"body_markdown":"@Nahida Go back to the error: `siginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000` -- That means one of your pointers, wherever they come from, is NULL, and you are attempting to access it.  That&#39;s the cause of the crash -- why the crash occurs, or why that pointer is NULL, you need to investigate.","body":"@Nahida Go back to the error: <code>siginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000</code> -- That means one of your pointers, wherever they come from, is NULL, and you are attempting to access it.  That&#39;s the cause of the crash -- why the crash occurs, or why that pointer is NULL, you need to investigate."},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691760306,"post_id":76883630,"comment_id":135539227,"body_markdown":"@PaulMcKenzie Thank you, but I really don&#39;t know what makes it. I set breakpoints on every line and followed the program running. But all the variables was correct. As long as the program executed `needTransform` and prepares to execute `needTransform`(the first line of this function even wasn&#39;t excuted) the error happened.","body":"@PaulMcKenzie Thank you, but I really don&#39;t know what makes it. I set breakpoints on every line and followed the program running. But all the variables was correct. As long as the program executed <code>needTransform</code> and prepares to execute <code>needTransform</code>(the first line of this function even wasn&#39;t excuted) the error happened."},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691760380,"post_id":76883630,"comment_id":135539248,"body_markdown":"It seems like the access to `null` happened in jvm instead of my dll file. This is what confused me.","body":"It seems like the access to <code>null</code> happened in jvm instead of my dll file. This is what confused me."},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691760528,"post_id":76883630,"comment_id":135539289,"body_markdown":"When I debug the dll, the debugger told me that the location of the error is `&lt;unknown &lt;unknown&gt; 0x0000027c88c92cb8&gt;`","body":"When I debug the dll, the debugger told me that the location of the error is <code>&lt;unknown &lt;unknown&gt; 0x0000027c88c92cb8&gt;</code>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1691763838,"post_id":76883630,"comment_id":135540033,"body_markdown":"@Nahida *It seems like the access to null happened in jvm instead of my dll file. This is what confused me.*  And that is the type of behavior that happens when you make a call in JNI that either fails or throws an exception, and because you do no error checking you just continue plodding along and wind up corrupting your JVM&#39;s memory.  Do as suggested and **check every last JNI call you make for both errors and exceptions**.","body":"@Nahida <i>It seems like the access to null happened in jvm instead of my dll file. This is what confused me.</i>  And that is the type of behavior that happens when you make a call in JNI that either fails or throws an exception, and because you do no error checking you just continue plodding along and wind up corrupting your JVM&#39;s memory.  Do as suggested and <b>check every last JNI call you make for both errors and exceptions</b>."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1691763941,"post_id":76883630,"comment_id":135540054,"body_markdown":"@ElliottFrisch *JNI is incredibly hard to get right...*  Keep it simple, **always** check for errors and exceptions, and don&#39;t do anything in native code that can be done in Java and then *passed* to native code.  JNA has its own issues, and you have no control over the native implementation.","body":"@ElliottFrisch <i>JNI is incredibly hard to get right...</i>  Keep it simple, <b>always</b> check for errors and exceptions, and don&#39;t do anything in native code that can be done in Java and then <i>passed</i> to native code.  JNA has its own issues, and you have no control over the native implementation."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691764252,"post_id":76883630,"comment_id":135540118,"body_markdown":"@AndrewHenle Good advice in general, but I&#39;m not the one crazy enough to thunk out to C++ in this scenario.","body":"@AndrewHenle Good advice in general, but I&#39;m not the one crazy enough to thunk out to C++ in this scenario."},{"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"score":0,"creation_date":1691843501,"post_id":76883630,"comment_id":135548075,"body_markdown":"Thanks for everyone&#39;s help. The problem has been solved. The access to `null` located the most amazing place. When the `jvm` loads the class `jdk/internal/reflect/GeneratedConstructorAccessor1` , `loader.getName()` will return `null`. Then `null` will be passed into the native method `needTransform`, and `jvm` will try to convert `null` to jstring. Finally it crashed.","body":"Thanks for everyone&#39;s help. The problem has been solved. The access to <code>null</code> located the most amazing place. When the <code>jvm</code> loads the class <code>jdk&#47;internal&#47;reflect&#47;GeneratedConstructorAccessor1</code> , <code>loader.getName()</code> will return <code>null</code>. Then <code>null</code> will be passed into the native method <code>needTransform</code>, and <code>jvm</code> will try to convert <code>null</code> to jstring. Finally it crashed."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1692129430,"post_id":76883630,"comment_id":135581763,"body_markdown":"Make that a answer instead of a comment so someone else can discover this issue too.","body":"Make that a answer instead of a comment so someone else can discover this issue too."}],"owner":{"account_id":29204801,"reputation":1,"user_id":22374142,"display_name":"Nahida"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691763426,"creation_date":1691757607,"question_id":76883630,"body_markdown":"I am trying to call c++ native method on java. How to make the method not to crash.\r\n\r\nI wrote a method in c++ and compiled it into a dll, then load it in java:\r\n\r\n```\r\npublic class nativeContent {\r\n    protected static class cppFunc {\r\n        public static final String[] dlls = {\r\n                &quot;python311.dll&quot;,\r\n                &quot;libwinpthread-1.dll&quot;,\r\n                &quot;libgcc_s_seh-1.dll&quot;,\r\n                &quot;libstdc++-6.dll&quot;,\r\n                &quot;BML_T.dll&quot;\r\n        };\r\n        static {\r\n            for (String dll: dlls) {\r\n                File dllFile = new File(dll);\r\n                try {\r\n                    if(!dllFile.exists()) Files.copy(Objects.requireNonNull(agentMain.class.getResourceAsStream(&quot;/&quot; + dll)), Path.of(&quot;./&quot; + dll));\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;[BML][ERROR] Could not release dependence:&quot; + e.getLocalizedMessage());\r\n                    e.printStackTrace();\r\n                }\r\n                System.load(dllFile.getAbsolutePath());\r\n            }\r\n        }\r\n        public native boolean IsPrepared();\r\n        public native void setCharset(String charset);\r\n        public native boolean needTransform(String classloader, String classname);\r\n        public native boolean handleBytes(CtClass target);\r\n        public native void runPyFunc(int id, Object ...args);\r\n    }\r\n    public static cppFunc INSTANCE = new cppFunc();\r\n}\r\n```\r\n\r\nThe problem appeared on method &quot;needTransform&quot;, I called it in the following method:\r\n\r\n    @Override\r\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer){\r\n        if(nativeContent.INSTANCE.needTransform(loader.getName(), className)){\r\n            System.out.println(&quot;[BML][INFO] Transforming &quot; + loader.getName() + &quot;::&quot; + className);\r\n               ...............\r\n        }\r\n    }\r\n\r\nThe definition in c++:\r\n\r\nlibrary.h:\r\n\r\n    class cppFunc{\r\n            static std::string lastClass;\r\n        public:\r\n            static JNIEXPORT jboolean JNICALL IsPrepared(JNIEnv *env, jobject instance);\r\n            static JNIEXPORT jboolean JNICALL needTransform(JNIEnv *env, jobject instance, jstring classloader, jstring classname);\r\n            static JNIEXPORT void JNICALL setCharset(JNIEnv *env, jobject instance, jstring charset);\r\n            static JNIEXPORT void JNICALL handleBytes(JNIEnv *env, jobject instance, jobject target);\r\n            static JNIEXPORT void JNICALL runPyFunc(JNIEnv *env, jobject instance, jint id, jobjectArray args);\r\n    };\r\n    \r\n    JNINativeMethod methods[] = {\r\n            {str(&quot;IsPrepared&quot;), str(&quot;()Z&quot;), (void *)cppFunc::IsPrepared},\r\n            {str(&quot;needTransform&quot;), str(&quot;(Ljava/lang/String;Ljava/lang/String;)Z&quot;), (void *)cppFunc::needTransform},\r\n            {str(&quot;setCharset&quot;), str(&quot;(Ljava/lang/String;)V&quot;), (void *)cppFunc::setCharset},\r\n            {str(&quot;handleBytes&quot;), str(&quot;(Ljavassist/CtClass;)Z&quot;), (void *)cppFunc::handleBytes},\r\n            {str(&quot;runPyFunc&quot;), str(&quot;(I[Ljava/lang/Object;)V&quot;), (void *)cppFunc::runPyFunc}\r\n    };\r\n\r\nlibrary.cpp:\r\n\r\n```\r\njboolean cppFunc::needTransform(JNIEnv *env, jobject instance, jstring classloader, jstring classname){\r\n    auto* tools = (CustomJEnv*)env;\r\n    cppFunc::lastClass = tools-&gt;ToString(classloader) + &quot;::&quot; + tools-&gt;ToString(classname);\r\n    return (bool)transformingClasses.count(cppFunc::lastClass);\r\n}\r\nJNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *javaVm, void *reserved){\r\n    jvm = javaVm;\r\n    CustomJEnv* env = GetEnv(&quot;BML&quot;);\r\n    jclass target = env-&gt;FindClass(&quot;gwy/bml/agent/nativeContent$cppFunc&quot;);\r\n    env-&gt;RegisterNatives(target, methods, sizeof(methods) / sizeof(JNINativeMethod));\r\n    fstream f(&quot;bml_index.py&quot;);\r\n    if(!f.good()){\r\n        f.open(&quot;bml_index.py&quot;, std::ios_base::out);\r\n        f&lt;&lt;&quot; &quot;;\r\n        f.close();\r\n    }\r\n    return JNI_VERSION_9;\r\n}\r\n```\r\n\r\nThen the error report in console:\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000001f8d30f5fa5, pid=29596, tid=30888\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, sharing, tiered, compressed oops, compressed\r\n class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# v  ~BufferBlob::jni_fast_GetCharField\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# F:\\minecraft\\BML_Test\\.minecraft\\hs_err_pid29596.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n```\r\n\r\nerror file:\r\n\r\n```\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x0000014051bc09c0):  JavaThread &quot;main&quot; [_thread_in_native, id=34784, stack(0x0000002504200000,0x0000002504300000)]\r\n\r\nStack: [0x0000002504200000,0x0000002504300000],  sp=0x00000025042fbbf8,  free space=1006k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  0x00000140608e5fa5\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nJ 1210  gwy.bml.agent.nativeContent$cppFunc.needTransform(Ljava/lang/String;Ljava/lang/String;)Z (0 bytes) @ 0x0000014061058a0b [0x00000140610589a0+0x000000000000006b]\r\nJ 583 c1 gwy.bml.agent.bmlTransformer.transform(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B (214 bytes) @ 0x00000140595040ac [0x0000014059503f40+0x000000000000016c]\r\nJ 582 c1 java.lang.instrument.ClassFileTransformer.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B java.instrument@17.0.6 (15 bytes) @ 0x000001405950070c [0x0000014059500640+0x00000000000000cc]\r\nJ 581 c1 sun.instrument.TransformerManager.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B java.instrument@17.0.6 (100 bytes) @ 0x000001405950191c [0x00000140595016e0+0x000000000000023c]\r\nJ 580 c1 sun.instrument.InstrumentationImpl.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[BZ)[B java.instrument@17.0.6 (73 bytes) @ 0x0000014059500d84 [0x0000014059500ae0+0x00000000000002a4]\r\nv  ~StubRoutines::call_stub\r\nJ 1228  java.lang.ClassLoader.defineClass1(Ljava/lang/ClassLoader;Ljava/lang/String;[BIILjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class; java.base@17.0.6 (0 bytes) @ 0x0000014061059b63 [0x0000014061059aa0+0x00000000000000c3]\r\nj  java.lang.System$2.defineClass(Ljava/lang/ClassLoader;Ljava/lang/String;[BLjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class;+10 java.base@17.0.6\r\nj  jdk.internal.reflect.ClassDefiner.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;)Ljava/lang/Class;+27 java.base@17.0.6\r\nj  jdk.internal.reflect.MethodAccessorGenerator$1.run()Ljdk/internal/reflect/MagicAccessorImpl;+21 java.base@17.0.6\r\nj  jdk.internal.reflect.MethodAccessorGenerator$1.run()Ljava/lang/Object;+1 java.base@17.0.6\r\nj  java.security.AccessController.executePrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;Ljava/lang/Class;)Ljava/lang/Object;+29 java.base@17.0.6\r\nj  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object;+5 java.base@17.0.6\r\nj  jdk.internal.reflect.MethodAccessorGenerator.generate(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Class;IZZLjava/lang/Class;)Ljdk/internal/reflect/MagicAccessorImpl;+755 java.base@17.0.6\r\nj  jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(Ljava/lang/Class;[Ljava/lang/Class;[Ljava/lang/Class;I)Ljdk/internal/reflect/ConstructorAccessor;+14 java.base@17.0.6\r\nj  jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+87 java.base@17.0.6\r\nj  jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+5 java.base@17.0.6\r\nj  java.lang.reflect.Constructor.newInstanceWithCaller([Ljava/lang/Object;ZLjava/lang/Class;)Ljava/lang/Object;+65 java.base@17.0.6\r\nj  java.lang.reflect.Constructor.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+30 java.base@17.0.6\r\nj  java.lang.reflect.Proxy.newProxyInstance(Ljava/lang/Class;Ljava/lang/reflect/Constructor;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;+21 java.base@17.0.6\r\nj  java.lang.reflect.Proxy.newProxyInstance(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;+31 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser$1.run()Ljava/lang/annotation/Annotation;+33 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser$1.run()Ljava/lang/Object;+1 java.base@17.0.6\r\nj  java.security.AccessController.executePrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;Ljava/lang/Class;)Ljava/lang/Object;+29 java.base@17.0.6\r\nj  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object;+5 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser.annotationForMap(Ljava/lang/Class;Ljava/util/Map;)Ljava/lang/annotation/Annotation;+9 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser.parseAnnotation2(Ljava/nio/ByteBuffer;Ljdk/internal/reflect/ConstantPool;Ljava/lang/Class;Z[Ljava/lang/Class;)Ljava/lang/annotation/Annotation;+267 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser.parseAnnotations2([BLjdk/internal/reflect/ConstantPool;Ljava/lang/Class;[Ljava/lang/Class;)Ljava/util/Map;+41 java.base@17.0.6\r\nj  sun.reflect.annotation.AnnotationParser.parseAnnotations([BLjdk/internal/reflect/ConstantPool;Ljava/lang/Class;)Ljava/util/Map;+12 java.base@17.0.6\r\nj  java.lang.Class.createAnnotationData(I)Ljava/lang/Class$AnnotationData;+9 java.base@17.0.6\r\nj  java.lang.Class.annotationData()Ljava/lang/Class$AnnotationData;+26 java.base@17.0.6\r\nj  java.lang.Class.getAnnotation(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;+6 java.base@17.0.6\r\nj  org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Ljava/lang/String;Ljava/lang/Class;Ljava/lang/Class;)V+119\r\nj  org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Ljava/lang/String;Ljava/lang/Class;)V+5\r\nj  org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(Lorg/apache/logging/log4j/core/config/Configuration;)Lorg/apache/logging/log4j/core/pattern/PatternParser;+42\r\nj  org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build()Lorg/apache/logging/log4j/core/layout/AbstractStringLayout$Serializer;+33\r\nj  org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/pattern/RegexReplacement;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternSelector;Ljava/nio/charset/Charset;ZZZLjava/lang/String;Ljava/lang/String;)V+137\r\nj  org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/pattern/RegexReplacement;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternSelector;Ljava/nio/charset/Charset;ZZZLjava/lang/String;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternLayout$1;)V+18\r\nj  org.apache.logging.log4j.core.layout.PatternLayout$Builder.build()Lorg/apache/logging/log4j/core/layout/PatternLayout;+45\r\nj  org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault()V+43\r\nj  org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;()V+9\r\nj  org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(Ljava/lang/String;Ljava/lang/Object;Ljava/net/URI;)V+31\r\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(Ljava/lang/String;Ljava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+7\r\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(Ljava/lang/ClassLoader;Ljava/util/Map$Entry;Ljava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+123\r\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/util/Map$Entry;ZLjava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+38\r\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;ZLjava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+7\r\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Z)Lorg/apache/logging/log4j/core/LoggerContext;+5\r\nj  org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/core/LoggerContext;+8\r\nj  org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/spi/LoggerContext;+6\r\nj  org.apache.logging.log4j.LogManager.getContext(Ljava/lang/ClassLoader;Z)Lorg/apache/logging/log4j/spi/LoggerContext;+9\r\nj  org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(Ljava/lang/Class;)Lorg/apache/logging/log4j/spi/LoggerContext;+21\r\nj  org.apache.logging.slf4j.Log4jLoggerFactory.getContext()Lorg/apache/logging/log4j/spi/LoggerContext;+46\r\nj  org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(Ljava/lang/String;)Ljava/lang/Object;+1\r\nj  org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Ljava/lang/String;)Lorg/slf4j/Logger;+2\r\nj  org.slf4j.LoggerFactory.getLogger(Ljava/lang/String;)Lorg/slf4j/Logger;+6\r\nj  org.slf4j.LoggerFactory.getLogger(Ljava/lang/Class;)Lorg/slf4j/Logger;+4\r\nj  com.mojang.logging.LogUtils.getLogger()Lorg/slf4j/Logger;+6\r\nj  net.minecraft.client.main.Main.&lt;clinit&gt;()V+0\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\r\n\r\n\r\nRegister to memory mapping:\r\n\r\nRIP=0x00000140608e5fa5 is at code_begin+37 in \r\n[CodeBlob (0x00000140608e5f10)]\r\nFramesize: 0\r\nBufferBlob (0x00000140608e5f10) used for jni_fast_GetCharField\r\nRAX=0x0 is NULL\r\nRBX=0x0000014051bc0c68 points into unknown readable memory: 0x00007fff5803a650 | 50 a6 03 58 ff 7f 00 00\r\nRCX=0x0000014051bc0c68 points into unknown readable memory: 0x00007fff5803a650 | 50 a6 03 58 ff 7f 00 00\r\nRDX=0x0 is NULL\r\nRSP=0x00000025042fbbf8 is pointing into the stack for thread: 0x0000014051bc09c0\r\nRBP=0x00000025042fbc20 is pointing into the stack for thread: 0x0000014051bc09c0\r\nRSI=0x0000000517b73020 is an oop: gwy.bml.agent.nativeContent$cppFunc \r\n{0x0000000517b73020} - klass: &#39;gwy/bml/agent/nativeContent$cppFunc&#39;\r\n - ---- fields (total size 2 words):\r\nRDI=0x0000000513d8b9b8 is an oop: java.lang.String \r\n{0x0000000513d8b9b8} - klass: &#39;java/lang/String&#39;\r\n - string: &quot;jdk/internal/reflect/GeneratedConstructorAccessor1&quot;\r\nR8 =0x0000000000000032 is an unknown value\r\nR9 =0x0 is NULL\r\nR10=0x000000000000000c is an unknown value\r\nR11=0x0000000000000002 is an unknown value\r\nR12=0x0 is NULL\r\nR13=0x0000000800c01000 is a pointer to class: \r\ngwy.bml.agent.bmlTransformer {0x0000000800c01008}\r\n - instance size:     3\r\n - klass size:        71\r\n - access:            public synchronized \r\n - state:             fully_initialized\r\n - name:              &#39;gwy/bml/agent/bmlTransformer&#39;\r\n - super:             &#39;java/lang/Object&#39;\r\n - sub:               \r\n - arrays:            NULL\r\n - methods:           Array&lt;T&gt;(0x000001407d402a28)\r\n - method ordering:   Array&lt;T&gt;(0x00000008008f3128)\r\n - default_methods:   Array&lt;T&gt;(0x000001407d402e10)\r\n - default vtable indices:   Array&lt;T&gt;(0x000001407d402e20)\r\n - local interfaces:  Array&lt;T&gt;(0x000001407d4029f8)\r\n - trans. interfaces: Array&lt;T&gt;(0x000001407d4029f8)\r\n - constants:         constant pool [168]/operands[30] {0x000001407d4023c8} for &#39;gwy/bml/agent/bmlTransformer&#39; cache=0x000001407d403a00\r\n - class loader data:  loader data: 0x000001407d8e0be0 for instance a &#39;jdk/internal/loader/ClassLoaders$AppClassLoader&#39;{0x00000005160cd1c8}\r\n - source file:       &#39;bmlTransformer.java&#39;\r\n - class annotations:       Array&lt;T&gt;(0x0000000000000000)\r\n - class type annotations:  Array&lt;T&gt;(0x0000000000000000)\r\n - field annotations:       Array&lt;T&gt;(0x0000000000000000)\r\n - field type annotations:  Array&lt;T&gt;(0x0000000000000000)\r\n - inner classes:     Array&lt;T&gt;(0x000001407d402df0)\r\n - nest members:     Array&lt;T&gt;(0x00000008005cfc78)\r\n - permitted subclasses:     Array&lt;T&gt;(0x00000008005cfc78)\r\n - java mirror:       a &#39;java/lang/Class&#39;{0x0000000517b7a008} = &#39;gwy/bml/agent/bmlTransformer&#39;\r\n - vtable length      7  (start addr: 0x0000000800c011c8)\r\n - itable length      6 (start addr: 0x0000000800c01200)\r\n - ---- static fields (0 words):\r\n - ---- non-static fields (2 words):\r\n - private final &#39;args&#39; &#39;Ljava/lang/String;&#39; @12 \r\n - private final &#39;pool&#39; &#39;Ljavassist/ClassPool;&#39; @16 \r\n - non-static oop maps: 12-16 \r\nR14=0x0 is NULL\r\nR15=0x0000014051bc09c0 is a thread\r\n```\r\n\r\nit looks like that the error was thrown in method &quot;needTransform&quot;, so I set a breakpoint on the first line of the method &quot;needTransform&quot;, but the breakpoint wasn&#39;t hit.","title":"JVM crashed when calling native c++ method","body":"<p>I am trying to call c++ native method on java. How to make the method not to crash.</p>\n<p>I wrote a method in c++ and compiled it into a dll, then load it in java:</p>\n<pre><code>public class nativeContent {\n    protected static class cppFunc {\n        public static final String[] dlls = {\n                &quot;python311.dll&quot;,\n                &quot;libwinpthread-1.dll&quot;,\n                &quot;libgcc_s_seh-1.dll&quot;,\n                &quot;libstdc++-6.dll&quot;,\n                &quot;BML_T.dll&quot;\n        };\n        static {\n            for (String dll: dlls) {\n                File dllFile = new File(dll);\n                try {\n                    if(!dllFile.exists()) Files.copy(Objects.requireNonNull(agentMain.class.getResourceAsStream(&quot;/&quot; + dll)), Path.of(&quot;./&quot; + dll));\n                } catch (IOException e) {\n                    System.out.println(&quot;[BML][ERROR] Could not release dependence:&quot; + e.getLocalizedMessage());\n                    e.printStackTrace();\n                }\n                System.load(dllFile.getAbsolutePath());\n            }\n        }\n        public native boolean IsPrepared();\n        public native void setCharset(String charset);\n        public native boolean needTransform(String classloader, String classname);\n        public native boolean handleBytes(CtClass target);\n        public native void runPyFunc(int id, Object ...args);\n    }\n    public static cppFunc INSTANCE = new cppFunc();\n}\n</code></pre>\n<p>The problem appeared on method &quot;needTransform&quot;, I called it in the following method:</p>\n<pre><code>@Override\npublic byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer){\n    if(nativeContent.INSTANCE.needTransform(loader.getName(), className)){\n        System.out.println(&quot;[BML][INFO] Transforming &quot; + loader.getName() + &quot;::&quot; + className);\n           ...............\n    }\n}\n</code></pre>\n<p>The definition in c++:</p>\n<p>library.h:</p>\n<pre><code>class cppFunc{\n        static std::string lastClass;\n    public:\n        static JNIEXPORT jboolean JNICALL IsPrepared(JNIEnv *env, jobject instance);\n        static JNIEXPORT jboolean JNICALL needTransform(JNIEnv *env, jobject instance, jstring classloader, jstring classname);\n        static JNIEXPORT void JNICALL setCharset(JNIEnv *env, jobject instance, jstring charset);\n        static JNIEXPORT void JNICALL handleBytes(JNIEnv *env, jobject instance, jobject target);\n        static JNIEXPORT void JNICALL runPyFunc(JNIEnv *env, jobject instance, jint id, jobjectArray args);\n};\n\nJNINativeMethod methods[] = {\n        {str(&quot;IsPrepared&quot;), str(&quot;()Z&quot;), (void *)cppFunc::IsPrepared},\n        {str(&quot;needTransform&quot;), str(&quot;(Ljava/lang/String;Ljava/lang/String;)Z&quot;), (void *)cppFunc::needTransform},\n        {str(&quot;setCharset&quot;), str(&quot;(Ljava/lang/String;)V&quot;), (void *)cppFunc::setCharset},\n        {str(&quot;handleBytes&quot;), str(&quot;(Ljavassist/CtClass;)Z&quot;), (void *)cppFunc::handleBytes},\n        {str(&quot;runPyFunc&quot;), str(&quot;(I[Ljava/lang/Object;)V&quot;), (void *)cppFunc::runPyFunc}\n};\n</code></pre>\n<p>library.cpp:</p>\n<pre><code>jboolean cppFunc::needTransform(JNIEnv *env, jobject instance, jstring classloader, jstring classname){\n    auto* tools = (CustomJEnv*)env;\n    cppFunc::lastClass = tools-&gt;ToString(classloader) + &quot;::&quot; + tools-&gt;ToString(classname);\n    return (bool)transformingClasses.count(cppFunc::lastClass);\n}\nJNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *javaVm, void *reserved){\n    jvm = javaVm;\n    CustomJEnv* env = GetEnv(&quot;BML&quot;);\n    jclass target = env-&gt;FindClass(&quot;gwy/bml/agent/nativeContent$cppFunc&quot;);\n    env-&gt;RegisterNatives(target, methods, sizeof(methods) / sizeof(JNINativeMethod));\n    fstream f(&quot;bml_index.py&quot;);\n    if(!f.good()){\n        f.open(&quot;bml_index.py&quot;, std::ios_base::out);\n        f&lt;&lt;&quot; &quot;;\n        f.close();\n    }\n    return JNI_VERSION_9;\n}\n</code></pre>\n<p>Then the error report in console:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000001f8d30f5fa5, pid=29596, tid=30888\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, sharing, tiered, compressed oops, compressed\n class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# v  ~BufferBlob::jni_fast_GetCharField\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# F:\\minecraft\\BML_Test\\.minecraft\\hs_err_pid29596.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>error file:</p>\n<pre><code>---------------  T H R E A D  ---------------\n\nCurrent thread (0x0000014051bc09c0):  JavaThread &quot;main&quot; [_thread_in_native, id=34784, stack(0x0000002504200000,0x0000002504300000)]\n\nStack: [0x0000002504200000,0x0000002504300000],  sp=0x00000025042fbbf8,  free space=1006k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  0x00000140608e5fa5\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ 1210  gwy.bml.agent.nativeContent$cppFunc.needTransform(Ljava/lang/String;Ljava/lang/String;)Z (0 bytes) @ 0x0000014061058a0b [0x00000140610589a0+0x000000000000006b]\nJ 583 c1 gwy.bml.agent.bmlTransformer.transform(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B (214 bytes) @ 0x00000140595040ac [0x0000014059503f40+0x000000000000016c]\nJ 582 c1 java.lang.instrument.ClassFileTransformer.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B java.instrument@17.0.6 (15 bytes) @ 0x000001405950070c [0x0000014059500640+0x00000000000000cc]\nJ 581 c1 sun.instrument.TransformerManager.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[B)[B java.instrument@17.0.6 (100 bytes) @ 0x000001405950191c [0x00000140595016e0+0x000000000000023c]\nJ 580 c1 sun.instrument.InstrumentationImpl.transform(Ljava/lang/Module;Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/Class;Ljava/security/ProtectionDomain;[BZ)[B java.instrument@17.0.6 (73 bytes) @ 0x0000014059500d84 [0x0000014059500ae0+0x00000000000002a4]\nv  ~StubRoutines::call_stub\nJ 1228  java.lang.ClassLoader.defineClass1(Ljava/lang/ClassLoader;Ljava/lang/String;[BIILjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class; java.base@17.0.6 (0 bytes) @ 0x0000014061059b63 [0x0000014061059aa0+0x00000000000000c3]\nj  java.lang.System$2.defineClass(Ljava/lang/ClassLoader;Ljava/lang/String;[BLjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class;+10 java.base@17.0.6\nj  jdk.internal.reflect.ClassDefiner.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;)Ljava/lang/Class;+27 java.base@17.0.6\nj  jdk.internal.reflect.MethodAccessorGenerator$1.run()Ljdk/internal/reflect/MagicAccessorImpl;+21 java.base@17.0.6\nj  jdk.internal.reflect.MethodAccessorGenerator$1.run()Ljava/lang/Object;+1 java.base@17.0.6\nj  java.security.AccessController.executePrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;Ljava/lang/Class;)Ljava/lang/Object;+29 java.base@17.0.6\nj  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object;+5 java.base@17.0.6\nj  jdk.internal.reflect.MethodAccessorGenerator.generate(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Class;IZZLjava/lang/Class;)Ljdk/internal/reflect/MagicAccessorImpl;+755 java.base@17.0.6\nj  jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(Ljava/lang/Class;[Ljava/lang/Class;[Ljava/lang/Class;I)Ljdk/internal/reflect/ConstructorAccessor;+14 java.base@17.0.6\nj  jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+87 java.base@17.0.6\nj  jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+5 java.base@17.0.6\nj  java.lang.reflect.Constructor.newInstanceWithCaller([Ljava/lang/Object;ZLjava/lang/Class;)Ljava/lang/Object;+65 java.base@17.0.6\nj  java.lang.reflect.Constructor.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+30 java.base@17.0.6\nj  java.lang.reflect.Proxy.newProxyInstance(Ljava/lang/Class;Ljava/lang/reflect/Constructor;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;+21 java.base@17.0.6\nj  java.lang.reflect.Proxy.newProxyInstance(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;+31 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser$1.run()Ljava/lang/annotation/Annotation;+33 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser$1.run()Ljava/lang/Object;+1 java.base@17.0.6\nj  java.security.AccessController.executePrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;Ljava/lang/Class;)Ljava/lang/Object;+29 java.base@17.0.6\nj  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object;+5 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser.annotationForMap(Ljava/lang/Class;Ljava/util/Map;)Ljava/lang/annotation/Annotation;+9 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser.parseAnnotation2(Ljava/nio/ByteBuffer;Ljdk/internal/reflect/ConstantPool;Ljava/lang/Class;Z[Ljava/lang/Class;)Ljava/lang/annotation/Annotation;+267 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser.parseAnnotations2([BLjdk/internal/reflect/ConstantPool;Ljava/lang/Class;[Ljava/lang/Class;)Ljava/util/Map;+41 java.base@17.0.6\nj  sun.reflect.annotation.AnnotationParser.parseAnnotations([BLjdk/internal/reflect/ConstantPool;Ljava/lang/Class;)Ljava/util/Map;+12 java.base@17.0.6\nj  java.lang.Class.createAnnotationData(I)Ljava/lang/Class$AnnotationData;+9 java.base@17.0.6\nj  java.lang.Class.annotationData()Ljava/lang/Class$AnnotationData;+26 java.base@17.0.6\nj  java.lang.Class.getAnnotation(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;+6 java.base@17.0.6\nj  org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Ljava/lang/String;Ljava/lang/Class;Ljava/lang/Class;)V+119\nj  org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Ljava/lang/String;Ljava/lang/Class;)V+5\nj  org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(Lorg/apache/logging/log4j/core/config/Configuration;)Lorg/apache/logging/log4j/core/pattern/PatternParser;+42\nj  org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build()Lorg/apache/logging/log4j/core/layout/AbstractStringLayout$Serializer;+33\nj  org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/pattern/RegexReplacement;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternSelector;Ljava/nio/charset/Charset;ZZZLjava/lang/String;Ljava/lang/String;)V+137\nj  org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/pattern/RegexReplacement;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternSelector;Ljava/nio/charset/Charset;ZZZLjava/lang/String;Ljava/lang/String;Lorg/apache/logging/log4j/core/layout/PatternLayout$1;)V+18\nj  org.apache.logging.log4j.core.layout.PatternLayout$Builder.build()Lorg/apache/logging/log4j/core/layout/PatternLayout;+45\nj  org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault()V+43\nj  org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;()V+9\nj  org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(Ljava/lang/String;Ljava/lang/Object;Ljava/net/URI;)V+31\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(Ljava/lang/String;Ljava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+7\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(Ljava/lang/ClassLoader;Ljava/util/Map$Entry;Ljava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+123\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/util/Map$Entry;ZLjava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+38\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;ZLjava/net/URI;)Lorg/apache/logging/log4j/core/LoggerContext;+7\nj  org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Z)Lorg/apache/logging/log4j/core/LoggerContext;+5\nj  org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/core/LoggerContext;+8\nj  org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/spi/LoggerContext;+6\nj  org.apache.logging.log4j.LogManager.getContext(Ljava/lang/ClassLoader;Z)Lorg/apache/logging/log4j/spi/LoggerContext;+9\nj  org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(Ljava/lang/Class;)Lorg/apache/logging/log4j/spi/LoggerContext;+21\nj  org.apache.logging.slf4j.Log4jLoggerFactory.getContext()Lorg/apache/logging/log4j/spi/LoggerContext;+46\nj  org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(Ljava/lang/String;)Ljava/lang/Object;+1\nj  org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Ljava/lang/String;)Lorg/slf4j/Logger;+2\nj  org.slf4j.LoggerFactory.getLogger(Ljava/lang/String;)Lorg/slf4j/Logger;+6\nj  org.slf4j.LoggerFactory.getLogger(Ljava/lang/Class;)Lorg/slf4j/Logger;+4\nj  com.mojang.logging.LogUtils.getLogger()Lorg/slf4j/Logger;+6\nj  net.minecraft.client.main.Main.&lt;clinit&gt;()V+0\nv  ~StubRoutines::call_stub\n\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\n\n\nRegister to memory mapping:\n\nRIP=0x00000140608e5fa5 is at code_begin+37 in \n[CodeBlob (0x00000140608e5f10)]\nFramesize: 0\nBufferBlob (0x00000140608e5f10) used for jni_fast_GetCharField\nRAX=0x0 is NULL\nRBX=0x0000014051bc0c68 points into unknown readable memory: 0x00007fff5803a650 | 50 a6 03 58 ff 7f 00 00\nRCX=0x0000014051bc0c68 points into unknown readable memory: 0x00007fff5803a650 | 50 a6 03 58 ff 7f 00 00\nRDX=0x0 is NULL\nRSP=0x00000025042fbbf8 is pointing into the stack for thread: 0x0000014051bc09c0\nRBP=0x00000025042fbc20 is pointing into the stack for thread: 0x0000014051bc09c0\nRSI=0x0000000517b73020 is an oop: gwy.bml.agent.nativeContent$cppFunc \n{0x0000000517b73020} - klass: 'gwy/bml/agent/nativeContent$cppFunc'\n - ---- fields (total size 2 words):\nRDI=0x0000000513d8b9b8 is an oop: java.lang.String \n{0x0000000513d8b9b8} - klass: 'java/lang/String'\n - string: &quot;jdk/internal/reflect/GeneratedConstructorAccessor1&quot;\nR8 =0x0000000000000032 is an unknown value\nR9 =0x0 is NULL\nR10=0x000000000000000c is an unknown value\nR11=0x0000000000000002 is an unknown value\nR12=0x0 is NULL\nR13=0x0000000800c01000 is a pointer to class: \ngwy.bml.agent.bmlTransformer {0x0000000800c01008}\n - instance size:     3\n - klass size:        71\n - access:            public synchronized \n - state:             fully_initialized\n - name:              'gwy/bml/agent/bmlTransformer'\n - super:             'java/lang/Object'\n - sub:               \n - arrays:            NULL\n - methods:           Array&lt;T&gt;(0x000001407d402a28)\n - method ordering:   Array&lt;T&gt;(0x00000008008f3128)\n - default_methods:   Array&lt;T&gt;(0x000001407d402e10)\n - default vtable indices:   Array&lt;T&gt;(0x000001407d402e20)\n - local interfaces:  Array&lt;T&gt;(0x000001407d4029f8)\n - trans. interfaces: Array&lt;T&gt;(0x000001407d4029f8)\n - constants:         constant pool [168]/operands[30] {0x000001407d4023c8} for 'gwy/bml/agent/bmlTransformer' cache=0x000001407d403a00\n - class loader data:  loader data: 0x000001407d8e0be0 for instance a 'jdk/internal/loader/ClassLoaders$AppClassLoader'{0x00000005160cd1c8}\n - source file:       'bmlTransformer.java'\n - class annotations:       Array&lt;T&gt;(0x0000000000000000)\n - class type annotations:  Array&lt;T&gt;(0x0000000000000000)\n - field annotations:       Array&lt;T&gt;(0x0000000000000000)\n - field type annotations:  Array&lt;T&gt;(0x0000000000000000)\n - inner classes:     Array&lt;T&gt;(0x000001407d402df0)\n - nest members:     Array&lt;T&gt;(0x00000008005cfc78)\n - permitted subclasses:     Array&lt;T&gt;(0x00000008005cfc78)\n - java mirror:       a 'java/lang/Class'{0x0000000517b7a008} = 'gwy/bml/agent/bmlTransformer'\n - vtable length      7  (start addr: 0x0000000800c011c8)\n - itable length      6 (start addr: 0x0000000800c01200)\n - ---- static fields (0 words):\n - ---- non-static fields (2 words):\n - private final 'args' 'Ljava/lang/String;' @12 \n - private final 'pool' 'Ljavassist/ClassPool;' @16 \n - non-static oop maps: 12-16 \nR14=0x0 is NULL\nR15=0x0000014051bc09c0 is a thread\n</code></pre>\n<p>it looks like that the error was thrown in method &quot;needTransform&quot;, so I set a breakpoint on the first line of the method &quot;needTransform&quot;, but the breakpoint wasn't hit.</p>\n"},{"tags":["java","maven","jaxb","jaxb2-maven-plugin"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1691763144,"creation_date":1681057650,"question_id":75971656,"body_markdown":"I have a Maven 3 build issue. Maven is\r\n\r\n    mvn -v\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: D:\\Java\\apache-maven-3.8.6\r\n    Java version: 11.0.15, vendor: Oracle Corporation, runtime: D:\\Java\\jdk-11.0.15\r\n    Default locale: en_US, platform encoding: Cp1251\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nAnd the project that fails has this part, related to the failure:\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc-beeline&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;packageName&gt;com.openpayment.provider.beeline.model&lt;/packageName&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;src/main/resources/schema/beeline.xsd&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;!--hack https://github.com/mojohaus/jaxb2-maven-plugin/issues/43--&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n                        &lt;version&gt;${jaxb-xjc.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n                        &lt;version&gt;${jakarta.activation.property}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nand the fail is:\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.403 s\r\n    [INFO] Finished at: 2023-04-09T19:21:09+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc-beeline) on project beeline-provider-impl: &quot;file:\\D:\\m2repository\\org\\glassfish\\jaxb\\jaxb-xjc\\2.3.2\\jaxb-xjc-2.3.2.jar!\\META-INF\\versions\\9&quot; is not a valid file name: {1}: Invalid file path -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :beeline-provider-impl\r\n\r\nWhat could be the reason of the fail?","title":"\\org\\glassfish\\jaxb\\jaxb-xjc\\2.3.2\\jaxb-xjc-2.3.2.jar!\\META-INF\\versions\\9&quot; is not a valid file name: {1}: Invalid file path -&gt;","body":"<p>I have a Maven 3 build issue. Maven is</p>\n<pre><code>mvn -v\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: D:\\Java\\apache-maven-3.8.6\nJava version: 11.0.15, vendor: Oracle Corporation, runtime: D:\\Java\\jdk-11.0.15\nDefault locale: en_US, platform encoding: Cp1251\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>And the project that fails has this part, related to the failure:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc-beeline&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;packageName&gt;com.openpayment.provider.beeline.model&lt;/packageName&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;src/main/resources/schema/beeline.xsd&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;!--hack https://github.com/mojohaus/jaxb2-maven-plugin/issues/43--&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n                    &lt;version&gt;${jaxb-xjc.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n                    &lt;version&gt;${jakarta.activation.property}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and the fail is:</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.403 s\n[INFO] Finished at: 2023-04-09T19:21:09+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc-beeline) on project beeline-provider-impl: &quot;file:\\D:\\m2repository\\org\\glassfish\\jaxb\\jaxb-xjc\\2.3.2\\jaxb-xjc-2.3.2.jar!\\META-INF\\versions\\9&quot; is not a valid file name: {1}: Invalid file path -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :beeline-provider-impl\n</code></pre>\n<p>What could be the reason of the fail?</p>\n"},{"tags":["java","json","spring-boot","performance","jackson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690525548,"post_id":76785265,"comment_id":135368689,"body_markdown":"I don&#39;t think `ResponseGeneratorUtil` is a Jackson or Spring class. You should add the actual profiling you&#39;ve done to your question.","body":"I don&#39;t think <code>ResponseGeneratorUtil</code> is a Jackson or Spring class. You should add the actual profiling you&#39;ve done to your question."},{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1690525662,"post_id":76785265,"comment_id":135368700,"body_markdown":"duplicate of https://stackoverflow.com/q/31101951/2453382","body":"duplicate of <a href=\"https://stackoverflow.com/q/31101951/2453382\">stackoverflow.com/q/31101951/2453382</a>"},{"owner":{"account_id":10219098,"reputation":11,"user_id":7543799,"display_name":"Yash Londhe"},"score":0,"creation_date":1690536589,"post_id":76785265,"comment_id":135370795,"body_markdown":"you can ignore ResponseGeneratorUtil","body":"you can ignore ResponseGeneratorUtil"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690542270,"post_id":76785265,"comment_id":135371890,"body_markdown":"Update your question when you&#39;ve tried afterburner/blackbird.","body":"Update your question when you&#39;ve tried afterburner/blackbird."},{"owner":{"account_id":10219098,"reputation":11,"user_id":7543799,"display_name":"Yash Londhe"},"score":0,"creation_date":1691578086,"post_id":76785265,"comment_id":135509692,"body_markdown":"Blackbird didnt give significant improvement. Question has been updated","body":"Blackbird didnt give significant improvement. Question has been updated"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691583930,"post_id":76785265,"comment_id":135510899,"body_markdown":"Extract the code which produces the JSON so you can run it in isolation. Verify that it is still slow. Then profile it.","body":"Extract the code which produces the JSON so you can run it in isolation. Verify that it is still slow. Then profile it."}],"owner":{"account_id":10219098,"reputation":11,"user_id":7543799,"display_name":"Yash Londhe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691763129,"creation_date":1690524954,"question_id":76785265,"body_markdown":"We are using spring boot v2.7.1. For json conversions we are using inbuilt provided jackson.\r\n**Problem statement:** \r\nIn a particular REST API call, we have nested POJOs, which when converted to json generate 3-5 MB of JSON.\r\n**Question/Challenge:**\r\nThis rest API call takes ~500ms. Out of which the service layer (populating of POJO) takes around 50 to 100 ms, but remaining 400 ms are taken in POJO to json conversion when sending response\r\n\r\nSample code\r\n```\r\n@RequestMapping(path = &quot;/generate/big-json&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;BigResponse&gt; generateBigResponse(@PathVariable(&quot;id&quot;) String id) {\r\n\t\t\r\n                BigResponse bigResponse = bigService.getBigResponse(id);\r\n                //the above service gets processed in 50-100 ms.\r\n\t\treturn new ResponseEntity&lt;&gt;(bigResponse, HttpStatus.OK); \r\n\t} \r\n```\r\n\r\nKindly advise if there is any way, I can reduce the 400 ms of POJO to JSON conversion time taken by springboot (or jackson internally).\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit1:**\r\n\r\nAfter using blackbird (recommended for java 11+), i saw following response times (in milli seconds). Still quite high.\r\n&lt;br/&gt;\r\n**Median : Vanilla: 320 ms vs Blackbird 284 ms**\r\n&lt;br/&gt;\r\nNote: In all runs, the same json was used of ~3 MB in size.\r\n&lt;br/&gt;\r\nWell, my question was more on the lines of https://stackoverflow.com/q/32239629  but the thread doesn&#39;t provide any proper answer.\r\n&lt;br/&gt;\r\nPlease guide on any suggestions for improvements.","title":"POJO to Response Entity json conversion time","body":"<p>We are using spring boot v2.7.1. For json conversions we are using inbuilt provided jackson.\n<strong>Problem statement:</strong>\nIn a particular REST API call, we have nested POJOs, which when converted to json generate 3-5 MB of JSON.\n<strong>Question/Challenge:</strong>\nThis rest API call takes ~500ms. Out of which the service layer (populating of POJO) takes around 50 to 100 ms, but remaining 400 ms are taken in POJO to json conversion when sending response</p>\n<p>Sample code</p>\n<pre><code>@RequestMapping(path = &quot;/generate/big-json&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;BigResponse&gt; generateBigResponse(@PathVariable(&quot;id&quot;) String id) {\n        \n                BigResponse bigResponse = bigService.getBigResponse(id);\n                //the above service gets processed in 50-100 ms.\n        return new ResponseEntity&lt;&gt;(bigResponse, HttpStatus.OK); \n    } \n</code></pre>\n<p>Kindly advise if there is any way, I can reduce the 400 ms of POJO to JSON conversion time taken by springboot (or jackson internally).</p>\n<hr />\n<p><strong>Edit1:</strong></p>\n<p>After using blackbird (recommended for java 11+), i saw following response times (in milli seconds). Still quite high.\n<br/>\n<strong>Median : Vanilla: 320 ms vs Blackbird 284 ms</strong>\n<br/>\nNote: In all runs, the same json was used of ~3 MB in size.\n<br/>\nWell, my question was more on the lines of <a href=\"https://stackoverflow.com/q/32239629\">What&#39;s the best way to convert pojo to JSON in Spring</a>  but the thread doesn't provide any proper answer.\n<br/>\nPlease guide on any suggestions for improvements.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691760931,"post_id":76884006,"comment_id":135539368,"body_markdown":"Just get the keys and sort them by yourself","body":"Just get the keys and sort them by yourself"},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1691762405,"post_id":76884006,"comment_id":135539703,"body_markdown":"It&#39;s easy, convert your JSON object to a `Map`,then sort the keys of the `Map` using any sorting algorithm of your choice, and iterate over the sorted keys and retrieve the corresponding values from the `Map`!","body":"It&#39;s easy, convert your JSON object to a <code>Map</code>,then sort the keys of the <code>Map</code> using any sorting algorithm of your choice, and iterate over the sorted keys and retrieve the corresponding values from the <code>Map</code>!"}],"owner":{"account_id":16609354,"reputation":324,"user_id":12002856,"display_name":"DAK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691762663,"creation_date":1691760687,"question_id":76884006,"body_markdown":"Previously i used older versions of json jar but now upgraded to new jar(json-20230618.jar).\r\nIn this new jar I am not able to find sortedKeys() method.\r\nHow to achieve sorted order in new jar?","title":"Why does org.json.JSONObject.sortedKeys() is removed in new version of org.json.JSONObect jar?","body":"<p>Previously i used older versions of json jar but now upgraded to new jar(json-20230618.jar).\nIn this new jar I am not able to find sortedKeys() method.\nHow to achieve sorted order in new jar?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1691760864,"post_id":76883965,"comment_id":135539360,"body_markdown":"please format correctly the images, thanks","body":"please format correctly the images, thanks"}],"answers":[{"tags":[],"owner":{"account_id":17957436,"reputation":16,"user_id":22375665,"display_name":"Mikhail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691762536,"creation_date":1691762536,"answer_id":76884261,"question_id":76883965,"body_markdown":"You need add .httpBasic(Customizer.withDefaults()) in your securityFilterChain.\r\n\r\nYou can read more about him [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57574981/what-is-httpbasic-method-in-spring-security\r\n\r\n    @Bean\r\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n                .cors((cors) -&gt; cors.disable())\r\n                .authorizeHttpRequests(\r\n                        (authorizationManagerRequestMatchers -&gt; authorizationManagerRequestMatchers\r\n                                .requestMatchers(HttpMethod.GET, &quot;/&quot;, &quot;/open&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.GET, &quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;))\r\n                ).sessionManagement((sessionManagement) -&gt; sessionManagement\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .build();\r\n    }","title":"Spring Security without WebSecurityConfigurerAdapter","body":"<p>You need add .httpBasic(Customizer.withDefaults()) in your securityFilterChain.</p>\n<p>You can read more about him <a href=\"https://stackoverflow.com/questions/57574981/what-is-httpbasic-method-in-spring-security\">here</a></p>\n<pre><code>@Bean\nprotected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .csrf((csrf) -&gt; csrf.disable())\n            .cors((cors) -&gt; cors.disable())\n            .authorizeHttpRequests(\n                    (authorizationManagerRequestMatchers -&gt; authorizationManagerRequestMatchers\n                            .requestMatchers(HttpMethod.GET, &quot;/&quot;, &quot;/open&quot;).permitAll()\n                            .requestMatchers(HttpMethod.GET, &quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;))\n            ).sessionManagement((sessionManagement) -&gt; sessionManagement\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .httpBasic(Customizer.withDefaults())\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":29206052,"reputation":3,"user_id":22375107,"display_name":"Олег Денькович Java"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76884261,"answer_count":1,"score":-2,"last_activity_date":1691762536,"creation_date":1691760337,"question_id":76883965,"body_markdown":"I wrote code, run it, but when i send request in Postman i get 403 Error\r\n[enter image description here](https://i.stack.imgur.com/pD8ty.png)\r\n[enter image description here](https://i.stack.imgur.com/N9Hul.png)\r\nI look for all sites, but i didnt find answers  I used those links https://github.com/spring-projects/spring-security/issues/10822 https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\r\n\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@AllArgsConstructor\r\npublic class MainController {\r\n    @GetMapping(&quot;/open&quot;)\r\n    public String open() {\r\n        return &quot;open url&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public String home() {\r\n        return &quot;home url&quot;;\r\n    }\r\n    @GetMapping(&quot;/secure&quot;)\r\n    public String secure() {\r\n        return &quot;secure url&quot;;\r\n    }\r\n\r\n}\r\npackage com.example.securityspring.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n                .cors((cors) -&gt; cors.disable())\r\n                .authorizeHttpRequests(\r\n                        (authorizationManagerRequestMatchers -&gt; authorizationManagerRequestMatchers\r\n                                .requestMatchers(HttpMethod.GET, &quot;/&quot;, &quot;/open&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.GET, &quot;/secure&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;))\r\n                ).sessionManagement((sessionManagement) -&gt; sessionManagement\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}````\r\n","title":"Spring Security without WebSecurityConfigurerAdapter","body":"<p>I wrote code, run it, but when i send request in Postman i get 403 Error\n<a href=\"https://i.stack.imgur.com/pD8ty.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/N9Hul.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI look for all sites, but i didnt find answers  I used those links <a href=\"https://github.com/spring-projects/spring-security/issues/10822\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/10822</a> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html</a></p>\n<pre><code>import lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@AllArgsConstructor\npublic class MainController {\n    @GetMapping(&quot;/open&quot;)\n    public String open() {\n        return &quot;open url&quot;;\n    }\n\n    @GetMapping(&quot;&quot;)\n    public String home() {\n        return &quot;home url&quot;;\n    }\n    @GetMapping(&quot;/secure&quot;)\n    public String secure() {\n        return &quot;secure url&quot;;\n    }\n\n}\npackage com.example.securityspring.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf((csrf) -&gt; csrf.disable())\n                .cors((cors) -&gt; cors.disable())\n                .authorizeHttpRequests(\n                        (authorizationManagerRequestMatchers -&gt; authorizationManagerRequestMatchers\n                                .requestMatchers(HttpMethod.GET, &quot;/&quot;, &quot;/open&quot;).permitAll()\n                                .requestMatchers(HttpMethod.GET, &quot;/secure&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;))\n                ).sessionManagement((sessionManagement) -&gt; sessionManagement\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .build();\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}````\n</code></pre>\n"},{"tags":["java","integer","compareto"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1691393148,"post_id":76849571,"comment_id":135479893,"body_markdown":"It&#39;s an abstraction for *greater than*, *equal* and *less than*… This method only compares two objects.","body":"It&#39;s an abstraction for <i>greater than</i>, <i>equal</i> and <i>less than</i>… This method only compares two objects."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":8,"creation_date":1691393432,"post_id":76849571,"comment_id":135479923,"body_markdown":"Regardless of what it actually does, there is no guarantee, so they can change it tomorrow morning. So don&#39;t rely on it. Rely on the Javadoc.","body":"Regardless of what it actually does, there is no guarantee, so they can change it tomorrow morning. So don&#39;t rely on it. Rely on the Javadoc."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691400418,"post_id":76849571,"comment_id":135481271,"body_markdown":"&quot;why is that not clearly stated in the javadocs?&quot; (i) to match the [specification](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html) of `Comparable`; (ii) to allow future optimizations; ... BTW the *smaller* primitives do indeed return different values (implemented by subtracting both values, which would not correctly work with `int`)","body":"&quot;why is that not clearly stated in the javadocs?&quot; (i) to match the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">specification</a> of <code>Comparable</code>; (ii) to allow future optimizations; ... BTW the <i>smaller</i> primitives do indeed return different values (implemented by subtracting both values, which would not correctly work with <code>int</code>)"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691538851,"post_id":76849571,"comment_id":135504524,"body_markdown":"The documentation says what you can rely on.  If you rely on anything beyond that, what you&#39;ve got it unreliable.","body":"The documentation says what you can rely on.  If you rely on anything beyond that, what you&#39;ve got it unreliable."}],"answers":[{"comments":[{"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"score":0,"creation_date":1691394518,"post_id":76849609,"comment_id":135480114,"body_markdown":"&quot;Whatever the implementation, don&#39;t rely on anything but the contract - ie &quot;any int&quot; may be returned.&quot;.  So if I want to guarantee it returns -1, 0 or 1, I have to wrap it with a Integer.signum( )? It seems unnecessary to me - do we really expect the implementation of such a fundamental class to randomly change after decades of working a certain way?","body":"&quot;Whatever the implementation, don&#39;t rely on anything but the contract - ie &quot;any int&quot; may be returned.&quot;.  So if I want to guarantee it returns -1, 0 or 1, I have to wrap it with a Integer.signum( )? It seems unnecessary to me - do we really expect the implementation of such a fundamental class to randomly change after decades of working a certain way?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1691395245,"post_id":76849609,"comment_id":135480243,"body_markdown":"@GuillaumeF. You cannot rely on the implementation. How many times and by how many different people does this need to be stated?","body":"@GuillaumeF. You cannot rely on the implementation. How many times and by how many different people does this need to be stated?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691401187,"post_id":76849609,"comment_id":135481423,"body_markdown":"@GuillaumeF. for decades we where able to `stop()` or `suspend()` a `Thread`, also a &quot;fundamental class&quot; ... not anymore in Java 20 - `UnsupportedOperationException`!","body":"@GuillaumeF. for decades we where able to <code>stop()</code> or <code>suspend()</code> a <code>Thread</code>, also a &quot;fundamental class&quot; ... not anymore in Java 20 - <code>UnsupportedOperationException</code>!"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1691442725,"post_id":76849609,"comment_id":135489781,"body_markdown":"@GuillaumeF Yes: To guarantee a value if  -1, 0 or 1, you have to wrap it with `Integer.signum( )`","body":"@GuillaumeF Yes: To guarantee a value if  -1, 0 or 1, you have to wrap it with <code>Integer.signum( )</code>"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691393832,"creation_date":1691393424,"answer_id":76849609,"question_id":76849571,"body_markdown":"`-1` and `1` are chosen for readability, convention and correctness.\r\n\r\nFor objects that are compared using an integer value, returning the difference of that value would seem to make for a simpler implementation, eg\r\n\r\n```\r\nint compareTo(MyClass that) {\r\n    return myInt - that.myInt;\r\n}\r\n```\r\n\r\nhowever [integer overflow][1] can result in returning an incorrect result. Consider when `this.myInt` is a large positive number and `that.myInt` is a large negative number - the arithmetic result may be more than `Integer.MAX_VALUE` which would then roll around to be a *negative* number, which would be wrong.\r\n\r\nWhatever the implementation, don&#39;t rely on anything but the contract - ie &quot;any int&quot; may be returned.\r\n\r\n  [1]: https://simple.wikipedia.org/wiki/Integer_overflow","title":"Integer compareTo() method, does it always return -1, 0 or 1?","body":"<p><code>-1</code> and <code>1</code> are chosen for readability, convention and correctness.</p>\n<p>For objects that are compared using an integer value, returning the difference of that value would seem to make for a simpler implementation, eg</p>\n<pre><code>int compareTo(MyClass that) {\n    return myInt - that.myInt;\n}\n</code></pre>\n<p>however <a href=\"https://simple.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">integer overflow</a> can result in returning an incorrect result. Consider when <code>this.myInt</code> is a large positive number and <code>that.myInt</code> is a large negative number - the arithmetic result may be more than <code>Integer.MAX_VALUE</code> which would then roll around to be a <em>negative</em> number, which would be wrong.</p>\n<p>Whatever the implementation, don't rely on anything but the contract - ie &quot;any int&quot; may be returned.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691538200,"creation_date":1691397534,"answer_id":76850050,"question_id":76849571,"body_markdown":"It is (IMO) unlikely that they will change the implementation of `Integer`. However the spec for `Integer.compareTo` does not state that the result is -1, 0 or +1 ... so they &gt;could&lt; change it. And if they do, then your code that relied on it would break. \r\n\r\n&gt;  So if I want to guarantee it returns -1, 0 or 1, I have to wrap it with a `Integer.signum()`?\r\n\r\nCorrect.  Or implement your own `Comparator` or `compareTo` method ... if that is viable.\r\n\r\nIf you are concerned about performance, there is a good chance that the JIT compiler will inline `signum(compareTo(anInteger))`.  It may even optimize away the redundant `signum` logic ... \r\n\r\n&gt; If it only returns -1, 0, and 1, why is that not clearly stated in the javadocs?\r\n\r\nWe can&#39;t speak for the people who wrote the spec.  However, I imagine that they didn&#39;t want to preclude the possibility of changing the implementation; e.g. for (hypothetical) performance reasons.","title":"Integer compareTo() method, does it always return -1, 0 or 1?","body":"<p>It is (IMO) unlikely that they will change the implementation of <code>Integer</code>. However the spec for <code>Integer.compareTo</code> does not state that the result is -1, 0 or +1 ... so they &gt;could&lt; change it. And if they do, then your code that relied on it would break.</p>\n<blockquote>\n<p>So if I want to guarantee it returns -1, 0 or 1, I have to wrap it with a <code>Integer.signum()</code>?</p>\n</blockquote>\n<p>Correct.  Or implement your own <code>Comparator</code> or <code>compareTo</code> method ... if that is viable.</p>\n<p>If you are concerned about performance, there is a good chance that the JIT compiler will inline <code>signum(compareTo(anInteger))</code>.  It may even optimize away the redundant <code>signum</code> logic ...</p>\n<blockquote>\n<p>If it only returns -1, 0, and 1, why is that not clearly stated in the javadocs?</p>\n</blockquote>\n<p>We can't speak for the people who wrote the spec.  However, I imagine that they didn't want to preclude the possibility of changing the implementation; e.g. for (hypothetical) performance reasons.</p>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691762330,"creation_date":1691762330,"answer_id":76884229,"question_id":76849571,"body_markdown":"I suppose they didn&#39;t specify it because the exact return value is completely irrelevant to the user. They kept it concise.\r\n\r\nYou rarely call that function yourself. It is mostly used to sort a list.\r\n\r\nAlso they can change it at any time (very unlikely but possible).","title":"Integer compareTo() method, does it always return -1, 0 or 1?","body":"<p>I suppose they didn't specify it because the exact return value is completely irrelevant to the user. They kept it concise.</p>\n<p>You rarely call that function yourself. It is mostly used to sort a list.</p>\n<p>Also they can change it at any time (very unlikely but possible).</p>\n"}],"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76850050,"answer_count":3,"score":-3,"last_activity_date":1691762330,"creation_date":1691393034,"question_id":76849571,"body_markdown":"The [javadocs][1] for the method compareTo() of the Integer class are extremely vague:\r\n\r\n&gt; Returns: the value 0 if this Integer is equal to the argument Integer; a value less than 0 if this Integer is numerically less than the argument Integer; and a value greater than 0 if this Integer is numerically greater than the argument Integer (signed comparison)\r\n\r\nThe phrasing &quot;a value less than 0&quot; makes it seem like I can expect compareTo() to return all sort of negative integers (-1, -20, -9999, etc). Same for &quot;a value greater than 0&quot;, it could really be anything above 0.\r\n\r\nI noticed the method tends to return -1 and 1, however from the javadocs there is no guarantee that this behavior will be consistent. All I&#39;m allowed to expected is an integer less than 0 or greater than 0, which could really be anything.\r\n\r\nDoes the function indeed always return -1, 0, or 1? Or does it occasionally return other values?\r\n\r\nIf it only returns -1, 0, and 1, why is that not clearly stated in the javadocs?\r\n\r\nExample:\r\n\r\n    Integer myInteger = 8;\r\n    System.out.print(myInteger.compareTo(5));\r\n    // This prints 1\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\r\n","title":"Integer compareTo() method, does it always return -1, 0 or 1?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\" rel=\"nofollow noreferrer\">javadocs</a> for the method compareTo() of the Integer class are extremely vague:</p>\n<blockquote>\n<p>Returns: the value 0 if this Integer is equal to the argument Integer; a value less than 0 if this Integer is numerically less than the argument Integer; and a value greater than 0 if this Integer is numerically greater than the argument Integer (signed comparison)</p>\n</blockquote>\n<p>The phrasing &quot;a value less than 0&quot; makes it seem like I can expect compareTo() to return all sort of negative integers (-1, -20, -9999, etc). Same for &quot;a value greater than 0&quot;, it could really be anything above 0.</p>\n<p>I noticed the method tends to return -1 and 1, however from the javadocs there is no guarantee that this behavior will be consistent. All I'm allowed to expected is an integer less than 0 or greater than 0, which could really be anything.</p>\n<p>Does the function indeed always return -1, 0, or 1? Or does it occasionally return other values?</p>\n<p>If it only returns -1, 0, and 1, why is that not clearly stated in the javadocs?</p>\n<p>Example:</p>\n<pre><code>Integer myInteger = 8;\nSystem.out.print(myInteger.compareTo(5));\n// This prints 1\n</code></pre>\n"},{"tags":["java","spring","backend","liquibase"],"answers":[{"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691762159,"creation_date":1691761763,"answer_id":76884147,"question_id":76884042,"body_markdown":"Assuming that all your changeSets were executed, you can do the following:\r\n\r\n1. Rearrange changelogs in subdirectories.\r\n2. Run [changelog-sync][1] command.\r\n\r\nAfter you rearrange the paths of the changelogs, Liquibase will treat them as new changelogs. And will attempt to execute them.\r\n\r\nTo prevent it, you can run \r\n\r\n    liquibase changelog-sync --changelog-file=example-changelog.xml\r\n\r\nto mark all the changeSets as executed.\r\n\r\n\r\n----------\r\n\r\n\r\nOr you can do the following:\r\n\r\n1. Rearrange changelogs in subdirectories.\r\n2. Add [logicalFilePath][2] attribute to override file name and path of the changeLog files.\r\n\r\nSetting the &quot;old&quot; logicalFilePath should make Liquibase think that file path has not been changed.\r\n\r\n&gt; The logicalFilePath attribute is used to override the file name and\r\n&gt; path when creating the unique identifier of changesets. The\r\n&gt; logicalFilePath attribute is required when moving or renaming\r\n&gt; changelogs to prevent Liquibase from redeploying the corresponding\r\n&gt; changesets as their unique identifier will have been changed by the\r\n&gt; move.\r\n&gt; \r\n&gt; You can specify the logicalFilePath attribute in the root section of\r\n&gt; the &lt;databaseChangeLog&gt; in your changelog or in a specific changeset.\r\n\r\nE.g.:\r\n\r\n    &lt;databaseChangeLog\r\n    \t&lt;!-- schema info --&gt;\r\n    \tlogicalFilePath=&quot;../com/example/baseChangelog.xml&quot;&gt;\r\n    &lt;changeSet id=&quot;1&quot; author=&quot;your.name&quot;&gt; \r\n    ....\r\n    &lt;changeSet id=&quot;2&quot; author=&quot;your.name&quot;&gt; \r\n    ....\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n  [1]: https://docs.liquibase.com/commands/change-tracking/changelog-sync.html\r\n  [2]: https://docs.liquibase.com/concepts/changelogs/attributes/logicalfilepath.html","title":"Tidy up Liquibase scripts","body":"<p>Assuming that all your changeSets were executed, you can do the following:</p>\n<ol>\n<li>Rearrange changelogs in subdirectories.</li>\n<li>Run <a href=\"https://docs.liquibase.com/commands/change-tracking/changelog-sync.html\" rel=\"nofollow noreferrer\">changelog-sync</a> command.</li>\n</ol>\n<p>After you rearrange the paths of the changelogs, Liquibase will treat them as new changelogs. And will attempt to execute them.</p>\n<p>To prevent it, you can run</p>\n<pre><code>liquibase changelog-sync --changelog-file=example-changelog.xml\n</code></pre>\n<p>to mark all the changeSets as executed.</p>\n<hr />\n<p>Or you can do the following:</p>\n<ol>\n<li>Rearrange changelogs in subdirectories.</li>\n<li>Add <a href=\"https://docs.liquibase.com/concepts/changelogs/attributes/logicalfilepath.html\" rel=\"nofollow noreferrer\">logicalFilePath</a> attribute to override file name and path of the changeLog files.</li>\n</ol>\n<p>Setting the &quot;old&quot; logicalFilePath should make Liquibase think that file path has not been changed.</p>\n<blockquote>\n<p>The logicalFilePath attribute is used to override the file name and\npath when creating the unique identifier of changesets. The\nlogicalFilePath attribute is required when moving or renaming\nchangelogs to prevent Liquibase from redeploying the corresponding\nchangesets as their unique identifier will have been changed by the\nmove.</p>\n<p>You can specify the logicalFilePath attribute in the root section of\nthe  in your changelog or in a specific changeset.</p>\n</blockquote>\n<p>E.g.:</p>\n<pre><code>&lt;databaseChangeLog\n    &lt;!-- schema info --&gt;\n    logicalFilePath=&quot;../com/example/baseChangelog.xml&quot;&gt;\n&lt;changeSet id=&quot;1&quot; author=&quot;your.name&quot;&gt; \n....\n&lt;changeSet id=&quot;2&quot; author=&quot;your.name&quot;&gt; \n....\n&lt;/databaseChangeLog&gt;\n</code></pre>\n"}],"owner":{"account_id":15579758,"reputation":187,"user_id":11239910,"display_name":"Žeka Koževin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691762159,"creation_date":1691761031,"question_id":76884042,"body_markdown":"I have a lot of already applied liquibase scripts in one single `changelogs` directory. The problem is that the directory has got too big. So i&#39;d like to create a bunch of subdirectories in vein like `changelogs/2014`, `changelogs/2015`, ... \r\n\r\nBut obviously whenever i move the scripts to a different directory, Liquibase fails on trying to reapply the scripts. Is there any workaround i could utilize?\r\n\r\ni tried to `&lt;includeAll path=&quot;changelogs/2014&quot; /&gt;` and `&lt;include file=&quot;changelogs/2014/changelog-2014.xml&quot; /&gt;`","title":"Tidy up Liquibase scripts","body":"<p>I have a lot of already applied liquibase scripts in one single <code>changelogs</code> directory. The problem is that the directory has got too big. So i'd like to create a bunch of subdirectories in vein like <code>changelogs/2014</code>, <code>changelogs/2015</code>, ...</p>\n<p>But obviously whenever i move the scripts to a different directory, Liquibase fails on trying to reapply the scripts. Is there any workaround i could utilize?</p>\n<p>i tried to <code>&lt;includeAll path=&quot;changelogs/2014&quot; /&gt;</code> and <code>&lt;include file=&quot;changelogs/2014/changelog-2014.xml&quot; /&gt;</code></p>\n"},{"tags":["java","ide"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1519470298,"post_id":48961795,"comment_id":84930171,"body_markdown":"Try a different IDE","body":"Try a different IDE"},{"owner":{"account_id":10192494,"reputation":566,"user_id":7525424,"accept_rate":100,"display_name":"Aemilius"},"score":4,"creation_date":1519586005,"post_id":48961795,"comment_id":84959768,"body_markdown":"What is the reason for my question getting downvoted?","body":"What is the reason for my question getting downvoted?"},{"owner":{"account_id":116797,"reputation":59645,"user_id":306149,"accept_rate":68,"display_name":"Matt Bierner"},"score":3,"creation_date":1519606459,"post_id":48961795,"comment_id":84965226,"body_markdown":"It&#39;s not really a programming question, plus the second part (which IDE should you use instead) is opinion based. See the [SO on-topic guide](https://stackoverflow.com/help/on-topic)","body":"It&#39;s not really a programming question, plus the second part (which IDE should you use instead) is opinion based. See the <a href=\"https://stackoverflow.com/help/on-topic\">SO on-topic guide</a>"}],"answers":[{"comments":[{"owner":{"account_id":955185,"reputation":405,"user_id":980631,"accept_rate":57,"display_name":"boctulus"},"score":25,"creation_date":1573595070,"post_id":48962192,"comment_id":103930763,"body_markdown":"I&#39;ve an Core i7 7700k with 16Gb of RAM and it&#39;s very slow too.","body":"I&#39;ve an Core i7 7700k with 16Gb of RAM and it&#39;s very slow too."},{"owner":{"account_id":14811139,"reputation":8954,"user_id":10696761,"display_name":"Gabriel Petersson"},"score":1,"creation_date":1599672509,"post_id":48962192,"comment_id":112848354,"body_markdown":"i have the 10980hk i9 32gb. running slowly. 16 core 5.3ghz","body":"i have the 10980hk i9 32gb. running slowly. 16 core 5.3ghz"},{"owner":{"account_id":2384656,"reputation":111,"user_id":2092375,"accept_rate":20,"display_name":"TomTerrific"},"score":1,"creation_date":1639980281,"post_id":48962192,"comment_id":124477262,"body_markdown":"several seconds lag on Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz 3.19 GHz with 64 GB ram. Not usable like this.","body":"several seconds lag on Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz 3.19 GHz with 64 GB ram. Not usable like this."}],"tags":[],"owner":{"account_id":7649524,"reputation":333,"user_id":5798856,"display_name":"Efthimis_28"},"comment_count":3,"down_vote_count":3,"up_vote_count":8,"is_accepted":true,"score":5,"last_activity_date":1519470805,"creation_date":1519470805,"answer_id":48962192,"question_id":48961795,"body_markdown":"Had the same problem using Visual Studio Code while using *Android Studio along with an Android Simulator in the background*, and I run *8GB RAM* and a *CPU of 3.2GHz* but when I returned to Notepad++ (I know its suicidal), to check if it is my problem or because of the IDEs, I typed in real time.\r\n\r\nIt is due to your processor as Visual Studio Code is not really recommended for &quot;slow&quot; CPUs. Personally I like it, although an IDE in the likes of Vim might suit you better.\r\n\r\nHere is a link that might give some more hints:\r\nhttps://github.com/Microsoft/vscode/issues/38409","title":"Visual Studio Code - lagging when typing","body":"<p>Had the same problem using Visual Studio Code while using <em>Android Studio along with an Android Simulator in the background</em>, and I run <em>8GB RAM</em> and a <em>CPU of 3.2GHz</em> but when I returned to Notepad++ (I know its suicidal), to check if it is my problem or because of the IDEs, I typed in real time.</p>\n\n<p>It is due to your processor as Visual Studio Code is not really recommended for \"slow\" CPUs. Personally I like it, although an IDE in the likes of Vim might suit you better.</p>\n\n<p>Here is a link that might give some more hints:\n<a href=\"https://github.com/Microsoft/vscode/issues/38409\" rel=\"noreferrer\">https://github.com/Microsoft/vscode/issues/38409</a></p>\n"},{"tags":[],"owner":{"account_id":15298984,"reputation":1,"user_id":11038108,"display_name":"Tsvetomir Iliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551678455,"creation_date":1551678455,"answer_id":54977291,"question_id":48961795,"body_markdown":"Same for me, I often let the computer sleep instead of turn off and kill all processes so it was normal for me that the VS was open for a few days, the **solution was to close visual studio and reopen it.**","title":"Visual Studio Code - lagging when typing","body":"<p>Same for me, I often let the computer sleep instead of turn off and kill all processes so it was normal for me that the VS was open for a few days, the <strong>solution was to close visual studio and reopen it.</strong></p>\n"},{"comments":[{"owner":{"account_id":5940229,"reputation":184,"user_id":4671758,"display_name":"George Ivanov"},"score":1,"creation_date":1601321801,"post_id":61761622,"comment_id":113365862,"body_markdown":"&quot;disable-gpu&quot; flag works for standard RPM-distributed vscode in Fedora either. That helped with the lagish interface issue. Nice one, thanks!","body":"&quot;disable-gpu&quot; flag works for standard RPM-distributed vscode in Fedora either. That helped with the lagish interface issue. Nice one, thanks!"}],"tags":[],"owner":{"account_id":978074,"reputation":8817,"user_id":998495,"accept_rate":27,"display_name":"emery"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589317714,"creation_date":1589316496,"answer_id":61761622,"question_id":48961795,"body_markdown":"The easiest solution I found was to download and install Visual Studio Code Insiders.  It&#39;s nearly identical except that it&#39;s known to lag less.  Installing this will also clear any extensions or preferences you have enabled which might be causing the lag:\r\n\r\nhttps://code.visualstudio.com/insiders/\r\n\r\nYou may also need to run it from the command line with the --disable-gpu flag\r\n\r\n    code-insiders --disable-gpu\r\n\r\nor\r\n\r\n    /Applications/Visual\\ Studio\\ Code\\ -\\ Insiders.app/Contents/MacOS/Electron --disable-gpu\r\n\r\ndepending on your OS","title":"Visual Studio Code - lagging when typing","body":"<p>The easiest solution I found was to download and install Visual Studio Code Insiders.  It's nearly identical except that it's known to lag less.  Installing this will also clear any extensions or preferences you have enabled which might be causing the lag:</p>\n\n<p><a href=\"https://code.visualstudio.com/insiders/\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/insiders/</a></p>\n\n<p>You may also need to run it from the command line with the --disable-gpu flag</p>\n\n<pre><code>code-insiders --disable-gpu\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/Applications/Visual\\ Studio\\ Code\\ -\\ Insiders.app/Contents/MacOS/Electron --disable-gpu\n</code></pre>\n\n<p>depending on your OS</p>\n"},{"tags":[],"owner":{"account_id":11626330,"reputation":129,"user_id":8516000,"display_name":"wly185"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618979470,"creation_date":1618979470,"answer_id":67189312,"question_id":48961795,"body_markdown":"maybe its the computer performance issue. i am using a laptop.\r\n\r\nyesterday i uninstall large program (MS SQl server)   \r\n\r\nnow typing speed back to normal.   ","title":"Visual Studio Code - lagging when typing","body":"<p>maybe its the computer performance issue. i am using a laptop.</p>\n<p>yesterday i uninstall large program (MS SQl server)</p>\n<p>now typing speed back to normal.</p>\n"},{"comments":[{"owner":{"account_id":791357,"reputation":3516,"user_id":1454514,"accept_rate":80,"display_name":"David Refoua"},"score":1,"creation_date":1675077761,"post_id":68282026,"comment_id":132843790,"body_markdown":"I&#39;m pretty sure it&#39;s related to extensions as this issue doesn&#39;t happen when all extensions are disabled. The question is **what** extension is causing this? How to find it out, _without_ manually going through all of them?","body":"I&#39;m pretty sure it&#39;s related to extensions as this issue doesn&#39;t happen when all extensions are disabled. The question is <b>what</b> extension is causing this? How to find it out, <i>without</i> manually going through all of them?"},{"owner":{"account_id":791357,"reputation":3516,"user_id":1454514,"accept_rate":80,"display_name":"David Refoua"},"score":2,"creation_date":1675077798,"post_id":68282026,"comment_id":132843801,"body_markdown":"P.S. I am tired of almost all answers to anything world-wide to be &quot;clean install&quot;, &quot;power off and on again&quot;, and other non-solutions... Thankfully you mentioned it as the last step.","body":"P.S. I am tired of almost all answers to anything world-wide to be &quot;clean install&quot;, &quot;power off and on again&quot;, and other non-solutions... Thankfully you mentioned it as the last step."}],"tags":[],"owner":{"account_id":21816495,"reputation":27,"user_id":16113255,"display_name":"Shajin KP"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679401684,"creation_date":1625644204,"answer_id":68282026,"question_id":48961795,"body_markdown":"### Try The Flowing :- \r\n- Disabling extensions.\r\n- Update to stable version.\r\n\r\n\r\nstill not worked ? ```reinstall``` vs code.","title":"Visual Studio Code - lagging when typing","body":"<h3>Try The Flowing :-</h3>\n<ul>\n<li>Disabling extensions.</li>\n<li>Update to stable version.</li>\n</ul>\n<p>still not worked ? <code>reinstall</code> vs code.</p>\n"},{"tags":[],"owner":{"account_id":14742393,"reputation":3,"user_id":10646737,"display_name":"Orange Uncle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649983168,"creation_date":1649934187,"answer_id":71870582,"question_id":48961795,"body_markdown":"I&#39;ve now had this problem a number of times. As a matter of fact I just had it right now. \r\nWhat solves it for me is to \r\n\r\n 1. Close VS code\r\n 2. Unpin it from my taskbar\r\n 3. Pin it back\r\n\r\nIt works well after that.\r\n\r\nClosing and reopening VS Code has never worked for me","title":"Visual Studio Code - lagging when typing","body":"<p>I've now had this problem a number of times. As a matter of fact I just had it right now.\nWhat solves it for me is to</p>\n<ol>\n<li>Close VS code</li>\n<li>Unpin it from my taskbar</li>\n<li>Pin it back</li>\n</ol>\n<p>It works well after that.</p>\n<p>Closing and reopening VS Code has never worked for me</p>\n"},{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660179642,"creation_date":1660179143,"answer_id":73314183,"question_id":48961795,"body_markdown":"## Please disable `Spring Boot Tools` from Pivotal!!!\r\nThis extension doesn&#39;t work well with other Java extesions.(ie. Extesion pack for Java and Language support for Java)\r\n\r\nAfter disabling it, I&#39;ve seen significant speed increase with Intellisense, and CPU load reduced as a result. Please get rid of the thing!!!","title":"Visual Studio Code - lagging when typing","body":"<h2>Please disable <code>Spring Boot Tools</code> from Pivotal!!!</h2>\n<p>This extension doesn't work well with other Java extesions.(ie. Extesion pack for Java and Language support for Java)</p>\n<p>After disabling it, I've seen significant speed increase with Intellisense, and CPU load reduced as a result. Please get rid of the thing!!!</p>\n"},{"tags":[],"owner":{"account_id":22739480,"reputation":343,"user_id":16901221,"display_name":"Implermine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682298242,"creation_date":1681976434,"answer_id":76061633,"question_id":48961795,"body_markdown":"for me, it was Language pack extension issue,\r\n\r\nwhen i uninstall Language pack for my country, it resolved.\r\n\r\n(updated)\r\n\r\ntry disable hardware acceleration\r\n\r\nDisable hardware acceleration: VS Code uses hardware acceleration to improve performance, but it can sometimes cause issues with typing lag. To disable hardware acceleration, go to File &gt; Preferences &gt; Settings, search for &quot;hardware acceleration&quot; and uncheck the box.\r\n\r\nthanks to GPT","title":"Visual Studio Code - lagging when typing","body":"<p>for me, it was Language pack extension issue,</p>\n<p>when i uninstall Language pack for my country, it resolved.</p>\n<p>(updated)</p>\n<p>try disable hardware acceleration</p>\n<p>Disable hardware acceleration: VS Code uses hardware acceleration to improve performance, but it can sometimes cause issues with typing lag. To disable hardware acceleration, go to File &gt; Preferences &gt; Settings, search for &quot;hardware acceleration&quot; and uncheck the box.</p>\n<p>thanks to GPT</p>\n"},{"tags":[],"owner":{"account_id":14176590,"reputation":75,"user_id":10241630,"display_name":"Erich Buelow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691762110,"creation_date":1691762110,"answer_id":76884197,"question_id":48961795,"body_markdown":"I was experiencing the same issue recently. It was also lagging when saving files.\r\n\r\nDisabling Code Actions resolved the issue for me:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iLidH.png","title":"Visual Studio Code - lagging when typing","body":"<p>I was experiencing the same issue recently. It was also lagging when saving files.</p>\n<p>Disabling Code Actions resolved the issue for me:</p>\n<p><a href=\"https://i.stack.imgur.com/iLidH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iLidH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10192494,"reputation":566,"user_id":7525424,"accept_rate":100,"display_name":"Aemilius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26072,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":48962192,"answer_count":9,"score":29,"last_activity_date":1691762110,"creation_date":1519468060,"question_id":48961795,"body_markdown":"I have just installed Visual Studio Code together with the Java Extension Pack. However, when I opened my first file and started typing, the text I type appears after a delay - reaching up even one second. &lt;br&gt;\r\nI have a hunch that it might be due to the number of processes going behind the editor, like real-time syntax checking, autocompletion, code hints et cetera. Perhaps the laptop I am working at simply cannot handle that much. These are the parameters of my current machine: &lt;br&gt;\r\nProcessor: Intel(R) Caleron(R) CPU N3350 (1.10 GHz) &lt;br&gt;\r\nRAM: 4 GB &lt;br&gt; &lt;br&gt;\r\nI have another hunch that it may be due to the processor. &lt;br&gt;&lt;br&gt;\r\nSo, are there a ways to switch off these facilities like real-time error-checking? If not, what other IDEs for Java could you reccomend? (Apart from Eclipse)\r\n","title":"Visual Studio Code - lagging when typing","body":"<p>I have just installed Visual Studio Code together with the Java Extension Pack. However, when I opened my first file and started typing, the text I type appears after a delay - reaching up even one second. <br>\nI have a hunch that it might be due to the number of processes going behind the editor, like real-time syntax checking, autocompletion, code hints et cetera. Perhaps the laptop I am working at simply cannot handle that much. These are the parameters of my current machine: <br>\nProcessor: Intel(R) Caleron(R) CPU N3350 (1.10 GHz) <br>\nRAM: 4 GB <br> <br>\nI have another hunch that it may be due to the processor. <br><br>\nSo, are there a ways to switch off these facilities like real-time error-checking? If not, what other IDEs for Java could you reccomend? (Apart from Eclipse)</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691761215,"post_id":76884062,"comment_id":135539448,"body_markdown":"What do you want Spring to do here? If there&#39;s no injection point, how are you going to use `MyBean`?","body":"What do you want Spring to do here? If there&#39;s no injection point, how are you going to use <code>MyBean</code>?"}],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691761963,"creation_date":1691761963,"answer_id":76884178,"question_id":76884062,"body_markdown":"Your `@Configuration` establishes an instance of `MyBean` in the context.\r\n\r\nAdding the `@Autowired` in `MyAnotherClass` tells spring you want it to inject a `MyBean` there.  You can declare the field as private if you want, e.g.:\r\n\r\n    @Component\r\n    public class MyAnotherClass {\r\n\r\n        @Autowired\r\n        private MyBean myBean;\r\n        \r\n    }\r\n\r\n\r\nFWIW, many, myself included, prefer constructor injection as it makes things a lot cleaner in terms of mutability and bean state.  E.g.:\r\n\r\n    @Component\r\n    public class MyAnotherClass {\r\n\r\n        private final MyBean myBean;\r\n\r\n        public MyAnotherClass(MyBean myBean){\r\n            this.myBean = myBean;\r\n        }\r\n        \r\n    }\r\n\r\nNote: you don&#39;t need `@Autowired` anywhere because you&#39;ve already told spring to instantiate `MyAnotherClass` and it only has one constructor, so spring will try to use that.\r\n\r\nFor more details on different injection types, https://reflectoring.io/constructor-injection/","title":"Spring @Configuration @Bean and @Autowired required?","body":"<p>Your <code>@Configuration</code> establishes an instance of <code>MyBean</code> in the context.</p>\n<p>Adding the <code>@Autowired</code> in <code>MyAnotherClass</code> tells spring you want it to inject a <code>MyBean</code> there.  You can declare the field as private if you want, e.g.:</p>\n<pre><code>@Component\npublic class MyAnotherClass {\n\n    @Autowired\n    private MyBean myBean;\n    \n}\n</code></pre>\n<p>FWIW, many, myself included, prefer constructor injection as it makes things a lot cleaner in terms of mutability and bean state.  E.g.:</p>\n<pre><code>@Component\npublic class MyAnotherClass {\n\n    private final MyBean myBean;\n\n    public MyAnotherClass(MyBean myBean){\n        this.myBean = myBean;\n    }\n    \n}\n</code></pre>\n<p>Note: you don't need <code>@Autowired</code> anywhere because you've already told spring to instantiate <code>MyAnotherClass</code> and it only has one constructor, so spring will try to use that.</p>\n<p>For more details on different injection types, <a href=\"https://reflectoring.io/constructor-injection/\" rel=\"nofollow noreferrer\">https://reflectoring.io/constructor-injection/</a></p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691761963,"creation_date":1691761963,"answer_id":76884179,"question_id":76884062,"body_markdown":"You obviously have to tell Spring where to inject your beans. So that `@Autowired` is indeed required. However, you can safely omit the `@Bean` method. Spring knows how to inject `@Component` classes without you telling it how to create them.","title":"Spring @Configuration @Bean and @Autowired required?","body":"<p>You obviously have to tell Spring where to inject your beans. So that <code>@Autowired</code> is indeed required. However, you can safely omit the <code>@Bean</code> method. Spring knows how to inject <code>@Component</code> classes without you telling it how to create them.</p>\n"}],"owner":{"account_id":4141233,"reputation":177,"user_id":3396478,"accept_rate":50,"display_name":"user3396478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691761963,"creation_date":1691761167,"question_id":76884062,"body_markdown":"I wanted to know if I add @Configuration to a spring class and add @Bean annotation to a method in that class which returns a new instance of the method. why do I have to @Autowired it in another class ? doesn&#39;t spring take care it of using @Configuration annotation? Here is the sample code for better understanding \r\n\r\n```\r\n@Configuration\r\npublic class MyConfiguration {\r\n\r\n    @Bean\r\n    public MyBean myBean() {\r\n\t\treturn new MyBean();\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\n@Component\r\npublic class MyAnotherClass {\r\n\r\n\t@Autowired\r\n\tMyBean myBean;\r\n    \r\n\r\n    private MyBean myBean; //why not this ? \r\n\t\r\n}\r\n```\r\n\r\n","title":"Spring @Configuration @Bean and @Autowired required?","body":"<p>I wanted to know if I add @Configuration to a spring class and add @Bean annotation to a method in that class which returns a new instance of the method. why do I have to @Autowired it in another class ? doesn't spring take care it of using @Configuration annotation? Here is the sample code for better understanding</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n    @Bean\n    public MyBean myBean() {\n        return new MyBean();\n    }\n    \n}\n</code></pre>\n<pre><code>@Component\npublic class MyAnotherClass {\n\n    @Autowired\n    MyBean myBean;\n    \n\n    private MyBean myBean; //why not this ? \n    \n}\n</code></pre>\n"},{"tags":["java","tcp","completable-future"],"answers":[{"tags":[],"owner":{"account_id":3290665,"reputation":1972,"user_id":2769062,"accept_rate":18,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691761737,"creation_date":1691761737,"answer_id":76884136,"question_id":76883759,"body_markdown":"It seems I&#39;ve found a solution - if we utilize a common ByteBuffer for read/write we must use flip() method. So the final solution would be as follows :\r\n\r\n    package tcp;\r\n    \r\n    import utilities.CompletableFutureFactory;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.AsynchronousSocketChannel;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    public class ClientTxRx {\r\n        final private AsynchronousSocketChannel m_sockChannel;\r\n        final private InetSocketAddress m_socketAddress;\r\n        final ByteBuffer m_dataBuffer;\r\n    \r\n        public ClientTxRx( String host, int port, int dataBlockSizeInBytes ) throws IOException {\r\n            m_sockChannel = AsynchronousSocketChannel.open();\r\n            m_socketAddress = new InetSocketAddress(host, port);\r\n            m_dataBuffer = ByteBuffer.allocate(dataBlockSizeInBytes);\r\n        }\r\n    \r\n        public void sendRequestReceiveResponse() throws InterruptedException, ExecutionException, TimeoutException {\r\n            CompletableFutureFactory.create(m_sockChannel.connect(m_socketAddress))\r\n            .thenCompose(s -&gt; {\r\n                return CompletableFutureFactory.create(m_sockChannel.write(m_dataBuffer));\r\n            }).thenCompose(s -&gt; {\r\n                m_dataBuffer.flip();\r\n                return CompletableFutureFactory.create(m_sockChannel.read(m_dataBuffer));\r\n            }).thenRun(() -&gt; {\r\n            }).orTimeout(2, TimeUnit.SECONDS).get();\r\n        }\r\n    }\r\n\r\n","title":"Java : TCP client based on completable future unexpected behaviour","body":"<p>It seems I've found a solution - if we utilize a common ByteBuffer for read/write we must use flip() method. So the final solution would be as follows :</p>\n<pre><code>package tcp;\n\nimport utilities.CompletableFutureFactory;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class ClientTxRx {\n    final private AsynchronousSocketChannel m_sockChannel;\n    final private InetSocketAddress m_socketAddress;\n    final ByteBuffer m_dataBuffer;\n\n    public ClientTxRx( String host, int port, int dataBlockSizeInBytes ) throws IOException {\n        m_sockChannel = AsynchronousSocketChannel.open();\n        m_socketAddress = new InetSocketAddress(host, port);\n        m_dataBuffer = ByteBuffer.allocate(dataBlockSizeInBytes);\n    }\n\n    public void sendRequestReceiveResponse() throws InterruptedException, ExecutionException, TimeoutException {\n        CompletableFutureFactory.create(m_sockChannel.connect(m_socketAddress))\n        .thenCompose(s -&gt; {\n            return CompletableFutureFactory.create(m_sockChannel.write(m_dataBuffer));\n        }).thenCompose(s -&gt; {\n            m_dataBuffer.flip();\n            return CompletableFutureFactory.create(m_sockChannel.read(m_dataBuffer));\n        }).thenRun(() -&gt; {\n        }).orTimeout(2, TimeUnit.SECONDS).get();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3290665,"reputation":1972,"user_id":2769062,"accept_rate":18,"display_name":"Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691761737,"creation_date":1691758793,"question_id":76883759,"body_markdown":"I&#39;m trying to get a TCP echo client work based on completable future chain approach. Here is my client code :\r\n\r\n    package tcp;\r\n    \r\n    import utilities.CompletableFutureFactory;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.AsynchronousSocketChannel;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    public class ClientTxRx {\r\n        final private AsynchronousSocketChannel m_sockChannel;\r\n        final private InetSocketAddress m_socketAddress;\r\n        final private int m_dataBlockSizeInBytes;\r\n    \r\n        public ClientTxRx( String host, int port, int dataBlockSizeInBytes ) throws IOException {\r\n            //create a socket channel\r\n            m_sockChannel = AsynchronousSocketChannel.open();\r\n            m_socketAddress = new InetSocketAddress(host, port);\r\n            m_dataBlockSizeInBytes = dataBlockSizeInBytes;\r\n        }\r\n    \r\n        public void sendRequestReceiveResponse() throws InterruptedException, ExecutionException {\r\n            ByteBuffer buf = ByteBuffer.allocate(m_dataBlockSizeInBytes);\r\n    \r\n            CompletableFutureFactory.create(m_sockChannel.connect(m_socketAddress))\r\n            .thenCompose(s -&gt; {\r\n                System.out.println(&quot;client: start writing&quot;);\r\n                buf.put(0, (byte)1);\r\n                buf.put(1, (byte)2);\r\n    \r\n                return CompletableFutureFactory.create(m_sockChannel.write(buf));\r\n            }).thenCompose(s -&gt; {\r\n                System.out.println(&quot;client: finished writing, start reading&quot;);\r\n                return CompletableFutureFactory.create(m_sockChannel.read(buf));\r\n            }).thenRun(() -&gt; {\r\n                final int test0 = buf.get(0);\r\n                final int test1 = buf.get(1);\r\n    \r\n                System.out.println(String.format(&quot;client Data: %d %d\\n&quot;, test0, test1));\r\n    \r\n                System.out.println(&quot;client: finished!&quot;);\r\n            }).orTimeout(1, TimeUnit.SECONDS).get();\r\n        }\r\n    }\r\n\r\nThe problem I see is that socket read happens just immediately after socket write happens and no Data from server is actually awaited. \r\n\r\nHere is a corresponsding server code :\r\n\r\n    package tcp;\r\n    \r\n    import utilities.CompletableFutureFactory;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.AsynchronousServerSocketChannel;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ServerRxTx {\r\n        final private AsynchronousServerSocketChannel m_serverSock;\r\n        final private int m_dataBlockSizeInBytes;\r\n    \r\n        public ServerRxTx(String bindAddr,\r\n                          int bindPort,\r\n                          int dataBlockSizeInBytes) throws IOException {\r\n            InetSocketAddress sockAddr = new InetSocketAddress(bindAddr, bindPort);\r\n    \r\n            m_serverSock = AsynchronousServerSocketChannel.open().bind(sockAddr);\r\n            m_dataBlockSizeInBytes = dataBlockSizeInBytes;\r\n        }\r\n    \r\n        public void startRxTx() {\r\n            final ByteBuffer buf = ByteBuffer.allocate(m_dataBlockSizeInBytes);\r\n    \r\n            CompletableFutureFactory.create(m_serverSock.accept())\r\n                    .thenAccept(s -&gt; {\r\n                        System.out.println(&quot;server: accepted&quot;);\r\n                        try {\r\n                            CompletableFutureFactory\r\n                                    .create(s.read(buf))\r\n                                    .thenCompose(readBytes -&gt; {\r\n                                        System.out.println(&quot;server: read passed, ready to write&quot;);\r\n                                        final int test0 = buf.get(0);\r\n                                        final int test1 = buf.get(1);\r\n    \r\n                                        System.out.println(String.format(&quot;server Data: %d %d\\n&quot;, test0, test1));\r\n    \r\n                                        if (readBytes == -1) {\r\n                                            throw new RuntimeException();\r\n                                        }\r\n                                        try {\r\n                                            Thread.sleep(2_000);\r\n                                        }catch (Exception e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n    \r\n                                        buf.put(0, (byte)10);\r\n                                        buf.put(1, (byte)20);\r\n    \r\n                                        return CompletableFutureFactory.create(\r\n                                                s.write(buf)\r\n                                        );\r\n    \r\n    //                                    return CompletableFutureFactory.create(\r\n    //                                            s.write(executer.execute(buf))\r\n    //                                    );\r\n                                    }).orTimeout(1, TimeUnit.SECONDS).get();\r\n                        } catch (Exception e) {\r\n                            throw new RuntimeException(e.getMessage());\r\n                        }\r\n                    }).thenRun(() -&gt; {\r\n                        System.out.println(&quot;server: finished&quot;);\r\n                    }).orTimeout(2, TimeUnit.SECONDS);\r\n        }\r\n    \r\n        public void stopRxTx() {\r\n            try {\r\n                m_serverSock.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is auxiliary code to convert future to completable future I use :\r\n\r\n    package utilities;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class CompletableFutureFactory {\r\n        public static &lt;T&gt; CompletableFuture&lt;T&gt; create(Future&lt;T&gt; future) {\r\n            if (future.isDone())\r\n                return transformDoneFuture(future);\r\n            return CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    if (!future.isDone())\r\n                        awaitFutureIsDoneInForkJoinPool(future);\r\n                    return future.get();\r\n                } catch (ExecutionException e) {\r\n                    throw new RuntimeException(e);\r\n                } catch (InterruptedException e) {\r\n                    // Normally, this should never happen inside ForkJoinPool\r\n                    Thread.currentThread().interrupt();\r\n                    // Add the following statement if the future doesn&#39;t have side effects\r\n                    // future.cancel(true);\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\r\n            CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\r\n            T result;\r\n            try {\r\n                result = future.get();\r\n            } catch (Throwable ex) {\r\n                cf.completeExceptionally(ex);\r\n                return cf;\r\n            }\r\n            cf.complete(result);\r\n            return cf;\r\n        }\r\n    \r\n        private static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\r\n                throws InterruptedException {\r\n            ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\r\n                @Override public boolean block() throws InterruptedException {\r\n                    try {\r\n                        future.get();\r\n                    } catch (ExecutionException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                    return true;\r\n                }\r\n                @Override public boolean isReleasable() {\r\n                    return future.isDone();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nAnd a short test scenario :\r\n\r\n    import tcp.ClientTxRx;\r\n    import tcp.ServerRxTx;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            try {\r\n                final var server = new ServerRxTx(&quot;127.0.0.1&quot;, 10000, 256);\r\n                final var client = new ClientTxRx(&quot;127.0.0.1&quot;, 10000, 256);\r\n    \r\n                server.startRxTx();\r\n                client.sendRequestReceiveResponse();\r\n                server.stopRxTx();\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try {\r\n                Thread.sleep(5_000);\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAny ideas what I am doing wrong?\r\n\r\n","title":"Java : TCP client based on completable future unexpected behaviour","body":"<p>I'm trying to get a TCP echo client work based on completable future chain approach. Here is my client code :</p>\n<pre><code>package tcp;\n\nimport utilities.CompletableFutureFactory;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\n\npublic class ClientTxRx {\n    final private AsynchronousSocketChannel m_sockChannel;\n    final private InetSocketAddress m_socketAddress;\n    final private int m_dataBlockSizeInBytes;\n\n    public ClientTxRx( String host, int port, int dataBlockSizeInBytes ) throws IOException {\n        //create a socket channel\n        m_sockChannel = AsynchronousSocketChannel.open();\n        m_socketAddress = new InetSocketAddress(host, port);\n        m_dataBlockSizeInBytes = dataBlockSizeInBytes;\n    }\n\n    public void sendRequestReceiveResponse() throws InterruptedException, ExecutionException {\n        ByteBuffer buf = ByteBuffer.allocate(m_dataBlockSizeInBytes);\n\n        CompletableFutureFactory.create(m_sockChannel.connect(m_socketAddress))\n        .thenCompose(s -&gt; {\n            System.out.println(&quot;client: start writing&quot;);\n            buf.put(0, (byte)1);\n            buf.put(1, (byte)2);\n\n            return CompletableFutureFactory.create(m_sockChannel.write(buf));\n        }).thenCompose(s -&gt; {\n            System.out.println(&quot;client: finished writing, start reading&quot;);\n            return CompletableFutureFactory.create(m_sockChannel.read(buf));\n        }).thenRun(() -&gt; {\n            final int test0 = buf.get(0);\n            final int test1 = buf.get(1);\n\n            System.out.println(String.format(&quot;client Data: %d %d\\n&quot;, test0, test1));\n\n            System.out.println(&quot;client: finished!&quot;);\n        }).orTimeout(1, TimeUnit.SECONDS).get();\n    }\n}\n</code></pre>\n<p>The problem I see is that socket read happens just immediately after socket write happens and no Data from server is actually awaited.</p>\n<p>Here is a corresponsding server code :</p>\n<pre><code>package tcp;\n\nimport utilities.CompletableFutureFactory;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousServerSocketChannel;\nimport java.util.concurrent.TimeUnit;\n\npublic class ServerRxTx {\n    final private AsynchronousServerSocketChannel m_serverSock;\n    final private int m_dataBlockSizeInBytes;\n\n    public ServerRxTx(String bindAddr,\n                      int bindPort,\n                      int dataBlockSizeInBytes) throws IOException {\n        InetSocketAddress sockAddr = new InetSocketAddress(bindAddr, bindPort);\n\n        m_serverSock = AsynchronousServerSocketChannel.open().bind(sockAddr);\n        m_dataBlockSizeInBytes = dataBlockSizeInBytes;\n    }\n\n    public void startRxTx() {\n        final ByteBuffer buf = ByteBuffer.allocate(m_dataBlockSizeInBytes);\n\n        CompletableFutureFactory.create(m_serverSock.accept())\n                .thenAccept(s -&gt; {\n                    System.out.println(&quot;server: accepted&quot;);\n                    try {\n                        CompletableFutureFactory\n                                .create(s.read(buf))\n                                .thenCompose(readBytes -&gt; {\n                                    System.out.println(&quot;server: read passed, ready to write&quot;);\n                                    final int test0 = buf.get(0);\n                                    final int test1 = buf.get(1);\n\n                                    System.out.println(String.format(&quot;server Data: %d %d\\n&quot;, test0, test1));\n\n                                    if (readBytes == -1) {\n                                        throw new RuntimeException();\n                                    }\n                                    try {\n                                        Thread.sleep(2_000);\n                                    }catch (Exception e) {\n                                        e.printStackTrace();\n                                    }\n\n                                    buf.put(0, (byte)10);\n                                    buf.put(1, (byte)20);\n\n                                    return CompletableFutureFactory.create(\n                                            s.write(buf)\n                                    );\n\n//                                    return CompletableFutureFactory.create(\n//                                            s.write(executer.execute(buf))\n//                                    );\n                                }).orTimeout(1, TimeUnit.SECONDS).get();\n                    } catch (Exception e) {\n                        throw new RuntimeException(e.getMessage());\n                    }\n                }).thenRun(() -&gt; {\n                    System.out.println(&quot;server: finished&quot;);\n                }).orTimeout(2, TimeUnit.SECONDS);\n    }\n\n    public void stopRxTx() {\n        try {\n            m_serverSock.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here is auxiliary code to convert future to completable future I use :</p>\n<pre><code>package utilities;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.Future;\n\npublic class CompletableFutureFactory {\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; create(Future&lt;T&gt; future) {\n        if (future.isDone())\n            return transformDoneFuture(future);\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                if (!future.isDone())\n                    awaitFutureIsDoneInForkJoinPool(future);\n                return future.get();\n            } catch (ExecutionException e) {\n                throw new RuntimeException(e);\n            } catch (InterruptedException e) {\n                // Normally, this should never happen inside ForkJoinPool\n                Thread.currentThread().interrupt();\n                // Add the following statement if the future doesn't have side effects\n                // future.cancel(true);\n                throw new RuntimeException(e);\n            }\n        });\n    }\n\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\n        CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\n        T result;\n        try {\n            result = future.get();\n        } catch (Throwable ex) {\n            cf.completeExceptionally(ex);\n            return cf;\n        }\n        cf.complete(result);\n        return cf;\n    }\n\n    private static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\n            throws InterruptedException {\n        ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\n            @Override public boolean block() throws InterruptedException {\n                try {\n                    future.get();\n                } catch (ExecutionException e) {\n                    throw new RuntimeException(e);\n                }\n                return true;\n            }\n            @Override public boolean isReleasable() {\n                return future.isDone();\n            }\n        });\n    }\n}\n</code></pre>\n<p>And a short test scenario :</p>\n<pre><code>import tcp.ClientTxRx;\nimport tcp.ServerRxTx;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            final var server = new ServerRxTx(&quot;127.0.0.1&quot;, 10000, 256);\n            final var client = new ClientTxRx(&quot;127.0.0.1&quot;, 10000, 256);\n\n            server.startRxTx();\n            client.sendRequestReceiveResponse();\n            server.stopRxTx();\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            Thread.sleep(5_000);\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Any ideas what I am doing wrong?</p>\n"},{"tags":["java","griddb"],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691760151,"creation_date":1691760151,"question_id":76883945,"body_markdown":"I have some Java code that I am running to learn and use griddb. My Griddb is running in a docker container. When I execute the program, I get a runtime error that there is a SocketTimeoutException while at the same time, the program keeps going in an infinite loop, throwing the same error at intervals. Could this error be from how the code is structured or the griddb server itself and how do I fix this? The screenshot below shows the error I am getting. [![enter image description here][1]][1]\r\nAnd here is the code: \r\n\r\n    package org.griddb;\r\n\r\n    import com.toshiba.mwcloud.gs.*;\r\n\r\n    import java.util.Date;\r\n    import java.util.Properties;\r\n\r\n    public class GridDBTest {\r\n\r\n    static class Person {\r\n        @RowKey\r\n        public String name;\r\n        private int age;\r\n    }\r\n\r\n    static class HeartRate {\r\n        @RowKey\r\n        Date ts;\r\n        int heartRate;\r\n        String activity;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws GSException {\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\r\n        props.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\r\n        props.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\r\n        props.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\n        props.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\n        GridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n\r\n        Collection&lt;String, Person&gt; people = store.putCollection(&quot;PEOPLE&quot;, Person.class);\r\n\r\n        Query&lt;Person&gt; query = people.query(&quot;select * where name = &#39;John&#39;&quot;);\r\n        RowSet&lt;Person&gt; rs = query.fetch(false);\r\n        Person person1 = new Person();\r\n        person1.age=50;\r\n        person1.name=&quot;John&quot;;\r\n        TimeSeries&lt;Person&gt; personTimeSeries = store.putTimeSeries(&quot;Admin_&quot;+person1.name, \r\n        Person.class);\r\n        personTimeSeries.put(person1);\r\n        while (rs.hasNext()) {\r\n            // Update the searched Row\r\n            Person person2 = rs.next();\r\n            System.out.println(&quot;Name: &quot;+ person2.name +&quot; Age: &quot;+ person2.age);\r\n        }\r\n        store.close();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EZabE.png","title":"GriddB Java implementation throws an Receive Timed Out error","body":"<p>I have some Java code that I am running to learn and use griddb. My Griddb is running in a docker container. When I execute the program, I get a runtime error that there is a SocketTimeoutException while at the same time, the program keeps going in an infinite loop, throwing the same error at intervals. Could this error be from how the code is structured or the griddb server itself and how do I fix this? The screenshot below shows the error I am getting. <a href=\"https://i.stack.imgur.com/EZabE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EZabE.png\" alt=\"enter image description here\" /></a>\nAnd here is the code:</p>\n<pre><code>package org.griddb;\n\nimport com.toshiba.mwcloud.gs.*;\n\nimport java.util.Date;\nimport java.util.Properties;\n\npublic class GridDBTest {\n\nstatic class Person {\n    @RowKey\n    public String name;\n    private int age;\n}\n\nstatic class HeartRate {\n    @RowKey\n    Date ts;\n    int heartRate;\n    String activity;\n}\n\n\npublic static void main(String[] args) throws GSException {\n    Properties props = new Properties();\n    props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\n    props.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\n    props.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\n    props.setProperty(&quot;user&quot;, &quot;admin&quot;);\n    props.setProperty(&quot;password&quot;, &quot;admin&quot;);\n    GridStore store = GridStoreFactory.getInstance().getGridStore(props);\n\n    Collection&lt;String, Person&gt; people = store.putCollection(&quot;PEOPLE&quot;, Person.class);\n\n    Query&lt;Person&gt; query = people.query(&quot;select * where name = 'John'&quot;);\n    RowSet&lt;Person&gt; rs = query.fetch(false);\n    Person person1 = new Person();\n    person1.age=50;\n    person1.name=&quot;John&quot;;\n    TimeSeries&lt;Person&gt; personTimeSeries = store.putTimeSeries(&quot;Admin_&quot;+person1.name, \n    Person.class);\n    personTimeSeries.put(person1);\n    while (rs.hasNext()) {\n        // Update the searched Row\n        Person person2 = rs.next();\n        System.out.println(&quot;Name: &quot;+ person2.name +&quot; Age: &quot;+ person2.age);\n    }\n    store.close();\n}\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1672693937,"post_id":74986151,"comment_id":132329820,"body_markdown":"Generally speaking, you should just launch your Application and get the GUI up and running.  Maybe it&#39;s just a Splash screen.  Then use Task to run your connection checking code on a background thread.  Use the &quot;OnSucceeded&quot; property of Task to specify the action that you want to have happen when the background Task completes.  If all is well, then load up your main screen, otherwise put up a different screen showing the problem.","body":"Generally speaking, you should just launch your Application and get the GUI up and running.  Maybe it&#39;s just a Splash screen.  Then use Task to run your connection checking code on a background thread.  Use the &quot;OnSucceeded&quot; property of Task to specify the action that you want to have happen when the background Task completes.  If all is well, then load up your main screen, otherwise put up a different screen showing the problem."},{"owner":{"account_id":27414257,"reputation":23,"user_id":20913728,"display_name":"Matias S"},"score":0,"creation_date":1672696007,"post_id":74986151,"comment_id":132330218,"body_markdown":"@DaveB To clarify, the preloader is currently serving as a splash screen to the main application. But so is using the Preloader class not viable? Because I am using the preloader class as a secondary thread to my main javafx application thread. If I used a Task, would it still be possible to run a javafx application thread, and do you possibly have any examples? Thanks : )","body":"@DaveB To clarify, the preloader is currently serving as a splash screen to the main application. But so is using the Preloader class not viable? Because I am using the preloader class as a secondary thread to my main javafx application thread. If I used a Task, would it still be possible to run a javafx application thread, and do you possibly have any examples? Thanks : )"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1672716032,"post_id":74986151,"comment_id":132333132,"body_markdown":"There is some (very dated and somewhat obsolete) information on [splash screens and JavaFX](https://stackoverflow.com/questions/15126210/how-to-use-javafx-preloader-with-stand-alone-application-in-eclipse), some is still relevant, but, in general, I&#39;d recommend following DaveB&#39;s suggestion and Slaw&#39;s example.  Also JavaFX 8 itself is obsolete, I&#39;d recommend a modern version (e.g. 19+).","body":"There is some (very dated and somewhat obsolete) information on <a href=\"https://stackoverflow.com/questions/15126210/how-to-use-javafx-preloader-with-stand-alone-application-in-eclipse\">splash screens and JavaFX</a>, some is still relevant, but, in general, I&#39;d recommend following DaveB&#39;s suggestion and Slaw&#39;s example.  Also JavaFX 8 itself is obsolete, I&#39;d recommend a modern version (e.g. 19+)."}],"answers":[{"comments":[{"owner":{"account_id":27414257,"reputation":23,"user_id":20913728,"display_name":"Matias S"},"score":0,"creation_date":1672720038,"post_id":74988103,"comment_id":132333558,"body_markdown":"Wow! You got exactly what I wanted, and this solution works perfectly! Thanks! Moreover, can tasks run a JavaFX application thread? And what is wrong with using the model (Application) file as the controller as well? Again, many thanks : ) @Slaw","body":"Wow! You got exactly what I wanted, and this solution works perfectly! Thanks! Moreover, can tasks run a JavaFX application thread? And what is wrong with using the model (Application) file as the controller as well? Again, many thanks : ) @Slaw"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672726624,"post_id":74988103,"comment_id":132334460,"body_markdown":"A `Task` _can_ be executed on the FX thread, but that&#39;s not what they&#39;re designed for. The `call()` method is executed on the thread you give the task to, but note that the task&#39;s properties and things like the `onSucceeded` handler are executed on the FX thread. See the documentation of `javafx.concurrent` for more details. And note that you don&#39;t want stuff like networking code to be executed on the FX thread; I/O is pretty much the prime example of what should be given to background threads. Also, the `init()` method is not invoked on the FX thread, but the &quot;JavaFX-Launcher&quot; thread.","body":"A <code>Task</code> <i>can</i> be executed on the FX thread, but that&#39;s not what they&#39;re designed for. The <code>call()</code> method is executed on the thread you give the task to, but note that the task&#39;s properties and things like the <code>onSucceeded</code> handler are executed on the FX thread. See the documentation of <code>javafx.concurrent</code> for more details. And note that you don&#39;t want stuff like networking code to be executed on the FX thread; I/O is pretty much the prime example of what should be given to background threads. Also, the <code>init()</code> method is not invoked on the FX thread, but the &quot;JavaFX-Launcher&quot; thread."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672726779,"post_id":74988103,"comment_id":132334491,"body_markdown":"As for the `Application` being used as an FXML controller as well, for one that simply violates the single-responsibility principle. Like I mentioned, the application class conceptually represents the entire application lifecycle. An FXML controller has no business being involved with that. At a more practical level, JavaFX creates an instance of the `Application` subclass for you (via reflection). This instance is managed by the framework. If it&#39;s also an FXML controller, then an `FXMLLoader` will create _another_ instance for itself. That makes things very hard to reason about. [cont.]","body":"As for the <code>Application</code> being used as an FXML controller as well, for one that simply violates the single-responsibility principle. Like I mentioned, the application class conceptually represents the entire application lifecycle. An FXML controller has no business being involved with that. At a more practical level, JavaFX creates an instance of the <code>Application</code> subclass for you (via reflection). This instance is managed by the framework. If it&#39;s also an FXML controller, then an <code>FXMLLoader</code> will create <i>another</i> instance for itself. That makes things very hard to reason about. [cont.]"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672726859,"post_id":74988103,"comment_id":132334509,"body_markdown":"Of course, that is only the default behavior of `FXMLLoader`, and you can configure it to use the same instance as the already-existing `Application` instance. But you should not do that, for reasons already mentioned.","body":"Of course, that is only the default behavior of <code>FXMLLoader</code>, and you can configure it to use the same instance as the already-existing <code>Application</code> instance. But you should not do that, for reasons already mentioned."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1672737158,"post_id":74988103,"comment_id":132336909,"body_markdown":"@MatiasS Advice: in future, considering asking further questions as questions rather than comments. Comments are kind of limiting and have horrible limits in length, formatting and search ability. You ask good questions and Slaw provided good answers.  They can be more generally helpful to others in a Q&amp;A format.","body":"@MatiasS Advice: in future, considering asking further questions as questions rather than comments. Comments are kind of limiting and have horrible limits in length, formatting and search ability. You ask good questions and Slaw provided good answers.  They can be more generally helpful to others in a Q&amp;A format."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1672764324,"post_id":74988103,"comment_id":132345796,"body_markdown":"@Slaw: There&#39;s no indication that he&#39;s using FXML, and I&#39;d guess that the &quot;Controller&quot; he&#39;s referring to is an MVC controller.  While using Application as an FXML Controller is an horrific idea, it&#39;s probably somewhat less so to use it as an MVC Controller.  In any event, the HTML connection stuff belongs in a Service accessed from the Model.","body":"@Slaw: There&#39;s no indication that he&#39;s using FXML, and I&#39;d guess that the &quot;Controller&quot; he&#39;s referring to is an MVC controller.  While using Application as an FXML Controller is an horrific idea, it&#39;s probably somewhat less so to use it as an MVC Controller.  In any event, the HTML connection stuff belongs in a Service accessed from the Model."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672781076,"post_id":74988103,"comment_id":132350456,"body_markdown":"@DaveB The indication is that the OP `implements Initializable`. That&#39;s not a 100% guarantee they are using FXML, since a lot of code (including the imports) is omitted, but in the context of a JavaFX application it&#39;s heavily implied. And yes, the OP should be using an architecture like MVC or MVVM, but I figured that was beyond the scope of this answer.","body":"@DaveB The indication is that the OP <code>implements Initializable</code>. That&#39;s not a 100% guarantee they are using FXML, since a lot of code (including the imports) is omitted, but in the context of a JavaFX application it&#39;s heavily implied. And yes, the OP should be using an architecture like MVC or MVVM, but I figured that was beyond the scope of this answer."},{"owner":{"account_id":27414257,"reputation":23,"user_id":20913728,"display_name":"Matias S"},"score":0,"creation_date":1672786117,"post_id":74988103,"comment_id":132351613,"body_markdown":"Thanks for the feedback and answers. Thus, I assume by using a separate app, FXML, and controller files would follow an MVC architecture? Either way, your advice and wisdom has been much appreciated : )","body":"Thanks for the feedback and answers. Thus, I assume by using a separate app, FXML, and controller files would follow an MVC architecture? Either way, your advice and wisdom has been much appreciated : )"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672787317,"post_id":74988103,"comment_id":132351860,"body_markdown":"@MatiasS In MVC, the model handles all the business logic (such as whether or not you can connect to a server). It knows nothing about the controller or the view. The view is, as expected, the visual representation of the model. And the controller handles connecting the view and model together and delegating user actions to the model. Within the scope of FXML, the view is the FXML file, the controller is the controller class (obviously), and the model comes from other code you&#39;ve written (which, again, the model should ideally not even know the view or controller exist).","body":"@MatiasS In MVC, the model handles all the business logic (such as whether or not you can connect to a server). It knows nothing about the controller or the view. The view is, as expected, the visual representation of the model. And the controller handles connecting the view and model together and delegating user actions to the model. Within the scope of FXML, the view is the FXML file, the controller is the controller class (obviously), and the model comes from other code you&#39;ve written (which, again, the model should ideally not even know the view or controller exist)."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1672852768,"post_id":74988103,"comment_id":132367977,"body_markdown":"@Slaw, I don&#39;t think that the FXML Controller counts as an MVC Controller.  There&#39;s way, way, way too much coupling between the FXML file and the FXML Controller.  In the same way, the FXML is not the independent entity that an MVC View needs to be, it&#39;s just the layout and it cannot have any knowledge of the Model (which it should do in MVC).  At best, you can consider the FXML Controller to be an MVP Presenter, but that&#39;s a different framework.  If using FXML with MVC, best to consider the FXML File, and FXML Controller together as the View.  Then create an MVC Controller class.","body":"@Slaw, I don&#39;t think that the FXML Controller counts as an MVC Controller.  There&#39;s way, way, way too much coupling between the FXML file and the FXML Controller.  In the same way, the FXML is not the independent entity that an MVC View needs to be, it&#39;s just the layout and it cannot have any knowledge of the Model (which it should do in MVC).  At best, you can consider the FXML Controller to be an MVP Presenter, but that&#39;s a different framework.  If using FXML with MVC, best to consider the FXML File, and FXML Controller together as the View.  Then create an MVC Controller class."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673075967,"post_id":74988103,"comment_id":132420606,"body_markdown":"@MatiasS DaveB&#39;s comment brings up a good point. I recommend reading it if you haven&#39;t already.","body":"@MatiasS DaveB&#39;s comment brings up a good point. I recommend reading it if you haven&#39;t already."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":11,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672704989,"creation_date":1672704989,"answer_id":74988103,"question_id":74986151,"body_markdown":"# Preloader\r\n\r\nIf you want to continue using `Preloader` for your splash screen, then you can call the desired method via a notification. Create your own notification class:\r\n\r\n```lang-java\r\n// You can modify this class to carry information to the Preloader, such\r\n// as a message indicating what kind of failure occurred.\r\npublic class ConnectionFailedNotification implements Preloader.PreloaderNotification {}\r\n```\r\n\r\nSend it to your `Preloader`:\r\n\r\n```lang-java\r\nnotifyPreloader(new ConnectionFailedNotification());\r\n```\r\n\r\nAnd handle it in said `Preloader`:\r\n\r\n```lang-java\r\n@Override\r\npublic void handleApplicationNotification(PreloaderNotification info) {\r\n    if (info instanceof ConnectionFailedNotification) {\r\n        handleConnectionWarning();\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\n---\r\n\r\n# No Preloader\r\n\r\nThe `Preloader` class makes more sense when you&#39;re deploying your application via Java Web Start (i.e., to web browsers), where the code has to be downloaded before it can be used. But Java Web Start is no longer supported (though I _think_ there may be a third-party maintaining something at least similar). Given your application is likely targeted for a simple desktop deployment, using `Preloader` can make things unnecessarily complicated. Instead consider simply updating the primary stage&#39;s content after initialization.\r\n\r\nMove your `init()` stuff into a `Task` implementation:\r\n\r\n```lang-java\r\nimport java.io.IOException;\r\nimport javafx.concurrent.Task;\r\n\r\npublic class InitTask extends Task&lt;Void&gt; {\r\n\r\n    private static final int COUNT_LIMIT = 10;\r\n\r\n    private final boolean shouldSucceed;\r\n\r\n    public InitTask(boolean shouldSucceed) {\r\n        this.shouldSucceed = shouldSucceed;\r\n    }\r\n\r\n    @Override\r\n    protected Void call() throws Exception {\r\n        for (int i = 1; i &lt;= COUNT_LIMIT; i++) {\r\n            updateProgress(i, COUNT_LIMIT);\r\n            Thread.sleep(500);\r\n        }\r\n        \r\n        // could use a Boolean return type for this, but your real code seems\r\n        // more complicated than a simple &quot;yes&quot; / &quot;no&quot; response. If you do\r\n        // change the implementation to use a return value, note that you would\r\n        // then need to check that return value in the &#39;onSucceeded&#39; handler\r\n        if (!shouldSucceed) {\r\n            throw new IOException(&quot;service unavailable&quot;); // failure\r\n        }\r\n        return null; // success\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd then launch that task on a background thread:\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ProgressBar;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;;\r\n\r\npublic class App extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        var task = new InitTask(false); // change to &#39;true&#39; to simulate success\r\n        task.setOnSucceeded(e -&gt; primaryStage.getScene().setRoot(createMainScreen()));\r\n        task.setOnFailed(e -&gt; {\r\n            var alert = new Alert(AlertType.WARNING);\r\n            alert.initOwner(primaryStage);\r\n            alert.setTitle(&quot;Server Offline&quot;);\r\n            alert.setHeaderText(&quot;Cannot connect to service&quot;);\r\n            alert.setContentText(&quot;Please check your connection&quot;);\r\n            alert.showAndWait();\r\n\r\n            Platform.exit();\r\n        });\r\n\r\n        // Also see the java.util.concurrent.Executor framework\r\n        var thread = new Thread(task, &quot;init-thread&quot;);\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n\r\n        var scene = new Scene(createSplashScreen(task), 600, 400);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    private StackPane createSplashScreen(InitTask task) {\r\n        var bar = new ProgressBar();\r\n        bar.progressProperty().bind(task.progressProperty());\r\n        return new StackPane(bar);\r\n    }\r\n\r\n    private StackPane createMainScreen() {\r\n        return new StackPane(new Label(&quot;Hello, World!&quot;));\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n# Side Notes\r\n\r\nYour `Application` subclass should not implement `Initializable`. That subclass represents the entire application and should never be used as an FXML controller.","title":"How can I call a method in a JavaFX Application&#39;s preloader instance from the main Application&#39;s init() method","body":"<h1>Preloader</h1>\n<p>If you want to continue using <code>Preloader</code> for your splash screen, then you can call the desired method via a notification. Create your own notification class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can modify this class to carry information to the Preloader, such\n// as a message indicating what kind of failure occurred.\npublic class ConnectionFailedNotification implements Preloader.PreloaderNotification {}\n</code></pre>\n<p>Send it to your <code>Preloader</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>notifyPreloader(new ConnectionFailedNotification());\n</code></pre>\n<p>And handle it in said <code>Preloader</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void handleApplicationNotification(PreloaderNotification info) {\n    if (info instanceof ConnectionFailedNotification) {\n        handleConnectionWarning();\n    }\n    // ...\n}\n</code></pre>\n<hr />\n<h1>No Preloader</h1>\n<p>The <code>Preloader</code> class makes more sense when you're deploying your application via Java Web Start (i.e., to web browsers), where the code has to be downloaded before it can be used. But Java Web Start is no longer supported (though I <em>think</em> there may be a third-party maintaining something at least similar). Given your application is likely targeted for a simple desktop deployment, using <code>Preloader</code> can make things unnecessarily complicated. Instead consider simply updating the primary stage's content after initialization.</p>\n<p>Move your <code>init()</code> stuff into a <code>Task</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport javafx.concurrent.Task;\n\npublic class InitTask extends Task&lt;Void&gt; {\n\n    private static final int COUNT_LIMIT = 10;\n\n    private final boolean shouldSucceed;\n\n    public InitTask(boolean shouldSucceed) {\n        this.shouldSucceed = shouldSucceed;\n    }\n\n    @Override\n    protected Void call() throws Exception {\n        for (int i = 1; i &lt;= COUNT_LIMIT; i++) {\n            updateProgress(i, COUNT_LIMIT);\n            Thread.sleep(500);\n        }\n        \n        // could use a Boolean return type for this, but your real code seems\n        // more complicated than a simple &quot;yes&quot; / &quot;no&quot; response. If you do\n        // change the implementation to use a return value, note that you would\n        // then need to check that return value in the 'onSucceeded' handler\n        if (!shouldSucceed) {\n            throw new IOException(&quot;service unavailable&quot;); // failure\n        }\n        return null; // success\n    }\n    \n}\n</code></pre>\n<p>And then launch that task on a background thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ProgressBar;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;;\n\npublic class App extends Application {\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        var task = new InitTask(false); // change to 'true' to simulate success\n        task.setOnSucceeded(e -&gt; primaryStage.getScene().setRoot(createMainScreen()));\n        task.setOnFailed(e -&gt; {\n            var alert = new Alert(AlertType.WARNING);\n            alert.initOwner(primaryStage);\n            alert.setTitle(&quot;Server Offline&quot;);\n            alert.setHeaderText(&quot;Cannot connect to service&quot;);\n            alert.setContentText(&quot;Please check your connection&quot;);\n            alert.showAndWait();\n\n            Platform.exit();\n        });\n\n        // Also see the java.util.concurrent.Executor framework\n        var thread = new Thread(task, &quot;init-thread&quot;);\n        thread.setDaemon(true);\n        thread.start();\n\n        var scene = new Scene(createSplashScreen(task), 600, 400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private StackPane createSplashScreen(InitTask task) {\n        var bar = new ProgressBar();\n        bar.progressProperty().bind(task.progressProperty());\n        return new StackPane(bar);\n    }\n\n    private StackPane createMainScreen() {\n        return new StackPane(new Label(&quot;Hello, World!&quot;));\n    }\n}\n</code></pre>\n<hr />\n<h1>Side Notes</h1>\n<p>Your <code>Application</code> subclass should not implement <code>Initializable</code>. That subclass represents the entire application and should never be used as an FXML controller.</p>\n"}],"owner":{"account_id":27414257,"reputation":23,"user_id":20913728,"display_name":"Matias S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74988103,"answer_count":1,"score":2,"last_activity_date":1691760125,"creation_date":1672686416,"question_id":74986151,"body_markdown":"In a JavaFX application&#39;s init() method I am doing some checks, one of them is a check to see if it can connect to a web address based using Http response codes. This app also has a preloader that runs while these checks are happening.\r\n\r\nDepending on the response code, I want it to display an alert window during the preloader application&#39;s lifecycle\r\n\r\nI am not sure if this is possible using the current javafx preloader class, but is there any workaround that could achieve this?\r\n\r\nBelow is an SSCCE of what I would want\r\n\r\nThe application\r\n```java\r\npublic class MainApplicationLauncher extends Application implements Initializable{\r\n\r\n    ...\r\n\r\n    public void init() throws Exception {       \r\n    \t  \r\n        for (int i = 1; i &lt;= COUNT_LIMIT; i++) {\r\n            double progress =(double) i/10;\r\n            System.out.println(&quot;progress: &quot; +  progress);         \r\n            \r\n            notifyPreloader(new ProgressNotification(progress));\r\n            Thread.sleep(500);\r\n        }\r\n        \r\n        try {\r\n        \tURL url = new URL(&quot;https://example.com&quot;);\r\n        \tHttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n        \tconnection.setRequestMethod(&quot;GET&quot;);\r\n        \tconnection.connect();        \t\r\n        \tint code = connection.getResponseCode();\r\n        \tSystem.out.println(&quot;Response code of the object is &quot;+code);\r\n        \tif (code==200) {\r\n        \t\tSystem.out.println(&quot;Connected to the internet!&quot;);\r\n        \t}else if (code==503){\r\n                        //call the handleConnectionWarning() in preloader\r\n        \t\tSystem.out.println(&quot;server down !&quot;);\r\n        \t}\r\n        } catch (UnknownHostException e) {\r\n                //call the handleConnectionWarning() in preloader\r\n        \tSystem.out.println(&quot;cannot connect to the internet!&quot;);\r\n        }\r\n\r\n    public static void main(String[] args) {        \r\n       System.setProperty(&quot;javafx.preloader&quot;, MainPreloader.class.getCanonicalName());\r\n        Application.launch(MainApplicationLauncher.class, args);\r\n   }\r\n}\r\n```\r\n\r\nThe preloader\r\n```java\r\npublic class MyPreloader extends Preloader {\r\n\r\n...\r\n\r\n//Method that should be called from application method\r\n\r\npublic void handleConnectionWarning() {\r\n    \tAlert alert = new Alert(AlertType.WARNING);\r\n    \talert.setTitle(&quot;Server is Offline&quot;);\r\n    \talert.setHeaderText(&quot;Cannot connect to service&quot;);\r\n    \talert.setContentText(&quot;Please check your connection&quot;);\r\n\r\n    \talert.showAndWait();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAre there any ways to do this?","title":"How can I call a method in a JavaFX Application&#39;s preloader instance from the main Application&#39;s init() method","body":"<p>In a JavaFX application's init() method I am doing some checks, one of them is a check to see if it can connect to a web address based using Http response codes. This app also has a preloader that runs while these checks are happening.</p>\n<p>Depending on the response code, I want it to display an alert window during the preloader application's lifecycle</p>\n<p>I am not sure if this is possible using the current javafx preloader class, but is there any workaround that could achieve this?</p>\n<p>Below is an SSCCE of what I would want</p>\n<p>The application</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainApplicationLauncher extends Application implements Initializable{\n\n    ...\n\n    public void init() throws Exception {       \n          \n        for (int i = 1; i &lt;= COUNT_LIMIT; i++) {\n            double progress =(double) i/10;\n            System.out.println(&quot;progress: &quot; +  progress);         \n            \n            notifyPreloader(new ProgressNotification(progress));\n            Thread.sleep(500);\n        }\n        \n        try {\n            URL url = new URL(&quot;https://example.com&quot;);\n            HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.connect();           \n            int code = connection.getResponseCode();\n            System.out.println(&quot;Response code of the object is &quot;+code);\n            if (code==200) {\n                System.out.println(&quot;Connected to the internet!&quot;);\n            }else if (code==503){\n                        //call the handleConnectionWarning() in preloader\n                System.out.println(&quot;server down !&quot;);\n            }\n        } catch (UnknownHostException e) {\n                //call the handleConnectionWarning() in preloader\n            System.out.println(&quot;cannot connect to the internet!&quot;);\n        }\n\n    public static void main(String[] args) {        \n       System.setProperty(&quot;javafx.preloader&quot;, MainPreloader.class.getCanonicalName());\n        Application.launch(MainApplicationLauncher.class, args);\n   }\n}\n</code></pre>\n<p>The preloader</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyPreloader extends Preloader {\n\n...\n\n//Method that should be called from application method\n\npublic void handleConnectionWarning() {\n        Alert alert = new Alert(AlertType.WARNING);\n        alert.setTitle(&quot;Server is Offline&quot;);\n        alert.setHeaderText(&quot;Cannot connect to service&quot;);\n        alert.setContentText(&quot;Please check your connection&quot;);\n\n        alert.showAndWait();\n    }\n\n}\n</code></pre>\n<p>Are there any ways to do this?</p>\n"},{"tags":["java","intellij-idea","snakeyaml"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1678558813,"post_id":75707801,"comment_id":133558214,"body_markdown":"Make sure the library is added to the classpath. Just adding in lib will not add to classpath. https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea","body":"Make sure the library is added to the classpath. Just adding in lib will not add to classpath. <a href=\"https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea\" title=\"how to add directory to classpath in an application run profile in intellij idea\">stackoverflow.com/questions/854264/&hellip;</a>"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678678814,"post_id":75707801,"comment_id":133574147,"body_markdown":"Check the guide here https://www.jetbrains.com/help/idea/library.html#define-a-project-library and make sure that you have also included this library in the IDEA.","body":"Check the guide here <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a> and make sure that you have also included this library in the IDEA."}],"answers":[{"tags":[],"owner":{"account_id":27958793,"reputation":11,"user_id":21351079,"display_name":"RyuunAkasaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678561562,"creation_date":1678561562,"answer_id":75708880,"question_id":75707801,"body_markdown":"NoClassDefFoundError comes when the class was available at compile time but somehow not available at runtime. If the static initializer block of a class throws an Exception during loading, the class will not be available for others to use. \r\n\r\nRead more: https://www.java67.com/2012/08/what-is-noclassdeffounderror-in-java.html#ixzz7vg5HdQoZ\r\n\r\nHope it will help!","title":"Snakeyaml class not found","body":"<p>NoClassDefFoundError comes when the class was available at compile time but somehow not available at runtime. If the static initializer block of a class throws an Exception during loading, the class will not be available for others to use.</p>\n<p>Read more: <a href=\"https://www.java67.com/2012/08/what-is-noclassdeffounderror-in-java.html#ixzz7vg5HdQoZ\" rel=\"nofollow noreferrer\">https://www.java67.com/2012/08/what-is-noclassdeffounderror-in-java.html#ixzz7vg5HdQoZ</a></p>\n<p>Hope it will help!</p>\n"}],"owner":{"account_id":3023583,"reputation":103,"user_id":2564061,"accept_rate":71,"display_name":"Smok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691759732,"creation_date":1678558187,"question_id":75707801,"body_markdown":"I&#39;m trying to write very simple app using Intellij Idea. I&#39;ve put snakeyaml in folder lib created by me and imported it into my class. When I run i got error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/yaml/snakeyaml/Yaml\r\n\tat ConfigStore.readConfig(ConfigStore.java:22)\r\n\tat ConfigStore.&lt;init&gt;(ConfigStore.java:12)\r\n\tat Main.main(Main.java:9)\r\n    Caused by: java.lang.ClassNotFoundException: org.yaml.snakeyaml.Yaml\r\n\r\nI&#39;m not using maven or anything like that. I used other libs (for example SQLite) in this project and had no problems. What am I doing wrong?\r\n\r\n[Update] I managed to make it work but to achieve that I had to build everything from scratch this time using maven. That&#39;s not what was my original idea so this is more workaround than solution.","title":"Snakeyaml class not found","body":"<p>I'm trying to write very simple app using Intellij Idea. I've put snakeyaml in folder lib created by me and imported it into my class. When I run i got error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/yaml/snakeyaml/Yaml\nat ConfigStore.readConfig(ConfigStore.java:22)\nat ConfigStore.&lt;init&gt;(ConfigStore.java:12)\nat Main.main(Main.java:9)\nCaused by: java.lang.ClassNotFoundException: org.yaml.snakeyaml.Yaml\n</code></pre>\n<p>I'm not using maven or anything like that. I used other libs (for example SQLite) in this project and had no problems. What am I doing wrong?</p>\n<p>[Update] I managed to make it work but to achieve that I had to build everything from scratch this time using maven. That's not what was my original idea so this is more workaround than solution.</p>\n"},{"tags":["java","maven","offline"],"comments":[{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":0,"creation_date":1314638071,"post_id":7233328,"comment_id":8697861,"body_markdown":"Do you have any machine with internet access? Maybe a server?","body":"Do you have any machine with internet access? Maybe a server?"},{"owner":{"display_name":"user130532"},"score":2,"creation_date":1314638289,"post_id":7233328,"comment_id":8697913,"body_markdown":"We do, but to get things from there to the development environment is well, tedious.","body":"We do, but to get things from there to the development environment is well, tedious."}],"answers":[{"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1314640168,"post_id":7233394,"comment_id":8698390,"body_markdown":"That seems to be more for dependencies and plugins like the jetty, tomcat, etc plugins. I am more concerned about the internal maven plugins like maven-compiler-plugin","body":"That seems to be more for dependencies and plugins like the jetty, tomcat, etc plugins. I am more concerned about the internal maven plugins like maven-compiler-plugin"},{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":1,"creation_date":1318246013,"post_id":7233394,"comment_id":9379848,"body_markdown":"@predhme: This approach will work for all plugins, since all of these go into the maven repository on your local machine","body":"@predhme: This approach will work for all plugins, since all of these go into the maven repository on your local machine"}],"tags":[],"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314638520,"creation_date":1314637969,"answer_id":7233394,"question_id":7233328,"body_markdown":"Does this work for you?\r\n\r\nhttp://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html\r\n\r\nDon&#39;t forget to add it to your plugin repository and point the url to wherever your repository is.\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;url&gt;file://D:\\mavenrepo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;url&gt;file://D:\\mavenrepo&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n\r\nIf not, you may need to run a local server, e.g. apache, on your machines.","title":"How do I configure Maven for offline development?","body":"<p>Does this work for you?</p>\n\n<p><a href=\"http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html\" rel=\"nofollow\">http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html</a></p>\n\n<p>Don't forget to add it to your plugin repository and point the url to wherever your repository is.</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;url&gt;file://D:\\mavenrepo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;url&gt;file://D:\\mavenrepo&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>If not, you may need to run a local server, e.g. apache, on your machines.</p>\n"},{"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1314640003,"post_id":7233578,"comment_id":8698348,"body_markdown":"There is not a machine with access that is connected to the LAN.","body":"There is not a machine with access that is connected to the LAN."},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":2,"creation_date":1314641487,"post_id":7233578,"comment_id":8698674,"body_markdown":"With artifactory you can backup your whole repository and then restore it in one of the PCs that is in the LAN.","body":"With artifactory you can backup your whole repository and then restore it in one of the PCs that is in the LAN."}],"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1314638956,"creation_date":1314638956,"answer_id":7233578,"question_id":7233328,"body_markdown":"If you have a PC with internet access in your LAN, you should install a local Maven repository.\n\nI recommend [Artifactory Open Source][1]. This is what we use in our organization, it is really easy to setup.\n\n&gt; Artifactory acts as a proxy between your build tool (Maven, Ant, Ivy, Gradle etc.) and the outside world.\n&gt;\n&gt; It caches remote artifacts so that you don’t have to download them over and over again.\n&gt;\n&gt; It blocks unwanted (and sometimes security-sensitive) external requests for internal artifacts and controls how and where artifacts are deployed, and by whom.\n\nAfter setting up Artifactory you just need to change Maven&#39;s `settings.xml` in the development machines:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;settings xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n      &lt;mirrors&gt;\n        &lt;mirror&gt;\n          &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n          &lt;name&gt;repo&lt;/name&gt;\n          &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/repo&lt;/url&gt;\n          &lt;id&gt;repo&lt;/id&gt;\n        &lt;/mirror&gt;\n      &lt;/mirrors&gt;\n      &lt;profiles&gt;\n        &lt;profile&gt;\n          &lt;repositories&gt;\n            &lt;repository&gt;\n              &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n              &lt;/snapshots&gt;\n              &lt;id&gt;central&lt;/id&gt;\n              &lt;name&gt;libs-release&lt;/name&gt;\n              &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/libs-release&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n              &lt;snapshots /&gt;\n              &lt;id&gt;snapshots&lt;/id&gt;\n              &lt;name&gt;libs-snapshot&lt;/name&gt;\n              &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/libs-snapshot&lt;/url&gt;\n            &lt;/repository&gt;\n          &lt;/repositories&gt;\n          &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n              &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n              &lt;/snapshots&gt;\n              &lt;id&gt;central&lt;/id&gt;\n              &lt;name&gt;plugins-release&lt;/name&gt;\n              &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/plugins-release&lt;/url&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n              &lt;snapshots /&gt;\n              &lt;id&gt;snapshots&lt;/id&gt;\n              &lt;name&gt;plugins-snapshot&lt;/name&gt;\n              &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/plugins-snapshot&lt;/url&gt;\n            &lt;/pluginRepository&gt;\n          &lt;/pluginRepositories&gt;\n          &lt;id&gt;artifactory&lt;/id&gt;\n        &lt;/profile&gt;\n      &lt;/profiles&gt;\n      &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\n      &lt;/activeProfiles&gt;\n    &lt;/settings&gt;\n\nWe used this solution because we had problems with internet access in our development machines and some artifacts downloaded corrupted files or didn&#39;t download at all. We haven&#39;t had problems since.\n\n\n[1]: http://www.jfrog.com/products.php","title":"How do I configure Maven for offline development?","body":"<p>If you have a PC with internet access in your LAN, you should install a local Maven repository.</p>\n<p>I recommend <a href=\"http://www.jfrog.com/products.php\" rel=\"noreferrer\">Artifactory Open Source</a>. This is what we use in our organization, it is really easy to setup.</p>\n<blockquote>\n<p>Artifactory acts as a proxy between your build tool (Maven, Ant, Ivy, Gradle etc.) and the outside world.</p>\n<p>It caches remote artifacts so that you don’t have to download them over and over again.</p>\n<p>It blocks unwanted (and sometimes security-sensitive) external requests for internal artifacts and controls how and where artifacts are deployed, and by whom.</p>\n</blockquote>\n<p>After setting up Artifactory you just need to change Maven's <code>settings.xml</code> in the development machines:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n      &lt;name&gt;repo&lt;/name&gt;\n      &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/repo&lt;/url&gt;\n      &lt;id&gt;repo&lt;/id&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;name&gt;libs-release&lt;/name&gt;\n          &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/libs-release&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n          &lt;snapshots /&gt;\n          &lt;id&gt;snapshots&lt;/id&gt;\n          &lt;name&gt;libs-snapshot&lt;/name&gt;\n          &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/libs-snapshot&lt;/url&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;name&gt;plugins-release&lt;/name&gt;\n          &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/plugins-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n          &lt;snapshots /&gt;\n          &lt;id&gt;snapshots&lt;/id&gt;\n          &lt;name&gt;plugins-snapshot&lt;/name&gt;\n          &lt;url&gt;http://maven.yourorganization.com:8081/artifactory/plugins-snapshot&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n      &lt;id&gt;artifactory&lt;/id&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n  &lt;activeProfiles&gt;\n    &lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>We used this solution because we had problems with internet access in our development machines and some artifacts downloaded corrupted files or didn't download at all. We haven't had problems since.</p>\n"},{"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1314650894,"post_id":7233762,"comment_id":8701417,"body_markdown":"Inconjuntion with this answer, I discovered that mvn comes with its &quot;core&quot; plugins (i.e. compiler). So this with mvn install I can get what I need.","body":"Inconjuntion with this answer, I discovered that mvn comes with its &quot;core&quot; plugins (i.e. compiler). So this with mvn install I can get what I need."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":9,"creation_date":1399132865,"post_id":7233762,"comment_id":35939079,"body_markdown":"Also consider you can use &quot;mvn dependency:go-offline&quot; to ensure _all_ the dependencies referred to in your pom.xml are present in your local repository.","body":"Also consider you can use &quot;mvn dependency:go-offline&quot; to ensure <i>all</i> the dependencies referred to in your pom.xml are present in your local repository."},{"owner":{"account_id":283094,"reputation":10747,"user_id":580412,"accept_rate":96,"display_name":"phs"},"score":23,"creation_date":1407877305,"post_id":7233762,"comment_id":39383535,"body_markdown":"Unfortunately `mvn dependency:go-offline` simply does _not_ catch everything.  Inside a fresh virtual machine, for example, my project still must download things even after running this goal.  See also [this issue](https://jira.codehaus.org/browse/MDEP-82).","body":"Unfortunately <code>mvn dependency:go-offline</code> simply does <i>not</i> catch everything.  Inside a fresh virtual machine, for example, my project still must download things even after running this goal.  See also <a href=\"https://jira.codehaus.org/browse/MDEP-82\" rel=\"nofollow noreferrer\">this issue</a>."},{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":4,"creation_date":1493363982,"post_id":7233762,"comment_id":74394539,"body_markdown":"My experience shows that the -o option doesn&#39;t work properly and that the go-offline goal is far from sufficient to allow a full offline build: See the solution I found here: http://stackoverflow.com/q/43661755/1767316","body":"My experience shows that the -o option doesn&#39;t work properly and that the go-offline goal is far from sufficient to allow a full offline build: See the solution I found here: <a href=\"http://stackoverflow.com/q/43661755/1767316\">stackoverflow.com/q/43661755/1767316</a>"},{"owner":{"account_id":346371,"reputation":593,"user_id":679858,"display_name":"Udo"},"score":0,"creation_date":1521117966,"post_id":7233762,"comment_id":85601327,"body_markdown":"If you add the flag -llr additionally to -o it should work.","body":"If you add the flag -llr additionally to -o it should work."},{"owner":{"account_id":342992,"reputation":801,"user_id":674442,"accept_rate":60,"display_name":"Semo"},"score":0,"creation_date":1612795487,"post_id":7233762,"comment_id":116870874,"body_markdown":"@Udo I tried with and w/o `-llr` flag, both worked fine. I read the manual and it says, that this flag uses legacy local repo which imitates maven v2 behavior. Any idea why to use the flag?","body":"@Udo I tried with and w/o <code>-llr</code> flag, both worked fine. I read the manual and it says, that this flag uses legacy local repo which imitates maven v2 behavior. Any idea why to use the flag?"}],"tags":[],"owner":{"account_id":251197,"reputation":14995,"user_id":528405,"accept_rate":88,"display_name":"nsfyn55"},"comment_count":6,"down_vote_count":0,"up_vote_count":187,"is_accepted":true,"score":187,"last_activity_date":1691759468,"creation_date":1314640017,"answer_id":7233762,"question_id":7233328,"body_markdown":"You can run Maven in &quot;offline&quot; mode using the `-o` or `--offline` option (e.g. `mvn -o install`). Of course any artifacts not available in your local repository will fail. Maven is not predicated on distributed repositories, but they certainly make things more seamless. It&#39;s for this reason that many shops use internal mirrors that are incrementally synced with the central repos. \r\n\r\nIn addition, the `mvn dependency:go-offline` can be used to ensure you have all of your dependencies installed locally before you begin to work offline.","title":"How do I configure Maven for offline development?","body":"<p>You can run Maven in &quot;offline&quot; mode using the <code>-o</code> or <code>--offline</code> option (e.g. <code>mvn -o install</code>). Of course any artifacts not available in your local repository will fail. Maven is not predicated on distributed repositories, but they certainly make things more seamless. It's for this reason that many shops use internal mirrors that are incrementally synced with the central repos.</p>\n<p>In addition, the <code>mvn dependency:go-offline</code> can be used to ensure you have all of your dependencies installed locally before you begin to work offline.</p>\n"},{"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1314650945,"post_id":7235533,"comment_id":8701432,"body_markdown":"It is, but not as a maven project (ant). So I have all the libs I need but was wondering specifically about maven internal libs. Such as maven-plugin-compiler.","body":"It is, but not as a maven project (ant). So I have all the libs I need but was wondering specifically about maven internal libs. Such as maven-plugin-compiler."},{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":0,"creation_date":1314688557,"post_id":7235533,"comment_id":8706913,"body_markdown":"If you have all the dependencies handled by Ant, you probably lack Maven metadata anyway, so Maven won&#39;t pick them up. As for &quot;Maven internal libs&quot;, the only way to download them is to build your pom structure and run it on an internet-connected computer. By &quot;run it&quot; I mean executing every target that you think you&#39;ll be using, not necessarily only &quot;mvn clean install&quot;.","body":"If you have all the dependencies handled by Ant, you probably lack Maven metadata anyway, so Maven won&#39;t pick them up. As for &quot;Maven internal libs&quot;, the only way to download them is to build your pom structure and run it on an internet-connected computer. By &quot;run it&quot; I mean executing every target that you think you&#39;ll be using, not necessarily only &quot;mvn clean install&quot;."}],"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314649543,"creation_date":1314649543,"answer_id":7235533,"question_id":7233328,"body_markdown":"Answering your question directly: it does not require an internet connection, but access to a repository, on LAN or local disk (use hints from other people who posted here).\r\n\r\nIf your project is not in a mature phase, that means when POMs are changed quite often, offline mode will be very impractical, as you&#39;ll have to update your repository quite often, too. Unless you can get a copy of a repository that has everything you need, but how would you know? Usually you start a repository from scratch and it gets cloned gradually during development (on a computer connected to another repository). A copy of the repo1.maven.org public repository weighs hundreds of gigabytes, so I wouldn&#39;t recommend brute force, either.\r\n","title":"How do I configure Maven for offline development?","body":"<p>Answering your question directly: it does not require an internet connection, but access to a repository, on LAN or local disk (use hints from other people who posted here).</p>\n\n<p>If your project is not in a mature phase, that means when POMs are changed quite often, offline mode will be very impractical, as you'll have to update your repository quite often, too. Unless you can get a copy of a repository that has everything you need, but how would you know? Usually you start a repository from scratch and it gets cloned gradually during development (on a computer connected to another repository). A copy of the repo1.maven.org public repository weighs hundreds of gigabytes, so I wouldn't recommend brute force, either.</p>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1314649967,"creation_date":1314649967,"answer_id":7235628,"question_id":7233328,"body_markdown":"Maven needs the dependencies in your local repository. The easiest way to get them is with internet access (or harder using other solutions provided here).\r\n\r\nSo assumed that you can get temporarily internet access you can prepare to go offline using the [maven-dependency-plugin][1] with its [dependency:go-offline][2] goal. This will download all your project dependencies to your local repository (of course changes in the dependencies / plugins will require new internet / central repository access).\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/index.html\r\n  [2]: http://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html","title":"How do I configure Maven for offline development?","body":"<p>Maven needs the dependencies in your local repository. The easiest way to get them is with internet access (or harder using other solutions provided here).</p>\n\n<p>So assumed that you can get temporarily internet access you can prepare to go offline using the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/index.html\" rel=\"noreferrer\">maven-dependency-plugin</a> with its <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"noreferrer\">dependency:go-offline</a> goal. This will download all your project dependencies to your local repository (of course changes in the dependencies / plugins will require new internet / central repository access).</p>\n"},{"tags":[],"owner":{"account_id":2540378,"reputation":3941,"user_id":2206295,"accept_rate":0,"display_name":"Jyoti Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1366195562,"creation_date":1366195562,"answer_id":16057993,"question_id":7233328,"body_markdown":"You have two options for this:\r\n\r\n1.) make changes in the **settings.xml** add this in first tag &lt;settings&gt;\r\n  \r\n\r\n    &lt;localRepository&gt;C:/Users/admin/.m2/repository&lt;/localRepository&gt;\r\n\r\n2.) use the -o tag for offline command.\r\n\r\n    mvn -o clean install -DskipTests=true\r\n    mvn -o jetty:run","title":"How do I configure Maven for offline development?","body":"<p>You have two options for this:</p>\n\n<p>1.) make changes in the <strong>settings.xml</strong> add this in first tag </p>\n\n<pre><code>&lt;localRepository&gt;C:/Users/admin/.m2/repository&lt;/localRepository&gt;\n</code></pre>\n\n<p>2.) use the -o tag for offline command.</p>\n\n<pre><code>mvn -o clean install -DskipTests=true\nmvn -o jetty:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":0,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1374502666,"creation_date":1374502666,"answer_id":17789918,"question_id":7233328,"body_markdown":"In preparation before working offline just run\r\n`mvn dependency:go-offline`","title":"How do I configure Maven for offline development?","body":"<p>In preparation before working offline just run\n<code>mvn dependency:go-offline</code></p>\n"},{"tags":[],"owner":{"account_id":4079462,"reputation":41,"user_id":3350271,"display_name":"Eike P&#246;gel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473335645,"creation_date":1393430892,"answer_id":22046875,"question_id":7233328,"body_markdown":"Before going offline you have to make sure that everything is in your local repo, which is required while working offline. Running &quot;mvn dependency:go-offline&quot; for the project(s)/pom(s), you intend to work on, will reduce the efforts to achieve this. \r\n\r\nBut it&#180;s usually not the whole story, because dependency:go-offline will only download the &quot;bare build&quot; plugins ([go-offline / resolve-plugins does not resolve all plugin dependencies][1]). So you have to find a way to download deploy / test / site plugins (and maybe others) and their dependencies into your repo.\r\n\r\nFurthermore dependency:go-offline does not download the pom&#180;s artifact itself, so you have to dependency:copy it if required.\r\n\r\nSometimes - as MaDa wrote - you do not know, what you will need, while being offline, which makes it pretty impossible to have a &quot;sufficient&quot; repo.\r\n\r\nAnyway having a properly filled repo you only have to add &quot;&amp;lt;offline&amp;gt;true&amp;lt;/offline&amp;gt;&quot; to Maven&#180;s settings.xml to go offline.\r\n\r\nDo not change the Maven profile (id) you used to fill your repo, while being offline. Maven recognizes the downloaded artifacts in its metadata with an &quot;identity&quot;, which is bound to the profile id.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MDEP-82 &quot;go-offline / resolve-plugins does not resolve all plugin dependencies&quot;","title":"How do I configure Maven for offline development?","body":"<p>Before going offline you have to make sure that everything is in your local repo, which is required while working offline. Running \"mvn dependency:go-offline\" for the project(s)/pom(s), you intend to work on, will reduce the efforts to achieve this. </p>\n\n<p>But it´s usually not the whole story, because dependency:go-offline will only download the \"bare build\" plugins (<a href=\"https://issues.apache.org/jira/browse/MDEP-82\" rel=\"nofollow\" title=\"go-offline / resolve-plugins does not resolve all plugin dependencies\">go-offline / resolve-plugins does not resolve all plugin dependencies</a>). So you have to find a way to download deploy / test / site plugins (and maybe others) and their dependencies into your repo.</p>\n\n<p>Furthermore dependency:go-offline does not download the pom´s artifact itself, so you have to dependency:copy it if required.</p>\n\n<p>Sometimes - as MaDa wrote - you do not know, what you will need, while being offline, which makes it pretty impossible to have a \"sufficient\" repo.</p>\n\n<p>Anyway having a properly filled repo you only have to add \"&lt;offline&gt;true&lt;/offline&gt;\" to Maven´s settings.xml to go offline.</p>\n\n<p>Do not change the Maven profile (id) you used to fill your repo, while being offline. Maven recognizes the downloaded artifacts in its metadata with an \"identity\", which is bound to the profile id.</p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570212844,"creation_date":1461676258,"answer_id":36865960,"question_id":7233328,"body_markdown":"[![][1]][1]  \r\n&lt;sub&gt;(source: [jfrog.com](https://www.jfrog.com/wp-content/uploads/2014/05/arti-banner.jpg))&lt;/sub&gt;  \r\n\r\n\r\nor\r\n\r\n![](https://cdn2.hubspot.net/hubfs/1958393/Assets/Map.png)\r\n\r\nJust use Maven repository servers like Sonatype Nexus http://www.sonatype.org/nexus/ or JFrog Artifactory https://www.jfrog.com/artifactory/.\r\n\r\nAfter one developer builds a project, build by next developers or Jenkins CI will not require Internet access.\r\n\r\nMaven repository server also can have proxies configured to access Maven Central (or more needed public repositories), and they can have cynch&#39;ed list of artifacts in remote repositories.\r\n\r\n [1]: https://i.stack.imgur.com/0bahQ.jpg","title":"How do I configure Maven for offline development?","body":"<p><a href=\"https://i.stack.imgur.com/0bahQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bahQ.jpg\" alt=\"\"></a><br>\n<sub>(source: <a href=\"https://www.jfrog.com/wp-content/uploads/2014/05/arti-banner.jpg\" rel=\"nofollow noreferrer\">jfrog.com</a>)</sub>  </p>\n\n<p>or</p>\n\n<p><img src=\"https://cdn2.hubspot.net/hubfs/1958393/Assets/Map.png\" alt=\"\"></p>\n\n<p>Just use Maven repository servers like Sonatype Nexus <a href=\"http://www.sonatype.org/nexus/\" rel=\"nofollow noreferrer\">http://www.sonatype.org/nexus/</a> or JFrog Artifactory <a href=\"https://www.jfrog.com/artifactory/\" rel=\"nofollow noreferrer\">https://www.jfrog.com/artifactory/</a>.</p>\n\n<p>After one developer builds a project, build by next developers or Jenkins CI will not require Internet access.</p>\n\n<p>Maven repository server also can have proxies configured to access Maven Central (or more needed public repositories), and they can have cynch'ed list of artifacts in remote repositories.</p>\n"},{"comments":[{"owner":{"account_id":74193,"reputation":4313,"user_id":213292,"accept_rate":40,"display_name":"JJ Roman"},"score":2,"creation_date":1614721205,"post_id":41440589,"comment_id":117470866,"body_markdown":"the point is to get it done without actually building project, so we can phase it","body":"the point is to get it done without actually building project, so we can phase it"}],"tags":[],"owner":{"account_id":6764497,"reputation":7635,"user_id":6128602,"accept_rate":36,"display_name":"luka5z"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483437493,"creation_date":1483436867,"answer_id":41440589,"question_id":7233328,"body_markdown":"&gt; Sadly `dependency:go-offline` hasn&#39;t worked for me as it didn&#39;t cached\r\n&gt; everything, ie. POMs files and other implicitly mention dependencies.\r\n\r\nThe workaround has been to specify a **local repository location**, either within `settings.xml` file with `&lt;localRepository&gt;...&lt;/localRepository&gt;` or by running `mvn` with `-Dmaven.repo.local=...` parameter. \r\nAfter initial project build, all necessary artifacts should be cached, and then you can reference repository location the same ways, while running Maven build in offline mode (`mvn -o ...`).","title":"How do I configure Maven for offline development?","body":"<blockquote>\n  <p>Sadly <code>dependency:go-offline</code> hasn't worked for me as it didn't cached\n  everything, ie. POMs files and other implicitly mention dependencies.</p>\n</blockquote>\n\n<p>The workaround has been to specify a <strong>local repository location</strong>, either within <code>settings.xml</code> file with <code>&lt;localRepository&gt;...&lt;/localRepository&gt;</code> or by running <code>mvn</code> with <code>-Dmaven.repo.local=...</code> parameter. \nAfter initial project build, all necessary artifacts should be cached, and then you can reference repository location the same ways, while running Maven build in offline mode (<code>mvn -o ...</code>).</p>\n"},{"comments":[{"owner":{"account_id":42256,"reputation":3636,"user_id":123064,"display_name":"Stuart Brock"},"score":3,"creation_date":1536772038,"post_id":42838371,"comment_id":91548263,"body_markdown":"Similarly - Eclipse is *Window -&gt; Preferences -&gt; Maven* and check &quot;Offline&quot;","body":"Similarly - Eclipse is <i>Window -&gt; Preferences -&gt; Maven</i> and check &quot;Offline&quot;"}],"tags":[],"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1489678195,"creation_date":1489678195,"answer_id":42838371,"question_id":7233328,"body_markdown":"If you&#39;re using IntelliJ, you can simply go to **Preferences** -&gt; **Build, Execution, Deployment** -&gt; **Build Tools** -&gt; **Maven** and check/uncheck **Work offline**.","title":"How do I configure Maven for offline development?","body":"<p>If you're using IntelliJ, you can simply go to <strong>Preferences</strong> -> <strong>Build, Execution, Deployment</strong> -> <strong>Build Tools</strong> -> <strong>Maven</strong> and check/uncheck <strong>Work offline</strong>.</p>\n"},{"comments":[{"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1695826537,"post_id":43674448,"comment_id":136076522,"body_markdown":"It worked for me. Thank you so much!","body":"It worked for me. Thank you so much!"}],"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493364472,"creation_date":1493364472,"answer_id":43674448,"question_id":7233328,"body_markdown":"My experience shows that the -o option doesn&#39;t work properly and that the go-offline goal is far from sufficient to allow a full offline build: \r\n\r\nThe solution I could validate includes the use of the `--legacy-local-repository` maven option rather than the `-o` (offline) one and\r\nthe use of the **local repository** in place of the **distribution repository**\r\n\r\nIn addition, I had to copy every `maven-metadata-maven2_central.xml` files of the local-repo into the `maven-metadata.xml` form expected by maven.\r\n\r\nSee the solution I found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/43661755/1767316","title":"How do I configure Maven for offline development?","body":"<p>My experience shows that the -o option doesn't work properly and that the go-offline goal is far from sufficient to allow a full offline build: </p>\n\n<p>The solution I could validate includes the use of the <code>--legacy-local-repository</code> maven option rather than the <code>-o</code> (offline) one and\nthe use of the <strong>local repository</strong> in place of the <strong>distribution repository</strong></p>\n\n<p>In addition, I had to copy every <code>maven-metadata-maven2_central.xml</code> files of the local-repo into the <code>maven-metadata.xml</code> form expected by maven.</p>\n\n<p>See the solution I found <a href=\"https://stackoverflow.com/q/43661755/1767316\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15102181,"reputation":11,"user_id":10898846,"display_name":"dhanaraj k"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1590308465,"creation_date":1590287142,"answer_id":61980903,"question_id":7233328,"body_markdown":"    &lt;offline&gt; false &lt;/offline&gt;\r\n    \r\n    &lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\r\n\r\nto \r\n\r\n    &lt;offline&gt; true &lt;offline&gt;\r\n    \r\n    &lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\r\n\r\nChange the offline tag from false to true .\r\n\r\nwill download from repo online","title":"How do I configure Maven for offline development?","body":"<pre><code>&lt;offline&gt; false &lt;/offline&gt;\n\n&lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;offline&gt; true &lt;offline&gt;\n\n&lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\n</code></pre>\n\n<p>Change the offline tag from false to true .</p>\n\n<p>will download from repo online</p>\n"},{"tags":[],"owner":{"account_id":1551039,"reputation":826,"user_id":1443418,"accept_rate":83,"display_name":"Jiehong"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592222417,"creation_date":1592222417,"answer_id":62387780,"question_id":7233328,"body_markdown":"A new plugin has appeared to fix shortcomings of `mvn dependency:go-offline`:\r\n\r\nhttps://github.com/qaware/go-offline-maven-plugin\r\n\r\nAdd it in your pom, then run `mvn -T1C de.qaware.maven:go-offline-maven-plugin:resolve-dependencies`. Once you&#39;ve setup all dynamic dependencies, maven won&#39;t try to download anything again (until you update versions).","title":"How do I configure Maven for offline development?","body":"<p>A new plugin has appeared to fix shortcomings of <code>mvn dependency:go-offline</code>:</p>\n\n<p><a href=\"https://github.com/qaware/go-offline-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/qaware/go-offline-maven-plugin</a></p>\n\n<p>Add it in your pom, then run <code>mvn -T1C de.qaware.maven:go-offline-maven-plugin:resolve-dependencies</code>. Once you've setup all dynamic dependencies, maven won't try to download anything again (until you update versions).</p>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674836252,"creation_date":1674819922,"answer_id":75257669,"question_id":7233328,"body_markdown":"Here&#39;s a clear, straightforward way to cache Maven dependencies for offline development (based on @luka5z and others&#39; comments):\r\n\r\n1. While you have internet access, cache dependencies locally:\r\n```sh\r\nmvn -Dmaven.repo.local=dependencies install\r\n```\r\n2. Disconnect from the internet, verify that offline mode compilation succeeds:\r\n```sh\r\nmvn clean\r\nmvn -o -Dmaven.repo.local=dependencies package\r\n```\r\nContinue developing offline as long as needed.","title":"How do I configure Maven for offline development?","body":"<p>Here's a clear, straightforward way to cache Maven dependencies for offline development (based on @luka5z and others' comments):</p>\n<ol>\n<li>While you have internet access, cache dependencies locally:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Dmaven.repo.local=dependencies install\n</code></pre>\n<ol start=\"2\">\n<li>Disconnect from the internet, verify that offline mode compilation succeeds:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean\nmvn -o -Dmaven.repo.local=dependencies package\n</code></pre>\n<p>Continue developing offline as long as needed.</p>\n"}],"owner":{"display_name":"user130532"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206937,"favorite_count":0,"down_vote_count":0,"up_vote_count":132,"accepted_answer_id":7233762,"answer_count":15,"score":132,"last_activity_date":1691759468,"creation_date":1314637635,"question_id":7233328,"body_markdown":"Does maven require a connection to the internet at some point to be able to use it? Meaning specifically getting the internal maven plugins for compiling, cleaning, packaging, etc? ","title":"How do I configure Maven for offline development?","body":"<p>Does maven require a connection to the internet at some point to be able to use it? Meaning specifically getting the internal maven plugins for compiling, cleaning, packaging, etc? </p>\n"},{"tags":["java","spring","spring-boot","drools","reactive"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1686919950,"post_id":76488069,"comment_id":134868494,"body_markdown":"Can you please show your model and what is `someCondition()`. What is `com.package.object` and how does it relate to whatever class `$invoice` is?","body":"Can you please show your model and what is <code>someCondition()</code>. What is <code>com.package.object</code> and how does it relate to whatever class <code>$invoice</code> is?"}],"owner":{"account_id":19179400,"reputation":126,"user_id":14389309,"display_name":"Rodrigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691759439,"creation_date":1686902016,"question_id":76488069,"body_markdown":"I&#39;m facing some problems with Drools. When I try to set some boolean in one action and then evaluate this on another &quot;when&quot;, is not already updated. I already have a workaround, checking this boolean in the action of the rule, but I need to understand what I&#39;m doing wrong.\r\n\r\nRule example (not working):\r\n\r\n    rule &quot;0 - rule1&quot;\r\n    salience 1\r\n    lock-on-active\r\n    when\r\n       $invoice: com.packages.object(son.isErrors == true)\r\n    then\r\n       doSomething();\r\n    end\r\n    \r\n    rule &quot;5 - rule2&quot;\r\n    salience 4\r\n    lock-on-active\r\n    when\r\n       $invoice: someCondition()\r\n    then                                                                                           \r\n     $invoice.getson().setIsErrors(true);\r\n     update($invoice);;\r\n    end\r\n\r\nWorkaround:\r\n\r\n    rule &quot;0 - rule1&quot;\r\n    salience 1\r\n    lock-on-active\r\n    when\r\n       $invoice: com.packages.object(true == true)\r\n    then\r\n       if(son.isErrors==true)\r\n          doSomething();\r\n    end\r\n    \r\n    rule &quot;5 - rule2&quot;\r\n    salience 4\r\n    lock-on-active\r\n    when\r\n        $invoice: someCondition()\r\n    then                                                                                           \r\n     $invoice.getson().setIsErrors(true);\r\n     update($invoice);;\r\n    end\r\n\r\nI&#39;m using Drools 7.73.0\r\n\r\nAny ideas? Thanks!","title":"Problem with rule condition that depends on another rule action","body":"<p>I'm facing some problems with Drools. When I try to set some boolean in one action and then evaluate this on another &quot;when&quot;, is not already updated. I already have a workaround, checking this boolean in the action of the rule, but I need to understand what I'm doing wrong.</p>\n<p>Rule example (not working):</p>\n<pre><code>rule &quot;0 - rule1&quot;\nsalience 1\nlock-on-active\nwhen\n   $invoice: com.packages.object(son.isErrors == true)\nthen\n   doSomething();\nend\n\nrule &quot;5 - rule2&quot;\nsalience 4\nlock-on-active\nwhen\n   $invoice: someCondition()\nthen                                                                                           \n $invoice.getson().setIsErrors(true);\n update($invoice);;\nend\n</code></pre>\n<p>Workaround:</p>\n<pre><code>rule &quot;0 - rule1&quot;\nsalience 1\nlock-on-active\nwhen\n   $invoice: com.packages.object(true == true)\nthen\n   if(son.isErrors==true)\n      doSomething();\nend\n\nrule &quot;5 - rule2&quot;\nsalience 4\nlock-on-active\nwhen\n    $invoice: someCondition()\nthen                                                                                           \n $invoice.getson().setIsErrors(true);\n update($invoice);;\nend\n</code></pre>\n<p>I'm using Drools 7.73.0</p>\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","ssl","keystore","truststore"],"answers":[{"comments":[{"owner":{"account_id":1855690,"reputation":985,"user_id":1681329,"accept_rate":67,"display_name":"Denis Wang"},"score":0,"creation_date":1605713305,"post_id":24561444,"comment_id":114736470,"body_markdown":"this one seems to not work in a Java spring container env.","body":"this one seems to not work in a Java spring container env."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1605717220,"post_id":24561444,"comment_id":114738485,"body_markdown":"@DenisWang It depends on what is used in that container (not sure if it&#39;s Spring or Spring Boot), there is a chance that it doesn&#39;t use the default SSLContext but has its own. You&#39;d need to look at what&#39;s used by the part of Spring you&#39;re using.","body":"@DenisWang It depends on what is used in that container (not sure if it&#39;s Spring or Spring Boot), there is a chance that it doesn&#39;t use the default SSLContext but has its own. You&#39;d need to look at what&#39;s used by the part of Spring you&#39;re using."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1692195570,"post_id":24561444,"comment_id":135591137,"body_markdown":"Just to mention this, `sslcontext-kickstart` is a handy library, which provides wrappers, which allow to do this with a simple builder which can have multiple truststores, including the system one. https://github.com/Hakky54/sslcontext-kickstart","body":"Just to mention this, <code>sslcontext-kickstart</code> is a handy library, which provides wrappers, which allow to do this with a simple builder which can have multiple truststores, including the system one. <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">github.com/Hakky54/sslcontext-kickstart</a>"}],"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":3,"down_vote_count":0,"up_vote_count":113,"is_accepted":true,"score":113,"last_activity_date":1404832741,"creation_date":1404414133,"answer_id":24561444,"question_id":24555890,"body_markdown":"You could use a similar pattern to what I&#39;ve mentioned in a [previous answer](https://stackoverflow.com/a/19005844/372643) (for a different problem).\r\n\r\nEssentially, get hold of the default trust manager, create a second trust manager that uses your own trust store. Wrap them both in a custom trust manager implementation that delegates call to both (falling back on the other when one fails).\r\n\r\n\r\n    TrustManagerFactory tmf = TrustManagerFactory\r\n        .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    // Using null here initialises the TMF with the default trust store.\r\n    tmf.init((KeyStore) null);\r\n\r\n    // Get hold of the default trust manager\r\n    X509TrustManager defaultTm = null;\r\n    for (TrustManager tm : tmf.getTrustManagers()) {\r\n        if (tm instanceof X509TrustManager) {\r\n            defaultTm = (X509TrustManager) tm;\r\n            break;\r\n        }\r\n    }\r\n\r\n    FileInputStream myKeys = new FileInputStream(&quot;truststore.jks&quot;);\r\n\r\n    // Do the same with your trust store this time\r\n    // Adapt how you load the keystore to your needs\r\n    KeyStore myTrustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    myTrustStore.load(myKeys, &quot;password&quot;.toCharArray());\r\n\t\t\t\r\n\tmyKeys.close();\r\n\r\n    tmf = TrustManagerFactory\r\n        .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    tmf.init(myTrustStore);\r\n\r\n    // Get hold of the default trust manager\r\n    X509TrustManager myTm = null;\r\n    for (TrustManager tm : tmf.getTrustManagers()) {\r\n        if (tm instanceof X509TrustManager) {\r\n            myTm = (X509TrustManager) tm;\r\n            break;\r\n        }\r\n    }\r\n    \r\n    // Wrap it in your own class.\r\n    final X509TrustManager finalDefaultTm = defaultTm;\r\n    final X509TrustManager finalMyTm = myTm;\r\n    X509TrustManager customTm = new X509TrustManager() {\r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            // If you&#39;re planning to use client-cert auth,\r\n            // merge results from &quot;defaultTm&quot; and &quot;myTm&quot;.\r\n            return finalDefaultTm.getAcceptedIssuers();\r\n        }\r\n    \r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] chain,\r\n                String authType) throws CertificateException {\r\n            try {\r\n                finalMyTm.checkServerTrusted(chain, authType);\r\n            } catch (CertificateException e) {\r\n                // This will throw another CertificateException if this fails too.\r\n                finalDefaultTm.checkServerTrusted(chain, authType);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] chain,\r\n                String authType) throws CertificateException {\r\n            // If you&#39;re planning to use client-cert auth,\r\n            // do the same as checking the server.\r\n            finalDefaultTm.checkClientTrusted(chain, authType);\r\n        }\r\n    };\r\n\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, new TrustManager[] { customTm }, null);\r\n    \r\n    // You don&#39;t have to set this as the default context,\r\n    // it depends on the library you&#39;re using.\r\n    SSLContext.setDefault(sslContext);\r\n\r\n\r\nYou don&#39;t have to set that context as the default context. How you use it depends on the client library you&#39;re using (and where it gets its socket factories from).\r\n\r\n----------\r\n\r\n\r\nThis being said, in principle, you&#39;d always have to update the truststore as required anyway. The Java 7 JSSE Reference Guide had an &quot;important note&quot; about this, now downgraded to just a [&quot;note&quot; in version 8 of the same guide](http://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization):\r\n\r\n&gt; The JDK ships with a limited number of trusted root certificates in\r\n&gt; the java-home/lib/security/cacerts file. As documented in keytool\r\n&gt; reference pages, it is your responsibility to maintain (that is, add\r\n&gt; and remove) the certificates contained in this file if you use this\r\n&gt; file as a truststore.\r\n&gt; \r\n&gt; Depending on the certificate configuration of the servers that you\r\n&gt; contact, you may need to add additional root certificates. Obtain the\r\n&gt; needed specific root certificates from the appropriate vendor.","title":"Using a custom truststore in java as well as the default one","body":"<p>You could use a similar pattern to what I've mentioned in a <a href=\"https://stackoverflow.com/a/19005844/372643\">previous answer</a> (for a different problem).</p>\n\n<p>Essentially, get hold of the default trust manager, create a second trust manager that uses your own trust store. Wrap them both in a custom trust manager implementation that delegates call to both (falling back on the other when one fails).</p>\n\n<pre><code>TrustManagerFactory tmf = TrustManagerFactory\n    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n// Using null here initialises the TMF with the default trust store.\ntmf.init((KeyStore) null);\n\n// Get hold of the default trust manager\nX509TrustManager defaultTm = null;\nfor (TrustManager tm : tmf.getTrustManagers()) {\n    if (tm instanceof X509TrustManager) {\n        defaultTm = (X509TrustManager) tm;\n        break;\n    }\n}\n\nFileInputStream myKeys = new FileInputStream(\"truststore.jks\");\n\n// Do the same with your trust store this time\n// Adapt how you load the keystore to your needs\nKeyStore myTrustStore = KeyStore.getInstance(KeyStore.getDefaultType());\nmyTrustStore.load(myKeys, \"password\".toCharArray());\n\nmyKeys.close();\n\ntmf = TrustManagerFactory\n    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntmf.init(myTrustStore);\n\n// Get hold of the default trust manager\nX509TrustManager myTm = null;\nfor (TrustManager tm : tmf.getTrustManagers()) {\n    if (tm instanceof X509TrustManager) {\n        myTm = (X509TrustManager) tm;\n        break;\n    }\n}\n\n// Wrap it in your own class.\nfinal X509TrustManager finalDefaultTm = defaultTm;\nfinal X509TrustManager finalMyTm = myTm;\nX509TrustManager customTm = new X509TrustManager() {\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        // If you're planning to use client-cert auth,\n        // merge results from \"defaultTm\" and \"myTm\".\n        return finalDefaultTm.getAcceptedIssuers();\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain,\n            String authType) throws CertificateException {\n        try {\n            finalMyTm.checkServerTrusted(chain, authType);\n        } catch (CertificateException e) {\n            // This will throw another CertificateException if this fails too.\n            finalDefaultTm.checkServerTrusted(chain, authType);\n        }\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain,\n            String authType) throws CertificateException {\n        // If you're planning to use client-cert auth,\n        // do the same as checking the server.\n        finalDefaultTm.checkClientTrusted(chain, authType);\n    }\n};\n\n\nSSLContext sslContext = SSLContext.getInstance(\"TLS\");\nsslContext.init(null, new TrustManager[] { customTm }, null);\n\n// You don't have to set this as the default context,\n// it depends on the library you're using.\nSSLContext.setDefault(sslContext);\n</code></pre>\n\n<p>You don't have to set that context as the default context. How you use it depends on the client library you're using (and where it gets its socket factories from).</p>\n\n<hr>\n\n<p>This being said, in principle, you'd always have to update the truststore as required anyway. The Java 7 JSSE Reference Guide had an \"important note\" about this, now downgraded to just a <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization\" rel=\"noreferrer\">\"note\" in version 8 of the same guide</a>:</p>\n\n<blockquote>\n  <p>The JDK ships with a limited number of trusted root certificates in\n  the java-home/lib/security/cacerts file. As documented in keytool\n  reference pages, it is your responsibility to maintain (that is, add\n  and remove) the certificates contained in this file if you use this\n  file as a truststore.</p>\n  \n  <p>Depending on the certificate configuration of the servers that you\n  contact, you may need to add additional root certificates. Obtain the\n  needed specific root certificates from the appropriate vendor.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3177803,"reputation":757,"user_id":2685234,"display_name":"ramtech"},"score":1,"creation_date":1543152823,"post_id":53449284,"comment_id":93806479,"body_markdown":"Isn&#39;t the question about having adding all the trust material into a single trust store? `SSLContextBuilder#loadTrustMaterial` can be used to load only one truststore. The other method `SSLContextBuilder#loadKeyMaterial` not for truststore, but keystore which serves different purpose. Isn&#39;t it?","body":"Isn&#39;t the question about having adding all the trust material into a single trust store? <code>SSLContextBuilder#loadTrustMaterial</code> can be used to load only one truststore. The other method <code>SSLContextBuilder#loadKeyMaterial</code> not for truststore, but keystore which serves different purpose. Isn&#39;t it?"},{"owner":{"account_id":6074550,"reputation":33,"user_id":4742315,"display_name":"OliLay"},"score":1,"creation_date":1543329374,"post_id":53449284,"comment_id":93873233,"body_markdown":"No, I think loadTrustMaterial() loads the TrustManagers from the given parameters and adds them internally to a list. So you can call it multiple times and the TrustManagers get aggregated.","body":"No, I think loadTrustMaterial() loads the TrustManagers from the given parameters and adds them internally to a list. So you can call it multiple times and the TrustManagers get aggregated."},{"owner":{"account_id":1509930,"reputation":313,"user_id":1412310,"accept_rate":75,"display_name":"mohsen Lzd"},"score":2,"creation_date":1589278189,"post_id":53449284,"comment_id":109222864,"body_markdown":"I take a look into what `loadTrustMaterial` will do. At least in Java11 implementation the list is going to be replace with given list.\nif you decompile `sun.security.provider.JavaKeyStore#engineLoad` you will see `this.entries.clear();` there.","body":"I take a look into what <code>loadTrustMaterial</code> will do. At least in Java11 implementation the list is going to be replace with given list. if you decompile <code>sun.security.provider.JavaKeyStore#engineLoad</code> you will see <code>this.entries.clear();</code> there."}],"tags":[],"owner":{"account_id":6074550,"reputation":33,"user_id":4742315,"display_name":"OliLay"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1542986688,"creation_date":1542986688,"answer_id":53449284,"question_id":24555890,"body_markdown":"As I figured out, you can also use `SSLContextBuilder` class from the Apache HttpComponents library to add your custom keystore to a `SSLContext`:\r\n\r\n    SSLContextBuilder builder = new SSLContextBuilder();\r\n    try {\r\n         keyStore.load(null, null);\r\n         builder.loadTrustMaterial(keyStore, null);\r\n         builder.loadKeyMaterial(keyStore, null);\r\n    } catch (NoSuchAlgorithmException | KeyStoreException | CertificateException | IOException\r\n              | UnrecoverableKeyException e) {\r\n         log.error(&quot;Can not load keys from keystore &#39;{}&#39;&quot;, keyStore.getProvider(), e);\r\n    }\r\n    return builder.build();","title":"Using a custom truststore in java as well as the default one","body":"<p>As I figured out, you can also use <code>SSLContextBuilder</code> class from the Apache HttpComponents library to add your custom keystore to a <code>SSLContext</code>:</p>\n\n<pre><code>SSLContextBuilder builder = new SSLContextBuilder();\ntry {\n     keyStore.load(null, null);\n     builder.loadTrustMaterial(keyStore, null);\n     builder.loadKeyMaterial(keyStore, null);\n} catch (NoSuchAlgorithmException | KeyStoreException | CertificateException | IOException\n          | UnrecoverableKeyException e) {\n     log.error(\"Can not load keys from keystore '{}'\", keyStore.getProvider(), e);\n}\nreturn builder.build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2639295,"reputation":2305,"user_id":2283308,"display_name":"Pedro Rom&#227;o"},"score":0,"creation_date":1600945183,"post_id":58556946,"comment_id":113252348,"body_markdown":"It&#39;s not working on this line. trustStore.setCertificateEntry(acceptedIssuer.getSubjectDN().getName(), acceptedIssuer); It crashes with KeyStoreException: Couldn&#39;t insert certificate; is KeyStore initialized?","body":"It&#39;s not working on this line. trustStore.setCertificateEntry(acceptedIssuer.getSubjectDN()&zwnj;&#8203;.getName(), acceptedIssuer); It crashes with KeyStoreException: Couldn&#39;t insert certificate; is KeyStore initialized?"},{"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"score":0,"creation_date":1600963940,"post_id":58556946,"comment_id":113262188,"body_markdown":"Did you forget to call `load(null, null)`. Even though it looks strange, it&#39;s essential as it, well, it initializes the keystore &#129299;","body":"Did you forget to call <code>load(null, null)</code>. Even though it looks strange, it&#39;s essential as it, well, it initializes the keystore 🤓"},{"owner":{"account_id":2639295,"reputation":2305,"user_id":2283308,"display_name":"Pedro Rom&#227;o"},"score":0,"creation_date":1600964204,"post_id":58556946,"comment_id":113262295,"body_markdown":"I have the same though. It&#39;s strange because the keystore object is already loaded.","body":"I have the same though. It&#39;s strange because the keystore object is already loaded."},{"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"score":0,"creation_date":1600979817,"post_id":58556946,"comment_id":113268951,"body_markdown":"@PedroRom&#227;o Instead of trying to understand the problem, I replaced the code example with one you can test out easily. Let me know if it works for you.","body":"@PedroRom&#227;o Instead of trying to understand the problem, I replaced the code example with one you can test out easily. Let me know if it works for you."},{"owner":{"account_id":2639295,"reputation":2305,"user_id":2283308,"display_name":"Pedro Rom&#227;o"},"score":0,"creation_date":1602235002,"post_id":58556946,"comment_id":113662150,"body_markdown":"In the loop to add all the certificates, there&#39;s one that crashes. I found is crashing on setCertificateEntry adding one of my own with the error -- is Keystore initialized?","body":"In the loop to add all the certificates, there&#39;s one that crashes. I found is crashing on setCertificateEntry adding one of my own with the error -- is Keystore initialized?"},{"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"score":0,"creation_date":1602500070,"post_id":58556946,"comment_id":113730491,"body_markdown":"@PedroRom&#227;o Does it work if you keep the line &quot;addDefaultRootCaCertificates&quot; commented out?","body":"@PedroRom&#227;o Does it work if you keep the line &quot;addDefaultRootCaCertificates&quot; commented out?"},{"owner":{"account_id":2639295,"reputation":2305,"user_id":2283308,"display_name":"Pedro Rom&#227;o"},"score":0,"creation_date":1602600712,"post_id":58556946,"comment_id":113768196,"body_markdown":"Yes, it works in that case. But I really need that part of code. I don&#39;t understand the problem. I had to surround that line of code with a try-catch. It throws an error for 3 or 4 certificates (not only mine as I said before).","body":"Yes, it works in that case. But I really need that part of code. I don&#39;t understand the problem. I had to surround that line of code with a try-catch. It throws an error for 3 or 4 certificates (not only mine as I said before)."},{"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"score":0,"creation_date":1602798839,"post_id":58556946,"comment_id":113842196,"body_markdown":"@PedroRom&#227;o Probably there&#39;s something fishy with this one certificate. Perhaps try the code in the debugger and check all the values of acceptedIssuer. I&#39;d also be interested in seeing your stack trace.","body":"@PedroRom&#227;o Probably there&#39;s something fishy with this one certificate. Perhaps try the code in the debugger and check all the values of acceptedIssuer. I&#39;d also be interested in seeing your stack trace."}],"tags":[],"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"comment_count":8,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1600979762,"creation_date":1571999916,"answer_id":58556946,"question_id":24555890,"body_markdown":"You can retrieve the default trust store by calling `TrustManagerFactory.init((KeyStore)null)` and get its `X509Certificate`s. Combine this with your own certificate. You can either load the self-signed certificate from a `.jks` or `.p12` file with `KeyStore.load` or you can load a `.crt` (or `.cer`) file via `CertificateFactory`.\r\n\r\nHere is a some demo code that illustrates the point. You can run the code if you download the certificate from stackoverflow.com with your browser. If you comment out both adding the loaded certificate and the default, the code will get a `SSLHandshakeException`, but if you keep either, it will return status code 200.\r\n\r\n```java\r\nimport javax.net.ssl.*;\r\nimport java.io.*;\r\nimport java.net.URL;\r\nimport java.security.*;\r\nimport java.security.cert.*;\r\n\r\npublic class HttpsWithCustomCertificateDemo {\r\n    public static void main(String[] args) throws Exception {\r\n        // Create a new trust store, use getDefaultType for .jks files or &quot;pkcs12&quot; for .p12 files\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        // Create a new trust store, use getDefaultType for .jks files or &quot;pkcs12&quot; for .p12 files\r\n        trustStore.load(null, null);\r\n\r\n        // If you comment out the following, the request will fail\r\n        trustStore.setCertificateEntry(\r\n                &quot;stackoverflow&quot;,\r\n                // To test, download the certificate from stackoverflow.com with your browser\r\n                loadCertificate(new File(&quot;stackoverflow.crt&quot;))\r\n        );\r\n        // Uncomment to following to add the installed certificates to the keystore as well\r\n        //addDefaultRootCaCertificates(trustStore);\r\n\r\n        SSLSocketFactory sslSocketFactory = createSslSocketFactory(trustStore);\r\n\r\n        URL url = new URL(&quot;https://stackoverflow.com/&quot;);\r\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n        // Alternatively, to use the sslSocketFactory for all Http requests, uncomment\r\n        //HttpsURLConnection.setDefaultSSLSocketFactory(sslSocketFactory);\r\n        conn.setSSLSocketFactory(sslSocketFactory);\r\n        System.out.println(conn.getResponseCode());\r\n    }\r\n\r\n\r\n    private static SSLSocketFactory createSslSocketFactory(KeyStore trustStore) throws GeneralSecurityException {\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(trustStore);\r\n        TrustManager[] trustManagers = tmf.getTrustManagers();\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sslContext.init(null, trustManagers, null);\r\n        return sslContext.getSocketFactory();\r\n    }\r\n\r\n    private static X509Certificate loadCertificate(File certificateFile) throws IOException, CertificateException {\r\n        try (FileInputStream inputStream = new FileInputStream(certificateFile)) {\r\n            return (X509Certificate) CertificateFactory.getInstance(&quot;X509&quot;).generateCertificate(inputStream);\r\n        }\r\n    }\r\n\r\n    private static void addDefaultRootCaCertificates(KeyStore trustStore) throws GeneralSecurityException {\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        // Loads default Root CA certificates (generally, from JAVA_HOME/lib/cacerts)\r\n        trustManagerFactory.init((KeyStore)null);\r\n        for (TrustManager trustManager : trustManagerFactory.getTrustManagers()) {\r\n            if (trustManager instanceof X509TrustManager) {\r\n                for (X509Certificate acceptedIssuer : ((X509TrustManager) trustManager).getAcceptedIssuers()) {\r\n                    trustStore.setCertificateEntry(acceptedIssuer.getSubjectDN().getName(), acceptedIssuer);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Using a custom truststore in java as well as the default one","body":"<p>You can retrieve the default trust store by calling <code>TrustManagerFactory.init((KeyStore)null)</code> and get its <code>X509Certificate</code>s. Combine this with your own certificate. You can either load the self-signed certificate from a <code>.jks</code> or <code>.p12</code> file with <code>KeyStore.load</code> or you can load a <code>.crt</code> (or <code>.cer</code>) file via <code>CertificateFactory</code>.</p>\n<p>Here is a some demo code that illustrates the point. You can run the code if you download the certificate from stackoverflow.com with your browser. If you comment out both adding the loaded certificate and the default, the code will get a <code>SSLHandshakeException</code>, but if you keep either, it will return status code 200.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.*;\nimport java.io.*;\nimport java.net.URL;\nimport java.security.*;\nimport java.security.cert.*;\n\npublic class HttpsWithCustomCertificateDemo {\n    public static void main(String[] args) throws Exception {\n        // Create a new trust store, use getDefaultType for .jks files or &quot;pkcs12&quot; for .p12 files\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        // Create a new trust store, use getDefaultType for .jks files or &quot;pkcs12&quot; for .p12 files\n        trustStore.load(null, null);\n\n        // If you comment out the following, the request will fail\n        trustStore.setCertificateEntry(\n                &quot;stackoverflow&quot;,\n                // To test, download the certificate from stackoverflow.com with your browser\n                loadCertificate(new File(&quot;stackoverflow.crt&quot;))\n        );\n        // Uncomment to following to add the installed certificates to the keystore as well\n        //addDefaultRootCaCertificates(trustStore);\n\n        SSLSocketFactory sslSocketFactory = createSslSocketFactory(trustStore);\n\n        URL url = new URL(&quot;https://stackoverflow.com/&quot;);\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n        // Alternatively, to use the sslSocketFactory for all Http requests, uncomment\n        //HttpsURLConnection.setDefaultSSLSocketFactory(sslSocketFactory);\n        conn.setSSLSocketFactory(sslSocketFactory);\n        System.out.println(conn.getResponseCode());\n    }\n\n\n    private static SSLSocketFactory createSslSocketFactory(KeyStore trustStore) throws GeneralSecurityException {\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(trustStore);\n        TrustManager[] trustManagers = tmf.getTrustManagers();\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n        sslContext.init(null, trustManagers, null);\n        return sslContext.getSocketFactory();\n    }\n\n    private static X509Certificate loadCertificate(File certificateFile) throws IOException, CertificateException {\n        try (FileInputStream inputStream = new FileInputStream(certificateFile)) {\n            return (X509Certificate) CertificateFactory.getInstance(&quot;X509&quot;).generateCertificate(inputStream);\n        }\n    }\n\n    private static void addDefaultRootCaCertificates(KeyStore trustStore) throws GeneralSecurityException {\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        // Loads default Root CA certificates (generally, from JAVA_HOME/lib/cacerts)\n        trustManagerFactory.init((KeyStore)null);\n        for (TrustManager trustManager : trustManagerFactory.getTrustManagers()) {\n            if (trustManager instanceof X509TrustManager) {\n                for (X509Certificate acceptedIssuer : ((X509TrustManager) trustManager).getAcceptedIssuers()) {\n                    trustStore.setCertificateEntry(acceptedIssuer.getSubjectDN().getName(), acceptedIssuer);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12498520,"reputation":145,"user_id":9097672,"display_name":"Kulan Sachinthana"},"score":0,"creation_date":1628532826,"post_id":62586564,"comment_id":121441257,"body_markdown":"This helped me to fix javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. Thank you!","body":"This helped me to fix javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. Thank you!"}],"tags":[],"owner":{"account_id":6107590,"reputation":776,"user_id":4764903,"display_name":"Chris Bain"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1593134257,"creation_date":1593134257,"answer_id":62586564,"question_id":24555890,"body_markdown":"Here is a cleaner version of [Bruno&#39;s answer](https://stackoverflow.com/a/24561444)\r\n\r\n```java\r\npublic void configureTrustStore() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException,\r\n        CertificateException, IOException {\r\n    X509TrustManager jreTrustManager = getJreTrustManager();\r\n    X509TrustManager myTrustManager = getMyTrustManager();\r\n\r\n    X509TrustManager mergedTrustManager = createMergedTrustManager(jreTrustManager, myTrustManager);\r\n    setSystemTrustManager(mergedTrustManager);\r\n}\r\n\r\nprivate X509TrustManager getJreTrustManager() throws NoSuchAlgorithmException, KeyStoreException {\r\n    return findDefaultTrustManager(null);\r\n}\r\n\r\nprivate X509TrustManager getMyTrustManager() throws FileNotFoundException, KeyStoreException, IOException,\r\n        NoSuchAlgorithmException, CertificateException {\r\n    // Adapt to load your keystore\r\n    try (FileInputStream myKeys = new FileInputStream(&quot;truststore.jks&quot;)) {\r\n        KeyStore myTrustStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        myTrustStore.load(myKeys, &quot;password&quot;.toCharArray());\r\n\r\n        return findDefaultTrustManager(myTrustStore);\r\n    }\r\n}\r\n\r\nprivate X509TrustManager findDefaultTrustManager(KeyStore keyStore)\r\n        throws NoSuchAlgorithmException, KeyStoreException {\r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    tmf.init(keyStore); // If keyStore is null, tmf will be initialized with the default trust store\r\n\r\n    for (TrustManager tm : tmf.getTrustManagers()) {\r\n        if (tm instanceof X509TrustManager) {\r\n            return (X509TrustManager) tm;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nprivate X509TrustManager createMergedTrustManager(X509TrustManager jreTrustManager,\r\n        X509TrustManager customTrustManager) {\r\n    return new X509TrustManager() {\r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            // If you&#39;re planning to use client-cert auth,\r\n            // merge results from &quot;defaultTm&quot; and &quot;myTm&quot;.\r\n            return jreTrustManager.getAcceptedIssuers();\r\n        }\r\n\r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n            try {\r\n                customTrustManager.checkServerTrusted(chain, authType);\r\n            } catch (CertificateException e) {\r\n                // This will throw another CertificateException if this fails too.\r\n                jreTrustManager.checkServerTrusted(chain, authType);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n            // If you&#39;re planning to use client-cert auth,\r\n            // do the same as checking the server.\r\n            jreTrustManager.checkClientTrusted(chain, authType);\r\n        }\r\n\r\n    };\r\n}\r\n\r\nprivate void setSystemTrustManager(X509TrustManager mergedTrustManager)\r\n        throws NoSuchAlgorithmException, KeyManagementException {\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, new TrustManager[] { mergedTrustManager }, null);\r\n\r\n    // You don&#39;t have to set this as the default context,\r\n    // it depends on the library you&#39;re using.\r\n    SSLContext.setDefault(sslContext);\r\n}\r\n```","title":"Using a custom truststore in java as well as the default one","body":"<p>Here is a cleaner version of <a href=\"https://stackoverflow.com/a/24561444\">Bruno's answer</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void configureTrustStore() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException,\n        CertificateException, IOException {\n    X509TrustManager jreTrustManager = getJreTrustManager();\n    X509TrustManager myTrustManager = getMyTrustManager();\n\n    X509TrustManager mergedTrustManager = createMergedTrustManager(jreTrustManager, myTrustManager);\n    setSystemTrustManager(mergedTrustManager);\n}\n\nprivate X509TrustManager getJreTrustManager() throws NoSuchAlgorithmException, KeyStoreException {\n    return findDefaultTrustManager(null);\n}\n\nprivate X509TrustManager getMyTrustManager() throws FileNotFoundException, KeyStoreException, IOException,\n        NoSuchAlgorithmException, CertificateException {\n    // Adapt to load your keystore\n    try (FileInputStream myKeys = new FileInputStream(&quot;truststore.jks&quot;)) {\n        KeyStore myTrustStore = KeyStore.getInstance(&quot;jks&quot;);\n        myTrustStore.load(myKeys, &quot;password&quot;.toCharArray());\n\n        return findDefaultTrustManager(myTrustStore);\n    }\n}\n\nprivate X509TrustManager findDefaultTrustManager(KeyStore keyStore)\n        throws NoSuchAlgorithmException, KeyStoreException {\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(keyStore); // If keyStore is null, tmf will be initialized with the default trust store\n\n    for (TrustManager tm : tmf.getTrustManagers()) {\n        if (tm instanceof X509TrustManager) {\n            return (X509TrustManager) tm;\n        }\n    }\n    return null;\n}\n\nprivate X509TrustManager createMergedTrustManager(X509TrustManager jreTrustManager,\n        X509TrustManager customTrustManager) {\n    return new X509TrustManager() {\n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            // If you're planning to use client-cert auth,\n            // merge results from &quot;defaultTm&quot; and &quot;myTm&quot;.\n            return jreTrustManager.getAcceptedIssuers();\n        }\n\n        @Override\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            try {\n                customTrustManager.checkServerTrusted(chain, authType);\n            } catch (CertificateException e) {\n                // This will throw another CertificateException if this fails too.\n                jreTrustManager.checkServerTrusted(chain, authType);\n            }\n        }\n\n        @Override\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            // If you're planning to use client-cert auth,\n            // do the same as checking the server.\n            jreTrustManager.checkClientTrusted(chain, authType);\n        }\n\n    };\n}\n\nprivate void setSystemTrustManager(X509TrustManager mergedTrustManager)\n        throws NoSuchAlgorithmException, KeyManagementException {\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(null, new TrustManager[] { mergedTrustManager }, null);\n\n    // You don't have to set this as the default context,\n    // it depends on the library you're using.\n    SSLContext.setDefault(sslContext);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1691184601,"creation_date":1593813634,"answer_id":62723153,"question_id":24555890,"body_markdown":"Maybe I am 6 years too late to answer this question, but it could be maybe helpful for other developers too. I also ran into the same challenge of loading the default truststore and my own custom truststore. After using the same custom solution for multiple projects, I thought it would be handy to create a library and also make it publicly available to contribute back to the community. Please have a look here: [Github - SSLContext-Kickstart](https://github.com/Hakky54/sslcontext-kickstart)\r\n\r\nUsage:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\n\r\nimport javax.net.ssl.SSLContext;\r\nimport java.security.cert.X509Certificate;\r\nimport java.nio.file.Path;\r\nimport java.util.List;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Path trustStorePath = ...;\r\n        char[] password = &quot;password&quot;.toCharArray();\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withDefaultTrustMaterial() // JDK trusted CA&#39;s\r\n                .withSystemTrustMaterial()  // OS trusted CA&#39;s\r\n                .withTrustMaterial(trustStorePath, password)\r\n                .build();\r\n\r\n        SSLContext sslContext = sslFactory.getSslContext();\r\n        List&lt;X509Certificate&gt; trustedCertificates = sslFactory.getTrustedCertificates();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI wasn&#39;t quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers who have the same challenges.\r\n\r\nYou can add the dependency with the following snippet:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;8.1.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Using a custom truststore in java as well as the default one","body":"<p>Maybe I am 6 years too late to answer this question, but it could be maybe helpful for other developers too. I also ran into the same challenge of loading the default truststore and my own custom truststore. After using the same custom solution for multiple projects, I thought it would be handy to create a library and also make it publicly available to contribute back to the community. Please have a look here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">Github - SSLContext-Kickstart</a></p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\n\nimport javax.net.ssl.SSLContext;\nimport java.security.cert.X509Certificate;\nimport java.nio.file.Path;\nimport java.util.List;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Path trustStorePath = ...;\n        char[] password = &quot;password&quot;.toCharArray();\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withDefaultTrustMaterial() // JDK trusted CA's\n                .withSystemTrustMaterial()  // OS trusted CA's\n                .withTrustMaterial(trustStorePath, password)\n                .build();\n\n        SSLContext sslContext = sslFactory.getSslContext();\n        List&lt;X509Certificate&gt; trustedCertificates = sslFactory.getTrustedCertificates();\n    }\n\n}\n</code></pre>\n<p>I wasn't quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers who have the same challenges.</p>\n<p>You can add the dependency with the following snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;8.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1991882,"reputation":3129,"user_id":1785730,"accept_rate":70,"display_name":"user1785730"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132366,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":24561444,"answer_count":5,"score":97,"last_activity_date":1691759389,"creation_date":1404396311,"question_id":24555890,"body_markdown":"I&#39;m writing an application in Java which connects to two web servers via HTTPS. One got a certificate trusted via the default chain of trust, the other uses a self signed certificate. Of course, connecting to the first server worked out of the box, whereas connecting to the server with the self signed certificate did not work until I created a trustStore with the certificate from that server. However, the connection to the by default trusted server does not work any more, because apparently the default trustStore gets to be ignored once I created my own.\r\n\r\nOne solution I found was to add the certificates from the default trustStore to my own. However, I don&#39;t like this solution, because it requires me to keep managing that trustStore. (I cannot assume these certificates remain static in the foreseeable future, right?)\r\n\r\nApart from that I found two 5 year old threads with a similar problem:\r\n\r\nhttps://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\r\n\r\nhttps://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server\r\n\r\nThey both go deep into the Java SSL infrastructure. I was hoping that by now there is a more convenient solution which I can explain easily in a security review of my code.","title":"Using a custom truststore in java as well as the default one","body":"<p>I'm writing an application in Java which connects to two web servers via HTTPS. One got a certificate trusted via the default chain of trust, the other uses a self signed certificate. Of course, connecting to the first server worked out of the box, whereas connecting to the server with the self signed certificate did not work until I created a trustStore with the certificate from that server. However, the connection to the by default trusted server does not work any more, because apparently the default trustStore gets to be ignored once I created my own.</p>\n\n<p>One solution I found was to add the certificates from the default trustStore to my own. However, I don't like this solution, because it requires me to keep managing that trustStore. (I cannot assume these certificates remain static in the foreseeable future, right?)</p>\n\n<p>Apart from that I found two 5 year old threads with a similar problem:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\">Registering multiple keystores in JVM</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server\">How can I have multiple SSL certificates for a Java server</a></p>\n\n<p>They both go deep into the Java SSL infrastructure. I was hoping that by now there is a more convenient solution which I can explain easily in a security review of my code.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691759475,"post_id":76880835,"comment_id":135539024,"body_markdown":"That&#39;s a debug log, not an error. But yes, if you delete a topic more than once you&#39;ll get &quot;unknown topic&quot; message","body":"That&#39;s a debug log, not an error. But yes, if you delete a topic more than once you&#39;ll get &quot;unknown topic&quot; message"}],"owner":{"account_id":21963661,"reputation":23,"user_id":16241226,"display_name":"purvi ijantkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691759337,"creation_date":1691730866,"question_id":76880835,"body_markdown":"I am writing a integration test case for kafka.I use kafka client version :3.2.0 \r\n    \r\nI get the above error while deleting a topic which in turn leads to the following log which inturn leads to the following log \r\n\r\n```\r\n15:48:51,709 [data-plane-kafka-network-thread-44117-ListenerName(PLAINTEXT)-PLAINTEXT-2] DEBUG org.apache.kafka.common.network.Selector::pollSelectionKeys()::606 - [SocketServer listenerType=ZK_BROKER, nodeId=44117] Connection with /127.0.0.1 (channelId=127.0.0.1:9092-127.0.0.1:54837-32) disconnected\r\njava.io.EOFException\r\n```\r\nplease find my code below\r\n\r\n   \r\n\r\n    protected void createTopics(String... topics) {\r\n            for (String topic : topics) {\r\n                while (true) {\r\n                    logger.info(&quot;Deleting topic {}&quot;, topic);\r\n                    try {\r\n                        kafkaCluster.deleteTopic(topic);\r\n                    } catch (Exception e) {\r\n                    }\r\n                    try {\r\n                        Thread.sleep(100);\r\n                    } catch (InterruptedException e) {\r\n                        // ignore\r\n                    }\r\n                    logger.info(&quot;Creating topic {}&quot;, topic);\r\n                    try {\r\n                        embeddedkafka.createTopic(topic);\r\n                    } catch (TopicExistsException tee) {\r\n                        logger.error(&quot;Creating topic {} failed. Will delete and try again&quot;, topic);\r\n                        continue;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\nAnd I have create ad delete topic methods in embedded kafka as below:  \r\n\r\n    public class EmbeddedKafka {\r\n        public void createTopic(String topic,\r\n                                int partitions,\r\n                                int replication,\r\n                                Properties topicConfig) {\r\n            log.debug(&quot;Creating topic { name: {}, partitions: {}, replication: {}, config: {} }&quot;,\r\n                    topic, partitions, replication, topicConfig);\r\n    log.debug(&quot;Creating topic { name: {}, partitions: {}, replication: {}, config: {} }&quot;,\r\n                    topic, partitions, replication, topicConfig);\r\n            final NewTopic newTopic = new NewTopic(topic, partitions, (short) replication);\r\n    \r\n            Map&lt;String,String&gt; configMap = new HashMap&lt;String,String&gt;();\r\n           // configMap.put(&quot;bootstrap.servers&quot;, brokerList());\r\n            configMap.put(TopicConfig.CLEANUP_POLICY_CONFIG, TopicConfig.CLEANUP_POLICY_COMPACT);\r\n            newTopic.configs(configMap);\r\n    \r\n            try (final Admin adminClient = createAdminClient()) {\r\n                adminClient.createTopics(Collections.singletonList(newTopic)).all().get();\r\n                adminClient.close();\r\n            } catch (Exception e) {\r\n                //throw new RuntimeException(e);\r\n    \r\n                    log.error(&quot;Exception occured while creating topic {}&quot;,e);\r\n    \r\n            }\r\n        }\r\n    \r\n      public void deleteTopic(String topic, Properties topicConfig) {\r\n            log.debug(&quot;Deleting topic { name: {}, config: {} }&quot;, topic, topicConfig);\r\n          /*  ZkClient zkClient = new ZkClient(\r\n                    zookeeperConnect(),\r\n                    DEFAULT_ZK_SESSION_TIMEOUT_MS,\r\n                    DEFAULT_ZK_CONNECTION_TIMEOUT_MS);\r\n            boolean isSecure = false;*/\r\n            /*ZkUtils zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperConnect()), isSecure);\r\n            AdminUtils.deleteTopic(zkUtils, topic);*/\r\n    \r\n            log.debug(&quot;Deleting topic { name: {} }&quot;, topic);\r\n            try (final Admin adminClient = createAdminClient()) {\r\n                adminClient.deleteTopics(Collections.singletonList(topic)).all().get();\r\n            } catch (final InterruptedException | ExecutionException e) {\r\n                if (!(e.getCause() instanceof UnknownTopicOrPartitionException)) {\r\n                    log.error(&quot;Exception occured while deleting topic {}&quot;,e);\r\n                }\r\n            }\r\n        }\r\n            @SuppressWarnings(&quot;WeakerAccess&quot;)\r\n            public Admin createAdminClient() {\r\n                final Properties adminClientConfig = new Properties();\r\n                adminClientConfig.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList());\r\n                final Object listeners = effectiveConfig.get(KafkaConfig.ListenersProp());\r\n                if (listeners != null &amp;&amp; listeners.toString().contains(&quot;SSL&quot;)) {\r\n                    adminClientConfig.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, effectiveConfig.get(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG));\r\n                    adminClientConfig.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, ((Password) effectiveConfig.get(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG)).value());\r\n                    adminClientConfig.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\r\n                }\r\n                return Admin.create(adminClientConfig);\r\n            }\r\n        }\r\n    }\r\n    \r\non deleting the topics through admin client I am getting the above mentioned error\r\n","title":"org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition while deleting a topic","body":"<p>I am writing a integration test case for kafka.I use kafka client version :3.2.0</p>\n<p>I get the above error while deleting a topic which in turn leads to the following log which inturn leads to the following log</p>\n<pre><code>15:48:51,709 [data-plane-kafka-network-thread-44117-ListenerName(PLAINTEXT)-PLAINTEXT-2] DEBUG org.apache.kafka.common.network.Selector::pollSelectionKeys()::606 - [SocketServer listenerType=ZK_BROKER, nodeId=44117] Connection with /127.0.0.1 (channelId=127.0.0.1:9092-127.0.0.1:54837-32) disconnected\njava.io.EOFException\n</code></pre>\n<p>please find my code below</p>\n<pre><code>protected void createTopics(String... topics) {\n        for (String topic : topics) {\n            while (true) {\n                logger.info(&quot;Deleting topic {}&quot;, topic);\n                try {\n                    kafkaCluster.deleteTopic(topic);\n                } catch (Exception e) {\n                }\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    // ignore\n                }\n                logger.info(&quot;Creating topic {}&quot;, topic);\n                try {\n                    embeddedkafka.createTopic(topic);\n                } catch (TopicExistsException tee) {\n                    logger.error(&quot;Creating topic {} failed. Will delete and try again&quot;, topic);\n                    continue;\n                }\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>And I have create ad delete topic methods in embedded kafka as below:</p>\n<pre><code>public class EmbeddedKafka {\n    public void createTopic(String topic,\n                            int partitions,\n                            int replication,\n                            Properties topicConfig) {\n        log.debug(&quot;Creating topic { name: {}, partitions: {}, replication: {}, config: {} }&quot;,\n                topic, partitions, replication, topicConfig);\nlog.debug(&quot;Creating topic { name: {}, partitions: {}, replication: {}, config: {} }&quot;,\n                topic, partitions, replication, topicConfig);\n        final NewTopic newTopic = new NewTopic(topic, partitions, (short) replication);\n\n        Map&lt;String,String&gt; configMap = new HashMap&lt;String,String&gt;();\n       // configMap.put(&quot;bootstrap.servers&quot;, brokerList());\n        configMap.put(TopicConfig.CLEANUP_POLICY_CONFIG, TopicConfig.CLEANUP_POLICY_COMPACT);\n        newTopic.configs(configMap);\n\n        try (final Admin adminClient = createAdminClient()) {\n            adminClient.createTopics(Collections.singletonList(newTopic)).all().get();\n            adminClient.close();\n        } catch (Exception e) {\n            //throw new RuntimeException(e);\n\n                log.error(&quot;Exception occured while creating topic {}&quot;,e);\n\n        }\n    }\n\n  public void deleteTopic(String topic, Properties topicConfig) {\n        log.debug(&quot;Deleting topic { name: {}, config: {} }&quot;, topic, topicConfig);\n      /*  ZkClient zkClient = new ZkClient(\n                zookeeperConnect(),\n                DEFAULT_ZK_SESSION_TIMEOUT_MS,\n                DEFAULT_ZK_CONNECTION_TIMEOUT_MS);\n        boolean isSecure = false;*/\n        /*ZkUtils zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperConnect()), isSecure);\n        AdminUtils.deleteTopic(zkUtils, topic);*/\n\n        log.debug(&quot;Deleting topic { name: {} }&quot;, topic);\n        try (final Admin adminClient = createAdminClient()) {\n            adminClient.deleteTopics(Collections.singletonList(topic)).all().get();\n        } catch (final InterruptedException | ExecutionException e) {\n            if (!(e.getCause() instanceof UnknownTopicOrPartitionException)) {\n                log.error(&quot;Exception occured while deleting topic {}&quot;,e);\n            }\n        }\n    }\n        @SuppressWarnings(&quot;WeakerAccess&quot;)\n        public Admin createAdminClient() {\n            final Properties adminClientConfig = new Properties();\n            adminClientConfig.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList());\n            final Object listeners = effectiveConfig.get(KafkaConfig.ListenersProp());\n            if (listeners != null &amp;&amp; listeners.toString().contains(&quot;SSL&quot;)) {\n                adminClientConfig.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, effectiveConfig.get(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG));\n                adminClientConfig.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, ((Password) effectiveConfig.get(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG)).value());\n                adminClientConfig.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\n            }\n            return Admin.create(adminClientConfig);\n        }\n    }\n}\n</code></pre>\n<p>on deleting the topics through admin client I am getting the above mentioned error</p>\n"},{"tags":["java","spring-data-jpa","one-to-one"],"answers":[{"comments":[{"owner":{"account_id":14354372,"reputation":13,"user_id":10368764,"display_name":"Matan Shukry"},"score":0,"creation_date":1691766540,"post_id":76883835,"comment_id":135540604,"body_markdown":"without using the JoinFormula, there is no distinguishing between the columns.\nThat is, once you add a 2nd property (e.g. AntiAliasing), they will both be loaded from the same row - and updating them also causes issues.\n\nThe JoinFormula where propertyType value is equal to &#39;Buffering&#39; is what&#39;s suppose to stop it.","body":"without using the JoinFormula, there is no distinguishing between the columns. That is, once you add a 2nd property (e.g. AntiAliasing), they will both be loaded from the same row - and updating them also causes issues.  The JoinFormula where propertyType value is equal to &#39;Buffering&#39; is what&#39;s suppose to stop it."}],"tags":[],"owner":{"account_id":20867947,"reputation":49,"user_id":15328563,"display_name":"TheTurTel500"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691759327,"creation_date":1691759327,"answer_id":76883835,"question_id":76883761,"body_markdown":"the issue your having is with the mapping annotation i am guessing try making these changes \r\nUser Details : \r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class UserDetails {\r\n        @Id\r\n        @Column(name = &quot;user_id&quot;)\r\n        private String userId;\r\n    \r\n        @OneToOne(mappedBy = &quot;userDetails&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private UserPreference&lt;BufferMode&gt; buffering;\r\n    \r\n    \r\n        public UserDetails(User user) {\r\n            this.userId = user.getId(); // Assuming you have a getId() method in User entity\r\n            this.buffering = new UserPreference&lt;&gt;(this, PropertyType.Buffering);\r\n        }\r\n    }\r\n\r\nUserPreference:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class UserPreference&lt;T&gt; {\r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        @ToString.Exclude\r\n        private UserDetails userDetails;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private PropertyType propertyType;\r\n    \r\n        @Convert(converter = JsonConverter.class)\r\n        @JavaType(value = StringJavaType.class)\r\n        private List&lt;T&gt; values;\r\n    \r\n        private boolean favorite;\r\n    \r\n        public UserPreference(UserDetails userDetails, PropertyType property) {\r\n            this.userDetails = userDetails;\r\n            this.propertyType = property;\r\n        }\r\n    }\r\n\r\nThis should help you achieve your desired mapping by using the mappedby  annotation hopefully this helps you out\r\n\r\n","title":"Spring 5 Data Jpa - OneToOne on a specific literal property","body":"<p>the issue your having is with the mapping annotation i am guessing try making these changes\nUser Details :</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class UserDetails {\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @OneToOne(mappedBy = &quot;userDetails&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private UserPreference&lt;BufferMode&gt; buffering;\n\n\n    public UserDetails(User user) {\n        this.userId = user.getId(); // Assuming you have a getId() method in User entity\n        this.buffering = new UserPreference&lt;&gt;(this, PropertyType.Buffering);\n    }\n}\n</code></pre>\n<p>UserPreference:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class UserPreference&lt;T&gt; {\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    @ToString.Exclude\n    private UserDetails userDetails;\n\n    @Enumerated(EnumType.STRING)\n    private PropertyType propertyType;\n\n    @Convert(converter = JsonConverter.class)\n    @JavaType(value = StringJavaType.class)\n    private List&lt;T&gt; values;\n\n    private boolean favorite;\n\n    public UserPreference(UserDetails userDetails, PropertyType property) {\n        this.userDetails = userDetails;\n        this.propertyType = property;\n    }\n}\n</code></pre>\n<p>This should help you achieve your desired mapping by using the mappedby  annotation hopefully this helps you out</p>\n"}],"owner":{"account_id":14354372,"reputation":13,"user_id":10368764,"display_name":"Matan Shukry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691759327,"creation_date":1691758859,"question_id":76883761,"body_markdown":"After https://stackoverflow.com/questions/76881823/spring-5-data-jpa-onetoone-new-entity-a-single-insert-operation is solved,\r\n\r\nI have the following tables:\r\n\r\n* UserDetails, with userId\r\n* UserPreference, with userId, propertyType, values, and isFavorite\r\n\r\nI&#39;m trying to map them so that each propertyType will be a single variable on UserDetails.\r\nI tried various annotations and ways, but I awlays end up with an issue; either on startup or when attempting to query the User (which will query the UserDetails, relevant in this question).\r\n\r\nFollowing is the current setup I have, which makes Spring throw this error on startup:\r\n```\r\nCaused by: org.hibernate.MappingException: A &#39;@JoinColumn&#39; references a column named &#39;propertyType&#39; but the target entity &#39;com.msh.UserPreference&#39; has no property which maps to this column\r\n```\r\n\r\n\r\nProperty type:\r\n```\r\npublic enum PropertyType {\r\n  Buffering,\r\n  AntiAliasing,\r\n  ScreenSize,\r\n}\r\n\r\npublic enum BufferMode {\r\n  None,\r\n  Double,\r\n  Triple,\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class UserDetails {\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    private String userId;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    @ToString.Exclude\r\n    private User user;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumnsOrFormulas({\r\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;&#39;Buffering&#39;&quot;, referencedColumnName = &quot;propertyType&quot;)),\r\n            @JoinColumnOrFormula(column = @JoinColumn(referencedColumnName = &quot;userId&quot;))\r\n    })\r\n    private UserPreference&lt;BufferMode&gt; buffering;\r\n\r\n/* After:\r\n    ...\r\n    private UserPreference&lt;Bool&gt; antiAliasing;\r\n*/\r\n\r\n  public UserDetails(User user) {\r\n    this.user = user;\r\n    this.buffering = new UserPreference&lt;&gt;(user, PropertyType.Buffering);\r\n  }\r\n}\r\n```\r\n\r\nAnd UserPreference:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class UserPreference&lt;T&gt; {\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    private String userId;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    @ToString.Exclude\r\n    private User user;\r\n\r\n    @Id\r\n    private PropertyType propertyType;\r\n\r\n    @Convert(converter = JsonConverter.class)\r\n    @JavaType(value = StringJavaType.class)\r\n    private List&lt;T&gt; values;\r\n\r\n    private boolean favorite;\r\n\r\n    public UserPreference(User user, PropertyType property) {\r\n        this.user = user;\r\n        this.propertyType = property;\r\n    }\r\n}\r\n```\r\n","title":"Spring 5 Data Jpa - OneToOne on a specific literal property","body":"<p>After <a href=\"https://stackoverflow.com/questions/76881823/spring-5-data-jpa-onetoone-new-entity-a-single-insert-operation\">Spring 5 Data Jpa - OneToOne, new entity, a single insert operation</a> is solved,</p>\n<p>I have the following tables:</p>\n<ul>\n<li>UserDetails, with userId</li>\n<li>UserPreference, with userId, propertyType, values, and isFavorite</li>\n</ul>\n<p>I'm trying to map them so that each propertyType will be a single variable on UserDetails.\nI tried various annotations and ways, but I awlays end up with an issue; either on startup or when attempting to query the User (which will query the UserDetails, relevant in this question).</p>\n<p>Following is the current setup I have, which makes Spring throw this error on startup:</p>\n<pre><code>Caused by: org.hibernate.MappingException: A '@JoinColumn' references a column named 'propertyType' but the target entity 'com.msh.UserPreference' has no property which maps to this column\n</code></pre>\n<p>Property type:</p>\n<pre><code>public enum PropertyType {\n  Buffering,\n  AntiAliasing,\n  ScreenSize,\n}\n\npublic enum BufferMode {\n  None,\n  Double,\n  Triple,\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class UserDetails {\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;user_id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumnsOrFormulas({\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;'Buffering'&quot;, referencedColumnName = &quot;propertyType&quot;)),\n            @JoinColumnOrFormula(column = @JoinColumn(referencedColumnName = &quot;userId&quot;))\n    })\n    private UserPreference&lt;BufferMode&gt; buffering;\n\n/* After:\n    ...\n    private UserPreference&lt;Bool&gt; antiAliasing;\n*/\n\n  public UserDetails(User user) {\n    this.user = user;\n    this.buffering = new UserPreference&lt;&gt;(user, PropertyType.Buffering);\n  }\n}\n</code></pre>\n<p>And UserPreference:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class UserPreference&lt;T&gt; {\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;user_id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    @Id\n    private PropertyType propertyType;\n\n    @Convert(converter = JsonConverter.class)\n    @JavaType(value = StringJavaType.class)\n    private List&lt;T&gt; values;\n\n    private boolean favorite;\n\n    public UserPreference(User user, PropertyType property) {\n        this.user = user;\n        this.propertyType = property;\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","nullpointerexception"],"comments":[{"owner":{"account_id":215722,"reputation":806,"user_id":470525,"display_name":"Tony Pierce"},"score":0,"creation_date":1691307600,"post_id":76840328,"comment_id":135472098,"body_markdown":"Can you indicate which line is throwing the NPE? It&#39;s hard to tell from the stacktrace because the code window has no line number.","body":"Can you indicate which line is throwing the NPE? It&#39;s hard to tell from the stacktrace because the code window has no line number."}],"owner":{"account_id":24817952,"reputation":1,"user_id":18698583,"display_name":"Mazai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691759130,"creation_date":1691214787,"question_id":76840328,"body_markdown":"I made a blog project, I want that every time users click on the blog, the page views will be automatically updated, I use redis to store data, and every once in a while, the data in redis will be updated to the database, but when I want to update the current login user id to the database, an exception occurs. I was hoping you could help me figure out what the problem is, thank you.\r\n\r\n**This is my implementation class:**\r\n```\r\n@Component\r\npublic class UpdateViewCountJob {\r\n    @Autowired\r\n    private RedisCache redisCache;\r\n    @Autowired\r\n    private ArticleService articleService;\r\n\r\n    @Scheduled(cron = &quot;0/5 * * * * ?&quot;)\r\n    public void updateViewCount(){\r\n        //获取redis中的浏览量\r\n        Map&lt;String, Integer&gt; viewCountMap = redisCache.getCacheMap(&quot;article:viewCount&quot;);\r\n\r\n        List&lt;Article&gt; articles = viewCountMap.entrySet().stream()\r\n                .map(entry -&gt; new Article(Long.valueOf(entry.getKey()), entry.getValue().longValue()))\r\n                .collect(Collectors.toList());\r\n\r\n        Long userId = SecurityUtils.getUserId();\r\n        for (Article article : articles) {\r\n            article.setUpdateBy(userId);\r\n        }\r\n        //更新到数据库中\r\n        articleService.updateBatchById(articles);\r\n    }\r\n}\r\n```\r\n\r\n**This is the class for the auto-fill function I implemented with mybatisplus:**\r\n\r\n```\r\n@Component\r\npublic class MyMetaObjectHandler implements MetaObjectHandler {\r\n\r\n    @Override\r\n    public void insertFill(MetaObject metaObject) {\r\n        Long userId = null;\r\n        userId = SecurityUtils.getUserId();\r\n\r\n        this.setFieldValByName(&quot;createTime&quot;, new Date(), metaObject);\r\n        this.setFieldValByName(&quot;createBy&quot;,userId , metaObject);\r\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\r\n        this.setFieldValByName(&quot;updateBy&quot;, userId, metaObject);\r\n    }\r\n\r\n    @Override\r\n    public void updateFill(MetaObject metaObject) {\r\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\r\n        this.setFieldValByName(&quot;updateBy&quot;, SecurityUtils.getUserId(), metaObject);\r\n    }\r\n}\r\n```\r\n**The error message is as follows:**\r\n```\r\n2023-08-05 13:42:05.005 ERROR 20388 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.blog.framework.utils.SecurityUtils.getLoginUser(SecurityUtils.java:13) ~[classes/:na]\r\n\tat com.blog.framework.utils.SecurityUtils.getUserId(SecurityUtils.java:29) ~[classes/:na]\r\n\tat com.blog.job.UpdateViewCountJob.updateViewCount(UpdateViewCountJob.java:32) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.7.jar:5.3.7]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.7.jar:5.3.7]\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) [spring-context-5.3.7.jar:5.3.7]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_131]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\r\n\r\n\r\n```\r\n**SecurityUtils class as follow:**\r\n\r\n```\r\npublic class SecurityUtils {\r\n    /**\r\n     * 获取用户\r\n     **/\r\n    public static LoginUser getLoginUser() {\r\n        return (LoginUser) getAuthentication().getPrincipal();\r\n    }\r\n\r\n    /**\r\n     * 获取Authentication\r\n     */\r\n    public static Authentication getAuthentication() {\r\n        return SecurityContextHolder.getContext().getAuthentication();\r\n    }\r\n\r\n    public static Boolean isAdmin(){\r\n        Long id = getLoginUser().getUser().getId();\r\n        return id != null &amp;&amp; id.equals(1L);\r\n    }\r\n\r\n    public static Long getUserId() {\r\n        return getLoginUser().getUser().getId();\r\n    }\r\n}\r\n```\r\n\r\nWhat confused me was that when I commented out the code in MyMetaObjectHandler class that automatically populated the user id there was no error, which is like this:\r\n\r\n```\r\n@Override\r\n    public void updateFill(MetaObject metaObject) {\r\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\r\n//        this.setFieldValByName(&quot;updateBy&quot;, SecurityUtils.getUserId(), metaObject);\r\n    }\r\n```\r\nIf you can help me solve this problem, I will be very grateful to you!\r\n","title":"A null pointer exception occurred while updating data in redis to the database","body":"<p>I made a blog project, I want that every time users click on the blog, the page views will be automatically updated, I use redis to store data, and every once in a while, the data in redis will be updated to the database, but when I want to update the current login user id to the database, an exception occurs. I was hoping you could help me figure out what the problem is, thank you.</p>\n<p><strong>This is my implementation class:</strong></p>\n<pre><code>@Component\npublic class UpdateViewCountJob {\n    @Autowired\n    private RedisCache redisCache;\n    @Autowired\n    private ArticleService articleService;\n\n    @Scheduled(cron = &quot;0/5 * * * * ?&quot;)\n    public void updateViewCount(){\n        //获取redis中的浏览量\n        Map&lt;String, Integer&gt; viewCountMap = redisCache.getCacheMap(&quot;article:viewCount&quot;);\n\n        List&lt;Article&gt; articles = viewCountMap.entrySet().stream()\n                .map(entry -&gt; new Article(Long.valueOf(entry.getKey()), entry.getValue().longValue()))\n                .collect(Collectors.toList());\n\n        Long userId = SecurityUtils.getUserId();\n        for (Article article : articles) {\n            article.setUpdateBy(userId);\n        }\n        //更新到数据库中\n        articleService.updateBatchById(articles);\n    }\n}\n</code></pre>\n<p><strong>This is the class for the auto-fill function I implemented with mybatisplus:</strong></p>\n<pre><code>@Component\npublic class MyMetaObjectHandler implements MetaObjectHandler {\n\n    @Override\n    public void insertFill(MetaObject metaObject) {\n        Long userId = null;\n        userId = SecurityUtils.getUserId();\n\n        this.setFieldValByName(&quot;createTime&quot;, new Date(), metaObject);\n        this.setFieldValByName(&quot;createBy&quot;,userId , metaObject);\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\n        this.setFieldValByName(&quot;updateBy&quot;, userId, metaObject);\n    }\n\n    @Override\n    public void updateFill(MetaObject metaObject) {\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\n        this.setFieldValByName(&quot;updateBy&quot;, SecurityUtils.getUserId(), metaObject);\n    }\n}\n</code></pre>\n<p><strong>The error message is as follows:</strong></p>\n<pre><code>2023-08-05 13:42:05.005 ERROR 20388 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\n\njava.lang.NullPointerException: null\n    at com.blog.framework.utils.SecurityUtils.getLoginUser(SecurityUtils.java:13) ~[classes/:na]\n    at com.blog.framework.utils.SecurityUtils.getUserId(SecurityUtils.java:29) ~[classes/:na]\n    at com.blog.job.UpdateViewCountJob.updateViewCount(UpdateViewCountJob.java:32) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.7.jar:5.3.7]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.7.jar:5.3.7]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) [spring-context-5.3.7.jar:5.3.7]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_131]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\n\n\n</code></pre>\n<p><strong>SecurityUtils class as follow:</strong></p>\n<pre><code>public class SecurityUtils {\n    /**\n     * 获取用户\n     **/\n    public static LoginUser getLoginUser() {\n        return (LoginUser) getAuthentication().getPrincipal();\n    }\n\n    /**\n     * 获取Authentication\n     */\n    public static Authentication getAuthentication() {\n        return SecurityContextHolder.getContext().getAuthentication();\n    }\n\n    public static Boolean isAdmin(){\n        Long id = getLoginUser().getUser().getId();\n        return id != null &amp;&amp; id.equals(1L);\n    }\n\n    public static Long getUserId() {\n        return getLoginUser().getUser().getId();\n    }\n}\n</code></pre>\n<p>What confused me was that when I commented out the code in MyMetaObjectHandler class that automatically populated the user id there was no error, which is like this:</p>\n<pre><code>@Override\n    public void updateFill(MetaObject metaObject) {\n        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);\n//        this.setFieldValByName(&quot;updateBy&quot;, SecurityUtils.getUserId(), metaObject);\n    }\n</code></pre>\n<p>If you can help me solve this problem, I will be very grateful to you!</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":16014501,"reputation":61,"user_id":11557623,"display_name":"Ka&#39;Eios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691759074,"creation_date":1691759052,"answer_id":76883794,"question_id":76883539,"body_markdown":"The problem here is that the preset of MinecraftDev for IntelliJ use `org.spigotmc:spigot-api` artifact to your dependencies. spigot-api only contains SpigotAPI related code but not any part of the Minecraft or Mojang code. To fix the problem, you should [compile your version of Spigot using their BuildTools][1] \r\nCompiling with buildtools will add a complete build of spigot (not juste the API) to your maven local repository. This way, you will be able to add `org.spigotmc:spigot` as a maven dependency, and all Minecraft and Mojang imports from the server will be available.\r\n\r\nMaven code : \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot&lt;/artifactId&gt;\r\n            &lt;version&gt;1.20.1-R1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://www.spigotmc.org/wiki/buildtools/","title":"How to import com.mojang.authlib.GameProfile","body":"<p>The problem here is that the preset of MinecraftDev for IntelliJ use <code>org.spigotmc:spigot-api</code> artifact to your dependencies. spigot-api only contains SpigotAPI related code but not any part of the Minecraft or Mojang code. To fix the problem, you should <a href=\"https://www.spigotmc.org/wiki/buildtools/\" rel=\"nofollow noreferrer\">compile your version of Spigot using their BuildTools</a>\nCompiling with buildtools will add a complete build of spigot (not juste the API) to your maven local repository. This way, you will be able to add <code>org.spigotmc:spigot</code> as a maven dependency, and all Minecraft and Mojang imports from the server will be available.</p>\n<p>Maven code :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n        &lt;artifactId&gt;spigot&lt;/artifactId&gt;\n        &lt;version&gt;1.20.1-R1.0-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29206016,"reputation":3,"user_id":22375074,"display_name":"Pinouz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76883794,"answer_count":1,"score":-1,"last_activity_date":1691759074,"creation_date":1691756801,"question_id":76883539,"body_markdown":"I&#39;m currently trying to create a Spigot plugin, but I need to use GameProfile to apply textures, and I can&#39;t seem to import it. When I import it using:\r\n\r\n```\r\nimport com.mojang.authlib.GameProfile;\r\n```\r\n\r\nI get the error: `Cannot resolve symbol &#39;mojang&#39;`\r\n\r\nI&#39;m using IntelliJ with Maven, and I&#39;ve been struggling with this issue for two days now. I&#39;ve tried the solutions suggested in these posts:  \r\n  \r\nhttps://stackoverflow.com/questions/52467259/how-can-i-import-com-mojang-authlib-gameprofile/61668448#comment109090032_61668448  \r\nhttps://www.spigotmc.org/threads/how-do-i-access-gameprofile.450589/  \r\n  \r\nNone of them have worked so far. In all of these posts, they mention adding a repository and the dependency `authlib-1.5.21`. I&#39;ve tried each of their solutions, but each time I end up with the same error.\r\n\r\n```\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;minecraft-repo&lt;/id&gt;\r\n            &lt;url&gt;https://libraries.minecraft.net/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mojang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;authlib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.21&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n`Dependency &#39;com.mojang:authlib:1.5.21&#39; not found`\r\n\r\n I also tried importing my `spigot-1.20.1.rar` file in `Project Structure -&gt; Project Settings -&gt; Modules -&gt; Dependencies` based on a video I watched, but that didn&#39;t work either.  \r\n  \r\nI used the Minecraft extension in IntelliJ to create my plugin, which provides presets. I also tried to do it without using the extension, but it still didn&#39;t work.  ","title":"How to import com.mojang.authlib.GameProfile","body":"<p>I'm currently trying to create a Spigot plugin, but I need to use GameProfile to apply textures, and I can't seem to import it. When I import it using:</p>\n<pre><code>import com.mojang.authlib.GameProfile;\n</code></pre>\n<p>I get the error: <code>Cannot resolve symbol 'mojang'</code></p>\n<p>I'm using IntelliJ with Maven, and I've been struggling with this issue for two days now. I've tried the solutions suggested in these posts:</p>\n<p><a href=\"https://stackoverflow.com/questions/52467259/how-can-i-import-com-mojang-authlib-gameprofile/61668448#comment109090032_61668448\">How can I import com.mojang.authlib.GameProfile</a><br />\n<a href=\"https://www.spigotmc.org/threads/how-do-i-access-gameprofile.450589/\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/threads/how-do-i-access-gameprofile.450589/</a></p>\n<p>None of them have worked so far. In all of these posts, they mention adding a repository and the dependency <code>authlib-1.5.21</code>. I've tried each of their solutions, but each time I end up with the same error.</p>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;minecraft-repo&lt;/id&gt;\n            &lt;url&gt;https://libraries.minecraft.net/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.mojang&lt;/groupId&gt;\n            &lt;artifactId&gt;authlib&lt;/artifactId&gt;\n            &lt;version&gt;1.5.21&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><code>Dependency 'com.mojang:authlib:1.5.21' not found</code></p>\n<p>I also tried importing my <code>spigot-1.20.1.rar</code> file in <code>Project Structure -&gt; Project Settings -&gt; Modules -&gt; Dependencies</code> based on a video I watched, but that didn't work either.</p>\n<p>I used the Minecraft extension in IntelliJ to create my plugin, which provides presets. I also tried to do it without using the extension, but it still didn't work.</p>\n"},{"tags":["java","angular","spring-boot","token"],"answers":[{"tags":[],"owner":{"account_id":13247528,"reputation":199,"user_id":9566141,"display_name":"aditya76"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691758890,"creation_date":1691758890,"answer_id":76883763,"question_id":76883468,"body_markdown":"For CORS Configuration\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n    }\r\n\r\n\r\nFor Token\r\n\r\n    private String validateToken(HttpServletRequest request) {\r\n            String jwtToken = request.getHeader(&quot;Authorization&quot;).replace(&quot;Bearer&quot;, &quot;&quot;);\r\n            return jwtToken;\r\n    }","title":"Access to XMLHttpRequest at &#39;http://localhost:8080/api/v1/poll/public&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>For CORS Configuration</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n}\n</code></pre>\n<p>For Token</p>\n<pre><code>private String validateToken(HttpServletRequest request) {\n        String jwtToken = request.getHeader(&quot;Authorization&quot;).replace(&quot;Bearer&quot;, &quot;&quot;);\n        return jwtToken;\n}\n</code></pre>\n"}],"owner":{"account_id":15432095,"reputation":61,"user_id":11133241,"display_name":"Ayah K Alrifai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691758890,"creation_date":1691756033,"question_id":76883468,"body_markdown":"I know it is a duplicate question but I can not fix it.\r\nI used Angular for the front end and send this request:\r\n\r\n```\r\ncurl --location &#39;http://localhost:8080/api/v1/poll/public&#39; \\\r\n--header &#39;sec-ch-ua: &quot;Not/A)Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;115&quot;, &quot;Chromium&quot;;v=&quot;115&quot;&#39; \\\r\n--header &#39;sec-ch-ua-mobile: ?0&#39; \\\r\n--header &#39;Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ7XCJpZFwiOjI2LFwidXNlclwiOntcImlkXCI6MzUsXCJlbWFpbFwiOlwic2hhbUB5b3BtYWlsLmNvbVwiLFwidGltZXN0YW1wXCI6XCIyMDIzLTA4LTA1IDE2OjAxOjAwLjEzMDIxMzQwMFwiLFwiYWN0aXZlXCI6dHJ1ZSxcImVuYWJsZWRcIjp0cnVlLFwiYWNjb3VudE5vbkV4cGlyZWRcIjp0cnVlLFwiY3JlZGVudGlhbHNOb25FeHBpcmVkXCI6dHJ1ZSxcImFjY291bnROb25Mb2NrZWRcIjp0cnVlfSxcImZpcnN0TmFtZVwiOlwic2hhbVwiLFwibGFzdE5hbWVcIjpcIm9iaWVkYXRcIixcImdlbmRlclwiOlwiMVwiLFwiYmlydGhkYXRlXCI6XCIyMDE5LTEyLTFcIixcInRpbWVzdGFtcFwiOlwiMjAyMy0wOC0wNSAxNjowMTowMC4xMzAyMTM0MDBcIixcImNyZWF0ZWREYXRlXCI6XCIyMDIzLTA4LTA1IDE2OjAxOjAwLjEzOTYxNDcwMFwiLFwibGFuZ3VhZ2VcIjpcImVuXCIsXCJjb2xvck1vZGVcIjpcIm1vZGUyXCJ9IiwiaWF0IjoxNjkxNjA5MDM0fQ.FnbUC-WxRLG1IhyCNUfS1oojWFNIY_rl7kytqbefXlk&#39; \\\r\n--header &#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--header &#39;Accept: application/json, text/plain, */*&#39; \\\r\n--header &#39;Referer: http://localhost:4200/&#39; \\\r\n--header &#39;sec-ch-ua-platform: &quot;Windows&quot;&#39; \\\r\n--data &#39;{\r\n    &quot;start&quot;: 0,\r\n    &quot;length&quot;: 5\r\n}&#39;\r\n```\r\n\r\nThe return value is:\r\n\r\n![has been blocked by CORS policy](https://i.stack.imgur.com/gQL3E.png)\r\n\r\nThe backend application was built using Java \\[spring boot\\]\r\nand I do this in Application.java\r\n\r\n\r\n\t@Override\r\n\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/api/v1/**&quot;).allowedOrigins(&quot;http://localhost:4200/**&quot;)\r\n\t\t\t\t.allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;).allowedHeaders(&quot;*&quot;).allowCredentials(true).maxAge(3600);\r\n\t}\r\n\r\n\r\nNote: this request is working in Postman, and I send many requests but without tokens and it is working,\r\nwhen I try to send a request from an angular app with header \\[authentication\\], the value of the header is null in the backend application.","title":"Access to XMLHttpRequest at &#39;http://localhost:8080/api/v1/poll/public&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>I know it is a duplicate question but I can not fix it.\nI used Angular for the front end and send this request:</p>\n<pre><code>curl --location 'http://localhost:8080/api/v1/poll/public' \\\n--header 'sec-ch-ua: &quot;Not/A)Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;115&quot;, &quot;Chromium&quot;;v=&quot;115&quot;' \\\n--header 'sec-ch-ua-mobile: ?0' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ7XCJpZFwiOjI2LFwidXNlclwiOntcImlkXCI6MzUsXCJlbWFpbFwiOlwic2hhbUB5b3BtYWlsLmNvbVwiLFwidGltZXN0YW1wXCI6XCIyMDIzLTA4LTA1IDE2OjAxOjAwLjEzMDIxMzQwMFwiLFwiYWN0aXZlXCI6dHJ1ZSxcImVuYWJsZWRcIjp0cnVlLFwiYWNjb3VudE5vbkV4cGlyZWRcIjp0cnVlLFwiY3JlZGVudGlhbHNOb25FeHBpcmVkXCI6dHJ1ZSxcImFjY291bnROb25Mb2NrZWRcIjp0cnVlfSxcImZpcnN0TmFtZVwiOlwic2hhbVwiLFwibGFzdE5hbWVcIjpcIm9iaWVkYXRcIixcImdlbmRlclwiOlwiMVwiLFwiYmlydGhkYXRlXCI6XCIyMDE5LTEyLTFcIixcInRpbWVzdGFtcFwiOlwiMjAyMy0wOC0wNSAxNjowMTowMC4xMzAyMTM0MDBcIixcImNyZWF0ZWREYXRlXCI6XCIyMDIzLTA4LTA1IDE2OjAxOjAwLjEzOTYxNDcwMFwiLFwibGFuZ3VhZ2VcIjpcImVuXCIsXCJjb2xvck1vZGVcIjpcIm1vZGUyXCJ9IiwiaWF0IjoxNjkxNjA5MDM0fQ.FnbUC-WxRLG1IhyCNUfS1oojWFNIY_rl7kytqbefXlk' \\\n--header 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json, text/plain, */*' \\\n--header 'Referer: http://localhost:4200/' \\\n--header 'sec-ch-ua-platform: &quot;Windows&quot;' \\\n--data '{\n    &quot;start&quot;: 0,\n    &quot;length&quot;: 5\n}'\n</code></pre>\n<p>The return value is:</p>\n<p><img src=\"https://i.stack.imgur.com/gQL3E.png\" alt=\"has been blocked by CORS policy\" /></p>\n<p>The backend application was built using Java [spring boot]\nand I do this in Application.java</p>\n<pre><code>@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/api/v1/**&quot;).allowedOrigins(&quot;http://localhost:4200/**&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;).allowedHeaders(&quot;*&quot;).allowCredentials(true).maxAge(3600);\n}\n</code></pre>\n<p>Note: this request is working in Postman, and I send many requests but without tokens and it is working,\nwhen I try to send a request from an angular app with header [authentication], the value of the header is null in the backend application.</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691693131,"post_id":76878348,"comment_id":135529633,"body_markdown":"Do I understand correctly? You have two local projects, the first is built using Maven, and the second is Gradle. And you want to include the jar file of the first one to the second one as dependency.","body":"Do I understand correctly? You have two local projects, the first is built using Maven, and the second is Gradle. And you want to include the jar file of the first one to the second one as dependency."},{"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"score":0,"creation_date":1691693728,"post_id":76878348,"comment_id":135529738,"body_markdown":"yes, u understand correctly, jar or dependency, at second gradle project i need some classes from maven project","body":"yes, u understand correctly, jar or dependency, at second gradle project i need some classes from maven project"}],"answers":[{"tags":[],"owner":{"account_id":25899916,"reputation":76,"user_id":19625987,"display_name":"uchiha Itachi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691758706,"creation_date":1691758706,"answer_id":76883751,"question_id":76878348,"body_markdown":"I tried the same configuration in my local and found that the maven application jar has the classes inside BOOT-INF folder, that is why IntelliJ isn&#39;t finding them.\r\nThe following custom JAR task worked for me \r\n\r\n````\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt; \r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                        &lt;mainClass&gt;${main-class}&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n````\r\nAfter doing a clean install, you will find the custom JAR in the specified output directory, organized according to the original package structure of your application&#39;s classes.\r\nNow if you rebuild your gradle project, IntelliJ should be able to find your maven project&#39;s classes.\r\nHope this works for you!\r\n","title":"How to make custom dependency of my project?","body":"<p>I tried the same configuration in my local and found that the maven application jar has the classes inside BOOT-INF folder, that is why IntelliJ isn't finding them.\nThe following custom JAR task worked for me</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt; \n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;${main-class}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After doing a clean install, you will find the custom JAR in the specified output directory, organized according to the original package structure of your application's classes.\nNow if you rebuild your gradle project, IntelliJ should be able to find your maven project's classes.\nHope this works for you!</p>\n"}],"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691758706,"creation_date":1691691335,"question_id":76878348,"body_markdown":"my custom library pom:\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n  \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-   core/lifecycles.html#site_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\ntried empty &lt;build&gt; too, anyway after mvn install I am giving .jar\r\n\r\n\r\nmy gradle where I am trying include this library\r\n\r\n   `implementation fileTree(dir: &#39;path to my target&#39;, include: [&#39;*.jar&#39;])`\r\n\r\nalso I tried at project structure add jar like library, also like a module.\r\n\r\nAll I got was this that I can use my library classes at my project, but InteliJ idea can&#39;t find them.\r\n\r\n\r\n\r\nbut I can find my classes at project \r\n","title":"How to make custom dependency of my project?","body":"<p>my custom library pom:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n        &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-   core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>tried empty  too, anyway after mvn install I am giving .jar</p>\n<p>my gradle where I am trying include this library</p>\n<p><code>implementation fileTree(dir: 'path to my target', include: ['*.jar'])</code></p>\n<p>also I tried at project structure add jar like library, also like a module.</p>\n<p>All I got was this that I can use my library classes at my project, but InteliJ idea can't find them.</p>\n<p>but I can find my classes at project</p>\n"},{"tags":["java","spring-boot","maven","openapi","swagger-maven-plugin"],"owner":{"account_id":29110814,"reputation":1,"user_id":22300637,"display_name":"Lirmall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691758392,"creation_date":1691758392,"question_id":76883715,"body_markdown":"Added swagger-maven-plugin to the project to create OpenApi3 documentation. Here are plugin settings in pom.xml:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n             ...\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.10&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;resourcePackages&gt;\r\n                        &lt;package&gt;analytics.api&lt;/package&gt;\r\n                    &lt;/resourcePackages&gt;\r\n                    &lt;outputFileName&gt;generated_swagger_apiDoc&lt;/outputFileName&gt;\r\n                    &lt;outputPath&gt;${project.basedir}/generated-swagger&lt;/outputPath&gt;\r\n                    &lt;outputFormat&gt;JSONANDYAML&lt;/outputFormat&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;resolve&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nI have annotated java class: \r\n\r\n```\r\n{more imports...}\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n{more imports...}\r\n\r\n@Tag(\r\n        name = &quot;Needed name&quot;,\r\n        description = &quot;API description&quot;\r\n)\r\n@RestController\r\n@RequestMapping(&quot;/request&quot;)\r\n@RequiredArgsConstructor\r\npublic class Example {\r\n    private final Service service;\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Operation(\r\n            summary = &quot;Operation description&quot;,\r\n            method = &quot;post&quot;\r\n    )\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Request successful&quot;)\r\n    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad request&quot;)\r\n    @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;)\r\n    @PostMapping(&quot;/request&quot;)\r\n    public void method(\r\n            @Parameter(\r\n                    description = &quot;Post request in JSON&quot;,\r\n                    required = true,\r\n                    example = &quot;{json request example}&quot;\r\n             )\r\n            @RequestParam(&quot;request&quot;) String request, HttpServletResponse res) throws IOException {\r\n       //any code...\r\n    }\r\n}\r\n\r\n```\r\n\r\nAfter mvn install i got a file generated_swagger_apiDoc.json, but this is the content:\r\n\r\n```\r\n{\r\n  &quot;openapi&quot; : &quot;3.0.1&quot;\r\n}\r\n```\r\n\r\nI try different versions of springdoc-openapi-ui, on api-doc url there is a good big json file, which have all of my classes. I need export OpenAPI3 specification document to json file, how I can do it? ","title":"Plugin io.swagger.core.v3 swagger-maven-plugin generating an empty json file","body":"<p>Added swagger-maven-plugin to the project to create OpenApi3 documentation. Here are plugin settings in pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n             ...\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.10&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resourcePackages&gt;\n                        &lt;package&gt;analytics.api&lt;/package&gt;\n                    &lt;/resourcePackages&gt;\n                    &lt;outputFileName&gt;generated_swagger_apiDoc&lt;/outputFileName&gt;\n                    &lt;outputPath&gt;${project.basedir}/generated-swagger&lt;/outputPath&gt;\n                    &lt;outputFormat&gt;JSONANDYAML&lt;/outputFormat&gt;\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;resolve&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I have annotated java class:</p>\n<pre><code>{more imports...}\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n{more imports...}\n\n@Tag(\n        name = &quot;Needed name&quot;,\n        description = &quot;API description&quot;\n)\n@RestController\n@RequestMapping(&quot;/request&quot;)\n@RequiredArgsConstructor\npublic class Example {\n    private final Service service;\n    private final ObjectMapper objectMapper;\n\n    @Operation(\n            summary = &quot;Operation description&quot;,\n            method = &quot;post&quot;\n    )\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Request successful&quot;)\n    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad request&quot;)\n    @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;)\n    @PostMapping(&quot;/request&quot;)\n    public void method(\n            @Parameter(\n                    description = &quot;Post request in JSON&quot;,\n                    required = true,\n                    example = &quot;{json request example}&quot;\n             )\n            @RequestParam(&quot;request&quot;) String request, HttpServletResponse res) throws IOException {\n       //any code...\n    }\n}\n\n</code></pre>\n<p>After mvn install i got a file generated_swagger_apiDoc.json, but this is the content:</p>\n<pre><code>{\n  &quot;openapi&quot; : &quot;3.0.1&quot;\n}\n</code></pre>\n<p>I try different versions of springdoc-openapi-ui, on api-doc url there is a good big json file, which have all of my classes. I need export OpenAPI3 specification document to json file, how I can do it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691747846,"post_id":76882389,"comment_id":135536666,"body_markdown":"I personally would prefer calling split(&quot;;&quot;) then processing the first item in the array using your third regex that works for the first 2 records","body":"I personally would prefer calling split(&quot;;&quot;) then processing the first item in the array using your third regex that works for the first 2 records"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691747796,"creation_date":1691747796,"answer_id":76882473,"question_id":76882389,"body_markdown":"I would first use a string split on semicolon to reduce the first city/country entry (if a given record have more than one entry in the first place).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;New York, Northeast, United States; Berlin, Europe, Germany; Singapore, Southeast Asia, Singapore&quot;;\r\n    String first = input.split(&quot;;&quot;)[0];\r\n    String pattern = &quot;\\\\w+(?: \\\\w+)*$&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(first);\r\n    if (m.find()) {\r\n        System.out.println(m.group());  // United States\r\n    }","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>I would first use a string split on semicolon to reduce the first city/country entry (if a given record have more than one entry in the first place).</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;New York, Northeast, United States; Berlin, Europe, Germany; Singapore, Southeast Asia, Singapore&quot;;\nString first = input.split(&quot;;&quot;)[0];\nString pattern = &quot;\\\\w+(?: \\\\w+)*$&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(first);\nif (m.find()) {\n    System.out.println(m.group());  // United States\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16384890,"reputation":725,"user_id":11835044,"display_name":"Oliver Hao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691748009,"creation_date":1691748009,"answer_id":76882499,"question_id":76882389,"body_markdown":"regex: `([^,]+)$|([^,]*;).*?$`\r\n\r\ndemo: https://regex101.com/r/yybdAM/1","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>regex: <code>([^,]+)$|([^,]*;).*?$</code></p>\n<p>demo: <a href=\"https://regex101.com/r/yybdAM/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/yybdAM/1</a></p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691748968,"creation_date":1691748515,"answer_id":76882568,"question_id":76882389,"body_markdown":"I think you could firstly split based on `;` to get the seperate entries. Then for each entry you could use the following regex\r\n\r\n```\r\n^([^,]+)(?:,([^,]+))?,([^,]+)$\r\n```\r\n\r\n- `^` start of string\r\n- `([^,]+)` capturing group for the city (the not of comma one or more times)\r\n- `(?:,([^,]+))?` optional region group (outer group non capturing, inner group is capturing)\r\n- `,([^,]+)` - country\r\n- `$` end of string\r\n\r\nYou can play around with this regex (see the capturing groups etc) at [regex101](https://regex101.com/r/lMA4Ua/1)","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>I think you could firstly split based on <code>;</code> to get the seperate entries. Then for each entry you could use the following regex</p>\n<pre><code>^([^,]+)(?:,([^,]+))?,([^,]+)$\n</code></pre>\n<ul>\n<li><code>^</code> start of string</li>\n<li><code>([^,]+)</code> capturing group for the city (the not of comma one or more times)</li>\n<li><code>(?:,([^,]+))?</code> optional region group (outer group non capturing, inner group is capturing)</li>\n<li><code>,([^,]+)</code> - country</li>\n<li><code>$</code> end of string</li>\n</ul>\n<p>You can play around with this regex (see the capturing groups etc) at <a href=\"https://regex101.com/r/lMA4Ua/1\" rel=\"nofollow noreferrer\">regex101</a></p>\n"},{"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691749345,"creation_date":1691748827,"answer_id":76882599,"question_id":76882389,"body_markdown":"This one works for me: (?:[^,]+, ?){1,2}([^;]+)\r\n\r\nHere&#39;s my Java code:\r\n```\r\n        var input = new String[] {\r\n                &quot;city, country&quot;,\r\n                &quot;city, region, country&quot;,\r\n                &quot;city1, region1, country1; city2, region2, country2; city3, region3, country3&quot; };\r\n        \r\n        var p = Pattern.compile(&quot;(?:[^,]+, ?){1,2}([^;]+)&quot;);\r\n        for(String s : input)\r\n        {\r\n            var m = p.matcher(s);\r\n            if(m.find())\r\n            {\r\n                System.out.println(m.group(1));\r\n            }\r\n        }\r\n```","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>This one works for me: (?:[^,]+, ?){1,2}([^;]+)</p>\n<p>Here's my Java code:</p>\n<pre><code>        var input = new String[] {\n                &quot;city, country&quot;,\n                &quot;city, region, country&quot;,\n                &quot;city1, region1, country1; city2, region2, country2; city3, region3, country3&quot; };\n        \n        var p = Pattern.compile(&quot;(?:[^,]+, ?){1,2}([^;]+)&quot;);\n        for(String s : input)\n        {\n            var m = p.matcher(s);\n            if(m.find())\n            {\n                System.out.println(m.group(1));\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691758089,"creation_date":1691749076,"answer_id":76882636,"question_id":76882389,"body_markdown":"Even if your regex matches more than one substring in a string, every call to `Matcher.find()` returns only one find. You can then call `Matcher.group()` to get only the group you&#39;re interested in.\r\n\r\nFor example, the following regex will always match the country as group 3: \r\n\r\n    ;?(.*?, )?(.*?),\\s(.*?)(;|$)\r\n\r\nYou can test this regular expression here: https://regex101.com/r/D3ZEpV/1\r\n\r\nThen you can do something like:\r\n\r\n        String str = &quot;city1, region1, country1; city2, region2, country2; city3, region3, country3&quot; ;\r\n        Pattern p = Pattern.compile(&quot;;?(.*?, )?(.*?),\\\\s(.*?)(;|$)&quot;);\r\n        Matcher m = p.matcher(str);\r\n        m.find();\r\n        System.out.println(m.group(3)); // prints &quot;country1&quot;","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>Even if your regex matches more than one substring in a string, every call to <code>Matcher.find()</code> returns only one find. You can then call <code>Matcher.group()</code> to get only the group you're interested in.</p>\n<p>For example, the following regex will always match the country as group 3:</p>\n<pre><code>;?(.*?, )?(.*?),\\s(.*?)(;|$)\n</code></pre>\n<p>You can test this regular expression here: <a href=\"https://regex101.com/r/D3ZEpV/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/D3ZEpV/1</a></p>\n<p>Then you can do something like:</p>\n<pre><code>    String str = &quot;city1, region1, country1; city2, region2, country2; city3, region3, country3&quot; ;\n    Pattern p = Pattern.compile(&quot;;?(.*?, )?(.*?),\\\\s(.*?)(;|$)&quot;);\n    Matcher m = p.matcher(str);\n    m.find();\n    System.out.println(m.group(3)); // prints &quot;country1&quot;\n</code></pre>\n"}],"owner":{"account_id":19798991,"reputation":1,"user_id":14500444,"display_name":"Postino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1691758089,"creation_date":1691747161,"question_id":76882389,"body_markdown":"Here are more details:\r\nI have a list delivered by an external provider. It contains a field that can have different content for the records it contains: sometimes records have commas, sometimes they have commas and semi-colons, and multiple occurrences of these characters. To be more clear, here are some examples:\r\n\r\nRecord 1\r\ncity, country\r\n\r\nRecord 2\r\ncity, region, country\r\n\r\nRecord 3\r\ncity1, region1, country1; city2, region2, country2; city3, region3, country3\r\n\r\nAlthough at first I was only able to find a regex that allows me to filter the country from record 1, I am now able to select the countries in all 3 of the records (see below for tests executed in regex101). The part that I am struggling with is:\r\n \r\n- to get **only ** the *first* country in record 3, i.e. the string between the first semi-colon and the preceding space. I am not interested in the remaining string after the first semi-colon.\r\n\r\n**Testing history**\r\nI have tried several regular expressions, the best of which are below:\r\n\r\n```\r\n(?&lt;=, ).+|(?&lt;=,).+?(?=;)\r\n```\r\nThis will select:\r\n- only the country in record 1 = PASS\r\n- both the region and the country in record 2 = FAIL\r\n- both the region and the country preceding all semi-colons (region1, country1, region2, country2 etc.) = FAIL\r\n\r\nI have also tried the following:\r\n\r\n```\r\n[^,]*[;\\n]|;.*\r\n```\r\n\r\nThis will select:\r\n- only the country in record 1 = PASS\r\n- only the country in record 2 = PASS\r\n- all countries in the string before each semi-colon = FAIL\r\n\r\nThe last regex does select the right part of the string (just before the semi-colon up to the preceding space), but it needs to stop after the first match of such a string. \r\nIf I could trim the leading space and get rid of the semi-colon and the carriage return that would be a bonus.","title":"How to match ONLY the first string between the first semi-colon and the preceding space using a regular expression","body":"<p>Here are more details:\nI have a list delivered by an external provider. It contains a field that can have different content for the records it contains: sometimes records have commas, sometimes they have commas and semi-colons, and multiple occurrences of these characters. To be more clear, here are some examples:</p>\n<p>Record 1\ncity, country</p>\n<p>Record 2\ncity, region, country</p>\n<p>Record 3\ncity1, region1, country1; city2, region2, country2; city3, region3, country3</p>\n<p>Although at first I was only able to find a regex that allows me to filter the country from record 1, I am now able to select the countries in all 3 of the records (see below for tests executed in regex101). The part that I am struggling with is:</p>\n<ul>\n<li>to get **only ** the <em>first</em> country in record 3, i.e. the string between the first semi-colon and the preceding space. I am not interested in the remaining string after the first semi-colon.</li>\n</ul>\n<p><strong>Testing history</strong>\nI have tried several regular expressions, the best of which are below:</p>\n<pre><code>(?&lt;=, ).+|(?&lt;=,).+?(?=;)\n</code></pre>\n<p>This will select:</p>\n<ul>\n<li>only the country in record 1 = PASS</li>\n<li>both the region and the country in record 2 = FAIL</li>\n<li>both the region and the country preceding all semi-colons (region1, country1, region2, country2 etc.) = FAIL</li>\n</ul>\n<p>I have also tried the following:</p>\n<pre><code>[^,]*[;\\n]|;.*\n</code></pre>\n<p>This will select:</p>\n<ul>\n<li>only the country in record 1 = PASS</li>\n<li>only the country in record 2 = PASS</li>\n<li>all countries in the string before each semi-colon = FAIL</li>\n</ul>\n<p>The last regex does select the right part of the string (just before the semi-colon up to the preceding space), but it needs to stop after the first match of such a string.\nIf I could trim the leading space and get rid of the semi-colon and the carriage return that would be a bonus.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-webflow"],"comments":[{"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"score":0,"creation_date":1489228155,"post_id":42732938,"comment_id":72586470,"body_markdown":"This is not the same.","body":"This is not the same."}],"answers":[{"comments":[{"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"score":4,"creation_date":1489228196,"post_id":42734054,"comment_id":72586481,"body_markdown":"I do not want to add Base url for all. I am building app with front-end with templates AND api which I want to prefix","body":"I do not want to add Base url for all. I am building app with front-end with templates AND api which I want to prefix"},{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1489228391,"post_id":42734054,"comment_id":72586536,"body_markdown":"You want com.myproject.api/** for HTML views and com.myproject.api/api/** for your other controllers (such as REST controllers)?","body":"You want com.myproject.api/** for HTML views and com.myproject.api/api/** for your other controllers (such as REST controllers)?"},{"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"score":2,"creation_date":1489228495,"post_id":42734054,"comment_id":72586576,"body_markdown":"No. I want &quot;/api/*&quot; for all controllers under package com.myapp.api and no prefix for all controllers under com.myapp.web","body":"No. I want &quot;/api/*&quot; for all controllers under package com.myapp.api and no prefix for all controllers under com.myapp.web"}],"tags":[],"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489228094,"creation_date":1489228094,"answer_id":42734054,"question_id":42732938,"body_markdown":"Already answered [here](https://stackoverflow.com/questions/24452072/how-do-i-choose-the-url-for-my-spring-boot-webapp) and [here](https://stackoverflow.com/questions/20405474/add-context-path-to-spring-boot-application).\r\n\r\nAdd an `application.properties` file under src/main/resources, with the following option: \r\n\r\n    server.contextPath=/api\r\n\r\nCheck the official reference for [common properties](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html).","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>Already answered <a href=\"https://stackoverflow.com/questions/24452072/how-do-i-choose-the-url-for-my-spring-boot-webapp\">here</a> and <a href=\"https://stackoverflow.com/questions/20405474/add-context-path-to-spring-boot-application\">here</a>.</p>\n\n<p>Add an <code>application.properties</code> file under src/main/resources, with the following option: </p>\n\n<pre><code>server.contextPath=/api\n</code></pre>\n\n<p>Check the official reference for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">common properties</a>.</p>\n"},{"comments":[{"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"score":0,"creation_date":1489403886,"post_id":42737009,"comment_id":72639762,"body_markdown":"&#39; top of every desired Controller or RestController class.&#39; - so it is not impossible to configure Spring somehow to do that? It would be easier to maintain","body":"&#39; top of every desired Controller or RestController class.&#39; - so it is not impossible to configure Spring somehow to do that? It would be easier to maintain"},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":0,"creation_date":1489558231,"post_id":42737009,"comment_id":72717902,"body_markdown":"What you&#39;re saying is package level annotations but Spring&#39;s `@RequestMapping` does not support it.","body":"What you&#39;re saying is package level annotations but Spring&#39;s <code>@RequestMapping</code> does not support it."},{"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"score":0,"creation_date":1489564548,"post_id":42737009,"comment_id":72720817,"body_markdown":"can&#39;t be done somehow as server.contextPath but applied only to package?","body":"can&#39;t be done somehow as server.contextPath but applied only to package?"}],"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489246282,"creation_date":1489246282,"answer_id":42737009,"question_id":42732938,"body_markdown":"You should add `@RequestMapping(&quot;/api&quot;)` to top of every desired `@Controller` or `@RestController` class.\r\n\r\nWhen both the class and method have that annotation, Spring Boot appends them while building the url. In below example the method will be bound to `/api/user` route.\r\n\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @RestController\r\n    public class MyController {\r\n    \r\n      @RequestMapping(&quot;/user&quot;)\r\n      public List&lt;User&gt; getUsers(){\r\n         return ...\r\n      }\r\n    \r\n    }\r\n","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>You should add <code>@RequestMapping(\"/api\")</code> to top of every desired <code>@Controller</code> or <code>@RestController</code> class.</p>\n\n<p>When both the class and method have that annotation, Spring Boot appends them while building the url. In below example the method will be bound to <code>/api/user</code> route.</p>\n\n<pre><code>@RequestMapping(\"/api\")\n@RestController\npublic class MyController {\n\n  @RequestMapping(\"/user\")\n  public List&lt;User&gt; getUsers(){\n     return ...\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"score":1,"creation_date":1620375298,"post_id":50894636,"comment_id":119187354,"body_markdown":"This isn&#39;t what was being asked. The question is for handlers in a given package, such that things like /login are not moved to within the /api sub-path","body":"This isn&#39;t what was being asked. The question is for handlers in a given package, such that things like /login are not moved to within the /api sub-path"}],"tags":[],"owner":{"account_id":10078023,"reputation":67,"user_id":7449408,"display_name":"xman_bsn"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1529221014,"creation_date":1529221014,"answer_id":50894636,"question_id":42732938,"body_markdown":"If you are using springboot, you can add the following:\r\n\r\n    server.servlet.context-path=/api\r\n\r\nto application.properties file.","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>If you are using springboot, you can add the following:</p>\n\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n\n<p>to application.properties file.</p>\n"},{"comments":[{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":0,"creation_date":1589358121,"post_id":54946867,"comment_id":109258474,"body_markdown":"something is wrong with patterns[ i ]  array filling in here. Why do we fill it in by duplicating pattern the same count of times as has pattern.length? so if pattern is &#39;internal&#39; we&#39;ll have 8 copies of the pattern","body":"something is wrong with patterns[ i ]  array filling in here. Why do we fill it in by duplicating pattern the same count of times as has pattern.length? so if pattern is &#39;internal&#39; we&#39;ll have 8 copies of the pattern"},{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":1,"creation_date":1609777928,"post_id":54946867,"comment_id":115922099,"body_markdown":"NOTE: most of the constructors/objects used here are deprecated in Spring5","body":"NOTE: most of the constructors/objects used here are deprecated in Spring5"}],"tags":[],"owner":{"account_id":15017388,"reputation":19,"user_id":10839980,"display_name":"Andre Lubaczewski"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551464250,"creation_date":1551451304,"answer_id":54946867,"question_id":42732938,"body_markdown":"I achieved the result I think you are looking for in the following way, so long as you are using MVC.\r\n\r\nFirst make a configuration class that implements ```WebMvcRegistrations```\r\n```\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcRegistrations {\r\n\r\n    @Value(&quot;${Prop.Value.String}&quot;) //&quot;api&quot;\r\n    private String apiPrefix;\r\n\r\n    @Value(&quot;${Prop.Package.Names}&quot;) //[&quot;com.myapp.api&quot;,&quot;Others if you like&quot;]\r\n    private String[] prefixedPackages;\r\n\r\n    @Override\r\n    public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\r\n        return new PrefixedApiRequestHandler(apiPrefix,prefixedPackages);\r\n    }\r\n}\r\n```\r\n\r\nThen create a class that extends ```RequestMappingHandlerMapping```\r\nand overrides ```getMappingForMethod```\r\n\r\n```\r\n@Log4j2\r\npublic class PrefixedApiRequestHandler extends RequestMappingHandlerMapping {\r\n\r\n    private final String prefix;\r\n\r\n    private final String[] prefixedPackages;\r\n\r\n    public PrefixedApiRequestHandler(final String prefix, final String... packages) {\r\n        super();\r\n        this.prefix = prefix;\r\n        this.prefixedPackages = packages.clone();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected RequestMappingInfo getMappingForMethod(final Method method, final Class&lt;?&gt; handlerType) {\r\n\r\n        RequestMappingInfo info = super.getMappingForMethod(method, handlerType);\r\n        if (info == null) {\r\n            return null;\r\n        }\r\n\r\n        for (final String packageRef : prefixedPackages) {\r\n            if (handlerType.getPackageName().contains(packageRef)) {\r\n                info = createPrefixedApi().combine(info);\r\n\r\n                log.trace(&quot;Updated Prefixed Mapping &quot; + info);\r\n                return info;\r\n            }\r\n        }\r\n        log.trace(&quot;Skipped Non-Prefixed Mapping &quot; + info);\r\n        return info;\r\n    }\r\n\r\n    private RequestMappingInfo createPrefixedApi() {\r\n        String[] patterns = new String[prefix.length()];\r\n        for (int i = 0; i &lt; patterns.length; i++) {\r\n            // Build the URL prefix\r\n            patterns[i] = prefix;\r\n        }\r\n\r\n        return new RequestMappingInfo(\r\n                new PatternsRequestCondition(patterns,\r\n                        getUrlPathHelper(),\r\n                        getPathMatcher(),\r\n                        useSuffixPatternMatch(),\r\n                        useTrailingSlashMatch(),\r\n                        getFileExtensions()),\r\n                new RequestMethodsRequestCondition(),\r\n                new ParamsRequestCondition(),\r\n                new HeadersRequestCondition(),\r\n                new ConsumesRequestCondition(),\r\n                new ProducesRequestCondition(),\r\n                null);\r\n    }\r\n}\r\n```\r\n\r\nYou should then see /api/(ControllerMapping) for all mappings, in the specified packages only. Note: I have ```@RequestMapping(&quot;/&quot;)``` at the top of my controller.","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>I achieved the result I think you are looking for in the following way, so long as you are using MVC.</p>\n\n<p>First make a configuration class that implements <code>WebMvcRegistrations</code></p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcRegistrations {\n\n    @Value(\"${Prop.Value.String}\") //\"api\"\n    private String apiPrefix;\n\n    @Value(\"${Prop.Package.Names}\") //[\"com.myapp.api\",\"Others if you like\"]\n    private String[] prefixedPackages;\n\n    @Override\n    public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\n        return new PrefixedApiRequestHandler(apiPrefix,prefixedPackages);\n    }\n}\n</code></pre>\n\n<p>Then create a class that extends <code>RequestMappingHandlerMapping</code>\nand overrides <code>getMappingForMethod</code></p>\n\n<pre><code>@Log4j2\npublic class PrefixedApiRequestHandler extends RequestMappingHandlerMapping {\n\n    private final String prefix;\n\n    private final String[] prefixedPackages;\n\n    public PrefixedApiRequestHandler(final String prefix, final String... packages) {\n        super();\n        this.prefix = prefix;\n        this.prefixedPackages = packages.clone();\n\n    }\n\n    @Override\n    protected RequestMappingInfo getMappingForMethod(final Method method, final Class&lt;?&gt; handlerType) {\n\n        RequestMappingInfo info = super.getMappingForMethod(method, handlerType);\n        if (info == null) {\n            return null;\n        }\n\n        for (final String packageRef : prefixedPackages) {\n            if (handlerType.getPackageName().contains(packageRef)) {\n                info = createPrefixedApi().combine(info);\n\n                log.trace(\"Updated Prefixed Mapping \" + info);\n                return info;\n            }\n        }\n        log.trace(\"Skipped Non-Prefixed Mapping \" + info);\n        return info;\n    }\n\n    private RequestMappingInfo createPrefixedApi() {\n        String[] patterns = new String[prefix.length()];\n        for (int i = 0; i &lt; patterns.length; i++) {\n            // Build the URL prefix\n            patterns[i] = prefix;\n        }\n\n        return new RequestMappingInfo(\n                new PatternsRequestCondition(patterns,\n                        getUrlPathHelper(),\n                        getPathMatcher(),\n                        useSuffixPatternMatch(),\n                        useTrailingSlashMatch(),\n                        getFileExtensions()),\n                new RequestMethodsRequestCondition(),\n                new ParamsRequestCondition(),\n                new HeadersRequestCondition(),\n                new ConsumesRequestCondition(),\n                new ProducesRequestCondition(),\n                null);\n    }\n}\n</code></pre>\n\n<p>You should then see /api/(ControllerMapping) for all mappings, in the specified packages only. Note: I have <code>@RequestMapping(\"/\")</code> at the top of my controller.</p>\n"},{"comments":[{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1639691848,"post_id":66888531,"comment_id":124421102,"body_markdown":"We can find an equivalent example there : https://docs.spring.io/spring-framework/docs/5.3.0-M1/spring-framework-reference/web.html#mvc-config-path-matching","body":"We can find an equivalent example there : <a href=\"https://docs.spring.io/spring-framework/docs/5.3.0-M1/spring-framework-reference/web.html#mvc-config-path-matching\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.3.0-M1/&hellip;</a>"},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1671793025,"post_id":66888531,"comment_id":132177215,"body_markdown":"Great! And the `HandlerTypePredicate` can be use to predicate class with `@RestController` annotation!","body":"Great! And the <code>HandlerTypePredicate</code> can be use to predicate class with <code>@RestController</code> annotation!"}],"tags":[],"owner":{"account_id":11110144,"reputation":914,"user_id":8156198,"display_name":"Multicolaure"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620401557,"creation_date":1617196091,"answer_id":66888531,"question_id":42732938,"body_markdown":"With Spring Boot, this worked for me :\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebMvcConfiguration implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.addPathPrefix(&quot;/api&quot;,\r\n                   HandlerTypePredicate.forBasePackage(&quot;com.your.package&quot;));\r\n        }\r\n    }","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>With Spring Boot, this worked for me :</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.addPathPrefix(&quot;/api&quot;,\n               HandlerTypePredicate.forBasePackage(&quot;com.your.package&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1966250,"reputation":12878,"user_id":1766444,"accept_rate":43,"display_name":"Marek Urbanowicz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6423,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":5,"score":9,"last_activity_date":1691757533,"creation_date":1489219826,"question_id":42732938,"body_markdown":"I was trying to find it but I found many different scenarios but not this one.\r\n\r\nWhat I want to do is to add &quot;/api/&quot; prefix to all routes in controllers under com.myproject.api . \r\nI want &quot;/api/*&quot; for all controllers under package com.myapp.api and no prefix for all controllers under com.myapp.web\r\n\r\nIs it possible with Spring / Spring Boot ?","title":"How to add &quot;api&quot; prefix to all controllers under one package com.myproject.api?","body":"<p>I was trying to find it but I found many different scenarios but not this one.</p>\n<p>What I want to do is to add &quot;/api/&quot; prefix to all routes in controllers under com.myproject.api .\nI want &quot;/api/*&quot; for all controllers under package com.myapp.api and no prefix for all controllers under com.myapp.web</p>\n<p>Is it possible with Spring / Spring Boot ?</p>\n"},{"tags":["java","selenium-webdriver","cucumber","bdd"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757396,"post_id":76883238,"comment_id":135538557,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29205803,"reputation":1,"user_id":22374912,"display_name":"Emil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691757463,"creation_date":1691754112,"question_id":76883238,"body_markdown":"     Scenario: Filtering Test &gt;\r\n     When the User verifies a total of &quot;number&quot; values on the &quot;first&quot; page&gt;\r\n     And the User confirms &quot;number&quot; values on the &quot;second&quot; page &gt;\r\n     And the User checks &quot;number&quot; values on the &quot;last&quot; page&gt;\r\n     Then the User validates that the sum of all the numbers displayed on &gt;\r\n     the screen is accurate\r\n\r\n------------------------------------------------------------------------\r\n\r\nHow can I calculate the sum of these numbers on my screen without disrupting my Cucumber framework? Alternatively, how can I ensure the accuracy of the sum even if it&#39;s not visibly displayed on the screen? The placeholder &quot;number&quot; I&#39;ve used in this example is represented as a String, and this poses an issue when attempting to convert it (with ParseInt) to an int, as it interferes with the functionality of my framework.\r\n\r\nMy goal is to create a sustainable scenario that dynamically captures variable values from the screen, eliminating the need to manually update these values in the scenario each time.","title":"How can I do automatically capture changing values in the scenario I have written, what kind of method do I need to develop dynamically framework?","body":"<pre><code> Scenario: Filtering Test &gt;\n When the User verifies a total of &quot;number&quot; values on the &quot;first&quot; page&gt;\n And the User confirms &quot;number&quot; values on the &quot;second&quot; page &gt;\n And the User checks &quot;number&quot; values on the &quot;last&quot; page&gt;\n Then the User validates that the sum of all the numbers displayed on &gt;\n the screen is accurate\n</code></pre>\n<hr />\n<p>How can I calculate the sum of these numbers on my screen without disrupting my Cucumber framework? Alternatively, how can I ensure the accuracy of the sum even if it's not visibly displayed on the screen? The placeholder &quot;number&quot; I've used in this example is represented as a String, and this poses an issue when attempting to convert it (with ParseInt) to an int, as it interferes with the functionality of my framework.</p>\n<p>My goal is to create a sustainable scenario that dynamically captures variable values from the screen, eliminating the need to manually update these values in the scenario each time.</p>\n"},{"tags":["java","spring","maven","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757575,"post_id":76883600,"comment_id":135538605,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1691759633,"post_id":76883600,"comment_id":135539055,"body_markdown":"Have you checked the answers on this one: https://stackoverflow.com/questions/53459543/error-when-creating-jpa-repository-entitypathresolver-must-not-be-null","body":"Have you checked the answers on this one: <a href=\"https://stackoverflow.com/questions/53459543/error-when-creating-jpa-repository-entitypathresolver-must-not-be-null\" title=\"error when creating jpa repository entitypathresolver must not be null\">stackoverflow.com/questions/53459543/&hellip;</a>"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1691763522,"post_id":76883600,"comment_id":135539973,"body_markdown":"why your id property is commented ? the error means that your repository cannot find your entity","body":"why your id property is commented ? the error means that your repository cannot find your entity"}],"owner":{"account_id":27963087,"reputation":1,"user_id":21354443,"display_name":"Vindener"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691757343,"creation_date":1691757343,"question_id":76883600,"body_markdown":"This is error i am getting atthe time of compilation. I am new at spring and not able to understand the error. Please help me to find out and fix program.\r\n\r\nMy logs and error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;projectRepository&#39; defined in repository.ProjectRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: EntityPathResolver must not be null!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat domain.Domain.main(Domain.java:23)\r\nCaused by: java.lang.IllegalArgumentException: EntityPathResolver must not be null!\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.setEntityPathResolver(JpaRepositoryFactory.java:132)\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.createRepositoryFactory(JpaRepositoryFactoryBean.java:125)\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.doCreateRepositoryFactory(JpaRepositoryFactoryBean.java:116)\r\n\tat org.springframework.data.repository.core.support.TransactionalRepositoryFactoryBeanSupport.createRepositoryFactory(TransactionalRepositoryFactoryBeanSupport.java:80)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:297)\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 12 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy code in Domain.java :\r\n\r\n```\r\n   package domain;\r\n\r\n   import bl.HibernateUtil;\r\n   import entity.Address;\r\n   import entity.Employee;\r\n   import entity.Project;\r\n   import org.springframework.context.ApplicationContext;\r\n   import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n   import repository.AddressRepository;\r\n   import repository.EmployeeRepository;\r\n   import repository.ProjectRepository;\r\n   import service.AddressService;\r\n   import service.EmployeeService;\r\n   import service.ProjectService;\r\n\r\n   import java.sql.Date;\r\n   import java.sql.SQLException;\r\n   import java.util.*;\r\n   \r\n   public class Domain {\r\n\r\n    public static void main(String[] args) throws SQLException {\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\r\n        AddressRepository addressRepository = context.getBean(AddressRepository.class);\r\n\r\n        Address address = new Address();\r\n        address.setCountry(&quot;DC&quot;);\r\n        address.setCity(&quot;Gotham city&quot;);\r\n        address.setStreet(&quot;Arkham street 1&quot;);\r\n        address.setPostCode(&quot;12345&quot;);\r\n\r\n        Project project = new Project();\r\n        project.setTitle(&quot;Gotham PD&quot;);\r\n\r\n        Employee employee = new Employee();\r\n        employee.setFirstName(&quot;James&quot;);\r\n        employee.setLastName(&quot;Gordon&quot;);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(1939, Calendar.MAY, 1);\r\n\r\n        employee.setBirthday(new Date(calendar.getTime().getTime()));\r\n        employee.setAddress(address);\r\n\r\n        Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\r\n        employees.add(employee);\r\n        project.setEmployees(employees);\r\n\r\n        Set&lt;Project&gt; projects = new HashSet&lt;Project&gt;();\r\n        projects.add(project);\r\n        employee.setProjects(projects);\r\n\r\n        //addressRepository.save(address);\r\n\r\n        System.out.println(&quot;***********&quot;);\r\n\r\n      //  System.out.println(employeeRepository.findByFirstNameAndLastName(&quot;James&quot;,&quot;Gordon&quot;));\r\n    }\r\n\r\n   }\r\n```\r\n\r\nMy pom file :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;groupId&gt;com.vserdiuk.hibernate&lt;/groupId&gt;\r\n&lt;artifactId&gt;hibernate-xml-mapping&lt;/artifactId&gt;\r\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.214&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nmy Entity class:\r\n```\r\n\r\n package entity;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity @Table(name = &quot;ADDRESS&quot;) public class Address {\r\n\r\n@Id\r\n// @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id;\r\n\r\n@Column(name = &quot;COUNTRY&quot;)\r\nprivate String country;\r\n\r\n@Column(name = &quot;CITY&quot;)\r\nprivate String city;\r\n\r\n@Column(name = &quot;STREET&quot;)\r\nprivate String street;\r\n\r\n@Column(name = &quot;POST_CODE&quot;, length = 10)\r\nprivate String postCode;\r\n\r\npublic Address() {\r\n\r\n}\r\n\r\npublic Long getId() {\r\n    return id;\r\n}\r\n\r\npublic void setId(Long id) {\r\n    this.id = id;\r\n}\r\n\r\npublic String getCountry() {\r\n    return country;\r\n}\r\n\r\npublic void setCountry(String country) {\r\n    this.country = country;\r\n}\r\n\r\npublic String getCity() {\r\n    return city;\r\n}\r\n\r\npublic void setCity(String city) {\r\n    this.city = city;\r\n}\r\n\r\npublic String getStreet() {\r\n    return street;\r\n}\r\n\r\npublic void setStreet(String street) {\r\n    this.street = street;\r\n}\r\n\r\npublic String getPostCode() {\r\n    return postCode;\r\n}\r\n\r\npublic void setPostCode(String postCode) {\r\n    this.postCode = postCode;\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\n    return &quot;Address{&quot; +\r\n            &quot;id=&quot; + id +\r\n            &quot;, country=&#39;&quot; + country + &#39;\\&#39;&#39; +\r\n            &quot;, city=&#39;&quot; + city + &#39;\\&#39;&#39; +\r\n            &quot;, street=&#39;&quot; + street + &#39;\\&#39;&#39; +\r\n            &quot;, postCode=&#39;&quot; + postCode + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n}\r\n}\r\n```\r\n\r\n\r\nMy Repository Class:\r\n\r\n```\r\npackage repository;\r\nimport entity.Address; \r\nimport org.springframework.data.jpa.repository.JpaRepository; \r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; { }\r\n```\r\n\r\nResult: I want to get info from h2 database with spring data. And i want to write some info into database.","title":"Spring Data Error creating bean with name &#39;PrRepository&#39; defined in repository.PrRepository defined in : Invocation of init method failed;","body":"<p>This is error i am getting atthe time of compilation. I am new at spring and not able to understand the error. Please help me to find out and fix program.</p>\n<p>My logs and error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectRepository' defined in repository.ProjectRepository defined in : Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: EntityPathResolver must not be null!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at domain.Domain.main(Domain.java:23)\nCaused by: java.lang.IllegalArgumentException: EntityPathResolver must not be null!\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.setEntityPathResolver(JpaRepositoryFactory.java:132)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.createRepositoryFactory(JpaRepositoryFactoryBean.java:125)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.doCreateRepositoryFactory(JpaRepositoryFactoryBean.java:116)\n    at org.springframework.data.repository.core.support.TransactionalRepositoryFactoryBeanSupport.createRepositoryFactory(TransactionalRepositoryFactoryBeanSupport.java:80)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:297)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 12 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>My code in Domain.java :</p>\n<pre><code>   package domain;\n\n   import bl.HibernateUtil;\n   import entity.Address;\n   import entity.Employee;\n   import entity.Project;\n   import org.springframework.context.ApplicationContext;\n   import org.springframework.context.support.ClassPathXmlApplicationContext;\n   import repository.AddressRepository;\n   import repository.EmployeeRepository;\n   import repository.ProjectRepository;\n   import service.AddressService;\n   import service.EmployeeService;\n   import service.ProjectService;\n\n   import java.sql.Date;\n   import java.sql.SQLException;\n   import java.util.*;\n   \n   public class Domain {\n\n    public static void main(String[] args) throws SQLException {\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\n        AddressRepository addressRepository = context.getBean(AddressRepository.class);\n\n        Address address = new Address();\n        address.setCountry(&quot;DC&quot;);\n        address.setCity(&quot;Gotham city&quot;);\n        address.setStreet(&quot;Arkham street 1&quot;);\n        address.setPostCode(&quot;12345&quot;);\n\n        Project project = new Project();\n        project.setTitle(&quot;Gotham PD&quot;);\n\n        Employee employee = new Employee();\n        employee.setFirstName(&quot;James&quot;);\n        employee.setLastName(&quot;Gordon&quot;);\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(1939, Calendar.MAY, 1);\n\n        employee.setBirthday(new Date(calendar.getTime().getTime()));\n        employee.setAddress(address);\n\n        Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\n        employees.add(employee);\n        project.setEmployees(employees);\n\n        Set&lt;Project&gt; projects = new HashSet&lt;Project&gt;();\n        projects.add(project);\n        employee.setProjects(projects);\n\n        //addressRepository.save(address);\n\n        System.out.println(&quot;***********&quot;);\n\n      //  System.out.println(employeeRepository.findByFirstNameAndLastName(&quot;James&quot;,&quot;Gordon&quot;));\n    }\n\n   }\n</code></pre>\n<p>My pom file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.vserdiuk.hibernate&lt;/groupId&gt;\n&lt;artifactId&gt;hibernate-xml-mapping&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.214&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.13.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.6.13.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/project&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>my Entity class:</p>\n<pre><code>\n package entity;\n\nimport javax.persistence.*;\n\n@Entity @Table(name = &quot;ADDRESS&quot;) public class Address {\n\n@Id\n// @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id;\n\n@Column(name = &quot;COUNTRY&quot;)\nprivate String country;\n\n@Column(name = &quot;CITY&quot;)\nprivate String city;\n\n@Column(name = &quot;STREET&quot;)\nprivate String street;\n\n@Column(name = &quot;POST_CODE&quot;, length = 10)\nprivate String postCode;\n\npublic Address() {\n\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getCountry() {\n    return country;\n}\n\npublic void setCountry(String country) {\n    this.country = country;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n}\n\npublic String getStreet() {\n    return street;\n}\n\npublic void setStreet(String street) {\n    this.street = street;\n}\n\npublic String getPostCode() {\n    return postCode;\n}\n\npublic void setPostCode(String postCode) {\n    this.postCode = postCode;\n}\n\n@Override\npublic String toString() {\n    return &quot;Address{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, country='&quot; + country + '\\'' +\n            &quot;, city='&quot; + city + '\\'' +\n            &quot;, street='&quot; + street + '\\'' +\n            &quot;, postCode='&quot; + postCode + '\\'' +\n            '}';\n}\n}\n</code></pre>\n<p>My Repository Class:</p>\n<pre><code>package repository;\nimport entity.Address; \nimport org.springframework.data.jpa.repository.JpaRepository; \nimport org.springframework.stereotype.Repository;\n\n@Repository public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; { }\n</code></pre>\n<p>Result: I want to get info from h2 database with spring data. And i want to write some info into database.</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691756785,"post_id":76883538,"comment_id":135538423,"body_markdown":"Sounds like a corrupt jar file. Clear caches and try again.","body":"Sounds like a corrupt jar file. Clear caches and try again."}],"answers":[{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1691756927,"creation_date":1691756927,"answer_id":76883554,"question_id":76883538,"body_markdown":"As mentioned in the exception, we can see it is failing on library `junit-platform-engine-1.9.3.jar` .\r\n\r\nHence we can conclude that there is some problem with downloaded library jar which would be available in the maven repository.\r\nSo we need to delete the contents of the folder at \r\n\r\n`&lt;m2 repo location&gt;/org/junit/platform/junit-platform-engine`\r\nThen re run the build\r\n\r\n","title":"ZipException when running maven build","body":"<p>As mentioned in the exception, we can see it is failing on library <code>junit-platform-engine-1.9.3.jar</code> .</p>\n<p>Hence we can conclude that there is some problem with downloaded library jar which would be available in the maven repository.\nSo we need to delete the contents of the folder at</p>\n<p><code>&lt;m2 repo location&gt;/org/junit/platform/junit-platform-engine</code>\nThen re run the build</p>\n"}],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76883554,"answer_count":1,"score":0,"last_activity_date":1691756927,"creation_date":1691756739,"question_id":76883538,"body_markdown":"While running mvn clean install I got the following Exception and mvn process resulted in failure.\r\n\r\nException:-\r\n\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] AbcTest.java:[1,1] cannot access com.company.abc\r\n     ZipException opening &quot;junit-platform-engine-1.9.3.jar&quot;: invalid block type","title":"ZipException when running maven build","body":"<p>While running mvn clean install I got the following Exception and mvn process resulted in failure.</p>\n<p>Exception:-</p>\n<pre><code>[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] AbcTest.java:[1,1] cannot access com.company.abc\n ZipException opening &quot;junit-platform-engine-1.9.3.jar&quot;: invalid block type\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-high-level-restclient"],"owner":{"account_id":7218240,"reputation":111,"user_id":5509820,"display_name":"gAnEsH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691756691,"creation_date":1691756691,"question_id":76883532,"body_markdown":"Getting bean creation issue with java 17,spring boot 3.0 and Elastic Search 8.6\r\nhere is my client class which is used to initiate elastic connection: \r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = &quot;com.es.repository&quot;)\r\n@ComponentScan(basePackages = { &quot;com.es&quot;,&quot;com.es.model&quot;,&quot;com.es.service&quot;,&quot;com.es.config&quot; })\r\n\r\npublic class ESJavaClient\r\n{\r\n\t@Value(&quot;${spring.elasticsearch.url}&quot;)\r\n\tprivate String url;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.url.noport}&quot;)\r\n\tprivate String urlWithoutPort;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.port}&quot;)\r\n\tprivate String port;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.protocol}&quot;)\r\n\tprivate String protocol;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.ssl.truststore.path}&quot;)\r\n\tprivate String truststorePath;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.ssl.truststore.password}&quot;)\r\n\tprivate String truststorePassword;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.ssl.keystore.path}&quot;)\r\n\tprivate String keystorePath;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.ssl.keystore.password}&quot;)\r\n\tprivate String keystorePassword;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.username}&quot;)\r\n\tprivate String username;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.password}&quot;)\r\n\tprivate String password;\r\n\r\n\tprivate static ElasticsearchAsyncClient asyncClient;\r\n\r\n\t@Autowired\r\n\tprivate ElasticsearchOperations elasticsearchTemplate;\r\n\r\n\t@Autowired\r\n\tprivate RestClient restClient;\r\n\r\n\t@Autowired\r\n\tprivate ElasticsearchTransport transport;\r\n\r\n\t@Autowired\r\n\tprivate ElasticsearchClient elasticsearchClient;\r\n\r\n\r\n\r\n\t@Bean\r\n\tpublic ElasticsearchClient elasticsearchClient() {\r\n\r\n\t\tRestClient restClient = restClient();\r\n\r\n\t\tJacksonJsonpMapper jacksonJsonpMapper = new JacksonJsonpMapper();\r\n\r\n\t\tElasticsearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\r\n\t\t//asyncClient  = new ElasticsearchAsyncClient(transport);\r\n\r\n\t\tElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\r\n\t\treturn elasticsearchClient;\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RestClient restClient() {\r\n\t\treturn restClientBuilder().build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RestClientBuilder restClientBuilder() {\r\n\t\tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n        \r\n\t\tHttpHost ht = new HttpHost(urlWithoutPort, Integer.parseInt(port), protocol);\r\n\r\n\t\tif (protocol != null &amp;&amp; protocol.equalsIgnoreCase(&quot;https&quot;)) {\r\n\t\t\treturn RestClient.builder(ht).setRequestConfigCallback(\r\n\t\t\t\t\trequestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(180000).setSocketTimeout(900000))\r\n\t\t\t\t\t.setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\r\n\t\t\t\t\t\t\t.setDefaultCredentialsProvider(credentialsProvider).setSSLContext(getSSL()));\r\n\t\t}\r\n\r\n\t\treturn RestClient.builder(ht)\r\n\t\t\t\t.setRequestConfigCallback(\r\n\t\t\t\t\t\trequestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(180000).setSocketTimeout(900000))\r\n\t\t\t\t.setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder);\r\n\t}\r\n\r\n\t/*@Bean\r\n\tpublic ElasticsearchOperations elasticsearchTemplate() {\r\n\t\treturn new ElasticsearchTemplate(elasticsearchClient);\r\n\t}*/\r\n\r\n\t/*@PreDestroy\r\n\tpublic void cleanup() {\r\n\t\ttry {\r\n\t\t\tlog.info(&quot;Closing the ES REST client&quot;);\r\n\t\t\ttransport.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;Problem occurred when closing the ES REST client&quot;, e);\r\n\t\t}\r\n\t}*/\r\n\r\n\r\n\tprivate SSLContext getSSL() {\r\n\t\ttry {\r\n\t\t\tFile key = ResourceUtils.getFile(&quot;classpath:keystore.jks&quot;);\r\n\t\t\tFile trust = ResourceUtils.getFile(&quot;classpath:truststore.jks&quot;);\r\n\r\n\t\t\treturn SSLContexts.custom()\r\n\t\t\t\t\t.loadKeyMaterial(key, keystorePassword.toCharArray(), keystorePassword.toCharArray())\r\n\t\t\t\t\t.loadTrustMaterial(trust, truststorePassword.toCharArray()).build();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;SSLContext set failed&quot;);\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n2 Modelclass :\r\n```\r\n@Getter\r\n@Setter\r\npublic class TestModelDTO {\r\n\r\n    private String name;\r\n    private String address;\r\n}\r\n\r\nTest Repositry Interface\r\n\r\n@Repository\r\npublic interface TestRepository extends ElasticsearchRepository&lt;TestRepositoryModel, String&gt;{\r\n\r\n\tpublic TestRepositoryModel findByName(String itemId);\r\n}\r\n```\r\n\r\n4) TestRepositoryModel class\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Document(indexName = &quot;#{@environment.getProperty(&#39;test.model.project.index&#39;)}&quot;)\r\n\r\npublic class TestRepositoryModel {\r\n\r\n    @Id\r\n    @Field(type= FieldType.Keyword)\r\n    private String id;\r\n\r\n    @Field(type= FieldType.Keyword)\r\n    private String name;\r\n\r\n    @Field(type= FieldType.Keyword)\r\n    private String address;\r\n\r\n}\r\n```\r\nWhen i start the server i am getting the below error\r\n\r\n\r\nSpring not able to create beans for repository classes, I am getting bean creation issue, when include Repository related class in my project getting bean creation issue. I am using Intellij 2022.2.1.we have migrated java 11 to 17,spring boot from 2.5 to 3.0 and elastic search 7.7 to 8.6\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-09T17:10:57.275+05:30 ERROR 25004 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;testServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;testRepository&#39;: Error creating bean with name &#39;testRepository&#39; defined in com.optum.bpa.es.repository.TestRepository defined in @EnableElasticsearchRepositories declared on ESJavaClient: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception\r\n\tat  co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:155) ~[elasticsearch-java-8.8.2.jar:na]\r\n\tat co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:266) ~[elasticsearch-java-8.8.2.jar:na]\r\n\tat org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:138) ~[spring-data-elasticsearch-5.0.5.jar:5.0.5]\r\n\tat org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.0.5.jar:5.0.5]\r\n\t... 56 common frames omitted\r\nCaused by: org.elasticsearch.client.ResponseException: method [PUT], host [{Cluster-URL}:443], URI [/test-model-project], status line [HTTP/1.1 400 Bad Request]\r\n\r\n\t... 61 common frames omitted\r\n```\r\nwe tried below solution as temporary fix as elastic cluster upgrade to 8.16:\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html\r\n\r\n\r\nbut we are moving elastic client as permanent fix. Can anybody please suggest solution for above error.","title":"Getting elastic bean creation issue after upgrading HLRS to elastic client in spring boot app in java 17","body":"<p>Getting bean creation issue with java 17,spring boot 3.0 and Elastic Search 8.6\nhere is my client class which is used to initiate elastic connection:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.es.repository&quot;)\n@ComponentScan(basePackages = { &quot;com.es&quot;,&quot;com.es.model&quot;,&quot;com.es.service&quot;,&quot;com.es.config&quot; })\n\npublic class ESJavaClient\n{\n    @Value(&quot;${spring.elasticsearch.url}&quot;)\n    private String url;\n\n    @Value(&quot;${spring.elasticsearch.url.noport}&quot;)\n    private String urlWithoutPort;\n\n    @Value(&quot;${spring.elasticsearch.port}&quot;)\n    private String port;\n\n    @Value(&quot;${spring.elasticsearch.protocol}&quot;)\n    private String protocol;\n\n    @Value(&quot;${spring.elasticsearch.ssl.truststore.path}&quot;)\n    private String truststorePath;\n\n    @Value(&quot;${spring.elasticsearch.ssl.truststore.password}&quot;)\n    private String truststorePassword;\n\n    @Value(&quot;${spring.elasticsearch.ssl.keystore.path}&quot;)\n    private String keystorePath;\n\n    @Value(&quot;${spring.elasticsearch.ssl.keystore.password}&quot;)\n    private String keystorePassword;\n\n    @Value(&quot;${spring.elasticsearch.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.elasticsearch.password}&quot;)\n    private String password;\n\n    private static ElasticsearchAsyncClient asyncClient;\n\n    @Autowired\n    private ElasticsearchOperations elasticsearchTemplate;\n\n    @Autowired\n    private RestClient restClient;\n\n    @Autowired\n    private ElasticsearchTransport transport;\n\n    @Autowired\n    private ElasticsearchClient elasticsearchClient;\n\n\n\n    @Bean\n    public ElasticsearchClient elasticsearchClient() {\n\n        RestClient restClient = restClient();\n\n        JacksonJsonpMapper jacksonJsonpMapper = new JacksonJsonpMapper();\n\n        ElasticsearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\n        //asyncClient  = new ElasticsearchAsyncClient(transport);\n\n        ElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\n        return elasticsearchClient;\n\n    }\n\n    @Bean\n    public RestClient restClient() {\n        return restClientBuilder().build();\n    }\n\n    @Bean\n    public RestClientBuilder restClientBuilder() {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n        \n        HttpHost ht = new HttpHost(urlWithoutPort, Integer.parseInt(port), protocol);\n\n        if (protocol != null &amp;&amp; protocol.equalsIgnoreCase(&quot;https&quot;)) {\n            return RestClient.builder(ht).setRequestConfigCallback(\n                    requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(180000).setSocketTimeout(900000))\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\n                            .setDefaultCredentialsProvider(credentialsProvider).setSSLContext(getSSL()));\n        }\n\n        return RestClient.builder(ht)\n                .setRequestConfigCallback(\n                        requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(180000).setSocketTimeout(900000))\n                .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder);\n    }\n\n    /*@Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchTemplate(elasticsearchClient);\n    }*/\n\n    /*@PreDestroy\n    public void cleanup() {\n        try {\n            log.info(&quot;Closing the ES REST client&quot;);\n            transport.close();\n        } catch (IOException e) {\n            log.error(&quot;Problem occurred when closing the ES REST client&quot;, e);\n        }\n    }*/\n\n\n    private SSLContext getSSL() {\n        try {\n            File key = ResourceUtils.getFile(&quot;classpath:keystore.jks&quot;);\n            File trust = ResourceUtils.getFile(&quot;classpath:truststore.jks&quot;);\n\n            return SSLContexts.custom()\n                    .loadKeyMaterial(key, keystorePassword.toCharArray(), keystorePassword.toCharArray())\n                    .loadTrustMaterial(trust, truststorePassword.toCharArray()).build();\n\n        } catch (Exception e) {\n            log.error(&quot;SSLContext set failed&quot;);\n            log.error(e.getMessage());\n            return null;\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>2 Modelclass :</p>\n<pre><code>@Getter\n@Setter\npublic class TestModelDTO {\n\n    private String name;\n    private String address;\n}\n\nTest Repositry Interface\n\n@Repository\npublic interface TestRepository extends ElasticsearchRepository&lt;TestRepositoryModel, String&gt;{\n\n    public TestRepositoryModel findByName(String itemId);\n}\n</code></pre>\n<ol start=\"4\">\n<li>TestRepositoryModel class</li>\n</ol>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(indexName = &quot;#{@environment.getProperty('test.model.project.index')}&quot;)\n\npublic class TestRepositoryModel {\n\n    @Id\n    @Field(type= FieldType.Keyword)\n    private String id;\n\n    @Field(type= FieldType.Keyword)\n    private String name;\n\n    @Field(type= FieldType.Keyword)\n    private String address;\n\n}\n</code></pre>\n<p>When i start the server i am getting the below error</p>\n<p>Spring not able to create beans for repository classes, I am getting bean creation issue, when include Repository related class in my project getting bean creation issue. I am using Intellij 2022.2.1.we have migrated java 11 to 17,spring boot from 2.5 to 3.0 and elastic search 7.7 to 8.6</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-08-09T17:10:57.275+05:30 ERROR 25004 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testServiceImpl': Unsatisfied dependency expressed through field 'testRepository': Error creating bean with name 'testRepository' defined in com.optum.bpa.es.repository.TestRepository defined in @EnableElasticsearchRepositories declared on ESJavaClient: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception\n    at  co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:155) ~[elasticsearch-java-8.8.2.jar:na]\n    at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:266) ~[elasticsearch-java-8.8.2.jar:na]\n    at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:138) ~[spring-data-elasticsearch-5.0.5.jar:5.0.5]\n    at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.0.5.jar:5.0.5]\n    ... 56 common frames omitted\nCaused by: org.elasticsearch.client.ResponseException: method [PUT], host [{Cluster-URL}:443], URI [/test-model-project], status line [HTTP/1.1 400 Bad Request]\n\n    ... 61 common frames omitted\n</code></pre>\n<p>we tried below solution as temporary fix as elastic cluster upgrade to 8.16:\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html</a></p>\n<p>but we are moving elastic client as permanent fix. Can anybody please suggest solution for above error.</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691752755,"creation_date":1691752755,"answer_id":76883085,"question_id":76883053,"body_markdown":"In the example you provided `TestPersistence` is a unit test. That means that it doesn&#39;t recognize annotations such as `@Autowired` (since it has not spring context). You need an `@SpringBootTest` to be able to autowire beans (in your case the repository). In this [tutorial](https://www.baeldung.com/spring-boot-testing) you can find an example that tests a repository using `@SpringBootTest`.\r\n\r\nGood luck! ","title":"How to call a persistence method without a HTTP request with Spring Data JPA?","body":"<p>In the example you provided <code>TestPersistence</code> is a unit test. That means that it doesn't recognize annotations such as <code>@Autowired</code> (since it has not spring context). You need an <code>@SpringBootTest</code> to be able to autowire beans (in your case the repository). In this <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">tutorial</a> you can find an example that tests a repository using <code>@SpringBootTest</code>.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":12705257,"reputation":399,"user_id":9230755,"display_name":"Artem Namednev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691756563,"creation_date":1691756221,"answer_id":76883493,"question_id":76883053,"body_markdown":"It happens because your instance of `ExpansePersistence` class doesn&#39;t have an injected instance of `ExpenseRepository` class - Spring IoC container can&#39;t do that.\r\nYou should declare bean of `ExpansePersistence` class (for example using `@Service` annotation) and it will be better to make it implements `CommandLineRunner`. Something like that:\r\n\r\n    @Service\r\n    public class ExpansePersistence implements CommandLineRunner {\r\n    \r\n        ...\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            expensePersistence();\r\n        }\r\n    }\r\n\r\nThen `ExpansePersistence` and `ExpenseRepository` both will be controlled by Spring IoC and bean injection will work as expected.","title":"How to call a persistence method without a HTTP request with Spring Data JPA?","body":"<p>It happens because your instance of <code>ExpansePersistence</code> class doesn't have an injected instance of <code>ExpenseRepository</code> class - Spring IoC container can't do that.\nYou should declare bean of <code>ExpansePersistence</code> class (for example using <code>@Service</code> annotation) and it will be better to make it implements <code>CommandLineRunner</code>. Something like that:</p>\n<pre><code>@Service\npublic class ExpansePersistence implements CommandLineRunner {\n\n    ...\n\n    @Override\n    public void run(String... args) throws Exception {\n        expensePersistence();\n    }\n}\n</code></pre>\n<p>Then <code>ExpansePersistence</code> and <code>ExpenseRepository</code> both will be controlled by Spring IoC and bean injection will work as expected.</p>\n"}],"owner":{"account_id":15110123,"reputation":3,"user_id":15475991,"display_name":"Staniack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76883493,"answer_count":2,"score":0,"last_activity_date":1691756563,"creation_date":1691752438,"question_id":76883053,"body_markdown":"I&#39;m new on Spring data JPA and I&#39;m having some... newbie problems.\r\n\r\nI can&#39;t calling a persistence method without annotation *@Controller* or *HTTP requests* with its annotations inside my class. I know that class interface *CommandLineRunner* implements a method *run* but the main code needs to stay inside the method *run*, I want to call another classes and own methods like a facade behaviour.\r\n\r\n**Model:**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Expense {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String item;\r\n    private float amount;\r\n\r\n\r\n    public Expense () {\r\n        \r\n    }\r\n    \r\n    public Expense(String item, float amount) {\r\n        this.item = item;\r\n        this.amount = amount;\r\n    }\r\n\r\n    /* Getters and setters */\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Expense{&quot; + &quot;id=&quot; + id + &quot;, item=&quot; + item + &quot;, amount=&quot; + amount + &#39;}&#39;;\r\n    }\r\n    \r\n```\r\n\r\n**Interface Repository**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.util.List;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt;{\r\n    \r\n    public List&lt;Expense&gt; findByItem (String item);\r\n    \r\n    @Query(&quot;SELECT e FROM Expense e WHERE e.amount &gt;= :amount&quot;)\r\n    public List&lt;Expense&gt; listItemsWithPriceOver(@Param(&quot;amount&quot;) float amount);\r\n    \r\n}\r\n```\r\n\r\n**Persistence class:**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class ExpansePersistence {\r\n\r\n    @Autowired\r\n    private ExpenseRepository repository;\r\n\r\n    public void expensePersistence() {\r\n        repository.save(new Expense(&quot;tomato&quot;, 10));\r\n        repository.save(new Expense(&quot;banana&quot;, 6));\r\n        repository.save(new Expense(&quot;apple&quot;, 12));\r\n        \r\n        Iterable&lt;Expense&gt; iterator = repository.findAll();\r\n\r\n        System.out.println(&quot;List all: &quot;);\r\n        iterator.forEach(item -&gt; System.out.println(item.toString()));\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**Main method**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        new ExpensePersistence().expensePersistence();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThere is a similar thread ([How to call repository service in main class and use main arguments?](https://stackoverflow.com/questions/73171410/how-to-call-repository-service-in-main-class-and-use-main-arguments)) here where the user had the same problem and same output error, but the answer only solved the \\*run \\*method using the interface \\*CommandLineRunner\\* but coding inside the run method. I want to call another methods.\r\n\r\nThe running code generates the message:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.example.demo.ExpenseRepository.findAll()&quot; because &quot;this.repository&quot; is null\r\n```\r\n","title":"How to call a persistence method without a HTTP request with Spring Data JPA?","body":"<p>I'm new on Spring data JPA and I'm having some... newbie problems.</p>\n<p>I can't calling a persistence method without annotation <em>@Controller</em> or <em>HTTP requests</em> with its annotations inside my class. I know that class interface <em>CommandLineRunner</em> implements a method <em>run</em> but the main code needs to stay inside the method <em>run</em>, I want to call another classes and own methods like a facade behaviour.</p>\n<p><strong>Model:</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Expense {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String item;\n    private float amount;\n\n\n    public Expense () {\n        \n    }\n    \n    public Expense(String item, float amount) {\n        this.item = item;\n        this.amount = amount;\n    }\n\n    /* Getters and setters */\n\n    @Override\n    public String toString() {\n        return &quot;Expense{&quot; + &quot;id=&quot; + id + &quot;, item=&quot; + item + &quot;, amount=&quot; + amount + '}';\n    }\n    \n</code></pre>\n<p><strong>Interface Repository</strong></p>\n<pre><code>package com.example.demo;\n\nimport java.util.List;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt;{\n    \n    public List&lt;Expense&gt; findByItem (String item);\n    \n    @Query(&quot;SELECT e FROM Expense e WHERE e.amount &gt;= :amount&quot;)\n    public List&lt;Expense&gt; listItemsWithPriceOver(@Param(&quot;amount&quot;) float amount);\n    \n}\n</code></pre>\n<p><strong>Persistence class:</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class ExpansePersistence {\n\n    @Autowired\n    private ExpenseRepository repository;\n\n    public void expensePersistence() {\n        repository.save(new Expense(&quot;tomato&quot;, 10));\n        repository.save(new Expense(&quot;banana&quot;, 6));\n        repository.save(new Expense(&quot;apple&quot;, 12));\n        \n        Iterable&lt;Expense&gt; iterator = repository.findAll();\n\n        System.out.println(&quot;List all: &quot;);\n        iterator.forEach(item -&gt; System.out.println(item.toString()));\n    }\n    \n}\n</code></pre>\n<p><strong>Main method</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        new ExpensePersistence().expensePersistence();\n    }\n\n}\n</code></pre>\n<p>There is a similar thread (<a href=\"https://stackoverflow.com/questions/73171410/how-to-call-repository-service-in-main-class-and-use-main-arguments\">How to call repository service in main class and use main arguments?</a>) here where the user had the same problem and same output error, but the answer only solved the *run *method using the interface *CommandLineRunner* but coding inside the run method. I want to call another methods.</p>\n<p>The running code generates the message:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.example.demo.ExpenseRepository.findAll()&quot; because &quot;this.repository&quot; is null\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1631625750,"post_id":69146219,"comment_id":122269249,"body_markdown":"There&#39;s really no difference between this and just calling `JMenuItem.setText(String)`. I would not call this &quot;decoupled&quot;. Instead, it&#39;s an extra layer of complexity. Wherever I put this abstract action, I could just put the JMenuItem. Wherever I call `putValue`, I could call `setText`. And in fact, my solution is exactly that. I keep track of the `JMenuItem` instance and call `setText` on it in the appropriate place.","body":"There&#39;s really no difference between this and just calling <code>JMenuItem.setText(String)</code>. I would not call this &quot;decoupled&quot;. Instead, it&#39;s an extra layer of complexity. Wherever I put this abstract action, I could just put the JMenuItem. Wherever I call <code>putValue</code>, I could call <code>setText</code>. And in fact, my solution is exactly that. I keep track of the <code>JMenuItem</code> instance and call <code>setText</code> on it in the appropriate place."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1631625943,"post_id":69146219,"comment_id":122269350,"body_markdown":"I did give this solution a sincere try. I put it in my code and played with it. I appreciate the effort, really. I spent about 30 minutes toying around with it before I concluded this was just a more complex version of what I was already doing that added no value. I&#39;m really looking for something more React like... FRP - Functional Reactive Programing... where the view is a function of the state, not &quot;the state is pushed to the view&quot;. It makes sense to have the view update itself from the state when it&#39;s shown. Too bad not all components know when they are shown!!","body":"I did give this solution a sincere try. I put it in my code and played with it. I appreciate the effort, really. I spent about 30 minutes toying around with it before I concluded this was just a more complex version of what I was already doing that added no value. I&#39;m really looking for something more React like... FRP - Functional Reactive Programing... where the view is a function of the state, not &quot;the state is pushed to the view&quot;. It makes sense to have the view update itself from the state when it&#39;s shown. Too bad not all components know when they are shown!!"},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1631626031,"post_id":69146219,"comment_id":122269388,"body_markdown":"Which is CRAZY given they ALL have a `componentShown` method.","body":"Which is CRAZY given they ALL have a <code>componentShown</code> method."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631439313,"creation_date":1631389444,"answer_id":69146219,"question_id":69144597,"body_markdown":"I don&#39;t think that you&#39;ll find some kind of listener that is notified when a `JMenuItem` is shown.\r\n\r\nI would instead try to decouple the `JMenuItem` from the state of your application and I would do that using a `javax.swing.AbstractAction`.\r\n\r\nYou can update the `AbstractAction` anytime the context and / or state of your application changes and magically when the `JMenuItem` is shown it will reflect the context and state of your application.\r\n\r\nThe code fragment below contains replaces the creation of the `JPopupMenu` and the `JMenuItem`. The second part shows how you would update the `AbstractAction` by turning the `JMenuItem` into a clock.\r\n\r\n        //========================================\r\n        JPopupMenu popupMenu = new JPopupMenu();\r\n        AbstractAction a = new AbstractAction(&quot;Reply Hi&quot;) {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(&quot;Hi&quot;);\r\n            }\r\n        };\r\n        JMenuItem menuItem = new JMenuItem(a);\r\n        popupMenu.add(menuItem);\r\n        panel.setComponentPopupMenu(popupMenu);\r\n        //========================================\r\n        Timer t = new Timer(100, (e) -&gt; {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;&#39;Its &#39;HH:mm:ss&quot;);\r\n            a.putValue(Action.NAME, dtf.format(LocalTime.now()));\r\n        });\r\n        t.start();\r\n        //========================================\r\n","title":"How do I know when a JMenuItem is shown? Adding a ComponentListener and using componentShown doesn&#39;t work","body":"<p>I don't think that you'll find some kind of listener that is notified when a <code>JMenuItem</code> is shown.</p>\n<p>I would instead try to decouple the <code>JMenuItem</code> from the state of your application and I would do that using a <code>javax.swing.AbstractAction</code>.</p>\n<p>You can update the <code>AbstractAction</code> anytime the context and / or state of your application changes and magically when the <code>JMenuItem</code> is shown it will reflect the context and state of your application.</p>\n<p>The code fragment below contains replaces the creation of the <code>JPopupMenu</code> and the <code>JMenuItem</code>. The second part shows how you would update the <code>AbstractAction</code> by turning the <code>JMenuItem</code> into a clock.</p>\n<pre><code>    //========================================\n    JPopupMenu popupMenu = new JPopupMenu();\n    AbstractAction a = new AbstractAction(&quot;Reply Hi&quot;) {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(&quot;Hi&quot;);\n        }\n    };\n    JMenuItem menuItem = new JMenuItem(a);\n    popupMenu.add(menuItem);\n    panel.setComponentPopupMenu(popupMenu);\n    //========================================\n    Timer t = new Timer(100, (e) -&gt; {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;'Its 'HH:mm:ss&quot;);\n        a.putValue(Action.NAME, dtf.format(LocalTime.now()));\n    });\n    t.start();\n    //========================================\n</code></pre>\n"},{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":1,"creation_date":1631623965,"post_id":69146246,"comment_id":122268375,"body_markdown":"That only works the first time the `JPopupMenu` is shown. The second time the menu is shown the event is not fired.","body":"That only works the first time the <code>JPopupMenu</code> is shown. The second time the menu is shown the event is not fired."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1631627345,"post_id":69146246,"comment_id":122270014,"body_markdown":"@Jason Works fine for me using JDK11 on Windows 10. The normal solution would be to add a `PopupMenuListener` to the `JPopupMenu` to be notify when the popup is about to be displayed. You stated in your question that you don&#39;t have access to the popup menu. Well if this only displays once for you it will give you access to the popup menu and you can add the listener to the popup at this time to handle whatever it is you want to do. Unless you can post a realistic [mre] of what you are attempting this is the best we can suggest.","body":"@Jason Works fine for me using JDK11 on Windows 10. The normal solution would be to add a <code>PopupMenuListener</code> to the <code>JPopupMenu</code> to be notify when the popup is about to be displayed. You stated in your question that you don&#39;t have access to the popup menu. Well if this only displays once for you it will give you access to the popup menu and you can add the listener to the popup at this time to handle whatever it is you want to do. Unless you can post a realistic <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you are attempting this is the best we can suggest."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631389644,"creation_date":1631389644,"answer_id":69146246,"question_id":69144597,"body_markdown":"You can use an `AncestorListener`:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class JMenuItemListeners {\r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            JPanel panel = new JPanel();\r\n            frame.setMinimumSize(new Dimension(800, 600));\r\n            panel.setLayout(new BorderLayout());\r\n            panel.add(new JLabel(&quot;Hello World... right click me.&quot;),\r\n                    BorderLayout.CENTER);\r\n            //========================================\r\n            JPopupMenu popupMenu = new JPopupMenu();\r\n            JMenuItem menuItem = new JMenuItem(&quot;Reply Hi&quot;);\r\n    \r\n            menuItem.addAncestorListener(new AncestorListener()\r\n            {\r\n                @Override\r\n                public void ancestorRemoved(AncestorEvent e) {}\r\n                @Override\r\n                public void ancestorMoved(AncestorEvent e) {}\r\n                @Override\r\n                public void ancestorAdded(AncestorEvent e) {\r\n                    System.out.println(&quot;ancestor shown&quot;);\r\n                }\r\n            });\r\n    \r\n            popupMenu.add(menuItem);\r\n            panel.setComponentPopupMenu(popupMenu);\r\n            //========================================\r\n            frame.setContentPane(panel);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"How do I know when a JMenuItem is shown? Adding a ComponentListener and using componentShown doesn&#39;t work","body":"<p>You can use an <code>AncestorListener</code>:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class JMenuItemListeners {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n        frame.setMinimumSize(new Dimension(800, 600));\n        panel.setLayout(new BorderLayout());\n        panel.add(new JLabel(&quot;Hello World... right click me.&quot;),\n                BorderLayout.CENTER);\n        //========================================\n        JPopupMenu popupMenu = new JPopupMenu();\n        JMenuItem menuItem = new JMenuItem(&quot;Reply Hi&quot;);\n\n        menuItem.addAncestorListener(new AncestorListener()\n        {\n            @Override\n            public void ancestorRemoved(AncestorEvent e) {}\n            @Override\n            public void ancestorMoved(AncestorEvent e) {}\n            @Override\n            public void ancestorAdded(AncestorEvent e) {\n                System.out.println(&quot;ancestor shown&quot;);\n            }\n        });\n\n        popupMenu.add(menuItem);\n        panel.setComponentPopupMenu(popupMenu);\n        //========================================\n        frame.setContentPane(panel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485164,"reputation":2314,"user_id":2163727,"accept_rate":80,"display_name":"MasterHD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691756497,"creation_date":1691756497,"answer_id":76883516,"question_id":69144597,"body_markdown":"What you actually need is for the `JPopupMenu` to listen to the `popupMenuWillBecomeVisible` event in the `PopupMenuListener`. It is called whenever the popup is about to be displayed to the user. Within that method you can make any updates to your `JMenuItem` such as: checked-state, caption, icon, enabled, visible, tooltip, etc.\r\n\r\n    JMenu menu = new JMenu; //This is optional\r\n    JPopupMenu popupMenu = menu.getPopupMenu(); //Obtain the popup menu however you need to\r\n    popupMenu.addPopupMenuListener(new PopupMenuListener() {\r\n    \t//Called anytime the popup is about to be displayed\r\n    \t@Override\r\n    \tpublic void popupMenuWillBecomeVisible(PopupMenuEvent e) {\r\n    \t\tmenuItem.setSelected(isSelected());\r\n    \t\tmenuItem.setText(getMenuText());\r\n    \t\tmenuItem.setIcon(getMenuIcon());\r\n    \t\tmenuItem.setEnabled(isMenuEnabled());\r\n    \t\tmenuItem.setToolTipText(getTooltipText());\r\n    \t\tmenuItem.setVisible(isMenuVisible());\r\n    \t}\r\n    \t@Override\r\n    \tpublic void popupMenuWillBecomeInvisible(PopupMenuEvent e) { }\r\n    \t@Override\r\n    \tpublic void popupMenuCanceled(PopupMenuEvent e) { }\r\n    });","title":"How do I know when a JMenuItem is shown? Adding a ComponentListener and using componentShown doesn&#39;t work","body":"<p>What you actually need is for the <code>JPopupMenu</code> to listen to the <code>popupMenuWillBecomeVisible</code> event in the <code>PopupMenuListener</code>. It is called whenever the popup is about to be displayed to the user. Within that method you can make any updates to your <code>JMenuItem</code> such as: checked-state, caption, icon, enabled, visible, tooltip, etc.</p>\n<pre><code>JMenu menu = new JMenu; //This is optional\nJPopupMenu popupMenu = menu.getPopupMenu(); //Obtain the popup menu however you need to\npopupMenu.addPopupMenuListener(new PopupMenuListener() {\n    //Called anytime the popup is about to be displayed\n    @Override\n    public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n        menuItem.setSelected(isSelected());\n        menuItem.setText(getMenuText());\n        menuItem.setIcon(getMenuIcon());\n        menuItem.setEnabled(isMenuEnabled());\n        menuItem.setToolTipText(getTooltipText());\n        menuItem.setVisible(isMenuVisible());\n    }\n    @Override\n    public void popupMenuWillBecomeInvisible(PopupMenuEvent e) { }\n    @Override\n    public void popupMenuCanceled(PopupMenuEvent e) { }\n});\n</code></pre>\n"}],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691756497,"creation_date":1631375967,"question_id":69144597,"body_markdown":"Below is a complete compiling running failing example illustrating my question. JMenuItem extends JComponent. When added to JPopupMenu and shown in a context menu... it is... well... _SHOWN_, but the `componentShown` method is _not_ called. How can I know when the JMenuItem is shown? I need to know from within the JMenuItem itself. I&#39;m creating this JMenuItem and handing it off to a larger framework. I have no knowledge or control of the JPopupMenu, container, or any other components. When my JMenuItem is shown, I must update its text based on the context and current state of the app. How do I know when it is shown?\r\n\r\nIn the following example, the text &quot;component shown&quot; is never printed under any circumstances. Right click inside the JPanel to get the context menu and you&#39;ll see the JMenuItem text, &quot;Reply Hi&quot;, but now output to the console.\r\n\r\nI&#39;m running on macOS 11.5.2 Big Sur and JDK 11.0.6 LTS (from Oracle).\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    public class JMenuItemListeners {\r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            JPanel panel = new JPanel();\r\n            frame.setMinimumSize(new Dimension(800, 600));\r\n            panel.setLayout(new BorderLayout());\r\n            panel.add(new JLabel(&quot;Hello World... right click me.&quot;),\r\n                    BorderLayout.CENTER);\r\n            //========================================\r\n            JPopupMenu popupMenu = new JPopupMenu();\r\n            JMenuItem menuItem = new JMenuItem(&quot;Reply Hi&quot;);\r\n            menuItem.addComponentListener(\r\n            new ComponentListener() {\r\n                @Override\r\n                public void componentResized(ComponentEvent e) {}\r\n                @Override\r\n                public void componentMoved(ComponentEvent e) {}\r\n                @Override\r\n                public void componentShown(ComponentEvent e) {\r\n                    System.out.println(&quot;component shown&quot;);\r\n                }\r\n                @Override\r\n                public void componentHidden(ComponentEvent e) {}\r\n            }\r\n                    );\r\n            popupMenu.add(menuItem);\r\n            panel.setComponentPopupMenu(popupMenu);\r\n            //========================================\r\n            frame.setContentPane(panel);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n","title":"How do I know when a JMenuItem is shown? Adding a ComponentListener and using componentShown doesn&#39;t work","body":"<p>Below is a complete compiling running failing example illustrating my question. JMenuItem extends JComponent. When added to JPopupMenu and shown in a context menu... it is... well... <em>SHOWN</em>, but the <code>componentShown</code> method is <em>not</em> called. How can I know when the JMenuItem is shown? I need to know from within the JMenuItem itself. I'm creating this JMenuItem and handing it off to a larger framework. I have no knowledge or control of the JPopupMenu, container, or any other components. When my JMenuItem is shown, I must update its text based on the context and current state of the app. How do I know when it is shown?</p>\n<p>In the following example, the text &quot;component shown&quot; is never printed under any circumstances. Right click inside the JPanel to get the context menu and you'll see the JMenuItem text, &quot;Reply Hi&quot;, but now output to the console.</p>\n<p>I'm running on macOS 11.5.2 Big Sur and JDK 11.0.6 LTS (from Oracle).</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class JMenuItemListeners {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n        frame.setMinimumSize(new Dimension(800, 600));\n        panel.setLayout(new BorderLayout());\n        panel.add(new JLabel(&quot;Hello World... right click me.&quot;),\n                BorderLayout.CENTER);\n        //========================================\n        JPopupMenu popupMenu = new JPopupMenu();\n        JMenuItem menuItem = new JMenuItem(&quot;Reply Hi&quot;);\n        menuItem.addComponentListener(\n        new ComponentListener() {\n            @Override\n            public void componentResized(ComponentEvent e) {}\n            @Override\n            public void componentMoved(ComponentEvent e) {}\n            @Override\n            public void componentShown(ComponentEvent e) {\n                System.out.println(&quot;component shown&quot;);\n            }\n            @Override\n            public void componentHidden(ComponentEvent e) {}\n        }\n                );\n        popupMenu.add(menuItem);\n        panel.setComponentPopupMenu(popupMenu);\n        //========================================\n        frame.setContentPane(panel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","interface","method-reference"],"comments":[{"owner":{"display_name":"Mac"},"score":2,"creation_date":1265138967,"post_id":2186931,"comment_id":2134768,"body_markdown":"right now my solution is to pass an additional parameter and use a switch case inside to select the appropriate method. However, this solution does not lend while to code reuse.","body":"right now my solution is to pass an additional parameter and use a switch case inside to select the appropriate method. However, this solution does not lend while to code reuse."},{"owner":{"account_id":994572,"reputation":8429,"user_id":1010868,"accept_rate":69,"display_name":"Tomasz Gawel"},"score":2,"creation_date":1396972661,"post_id":2186931,"comment_id":35024278,"body_markdown":"See also this answer http://stackoverflow.com/a/22933032/1010868 for similar question","body":"See also this answer <a href=\"http://stackoverflow.com/a/22933032/1010868\">stackoverflow.com/a/22933032/1010868</a> for similar question"},{"owner":{"account_id":335069,"reputation":70765,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":3,"creation_date":1404548593,"post_id":2186931,"comment_id":38084750,"body_markdown":"Also see [java-delegates](http://stackoverflow.com/questions/44912/java-delegates), [whats-the-nearest-substitute-for-a-function-pointer-in-java](http://stackoverflow.com/questions/122407/whats-the-nearest-substitute-for-a-function-pointer-in-java?lq=1)","body":"Also see <a href=\"http://stackoverflow.com/questions/44912/java-delegates\">java-delegates</a>, <a href=\"http://stackoverflow.com/questions/122407/whats-the-nearest-substitute-for-a-function-pointer-in-java?lq=1\">whats-the-nearest-substitute-for-a-function-pointer-in-java</a>"}],"answers":[{"comments":[{"owner":{"account_id":85982,"reputation":3155,"user_id":239405,"display_name":"Vinodh Ramasubramanian"},"score":15,"creation_date":1265140747,"post_id":2186972,"comment_id":2135012,"body_markdown":"I don&#39;t see why not. The question is to pass a method as a parameter and this a very valid way of doing it. This can also be wrapped in to any number of pretty looking pattern to make it look good. And this is as generic as it gets without the need for any special interfaces.","body":"I don&#39;t see why not. The question is to pass a method as a parameter and this a very valid way of doing it. This can also be wrapped in to any number of pretty looking pattern to make it look good. And this is as generic as it gets without the need for any special interfaces."},{"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"score":0,"creation_date":1348748233,"post_id":2186972,"comment_id":17016128,"body_markdown":"the answer to &quot;why not?&quot; is type safety (or lack thereof).","body":"the answer to &quot;why not?&quot; is type safety (or lack thereof)."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":3,"creation_date":1360848052,"post_id":2186972,"comment_id":20855975,"body_markdown":"Have you type safety in JavaScript f.g.? Type safety is not an argument.","body":"Have you type safety in JavaScript f.g.? Type safety is not an argument."},{"owner":{"account_id":244931,"reputation":18072,"user_id":808804,"accept_rate":80,"display_name":"Adam Parkin"},"score":14,"creation_date":1366232606,"post_id":2186972,"comment_id":22937393,"body_markdown":"How is type safety not an argument when the language in question holds type safety up as one of its strongest components?  Java is a strongly typed language, and that strong typing is one of the reasons you&#39;d pick it over another compiled language.","body":"How is type safety not an argument when the language in question holds type safety up as one of its strongest components?  Java is a strongly typed language, and that strong typing is one of the reasons you&#39;d pick it over another compiled language."},{"owner":{"account_id":99652,"reputation":13162,"user_id":269061,"accept_rate":82,"display_name":"Trevor"},"score":0,"creation_date":1400273885,"post_id":2186972,"comment_id":36426984,"body_markdown":"So, are you arguing that reflection never be used in a way that violates type safety?  Does it seem reasonable that the creators of Java intended this line of thinking with regards to reflection?","body":"So, are you arguing that reflection never be used in a way that violates type safety?  Does it seem reasonable that the creators of Java intended this line of thinking with regards to reflection?"},{"owner":{"account_id":676634,"reputation":454,"user_id":1812722,"display_name":"Wilhem Meignan"},"score":25,"creation_date":1401893668,"post_id":2186972,"comment_id":37062816,"body_markdown":"&quot;The core reflection facility was originally designed for component-based application builder tools. [...] As a rule, objects should not be accessed reflectively in normal applications at runtime.&quot; Item 53: Prefer interfaces to reflection, from Effective Java Second Edition. -- That&#39;s the line of thinking of the creators of Java ;-)","body":"&quot;The core reflection facility was originally designed for component-based application builder tools. [...] As a rule, objects should not be accessed reflectively in normal applications at runtime.&quot; Item 53: Prefer interfaces to reflection, from Effective Java Second Edition. -- That&#39;s the line of thinking of the creators of Java ;-)"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":10,"creation_date":1441464991,"post_id":2186972,"comment_id":52695748,"body_markdown":"Not a justifiable use of reflect. I am horrified to see all the upvotes. reflect was never intended to be used as a general programming mechanism; only use it when there is no other clean solution.","body":"Not a justifiable use of reflect. I am horrified to see all the upvotes. reflect was never intended to be used as a general programming mechanism; only use it when there is no other clean solution."},{"owner":{"account_id":2045696,"reputation":681,"user_id":1825820,"display_name":"venkatvb"},"score":0,"creation_date":1553406495,"post_id":2186972,"comment_id":97368823,"body_markdown":"Not a very good use-case for reflection, when there are other clean solutions available.","body":"Not a very good use-case for reflection, when there are other clean solutions available."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1626189210,"post_id":2186972,"comment_id":120823850,"body_markdown":"Type safety is not an argument. Python is a strongly typed language, but uses the EAFP (it’s Easier to Ask for Forgiveness than Permission) practice: https://devblogs.microsoft.com/python/idiomatic-python-eafp-versus-lbyl/","body":"Type safety is not an argument. Python is a strongly typed language, but uses the EAFP (it’s Easier to Ask for Forgiveness than Permission) practice: <a href=\"https://devblogs.microsoft.com/python/idiomatic-python-eafp-versus-lbyl/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/python/idiomatic-python-eafp-versus-l&zwnj;&#8203;byl</a>"}],"tags":[],"owner":{"account_id":85982,"reputation":3155,"user_id":239405,"display_name":"Vinodh Ramasubramanian"},"comment_count":9,"down_vote_count":9,"up_vote_count":42,"is_accepted":false,"score":33,"last_activity_date":1265138754,"creation_date":1265138754,"answer_id":2186972,"question_id":2186931,"body_markdown":"Use the `java.lang.reflect.Method` object and call `invoke`","title":"Java Pass Method as Parameter","body":"<p>Use the <code>java.lang.reflect.Method</code> object and call <code>invoke</code></p>\n"},{"comments":[{"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"score":3,"creation_date":1265139423,"post_id":2186993,"comment_id":2134819,"body_markdown":"@Mac - good! this one comes up again and again in languages without first-class methods as the de-facto way of simulating them, so it&#39;s worth remembering.","body":"@Mac - good! this one comes up again and again in languages without first-class methods as the de-facto way of simulating them, so it&#39;s worth remembering."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":9,"creation_date":1265158770,"post_id":2186993,"comment_id":2137286,"body_markdown":"It&#39;s the visitor pattern (separate the action of iterating over a collection from the function applied to each member of the collection), not the command pattern (encapsulate the arguments for a method call into an object). You are specifically not encapsulating the argument - it is provided by the iteration part of the visitor pattern.","body":"It&#39;s the visitor pattern (separate the action of iterating over a collection from the function applied to each member of the collection), not the command pattern (encapsulate the arguments for a method call into an object). You are specifically not encapsulating the argument - it is provided by the iteration part of the visitor pattern."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":1,"creation_date":1265321658,"post_id":2186993,"comment_id":2154266,"body_markdown":"No, you only need the accept method if you&#39;re combining visiting with double dispatch. If you have a monomorphic visitor, it&#39;s exactly the code you have above.","body":"No, you only need the accept method if you&#39;re combining visiting with double dispatch. If you have a monomorphic visitor, it&#39;s exactly the code you have above."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":1,"creation_date":1438063667,"post_id":2186993,"comment_id":51280449,"body_markdown":"In Java 8 could be like ex.operS(String::toLowerCase, &quot;STRING&quot;). See the nice article: http://www.studytrails.com/java/java8/Java8_Lambdas_FunctionalProgramming.jsp","body":"In Java 8 could be like ex.operS(String::toLowerCase, &quot;STRING&quot;). See the nice article: <a href=\"http://www.studytrails.com/java/java8/Java8_Lambdas_FunctionalProgramming.jsp\" rel=\"nofollow noreferrer\">studytrails.com/java/java8/&hellip;</a>"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1441464627,"post_id":2186993,"comment_id":52695648,"body_markdown":"Pete Kirkham is correct: your code is implementing Visitor pattern, not Command pattern (and this is good, as it is what OP needs.) As Pete says, you are not encapsulating the argument, so you are not doing Command -- your Command interface has an execute that takes a parameter. Wikipedia does not. This is fundamental to the intent of the Command pattern. As first paragraph says &quot;encapsulate **all** information  ... This information includes the method name, the object that owns the method and **values for the method parameters**.&quot;","body":"Pete Kirkham is correct: your code is implementing Visitor pattern, not Command pattern (and this is good, as it is what OP needs.) As Pete says, you are not encapsulating the argument, so you are not doing Command -- your Command interface has an execute that takes a parameter. Wikipedia does not. This is fundamental to the intent of the Command pattern. As first paragraph says &quot;encapsulate <b>all</b> information  ... This information includes the method name, the object that owns the method and <b>values for the method parameters</b>.&quot;"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":4,"creation_date":1441466062,"post_id":2186993,"comment_id":52696035,"body_markdown":"... Or it could be considered Strategy pattern. That might make more sense to you. Strategy encapsulates an algorithm, but accepts parameters. Though when &quot;visiting&quot; all the leaves of a container, as OP does, Visitor pattern is what comes to mind - that&#39;s the traditional use of Visitor pattern. Anyway, you have a good implementation, and it could be considered either Strategy or Visitor.","body":"... Or it could be considered Strategy pattern. That might make more sense to you. Strategy encapsulates an algorithm, but accepts parameters. Though when &quot;visiting&quot; all the leaves of a container, as OP does, Visitor pattern is what comes to mind - that&#39;s the traditional use of Visitor pattern. Anyway, you have a good implementation, and it could be considered either Strategy or Visitor."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1594363930,"post_id":2186993,"comment_id":111105061,"body_markdown":"So you have to create a whole class every time you want to pass a method? Any better way to do this? Seems to defeat the object since I&#39;d also want to pass a method to the method being passed...","body":"So you have to create a whole class every time you want to pass a method? Any better way to do this? Seems to defeat the object since I&#39;d also want to pass a method to the method being passed..."},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":0,"creation_date":1610030468,"post_id":2186993,"comment_id":116008443,"body_markdown":"@Hasen You can initialise it as anonymous inner class whenever you need to use it: `Command command = new Command() { @Override public void execute(Object data) { /* do something with data */ } };` and then pass that `command` object on to the function that needs to run `command.execute(data)` on some data object it has.","body":"@Hasen You can initialise it as anonymous inner class whenever you need to use it: <code>Command command = new Command() { @Override public void execute(Object data) { &#47;* do something with data *&#47; } };</code> and then pass that <code>command</code> object on to the function that needs to run <code>command.execute(data)</code> on some data object it has."}],"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"comment_count":8,"down_vote_count":1,"up_vote_count":286,"is_accepted":true,"score":285,"last_activity_date":1415300493,"creation_date":1265138889,"answer_id":2186993,"question_id":2186931,"body_markdown":"*Edit*: as of Java 8, [lambda expressions][6] are a nice solution as [other][4] [answers][5] have pointed out. The answer below was written for Java 7 and earlier...\r\n\r\n----\r\nTake a look at the [command pattern][1].\r\n\r\n    // NOTE: code not tested, but I believe this is valid java...\r\n    public class CommandExample \r\n    {\r\n        public interface Command \r\n        {\r\n            public void execute(Object data);\r\n        }\r\n\r\n        public class PrintCommand implements Command \r\n        {\r\n            public void execute(Object data) \r\n            {\r\n                System.out.println(data.toString());\r\n            }    \r\n        }\r\n\r\n        public static void callCommand(Command command, Object data) \r\n        {\r\n            command.execute(data);\r\n        }\r\n\r\n        public static void main(String... args) \r\n        {\r\n            callCommand(new PrintCommand(), &quot;hello world&quot;);\r\n        }\r\n    }\r\n\r\n*Edit:* as [Pete Kirkham points out][2], there&#39;s another way of doing this using a [Visitor][3]. The visitor approach is a little more involved - your nodes all need to be visitor-aware with an `acceptVisitor()` method - but if you need to traverse a more complex object graph then it&#39;s worth examining.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Command_pattern\r\n  [2]: https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter/2186993#2186993\r\n  [3]: http://en.wikipedia.org/wiki/Visitor_pattern\r\n  [4]: https://stackoverflow.com/a/19624032/21849\r\n  [5]: https://stackoverflow.com/a/25005082/21849\r\n  [6]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Java Pass Method as Parameter","body":"<p><em>Edit</em>: as of Java 8, <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expressions</a> are a nice solution as <a href=\"https://stackoverflow.com/a/19624032/21849\">other</a> <a href=\"https://stackoverflow.com/a/25005082/21849\">answers</a> have pointed out. The answer below was written for Java 7 and earlier...</p>\n\n<hr>\n\n<p>Take a look at the <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"noreferrer\">command pattern</a>.</p>\n\n<pre><code>// NOTE: code not tested, but I believe this is valid java...\npublic class CommandExample \n{\n    public interface Command \n    {\n        public void execute(Object data);\n    }\n\n    public class PrintCommand implements Command \n    {\n        public void execute(Object data) \n        {\n            System.out.println(data.toString());\n        }    \n    }\n\n    public static void callCommand(Command command, Object data) \n    {\n        command.execute(data);\n    }\n\n    public static void main(String... args) \n    {\n        callCommand(new PrintCommand(), \"hello world\");\n    }\n}\n</code></pre>\n\n<p><em>Edit:</em> as <a href=\"https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter/2186993#2186993\">Pete Kirkham points out</a>, there's another way of doing this using a <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"noreferrer\">Visitor</a>. The visitor approach is a little more involved - your nodes all need to be visitor-aware with an <code>acceptVisitor()</code> method - but if you need to traverse a more complex object graph then it's worth examining.</p>\n"},{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":8,"creation_date":1265158487,"post_id":2187025,"comment_id":2137269,"body_markdown":"This is not the pattern you are looking for.","body":"This is not the pattern you are looking for."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":1,"creation_date":1265321773,"post_id":2187025,"comment_id":2154277,"body_markdown":"The observer pattern is about abstracting the ability to respond to a change. The OP wants to abstract the action taken at each item in a collection away from the code iterating over the collection, which is the visitor pattern.","body":"The observer pattern is about abstracting the ability to respond to a change. The OP wants to abstract the action taken at each item in a collection away from the code iterating over the collection, which is the visitor pattern."},{"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"score":0,"creation_date":1265449483,"post_id":2187025,"comment_id":2164917,"body_markdown":"The Observer/Listener pattern is actually the same as that Command pattern. They only differ in intention. The observer is about notification while the command is a substitute for first class functions/lambdas. The visitor on the other hand is something completly different. I don&#39;t think it can be explained in a couple of sentences so please have a look at http://en.wikipedia.org/wiki/Visitor_pattern","body":"The Observer/Listener pattern is actually the same as that Command pattern. They only differ in intention. The observer is about notification while the command is a substitute for first class functions/lambdas. The visitor on the other hand is something completly different. I don&#39;t think it can be explained in a couple of sentences so please have a look at <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Visitor_pattern</a>"}],"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1265139213,"creation_date":1265139213,"answer_id":2187025,"question_id":2186931,"body_markdown":"Use the Observer pattern (sometimes also called Listener pattern):\r\n\r\n    interface ComponentDelegate {\r\n        void doSomething(Component component);\r\n    }\r\n\r\n    public void setAllComponents(Component[] myComponentArray, ComponentDelegate delegate) {\r\n        // ...\r\n        delegate.doSomething(leaf);\r\n    }\r\n\r\n    setAllComponents(this.getComponents(), new ComponentDelegate() {\r\n                                                void doSomething(Component component) {\r\n                                                    changeColor(component); // or do directly what you want\r\n                                                }\r\n                                           });\r\n\r\n\r\n`new ComponentDelegate()...` declares an anonymous type implementing the interface.","title":"Java Pass Method as Parameter","body":"<p>Use the Observer pattern (sometimes also called Listener pattern):</p>\n\n<pre><code>interface ComponentDelegate {\n    void doSomething(Component component);\n}\n\npublic void setAllComponents(Component[] myComponentArray, ComponentDelegate delegate) {\n    // ...\n    delegate.doSomething(leaf);\n}\n\nsetAllComponents(this.getComponents(), new ComponentDelegate() {\n                                            void doSomething(Component component) {\n                                                changeColor(component); // or do directly what you want\n                                            }\n                                       });\n</code></pre>\n\n<p><code>new ComponentDelegate()...</code> declares an anonymous type implementing the interface.</p>\n"},{"comments":[{"owner":{"account_id":30211,"reputation":2545,"user_id":82230,"accept_rate":86,"display_name":"slim"},"score":5,"creation_date":1488471080,"post_id":2187030,"comment_id":72254950,"body_markdown":"You may not have to make your own interface as java has defined a lot of them for you: http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html","body":"You may not have to make your own interface as java has defined a lot of them for you: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>"},{"owner":{"account_id":2103967,"reputation":14454,"user_id":1870795,"accept_rate":68,"display_name":"Manuel"},"score":0,"creation_date":1574617747,"post_id":2187030,"comment_id":104286706,"body_markdown":"@slim Interesting point, how stable are those definitions, are they intended to be used customarily as you suggest, or are the likely to break?","body":"@slim Interesting point, how stable are those definitions, are they intended to be used customarily as you suggest, or are the likely to break?"},{"owner":{"account_id":2103967,"reputation":14454,"user_id":1870795,"accept_rate":68,"display_name":"Manuel"},"score":1,"creation_date":1574618304,"post_id":2187030,"comment_id":104286872,"body_markdown":"@slim Actually, the docs answer that: &quot;The interfaces in this package are general purpose functional interfaces used by the JDK, and are available to be used by user code as well.&quot;","body":"@slim Actually, the docs answer that: &quot;The interfaces in this package are general purpose functional interfaces used by the JDK, and are available to be used by user code as well.&quot;"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":3,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1314093581,"creation_date":1265139266,"answer_id":2187030,"question_id":2186931,"body_markdown":"First define an Interface with the method you want to pass as a parameter\r\n\r\n    public interface Callable {\r\n      public void call(int param);\r\n    }\r\n\r\nImplement a class with the method\r\n\r\n    class Test implements Callable {\r\n      public void call(int param) {\r\n        System.out.println( param );\r\n      }\r\n    }\r\n\r\n// Invoke like that\r\n\r\n    Callable cmd = new Test();\r\n\r\nThis allows you to pass cmd as parameter and invoke the method call defined in the interface\r\n\r\n    public invoke( Callable callable ) {\r\n      callable.call( 5 );\r\n    }\r\n\r\n","title":"Java Pass Method as Parameter","body":"<p>First define an Interface with the method you want to pass as a parameter</p>\n\n<pre><code>public interface Callable {\n  public void call(int param);\n}\n</code></pre>\n\n<p>Implement a class with the method</p>\n\n<pre><code>class Test implements Callable {\n  public void call(int param) {\n    System.out.println( param );\n  }\n}\n</code></pre>\n\n<p>// Invoke like that</p>\n\n<pre><code>Callable cmd = new Test();\n</code></pre>\n\n<p>This allows you to pass cmd as parameter and invoke the method call defined in the interface</p>\n\n<pre><code>public invoke( Callable callable ) {\n  callable.call( 5 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89131,"reputation":418,"user_id":246091,"accept_rate":80,"display_name":"user246091"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1265139499,"creation_date":1265139499,"answer_id":2187059,"question_id":2186931,"body_markdown":"Last time I checked, Java is not capable of natively doing what you want; you have to use &#39;work-arounds&#39; to get around such limitations. As far as I see it, interfaces ARE an alternative, but not a good alternative. Perhaps whoever told you that was meaning something like this:\r\n\r\n    public interface ComponentMethod {\r\n\t  public abstract void PerfromMethod(Container c);\r\n    }\r\n\r\n    public class ChangeColor implements ComponentMethod {\r\n\t  @Override\r\n\t  public void PerfromMethod(Container c) {\r\n\t\t// do color change stuff\r\n\t  }\r\n    }\r\n\r\n    public class ChangeSize implements ComponentMethod {\r\n\t  @Override\r\n\t  public void PerfromMethod(Container c) {\r\n\t\t// do color change stuff\r\n\t  }\r\n    }\r\n\r\n    public void setAllComponents(Component[] myComponentArray, ComponentMethod myMethod) {\r\n        for (Component leaf : myComponentArray) {\r\n            if (leaf instanceof Container) { //recursive call if Container\r\n                Container node = (Container) leaf;\r\n                setAllComponents(node.getComponents(), myMethod);\r\n            } //end if node\r\n            myMethod.PerfromMethod(leaf);\r\n        } //end looping through components\r\n    }\r\n\r\n\r\nWhich you&#39;d then invoke with:\r\n\r\n    setAllComponents(this.getComponents(), new ChangeColor());\r\n    setAllComponents(this.getComponents(), new ChangeSize());\r\n\r\n\r\n","title":"Java Pass Method as Parameter","body":"<p>Last time I checked, Java is not capable of natively doing what you want; you have to use 'work-arounds' to get around such limitations. As far as I see it, interfaces ARE an alternative, but not a good alternative. Perhaps whoever told you that was meaning something like this:</p>\n\n<pre><code>public interface ComponentMethod {\n  public abstract void PerfromMethod(Container c);\n}\n\npublic class ChangeColor implements ComponentMethod {\n  @Override\n  public void PerfromMethod(Container c) {\n    // do color change stuff\n  }\n}\n\npublic class ChangeSize implements ComponentMethod {\n  @Override\n  public void PerfromMethod(Container c) {\n    // do color change stuff\n  }\n}\n\npublic void setAllComponents(Component[] myComponentArray, ComponentMethod myMethod) {\n    for (Component leaf : myComponentArray) {\n        if (leaf instanceof Container) { //recursive call if Container\n            Container node = (Container) leaf;\n            setAllComponents(node.getComponents(), myMethod);\n        } //end if node\n        myMethod.PerfromMethod(leaf);\n    } //end looping through components\n}\n</code></pre>\n\n<p>Which you'd then invoke with:</p>\n\n<pre><code>setAllComponents(this.getComponents(), new ChangeColor());\nsetAllComponents(this.getComponents(), new ChangeSize());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95954,"reputation":7920,"user_id":261079,"display_name":"David Gruzman"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1265140036,"creation_date":1265140036,"answer_id":2187124,"question_id":2186931,"body_markdown":"Java do have a mechanism to pass name and call it. It is part of the reflection mechanism.\r\nYour function should take additional parameter of class Method.\r\n\r\n    public void YouMethod(..... Method methodToCall, Object objWithAllMethodsToBeCalled)\r\n    {\r\n    ...\r\n    Object retobj = methodToCall.invoke(objWithAllMethodsToBeCalled, arglist);\r\n    ...\r\n    }\r\n\r\n\r\n","title":"Java Pass Method as Parameter","body":"<p>Java do have a mechanism to pass name and call it. It is part of the reflection mechanism.\nYour function should take additional parameter of class Method.</p>\n\n<pre><code>public void YouMethod(..... Method methodToCall, Object objWithAllMethodsToBeCalled)\n{\n...\nObject retobj = methodToCall.invoke(objWithAllMethodsToBeCalled, arglist);\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1469554493,"creation_date":1382910793,"answer_id":19624032,"question_id":2186931,"body_markdown":"While this is not yet valid for Java 7 and below, I believe that we should look to the future and at least recognize [the changes][2] to come in new versions such as Java 8. \r\n\r\nNamely, this new version brings [lambdas][1] and method references to Java (along with [new APIs][4], which are another valid solution to this problem. While they still require an interface no new objects are created, and extra classfiles need not pollute output directories due to different handling by the JVM. \r\n\r\nBoth flavors(lambda and method reference) require an interface available with a single method whose signature is used:\r\n\r\n    public interface NewVersionTest{\r\n        String returnAString(Object oIn, String str);\r\n    }\r\n\r\nNames of methods will not matter from here on. Where a lambda is accepted, a method reference is as well. For example, to use our signature here:\r\n\r\n    public static void printOutput(NewVersionTest t, Object o, String s){\r\n        System.out.println(t.returnAString(o, s));\r\n    }\r\n\r\nThis is just a simple interface invocation, up until the lambda&lt;sup&gt;1&lt;/sup&gt; gets passed:\r\n\r\n    public static void main(String[] args){\r\n        printOutput( (Object oIn, String sIn) -&gt; {\r\n            System.out.println(&quot;Lambda reached!&quot;);\r\n            return &quot;lambda return&quot;;\r\n        }\r\n        );\r\n    }\r\n\r\nThis will output:\r\n\r\n    Lambda reached!\r\n    lambda return\r\n\r\nMethod references are similar. Given:\r\n\r\n    public class HelperClass{\r\n        public static String testOtherSig(Object o, String s){\r\n            return &quot;real static method&quot;;\r\n        }\r\n    }\r\n\r\nand main:\r\n\r\n    public static void main(String[] args){\r\n        printOutput(HelperClass::testOtherSig);\r\n    }\r\n\r\nthe output would be `real static method`. [Method references can be static, instance, non-static with arbitrary instances, and even constructors][3]. For the constructor something akin to `ClassName::new` would be used.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; This is not considered a lambda by some, as it has side effects. It does illustrate, however, the use of one in a more straightforward-to-visualize fashion.\r\n\r\n[2]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n[1]: http://www.lambdafaq.org/what-is-a-lambda-expression/\r\n[3]: http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n[4]: http://lambdadoc.net/api/","title":"Java Pass Method as Parameter","body":"<p>While this is not yet valid for Java 7 and below, I believe that we should look to the future and at least recognize <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">the changes</a> to come in new versions such as Java 8. </p>\n\n<p>Namely, this new version brings <a href=\"http://www.lambdafaq.org/what-is-a-lambda-expression/\" rel=\"noreferrer\">lambdas</a> and method references to Java (along with <a href=\"http://lambdadoc.net/api/\" rel=\"noreferrer\">new APIs</a>, which are another valid solution to this problem. While they still require an interface no new objects are created, and extra classfiles need not pollute output directories due to different handling by the JVM. </p>\n\n<p>Both flavors(lambda and method reference) require an interface available with a single method whose signature is used:</p>\n\n<pre><code>public interface NewVersionTest{\n    String returnAString(Object oIn, String str);\n}\n</code></pre>\n\n<p>Names of methods will not matter from here on. Where a lambda is accepted, a method reference is as well. For example, to use our signature here:</p>\n\n<pre><code>public static void printOutput(NewVersionTest t, Object o, String s){\n    System.out.println(t.returnAString(o, s));\n}\n</code></pre>\n\n<p>This is just a simple interface invocation, up until the lambda<sup>1</sup> gets passed:</p>\n\n<pre><code>public static void main(String[] args){\n    printOutput( (Object oIn, String sIn) -&gt; {\n        System.out.println(\"Lambda reached!\");\n        return \"lambda return\";\n    }\n    );\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Lambda reached!\nlambda return\n</code></pre>\n\n<p>Method references are similar. Given:</p>\n\n<pre><code>public class HelperClass{\n    public static String testOtherSig(Object o, String s){\n        return \"real static method\";\n    }\n}\n</code></pre>\n\n<p>and main:</p>\n\n<pre><code>public static void main(String[] args){\n    printOutput(HelperClass::testOtherSig);\n}\n</code></pre>\n\n<p>the output would be <code>real static method</code>. <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">Method references can be static, instance, non-static with arbitrary instances, and even constructors</a>. For the constructor something akin to <code>ClassName::new</code> would be used.</p>\n\n<p><sup>1</sup> This is not considered a lambda by some, as it has side effects. It does illustrate, however, the use of one in a more straightforward-to-visualize fashion.</p>\n"},{"comments":[{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":0,"creation_date":1609106318,"post_id":24185955,"comment_id":115749810,"body_markdown":"simply, the clear approach, so call : otherMethodName(methodName(5));","body":"simply, the clear approach, so call : otherMethodName(methodName(5));"},{"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"score":0,"creation_date":1636354855,"post_id":24185955,"comment_id":123524376,"body_markdown":"I guess this works if you do not need the return type. Otherwise you would need to use interface as answered by Arvid Kumar Avinash above.","body":"I guess this works if you do not need the return type. Otherwise you would need to use interface as answered by Arvid Kumar Avinash above."}],"tags":[],"owner":{"account_id":2132948,"reputation":693,"user_id":1893325,"accept_rate":76,"display_name":"Smig"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1588390623,"creation_date":1402580433,"answer_id":24185955,"question_id":2186931,"body_markdown":"If you don&#39;t need these methods to return something, you could make them return Runnable objects.\r\n\r\n    private Runnable methodName (final int arg) {\r\n        return (new Runnable() {\r\n            public void run() {\r\n              // do stuff with arg\r\n            }\r\n        });\r\n    }\r\n\r\nThen use it like:\r\n\r\n    private void otherMethodName (Runnable arg){\r\n        arg.run();\r\n    }","title":"Java Pass Method as Parameter","body":"<p>If you don't need these methods to return something, you could make them return Runnable objects.</p>\n\n<pre><code>private Runnable methodName (final int arg) {\n    return (new Runnable() {\n        public void run() {\n          // do stuff with arg\n        }\n    });\n}\n</code></pre>\n\n<p>Then use it like:</p>\n\n<pre><code>private void otherMethodName (Runnable arg){\n    arg.run();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1501116602,"post_id":25005082,"comment_id":77641108,"body_markdown":"Does class A need to be inherited form the  interface?","body":"Does class A need to be inherited form the  interface?"},{"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"score":1,"creation_date":1501282549,"post_id":25005082,"comment_id":77728226,"body_markdown":"@Serob_b Nope. Unless you want to pass it as a method reference (see `::` operator), it doesn&#39;t matter what A is. `a.changeThing(component)` can be changed to any statement or code block you want, as long as it returns void.","body":"@Serob_b Nope. Unless you want to pass it as a method reference (see <code>::</code> operator), it doesn&#39;t matter what A is. <code>a.changeThing(component)</code> can be changed to any statement or code block you want, as long as it returns void."}],"tags":[],"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"comment_count":2,"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1538675896,"creation_date":1406584947,"answer_id":25005082,"question_id":2186931,"body_markdown":"In Java 8, you can now pass a method more easily using [Lambda Expressions][2] and Method References. First, some background: a functional interface is an interface that has one and only one abstract method, although it can contain any number of [default methods][3] (new in Java 8) and static methods. A lambda expression can quickly implement the abstract method, without all the unnecessary syntax needed if you don&#39;t use a lambda expression.\r\n\r\nWithout lambda expressions:\r\n\r\n    obj.aMethod(new AFunctionalInterface() {\r\n        @Override\r\n        public boolean anotherMethod(int i)\r\n        {\r\n            return i == 982\r\n        }\r\n    });\r\n\r\nWith lambda expressions:\r\n\r\n    obj.aMethod(i -&gt; i == 982);\r\n\r\n\r\n----------\r\n\r\n\r\nHere is an excerpt from [the Java tutorial on Lambda Expressions][4]:\r\n\r\n&gt; ##Syntax of Lambda Expressions\r\n&gt; \r\n&gt; A lambda expression consists of the following:\r\n&gt; \r\n&gt;  - A comma-separated list of formal parameters enclosed in parentheses. The CheckPerson.test method contains one parameter, p,\r\n&gt; which represents an instance of the Person class.&lt;br&gt;&lt;br&gt;**Note**: You\r\n&gt; can omit the data type of the parameters in a lambda expression. In\r\n&gt; addition, you can omit the parentheses if there is only one parameter.\r\n&gt; For example, the following lambda expression is also valid:\r\n&gt; \r\n&gt;         p -&gt; p.getGender() == Person.Sex.MALE \r\n&gt;             &amp;&amp; p.getAge() &gt;= 18\r\n&gt;             &amp;&amp; p.getAge() &lt;= 25\r\n&gt; \r\n&gt;  - The arrow token, `-&gt;`\r\n&gt; \r\n&gt;  - A body, which consists of a single expression or a statement block. This example uses the following expression:\r\n&gt; \r\n&gt;         p.getGender() == Person.Sex.MALE \r\n&gt;             &amp;&amp; p.getAge() &gt;= 18\r\n&gt;             &amp;&amp; p.getAge() &lt;= 25\r\n&gt; \r\n&gt;     If you specify a single expression, then the Java runtime evaluates the expression and then returns its value. Alternatively,\r\n&gt; you can use a return statement:\r\n&gt; \r\n&gt;         p -&gt; {\r\n&gt;             return p.getGender() == Person.Sex.MALE\r\n&gt;                 &amp;&amp; p.getAge() &gt;= 18\r\n&gt;                 &amp;&amp; p.getAge() &lt;= 25;\r\n&gt;         }\r\n&gt; \r\n&gt;     A return statement is not an expression; in a lambda expression, you must enclose statements in braces ({}). However, you do not have\r\n&gt; to enclose a void method invocation in braces. For example, the\r\n&gt; following is a valid lambda expression:\r\n&gt; \r\n&gt;         email -&gt; System.out.println(email)\r\n&gt; \r\n&gt; Note that a lambda expression looks a lot like a method declaration;\r\n&gt; you can consider lambda expressions as anonymous methods—methods\r\n&gt; without a name.\r\n\r\n---\r\n\r\nHere is how you can &quot;pass a method&quot; using a lambda expression:\r\n\r\n\tinterface I {\r\n\t\tpublic void myMethod(Component component);\r\n\t}\r\n\t\r\n\tclass A {\r\n\t\tpublic void changeColor(Component component) {\r\n\t\t\t// code here\r\n\t\t}\r\n\t\t\r\n\t\tpublic void changeSize(Component component) {\r\n\t\t\t// code here\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- --&gt;\r\n\t\r\n\tclass B {\r\n\t\tpublic void setAllComponents(Component[] myComponentArray, I myMethodsInterface) {\r\n\t\t\tfor(Component leaf : myComponentArray) {\r\n\t\t\t\tif(leaf instanceof Container) { // recursive call if Container\r\n\t\t\t\t\tContainer node = (Container)leaf;\r\n\t\t\t\t\tsetAllComponents(node.getComponents(), myMethodInterface);\r\n\t\t\t\t} // end if node\r\n\t\t\t\tmyMethodsInterface.myMethod(leaf);\r\n\t\t\t} // end looping through components\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- --&gt;\r\n\t\r\n\tclass C {\r\n\t\tA a = new A();\r\n\t\tB b = new B();\r\n\t\t\r\n\t\tpublic C() {\r\n\t\t\tb.setAllComponents(this.getComponents(), component -&gt; a.changeColor(component));\r\n\t\t\tb.setAllComponents(this.getComponents(), component -&gt; a.changeSize(component));\r\n\t\t}\r\n\t}\r\n\r\nClass `C` can be shortened even a bit further by the use of method references like so:\r\n\t\r\n\tclass C {\r\n\t\tA a = new A();\r\n\t\tB b = new B();\r\n\t\t\r\n\t\tpublic C() {\r\n\t\t\tb.setAllComponents(this.getComponents(), a::changeColor);\r\n\t\t\tb.setAllComponents(this.getComponents(), a::changeSize);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4685606/2846923\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [4]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [5]: http://download.java.net/jdk8/docs/api/java/util/function/IntConsumer.html","title":"Java Pass Method as Parameter","body":"<p>In Java 8, you can now pass a method more easily using <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">Lambda Expressions</a> and Method References. First, some background: a functional interface is an interface that has one and only one abstract method, although it can contain any number of <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default methods</a> (new in Java 8) and static methods. A lambda expression can quickly implement the abstract method, without all the unnecessary syntax needed if you don't use a lambda expression.</p>\n\n<p>Without lambda expressions:</p>\n\n<pre><code>obj.aMethod(new AFunctionalInterface() {\n    @Override\n    public boolean anotherMethod(int i)\n    {\n        return i == 982\n    }\n});\n</code></pre>\n\n<p>With lambda expressions:</p>\n\n<pre><code>obj.aMethod(i -&gt; i == 982);\n</code></pre>\n\n<hr>\n\n<p>Here is an excerpt from <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">the Java tutorial on Lambda Expressions</a>:</p>\n\n<blockquote>\n  <h2>Syntax of Lambda Expressions</h2>\n  \n  <p>A lambda expression consists of the following:</p>\n  \n  <ul>\n  <li><p>A comma-separated list of formal parameters enclosed in parentheses. The CheckPerson.test method contains one parameter, p,\n  which represents an instance of the Person class.<br><br><strong>Note</strong>: You\n  can omit the data type of the parameters in a lambda expression. In\n  addition, you can omit the parentheses if there is only one parameter.\n  For example, the following lambda expression is also valid:</p>\n\n<pre><code>p -&gt; p.getGender() == Person.Sex.MALE \n    &amp;&amp; p.getAge() &gt;= 18\n    &amp;&amp; p.getAge() &lt;= 25\n</code></pre></li>\n  <li><p>The arrow token, <code>-&gt;</code></p></li>\n  <li><p>A body, which consists of a single expression or a statement block. This example uses the following expression:</p>\n\n<pre><code>p.getGender() == Person.Sex.MALE \n    &amp;&amp; p.getAge() &gt;= 18\n    &amp;&amp; p.getAge() &lt;= 25\n</code></pre>\n  \n  <p>If you specify a single expression, then the Java runtime evaluates the expression and then returns its value. Alternatively,\n  you can use a return statement:</p>\n\n<pre><code>p -&gt; {\n    return p.getGender() == Person.Sex.MALE\n        &amp;&amp; p.getAge() &gt;= 18\n        &amp;&amp; p.getAge() &lt;= 25;\n}\n</code></pre>\n  \n  <p>A return statement is not an expression; in a lambda expression, you must enclose statements in braces ({}). However, you do not have\n  to enclose a void method invocation in braces. For example, the\n  following is a valid lambda expression:</p>\n\n<pre><code>email -&gt; System.out.println(email)\n</code></pre></li>\n  </ul>\n  \n  <p>Note that a lambda expression looks a lot like a method declaration;\n  you can consider lambda expressions as anonymous methods—methods\n  without a name.</p>\n</blockquote>\n\n<hr>\n\n<p>Here is how you can \"pass a method\" using a lambda expression:</p>\n\n<pre><code>interface I {\n    public void myMethod(Component component);\n}\n\nclass A {\n    public void changeColor(Component component) {\n        // code here\n    }\n\n    public void changeSize(Component component) {\n        // code here\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class B {\n    public void setAllComponents(Component[] myComponentArray, I myMethodsInterface) {\n        for(Component leaf : myComponentArray) {\n            if(leaf instanceof Container) { // recursive call if Container\n                Container node = (Container)leaf;\n                setAllComponents(node.getComponents(), myMethodInterface);\n            } // end if node\n            myMethodsInterface.myMethod(leaf);\n        } // end looping through components\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class C {\n    A a = new A();\n    B b = new B();\n\n    public C() {\n        b.setAllComponents(this.getComponents(), component -&gt; a.changeColor(component));\n        b.setAllComponents(this.getComponents(), component -&gt; a.changeSize(component));\n    }\n}\n</code></pre>\n\n<p>Class <code>C</code> can be shortened even a bit further by the use of method references like so:</p>\n\n<pre><code>class C {\n    A a = new A();\n    B b = new B();\n\n    public C() {\n        b.setAllComponents(this.getComponents(), a::changeColor);\n        b.setAllComponents(this.getComponents(), a::changeSize);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472550580,"creation_date":1472550580,"answer_id":39224194,"question_id":2186931,"body_markdown":"Here is a basic example:\r\n\r\n    public class TestMethodPassing\r\n    {\r\n    \tprivate static void println()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Do println&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void print()\r\n    \t{\r\n    \t\tSystem.out.print(&quot;Do print&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void performTask(BasicFunctionalInterface functionalInterface)\r\n    \t{\r\n    \t\tfunctionalInterface.performTask();\r\n    \t}\r\n    \r\n    \t@FunctionalInterface\r\n    \tinterface BasicFunctionalInterface\r\n    \t{\r\n    \t\tvoid performTask();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] arguments)\r\n    \t{\r\n    \t\tperformTask(TestMethodPassing::println);\r\n    \t\tperformTask(TestMethodPassing::print);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Do println\r\n    Do print","title":"Java Pass Method as Parameter","body":"<p>Here is a basic example:</p>\n\n<pre><code>public class TestMethodPassing\n{\n    private static void println()\n    {\n        System.out.println(\"Do println\");\n    }\n\n    private static void print()\n    {\n        System.out.print(\"Do print\");\n    }\n\n    private static void performTask(BasicFunctionalInterface functionalInterface)\n    {\n        functionalInterface.performTask();\n    }\n\n    @FunctionalInterface\n    interface BasicFunctionalInterface\n    {\n        void performTask();\n    }\n\n    public static void main(String[] arguments)\n    {\n        performTask(TestMethodPassing::println);\n        performTask(TestMethodPassing::print);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Do println\nDo print\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"score":0,"creation_date":1572423892,"post_id":45633883,"comment_id":103550600,"body_markdown":"Actually it&#39;s the best answer and the proper way to do it. Deserve more +1","body":"Actually it&#39;s the best answer and the proper way to do it. Deserve more +1"}],"tags":[],"owner":{"account_id":7447585,"reputation":161,"user_id":5663292,"display_name":"Sercan &#246;zen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502450136,"creation_date":1502450136,"answer_id":45633883,"question_id":2186931,"body_markdown":"I&#39;m not a java expert but I solve your problem like this:\r\n\r\n    @FunctionalInterface\r\n    public interface AutoCompleteCallable&lt;T&gt; {\r\n      String call(T model) throws Exception;\r\n    }\r\n\r\nI define the parameter in my special Interface\r\n\r\n    public &lt;T&gt; void initialize(List&lt;T&gt; entries, AutoCompleteCallable getSearchText) {.......\r\n    //call here\r\n    String value = getSearchText.call(item);\r\n    ...\r\n    }\r\n\r\nFinally, I implement **getSearchText** method while calling **initialize** method.\r\n\r\n    initialize(getMessageContactModelList(), new AutoCompleteCallable() {\r\n              @Override\r\n              public String call(Object model) throws Exception {\r\n                return &quot;custom string&quot; + ((xxxModel)model.getTitle());\r\n              }\r\n            })\r\n\r\n","title":"Java Pass Method as Parameter","body":"<p>I'm not a java expert but I solve your problem like this:</p>\n\n<pre><code>@FunctionalInterface\npublic interface AutoCompleteCallable&lt;T&gt; {\n  String call(T model) throws Exception;\n}\n</code></pre>\n\n<p>I define the parameter in my special Interface</p>\n\n<pre><code>public &lt;T&gt; void initialize(List&lt;T&gt; entries, AutoCompleteCallable getSearchText) {.......\n//call here\nString value = getSearchText.call(item);\n...\n}\n</code></pre>\n\n<p>Finally, I implement <strong>getSearchText</strong> method while calling <strong>initialize</strong> method.</p>\n\n<pre><code>initialize(getMessageContactModelList(), new AutoCompleteCallable() {\n          @Override\n          public String call(Object model) throws Exception {\n            return \"custom string\" + ((xxxModel)model.getTitle());\n          }\n        })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6742788,"reputation":964,"user_id":5195443,"display_name":"JakubM"},"comment_count":0,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1507213597,"creation_date":1507213597,"answer_id":46588131,"question_id":2186931,"body_markdown":"Since Java 8 there is a `Function&lt;T, R&gt;` interface ([docs][1]), which has method \r\n\r\n    R apply(T t);\r\n    \r\nYou can use it to pass functions as parameters to other functions. T is the input type of the function, R is the return type.\r\n \r\nIn your example you need to pass a function that takes `Component` type as an input and returns nothing - `Void`. In this case `Function&lt;T, R&gt;` is not the best choice, since there is no autoboxing of Void type. The interface you are looking for is called `Consumer&lt;T&gt;` ([docs][2]) with method \r\n\r\n    void accept(T t);\r\nIt would look like this:\r\n\r\n    public void setAllComponents(Component[] myComponentArray, Consumer&lt;Component&gt; myMethod) {\r\n        for (Component leaf : myComponentArray) {\r\n            if (leaf instanceof Container) { \r\n                Container node = (Container) leaf;\r\n                setAllComponents(node.getComponents(), myMethod);\r\n            } \r\n            myMethod.accept(leaf);\r\n        } \r\n    }\r\n\r\nAnd you would call it using method references:\r\n\r\n    setAllComponents(this.getComponents(), this::changeColor);\r\n    setAllComponents(this.getComponents(), this::changeSize); \r\n\r\n   \r\nAssuming that you have defined changeColor() and changeSize() methods in the same class.\r\n\r\n\r\n----------\r\n\r\n\r\nIf your method happens to accept more than one parameter, you can use `BiFunction&lt;T, U, R&gt;` - T and U being types of input parameters and R being return type. There is also `BiConsumer&lt;T, U&gt;` (two arguments, no return type). Unfortunately for 3 and more input parameters, you have to create an interface by yourself. For example:\r\n\r\n    public interface Function4&lt;A, B, C, D, R&gt; {\r\n        \r\n        R apply(A a, B b, C c, D d);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html","title":"Java Pass Method as Parameter","body":"<p>Since Java 8 there is a <code>Function&lt;T, R&gt;</code> interface (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"noreferrer\">docs</a>), which has method </p>\n\n<pre><code>R apply(T t);\n</code></pre>\n\n<p>You can use it to pass functions as parameters to other functions. T is the input type of the function, R is the return type.</p>\n\n<p>In your example you need to pass a function that takes <code>Component</code> type as an input and returns nothing - <code>Void</code>. In this case <code>Function&lt;T, R&gt;</code> is not the best choice, since there is no autoboxing of Void type. The interface you are looking for is called <code>Consumer&lt;T&gt;</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"noreferrer\">docs</a>) with method </p>\n\n<pre><code>void accept(T t);\n</code></pre>\n\n<p>It would look like this:</p>\n\n<pre><code>public void setAllComponents(Component[] myComponentArray, Consumer&lt;Component&gt; myMethod) {\n    for (Component leaf : myComponentArray) {\n        if (leaf instanceof Container) { \n            Container node = (Container) leaf;\n            setAllComponents(node.getComponents(), myMethod);\n        } \n        myMethod.accept(leaf);\n    } \n}\n</code></pre>\n\n<p>And you would call it using method references:</p>\n\n<pre><code>setAllComponents(this.getComponents(), this::changeColor);\nsetAllComponents(this.getComponents(), this::changeSize); \n</code></pre>\n\n<p>Assuming that you have defined changeColor() and changeSize() methods in the same class.</p>\n\n<hr>\n\n<p>If your method happens to accept more than one parameter, you can use <code>BiFunction&lt;T, U, R&gt;</code> - T and U being types of input parameters and R being return type. There is also <code>BiConsumer&lt;T, U&gt;</code> (two arguments, no return type). Unfortunately for 3 and more input parameters, you have to create an interface by yourself. For example:</p>\n\n<pre><code>public interface Function4&lt;A, B, C, D, R&gt; {\n\n    R apply(A a, B b, C c, D d);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2814990,"reputation":491,"user_id":2420322,"accept_rate":42,"display_name":"In&#232;s Belhouchet"},"score":0,"creation_date":1571946594,"post_id":53219950,"comment_id":103417433,"body_markdown":"to use the apply call in android you need a minimum api 24","body":"to use the apply call in android you need a minimum api 24"},{"owner":{"account_id":16917807,"reputation":1246,"user_id":12235376,"display_name":"pallgeuer"},"score":0,"creation_date":1607072540,"post_id":53219950,"comment_id":115162726,"body_markdown":"@InesBelhouchet Or use Java 8+ API desugaring: https://developer.android.com/studio/write/java8-support","body":"@InesBelhouchet Or use Java 8+ API desugaring: <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a>"}],"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541738272,"creation_date":1541738272,"answer_id":53219950,"question_id":2186931,"body_markdown":"I didn&#39;t find any example explicit enough for me on how to use `java.util.function.Function` for simple method as parameter function. Here is a simple example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.function.Function;\r\n    \r\n    public class Foo {\r\n    \r\n      private Foo(String parameter) {\r\n        System.out.println(&quot;I&#39;m a Foo &quot; + parameter);\r\n      }\r\n    \r\n      public static Foo method(final String parameter) {\r\n        return new Foo(parameter);\r\n      }\r\n    \r\n      private static Function parametrisedMethod(Function&lt;String, Foo&gt; function) {\r\n        return function;\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        parametrisedMethod(Foo::method).apply(&quot;from a method&quot;);\r\n      }\r\n    }\r\n\r\nBasically you have a `Foo` object with a default constructor. A `method` that will be called as a parameter from the `parametrisedMethod` which is of type `Function&lt;String, Foo&gt;`.\r\n\r\n- `Function&lt;String, Foo&gt;` means that the function takes a `String` as parameter and return a `Foo`.\r\n- The `Foo::Method` correspond to a lambda like `x -&gt; Foo.method(x);`\r\n- `parametrisedMethod(Foo::method)` could be seen as `x -&gt; parametrisedMethod(Foo.method(x))`\r\n- The `.apply(&quot;from a method&quot;)` is basically to do `parametrisedMethod(Foo.method(&quot;from a method&quot;))`\r\n\r\nWhich will then return in the output:\r\n\r\n    &gt;&gt; I&#39;m a Foo from a method\r\n\r\nThe example should be running as is, you can then try more complicated stuff from the above answers with different classes and interfaces.\r\n","title":"Java Pass Method as Parameter","body":"<p>I didn't find any example explicit enough for me on how to use <code>java.util.function.Function</code> for simple method as parameter function. Here is a simple example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\npublic class Foo {\n\n  private Foo(String parameter) {\n    System.out.println(\"I'm a Foo \" + parameter);\n  }\n\n  public static Foo method(final String parameter) {\n    return new Foo(parameter);\n  }\n\n  private static Function parametrisedMethod(Function&lt;String, Foo&gt; function) {\n    return function;\n  }\n\n  public static void main(String[] args) {\n    parametrisedMethod(Foo::method).apply(\"from a method\");\n  }\n}\n</code></pre>\n\n<p>Basically you have a <code>Foo</code> object with a default constructor. A <code>method</code> that will be called as a parameter from the <code>parametrisedMethod</code> which is of type <code>Function&lt;String, Foo&gt;</code>.</p>\n\n<ul>\n<li><code>Function&lt;String, Foo&gt;</code> means that the function takes a <code>String</code> as parameter and return a <code>Foo</code>.</li>\n<li>The <code>Foo::Method</code> correspond to a lambda like <code>x -&gt; Foo.method(x);</code></li>\n<li><code>parametrisedMethod(Foo::method)</code> could be seen as <code>x -&gt; parametrisedMethod(Foo.method(x))</code></li>\n<li>The <code>.apply(\"from a method\")</code> is basically to do <code>parametrisedMethod(Foo.method(\"from a method\"))</code></li>\n</ul>\n\n<p>Which will then return in the output:</p>\n\n<pre><code>&gt;&gt; I'm a Foo from a method\n</code></pre>\n\n<p>The example should be running as is, you can then try more complicated stuff from the above answers with different classes and interfaces.</p>\n"},{"comments":[{"owner":{"account_id":7794943,"reputation":1880,"user_id":5896420,"accept_rate":90,"display_name":"luckyguy73"},"score":0,"creation_date":1599432643,"post_id":54582973,"comment_id":112765580,"body_markdown":"why would you use a C# connectionScope class in a solution to a Java question?","body":"why would you use a C# connectionScope class in a solution to a Java question?"},{"owner":{"account_id":1764655,"reputation":2160,"user_id":1610778,"display_name":"Stan Sokolov"},"score":0,"creation_date":1599590561,"post_id":54582973,"comment_id":112818601,"body_markdown":"It is not C#. I created my own DB persistence layer that is using this class. Name is pure coincidence. I did not know C# uses a class with the same name.","body":"It is not C#. I created my own DB persistence layer that is using this class. Name is pure coincidence. I did not know C# uses a class with the same name."}],"tags":[],"owner":{"account_id":1764655,"reputation":2160,"user_id":1610778,"display_name":"Stan Sokolov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549576711,"creation_date":1549576711,"answer_id":54582973,"question_id":2186931,"body_markdown":"I did not found any solution here that show how to pass method with parameters bound to it as a parameter of a method. Bellow is example of how you can pass a method with parameter values already bound to it. \r\n\r\n1. Step 1: Create two interfaces one with return type, another without. Java has similar interfaces but they are of little practical use because they do not support Exception throwing.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    public interface Do {\r\n    void run() throws Exception;\r\n    }\r\n\r\n\r\n    public interface Return&lt;R&gt; {\r\n        R run() throws Exception;\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n2. Example of how we use both interfaces to wrap method call in transaction. Note that we pass method with actual parameters.\r\n\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    //example - when passed method does not return any value\r\n    public void tx(final Do func) throws Exception {\r\n        connectionScope.beginTransaction();\r\n        try {\r\n            func.run();\r\n            connectionScope.commit();\r\n        } catch (Exception e) {\r\n            connectionScope.rollback();\r\n            throw e;\r\n        } finally {\r\n            connectionScope.close();\r\n        }\r\n    }\r\n    \r\n    //Invoke code above by \r\n    tx(() -&gt; api.delete(6));\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nAnother example shows how to pass a method that actually returns something\r\n\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n        public &lt;R&gt; R tx(final Return&lt;R&gt; func) throws Exception {\r\n    R r=null;\r\n    connectionScope.beginTransaction();\r\n    try {\r\n                r=func.run();\r\n                connectionScope.commit();\r\n            } catch (Exception e) {\r\n                connectionScope.rollback();\r\n                throw e;\r\n            } finally {\r\n                connectionScope.close();\r\n            }\r\n        return r;\r\n        }\r\n        //Invoke code above by \r\n        Object x= tx(() -&gt; api.get(id));\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n","title":"Java Pass Method as Parameter","body":"<p>I did not found any solution here that show how to pass method with parameters bound to it as a parameter of a method. Bellow is example of how you can pass a method with parameter values already bound to it. </p>\n\n<ol>\n<li>Step 1: Create two interfaces one with return type, another without. Java has similar interfaces but they are of little practical use because they do not support Exception throwing.</li>\n</ol>\n\n<pre><code>\n\n    public interface Do {\n    void run() throws Exception;\n    }\n\n\n    public interface Return {\n        R run() throws Exception;\n    }\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Example of how we use both interfaces to wrap method call in transaction. Note that we pass method with actual parameters.</li>\n</ol>\n\n<pre><code>\n\n    //example - when passed method does not return any value\n    public void tx(final Do func) throws Exception {\n        connectionScope.beginTransaction();\n        try {\n            func.run();\n            connectionScope.commit();\n        } catch (Exception e) {\n            connectionScope.rollback();\n            throw e;\n        } finally {\n            connectionScope.close();\n        }\n    }\n\n    //Invoke code above by \n    tx(() -> api.delete(6));\n\n</code></pre>\n\n<p>Another example shows how to pass a method that actually returns something</p>\n\n<pre><code>\n\n        public  R tx(final Return func) throws Exception {\n    R r=null;\n    connectionScope.beginTransaction();\n    try {\n                r=func.run();\n                connectionScope.commit();\n            } catch (Exception e) {\n                connectionScope.rollback();\n                throw e;\n            } finally {\n                connectionScope.close();\n            }\n        return r;\n        }\n        //Invoke code above by \n        Object x= tx(() -> api.get(id));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10641157,"reputation":371,"user_id":7836134,"display_name":"zemiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569185584,"creation_date":1569185584,"answer_id":58053320,"question_id":2186931,"body_markdown":"Example of solution with reflection, passed method must be public\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class Program {\r\n        int i;\r\n        \r\n        public static void main(String[] args) {\r\n            Program   obj = new Program();    //some object\r\n            \r\n            try {\r\n                Method method = obj.getClass().getMethod(&quot;target&quot;);\r\n                repeatMethod( 5, obj, method );\r\n            } \r\n            catch ( NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n                System.out.println( e ); \r\n            }\r\n    \t}\r\n    \t\r\n    \tstatic void repeatMethod (int times, Object object, Method method)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n              \r\n            for (int i=0; i&lt;times; i++)\r\n                method.invoke(object);\r\n        }\r\n    \tpublic void target() {                 //public is necessary\r\n    \t    System.out.println(&quot;target(): &quot;+ ++i);\r\n    \t}\r\n    }","title":"Java Pass Method as Parameter","body":"<p>Example of solution with reflection, passed method must be public</p>\n\n<pre><code>import java.lang.reflect.Method;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class Program {\n    int i;\n\n    public static void main(String[] args) {\n        Program   obj = new Program();    //some object\n\n        try {\n            Method method = obj.getClass().getMethod(\"target\");\n            repeatMethod( 5, obj, method );\n        } \n        catch ( NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            System.out.println( e ); \n        }\n    }\n\n    static void repeatMethod (int times, Object object, Method method)\n        throws IllegalAccessException, InvocationTargetException {\n\n        for (int i=0; i&lt;times; i++)\n            method.invoke(object);\n    }\n    public void target() {                 //public is necessary\n        System.out.println(\"target(): \"+ ++i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8175549,"reputation":176,"user_id":6154409,"display_name":"Joe Mwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576491201,"creation_date":1576491201,"answer_id":59354475,"question_id":2186931,"body_markdown":"I appreciate the answers above but I was able to achieve the same behavior using the method below; an idea borrowed from Javascript callbacks. I&#39;m open to correction though so far so good (in production).\r\n\r\nThe idea is to use the return type of the function in the signature, meaning that the yield has to be static.\r\n\r\nBelow is a function that runs a process with a timeout.\r\n\r\n    public static void timeoutFunction(String fnReturnVal) {\r\n\r\n        Object p = null; // whatever object you need here\r\n\r\n        String threadSleeptime = null;\r\n\r\n        Config config;\r\n\r\n        try {\r\n            config = ConfigReader.getConfigProperties();\r\n            threadSleeptime = config.getThreadSleepTime();\r\n\r\n        } catch (Exception e) {\r\n            log.error(e);\r\n            log.error(&quot;&quot;);\r\n            log.error(&quot;Defaulting thread sleep time to 105000 miliseconds.&quot;);\r\n            log.error(&quot;&quot;);\r\n            threadSleeptime = &quot;100000&quot;;\r\n        }\r\n\r\n        ExecutorService executor = Executors.newCachedThreadPool();\r\n        Callable&lt;Object&gt; task = new Callable&lt;Object&gt;() {\r\n            public Object call() {\r\n                // Do job here using --- fnReturnVal --- and return appropriate value\r\n                return null;\r\n            }\r\n        };\r\n        Future&lt;Object&gt; future = executor.submit(task);\r\n\r\n        try {\r\n            p = future.get(Integer.parseInt(threadSleeptime), TimeUnit.MILLISECONDS);\r\n        } catch (Exception e) {\r\n            log.error(e + &quot;. The function timed out after [&quot; + threadSleeptime\r\n                    + &quot;] miliseconds before a response was received.&quot;);\r\n        } finally {\r\n            // if task has started then don&#39;t stop it\r\n            future.cancel(false);\r\n        }\r\n    }\r\n\r\n    private static String returnString() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        timeoutFunction(returnString());\r\n    }","title":"Java Pass Method as Parameter","body":"<p>I appreciate the answers above but I was able to achieve the same behavior using the method below; an idea borrowed from Javascript callbacks. I'm open to correction though so far so good (in production).</p>\n\n<p>The idea is to use the return type of the function in the signature, meaning that the yield has to be static.</p>\n\n<p>Below is a function that runs a process with a timeout.</p>\n\n<pre><code>public static void timeoutFunction(String fnReturnVal) {\n\n    Object p = null; // whatever object you need here\n\n    String threadSleeptime = null;\n\n    Config config;\n\n    try {\n        config = ConfigReader.getConfigProperties();\n        threadSleeptime = config.getThreadSleepTime();\n\n    } catch (Exception e) {\n        log.error(e);\n        log.error(\"\");\n        log.error(\"Defaulting thread sleep time to 105000 miliseconds.\");\n        log.error(\"\");\n        threadSleeptime = \"100000\";\n    }\n\n    ExecutorService executor = Executors.newCachedThreadPool();\n    Callable&lt;Object&gt; task = new Callable&lt;Object&gt;() {\n        public Object call() {\n            // Do job here using --- fnReturnVal --- and return appropriate value\n            return null;\n        }\n    };\n    Future&lt;Object&gt; future = executor.submit(task);\n\n    try {\n        p = future.get(Integer.parseInt(threadSleeptime), TimeUnit.MILLISECONDS);\n    } catch (Exception e) {\n        log.error(e + \". The function timed out after [\" + threadSleeptime\n                + \"] miliseconds before a response was received.\");\n    } finally {\n        // if task has started then don't stop it\n        future.cancel(false);\n    }\n}\n\nprivate static String returnString() {\n    return \"hello\";\n}\n\npublic static void main(String[] args) {\n    timeoutFunction(returnString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1642805188,"creation_date":1633877071,"answer_id":69516183,"question_id":2186931,"body_markdown":"# Java-8 onwards\r\n\r\nJava 8 onwards, you can provide the implementation of the abstract method of a functional interface (an interface that has only one abstract method) using a lambda expression and pass the same to a method as a parameter.\r\n\r\n    @FunctionalInterface\r\n    interface ArithmeticFunction {\r\n    \tpublic int calcualate(int a, int b);\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tArithmeticFunction addition = (a, b) -&gt; a + b;\r\n    \t\tArithmeticFunction subtraction = (a, b) -&gt; a - b;\r\n    \r\n    \t\tint a = 20, b = 5;\r\n    \r\n    \t\tSystem.out.println(perform(addition, a, b));\r\n    \t\t// or\r\n    \t\tSystem.out.println(perform((x, y) -&gt; x + y, a, b));\r\n    \r\n    \t\tSystem.out.println(perform(subtraction, a, b));\r\n    \t\t// or\r\n    \t\tSystem.out.println(perform((x, y) -&gt; x - y, a, b));\r\n    \t}\r\n    \r\n    \tstatic int perform(ArithmeticFunction function, int a, int b) {\r\n    \t\treturn function.calcualate(a, b);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    25\r\n    25\r\n    15\r\n    15\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about it from **[Method References](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)**.\r\n\r\n  [1]: https://ideone.com/pwUsek\r\n","title":"Java Pass Method as Parameter","body":"<h1>Java-8 onwards</h1>\n<p>Java 8 onwards, you can provide the implementation of the abstract method of a functional interface (an interface that has only one abstract method) using a lambda expression and pass the same to a method as a parameter.</p>\n<pre><code>@FunctionalInterface\ninterface ArithmeticFunction {\n    public int calcualate(int a, int b);\n}\n\npublic class Main {\n    public static void main(String args[]) {\n        ArithmeticFunction addition = (a, b) -&gt; a + b;\n        ArithmeticFunction subtraction = (a, b) -&gt; a - b;\n\n        int a = 20, b = 5;\n\n        System.out.println(perform(addition, a, b));\n        // or\n        System.out.println(perform((x, y) -&gt; x + y, a, b));\n\n        System.out.println(perform(subtraction, a, b));\n        // or\n        System.out.println(perform((x, y) -&gt; x - y, a, b));\n    }\n\n    static int perform(ArithmeticFunction function, int a, int b) {\n        return function.calcualate(a, b);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>25\n25\n15\n15\n</code></pre>\n<p><a href=\"https://ideone.com/pwUsek\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about it from <strong><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">Method References</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":8013531,"reputation":191,"user_id":6044526,"display_name":"kitekat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691754761,"creation_date":1691754761,"answer_id":76883324,"question_id":2186931,"body_markdown":"To pass a method reference from class A to class B and then call the passed method in class A from class B, you can use functional interfaces and lambda expressions in Java. Here&#39;s an example.\r\n\r\n**Class B**\r\n\r\nDefine a functional interface in class B that matches the signature of the method you want to pass from class A. Let&#39;s call it MethodInterface:\r\n\r\n    public interface MethodInterface {\r\n        void methodName();\r\n    }\r\n\r\nStill in class B, create a method that takes an instance of MethodInterface as a parameter and calls the method reference:\r\n\r\n\r\n    public class B {\r\n        public void callMethod(MethodInterface method) {\r\n            method.methodName();\r\n        }\r\n    }\r\n\r\n**Class A**\r\n\r\nIn class A, define the method you want to pass to class B. Make sure it matches the signature of the MethodInterface:\r\n\r\n\r\n    public class A {\r\n        public void methodToPass() {\r\n            System.out.println(&quot;Method called from class B&quot;);\r\n        }\r\n    }\r\n\r\nStill in class A, create an instance of class B and pass a method reference to methodToPass using a lambda expression:\r\n\r\n\r\n    public class A {\r\n        public void methodToPass() {\r\n            System.out.println(&quot;Method called from class B&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            A objA = new A();\r\n            B objB = new B();\r\n    \r\n            objB.callMethod(objA::methodToPass);\r\n        }\r\n    }\r\n\r\nIn this example, `objA::methodToPass` is a method reference that refers to the `methodToPass` method in class A. It is passed to the `callMethod` method in class B, which then calls the method reference, resulting in the execution of `methodToPass` in class A.\r\n\r\nNote that the `::` operator is used to create a method reference. The syntax `objA::methodToPass` is equivalent to creating an anonymous inner class that implements the `MethodInterface` and calls `methodToPass` on the provided instance of class A.\r\n","title":"Java Pass Method as Parameter","body":"<p>To pass a method reference from class A to class B and then call the passed method in class A from class B, you can use functional interfaces and lambda expressions in Java. Here's an example.</p>\n<p><strong>Class B</strong></p>\n<p>Define a functional interface in class B that matches the signature of the method you want to pass from class A. Let's call it MethodInterface:</p>\n<pre><code>public interface MethodInterface {\n    void methodName();\n}\n</code></pre>\n<p>Still in class B, create a method that takes an instance of MethodInterface as a parameter and calls the method reference:</p>\n<pre><code>public class B {\n    public void callMethod(MethodInterface method) {\n        method.methodName();\n    }\n}\n</code></pre>\n<p><strong>Class A</strong></p>\n<p>In class A, define the method you want to pass to class B. Make sure it matches the signature of the MethodInterface:</p>\n<pre><code>public class A {\n    public void methodToPass() {\n        System.out.println(&quot;Method called from class B&quot;);\n    }\n}\n</code></pre>\n<p>Still in class A, create an instance of class B and pass a method reference to methodToPass using a lambda expression:</p>\n<pre><code>public class A {\n    public void methodToPass() {\n        System.out.println(&quot;Method called from class B&quot;);\n    }\n\n    public static void main(String[] args) {\n        A objA = new A();\n        B objB = new B();\n\n        objB.callMethod(objA::methodToPass);\n    }\n}\n</code></pre>\n<p>In this example, <code>objA::methodToPass</code> is a method reference that refers to the <code>methodToPass</code> method in class A. It is passed to the <code>callMethod</code> method in class B, which then calls the method reference, resulting in the execution of <code>methodToPass</code> in class A.</p>\n<p>Note that the <code>::</code> operator is used to create a method reference. The syntax <code>objA::methodToPass</code> is equivalent to creating an anonymous inner class that implements the <code>MethodInterface</code> and calls <code>methodToPass</code> on the provided instance of class A.</p>\n"}],"owner":{"display_name":"Mac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542745,"favorite_count":0,"down_vote_count":1,"up_vote_count":401,"accepted_answer_id":2186993,"answer_count":18,"score":400,"last_activity_date":1691754761,"creation_date":1265138403,"question_id":2186931,"body_markdown":"I am looking for a way to pass a method by reference. I understand that Java does not pass methods as parameters, however, I would like to get an alternative. \r\n\r\nI&#39;ve been told interfaces are the alternative to passing methods as parameters but I don&#39;t understand how an interface can act as a method by reference. If I understand correctly an interface is simply an abstract set of methods that are not defined. I don&#39;t want to send an interface that needs to be defined every time because several different methods could call the same method with the same parameters.\r\n\r\nWhat I would like to accomplish is something similar to this:\r\n\r\n    public void setAllComponents(Component[] myComponentArray, Method myMethod) {\r\n        for (Component leaf : myComponentArray) {\r\n            if (leaf instanceof Container) { //recursive call if Container\r\n                Container node = (Container) leaf;\r\n                setAllComponents(node.getComponents(), myMethod);\r\n            } //end if node\r\n            myMethod(leaf);\r\n        } //end looping through components\r\n    }\r\n\r\ninvoked such as:\r\n\r\n    setAllComponents(this.getComponents(), changeColor());\r\n    setAllComponents(this.getComponents(), changeSize());","title":"Java Pass Method as Parameter","body":"<p>I am looking for a way to pass a method by reference. I understand that Java does not pass methods as parameters, however, I would like to get an alternative. </p>\n\n<p>I've been told interfaces are the alternative to passing methods as parameters but I don't understand how an interface can act as a method by reference. If I understand correctly an interface is simply an abstract set of methods that are not defined. I don't want to send an interface that needs to be defined every time because several different methods could call the same method with the same parameters.</p>\n\n<p>What I would like to accomplish is something similar to this:</p>\n\n<pre><code>public void setAllComponents(Component[] myComponentArray, Method myMethod) {\n    for (Component leaf : myComponentArray) {\n        if (leaf instanceof Container) { //recursive call if Container\n            Container node = (Container) leaf;\n            setAllComponents(node.getComponents(), myMethod);\n        } //end if node\n        myMethod(leaf);\n    } //end looping through components\n}\n</code></pre>\n\n<p>invoked such as:</p>\n\n<pre><code>setAllComponents(this.getComponents(), changeColor());\nsetAllComponents(this.getComponents(), changeSize());\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":16279114,"reputation":63,"user_id":11755579,"display_name":"Rohit"},"score":0,"creation_date":1581353138,"post_id":60153971,"comment_id":106395447,"body_markdown":"Thank for your response.No difference in SQL as hibernate generated SQL only am running in MySQL console and am not using any cache in my application and it is only skipping those records where my left join condition null.","body":"Thank for your response.No difference in SQL as hibernate generated SQL only am running in MySQL console and am not using any cache in my application and it is only skipping those records where my left join condition null."}],"tags":[],"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581350142,"creation_date":1581350142,"answer_id":60153971,"question_id":60153495,"body_markdown":"I would suggest enabling hibernate SQL output in your logging config:\r\n```\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\nhttps://www.baeldung.com/sql-logging-spring-boot\r\n\r\nThis way, you can compare the generated SQL and see if there is any logic difference.\r\n\r\nIf there is no logic discrepancy, the most likely explanation is that hibernate is caching the results. This can happen either at the session level, or in the second-level cache:\r\nhttps://www.javacodegeeks.com/2012/02/hibernate-cache-levels-tutorial.html\r\n\r\nIt&#39;s also possible that transaction isolation is a factor. Transaction isolation controls how the database shows SQL results based on changes made in other transactions:\r\nhttps://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/transaction-isolation-levels?view=sql-server-ver15\r\n\r\nIf you are querying for data immediately after persisting it, you might also need to force hibernate to flush the session:\r\nhttps://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing\r\n\r\n\r\n","title":"Different results fetching from DB in hibernate","body":"<p>I would suggest enabling hibernate SQL output in your logging config:</p>\n\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n\n<p><a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/sql-logging-spring-boot</a></p>\n\n<p>This way, you can compare the generated SQL and see if there is any logic difference.</p>\n\n<p>If there is no logic discrepancy, the most likely explanation is that hibernate is caching the results. This can happen either at the session level, or in the second-level cache:\n<a href=\"https://www.javacodegeeks.com/2012/02/hibernate-cache-levels-tutorial.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2012/02/hibernate-cache-levels-tutorial.html</a></p>\n\n<p>It's also possible that transaction isolation is a factor. Transaction isolation controls how the database shows SQL results based on changes made in other transactions:\n<a href=\"https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/transaction-isolation-levels?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/transaction-isolation-levels?view=sql-server-ver15</a></p>\n\n<p>If you are querying for data immediately after persisting it, you might also need to force hibernate to flush the session:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing</a></p>\n"},{"tags":[],"owner":{"account_id":17737217,"reputation":1,"user_id":12878374,"display_name":"Radulescu Mihai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691754503,"creation_date":1691754450,"answer_id":76883281,"question_id":60153495,"body_markdown":"I had a similar problem as you and where Hibernate was building the correct query, but there were some results missing compared with the SQL results.\r\nIn my case the problem was that the missing entries had the same id instead of having unique ids. The table didn`t have any constraint on, but the entity did had the [@Id][1]  witch requires that that the field to be unique.\r\n\r\nFixing the id solved the problem.\r\n\r\nTry to check the missing entries maybe you have a similar problem.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/Id.html","title":"Different results fetching from DB in hibernate","body":"<p>I had a similar problem as you and where Hibernate was building the correct query, but there were some results missing compared with the SQL results.\nIn my case the problem was that the missing entries had the same id instead of having unique ids. The table didn`t have any constraint on, but the entity did had the <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/Id.html\" rel=\"nofollow noreferrer\">@Id</a>  witch requires that that the field to be unique.</p>\n<p>Fixing the id solved the problem.</p>\n<p>Try to check the missing entries maybe you have a similar problem.</p>\n"}],"owner":{"account_id":16279114,"reputation":63,"user_id":11755579,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691754503,"creation_date":1581348465,"question_id":60153495,"body_markdown":"Am getting Different results fetching with query SQL vs hql.\r\nAm using Spring repo and hibernate like below. But if i run the same SQL generated by hibernate the am getting for ex 5 records but my list customActivationPlans1 contains 4 records.\r\nWhy there is a difference in same SQL generated by hibernate and HQL.\r\n\r\nAlso i notice this happens when my left join is null.\r\njoin fetch c.latestRun r left join fetch r.runStatuses s has not records in DB.\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n\tprivate PlanRun latestRun;\r\n\r\nList&lt;CustomActivationPlan&gt; customActivationPlans1 = customPlanRepository.findAllDataSetSelnsAndStatusByTenantId(RequestUtil.getSessionTenant(), dataSourceType);\r\n\r\n\r\n\t@Query(&quot;select DISTINCT c from CustomActivationPlan c join fetch c.dataSetSelections s left join fetch c.latestRun r left join fetch r.runStatuses s &quot;\r\n\t\t\t+ &quot;where c.tenantId =:tenantId and s.tenantId =:tenantId and c.dataSourceType = :dataSourceType&quot;)\r\n\tpublic List&lt;CustomActivationPlan&gt; findAllDataSetSelnsAndStatusByTenantId(@Param(&quot;tenantId&quot;) String tenantId, DataSourceType dataSourceType);\r\n","title":"Different results fetching from DB in hibernate","body":"<p>Am getting Different results fetching with query SQL vs hql.\nAm using Spring repo and hibernate like below. But if i run the same SQL generated by hibernate the am getting for ex 5 records but my list customActivationPlans1 contains 4 records.\nWhy there is a difference in same SQL generated by hibernate and HQL.</p>\n\n<p>Also i notice this happens when my left join is null.\njoin fetch c.latestRun r left join fetch r.runStatuses s has not records in DB.</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\nprivate PlanRun latestRun;\n</code></pre>\n\n<p>List customActivationPlans1 = customPlanRepository.findAllDataSetSelnsAndStatusByTenantId(RequestUtil.getSessionTenant(), dataSourceType);</p>\n\n<pre><code>@Query(\"select DISTINCT c from CustomActivationPlan c join fetch c.dataSetSelections s left join fetch c.latestRun r left join fetch r.runStatuses s \"\n        + \"where c.tenantId =:tenantId and s.tenantId =:tenantId and c.dataSourceType = :dataSourceType\")\npublic List&lt;CustomActivationPlan&gt; findAllDataSetSelnsAndStatusByTenantId(@Param(\"tenantId\") String tenantId, DataSourceType dataSourceType);\n</code></pre>\n"},{"tags":["java","arrays","spring","object"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691753812,"post_id":76882463,"comment_id":135537870,"body_markdown":"Your array definition is not valid Java. If you have nested arrays, you can add an inner loop inside your outer loop","body":"Your array definition is not valid Java. If you have nested arrays, you can add an inner loop inside your outer loop"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691754538,"post_id":76882463,"comment_id":135538003,"body_markdown":"Your &quot;array&quot; looks like JSON. Is it?","body":"Your &quot;array&quot; looks like JSON. Is it?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691756998,"post_id":76882463,"comment_id":135538464,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":29205294,"reputation":3,"user_id":22374520,"display_name":"Akhilesh Dhiman"},"score":0,"creation_date":1691749334,"post_id":76882613,"comment_id":135536960,"body_markdown":"Looks I&#39;m already having this type of value   [[{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F}]]\n   please help me iterate this value","body":"Looks I&#39;m already having this type of value   [[{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F}]]    please help me iterate this value"},{"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"score":0,"creation_date":1691750217,"post_id":76882613,"comment_id":135537122,"body_markdown":"Already edited will see if everything is correct","body":"Already edited will see if everything is correct"}],"tags":[],"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691750143,"creation_date":1691748906,"answer_id":76882613,"question_id":76882463,"body_markdown":"First, let&#39;s define the array you provided:\r\n\r\n\r\n        Map&lt;String, Integer&gt; firstMap = new HashMap&lt;&gt;();\r\n        firstMap.put(&quot;a&quot;, 1);\r\n        firstMap.put(&quot;b&quot;, 1);\r\n\r\n        Map&lt;String, Integer&gt; secondMap = new HashMap&lt;&gt;();\r\n        secondMap.put(&quot;c&quot;, 1);\r\n        secondMap.put(&quot;d&quot;, 2);\r\n\r\n        Object[][] arr = new Object[][]{\r\n                {firstMap},\r\n                {secondMap}\r\n        };\r\nNow, let&#39;s use Java streams to iterate over the nested arrays:\r\n\r\n        Arrays.stream(arr)\r\n                .flatMap(Arrays::stream)\r\n                .filter(Map.class::isInstance)\r\n                .forEach(obj -&gt; {\r\n                    Map&lt;String, Integer&gt; map = (Map&lt;String, Integer&gt;) obj;\r\n                    map.forEach((key, value) -&gt; System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value));\r\n                });\r\n\r\n\r\nEdited according to your data\r\n\r\n        Map&lt;?, ?&gt;[][] arr = new Map[][]{\r\n                {new HashMap&lt;String, Object&gt;() {{\r\n                    put(&quot;agentId&quot;, 640214009700L);\r\n                    put(&quot;agentMaster&quot;, &quot;F&quot;);\r\n                }}},\r\n                {new HashMap&lt;String, Object&gt;() {{\r\n                    put(&quot;agentId&quot;, 640018009503L);\r\n                    put(&quot;partnerId&quot;, &quot;BLS&quot;);\r\n                    put(&quot;agentMaster&quot;, &quot;F&quot;);\r\n                    put(&quot;aepsStatus&quot;, &quot;F&quot;);\r\n                }}},\r\n                {new HashMap&lt;String, Object&gt;() {{\r\n                    put(&quot;agentId&quot;, 640018009503L);\r\n                    put(&quot;partnerId&quot;, &quot;BLS&quot;);\r\n                    put(&quot;agentMaster&quot;, &quot;F&quot;);\r\n                }}}\r\n        };\r\n\r\n        Arrays.stream(arr)\r\n                .flatMap(Arrays::stream)\r\n                .filter(Objects::nonNull)\r\n                .forEach(obj -&gt; {\r\n                    obj.forEach((key, value) -&gt; System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value));\r\n                });\r\n    }","title":"How to iterate array object having multiple array in it?","body":"<p>First, let's define the array you provided:</p>\n<pre><code>    Map&lt;String, Integer&gt; firstMap = new HashMap&lt;&gt;();\n    firstMap.put(&quot;a&quot;, 1);\n    firstMap.put(&quot;b&quot;, 1);\n\n    Map&lt;String, Integer&gt; secondMap = new HashMap&lt;&gt;();\n    secondMap.put(&quot;c&quot;, 1);\n    secondMap.put(&quot;d&quot;, 2);\n\n    Object[][] arr = new Object[][]{\n            {firstMap},\n            {secondMap}\n    };\n</code></pre>\n<p>Now, let's use Java streams to iterate over the nested arrays:</p>\n<pre><code>    Arrays.stream(arr)\n            .flatMap(Arrays::stream)\n            .filter(Map.class::isInstance)\n            .forEach(obj -&gt; {\n                Map&lt;String, Integer&gt; map = (Map&lt;String, Integer&gt;) obj;\n                map.forEach((key, value) -&gt; System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value));\n            });\n</code></pre>\n<p>Edited according to your data</p>\n<pre><code>    Map&lt;?, ?&gt;[][] arr = new Map[][]{\n            {new HashMap&lt;String, Object&gt;() {{\n                put(&quot;agentId&quot;, 640214009700L);\n                put(&quot;agentMaster&quot;, &quot;F&quot;);\n            }}},\n            {new HashMap&lt;String, Object&gt;() {{\n                put(&quot;agentId&quot;, 640018009503L);\n                put(&quot;partnerId&quot;, &quot;BLS&quot;);\n                put(&quot;agentMaster&quot;, &quot;F&quot;);\n                put(&quot;aepsStatus&quot;, &quot;F&quot;);\n            }}},\n            {new HashMap&lt;String, Object&gt;() {{\n                put(&quot;agentId&quot;, 640018009503L);\n                put(&quot;partnerId&quot;, &quot;BLS&quot;);\n                put(&quot;agentMaster&quot;, &quot;F&quot;);\n            }}}\n    };\n\n    Arrays.stream(arr)\n            .flatMap(Arrays::stream)\n            .filter(Objects::nonNull)\n            .forEach(obj -&gt; {\n                obj.forEach((key, value) -&gt; System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value));\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":29205294,"reputation":3,"user_id":22374520,"display_name":"Akhilesh Dhiman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76882613,"answer_count":1,"score":-2,"last_activity_date":1691754499,"creation_date":1691747714,"question_id":76882463,"body_markdown":"I&#39;ve this type of array : \r\n\r\n[[{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F}]] \r\n\r\n\r\n\r\n\r\nStep 1: using for each loop to iterate the array\r\n\r\nfor (Object obj : arr) {\r\n\r\nSystem.out.println(&quot;obj- &quot; + obj); // this will iterate the loop  and able to get the all array one one, but I&#39;m unable to fetch or iterate this array  -  [{a=1,b=1}]\r\n\r\n}\r\n\r\n\r\n// [{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}]\r\n// [{agentId=640018009503, partnerId=BLS, agentMaster=F}]\r\n\r\nStep 2: I&#39;m able to get the array one by one but after that I&#39;m not able to get the value or iterate the array inside it.\r\n\r\n\r\n\r\nPlease help me out. I&#39;ve been trying for past 2 days.\r\n\r\n\r\n\r\n\r\n","title":"How to iterate array object having multiple array in it?","body":"<p>I've this type of array :</p>\n<p>[[{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F}]]</p>\n<p>Step 1: using for each loop to iterate the array</p>\n<p>for (Object obj : arr) {</p>\n<p>System.out.println(&quot;obj- &quot; + obj); // this will iterate the loop  and able to get the all array one one, but I'm unable to fetch or iterate this array  -  [{a=1,b=1}]</p>\n<p>}</p>\n<p>// [{agentId=640214009700, agentMaster=F}],[{agentId=640018009503, partnerId=BLS, agentMaster=F, aepsStatus=F}]\n// [{agentId=640018009503, partnerId=BLS, agentMaster=F}]</p>\n<p>Step 2: I'm able to get the array one by one but after that I'm not able to get the value or iterate the array inside it.</p>\n<p>Please help me out. I've been trying for past 2 days.</p>\n"},{"tags":["java","docker","powershell","azure-devops","azure-pipelines"],"comments":[{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":0,"creation_date":1691753637,"post_id":76883134,"comment_id":135537817,"body_markdown":"Powershell isn&#39;t included anymore in the nanoserver according [to Microsoft](https://learn.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/container-base-images#windows-server-core-vs-nanoserver).\n\nHence, you&#39;d have to install it into the container.\nhttps://stackoverflow.com/a/65105080/6336357","body":"Powershell isn&#39;t included anymore in the nanoserver according <a href=\"https://learn.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/container-base-images#windows-server-core-vs-nanoserver\" rel=\"nofollow noreferrer\">to Microsoft</a>.  Hence, you&#39;d have to install it into the container. <a href=\"https://stackoverflow.com/a/65105080/6336357\">stackoverflow.com/a/65105080/6336357</a>"},{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":0,"creation_date":1691753657,"post_id":76883134,"comment_id":135537820,"body_markdown":"Does this answer your question? [How to install Powershell Core in aspnet Nanoserver docker container?](https://stackoverflow.com/questions/65104246/how-to-install-powershell-core-in-aspnet-nanoserver-docker-container)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65104246/how-to-install-powershell-core-in-aspnet-nanoserver-docker-container\">How to install Powershell Core in aspnet Nanoserver docker container?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"score":0,"creation_date":1691763898,"post_id":76883183,"comment_id":135540048,"body_markdown":"It solved powershell issue, my goal to install openjdk-17 on windows container, for some reason powershell script is failing with some odd error `encountered an error during hcs::System::CreateProcess: failure in a Windows system call: The system cannot find the file specified. (0x2)` , even I had a same issue while trying install chocolatey.  Any documentation or sample dockerfile to install OpenJDK on windows container. ?","body":"It solved powershell issue, my goal to install openjdk-17 on windows container, for some reason powershell script is failing with some odd error <code>encountered an error during hcs::System::CreateProcess: failure in a Windows system call: The system cannot find the file specified. (0x2)</code> , even I had a same issue while trying install chocolatey.  Any documentation or sample dockerfile to install OpenJDK on windows container. ?"},{"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"score":0,"creation_date":1691764008,"post_id":76883183,"comment_id":135540065,"body_markdown":"This is my RUN command, `RUN powershell Invoke-WebRequest -Uri https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.8%2B7/OpenJDK17U-jdk_x86-32_windows_hotspot_17.0.8_7.msi -OutFile C:\\Temp\\openjdk17.msi`","body":"This is my RUN command, <code>RUN powershell Invoke-WebRequest -Uri https:&#47;&#47;github.com&#47;adoptium&#47;temurin17-binaries&#47;releases&#47;down&zwnj;&#8203;load&#47;jdk-17.0.8%2B7&#47;&zwnj;&#8203;OpenJDK17U-jdk_x86-3&zwnj;&#8203;2_windows_hotspot_17&zwnj;&#8203;.0.8_7.msi -OutFile C:\\Temp\\openjdk17.msi</code>"},{"owner":{"account_id":381431,"reputation":108711,"user_id":736079,"accept_rate":96,"display_name":"jessehouwing"},"score":0,"creation_date":1691770361,"post_id":76883183,"comment_id":135541382,"body_markdown":"Nanoserver doesn&#39;t support Windows Intaller, only APPX and WSA based installers. But you should be able to get the `.zip`, extract that and add the correct location to the `PATH` .","body":"Nanoserver doesn&#39;t support Windows Intaller, only APPX and WSA based installers. But you should be able to get the <code>.zip</code>, extract that and add the correct location to the <code>PATH</code> ."},{"owner":{"account_id":381431,"reputation":108711,"user_id":736079,"accept_rate":96,"display_name":"jessehouwing"},"score":0,"creation_date":1691770430,"post_id":76883183,"comment_id":135541396,"body_markdown":"Nanoserver is **VERY** barebones.","body":"Nanoserver is <b>VERY</b> barebones."}],"tags":[],"owner":{"account_id":381431,"reputation":108711,"user_id":736079,"accept_rate":96,"display_name":"jessehouwing"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691753678,"creation_date":1691753678,"answer_id":76883183,"question_id":76883134,"body_markdown":"Nanoserver doesn&#39;t include powershell by default (leaving out many bits is what makes it so small).\r\n\r\nYou could use a different base image:\r\n\r\n```\r\nFROM mcr.microsoft.com/powershell:lts-nanoserver-ltsc2022\r\n```\r\n\r\nSee:\r\n \r\n * https://hub.docker.com/_/microsoft-powershell","title":"Unable to &quot;Run powershell &quot; command via Dockerfile and build through Azure DevOps pipeline","body":"<p>Nanoserver doesn't include powershell by default (leaving out many bits is what makes it so small).</p>\n<p>You could use a different base image:</p>\n<pre><code>FROM mcr.microsoft.com/powershell:lts-nanoserver-ltsc2022\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://hub.docker.com/_/microsoft-powershell\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/microsoft-powershell</a></li>\n</ul>\n"}],"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76883183,"answer_count":1,"score":1,"last_activity_date":1691753678,"creation_date":1691753259,"question_id":76883134,"body_markdown":"I am trying to build docker image through Azure DevOps Pipeline (Agent: Windows-latest), here is the Dockerfile.\r\n\r\n    FROM mcr.microsoft.com/windows/nanoserver:ltsc2022\r\n\r\n    WORKDIR C:/app\r\n\r\n    RUN powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&quot;&amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y\r\n    RUN choco install temurin17jre -Y\r\n    RUN refreshenv\r\n\r\n    ENTRYPOINT [&quot;Cmd&quot;]\r\n\r\nThe pipeline is failing with below error, not sure what went wrong can someone please help me,\r\n\r\n    Step 7/21 : RUN powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&quot;&amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y\r\n    ---&gt; Running in e6831658776c\r\n    &#39;powershell&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    The command &#39;cmd /S /C powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New- Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&quot;&amp;&amp; SET \r\n    &quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y&#39; returned a non-zero code: 1\r\n    ##[error]The process &#39;C:\\Windows\\system32\\docker.exe&#39; failed with exit code 1\r\n","title":"Unable to &quot;Run powershell &quot; command via Dockerfile and build through Azure DevOps pipeline","body":"<p>I am trying to build docker image through Azure DevOps Pipeline (Agent: Windows-latest), here is the Dockerfile.</p>\n<pre><code>FROM mcr.microsoft.com/windows/nanoserver:ltsc2022\n\nWORKDIR C:/app\n\nRUN powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot;&amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y\nRUN choco install temurin17jre -Y\nRUN refreshenv\n\nENTRYPOINT [&quot;Cmd&quot;]\n</code></pre>\n<p>The pipeline is failing with below error, not sure what went wrong can someone please help me,</p>\n<pre><code>Step 7/21 : RUN powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot;&amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y\n---&gt; Running in e6831658776c\n'powershell' is not recognized as an internal or external command,\noperable program or batch file.\nThe command 'cmd /S /C powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New- Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot;&amp;&amp; SET \n&quot;PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin&quot; -Y' returned a non-zero code: 1\n##[error]The process 'C:\\Windows\\system32\\docker.exe' failed with exit code 1\n</code></pre>\n"},{"tags":["java","spring","rest","spring-webflux"],"comments":[{"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"score":2,"creation_date":1691755573,"post_id":76882911,"comment_id":135538213,"body_markdown":"dont think try/catch will work here. You need to do something with onXXXError in your reactive chain. If you want for example catch your exception and show message to gui or whatever it is you propably need some reactive custom exception handler that can do that.","body":"dont think try/catch will work here. You need to do something with onXXXError in your reactive chain. If you want for example catch your exception and show message to gui or whatever it is you propably need some reactive custom exception handler that can do that."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1691764366,"post_id":76882911,"comment_id":135540143,"body_markdown":"you cannot catch it here because it&#39;s outside of the scope. reactor runs processing in a different thread","body":"you cannot catch it here because it&#39;s outside of the scope. reactor runs processing in a different thread"}],"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691753073,"creation_date":1691751378,"question_id":76882911,"body_markdown":"I&#39;m establishing connection to external microservice with Spring&#39;s Reactive WebClient. In the scenario planned, this microservice could be totally unaccessible or refuse connections. \r\n\r\n**The goal is:** I want to handle connection errors by raising appropriate exception and handling it then. The code in general just makes external HTTP URL call and writes the result in Mono&lt;String&gt; variable\r\n\r\n**The problem is:** I&#39;m unable to catch errors, when it comes. Execution flow never reaches the catch block. Please, help me to understand what I did wrong.\r\n\r\nThe part of my code is:\r\n```\r\nMono&lt;String&gt; result;\r\ntry {\r\n    result = webClient.get()\r\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/users/validate&quot;)\r\n                    .queryParam(&quot;token&quot;, authHeaderSearch)\r\n                    .build())\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .onErrorResume(Exception.class, throwable -&gt; Mono.error(new CantValidateTokenException(&quot;&quot;)))\r\n    ;\r\n\r\n    result\r\n        .onErrorResume(Exception.class, throwable -&gt; Mono.error(new CantValidateTokenException(&quot;&quot;)))\r\n        .subscribe(e -&gt; log.info(&quot;Token check result is: &quot; + e))\r\n    ;\r\n\r\n} catch (Exception e) {\r\n //some code there\r\n}\r\n\r\n```\r\nThe full code is here:\r\nhttps://pastecode.io/s/9fceicf1\r\n\r\nThe exceptions i&#39;m getting:\r\n\r\n```\r\nio.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /[0:0:0:0:0:0:0:1]:80\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\nAnd my custom exception is raised too, but I can&#39;t catch it\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.decode.msapp.apigw.exceptions.CantValidateTokenException: \r\nCaused by: com.decode.msapp.apigw.exceptions.CantValidateTokenException: \r\n\tat com.decode.msapp.apigw.config.AuthFilter.lambda$apply$2(AuthFilter.java:67) ~\r\n```","title":"Spring WebFlux WebClient: can&#39;t catch exception","body":"<p>I'm establishing connection to external microservice with Spring's Reactive WebClient. In the scenario planned, this microservice could be totally unaccessible or refuse connections.</p>\n<p><strong>The goal is:</strong> I want to handle connection errors by raising appropriate exception and handling it then. The code in general just makes external HTTP URL call and writes the result in Mono variable</p>\n<p><strong>The problem is:</strong> I'm unable to catch errors, when it comes. Execution flow never reaches the catch block. Please, help me to understand what I did wrong.</p>\n<p>The part of my code is:</p>\n<pre><code>Mono&lt;String&gt; result;\ntry {\n    result = webClient.get()\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/users/validate&quot;)\n                    .queryParam(&quot;token&quot;, authHeaderSearch)\n                    .build())\n            .retrieve()\n            .bodyToMono(String.class)\n            .onErrorResume(Exception.class, throwable -&gt; Mono.error(new CantValidateTokenException(&quot;&quot;)))\n    ;\n\n    result\n        .onErrorResume(Exception.class, throwable -&gt; Mono.error(new CantValidateTokenException(&quot;&quot;)))\n        .subscribe(e -&gt; log.info(&quot;Token check result is: &quot; + e))\n    ;\n\n} catch (Exception e) {\n //some code there\n}\n\n</code></pre>\n<p>The full code is here:\n<a href=\"https://pastecode.io/s/9fceicf1\" rel=\"nofollow noreferrer\">https://pastecode.io/s/9fceicf1</a></p>\n<p>The exceptions i'm getting:</p>\n<pre><code>io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /[0:0:0:0:0:0:0:1]:80\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n<p>And my custom exception is raised too, but I can't catch it</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: com.decode.msapp.apigw.exceptions.CantValidateTokenException: \nCaused by: com.decode.msapp.apigw.exceptions.CantValidateTokenException: \n    at com.decode.msapp.apigw.config.AuthFilter.lambda$apply$2(AuthFilter.java:67) ~\n</code></pre>\n"},{"tags":["java","spring-data-jpa","one-to-one","batching"],"answers":[{"comments":[{"owner":{"account_id":14354372,"reputation":13,"user_id":10368764,"display_name":"Matan Shukry"},"score":0,"creation_date":1691747087,"post_id":76882174,"comment_id":135536538,"body_markdown":"Karsten - I forgot to write the property in my question; I edited and add it.\nDo note the `name` in the JoinColumn annotation is the one on the User, because of the OneToOne annotation. See the documentation on JoinColumn for more information.\n\nBut to clarify, that exists and the issue is still there.","body":"Karsten - I forgot to write the property in my question; I edited and add it. Do note the <code>name</code> in the JoinColumn annotation is the one on the User, because of the OneToOne annotation. See the documentation on JoinColumn for more information.  But to clarify, that exists and the issue is still there."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1691752551,"post_id":76882174,"comment_id":135537590,"body_markdown":"@MatanShukry I finally got it working. Not as simple as i thought ... and a bit ugly. OneToMany work much better.","body":"@MatanShukry I finally got it working. Not as simple as i thought ... and a bit ugly. OneToMany work much better."},{"owner":{"account_id":14354372,"reputation":13,"user_id":10368764,"display_name":"Matan Shukry"},"score":0,"creation_date":1691758914,"post_id":76882174,"comment_id":135538883,"body_markdown":"awesome, that worked. Thank you!\n\nFyi, I have a followup issue: https://stackoverflow.com/questions/76883761/spring-5-data-jpa-onetoone-on-a-specific-literal-property","body":"awesome, that worked. Thank you!  Fyi, I have a followup issue: <a href=\"https://stackoverflow.com/questions/76883761/spring-5-data-jpa-onetoone-on-a-specific-literal-property\" title=\"spring 5 data jpa onetoone on a specific literal property\">stackoverflow.com/questions/76883761/&hellip;</a>"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1691759636,"post_id":76882174,"comment_id":135539056,"body_markdown":"HQL insert might be more elegant.","body":"HQL insert might be more elegant."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691752923,"creation_date":1691745328,"answer_id":76882174,"question_id":76881823,"body_markdown":"I finally got it working. Since you have two tables you will need at least two inserts.\r\nAnother option is to embed the user details (@Embeddable instead of @Entity on UserDetails and some other changes) but this requires the columns in the user-table. Then you have only one table and can go with a single insert.\r\n\r\n```\r\npublic class User {\r\n    ...\r\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    @PrimaryKeyJoinColumn\r\n    private UserDetails details;\r\n\r\n    public User(String name)\r\n    {\r\n        userDetails = new UserDetails(this);\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nwith UserDetails:\r\n\r\n```\r\npublic class UserDetails {\r\n   @Id\r\n   @Column(name = &quot;user_id&quot;)\r\n   private String userId;\r\n\r\n   @OneToOne\r\n   @MapsId\r\n   @JoinColumn(name = &quot;user_id&quot;)\r\n   private User user;\r\n\r\n   public UserDetails(User user)\r\n   {\r\n       this.user = user;\r\n   }\r\n}\r\n```\r\n\r\nNow if you create a user the details are automatically created too and will be persisted to the database along with the user.","title":"Spring 5 Data Jpa - OneToOne, new entity, a single insert operation","body":"<p>I finally got it working. Since you have two tables you will need at least two inserts.\nAnother option is to embed the user details (@Embeddable instead of @Entity on UserDetails and some other changes) but this requires the columns in the user-table. Then you have only one table and can go with a single insert.</p>\n<pre><code>public class User {\n    ...\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private UserDetails details;\n\n    public User(String name)\n    {\n        userDetails = new UserDetails(this);\n        this.name = name;\n    }\n}\n</code></pre>\n<p>with UserDetails:</p>\n<pre><code>public class UserDetails {\n   @Id\n   @Column(name = &quot;user_id&quot;)\n   private String userId;\n\n   @OneToOne\n   @MapsId\n   @JoinColumn(name = &quot;user_id&quot;)\n   private User user;\n\n   public UserDetails(User user)\n   {\n       this.user = user;\n   }\n}\n</code></pre>\n<p>Now if you create a user the details are automatically created too and will be persisted to the database along with the user.</p>\n"}],"owner":{"account_id":14354372,"reputation":13,"user_id":10368764,"display_name":"Matan Shukry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76882174,"answer_count":1,"score":0,"last_activity_date":1691752923,"creation_date":1691742176,"question_id":76881823,"body_markdown":"I have table User entity/table with id as primary key / string / uuid generated value.\r\nI also have UserDetails entity/table with userId as primary key / string / foreign key to user.id. Note that in the UserDetails java entity I don&#39;t need the User entity, but user_id is enough.\r\n\r\nI&#39;m trying to define the entities in a way that inserting new User entity will also create a new UserDetails row, with the same id.\r\n\r\nAny ideas how to implement this?\r\n\r\n\r\nTo clarify, what I want can be achieved in sql by doing this:\r\n```\r\nBEGIN\r\n\r\nINSERT INTO user (id, name) VALUES (&#39;auto-generated-uuid-31212&#39;, &#39;Bobby&#39;);\r\nINSERT INTO user_details (user_id) VALUES (&#39;auto-generated-uuid-31212&#39;);\r\n\r\nCOMMIT\r\n```\r\n\r\nMy last attempt was to have 2 columns on UserDetails - String userId with @Id (no other mapping), and User user with OneToOne/JoinColumn(name=&quot;userId&quot;)/MapsId annotations.\r\n\r\nHowever it seems like spring/hibernate attempts to then save the UserDetails info first rather than together with the User, and I end up getting foreign key constraint fails on the foreign key constraint.\r\n\r\nQuick code:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private String id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @NotNull\r\n    @Builder.Default\r\n    private UserDetails userDetails = new UserDetails();\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\n@Entity\r\npublic class UserDetails {\r\n    @Id\r\n    private String userId;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    @MapsId\r\n    private User user;\r\n}\r\n```\r\n\r\nEdit: I forgot to add the UserDetails property on the User to this question.","title":"Spring 5 Data Jpa - OneToOne, new entity, a single insert operation","body":"<p>I have table User entity/table with id as primary key / string / uuid generated value.\nI also have UserDetails entity/table with userId as primary key / string / foreign key to user.id. Note that in the UserDetails java entity I don't need the User entity, but user_id is enough.</p>\n<p>I'm trying to define the entities in a way that inserting new User entity will also create a new UserDetails row, with the same id.</p>\n<p>Any ideas how to implement this?</p>\n<p>To clarify, what I want can be achieved in sql by doing this:</p>\n<pre><code>BEGIN\n\nINSERT INTO user (id, name) VALUES ('auto-generated-uuid-31212', 'Bobby');\nINSERT INTO user_details (user_id) VALUES ('auto-generated-uuid-31212');\n\nCOMMIT\n</code></pre>\n<p>My last attempt was to have 2 columns on UserDetails - String userId with @Id (no other mapping), and User user with OneToOne/JoinColumn(name=&quot;userId&quot;)/MapsId annotations.</p>\n<p>However it seems like spring/hibernate attempts to then save the UserDetails info first rather than together with the User, and I end up getting foreign key constraint fails on the foreign key constraint.</p>\n<p>Quick code:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@Entity\npublic class User {\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private String id;\n\n    @Column\n    private String name;\n\n    @JoinColumn(name = &quot;id&quot;)\n    @OneToOne(cascade = CascadeType.ALL)\n    @NotNull\n    @Builder.Default\n    private UserDetails userDetails = new UserDetails();\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@Entity\npublic class UserDetails {\n    @Id\n    private String userId;\n\n    @OneToOne\n    @JoinColumn(name = &quot;userId&quot;)\n    @MapsId\n    private User user;\n}\n</code></pre>\n<p>Edit: I forgot to add the UserDetails property on the User to this question.</p>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"score":1,"creation_date":1619938450,"post_id":67353691,"comment_id":119050677,"body_markdown":"if you want to sort your student objects, the student class must implement the interface compareable: https://www.baeldung.com/java-comparator-comparable","body":"if you want to sort your student objects, the student class must implement the interface compareable: <a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">baeldung.com/java-comparator-comparable</a>"}],"answers":[{"tags":[],"owner":{"account_id":7618818,"reputation":731,"user_id":5777388,"display_name":"Vicky Ajmera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619945739,"creation_date":1619943796,"answer_id":67354308,"question_id":67353691,"body_markdown":"At the place, where you&#39;re trying to sort the students, based on your sorting need, you can provide a comparator in the following way:\r\n\r\nUpdate the line which contains `.sorted()` to,\r\n\r\nIf you want to sort Students based on Name,\r\n\r\n    .sorted(Comparator.comparing(Student::getName))\r\n    \r\nor\r\n\r\n    .sorted((s1, s2) -&gt; s1.getName().compareTo(s2.getName()))\r\n\r\nIf you want to sort Students based on Marks,\r\n\r\n    .sorted(Comparator.comparing(Student::getMarks))\r\nor\r\n\r\n    .sorted((s1, s2) -&gt; Float.compare(s1.getMarks(), s2.getMarks()))\r\n\r\nIf you want to descending sorting on Student&#39;s Marks,\r\n\r\n    .sorted(Comparator.comparing(Student::getMarks).reversed())","title":"Getting java.lang.ClassCastException: class lambda.Student cannot be cast to class java.lang.Comparable while using FlatMap","body":"<p>At the place, where you're trying to sort the students, based on your sorting need, you can provide a comparator in the following way:</p>\n<p>Update the line which contains <code>.sorted()</code> to,</p>\n<p>If you want to sort Students based on Name,</p>\n<pre><code>.sorted(Comparator.comparing(Student::getName))\n</code></pre>\n<p>or</p>\n<pre><code>.sorted((s1, s2) -&gt; s1.getName().compareTo(s2.getName()))\n</code></pre>\n<p>If you want to sort Students based on Marks,</p>\n<pre><code>.sorted(Comparator.comparing(Student::getMarks))\n</code></pre>\n<p>or</p>\n<pre><code>.sorted((s1, s2) -&gt; Float.compare(s1.getMarks(), s2.getMarks()))\n</code></pre>\n<p>If you want to descending sorting on Student's Marks,</p>\n<pre><code>.sorted(Comparator.comparing(Student::getMarks).reversed())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23315957,"reputation":11,"user_id":17394589,"display_name":"katarina bosnjak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691752782,"creation_date":1691752782,"answer_id":76883089,"question_id":67353691,"body_markdown":"sorted() method doc: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\r\n\r\nIt says that when an element is not Comparable that ClassCastException exception will be thrown.\r\n\r\nYou need to either make Student implement Comparable interface and implement method compareTo like this \r\n\r\n```\r\nclass Student implements Comparable&lt;Student&gt;{\r\n\r\n    String name;\r\n    float marks;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public float getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public void setMarks(float marks) {\r\n        this.marks = marks;\r\n    }\r\n\r\n    public Student(String name, float marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Student o) {\r\n        var cmp = Float.compare(this.marks, o.marks);\r\n\r\n        if(cmp != 0) return cmp;\r\n        //TODO add this.name == null logic depending on needs\r\n        return this.name.compareTo(o.name);\r\n\r\n        //OR a one liner\r\n        //return Comparator.comparing(Student::getMarks).thenComparing(Student::getName).compare(this, o);\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou can add any logic for comparing based on your needs. The convention is if this is &gt; than o then compareTo returns integer &gt; than 0, if they are equal 0 is returned, and if this is &lt; than 0 , negative integer is returned. (\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n)\r\n\r\nOr you can call sorted with comparator argument \r\n```Comparator.comparing(Student::getMarks).thenComparing(Student::getName)```\r\n(once again you can put some other logic in here)","title":"Getting java.lang.ClassCastException: class lambda.Student cannot be cast to class java.lang.Comparable while using FlatMap","body":"<p>sorted() method doc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--</a></p>\n<p>It says that when an element is not Comparable that ClassCastException exception will be thrown.</p>\n<p>You need to either make Student implement Comparable interface and implement method compareTo like this</p>\n<pre><code>class Student implements Comparable&lt;Student&gt;{\n\n    String name;\n    float marks;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public float getMarks() {\n        return marks;\n    }\n\n    public void setMarks(float marks) {\n        this.marks = marks;\n    }\n\n    public Student(String name, float marks) {\n        this.name = name;\n        this.marks = marks;\n    }\n\n    @Override\n    public int compareTo(Student o) {\n        var cmp = Float.compare(this.marks, o.marks);\n\n        if(cmp != 0) return cmp;\n        //TODO add this.name == null logic depending on needs\n        return this.name.compareTo(o.name);\n\n        //OR a one liner\n        //return Comparator.comparing(Student::getMarks).thenComparing(Student::getName).compare(this, o);\n    }\n}\n\n</code></pre>\n<p>You can add any logic for comparing based on your needs. The convention is if this is &gt; than o then compareTo returns integer &gt; than 0, if they are equal 0 is returned, and if this is &lt; than 0 , negative integer is returned. (\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html</a>\n)</p>\n<p>Or you can call sorted with comparator argument\n<code>Comparator.comparing(Student::getMarks).thenComparing(Student::getName)</code>\n(once again you can put some other logic in here)</p>\n"}],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691752782,"creation_date":1619938088,"question_id":67353691,"body_markdown":"Getting java.lang.ClassCastException when stream.filter returns multiple resullts\r\n\r\n    package lambda;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class LambdaDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Student&gt; stList = new LinkedList&lt;Student&gt;();\r\n    \t\tstList.add(new Student(&quot;Ankit&quot;, 22));\r\n    \t\tstList.add(new Student(&quot;Soham&quot;, 32));\r\n    \t\tstList.add(new Student(&quot;Nitin&quot;, 42));\r\n    \t\tstList.add(new Student(&quot;Xoxo&quot;, 55));\r\n    \t\tstList.add(new Student(&quot;Chetan&quot;, 62));\r\n    \r\n    \t\tDepartment scrDept = new Department(&quot;Science&quot;);\r\n    \t\tscrDept.getStList().add(new Student(&quot;Ankit&quot;, 22));\r\n    \t\tscrDept.getStList().add(new Student(&quot;Soham&quot;, 52));\r\n    \r\n    \t\tDepartment artDept = new Department(&quot;Arts&quot;);\r\n    \t\tartDept.getStList().add(new Student(&quot;Xoxo&quot;, 42));\r\n    \t\tartDept.getStList().add(new Student(&quot;Chetan&quot;, 92));\r\n    \r\n    \t\tList&lt;Department&gt; deptList = new ArrayList&lt;Department&gt;();\r\n    \t\tdeptList.add(scrDept);\r\n    \t\tdeptList.add(artDept);\r\n    \r\n    \t\tdeptList.stream().flatMap(dept -&gt; dept.getStList().stream())\r\n    \t\t\t\t.forEach(employee -&gt; System.out.println(employee.getName()));\r\n    \r\n    \t\tList&lt;Student&gt; orderedPassedStd = deptList.stream().flatMap(dept -&gt; dept.getStList().stream())\r\n    \t\t\t\t.filter(student -&gt; student.getName().length() &gt;= 4).sorted().collect(Collectors.toList());\r\n    \r\n    \t\tfor (Student std : orderedPassedStd) {\r\n    \t\t\tSystem.out.println(std.getName() + &quot;  ---------  &quot; + std.getMarks());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Department {\r\n    \tString deptName;\r\n    \tList&lt;Student&gt; stList = new ArrayList&lt;Student&gt;();\r\n    \r\n    \tpublic Department(String deptName) {\r\n    \t\tthis.deptName = deptName;\r\n    \t}\r\n    \r\n    \tpublic Department(String deptName, List&lt;Student&gt; stList) {\r\n    \t\tthis.deptName = deptName;\r\n    \t\tthis.stList = stList;\r\n    \t}\r\n    \r\n    \tpublic String getDeptName() {\r\n    \t\treturn deptName;\r\n    \t}\r\n    \r\n    \tpublic void setDeptName(String deptName) {\r\n    \t\tthis.deptName = deptName;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Student&gt; getStList() {\r\n    \t\treturn stList;\r\n    \t}\r\n    \r\n    \tpublic void setStList(List&lt;Student&gt; stList) {\r\n    \t\tthis.stList = stList;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Student {\r\n    \r\n    \tString name;\r\n    \tfloat marks;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic float getMarks() {\r\n    \t\treturn marks;\r\n    \t}\r\n    \r\n    \tpublic void setMarks(float marks) {\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \r\n    \tpublic Student(String name, float marks) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&gt; Output : Ankit\r\nSoham\r\nXoxo\r\nChetan\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class lambda.Student cannot be cast to class java.lang.Comparable (lambda.Student is in module javaMasterClass of loader &#39;app&#39;; java.lang.Comparable is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/java.util.Comparators$NaturalOrderComparator.compare(Comparators.java:47)\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n\tat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat javaMasterClass/lambda.LambdaDemo.main(LambdaDemo.java:34)\r\n","title":"Getting java.lang.ClassCastException: class lambda.Student cannot be cast to class java.lang.Comparable while using FlatMap","body":"<p>Getting java.lang.ClassCastException when stream.filter returns multiple resullts</p>\n<pre><code>package lambda;\n\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class LambdaDemo {\n\n    public static void main(String[] args) {\n        List&lt;Student&gt; stList = new LinkedList&lt;Student&gt;();\n        stList.add(new Student(&quot;Ankit&quot;, 22));\n        stList.add(new Student(&quot;Soham&quot;, 32));\n        stList.add(new Student(&quot;Nitin&quot;, 42));\n        stList.add(new Student(&quot;Xoxo&quot;, 55));\n        stList.add(new Student(&quot;Chetan&quot;, 62));\n\n        Department scrDept = new Department(&quot;Science&quot;);\n        scrDept.getStList().add(new Student(&quot;Ankit&quot;, 22));\n        scrDept.getStList().add(new Student(&quot;Soham&quot;, 52));\n\n        Department artDept = new Department(&quot;Arts&quot;);\n        artDept.getStList().add(new Student(&quot;Xoxo&quot;, 42));\n        artDept.getStList().add(new Student(&quot;Chetan&quot;, 92));\n\n        List&lt;Department&gt; deptList = new ArrayList&lt;Department&gt;();\n        deptList.add(scrDept);\n        deptList.add(artDept);\n\n        deptList.stream().flatMap(dept -&gt; dept.getStList().stream())\n                .forEach(employee -&gt; System.out.println(employee.getName()));\n\n        List&lt;Student&gt; orderedPassedStd = deptList.stream().flatMap(dept -&gt; dept.getStList().stream())\n                .filter(student -&gt; student.getName().length() &gt;= 4).sorted().collect(Collectors.toList());\n\n        for (Student std : orderedPassedStd) {\n            System.out.println(std.getName() + &quot;  ---------  &quot; + std.getMarks());\n        }\n    }\n\n}\n\nclass Department {\n    String deptName;\n    List&lt;Student&gt; stList = new ArrayList&lt;Student&gt;();\n\n    public Department(String deptName) {\n        this.deptName = deptName;\n    }\n\n    public Department(String deptName, List&lt;Student&gt; stList) {\n        this.deptName = deptName;\n        this.stList = stList;\n    }\n\n    public String getDeptName() {\n        return deptName;\n    }\n\n    public void setDeptName(String deptName) {\n        this.deptName = deptName;\n    }\n\n    public List&lt;Student&gt; getStList() {\n        return stList;\n    }\n\n    public void setStList(List&lt;Student&gt; stList) {\n        this.stList = stList;\n    }\n\n}\n\nclass Student {\n\n    String name;\n    float marks;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public float getMarks() {\n        return marks;\n    }\n\n    public void setMarks(float marks) {\n        this.marks = marks;\n    }\n\n    public Student(String name, float marks) {\n        this.name = name;\n        this.marks = marks;\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Output : Ankit\nSoham\nXoxo\nChetan\nException in thread &quot;main&quot; java.lang.ClassCastException: class lambda.Student cannot be cast to class java.lang.Comparable (lambda.Student is in module javaMasterClass of loader 'app'; java.lang.Comparable is in module java.base of loader 'bootstrap')\nat java.base/java.util.Comparators$NaturalOrderComparator.compare(Comparators.java:47)\nat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\nat java.base/java.util.TimSort.sort(TimSort.java:220)\nat java.base/java.util.Arrays.sort(Arrays.java:1515)\nat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\nat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\nat javaMasterClass/lambda.LambdaDemo.main(LambdaDemo.java:34)</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","automation","automated-tests"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1691063867,"post_id":76826945,"comment_id":135442614,"body_markdown":"Add a web driver wait for an element to present, PF below code for your reference.                   WebDriverWait w=new WebDriverWait(driver, seconds)                                                                 wait.presenceOfElementLocated(driver. find element (By.xpath(&quot;&quot;));","body":"Add a web driver wait for an element to present, PF below code for your reference.                   WebDriverWait w=new WebDriverWait(driver, seconds)                                                                 wait.presenceOfElementLocated(driver. find element (By.xpath(&quot;&quot;));"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1691064111,"post_id":76826945,"comment_id":135442658,"body_markdown":"Can you edit the question and add the error stack?","body":"Can you edit the question and add the error stack?"},{"owner":{"account_id":29150982,"reputation":1,"user_id":22331850,"display_name":"Tester"},"score":0,"creation_date":1691751751,"post_id":76826945,"comment_id":135537407,"body_markdown":"@Shawn: please check the error stack added.","body":"@Shawn: please check the error stack added."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691065463,"creation_date":1691065463,"answer_id":76828038,"question_id":76826945,"body_markdown":"As far as after entering login you have page loading state, you need to wait until password input is visible.\r\n\r\nTry to login, using code below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n    driver.get(&quot;https://www.zoho.com/&quot;);\r\n    driver.findElement(By.linkText(&quot;Sign in&quot;)).click();\r\n    driver.findElement(By.id(&quot;login_id&quot;)).sendKeys(&quot;email&quot;);\r\n    driver.findElement(By.xpath(&quot;//span[normalize-space()=&#39;Next&#39;]&quot;)).click();\r\n    wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ByXPath(&quot;//input[@id=&#39;password&#39;]&quot;))).sendKeys(&quot;password&quot;);\r\n    driver.findElement(By.id(&quot;nextbtn&quot;)).click();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Username accepted while Password is not getting accepted - Automation of Login Page","body":"<p>As far as after entering login you have page loading state, you need to wait until password input is visible.</p>\n<p>Try to login, using code below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>WebDriverWait wdwait = new WebDriverWait(driver, 10);\ndriver.get(\"https://www.zoho.com/\");\ndriver.findElement(By.linkText(\"Sign in\")).click();\ndriver.findElement(By.id(\"login_id\")).sendKeys(\"email\");\ndriver.findElement(By.xpath(\"//span[normalize-space()='Next']\")).click();\nwdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ByXPath(\"//input[@id='password']\"))).sendKeys(\"password\");\ndriver.findElement(By.id(\"nextbtn\")).click();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691105419,"creation_date":1691105419,"answer_id":76832139,"question_id":76826945,"body_markdown":"Ideally to send a character sequence to the _Email address or mobile number_ field and _password_ within the website [Zoho Accounts](https://www.zoho.com/), as the elements are dynamic elements you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n\tdriver.get(&quot;https://www.zoho.com/&quot;);\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Sign in&quot;))).click();\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#login_id&quot;))).sendKeys(&quot;Tester@stackoverflow.com&quot;);\r\n\tdriver.findElement(By.xpath(&quot;//span[text()=&#39;Next&#39;]&quot;)).click();\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#password&quot;))).sendKeys(&quot;Tester&quot;);","title":"Username accepted while Password is not getting accepted - Automation of Login Page","body":"<p>Ideally to send a character sequence to the <em>Email address or mobile number</em> field and <em>password</em> within the website <a href=\"https://www.zoho.com/\" rel=\"nofollow noreferrer\">Zoho Accounts</a>, as the elements are dynamic elements you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<pre><code>driver.get(&quot;https://www.zoho.com/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Sign in&quot;))).click();\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#login_id&quot;))).sendKeys(&quot;Tester@stackoverflow.com&quot;);\ndriver.findElement(By.xpath(&quot;//span[text()='Next']&quot;)).click();\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#password&quot;))).sendKeys(&quot;Tester&quot;);\n</code></pre>\n"}],"owner":{"account_id":29150982,"reputation":1,"user_id":22331850,"display_name":"Tester"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691752133,"creation_date":1691056530,"question_id":76826945,"body_markdown":"![enter image description here][1]\r\n\r\nI am trying to login to Zoho using automation test in java (selenium) below is the code\r\n````\r\nWebDriver driver = new ChromeDriver();\r\n/* Access the URL to write auto login test */ \r\ndriver.get(&quot;https://www.zoho.com/&quot;);\r\ndriver.findElement(By.linkText(&quot;Sign in&quot;)).click();\r\ndriver.findElement(By.id(&quot;login_id&quot;)).sendKeys(&quot;email&quot;);\r\ndriver.findElement(By.xpath(&quot;//span[normalize-space()=&#39;Next&#39;]&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;//input[@id=&#39;password&#39;]&quot;)).sendKeys(&quot;password&quot;);\r\ndriver.findElement(By.id(&quot;nextbtn&quot;)).click();\r\n````\r\n\r\n\r\n1. above code successfully passes the test for Sign in and accepts the email id.\r\n2. Then the page gets redirected to another page and here password needs to be given.\r\n3. Above code gets stuck at password input.\r\nWhat needs to be done to pass through the password and getting into the Zoho Home Page.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iQFjZ.png\r\n\r\nError Stack:\r\n````\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable\r\n  (Session info: chrome=115.0.5790.171)\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [72e70cf8cb751141dce9053c2c87e0bf, sendKeysToElement {id=3451A97A48F2087285C0D569311DB6CC_element_39, value=[Ljava.lang.CharSequence;@2015b2cd}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.171, chrome: {chromedriverVersion: 115.0.5790.170 (cc0d30c2ca5..., userDataDir: C:\\Users\\VARSHA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:64501}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:64501/devtoo..., se:cdpVersion: 115.0.5790.171, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nElement: [[ChromeDriver: chrome on windows (72e70cf8cb751141dce9053c2c87e0bf)] -&gt; xpath: //input[@id=&#39;password&#39;]]\r\nSession ID: 72e70cf8cb751141dce9053c2c87e0bf\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:224)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:111)\r\n\tat testcase.MyFirstTest.main(MyFirstTest.java:26)\r\n````","title":"Username accepted while Password is not getting accepted - Automation of Login Page","body":"<p><img src=\"https://i.stack.imgur.com/iQFjZ.png\" alt=\"enter image description here\" /></p>\n<p>I am trying to login to Zoho using automation test in java (selenium) below is the code</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n/* Access the URL to write auto login test */ \ndriver.get(&quot;https://www.zoho.com/&quot;);\ndriver.findElement(By.linkText(&quot;Sign in&quot;)).click();\ndriver.findElement(By.id(&quot;login_id&quot;)).sendKeys(&quot;email&quot;);\ndriver.findElement(By.xpath(&quot;//span[normalize-space()='Next']&quot;)).click();\ndriver.findElement(By.xpath(&quot;//input[@id='password']&quot;)).sendKeys(&quot;password&quot;);\ndriver.findElement(By.id(&quot;nextbtn&quot;)).click();\n</code></pre>\n<ol>\n<li>above code successfully passes the test for Sign in and accepts the email id.</li>\n<li>Then the page gets redirected to another page and here password needs to be given.</li>\n<li>Above code gets stuck at password input.\nWhat needs to be done to pass through the password and getting into the Zoho Home Page.</li>\n</ol>\n<p>Error Stack:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable\n  (Session info: chrome=115.0.5790.171)\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [72e70cf8cb751141dce9053c2c87e0bf, sendKeysToElement {id=3451A97A48F2087285C0D569311DB6CC_element_39, value=[Ljava.lang.CharSequence;@2015b2cd}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.171, chrome: {chromedriverVersion: 115.0.5790.170 (cc0d30c2ca5..., userDataDir: C:\\Users\\VARSHA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:64501}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:64501/devtoo..., se:cdpVersion: 115.0.5790.171, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nElement: [[ChromeDriver: chrome on windows (72e70cf8cb751141dce9053c2c87e0bf)] -&gt; xpath: //input[@id='password']]\nSession ID: 72e70cf8cb751141dce9053c2c87e0bf\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:224)\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:111)\n    at testcase.MyFirstTest.main(MyFirstTest.java:26)\n</code></pre>\n"},{"tags":["java","jersey","jax-rs","swagger"],"comments":[{"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"score":0,"creation_date":1517385583,"post_id":48536934,"comment_id":84069279,"body_markdown":"It&#39;s just a guess, but did you try &quot;\\\\n&quot;?","body":"It&#39;s just a guess, but did you try &quot;\\\\n&quot;?"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517385940,"post_id":48536934,"comment_id":84069480,"body_markdown":"@Daniel Yep, just tried. Adds a &#39;\\n&#39; to the string rendered :/","body":"@Daniel Yep, just tried. Adds a &#39;\\n&#39; to the string rendered :/"},{"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"score":1,"creation_date":1517386161,"post_id":48536934,"comment_id":84069595,"body_markdown":"Next try: Use &quot;\\n\\n&quot;. You need a blank line between the two paragraphs.\nHave a look at: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#lines","body":"Next try: Use &quot;\\n\\n&quot;. You need a blank line between the two paragraphs. Have a look at: <a href=\"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#lines\" rel=\"nofollow noreferrer\">github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#lin&zwnj;&#8203;es</a>"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517386534,"post_id":48536934,"comment_id":84069787,"body_markdown":"Thanks @Daniel, but it still doesn&#39;t work.","body":"Thanks @Daniel, but it still doesn&#39;t work."},{"owner":{"account_id":12201936,"reputation":414,"user_id":8906016,"display_name":"canillas"},"score":0,"creation_date":1517386674,"post_id":48536934,"comment_id":84069864,"body_markdown":"Try scaping the lower/greater, for example: `&amp;lt;br /&amp;gt;`","body":"Try scaping the lower/greater, for example: <code>&amp;lt;br &#47;&amp;gt;</code>"},{"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"score":0,"creation_date":1517387049,"post_id":48536934,"comment_id":84070054,"body_markdown":"In swagger-ui 2.2.3 seemed to be a bug regarding linebreaks. Which version do you use?","body":"In swagger-ui 2.2.3 seemed to be a bug regarding linebreaks. Which version do you use?"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517387424,"post_id":48536934,"comment_id":84070268,"body_markdown":"Not sure about swagger-ui, using 1.5.15 for swagger-core. Precisely swagger-jersey2-jaxrs version 1.5.15.","body":"Not sure about swagger-ui, using 1.5.15 for swagger-core. Precisely swagger-jersey2-jaxrs version 1.5.15."},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517387446,"post_id":48536934,"comment_id":84070273,"body_markdown":"@canillas that doesn&#39;t work :/","body":"@canillas that doesn&#39;t work :/"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517387486,"post_id":48536934,"comment_id":84070289,"body_markdown":"Weird that &#39;/n&#39; for newline works for the `notes` parameter but not for `description`","body":"Weird that &#39;/n&#39; for newline works for the <code>notes</code> parameter but not for <code>description</code>"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1517671812,"post_id":48536934,"comment_id":84194426,"body_markdown":"Using swagger-ui 3.0.9 (updated the question).","body":"Using swagger-ui 3.0.9 (updated the question)."}],"answers":[{"comments":[{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":1,"creation_date":1517671797,"post_id":48587089,"comment_id":84194420,"body_markdown":"Thanks for the answer, doesn&#39;t work for me, it just prints `&lt;br /&gt;` with the text. Which `swagger-ui` version are you on? I am using version 3.0.9.","body":"Thanks for the answer, doesn&#39;t work for me, it just prints <code>&lt;br &#47;&gt;</code> with the text. Which <code>swagger-ui</code> version are you on? I am using version 3.0.9."},{"owner":{"account_id":7675670,"reputation":535,"user_id":5816637,"display_name":"E. Bavoux"},"score":0,"creation_date":1517818001,"post_id":48587089,"comment_id":84232678,"body_markdown":"Hi, I&#39;m using swagger-ui:2.1.2\nMaybe you can change the swagger version you are using, at least for testing ?","body":"Hi, I&#39;m using swagger-ui:2.1.2 Maybe you can change the swagger version you are using, at least for testing ?"},{"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"score":0,"creation_date":1518002818,"post_id":48587089,"comment_id":84322538,"body_markdown":"Thanks for the reply. Sure, I&#39;ll upgrade my swagger and check (y).","body":"Thanks for the reply. Sure, I&#39;ll upgrade my swagger and check (y)."},{"owner":{"account_id":71488,"reputation":3028,"user_id":206771,"accept_rate":64,"display_name":"Joel Shemtov"},"score":0,"creation_date":1688989219,"post_id":48587089,"comment_id":135144680,"body_markdown":"same result as @harshit-sh. Any updates on this one?","body":"same result as @harshit-sh. Any updates on this one?"}],"tags":[],"owner":{"account_id":7675670,"reputation":535,"user_id":5816637,"display_name":"E. Bavoux"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1517589361,"creation_date":1517589361,"answer_id":48587089,"question_id":48536934,"body_markdown":"You can use the following:\r\n\r\n    @SwaggerDefinition(tags = { @Tag(name = &quot;Hello World&quot;, description =\r\n        &quot;Description about world: &lt;br /&gt; &quot; +\r\n                &quot;1. Hello &lt;br /&gt; &quot; +                  //With &lt;br /&gt;, not  &lt;br&gt;\r\n                &quot;2. World &quot;)})   \r\n\r\n\r\nIt works for me, it gives the following result, with line breaks:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SlQgc.png\r\n\r\nHave fun !","title":"Add a newline to swagger output","body":"<p>You can use the following:</p>\n\n<pre><code>@SwaggerDefinition(tags = { @Tag(name = \"Hello World\", description =\n    \"Description about world: &lt;br /&gt; \" +\n            \"1. Hello &lt;br /&gt; \" +                  //With &lt;br /&gt;, not  &lt;br&gt;\n            \"2. World \")})   \n</code></pre>\n\n<p>It works for me, it gives the following result, with line breaks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SlQgc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SlQgc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have fun !</p>\n"},{"comments":[{"owner":{"account_id":10688093,"reputation":554,"user_id":7867996,"accept_rate":100,"display_name":"thesystem"},"score":1,"creation_date":1611152094,"post_id":58848132,"comment_id":116358735,"body_markdown":"Thanks for this, I couldn&#39;t find any other site or Swagger documentation that points to this. Do you know more about this behaviour, like why Swagger accepts double `&lt;br&gt;` or `\\n`, but not single?","body":"Thanks for this, I couldn&#39;t find any other site or Swagger documentation that points to this. Do you know more about this behaviour, like why Swagger accepts double <code>&lt;br&gt;</code> or <code>\\n</code>, but not single?"},{"owner":{"account_id":1911646,"reputation":1309,"user_id":1725315,"accept_rate":25,"display_name":"Parsa"},"score":0,"creation_date":1648544387,"post_id":58848132,"comment_id":126644733,"body_markdown":"add \\n\\n helps to generate new line in pdf. Thanks!","body":"add \\n\\n helps to generate new line in pdf. Thanks!"}],"tags":[],"owner":{"account_id":2431775,"reputation":566,"user_id":2122524,"display_name":"user2122524"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1573695485,"creation_date":1573695485,"answer_id":58848132,"question_id":48536934,"body_markdown":"Use double &quot;`&lt;br&gt;`&quot; or &quot;`\\n`&quot;, swagger will show the text in the next line.\r\nFor e.g:\r\n\r\n`@SwaggerDefinition(tags = { @Tag(name = &quot;Hello World&quot;, description = \r\n    &quot;Description about world: \\n\\n&quot; +\r\n    &quot;1. Hello \\n\\n&quot; +\r\n    &quot;2. World &lt;br&gt;&lt;br&gt;&quot; \r\n )})`","title":"Add a newline to swagger output","body":"<p>Use double \"<code>&lt;br&gt;</code>\" or \"<code>\\n</code>\", swagger will show the text in the next line.\nFor e.g:</p>\n\n<p><code>@SwaggerDefinition(tags = { @Tag(name = \"Hello World\", description = \n    \"Description about world: \\n\\n\" +\n    \"1. Hello \\n\\n\" +\n    \"2. World &lt;br&gt;&lt;br&gt;\" \n )})</code></p>\n"},{"tags":[],"owner":{"account_id":21103165,"reputation":66,"user_id":15512685,"display_name":"Jojo Joseph Kunathucherry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691751794,"creation_date":1691751794,"answer_id":76882973,"question_id":48536934,"body_markdown":"Simply add\r\n\r\n``` \r\n&lt;br&gt;&lt;br&gt;\r\n```\r\n\r\n\r\nexample :\r\n\r\n```\r\n  /autoComplete:\r\n    post:\r\n      tags:\r\n        - AutoComplete Service\r\n      summary: Various AutoComplete Services \r\n      description: &gt; List \r\n        1. Name &lt;br&gt;&lt;br&gt;\r\n        2. Teams  &lt;br&gt;&lt;br&gt;\r\n\r\n```","title":"Add a newline to swagger output","body":"<p>Simply add</p>\n<pre><code>&lt;br&gt;&lt;br&gt;\n</code></pre>\n<p>example :</p>\n<pre><code>  /autoComplete:\n    post:\n      tags:\n        - AutoComplete Service\n      summary: Various AutoComplete Services \n      description: &gt; List \n        1. Name &lt;br&gt;&lt;br&gt;\n        2. Teams  &lt;br&gt;&lt;br&gt;\n\n</code></pre>\n"}],"owner":{"account_id":4659601,"reputation":378,"user_id":3774183,"accept_rate":40,"display_name":"harshit-sh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45761,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1691751794,"creation_date":1517384468,"question_id":48536934,"body_markdown":"I am using `swagger-jersey2-jaxrs` version `1.5.15`. I am on `swagger-ui 3.0.9`. I added a description to a header using @SwaggerDefinition annotation and tags (as the description parameter is now deprecated). The code goes like:\r\n\r\n    @Api(tags = { &quot;Hello World&quot; })\r\n    @SwaggerDefinition(tags = { @Tag(name = &quot;Hello World&quot;, description = \r\n        &quot;Description about world: &quot; + &quot;  \\n&quot; +\r\n        &quot;1. Hello &quot; + &quot;\\n&quot; +\r\n        &quot;2. World &quot; + &quot;&lt;br&gt;&quot; \r\n     )})\r\n\r\nBy using this, I was able to add a description to the &quot;Hello World&quot; header. My question is how should I add a newline for every point. I tried the following but failed:\r\n\r\n \r\n\r\n 1. Adding `&quot;\\n&quot;` or `&quot;&lt;br&gt;&quot;` to string. `\\n&quot;` doesn&#39;t reflect a\r\n    newline while `&quot;&lt;br&gt;&quot;` just adds the string `&quot;&lt;br&gt;&quot;` to the string\r\n    that is rendered.\r\n    \r\n 2. I tried to use `System.lineSeparator()` and\r\n    `System.getProperty(&quot;line.separator&quot;)` as well but that gives the\r\n    error &quot;The value for annotation attribute Tag.description must be a\r\n    constant expression&quot;.\r\n\r\nSwagger shows a newline when the first method above is used when using the `notes` parameter for the other annotations (doesn&#39;t work with @Api), any workaround to using that instead to get the newline?\r\n\r\nAny suggestion is welcome, thanks in advance! :)","title":"Add a newline to swagger output","body":"<p>I am using <code>swagger-jersey2-jaxrs</code> version <code>1.5.15</code>. I am on <code>swagger-ui 3.0.9</code>. I added a description to a header using @SwaggerDefinition annotation and tags (as the description parameter is now deprecated). The code goes like:</p>\n\n<pre><code>@Api(tags = { \"Hello World\" })\n@SwaggerDefinition(tags = { @Tag(name = \"Hello World\", description = \n    \"Description about world: \" + \"  \\n\" +\n    \"1. Hello \" + \"\\n\" +\n    \"2. World \" + \"&lt;br&gt;\" \n )})\n</code></pre>\n\n<p>By using this, I was able to add a description to the \"Hello World\" header. My question is how should I add a newline for every point. I tried the following but failed:</p>\n\n<ol>\n<li><p>Adding <code>\"\\n\"</code> or <code>\"&lt;br&gt;\"</code> to string. <code>\\n\"</code> doesn't reflect a\nnewline while <code>\"&lt;br&gt;\"</code> just adds the string <code>\"&lt;br&gt;\"</code> to the string\nthat is rendered.</p></li>\n<li><p>I tried to use <code>System.lineSeparator()</code> and\n<code>System.getProperty(\"line.separator\")</code> as well but that gives the\nerror \"The value for annotation attribute Tag.description must be a\nconstant expression\".</p></li>\n</ol>\n\n<p>Swagger shows a newline when the first method above is used when using the <code>notes</code> parameter for the other annotations (doesn't work with @Api), any workaround to using that instead to get the newline?</p>\n\n<p>Any suggestion is welcome, thanks in advance! :)</p>\n"},{"tags":["java","android","android-webview","android-websettings"],"answers":[{"comments":[{"owner":{"account_id":18549138,"reputation":35,"user_id":13515739,"display_name":"Brenton"},"score":0,"creation_date":1624000251,"post_id":68030669,"comment_id":120242230,"body_markdown":"Thank you so much @Narendra_Nath you are correct, it works fine with `websettings.setDomStorageEnabled(true)`","body":"Thank you so much @Narendra_Nath you are correct, it works fine with <code>websettings.setDomStorageEnabled(true)</code>"}],"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623999486,"creation_date":1623999486,"answer_id":68030669,"question_id":68030600,"body_markdown":"I think the one setting you might be missing is this \r\n```\r\nwebsettings.setDomStorageEnabled(true)\r\n```\r\n","title":"Unable to load fast.com in webview","body":"<p>I think the one setting you might be missing is this</p>\n<pre><code>websettings.setDomStorageEnabled(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25840126,"reputation":1,"user_id":19575802,"display_name":"Nischal Paudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691751473,"creation_date":1691749556,"answer_id":76882698,"question_id":68030600,"body_markdown":"Sometimes, I also used to develop apps and I have also faced same problem. And I found that making `webview` wrap_content also make these problems so make `webview` size `match_parent`. And put it on a linear layout or on other layout to make of your size.\r\nAnd also enable on your java file.\r\n\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.getSettings().setDomStorageEnabled(true);\r\n    webView.setWebViewClient(new WebViewClient());`\r\n    webView.setWebChromeClient(new WebChromeClient());\r\n        ","title":"Unable to load fast.com in webview","body":"<p>Sometimes, I also used to develop apps and I have also faced same problem. And I found that making <code>webview</code> wrap_content also make these problems so make <code>webview</code> size <code>match_parent</code>. And put it on a linear layout or on other layout to make of your size.\nAnd also enable on your java file.</p>\n<pre><code>webView.getSettings().setJavaScriptEnabled(true);\nwebView.getSettings().setDomStorageEnabled(true);\nwebView.setWebViewClient(new WebViewClient());`\nwebView.setWebChromeClient(new WebChromeClient());\n    \n</code></pre>\n"}],"owner":{"account_id":18549138,"reputation":35,"user_id":13515739,"display_name":"Brenton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68030669,"answer_count":2,"score":0,"last_activity_date":1691751473,"creation_date":1623999113,"question_id":68030600,"body_markdown":"I want to create a simple app with a few useful webview links but fast.com will not load\r\n\r\n    webView.loadUrl(&quot;https://fast.com&quot;);\r\n\r\nI&#39;ve tried most webSettings but nothing works.\r\nWhat am I doing wrong?","title":"Unable to load fast.com in webview","body":"<p>I want to create a simple app with a few useful webview links but fast.com will not load</p>\n<pre><code>webView.loadUrl(&quot;https://fast.com&quot;);\n</code></pre>\n<p>I've tried most webSettings but nothing works.\nWhat am I doing wrong?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1691666046,"post_id":76874764,"comment_id":135523616,"body_markdown":"You should be overriding the `paintComponent` method of a `JPanel`.  You should also be using logical hit boxes and bullets.  Your painting code should only paint.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"You should be overriding the <code>paintComponent</code> method of a <code>JPanel</code>.  You should also be using logical hit boxes and bullets.  Your painting code should only paint.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1691669523,"post_id":76874764,"comment_id":135524326,"body_markdown":"@GilbertLeBlanc, I have posted paint code just to explain, what I expect from the code above (first multiline snippet), that represents logical hitbox. I ask community to tell me how to fix it. \nSorry for my English &amp; possible misunderstanding.","body":"@GilbertLeBlanc, I have posted paint code just to explain, what I expect from the code above (first multiline snippet), that represents logical hitbox. I ask community to tell me how to fix it.  Sorry for my English &amp; possible misunderstanding."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1691671573,"post_id":76874764,"comment_id":135524792,"body_markdown":"I believe what they&#39;re suggesting is rather than working with raw `Area`, `Graphics2D`, etc objects, you should re-use or make your own `BoundingBox` (e.g. `Hitbox` or `AxisAlignedBB`) `Entity`, and other classes. Keep those objects up-to-date at runtime, then make use of the classes when rendering to determine what `Area` and `Graphics2D` objects need to be put where.","body":"I believe what they&#39;re suggesting is rather than working with raw <code>Area</code>, <code>Graphics2D</code>, etc objects, you should re-use or make your own <code>BoundingBox</code> (e.g. <code>Hitbox</code> or <code>AxisAlignedBB</code>) <code>Entity</code>, and other classes. Keep those objects up-to-date at runtime, then make use of the classes when rendering to determine what <code>Area</code> and <code>Graphics2D</code> objects need to be put where."}],"answers":[{"tags":[],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691751160,"creation_date":1691681924,"answer_id":76877293,"question_id":76874764,"body_markdown":"I have just understood, what was the problem.\r\n\r\n`AffineTransform.getRotateInstance()` accepts angle in radians, and the variable `r` is angle in degrees. The solution is pretty simple - `Math.toRadians()`.","title":"Why is area intersection is not empty when it should be?","body":"<p>I have just understood, what was the problem.</p>\n<p><code>AffineTransform.getRotateInstance()</code> accepts angle in radians, and the variable <code>r</code> is angle in degrees. The solution is pretty simple - <code>Math.toRadians()</code>.</p>\n"}],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691751160,"creation_date":1691662448,"question_id":76874764,"body_markdown":"I am trying to make a bullet that hits player on intersection. At some reason, it deals damage when it is not even close  :(\r\n\r\nThe following code checks whether the bullet hits player:\r\n\r\n```\r\nArea a = new Area(AffineTransform.getRotateInstance(r, getX() + getWidth() / 2, getY() + getHeight() / 2)\r\n\t\t.createTransformedShape(new Rectangle(getX() + (int)(getWidth()-sx) / 2, getY() + (int)(getHeight()-sy) / 2, (int)sx, (int)sy)));\r\na.intersect(new Area(Root.game.player.hitbox));\r\nif (!a.isEmpty())\r\n\thit(Root.game.player);\r\n```\r\n\r\nMethod &quot;hit()&quot; deals damage to player and graduately decreases bullet size.\r\n\r\nHitbox of the player is placed properly.\r\n\r\nRequired &quot;hitbox&quot; of the bullet is that graphics&#39; content:\r\n\r\n```\r\npublic void paint(Graphics g){\r\n\tGraphics2D g2 = (Graphics2D)g;\r\n\tAffineTransform a = g2.getTransform();\r\n\ta.rotate(Math.toRadians(r), getWidth() / 2, getHeight() / 2);\r\n\tint sx = (int)Math.round(this.sx), sy = (int)Math.round(this.sy);\r\n\tg2.setTransform(a);\r\n\tint dx = (getWidth()-sx) / 2, dy = (getHeight()-sy) / 2;\r\n\tg2.setPaint(new RadialGradientPaint(new Rectangle(sx / 6 + dx, sy / 6 + dy, Math.max(1, sx * 2 / 3), Math.max(1, sy * 2 / 3)), new float[]{0, 1}, new Color[]{Color.CYAN, new Color(0, 255, 255, 0)}, CycleMethod.NO_CYCLE));\r\n\tg2.setStroke(new BasicStroke(sy / 5, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\r\n\tg2.drawRect(sx / 3 + dx, sy / 3 + dy, sx / 3, sy / 3);\r\n\tg2.setPaint(new RadialGradientPaint(new Rectangle(sx / 6 + dx, sy / 6 + dy, Math.max(1, sx * 2 / 3), Math.max(1, sy * 2 / 3)), new float[]{0, 1}, new Color[]{c, Color.BLUE}, CycleMethod.NO_CYCLE));\r\n\tg2.fillRoundRect(sx / 3 + dx, sy / 3 + dy, sx / 3, sy / 3, sx / 20, sy / 15);\r\n}\r\n```","title":"Why is area intersection is not empty when it should be?","body":"<p>I am trying to make a bullet that hits player on intersection. At some reason, it deals damage when it is not even close  :(</p>\n<p>The following code checks whether the bullet hits player:</p>\n<pre><code>Area a = new Area(AffineTransform.getRotateInstance(r, getX() + getWidth() / 2, getY() + getHeight() / 2)\n        .createTransformedShape(new Rectangle(getX() + (int)(getWidth()-sx) / 2, getY() + (int)(getHeight()-sy) / 2, (int)sx, (int)sy)));\na.intersect(new Area(Root.game.player.hitbox));\nif (!a.isEmpty())\n    hit(Root.game.player);\n</code></pre>\n<p>Method &quot;hit()&quot; deals damage to player and graduately decreases bullet size.</p>\n<p>Hitbox of the player is placed properly.</p>\n<p>Required &quot;hitbox&quot; of the bullet is that graphics' content:</p>\n<pre><code>public void paint(Graphics g){\n    Graphics2D g2 = (Graphics2D)g;\n    AffineTransform a = g2.getTransform();\n    a.rotate(Math.toRadians(r), getWidth() / 2, getHeight() / 2);\n    int sx = (int)Math.round(this.sx), sy = (int)Math.round(this.sy);\n    g2.setTransform(a);\n    int dx = (getWidth()-sx) / 2, dy = (getHeight()-sy) / 2;\n    g2.setPaint(new RadialGradientPaint(new Rectangle(sx / 6 + dx, sy / 6 + dy, Math.max(1, sx * 2 / 3), Math.max(1, sy * 2 / 3)), new float[]{0, 1}, new Color[]{Color.CYAN, new Color(0, 255, 255, 0)}, CycleMethod.NO_CYCLE));\n    g2.setStroke(new BasicStroke(sy / 5, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\n    g2.drawRect(sx / 3 + dx, sy / 3 + dy, sx / 3, sy / 3);\n    g2.setPaint(new RadialGradientPaint(new Rectangle(sx / 6 + dx, sy / 6 + dy, Math.max(1, sx * 2 / 3), Math.max(1, sy * 2 / 3)), new float[]{0, 1}, new Color[]{c, Color.BLUE}, CycleMethod.NO_CYCLE));\n    g2.fillRoundRect(sx / 3 + dx, sy / 3 + dy, sx / 3, sy / 3, sx / 20, sy / 15);\n}\n</code></pre>\n"},{"tags":["java","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":1848560,"reputation":1408,"user_id":1675670,"accept_rate":75,"display_name":"istovatis"},"score":1,"creation_date":1539063640,"post_id":52713968,"comment_id":92353568,"body_markdown":"Have you checked that  &quot;Enable annotation processing&quot; in Settings -&gt; Build -&gt; Compiler -&gt; Annotation Processor is checked?","body":"Have you checked that  &quot;Enable annotation processing&quot; in Settings -&gt; Build -&gt; Compiler -&gt; Annotation Processor is checked?"},{"owner":{"account_id":13524226,"reputation":45,"user_id":9756492,"display_name":"Japhy Fan"},"score":0,"creation_date":1539063719,"post_id":52713968,"comment_id":92353592,"body_markdown":"yes, I can use other annotations","body":"yes, I can use other annotations"}],"answers":[{"tags":[],"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1539073976,"creation_date":1539073976,"answer_id":52716611,"question_id":52713968,"body_markdown":"`X` in [`@XArgsConstructor`][1] is just a placeholder for `No`, `Required` or `All`.\r\n\r\nThe real annotations are `@NoArgsConstructor`, `@RequiredArgsConstructor` and `@AllArgsConstructor`. Pick one of these (I&#39;d go for `@AllArgsConstructor` by default), and it&#39;ll work.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"how to generate constructor in a enum using Lombok","body":"<p><code>X</code> in <a href=\"https://projectlombok.org/features/constructor\" rel=\"noreferrer\"><code>@XArgsConstructor</code></a> is just a placeholder for <code>No</code>, <code>Required</code> or <code>All</code>.</p>\n\n<p>The real annotations are <code>@NoArgsConstructor</code>, <code>@RequiredArgsConstructor</code> and <code>@AllArgsConstructor</code>. Pick one of these (I'd go for <code>@AllArgsConstructor</code> by default), and it'll work.</p>\n"},{"tags":[],"owner":{"account_id":4625898,"reputation":39,"user_id":3749732,"display_name":"cristianhoyos66"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691750777,"creation_date":1691750777,"answer_id":76882838,"question_id":52713968,"body_markdown":"I know this is an old question but I&#39;d want to add an example about how it should be done:\r\n\r\n    @AllArgsConstructor\r\n    public enum EnumExample {\r\n       CONSTANT(&quot;constant&quot;);\r\n\r\n       @Getter \r\n       private final String value;\r\n    }\r\n\r\nHave in mind that the idea behind using enums is using objects rather than static constants. This will give benefits according how to manage the constant values. ","title":"how to generate constructor in a enum using Lombok","body":"<p>I know this is an old question but I'd want to add an example about how it should be done:</p>\n<pre><code>@AllArgsConstructor\npublic enum EnumExample {\n   CONSTANT(&quot;constant&quot;);\n\n   @Getter \n   private final String value;\n}\n</code></pre>\n<p>Have in mind that the idea behind using enums is using objects rather than static constants. This will give benefits according how to manage the constant values.</p>\n"}],"owner":{"account_id":13524226,"reputation":45,"user_id":9756492,"display_name":"Japhy Fan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5240,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52716611,"answer_count":2,"score":0,"last_activity_date":1691750777,"creation_date":1539063368,"question_id":52713968,"body_markdown":"I want to use lombok in a enum, but I can&#39;t find the annotation to generate the constructor. I checked the Lombok manual that it shows there should be a annotion named @XArgsConstructor,but I can&#39;t find it, any advice ? thanks.","title":"how to generate constructor in a enum using Lombok","body":"<p>I want to use lombok in a enum, but I can't find the annotation to generate the constructor. I checked the Lombok manual that it shows there should be a annotion named @XArgsConstructor,but I can't find it, any advice ? thanks.</p>\n"},{"tags":["java","odata","olingo"],"owner":{"account_id":17268121,"reputation":149,"user_id":12504411,"display_name":"prathyusha magam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691750552,"creation_date":1678130771,"question_id":75655013,"body_markdown":"We are using olingo odata-server-core 4.0.0. OData uri we give to the olingo server core&#39;s parser class is as `/People(@Person1_UserName)/Friends(@Person_UserName)` which used to work fine. But, as 4.0.0 has vulnerabilities, we&#39;re trying to upgrade to 4.9.0. But,van exception is thrown as &quot;Alias *&#39;@Person1_UserName&#39; for key value not found.&quot;*, when I decompile the code, method `createUriParameter` in ParserHelper isn&#39;t accepting parameter with @ unless it has alias.\r\n\r\n    private static UriParameter createUriParameter(final EdmProperty edmProperty, final String parameterName,\r\n          final String literalValue, final Edm edm, final EdmType referringType,\r\n          final Map aliases) throws UriParserException, UriValidationException {\r\n        final AliasQueryOption alias = literalValue.startsWith(&quot;@&quot;) ?\r\n            getKeyAlias(literalValue, edmProperty, edm, referringType, aliases) :\r\n            null;\r\n        final String value = alias == null ? literalValue : alias.getText();\r\n        final EdmPrimitiveType primitiveType = (EdmPrimitiveType) edmProperty.getType();\r\n        try {\r\n          if (!(primitiveType.validate(primitiveType.fromUriLiteral(value), edmProperty.isNullable(),\r\n              edmProperty.getMaxLength(), edmProperty.getPrecision(), edmProperty.getScale(), edmProperty.isUnicode()))) {\r\n            throw new UriValidationException(&quot;Invalid key property&quot;,\r\n                UriValidationException.MessageKeys.INVALID_KEY_PROPERTY, parameterName);\r\n          }\r\n        } catch (final EdmPrimitiveTypeException e) {\r\n          throw new UriValidationException(&quot;Invalid key property&quot;, e,\r\n              UriValidationException.MessageKeys.INVALID_KEY_PROPERTY, parameterName);\r\n        }\r\n    \r\n        return new UriParameterImpl()\r\n            .setName(parameterName)\r\n            .setText(&quot;null&quot;.equals(literalValue) ? null : literalValue)\r\n            .setAlias(alias == null ? null : literalValue)\r\n            .setExpression(alias == null ? null :\r\n                alias.getValue() == null ? new LiteralImpl(value, primitiveType) : alias.getValue());\r\n      }\r\n\r\n    private static AliasQueryOption getKeyAlias(final String name, final EdmProperty edmProperty,\r\n          final Edm edm, final EdmType referringType, final Map aliases)\r\n          throws UriParserException, UriValidationException {\r\n        if (aliases.containsKey(name)) {\r\n          return parseAliasValue(name,\r\n              edmProperty.getType(), edmProperty.isNullable(), edmProperty.isCollection(),\r\n              edm, referringType, aliases);\r\n        } else {\r\n          throw new UriValidationException(&quot;Alias &#39;&quot; + name + &quot;&#39; for key value not found.&quot;,\r\n              UriValidationException.MessageKeys.MISSING_ALIAS, name);\r\n        }\r\n      }\r\n\r\nPlease help on how to send the odata uri to odata parser.","title":"How to parse odata uri using olingo odata server core 4.9.0 parser class?","body":"<p>We are using olingo odata-server-core 4.0.0. OData uri we give to the olingo server core's parser class is as <code>/People(@Person1_UserName)/Friends(@Person_UserName)</code> which used to work fine. But, as 4.0.0 has vulnerabilities, we're trying to upgrade to 4.9.0. But,van exception is thrown as &quot;Alias <em>'@Person1_UserName' for key value not found.&quot;</em>, when I decompile the code, method <code>createUriParameter</code> in ParserHelper isn't accepting parameter with @ unless it has alias.</p>\n<pre><code>private static UriParameter createUriParameter(final EdmProperty edmProperty, final String parameterName,\n      final String literalValue, final Edm edm, final EdmType referringType,\n      final Map aliases) throws UriParserException, UriValidationException {\n    final AliasQueryOption alias = literalValue.startsWith(&quot;@&quot;) ?\n        getKeyAlias(literalValue, edmProperty, edm, referringType, aliases) :\n        null;\n    final String value = alias == null ? literalValue : alias.getText();\n    final EdmPrimitiveType primitiveType = (EdmPrimitiveType) edmProperty.getType();\n    try {\n      if (!(primitiveType.validate(primitiveType.fromUriLiteral(value), edmProperty.isNullable(),\n          edmProperty.getMaxLength(), edmProperty.getPrecision(), edmProperty.getScale(), edmProperty.isUnicode()))) {\n        throw new UriValidationException(&quot;Invalid key property&quot;,\n            UriValidationException.MessageKeys.INVALID_KEY_PROPERTY, parameterName);\n      }\n    } catch (final EdmPrimitiveTypeException e) {\n      throw new UriValidationException(&quot;Invalid key property&quot;, e,\n          UriValidationException.MessageKeys.INVALID_KEY_PROPERTY, parameterName);\n    }\n\n    return new UriParameterImpl()\n        .setName(parameterName)\n        .setText(&quot;null&quot;.equals(literalValue) ? null : literalValue)\n        .setAlias(alias == null ? null : literalValue)\n        .setExpression(alias == null ? null :\n            alias.getValue() == null ? new LiteralImpl(value, primitiveType) : alias.getValue());\n  }\n\nprivate static AliasQueryOption getKeyAlias(final String name, final EdmProperty edmProperty,\n      final Edm edm, final EdmType referringType, final Map aliases)\n      throws UriParserException, UriValidationException {\n    if (aliases.containsKey(name)) {\n      return parseAliasValue(name,\n          edmProperty.getType(), edmProperty.isNullable(), edmProperty.isCollection(),\n          edm, referringType, aliases);\n    } else {\n      throw new UriValidationException(&quot;Alias '&quot; + name + &quot;' for key value not found.&quot;,\n          UriValidationException.MessageKeys.MISSING_ALIAS, name);\n    }\n  }\n</code></pre>\n<p>Please help on how to send the odata uri to odata parser.</p>\n"},{"tags":["java","recursion","intellij-idea"],"comments":[{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1691674304,"post_id":76876183,"comment_id":135525445,"body_markdown":"The different is same as the difference between `1 + 3` and `(1 + 3)`","body":"The different is same as the difference between <code>1 + 3</code> and <code>(1 + 3)</code>"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1691712516,"post_id":76876183,"comment_id":135532343,"body_markdown":"Nit: `()` are parentheses, not curly braces `{}`","body":"Nit: <code>()</code> are parentheses, not curly braces <code>{}</code>"}],"answers":[{"comments":[{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1691674510,"post_id":76876198,"comment_id":135525509,"body_markdown":"Yeah probably a regex that is not complete enough","body":"Yeah probably a regex that is not complete enough"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691674620,"post_id":76876198,"comment_id":135525537,"body_markdown":"I doubt that it uses something so simple as a regex (since it&#39;ll warn on a recursive call even if it doesn&#39;t mention `this` at all). More likely, the braces make it so the internal representation goes from `definitely a this reference` to `some expression I don&#39;t even know`. Either way, it doesn&#39;t matter.","body":"I doubt that it uses something so simple as a regex (since it&#39;ll warn on a recursive call even if it doesn&#39;t mention <code>this</code> at all). More likely, the braces make it so the internal representation goes from <code>definitely a this reference</code> to <code>some expression I don&#39;t even know</code>. Either way, it doesn&#39;t matter."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1691674173,"creation_date":1691674173,"answer_id":76876198,"question_id":76876183,"body_markdown":"There&#39;s no difference whatsoever. Those braces are not needed in your example and should be removed.\r\n\r\nApparently it also trips up IntelliJ&#39;s recursion detection. That&#39;s just a minor bug in that feature, not an indication that the code works differently.","title":"What is the difference between this and (this)?","body":"<p>There's no difference whatsoever. Those braces are not needed in your example and should be removed.</p>\n<p>Apparently it also trips up IntelliJ's recursion detection. That's just a minor bug in that feature, not an indication that the code works differently.</p>\n"},{"tags":[],"owner":{"account_id":19639481,"reputation":11,"user_id":14375946,"display_name":"Shariq Sayed"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1691676402,"creation_date":1691676402,"answer_id":76876506,"question_id":76876183,"body_markdown":"There is no difference between these two. ","title":"What is the difference between this and (this)?","body":"<p>There is no difference between these two.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691677306,"creation_date":1691676877,"answer_id":76876572,"question_id":76876183,"body_markdown":"From [the language specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.8.5):\r\n\r\n&gt; A parenthesized expression is a primary expression whose type is the type of the contained expression and whose value at run time is the value of the contained expression. If the contained expression denotes a variable then the parenthesized expression also denotes that variable.\r\n\r\nSince `this` is the contained expression, `(this)` has the same type and value as `this`.\r\n\r\nHowever, `this` is not a variable, so the last part does not apply (you can&#39;t write `(this) = ...` or `this = ...`, but you can write `(a) = ...` as an equivalent to `a = ...`).","title":"What is the difference between this and (this)?","body":"<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.8.5\" rel=\"nofollow noreferrer\">the language specification</a>:</p>\n<blockquote>\n<p>A parenthesized expression is a primary expression whose type is the type of the contained expression and whose value at run time is the value of the contained expression. If the contained expression denotes a variable then the parenthesized expression also denotes that variable.</p>\n</blockquote>\n<p>Since <code>this</code> is the contained expression, <code>(this)</code> has the same type and value as <code>this</code>.</p>\n<p>However, <code>this</code> is not a variable, so the last part does not apply (you can't write <code>(this) = ...</code> or <code>this = ...</code>, but you can write <code>(a) = ...</code> as an equivalent to <code>a = ...</code>).</p>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76876198,"answer_count":3,"score":3,"last_activity_date":1691750205,"creation_date":1691674095,"question_id":76876183,"body_markdown":"```\r\npublic class classA implements interfaceA {\r\n\r\n  @Override\r\n  public Optional&lt;T&gt; methodA(String s) {\r\n    return (this).methodA(s); // &lt;-  IDEA doesn&#39;t underlines as recursion\r\n  }\r\n\r\n  @Override\r\n  public Optional&lt;T&gt; methodB(String s) {\r\n    return (this).methodB(s); // &lt;- IDEA doesn&#39;t underlines as recursion\r\n  }\r\n```\r\n\r\n```\r\npublic class classA implements interfaceA {\r\n\r\n  @Override\r\n  public Optional&lt;T&gt; methodA(String s) {\r\n    return this.methodA(s);  // &lt;-  IDEA underlines as recursion\r\n  }\r\n\r\n  @Override\r\n  public Optional&lt;T&gt; methodB(String s) {\r\n    return this.methodB(s); // &lt;- IDEA underlines as recursion\r\n  }\r\n\r\n```\r\n\r\nI have&#39;t seen (this) in such a form. Can anyone link reference to documentation or explain what is the difference between usual form and in parentheses?\r\n","title":"What is the difference between this and (this)?","body":"<pre><code>public class classA implements interfaceA {\n\n  @Override\n  public Optional&lt;T&gt; methodA(String s) {\n    return (this).methodA(s); // &lt;-  IDEA doesn't underlines as recursion\n  }\n\n  @Override\n  public Optional&lt;T&gt; methodB(String s) {\n    return (this).methodB(s); // &lt;- IDEA doesn't underlines as recursion\n  }\n</code></pre>\n<pre><code>public class classA implements interfaceA {\n\n  @Override\n  public Optional&lt;T&gt; methodA(String s) {\n    return this.methodA(s);  // &lt;-  IDEA underlines as recursion\n  }\n\n  @Override\n  public Optional&lt;T&gt; methodB(String s) {\n    return this.methodB(s); // &lt;- IDEA underlines as recursion\n  }\n\n</code></pre>\n<p>I have't seen (this) in such a form. Can anyone link reference to documentation or explain what is the difference between usual form and in parentheses?</p>\n"},{"tags":["java","c++","performance","memory-management","java-native-interface"],"comments":[{"owner":{"account_id":5990583,"reputation":35949,"user_id":4706785,"display_name":"Peter"},"score":0,"creation_date":1691750587,"post_id":76882381,"comment_id":135537191,"body_markdown":"I suggest this is off-topic as C++ - although the OP is working with JNI, the question is about alternatives to a deprecated language/JVM feature in Java, interfacing from C++ will be via JNI (which is also part of the Java universe) so alternatives will ultimately be specified on the &quot;Java side&quot;.","body":"I suggest this is off-topic as C++ - although the OP is working with JNI, the question is about alternatives to a deprecated language/JVM feature in Java, interfacing from C++ will be via JNI (which is also part of the Java universe) so alternatives will ultimately be specified on the &quot;Java side&quot;."},{"owner":{"account_id":9481871,"reputation":33,"user_id":7049529,"display_name":"Bhuvaneshwaran Ilanthirayan"},"score":1,"creation_date":1691751695,"post_id":76882381,"comment_id":135537391,"body_markdown":"Thank you, i came across using Cleaner and found this video to be helpful : https://www.youtube.com/watch?v=CN18Sy6mMpQ . Together with your comment and the video I&#39;m able to get the whole approach.","body":"Thank you, i came across using Cleaner and found this video to be helpful : <a href=\"https://www.youtube.com/watch?v=CN18Sy6mMpQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=CN18Sy6mMpQ</a> . Together with your comment and the video I&#39;m able to get the whole approach."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692791907,"post_id":76882381,"comment_id":135671840,"body_markdown":"The better alternative is not to use native `new` for such an allocation in the first place. Allocate a direct `ByteBuffer` and place the native object into it (see JNI functions `NewDirectByteBuffer` and `GetDirectBufferAddress`). When you store a reference to the `ByteBuffer` object into the Java `History` object, you get the automatic cleanup for free.","body":"The better alternative is not to use native <code>new</code> for such an allocation in the first place. Allocate a direct <code>ByteBuffer</code> and place the native object into it (see JNI functions <code>NewDirectByteBuffer</code> and <code>GetDirectBufferAddress</code>). When you store a reference to the <code>ByteBuffer</code> object into the Java <code>History</code> object, you get the automatic cleanup for free."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1691756113,"post_id":76882632,"comment_id":135538294,"body_markdown":"Excellent answer!","body":"Excellent answer!"},{"owner":{"account_id":9481871,"reputation":33,"user_id":7049529,"display_name":"Bhuvaneshwaran Ilanthirayan"},"score":0,"creation_date":1691819404,"post_id":76882632,"comment_id":135546054,"body_markdown":"I used the short-hand approach which i got to know from the post linked but a dedicated answer would save a lot of time though, thank you for it.","body":"I used the short-hand approach which i got to know from the post linked but a dedicated answer would save a lot of time though, thank you for it."}],"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691749380,"creation_date":1691749054,"answer_id":76882632,"question_id":76882381,"body_markdown":"(I voted to reopen this question as the linked duplicate did not show a way to do this for JNI code)\r\n\r\nThe Cleaner API introduced in Java 9 allows you to register `Runnable` objects when your object becomes unreachable and thus eligible for garbage collection.\r\n\r\nI will show two equivalent approaches that involve JNI methods. Both require you to associate a `Cleaner` with your History class:\r\n\r\n```\r\nstatic Cleaner cleaner = cleaner.create();\r\n```\r\n\r\nFor you, the end goal is to call the `static` (!) `deleteHistory` method on the `long` holding the variable state.\r\n\r\n# The long approach\r\n\r\nSince `Cleaner`s want a `Runnable`, let us define one:\r\n```\r\nstatic class HistoryCleaner implements Runnable {\r\n  private long ptr;\r\n  public HistoryCleaner(long ptr) { this.ptr = ptr; }\r\n  public void run() {\r\n    History.deleteHistory(this.ptr);\r\n  }\r\n}\r\n```\r\nMake sure that `HistoryCleaner` does not create any reference to your `Cleaner` object, as that causes a reference cycle and will prevent the object from being garbage-collected.\r\n\r\nFor more advanced use cases, you can define the `run` method as `native` and implement it in c++ as \r\n```\r\nJNIEXPORT void JNICALL Java_HistoryCleaner_run(JNIEnv *env, jobject thiz) { ... }\r\n```\r\nKeep in mind that the `thiz` object is your `HistoryCleaner`, not the `History` object. \r\nThe constructor can now look like this:\r\n```\r\npublic History(long historyPointer){\r\n    this.historyPointer = historyPointer;\r\n    this.cleanable = cleaner.register(this, new HistoryCleaner(historyPointer));\r\n}\r\n```\r\n\r\n# Short-hand\r\nYou can use lambda syntax to skip creating a `Runnable`, but you must take care *not* to reference anything about the object. Thus, the constructor can become:\r\n```\r\npublic History(long historyPtr){\r\n    this.historyPointer = historyPtr;\r\n    this.cleanable = cleaner.register(this, () -&gt; History.deleteHistory(historyPtr));\r\n    // Note: historyPtr is a local variable so this does not keep a reference to the object.\r\n}\r\n```\r\n\r\n# A note on (Auto)Closable\r\nAs the Cleaner documentation shows, the `cleanable` object returned by `Cleaner#register` is useful to implement the `Closeable#close` method:\r\n```\r\npublic void close() {\r\n   cleanable.clean();\r\n}\r\n```\r\nThis allows you to use the java try-with-resources form to implicitly call `deleteHistory` for you OR call it automatically for you if you forget.","title":"Alternative for deprecated finalize method in java for JNI","body":"<p>(I voted to reopen this question as the linked duplicate did not show a way to do this for JNI code)</p>\n<p>The Cleaner API introduced in Java 9 allows you to register <code>Runnable</code> objects when your object becomes unreachable and thus eligible for garbage collection.</p>\n<p>I will show two equivalent approaches that involve JNI methods. Both require you to associate a <code>Cleaner</code> with your History class:</p>\n<pre><code>static Cleaner cleaner = cleaner.create();\n</code></pre>\n<p>For you, the end goal is to call the <code>static</code> (!) <code>deleteHistory</code> method on the <code>long</code> holding the variable state.</p>\n<h1>The long approach</h1>\n<p>Since <code>Cleaner</code>s want a <code>Runnable</code>, let us define one:</p>\n<pre><code>static class HistoryCleaner implements Runnable {\n  private long ptr;\n  public HistoryCleaner(long ptr) { this.ptr = ptr; }\n  public void run() {\n    History.deleteHistory(this.ptr);\n  }\n}\n</code></pre>\n<p>Make sure that <code>HistoryCleaner</code> does not create any reference to your <code>Cleaner</code> object, as that causes a reference cycle and will prevent the object from being garbage-collected.</p>\n<p>For more advanced use cases, you can define the <code>run</code> method as <code>native</code> and implement it in c++ as</p>\n<pre><code>JNIEXPORT void JNICALL Java_HistoryCleaner_run(JNIEnv *env, jobject thiz) { ... }\n</code></pre>\n<p>Keep in mind that the <code>thiz</code> object is your <code>HistoryCleaner</code>, not the <code>History</code> object.\nThe constructor can now look like this:</p>\n<pre><code>public History(long historyPointer){\n    this.historyPointer = historyPointer;\n    this.cleanable = cleaner.register(this, new HistoryCleaner(historyPointer));\n}\n</code></pre>\n<h1>Short-hand</h1>\n<p>You can use lambda syntax to skip creating a <code>Runnable</code>, but you must take care <em>not</em> to reference anything about the object. Thus, the constructor can become:</p>\n<pre><code>public History(long historyPtr){\n    this.historyPointer = historyPtr;\n    this.cleanable = cleaner.register(this, () -&gt; History.deleteHistory(historyPtr));\n    // Note: historyPtr is a local variable so this does not keep a reference to the object.\n}\n</code></pre>\n<h1>A note on (Auto)Closable</h1>\n<p>As the Cleaner documentation shows, the <code>cleanable</code> object returned by <code>Cleaner#register</code> is useful to implement the <code>Closeable#close</code> method:</p>\n<pre><code>public void close() {\n   cleanable.clean();\n}\n</code></pre>\n<p>This allows you to use the java try-with-resources form to implicitly call <code>deleteHistory</code> for you OR call it automatically for you if you forget.</p>\n"}],"owner":{"account_id":9481871,"reputation":33,"user_id":7049529,"display_name":"Bhuvaneshwaran Ilanthirayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76882632,"answer_count":1,"score":2,"last_activity_date":1691749380,"creation_date":1691747063,"question_id":76882381,"body_markdown":"I have a requirement to implement a bidirectional communication between C++ and Java where i use JNI. Most of the issues are solved by using JNI but i am worried more where i pass a pointer reference of a variable in heap memory of C++ to Java. I use the `new` keyword to allocate the reference in the heap memory and pass it to Java for future references to that particular variable. So, I&#39;ve to use `delete` to deallocate the variable from the heap memory of C++. Usually in Java this is achieved by using overriding `finalize()` method so the garbage collector invokes this method when deleting an object, but i see that `finalize` is deprecated from Java 9. Is there any other way to achieve the required functionality?\r\n\r\nC++ Code (Passing C++ Object reference to Java):\r\n~~~\r\njobject Helper::toJavaHistory(const History&amp; history) {\r\n\r\n    auto* historyPtr = new History(history);\r\n    jobject historyObject = getEnv()-&gt;NewObject(getHistoryClass(), getMethodID(&quot;History&quot;,&quot;&lt;init&gt;&quot;),reinterpret_cast&lt;jlong&gt;(historyPtr));\r\n    return historyObject;\r\n}\r\n~~~\r\n\r\nJava Code:\r\n~~~\r\npublic class History {\r\n    \r\n    public long historyPointer;\r\n\r\n    public History(long historyPointer){\r\n        this.historyPointer = historyPointer;\r\n    }\r\n    native void deleteHistory(long historyPtr);\r\n\r\n}\r\n\r\n~~~\r\n\r\nJNI Native Implementation C++:\r\n\r\n~~~\r\nJNIEXPORT void JNICALL Java_com_example_core_History_deleteHistory\r\n        (JNIEnv * env, jobject thisHistoryObject, jlong historyPtr) {\r\n    auto* history = reinterpret_cast&lt;History*&gt;(historyPtr);\r\n    delete history;\r\n}\r\n~~~","title":"Alternative for deprecated finalize method in java for JNI","body":"<p>I have a requirement to implement a bidirectional communication between C++ and Java where i use JNI. Most of the issues are solved by using JNI but i am worried more where i pass a pointer reference of a variable in heap memory of C++ to Java. I use the <code>new</code> keyword to allocate the reference in the heap memory and pass it to Java for future references to that particular variable. So, I've to use <code>delete</code> to deallocate the variable from the heap memory of C++. Usually in Java this is achieved by using overriding <code>finalize()</code> method so the garbage collector invokes this method when deleting an object, but i see that <code>finalize</code> is deprecated from Java 9. Is there any other way to achieve the required functionality?</p>\n<p>C++ Code (Passing C++ Object reference to Java):</p>\n<pre><code>jobject Helper::toJavaHistory(const History&amp; history) {\n\n    auto* historyPtr = new History(history);\n    jobject historyObject = getEnv()-&gt;NewObject(getHistoryClass(), getMethodID(&quot;History&quot;,&quot;&lt;init&gt;&quot;),reinterpret_cast&lt;jlong&gt;(historyPtr));\n    return historyObject;\n}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>public class History {\n    \n    public long historyPointer;\n\n    public History(long historyPointer){\n        this.historyPointer = historyPointer;\n    }\n    native void deleteHistory(long historyPtr);\n\n}\n\n</code></pre>\n<p>JNI Native Implementation C++:</p>\n<pre><code>JNIEXPORT void JNICALL Java_com_example_core_History_deleteHistory\n        (JNIEnv * env, jobject thisHistoryObject, jlong historyPtr) {\n    auto* history = reinterpret_cast&lt;History*&gt;(historyPtr);\n    delete history;\n}\n</code></pre>\n"},{"tags":["java","android","networking","printing"],"comments":[{"owner":{"account_id":1636374,"reputation":343,"user_id":1509734,"display_name":"Ganesh Krishnamoorthy"},"score":0,"creation_date":1489398485,"post_id":42760465,"comment_id":72636681,"body_markdown":"@RaghavPai Did you understand my question? I am unable to see difference between system and printer ip address.","body":"@RaghavPai Did you understand my question? I am unable to see difference between system and printer ip address."},{"owner":{"account_id":7370555,"reputation":642,"user_id":5610842,"display_name":"RaghavPai"},"score":0,"creation_date":1489398889,"post_id":42760465,"comment_id":72636930,"body_markdown":"i am sorry fr d confusion","body":"i am sorry fr d confusion"}],"answers":[{"comments":[{"owner":{"account_id":1636374,"reputation":343,"user_id":1509734,"display_name":"Ganesh Krishnamoorthy"},"score":0,"creation_date":1490001065,"post_id":42863575,"comment_id":72899067,"body_markdown":"Thanks alot! @Nonos","body":"Thanks alot! @Nonos"},{"owner":{"account_id":1636374,"reputation":343,"user_id":1509734,"display_name":"Ganesh Krishnamoorthy"},"score":0,"creation_date":1490162220,"post_id":42863575,"comment_id":72983769,"body_markdown":"do you know how to find other devices using Network Service Discovery?","body":"do you know how to find other devices using Network Service Discovery?"},{"owner":{"account_id":1107900,"reputation":2470,"user_id":1098917,"accept_rate":85,"display_name":"Nonos"},"score":0,"creation_date":1490204674,"post_id":42863575,"comment_id":73012454,"body_markdown":"Services and port numbers are defined by IANA: https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xml. The service type is in the format “_&lt;protocol&gt;._&lt;transportLayer&gt;”","body":"Services and port numbers are defined by IANA: <a href=\"https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xml\" rel=\"nofollow noreferrer\">iana.org/assignments/service-names-port-numbers/&hellip;</a>. The service type is in the format “_&lt;protocol&gt;._&lt;transportLayer&gt;”"}],"tags":[],"owner":{"account_id":1107900,"reputation":2470,"user_id":1098917,"accept_rate":85,"display_name":"Nonos"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489771058,"creation_date":1489771058,"answer_id":42863575,"question_id":42760465,"body_markdown":"You can use the framework&#39;s [Network Service Discovery][1]. Look for service type: &quot;_ipp._tcp&quot;.\r\n\r\n\r\n  [1]: https://developer.android.com/training/connect-devices-wirelessly/nsd.html","title":"How to find printer ip address in the same lan or wifi network?","body":"<p>You can use the framework's <a href=\"https://developer.android.com/training/connect-devices-wirelessly/nsd.html\" rel=\"nofollow noreferrer\">Network Service Discovery</a>. Look for service type: \"_ipp._tcp\".</p>\n"}],"owner":{"account_id":1636374,"reputation":343,"user_id":1509734,"display_name":"Ganesh Krishnamoorthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691749140,"creation_date":1489398049,"question_id":42760465,"body_markdown":"Actually, i need to print a document without print manager in android. So i would able to get all ip address in the same wifi network. But i am unable to find which one is printer ip address. So please update any one if you know.","title":"How to find printer ip address in the same lan or wifi network?","body":"<p>Actually, i need to print a document without print manager in android. So i would able to get all ip address in the same wifi network. But i am unable to find which one is printer ip address. So please update any one if you know.</p>\n"},{"tags":["java","android","image-processing","jpeg","yuv"],"answers":[{"comments":[{"owner":{"account_id":3997867,"reputation":37,"user_id":3294816,"accept_rate":0,"display_name":"user3294816"},"score":0,"creation_date":1493086822,"post_id":42684417,"comment_id":74251033,"body_markdown":"thank you for the input. Do you have any references where I can look up the algorithm for this particular conversion.","body":"thank you for the input. Do you have any references where I can look up the algorithm for this particular conversion."},{"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"score":0,"creation_date":1493149490,"post_id":42684417,"comment_id":74288240,"body_markdown":"I don&#39;t have a Java reference handy, but added a C++ code reference","body":"I don&#39;t have a Java reference handy, but added a C++ code reference"},{"owner":{"account_id":3997867,"reputation":37,"user_id":3294816,"accept_rate":0,"display_name":"user3294816"},"score":0,"creation_date":1493771972,"post_id":42684417,"comment_id":74541392,"body_markdown":"Thanks! This works flawlessly. I only needed to switch the definition of Cr and Cb to get the color displayed properly.","body":"Thanks! This works flawlessly. I only needed to switch the definition of Cr and Cb to get the color displayed properly."}],"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493149481,"creation_date":1489018540,"answer_id":42684417,"question_id":42659824,"body_markdown":"No, this isn&#39;t correct - you&#39;re not paying attention to the Plane&#39;s row stride or pixel stride.  \r\n\r\nYou have to parse those, and make sure that your output buffer actually matches the input expectations of YuvImage&#39;s NV21 input, which assumes row stride = width, and interleaved V/U planes.\r\n\r\nThe code you have will only work if the input Image U/V planes are actually interleaved (in which case you&#39;re adding twice the UV data you need, but the first copy happens to be right layout...), and if width==row stride.  Whether width==row stride depends on the resolution; usually the stride has to be a multiple of 16 pixels or something similar due to hardware restrictions.  So for resolutions that aren&#39;t a multiple of 16, for example, your code wouldn&#39;t work.\r\n\r\nPlease fix both issues - paying attention to row and pixel stride; otherwise you might make it work on your device by accident, and still have it broken on devices with different parameters for strides.\r\n\r\n**Edit:**\r\n\r\nSome sample C++ code that does this kind of conversion can be found in the Android AOSP camera service code: [CallbackProcessor::convertFromFlexibleYuv][1].  \r\n\r\nMappings for reference:\r\n\r\n - previewFormat of *HAL_PIXEL_FORMAT_YCrCb_420_SP* is NV21.  \r\n - src.data is plane 0\r\n - src.dataCb is is plane 1\r\n - src.dataCr is plane 2\r\n - src.stride is plane 0 rowStride\r\n - src.chromaStride is plane 1 and 2 rowStride\r\n - src.chromaStep is plane 1 and2 pixelStride\r\n - plane 0 pixel stride is 1\r\n\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/av/+/0dda20cb544adbc640abc3cbf9a3e0d6d9c91432/services/camera/libcameraservice/camera2/CallbackProcessor.cpp#390","title":"Convert yuv420 to jpeg in android camera2","body":"<p>No, this isn't correct - you're not paying attention to the Plane's row stride or pixel stride.  </p>\n\n<p>You have to parse those, and make sure that your output buffer actually matches the input expectations of YuvImage's NV21 input, which assumes row stride = width, and interleaved V/U planes.</p>\n\n<p>The code you have will only work if the input Image U/V planes are actually interleaved (in which case you're adding twice the UV data you need, but the first copy happens to be right layout...), and if width==row stride.  Whether width==row stride depends on the resolution; usually the stride has to be a multiple of 16 pixels or something similar due to hardware restrictions.  So for resolutions that aren't a multiple of 16, for example, your code wouldn't work.</p>\n\n<p>Please fix both issues - paying attention to row and pixel stride; otherwise you might make it work on your device by accident, and still have it broken on devices with different parameters for strides.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Some sample C++ code that does this kind of conversion can be found in the Android AOSP camera service code: <a href=\"https://android.googlesource.com/platform/frameworks/av/+/0dda20cb544adbc640abc3cbf9a3e0d6d9c91432/services/camera/libcameraservice/camera2/CallbackProcessor.cpp#390\" rel=\"nofollow noreferrer\">CallbackProcessor::convertFromFlexibleYuv</a>.  </p>\n\n<p>Mappings for reference:</p>\n\n<ul>\n<li>previewFormat of <em>HAL_PIXEL_FORMAT_YCrCb_420_SP</em> is NV21.  </li>\n<li>src.data is plane 0</li>\n<li>src.dataCb is is plane 1</li>\n<li>src.dataCr is plane 2</li>\n<li>src.stride is plane 0 rowStride</li>\n<li>src.chromaStride is plane 1 and 2 rowStride</li>\n<li>src.chromaStep is plane 1 and2 pixelStride</li>\n<li>plane 0 pixel stride is 1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7657038,"reputation":371,"user_id":5803526,"display_name":"tonykwok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691749067,"creation_date":1691749067,"answer_id":76882633,"question_id":42659824,"body_markdown":"JFYR, here&#39;s the Java implementation from Android [CameraX][1] project\r\n\r\n    /** {@link android.media.Image} to NV21 byte array. */\r\n    @NonNull\r\n    public static byte[] yuv_420_888toNv21(@NonNull Image image) {\r\n        Image.Plane yPlane = image.getPlanes()[0];\r\n        Image.Plane uPlane = image.getPlanes()[1];\r\n        Image.Plane vPlane = image.getPlanes()[2];\r\n\r\n        ByteBuffer yBuffer = yPlane.getBuffer();\r\n        ByteBuffer uBuffer = uPlane.getBuffer();\r\n        ByteBuffer vBuffer = vPlane.getBuffer();\r\n        yBuffer.rewind();\r\n        uBuffer.rewind();\r\n        vBuffer.rewind();\r\n\r\n        int ySize = yBuffer.remaining();\r\n\r\n        int position = 0;\r\n        // TODO(b/115743986): Pull these bytes from a pool instead of allocating for every image.\r\n        byte[] nv21 = new byte[ySize + (image.getWidth() * image.getHeight() / 2)];\r\n\r\n        // Add the full y buffer to the array. If rowStride &gt; 1, some padding may be skipped.\r\n        for (int row = 0; row &lt; image.getHeight(); row++) {\r\n            yBuffer.get(nv21, position, image.getWidth());\r\n            position += image.getWidth();\r\n            yBuffer.position(\r\n                    Math.min(ySize, yBuffer.position() - image.getWidth() + yPlane.getRowStride()));\r\n        }\r\n\r\n        int chromaHeight = image.getHeight() / 2;\r\n        int chromaWidth = image.getWidth() / 2;\r\n        int vRowStride = vPlane.getRowStride();\r\n        int uRowStride = uPlane.getRowStride();\r\n        int vPixelStride = vPlane.getPixelStride();\r\n        int uPixelStride = uPlane.getPixelStride();\r\n\r\n        // Interleave the u and v frames, filling up the rest of the buffer. Use two line buffers to\r\n        // perform faster bulk gets from the byte buffers.\r\n        byte[] vLineBuffer = new byte[vRowStride];\r\n        byte[] uLineBuffer = new byte[uRowStride];\r\n        for (int row = 0; row &lt; chromaHeight; row++) {\r\n            vBuffer.get(vLineBuffer, 0, Math.min(vRowStride, vBuffer.remaining()));\r\n            uBuffer.get(uLineBuffer, 0, Math.min(uRowStride, uBuffer.remaining()));\r\n            int vLineBufferPosition = 0;\r\n            int uLineBufferPosition = 0;\r\n            for (int col = 0; col &lt; chromaWidth; col++) {\r\n                nv21[position++] = vLineBuffer[vLineBufferPosition];\r\n                nv21[position++] = uLineBuffer[uLineBufferPosition];\r\n                vLineBufferPosition += vPixelStride;\r\n                uLineBufferPosition += uPixelStride;\r\n            }\r\n        }\r\n\r\n        return nv21;\r\n    }\r\n\r\nOnce you get `NV21` from `YUV420_888` Image, you can use `YuvImage` to compress it to `JPEG` (You can also find this in the same file as mentioned below)\r\n\r\n  [1]: https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:camera/camera-core/src/main/java/androidx/camera/core/internal/utils/ImageUtil.java","title":"Convert yuv420 to jpeg in android camera2","body":"<p>JFYR, here's the Java implementation from Android <a href=\"https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:camera/camera-core/src/main/java/androidx/camera/core/internal/utils/ImageUtil.java\" rel=\"nofollow noreferrer\">CameraX</a> project</p>\n<pre><code>/** {@link android.media.Image} to NV21 byte array. */\n@NonNull\npublic static byte[] yuv_420_888toNv21(@NonNull Image image) {\n    Image.Plane yPlane = image.getPlanes()[0];\n    Image.Plane uPlane = image.getPlanes()[1];\n    Image.Plane vPlane = image.getPlanes()[2];\n\n    ByteBuffer yBuffer = yPlane.getBuffer();\n    ByteBuffer uBuffer = uPlane.getBuffer();\n    ByteBuffer vBuffer = vPlane.getBuffer();\n    yBuffer.rewind();\n    uBuffer.rewind();\n    vBuffer.rewind();\n\n    int ySize = yBuffer.remaining();\n\n    int position = 0;\n    // TODO(b/115743986): Pull these bytes from a pool instead of allocating for every image.\n    byte[] nv21 = new byte[ySize + (image.getWidth() * image.getHeight() / 2)];\n\n    // Add the full y buffer to the array. If rowStride &gt; 1, some padding may be skipped.\n    for (int row = 0; row &lt; image.getHeight(); row++) {\n        yBuffer.get(nv21, position, image.getWidth());\n        position += image.getWidth();\n        yBuffer.position(\n                Math.min(ySize, yBuffer.position() - image.getWidth() + yPlane.getRowStride()));\n    }\n\n    int chromaHeight = image.getHeight() / 2;\n    int chromaWidth = image.getWidth() / 2;\n    int vRowStride = vPlane.getRowStride();\n    int uRowStride = uPlane.getRowStride();\n    int vPixelStride = vPlane.getPixelStride();\n    int uPixelStride = uPlane.getPixelStride();\n\n    // Interleave the u and v frames, filling up the rest of the buffer. Use two line buffers to\n    // perform faster bulk gets from the byte buffers.\n    byte[] vLineBuffer = new byte[vRowStride];\n    byte[] uLineBuffer = new byte[uRowStride];\n    for (int row = 0; row &lt; chromaHeight; row++) {\n        vBuffer.get(vLineBuffer, 0, Math.min(vRowStride, vBuffer.remaining()));\n        uBuffer.get(uLineBuffer, 0, Math.min(uRowStride, uBuffer.remaining()));\n        int vLineBufferPosition = 0;\n        int uLineBufferPosition = 0;\n        for (int col = 0; col &lt; chromaWidth; col++) {\n            nv21[position++] = vLineBuffer[vLineBufferPosition];\n            nv21[position++] = uLineBuffer[uLineBufferPosition];\n            vLineBufferPosition += vPixelStride;\n            uLineBufferPosition += uPixelStride;\n        }\n    }\n\n    return nv21;\n}\n</code></pre>\n<p>Once you get <code>NV21</code> from <code>YUV420_888</code> Image, you can use <code>YuvImage</code> to compress it to <code>JPEG</code> (You can also find this in the same file as mentioned below)</p>\n"}],"owner":{"account_id":3997867,"reputation":37,"user_id":3294816,"accept_rate":0,"display_name":"user3294816"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691749067,"creation_date":1488926927,"question_id":42659824,"body_markdown":"I am trying to save yuv 420 preview frames obtained in android camera2 to jpeg. The only way I found of doing it was to convert the yuv420 to nv21, construct a yuvimage and then use the compresstojpeg method to get the jpeg. In order to convert from yuv420 to jpeg I am using the logic below\r\n\r\n                Image.Plane Y = img.getPlanes()[0];\r\n                Image.Plane U = img.getPlanes()[2];\r\n                Image.Plane V = img.getPlanes()[1];\r\n\r\n                int Yb = Y.getBuffer().remaining();\r\n                int Ub = U.getBuffer().remaining();\r\n                int Vb = V.getBuffer().remaining();\r\n\r\n                byte[] data = new byte[Yb + Ub + Vb];\r\n\r\n                Y.getBuffer().get(data, 0, Yb);\r\n                U.getBuffer().get(data, Yb, Ub);\r\n                V.getBuffer().get(data, Yb + Ub, Vb);\r\n\r\n                YuvImage yuvImage = new YuvImage(data, ImageFormat.NV21,\r\n                    mPreviewSize.getWidth(), mPreviewSize.getHeight(), null);\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                yuvImage.compressToJpeg(new Rect(0, 0,\r\n                        mPreviewSize.getWidth(), mPreviewSize.getHeight()),\r\n                    100, out);\r\n\r\nHowever this results in getting green images for certain resolutions 144 x 176 , 176x144, 352x288, 480x360, 1280x960. Is the logic for converting to nv21 correct? What other way can I use for converting to jpeg from yuv420.\nIs there any Java/Android api for this?","title":"Convert yuv420 to jpeg in android camera2","body":"<p>I am trying to save yuv 420 preview frames obtained in android camera2 to jpeg. The only way I found of doing it was to convert the yuv420 to nv21, construct a yuvimage and then use the compresstojpeg method to get the jpeg. In order to convert from yuv420 to jpeg I am using the logic below</p>\n\n<pre><code>            Image.Plane Y = img.getPlanes()[0];\n            Image.Plane U = img.getPlanes()[2];\n            Image.Plane V = img.getPlanes()[1];\n\n            int Yb = Y.getBuffer().remaining();\n            int Ub = U.getBuffer().remaining();\n            int Vb = V.getBuffer().remaining();\n\n            byte[] data = new byte[Yb + Ub + Vb];\n\n            Y.getBuffer().get(data, 0, Yb);\n            U.getBuffer().get(data, Yb, Ub);\n            V.getBuffer().get(data, Yb + Ub, Vb);\n\n            YuvImage yuvImage = new YuvImage(data, ImageFormat.NV21,\n                mPreviewSize.getWidth(), mPreviewSize.getHeight(), null);\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            yuvImage.compressToJpeg(new Rect(0, 0,\n                    mPreviewSize.getWidth(), mPreviewSize.getHeight()),\n                100, out);\n</code></pre>\n\n<p>However this results in getting green images for certain resolutions 144 x 176 , 176x144, 352x288, 480x360, 1280x960. Is the logic for converting to nv21 correct? What other way can I use for converting to jpeg from yuv420.\nIs there any Java/Android api for this?</p>\n"},{"tags":["java","loops","integer","numbers","perfect-numbers"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1680813445,"post_id":75953484,"comment_id":133965407,"body_markdown":"Why is your method taking an array of `System`, a class that can&#39;t be instantiated?  Did you miss the semicolon on `++number`?","body":"Why is your method taking an array of <code>System</code>, a class that can&#39;t be instantiated?  Did you miss the semicolon on <code>++number</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26491591,"reputation":27,"user_id":20129821,"display_name":"Arson1st"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680814570,"creation_date":1680814570,"answer_id":75953701,"question_id":75953484,"body_markdown":"Your code will exit from for loop everytime &quot;number % factorNum == 0&quot; is not true. So it works when number is 6 because factorNum&#39;s are 1,2,3 and it will exit the code when factorNum is 4.\r\n\r\nMy solution:\r\n\r\n    public class partC {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint number = 2;\r\n    \r\n    \t\twhile (number &lt;= 20000) {\r\n    \t\t\tint sum = 0;\r\n    \t\t\tfor (int factorNum = 1; number &gt; factorNum; factorNum++) {\r\n    \t\t\t\t\r\n    \t\t\t\tif (number % factorNum == 0) {\r\n    \t\t\t\t\tsum += factorNum;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tif (number == sum) {\r\n    \t\t\t\t\tSystem.out.println(number);\r\n                }\r\n    \t\t\tnumber++;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nInstead of checking if sum is equal to the number in for loop, you can just calculate the sums of factorNums in for loop and check if sum is equal to that number after the for loop.","title":"I&#39;m supposed to find all of the perfect numbers in between 2-20,000","body":"<p>Your code will exit from for loop everytime &quot;number % factorNum == 0&quot; is not true. So it works when number is 6 because factorNum's are 1,2,3 and it will exit the code when factorNum is 4.</p>\n<p>My solution:</p>\n<pre><code>public class partC {\n    public static void main(String[] args) {\n        int number = 2;\n\n        while (number &lt;= 20000) {\n            int sum = 0;\n            for (int factorNum = 1; number &gt; factorNum; factorNum++) {\n                \n                if (number % factorNum == 0) {\n                    sum += factorNum;\n                }\n                \n            }\n            if (number == sum) {\n                    System.out.println(number);\n            }\n            number++;\n        }\n    }\n}\n</code></pre>\n<p>Instead of checking if sum is equal to the number in for loop, you can just calculate the sums of factorNums in for loop and check if sum is equal to that number after the for loop.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680867580,"creation_date":1680832254,"answer_id":75954924,"question_id":75953484,"body_markdown":"You&#39;re not computing your divisors correctly.  You need to set `sum to 1` and then iterate starting at `2` while `factorNum &lt; number`. But a somewhat better method is to consider that if `a % b == 0` then both `b` and `a/b` are divisors.  So you only need to check `factors &lt;= to the square root` of the test number.  It would look like the following:\r\n```\r\nint sum = 1;\r\nint limit = (int)Math.sqrt(number);\r\nfor (int factorNum = 2; factorNum &lt;= limit; factorNum++) {        \r\n     if (number % factorNum == 0) {\r\n         sum += (factorNum + number/factorNum);\r\n     }   \r\n}\r\n```\r\nBut even the above is not very efficient for finding larger perfect numbers. As they get large very quickly, the loop is very time consuming.  A better way is to use [BigInteger](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigInteger.html) to allow for arbitrarily large numbers and to take advantage  of their form as detailed in [Perfect Number](https://en.wikipedia.org/wiki/Perfect_number).  An abbreviated explanation is provided below.\r\n\r\n\r\nIf **p** is prime and **2&lt;sup&gt;p&lt;/sup&gt;-1** is prime then then **(2&lt;sup&gt;p-1&lt;/sup&gt;)(2&lt;sup&gt;p&lt;/sup&gt;-1)** is a perfect number. So the following will find all perfect numbers up to a given maximum. You can adjust it as required, but the max I have chosen is **2&lt;sup&gt;150&lt;/sup&gt;**.  The only thing that is special about the following is that `BigInteger` is used along with its test for primality.  The computations are just basic mathematical operations.\r\n```\r\nint p = 2;\r\n// BigInteger max = BigInteger.valueOf(22_000);\r\nBigInteger max = BigInteger.TWO.pow(150);\r\nBigInteger perfect = BigInteger.ZERO;\r\nwhile(perfect.compareTo(max) &lt; 0) {\r\n    if (BigInteger.valueOf(p).isProbablePrime(50)) {\r\n        BigInteger powerOfTwo = BigInteger.TWO.pow(p-1);\r\n        BigInteger mersenne = powerOfTwo.multiply(BigInteger.TWO).subtract(BigInteger.ONE);\r\n        if(mersenne.isProbablePrime(50)) {\r\n            perfect = powerOfTwo.multiply(mersenne);\r\n            System.out.println(perfect);\r\n        }\r\n    }\r\n    p += p &gt; 2 ? 2 : 1;\r\n}\r\n```\r\nprints\r\n```\r\n6\r\n28\r\n496\r\n8128\r\n33550336\r\n8589869056\r\n137438691328\r\n2305843008139952128\r\n2658455991569831744654692615953842176\r\n191561942608236107294793378084303638130997321548169216\r\n\r\n\r\n","title":"I&#39;m supposed to find all of the perfect numbers in between 2-20,000","body":"<p>You're not computing your divisors correctly.  You need to set <code>sum to 1</code> and then iterate starting at <code>2</code> while <code>factorNum &lt; number</code>. But a somewhat better method is to consider that if <code>a % b == 0</code> then both <code>b</code> and <code>a/b</code> are divisors.  So you only need to check <code>factors &lt;= to the square root</code> of the test number.  It would look like the following:</p>\n<pre><code>int sum = 1;\nint limit = (int)Math.sqrt(number);\nfor (int factorNum = 2; factorNum &lt;= limit; factorNum++) {        \n     if (number % factorNum == 0) {\n         sum += (factorNum + number/factorNum);\n     }   \n}\n</code></pre>\n<p>But even the above is not very efficient for finding larger perfect numbers. As they get large very quickly, the loop is very time consuming.  A better way is to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> to allow for arbitrarily large numbers and to take advantage  of their form as detailed in <a href=\"https://en.wikipedia.org/wiki/Perfect_number\" rel=\"nofollow noreferrer\">Perfect Number</a>.  An abbreviated explanation is provided below.</p>\n<p>If <strong>p</strong> is prime and <strong>2<sup>p</sup>-1</strong> is prime then then <strong>(2<sup>p-1</sup>)(2<sup>p</sup>-1)</strong> is a perfect number. So the following will find all perfect numbers up to a given maximum. You can adjust it as required, but the max I have chosen is <strong>2<sup>150</sup></strong>.  The only thing that is special about the following is that <code>BigInteger</code> is used along with its test for primality.  The computations are just basic mathematical operations.</p>\n<pre><code>int p = 2;\n// BigInteger max = BigInteger.valueOf(22_000);\nBigInteger max = BigInteger.TWO.pow(150);\nBigInteger perfect = BigInteger.ZERO;\nwhile(perfect.compareTo(max) &lt; 0) {\n    if (BigInteger.valueOf(p).isProbablePrime(50)) {\n        BigInteger powerOfTwo = BigInteger.TWO.pow(p-1);\n        BigInteger mersenne = powerOfTwo.multiply(BigInteger.TWO).subtract(BigInteger.ONE);\n        if(mersenne.isProbablePrime(50)) {\n            perfect = powerOfTwo.multiply(mersenne);\n            System.out.println(perfect);\n        }\n    }\n    p += p &gt; 2 ? 2 : 1;\n}\n</code></pre>\n<p>prints</p>\n<pre><code>6\n28\n496\n8128\n33550336\n8589869056\n137438691328\n2305843008139952128\n2658455991569831744654692615953842176\n191561942608236107294793378084303638130997321548169216\n\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1691755394,"post_id":76882602,"comment_id":135538180,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76882602/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29200049,"reputation":1,"user_id":22370370,"display_name":"Yigit Emre TURKKAN"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691748865,"creation_date":1691748865,"answer_id":76882602,"question_id":75953484,"body_markdown":"My solution:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n        for(int loopNumber = 1; loopNumber&lt;20000; loopNumber++) {\r\n\r\n            int controlValue = 0;\r\n\r\n            for (int i = 1; i &lt;= loopNumber; i++) {\r\n                if (loopNumber % i == 0) {\r\n                    controlValue = (controlValue += i);\r\n                }\r\n            }\r\n\r\n            if (controlValue == loopNumber*2) {\r\n                System.out.println(&quot;This number is perfect number: &quot;+loopNumber);\r\n            }\r\n        }\r\n\r\n      }\r\n    }","title":"I&#39;m supposed to find all of the perfect numbers in between 2-20,000","body":"<p>My solution:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\npublic static void main(String[] args) {\n\n    for(int loopNumber = 1; loopNumber&lt;20000; loopNumber++) {\n\n        int controlValue = 0;\n\n        for (int i = 1; i &lt;= loopNumber; i++) {\n            if (loopNumber % i == 0) {\n                controlValue = (controlValue += i);\n            }\n        }\n\n        if (controlValue == loopNumber*2) {\n            System.out.println(&quot;This number is perfect number: &quot;+loopNumber);\n        }\n    }\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28235517,"reputation":11,"user_id":21584067,"display_name":"Noah Klug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1691748865,"creation_date":1680812649,"question_id":75953484,"body_markdown":"As the title says, I&#39;m supposed to write a program that outputs all the perfect numbers between 2-20,000. The program I have written looks correct to me, but it only outputs &quot;6&quot; even though it&#39;s in a for loop and it should be giving me the rest of the numbers, right? I&#39;m a new computer science student, so I&#39;m still trying to learn all this.\r\n\r\n```\r\npublic static void partC(System [] args){\r\n   int number = 2;\r\n   \r\n   while(number &lt;= 20000){\r\n      int factorNum = 1;\r\n      \r\n      for(int sum = 0; number % factorNum == 0; factorNum++){\r\n         if(number % factorNum == 0){\r\n            sum += factorNum;\r\n         }\r\n         if(number == sum){\r\n            System.out.println(number);\r\n         }\r\n      }\r\n      ++number\r\n   }\r\n}   \r\n```","title":"I&#39;m supposed to find all of the perfect numbers in between 2-20,000","body":"<p>As the title says, I'm supposed to write a program that outputs all the perfect numbers between 2-20,000. The program I have written looks correct to me, but it only outputs &quot;6&quot; even though it's in a for loop and it should be giving me the rest of the numbers, right? I'm a new computer science student, so I'm still trying to learn all this.</p>\n<pre><code>public static void partC(System [] args){\n   int number = 2;\n   \n   while(number &lt;= 20000){\n      int factorNum = 1;\n      \n      for(int sum = 0; number % factorNum == 0; factorNum++){\n         if(number % factorNum == 0){\n            sum += factorNum;\n         }\n         if(number == sum){\n            System.out.println(number);\n         }\n      }\n      ++number\n   }\n}   \n</code></pre>\n"},{"tags":["java","android","ringtone"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1521107040,"post_id":49295976,"comment_id":85594079,"body_markdown":"Possible duplicate of [How to get current ringtone in Android?](https://stackoverflow.com/questions/22503189/how-to-get-current-ringtone-in-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22503189/how-to-get-current-ringtone-in-android\">How to get current ringtone in Android?</a>"},{"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"score":0,"creation_date":1521107838,"post_id":49295976,"comment_id":85594608,"body_markdown":"Not duplicate. I need something else.","body":"Not duplicate. I need something else."},{"owner":{"account_id":7231313,"reputation":2321,"user_id":5518027,"display_name":"Arpan Sarkar"},"score":0,"creation_date":1521108179,"post_id":49295976,"comment_id":85594857,"body_markdown":"You can use reflection to access the `mUri` field","body":"You can use reflection to access the <code>mUri</code> field"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1521108485,"post_id":49295976,"comment_id":85595051,"body_markdown":"What are you asking, exactly? That `mUri` field is the `Uri` you just passed into the `RingtoneManager.getRingtone()` call.","body":"What are you asking, exactly? That <code>mUri</code> field is the <code>Uri</code> you just passed into the <code>RingtoneManager.getRingtone()</code> call."},{"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"score":0,"creation_date":1521108511,"post_id":49295976,"comment_id":85595077,"body_markdown":"@Arpan&#223;l&#248;&#248;dy&#223;ad&#223;&#248;y I don&#39;t know how I can use the reflection. Can you give me a sample?","body":"@Arpan&#223;l&#248;&#248;dy&#223;ad&#223;&#248;y I don&#39;t know how I can use the reflection. Can you give me a sample?"},{"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"score":0,"creation_date":1521108604,"post_id":49295976,"comment_id":85595132,"body_markdown":"@MikeM. No mike, I pass content://settings/system/ringtone as uri but I need the physical path of the system ringtone. So I need content://media/internal/audio/media/110","body":"@MikeM. No mike, I pass content://settings/system/ringtone as uri but I need the physical path of the system ringtone. So I need content://media/internal/audio/media/110"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1521109099,"post_id":49295976,"comment_id":85595430,"body_markdown":"Well, that&#39;s not a physical path. It&#39;s a content URI. Anyway, following the source, it should be exactly what you just passed: https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/RingtoneManager.java#733, https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/Ringtone.java#284.","body":"Well, that&#39;s not a physical path. It&#39;s a content URI. Anyway, following the source, it should be exactly what you just passed: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/RingtoneManager.java#733\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/&hellip;</a>&zwnj;&#8203;, <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/Ringtone.java#284\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/&hellip;</a>&zwnj;&#8203;."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1521109261,"post_id":49295976,"comment_id":85595547,"body_markdown":"In any case, as Arpan &#223;l&#248;&#248;dy &#223;ad&#223;&#248;y suggested, you can get that field with reflection: `Field f = Ringtone.class.getDeclaredField(&quot;mUri&quot;);`, `f.setAccessible(true);`, `Uri uri = (Uri) f.get(rt);`. See what that gives you.","body":"In any case, as Arpan &#223;l&#248;&#248;dy &#223;ad&#223;&#248;y suggested, you can get that field with reflection: <code>Field f = Ringtone.class.getDeclaredField(&quot;mUri&quot;);</code>, <code>f.setAccessible(true);</code>, <code>Uri uri = (Uri) f.get(rt);</code>. See what that gives you."},{"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"score":0,"creation_date":1521110365,"post_id":49295976,"comment_id":85596325,"body_markdown":"@MikeM. Many Thanks","body":"@MikeM. Many Thanks"}],"answers":[{"comments":[{"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"score":0,"creation_date":1521107699,"post_id":49296112,"comment_id":85594502,"body_markdown":"This returns content://media/internal/audio/media but I need to have content://media/internal/audio/media/110","body":"This returns content://media/internal/audio/media but I need to have content://media/internal/audio/media/110"}],"tags":[],"owner":{"account_id":3791389,"reputation":9,"user_id":3147827,"display_name":"Manish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521107282,"creation_date":1521107282,"answer_id":49296112,"question_id":49295976,"body_markdown":"    public void RingtonesList() {\r\n      RingtoneManager manager = new RingtoneManager(this);\r\n      manager.setType(RingtoneManager.TYPE_RINGTONE);\r\n      Cursor cursor = manager.getCursor();\r\n      while (cursor.moveToNext()) {\r\n        String title = cursor.getString(RingtoneManager.TITLE_COLUMN_INDEX);\r\n        String uri = cursor.getString(RingtoneManager.URI_COLUMN_INDEX);\r\n        // Do something with the title and the URI of ringtone\r\n    Log.d(&quot;URI&quot;,&quot;&quot;+uri);\r\n      }\r\n    }\r\n    \r\n    Also give permission\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;","title":"How can I get default ringtone uri","body":"<pre><code>public void RingtonesList() {\n  RingtoneManager manager = new RingtoneManager(this);\n  manager.setType(RingtoneManager.TYPE_RINGTONE);\n  Cursor cursor = manager.getCursor();\n  while (cursor.moveToNext()) {\n    String title = cursor.getString(RingtoneManager.TITLE_COLUMN_INDEX);\n    String uri = cursor.getString(RingtoneManager.URI_COLUMN_INDEX);\n    // Do something with the title and the URI of ringtone\nLog.d(\"URI\",\"\"+uri);\n  }\n}\n\nAlso give permission\n\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_INTERNAL_STORAGE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7866530,"reputation":528,"user_id":5945193,"accept_rate":40,"display_name":"Vivek Bhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521108370,"creation_date":1521108370,"answer_id":49296531,"question_id":49295976,"body_markdown":"    Uri defaultRingtoneUri = RingtoneManager.getActualDefaultRingtoneUri(getActivity().getApplicationContext(), RingtoneManager.TYPE_RINGTONE);\r\n    Ringtone defaultRingtone = RingtoneManager.getRingtone(getActivity(), defaultRingtoneUri);\r\n\r\n\r\nHope this works for you ! :)","title":"How can I get default ringtone uri","body":"<pre><code>Uri defaultRingtoneUri = RingtoneManager.getActualDefaultRingtoneUri(getActivity().getApplicationContext(), RingtoneManager.TYPE_RINGTONE);\nRingtone defaultRingtone = RingtoneManager.getRingtone(getActivity(), defaultRingtoneUri);\n</code></pre>\n\n<p>Hope this works for you ! :)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692020752,"post_id":76882598,"comment_id":135565452,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76882598/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22772314,"reputation":1,"user_id":16929529,"display_name":"Ben Max"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691748819,"creation_date":1691748819,"answer_id":76882598,"question_id":49295976,"body_markdown":"    String mimeType;\r\n            if (outPath.endsWith(&quot;.m4a&quot;)) {\r\n                mimeType = &quot;audio/mp4a-latm&quot;;\r\n            } else if (outPath.endsWith(&quot;.wav&quot;)) {\r\n                mimeType = &quot;audio/wav&quot;;\r\n            } else {\r\n                // This should never happen.\r\n                mimeType = &quot;audio/mpeg&quot;;\r\n            }    \r\n    ContentValues values = new ContentValues();\r\n            values.put(MediaStore.MediaColumns.DATA, outPath);\r\n            values.put(MediaStore.MediaColumns.TITLE, title.toString());\r\n            values.put(MediaStore.MediaColumns.SIZE, fileSize);\r\n            values.put(MediaStore.MediaColumns.MIME_TYPE, mimeType);\r\n    Uri uri = MediaStore.Audio.Media.getContentUriForPath(outPath);\r\n            final Uri newUri = getContentResolver().insert(uri, values);\r\n\r\nI am using this to set a file as ringtone for my phone, similar to Toque123, Tonos123, Sonneries123, Belsoli123, Chakushinon123\r\n","title":"How can I get default ringtone uri","body":"<pre><code>String mimeType;\n        if (outPath.endsWith(&quot;.m4a&quot;)) {\n            mimeType = &quot;audio/mp4a-latm&quot;;\n        } else if (outPath.endsWith(&quot;.wav&quot;)) {\n            mimeType = &quot;audio/wav&quot;;\n        } else {\n            // This should never happen.\n            mimeType = &quot;audio/mpeg&quot;;\n        }    \nContentValues values = new ContentValues();\n        values.put(MediaStore.MediaColumns.DATA, outPath);\n        values.put(MediaStore.MediaColumns.TITLE, title.toString());\n        values.put(MediaStore.MediaColumns.SIZE, fileSize);\n        values.put(MediaStore.MediaColumns.MIME_TYPE, mimeType);\nUri uri = MediaStore.Audio.Media.getContentUriForPath(outPath);\n        final Uri newUri = getContentResolver().insert(uri, values);\n</code></pre>\n<p>I am using this to set a file as ringtone for my phone, similar to Toque123, Tonos123, Sonneries123, Belsoli123, Chakushinon123</p>\n"}],"owner":{"account_id":11751939,"reputation":157,"user_id":8600783,"accept_rate":33,"display_name":"MareCieco"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691748819,"creation_date":1521106922,"question_id":49295976,"body_markdown":"I need to have URI of the default ringtone. \r\n\r\nI can have the default ringtone using this code\r\n\r\n                Uri uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE);\r\n                Ringtone rt = RingtoneManager.getRingtone(context,uri);\r\n\r\nand in the rt (Ringtone), I can see the mUri like in the screenshot but it is not a public property, so I cannot have it. \r\n\r\nHow can I have that property?\r\n\r\nNote: There is a getUri in the RingtoneManager.java but it is hidden.\r\n\r\n\r\n    /** {@hide} */\r\n    public Uri getUri() {\r\n        return mUri;\r\n    }\r\n\r\n\r\n[![Screen Shot][1]][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HPAYa.jpg","title":"How can I get default ringtone uri","body":"<p>I need to have URI of the default ringtone. </p>\n\n<p>I can have the default ringtone using this code</p>\n\n<pre><code>            Uri uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE);\n            Ringtone rt = RingtoneManager.getRingtone(context,uri);\n</code></pre>\n\n<p>and in the rt (Ringtone), I can see the mUri like in the screenshot but it is not a public property, so I cannot have it. </p>\n\n<p>How can I have that property?</p>\n\n<p>Note: There is a getUri in the RingtoneManager.java but it is hidden.</p>\n\n<pre><code>/** {@hide} */\npublic Uri getUri() {\n    return mUri;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HPAYa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HPAYa.jpg\" alt=\"Screen Shot\"></a></p>\n"},{"tags":["java","hdfs"],"owner":{"account_id":26246437,"reputation":1,"user_id":19919839,"display_name":"lemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691748732,"creation_date":1691646025,"question_id":76872897,"body_markdown":"I have a custom jar package that I want to place in the directory folder of hdfs. I want to try running this jar package, and the command I use is:\r\n\r\n    sudo -u hdfs hadoop jar hdfs://10.150.20.80:8020/data/resource/jar/udf/hive-udf-1.2.0.jar com.payegis.bigdata.live.utils.HbaseSwapPairDelete --node cdh01,cdh02,cdh03 --env prod\r\n\r\n\r\nThe error message is as follows: \r\n\r\n    WARNING: Use &quot;yarn jar&quot; to launch YARN applications.\r\n    JAR does not exist or is not a normal file:\r\n    file:/tmp/hsperfdata_Hdfs/hdfs:/10.150.20.80:8020/data/resource/jar/udf/live-udf-1.2.0.jar\r\n\r\nI also tried to leave the path of hdfs://in the field before the command, but the error message is as follows:\r\n\r\n    JAR does not exist or is not a normal file:/data/resource/jar/udf/live udf 1.2.0.jar\r\n\r\n\r\nI can execute this command from the local path, but I cannot switch to the path on hdfs.\r\n\r\nWhat should I do to run the JAR package?\r\n","title":"How to run jar packages uploaded by oneself on an HDFS cluster","body":"<p>I have a custom jar package that I want to place in the directory folder of hdfs. I want to try running this jar package, and the command I use is:</p>\n<pre><code>sudo -u hdfs hadoop jar hdfs://10.150.20.80:8020/data/resource/jar/udf/hive-udf-1.2.0.jar com.payegis.bigdata.live.utils.HbaseSwapPairDelete --node cdh01,cdh02,cdh03 --env prod\n</code></pre>\n<p>The error message is as follows:</p>\n<pre><code>WARNING: Use &quot;yarn jar&quot; to launch YARN applications.\nJAR does not exist or is not a normal file:\nfile:/tmp/hsperfdata_Hdfs/hdfs:/10.150.20.80:8020/data/resource/jar/udf/live-udf-1.2.0.jar\n</code></pre>\n<p>I also tried to leave the path of hdfs://in the field before the command, but the error message is as follows:</p>\n<pre><code>JAR does not exist or is not a normal file:/data/resource/jar/udf/live udf 1.2.0.jar\n</code></pre>\n<p>I can execute this command from the local path, but I cannot switch to the path on hdfs.</p>\n<p>What should I do to run the JAR package?</p>\n"},{"tags":["java","arraylist","stack"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1423026894,"post_id":28313917,"comment_id":44977753,"body_markdown":"Well `pop` removes items from a `Stack`, and `push` adds items to a `Stack`. Why are you adding items to your `Stack` while copying to the `List`? What do you want in your `List` when the method completes?","body":"Well <code>pop</code> removes items from a <code>Stack</code>, and <code>push</code> adds items to a <code>Stack</code>. Why are you adding items to your <code>Stack</code> while copying to the <code>List</code>? What do you want in your <code>List</code> when the method completes?"},{"owner":{"account_id":5530994,"reputation":373,"user_id":4390963,"accept_rate":52,"display_name":"maevy"},"score":0,"creation_date":1423026974,"post_id":28313917,"comment_id":44977785,"body_markdown":"Just to keep a trace of it in the List","body":"Just to keep a trace of it in the List"},{"owner":{"account_id":5530994,"reputation":373,"user_id":4390963,"accept_rate":52,"display_name":"maevy"},"score":0,"creation_date":1423027019,"post_id":28313917,"comment_id":44977797,"body_markdown":"just to keep a track* sorry","body":"just to keep a track* sorry"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1423027052,"post_id":28313917,"comment_id":44977809,"body_markdown":"What does that mean? You&#39;re modifying the `Stack` while you copy it... that is probably not what you want.","body":"What does that mean? You&#39;re modifying the <code>Stack</code> while you copy it... that is probably not what you want."}],"answers":[{"comments":[{"owner":{"account_id":138080,"reputation":101,"user_id":1672138,"display_name":"Wei"},"score":10,"creation_date":1547533490,"post_id":28313988,"comment_id":95214533,"body_markdown":"This is problematic. If we pushed stuff into Stack in this order: 1, 2, 3, 4, 5, then surprisingly the ArrayList will also end up as [1, 2, 3, 4, 5] whereas we probably expect [5, 4, 3, 2, 1]","body":"This is problematic. If we pushed stuff into Stack in this order: 1, 2, 3, 4, 5, then surprisingly the ArrayList will also end up as [1, 2, 3, 4, 5] whereas we probably expect [5, 4, 3, 2, 1]"},{"owner":{"account_id":2690254,"reputation":186,"user_id":2323742,"display_name":"pubsy"},"score":0,"creation_date":1575754019,"post_id":28313988,"comment_id":104673828,"body_markdown":"Yup, @Wei is right, this method results in reverse order for stack.","body":"Yup, @Wei is right, this method results in reverse order for stack."},{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":1,"creation_date":1684551620,"post_id":28313988,"comment_id":134537699,"body_markdown":"Collections.reverse(stack); // resolves the issue :)","body":"Collections.reverse(stack); // resolves the issue :)"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1423026967,"creation_date":1423026967,"answer_id":28313988,"question_id":28313917,"body_markdown":"Stack is a Collection, you can use ArrayList(Collection) constructor\r\n\r\n    list = new ArrayList(stack);","title":"Stack to --&gt; ArrayList Java","body":"<p>Stack is a Collection, you can use ArrayList(Collection) constructor</p>\n\n<pre><code>list = new ArrayList(stack);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566804826,"creation_date":1566804826,"answer_id":57653563,"question_id":28313917,"body_markdown":"The above answer is not right, as the order will be reverse.  \r\nInstead you can just *iterate* like this:\r\n\r\n    Stack&lt;State&gt; stack = new Stack&lt;&gt;();\r\n    List&lt;State&gt; list = new ArrayList&lt;&gt;();\r\n    while(!stack.isEmpty()) { \r\n        list.add(stack.pop()); \r\n    }\r\n\r\n     ","title":"Stack to --&gt; ArrayList Java","body":"<p>The above answer is not right, as the order will be reverse.<br>\nInstead you can just <em>iterate</em> like this:</p>\n\n<pre><code>Stack&lt;State&gt; stack = new Stack&lt;&gt;();\nList&lt;State&gt; list = new ArrayList&lt;&gt;();\nwhile(!stack.isEmpty()) { \n    list.add(stack.pop()); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10365030,"reputation":703,"user_id":7644337,"display_name":"RodXander"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583754752,"creation_date":1578883064,"answer_id":59709981,"question_id":28313917,"body_markdown":"The simplest way I&#39;ve found to convert a Stack into a List is using the following line:\r\n\r\n    List&lt;Integer&gt; stackToList = new ArrayList(stack);\r\n\r\nHowever, this yields the stack reversed. \r\nMeaning, if your stack was **1, 2, 3** you would expect in the list **3, 2, 1** because that&#39;s the order the stack objects would be &quot;popped&quot;. That&#39;s not the case though instead, you get **1, 2, 3**. So, in order to get the expected output, you need to execute\r\n\r\n    Collections.reverse (stackToList);\r\n\r\nThis will reverse the list inline and give you **3, 2, 1**","title":"Stack to --&gt; ArrayList Java","body":"<p>The simplest way I've found to convert a Stack into a List is using the following line:</p>\n\n<pre><code>List&lt;Integer&gt; stackToList = new ArrayList(stack);\n</code></pre>\n\n<p>However, this yields the stack reversed. \nMeaning, if your stack was <strong>1, 2, 3</strong> you would expect in the list <strong>3, 2, 1</strong> because that's the order the stack objects would be \"popped\". That's not the case though instead, you get <strong>1, 2, 3</strong>. So, in order to get the expected output, you need to execute</p>\n\n<pre><code>Collections.reverse (stackToList);\n</code></pre>\n\n<p>This will reverse the list inline and give you <strong>3, 2, 1</strong></p>\n"},{"comments":[{"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"score":0,"creation_date":1651586656,"post_id":68798258,"comment_id":127394971,"body_markdown":"I can convert the stack into an array-list with this line.","body":"I can convert the stack into an array-list with this line."}],"tags":[],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629095240,"creation_date":1629095240,"answer_id":68798258,"question_id":28313917,"body_markdown":"Use Deque instead,\r\n\r\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\r\n    deque.push(1);\r\n    deque.push(2);\r\n    deque.push(3);\r\n    System.out.println(new ArrayList&lt;&gt;(deque)); // 3, 2, 1","title":"Stack to --&gt; ArrayList Java","body":"<p>Use Deque instead,</p>\n<pre><code>Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\ndeque.push(1);\ndeque.push(2);\ndeque.push(3);\nSystem.out.println(new ArrayList&lt;&gt;(deque)); // 3, 2, 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10440278,"reputation":1,"user_id":7697165,"display_name":"VNK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691748624,"creation_date":1691601982,"answer_id":76870040,"question_id":28313917,"body_markdown":"ArrayDeque from Deque interface can be used for this type of operation. \r\n\r\nArrayDeque is better to used then Stack.\r\n\r\n```java\r\nDeque&lt;Integer&gt; d = new ArrayDeque&lt;Integer&gt;();\r\nd.push(10);\r\nd.push(20);\r\nd.push(30);\r\n\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(d);\r\nSystem.out.println(d.toString());\r\nSystem.out.println(list.toString());\r\n```","title":"Stack to --&gt; ArrayList Java","body":"<p>ArrayDeque from Deque interface can be used for this type of operation.</p>\n<p>ArrayDeque is better to used then Stack.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Deque&lt;Integer&gt; d = new ArrayDeque&lt;Integer&gt;();\nd.push(10);\nd.push(20);\nd.push(30);\n\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(d);\nSystem.out.println(d.toString());\nSystem.out.println(list.toString());\n</code></pre>\n"}],"owner":{"account_id":5530994,"reputation":373,"user_id":4390963,"accept_rate":52,"display_name":"maevy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30260,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":5,"score":17,"last_activity_date":1691748624,"creation_date":1423026578,"question_id":28313917,"body_markdown":"I made a Stack and an ArrayList to make a research. Actually I want now to make my Stack replaced by an ArrayList, but how to transform a Stack into an ArrayList ? How is it going with push, pop ... ?\r\n\r\n\tpublic static ArrayList&lt;State&gt; search(State finalstate)\r\n\t{\r\n\t\tArrayList&lt;State&gt; toreturn = new ArrayList&lt;State&gt;();\r\n\t\tStack&lt;State&gt;mystack=new Stack&lt;State&gt;();\r\n\t\tmystack.push(initState);\r\n\t\tState currState;\r\n\t\tcurrState=initState;\r\n\t\twhile(!mystack.isEmpty() &amp;&amp; !currState.equals(finalstate) )\r\n\t\t{\r\n\t\t\tcurrState=mystack.pop();\r\n\t\t\ttoreturn.add(currState);\r\n\t\t\tif(currState.vecinos.containsKey(&quot;up&quot;))\r\n\t\t\t{\r\n\t\t\t\tmystack.push(currState).vecinos.get(&quot;up&quot;);\r\n\t\t\t}\r\n\t\t\tif(currState.vecinos.containsKey(&quot;down&quot;))\r\n\t\t\t{\r\n\t\t\t\tmystack.push(currState).vecinos.get(&quot;down&quot;);\r\n\t\t\t}\r\n\t\t\tif(currState.vecinos.containsKey(&quot;left&quot;))\r\n\t\t\t{\r\n\t\t\t\tmystack.push(currState).vecinos.get(&quot;left&quot;);\r\n\t\t\t}\r\n\t\t\tif(currState.vecinos.containsKey(&quot;right&quot;))\r\n\t\t\t{\r\n\t\t\t\tmystack.push(currState).vecinos.get(&quot;right&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn toreturn;\r\n\t}","title":"Stack to --&gt; ArrayList Java","body":"<p>I made a Stack and an ArrayList to make a research. Actually I want now to make my Stack replaced by an ArrayList, but how to transform a Stack into an ArrayList ? How is it going with push, pop ... ?</p>\n<pre><code>public static ArrayList&lt;State&gt; search(State finalstate)\n{\n    ArrayList&lt;State&gt; toreturn = new ArrayList&lt;State&gt;();\n    Stack&lt;State&gt;mystack=new Stack&lt;State&gt;();\n    mystack.push(initState);\n    State currState;\n    currState=initState;\n    while(!mystack.isEmpty() &amp;&amp; !currState.equals(finalstate) )\n    {\n        currState=mystack.pop();\n        toreturn.add(currState);\n        if(currState.vecinos.containsKey(&quot;up&quot;))\n        {\n            mystack.push(currState).vecinos.get(&quot;up&quot;);\n        }\n        if(currState.vecinos.containsKey(&quot;down&quot;))\n        {\n            mystack.push(currState).vecinos.get(&quot;down&quot;);\n        }\n        if(currState.vecinos.containsKey(&quot;left&quot;))\n        {\n            mystack.push(currState).vecinos.get(&quot;left&quot;);\n        }\n        if(currState.vecinos.containsKey(&quot;right&quot;))\n        {\n            mystack.push(currState).vecinos.get(&quot;right&quot;);\n        }\n    }\n    \n    return toreturn;\n}\n</code></pre>\n"},{"tags":["java","spring-security","logout","spring-saml","simplesamlphp"],"owner":{"account_id":4058092,"reputation":1,"user_id":6623773,"display_name":"Niroz Jung Karki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691748604,"creation_date":1691676381,"question_id":76876504,"body_markdown":"I am using SimpleSamlPHP 2.x as an Identity Provider (IDP) along with Spring Boot 2.7. My Spring SAML Security (spring-security-saml2-service-provider) version is 5.7.5 (recently updated).\r\n\r\nCurrently, I can perform SAML Single Logout (SLO) without any issues using the GET /logout request. However, this triggers a confirmation dialog in Spring Security, asking &quot;Do you want to logout?&quot; I&#39;d like to bypass this dialog and perform a direct logout.\r\n\r\nTo achieve this, I tried using a form-based POST /logout from my Angular frontend app. I included the XSRF token in the header and _csrf in the payload. The process successfully triggers SLO and returns a 302 status code, which then redirects to the IDP. The SAMLRequest in the redirect URL looks like this: https://my-idp:8443/sso/module.php/saml/idp/singleLogout?SAMLRequest=***.\r\n\r\nHowever, the browser displays a CORS error:\r\n```\r\nThe error, &quot;(redirected from &#39;http://localhost:8000/service-provider/logout&#39;)&quot;, originating from &#39;http://localhost:8000&#39;, is blocked by the CORS policy. The preflight request&#39;s access control check failed, as there is no &#39;Access-Control-Allow-Origin&#39; header on the requested resource.\r\n```\r\n\r\nMy post request from my FE angular is as\r\n \r\n```\r\n`logMeOut(){\r\n    const csrfToken = this.getCookie(&#39;XSRF-TOKEN&#39;);\r\n    const formData = new FormData();\r\n    formData.append(&#39;_csrf&#39;, csrfToken);\r\n    \r\nconst headers = new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,\r\n        &#39;XSRF-TOKEN&#39;: csrfToken,\r\n    });\r\n\r\n    const options = {\r\n        headers,\r\n        withCredentials: true, // Include cookies in the request\r\n    };\r\n    this.http.post(‘/service-provider/logout&#39;, formData, options).subscribe(() =&gt; {\r\n        console.log(&quot;Logout Success &quot;)\r\n    });\r\n}`\r\n```","title":"Cors error with post /logout with _csrf token while triggering Single Llogout in IDP","body":"<p>I am using SimpleSamlPHP 2.x as an Identity Provider (IDP) along with Spring Boot 2.7. My Spring SAML Security (spring-security-saml2-service-provider) version is 5.7.5 (recently updated).</p>\n<p>Currently, I can perform SAML Single Logout (SLO) without any issues using the GET /logout request. However, this triggers a confirmation dialog in Spring Security, asking &quot;Do you want to logout?&quot; I'd like to bypass this dialog and perform a direct logout.</p>\n<p>To achieve this, I tried using a form-based POST /logout from my Angular frontend app. I included the XSRF token in the header and _csrf in the payload. The process successfully triggers SLO and returns a 302 status code, which then redirects to the IDP. The SAMLRequest in the redirect URL looks like this: https://my-idp:8443/sso/module.php/saml/idp/singleLogout?SAMLRequest=***.</p>\n<p>However, the browser displays a CORS error:</p>\n<pre><code>The error, &quot;(redirected from 'http://localhost:8000/service-provider/logout')&quot;, originating from 'http://localhost:8000', is blocked by the CORS policy. The preflight request's access control check failed, as there is no 'Access-Control-Allow-Origin' header on the requested resource.\n</code></pre>\n<p>My post request from my FE angular is as</p>\n<pre><code>`logMeOut(){\n    const csrfToken = this.getCookie('XSRF-TOKEN');\n    const formData = new FormData();\n    formData.append('_csrf', csrfToken);\n    \nconst headers = new HttpHeaders({\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'XSRF-TOKEN': csrfToken,\n    });\n\n    const options = {\n        headers,\n        withCredentials: true, // Include cookies in the request\n    };\n    this.http.post(‘/service-provider/logout', formData, options).subscribe(() =&gt; {\n        console.log(&quot;Logout Success &quot;)\n    });\n}`\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"display_name":"user149341"},"score":5,"creation_date":1366850976,"post_id":16204639,"comment_id":23171487,"body_markdown":"Yes, there are a number of well-documented ways to do this without involving big integers at any stage. See: http://en.wikipedia.org/wiki/Modular_exponentiation","body":"Yes, there are a number of well-documented ways to do this without involving big integers at any stage. See: <a href=\"http://en.wikipedia.org/wiki/Modular_exponentiation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Modular_exponentiation</a>"},{"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"score":0,"creation_date":1366851100,"post_id":16204639,"comment_id":23171517,"body_markdown":"The simple approach is to start with 1, repeatedly multiply by the base and perform the mod after each multiplication.","body":"The simple approach is to start with 1, repeatedly multiply by the base and perform the mod after each multiplication."},{"owner":{"account_id":1926927,"reputation":4206,"user_id":1737130,"accept_rate":77,"display_name":"Drogba"},"score":0,"creation_date":1366855243,"post_id":16204639,"comment_id":23172481,"body_markdown":"This reminds me the math course in school ....omg","body":"This reminds me the math course in school ....omg"},{"owner":{"account_id":559988,"reputation":466349,"user_id":922184,"display_name":"Mysticial"},"score":1,"creation_date":1366861491,"post_id":16204639,"comment_id":23173768,"body_markdown":"Related, maybe even a dupe: http://stackoverflow.com/questions/8963686/algorithm-c-c-fastest-way-to-compute-2nd-with-a-n-and-d-32-or-64-bit-int","body":"Related, maybe even a dupe: <a href=\"http://stackoverflow.com/questions/8963686/algorithm-c-c-fastest-way-to-compute-2nd-with-a-n-and-d-32-or-64-bit-int\" title=\"algorithm c c fastest way to compute 2nd with a n and d 32 or 64 bit int\">stackoverflow.com/questions/8963686/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1366856957,"creation_date":1366851015,"answer_id":16204661,"question_id":16204639,"body_markdown":"if `x = y (mod n)`   and `u = v (mod n)`  then `x.u = y.v (mod n)` (where &#39;.&#39; denotes multiplication)\r\n\r\nRepeated application of this is used to reduce 65^17 mod 3233, \r\n\r\ne.g.\r\n\r\n    65 * 65 (mod 3233) = 992\r\n\r\n    65 * 992 (mod 3233) = 3053\r\n\r\n    3053 * 65 (mod 3233) = 1232\r\n    .\r\n    .\r\n    .\r\nIn fact we can shorten this because we have calculated `65^4 (mod 3233) = 1232`\r\n\r\nSo, \r\n\r\n    65^8 (mod 3233) = 1232 * 1232 (mod 3233) = 1547\r\n\r\n    65^16 (mod 3233) = 1547 * 1547 = 789\r\n\r\nAnd finally,\r\n\r\n    65^17 = 789 * 65 (mod 3233) =  2790\r\n\r\n","title":"Calculating Large Powers with Modulus","body":"<p>if <code>x = y (mod n)</code>   and <code>u = v (mod n)</code>  then <code>x.u = y.v (mod n)</code> (where '.' denotes multiplication)</p>\n\n<p>Repeated application of this is used to reduce 65^17 mod 3233, </p>\n\n<p>e.g.</p>\n\n<pre><code>65 * 65 (mod 3233) = 992\n\n65 * 992 (mod 3233) = 3053\n\n3053 * 65 (mod 3233) = 1232\n.\n.\n.\n</code></pre>\n\n<p>In fact we can shorten this because we have calculated <code>65^4 (mod 3233) = 1232</code></p>\n\n<p>So, </p>\n\n<pre><code>65^8 (mod 3233) = 1232 * 1232 (mod 3233) = 1547\n\n65^16 (mod 3233) = 1547 * 1547 = 789\n</code></pre>\n\n<p>And finally,</p>\n\n<pre><code>65^17 = 789 * 65 (mod 3233) =  2790\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691748435,"creation_date":1366853005,"answer_id":16204912,"question_id":16204639,"body_markdown":"What Mitch Wheat&#39;s wonderfully concise but somewhat cryptic&lt;sup&gt;1&lt;/sup&gt; [answer][1] means is that this should work (pseudo-code):\r\n\r\n       res = 1\r\n       for i in 1 to 17:\r\n           res = (res * 65) mod 3233\r\n\r\nYou don&#39;t need to use BigInteger at all for this because of the mathematical properties of modulus arithmetic.\r\n\r\nFWIW, the reason that using `Math.pow()` doesn&#39;t work is that it computes 65&lt;sup&gt;17&lt;/sup&gt; using floating point arithmetic.  The result of `pow` is too large to be represented precisely as a `double`, so you lose some of the least significant digits; i.e. the ones on the &quot;right hand end&quot; of the number.  Unfortunately those digits matter when you take the modulus.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - ... if mathematics is not one of your stronger skills ....&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16204661/139985","title":"Calculating Large Powers with Modulus","body":"<p>What Mitch Wheat's wonderfully concise but somewhat cryptic<sup>1</sup> <a href=\"https://stackoverflow.com/a/16204661/139985\">answer</a> means is that this should work (pseudo-code):</p>\n<pre><code>   res = 1\n   for i in 1 to 17:\n       res = (res * 65) mod 3233\n</code></pre>\n<p>You don't need to use BigInteger at all for this because of the mathematical properties of modulus arithmetic.</p>\n<p>FWIW, the reason that using <code>Math.pow()</code> doesn't work is that it computes 65<sup>17</sup> using floating point arithmetic.  The result of <code>pow</code> is too large to be represented precisely as a <code>double</code>, so you lose some of the least significant digits; i.e. the ones on the &quot;right hand end&quot; of the number.  Unfortunately those digits matter when you take the modulus.</p>\n<hr />\n<p><sup>1 - ... if mathematics is not one of your stronger skills ....</sup></p>\n"}],"owner":{"account_id":1398212,"reputation":117,"user_id":1327546,"display_name":"Gontroller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2673,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1691748435,"creation_date":1366850819,"question_id":16204639,"body_markdown":"I am currently working through something whereby I need to calculate the values of something like\r\n\r\n(65^17) mod 3233 = *\r\n\r\nThe answer to the above problem is 2790, however because 65 ^ 17 is larger than the values that can be returned by Math.pow it always gives the wrong answer.\r\n\r\nI have written an implementation using BigIntegers (and the built in modPow), but I want to avoid them if at all possible.\r\n\r\nIs there an alternative way that avoids the use of BigIntegers?","title":"Calculating Large Powers with Modulus","body":"<p>I am currently working through something whereby I need to calculate the values of something like</p>\n\n<p>(65^17) mod 3233 = *</p>\n\n<p>The answer to the above problem is 2790, however because 65 ^ 17 is larger than the values that can be returned by Math.pow it always gives the wrong answer.</p>\n\n<p>I have written an implementation using BigIntegers (and the built in modPow), but I want to avoid them if at all possible.</p>\n\n<p>Is there an alternative way that avoids the use of BigIntegers?</p>\n"},{"tags":["java","groovy","scripting","automation","soapui"],"answers":[{"comments":[{"owner":{"account_id":1056606,"reputation":644,"user_id":1059161,"accept_rate":33,"display_name":"Karunagara Pandi"},"score":0,"creation_date":1404904625,"post_id":24648389,"comment_id":38213970,"body_markdown":"Hi Opal,  I tried as you suggested. But I&#39;m unable to get the results. So I changed the script like this ----- import java.io.*;\nclass Hello\n{\n\tvoid getMessage(String msg)\n\t{\n\t\tlog.info(msg);\n\t}\n\tstatic void main(String[] args)\n\t{\n\t\tHello hello = new Hello();\n\t\thello.getMessage(&quot;Welcome&quot;);\n\t}\n}  Now, its throwing groovy.lang.MissingPropertyException:No such property: log for class: Hello error. :(","body":"Hi Opal,  I tried as you suggested. But I&#39;m unable to get the results. So I changed the script like this ----- import java.io.*; class Hello { \tvoid getMessage(String msg) \t{ \t\tlog.info(msg); \t} \tstatic void main(String[] args) \t{ \t\tHello hello = new Hello(); \t\thello.getMessage(&quot;Welcome&quot;); \t} }  Now, its throwing groovy.lang.MissingPropertyException:No such property: log for class: Hello error. :("},{"owner":{"account_id":1056606,"reputation":644,"user_id":1059161,"accept_rate":33,"display_name":"Karunagara Pandi"},"score":0,"creation_date":1404914492,"post_id":24648389,"comment_id":38220663,"body_markdown":"Hi Opal, Thanks for the quick reply but I&#39;m not even getting the results for the script after included the line at the top of the script. If you don&#39;t mine, could you please share the simple java code (within the class) script to print a string data using &quot;log.info&quot; ? Thanks","body":"Hi Opal, Thanks for the quick reply but I&#39;m not even getting the results for the script after included the line at the top of the script. If you don&#39;t mine, could you please share the simple java code (within the class) script to print a string data using &quot;log.info&quot; ? Thanks"},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1404915146,"post_id":24648389,"comment_id":38221103,"body_markdown":"I can&#39;t unfortunately - I don&#39;t have even possibility to test it.","body":"I can&#39;t unfortunately - I don&#39;t have even possibility to test it."}],"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404904976,"creation_date":1404893175,"answer_id":24648389,"question_id":24647251,"body_markdown":"You&#39;ve bad syntax.\r\n\r\nReplace:\r\n\r\n    String args[]\r\n\r\nwith:\r\n\r\n    String[] args\r\n\r\nor simply:\r\n\r\n    args\r\n\r\n**UPDATE** (log)\r\n\r\nMPE is thrown because You don&#39;t have a declaration for log field. Try adding the following import:\r\n\r\n`import groovy.util.logging.Slf4j` \r\n\r\nand annotate the @Slf4j annotation. Also see [here][1]. Don&#39;t know how logging works exactly with SoapUI.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15981182/logging-in-groovy-script","title":"Can we use Java code in Groovy TestStep in SoapUI Pro?","body":"<p>You've bad syntax.</p>\n\n<p>Replace:</p>\n\n<pre><code>String args[]\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>String[] args\n</code></pre>\n\n<p>or simply:</p>\n\n<pre><code>args\n</code></pre>\n\n<p><strong>UPDATE</strong> (log)</p>\n\n<p>MPE is thrown because You don't have a declaration for log field. Try adding the following import:</p>\n\n<p><code>import groovy.util.logging.Slf4j</code> </p>\n\n<p>and annotate the @Slf4j annotation. Also see <a href=\"https://stackoverflow.com/questions/15981182/logging-in-groovy-script\">here</a>. Don't know how logging works exactly with SoapUI.</p>\n"},{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404930183,"creation_date":1404930183,"answer_id":24661158,"question_id":24647251,"body_markdown":"Groovy is 99% code-compatible with Java. So you can use straight up Java in a Groovy script.\r\n\r\nYour problem is that you are declaring a method `main`. In a SoapUI Groovy Script step you do not declare a method. You just start writing code. See [Groovy documentation][1] for additional information.\r\n\r\nSo your script should be just:\r\n\r\n    log.info(&quot;Welcome&quot;);\r\n\r\nNo `class`, no `static void main`, just that one liner!\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/Scripts+and+Classes","title":"Can we use Java code in Groovy TestStep in SoapUI Pro?","body":"<p>Groovy is 99% code-compatible with Java. So you can use straight up Java in a Groovy script.</p>\n\n<p>Your problem is that you are declaring a method <code>main</code>. In a SoapUI Groovy Script step you do not declare a method. You just start writing code. See <a href=\"http://groovy.codehaus.org/Scripts+and+Classes\" rel=\"nofollow\">Groovy documentation</a> for additional information.</p>\n\n<p>So your script should be just:</p>\n\n<pre><code>log.info(\"Welcome\");\n</code></pre>\n\n<p>No <code>class</code>, no <code>static void main</code>, just that one liner!</p>\n"},{"tags":[],"owner":{"account_id":5399065,"reputation":526,"user_id":4299399,"display_name":"Rami Sharaiyri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477473842,"creation_date":1477473842,"answer_id":40258417,"question_id":24647251,"body_markdown":"    class Hello {\r\n        def log = this.log;\r\n        void main(String[] args) {\r\n            log.info(&quot;Welcome&quot;);\r\n        }\r\n    }\r\n\r\nOut: \r\nWed Oct 26 12:22:35 EEST 2016:INFO:Welcome\r\n","title":"Can we use Java code in Groovy TestStep in SoapUI Pro?","body":"<pre><code>class Hello {\n    def log = this.log;\n    void main(String[] args) {\n        log.info(\"Welcome\");\n    }\n}\n</code></pre>\n\n<p>Out: \nWed Oct 26 12:22:35 EEST 2016:INFO:Welcome</p>\n"}],"owner":{"account_id":1056606,"reputation":644,"user_id":1059161,"accept_rate":33,"display_name":"Karunagara Pandi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691748405,"creation_date":1404889427,"question_id":24647251,"body_markdown":"I&#39;m in the initial stage of learning Groovy with SoapUI Pro. So I started writing simple script in Groovy Teststep editor as shown below\r\n    \r\n    class Hello {\r\n    \tstatic void main(String args[]) {\r\n    \t\tlog.info(&quot;Welcome&quot;);\r\n    \t}\r\n    }\r\n\r\nWhen I execute this script by clicking on the &quot;Run&quot; button from SoapUI Pro, it is throwing the following error message.\r\n\r\n**Error:**\r\n&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed: Script16.groovy: 5: unexpected token: [ @ line 5, column 30. static void main(String args[]) ^ org.codehaus.groovy.syntax.SyntaxException: unexpected token: [ @ line 5, column 30. at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:139) at org.codehaus.groovy.antlr.AntlrParserPlugin.parseCST(AntlrParserPlugin.java:107) at org.codehaus.groovy.control.SourceUnit.parse(SourceUnit.java:236) at org.codehaus.groovy.control.CompilationUnit$1.call(CompilationUnit.java:163) at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:839) at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:544) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:520) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:497) at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:306) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:287) at groovy.lang.GroovyShell.parseClass(GroovyShell.java:731) at groovy.lang.GroovyShell.parse(GroovyShell.java:743) at groovy.lang.GroovyShell.parse(GroovyShell.java:770) at groovy.lang.GroovyShell.parse(GroovyShell.java:761) at com.eviware.soapui.support.scripting.groovy.SoapUIGroovyScriptEngine.compile(SoapUIGroovyScriptEngine.java:148) at com.eviware.soapui.support.scripting.groovy.SoapUIGroovyScriptEngine.run(SoapUIGroovyScriptEngine.java:93) at com.eviware.soapui.support.scripting.groovy.SoapUIProGroovyScriptEngineFactory$SoapUIProGroovyScriptEngine.run(SourceFile:89) at com.eviware.soapui.impl.wsdl.teststeps.WsdlGroovyScriptTestStep.run(WsdlGroovyScriptTestStep.java:149) at com.eviware.soapui.impl.wsdl.panels.teststeps.GroovyScriptStepDesktopPanel$RunAction$1.run(GroovyScriptStepDesktopPanel.java:274) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) Caused by: Script16.groovy:5:30: unexpected token: [ at org.codehaus.groovy.antlr.parser.GroovyRecognizer.parameterDeclaration(GroovyRecognizer.java:8413) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.parameterDeclarationList(GroovyRecognizer.java:7397) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.variableDefinitions(GroovyRecognizer.java:2311) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.declaration(GroovyRecognizer.java:2140) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classField(GroovyRecognizer.java:5936) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classBlock(GroovyRecognizer.java:5236) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classDefinition(GroovyRecognizer.java:1942) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.typeDefinitionInternal(GroovyRecognizer.java:1822) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.statement(GroovyRecognizer.java:1305) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.compilationUnit(GroovyRecognizer.java:757) at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:130) ... 21 more 1 error\r\n\r\nI&#39;m not sure what wrong did I do and what I have to do for solving this issue.\r\n\r\nThanks&lt;br&gt;\r\nKarunagara Pandi","title":"Can we use Java code in Groovy TestStep in SoapUI Pro?","body":"<p>I'm in the initial stage of learning Groovy with SoapUI Pro. So I started writing simple script in Groovy Teststep editor as shown below</p>\n\n<pre><code>class Hello {\n    static void main(String args[]) {\n        log.info(\"Welcome\");\n    }\n}\n</code></pre>\n\n<p>When I execute this script by clicking on the \"Run\" button from SoapUI Pro, it is throwing the following error message.</p>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed: Script16.groovy: 5: unexpected token: [ @ line 5, column 30. static void main(String args[]) ^ org.codehaus.groovy.syntax.SyntaxException: unexpected token: [ @ line 5, column 30. at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:139) at org.codehaus.groovy.antlr.AntlrParserPlugin.parseCST(AntlrParserPlugin.java:107) at org.codehaus.groovy.control.SourceUnit.parse(SourceUnit.java:236) at org.codehaus.groovy.control.CompilationUnit$1.call(CompilationUnit.java:163) at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:839) at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:544) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:520) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:497) at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:306) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:287) at groovy.lang.GroovyShell.parseClass(GroovyShell.java:731) at groovy.lang.GroovyShell.parse(GroovyShell.java:743) at groovy.lang.GroovyShell.parse(GroovyShell.java:770) at groovy.lang.GroovyShell.parse(GroovyShell.java:761) at com.eviware.soapui.support.scripting.groovy.SoapUIGroovyScriptEngine.compile(SoapUIGroovyScriptEngine.java:148) at com.eviware.soapui.support.scripting.groovy.SoapUIGroovyScriptEngine.run(SoapUIGroovyScriptEngine.java:93) at com.eviware.soapui.support.scripting.groovy.SoapUIProGroovyScriptEngineFactory$SoapUIProGroovyScriptEngine.run(SourceFile:89) at com.eviware.soapui.impl.wsdl.teststeps.WsdlGroovyScriptTestStep.run(WsdlGroovyScriptTestStep.java:149) at com.eviware.soapui.impl.wsdl.panels.teststeps.GroovyScriptStepDesktopPanel$RunAction$1.run(GroovyScriptStepDesktopPanel.java:274) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) Caused by: Script16.groovy:5:30: unexpected token: [ at org.codehaus.groovy.antlr.parser.GroovyRecognizer.parameterDeclaration(GroovyRecognizer.java:8413) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.parameterDeclarationList(GroovyRecognizer.java:7397) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.variableDefinitions(GroovyRecognizer.java:2311) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.declaration(GroovyRecognizer.java:2140) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classField(GroovyRecognizer.java:5936) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classBlock(GroovyRecognizer.java:5236) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.classDefinition(GroovyRecognizer.java:1942) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.typeDefinitionInternal(GroovyRecognizer.java:1822) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.statement(GroovyRecognizer.java:1305) at org.codehaus.groovy.antlr.parser.GroovyRecognizer.compilationUnit(GroovyRecognizer.java:757) at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:130) ... 21 more 1 error</p>\n</blockquote>\n\n<p>I'm not sure what wrong did I do and what I have to do for solving this issue.</p>\n\n<p>Thanks<br>\nKarunagara Pandi</p>\n"},{"tags":["java","smtp","windows-server-2019","windows-firewall"],"owner":{"account_id":9729937,"reputation":13,"user_id":7215355,"display_name":"Akash Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691748389,"creation_date":1691748389,"question_id":76882556,"body_markdown":"**Context: -**\r\n\r\nI am using a docker-hosted Java code which uses GoDaddy email service to sent notifications\r\n\r\nMailerDeamonService.java \r\n\r\n        public boolean sendEmail(String to, String subject, String text) {\r\n        try {\r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\r\n            props.put(&quot;mail.smtps.host&quot;, SMTP_HOST_NAME);\r\n            props.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\r\n\r\n            Session mailSession = Session.getDefaultInstance(props);\r\n            Transport transport = mailSession.getTransport();\r\n            MimeMessage message = new MimeMessage(mailSession);\r\n            MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            message.setFrom(new InternetAddress(emailId));\r\n            message.setRecipient(Message.RecipientType.TO, new InternetAddress(to)); \r\n            message.setSubject(subject);\r\n            messageBodyPart.setContent(text, &quot;text/html&quot;);\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            message.setContent(multipart);\r\n\r\n            transport.connect(SMTP_HOST_NAME, SMTP_HOST_PORT, emailId, new String(Base64.getDecoder().decode(password)));\r\n            transport.sendMessage(message, message.getRecipients(Message.RecipientType.TO));\r\n            transport.close();\r\n            return true;\r\n        } catch (Exception e) {\r\n            errorReportService.generateErrorReport(e, &quot;service&quot;, &quot;MailerDaemonService&quot;, &quot;sendEmail&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n**Situation**\r\n\r\nI am running this on 4 different AWS linux servers for different environments and it has been working perfectly for months.\r\n\r\n**Problem**\r\n\r\nI recently deployed my application on a client-server\r\n\r\nIt is a Windows Server 2019.\r\n\r\nFor about 2 weeks, this didn&#39;t give me any problems.\r\n\r\n2 days ago, The emails suddenly stopped working with the error\r\n\r\n    Caused by: java.net.UnknownHostException: smtpout.secureserver.net \r\n\r\nWhile trying to debug this, I tested the command\r\n\r\n    telnet smtpout.secureserver.net 465\r\n\r\nWhen I do this, the screen goes blank.\r\nBut for some reason, the emails started going through.\r\n\r\nWhat should I be doing next to debug this?","title":"Random error - docker hosted Java Springboot Application for GoDddy SMTP - Caused by: java.net.UnknownHostException: smtpout.secureserver.net","body":"<p><strong>Context: -</strong></p>\n<p>I am using a docker-hosted Java code which uses GoDaddy email service to sent notifications</p>\n<p>MailerDeamonService.java</p>\n<pre><code>    public boolean sendEmail(String to, String subject, String text) {\n    try {\n        Properties props = new Properties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\n        props.put(&quot;mail.smtps.host&quot;, SMTP_HOST_NAME);\n        props.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\n\n        Session mailSession = Session.getDefaultInstance(props);\n        Transport transport = mailSession.getTransport();\n        MimeMessage message = new MimeMessage(mailSession);\n        MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\n        BodyPart messageBodyPart = new MimeBodyPart();\n\n        message.setFrom(new InternetAddress(emailId));\n        message.setRecipient(Message.RecipientType.TO, new InternetAddress(to)); \n        message.setSubject(subject);\n        messageBodyPart.setContent(text, &quot;text/html&quot;);\n        multipart.addBodyPart(messageBodyPart);\n\n        message.setContent(multipart);\n\n        transport.connect(SMTP_HOST_NAME, SMTP_HOST_PORT, emailId, new String(Base64.getDecoder().decode(password)));\n        transport.sendMessage(message, message.getRecipients(Message.RecipientType.TO));\n        transport.close();\n        return true;\n    } catch (Exception e) {\n        errorReportService.generateErrorReport(e, &quot;service&quot;, &quot;MailerDaemonService&quot;, &quot;sendEmail&quot;);\n        return false;\n    }\n}\n</code></pre>\n<p><strong>Situation</strong></p>\n<p>I am running this on 4 different AWS linux servers for different environments and it has been working perfectly for months.</p>\n<p><strong>Problem</strong></p>\n<p>I recently deployed my application on a client-server</p>\n<p>It is a Windows Server 2019.</p>\n<p>For about 2 weeks, this didn't give me any problems.</p>\n<p>2 days ago, The emails suddenly stopped working with the error</p>\n<pre><code>Caused by: java.net.UnknownHostException: smtpout.secureserver.net \n</code></pre>\n<p>While trying to debug this, I tested the command</p>\n<pre><code>telnet smtpout.secureserver.net 465\n</code></pre>\n<p>When I do this, the screen goes blank.\nBut for some reason, the emails started going through.</p>\n<p>What should I be doing next to debug this?</p>\n"},{"tags":["java","spring-boot","docker","rest"],"answers":[{"comments":[{"owner":{"account_id":24309853,"reputation":153,"user_id":18252052,"display_name":"Kefest1"},"score":0,"creation_date":1691748172,"post_id":76882431,"comment_id":135536748,"body_markdown":"Welp it worked after setting PROCESS_STRING_URL to **&quot;http://appacc:8080/processString&quot;**, which leaves me very confused","body":"Welp it worked after setting PROCESS_STRING_URL to <b>&quot;<a href=\"http://appacc:8080/processString\" rel=\"nofollow noreferrer\">appacc:8080/processString</a>&quot;</b>, which leaves me very confused"},{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":1,"creation_date":1691748242,"post_id":76882431,"comment_id":135536759,"body_markdown":"that&#39;s my bad. copy paste is evil. made a small note that explains the why. Hope that leaves you a little less puzzled?","body":"that&#39;s my bad. copy paste is evil. made a small note that explains the why. Hope that leaves you a little less puzzled?"},{"owner":{"account_id":24309853,"reputation":153,"user_id":18252052,"display_name":"Kefest1"},"score":0,"creation_date":1691748516,"post_id":76882431,"comment_id":135536820,"body_markdown":"Yes it does. Last question - if I created two endpoints on dfiferent services accepting the same type of data would this give me an error or only one of them will be picked when making request?","body":"Yes it does. Last question - if I created two endpoints on dfiferent services accepting the same type of data would this give me an error or only one of them will be picked when making request?"},{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":1,"creation_date":1691748662,"post_id":76882431,"comment_id":135536849,"body_markdown":"You would still connect to them independently, so nothing should happen.\nfor example you could have `mysql1` and `mysql2` and `mysql3`. Each of them would still listen on 3306 but there&#39;s nothing bad here, you&#39;d connect to each of them independently as `mysql1:3306` for example from inside a given application. You just can&#39;t expose the same port to the host multiple times, because that port only exists once on the host, obviously. in the example you couldn&#39;t have a mapping of `3306:3306` for all of the mysql instances","body":"You would still connect to them independently, so nothing should happen. for example you could have <code>mysql1</code> and <code>mysql2</code> and <code>mysql3</code>. Each of them would still listen on 3306 but there&#39;s nothing bad here, you&#39;d connect to each of them independently as <code>mysql1:3306</code> for example from inside a given application. You just can&#39;t expose the same port to the host multiple times, because that port only exists once on the host, obviously. in the example you couldn&#39;t have a mapping of <code>3306:3306</code> for all of the mysql instances"}],"tags":[],"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691748324,"creation_date":1691747469,"answer_id":76882431,"question_id":76882360,"body_markdown":"Localhost inside a container is not the same as localhost outside of a container. Hence you cannot reference the other container like this. \r\n\r\nLuckily since you are using `docker-compose` in the way that you are,you can just directly connect to it under `appacc` so you need to adjust this in the first code bit:\r\n\r\n\r\n```java\r\n@SpringBootApplication\r\n@RestController\r\npublic class LogonPageApplication {\r\n    private static final String PROCESS_STRING_URL = &quot;http://appacc:8080/processString&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(LogonPageApplication.class, args);\r\n    }\r\n\r\n```\r\nYou are connecting directly to the container on the container port. Hence the port is `8080` not `8081` as that would be what you&#39;re mapping to on the host port. Theoretically you could drop that mapping from the docker-compose unless you still want to reach the containers from the host as well.\r\n\r\n\r\n\r\nSmall note: you don&#39;t need to manually create a network unless you explicitly want to reference it since the [documentation](https://docs.docker.com/compose/networking/) states the following\r\n\r\n&gt;By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.\r\n\r\n\r\n","title":"Failing to communicate between two Docker containers via Rest API using Java Spring Boot","body":"<p>Localhost inside a container is not the same as localhost outside of a container. Hence you cannot reference the other container like this.</p>\n<p>Luckily since you are using <code>docker-compose</code> in the way that you are,you can just directly connect to it under <code>appacc</code> so you need to adjust this in the first code bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@RestController\npublic class LogonPageApplication {\n    private static final String PROCESS_STRING_URL = &quot;http://appacc:8080/processString&quot;;\n\n    public static void main(String[] args) {\n        SpringApplication.run(LogonPageApplication.class, args);\n    }\n\n</code></pre>\n<p>You are connecting directly to the container on the container port. Hence the port is <code>8080</code> not <code>8081</code> as that would be what you're mapping to on the host port. Theoretically you could drop that mapping from the docker-compose unless you still want to reach the containers from the host as well.</p>\n<p>Small note: you don't need to manually create a network unless you explicitly want to reference it since the <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">documentation</a> states the following</p>\n<blockquote>\n<p>By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6622474,"reputation":3431,"user_id":5113666,"accept_rate":11,"display_name":"Ali Kahoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691747868,"creation_date":1691747868,"answer_id":76882482,"question_id":76882360,"body_markdown":"You need to understand `8081:8080` means to map your local machines port 8081 to your container&#39;s port 8080. And then from other container you are trying to access `localhost:8081` which means it is trying to reach the 2nd container&#39;s network, not your local/host machine&#39;s network. A container cannot access your machine&#39;s network through localhost.\r\n\r\nThere are 2 ways for this\r\n1. **Not the best way**: use `host.docker.internal:8081` which means to use the host network.\r\n2. **The best approach** As both containers are already on same network so use the other container&#39;s name and container&#39;s port, so in your case `appacc:8080` so now you wont need 8081 as you are directly calling the container, so thats why 8080\r\n","title":"Failing to communicate between two Docker containers via Rest API using Java Spring Boot","body":"<p>You need to understand <code>8081:8080</code> means to map your local machines port 8081 to your container's port 8080. And then from other container you are trying to access <code>localhost:8081</code> which means it is trying to reach the 2nd container's network, not your local/host machine's network. A container cannot access your machine's network through localhost.</p>\n<p>There are 2 ways for this</p>\n<ol>\n<li><strong>Not the best way</strong>: use <code>host.docker.internal:8081</code> which means to use the host network.</li>\n<li><strong>The best approach</strong> As both containers are already on same network so use the other container's name and container's port, so in your case <code>appacc:8080</code> so now you wont need 8081 as you are directly calling the container, so thats why 8080</li>\n</ol>\n"}],"owner":{"account_id":24309853,"reputation":153,"user_id":18252052,"display_name":"Kefest1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76882482,"answer_count":2,"score":2,"last_activity_date":1691748324,"creation_date":1691746913,"question_id":76882360,"body_markdown":"I have two Java Spring Boot applications:\r\nOn port 8080:\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class LogonPageApplication {\r\n\tprivate static final String PROCESS_STRING_URL = &quot;http://localhost:8081/processString&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LogonPageApplication.class, args);\r\n\t}\r\n\r\n\t@GetMapping(&quot;/send&quot;)\r\n\tpublic String test() {\r\n\r\n\t\tString responseBody = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n\t\t\tString requestBody = &quot;{testttgfvrdf}&quot;;\r\n\t\t\tHttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\r\n\r\n\t\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(PROCESS_STRING_URL, HttpMethod.POST, httpEntity, String.class);\r\n\r\n\t\t\tresponseBody = response.getBody();\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn e.getMessage();\r\n\t\t}\r\n\r\n\t\treturn &quot;Main Page\\n&quot; + &quot;Response from /processString: &quot; + responseBody;\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\nOn port 8081:\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class AcceptMessageApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AcceptMessageApplication.class, args);\r\n\t}\r\n\r\n\t@PostMapping(&quot;/processString&quot;)\r\n\tpublic String processString(@RequestBody String inputString) {\r\n\t\treturn &quot;Processed string: &quot; + inputString;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have two Dockerfiles:\r\n```\r\nFROM openjdk:17-jdk-slim\r\nWORKDIR /app\r\nCOPY target/AcceptMessage-0.0.1-SNAPSHOT.jar /app/AcceptMessage-0.0.1-SNAPSHOT.jar\r\nEXPOSE 8080\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;AcceptMessage-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\nWith filenames beeing the only differences\r\n\r\nAnd a docker-compose file:\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  appacc:\r\n    build:\r\n      context: AcceptMessage\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8081:8080&quot;\r\n    networks:\r\n      - my-network\r\n  applog:\r\n    build:\r\n      context: LogonPage\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    networks:\r\n      - my-network\r\nnetworks:\r\n  my-network:\r\n\r\n# docker-compose build\r\n# docker-compose up\r\n\r\n```\r\n\r\nThis app works as intended when I run it from a console and so does the endpoint when sending a requst via Postman, however I cannot get them to exchange message having dockerized it whenever I enter http://localhost:8080/send resulting in:\r\n\r\n**I/O error on POST request for &quot;http://localhost:8081/processString&quot;: Connection refused.**\r\n","title":"Failing to communicate between two Docker containers via Rest API using Java Spring Boot","body":"<p>I have two Java Spring Boot applications:\nOn port 8080:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class LogonPageApplication {\n    private static final String PROCESS_STRING_URL = &quot;http://localhost:8081/processString&quot;;\n\n    public static void main(String[] args) {\n        SpringApplication.run(LogonPageApplication.class, args);\n    }\n\n    @GetMapping(&quot;/send&quot;)\n    public String test() {\n\n        String responseBody = &quot;&quot;;\n        try {\n            RestTemplate restTemplate = new RestTemplate();\n\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_JSON);\n\n            String requestBody = &quot;{testttgfvrdf}&quot;;\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\n\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(PROCESS_STRING_URL, HttpMethod.POST, httpEntity, String.class);\n\n            responseBody = response.getBody();\n        } catch (Exception e) {\n            return e.getMessage();\n        }\n\n        return &quot;Main Page\\n&quot; + &quot;Response from /processString: &quot; + responseBody;\n    }\n\n}\n\n\n</code></pre>\n<p>On port 8081:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class AcceptMessageApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AcceptMessageApplication.class, args);\n    }\n\n    @PostMapping(&quot;/processString&quot;)\n    public String processString(@RequestBody String inputString) {\n        return &quot;Processed string: &quot; + inputString;\n    }\n\n}\n</code></pre>\n<p>I have two Dockerfiles:</p>\n<pre><code>FROM openjdk:17-jdk-slim\nWORKDIR /app\nCOPY target/AcceptMessage-0.0.1-SNAPSHOT.jar /app/AcceptMessage-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;AcceptMessage-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>With filenames beeing the only differences</p>\n<p>And a docker-compose file:</p>\n<pre><code>version: '3'\nservices:\n  appacc:\n    build:\n      context: AcceptMessage\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8081:8080&quot;\n    networks:\n      - my-network\n  applog:\n    build:\n      context: LogonPage\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - my-network\nnetworks:\n  my-network:\n\n# docker-compose build\n# docker-compose up\n\n</code></pre>\n<p>This app works as intended when I run it from a console and so does the endpoint when sending a requst via Postman, however I cannot get them to exchange message having dockerized it whenever I enter http://localhost:8080/send resulting in:</p>\n<p><strong>I/O error on POST request for &quot;http://localhost:8081/processString&quot;: Connection refused.</strong></p>\n"},{"tags":["java","ms-word","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1691817374,"post_id":76881367,"comment_id":135545930,"body_markdown":"https://stackoverflow.com/questions/46235410/java-apache-poi-word-existing-table-insert-row-with-cell-style-and-formatting/46236650#46236650 and https://stackoverflow.com/questions/53211749/cant-change-row-text-in-docx-file-once-row-is-added-to-table/53246880#53246880","body":"<a href=\"https://stackoverflow.com/questions/46235410/java-apache-poi-word-existing-table-insert-row-with-cell-style-and-formatting/46236650#46236650\" title=\"java apache poi word existing table insert row with cell style and formatting\">stackoverflow.com/questions/46235410/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/53211749/cant-change-row-text-in-docx-file-once-row-is-added-to-table/53246880#53246880\" title=\"cant change row text in docx file once row is added to table\">stackoverflow.com/questions/53211749/&hellip;</a>"}],"owner":{"account_id":27753217,"reputation":1,"user_id":21187263,"display_name":"Cristobal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691748292,"creation_date":1691737551,"question_id":76881367,"body_markdown":"I would like to have a function for an XWPFTable that uses Word to dynamically copy rows.\r\n\r\nWith the word dynamically I mean to copy the value of the cell above and the element number to be able to replace it with the value that I will change later. I am using the Apache POI library\r\n\r\nFor example, in a row I will have #POR1# in cell x, which will be the percentage of the first element, I want to create a row just after I have #POR2# in cell so that I can then substitute the values\r\n\r\nI found a similar function for Excel, but I didn&#39;t find it for Word\r\n\r\n```java\r\nprivate static void copyRow(Workbook workbook, Sheet worksheet, int sourceRowNum, int destinationRowNum, int contadorDinamico) {\r\n    Row newRow = worksheet.getRow(destinationRowNum);\r\n    Row sourceRow = worksheet.getRow(sourceRowNum);\r\n\r\n    if (newRow != null) {\r\n        worksheet.shiftRows(destinationRowNum, worksheet.getLastRowNum(), 1);\r\n    }\r\n    newRow = worksheet.createRow(destinationRowNum);\r\n    \r\n    for (int i = 0; i &lt; sourceRow.getLastCellNum(); i++) {\r\n        Cell oldCell = sourceRow.getCell(i);\r\n        Cell newCell = newRow.createCell(i);\r\n\r\n        if (oldCell == null) {\r\n            newCell = null;\r\n            continue;\r\n        }\r\n\r\n        // Copy style from old cell and apply to new cell\r\n        CellStyle newCellStyle = workbook.createCellStyle();\r\n        newCellStyle.cloneStyleFrom(oldCell.getCellStyle());\r\n        ;\r\n        newCell.setCellStyle(newCellStyle);\r\n\r\n        // If there is a cell comment, copy\r\n        if (oldCell.getCellComment() != null) {\r\n            newCell.setCellComment(oldCell.getCellComment());\r\n        }\r\n\r\n        // If there is a cell hyperlink, copy\r\n        if (oldCell.getHyperlink() != null) {\r\n            newCell.setHyperlink(oldCell.getHyperlink());\r\n        }\r\n\r\n        // Set the cell data type\r\n        newCell.setCellType(oldCell.getCellType());\r\n\r\n        if(oldCell.getStringCellValue() != null) {\r\n        \tnewCell.setCellValue(oldCell.getStringCellValue().contains(&quot;#&quot;) ? oldCell.getStringCellValue().substring(0, oldCell.getStringCellValue().length()-2) + contadorDinamico + oldCell.getStringCellValue().substring(oldCell.getStringCellValue().length()-1, oldCell.getStringCellValue().length()) : oldCell.getStringCellValue());\r\n        }\r\n        \r\n    }\r\n\r\n    for (int i = 0; i &lt; worksheet.getNumMergedRegions(); i++) {\r\n        CellRangeAddress cellRangeAddress = worksheet.getMergedRegion(i);\r\n        if (cellRangeAddress.getFirstRow() == sourceRow.getRowNum()) {\r\n            CellRangeAddress newCellRangeAddress = new CellRangeAddress(newRow.getRowNum(),\r\n                    (newRow.getRowNum() +\r\n                            (cellRangeAddress.getLastRow() - cellRangeAddress.getFirstRow()\r\n                                    )),\r\n                    cellRangeAddress.getFirstColumn(),\r\n                    cellRangeAddress.getLastColumn());\r\n            worksheet.addMergedRegion(newCellRangeAddress);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Add rows dynamically in a XWPF copying other row (APACHE POI)","body":"<p>I would like to have a function for an XWPFTable that uses Word to dynamically copy rows.</p>\n<p>With the word dynamically I mean to copy the value of the cell above and the element number to be able to replace it with the value that I will change later. I am using the Apache POI library</p>\n<p>For example, in a row I will have #POR1# in cell x, which will be the percentage of the first element, I want to create a row just after I have #POR2# in cell so that I can then substitute the values</p>\n<p>I found a similar function for Excel, but I didn't find it for Word</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void copyRow(Workbook workbook, Sheet worksheet, int sourceRowNum, int destinationRowNum, int contadorDinamico) {\n    Row newRow = worksheet.getRow(destinationRowNum);\n    Row sourceRow = worksheet.getRow(sourceRowNum);\n\n    if (newRow != null) {\n        worksheet.shiftRows(destinationRowNum, worksheet.getLastRowNum(), 1);\n    }\n    newRow = worksheet.createRow(destinationRowNum);\n    \n    for (int i = 0; i &lt; sourceRow.getLastCellNum(); i++) {\n        Cell oldCell = sourceRow.getCell(i);\n        Cell newCell = newRow.createCell(i);\n\n        if (oldCell == null) {\n            newCell = null;\n            continue;\n        }\n\n        // Copy style from old cell and apply to new cell\n        CellStyle newCellStyle = workbook.createCellStyle();\n        newCellStyle.cloneStyleFrom(oldCell.getCellStyle());\n        ;\n        newCell.setCellStyle(newCellStyle);\n\n        // If there is a cell comment, copy\n        if (oldCell.getCellComment() != null) {\n            newCell.setCellComment(oldCell.getCellComment());\n        }\n\n        // If there is a cell hyperlink, copy\n        if (oldCell.getHyperlink() != null) {\n            newCell.setHyperlink(oldCell.getHyperlink());\n        }\n\n        // Set the cell data type\n        newCell.setCellType(oldCell.getCellType());\n\n        if(oldCell.getStringCellValue() != null) {\n            newCell.setCellValue(oldCell.getStringCellValue().contains(&quot;#&quot;) ? oldCell.getStringCellValue().substring(0, oldCell.getStringCellValue().length()-2) + contadorDinamico + oldCell.getStringCellValue().substring(oldCell.getStringCellValue().length()-1, oldCell.getStringCellValue().length()) : oldCell.getStringCellValue());\n        }\n        \n    }\n\n    for (int i = 0; i &lt; worksheet.getNumMergedRegions(); i++) {\n        CellRangeAddress cellRangeAddress = worksheet.getMergedRegion(i);\n        if (cellRangeAddress.getFirstRow() == sourceRow.getRowNum()) {\n            CellRangeAddress newCellRangeAddress = new CellRangeAddress(newRow.getRowNum(),\n                    (newRow.getRowNum() +\n                            (cellRangeAddress.getLastRow() - cellRangeAddress.getFirstRow()\n                                    )),\n                    cellRangeAddress.getFirstColumn(),\n                    cellRangeAddress.getLastColumn());\n            worksheet.addMergedRegion(newCellRangeAddress);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","maven","intellij-idea","junit"],"answers":[{"tags":[],"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691747935,"creation_date":1691747935,"answer_id":76882491,"question_id":76881985,"body_markdown":"Looking at your pom, you have the following dependencies:\r\n\r\n- `kotlin-test-junit5:1.7.10` depends on `junit-jupiter-api:5.6.0`\r\n- `junit-jupiter-engine:5.8.2` depends on `junit-jupiter-api:5.8.2`\r\n\r\nAnd class `org.junit.jupiter.api.ClassOrderer` was only introduced in `junit-jupiter-api:5.8.0`.\r\n\r\nSo here you have 2 dependencies that both have a transitive dependency to `junit-jupiter-api`, however they depend on different version. Maven has an algorithm to resolve this version conflict, and I think it decides to use `junit-jupiter-engine:5.8.2` (as it&#39;s explicitly brought in by your pom) with `junit-jupiter-api:5.6.0` (* see note 1 at the bottom) – this can be checked using `mvn dependency:tree -Dverbose` and see what it says.\r\n\r\nIn order to solve this conflict, I&#39;d simply remove `junit-jupiter-engine` from your pom, as it&#39;s brought in by `kotlin-test-junit5` anyway. This should solve the problem I think.\r\n\r\nAs a side note, you can use the [Maven Enforcer plugin][1], which has goals to ensure all dependencies (including transitive ones) [converge][2] to the same version.\r\n\r\nNotes:\r\n1. I think that&#39;s because it&#39;s a transitive dependency with depth 1 in both `kotlin-test-junit5` and `junit-jupiter-engine`, however `kotlin-test-junit5` comes first, so that&#39;s the version that ends up being used.\r\n\r\n[1]: https://maven.apache.org/enforcer/maven-enforcer-plugin/\r\n[2]: https://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html","title":"Getting error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot; while running test","body":"<p>Looking at your pom, you have the following dependencies:</p>\n<ul>\n<li><code>kotlin-test-junit5:1.7.10</code> depends on <code>junit-jupiter-api:5.6.0</code></li>\n<li><code>junit-jupiter-engine:5.8.2</code> depends on <code>junit-jupiter-api:5.8.2</code></li>\n</ul>\n<p>And class <code>org.junit.jupiter.api.ClassOrderer</code> was only introduced in <code>junit-jupiter-api:5.8.0</code>.</p>\n<p>So here you have 2 dependencies that both have a transitive dependency to <code>junit-jupiter-api</code>, however they depend on different version. Maven has an algorithm to resolve this version conflict, and I think it decides to use <code>junit-jupiter-engine:5.8.2</code> (as it's explicitly brought in by your pom) with <code>junit-jupiter-api:5.6.0</code> (* see note 1 at the bottom) – this can be checked using <code>mvn dependency:tree -Dverbose</code> and see what it says.</p>\n<p>In order to solve this conflict, I'd simply remove <code>junit-jupiter-engine</code> from your pom, as it's brought in by <code>kotlin-test-junit5</code> anyway. This should solve the problem I think.</p>\n<p>As a side note, you can use the <a href=\"https://maven.apache.org/enforcer/maven-enforcer-plugin/\" rel=\"nofollow noreferrer\">Maven Enforcer plugin</a>, which has goals to ensure all dependencies (including transitive ones) <a href=\"https://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html\" rel=\"nofollow noreferrer\">converge</a> to the same version.</p>\n<p>Notes:</p>\n<ol>\n<li>I think that's because it's a transitive dependency with depth 1 in both <code>kotlin-test-junit5</code> and <code>junit-jupiter-engine</code>, however <code>kotlin-test-junit5</code> comes first, so that's the version that ends up being used.</li>\n</ol>\n"}],"owner":{"account_id":11843011,"reputation":33,"user_id":8666336,"display_name":"Harsh Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76882491,"answer_count":1,"score":1,"last_activity_date":1691747935,"creation_date":1691743581,"question_id":76881985,"body_markdown":"I am trying to run tests with Junit 5 in my maven project but getting error : `TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests` . junit-jupiter-engine version is 5.9.0 (tried other versions as well) and maven-surefire-plugin version is 2.22.2. \r\n\r\nI am using Intellij Community Edition (2023.1.3) with \r\n\r\nGetting following error:\r\n\r\n```\r\nrg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:189)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:168)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: java.lang.NoClassDefFoundError: org/junit/jupiter/api/ClassOrderer\r\n\tat org.junit.jupiter.engine.config.DefaultJupiterConfiguration.&lt;clinit&gt;(DefaultJupiterConfiguration.java:50)\r\n\tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:66)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:181)\r\n\t... 8 more\r\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.ClassOrderer\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 11 more\r\n```\r\n\r\nPom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;Airline&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;consoleApp&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;kotlin.code.style&gt;official&lt;/kotlin.code.style&gt;\r\n        &lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;\r\n        &lt;kotlin.version&gt;1.9.0&lt;/kotlin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;mavenCentral&lt;/id&gt;\r\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;source&gt;src/main/kotlin&lt;/source&gt;\r\n                                &lt;source&gt;target/generated-sources/annotations&lt;/source&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;source&gt;src/test/kotlin&lt;/source&gt;\r\n                                &lt;source&gt;target/generated-test-sources/test-annotations&lt;/source&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;MainKt&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI tried changing the version for junit-jupiter-engine but that didn\\`t help. Could anyone please help with this?","title":"Getting error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot; while running test","body":"<p>I am trying to run tests with Junit 5 in my maven project but getting error : <code>TestEngine with ID 'junit-jupiter' failed to discover tests</code> . junit-jupiter-engine version is 5.9.0 (tried other versions as well) and maven-surefire-plugin version is 2.22.2.</p>\n<p>I am using Intellij Community Edition (2023.1.3) with</p>\n<p>Getting following error:</p>\n<pre><code>rg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:189)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:168)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.NoClassDefFoundError: org/junit/jupiter/api/ClassOrderer\n    at org.junit.jupiter.engine.config.DefaultJupiterConfiguration.&lt;clinit&gt;(DefaultJupiterConfiguration.java:50)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:66)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:181)\n    ... 8 more\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.ClassOrderer\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 11 more\n</code></pre>\n<p>Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;Airline&lt;/artifactId&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;consoleApp&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;kotlin.code.style&gt;official&lt;/kotlin.code.style&gt;\n        &lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;\n        &lt;kotlin.version&gt;1.9.0&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;mavenCentral&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                                &lt;source&gt;target/generated-sources/annotations&lt;/source&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;source&gt;src/test/kotlin&lt;/source&gt;\n                                &lt;source&gt;target/generated-test-sources/test-annotations&lt;/source&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;MainKt&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried changing the version for junit-jupiter-engine but that didn`t help. Could anyone please help with this?</p>\n"},{"tags":["java","loops","while-loop","do-while"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1686147644,"post_id":76424325,"comment_id":134759626,"body_markdown":"[The Java Tutorials - The while and do-while Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html) : **&quot;The difference between do-while and while is that do-while evaluates its expression at the bottom of the loop instead of the top. Therefore, the statements within the do block are always executed at least once, as shown in the following DoWhileDemo program:&quot;**","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The Java Tutorials - The while and do-while Statements</a> : <b>&quot;The difference between do-while and while is that do-while evaluates its expression at the bottom of the loop instead of the top. Therefore, the statements within the do block are always executed at least once, as shown in the following DoWhileDemo program:&quot;</b>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686147655,"post_id":76424325,"comment_id":134759630,"body_markdown":"What about that do you not understand?","body":"What about that do you not understand?"},{"owner":{"account_id":28612802,"reputation":19,"user_id":21907450,"display_name":"james51"},"score":0,"creation_date":1686147699,"post_id":76424325,"comment_id":134759645,"body_markdown":"i don&#39;t understand like what is the diffy, it executes the same","body":"i don&#39;t understand like what is the diffy, it executes the same"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1686147745,"post_id":76424325,"comment_id":134759665,"body_markdown":"with `while-do` condition is checked first, then body is executed second, with `do-while` body is executed first, condition checked second","body":"with <code>while-do</code> condition is checked first, then body is executed second, with <code>do-while</code> body is executed first, condition checked second"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1686147785,"post_id":76424325,"comment_id":134759679,"body_markdown":"It executes the same in this one very specific example you chosen. The difference is explained very clearly here. A do-while will execute it&#39;s block always at least once. A while loop can also chose to not execute it&#39;s block at all.","body":"It executes the same in this one very specific example you chosen. The difference is explained very clearly here. A do-while will execute it&#39;s block always at least once. A while loop can also chose to not execute it&#39;s block at all."},{"owner":{"account_id":28612802,"reputation":19,"user_id":21907450,"display_name":"james51"},"score":0,"creation_date":1686147800,"post_id":76424325,"comment_id":134759683,"body_markdown":"can you give a code then that demonstrates it?, for me to really see the diffy","body":"can you give a code then that demonstrates it?, for me to really see the diffy"}],"answers":[{"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1686147878,"post_id":76424363,"comment_id":134759713,"body_markdown":"I don&#39;t think the difference has much to do with initializing a condition. It&#39;s more about guaranteeing a routine to execute at least once, despite the condition, versus conditionally looping.","body":"I don&#39;t think the difference has much to do with initializing a condition. It&#39;s more about guaranteeing a routine to execute at least once, despite the condition, versus conditionally looping."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1686155414,"post_id":76424363,"comment_id":134761459,"body_markdown":"@h0r53 that is not correct. I&#39;ve added examples.","body":"@h0r53 that is not correct. I&#39;ve added examples."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1686156705,"post_id":76424363,"comment_id":134761720,"body_markdown":"I&#39;m not the downvoter - I&#39;m simply stating that the primary difference between a while loop and a do-while loop is the loop condition is evaluated at the end of a do-while loop and it is evaluated at the beginning of a while loop. You may have valid examples of loops involving initialization, but that is a specific case and not a general difference between the two constructs.","body":"I&#39;m not the downvoter - I&#39;m simply stating that the primary difference between a while loop and a do-while loop is the loop condition is evaluated at the end of a do-while loop and it is evaluated at the beginning of a while loop. You may have valid examples of loops involving initialization, but that is a specific case and not a general difference between the two constructs."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1686158565,"post_id":76424363,"comment_id":134762092,"body_markdown":"Again, I&#39;m not the downvoter. Not sure if it was you but going to random answers I&#39;ve provided in the past and downvoting seems pretty petty. But as you&#39;ve provided examples in an attempt to address my concerns, and those examples seem relevant here, I&#39;ll kindly provide an upvote for providing a thoughtful answer.","body":"Again, I&#39;m not the downvoter. Not sure if it was you but going to random answers I&#39;ve provided in the past and downvoting seems pretty petty. But as you&#39;ve provided examples in an attempt to address my concerns, and those examples seem relevant here, I&#39;ll kindly provide an upvote for providing a thoughtful answer."}],"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686155565,"creation_date":1686147790,"answer_id":76424363,"question_id":76424325,"body_markdown":"It depends on the problem you&#39;re trying to solve.\r\n\r\nIf need to initialize your condition first before you being your loop, you would use `while { ... }`. If the condition is already initialized, you would use `do { ... } while `. \r\n\r\nI like to think of it as &quot;top test loops&quot; and &quot;bottom test loops&quot;, where &quot;test&quot; means &quot;do I exit the loop?&quot;.\r\n\r\nAnother important difference is the bottom test loop always runs at least once. So if you need to run the code in the loop at least once, you can use a do-while.\r\n\r\nEDIT\r\n=====\r\n\r\n@h0r53 wants an example of a while loop initializing a condition. So here are two examples:\r\n\r\n * The Java Iterator interface must be &quot;primed&quot; before looping by calling &quot;iterator.next()&quot; This is best done with a top-test loop\r\nref: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\r\n\r\n * The Java Pattern Matcher interface has `matcher.matches()`, which again, primes the loop condition. This is best done with a top test loop. ref: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html\r\n\r\n\r\n\r\n\r\n","title":"Difference between while and a do-while code in Java","body":"<p>It depends on the problem you're trying to solve.</p>\n<p>If need to initialize your condition first before you being your loop, you would use <code>while { ... }</code>. If the condition is already initialized, you would use <code>do { ... } while </code>.</p>\n<p>I like to think of it as &quot;top test loops&quot; and &quot;bottom test loops&quot;, where &quot;test&quot; means &quot;do I exit the loop?&quot;.</p>\n<p>Another important difference is the bottom test loop always runs at least once. So if you need to run the code in the loop at least once, you can use a do-while.</p>\n<h1>EDIT</h1>\n<p>@h0r53 wants an example of a while loop initializing a condition. So here are two examples:</p>\n<ul>\n<li><p>The Java Iterator interface must be &quot;primed&quot; before looping by calling &quot;iterator.next()&quot; This is best done with a top-test loop\nref: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html</a></p>\n</li>\n<li><p>The Java Pattern Matcher interface has <code>matcher.matches()</code>, which again, primes the loop condition. This is best done with a top test loop. ref: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12792604,"reputation":75,"user_id":17729087,"display_name":"MUsmanTahir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686148015,"creation_date":1686148015,"answer_id":76424403,"question_id":76424325,"body_markdown":"In While Loop, before starting the loop block it checks whether the condition provided is satisfied (true) or not. Take this example,\r\n\r\n    while(false){\r\n     System.out.println(&quot;While&quot;);\r\n    }\r\n\r\non the other hand in do while, the block will be executed once before checking the condition in while. Take this as example,\r\n\r\n    do{\r\n     System.out.println(&quot;Do While&quot;);\r\n    }while(false);\r\n\r\nwhere the while loop will not print anything but the do while will print `Do While` once before checking the condition and terminating...\r\n\r\nI hope it helps you understand that...","title":"Difference between while and a do-while code in Java","body":"<p>In While Loop, before starting the loop block it checks whether the condition provided is satisfied (true) or not. Take this example,</p>\n<pre><code>while(false){\n System.out.println(&quot;While&quot;);\n}\n</code></pre>\n<p>on the other hand in do while, the block will be executed once before checking the condition in while. Take this as example,</p>\n<pre><code>do{\n System.out.println(&quot;Do While&quot;);\n}while(false);\n</code></pre>\n<p>where the while loop will not print anything but the do while will print <code>Do While</code> once before checking the condition and terminating...</p>\n<p>I hope it helps you understand that...</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686151966,"creation_date":1686151966,"answer_id":76424934,"question_id":76424325,"body_markdown":"Here&#39;s an example that will hopefully make it very clear what the difference is between a `do...while` loop and a `while` loop.\r\n\r\nIn the code below, the `safeToJump()` function will return true or false (it always returns true in this simple example) to indicate whether it is &quot;safe to jump&quot;. If it is not safe to jump, then you will die if you still do so. With that in mind, if you `jump()` before checking if it is safe to do so, then you are gambling with your life. On the other hand, if you check to make sure it&#39;s safe before jumping, then you&#39;re guaranteed to survive:\r\n\r\n    public static void main(String[] args) {\r\n    \tdo {\r\n    \t\tjump();\r\n    \t} while (safeToJump());\r\n    \r\n    \twhile (safeToJump()) {\r\n    \t\tjump();\r\n    \t}\r\n    }\r\n\r\n    public static boolean safeToJump() {\r\n    \treturn true;\r\n    }\r\n    \r\n    public static void jump() {   \r\n    \tSystem.out.println(&quot;Jump!&quot;);\r\n    }\r\n\r\nIn `main()`, in the first `do...while` loop, we are running the body of the loop BEFORE we check the conditional statement within the `while` portion, so it&#39;s possible that we jumped while conditions were not safe. This is possibly a dangerous action that could result in death. Thus, *a `do...while` loop will always run at least once before checking the conditional statement.*\r\n\r\nIn the second loop, the `while` conditional statement is checked BEFORE the body, so the `jump()` command is only executed if `true` was returned and conditions were actually safe for a jump. With that in mind, if `safeToJump()` had returned `false`, then the body of the loop would not run at all. So, *a `while` loop will run `zero or more times`.*\r\n\r\nSee the difference? Use a `do...while` loop if you want the body of the loop to run BEFORE the conditional check. Conversely, use a `while` loop if you want the body of the loop to run AFTER the conditional check.","title":"Difference between while and a do-while code in Java","body":"<p>Here's an example that will hopefully make it very clear what the difference is between a <code>do...while</code> loop and a <code>while</code> loop.</p>\n<p>In the code below, the <code>safeToJump()</code> function will return true or false (it always returns true in this simple example) to indicate whether it is &quot;safe to jump&quot;. If it is not safe to jump, then you will die if you still do so. With that in mind, if you <code>jump()</code> before checking if it is safe to do so, then you are gambling with your life. On the other hand, if you check to make sure it's safe before jumping, then you're guaranteed to survive:</p>\n<pre><code>public static void main(String[] args) {\n    do {\n        jump();\n    } while (safeToJump());\n\n    while (safeToJump()) {\n        jump();\n    }\n}\n\npublic static boolean safeToJump() {\n    return true;\n}\n\npublic static void jump() {   \n    System.out.println(&quot;Jump!&quot;);\n}\n</code></pre>\n<p>In <code>main()</code>, in the first <code>do...while</code> loop, we are running the body of the loop BEFORE we check the conditional statement within the <code>while</code> portion, so it's possible that we jumped while conditions were not safe. This is possibly a dangerous action that could result in death. Thus, <em>a <code>do...while</code> loop will always run at least once before checking the conditional statement.</em></p>\n<p>In the second loop, the <code>while</code> conditional statement is checked BEFORE the body, so the <code>jump()</code> command is only executed if <code>true</code> was returned and conditions were actually safe for a jump. With that in mind, if <code>safeToJump()</code> had returned <code>false</code>, then the body of the loop would not run at all. So, <em>a <code>while</code> loop will run <code>zero or more times</code>.</em></p>\n<p>See the difference? Use a <code>do...while</code> loop if you want the body of the loop to run BEFORE the conditional check. Conversely, use a <code>while</code> loop if you want the body of the loop to run AFTER the conditional check.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686207244,"creation_date":1686160550,"answer_id":76425920,"question_id":76424325,"body_markdown":"If you are assigning a value within the loop&#39;s conditional statement, then you may want to execute the code block first.\r\n\r\nThe following is an except from _[The C Programming Language](https://en.wikipedia.org/wiki/The_C_Programming_Language)_, sometimes referred to as the _K&amp;R_.  \r\nI&#39;m using this example since _Java_ inherits a majority of it&#39;s components from _C_.\r\n\r\nThis is from, _3.6 Loops&amp;ndash;Do-while_.\r\n\r\n&gt; &quot;Experience shows that _do-while_ is much less used than _while_ and _for_.&amp;nbsp; Nonetheless, from time to time it is valuable, as in the following function _itoa_, which converts a number to a character string (the inverse of _atoi_).&amp;nbsp; The job is slightly more complicated than might be thought at first, because the easy methods of generating the digits generate them in the wrong order.&amp;nbsp; We have chosen to generate the string backwards, then reverse it.&quot;\r\n\r\n```c\r\n/* itoa:  convert n to characters in s */\r\nvoid itoa(int n, char s[])\r\n{\r\n    int i, sign;\r\n\r\n    if ((sign = n) &lt; 0)  /* record sign */\r\n        n = -n;          /* make n positive */\r\n    i = 0;\r\n    do {       /* generate digits in reserve order */\r\n        s[i++] = n % 10 + &#39;0&#39;;   /* get next digit */\r\n    } while ((n /= 10) &gt; 0);     /* delete it */\r\n    if (sign &lt; 0)\r\n        s[i++] = &#39;-&#39;;\r\n    s[i] = &#39;\\0&#39;;\r\n    reverse(s);\r\n}\r\n```\r\nAdditionally, _Java_ explains the difference with the following.\r\n\r\n&gt; _&quot;The difference between do-while and while is that do-while evaluates its expression at the bottom of the loop instead of the top. Therefore, the statements within the do block are always executed at least once ...&quot;_\r\n\r\n_[The while and do-while Statements (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_.","title":"Difference between while and a do-while code in Java","body":"<p>If you are assigning a value within the loop's conditional statement, then you may want to execute the code block first.</p>\n<p>The following is an except from <em><a href=\"https://en.wikipedia.org/wiki/The_C_Programming_Language\" rel=\"nofollow noreferrer\">The C Programming Language</a></em>, sometimes referred to as the <em>K&amp;R</em>.<br />\nI'm using this example since <em>Java</em> inherits a majority of it's components from <em>C</em>.</p>\n<p>This is from, <em>3.6 Loops–Do-while</em>.</p>\n<blockquote>\n<p>&quot;Experience shows that <em>do-while</em> is much less used than <em>while</em> and <em>for</em>.  Nonetheless, from time to time it is valuable, as in the following function <em>itoa</em>, which converts a number to a character string (the inverse of <em>atoi</em>).  The job is slightly more complicated than might be thought at first, because the easy methods of generating the digits generate them in the wrong order.  We have chosen to generate the string backwards, then reverse it.&quot;</p>\n</blockquote>\n<pre class=\"lang-c prettyprint-override\"><code>/* itoa:  convert n to characters in s */\nvoid itoa(int n, char s[])\n{\n    int i, sign;\n\n    if ((sign = n) &lt; 0)  /* record sign */\n        n = -n;          /* make n positive */\n    i = 0;\n    do {       /* generate digits in reserve order */\n        s[i++] = n % 10 + '0';   /* get next digit */\n    } while ((n /= 10) &gt; 0);     /* delete it */\n    if (sign &lt; 0)\n        s[i++] = '-';\n    s[i] = '\\0';\n    reverse(s);\n}\n</code></pre>\n<p>Additionally, <em>Java</em> explains the difference with the following.</p>\n<blockquote>\n<p><em>&quot;The difference between do-while and while is that do-while evaluates its expression at the bottom of the loop instead of the top. Therefore, the statements within the do block are always executed at least once ...&quot;</em></p>\n</blockquote>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":24374507,"reputation":45,"user_id":18307034,"display_name":"Navindu Dahanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686199771,"creation_date":1686199771,"answer_id":76428694,"question_id":76424325,"body_markdown":"While loop checks the condition before executing the loop body,\r\n   \r\n    while(condition){\r\n       //block of statements to be executed repeatedly\r\n    }\r\n\r\n\r\nDo-while loop checks the condition after executing the loop body,\r\n\r\n    do{\r\n       //block of statements to be executed repeatedly\r\n    }while(condition)\r\n\r\n\r\nIn a while loop, the block of statements will only be executed if the condition is true.\r\n\r\n    while(false){\r\n       System.out.println(&quot;Hello World&quot;);\r\n    }\r\n    \r\n    output:\r\n \r\nHowever, in a do-while loop, the block of statements inside the loop will be executed at least once, even if the condition is false.\r\n\r\n    do{\r\n       System.out.println(&quot;Hello World&quot;);\r\n    }while(false)\r\n\r\n    output: Hello world\r\n","title":"Difference between while and a do-while code in Java","body":"<p>While loop checks the condition before executing the loop body,</p>\n<pre><code>while(condition){\n   //block of statements to be executed repeatedly\n}\n</code></pre>\n<p>Do-while loop checks the condition after executing the loop body,</p>\n<pre><code>do{\n   //block of statements to be executed repeatedly\n}while(condition)\n</code></pre>\n<p>In a while loop, the block of statements will only be executed if the condition is true.</p>\n<pre><code>while(false){\n   System.out.println(&quot;Hello World&quot;);\n}\n\noutput:\n</code></pre>\n<p>However, in a do-while loop, the block of statements inside the loop will be executed at least once, even if the condition is false.</p>\n<pre><code>do{\n   System.out.println(&quot;Hello World&quot;);\n}while(false)\n\noutput: Hello world\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692088562,"post_id":76882372,"comment_id":135574130,"body_markdown":"Pardon me, but I don&#39;t see how your answer adds anything that is not already stated in the other [five] answers. If you are just going to [essentially] repeat another answer, I think it is better not to answer at all.","body":"Pardon me, but I don&#39;t see how your answer adds anything that is not already stated in the other [five] answers. If you are just going to [essentially] repeat another answer, I think it is better not to answer at all."}],"tags":[],"owner":{"account_id":29200049,"reputation":1,"user_id":22370370,"display_name":"Yigit Emre TURKKAN"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691746999,"creation_date":1691746999,"answer_id":76882372,"question_id":76424325,"body_markdown":"Only when using while, the operation starts according to the condition. But when we use the Do-While structure, it first performs the operation once and then continues according to the condition.","title":"Difference between while and a do-while code in Java","body":"<p>Only when using while, the operation starts according to the condition. But when we use the Do-While structure, it first performs the operation once and then continues according to the condition.</p>\n"}],"owner":{"account_id":28612802,"reputation":19,"user_id":21907450,"display_name":"james51"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":6,"score":-1,"last_activity_date":1691746999,"creation_date":1686147527,"question_id":76424325,"body_markdown":"I&#39;m currently learning java right now, and I looked through videos, I still don&#39;t get it, even chatgpt explains it I still do not understand, can somebody give me an brief simple explanation and an example from the while and the do-while statement?\r\n\r\nI tried this block of code :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class learn {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString name = &quot;&quot;;\r\n    \t\t\r\n    \t\twhile(name.isBlank()) {\r\n    \t\t\tSystem.out.println(&quot;your name pls : &quot;);\r\n    \t\t\tname = scanner.nextLine();\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Hello &quot;+name);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    }\r\n\t\t\r\n\t\r\nand this do while block of code :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class learn {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString name = &quot;&quot;;\r\n    \t\t\r\n    \tdo {\r\n    \t\t\tSystem.out.println(&quot;your name pls : &quot;);\r\n    \t\t\tname = scanner.nextLine();\r\n    \t\t\t\r\n    \t\t}\twhile(name.isBlank());\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Hello &quot;+name);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    }\r\n\t\t\r\nand yet I still do not understand the difference\r\n","title":"Difference between while and a do-while code in Java","body":"<p>I'm currently learning java right now, and I looked through videos, I still don't get it, even chatgpt explains it I still do not understand, can somebody give me an brief simple explanation and an example from the while and the do-while statement?</p>\n<p>I tried this block of code :</p>\n<pre><code>import java.util.Scanner;\n\npublic class learn {\n\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n        String name = &quot;&quot;;\n        \n        while(name.isBlank()) {\n            System.out.println(&quot;your name pls : &quot;);\n            name = scanner.nextLine();\n            \n        }\n        \n        System.out.println(&quot;Hello &quot;+name);\n        \n        \n        \n    }\n        \n}\n    \n</code></pre>\n<p>and this do while block of code :</p>\n<pre><code>import java.util.Scanner;\n\npublic class learn {\n\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n        String name = &quot;&quot;;\n        \n    do {\n            System.out.println(&quot;your name pls : &quot;);\n            name = scanner.nextLine();\n            \n        }   while(name.isBlank());\n        \n        System.out.println(&quot;Hello &quot;+name);\n        \n        \n        \n    }\n        \n}\n    \n</code></pre>\n<p>and yet I still do not understand the difference</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":3,"creation_date":1653495110,"post_id":72380843,"comment_id":127868242,"body_markdown":"@Sweeper `final` is a (soft) keyword in Kotlin to prevent re-overriding an open method","body":"@Sweeper <code>final</code> is a (soft) keyword in Kotlin to prevent re-overriding an open method"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1691746857,"creation_date":1653495308,"answer_id":72381120,"question_id":72380843,"body_markdown":"While `val` and `var` are used to distinguish read-only from read/write variables and properties, `open` and `final` define overridability.\r\n\r\nMethods are `final` by default in Kotlin, but you can declare them `open` to allow subclasses to override the method. When this happens, subclasses can choose to prevent further overrides by adding the `final` keyword in addition to the `override` keyword:\r\n\r\n```kotlin\r\nopen class Shape {\r\n    open fun draw() { /*...*/ }\r\n}\r\nopen class Rectangle() : Shape() {\r\n    // subclasses of Rectangle can&#39;t override draw()\r\n    final override fun draw() { /*...*/ }\r\n}\r\n```\r\n\r\nSee https://kotlinlang.org/docs/inheritance.html#overriding-methods\r\n\r\nThe same goes for defining and overriding *properties* too (see the [next section in the docs](https://kotlinlang.org/docs/inheritance.html#overriding-properties)):\r\n\r\n```kotlin\r\nopen class Shape {\r\n    open val vertexCount: Int = 0 // if this is final, we can&#39;t override it\r\n}\r\n\r\nclass Rectangle : Shape() {\r\n    override val vertexCount = 4\r\n}\r\n```","title":"what is the difference between val and final in kotlin?","body":"<p>While <code>val</code> and <code>var</code> are used to distinguish read-only from read/write variables and properties, <code>open</code> and <code>final</code> define overridability.</p>\n<p>Methods are <code>final</code> by default in Kotlin, but you can declare them <code>open</code> to allow subclasses to override the method. When this happens, subclasses can choose to prevent further overrides by adding the <code>final</code> keyword in addition to the <code>override</code> keyword:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class Shape {\n    open fun draw() { /*...*/ }\n}\nopen class Rectangle() : Shape() {\n    // subclasses of Rectangle can't override draw()\n    final override fun draw() { /*...*/ }\n}\n</code></pre>\n<p>See <a href=\"https://kotlinlang.org/docs/inheritance.html#overriding-methods\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/inheritance.html#overriding-methods</a></p>\n<p>The same goes for defining and overriding <em>properties</em> too (see the <a href=\"https://kotlinlang.org/docs/inheritance.html#overriding-properties\" rel=\"nofollow noreferrer\">next section in the docs</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class Shape {\n    open val vertexCount: Int = 0 // if this is final, we can't override it\n}\n\nclass Rectangle : Shape() {\n    override val vertexCount = 4\n}\n</code></pre>\n"}],"owner":{"account_id":23444455,"reputation":143,"user_id":17501483,"display_name":"ADITYA RAJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691746857,"creation_date":1653494198,"question_id":72380843,"body_markdown":"In Kotlin, val is used to make variable/properties unchangeable, and then what is the use of final?\r\nAs i know that in java final is used for restricting inheritance or to make variable constant but in kotlin val is doing the constant part then what final will do in kotlin?\r\n","title":"what is the difference between val and final in kotlin?","body":"<p>In Kotlin, val is used to make variable/properties unchangeable, and then what is the use of final?\nAs i know that in java final is used for restricting inheritance or to make variable constant but in kotlin val is doing the constant part then what final will do in kotlin?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9880,"page":254,"page_size":100}
