{"items":[{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671876034,"post_id":74906687,"comment_id":132191091,"body_markdown":"I&#39;ve never tried implementing `Scrollable` on a `JPanel`.  I&#39;ve always placed a `JPanel` inside of a `JScrollPane`.  Your `SomeTest` is just one `run` method which is confusing to read.  I don&#39;t understand your `Visualization` class at all.","body":"I&#39;ve never tried implementing <code>Scrollable</code> on a <code>JPanel</code>.  I&#39;ve always placed a <code>JPanel</code> inside of a <code>JScrollPane</code>.  Your <code>SomeTest</code> is just one <code>run</code> method which is confusing to read.  I don&#39;t understand your <code>Visualization</code> class at all."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671876450,"post_id":74906687,"comment_id":132191145,"body_markdown":"My suggestion is to create an image as large as the maximum zoom-in.  Then, for lower zoom levels, you shrink the image.  Any other approach, like using `AffineTransform`, is confusing at best.  Also, separate your code.  Your drawing code should just draw.  Period.  Nothing else.  Your scaling should be handled in a separate controller class.","body":"My suggestion is to create an image as large as the maximum zoom-in.  Then, for lower zoom levels, you shrink the image.  Any other approach, like using <code>AffineTransform</code>, is confusing at best.  Also, separate your code.  Your drawing code should just draw.  Period.  Nothing else.  Your scaling should be handled in a separate controller class."}],"answers":[{"comments":[{"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"score":0,"creation_date":1672300612,"post_id":74912701,"comment_id":132261310,"body_markdown":"Thank you, but I do have a follow up question. This program zooms in and out relative to the top left corner of the Panel. How would I make it so that it zooms in and out relative to the position of the mouse?","body":"Thank you, but I do have a follow up question. This program zooms in and out relative to the top left corner of the Panel. How would I make it so that it zooms in and out relative to the position of the mouse?"}],"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671963201,"creation_date":1671963201,"answer_id":74912701,"question_id":74906687,"body_markdown":"It might be better to use the [AffineTransform#concatenate(AffineTransform)](https://docs.oracle.com/javase/8/docs/api/java/awt/geom/AffineTransform.html#concatenate-java.awt.geom.AffineTransform-) method to combine the `AffineTransform` for zoom and the `AffineTransform` for translation.\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n      super.paintComponent(g);\r\n      Graphics2D g2d = (Graphics2D) g.create();\r\n      AffineTransform scrollTransform = g2d.getTransform();\r\n      scrollTransform.concatenate(zoomTransform);\r\n      g2d.setTransform(scrollTransform);\r\n    \r\n      g2d.drawString(&quot;1234567890&quot;, 500, 200);\r\n    \r\n      g2d.dispose();\r\n    }\r\n\r\n----\r\n**SomeTest2.java**\r\n\r\n    // package sometest;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.AffineTransform;\r\n    import javax.swing.*;\r\n    \r\n    public class SomeTest2 {\r\n      public JComponent makeUI() {\r\n        Visualization v = new Visualization();\r\n    \r\n        MouseAdapter mouseAdapter = new DragScrollListener();\r\n        v.addMouseListener(mouseAdapter);\r\n        v.addMouseMotionListener(mouseAdapter);\r\n    \r\n        JButton in = new JButton(&quot;Zoom In&quot;);\r\n        in.addActionListener(e -&gt; v.setZoomFactor(1.1));\r\n    \r\n        JButton out = new JButton(&quot;Zoom Out&quot;);\r\n        out.addActionListener(e -&gt; v.setZoomFactor(1 / 1.1));\r\n    \r\n        JMenuBar mb = new JMenuBar();\r\n        mb.add(in);\r\n        mb.add(out);\r\n        EventQueue.invokeLater(() -&gt; v.getRootPane().setJMenuBar(mb));\r\n        return new JScrollPane(v);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new SomeTest2().makeUI());\r\n          f.setSize(640, 480);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    class Visualization extends JPanel {\r\n      private final AffineTransform zoomTransform = new AffineTransform();\r\n      private final Rectangle rect = new Rectangle(2000, 750);\r\n    \r\n      public Visualization() {\r\n        Font currentFont = getFont();\r\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 18F);\r\n        setFont(newFont);\r\n        setBackground(Color.WHITE);\r\n      }\r\n    \r\n      public void setZoomFactor(double zoomFactor) {\r\n        zoomTransform.scale(zoomFactor, zoomFactor);\r\n        revalidate();\r\n        repaint();\r\n      }\r\n    \r\n      @Override\r\n      protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        AffineTransform scrollTransform = g2d.getTransform();\r\n        scrollTransform.concatenate(zoomTransform);\r\n        g2d.setTransform(scrollTransform);\r\n    \r\n        g2d.drawString(&quot;1234567890&quot;, 500, 200);\r\n    \r\n        g2d.dispose();\r\n      }\r\n    \r\n      @Override\r\n      public Dimension getPreferredSize() {\r\n        Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\r\n        return new Dimension(r.width, r.height);\r\n      }\r\n    }\r\n    \r\n    class DragScrollListener extends MouseAdapter {\r\n      private final Point origin = new Point();\r\n    \r\n      @Override\r\n      public void mouseDragged(MouseEvent e) {\r\n        Component c = e.getComponent();\r\n        Container p = SwingUtilities.getUnwrappedParent(c);\r\n        if (p instanceof JViewport) {\r\n          JViewport viewport = (JViewport) p;\r\n          Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n          Point vp = viewport.getViewPosition();\r\n          vp.translate(origin.x - cp.x, origin.y - cp.y);\r\n          ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\r\n          origin.setLocation(cp);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void mousePressed(MouseEvent e) {\r\n        Component c = e.getComponent();\r\n        Container p = SwingUtilities.getUnwrappedParent(c);\r\n        if (p instanceof JViewport) {\r\n          JViewport viewport = (JViewport) p;\r\n          Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n          origin.setLocation(cp);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Issues with paint after zooming in and zooming out of JPanel","body":"<p>It might be better to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/geom/AffineTransform.html#concatenate-java.awt.geom.AffineTransform-\" rel=\"nofollow noreferrer\">AffineTransform#concatenate(AffineTransform)</a> method to combine the <code>AffineTransform</code> for zoom and the <code>AffineTransform</code> for translation.</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n  super.paintComponent(g);\n  Graphics2D g2d = (Graphics2D) g.create();\n  AffineTransform scrollTransform = g2d.getTransform();\n  scrollTransform.concatenate(zoomTransform);\n  g2d.setTransform(scrollTransform);\n\n  g2d.drawString(&quot;1234567890&quot;, 500, 200);\n\n  g2d.dispose();\n}\n</code></pre>\n<hr />\n<p><strong>SomeTest2.java</strong></p>\n<pre><code>// package sometest;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.AffineTransform;\nimport javax.swing.*;\n\npublic class SomeTest2 {\n  public JComponent makeUI() {\n    Visualization v = new Visualization();\n\n    MouseAdapter mouseAdapter = new DragScrollListener();\n    v.addMouseListener(mouseAdapter);\n    v.addMouseMotionListener(mouseAdapter);\n\n    JButton in = new JButton(&quot;Zoom In&quot;);\n    in.addActionListener(e -&gt; v.setZoomFactor(1.1));\n\n    JButton out = new JButton(&quot;Zoom Out&quot;);\n    out.addActionListener(e -&gt; v.setZoomFactor(1 / 1.1));\n\n    JMenuBar mb = new JMenuBar();\n    mb.add(in);\n    mb.add(out);\n    EventQueue.invokeLater(() -&gt; v.getRootPane().setJMenuBar(mb));\n    return new JScrollPane(v);\n  }\n\n  public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new SomeTest2().makeUI());\n      f.setSize(640, 480);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n\nclass Visualization extends JPanel {\n  private final AffineTransform zoomTransform = new AffineTransform();\n  private final Rectangle rect = new Rectangle(2000, 750);\n\n  public Visualization() {\n    Font currentFont = getFont();\n    Font newFont = currentFont.deriveFont(currentFont.getSize() * 18F);\n    setFont(newFont);\n    setBackground(Color.WHITE);\n  }\n\n  public void setZoomFactor(double zoomFactor) {\n    zoomTransform.scale(zoomFactor, zoomFactor);\n    revalidate();\n    repaint();\n  }\n\n  @Override\n  protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    Graphics2D g2d = (Graphics2D) g.create();\n    AffineTransform scrollTransform = g2d.getTransform();\n    scrollTransform.concatenate(zoomTransform);\n    g2d.setTransform(scrollTransform);\n\n    g2d.drawString(&quot;1234567890&quot;, 500, 200);\n\n    g2d.dispose();\n  }\n\n  @Override\n  public Dimension getPreferredSize() {\n    Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\n    return new Dimension(r.width, r.height);\n  }\n}\n\nclass DragScrollListener extends MouseAdapter {\n  private final Point origin = new Point();\n\n  @Override\n  public void mouseDragged(MouseEvent e) {\n    Component c = e.getComponent();\n    Container p = SwingUtilities.getUnwrappedParent(c);\n    if (p instanceof JViewport) {\n      JViewport viewport = (JViewport) p;\n      Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n      Point vp = viewport.getViewPosition();\n      vp.translate(origin.x - cp.x, origin.y - cp.y);\n      ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\n      origin.setLocation(cp);\n    }\n  }\n\n  @Override\n  public void mousePressed(MouseEvent e) {\n    Component c = e.getComponent();\n    Container p = SwingUtilities.getUnwrappedParent(c);\n    if (p instanceof JViewport) {\n      JViewport viewport = (JViewport) p;\n      Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n      origin.setLocation(cp);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74912701,"answer_count":1,"score":1,"last_activity_date":1671963201,"creation_date":1671873802,"question_id":74906687,"body_markdown":"I have a scrollable JPanel, with some number drawn through the &quot;drawString&quot; method. When I click the zoom in button, the repaint method is invoked and the number becomes larger, as expected. But when I try to scroll to the right, part of the number is either missing or is painted in its original size instead of the new zoomed size. Below is the minimal reproducible code. \r\n\r\n\r\n```\r\npackage sometest;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JViewport;\r\n\r\npublic class SomeTest implements Runnable\r\n{\r\n    public static JButton in;\r\n    public static JButton out;\r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        SomeTest st = new SomeTest();\r\n        st.run();\r\n    }  \r\n    \r\n    @Override\r\n    public void run() \r\n    {\r\n        JMenuBar mb = new JMenuBar();\r\n        in = new JButton(&quot;Zoom In&quot;);\r\n        out = new JButton(&quot;Zoom Out&quot;);\r\n        JFrame f = new JFrame(&quot;Example&quot;);\r\n        Visualization v = new Visualization();\r\n        JScrollPane sp = new JScrollPane(v);\r\n\r\n        MouseAdapter mouseAdapter = new MouseAdapter() \r\n        {\r\n            private Point origin;\r\n            \r\n            @Override\r\n            public void mousePressed(MouseEvent e) \r\n            {\r\n                origin = new Point(e.getPoint());\r\n            }\r\n             \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) \r\n            {\r\n                JViewport vp = null;\r\n                \r\n                if (origin != null) \r\n                {\r\n                    vp = sp.getViewport();\r\n                }\r\n                \r\n                if (vp != null) \r\n                {\r\n                    int deltaX = origin.x - e.getX();\r\n                    int deltaY = origin.y - e.getY();\r\n\r\n                    Rectangle view = vp.getViewRect();\r\n                    view.x += deltaX;\r\n                    view.y += deltaY;\r\n\r\n                    v.scrollRectToVisible(view);\r\n                }\r\n            }\r\n        };\r\n\r\n        sp.getViewport().addMouseListener(mouseAdapter);\r\n        sp.getViewport().addMouseMotionListener(mouseAdapter);\r\n        \r\n        f.add(sp);\r\n        f.setJMenuBar(mb);\r\n        mb.add(in);\r\n        mb.add(out);\r\n        f.setContentPane(sp);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npackage sometest;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.AffineTransform;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Scrollable;\r\nimport javax.swing.SwingUtilities;\r\nimport static sometest.SomeTest.in;\r\nimport static sometest.SomeTest.out;\r\n\r\npublic class Visualization extends JPanel implements Scrollable, ActionListener\r\n{\r\n    private double zoomFactor = 1;\r\n    private double prevZoomFactor = 1;\r\n    private boolean zoomer;\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n    \r\n    public Visualization()\r\n    {\r\n        in.addActionListener(this);\r\n        out.addActionListener(this);\r\n        Font currentFont = getFont();\r\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 18F);\r\n        setFont(newFont);\r\n        setBackground(Color.WHITE);\r\n    }\r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) \r\n    {\r\n        if(e.getSource()==in)\r\n        {\r\n            zoomer = true;\r\n            zoomFactor *= 1.1;\r\n            repaint();\r\n        }\r\n        \r\n        if(e.getSource()==out)\r\n        {\r\n            zoomer = true;\r\n            zoomFactor /= 1.1;\r\n            repaint();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) \r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        \r\n         if(zoomer) \r\n         {\r\n            AffineTransform at = new AffineTransform();\r\n            \r\n            Dimension center = getPreferredScrollableViewportSize();\r\n            \r\n            Double xRel = center.getWidth()/2;\r\n            Double yRel = center.getHeight()/2;\r\n\r\n            double zoomDiv = zoomFactor / prevZoomFactor;\r\n\r\n            xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\r\n            yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\r\n\r\n            at.translate(xOffset, yOffset);\r\n            at.scale(zoomFactor, zoomFactor);\r\n            prevZoomFactor = zoomFactor;\r\n            g2d.transform(at);\r\n            zoomer = false;\r\n        }\r\n         \r\n        g2d.drawString(&quot;1234567890&quot;, 500, 200);\r\n            \r\n        g2d.dispose();\r\n    }\r\n    \r\n    @Override\r\n        public Dimension getPreferredSize() \r\n        {\r\n            if(zoomer)\r\n            {\r\n                return new Dimension((int)(2000*zoomFactor), (int)(750*zoomFactor));\r\n            }\r\n            else\r\n            {\r\n                 return new Dimension(2000, 750);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredScrollableViewportSize() \r\n        {\r\n            return new Dimension(1550, 750);\r\n        }\r\n\r\n        @Override\r\n        public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction) \r\n        {\r\n            return 32;\r\n        }\r\n\r\n        @Override\r\n        public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction) \r\n        {\r\n            return 32;\r\n        }\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportWidth() \r\n        {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportHeight() \r\n        {\r\n            return false;\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\nWhen I zoom in and scroll, I&#39;m expecting the drawn number to remain the same size. As far as I know, the repaint method is supposed to automatically handle cases such as when scrolling or resizing. Have I misused the repaint method or is my problem something entirely different?","title":"Issues with paint after zooming in and zooming out of JPanel","body":"<p>I have a scrollable JPanel, with some number drawn through the &quot;drawString&quot; method. When I click the zoom in button, the repaint method is invoked and the number becomes larger, as expected. But when I try to scroll to the right, part of the number is either missing or is painted in its original size instead of the new zoomed size. Below is the minimal reproducible code.</p>\n<pre><code>package sometest;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JMenuBar;\nimport javax.swing.JScrollPane;\nimport javax.swing.JViewport;\n\npublic class SomeTest implements Runnable\n{\n    public static JButton in;\n    public static JButton out;\n    \n    public static void main(String[] args) \n    {\n        SomeTest st = new SomeTest();\n        st.run();\n    }  \n    \n    @Override\n    public void run() \n    {\n        JMenuBar mb = new JMenuBar();\n        in = new JButton(&quot;Zoom In&quot;);\n        out = new JButton(&quot;Zoom Out&quot;);\n        JFrame f = new JFrame(&quot;Example&quot;);\n        Visualization v = new Visualization();\n        JScrollPane sp = new JScrollPane(v);\n\n        MouseAdapter mouseAdapter = new MouseAdapter() \n        {\n            private Point origin;\n            \n            @Override\n            public void mousePressed(MouseEvent e) \n            {\n                origin = new Point(e.getPoint());\n            }\n             \n            @Override\n            public void mouseDragged(MouseEvent e) \n            {\n                JViewport vp = null;\n                \n                if (origin != null) \n                {\n                    vp = sp.getViewport();\n                }\n                \n                if (vp != null) \n                {\n                    int deltaX = origin.x - e.getX();\n                    int deltaY = origin.y - e.getY();\n\n                    Rectangle view = vp.getViewRect();\n                    view.x += deltaX;\n                    view.y += deltaY;\n\n                    v.scrollRectToVisible(view);\n                }\n            }\n        };\n\n        sp.getViewport().addMouseListener(mouseAdapter);\n        sp.getViewport().addMouseMotionListener(mouseAdapter);\n        \n        f.add(sp);\n        f.setJMenuBar(mb);\n        mb.add(in);\n        mb.add(out);\n        f.setContentPane(sp);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n<pre><code>package sometest;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.AffineTransform;\nimport javax.swing.JPanel;\nimport javax.swing.Scrollable;\nimport javax.swing.SwingUtilities;\nimport static sometest.SomeTest.in;\nimport static sometest.SomeTest.out;\n\npublic class Visualization extends JPanel implements Scrollable, ActionListener\n{\n    private double zoomFactor = 1;\n    private double prevZoomFactor = 1;\n    private boolean zoomer;\n    private double xOffset = 0;\n    private double yOffset = 0;\n    \n    public Visualization()\n    {\n        in.addActionListener(this);\n        out.addActionListener(this);\n        Font currentFont = getFont();\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 18F);\n        setFont(newFont);\n        setBackground(Color.WHITE);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) \n    {\n        if(e.getSource()==in)\n        {\n            zoomer = true;\n            zoomFactor *= 1.1;\n            repaint();\n        }\n        \n        if(e.getSource()==out)\n        {\n            zoomer = true;\n            zoomFactor /= 1.1;\n            repaint();\n        }\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) \n    {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        \n         if(zoomer) \n         {\n            AffineTransform at = new AffineTransform();\n            \n            Dimension center = getPreferredScrollableViewportSize();\n            \n            Double xRel = center.getWidth()/2;\n            Double yRel = center.getHeight()/2;\n\n            double zoomDiv = zoomFactor / prevZoomFactor;\n\n            xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\n            yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\n\n            at.translate(xOffset, yOffset);\n            at.scale(zoomFactor, zoomFactor);\n            prevZoomFactor = zoomFactor;\n            g2d.transform(at);\n            zoomer = false;\n        }\n         \n        g2d.drawString(&quot;1234567890&quot;, 500, 200);\n            \n        g2d.dispose();\n    }\n    \n    @Override\n        public Dimension getPreferredSize() \n        {\n            if(zoomer)\n            {\n                return new Dimension((int)(2000*zoomFactor), (int)(750*zoomFactor));\n            }\n            else\n            {\n                 return new Dimension(2000, 750);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredScrollableViewportSize() \n        {\n            return new Dimension(1550, 750);\n        }\n\n        @Override\n        public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction) \n        {\n            return 32;\n        }\n\n        @Override\n        public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction) \n        {\n            return 32;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportWidth() \n        {\n            return false;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportHeight() \n        {\n            return false;\n        }\n}\n</code></pre>\n<p>When I zoom in and scroll, I'm expecting the drawn number to remain the same size. As far as I know, the repaint method is supposed to automatically handle cases such as when scrolling or resizing. Have I misused the repaint method or is my problem something entirely different?</p>\n"},{"tags":["java","model-view-controller","design-patterns"],"answers":[{"comments":[{"owner":{"account_id":24806398,"reputation":1,"user_id":18688362,"display_name":"Hiluf Meressa Kahsay"},"score":0,"creation_date":1669159204,"post_id":74540068,"comment_id":131580226,"body_markdown":"I am sure it helps you.","body":"I am sure it helps you."}],"tags":[],"owner":{"account_id":24806398,"reputation":1,"user_id":18688362,"display_name":"Hiluf Meressa Kahsay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669159106,"creation_date":1669159106,"answer_id":74540068,"question_id":74540018,"body_markdown":"This is is a very high level description because each of these main &quot;components&quot; could be made of multiple classes. So it is fully up to you to decide of the best mapping.\r\n\r\nOther principles, such as the separation of concerns, would suggest to have different views for different model objects. So a UserAccount, and a UserAccountView is in general a sound approach. But you could still have combo views that refer to serveral different model objects at once.\r\n\r\nYou will find many more flavors of MVC regarding the controller. The single controller monopolizing the user input and controlling all the views and commanding the domains, is no longer a reality, since many windowing system attach the controller to a window. So you&#39;d probably have a swarm of controller, with an AppController and an additional controller for each view, e.g. UserAccountViewController, rather than a controller per domain object.\r\n\r\nOf course, in a very simple application, with a few relatively independent domain object, each having a single view, you could find the objects as you describe them.","title":"MVC pattern with multiple classes","body":"<p>This is is a very high level description because each of these main &quot;components&quot; could be made of multiple classes. So it is fully up to you to decide of the best mapping.</p>\n<p>Other principles, such as the separation of concerns, would suggest to have different views for different model objects. So a UserAccount, and a UserAccountView is in general a sound approach. But you could still have combo views that refer to serveral different model objects at once.</p>\n<p>You will find many more flavors of MVC regarding the controller. The single controller monopolizing the user input and controlling all the views and commanding the domains, is no longer a reality, since many windowing system attach the controller to a window. So you'd probably have a swarm of controller, with an AppController and an additional controller for each view, e.g. UserAccountViewController, rather than a controller per domain object.</p>\n<p>Of course, in a very simple application, with a few relatively independent domain object, each having a single view, you could find the objects as you describe them.</p>\n"},{"tags":[],"owner":{"account_id":27348290,"reputation":1,"user_id":20857857,"display_name":"Mohsin Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671961987,"creation_date":1671961987,"answer_id":74912620,"question_id":74540018,"body_markdown":"It depends on the project&#39;s complexity and the purpose for which the classes are being used. If the classes are relatively simple and will be used to achieve a single task, then it may be more economical to use a single controller, view, and model. However, if the classes are being used for larger tasks and more complex interactions, creating a separate controller, view, and model for each relevant class may be beneficial. Ultimately, it is up to you to decide how best to organize the different classes to achieve the desired goal.","title":"MVC pattern with multiple classes","body":"<p>It depends on the project's complexity and the purpose for which the classes are being used. If the classes are relatively simple and will be used to achieve a single task, then it may be more economical to use a single controller, view, and model. However, if the classes are being used for larger tasks and more complex interactions, creating a separate controller, view, and model for each relevant class may be beneficial. Ultimately, it is up to you to decide how best to organize the different classes to achieve the desired goal.</p>\n"}],"owner":{"account_id":27018371,"reputation":1,"user_id":20576776,"display_name":"Maria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1671961987,"creation_date":1669158638,"question_id":74540018,"body_markdown":"When I want to use the MVC pattern to a project which contains multiple classes what should I do ?\r\n\r\nI should create a separate view, model, and controller for each of the relevant classes or use unique controller, view and model ?","title":"MVC pattern with multiple classes","body":"<p>When I want to use the MVC pattern to a project which contains multiple classes what should I do ?</p>\n<p>I should create a separate view, model, and controller for each of the relevant classes or use unique controller, view and model ?</p>\n"},{"tags":["java","json","jackson","deserialization","guava"],"comments":[{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1671981859,"post_id":74898691,"comment_id":132203836,"body_markdown":"This solution worked for me.    `SimpleModule simpleModule = new SimpleModule().addDeserializer(Map.class, new ImmutableMapDeserializer());\n        objectMapper.registerModules( simpleModule);`","body":"This solution worked for me.    <code>SimpleModule simpleModule = new SimpleModule().addDeserializer(Map.class, new ImmutableMapDeserializer());         objectMapper.registerModules( simpleModule);</code>"}],"answers":[{"comments":[{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1671936813,"post_id":74900724,"comment_id":132199200,"body_markdown":"Thanks for your answer , can i make this option `@JsonDeserialize(as = ImmutableMap.class)` by default ?","body":"Thanks for your answer , can i make this option <code>@JsonDeserialize(as = ImmutableMap.class)</code> by default ?"},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1671938248,"post_id":74900724,"comment_id":132199300,"body_markdown":"Thanks for help , but the key point of this question is how to set deserialization of collection type to Immutable implicitly ..","body":"Thanks for help , but the key point of this question is how to set deserialization of collection type to Immutable implicitly .."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671805946,"creation_date":1671805564,"answer_id":74900724,"question_id":74898691,"body_markdown":"In order to specify the subtype for a particular field needs to be deserialized, you can make use of the [`@JsonDeserialize`][jsonDeserialize] annotation. Required type needs to be provided through its `as` property.\r\n\r\n    public class AdCategoryConfigImmute {\r\n        @JsonDeserialize(as = ImmutableMap.class)\r\n        private Map&lt;String, List&lt;Integer&gt;&gt; sceneMap;\r\n        \r\n        // getter, setters\r\n    }\r\n\r\nBut since here we need an `ImmutableMap` (or its subtype) from Guava library, you need to register Jackson&#39;s `GuavaModule` (link to the [Maven repository][repository]), otherwise deserialization would fail.\r\n\r\n*Example:*\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json = &quot;&quot;&quot;\r\n            {\r\n                &quot;sceneMap&quot; : {\r\n                    &quot;foo&quot; : [1, 2, 3]\r\n                }\r\n            }\r\n            &quot;&quot;&quot;;\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new GuavaModule());\r\n\r\n        AdCategoryConfigImmute pojo = mapper.readValue(json, AdCategoryConfigImmute.class);\r\n\r\n        System.out.println(pojo.getSceneMap().getClass());\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nclass com.google.common.collect.SingletonImmutableBiMap\r\n```\r\n\r\n***Note:** if you&#39;re using Spring Boot, it would register the GuavaModule for you while configuring `ObjectMapper` at the application start up (no need to register the module it manually, you only need to add a dependency).*\r\n\r\n\r\n\r\n\r\n\r\n   [jsonDeserialize]: https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\r\n\r\n   [repository]: https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-guava","title":"How to set Jackson&#39;s deserialization strategy for Collections to obtain a collection of an Immutable Type","body":"<p>In order to specify the subtype for a particular field needs to be deserialized, you can make use of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\"><code>@JsonDeserialize</code></a> annotation. Required type needs to be provided through its <code>as</code> property.</p>\n<pre><code>public class AdCategoryConfigImmute {\n    @JsonDeserialize(as = ImmutableMap.class)\n    private Map&lt;String, List&lt;Integer&gt;&gt; sceneMap;\n    \n    // getter, setters\n}\n</code></pre>\n<p>But since here we need an <code>ImmutableMap</code> (or its subtype) from Guava library, you need to register Jackson's <code>GuavaModule</code> (link to the <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-guava\" rel=\"nofollow noreferrer\">Maven repository</a>), otherwise deserialization would fail.</p>\n<p><em>Example:</em></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String json = &quot;&quot;&quot;\n        {\n            &quot;sceneMap&quot; : {\n                &quot;foo&quot; : [1, 2, 3]\n            }\n        }\n        &quot;&quot;&quot;;\n\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new GuavaModule());\n\n    AdCategoryConfigImmute pojo = mapper.readValue(json, AdCategoryConfigImmute.class);\n\n    System.out.println(pojo.getSceneMap().getClass());\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>class com.google.common.collect.SingletonImmutableBiMap\n</code></pre>\n<p><em><strong>Note:</strong> if you're using Spring Boot, it would register the GuavaModule for you while configuring <code>ObjectMapper</code> at the application start up (no need to register the module it manually, you only need to add a dependency).</em></p>\n"}],"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74900724,"answer_count":1,"score":1,"last_activity_date":1671961657,"creation_date":1671791911,"question_id":74898691,"body_markdown":"Here is an example of java class. I need all the fields to be immutable after deserialization.\r\n\r\nIt can be done if I set the field type to `ImmutableMap` explicitly. But can I instruct Jackson to deserialize it into an `ImmutableMap` neither changing the field type `Map` nor add annotation like `@JsonDeserialize ` ? \r\n\r\n    \r\n    public class AdCategoryConfigImmute {\r\n        \r\n        private ImmutableMap&lt;String, List&lt;Integer&gt;&gt; sceneMap; // type is immutable explicitly\r\n        \r\n        private Map&lt;String, List&lt;Integer&gt;&gt; trMap;\r\n    }","title":"How to set Jackson&#39;s deserialization strategy for Collections to obtain a collection of an Immutable Type","body":"<p>Here is an example of java class. I need all the fields to be immutable after deserialization.</p>\n<p>It can be done if I set the field type to <code>ImmutableMap</code> explicitly. But can I instruct Jackson to deserialize it into an <code>ImmutableMap</code> neither changing the field type <code>Map</code> nor add annotation like <code>@JsonDeserialize </code> ?</p>\n<pre><code>public class AdCategoryConfigImmute {\n    \n    private ImmutableMap&lt;String, List&lt;Integer&gt;&gt; sceneMap; // type is immutable explicitly\n    \n    private Map&lt;String, List&lt;Integer&gt;&gt; trMap;\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":7364989,"reputation":153,"user_id":5606948,"accept_rate":75,"display_name":"vibhor vaish"},"score":0,"creation_date":1614321229,"post_id":66380857,"comment_id":117354860,"body_markdown":"Which version would you suggest for the hibernate jars. And which jars are missing ? My hibernate-jpa is compatible with hibernate ORM 5.2","body":"Which version would you suggest for the hibernate jars. And which jars are missing ? My hibernate-jpa is compatible with hibernate ORM 5.2"},{"owner":{"account_id":19611890,"reputation":23,"user_id":14354248,"display_name":"Raja R"},"score":0,"creation_date":1614323872,"post_id":66380857,"comment_id":117355620,"body_markdown":"Javassist  Two jars in the lib folder","body":"Javassist  Two jars in the lib folder"},{"owner":{"account_id":7364989,"reputation":153,"user_id":5606948,"accept_rate":75,"display_name":"vibhor vaish"},"score":0,"creation_date":1614326928,"post_id":66380857,"comment_id":117356673,"body_markdown":"The new answer is working just fine with two jars","body":"The new answer is working just fine with two jars"}],"tags":[],"owner":{"account_id":19611890,"reputation":23,"user_id":14354248,"display_name":"Raja R"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614416133,"creation_date":1614319362,"answer_id":66380857,"question_id":66366020,"body_markdown":" 1. First reason - some jars missing.\r\n 2. Second reason - put the same version for hibernate in all dependencies jars","title":"MappingException (Hibernate)","body":"<ol>\n<li>First reason - some jars missing.</li>\n<li>Second reason - put the same version for hibernate in all dependencies jars</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7364989,"reputation":153,"user_id":5606948,"accept_rate":75,"display_name":"vibhor vaish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614324395,"creation_date":1614324395,"answer_id":66381715,"question_id":66366020,"body_markdown":"I still couldn&#39;t find the exact answer to above code but after retracing the tutorial i am following and by luck , the errors are gone . Will reshare the exact things that worked.\r\nAlso I was following udemy chad&#39;s tutorial so anyone who faces the same can reference this. Be very exact with jars versions (chad didn&#39;t include many in his).\r\n\r\nStudent.java was same as question\r\n\r\nCreateStudentDemo.java ( I had to use old ORM code to get this to work)\r\n\r\n    package com.vv.hibernate.demo;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    import com.vv.hibernate.demo.entity.Student;\r\n    \r\n    public class CreateStudentDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t// create session factory\r\n    \t\tSessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class)\r\n    \t\t\t\t.buildSessionFactory();\r\n    \r\n    \t\t// create session\r\n    \t\tSession session = factory.getCurrentSession();\r\n    \r\n    \t\ttry {\r\n    \t\t\t// create a student object\r\n    \t\t\tSystem.out.println(&quot;Creating new student object...&quot;);\r\n    \t\t\tStudent tempStudent = new Student(&quot;Paul&quot;, &quot;Doe&quot;, &quot;paul@luv2code.com&quot;);\r\n    \r\n    \t\t\t// start a transaction\r\n    \t\t\tsession.beginTransaction();\r\n    \r\n    \t\t\t// save the student object\r\n    \t\t\tSystem.out.println(&quot;Saving the student...&quot;);\r\n    \t\t\tsession.save(tempStudent);\r\n    \r\n    \t\t\t// commit transaction\r\n    \t\t\tsession.getTransaction().commit();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t} finally {\r\n    \t\t\tfactory.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nhibernate.cf.xml was also same as question\r\n\r\nConsole log\r\n\r\n    Feb 26, 2021 12:52:06 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.0.Final}\r\n    Feb 26, 2021 12:52:06 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Feb 26, 2021 12:52:06 PM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:/C:/eclipseWKSP/hibernate-tut/lib/jaxb-impl-2.2.6.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\r\n    WARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=hbstudent}\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\r\n    Feb 26, 2021 12:52:07 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    Creating new student object...\r\n    Saving the student...\r\n    Hibernate: insert into student (email, first_name, last_name) values (?, ?, ?)\r\n    Done!\r\n    Feb 26, 2021 12:52:09 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\n    INFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\r\n\r\n\r\nreferenced libraries:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1bGZj.png","title":"MappingException (Hibernate)","body":"<p>I still couldn't find the exact answer to above code but after retracing the tutorial i am following and by luck , the errors are gone . Will reshare the exact things that worked.\nAlso I was following udemy chad's tutorial so anyone who faces the same can reference this. Be very exact with jars versions (chad didn't include many in his).</p>\n<p>Student.java was same as question</p>\n<p>CreateStudentDemo.java ( I had to use old ORM code to get this to work)</p>\n<pre><code>package com.vv.hibernate.demo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\nimport com.vv.hibernate.demo.entity.Student;\n\npublic class CreateStudentDemo {\n\n    public static void main(String[] args) {\n\n        // create session factory\n        SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class)\n                .buildSessionFactory();\n\n        // create session\n        Session session = factory.getCurrentSession();\n\n        try {\n            // create a student object\n            System.out.println(&quot;Creating new student object...&quot;);\n            Student tempStudent = new Student(&quot;Paul&quot;, &quot;Doe&quot;, &quot;paul@luv2code.com&quot;);\n\n            // start a transaction\n            session.beginTransaction();\n\n            // save the student object\n            System.out.println(&quot;Saving the student...&quot;);\n            session.save(tempStudent);\n\n            // commit transaction\n            session.getTransaction().commit();\n\n            System.out.println(&quot;Done!&quot;);\n        } finally {\n            factory.close();\n        }\n    }\n}\n</code></pre>\n<p>hibernate.cf.xml was also same as question</p>\n<p>Console log</p>\n<pre><code>Feb 26, 2021 12:52:06 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.0.Final}\nFeb 26, 2021 12:52:06 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nFeb 26, 2021 12:52:06 PM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:/C:/eclipseWKSP/hibernate-tut/lib/jaxb-impl-2.2.6.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\nWARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nFeb 26, 2021 12:52:07 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nFeb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nFeb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\nFeb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=hbstudent}\nFeb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nFeb 26, 2021 12:52:07 PM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 1 (min=1)\nFeb 26, 2021 12:52:07 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nCreating new student object...\nSaving the student...\nHibernate: insert into student (email, first_name, last_name) values (?, ?, ?)\nDone!\nFeb 26, 2021 12:52:09 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\n</code></pre>\n<p>referenced libraries:</p>\n<p><a href=\"https://i.stack.imgur.com/1bGZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1bGZj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6572988,"reputation":1,"user_id":5780444,"display_name":"Vijay Salegar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651600131,"creation_date":1651600131,"answer_id":72103462,"question_id":66366020,"body_markdown":"I was stuck with the same problem, also following the same course by Chad on Udemy. \r\nRemoving javassist-3.22.0-GA.jar and adding the jar from [here][1] (version 3.19.0-GA ) fixed it for me.\r\n\r\n\r\n  [1]: https://github.com/jboss-javassist/javassist/releases/download/rel_3_19_0_ga/javassist.jar","title":"MappingException (Hibernate)","body":"<p>I was stuck with the same problem, also following the same course by Chad on Udemy.\nRemoving javassist-3.22.0-GA.jar and adding the jar from <a href=\"https://github.com/jboss-javassist/javassist/releases/download/rel_3_19_0_ga/javassist.jar\" rel=\"nofollow noreferrer\">here</a> (version 3.19.0-GA ) fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":27348386,"reputation":11,"user_id":20857941,"display_name":"Wanqi Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671961488,"creation_date":1671961488,"answer_id":74912579,"question_id":66366020,"body_markdown":"I also learn this online tutorial and meet the same problem. After trying various solutions, I find there are some clues:\r\n\r\n 1. **check all jars**\r\n\r\n[lib folder][1]\r\n\r\n 2. **delete the module-info.java file**\r\n\r\nNot sure about the reason but the second solution works well on both JavaSE-11 and JavaSE-17.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/01CFF.png","title":"MappingException (Hibernate)","body":"<p>I also learn this online tutorial and meet the same problem. After trying various solutions, I find there are some clues:</p>\n<ol>\n<li><strong>check all jars</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/01CFF.png\" rel=\"nofollow noreferrer\">lib folder</a></p>\n<ol start=\"2\">\n<li><strong>delete the module-info.java file</strong></li>\n</ol>\n<p>Not sure about the reason but the second solution works well on both JavaSE-11 and JavaSE-17.</p>\n"}],"owner":{"account_id":7364989,"reputation":153,"user_id":5606948,"accept_rate":75,"display_name":"vibhor vaish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1671961488,"creation_date":1614246145,"question_id":66366020,"body_markdown":"&quot;Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister &quot;\r\n\r\nI am not using any maven or such tools and manually add and reference libraries.\r\nI have gone through all the similar questions posted earlier and included all the relevant libs that might need to be included.\r\nI am using Java 1.8,Hibernate 5 with the same compliance level. \r\nAll getters and setters also present and verified.\r\nUnable to determine what&#39;s causing this.[PLEASE DON&#39;T MARK THIS DUPLICATE AND LET ME KNOW IN COMMENTS IF YOU THINK I MISSED ANY POSSIBLE SOLUTION]\r\n\r\nStudent.java\r\n\r\n    package com.vv.hibernate.demo.entity;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;student&quot;)\r\n    public class Student {\r\n    \tpublic Student() {\r\n    \t}\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;first_name&quot;)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@Column(name=&quot;last_name&quot;)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@Column(name=&quot;email&quot;)\r\n    \tprivate String email;\r\n    \r\n    \tpublic Student(String firstName, String lastName, String email) {\r\n    \t\tsuper();\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email + &quot;]&quot;;\r\n    \t}\r\n    \t\t\r\n    }\r\n\r\nCreateStudentDemo.java( the main file)\r\n\r\n    package com.vv.hibernate.demo;\r\n    \r\n    import org.hibernate.MappingException;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.Metadata;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import com.vv.hibernate.demo.entity.Student;\r\n    \r\n    public class CreateStudentDemo {\r\n    \r\n    \tpublic static void main(String[] args) throws org.hibernate.MappingException {\r\n    \t\tSessionFactory sessionFactory;\r\n    \t\ttry {\r\n    \t\t\tStandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\r\n    \t\t\t\t\t.configure(&quot;hibernate.cfg.xml&quot;).build();\r\n    \t\t\tMetadata metaData = new MetadataSources(standardRegistry)\r\n    \t\t\t.addAnnotatedClass(Student.class)\r\n    //\t\t\t.addAnnotatedClassName( &quot;com.vv.hibernate.demo.entity&quot; )\r\n    \t\t\t\t\t.getMetadataBuilder().build();\r\n    \t\t\tsessionFactory = metaData.getSessionFactoryBuilder()\r\n    \t\t\t\t\t.build();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Initial SessionFactory creation failed&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\ttry(Session session = sessionFactory.openSession()) {\r\n    \t\t\tStudent student = new Student(&quot;a&quot;, &quot;b&quot;, &quot;a@b.com&quot;);\r\n    \t\t\tsession.beginTransaction();\r\n    \t\t\tsession.save(student);\r\n    \t\t\tsession.getTransaction().commit();\r\n    \t\t\tSystem.out.println(&quot;Transaction completed&quot;);\r\n    \t\t\tsession.close();\r\n    \t\t} \r\n    \t\tcatch (MappingException exception) {\r\n    \t\t\tSystem.out.println(&quot;Problem creating session factory&quot;);\r\n    \t\t\texception.printStackTrace();\r\n    \t\t} \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  \r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \r\n        &lt;session-factory&gt;\r\n    \r\n            &lt;!-- JDBC Database connection settings --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;amp;serverTimezone=UTC&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;hbstudent&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;hbstudent&lt;/property&gt;\r\n    \r\n            &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n            &lt;!-- Select our SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \r\n            &lt;!-- Echo the SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Set the current session context --&gt;\r\n    \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n     \r\n        &lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\nConsole Errors:\r\n\r\n        Feb 25, 2021 7:57:30 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.17.Final}\r\n    Feb 25, 2021 7:57:30 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:/C:/eclipseWKSP/hibernate-tutorial/lib/jaxb-impl-2.2.6.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\r\n    WARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=hbstudent}\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\r\n    Feb 25, 2021 7:57:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    Feb 25, 2021 7:57:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\n    INFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\r\n    Initial SessionFactory creation failed\r\n    org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:129)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n    \tat com.vv.hibernate.demo.CreateStudentDemo.main(CreateStudentDemo.java:27)\r\n    Caused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\r\n    \tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:382)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519)\r\n    \tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n    \t... 5 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\r\n    \t... 15 more\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\r\n    \tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\r\n    \tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\r\n    \tat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\r\n    \tat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\r\n    \tat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\r\n    \tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\r\n    \tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58)\r\n    \t... 21 more\r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava Build Path config also attached:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9LK2o.png\r\n  [2]: https://i.stack.imgur.com/l2bY1.png","title":"MappingException (Hibernate)","body":"<p>&quot;Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister &quot;</p>\n<p>I am not using any maven or such tools and manually add and reference libraries.\nI have gone through all the similar questions posted earlier and included all the relevant libs that might need to be included.\nI am using Java 1.8,Hibernate 5 with the same compliance level.\nAll getters and setters also present and verified.\nUnable to determine what's causing this.[PLEASE DON'T MARK THIS DUPLICATE AND LET ME KNOW IN COMMENTS IF YOU THINK I MISSED ANY POSSIBLE SOLUTION]</p>\n<p>Student.java</p>\n<pre><code>package com.vv.hibernate.demo.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;student&quot;)\npublic class Student {\n    public Student() {\n    }\n    \n    @Id\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    public Student(String firstName, String lastName, String email) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email + &quot;]&quot;;\n    }\n        \n}\n</code></pre>\n<p>CreateStudentDemo.java( the main file)</p>\n<pre><code>package com.vv.hibernate.demo;\n\nimport org.hibernate.MappingException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport com.vv.hibernate.demo.entity.Student;\n\npublic class CreateStudentDemo {\n\n    public static void main(String[] args) throws org.hibernate.MappingException {\n        SessionFactory sessionFactory;\n        try {\n            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\n                    .configure(&quot;hibernate.cfg.xml&quot;).build();\n            Metadata metaData = new MetadataSources(standardRegistry)\n            .addAnnotatedClass(Student.class)\n//          .addAnnotatedClassName( &quot;com.vv.hibernate.demo.entity&quot; )\n                    .getMetadataBuilder().build();\n            sessionFactory = metaData.getSessionFactoryBuilder()\n                    .build();\n        } catch (Exception e) {\n            System.out.println(&quot;Initial SessionFactory creation failed&quot;);\n            e.printStackTrace();\n            return;\n        }\n\n        try(Session session = sessionFactory.openSession()) {\n            Student student = new Student(&quot;a&quot;, &quot;b&quot;, &quot;a@b.com&quot;);\n            session.beginTransaction();\n            session.save(student);\n            session.getTransaction().commit();\n            System.out.println(&quot;Transaction completed&quot;);\n            session.close();\n        } \n        catch (MappingException exception) {\n            System.out.println(&quot;Problem creating session factory&quot;);\n            exception.printStackTrace();\n        } \n\n    }\n\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n\n        &lt;!-- JDBC Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;amp;serverTimezone=UTC&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;hbstudent&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;hbstudent&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n        &lt;!-- Select our SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Set the current session context --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n \n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Console Errors:</p>\n<pre><code>    Feb 25, 2021 7:57:30 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.17.Final}\nFeb 25, 2021 7:57:30 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1 (file:/C:/eclipseWKSP/hibernate-tutorial/lib/jaxb-impl-2.2.6.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)\nWARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nFeb 25, 2021 7:57:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nFeb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nFeb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\nFeb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=hbstudent}\nFeb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nFeb 25, 2021 7:57:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 1 (min=1)\nFeb 25, 2021 7:57:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nFeb 25, 2021 7:57:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/hb_student_tracker?useSSL=false&amp;serverTimezone=UTC]\nInitial SessionFactory creation failed\norg.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:129)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n    at com.vv.hibernate.demo.CreateStudentDemo.main(CreateStudentDemo.java:27)\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:382)\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n    ... 5 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\n    ... 15 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\n    at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\n    at javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\n    at javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\n    at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\n    at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\n    at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\n    at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\n    at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\n    at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\n    at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58)\n    ... 21 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9LK2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9LK2o.png\" alt=\"enter image description here\" /></a></p>\n<p>Java Build Path config also attached:\n<a href=\"https://i.stack.imgur.com/l2bY1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2bY1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","javafx","executable-jar","maven-shade-plugin"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1671949373,"post_id":74911794,"comment_id":132199935,"body_markdown":"Study the resources in the [packaging section  of the JavaFX tag](https://stackoverflow.com/tags/javafx/info).  You cannot shade a jar with JavaFX components in the way you are doing it and expect that to work.","body":"Study the resources in the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging section  of the JavaFX tag</a>.  You cannot shade a jar with JavaFX components in the way you are doing it and expect that to work."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671949708,"post_id":74911794,"comment_id":132199948,"body_markdown":"You are using selenium, which I have found does not currently work well in a modular project, so probably skip the jlink solutions in the link because they require a modular project.","body":"You are using selenium, which I have found does not currently work well in a modular project, so probably skip the jlink solutions in the link because they require a modular project."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671949834,"post_id":74911794,"comment_id":132199956,"body_markdown":"See info on [shading JavaFX apps](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) if you really must.","body":"See info on <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">shading JavaFX apps</a> if you really must."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671961036,"post_id":74911794,"comment_id":132201145,"body_markdown":"@jewelsea thanks for the help man, i have studyied the topics. I did simplified my project and used the Main class without extending application like suggest on some stack overflow topics. Followed this topic but i still can&#39;t make shade to work.https://stackoverflow.com/questions/54063041/package-a-non-modular-javafx-application","body":"@jewelsea thanks for the help man, i have studyied the topics. I did simplified my project and used the Main class without extending application like suggest on some stack overflow topics. Followed this topic but i still can&#39;t make shade to work.<a href=\"https://stackoverflow.com/questions/54063041/package-a-non-modular-javafx-application\" title=\"package a non modular javafx application\">stackoverflow.com/questions/54063041/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671967167,"post_id":74911794,"comment_id":132201810,"body_markdown":"Selenium is a big complicated thing, it may not work with shading (I don’t know).  Instead of shading [copy all of the dependencies to a lib directory](https://edencoding.com/runtime-components-error/#jar) and put the appropriate ones on the class path or module path.  Use a script to run the app setting the path and zip everything up as a zip for distribution, just a suggestion.  [jpackage, for example with JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) might be another option.","body":"Selenium is a big complicated thing, it may not work with shading (I don’t know).  Instead of shading <a href=\"https://edencoding.com/runtime-components-error/#jar\" rel=\"nofollow noreferrer\">copy all of the dependencies to a lib directory</a> and put the appropriate ones on the class path or module path.  Use a script to run the app setting the path and zip everything up as a zip for distribution, just a suggestion.  <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">jpackage, for example with JPackageScriptFX</a> might be another option."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671967888,"post_id":74911794,"comment_id":132201892,"body_markdown":"I don’t use shade but whatever you are doing with the [resource transformers](https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html) looks wrong and doesn’t match anything in the documentation that I can tell.","body":"I don’t use shade but whatever you are doing with the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html\" rel=\"nofollow noreferrer\">resource transformers</a> looks wrong and doesn’t match anything in the documentation that I can tell."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672006570,"post_id":74911794,"comment_id":132207277,"body_markdown":"Note that JavaFX is platform-specific (more accurately, the native code it relies on is platform-specific). Creating a so-called uber/fat JAR file that is actually cross-platform would involve including the native code for each platform (which you _can_ do via Maven by manually defining JavaFX dependencies for each platform). And just like jewelsea, I don&#39;t know how Selenium reacts to being shaded. If you can, I would seriously consider using [jpackage](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html). It works with non-modular projects (see `--input`).","body":"Note that JavaFX is platform-specific (more accurately, the native code it relies on is platform-specific). Creating a so-called uber/fat JAR file that is actually cross-platform would involve including the native code for each platform (which you <i>can</i> do via Maven by manually defining JavaFX dependencies for each platform). And just like jewelsea, I don&#39;t know how Selenium reacts to being shaded. If you can, I would seriously consider using <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">jpackage</a>. It works with non-modular projects (see <code>--input</code>)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1672011630,"post_id":74911794,"comment_id":132207892,"body_markdown":"The link you posted in comments to documentation that you followed is broken.  If you look at the examples in the link I provided, they all use implementations of preexisting transformers, whereas you link an implementation to your own `org.example.Main` class, which won’t be a transformer at all. Maybe you want this [ManifestTransformer](https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ManifestResourceTransformer), that can actually set the main class in the manifest.","body":"The link you posted in comments to documentation that you followed is broken.  If you look at the examples in the link I provided, they all use implementations of preexisting transformers, whereas you link an implementation to your own <code>org.example.Main</code> class, which won’t be a transformer at all. Maybe you want this <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ManifestResourceTransformer\" rel=\"nofollow noreferrer\">ManifestTransformer</a>, that can actually set the main class in the manifest."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1672014434,"post_id":74911794,"comment_id":132208119,"body_markdown":"Thanks man i will study more on the topic and find a way to distribute this without using shade, i believe you are right on that.","body":"Thanks man i will study more on the topic and find a way to distribute this without using shade, i believe you are right on that."}],"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671960933,"creation_date":1671949164,"question_id":74911794,"body_markdown":"I want to create a simple uber-jar for my non-modular project using shade. I followed the documentation at \r\n\r\n[https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html]\r\n\r\nbut somehow, i keep getting this error:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.4.1:shade (default) on project SharkTouch: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:3.4.1:shade for parameter transformers: Cannot load implementation hint &#39;org.example.Main&#39;\r\n\r\n\r\nhere is my pom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SharkTouch&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.7.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.reactfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactfx&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.example.Main&quot;&gt;\r\n                                        &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html","title":"maven-shade-plugin: Cannot load implementation hint","body":"<p>I want to create a simple uber-jar for my non-modular project using shade. I followed the documentation at</p>\n<p>[https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html]</p>\n<p>but somehow, i keep getting this error:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.4.1:shade (default) on project SharkTouch: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:3.4.1:shade for parameter transformers: Cannot load implementation hint 'org.example.Main'\n</code></pre>\n<p>here is my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SharkTouch&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reactfx&lt;/groupId&gt;\n            &lt;artifactId&gt;reactfx&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.example.Main&quot;&gt;\n                                    &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":1,"creation_date":1670230763,"post_id":74684014,"comment_id":131819377,"body_markdown":"@Y M and if you want to add a root path for all your endpoints, you can add `@RequestMapping(&quot;/path-name&quot;)` above your class","body":"@Y M and if you want to add a root path for all your endpoints, you can add <code>@RequestMapping(&quot;&#47;path-name&quot;)</code> above your class"}],"tags":[],"owner":{"account_id":21116173,"reputation":54,"user_id":15523221,"display_name":"Nishit Popat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670220476,"creation_date":1670220476,"answer_id":74684014,"question_id":74683601,"body_markdown":"You need to provide path in the argument of @GetMapping.\r\nExample: @GetMapping(path = &quot;/abc&quot;)\r\n\r\nAnd then go into that path of your local browser: http://localhost:{port}/abc\r\n","title":"GetMapping to Method in Spring Boot Isn&#39;t Working","body":"<p>You need to provide path in the argument of @GetMapping.\nExample: @GetMapping(path = &quot;/abc&quot;)</p>\n<p>And then go into that path of your local browser: http://localhost:{port}/abc</p>\n"}],"owner":{"account_id":27147876,"reputation":3,"user_id":20687771,"display_name":"Y M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74684014,"answer_count":1,"score":0,"last_activity_date":1671960737,"creation_date":1670216847,"question_id":74683601,"body_markdown":"I&#39;m following along with a SpringBoot tutorial with maven, and when I try to map the index() method with `@GetMapping`, when the program is run, I can only see this on localhost:\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun Dec 04 23:59:08 EST 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\nThis is my code:\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class DemoApplication {\r\n\r\n       public static void main(String[] args) {\r\n              SpringApplication.run(DemoApplication.class, args);\r\n       }\r\n\r\n       @GetMapping\r\n       public String index() {\r\n              return &quot;Greetings from Spring Boot!&quot;;\r\n       }\r\n}\r\n```\r\n\r\nThis is my pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;demo&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n&lt;!--      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;--&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere is my console output:\r\n```log\r\n2022-12-04T23:58:57.579-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.4 with PID 24656 (/Users/ym/Downloads/demo/target/classes started by ym in /Users/ym/Downloads/demo)\r\n2022-12-04T23:58:57.582-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-04T23:58:57.980-05:00  INFO 24656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-12-04T23:58:57.985-05:00  INFO 24656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-04T23:58:57.986-05:00  INFO 24656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\r\n2022-12-04T23:58:58.029-05:00  INFO 24656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-04T23:58:58.030-05:00  INFO 24656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 422 ms\r\n2022-12-04T23:58:58.169-05:00  INFO 24656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-12-04T23:58:58.174-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.764 seconds (process running for 0.945)\r\n2022-12-04T23:59:08.798-05:00  INFO 24656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-12-04T23:59:08.799-05:00  INFO 24656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-12-04T23:59:08.799-05:00  INFO 24656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n```\r\n\r\nI tried looking around, but couldn&#39;t find anything, so any help would be greatly appreciated.","title":"GetMapping to Method in Spring Boot Isn&#39;t Working","body":"<p>I'm following along with a SpringBoot tutorial with maven, and when I try to map the index() method with <code>@GetMapping</code>, when the program is run, I can only see this on localhost:</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sun Dec 04 23:59:08 EST 2022\nThere was an unexpected error (type=Not Found, status=404).</p>\n<p>This is my code:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n       public static void main(String[] args) {\n              SpringApplication.run(DemoApplication.class, args);\n       }\n\n       @GetMapping\n       public String index() {\n              return &quot;Greetings from Spring Boot!&quot;;\n       }\n}\n</code></pre>\n<p>This is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;demo&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n&lt;!--      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;--&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n         &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is my console output:</p>\n<pre><code>2022-12-04T23:58:57.579-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.4 with PID 24656 (/Users/ym/Downloads/demo/target/classes started by ym in /Users/ym/Downloads/demo)\n2022-12-04T23:58:57.582-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-04T23:58:57.980-05:00  INFO 24656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-12-04T23:58:57.985-05:00  INFO 24656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-04T23:58:57.986-05:00  INFO 24656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\n2022-12-04T23:58:58.029-05:00  INFO 24656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-04T23:58:58.030-05:00  INFO 24656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 422 ms\n2022-12-04T23:58:58.169-05:00  INFO 24656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-12-04T23:58:58.174-05:00  INFO 24656 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.764 seconds (process running for 0.945)\n2022-12-04T23:59:08.798-05:00  INFO 24656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-12-04T23:59:08.799-05:00  INFO 24656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-12-04T23:59:08.799-05:00  INFO 24656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n</code></pre>\n<p>I tried looking around, but couldn't find anything, so any help would be greatly appreciated.</p>\n"},{"tags":["java","android","hashmap","treemap"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671959120,"post_id":74912377,"comment_id":132200930,"body_markdown":"What do you mean by &quot;first 50 items&quot;?  HashMaps do not have an innate ordering.","body":"What do you mean by &quot;first 50 items&quot;?  HashMaps do not have an innate ordering."},{"owner":{"account_id":27001499,"reputation":145,"user_id":20562723,"display_name":"stack offer"},"score":0,"creation_date":1671959305,"post_id":74912377,"comment_id":132200958,"body_markdown":"I just want get 50 data each seconds. so the results should be 2022-12-25 16:48:27.140 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 50, 2022-12-25 16:48:28.115 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 50","body":"I just want get 50 data each seconds. so the results should be 2022-12-25 16:48:27.140 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 50, 2022-12-25 16:48:28.115 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 50"},{"owner":{"account_id":22417177,"reputation":129,"user_id":16625057,"display_name":"Akash R"},"score":0,"creation_date":1671964407,"post_id":74912377,"comment_id":132201522,"body_markdown":"If you want to preserve the order of the first 50 values dropped in a map, you can go for LinkedHashMap... Also,You could have a counter variable to keep track of the number of items picked from the map..Once the counter reaches 50 you can break it...","body":"If you want to preserve the order of the first 50 values dropped in a map, you can go for LinkedHashMap... Also,You could have a counter variable to keep track of the number of items picked from the map..Once the counter reaches 50 you can break it..."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1672030507,"post_id":74912377,"comment_id":132209381,"body_markdown":"So you want them in order of date?  You might be better to use a `TreeMap&lt;Instant, String&gt;` instead of a `HashMap`.  A `HashMap` does not have a defined order.","body":"So you want them in order of date?  You might be better to use a <code>TreeMap&lt;Instant, String&gt;</code> instead of a <code>HashMap</code>.  A <code>HashMap</code> does not have a defined order."},{"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"score":0,"creation_date":1675445622,"post_id":74912377,"comment_id":132937859,"body_markdown":"The given information is incomplete, please add more details","body":"The given information is incomplete, please add more details"}],"owner":{"account_id":27001499,"reputation":145,"user_id":20562723,"display_name":"stack offer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671960364,"creation_date":1671958757,"question_id":74912377,"body_markdown":"I have data on the hashmap, and the data in the hashmap changes every second. Hashmap size will 347 at times and 197 at other times. such as below:\r\n\r\n    2022-12-25 16:48:27.140 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 347\r\n    2022-12-25 16:48:28.115 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 218\r\n    2022-12-25 16:48:29.231 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 194\r\n\r\nWhat if I only want to get the first 50 items in the `HashMap` every second?\r\n\r\nI try use this code but it does not work:\r\n```java\r\nMap&lt;String,Object&gt; rightDataDict = new TreeMap&lt;&gt;();\r\nDate date = new Date();\r\nrightDataDict.put(String.valueOf(formatter.format(date)),Arrays.toString(r_data_double_arr));\r\nright_timer.scheduleAtFixedRate(new TimerTask() {\r\n    @Override\r\n    public void run() {\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                if(rightDataDict.size()==50){\r\n                    rightDataDict.clear();\r\n                }\r\n            }\r\n        });\r\n    }\r\n},1000, 1000);\r\n```\r\n","title":"How to use first 50 data from hashmap data","body":"<p>I have data on the hashmap, and the data in the hashmap changes every second. Hashmap size will 347 at times and 197 at other times. such as below:</p>\n<pre><code>2022-12-25 16:48:27.140 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 347\n2022-12-25 16:48:28.115 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 218\n2022-12-25 16:48:29.231 8081-8081/com.harrysoft.androidbluetoothserial D/ContentValues: rightdatadict size(): 194\n</code></pre>\n<p>What if I only want to get the first 50 items in the <code>HashMap</code> every second?</p>\n<p>I try use this code but it does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,Object&gt; rightDataDict = new TreeMap&lt;&gt;();\nDate date = new Date();\nrightDataDict.put(String.valueOf(formatter.format(date)),Arrays.toString(r_data_double_arr));\nright_timer.scheduleAtFixedRate(new TimerTask() {\n    @Override\n    public void run() {\n        runOnUiThread(new Runnable() {\n            public void run() {\n                if(rightDataDict.size()==50){\n                    rightDataDict.clear();\n                }\n            }\n        });\n    }\n},1000, 1000);\n</code></pre>\n"},{"tags":["java","java-8","binary-operators"],"answers":[{"comments":[{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1401638431,"post_id":23981026,"comment_id":36952255,"body_markdown":"thanks nosid i have a question why i am receiving differents results on every iteration i guess is for the parallelization... why is that severals results using the name code?? please see my edited question.","body":"thanks nosid i have a question why i am receiving differents results on every iteration i guess is for the parallelization... why is that severals results using the name code?? please see my edited question."},{"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"score":0,"creation_date":1401640756,"post_id":23981026,"comment_id":36952998,"body_markdown":"@chiperortiz: I have updated my answer regarding your second question.    Does the example really originate from the book? In this case, the phrase _good book_ seems questionable.","body":"@chiperortiz: I have updated my answer regarding your second question.    Does the example really originate from the book? In this case, the phrase <i>good book</i> seems questionable."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1401642295,"post_id":23981026,"comment_id":36953460,"body_markdown":"in the book is a more complex example and the use only sequential stream.","body":"in the book is a more complex example and the use only sequential stream."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1401642380,"post_id":23981026,"comment_id":36953493,"body_markdown":"i will use you BiFunction but should i use the same BinaryOperator?","body":"i will use you BiFunction but should i use the same BinaryOperator?"}],"tags":[],"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1401640484,"creation_date":1401633857,"answer_id":23981026,"question_id":23980888,"body_markdown":"The method `reduce` in the interface `Stream` is overloaded. The parameters for the method with three arguments are:\r\n\r\n- identity\r\n- accumulator\r\n- combiner\r\n\r\nThe `combiner` supports parallel execution. Apparently, it is not used for _sequential streams_. However, there is no such guarantee. If you change your _streams_ into _parallel stream_, I guess you will see a difference:\r\n\r\n    Stream&lt;String&gt;stringStream = Stream.of(\r\n        &quot;John Lennon&quot;, &quot;Paul Mccartney&quot;, &quot;George Harrison&quot;, &quot;Ringo Starr&quot;)\r\n        .parallel();\r\n\r\nHere is an example of how the `combiner` can be used to transform a sequential reduction into a reduction, that supports parallel execution. There is a stream with four `String`s and `acc` is used as an abbreviation for `accumulator.apply`. Then the result of the reduction can be computed as follows: \r\n\r\n    acc(acc(acc(acc(identity, &quot;one&quot;), &quot;two&quot;), &quot;three&quot;), &quot;four&quot;);\r\n\r\nWith a compatible `combiner`, the above expression can be transformed into the following expression. Now it is possible to execute the two sub-expressions in different threads.\r\n\r\n    combiner.apply(\r\n        acc(acc(identity, &quot;one&quot;), &quot;two&quot;),\r\n        acc(acc(identity, &quot;three&quot;), &quot;four&quot;));\r\n\r\n---\r\n\r\nRegarding your second question, I use a simplified `accumulator` to explain the problem:\r\n\r\n    BiFunction&lt;StringBuilder,String,StringBuilder&gt; accumulator =\r\n        (builder,name) -&gt; builder.append(name);\r\n\r\nAccording to the Javadoc for [Stream::reduce](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-), the `accumulator` has to be [associative](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity). In this case, that would imply, that the following two expressions return the same result:\r\n\r\n    acc(acc(acc(identity, &quot;one&quot;), &quot;two&quot;), &quot;three&quot;)  \r\n    acc(acc(identity, &quot;one&quot;), acc(acc(identity, &quot;two&quot;), &quot;three&quot;))\r\n\r\nThat&#39;s not true for the above `accumulator`. The problem is, that you are mutating the object referenced by `identity`. That&#39;s a bad idea for the `reduce` operation. Here are two alternative implementations which should work:\r\n\r\n    // identity = &quot;&quot;\r\n    BiFunction&lt;String,String,String&gt; accumulator = String::concat;\r\n\r\n    // identity = null\r\n    BiFunction&lt;StringBuilder,String,StringBuilder&gt; accumulator =\r\n        (builder,name) -&gt; builder == null\r\n            ? new StringBulder(name) : builder.append(name);\r\n","title":"What is the Java 8 reduce BinaryOperator used for?","body":"<p>The method <code>reduce</code> in the interface <code>Stream</code> is overloaded. The parameters for the method with three arguments are:</p>\n\n<ul>\n<li>identity</li>\n<li>accumulator</li>\n<li>combiner</li>\n</ul>\n\n<p>The <code>combiner</code> supports parallel execution. Apparently, it is not used for <em>sequential streams</em>. However, there is no such guarantee. If you change your <em>streams</em> into <em>parallel stream</em>, I guess you will see a difference:</p>\n\n<pre><code>Stream&lt;String&gt;stringStream = Stream.of(\n    \"John Lennon\", \"Paul Mccartney\", \"George Harrison\", \"Ringo Starr\")\n    .parallel();\n</code></pre>\n\n<p>Here is an example of how the <code>combiner</code> can be used to transform a sequential reduction into a reduction, that supports parallel execution. There is a stream with four <code>String</code>s and <code>acc</code> is used as an abbreviation for <code>accumulator.apply</code>. Then the result of the reduction can be computed as follows: </p>\n\n<pre><code>acc(acc(acc(acc(identity, \"one\"), \"two\"), \"three\"), \"four\");\n</code></pre>\n\n<p>With a compatible <code>combiner</code>, the above expression can be transformed into the following expression. Now it is possible to execute the two sub-expressions in different threads.</p>\n\n<pre><code>combiner.apply(\n    acc(acc(identity, \"one\"), \"two\"),\n    acc(acc(identity, \"three\"), \"four\"));\n</code></pre>\n\n<hr>\n\n<p>Regarding your second question, I use a simplified <code>accumulator</code> to explain the problem:</p>\n\n<pre><code>BiFunction&lt;StringBuilder,String,StringBuilder&gt; accumulator =\n    (builder,name) -&gt; builder.append(name);\n</code></pre>\n\n<p>According to the Javadoc for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"noreferrer\">Stream::reduce</a>, the <code>accumulator</code> has to be <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity\" rel=\"noreferrer\">associative</a>. In this case, that would imply, that the following two expressions return the same result:</p>\n\n<pre><code>acc(acc(acc(identity, \"one\"), \"two\"), \"three\")  \nacc(acc(identity, \"one\"), acc(acc(identity, \"two\"), \"three\"))\n</code></pre>\n\n<p>That's not true for the above <code>accumulator</code>. The problem is, that you are mutating the object referenced by <code>identity</code>. That's a bad idea for the <code>reduce</code> operation. Here are two alternative implementations which should work:</p>\n\n<pre><code>// identity = \"\"\nBiFunction&lt;String,String,String&gt; accumulator = String::concat;\n\n// identity = null\nBiFunction&lt;StringBuilder,String,StringBuilder&gt; accumulator =\n    (builder,name) -&gt; builder == null\n        ? new StringBulder(name) : builder.append(name);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1401680743,"post_id":23985350,"comment_id":36962450,"body_markdown":"Similarly, the BinaryOperator parameter to reduce must be *associative*.  Otherwise you will get gibberish results in parallel.","body":"Similarly, the BinaryOperator parameter to reduce must be <i>associative</i>.  Otherwise you will get gibberish results in parallel."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1401709534,"post_id":23985350,"comment_id":36974669,"body_markdown":"the example by Richard is used in a sequential stream not parallel stream Stuart thanks by your reply...","body":"the example by Richard is used in a sequential stream not parallel stream Stuart thanks by your reply..."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1401730075,"post_id":23985350,"comment_id":36987199,"body_markdown":"@chiperortiz Indeed the example is sequential, but it&#39;s improper for code to give correct results sequentially and incorrect results in parallel, especially in a book that&#39;s trying to explain this stuff. (Also, I suspect even the sequential code violates some restrictions, and it&#39;s just lucky that it happens to give the correct result.)","body":"@chiperortiz Indeed the example is sequential, but it&#39;s improper for code to give correct results sequentially and incorrect results in parallel, especially in a book that&#39;s trying to explain this stuff. (Also, I suspect even the sequential code violates some restrictions, and it&#39;s just lucky that it happens to give the correct result.)"}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401663300,"creation_date":1401663300,"answer_id":23985350,"question_id":23980888,"body_markdown":"[nosid&#39;s answer][1] got it mostly right (+1) but I wanted to amplify a particular point.\r\n\r\nThe `identity` parameter to `reduce` must be an identity **value**. It&#39;s ok if it&#39;s an object, but if it is, it should immutable. If the &quot;identity&quot; object is mutated, it&#39;s no longer an identity! For more discussion of this point, see [my answer][2] to a related question.\r\n\r\nIt looks like this example originated from Example 5-19 of Richard Warburton, *Java 8 Lambdas*, O&#39;Reilly 2014. If so, I shall have to have a word about this with the good Dr. Warburton.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23981026/1441122\r\n  [2]: https://stackoverflow.com/a/23661052/1441122","title":"What is the Java 8 reduce BinaryOperator used for?","body":"<p><a href=\"https://stackoverflow.com/a/23981026/1441122\">nosid's answer</a> got it mostly right (+1) but I wanted to amplify a particular point.</p>\n\n<p>The <code>identity</code> parameter to <code>reduce</code> must be an identity <strong>value</strong>. It's ok if it's an object, but if it is, it should immutable. If the \"identity\" object is mutated, it's no longer an identity! For more discussion of this point, see <a href=\"https://stackoverflow.com/a/23661052/1441122\">my answer</a> to a related question.</p>\n\n<p>It looks like this example originated from Example 5-19 of Richard Warburton, <em>Java 8 Lambdas</em>, O'Reilly 2014. If so, I shall have to have a word about this with the good Dr. Warburton.</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10704,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":23981026,"answer_count":2,"score":6,"last_activity_date":1671960067,"creation_date":1401632998,"question_id":23980888,"body_markdown":"I am currently reading the O&#39;Reilly **Java 8 Lambdas**, it is a really good book. I came across with a example like this.\r\n\r\nI have a \r\n\r\n    private final BiFunction&lt;StringBuilder,String,StringBuilder&gt;accumulator=\r\n    (builder,name)-&gt;{if(builder.length()&gt;0)builder.append(&quot;,&quot;);builder.append(&quot;Mister:&quot;).append(name);return builder;};\r\n\r\n    final Stream&lt;String&gt;stringStream = Stream.of(&quot;John Lennon&quot;,&quot;Paul Mccartney&quot;\r\n    ,&quot;George Harrison&quot;,&quot;Ringo Starr&quot;);\r\n    final StringBuilder reduce = stringStream\r\n        .filter(a-&gt;a!=null)\r\n        .reduce(new StringBuilder(),accumulator,(left,right)-&gt;left.append(right));\r\n     System.out.println(reduce);\r\n     System.out.println(reduce.length());\r\n\r\nthis produce the right output.\r\n\r\n`Mister:John Lennon,Mister:Paul Mccartney,Mister:George Harrison,Mister:Ringo Starr`\r\n\r\nMy question is regarding the `reduce` method the last parameter which is a `BinaryOperator`.\r\n\r\nWhich this parameter is used for? If I change by \r\n\r\n    .reduce(new StringBuilder(),accumulator,(left,right)-&gt;new StringBuilder());\r\n\r\nthe output is the same; if I pass `NULL` then N.P.E is returned.\r\n\r\nWhat is this parameter used for? \r\n\r\nUpdate\r\n---\r\n\r\nWhy if I run it on `parallelStream` I am receiving different results?\r\n\r\nFirst run:\r\n\r\n    returned StringBuilder length = 420\r\n\r\nSecond run:\r\n\r\n    returned StringBuilder length = 546\r\n\r\nThird run:\r\n\r\n    returned StringBuilder length = 348\r\n\r\nand so on. Why is this - should it not return all the values at each iteration?\r\n","title":"What is the Java 8 reduce BinaryOperator used for?","body":"<p>I am currently reading the O'Reilly <strong>Java 8 Lambdas</strong>, it is a really good book. I came across with a example like this.</p>\n<p>I have a</p>\n<pre><code>private final BiFunction&lt;StringBuilder,String,StringBuilder&gt;accumulator=\n(builder,name)-&gt;{if(builder.length()&gt;0)builder.append(&quot;,&quot;);builder.append(&quot;Mister:&quot;).append(name);return builder;};\n\nfinal Stream&lt;String&gt;stringStream = Stream.of(&quot;John Lennon&quot;,&quot;Paul Mccartney&quot;\n,&quot;George Harrison&quot;,&quot;Ringo Starr&quot;);\nfinal StringBuilder reduce = stringStream\n    .filter(a-&gt;a!=null)\n    .reduce(new StringBuilder(),accumulator,(left,right)-&gt;left.append(right));\n System.out.println(reduce);\n System.out.println(reduce.length());\n</code></pre>\n<p>this produce the right output.</p>\n<p><code>Mister:John Lennon,Mister:Paul Mccartney,Mister:George Harrison,Mister:Ringo Starr</code></p>\n<p>My question is regarding the <code>reduce</code> method the last parameter which is a <code>BinaryOperator</code>.</p>\n<p>Which this parameter is used for? If I change by</p>\n<pre><code>.reduce(new StringBuilder(),accumulator,(left,right)-&gt;new StringBuilder());\n</code></pre>\n<p>the output is the same; if I pass <code>NULL</code> then N.P.E is returned.</p>\n<p>What is this parameter used for?</p>\n<h2>Update</h2>\n<p>Why if I run it on <code>parallelStream</code> I am receiving different results?</p>\n<p>First run:</p>\n<pre><code>returned StringBuilder length = 420\n</code></pre>\n<p>Second run:</p>\n<pre><code>returned StringBuilder length = 546\n</code></pre>\n<p>Third run:</p>\n<pre><code>returned StringBuilder length = 348\n</code></pre>\n<p>and so on. Why is this - should it not return all the values at each iteration?</p>\n"},{"tags":["java","opencv","tensorflow2"],"answers":[{"tags":[],"owner":{"account_id":11679844,"reputation":92,"user_id":8551985,"accept_rate":100,"display_name":"Robert Huber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671959181,"creation_date":1671959181,"answer_id":74912403,"question_id":74824122,"body_markdown":"not much activity on this question, so let me post what i have managed to figure out on my own. This version does grayscale.\r\n\r\n```\r\nBufferedImage buffImg = ... //provide a grayscale BufferedImage\r\nint width = buffImg.getWidth();\r\nint height = buffImg.getHeight();\r\nShape theShape = Shape.of(1,height,width,1);\r\nByteNdArray pixMatrix = NdArrays.ofBytes(theShape);\r\n//set the content of NdArray with the byte[] of the BufferedImage\r\n//could do a byte at a time with pixMatrix.setByte(bA[j*width+i],0,j,i,0);\r\nTUint8 theTens = TUint8.tensorOf(pixMatrix);\r\n```","title":"Obtain Uint8 Tensor from BufferedImage - java","body":"<p>not much activity on this question, so let me post what i have managed to figure out on my own. This version does grayscale.</p>\n<pre><code>BufferedImage buffImg = ... //provide a grayscale BufferedImage\nint width = buffImg.getWidth();\nint height = buffImg.getHeight();\nShape theShape = Shape.of(1,height,width,1);\nByteNdArray pixMatrix = NdArrays.ofBytes(theShape);\n//set the content of NdArray with the byte[] of the BufferedImage\n//could do a byte at a time with pixMatrix.setByte(bA[j*width+i],0,j,i,0);\nTUint8 theTens = TUint8.tensorOf(pixMatrix);\n</code></pre>\n"}],"owner":{"account_id":11679844,"reputation":92,"user_id":8551985,"accept_rate":100,"display_name":"Robert Huber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74912403,"answer_count":1,"score":0,"last_activity_date":1671959181,"creation_date":1671191787,"question_id":74824122,"body_markdown":"I have finally managed to get a working solution for a project where I inference with a retrained tf2 image detection model on frames I pull from an OpenCV videocapture object. I&#39;m happy to share all the routes that were not productive, but what did work was turning an OpenCV Mat into a tensor in code below.\r\n\r\nThe code I got to work was turning the Mat into a BufferedImage, then saving that to a JPEG onto the disk, reading the JPEG from the disk back into a tensor via the DecodeJpeg function. It is very ugly.\r\n\r\nHow can I turn a `BufferedImage` into a `Tensor(Uint8)` directly without having to save and read a JPEG file for this problem?\r\n\r\n```\r\nSavedModelBundle model = SavedModelBundle.load(modelPath,&quot;serve&quot;);\r\nBufferedImage drawImg = BIfromMat(Mat aMat);\r\nImageIO.write(drawImg,&quot;png&quot;,new File(svImgPath1));\r\n\r\ntry (Graph g = new Graph(); Session s = new Session(g)) {\r\n\tOps tf = Ops.create(g);\r\n\tConstant&lt;TString&gt; fileName = tf.constant(svImgPath1);\r\n\tReadFile readFile = tf.io.readFile(fileName);\r\n\tSession.Runner runner = s.runner();\r\n\tDecodeJpeg.Options options = DecodeJpeg.channels(3L);\r\n\tDecodeJpeg decodeImage = tf.image.decodeJpeg(readFile.contents(),options);\r\n\t\t//fetch image from file\r\n\t\tShape imageShape = runner.fetch(decodeImage).run().get(0).shape();\r\n\t\t//reshape the tensor to 4D for input to model\r\n\t\tReshape&lt;TUint8&gt; reshape = tf.reshape(decodeImage,\r\n\t\t\ttf.array(1,\r\n\t\t\t\timageShape.asArray()[0],\r\n\t\t\t\timageShape.asArray()[1],\r\n\t\t\t\timageShape.asArray()[2]\r\n\t\t\t)\r\n\t\t);\r\n\t\t\t\t\t\r\n\t\ttry (TUint8 reshapeTensor = (TUint8)s.runner().fetch(reshape).run().get(0)) {\r\n\t\t\tMap&lt;String,Tensor&gt; feedDict = new HashMap&lt;&gt;();\r\n\t\t\t//The given SavedModel SignatureDef input\r\n\t\t\tfeedDict.put(&quot;input_tensor&quot;, reshapeTensor);\r\n\t\t\t//gets the detected objects\r\n\t\t\tMap&lt;String, Tensor&gt; outputTensorMap = model.function(&quot;serving_default&quot;).call(feedDict);\r\n```\r\n\r\n","title":"Obtain Uint8 Tensor from BufferedImage - java","body":"<p>I have finally managed to get a working solution for a project where I inference with a retrained tf2 image detection model on frames I pull from an OpenCV videocapture object. I'm happy to share all the routes that were not productive, but what did work was turning an OpenCV Mat into a tensor in code below.</p>\n<p>The code I got to work was turning the Mat into a BufferedImage, then saving that to a JPEG onto the disk, reading the JPEG from the disk back into a tensor via the DecodeJpeg function. It is very ugly.</p>\n<p>How can I turn a <code>BufferedImage</code> into a <code>Tensor(Uint8)</code> directly without having to save and read a JPEG file for this problem?</p>\n<pre><code>SavedModelBundle model = SavedModelBundle.load(modelPath,&quot;serve&quot;);\nBufferedImage drawImg = BIfromMat(Mat aMat);\nImageIO.write(drawImg,&quot;png&quot;,new File(svImgPath1));\n\ntry (Graph g = new Graph(); Session s = new Session(g)) {\n    Ops tf = Ops.create(g);\n    Constant&lt;TString&gt; fileName = tf.constant(svImgPath1);\n    ReadFile readFile = tf.io.readFile(fileName);\n    Session.Runner runner = s.runner();\n    DecodeJpeg.Options options = DecodeJpeg.channels(3L);\n    DecodeJpeg decodeImage = tf.image.decodeJpeg(readFile.contents(),options);\n        //fetch image from file\n        Shape imageShape = runner.fetch(decodeImage).run().get(0).shape();\n        //reshape the tensor to 4D for input to model\n        Reshape&lt;TUint8&gt; reshape = tf.reshape(decodeImage,\n            tf.array(1,\n                imageShape.asArray()[0],\n                imageShape.asArray()[1],\n                imageShape.asArray()[2]\n            )\n        );\n                    \n        try (TUint8 reshapeTensor = (TUint8)s.runner().fetch(reshape).run().get(0)) {\n            Map&lt;String,Tensor&gt; feedDict = new HashMap&lt;&gt;();\n            //The given SavedModel SignatureDef input\n            feedDict.put(&quot;input_tensor&quot;, reshapeTensor);\n            //gets the detected objects\n            Map&lt;String, Tensor&gt; outputTensorMap = model.function(&quot;serving_default&quot;).call(feedDict);\n</code></pre>\n"},{"tags":["java","apache-kafka","comparison","apache-flink"],"comments":[{"owner":{"account_id":11333416,"reputation":85,"user_id":8310211,"display_name":"Guish"},"score":2,"creation_date":1580782388,"post_id":60049447,"comment_id":106202426,"body_markdown":"what kind of comparison do you need to do?","body":"what kind of comparison do you need to do?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1580806550,"post_id":60049447,"comment_id":106209282,"body_markdown":"Yes, this should be possible with Flink. But to suggest a solution we&#39;ll need to know more about the kind of comparison involved.","body":"Yes, this should be possible with Flink. But to suggest a solution we&#39;ll need to know more about the kind of comparison involved."},{"owner":{"account_id":17209628,"reputation":27,"user_id":12459341,"display_name":"dv123"},"score":0,"creation_date":1580876292,"post_id":60049447,"comment_id":106237947,"body_markdown":"@DavidAnderson I would like to perform field/attribute level comparison or minus operation between data from 2 kafka topics.","body":"@DavidAnderson I would like to perform field/attribute level comparison or minus operation between data from 2 kafka topics."}],"answers":[{"tags":[],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671958548,"creation_date":1580799417,"answer_id":60052086,"question_id":60049447,"body_markdown":"Why not try Spark streaming? Spark has connectors to read from Kafka topics and view them as a table (aka., dataframe) and you can run SQL queries on top of the dataframe and compare results.\r\n","title":"How to perform data comparison between 2 kafka topic using flink","body":"<p>Why not try Spark streaming? Spark has connectors to read from Kafka topics and view them as a table (aka., dataframe) and you can run SQL queries on top of the dataframe and compare results.</p>\n"},{"comments":[{"owner":{"account_id":17209628,"reputation":27,"user_id":12459341,"display_name":"dv123"},"score":0,"creation_date":1581110256,"post_id":60070905,"comment_id":106334008,"body_markdown":"Is the join options suggested here capable of minus operation ?","body":"Is the join options suggested here capable of minus operation ?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1581146617,"post_id":60070905,"comment_id":106340283,"body_markdown":"Not sure what you mean by minus, but the Table/SQL API supports subtraction on numeric values, and EXCEPT on sets. And you can always extend the built-in operations with user-defined functions. With the interval join you can do anything you want.","body":"Not sure what you mean by minus, but the Table/SQL API supports subtraction on numeric values, and EXCEPT on sets. And you can always extend the built-in operations with user-defined functions. With the interval join you can do anything you want."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580887829,"creation_date":1580887829,"answer_id":60070905,"question_id":60049447,"body_markdown":"There are several different ways one might potentially use to approach this with Flink. The more straightforward options are probably to either use\r\n\r\n* [an interval join](https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/joining.html#interval-join)\r\n* or some sort of [Table](https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/tableApi.html#joins) or [SQL](https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/sql.html#joins) join.\r\n\r\nUsing Kafka with the Table/SQL APi is covered [here](https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/connect.html#kafka-connector).","title":"How to perform data comparison between 2 kafka topic using flink","body":"<p>There are several different ways one might potentially use to approach this with Flink. The more straightforward options are probably to either use</p>\n\n<ul>\n<li><a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/joining.html#interval-join\" rel=\"nofollow noreferrer\">an interval join</a></li>\n<li>or some sort of <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/tableApi.html#joins\" rel=\"nofollow noreferrer\">Table</a> or <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/sql.html#joins\" rel=\"nofollow noreferrer\">SQL</a> join.</li>\n</ul>\n\n<p>Using Kafka with the Table/SQL APi is covered <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/table/connect.html#kafka-connector\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17209628,"reputation":27,"user_id":12459341,"display_name":"dv123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60070905,"answer_count":2,"score":2,"last_activity_date":1671958548,"creation_date":1580780485,"question_id":60049447,"body_markdown":"I got stuck at scenario where i need to consume data stream from 2 or more kafka topics(after applying filter) and compare the data. Since the data volume is high, Please suggest the best options available..\r\nIs it possible with flink?","title":"How to perform data comparison between 2 kafka topic using flink","body":"<p>I got stuck at scenario where i need to consume data stream from 2 or more kafka topics(after applying filter) and compare the data. Since the data volume is high, Please suggest the best options available..\nIs it possible with flink?</p>\n"},{"tags":["java","html","pdf","flying-saucer"],"owner":{"account_id":23999761,"reputation":1,"user_id":17984837,"display_name":"Sergey Kazakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671957787,"creation_date":1671622815,"question_id":74875523,"body_markdown":"I am trying to convert html to pdf using Flying-saucer.  But on some part of html flying-saucer works strange.\r\n\r\nSo I have a html looks like this:  \r\n[Initial html](https://i.stack.imgur.com/WKbec.png)\r\nand got such pdf:\r\n[Resulting pdf](https://i.stack.imgur.com/AHv5s.png)\r\n\r\nMy html body:\r\n\r\n```html\r\n  &lt;table border=&quot;1&quot; align=&quot;left&quot;&gt; \r\n   &lt;tbody&gt;\r\n    &lt;tr&gt; \r\n     &lt;td&gt;Text 1&lt;/td&gt; \r\n    &lt;/tr&gt; \r\n    &lt;tr&gt; \r\n     &lt;td&gt;Text 2 - &lt;/td&gt; \r\n    &lt;/tr&gt; \r\n    &lt;tr&gt; \r\n     &lt;td&gt;Text 3 - &lt;/td&gt; \r\n    &lt;/tr&gt; \r\n   &lt;/tbody&gt;\r\n  &lt;/table&gt; \r\n\r\n  &lt;p&gt;1. Paragrath&lt;/p&gt; \r\n  &lt;table&gt; \r\n   &lt;tbody&gt;\r\n    &lt;tr&gt; \r\n     &lt;td&gt;Table 2 text here&lt;/td&gt; \r\n     &lt;/tr&gt;\r\n   &lt;/tbody&gt;\r\n  &lt;/table&gt; \r\n```\r\n\r\nwith no styles in html.\r\n\r\n\r\nI am using flying-saucer vers. 9.1.22, downloaded from maven repository.\r\n\r\nHow can this be fixed?","title":"Table content overlaps another table with float CSS property with Flying-saucer","body":"<p>I am trying to convert html to pdf using Flying-saucer.  But on some part of html flying-saucer works strange.</p>\n<p>So I have a html looks like this:<br />\n<a href=\"https://i.stack.imgur.com/WKbec.png\" rel=\"nofollow noreferrer\">Initial html</a>\nand got such pdf:\n<a href=\"https://i.stack.imgur.com/AHv5s.png\" rel=\"nofollow noreferrer\">Resulting pdf</a></p>\n<p>My html body:</p>\n<pre class=\"lang-html prettyprint-override\"><code>  &lt;table border=&quot;1&quot; align=&quot;left&quot;&gt; \n   &lt;tbody&gt;\n    &lt;tr&gt; \n     &lt;td&gt;Text 1&lt;/td&gt; \n    &lt;/tr&gt; \n    &lt;tr&gt; \n     &lt;td&gt;Text 2 - &lt;/td&gt; \n    &lt;/tr&gt; \n    &lt;tr&gt; \n     &lt;td&gt;Text 3 - &lt;/td&gt; \n    &lt;/tr&gt; \n   &lt;/tbody&gt;\n  &lt;/table&gt; \n\n  &lt;p&gt;1. Paragrath&lt;/p&gt; \n  &lt;table&gt; \n   &lt;tbody&gt;\n    &lt;tr&gt; \n     &lt;td&gt;Table 2 text here&lt;/td&gt; \n     &lt;/tr&gt;\n   &lt;/tbody&gt;\n  &lt;/table&gt; \n</code></pre>\n<p>with no styles in html.</p>\n<p>I am using flying-saucer vers. 9.1.22, downloaded from maven repository.</p>\n<p>How can this be fixed?</p>\n"},{"tags":["java","android","android-studio","gradle","aar"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1669072777,"post_id":74525129,"comment_id":131556036,"body_markdown":"I&#39;ve never seen that myself but I guess those are dynamically linked JARs, loaded at runtime. If so they will be included the same way in the apk.","body":"I&#39;ve never seen that myself but I guess those are dynamically linked JARs, loaded at runtime. If so they will be included the same way in the apk."}],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671956568,"creation_date":1669171260,"answer_id":74541179,"question_id":74525129,"body_markdown":"The JARs in the `libs` directory of an AAR are dynamically linked during runtime. Exactly like the JAR files you would provide in the `libs` directory of your project.\r\n\r\nAs you may note, the content of an AAR file is similar to the structure of an Android application project -- at minimum a manifest file, and further (optional) files and directories. You may find resources (`res` and/or `assets`), libraries (native ones in `lib`, JARs in `libs`) and so on. Not every AAR files does even contain a `classes.jar`, as some of theme are only intended to deliver additional `res` content. That can often be found in compat-AARs.\r\n\r\nBasically, during the APK building process one simple thing is made with an AAR file which has been included into the project. It will be unzipped and its files and directories are merged -- at least logically, not necessarily physically -- with their corresponding counterparts in the project. So in your case, the JAR files in the AAR&#39;s `libs` directory are added to the `libs` directory of your project, where you keep the Java libraries you want to link dynamically during application runtime.\r\n\r\nApart from that the APK building process runs as usual.\r\n\r\nIn short -- An AAR is a ZIP whose content is merged into the project it was added to.","title":"How work the jar located inside the /libs subfolder of an aar?","body":"<p>The JARs in the <code>libs</code> directory of an AAR are dynamically linked during runtime. Exactly like the JAR files you would provide in the <code>libs</code> directory of your project.</p>\n<p>As you may note, the content of an AAR file is similar to the structure of an Android application project -- at minimum a manifest file, and further (optional) files and directories. You may find resources (<code>res</code> and/or <code>assets</code>), libraries (native ones in <code>lib</code>, JARs in <code>libs</code>) and so on. Not every AAR files does even contain a <code>classes.jar</code>, as some of theme are only intended to deliver additional <code>res</code> content. That can often be found in compat-AARs.</p>\n<p>Basically, during the APK building process one simple thing is made with an AAR file which has been included into the project. It will be unzipped and its files and directories are merged -- at least logically, not necessarily physically -- with their corresponding counterparts in the project. So in your case, the JAR files in the AAR's <code>libs</code> directory are added to the <code>libs</code> directory of your project, where you keep the Java libraries you want to link dynamically during application runtime.</p>\n<p>Apart from that the APK building process runs as usual.</p>\n<p>In short -- An AAR is a ZIP whose content is merged into the project it was added to.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74541179,"answer_count":1,"score":1,"last_activity_date":1671956568,"creation_date":1669066484,"question_id":74525129,"body_markdown":"Inside some `aar` archives their is a `libs` subfolder with some `.jar` in it. What the purpose of those jars? why they are not merged in the classes.jar? If I add the `aar` as a dependency of my android project, how the jar inside the `libs` subfolder will be included in the final `apk`?","title":"How work the jar located inside the /libs subfolder of an aar?","body":"<p>Inside some <code>aar</code> archives their is a <code>libs</code> subfolder with some <code>.jar</code> in it. What the purpose of those jars? why they are not merged in the classes.jar? If I add the <code>aar</code> as a dependency of my android project, how the jar inside the <code>libs</code> subfolder will be included in the final <code>apk</code>?</p>\n"},{"tags":["java","android","android-recyclerview","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":18470930,"reputation":121,"user_id":13455864,"display_name":"Yaroslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588652893,"creation_date":1588531550,"answer_id":61579843,"question_id":61570787,"body_markdown":"I came across a similar problem and successfully solved it. Now I can give you my code. I think it will help you\r\n\r\nListAdapter.java\r\n\r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.geometry.R;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class ListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    \r\n        private List&lt;ItemAdapter&gt; mList;\r\n        private Context mContext;\r\n        public ListAdapter(List&lt;ItemAdapter&gt; list, Context context){\r\n            super();\r\n            mList = list;\r\n            mContext = context;\r\n        }\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int i) {\r\n            View v = LayoutInflater.from(mContext).inflate(R.layout.item_custom, parent, false);\r\n    \r\n            final ViewHolder viewHolder = new ViewHolder(v);\r\n    \r\n            viewHolder.mImg.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(v.getContext(), &quot;Input mode = &quot; + viewHolder.getAdapterPosition(), Toast.LENGTH_SHORT).show();\r\n                    Builder.mode = viewHolder.getAdapterPosition();\r\n                }\r\n            });\r\n    \r\n            return viewHolder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder( RecyclerView.ViewHolder viewHolder, int position) {\r\n            ItemAdapter itemAdapter = mList.get(position);\r\n            ((ViewHolder) viewHolder).mImg.setImageResource(itemAdapter.getImage());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mList.size();\r\n        }\r\n    \r\n        class ViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            public TextView mTv_name;\r\n            public ImageView mImg;\r\n            public ViewHolder(View itemView) {\r\n    \r\n                super(itemView);\r\n                mImg = (ImageView) itemView.findViewById(R.id.img_item);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nItemAdapter.java\r\n\r\n    public class ItemAdapter {\r\n        private int image;\r\n    \r\n        public int getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(int image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\nMainActivity.java\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ListView;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.geometry.GUI.Builder;\r\n    import com.example.geometry.GUI.ItemAdapter;\r\n    import com.example.geometry.GUI.ListAdapter;\r\n    import com.example.geometry.Output.SolveActivity;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private RecyclerView mRecycleView;\r\n        private List&lt;ItemAdapter&gt; mList = new ArrayList&lt;&gt;();\r\n        private ListAdapter mAdapter;\r\n        ListView listView;\r\n        RelativeLayout layout;\r\n    \r\n        ImageButton solve_button;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            init();\r\n            addList();\r\n            adapter();\r\n        }\r\n    \r\n        private void init(){\r\n            setContentView(R.layout.activity_main);\r\n            layout = new RelativeLayout(this);\r\n            mRecycleView = findViewById(R.id.recycler_view);//new RecyclerView(this);\r\n    \r\n            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n            params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n            mRecycleView.setLayoutParams(params);\r\n        }\r\n        private void addList(){\r\n            ItemAdapter itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.circle);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.line);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.move);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.angle);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.regular_triangle);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.right_triangle);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.square);\r\n            mList.add(itemAdapter);\r\n    \r\n            itemAdapter = new ItemAdapter();\r\n            itemAdapter.setImage(R.drawable.trapeze);\r\n            mList.add(itemAdapter);\r\n        }\r\n    \r\n        private void adapter(){\r\n            mAdapter = new ListAdapter(mList, this);\r\n            mRecycleView.setAdapter(mAdapter);\r\n            mRecycleView.setLayoutManager(new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false));\r\n            mAdapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/solve_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_margin=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/ic_calculator&quot; /&gt;\r\n    \r\n        &lt;com.example.geometry.GUI.Builder\r\n            android:id=&quot;@+id/builder&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/recycler_view&quot;\r\n            /&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n        /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Name&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nitem_custom.java\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;2dp&quot;\r\n        android:background=&quot;#fff&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:scaleType=&quot;center&quot;&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/img_item&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:contentDescription=&quot;@string/app_name&quot;\r\n            android:layout_height=&quot;wrap_content&quot; \r\n            android:layout_gravity=&quot;center&quot;\r\n            android:scaleType=&quot;center&quot;\r\n            android:layout_centerInParent=&quot;true&quot;/&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n","title":"How to add images in my Recycler view with in every line of list?","body":"<p>I came across a similar problem and successfully solved it. Now I can give you my code. I think it will help you</p>\n\n<p>ListAdapter.java</p>\n\n<pre><code>import android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.geometry.R;\n\nimport java.util.List;\n\npublic class ListAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    private List&lt;ItemAdapter&gt; mList;\n    private Context mContext;\n    public ListAdapter(List&lt;ItemAdapter&gt; list, Context context){\n        super();\n        mList = list;\n        mContext = context;\n    }\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int i) {\n        View v = LayoutInflater.from(mContext).inflate(R.layout.item_custom, parent, false);\n\n        final ViewHolder viewHolder = new ViewHolder(v);\n\n        viewHolder.mImg.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(v.getContext(), \"Input mode = \" + viewHolder.getAdapterPosition(), Toast.LENGTH_SHORT).show();\n                Builder.mode = viewHolder.getAdapterPosition();\n            }\n        });\n\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder( RecyclerView.ViewHolder viewHolder, int position) {\n        ItemAdapter itemAdapter = mList.get(position);\n        ((ViewHolder) viewHolder).mImg.setImageResource(itemAdapter.getImage());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mList.size();\n    }\n\n    class ViewHolder extends RecyclerView.ViewHolder{\n\n        public TextView mTv_name;\n        public ImageView mImg;\n        public ViewHolder(View itemView) {\n\n            super(itemView);\n            mImg = (ImageView) itemView.findViewById(R.id.img_item);\n\n        }\n    }\n}\n</code></pre>\n\n<p>ItemAdapter.java</p>\n\n<pre><code>public class ItemAdapter {\n    private int image;\n\n    public int getImage() {\n        return image;\n    }\n\n    public void setImage(int image) {\n        this.image = image;\n    }\n}\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ListView;\nimport android.widget.RelativeLayout;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.geometry.GUI.Builder;\nimport com.example.geometry.GUI.ItemAdapter;\nimport com.example.geometry.GUI.ListAdapter;\nimport com.example.geometry.Output.SolveActivity;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private RecyclerView mRecycleView;\n    private List&lt;ItemAdapter&gt; mList = new ArrayList&lt;&gt;();\n    private ListAdapter mAdapter;\n    ListView listView;\n    RelativeLayout layout;\n\n    ImageButton solve_button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        init();\n        addList();\n        adapter();\n    }\n\n    private void init(){\n        setContentView(R.layout.activity_main);\n        layout = new RelativeLayout(this);\n        mRecycleView = findViewById(R.id.recycler_view);//new RecyclerView(this);\n\n        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT);\n        params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\n        mRecycleView.setLayoutParams(params);\n    }\n    private void addList(){\n        ItemAdapter itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.circle);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.line);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.move);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.angle);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.regular_triangle);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.right_triangle);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.square);\n        mList.add(itemAdapter);\n\n        itemAdapter = new ItemAdapter();\n        itemAdapter.setImage(R.drawable.trapeze);\n        mList.add(itemAdapter);\n    }\n\n    private void adapter(){\n        mAdapter = new ListAdapter(mList, this);\n        mRecycleView.setAdapter(mAdapter);\n        mRecycleView.setLayoutManager(new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false));\n        mAdapter.notifyDataSetChanged();\n\n    }\n\n\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/solve_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_margin=\"30dp\"\n        android:background=\"@drawable/ic_calculator\" /&gt;\n\n    &lt;com.example.geometry.GUI.Builder\n        android:id=\"@+id/builder\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@+id/recycler_view\"\n        /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recycler_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n    /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"Name\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>item_custom.java</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_margin=\"2dp\"\n    android:background=\"#fff\"\n    android:layout_height=\"wrap_content\"&gt;\n    android:layout_gravity=\"center\"\n    android:scaleType=\"center\"&gt;\n    &lt;ImageView\n        android:id=\"@+id/img_item\"\n        android:layout_width=\"wrap_content\"\n        android:contentDescription=\"@string/app_name\"\n        android:layout_height=\"wrap_content\" \n        android:layout_gravity=\"center\"\n        android:scaleType=\"center\"\n        android:layout_centerInParent=\"true\"/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":17322023,"reputation":123,"user_id":12547210,"display_name":"Ankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61579843,"answer_count":1,"score":1,"last_activity_date":1671955751,"creation_date":1588489473,"question_id":61570787,"body_markdown":"I am new to Android development and am having trouble adding an ImageView to a RecyclerView list. I have been working on this for a couple of months, but am still struggling to find a solution.\r\n\r\n Is there anyone who could help me with this issue? Here is my MainActivity.java file for reference:\r\n\r\n    package com.example.customlistview;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.DefaultItemAnimator;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n       private static final String TAG=&quot;MainActivicty&quot;;\r\n       private Context mcontext;\r\n       ArrayList&lt;String&gt; titleArrayList;\r\n       RecyclerView mRecyclerview;\r\n        int images[] = {R.drawable.facebook, R.drawable.whatsapp, R.drawable.twitter, R.drawable.instagram, R.drawable.youtube};\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            titleArrayList=new ArrayList&lt;String&gt;();\r\n            titleArrayList.add(Constants.NUMBER_SYSTEM);\r\n            titleArrayList.add(Constants.POWER_ICDICES);\r\n            titleArrayList.add(Constants.SIMPLIFICATION);\r\n            titleArrayList.add(Constants.ALGEBRA);\r\n           ;\r\n    \r\n    \r\n            mcontext=MainActivity.this;\r\n            mRecyclerview=(RecyclerView) findViewById(R.id.Recycle);\r\n            mRecyclerview.setHasFixedSize(true);\r\n            mRecyclerview.setItemAnimator(new DefaultItemAnimator());\r\n            mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n    \r\n            TitleAdapter  adapter=new TitleAdapter(mcontext, titleArrayList, new CustomItemClickListener() {\r\n                @Override\r\n                public void onItemClick(View v, int i) {\r\n                    Toast.makeText(mcontext, &quot;clicked&quot;+titleArrayList.get(i),Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n            mRecyclerview.setAdapter(adapter);\r\n        }\r\n    }\r\n\r\n\r\nTitleApdapter.java\r\n\r\n    package com.example.customlistview;\r\n    \r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class TitleAdapter extends RecyclerView.Adapter&lt;TitleAdapter.MyViewHolder&gt;  {\r\n        private Context mcontext;\r\n        private ArrayList&lt;String&gt; titleList;\r\n        private CustomItemClickListener clickListener;\r\n    \r\n    \r\n        public TitleAdapter(Context mcontext, ArrayList&lt;String&gt; titleList, CustomItemClickListener clickListener) {\r\n            this.mcontext = mcontext;\r\n            this.titleList = titleList;\r\n            this.clickListener = clickListener;\r\n    \r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            final View view= LayoutInflater.from(mcontext).inflate(R.layout.row,parent,false);\r\n    \r\n            final MyViewHolder viewHolder=new MyViewHolder(view);\r\n    \r\n            view.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickListener.onItemClick(view,viewHolder.getPosition());\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n            return viewHolder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.titletext.setText(titleList.get(position).replace(&quot;_&quot;,&quot; &quot;));\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return titleList.size();\r\n        }\r\n    \r\n        public  class MyViewHolder extends RecyclerView.ViewHolder{\r\n            TextView titletext;\r\n    \r\n    \r\n    \r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                titletext=(TextView) itemView.findViewById(R.id.textView1);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nConstant.java\r\n\r\n    package com.example.customlistview;\r\n    \r\n    class Constants {\r\n    \r\n        static final String NUMBER_SYSTEM=&quot;NUMBER_SYSTEM(संख्या पद्धति)&quot;;\r\n        static final String POWER_ICDICES=&quot;POWER,ICDICES &amp; SURDS&quot;;\r\n        static final String SIMPLIFICATION=&quot;SIMPLIFICATION(संख्या पद्धति)&quot;;\r\n        static final String ALGEBRA=&quot;ALGEBRA(बीजगणित)&quot;;\r\n    \r\n    }\r\n\r\n\r\nCustomItemClickListener.java\r\n\r\n\r\n    package com.example.customlistview;\r\n    \r\n    import android.view.View;\r\n    \r\n    public interface CustomItemClickListener {\r\n    \r\n        public void onItemClick(View v,int i);\r\n    }\r\n\r\nthis is my row.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        app:contentPadding=&quot;5dp&quot;\r\n        app:cardElevation=&quot;3dp&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n        app:cardBackgroundColor=&quot;@color/whiteColor&quot;\r\n        &gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:padding=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/image&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:src=&quot;@drawable/whatsapp&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView1&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;2dp&quot;\r\n    \r\n    \r\n                    android:text=&quot;@string/main_title&quot;\r\n    \r\n                    android:textColor=&quot;@color/blackColor&quot;\r\n                    android:textSize=&quot;15sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\nAny guidance would be greatly appreciated. Thank you in advance.\r\n\r\n","title":"How to add images in my Recycler view with in every line of list?","body":"<p>I am new to Android development and am having trouble adding an ImageView to a RecyclerView list. I have been working on this for a couple of months, but am still struggling to find a solution.</p>\n<p>Is there anyone who could help me with this issue? Here is my MainActivity.java file for reference:</p>\n<pre><code>package com.example.customlistview;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n   private static final String TAG=&quot;MainActivicty&quot;;\n   private Context mcontext;\n   ArrayList&lt;String&gt; titleArrayList;\n   RecyclerView mRecyclerview;\n    int images[] = {R.drawable.facebook, R.drawable.whatsapp, R.drawable.twitter, R.drawable.instagram, R.drawable.youtube};\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        titleArrayList=new ArrayList&lt;String&gt;();\n        titleArrayList.add(Constants.NUMBER_SYSTEM);\n        titleArrayList.add(Constants.POWER_ICDICES);\n        titleArrayList.add(Constants.SIMPLIFICATION);\n        titleArrayList.add(Constants.ALGEBRA);\n       ;\n\n\n        mcontext=MainActivity.this;\n        mRecyclerview=(RecyclerView) findViewById(R.id.Recycle);\n        mRecyclerview.setHasFixedSize(true);\n        mRecyclerview.setItemAnimator(new DefaultItemAnimator());\n        mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n\n        TitleAdapter  adapter=new TitleAdapter(mcontext, titleArrayList, new CustomItemClickListener() {\n            @Override\n            public void onItemClick(View v, int i) {\n                Toast.makeText(mcontext, &quot;clicked&quot;+titleArrayList.get(i),Toast.LENGTH_SHORT).show();\n\n            }\n        });\n        mRecyclerview.setAdapter(adapter);\n    }\n}\n</code></pre>\n<p>TitleApdapter.java</p>\n<pre><code>package com.example.customlistview;\n\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class TitleAdapter extends RecyclerView.Adapter&lt;TitleAdapter.MyViewHolder&gt;  {\n    private Context mcontext;\n    private ArrayList&lt;String&gt; titleList;\n    private CustomItemClickListener clickListener;\n\n\n    public TitleAdapter(Context mcontext, ArrayList&lt;String&gt; titleList, CustomItemClickListener clickListener) {\n        this.mcontext = mcontext;\n        this.titleList = titleList;\n        this.clickListener = clickListener;\n\n    }\n\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        final View view= LayoutInflater.from(mcontext).inflate(R.layout.row,parent,false);\n\n        final MyViewHolder viewHolder=new MyViewHolder(view);\n\n        view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickListener.onItemClick(view,viewHolder.getPosition());\n            }\n        });\n\n\n\n\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.titletext.setText(titleList.get(position).replace(&quot;_&quot;,&quot; &quot;));\n    }\n\n    @Override\n    public int getItemCount() {\n        return titleList.size();\n    }\n\n    public  class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView titletext;\n\n\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            titletext=(TextView) itemView.findViewById(R.id.textView1);\n\n        }\n    }\n}\n</code></pre>\n<p>Constant.java</p>\n<pre><code>package com.example.customlistview;\n\nclass Constants {\n\n    static final String NUMBER_SYSTEM=&quot;NUMBER_SYSTEM(संख्या पद्धति)&quot;;\n    static final String POWER_ICDICES=&quot;POWER,ICDICES &amp; SURDS&quot;;\n    static final String SIMPLIFICATION=&quot;SIMPLIFICATION(संख्या पद्धति)&quot;;\n    static final String ALGEBRA=&quot;ALGEBRA(बीजगणित)&quot;;\n\n}\n</code></pre>\n<p>CustomItemClickListener.java</p>\n<pre><code>package com.example.customlistview;\n\nimport android.view.View;\n\npublic interface CustomItemClickListener {\n\n    public void onItemClick(View v,int i);\n}\n</code></pre>\n<p>this is my row.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    app:contentPadding=&quot;5dp&quot;\n    app:cardElevation=&quot;3dp&quot;\n    app:cardCornerRadius=&quot;10dp&quot;\n    app:cardUseCompatPadding=&quot;true&quot;\n    app:cardBackgroundColor=&quot;@color/whiteColor&quot;\n    &gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;10dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:src=&quot;@drawable/whatsapp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_marginLeft=&quot;5dp&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;2dp&quot;\n\n\n                android:text=&quot;@string/main_title&quot;\n\n                android:textColor=&quot;@color/blackColor&quot;\n                android:textSize=&quot;15sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Any guidance would be greatly appreciated. Thank you in advance.</p>\n"},{"tags":["java","snakeyaml"],"owner":{"account_id":27295599,"reputation":1,"user_id":20813276,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671954242,"creation_date":1671954242,"question_id":74912097,"body_markdown":"I have YAML file where exists a lot of empty lists. So after parsing I want to change them to new `ArrayList()`. It will reduce amounts of null checks.\r\n\r\nI have a model like this:\r\n\r\n```\r\n@Data\r\npublic class Model\r\n{\r\n  private List&lt;Object&gt; list;\r\n}\r\n```\r\n\r\nafter:\r\n\r\n```\r\nString content = &quot;list:&quot;;\r\nYaml yaml = new Yaml();\r\nyaml.loadAs(content, Model.class);\r\n```\r\n\r\nI get a null `List`;\r\n\r\nbut I want change it to `new ArrayList()`\r\n\r\nSo how can I change default value using `SnakeYaml`?","title":"Snakeyaml default value implementation if field is null","body":"<p>I have YAML file where exists a lot of empty lists. So after parsing I want to change them to new <code>ArrayList()</code>. It will reduce amounts of null checks.</p>\n<p>I have a model like this:</p>\n<pre><code>@Data\npublic class Model\n{\n  private List&lt;Object&gt; list;\n}\n</code></pre>\n<p>after:</p>\n<pre><code>String content = &quot;list:&quot;;\nYaml yaml = new Yaml();\nyaml.loadAs(content, Model.class);\n</code></pre>\n<p>I get a null <code>List</code>;</p>\n<p>but I want change it to <code>new ArrayList()</code></p>\n<p>So how can I change default value using <code>SnakeYaml</code>?</p>\n"},{"tags":["java","threadpool","threadpoolexecutor","forkjoinpool"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1671960485,"post_id":74912084,"comment_id":132201088,"body_markdown":"`Executors.newFixedThreadPool(1)` returns a `ThreadPoolExecutor` configured with it&#39;s _core pool size_ and _maximum pool size_ set to 1. It will never have more than one thread at any given time. Whereas `new ForkJoinPool(1)` returns a `ForkJoinPool` with its _parallelism_ set to 1, which is not the same thing; it does not prevent more threads from being created in an attempt to maintain that parallelism level. If you print the thread name along with your started/ended messages, you&#39;ll see this.","body":"<code>Executors.newFixedThreadPool(1)</code> returns a <code>ThreadPoolExecutor</code> configured with it&#39;s <i>core pool size</i> and <i>maximum pool size</i> set to 1. It will never have more than one thread at any given time. Whereas <code>new ForkJoinPool(1)</code> returns a <code>ForkJoinPool</code> with its <i>parallelism</i> set to 1, which is not the same thing; it does not prevent more threads from being created in an attempt to maintain that parallelism level. If you print the thread name along with your started/ended messages, you&#39;ll see this."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671961221,"post_id":74912084,"comment_id":132201164,"body_markdown":"See https://stackoverflow.com/questions/67416858/forkjoinpool-size-increasing-dynamically","body":"See <a href=\"https://stackoverflow.com/questions/67416858/forkjoinpool-size-increasing-dynamically\" title=\"forkjoinpool size increasing dynamically\">stackoverflow.com/questions/67416858/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671961400,"post_id":74912084,"comment_id":132201189,"body_markdown":"See what happens when you *don&#39;t* use a thread in asyncCall, and just sleep on the worker thread. Then the ForkJoinPool sees the thread as waiting, instead of blocked (not certain if I have the terms right) and won&#39;t start another worker.","body":"See what happens when you <i>don&#39;t</i> use a thread in asyncCall, and just sleep on the worker thread. Then the ForkJoinPool sees the thread as waiting, instead of blocked (not certain if I have the terms right) and won&#39;t start another worker."}],"owner":{"account_id":10676097,"reputation":324,"user_id":7859546,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671954085,"creation_date":1671954085,"question_id":74912084,"body_markdown":"I am bit confused how Forkjoin internally works vs Thread Pool. Below is the code snippet for the same. Both are having single parallelism. Ideally it should behave same as Thread pool and it should not pick the task unless it finishes.\r\n\r\n    public class Sample {\r\n\r\n    public static void main(String[] args) {\r\n        // Use either ThreadPoolExecutor or ForkJoin.\r\n        //ThreadPoolExecutor pool = (ThreadPoolExecutor) Executors.newFixedThreadPool(1);\r\n        ForkJoinPool pool = new ForkJoinPool(1);\r\n        List&lt;Integer&gt; items = new ArrayList&lt;&gt;();\r\n        items.add(1);\r\n        items.add(2);\r\n        // Create 2 task and submit to thread pool. Wait for it to execute all the task.\r\n        pool.submit(() -&gt; {\r\n            try {\r\n                startProcessing(items.get(0));\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        pool.submit(() -&gt; {\r\n            try {\r\n                startProcessing(items.get(1));\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n\r\n        try {\r\n            pool.shutdown();\r\n            pool.awaitTermination(10, TimeUnit.SECONDS);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    private static void startProcessing(int itemVal) throws ExecutionException, InterruptedException {\r\n        doProcessing(itemVal).get();\r\n        System.out.println(&quot;Ended :&quot; + itemVal);\r\n    }\r\n\r\n    private static CompletableFuture&lt;Integer&gt; doProcessing(int itemVal) throws InterruptedException {\r\n        CompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;&gt;();\r\n        System.out.println(&quot;Started :&quot; + itemVal);\r\n        // I was assuming as this is waiting for child thread to also complete,\r\n        // so this thread will be waiting and hence will be waiting for task 1 untill it finishes.\r\n        // BUT IT GOT CONTEXT SWITCHED AND PICKED THE TASK 2.\r\n        asyncCall(future, itemVal);\r\n        return future;\r\n    }\r\n\r\n    // This is the place where new thread is created.\r\n    private static void asyncCall(CompletableFuture&lt;Integer&gt; future, int itemVal) {\r\n        Thread t = new Thread(() -&gt; {\r\n            try {\r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            future.complete(itemVal);\r\n        });\r\n        t.start();\r\n    }\r\n}\r\n\r\nBelow is the output if using Thread pool:\r\n\r\n    Started :1\r\n    Ended :1\r\n    Started :2\r\n    Ended :2\r\n\r\nAnd below is the output if using Fork Join:\r\n\r\n    Started :1\r\n    Started :2\r\n    Ended :1\r\n    Ended :2\r\n\r\n\r\n\r\n\r\n**Why is this difference in behavior for Fork Join compared to thread pool?**","title":"Forkjoin vs Threadpool difference","body":"<p>I am bit confused how Forkjoin internally works vs Thread Pool. Below is the code snippet for the same. Both are having single parallelism. Ideally it should behave same as Thread pool and it should not pick the task unless it finishes.</p>\n<pre><code>public class Sample {\n\npublic static void main(String[] args) {\n    // Use either ThreadPoolExecutor or ForkJoin.\n    //ThreadPoolExecutor pool = (ThreadPoolExecutor) Executors.newFixedThreadPool(1);\n    ForkJoinPool pool = new ForkJoinPool(1);\n    List&lt;Integer&gt; items = new ArrayList&lt;&gt;();\n    items.add(1);\n    items.add(2);\n    // Create 2 task and submit to thread pool. Wait for it to execute all the task.\n    pool.submit(() -&gt; {\n        try {\n            startProcessing(items.get(0));\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n    pool.submit(() -&gt; {\n        try {\n            startProcessing(items.get(1));\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n\n\n    try {\n        pool.shutdown();\n        pool.awaitTermination(10, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\nprivate static void startProcessing(int itemVal) throws ExecutionException, InterruptedException {\n    doProcessing(itemVal).get();\n    System.out.println(&quot;Ended :&quot; + itemVal);\n}\n\nprivate static CompletableFuture&lt;Integer&gt; doProcessing(int itemVal) throws InterruptedException {\n    CompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;&gt;();\n    System.out.println(&quot;Started :&quot; + itemVal);\n    // I was assuming as this is waiting for child thread to also complete,\n    // so this thread will be waiting and hence will be waiting for task 1 untill it finishes.\n    // BUT IT GOT CONTEXT SWITCHED AND PICKED THE TASK 2.\n    asyncCall(future, itemVal);\n    return future;\n}\n\n// This is the place where new thread is created.\nprivate static void asyncCall(CompletableFuture&lt;Integer&gt; future, int itemVal) {\n    Thread t = new Thread(() -&gt; {\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        future.complete(itemVal);\n    });\n    t.start();\n}\n</code></pre>\n<p>}</p>\n<p>Below is the output if using Thread pool:</p>\n<pre><code>Started :1\nEnded :1\nStarted :2\nEnded :2\n</code></pre>\n<p>And below is the output if using Fork Join:</p>\n<pre><code>Started :1\nStarted :2\nEnded :1\nEnded :2\n</code></pre>\n<p><strong>Why is this difference in behavior for Fork Join compared to thread pool?</strong></p>\n"},{"tags":["java","spring","kotlin","websocket"],"comments":[{"owner":{"account_id":16228527,"reputation":1535,"user_id":11718077,"display_name":"Anshul"},"score":0,"creation_date":1639989682,"post_id":70418738,"comment_id":124479546,"body_markdown":"More robust solution will be to use AMQP with spring, as messages can be lost with web-sockets","body":"More robust solution will be to use AMQP with spring, as messages can be lost with web-sockets"}],"answers":[{"tags":[],"owner":{"account_id":7455080,"reputation":941,"user_id":5668587,"accept_rate":67,"display_name":"kirill.login"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640073111,"creation_date":1639986200,"answer_id":70418739,"question_id":70418738,"body_markdown":"#### Configuration ####\r\nLet&#39;s configure Spring first. Spring uses a STOMP over Websocket protocol.\r\n\r\nAdd dependencies to `build.gradle.kts`\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-websocket&quot;)\r\n    implementation(&quot;org.springframework:spring-messaging&quot;)\r\n\r\nAdd a Websocket config\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    @EnableWebSocketMessageBroker\r\n    class WebsocketConfig(\r\n        private val websocketAuthInterceptor: WebsocketAuthInterceptor\r\n    ) : WebSocketMessageBrokerConfigurer {\r\n    \r\n        override fun configureMessageBroker(config: MessageBrokerRegistry) {\r\n            config.enableSimpleBroker(&quot;/queue/&quot;)\r\n            config.setUserDestinationPrefix(&quot;/user&quot;)\r\n        }\r\n    \r\n        override fun registerStompEndpoints(registry: StompEndpointRegistry) {\r\n            registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;)\r\n            registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS()\r\n        }\r\n    \r\n        override fun configureClientInboundChannel(registration: ChannelRegistration) {\r\n            registration.interceptors(websocketAuthInterceptor) // we&#39;ll talk later about this\r\n        }\r\n    }\r\n\r\n`registerStompEndpoints` is about how to establish connection with our websocket. The config allows frontend interact with us via `SockJS` of `Websocket` libraries. What they are and what the difference is not a today&#39;s topic\r\n\r\n`configureMessageBroker` is about how we will interact with the frontend after the connection established.\r\n\r\n`configureClientInboundChannel` is about message interception. Let talk about it later.\r\n\r\nAdd `/ws/**` path to ignored patterns in the Spring Security config.\r\n\r\n#### Connection establishing ####\r\nOn the frontend side it should looks something like that (JavaScript)\r\n\r\n    const socket = new WebSocket(&#39;ws://&lt;api.host&gt;/ws&#39;)\r\n    //const socket = new SockJS(&#39;http://&lt;api.host&gt;/ws&#39;) // alternative way\r\n    const headers = {Authorization: &#39;JWT token here&#39;};\r\n     \r\n    const stompClient = Stomp.over(socket, {headers});\r\n    stompClient.connect(\r\n        headers,\r\n        function (frame) {\r\n            stompClient.subscribe(&#39;/user/queue/notification&#39;, \r\n            function (message) { ...message processing... });\r\n        });\r\n\r\nThe key moment is to pass an authorization header. It is not a HTTP header. And initial HTTP handshake itself will not be authorized. This is the reason of adding `/ws/**` to ignored patterns.\r\nWe need the header and the token because we want to allow websocket connection only for authorized users and also we want to know which exactly user is connected. \r\n\r\n#### Authentication ####\r\nNow we are adding the authentication mechanism\r\n\r\n    @Component\r\n    class WebsocketAuthInterceptor(\r\n        private val authService: AuthService, //your implementation\r\n        private val sessionStore: WebsocketUserSessionStore\r\n    ) : ChannelInterceptor {\r\n    \r\n        override fun preSend(message: Message&lt;*&gt;, channel: MessageChannel): Message&lt;*&gt;? {\r\n            val accessor: StompHeaderAccessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor::class.java)\r\n            val sessionId: String = accessor.messageHeaders[&quot;simpSessionId&quot;].toString()\r\n    \r\n            if (StompCommand.CONNECT == accessor.command) {\r\n                val jwtToken: String = accessor.getFirstNativeHeader(&quot;Authorization&quot;)\r\n                val token: AccessToken = authService.verifyToken(jwtToken)\r\n                val userId: Long = token.otherClaims[&quot;user_id&quot;].toString().toLong()\r\n                sessionStore.add(sessionId, userId)\r\n            } else if (StompCommand.DISCONNECT == accessor.command) {\r\n                sessionStore.remove(sessionId)\r\n            }\r\n            return message\r\n        }\r\n    }\r\n\r\nThe point is to link a random generating websocket session ID with a user ID from our Spring Security store and persist that pair during the session life. JWT token should be parsed from the message headers. \r\n\r\nThen by the given token a user ID should be obtained. Implementation of that part depends on what Spring Security config you exactly have. In case of Keycloack there is a useful static method `org.keycloak.adapters.rotation.AdapterTokenVerifier::verifyToken`\r\n\r\n`WebsocketUserSessionStore` is just a map for linking `session_id` with `user_id` It may looks like the following code. Remember the concurrent access of course\r\n\r\n    @Component\r\n    class WebsocketUserSessionStore {\r\n        private val lock = ReentrantLock()\r\n        private val store = HashMap&lt;String, Long&gt;()\r\n\r\n        fun add(sessionId: String, userId: Long) = lock.withLock {\r\n            store.compute(sessionId) { _, _ -&gt; userId }\r\n        }\r\n    \r\n        fun remove(sessionId: String) = lock.withLock {\r\n            store.remove(sessionId)\r\n        }\r\n    \r\n        fun remove(userId: Long) = lock.withLock {\r\n            store.values.remove(userId)\r\n        }\r\n    }\r\n\r\n#### Notification actually ####\r\nSo event A was raised somewhere inside business logic. Let&#39;s implement a websocket publisher.\r\n\r\n    @Component\r\n    class WebsocketPublisher(\r\n        private val messagingTemplate: SimpMessagingTemplate,\r\n        private val objectMapper: ObjectMapper,\r\n        private val sessionStore: WebsocketUserSessionStore,\r\n        private val userNotificationRepository: UserNotificationRepository\r\n    ) {\r\n        suspend fun publish(eventType: EventType, eventData: Any) {\r\n            val userIds = userNotificationRepository.getUserSubscribedTo(eventType)\r\n            val sessionIds = sessionStore.getSessionIds(userIds)\r\n    \r\n            sessionIds.forEach {\r\n                messagingTemplate.convertAndSendToUser(\r\n                    it,\r\n                    &quot;/queue/notification&quot;,\r\n                    objectMapper.writeValueAsString(eventData),\r\n                    it.toMessageHeaders()\r\n                )\r\n            }\r\n        }\r\n    \r\n        private fun String.toMessageHeaders(): MessageHeaders {\r\n            val headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE)\r\n            headerAccessor.sessionId = this\r\n            headerAccessor.setLeaveMutable(true)\r\n            return headerAccessor.messageHeaders\r\n        }\r\n    }\r\n\r\n`EventType` is an enumeration of event types the system has.\r\n\r\n`UserNotificationRepository` is just a part of data persistence layer (Hibernate|JOOQ repository, MyBatis mapper or smth). Function `getUserSubscribedTo` should do something like `select user_id from user_subscription where event_type_id = X`.\r\n\r\nThe rest of code is plenty straightforward. By the giving userIds it is possible to obtain living websocket sessions. Then for every session `convertAndSendToUser` function should be called. \r\n","title":"How to build a push-notifications service with Spring and Websocket","body":"<h4>Configuration</h4>\n<p>Let's configure Spring first. Spring uses a STOMP over Websocket protocol.</p>\n<p>Add dependencies to <code>build.gradle.kts</code></p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-websocket&quot;)\nimplementation(&quot;org.springframework:spring-messaging&quot;)\n</code></pre>\n<p>Add a Websocket config</p>\n<pre><code>@Configuration\n@EnableWebSocket\n@EnableWebSocketMessageBroker\nclass WebsocketConfig(\n    private val websocketAuthInterceptor: WebsocketAuthInterceptor\n) : WebSocketMessageBrokerConfigurer {\n\n    override fun configureMessageBroker(config: MessageBrokerRegistry) {\n        config.enableSimpleBroker(&quot;/queue/&quot;)\n        config.setUserDestinationPrefix(&quot;/user&quot;)\n    }\n\n    override fun registerStompEndpoints(registry: StompEndpointRegistry) {\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;)\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS()\n    }\n\n    override fun configureClientInboundChannel(registration: ChannelRegistration) {\n        registration.interceptors(websocketAuthInterceptor) // we'll talk later about this\n    }\n}\n</code></pre>\n<p><code>registerStompEndpoints</code> is about how to establish connection with our websocket. The config allows frontend interact with us via <code>SockJS</code> of <code>Websocket</code> libraries. What they are and what the difference is not a today's topic</p>\n<p><code>configureMessageBroker</code> is about how we will interact with the frontend after the connection established.</p>\n<p><code>configureClientInboundChannel</code> is about message interception. Let talk about it later.</p>\n<p>Add <code>/ws/**</code> path to ignored patterns in the Spring Security config.</p>\n<h4>Connection establishing</h4>\n<p>On the frontend side it should looks something like that (JavaScript)</p>\n<pre><code>const socket = new WebSocket('ws://&lt;api.host&gt;/ws')\n//const socket = new SockJS('http://&lt;api.host&gt;/ws') // alternative way\nconst headers = {Authorization: 'JWT token here'};\n \nconst stompClient = Stomp.over(socket, {headers});\nstompClient.connect(\n    headers,\n    function (frame) {\n        stompClient.subscribe('/user/queue/notification', \n        function (message) { ...message processing... });\n    });\n</code></pre>\n<p>The key moment is to pass an authorization header. It is not a HTTP header. And initial HTTP handshake itself will not be authorized. This is the reason of adding <code>/ws/**</code> to ignored patterns.\nWe need the header and the token because we want to allow websocket connection only for authorized users and also we want to know which exactly user is connected.</p>\n<h4>Authentication</h4>\n<p>Now we are adding the authentication mechanism</p>\n<pre><code>@Component\nclass WebsocketAuthInterceptor(\n    private val authService: AuthService, //your implementation\n    private val sessionStore: WebsocketUserSessionStore\n) : ChannelInterceptor {\n\n    override fun preSend(message: Message&lt;*&gt;, channel: MessageChannel): Message&lt;*&gt;? {\n        val accessor: StompHeaderAccessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor::class.java)\n        val sessionId: String = accessor.messageHeaders[&quot;simpSessionId&quot;].toString()\n\n        if (StompCommand.CONNECT == accessor.command) {\n            val jwtToken: String = accessor.getFirstNativeHeader(&quot;Authorization&quot;)\n            val token: AccessToken = authService.verifyToken(jwtToken)\n            val userId: Long = token.otherClaims[&quot;user_id&quot;].toString().toLong()\n            sessionStore.add(sessionId, userId)\n        } else if (StompCommand.DISCONNECT == accessor.command) {\n            sessionStore.remove(sessionId)\n        }\n        return message\n    }\n}\n</code></pre>\n<p>The point is to link a random generating websocket session ID with a user ID from our Spring Security store and persist that pair during the session life. JWT token should be parsed from the message headers.</p>\n<p>Then by the given token a user ID should be obtained. Implementation of that part depends on what Spring Security config you exactly have. In case of Keycloack there is a useful static method <code>org.keycloak.adapters.rotation.AdapterTokenVerifier::verifyToken</code></p>\n<p><code>WebsocketUserSessionStore</code> is just a map for linking <code>session_id</code> with <code>user_id</code> It may looks like the following code. Remember the concurrent access of course</p>\n<pre><code>@Component\nclass WebsocketUserSessionStore {\n    private val lock = ReentrantLock()\n    private val store = HashMap&lt;String, Long&gt;()\n\n    fun add(sessionId: String, userId: Long) = lock.withLock {\n        store.compute(sessionId) { _, _ -&gt; userId }\n    }\n\n    fun remove(sessionId: String) = lock.withLock {\n        store.remove(sessionId)\n    }\n\n    fun remove(userId: Long) = lock.withLock {\n        store.values.remove(userId)\n    }\n}\n</code></pre>\n<h4>Notification actually</h4>\n<p>So event A was raised somewhere inside business logic. Let's implement a websocket publisher.</p>\n<pre><code>@Component\nclass WebsocketPublisher(\n    private val messagingTemplate: SimpMessagingTemplate,\n    private val objectMapper: ObjectMapper,\n    private val sessionStore: WebsocketUserSessionStore,\n    private val userNotificationRepository: UserNotificationRepository\n) {\n    suspend fun publish(eventType: EventType, eventData: Any) {\n        val userIds = userNotificationRepository.getUserSubscribedTo(eventType)\n        val sessionIds = sessionStore.getSessionIds(userIds)\n\n        sessionIds.forEach {\n            messagingTemplate.convertAndSendToUser(\n                it,\n                &quot;/queue/notification&quot;,\n                objectMapper.writeValueAsString(eventData),\n                it.toMessageHeaders()\n            )\n        }\n    }\n\n    private fun String.toMessageHeaders(): MessageHeaders {\n        val headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE)\n        headerAccessor.sessionId = this\n        headerAccessor.setLeaveMutable(true)\n        return headerAccessor.messageHeaders\n    }\n}\n</code></pre>\n<p><code>EventType</code> is an enumeration of event types the system has.</p>\n<p><code>UserNotificationRepository</code> is just a part of data persistence layer (Hibernate|JOOQ repository, MyBatis mapper or smth). Function <code>getUserSubscribedTo</code> should do something like <code>select user_id from user_subscription where event_type_id = X</code>.</p>\n<p>The rest of code is plenty straightforward. By the giving userIds it is possible to obtain living websocket sessions. Then for every session <code>convertAndSendToUser</code> function should be called.</p>\n"},{"tags":[],"owner":{"account_id":1168163,"reputation":1543,"user_id":1145976,"accept_rate":97,"display_name":"shanwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671952582,"creation_date":1671952582,"answer_id":74911997,"question_id":70418738,"body_markdown":"I think they have [the tutorial](https://www.baeldung.com/spring-boot-scheduled-websocket) to build the WebSocket push-notification service.","title":"How to build a push-notifications service with Spring and Websocket","body":"<p>I think they have <a href=\"https://www.baeldung.com/spring-boot-scheduled-websocket\" rel=\"nofollow noreferrer\">the tutorial</a> to build the WebSocket push-notification service.</p>\n"}],"owner":{"account_id":7455080,"reputation":941,"user_id":5668587,"accept_rate":67,"display_name":"kirill.login"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671952582,"creation_date":1639986200,"question_id":70418738,"body_markdown":"#### What we have on start ####\r\n\r\nLet&#39;s say there is a simple Spring Boot application which provides an API for some frontend. Tech stack is quite regular: `Kotlin`, `Gradle`, `Spring WebMVC`, `PostgreSQL`, `Keycloak`.\r\nThe frontend interacts with the app synchronously via HTTP. Client authenticates with JWT token.\r\n\r\n#### The business task ####\r\nThere is a list of events that could be raised somewhere in the system. User should be notified about them.\r\n\r\nUser is able to subscribe to one or more event notification. Subscriptions is just a pair of `user_id + event_type_id` persisted in dedicated Postgres table.\r\n\r\nWhen event X is being raised we should find all the users subscribed to it and send them some data via `Websocket`","title":"How to build a push-notifications service with Spring and Websocket","body":"<h4>What we have on start</h4>\n<p>Let's say there is a simple Spring Boot application which provides an API for some frontend. Tech stack is quite regular: <code>Kotlin</code>, <code>Gradle</code>, <code>Spring WebMVC</code>, <code>PostgreSQL</code>, <code>Keycloak</code>.\nThe frontend interacts with the app synchronously via HTTP. Client authenticates with JWT token.</p>\n<h4>The business task</h4>\n<p>There is a list of events that could be raised somewhere in the system. User should be notified about them.</p>\n<p>User is able to subscribe to one or more event notification. Subscriptions is just a pair of <code>user_id + event_type_id</code> persisted in dedicated Postgres table.</p>\n<p>When event X is being raised we should find all the users subscribed to it and send them some data via <code>Websocket</code></p>\n"},{"tags":["java","resources","classloader"],"answers":[{"comments":[{"owner":{"account_id":23444,"reputation":1505,"user_id":58781,"display_name":"Mantrum"},"score":1,"creation_date":1237867364,"post_id":676102,"comment_id":489593,"body_markdown":"Thanks for your response. I know about getResourceAsStream, but I don&#39;t think I can load a directory from the classpath through that.","body":"Thanks for your response. I know about getResourceAsStream, but I don&#39;t think I can load a directory from the classpath through that."},{"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"score":0,"creation_date":1237868707,"post_id":676102,"comment_id":489622,"body_markdown":"In Java directory is a file (UNIX roots I guess) so you should at least try.","body":"In Java directory is a file (UNIX roots I guess) so you should at least try."},{"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"score":0,"creation_date":1237869085,"post_id":676102,"comment_id":489635,"body_markdown":"I think to list files in a directory you are going to need to use java.io.File.  You can look up files with the ClassLoader.findResource which returns a URL that can be passed to File.","body":"I think to list files in a directory you are going to need to use java.io.File.  You can look up files with the ClassLoader.findResource which returns a URL that can be passed to File."}],"tags":[],"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278457508,"creation_date":1237866456,"answer_id":676102,"question_id":676097,"body_markdown":"Try this:\r\n\r\n    ClassLoader.getResourceAsStream (&quot;some/pkg/resource.properties&quot;);\r\n\r\nThere are more methods available, e.g. see here: \r\nhttp://www.javaworld.com/javaworld/javaqa/2003-08/01-qa-0808-property.html\r\n","title":"Java resource as File","body":"<p>Try this:</p>\n\n<pre><code>ClassLoader.getResourceAsStream (\"some/pkg/resource.properties\");\n</code></pre>\n\n<p>There are more methods available, e.g. see here: \n<a href=\"http://www.javaworld.com/javaworld/javaqa/2003-08/01-qa-0808-property.html\" rel=\"nofollow noreferrer\">http://www.javaworld.com/javaworld/javaqa/2003-08/01-qa-0808-property.html</a></p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1237915080,"post_id":676419,"comment_id":491577,"body_markdown":"I agree it&#39;s annoying - but it makes ClassLoader more widely applicable in other ways. For instance, it&#39;s easy to write a &quot;web classloader&quot; because the web is good for fetching files, but it doesn&#39;t typically *list* files.","body":"I agree it&#39;s annoying - but it makes ClassLoader more widely applicable in other ways. For instance, it&#39;s easy to write a &quot;web classloader&quot; because the web is good for fetching files, but it doesn&#39;t typically <i>list</i> files."},{"owner":{"account_id":2111055,"reputation":1435,"user_id":1876344,"accept_rate":96,"display_name":"mgttlinger"},"score":0,"creation_date":1441982732,"post_id":676419,"comment_id":52910282,"body_markdown":"It seems like if the resource you are trying to load is much bigger than 1MiB the `InputStream` you get from `getResourceAsStream` stops to retrieve the bytes of the resource after that size and instead returns 0 iff it is contained in a compressed filesystem like a jar. You seem to be forced to use `getResource` and load the file independently from this in that case.","body":"It seems like if the resource you are trying to load is much bigger than 1MiB the <code>InputStream</code> you get from <code>getResourceAsStream</code> stops to retrieve the bytes of the resource after that size and instead returns 0 iff it is contained in a compressed filesystem like a jar. You seem to be forced to use <code>getResource</code> and load the file independently from this in that case."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1441982928,"post_id":676419,"comment_id":52910419,"body_markdown":"@mgttlinger: That sounds unlikely to me... probably worth posting a new question with a repro if you can.","body":"@mgttlinger: That sounds unlikely to me... probably worth posting a new question with a repro if you can."},{"owner":{"account_id":2111055,"reputation":1435,"user_id":1876344,"accept_rate":96,"display_name":"mgttlinger"},"score":0,"creation_date":1442479910,"post_id":676419,"comment_id":53102161,"body_markdown":"The issue was due to the `read` method deciding how much data to read (I wasn&#39;t aware of that). And it seems that the whole file is read if the file being read is located in a regular folder. If the file is within a jar because it has been packaged it reads only parts of it.","body":"The issue was due to the <code>read</code> method deciding how much data to read (I wasn&#39;t aware of that). And it seems that the whole file is read if the file being read is located in a regular folder. If the file is within a jar because it has been packaged it reads only parts of it."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1442480091,"post_id":676419,"comment_id":53102262,"body_markdown":"@mgttlinger: No, it won&#39;t only read parts of it - but it might not fill the whole buffer provided on every read call. As always with `InputStream`, if you want to read the whole resource, you should loop until `read` returns -1.","body":"@mgttlinger: No, it won&#39;t only read parts of it - but it might not fill the whole buffer provided on every read call. As always with <code>InputStream</code>, if you want to read the whole resource, you should loop until <code>read</code> returns -1."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":1,"up_vote_count":62,"is_accepted":true,"score":61,"last_activity_date":1237879137,"creation_date":1237879137,"answer_id":676419,"question_id":676097,"body_markdown":"`ClassLoader.getResourceAsStream` and `Class.getResourceAsStream` are definitely the way to go for loading the resource data. However, I don&#39;t believe there&#39;s any way of &quot;listing&quot; the contents of an element of the classpath.\r\n\r\nIn some cases this may be simply impossible - for instance, a `ClassLoader` *could* generate data on the fly, based on what resource name it&#39;s asked for. If you look at the `ClassLoader` API (which is basically what the classpath mechanism works through) you&#39;ll see there isn&#39;t anything to do what you want.\r\n\r\nIf you know you&#39;ve actually got a jar file, you could load that with `ZipInputStream` to find out what&#39;s available. It will mean you&#39;ll have different code for directories and jar files though.\r\n\r\nOne alternative, if the files are created separately first, is to include a sort of manifest file containing the list of available resources. Bundle that in the jar file or include it in the file system as a file, and load it before offering the user a choice of resources.","title":"Java resource as File","body":"<p><code>ClassLoader.getResourceAsStream</code> and <code>Class.getResourceAsStream</code> are definitely the way to go for loading the resource data. However, I don't believe there's any way of \"listing\" the contents of an element of the classpath.</p>\n\n<p>In some cases this may be simply impossible - for instance, a <code>ClassLoader</code> <em>could</em> generate data on the fly, based on what resource name it's asked for. If you look at the <code>ClassLoader</code> API (which is basically what the classpath mechanism works through) you'll see there isn't anything to do what you want.</p>\n\n<p>If you know you've actually got a jar file, you could load that with <code>ZipInputStream</code> to find out what's available. It will mean you'll have different code for directories and jar files though.</p>\n\n<p>One alternative, if the files are created separately first, is to include a sort of manifest file containing the list of available resources. Bundle that in the jar file or include it in the file system as a file, and load it before offering the user a choice of resources.</p>\n"},{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":50,"creation_date":1319554731,"post_id":1089408,"comment_id":9631734,"body_markdown":"This approach doesn&#39;t work with JARs in classpath, only with files and directories","body":"This approach doesn&#39;t work with JARs in classpath, only with files and directories"},{"owner":{"account_id":2111055,"reputation":1435,"user_id":1876344,"accept_rate":96,"display_name":"mgttlinger"},"score":2,"creation_date":1442480366,"post_id":1089408,"comment_id":53102426,"body_markdown":"@yegor256 If your file is in a jar you can create a `FileSystem` object and get the `Path` from that. Then you can read it like usual. (see http://stackoverflow.com/a/22605905/1876344)","body":"@yegor256 If your file is in a jar you can create a <code>FileSystem</code> object and get the <code>Path</code> from that. Then you can read it like usual. (see <a href=\"http://stackoverflow.com/a/22605905/1876344\">stackoverflow.com/a/22605905/1876344</a>)"}],"tags":[],"owner":{"account_id":1064,"reputation":55491,"user_id":1412,"accept_rate":60,"display_name":"Chris Conway"},"comment_count":2,"down_vote_count":4,"up_vote_count":113,"is_accepted":false,"score":109,"last_activity_date":1246917766,"creation_date":1246917766,"answer_id":1089408,"question_id":676097,"body_markdown":"I had the same problem and was able to use the following:\r\n\r\n    // Load the directory as a resource\r\n    URL dir_url = ClassLoader.getSystemResource(dir_path);\r\n    // Turn the resource into a File object\r\n    File dir = new File(dir_url.toURI());\r\n    // List the directory\r\n    String files = dir.list()","title":"Java resource as File","body":"<p>I had the same problem and was able to use the following:</p>\n\n<pre><code>// Load the directory as a resource\nURL dir_url = ClassLoader.getSystemResource(dir_path);\n// Turn the resource into a File object\nFile dir = new File(dir_url.toURI());\n// List the directory\nString files = dir.list()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"score":6,"creation_date":1430420685,"post_id":2759396,"comment_id":48071207,"body_markdown":"Whilst this link may answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference, as a link may change or the linked page may be removed, thereby making the answer useless.","body":"Whilst this link may answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference, as a link may change or the linked page may be removed, thereby making the answer useless."}],"tags":[],"owner":{"account_id":610986,"reputation":21,"user_id":331579,"display_name":"Fish"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272902770,"creation_date":1272902770,"answer_id":2759396,"question_id":676097,"body_markdown":"This is one option: http://www.uofr.net/~greg/java/get-resource-listing.html","title":"Java resource as File","body":"<p>This is one option: <a href=\"http://www.uofr.net/~greg/java/get-resource-listing.html\" rel=\"nofollow noreferrer\">http://www.uofr.net/~greg/java/get-resource-listing.html</a></p>\n"},{"comments":[{"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"score":0,"creation_date":1559814472,"post_id":5643787,"comment_id":99540305,"body_markdown":"Yes ist does, but `toURI()` will fail.","body":"Yes ist does, but <code>toURI()</code> will fail."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1625149731,"post_id":5643787,"comment_id":120556094,"body_markdown":"This will fail if the resource is in a JAR file (on the classpath)","body":"This will fail if the resource is in a JAR file (on the classpath)"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1699365612,"post_id":5643787,"comment_id":136520487,"body_markdown":"To be specific: If the resource is in a different JAR file than the code thats executing it.","body":"To be specific: If the resource is in a different JAR file than the code thats executing it."}],"tags":[],"owner":{"account_id":362132,"reputation":595,"user_id":705169,"display_name":"Maurice Rogers"},"comment_count":3,"down_vote_count":3,"up_vote_count":60,"is_accepted":false,"score":57,"last_activity_date":1671951614,"creation_date":1302662035,"answer_id":5643787,"question_id":676097,"body_markdown":"Here is a bit of code from one of my applications...\r\nLet me know if it suits your needs. \r\nYou can use this if you know the file you want to use. \r\n\r\n    URL defaultImage = ClassA.class.getResource(&quot;/packageA/subPackage/image-name.png&quot;);\r\n    File imageFile = new File(defaultImage.toURI());","title":"Java resource as File","body":"<p>Here is a bit of code from one of my applications...\nLet me know if it suits your needs.\nYou can use this if you know the file you want to use.</p>\n<pre><code>URL defaultImage = ClassA.class.getResource(&quot;/packageA/subPackage/image-name.png&quot;);\nFile imageFile = new File(defaultImage.toURI());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5801359,"reputation":544,"user_id":4575433,"display_name":"Lukas Masuch"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1455736520,"creation_date":1455736520,"answer_id":35465681,"question_id":676097,"body_markdown":"A reliable way to construct a File instance on a resource retrieved from a jar is it to copy the resource as a stream into a temporary File (the temp file will be deleted when the JVM exits):\r\n\r\n    public static File getResourceAsFile(String resourcePath) {\r\n        try {\r\n            InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(resourcePath);\r\n            if (in == null) {\r\n                return null;\r\n            }\r\n\r\n            File tempFile = File.createTempFile(String.valueOf(in.hashCode()), &quot;.tmp&quot;);\r\n            tempFile.deleteOnExit();\r\n\r\n            try (FileOutputStream out = new FileOutputStream(tempFile)) {\r\n                //copy stream\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n                while ((bytesRead = in.read(buffer)) != -1) {\r\n                    out.write(buffer, 0, bytesRead);\r\n                }\r\n            }\r\n            return tempFile;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"Java resource as File","body":"<p>A reliable way to construct a File instance on a resource retrieved from a jar is it to copy the resource as a stream into a temporary File (the temp file will be deleted when the JVM exits):</p>\n\n<pre><code>public static File getResourceAsFile(String resourcePath) {\n    try {\n        InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(resourcePath);\n        if (in == null) {\n            return null;\n        }\n\n        File tempFile = File.createTempFile(String.valueOf(in.hashCode()), \".tmp\");\n        tempFile.deleteOnExit();\n\n        try (FileOutputStream out = new FileOutputStream(tempFile)) {\n            //copy stream\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = in.read(buffer)) != -1) {\n                out.write(buffer, 0, bytesRead);\n            }\n        }\n        return tempFile;\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23444,"reputation":1505,"user_id":58781,"display_name":"Mantrum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201357,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":676419,"answer_count":6,"score":131,"last_activity_date":1671951614,"creation_date":1237866198,"question_id":676097,"body_markdown":"Is there a way in Java to construct a `File` instance on a resource retrieved from a jar through the classloader?\r\n\r\nMy application uses some files from the jar (default) or from a filesystem directory specified at runtime (user input). I&#39;m looking for a consistent way of&lt;br /&gt;\r\na) loading these files as a stream&lt;br /&gt;\r\nb) listing the files in the user-defined directory or the directory in the jar respectively\r\n\r\nEdit: Apparently, the ideal approach would be to stay away from `java.io.File` altogether. Is there a way to load a directory from the classpath and list its contents (files/entities contained in it)?","title":"Java resource as File","body":"<p>Is there a way in Java to construct a <code>File</code> instance on a resource retrieved from a jar through the classloader?</p>\n<p>My application uses some files from the jar (default) or from a filesystem directory specified at runtime (user input). I'm looking for a consistent way of<br />\na) loading these files as a stream<br />\nb) listing the files in the user-defined directory or the directory in the jar respectively</p>\n<p>Edit: Apparently, the ideal approach would be to stay away from <code>java.io.File</code> altogether. Is there a way to load a directory from the classpath and list its contents (files/entities contained in it)?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":27342254,"reputation":1,"user_id":20852712,"display_name":"Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671950689,"creation_date":1671933355,"question_id":74911202,"body_markdown":"`When I started using stripe payments, I followed the code of the stripe documentation.`\r\n\r\n`But when running here it directly causes a crash, the same every time.`\r\n\r\n[paymentSheet](https://i.stack.imgur.com/kdOr3.png)\r\n\r\n[paymentSheet.presentWithPaymentIntent(paymentIntentClientSecret, configuration)](https://i.stack.imgur.com/qQ6Vk.png)\r\n\r\n**This is the crash info:**\r\n\r\n```\r\n2022-12-25 09:45:08.578 28671-28671/com.PangolinNetworkTechnologyCo.friskymeets E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.PangolinNetworkTechnologyCo.friskymeets, PID: 28671\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.PangolinNetworkTechnologyCo.friskymeets/com.stripe.android.paymentsheet.PaymentSheetActivity}: java.lang.IllegalArgumentException: Required value was null.\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3311)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:224)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7590)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n     Caused by: java.lang.IllegalArgumentException: Required value was null.\r\n        at com.stripe.android.utils.CreationExtrasKtxKt.requireApplication(CreationExtrasKtx.kt:12)\r\n        at com.stripe.android.paymentsheet.PaymentSheetViewModel$Factory.create(PaymentSheetViewModel.kt:608)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\r\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.getViewModel(PaymentSheetActivity.kt:49)\r\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.getViewModel(PaymentSheetActivity.kt:38)\r\n        at com.stripe.android.paymentsheet.ui.BaseSheetActivity.onCreate(BaseSheetActivity.kt:128)\r\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.onCreate(PaymentSheetActivity.kt:87)\r\n        at android.app.Activity.performCreate(Activity.java:7893)\r\n        at android.app.Activity.performCreate(Activity.java:7880)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3286)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:224)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7590)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)&#160;\r\n2022-12-25 09:45:11.789 28868-28868/? E/yCo.friskymeet: Unknown bits set in runtime_flags: 0x8000\r\n```\r\n\r\n\r\n**I tried this repeatedly reading the document, but all with the same result.\r\nI use java.**\r\n\r\nhttps://stripe.com/docs/payments/accept-a-payment\r\n\r\n# Thank you!","title":"Android Stripe Payment ：open &quot;PaymentSheetActivity&quot; ERROR(Java)","body":"<p><code>When I started using stripe payments, I followed the code of the stripe documentation.</code></p>\n<p><code>But when running here it directly causes a crash, the same every time.</code></p>\n<p><a href=\"https://i.stack.imgur.com/kdOr3.png\" rel=\"nofollow noreferrer\">paymentSheet</a></p>\n<p><a href=\"https://i.stack.imgur.com/qQ6Vk.png\" rel=\"nofollow noreferrer\">paymentSheet.presentWithPaymentIntent(paymentIntentClientSecret, configuration)</a></p>\n<p><strong>This is the crash info:</strong></p>\n<pre><code>2022-12-25 09:45:08.578 28671-28671/com.PangolinNetworkTechnologyCo.friskymeets E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.PangolinNetworkTechnologyCo.friskymeets, PID: 28671\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.PangolinNetworkTechnologyCo.friskymeets/com.stripe.android.paymentsheet.PaymentSheetActivity}: java.lang.IllegalArgumentException: Required value was null.\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3311)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:224)\n        at android.app.ActivityThread.main(ActivityThread.java:7590)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n     Caused by: java.lang.IllegalArgumentException: Required value was null.\n        at com.stripe.android.utils.CreationExtrasKtxKt.requireApplication(CreationExtrasKtx.kt:12)\n        at com.stripe.android.paymentsheet.PaymentSheetViewModel$Factory.create(PaymentSheetViewModel.kt:608)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.getViewModel(PaymentSheetActivity.kt:49)\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.getViewModel(PaymentSheetActivity.kt:38)\n        at com.stripe.android.paymentsheet.ui.BaseSheetActivity.onCreate(BaseSheetActivity.kt:128)\n        at com.stripe.android.paymentsheet.PaymentSheetActivity.onCreate(PaymentSheetActivity.kt:87)\n        at android.app.Activity.performCreate(Activity.java:7893)\n        at android.app.Activity.performCreate(Activity.java:7880)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3286)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:224) \n        at android.app.ActivityThread.main(ActivityThread.java:7590) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950) \n2022-12-25 09:45:11.789 28868-28868/? E/yCo.friskymeet: Unknown bits set in runtime_flags: 0x8000\n</code></pre>\n<p><strong>I tried this repeatedly reading the document, but all with the same result.\nI use java.</strong></p>\n<p><a href=\"https://stripe.com/docs/payments/accept-a-payment\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/accept-a-payment</a></p>\n<h1>Thank you!</h1>\n"},{"tags":["java","datetime","java-8"],"comments":[{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":1,"creation_date":1616018783,"post_id":27340650,"comment_id":117875819,"body_markdown":"There is a handy conversion chart in this answer to a related question:  https://stackoverflow.com/a/36639155/292728","body":"There is a handy conversion chart in this answer to a related question:  <a href=\"https://stackoverflow.com/a/36639155/292728\">stackoverflow.com/a/36639155/292728</a>"}],"answers":[{"comments":[{"owner":{"account_id":3652419,"reputation":2368,"user_id":3044206,"accept_rate":80,"display_name":"Connorelsea"},"score":0,"creation_date":1417938879,"post_id":27340773,"comment_id":43137520,"body_markdown":"Ah. Well then I was misunderstanding a lot about the classes themselves. I am trying to store the start and end time of an event in a calendar as two instances. then make a duration from those instances. What should I do instead? How should I go about storing that information using the Java 8 Time classes. And also I am not sure I understand Temporal Accessors from the explanation given by the Oracle tutorials. Where could I go to learn that in a better fashion?","body":"Ah. Well then I was misunderstanding a lot about the classes themselves. I am trying to store the start and end time of an event in a calendar as two instances. then make a duration from those instances. What should I do instead? How should I go about storing that information using the Java 8 Time classes. And also I am not sure I understand Temporal Accessors from the explanation given by the Oracle tutorials. Where could I go to learn that in a better fashion?"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":3,"creation_date":1417940344,"post_id":27340773,"comment_id":43137735,"body_markdown":"@Connorelsea I&#39;m not an expert, I find the new java.time API incredibly confusing too. I&#39;d think storing instants would be better and only use LocalTime for when you actually need to display to the user (in a given time zone).","body":"@Connorelsea I&#39;m not an expert, I find the new java.time API incredibly confusing too. I&#39;d think storing instants would be better and only use LocalTime for when you actually need to display to the user (in a given time zone)."},{"owner":{"account_id":6623046,"reputation":1185,"user_id":5114081,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1488462002,"post_id":27340773,"comment_id":72248307,"body_markdown":"Actually, LocalTime does not include a time zone. Its javadoc states: &quot;This class does not store or represent a date or time-zone. Instead, it is a description of the local time as seen on a wall clock.&quot; Afaik, an Instant has no concept like hour of the day, but only seconds since the epoch. That&#39;s why you first have to create a ZonedDateTime from that instant.","body":"Actually, LocalTime does not include a time zone. Its javadoc states: &quot;This class does not store or represent a date or time-zone. Instead, it is a description of the local time as seen on a wall clock.&quot; Afaik, an Instant has no concept like hour of the day, but only seconds since the epoch. That&#39;s why you first have to create a ZonedDateTime from that instant."},{"owner":{"account_id":160823,"reputation":3550,"user_id":381161,"display_name":"Malcolm Smith"},"score":0,"creation_date":1615995928,"post_id":27340773,"comment_id":117866081,"body_markdown":"LocalTime is not associated with a timezone! Please remove this misleading statement from your answer. It is a simple representation of time for use cases where you do not need to consider timezones.","body":"LocalTime is not associated with a timezone! Please remove this misleading statement from your answer. It is a simple representation of time for use cases where you do not need to consider timezones."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1616017771,"post_id":27340773,"comment_id":117875503,"body_markdown":"The classes are just about completely different things. `Instant` is a moment in time. A snapshot, for example the moment the second world war ended. It is not really talking about times or dates specifically, it is just a snapshot of a moment. `LocalTime` is about the concept of time. For example if I am saying _&quot;I like to get up at 8 am&quot;_, this has nothing to do with the actual time of a day or anything. Similar for `LocalDate`, when I am saying that christmas is at the 25th December. It is just about the concept of dates, not about real dates.","body":"The classes are just about completely different things. <code>Instant</code> is a moment in time. A snapshot, for example the moment the second world war ended. It is not really talking about times or dates specifically, it is just a snapshot of a moment. <code>LocalTime</code> is about the concept of time. For example if I am saying <i>&quot;I like to get up at 8 am&quot;</i>, this has nothing to do with the actual time of a day or anything. Similar for <code>LocalDate</code>, when I am saying that christmas is at the 25th December. It is just about the concept of dates, not about real dates."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1616017998,"post_id":27340773,"comment_id":117875572,"body_markdown":"That said, getting the time of an `Instant` makes no sense, it is lacking the information of _where_. The moment second world war ended was a completely different time and also date for people all over the world. So the correct way would be to apply a zone to the `Instant` first to get a `ZonedDateTime` and then to extract the time information to construct a `LocalTime` object, if that is really necessary (to me it smells like `LocalTime` is used incorrectly here in the first place).","body":"That said, getting the time of an <code>Instant</code> makes no sense, it is lacking the information of <i>where</i>. The moment second world war ended was a completely different time and also date for people all over the world. So the correct way would be to apply a zone to the <code>Instant</code> first to get a <code>ZonedDateTime</code> and then to extract the time information to construct a <code>LocalTime</code> object, if that is really necessary (to me it smells like <code>LocalTime</code> is used incorrectly here in the first place)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651423165,"post_id":27340773,"comment_id":127356905,"body_markdown":"Regarding calendars, no, do *not* use `Instant`. A future appointment at say 3 PM may not land on the same moment as it does now after politicians change the rules of the time zone(s) under their jurisdiction. And change the rules they will, with surprising frequency, around the world. If you use `Instant`, that 3 PM appointment will later appear as something like 2 PM. I have already posted on this extensively. Search for my name and the words appointment, LocalDateTime, ZoneId, ZonedDateTime.","body":"Regarding calendars, no, do <i>not</i> use <code>Instant</code>. A future appointment at say 3 PM may not land on the same moment as it does now after politicians change the rules of the time zone(s) under their jurisdiction. And change the rules they will, with surprising frequency, around the world. If you use <code>Instant</code>, that 3 PM appointment will later appear as something like 2 PM. I have already posted on this extensively. Search for my name and the words appointment, LocalDateTime, ZoneId, ZonedDateTime."}],"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":7,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1616016966,"creation_date":1417938620,"answer_id":27340773,"question_id":27340650,"body_markdown":"The way I understand it... Instant is a UTC style time, agnostic of zone always UTC. LocalTime is a time independent of given zone. So you&#39;d expect the following would work given that `Instant` implements `TemporalAccessor`, \r\n\r\n\tInstant instant = Instant.now();\r\n\tLocalTime local =  LocalTime.from(instant);\r\n\r\nbut you get &quot;Unable to obtain LocalTime from TemporalAccessor&quot; error. Instead you need to state where &quot;local&quot; is. There is no default - probably a good thing.\r\n\r\n\tInstant instant = Instant.now();\r\n\tLocalTime local =  LocalTime.from(instant.atZone(ZoneId.of(&quot;GMT+3&quot;)));\r\n\tSystem.out.println(String.format(&quot;%s =&gt; %s&quot;, instant, local));\r\n\r\nOutput\r\n\r\n    2014-12-07T07:52:43.900Z =&gt; 10:52:43.900\r\n\r\n`instantStart.get(ChronoField.HOUR_OF_DAY)` throws an error because it does not conceptually support it, you can only access HOUR_OF_DAY etc. via a LocalTime instance.\r\n","title":"How to convert an Instant to a LocalTime?","body":"<p>The way I understand it... Instant is a UTC style time, agnostic of zone always UTC. LocalTime is a time independent of given zone. So you'd expect the following would work given that <code>Instant</code> implements <code>TemporalAccessor</code>,</p>\n<pre><code>Instant instant = Instant.now();\nLocalTime local =  LocalTime.from(instant);\n</code></pre>\n<p>but you get &quot;Unable to obtain LocalTime from TemporalAccessor&quot; error. Instead you need to state where &quot;local&quot; is. There is no default - probably a good thing.</p>\n<pre><code>Instant instant = Instant.now();\nLocalTime local =  LocalTime.from(instant.atZone(ZoneId.of(&quot;GMT+3&quot;)));\nSystem.out.println(String.format(&quot;%s =&gt; %s&quot;, instant, local));\n</code></pre>\n<p>Output</p>\n<pre><code>2014-12-07T07:52:43.900Z =&gt; 10:52:43.900\n</code></pre>\n<p><code>instantStart.get(ChronoField.HOUR_OF_DAY)</code> throws an error because it does not conceptually support it, you can only access HOUR_OF_DAY etc. via a LocalTime instance.</p>\n"},{"tags":[],"owner":{"account_id":778256,"reputation":4446,"user_id":830988,"accept_rate":81,"display_name":"Eva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651419238,"creation_date":1651419238,"answer_id":72078137,"question_id":27340650,"body_markdown":"`yourInstant.atZone(yourZoneId).toLocalTime()`","title":"How to convert an Instant to a LocalTime?","body":"<p><code>yourInstant.atZone(yourZoneId).toLocalTime()</code></p>\n"},{"tags":[],"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671950036,"creation_date":1671892674,"answer_id":74908325,"question_id":27340650,"body_markdown":"Instead of hardcoding the timezone you could use the configured timezone of your system:\r\n\r\n    LocalTime.ofInstant(instant, ZoneId.systemDefault())\r\n\r\n","title":"How to convert an Instant to a LocalTime?","body":"<p>Instead of hardcoding the timezone you could use the configured timezone of your system:</p>\n<pre><code>LocalTime.ofInstant(instant, ZoneId.systemDefault())\n</code></pre>\n"}],"owner":{"account_id":3652419,"reputation":2368,"user_id":3044206,"accept_rate":80,"display_name":"Connorelsea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22263,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":27340773,"answer_count":3,"score":23,"last_activity_date":1671950036,"creation_date":1417937366,"question_id":27340650,"body_markdown":"I don&#39;t really understand TemporalAdjusters or Java&#39;s new time library even after reading numerous tutorials.\r\n\r\nHow can I convert an `Instant` object to a `LocalTime` object. I was thinking something along the lines of the following:\r\n\r\n    LocalTime time = LocalTime.of(\r\n\t\tinstantStart.get(ChronoField.HOUR_OF_DAY),\r\n\t\tinstantStart.get(ChronoField.MINUTE_OF_HOUR)\r\n\t);\r\n\r\nBut it isn&#39;t working. How can I do this?","title":"How to convert an Instant to a LocalTime?","body":"<p>I don't really understand TemporalAdjusters or Java's new time library even after reading numerous tutorials.</p>\n<p>How can I convert an <code>Instant</code> object to a <code>LocalTime</code> object. I was thinking something along the lines of the following:</p>\n<pre><code>LocalTime time = LocalTime.of(\n    instantStart.get(ChronoField.HOUR_OF_DAY),\n    instantStart.get(ChronoField.MINUTE_OF_HOUR)\n);\n</code></pre>\n<p>But it isn't working. How can I do this?</p>\n"},{"tags":["java","android","json","android-volley","weather-api"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671945714,"post_id":74911429,"comment_id":132199705,"body_markdown":"What does the volley error say the error is?  Also, I&#39;d really strongly recommend Retrofit over Volley.  It has a lot less boilerplate and a lot fewer weird gotchas.","body":"What does the volley error say the error is?  Also, I&#39;d really strongly recommend Retrofit over Volley.  It has a lot less boilerplate and a lot fewer weird gotchas."},{"owner":{"account_id":6914700,"reputation":4797,"user_id":5309419,"display_name":"DmitryArc"},"score":0,"creation_date":1671967638,"post_id":74911429,"comment_id":132201860,"body_markdown":"Could you please add logs or error description to the question","body":"Could you please add logs or error description to the question"},{"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"score":0,"creation_date":1672000534,"post_id":74911429,"comment_id":132206499,"body_markdown":"``onErrorResponse: java.io.IOException: Cleartext HTTP traffic to api.weatherapi.com not permitted``\nIt shows the above error when I added a Log.d and error.getMessage() method to see the error message inside the ``public void onErrorResponse(VolleyError error)``","body":"<code>onErrorResponse: java.io.IOException: Cleartext HTTP traffic to api.weatherapi.com not permitted</code> It shows the above error when I added a Log.d and error.getMessage() method to see the error message inside the <code>public void onErrorResponse(VolleyError error)</code>"}],"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671949678,"creation_date":1671940591,"question_id":74911429,"body_markdown":"I am trying to fetch weather details from weatherapi using Volley for JSON parsing but my code isn&#39;t fetching weather details instead it&#39;s executing the below code :\r\n\r\n```\r\nnew Response.ErrorListener() {\r\n    @Override\r\n    public void onErrorResponse(VolleyError error) {\r\n        Toast.makeText(MainActivity.this, &quot;Please enter valid city name...&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nThis is the code(below) I used to fetch weather details from API but becoz of some error that is unknown to me it is executing onErrorResponse() method. \r\n\r\n```\r\nprivate void getWeatherInfo(String cityName){\r\n\r\n    String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=API_KEY&amp;q=&quot;+cityName+&quot;&amp;days=1&amp;aqi=no&amp;alerts=no&quot;;\r\n    cityNameTV.setText(cityName);\r\n    RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n        @Override\r\n        public void onResponse(JSONObject response) {\r\n            loadingPB.setVisibility(View.GONE);\r\n            homeRL.setVisibility(View.VISIBLE);\r\n            weatherRVModalArrayList.clear();\r\n\r\n            try {\r\n                String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\r\n                temperatureTV.setText(temperature+&quot;&#176;c&quot;);\r\n                int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\r\n                String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;); //returns the condition of the day mist or sunny or rainy etc\r\n                String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV); //here we are loading the icon in IconImage View\r\n                conditionTV.setText(condition);\r\n                if(isDay==1){\r\n\r\n                    Picasso.get().load(&quot;https://cdn.dribbble.com/users/925716/screenshots/3333720/attachments/722376/after_noon.png&quot;).into(backIV);\r\n\r\n                }\r\n                else{\r\n                    Picasso.get().load(&quot;https://cdn.dribbble.com/users/925716/screenshots/3333720/attachments/722375/night.png&quot;).into(backIV);\r\n\r\n                }\r\n\r\n                JSONObject forecastObj = response.getJSONObject(&quot;forecast&quot;);\r\n                JSONObject forecastO = forecastObj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\r\n                JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\r\n\r\n                for(int i=0; i&lt;hourArray.length(); i++){\r\n                    JSONObject hourObj = hourArray.getJSONObject(i);\r\n                    String time = hourObj.getString(&quot;time&quot;);\r\n                    String temper = hourObj.getString(&quot;temp_c&quot;);\r\n                    String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                    String wind = hourObj.getString(&quot;wind_kph&quot;);\r\n                    weatherRVModalArrayList.add(new WeatherRVModal(time, temper, img, wind));\r\n\r\n                }\r\n                weatherRVAdapter.notifyDataSetChanged();\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            Toast.makeText(MainActivity.this, &quot;Please enter valid city name...&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\n    requestQueue.add(jsonObjectRequest);\r\n}\r\n```\r\n\r\nLet me know if more details are required regarding this.","title":"While making a Weather app in Android Studio using Java. Its not fetching data from API, it always execute &#39;onErrorResponse(VolleyError error)&#39; method","body":"<p>I am trying to fetch weather details from weatherapi using Volley for JSON parsing but my code isn't fetching weather details instead it's executing the below code :</p>\n<pre><code>new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Toast.makeText(MainActivity.this, &quot;Please enter valid city name...&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>This is the code(below) I used to fetch weather details from API but becoz of some error that is unknown to me it is executing onErrorResponse() method.</p>\n<pre><code>private void getWeatherInfo(String cityName){\n\n    String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=API_KEY&amp;q=&quot;+cityName+&quot;&amp;days=1&amp;aqi=no&amp;alerts=no&quot;;\n    cityNameTV.setText(cityName);\n    RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            loadingPB.setVisibility(View.GONE);\n            homeRL.setVisibility(View.VISIBLE);\n            weatherRVModalArrayList.clear();\n\n            try {\n                String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\n                temperatureTV.setText(temperature+&quot;°c&quot;);\n                int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\n                String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;); //returns the condition of the day mist or sunny or rainy etc\n                String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV); //here we are loading the icon in IconImage View\n                conditionTV.setText(condition);\n                if(isDay==1){\n\n                    Picasso.get().load(&quot;https://cdn.dribbble.com/users/925716/screenshots/3333720/attachments/722376/after_noon.png&quot;).into(backIV);\n\n                }\n                else{\n                    Picasso.get().load(&quot;https://cdn.dribbble.com/users/925716/screenshots/3333720/attachments/722375/night.png&quot;).into(backIV);\n\n                }\n\n                JSONObject forecastObj = response.getJSONObject(&quot;forecast&quot;);\n                JSONObject forecastO = forecastObj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\n                JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\n\n                for(int i=0; i&lt;hourArray.length(); i++){\n                    JSONObject hourObj = hourArray.getJSONObject(i);\n                    String time = hourObj.getString(&quot;time&quot;);\n                    String temper = hourObj.getString(&quot;temp_c&quot;);\n                    String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                    String wind = hourObj.getString(&quot;wind_kph&quot;);\n                    weatherRVModalArrayList.add(new WeatherRVModal(time, temper, img, wind));\n\n                }\n                weatherRVAdapter.notifyDataSetChanged();\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(MainActivity.this, &quot;Please enter valid city name...&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    requestQueue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>Let me know if more details are required regarding this.</p>\n"},{"tags":["java","apache-poi","filereader"],"owner":{"account_id":17661030,"reputation":11,"user_id":12819490,"display_name":"enn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671948312,"creation_date":1671906416,"question_id":74909562,"body_markdown":"Happy holidays!\r\n\r\nApology if my english does not make sense.\r\n\r\nI&#39;m trying to write app, that takes excel file from downloads folder, searches for certain keywords, finds and counts the occurrences. And then it displays keyword and amount of occurrences. \r\n\r\nI have been struggling with this problem for 4 weeks, I&#39;m building it to make my work easier, i know very little about programming.\r\n\r\nThanks in advance!\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    // Initialize variable\r\n    Button btSelect;\r\n    TextView tvUri;\r\n    TextView tvPath;\r\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\r\n    String nimi;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // assign variable\r\n        btSelect = findViewById(R.id.bt_select);\r\n        tvUri = findViewById(R.id.tv_uri);\r\n        tvPath = findViewById(R.id.tv_path);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // Initialize result launcher\r\n        resultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts\r\n                        .StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(\r\n                            ActivityResult result)\r\n                    {\r\n                        // Initialize result data\r\n                        Intent data = result.getData();\r\n\r\n                        // check condition\r\n                        if (data != null) {\r\n                            // When data is not equal to empty\r\n                            // Get PDf uri\r\n                            Uri sUri = data.getData();\r\n                            // set Uri on text view\r\n                            tvUri.setText(Html.fromHtml(\r\n                                    &quot;&lt;big&gt;&lt;b&gt;PDF Uri&lt;/b&gt;&lt;/big&gt;&lt;br&gt;&quot;\r\n                                            + sUri));\r\n\r\n                            // Get PDF path\r\n                            String sPath = sUri.getPath();\r\n                            // Set path on text view\r\n                            tvPath.setText(Html.fromHtml(\r\n                                    &quot;&lt;big&gt;&lt;b&gt;PDF Path&lt;/b&gt;&lt;/big&gt;&lt;br&gt;&quot;\r\n                                            + sPath));\r\n                            nimi = String.valueOf(sUri);\r\n                            try {\r\n                                FetchFromFile();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n        // Set click listener on button\r\n        btSelect.setOnClickListener(\r\n                new View.OnClickListener() {\r\n                    @Override public void onClick(View v)\r\n                    {\r\n                        // check condition\r\n                        if (ActivityCompat.checkSelfPermission(\r\n                                MainActivity.this,\r\n                                Manifest.permission\r\n                                        .READ_EXTERNAL_STORAGE)\r\n                                != PackageManager\r\n                                .PERMISSION_GRANTED) {\r\n                            // When permission is not granted\r\n                            // Result permission\r\n                            ActivityCompat.requestPermissions(\r\n                                    MainActivity.this,\r\n                                    new String[] {\r\n                                            Manifest.permission\r\n                                                    .READ_EXTERNAL_STORAGE },\r\n                                    1);\r\n                        }\r\n                        else {\r\n                            // When permission is granted\r\n                            // Create method\r\n                            selectFile();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void selectFile()\r\n    {\r\n        // Initialize intent\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        // set type\r\n        intent.setType(&quot;*/*&quot;);\r\n        // Launch intent\r\n        resultLauncher.launch(intent);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(\r\n            int requestCode, @NonNull String[] permissions,\r\n            @NonNull int[] grantResults)\r\n    {\r\n        super.onRequestPermissionsResult(\r\n                requestCode, permissions, grantResults);\r\n\r\n        // check condition\r\n        if (requestCode == 1 &amp;&amp; grantResults.length &gt; 0\r\n                &amp;&amp; grantResults[0]\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            // When permission is granted\r\n            // Call method\r\n            selectFile();\r\n        }\r\n        else {\r\n            // When permission is denied\r\n            // Display toast\r\n            Toast.makeText(getApplicationContext(), &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n```\r\n\r\nSo in this function &quot;FetchFromFile()&quot; if i try to TOAST out &quot;CELL&quot; but it does not find the content and it does not even get pass the first &quot;TOAST&quot;. \r\n\r\n```\r\n    public void FetchFromFile() throws IOException {\r\n\r\n        File file = new File(nimi);\r\n\r\n        FileInputStream fileInputStream;\r\n        Toast.makeText(getApplicationContext(), &quot;Prints this TOAST&quot;, Toast.LENGTH_SHORT).show();\r\n        fileInputStream = new FileInputStream(file);\r\n        Toast.makeText(getApplicationContext(), &quot;Does not print this TOAST&quot;, Toast.LENGTH_SHORT).show();\r\n        XSSFWorkbook workbook = new XSSFWorkbook(fileInputStream);\r\n\r\n        XSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n        XSSFRow row = sheet.getRow(1);\r\n\r\n        XSSFCell cell = row.getCell(1);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have already tried i guess all those solution in stackoverflow but it seems that i am still doing something wrong because it is not working.\r\n\r\n[Here are the Uri and Path that the app find about selected file](https://i.stack.imgur.com/Ruuj8.jpg)","title":"Reading excel file android studio Java","body":"<p>Happy holidays!</p>\n<p>Apology if my english does not make sense.</p>\n<p>I'm trying to write app, that takes excel file from downloads folder, searches for certain keywords, finds and counts the occurrences. And then it displays keyword and amount of occurrences.</p>\n<p>I have been struggling with this problem for 4 weeks, I'm building it to make my work easier, i know very little about programming.</p>\n<p>Thanks in advance!</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    // Initialize variable\n    Button btSelect;\n    TextView tvUri;\n    TextView tvPath;\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\n    String nimi;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // assign variable\n        btSelect = findViewById(R.id.bt_select);\n        tvUri = findViewById(R.id.tv_uri);\n        tvPath = findViewById(R.id.tv_path);\n\n\n\n\n\n\n        // Initialize result launcher\n        resultLauncher = registerForActivityResult(\n                new ActivityResultContracts\n                        .StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(\n                            ActivityResult result)\n                    {\n                        // Initialize result data\n                        Intent data = result.getData();\n\n                        // check condition\n                        if (data != null) {\n                            // When data is not equal to empty\n                            // Get PDf uri\n                            Uri sUri = data.getData();\n                            // set Uri on text view\n                            tvUri.setText(Html.fromHtml(\n                                    &quot;&lt;big&gt;&lt;b&gt;PDF Uri&lt;/b&gt;&lt;/big&gt;&lt;br&gt;&quot;\n                                            + sUri));\n\n                            // Get PDF path\n                            String sPath = sUri.getPath();\n                            // Set path on text view\n                            tvPath.setText(Html.fromHtml(\n                                    &quot;&lt;big&gt;&lt;b&gt;PDF Path&lt;/b&gt;&lt;/big&gt;&lt;br&gt;&quot;\n                                            + sPath));\n                            nimi = String.valueOf(sUri);\n                            try {\n                                FetchFromFile();\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n\n                        }\n                    }\n                });\n\n\n        // Set click listener on button\n        btSelect.setOnClickListener(\n                new View.OnClickListener() {\n                    @Override public void onClick(View v)\n                    {\n                        // check condition\n                        if (ActivityCompat.checkSelfPermission(\n                                MainActivity.this,\n                                Manifest.permission\n                                        .READ_EXTERNAL_STORAGE)\n                                != PackageManager\n                                .PERMISSION_GRANTED) {\n                            // When permission is not granted\n                            // Result permission\n                            ActivityCompat.requestPermissions(\n                                    MainActivity.this,\n                                    new String[] {\n                                            Manifest.permission\n                                                    .READ_EXTERNAL_STORAGE },\n                                    1);\n                        }\n                        else {\n                            // When permission is granted\n                            // Create method\n                            selectFile();\n                        }\n                    }\n                });\n    }\n\n    private void selectFile()\n    {\n        // Initialize intent\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        // set type\n        intent.setType(&quot;*/*&quot;);\n        // Launch intent\n        resultLauncher.launch(intent);\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(\n            int requestCode, @NonNull String[] permissions,\n            @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(\n                requestCode, permissions, grantResults);\n\n        // check condition\n        if (requestCode == 1 &amp;&amp; grantResults.length &gt; 0\n                &amp;&amp; grantResults[0]\n                == PackageManager.PERMISSION_GRANTED) {\n            // When permission is granted\n            // Call method\n            selectFile();\n        }\n        else {\n            // When permission is denied\n            // Display toast\n            Toast.makeText(getApplicationContext(), &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n</code></pre>\n<p>So in this function &quot;FetchFromFile()&quot; if i try to TOAST out &quot;CELL&quot; but it does not find the content and it does not even get pass the first &quot;TOAST&quot;.</p>\n<pre><code>    public void FetchFromFile() throws IOException {\n\n        File file = new File(nimi);\n\n        FileInputStream fileInputStream;\n        Toast.makeText(getApplicationContext(), &quot;Prints this TOAST&quot;, Toast.LENGTH_SHORT).show();\n        fileInputStream = new FileInputStream(file);\n        Toast.makeText(getApplicationContext(), &quot;Does not print this TOAST&quot;, Toast.LENGTH_SHORT).show();\n        XSSFWorkbook workbook = new XSSFWorkbook(fileInputStream);\n\n        XSSFSheet sheet = workbook.getSheetAt(0);\n\n        XSSFRow row = sheet.getRow(1);\n\n        XSSFCell cell = row.getCell(1);\n\n    }\n}\n\n</code></pre>\n<p>I have already tried i guess all those solution in stackoverflow but it seems that i am still doing something wrong because it is not working.</p>\n<p><a href=\"https://i.stack.imgur.com/Ruuj8.jpg\" rel=\"nofollow noreferrer\">Here are the Uri and Path that the app find about selected file</a></p>\n"},{"tags":["java","node.js","encryption","rsa"],"answers":[{"comments":[{"owner":{"account_id":11863562,"reputation":759,"user_id":8681609,"display_name":"Dinh"},"score":0,"creation_date":1671961241,"post_id":74911635,"comment_id":132201166,"body_markdown":"Merry Xmas Dave, thank you for your answer - it seems to be working correctly now! I was going to check your you must have either list now and wanted todo all of them. I noticed you already put BC into the getInstance call so what I did was replacing my static call with Security.insertProviderAt(new BouncyCastleProvider(),1), now for whatever reason using this the decrypted hello turns into &quot;randomgibberish&quot;+hello instead, reverting to the simple addProvider call resolves this issue though","body":"Merry Xmas Dave, thank you for your answer - it seems to be working correctly now! I was going to check your you must have either list now and wanted todo all of them. I noticed you already put BC into the getInstance call so what I did was replacing my static call with Security.insertProviderAt(new BouncyCastleProvider(),1), now for whatever reason using this the decrypted hello turns into &quot;randomgibberish&quot;+hello instead, reverting to the simple addProvider call resolves this issue though"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671947418,"creation_date":1671945767,"answer_id":74911635,"question_id":74910867,"body_markdown":"**Encrypted data using modern (computer) ciphers is not text.** And the data that can be encrypted can be any bits, not just text, although they are still called &#39;ciphertext&#39; and &#39;plaintext&#39; following a historical tradition from past centuries where they actually were text. Neither is other cryptographic data, such as digital signatures, hashes, keys, certificates, and such, although some of them are _converted_ to and from text forms such as (several variants of) base64, hex, and PEM. Your node/forge code represents the RSA-encrypted data in base64, as is common to handle this, but your Java code after decoding the base64 correctly does the following\r\n\r\n\t\tString decodedString = new String(decodedBytes);\r\n\t\tbyte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\r\n\r\nwhich tries to treat it as text. This does not work, and turns much of your data into garbage, which also happens to make it longer and trigger the exception you got. You need to use the result of the base64 decoding directly in the decrypt call.\r\n\r\nIn addition your posted Java code doesn&#39;t and can&#39;t work on the public-key format you posted. You need to either use forge&#39;s `publicKeyToPem` (which produces the correct &#39;generic&#39; PUBLIC KEY format -- _not_ RSA PUBLIC KEY) or convert your posted output with something like `openssl rsa -RSAPublicKey_in`; I did the latter.\r\n\r\nFinally, it isn&#39;t sufficient to just _add_ Bouncy to the provider list. You must either:\r\n\r\n* specify the actual provider object in `KeyFactory.getInstance` \r\n* have Bouncy in the list (anywhere) and specify &quot;BC&quot; in `KeyFactory.getInstance` \r\n* put Bouncy at the _beginning_ of the list with `insertProviderAt(new org.bouncy...,1)`\r\n\r\nWith those three changes, and some trivial simplification and hardcoded data for convenience, the following gives `hello` as expected:\r\n\r\n\t\tString pubbad = &quot;-----BEGIN RSA PUBLIC KEY-----\\n&quot;\r\n\t\t\t\t+&quot;MIGJAoGBAK0HXXtavoJkYXYSBFvb+JINZ9MFZANLWRVOu69iiP6PgILqEbV8ybFm\\n&quot;\r\n\t\t\t\t+&quot;vdSCuZu0BB/P5f0uW/0fw0149UZxXltrkPZHqYLPckXOxgRD3LAWbI+vwV0UqU0X\\n&quot;\r\n\t\t\t\t+&quot;597hg5E8UnV+2S5VG4/QxpAS5iiAPwT96dxjxEhZ3mRqLX74BsrDAgMBAAE=\\n&quot;\r\n\t\t\t\t+&quot;-----END RSA PUBLIC KEY-----\\n&quot;;\r\n\t\tString pubfix = &quot;-----BEGIN PUBLIC KEY-----\\n&quot;\r\n\t\t\t\t+&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtB117Wr6CZGF2EgRb2/iSDWfT\\n&quot;\r\n\t\t\t\t+&quot;BWQDS1kVTruvYoj+j4CC6hG1fMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2\\n&quot;\r\n\t\t\t\t+&quot;R6mCz3JFzsYEQ9ywFmyPr8FdFKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/enc\\n&quot;\r\n\t\t\t\t+&quot;Y8RIWd5kai1++AbKwwIDAQAB\\n&quot;\r\n\t\t\t\t+&quot;-----END PUBLIC KEY-----\\n&quot;;\r\n\t\tString prvpem = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;\r\n\t\t\t\t+&quot;MIICWwIBAAKBgQCtB117Wr6CZGF2EgRb2/iSDWfTBWQDS1kVTruvYoj+j4CC6hG1\\n&quot;\r\n\t\t\t\t+&quot;fMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2R6mCz3JFzsYEQ9ywFmyPr8Fd\\n&quot;\r\n\t\t\t\t+&quot;FKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/encY8RIWd5kai1++AbKwwIDAQAB\\n&quot;\r\n\t\t\t\t+&quot;AoGAFDPb8l8yBz95MbQA1kjkyQjPqo/ikY/motpCh8PVgwN2WdLCppIfaps4Zuus\\n&quot;\r\n\t\t\t\t+&quot;iEWIhb5ceCdFjlR7FTyeRs9N2OTC2Mcp1n1sxfHNFMGPOsxyMAaIw9UhFzpr2cHy\\n&quot;\r\n\t\t\t\t+&quot;PXiPbyg+y4EMwEbB2js7Zf2A2wNSda4VBkYUZIkBXIxmUwECQQD9a70jjdfN6Ldj\\n&quot;\r\n\t\t\t\t+&quot;M6ZqPPg/V5GGsEohfsmsSJKUxzZ3AmFqrwzDmclbfviVmqTiULPDbl4Tb6qvhLc3\\n&quot;\r\n\t\t\t\t+&quot;Qk//DUijAkEArsosXFv7DkZmMA3MTE8lURgOD509Ts1+4wWIDsbP54pvFoIPX7eG\\n&quot;\r\n\t\t\t\t+&quot;6NR48SEvjAmZfGgwi6gbwUdBbRFFQwP3YQJAfuPmdZn9V5XR1XM0PXe/2X+QV3+H\\n&quot;\r\n\t\t\t\t+&quot;7tOcSY6hDqvdIqPngVKbMombYBvofohLTSKZkB6ALn04WuA6GQo0IgJVvwJARvsH\\n&quot;\r\n\t\t\t\t+&quot;JMKdo2BnYyBXVK3XY6U3IJQkL3o4Cw1WAVovV8HZ9vP+NkqbWLXgH1vwqRfE4saU\\n&quot;\r\n\t\t\t\t+&quot;4EH2c3jyUs5uqBZWQQJAajdCCVRyPghnfqhzWl68gfvrEATDTWRt4UKY46IP+QUx\\n&quot;\r\n\t\t\t\t+&quot;islQ2e9ZU+wbjBmqM5zd1oG9yUsxD8c5X0mCyZ1wSg==\\n&quot;\r\n\t\t\t\t+&quot;-----END RSA PRIVATE KEY-----\\n&quot;;\r\n\r\n\t\t//RSAPrivateKey privateKey = parsePrivateKey(Files.readAllBytes(Paths.get(&quot;pri.pem&quot;)));\r\n\t\tbyte[] prvder = Base64.getDecoder().decode( prvpem.replaceAll(&quot;-----(BEGIN|END) RSA PRIVATE KEY-----&quot;,&quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;&quot;) );\r\n\t\tRSAPrivateKey privateKey = (RSAPrivateKey) KeyFactory.getInstance(&quot;RSA&quot;,&quot;BC&quot;) .generatePrivate(new PKCS8EncodedKeySpec(prvder) ); \r\n\t\t// actually not PKCS8, but BCprov handles this as a special case\r\n\t\t//RSAPublicKey pub = readPublicKey(new File(&quot;pub.pem&quot;));\r\n\t\tbyte[] pubder = Base64.getDecoder().decode( pubfix.replaceAll(&quot;-----(BEGIN|END) PUBLIC KEY-----&quot;,&quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;&quot;) );\r\n\t\tRSAPublicKey pub = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic(new X509EncodedKeySpec(pubder) ); \r\n\r\n\t\tString base64 = &quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\r\n\t\tbyte[] decodedBytes = Base64.getDecoder().decode(base64);\r\n\t\t//BAD String decodedString = new String(decodedBytes);\r\n\t\t//BAD byte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\r\n\t\tCipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\tdecryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n\t\tbyte[] decryptedMessageBytes = decryptCipher.doFinal(decodedBytes);\r\n\t\tSystem.out.println(new String(decryptedMessageBytes));\r\n\r\nAnd merry Xmas, until someone edits this out because Stack is supposed to be impersonal.\r\n","title":"decrypt/encrypt using node-forge generated rsa key pair in java","body":"<p><strong>Encrypted data using modern (computer) ciphers is not text.</strong> And the data that can be encrypted can be any bits, not just text, although they are still called 'ciphertext' and 'plaintext' following a historical tradition from past centuries where they actually were text. Neither is other cryptographic data, such as digital signatures, hashes, keys, certificates, and such, although some of them are <em>converted</em> to and from text forms such as (several variants of) base64, hex, and PEM. Your node/forge code represents the RSA-encrypted data in base64, as is common to handle this, but your Java code after decoding the base64 correctly does the following</p>\n<pre><code>    String decodedString = new String(decodedBytes);\n    byte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\n</code></pre>\n<p>which tries to treat it as text. This does not work, and turns much of your data into garbage, which also happens to make it longer and trigger the exception you got. You need to use the result of the base64 decoding directly in the decrypt call.</p>\n<p>In addition your posted Java code doesn't and can't work on the public-key format you posted. You need to either use forge's <code>publicKeyToPem</code> (which produces the correct 'generic' PUBLIC KEY format -- <em>not</em> RSA PUBLIC KEY) or convert your posted output with something like <code>openssl rsa -RSAPublicKey_in</code>; I did the latter.</p>\n<p>Finally, it isn't sufficient to just <em>add</em> Bouncy to the provider list. You must either:</p>\n<ul>\n<li>specify the actual provider object in <code>KeyFactory.getInstance</code></li>\n<li>have Bouncy in the list (anywhere) and specify &quot;BC&quot; in <code>KeyFactory.getInstance</code></li>\n<li>put Bouncy at the <em>beginning</em> of the list with <code>insertProviderAt(new org.bouncy...,1)</code></li>\n</ul>\n<p>With those three changes, and some trivial simplification and hardcoded data for convenience, the following gives <code>hello</code> as expected:</p>\n<pre><code>    String pubbad = &quot;-----BEGIN RSA PUBLIC KEY-----\\n&quot;\n            +&quot;MIGJAoGBAK0HXXtavoJkYXYSBFvb+JINZ9MFZANLWRVOu69iiP6PgILqEbV8ybFm\\n&quot;\n            +&quot;vdSCuZu0BB/P5f0uW/0fw0149UZxXltrkPZHqYLPckXOxgRD3LAWbI+vwV0UqU0X\\n&quot;\n            +&quot;597hg5E8UnV+2S5VG4/QxpAS5iiAPwT96dxjxEhZ3mRqLX74BsrDAgMBAAE=\\n&quot;\n            +&quot;-----END RSA PUBLIC KEY-----\\n&quot;;\n    String pubfix = &quot;-----BEGIN PUBLIC KEY-----\\n&quot;\n            +&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtB117Wr6CZGF2EgRb2/iSDWfT\\n&quot;\n            +&quot;BWQDS1kVTruvYoj+j4CC6hG1fMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2\\n&quot;\n            +&quot;R6mCz3JFzsYEQ9ywFmyPr8FdFKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/enc\\n&quot;\n            +&quot;Y8RIWd5kai1++AbKwwIDAQAB\\n&quot;\n            +&quot;-----END PUBLIC KEY-----\\n&quot;;\n    String prvpem = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;\n            +&quot;MIICWwIBAAKBgQCtB117Wr6CZGF2EgRb2/iSDWfTBWQDS1kVTruvYoj+j4CC6hG1\\n&quot;\n            +&quot;fMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2R6mCz3JFzsYEQ9ywFmyPr8Fd\\n&quot;\n            +&quot;FKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/encY8RIWd5kai1++AbKwwIDAQAB\\n&quot;\n            +&quot;AoGAFDPb8l8yBz95MbQA1kjkyQjPqo/ikY/motpCh8PVgwN2WdLCppIfaps4Zuus\\n&quot;\n            +&quot;iEWIhb5ceCdFjlR7FTyeRs9N2OTC2Mcp1n1sxfHNFMGPOsxyMAaIw9UhFzpr2cHy\\n&quot;\n            +&quot;PXiPbyg+y4EMwEbB2js7Zf2A2wNSda4VBkYUZIkBXIxmUwECQQD9a70jjdfN6Ldj\\n&quot;\n            +&quot;M6ZqPPg/V5GGsEohfsmsSJKUxzZ3AmFqrwzDmclbfviVmqTiULPDbl4Tb6qvhLc3\\n&quot;\n            +&quot;Qk//DUijAkEArsosXFv7DkZmMA3MTE8lURgOD509Ts1+4wWIDsbP54pvFoIPX7eG\\n&quot;\n            +&quot;6NR48SEvjAmZfGgwi6gbwUdBbRFFQwP3YQJAfuPmdZn9V5XR1XM0PXe/2X+QV3+H\\n&quot;\n            +&quot;7tOcSY6hDqvdIqPngVKbMombYBvofohLTSKZkB6ALn04WuA6GQo0IgJVvwJARvsH\\n&quot;\n            +&quot;JMKdo2BnYyBXVK3XY6U3IJQkL3o4Cw1WAVovV8HZ9vP+NkqbWLXgH1vwqRfE4saU\\n&quot;\n            +&quot;4EH2c3jyUs5uqBZWQQJAajdCCVRyPghnfqhzWl68gfvrEATDTWRt4UKY46IP+QUx\\n&quot;\n            +&quot;islQ2e9ZU+wbjBmqM5zd1oG9yUsxD8c5X0mCyZ1wSg==\\n&quot;\n            +&quot;-----END RSA PRIVATE KEY-----\\n&quot;;\n\n    //RSAPrivateKey privateKey = parsePrivateKey(Files.readAllBytes(Paths.get(&quot;pri.pem&quot;)));\n    byte[] prvder = Base64.getDecoder().decode( prvpem.replaceAll(&quot;-----(BEGIN|END) RSA PRIVATE KEY-----&quot;,&quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;&quot;) );\n    RSAPrivateKey privateKey = (RSAPrivateKey) KeyFactory.getInstance(&quot;RSA&quot;,&quot;BC&quot;) .generatePrivate(new PKCS8EncodedKeySpec(prvder) ); \n    // actually not PKCS8, but BCprov handles this as a special case\n    //RSAPublicKey pub = readPublicKey(new File(&quot;pub.pem&quot;));\n    byte[] pubder = Base64.getDecoder().decode( pubfix.replaceAll(&quot;-----(BEGIN|END) PUBLIC KEY-----&quot;,&quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;&quot;) );\n    RSAPublicKey pub = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic(new X509EncodedKeySpec(pubder) ); \n\n    String base64 = &quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\n    byte[] decodedBytes = Base64.getDecoder().decode(base64);\n    //BAD String decodedString = new String(decodedBytes);\n    //BAD byte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\n    Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n    decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n    byte[] decryptedMessageBytes = decryptCipher.doFinal(decodedBytes);\n    System.out.println(new String(decryptedMessageBytes));\n</code></pre>\n<p>And merry Xmas, until someone edits this out because Stack is supposed to be impersonal.</p>\n"}],"owner":{"account_id":11863562,"reputation":759,"user_id":8681609,"display_name":"Dinh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74911635,"answer_count":1,"score":0,"last_activity_date":1671947418,"creation_date":1671925178,"question_id":74910867,"body_markdown":"**tldr: generated rsa key pair using node-forge, encrypted hello and converted it to base64 in order to decrypt it using the same key pair (imported using pem files) in java but it throws an exception while the key pair is working fine with data encrypted by java**\r\n\r\nI am generating a key pair in node which works fine for decrypting and encrypting in both java and node, but I am unable to decrypt the encrypted value from node in java\r\n\r\nthe key pair is generated using the following nodejs code\r\n```\r\nvar bip39 = require(&quot;bip39&quot;);\r\nvar forge = require(&quot;node-forge&quot;);\r\nasync function test() {\r\n    var mnemonic = &quot;fever draw mind boil renew fire sleep palace useful ritual wood snake april polar brown off round zebra swallow health grass drink jelly beef&quot;;\r\n    console.log(mnemonic)\r\n    let seed = await bip39.mnemonicToSeed(mnemonic);\r\n    console.log(seed.toString(&quot;hex&quot;))\r\n    const prng = forge.random.createInstance();\r\n    prng.seedFileSync = () =&gt; seed\r\n    const {\r\n        privateKey,\r\n        publicKey\r\n    } = forge.pki.rsa.generateKeyPair({\r\n        bits: 1024,\r\n        prng,\r\n        workers: 2\r\n    })\r\n    console.log(await forge.pki.publicKeyToRSAPublicKeyPem(publicKey));\r\n    console.log(await forge.pki.privateKeyToPem(privateKey));\r\n    let encrypted = publicKey.encrypt(&quot;hello&quot;);\r\n    var previousBase =&quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\r\n    var previous = atob(previousBase);\r\n    let base = btoa(encrypted);\r\n    console.log(base);\r\n    var x = new TextEncoder().encode(previousBase);\r\n    var all = &quot;&quot;;\r\n    for (var i = 0; i &lt; x.length; i++) {\r\n        all += x[i] + &quot;, &quot;;\r\n    }\r\n    console.log(all.substring(0, all.length - 2))\r\n    console.log(await privateKey.decrypt(previous));\r\n    console.log(await privateKey.decrypt(encrypted));\r\n};\r\ntest();\r\n```\r\nsince I am trying to decrypt/encrypt using the same private/public key in Java I decided to add a few logs so I have a base to work with\r\n```\r\nfever draw mind boil renew fire sleep palace useful ritual wood snake april polar brown off round zebra swallow health grass drink jelly beef\r\n8f445e53ea42708dd4be30c646261c9fc3352125c42f8f5ead86d44c15adbac4a46ffe1dca758f99bf46c7b939fd3db0f2f3000b792bc9192156e5ef5936a732\r\n-----BEGIN RSA PUBLIC KEY-----\r\nMIGJAoGBAK0HXXtavoJkYXYSBFvb+JINZ9MFZANLWRVOu69iiP6PgILqEbV8ybFm\r\nvdSCuZu0BB/P5f0uW/0fw0149UZxXltrkPZHqYLPckXOxgRD3LAWbI+vwV0UqU0X\r\n597hg5E8UnV+2S5VG4/QxpAS5iiAPwT96dxjxEhZ3mRqLX74BsrDAgMBAAE=\r\n-----END RSA PUBLIC KEY-----\r\n\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIICWwIBAAKBgQCtB117Wr6CZGF2EgRb2/iSDWfTBWQDS1kVTruvYoj+j4CC6hG1\r\nfMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2R6mCz3JFzsYEQ9ywFmyPr8Fd\r\nFKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/encY8RIWd5kai1++AbKwwIDAQAB\r\nAoGAFDPb8l8yBz95MbQA1kjkyQjPqo/ikY/motpCh8PVgwN2WdLCppIfaps4Zuus\r\niEWIhb5ceCdFjlR7FTyeRs9N2OTC2Mcp1n1sxfHNFMGPOsxyMAaIw9UhFzpr2cHy\r\nPXiPbyg+y4EMwEbB2js7Zf2A2wNSda4VBkYUZIkBXIxmUwECQQD9a70jjdfN6Ldj\r\nM6ZqPPg/V5GGsEohfsmsSJKUxzZ3AmFqrwzDmclbfviVmqTiULPDbl4Tb6qvhLc3\r\nQk//DUijAkEArsosXFv7DkZmMA3MTE8lURgOD509Ts1+4wWIDsbP54pvFoIPX7eG\r\n6NR48SEvjAmZfGgwi6gbwUdBbRFFQwP3YQJAfuPmdZn9V5XR1XM0PXe/2X+QV3+H\r\n7tOcSY6hDqvdIqPngVKbMombYBvofohLTSKZkB6ALn04WuA6GQo0IgJVvwJARvsH\r\nJMKdo2BnYyBXVK3XY6U3IJQkL3o4Cw1WAVovV8HZ9vP+NkqbWLXgH1vwqRfE4saU\r\n4EH2c3jyUs5uqBZWQQJAajdCCVRyPghnfqhzWl68gfvrEATDTWRt4UKY46IP+QUx\r\nislQ2e9ZU+wbjBmqM5zd1oG9yUsxD8c5X0mCyZ1wSg==\r\n-----END RSA PRIVATE KEY-----\r\n\r\nHWqv4dvDtLPc8ZhBbTI4JJ89XgxASKacZKuaz+0HF0kInt9R/tDgv2lkNPl7RWC/SNacqY0DnBL1uAQvg8r75nVo7sZ29hhjph5n5ucBNXcT9OSYgGY4fjSmMLvLY3qVSYItSLsIbXrfemWDF2jaV2FbDb4dBCaeC02PjIJQGnw=\r\n87, 84, 113, 48, 51, 78, 111, 79, 116, 71, 72, 88, 43, 88, 115, 49, 77, 117, 54, 98, 98, 81, 109, 106, 81, 43, 120, 83, 115, 115, 106, 50, 109, 83, 101, 82, 102, 53, 53, 43, 108, 119, 47, 116, 86, 97, 71, 82, 84, 73, 55, 75, 81, 90, 122, 117, 56, 68, 70, 113, 78, 74, 83, 52, 107, 122, 117, 54, 105, 74, 106, 113, 75, 84, 109, 110, 118, 116, 65, 77, 122, 80, 79, 111, 52, 75, 65, 109, 69, 116, 90, 65, 77, 68, 69, 90, 119, 55, 68, 49, 89, 53, 112, 116, 98, 48, 99, 68, 80, 48, 83, 103, 82, 79, 115, 90, 103, 90, 114, 53, 88, 112, 71, 98, 105, 102, 81, 77, 68, 71, 84, 43, 114, 90, 114, 47, 53, 69, 102, 70, 79, 88, 100, 119, 68, 118, 85, 121, 49, 114, 85, 65, 66, 65, 75, 112, 83, 98, 88, 70, 90, 84, 70, 54, 52, 85, 70, 77, 52, 108, 107, 61\r\nhello\r\nhello\r\n```\r\nthe first challenge was to actually get the rsa key objects in Java to initialize without any exceptions, which in fact required me to add the dependency\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.70&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nnow within java I am able to encrypt and decrypt using the keys, but I am unable to decrypt anything that was generated within nodejs as it throws this exception\r\n\r\n```\r\njavax.crypto.IllegalBlockSizeException: Data must not be longer than 128 bytes\r\n\tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:344)\r\n\tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2164)\r\n\tat Test.main(Test.java:44)\r\n```\r\n\r\nmy current code for reference looks like this\r\n\r\n```\r\nimport javax.crypto.Cipher;\r\nimport javax.xml.bind.DatatypeConverter;\r\nimport java.io.File;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.security.KeyFactory;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Test {\r\n    static {\r\n        java.security.Security.addProvider(\r\n                new org.bouncycastle.jce.provider.BouncyCastleProvider()\r\n        );\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            RSAPrivateKey privateKey = parsePrivateKey(Files.readAllBytes(Paths.get(&quot;pri.pem&quot;)));\r\n            RSAPublicKey pub = readPublicKey(new File(&quot;pub.pem&quot;));\r\n\r\n            Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            encryptCipher.init(Cipher.ENCRYPT_MODE, pub);\r\n            String test = &quot;hello&quot;;\r\n            byte[] testBytes = test.getBytes(StandardCharsets.UTF_8);\r\n            byte[] encryptedMessageBytes = encryptCipher.doFinal(testBytes);\r\n\r\n            String base64 = &quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\r\n            byte[] decodedBytes = Base64.getDecoder().decode(base64);\r\n            String decodedString = new String(decodedBytes);\r\n            byte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\r\n            Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n            System.out.println(new String(decryptCipher.doFinal(encryptedMessageBytes)));\r\n\r\n            byte[] decryptedMessageBytes = decryptCipher.doFinal(secretMessageBytes);\r\n            System.out.println(new String(decryptedMessageBytes));\r\n\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static RSAPrivateKey parsePrivateKey(byte[] b) throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n        byte[] privateKeyBytes = parseDERFromPEM(b);\r\n        return generatePrivateKeyFromDER(privateKeyBytes);\r\n    }\r\n\r\n    public static byte[] parseDERFromPEM(byte[] b) {\r\n        return DatatypeConverter.parseBase64Binary(parseKeyData(b));\r\n    }\r\n\r\n    public static String parseKeyData(byte[] b) {\r\n        String data = new String(b);\r\n        String[] tokens = data.split(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;);\r\n        tokens = tokens[1].split(&quot;-----END RSA PRIVATE KEY-----&quot;);\r\n        return tokens[0];\r\n    }\r\n\r\n    public static RSAPrivateKey generatePrivateKeyFromDER(byte[] b) throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(b);\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPrivateKey) factory.generatePrivate(spec);\r\n    }\r\n\r\n    public static RSAPublicKey readPublicKey(File file) throws Exception {\r\n        String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\r\n        String publicKeyPEM = key\r\n                .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n                .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.getDecoder().decode(publicKeyPEM);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\r\n        return (RSAPublicKey) keyFactory.generatePublic(keySpec);\r\n    }\r\n}\r\n```\r\n\r\nis it somehow impossible todo what I am trying todo or am I just missing something somewhere since the keys are working with java for encryption and decryption as long as it was encrypted using java.\r\n\r\nI believe all data required to replicate my issue is included in this post - if any further information is needed please let me know and I will provide\r\n\r\n","title":"decrypt/encrypt using node-forge generated rsa key pair in java","body":"<p><strong>tldr: generated rsa key pair using node-forge, encrypted hello and converted it to base64 in order to decrypt it using the same key pair (imported using pem files) in java but it throws an exception while the key pair is working fine with data encrypted by java</strong></p>\n<p>I am generating a key pair in node which works fine for decrypting and encrypting in both java and node, but I am unable to decrypt the encrypted value from node in java</p>\n<p>the key pair is generated using the following nodejs code</p>\n<pre><code>var bip39 = require(&quot;bip39&quot;);\nvar forge = require(&quot;node-forge&quot;);\nasync function test() {\n    var mnemonic = &quot;fever draw mind boil renew fire sleep palace useful ritual wood snake april polar brown off round zebra swallow health grass drink jelly beef&quot;;\n    console.log(mnemonic)\n    let seed = await bip39.mnemonicToSeed(mnemonic);\n    console.log(seed.toString(&quot;hex&quot;))\n    const prng = forge.random.createInstance();\n    prng.seedFileSync = () =&gt; seed\n    const {\n        privateKey,\n        publicKey\n    } = forge.pki.rsa.generateKeyPair({\n        bits: 1024,\n        prng,\n        workers: 2\n    })\n    console.log(await forge.pki.publicKeyToRSAPublicKeyPem(publicKey));\n    console.log(await forge.pki.privateKeyToPem(privateKey));\n    let encrypted = publicKey.encrypt(&quot;hello&quot;);\n    var previousBase =&quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\n    var previous = atob(previousBase);\n    let base = btoa(encrypted);\n    console.log(base);\n    var x = new TextEncoder().encode(previousBase);\n    var all = &quot;&quot;;\n    for (var i = 0; i &lt; x.length; i++) {\n        all += x[i] + &quot;, &quot;;\n    }\n    console.log(all.substring(0, all.length - 2))\n    console.log(await privateKey.decrypt(previous));\n    console.log(await privateKey.decrypt(encrypted));\n};\ntest();\n</code></pre>\n<p>since I am trying to decrypt/encrypt using the same private/public key in Java I decided to add a few logs so I have a base to work with</p>\n<pre><code>fever draw mind boil renew fire sleep palace useful ritual wood snake april polar brown off round zebra swallow health grass drink jelly beef\n8f445e53ea42708dd4be30c646261c9fc3352125c42f8f5ead86d44c15adbac4a46ffe1dca758f99bf46c7b939fd3db0f2f3000b792bc9192156e5ef5936a732\n-----BEGIN RSA PUBLIC KEY-----\nMIGJAoGBAK0HXXtavoJkYXYSBFvb+JINZ9MFZANLWRVOu69iiP6PgILqEbV8ybFm\nvdSCuZu0BB/P5f0uW/0fw0149UZxXltrkPZHqYLPckXOxgRD3LAWbI+vwV0UqU0X\n597hg5E8UnV+2S5VG4/QxpAS5iiAPwT96dxjxEhZ3mRqLX74BsrDAgMBAAE=\n-----END RSA PUBLIC KEY-----\n\n-----BEGIN RSA PRIVATE KEY-----\nMIICWwIBAAKBgQCtB117Wr6CZGF2EgRb2/iSDWfTBWQDS1kVTruvYoj+j4CC6hG1\nfMmxZr3UgrmbtAQfz+X9Llv9H8NNePVGcV5ba5D2R6mCz3JFzsYEQ9ywFmyPr8Fd\nFKlNF+fe4YORPFJ1ftkuVRuP0MaQEuYogD8E/encY8RIWd5kai1++AbKwwIDAQAB\nAoGAFDPb8l8yBz95MbQA1kjkyQjPqo/ikY/motpCh8PVgwN2WdLCppIfaps4Zuus\niEWIhb5ceCdFjlR7FTyeRs9N2OTC2Mcp1n1sxfHNFMGPOsxyMAaIw9UhFzpr2cHy\nPXiPbyg+y4EMwEbB2js7Zf2A2wNSda4VBkYUZIkBXIxmUwECQQD9a70jjdfN6Ldj\nM6ZqPPg/V5GGsEohfsmsSJKUxzZ3AmFqrwzDmclbfviVmqTiULPDbl4Tb6qvhLc3\nQk//DUijAkEArsosXFv7DkZmMA3MTE8lURgOD509Ts1+4wWIDsbP54pvFoIPX7eG\n6NR48SEvjAmZfGgwi6gbwUdBbRFFQwP3YQJAfuPmdZn9V5XR1XM0PXe/2X+QV3+H\n7tOcSY6hDqvdIqPngVKbMombYBvofohLTSKZkB6ALn04WuA6GQo0IgJVvwJARvsH\nJMKdo2BnYyBXVK3XY6U3IJQkL3o4Cw1WAVovV8HZ9vP+NkqbWLXgH1vwqRfE4saU\n4EH2c3jyUs5uqBZWQQJAajdCCVRyPghnfqhzWl68gfvrEATDTWRt4UKY46IP+QUx\nislQ2e9ZU+wbjBmqM5zd1oG9yUsxD8c5X0mCyZ1wSg==\n-----END RSA PRIVATE KEY-----\n\nHWqv4dvDtLPc8ZhBbTI4JJ89XgxASKacZKuaz+0HF0kInt9R/tDgv2lkNPl7RWC/SNacqY0DnBL1uAQvg8r75nVo7sZ29hhjph5n5ucBNXcT9OSYgGY4fjSmMLvLY3qVSYItSLsIbXrfemWDF2jaV2FbDb4dBCaeC02PjIJQGnw=\n87, 84, 113, 48, 51, 78, 111, 79, 116, 71, 72, 88, 43, 88, 115, 49, 77, 117, 54, 98, 98, 81, 109, 106, 81, 43, 120, 83, 115, 115, 106, 50, 109, 83, 101, 82, 102, 53, 53, 43, 108, 119, 47, 116, 86, 97, 71, 82, 84, 73, 55, 75, 81, 90, 122, 117, 56, 68, 70, 113, 78, 74, 83, 52, 107, 122, 117, 54, 105, 74, 106, 113, 75, 84, 109, 110, 118, 116, 65, 77, 122, 80, 79, 111, 52, 75, 65, 109, 69, 116, 90, 65, 77, 68, 69, 90, 119, 55, 68, 49, 89, 53, 112, 116, 98, 48, 99, 68, 80, 48, 83, 103, 82, 79, 115, 90, 103, 90, 114, 53, 88, 112, 71, 98, 105, 102, 81, 77, 68, 71, 84, 43, 114, 90, 114, 47, 53, 69, 102, 70, 79, 88, 100, 119, 68, 118, 85, 121, 49, 114, 85, 65, 66, 65, 75, 112, 83, 98, 88, 70, 90, 84, 70, 54, 52, 85, 70, 77, 52, 108, 107, 61\nhello\nhello\n</code></pre>\n<p>the first challenge was to actually get the rsa key objects in Java to initialize without any exceptions, which in fact required me to add the dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>now within java I am able to encrypt and decrypt using the keys, but I am unable to decrypt anything that was generated within nodejs as it throws this exception</p>\n<pre><code>javax.crypto.IllegalBlockSizeException: Data must not be longer than 128 bytes\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:344)\n    at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164)\n    at Test.main(Test.java:44)\n</code></pre>\n<p>my current code for reference looks like this</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.xml.bind.DatatypeConverter;\nimport java.io.File;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\n\npublic class Test {\n    static {\n        java.security.Security.addProvider(\n                new org.bouncycastle.jce.provider.BouncyCastleProvider()\n        );\n    }\n\n    public static void main(String[] args) {\n        try {\n            RSAPrivateKey privateKey = parsePrivateKey(Files.readAllBytes(Paths.get(&quot;pri.pem&quot;)));\n            RSAPublicKey pub = readPublicKey(new File(&quot;pub.pem&quot;));\n\n            Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n            encryptCipher.init(Cipher.ENCRYPT_MODE, pub);\n            String test = &quot;hello&quot;;\n            byte[] testBytes = test.getBytes(StandardCharsets.UTF_8);\n            byte[] encryptedMessageBytes = encryptCipher.doFinal(testBytes);\n\n            String base64 = &quot;WTq03NoOtGHX+Xs1Mu6bbQmjQ+xSssj2mSeRf55+lw/tVaGRTI7KQZzu8DFqNJS4kzu6iJjqKTmnvtAMzPOo4KAmEtZAMDEZw7D1Y5ptb0cDP0SgROsZgZr5XpGbifQMDGT+rZr/5EfFOXdwDvUy1rUABAKpSbXFZTF64UFM4lk=&quot;;\n            byte[] decodedBytes = Base64.getDecoder().decode(base64);\n            String decodedString = new String(decodedBytes);\n            byte[] secretMessageBytes = decodedString.getBytes(StandardCharsets.UTF_8.name());\n            Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n            decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n            System.out.println(new String(decryptCipher.doFinal(encryptedMessageBytes)));\n\n            byte[] decryptedMessageBytes = decryptCipher.doFinal(secretMessageBytes);\n            System.out.println(new String(decryptedMessageBytes));\n\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static RSAPrivateKey parsePrivateKey(byte[] b) throws InvalidKeySpecException, NoSuchAlgorithmException {\n        byte[] privateKeyBytes = parseDERFromPEM(b);\n        return generatePrivateKeyFromDER(privateKeyBytes);\n    }\n\n    public static byte[] parseDERFromPEM(byte[] b) {\n        return DatatypeConverter.parseBase64Binary(parseKeyData(b));\n    }\n\n    public static String parseKeyData(byte[] b) {\n        String data = new String(b);\n        String[] tokens = data.split(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;);\n        tokens = tokens[1].split(&quot;-----END RSA PRIVATE KEY-----&quot;);\n        return tokens[0];\n    }\n\n    public static RSAPrivateKey generatePrivateKeyFromDER(byte[] b) throws InvalidKeySpecException, NoSuchAlgorithmException {\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(b);\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return (RSAPrivateKey) factory.generatePrivate(spec);\n    }\n\n    public static RSAPublicKey readPublicKey(File file) throws Exception {\n        String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\n        String publicKeyPEM = key\n                .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\n                .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\n        byte[] encoded = Base64.getDecoder().decode(publicKeyPEM);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\n        return (RSAPublicKey) keyFactory.generatePublic(keySpec);\n    }\n}\n</code></pre>\n<p>is it somehow impossible todo what I am trying todo or am I just missing something somewhere since the keys are working with java for encryption and decryption as long as it was encrypted using java.</p>\n<p>I believe all data required to replicate my issue is included in this post - if any further information is needed please let me know and I will provide</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671947334,"post_id":74911675,"comment_id":132199804,"body_markdown":"If you look at the bytecode generated by each of those two lines, you&#39;ll see that it&#39;s identical.","body":"If you look at the bytecode generated by each of those two lines, you&#39;ll see that it&#39;s identical."}],"owner":{"account_id":27185847,"reputation":1,"user_id":20720303,"display_name":"SHUBHAM GARG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671952553,"answer_count":0,"score":0,"last_activity_date":1671946790,"creation_date":1671946790,"question_id":74911675,"body_markdown":"I am thinking about that. what is difference between writing code..\r\n```\r\nint[] arr1 = {1,2,3} ;\r\n```\r\nand\r\n```\r\nint[] arr2 = new int[]{1,2,3} ;\r\n```\r\n\r\nRecently I give a interview in which round-1 online test they write like this so i just think about it.","title":"Java difference between write a code by 2 type","body":"<p>I am thinking about that. what is difference between writing code..</p>\n<pre><code>int[] arr1 = {1,2,3} ;\n</code></pre>\n<p>and</p>\n<pre><code>int[] arr2 = new int[]{1,2,3} ;\n</code></pre>\n<p>Recently I give a interview in which round-1 online test they write like this so i just think about it.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671945513,"creation_date":1671945513,"answer_id":74911627,"question_id":74911595,"body_markdown":"First off, Android Studio is an IDE-  a fancy text editor.  It has no functionality.  You don&#39;t even need it to write an Android program.  So I&#39;ll assume you wanted to ask if the Android OS had something built in for that.\r\n\r\nThe answer is no-  the Android OS doesn&#39;t do app logins, so it has no ability to control when they could happen.  You&#39;d need to write that yourself.  In a real app, you&#39;d have your server doing that and either not allowing logins outside that time, or more likely just not allowing editing of data outside that time (but still allowing viewing of data).  It really shouldn&#39;t be done clientside at all, because someone can break your app just by changing the time on their phone.  Doing it on the server means you have an authoritative and trusted source of time.\r\n\r\nIf you&#39;re forced into firebase (which I really wouldn&#39;t suggest for an app where anything where the user needs to be prevented from doing things), then you need to add a check for the time before writing any data to it.  It wouldn&#39;t be a good choice of infrastructure for an actual production app, but that can be good enough for a school project.My suggestion is to write a class DatabaseManager that encapsulates your firebase information and provides an API to read and set the data.  That layer could include the check when writing to the db.  Then in the rest of your app, use that object rather than directly accessing firebase.  That&#39;s a best practice anyway-  always hide the implementation of what your db is from the rest of your app, you never know when it might change.","title":"Is there a function in android which enable user to login only at specified time intervals?","body":"<p>First off, Android Studio is an IDE-  a fancy text editor.  It has no functionality.  You don't even need it to write an Android program.  So I'll assume you wanted to ask if the Android OS had something built in for that.</p>\n<p>The answer is no-  the Android OS doesn't do app logins, so it has no ability to control when they could happen.  You'd need to write that yourself.  In a real app, you'd have your server doing that and either not allowing logins outside that time, or more likely just not allowing editing of data outside that time (but still allowing viewing of data).  It really shouldn't be done clientside at all, because someone can break your app just by changing the time on their phone.  Doing it on the server means you have an authoritative and trusted source of time.</p>\n<p>If you're forced into firebase (which I really wouldn't suggest for an app where anything where the user needs to be prevented from doing things), then you need to add a check for the time before writing any data to it.  It wouldn't be a good choice of infrastructure for an actual production app, but that can be good enough for a school project.My suggestion is to write a class DatabaseManager that encapsulates your firebase information and provides an API to read and set the data.  That layer could include the check when writing to the db.  Then in the rest of your app, use that object rather than directly accessing firebase.  That's a best practice anyway-  always hide the implementation of what your db is from the rest of your app, you never know when it might change.</p>\n"}],"owner":{"account_id":22409571,"reputation":5,"user_id":16618561,"display_name":"Srujan Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74911627,"answer_count":1,"score":0,"last_activity_date":1671946139,"creation_date":1671944843,"question_id":74911595,"body_markdown":"I am working on attendance app as a part of my college project. I want to include a function such that the user can login only at specific time period. lets say from 9:30 a.m to 9:40 a.m. After that the login should be disabled for another 40 minutes and enable for the next 10 minutes. This process should repeat for 8 times a day, i.e; from 9:30 a.m in the morning till 4:10 p.m in the evening. The function should reset for every new day.\r\n \r\nI used firebase as the backend for my project.\r\n\r\nI have tried to setting the timer during the login screen but that didn&#39;t work out. I was expecting that the login buttton should be valid for only 10 minutes and be disabled for another 40 minutes . This cycle should repeat for 8 times a day, starting from the specified time in android, lets say at 9:30 a.m. I am new to android development and i don&#39;t know how to proceed from here on. I need guidance on how to implement this function.\r\n","title":"Is there a function in android which enable user to login only at specified time intervals?","body":"<p>I am working on attendance app as a part of my college project. I want to include a function such that the user can login only at specific time period. lets say from 9:30 a.m to 9:40 a.m. After that the login should be disabled for another 40 minutes and enable for the next 10 minutes. This process should repeat for 8 times a day, i.e; from 9:30 a.m in the morning till 4:10 p.m in the evening. The function should reset for every new day.</p>\n<p>I used firebase as the backend for my project.</p>\n<p>I have tried to setting the timer during the login screen but that didn't work out. I was expecting that the login buttton should be valid for only 10 minutes and be disabled for another 40 minutes . This cycle should repeat for 8 times a day, starting from the specified time in android, lets say at 9:30 a.m. I am new to android development and i don't know how to proceed from here on. I need guidance on how to implement this function.</p>\n"},{"tags":["java","android","arrays","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":21541494,"reputation":11,"user_id":15879180,"display_name":"ABDULLAH SH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671943645,"creation_date":1671829537,"answer_id":74903992,"question_id":74873444,"body_markdown":"No one seems to have responded\r\nWhatever it is, I searched a lot and here is how I solved it\r\nUsing `CountDownLatch`\r\n\r\nThe code :\r\n```java\r\nint length = subscribeTo.length();\r\nCountDownLatch latch = new CountDownLatch(length);\r\n \r\nfor (int i = 0; i &lt; length; i++) {\r\n    String sub = null;\r\n    try {\r\n        sub = subscribeTo.get(i).toString();\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n    int finalI = i;\r\n    String finalSub = sub;\r\n    FirebaseMessaging.getInstance().subscribeToTopic(subscribeTo.get(i).toString()).addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n            editor.putString(&quot;sub&quot; + finalI, finalSub);\r\n            latch.countDown(); // The number will decrease\r\n        }\r\n    });\r\n}\r\n \r\nlatch.await(); // Here it will wait until it ensures that all subscriptions are completed\r\neditor.putInt(&quot;sub_length&quot;, length);\r\neditor.putString(&quot;restaurant_name&quot;, dataa.get(&quot;restaurant_name&quot;).toString());\r\neditor.putString(&quot;username&quot;, dataa.get(&quot;username&quot;).toString());\r\neditor.putString(&quot;password&quot;, dataa.get(&quot;password&quot;).toString());\r\neditor.apply();\r\nIntent intent = new Intent(MainActivity.this, MainActivity2.class);\r\nstartActivity(intent);\r\nLog.e(&quot;done&quot;, &quot;yes&quot;);","title":"How can I wait until all FCM subscriptions are completed","body":"<p>No one seems to have responded\nWhatever it is, I searched a lot and here is how I solved it\nUsing <code>CountDownLatch</code></p>\n<p>The code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int length = subscribeTo.length();\nCountDownLatch latch = new CountDownLatch(length);\n \nfor (int i = 0; i &lt; length; i++) {\n    String sub = null;\n    try {\n        sub = subscribeTo.get(i).toString();\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    int finalI = i;\n    String finalSub = sub;\n    FirebaseMessaging.getInstance().subscribeToTopic(subscribeTo.get(i).toString()).addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            editor.putString(&quot;sub&quot; + finalI, finalSub);\n            latch.countDown(); // The number will decrease\n        }\n    });\n}\n \nlatch.await(); // Here it will wait until it ensures that all subscriptions are completed\neditor.putInt(&quot;sub_length&quot;, length);\neditor.putString(&quot;restaurant_name&quot;, dataa.get(&quot;restaurant_name&quot;).toString());\neditor.putString(&quot;username&quot;, dataa.get(&quot;username&quot;).toString());\neditor.putString(&quot;password&quot;, dataa.get(&quot;password&quot;).toString());\neditor.apply();\nIntent intent = new Intent(MainActivity.this, MainActivity2.class);\nstartActivity(intent);\nLog.e(&quot;done&quot;, &quot;yes&quot;);\n</code></pre>\n"}],"owner":{"account_id":21541494,"reputation":11,"user_id":15879180,"display_name":"ABDULLAH SH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74903992,"answer_count":1,"score":0,"last_activity_date":1671943645,"creation_date":1671612822,"question_id":74873444,"body_markdown":"I fetch the server and get an array with topics to subscribe to, I loop it and subscribe to each topic, What I want to do is wait for this to complete then start new activity .\r\n\r\nI did it with number of loop , If it equals the length minus one of array then start new activity .\r\nHere is my code :\r\n\r\n\r\n\r\n```\r\nint length = subscribeTo.length();\r\nfor (int i = 0; i &lt; length; i++) {\r\n    String sub = null;\r\n    try {\r\n        sub = subscribeTo.get(i).toString();\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n    int finalI = i;\r\n    JSONObject finalData = data;\r\n    String finalSub = sub;\r\n    FirebaseMessaging.getInstance().subscribeToTopic(sub).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            Log.e(&quot;sub&quot;, finalSub);\r\n            if (!task.isSuccessful()) {\r\n                Toast.makeText(MainActivity.this, &quot;can&#39;t login in&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            Log.e(&quot;test&quot;, &quot;sub&quot; + finalI);\r\n            if (finalI == length - 1) {\r\n                try {\r\n                    editor.putInt(&quot;sub_length&quot;, length);\r\n                    editor.putString(&quot;restaurant_name&quot;, finalData.get(&quot;restaurant_name&quot;).toString());\r\n                    editor.putString(&quot;username&quot;, finalData.get(&quot;username&quot;).toString());\r\n                    editor.putString(&quot;password&quot;, finalData.get(&quot;password&quot;).toString());\r\n                    editor.putString(&quot;sub&quot; + finalI, finalSub);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                startActivity(intent);\r\n                editor.apply();\r\n                finish();\r\n            }\r\n        }\r\n\r\n    });\r\n}\r\n```\r\nThere is no better way to do ?\r\nI&#39;m new to java by the way .","title":"How can I wait until all FCM subscriptions are completed","body":"<p>I fetch the server and get an array with topics to subscribe to, I loop it and subscribe to each topic, What I want to do is wait for this to complete then start new activity .</p>\n<p>I did it with number of loop , If it equals the length minus one of array then start new activity .\nHere is my code :</p>\n<pre><code>int length = subscribeTo.length();\nfor (int i = 0; i &lt; length; i++) {\n    String sub = null;\n    try {\n        sub = subscribeTo.get(i).toString();\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    int finalI = i;\n    JSONObject finalData = data;\n    String finalSub = sub;\n    FirebaseMessaging.getInstance().subscribeToTopic(sub).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            Log.e(&quot;sub&quot;, finalSub);\n            if (!task.isSuccessful()) {\n                Toast.makeText(MainActivity.this, &quot;can't login in&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n            Log.e(&quot;test&quot;, &quot;sub&quot; + finalI);\n            if (finalI == length - 1) {\n                try {\n                    editor.putInt(&quot;sub_length&quot;, length);\n                    editor.putString(&quot;restaurant_name&quot;, finalData.get(&quot;restaurant_name&quot;).toString());\n                    editor.putString(&quot;username&quot;, finalData.get(&quot;username&quot;).toString());\n                    editor.putString(&quot;password&quot;, finalData.get(&quot;password&quot;).toString());\n                    editor.putString(&quot;sub&quot; + finalI, finalSub);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n                startActivity(intent);\n                editor.apply();\n                finish();\n            }\n        }\n\n    });\n}\n</code></pre>\n<p>There is no better way to do ?\nI'm new to java by the way .</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1671810930,"post_id":74901451,"comment_id":132181960,"body_markdown":"Maybe this one? https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470","body":"Maybe this one? <a href=\"https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470\" title=\"authentication failure while trying to save to mongodb\">stackoverflow.com/questions/63754742/&hellip;</a>"},{"owner":{"account_id":15776232,"reputation":1440,"user_id":11383969,"display_name":"DSteman"},"score":0,"creation_date":1671812462,"post_id":74901451,"comment_id":132182373,"body_markdown":"Thanks for the suggestion but in that question an authentication error is raised. In my case, the whole db can&#39;t be found it seems... I tried appending `?authSource=admin` to the URI but no luck.","body":"Thanks for the suggestion but in that question an authentication error is raised. In my case, the whole db can&#39;t be found it seems... I tried appending <code>?authSource=admin</code> to the URI but no luck."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672025553,"post_id":74901451,"comment_id":132209031,"body_markdown":"@DSteman, use `mongosh admin -u root -p example`, `use test`, `db.createUser({user: &quot;root&quot;, pwd: &quot;example&quot;, roles: [&quot;dbOwner&quot;]})`, details step describe in my answer. I am test Ok.","body":"@DSteman, use <code>mongosh admin -u root -p example</code>, <code>use test</code>, <code>db.createUser({user: &quot;root&quot;, pwd: &quot;example&quot;, roles: [&quot;dbOwner&quot;]})</code>, details step describe in my answer. I am test Ok."}],"answers":[{"comments":[{"owner":{"account_id":15776232,"reputation":1440,"user_id":11383969,"display_name":"DSteman"},"score":1,"creation_date":1672053452,"post_id":74901889,"comment_id":132213018,"body_markdown":"Actually I made a mistake thinking I had to expose Mongo Express, which is just the admin portal. You are right for suggesting to expose port 27071 on the mongo container. @life888888 explained this quite thoroughly.","body":"Actually I made a mistake thinking I had to expose Mongo Express, which is just the admin portal. You are right for suggesting to expose port 27071 on the mongo container. @life888888 explained this quite thoroughly."}],"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671813030,"creation_date":1671813030,"answer_id":74901889,"question_id":74901451,"body_markdown":"Are you using `-p 8081:27071` while running your mongo docker container? I guess your config `- 8081:8081` should be updated to &#39;- 8081:27071&#39;.","title":"Spring Boot can&#39;t reach localhost Mongodb","body":"<p>Are you using <code>-p 8081:27071</code> while running your mongo docker container? I guess your config <code>- 8081:8081</code> should be updated to '- 8081:27071'.</p>\n"},{"comments":[{"owner":{"account_id":15776232,"reputation":1440,"user_id":11383969,"display_name":"DSteman"},"score":0,"creation_date":1672053525,"post_id":74911482,"comment_id":132213024,"body_markdown":"Thanks for this elaborate answer. I made a mistake by exposing the port of the mongo express container and not the mongo container...","body":"Thanks for this elaborate answer. I made a mistake by exposing the port of the mongo express container and not the mongo container..."}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671941788,"creation_date":1671941788,"answer_id":74911482,"question_id":74901451,"body_markdown":"# Download example code \r\n\r\n    git clone https://github.com/spring-guides/gs-accessing-mongodb-data-rest\r\n\r\n## goto gs-accessing-mongodb-data-rest/complete\r\n\r\ncreate dir `resources` under `src/main/\r\n\r\n## create application.properties\r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=test\r\n    spring.data.mongodb.username=root\r\n    spring.data.mongodb.password=example\r\n\r\n# MongoDB docker compose\r\n## docker-compose.yml\r\n\r\n    version: &#39;3.1&#39;\r\n    \r\n    services:\r\n    \r\n      mongo:\r\n        image: mongo\r\n        restart: always\r\n        ports:\r\n          - 27017:27017\r\n        environment:\r\n          MONGO_INITDB_DATABASE: test\r\n          MONGO_INITDB_ROOT_USERNAME: root\r\n          MONGO_INITDB_ROOT_PASSWORD: example\r\n    \r\n      mongo-express:\r\n        image: mongo-express\r\n        restart: always\r\n        ports:\r\n          - 8081:8081\r\n        environment:\r\n          ME_CONFIG_MONGODB_ADMINUSERNAME: root\r\n          ME_CONFIG_MONGODB_ADMINPASSWORD: example\r\n          ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/\r\n\r\n## Start MonogoDB\r\n\r\n    docker compose up\r\n\r\n## Use mongosh\r\n\r\n`mongosh admin -u root -p example`\r\n\r\nIn mongosh\r\n\r\n    use test\r\n    \r\n    db.createUser({user: &quot;root&quot;, pwd: &quot;example&quot;, roles: [&quot;dbOwner&quot;]})\r\n\r\n    exit\r\n\r\n# Run Spring Boot\r\n## go to gs-accessing-mongodb-data-rest/complete\r\n\r\n    mvn clean spring-boot:run\r\n\r\n## Test\r\n\r\n    curl -i -X POST -H &quot;Content-Type:application/json&quot; -d &quot;{  \\&quot;firstName\\&quot; : \\&quot;Frodo\\&quot;,  \\&quot;lastName\\&quot; : \\&quot;Baggins\\&quot; }&quot; http://localhost:8080/people\r\n\r\n## Result\r\n\r\n    HTTP/1.1 201 \r\n    Vary: Origin\r\n    Vary: Access-Control-Request-Method\r\n    Vary: Access-Control-Request-Headers\r\n    Location: http://localhost:8080/people/63a7cb0249786806453df30d\r\n    Content-Type: application/hal+json\r\n    Transfer-Encoding: chunked\r\n    Date: Sun, 25 Dec 2022 04:01:06 GMT\r\n    \r\n    {\r\n      &quot;firstName&quot; : &quot;Frodo&quot;,\r\n      &quot;lastName&quot; : &quot;Baggins&quot;,\r\n      &quot;_links&quot; : {\r\n        &quot;self&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/people/63a7cb0249786806453df30d&quot;\r\n        },\r\n        &quot;person&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8080/people/63a7cb0249786806453df30d&quot;\r\n        }\r\n      }\r\n\r\n","title":"Spring Boot can&#39;t reach localhost Mongodb","body":"<h1>Download example code</h1>\n<pre><code>git clone https://github.com/spring-guides/gs-accessing-mongodb-data-rest\n</code></pre>\n<h2>goto gs-accessing-mongodb-data-rest/complete</h2>\n<p>create dir <code>resources</code> under `src/main/</p>\n<h2>create application.properties</h2>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=test\nspring.data.mongodb.username=root\nspring.data.mongodb.password=example\n</code></pre>\n<h1>MongoDB docker compose</h1>\n<h2>docker-compose.yml</h2>\n<pre><code>version: '3.1'\n\nservices:\n\n  mongo:\n    image: mongo\n    restart: always\n    ports:\n      - 27017:27017\n    environment:\n      MONGO_INITDB_DATABASE: test\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: example\n\n  mongo-express:\n    image: mongo-express\n    restart: always\n    ports:\n      - 8081:8081\n    environment:\n      ME_CONFIG_MONGODB_ADMINUSERNAME: root\n      ME_CONFIG_MONGODB_ADMINPASSWORD: example\n      ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/\n</code></pre>\n<h2>Start MonogoDB</h2>\n<pre><code>docker compose up\n</code></pre>\n<h2>Use mongosh</h2>\n<p><code>mongosh admin -u root -p example</code></p>\n<p>In mongosh</p>\n<pre><code>use test\n\ndb.createUser({user: &quot;root&quot;, pwd: &quot;example&quot;, roles: [&quot;dbOwner&quot;]})\n\nexit\n</code></pre>\n<h1>Run Spring Boot</h1>\n<h2>go to gs-accessing-mongodb-data-rest/complete</h2>\n<pre><code>mvn clean spring-boot:run\n</code></pre>\n<h2>Test</h2>\n<pre><code>curl -i -X POST -H &quot;Content-Type:application/json&quot; -d &quot;{  \\&quot;firstName\\&quot; : \\&quot;Frodo\\&quot;,  \\&quot;lastName\\&quot; : \\&quot;Baggins\\&quot; }&quot; http://localhost:8080/people\n</code></pre>\n<h2>Result</h2>\n<pre><code>HTTP/1.1 201 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nLocation: http://localhost:8080/people/63a7cb0249786806453df30d\nContent-Type: application/hal+json\nTransfer-Encoding: chunked\nDate: Sun, 25 Dec 2022 04:01:06 GMT\n\n{\n  &quot;firstName&quot; : &quot;Frodo&quot;,\n  &quot;lastName&quot; : &quot;Baggins&quot;,\n  &quot;_links&quot; : {\n    &quot;self&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/people/63a7cb0249786806453df30d&quot;\n    },\n    &quot;person&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/people/63a7cb0249786806453df30d&quot;\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":15776232,"reputation":1440,"user_id":11383969,"display_name":"DSteman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74911482,"answer_count":2,"score":0,"last_activity_date":1671941788,"creation_date":1671809991,"question_id":74901451,"body_markdown":"I&#39;m following [this](https://spring.io/guides/gs/accessing-mongodb-data-rest/#initial) example of creating a Spring Boot app that connects with a Mongo DB. However, when I run my application I get:\r\n\r\n    Exception in monitor thread while connecting to server localhost:8081\r\n\r\nWith the following properties:\r\n\r\n    spring.data.mongodb.uri=mongodb://root:example@localhost:8081/test\r\n\r\nAnd the following `MongoClient`:\r\n\r\n```\r\nMongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.8.0&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-56-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.5+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;root&#39;, source=&#39;test&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1b9d9a2b]}, clusterSettings={hosts=[localhost:8081], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n```\r\n\r\nThe application is running fine but can&#39;t reach the db. I tried several other settings, such as replacing `localhost` with `127.0.0.1` and declaring settings in separate values such that:\r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=8081\r\n    spring.data.mongodb.database=test\r\n    spring.data.mongodb.username=root\r\n    spring.data.mongodb.password=example\r\n\r\nBut nothing seems to work. The Mongo DB dashboard is shown at `localhost:8081` so I know that the DB is actually running fine.\r\n\r\nThis is what I used start a local Mongo DB instance in a Docker container:\r\n\r\n    # Use root/example as user/password credentials\r\n    version: &#39;3.1&#39;\r\n    \r\n    services:\r\n    \r\n      mongo:\r\n        image: mongo\r\n        restart: always\r\n        environment:\r\n          MONGO_INITDB_DATABASE: test\r\n          MONGO_INITDB_ROOT_USERNAME: root\r\n          MONGO_INITDB_ROOT_PASSWORD: example\r\n    \r\n      mongo-express:\r\n        image: mongo-express\r\n        restart: always\r\n        ports:\r\n          - 8081:8081\r\n        environment:\r\n          ME_CONFIG_MONGODB_ADMINUSERNAME: root\r\n          ME_CONFIG_MONGODB_ADMINPASSWORD: example\r\n          ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/","title":"Spring Boot can&#39;t reach localhost Mongodb","body":"<p>I'm following <a href=\"https://spring.io/guides/gs/accessing-mongodb-data-rest/#initial\" rel=\"nofollow noreferrer\">this</a> example of creating a Spring Boot app that connects with a Mongo DB. However, when I run my application I get:</p>\n<pre><code>Exception in monitor thread while connecting to server localhost:8081\n</code></pre>\n<p>With the following properties:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://root:example@localhost:8081/test\n</code></pre>\n<p>And the following <code>MongoClient</code>:</p>\n<pre><code>MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.8.0&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-56-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.5+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='root', source='test', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1b9d9a2b]}, clusterSettings={hosts=[localhost:8081], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n</code></pre>\n<p>The application is running fine but can't reach the db. I tried several other settings, such as replacing <code>localhost</code> with <code>127.0.0.1</code> and declaring settings in separate values such that:</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=8081\nspring.data.mongodb.database=test\nspring.data.mongodb.username=root\nspring.data.mongodb.password=example\n</code></pre>\n<p>But nothing seems to work. The Mongo DB dashboard is shown at <code>localhost:8081</code> so I know that the DB is actually running fine.</p>\n<p>This is what I used start a local Mongo DB instance in a Docker container:</p>\n<pre><code># Use root/example as user/password credentials\nversion: '3.1'\n\nservices:\n\n  mongo:\n    image: mongo\n    restart: always\n    environment:\n      MONGO_INITDB_DATABASE: test\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: example\n\n  mongo-express:\n    image: mongo-express\n    restart: always\n    ports:\n      - 8081:8081\n    environment:\n      ME_CONFIG_MONGODB_ADMINUSERNAME: root\n      ME_CONFIG_MONGODB_ADMINPASSWORD: example\n      ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/\n</code></pre>\n"},{"tags":["java","maven","jersey","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1671958048,"post_id":74911481,"comment_id":132200796,"body_markdown":"Does [this question](https://stackoverflow.com/q/49909070/11748454) solve your problem? Jersey 1.19.x can scan Java 8 classes, but it chokes on Java 9 classes in `/META-INF/versions/9`.","body":"Does <a href=\"https://stackoverflow.com/q/49909070/11748454\">this question</a> solve your problem? Jersey 1.19.x can scan Java 8 classes, but it chokes on Java 9 classes in <code>&#47;META-INF&#47;versions&#47;9</code>."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1672058307,"post_id":74911481,"comment_id":132213960,"body_markdown":"Objectweb doesn’t understand the classes, this cannot be fixed without updating glassfish","body":"Objectweb doesn’t understand the classes, this cannot be fixed without updating glassfish"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1672927452,"post_id":74911481,"comment_id":132386541,"body_markdown":"Jersey 1.19.4 is the last Jersey 1 version and it should understand Java 8 classes. I would recommend using Jersey 2, though.","body":"Jersey 1.19.4 is the last Jersey 1 version and it should understand Java 8 classes. I would recommend using Jersey 2, though."}],"owner":{"account_id":19001868,"reputation":11,"user_id":13869216,"display_name":"Megha Verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671941777,"creation_date":1671941777,"question_id":74911481,"body_markdown":"I am upgrading log4j(from 2.3 --&gt; 2.17.2) version of maven application running on jdk 1.8 and jersey version 1.19 but getting below error\r\n\r\n```\r\nSEVERE: StandardWrapper.Throwable\r\njava.lang.IllegalArgumentException\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\tat com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\r\n\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\r\n\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1238)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1151)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1038)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5337)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nCan someone help me with what all changes I need to do for successful execution ?","title":"Which Jersey version is compatible with Log4j version 2.17.2 and Jdk 1.8?","body":"<p>I am upgrading log4j(from 2.3 --&gt; 2.17.2) version of maven application running on jdk 1.8 and jersey version 1.19 but getting below error</p>\n<pre><code>SEVERE: StandardWrapper.Throwable\njava.lang.IllegalArgumentException\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n    at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n    at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\n    at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n    at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n    at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n    at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1238)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1151)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1038)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5337)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Can someone help me with what all changes I need to do for successful execution ?</p>\n"},{"tags":["java","algorithm","data-structures","tree","tree-traversal"],"comments":[{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1671941944,"post_id":74911460,"comment_id":132199502,"body_markdown":"Sounds like you&#39;ve got the wrong `Queue`.","body":"Sounds like you&#39;ve got the wrong <code>Queue</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1671945135,"post_id":74911460,"comment_id":132199673,"body_markdown":"There&#39;s no `Queue&lt;Integer&gt;` in the code you&#39;ve posted.","body":"There&#39;s no <code>Queue&lt;Integer&gt;</code> in the code you&#39;ve posted."}],"owner":{"account_id":27347154,"reputation":11,"user_id":20856879,"display_name":"Ayushman Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671941279,"creation_date":1671941279,"question_id":74911460,"body_markdown":"```\r\n  public static void levelorder(Noden root){\r\n\t\t   if(root == null){\r\n\t\t\t   return;\r\n\t\t   }\r\n\t\t  Queue&lt;Noden&gt; q = new ArrayDeque&lt;&gt;();\r\n\t\t   q.add(root);\r\n\t\t   q.add(null);\r\n\t\t   while(!q.isEmpty()){\r\n\t\t\t   Noden curr = q.remove();\r\n\t\t\t   if(curr==null)\r\n\t\t\t   {\r\n\t\t\t\t   System.out.println();\r\n\t\t\t   if(q.isEmpty()){\r\n\t\t\t\t   break;\r\n\t\t\t   }else{\r\n\t\t\t\t   q.add(null);\r\n\t\t\t   }\r\n\t\t\t   }else{\r\n\t\t\t\t   System.out.println(curr.data+&quot; &quot;);\r\n\t\t\t\t   if(curr.left!=null){\r\n\t\t\t\t\t   q.add(curr.left);\r\n\t\t\t\t   }\r\n\t\t\t\t   if(curr.right!=null){\r\n\t\t\t\t\t   q.add(curr.right);\r\n\t\t\t\t   }\r\n\t\t\t   }\r\n\t\t   }\r\n\t   }\r\n   }\r\n```\r\nand when i use priorityqueue at the place of queue  throwing nullpointer error\r\n\r\ni try to trverse a tree using leveltraversal algorithm\r\nbut i stuck!!","title":"type Queue does not take parameters Queue&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();","body":"<pre><code>  public static void levelorder(Noden root){\n           if(root == null){\n               return;\n           }\n          Queue&lt;Noden&gt; q = new ArrayDeque&lt;&gt;();\n           q.add(root);\n           q.add(null);\n           while(!q.isEmpty()){\n               Noden curr = q.remove();\n               if(curr==null)\n               {\n                   System.out.println();\n               if(q.isEmpty()){\n                   break;\n               }else{\n                   q.add(null);\n               }\n               }else{\n                   System.out.println(curr.data+&quot; &quot;);\n                   if(curr.left!=null){\n                       q.add(curr.left);\n                   }\n                   if(curr.right!=null){\n                       q.add(curr.right);\n                   }\n               }\n           }\n       }\n   }\n</code></pre>\n<p>and when i use priorityqueue at the place of queue  throwing nullpointer error</p>\n<p>i try to trverse a tree using leveltraversal algorithm\nbut i stuck!!</p>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1672271414,"post_id":74911445,"comment_id":132257145,"body_markdown":"Is there a particular reason you wouldn’t inject it with `@Autowired` or similar? Spring should handle generics properly when you do that.","body":"Is there a particular reason you wouldn’t inject it with <code>@Autowired</code> or similar? Spring should handle generics properly when you do that."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1672277098,"post_id":74911445,"comment_id":132257939,"body_markdown":"Good point @Didier, the reason why I am not using Autowired is because I have dozens of implementations of the interface, and I need to get the most appropriate one at runtime. Using Autowire will show limitation as in which one of the dozens to choose.","body":"Good point @Didier, the reason why I am not using Autowired is because I have dozens of implementations of the interface, and I need to get the most appropriate one at runtime. Using Autowire will show limitation as in which one of the dozens to choose."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1672306762,"post_id":74911445,"comment_id":132262825,"body_markdown":"In that case I guess you actually have some `MyInterface&lt;T&gt;` at compile time, which makes it even more difficult to avoid the unchecked assignment. I suppose you might have some chance with [`getBeanProvider(ResolvableType)`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBeanProvider(org.springframework.core.ResolvableType)), but it basically hides the unchecked assignment for you as it has no way to check that the `ResolvableType` matches the type you expect.","body":"In that case I guess you actually have some <code>MyInterface&lt;T&gt;</code> at compile time, which makes it even more difficult to avoid the unchecked assignment. I suppose you might have some chance with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBeanProvider(org.springframework.core.ResolvableType)\" rel=\"nofollow noreferrer\"><code>getBeanProvider(ResolvableType)</code></a>, but it basically hides the unchecked assignment for you as it has no way to check that the <code>ResolvableType</code> matches the type you expect."}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671940845,"creation_date":1671940845,"question_id":74911445,"body_markdown":"Small question regarding Java Spring and Generic please.\r\n\r\nI have a very straightforward interface as such:\r\n\r\n```\r\npublic interface MyInterface&lt;T&gt; {\r\n\r\n    &lt;S extends T&gt; Mono&lt;S&gt; save(S entity);\r\n\r\n}\r\n```\r\n\r\nWith some classes implementing it:\r\n\r\n```\r\n@Repository(&quot;redis&quot;)\r\npublic class MyRedisRepository implements MyInterface&lt;MyPojo&gt; {\r\n\r\n@Override\r\n    public &lt;S extends MyPojo&gt; Mono&lt;S&gt; save(S entity) {\r\n        return reactiveRedisOperations.opsForValue().set(&quot;someKey&quot;, entity.getValue()).map(__ -&gt; entity);\r\n    }\r\n```\r\n\r\nAnd in my code, I am trying to get the correct bean as such:\r\n\r\n```\r\nfinal MyInterface&lt;MyPojo&gt; myInterface = applicationContext.getBean(&quot;redis&quot;, MyInterface.class);\r\n```\r\n\r\nWhile I am able to get the correct bean, there is 100% of the time the warning on ```applicationContext.getBean``` ```Unchecked assignment &#39;MyInterface&#39; to &#39;MyInterface&lt;MyPojo&gt;&#39; ```\r\n\r\nIs there a way I can get the bean as &#39;MyInterface&lt;MyPojo&gt;&#39; please?\r\n\r\nThank you\r\n\r\n","title":"Java Spring Generic: Application context getBean -&gt; unchecked assignment","body":"<p>Small question regarding Java Spring and Generic please.</p>\n<p>I have a very straightforward interface as such:</p>\n<pre><code>public interface MyInterface&lt;T&gt; {\n\n    &lt;S extends T&gt; Mono&lt;S&gt; save(S entity);\n\n}\n</code></pre>\n<p>With some classes implementing it:</p>\n<pre><code>@Repository(&quot;redis&quot;)\npublic class MyRedisRepository implements MyInterface&lt;MyPojo&gt; {\n\n@Override\n    public &lt;S extends MyPojo&gt; Mono&lt;S&gt; save(S entity) {\n        return reactiveRedisOperations.opsForValue().set(&quot;someKey&quot;, entity.getValue()).map(__ -&gt; entity);\n    }\n</code></pre>\n<p>And in my code, I am trying to get the correct bean as such:</p>\n<pre><code>final MyInterface&lt;MyPojo&gt; myInterface = applicationContext.getBean(&quot;redis&quot;, MyInterface.class);\n</code></pre>\n<p>While I am able to get the correct bean, there is 100% of the time the warning on <code>applicationContext.getBean</code> <code>Unchecked assignment 'MyInterface' to 'MyInterface&lt;MyPojo&gt;' </code></p>\n<p>Is there a way I can get the bean as 'MyInterface' please?</p>\n<p>Thank you</p>\n"},{"tags":["java","smtp","hotmail"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671980627,"post_id":74911278,"comment_id":132203626,"body_markdown":"_&quot;sansalnuray@hotmail.com not allowed to send as Sansal@SansalPC.mshome.net&quot;_. You&#39;re using the wrong sender/from-address","body":"<i>&quot;sansalnuray@hotmail.com not allowed to send as Sansal@SansalPC.mshome.net&quot;</i>. You&#39;re using the wrong sender/from-address"}],"answers":[{"comments":[{"owner":{"account_id":27007255,"reputation":1,"user_id":20567505,"display_name":"Sansal"},"score":1,"creation_date":1671937602,"post_id":74911299,"comment_id":132199262,"body_markdown":"Thank you for your comment. I don&#39;t have any Sansal@SansalPC.mshome.net email addresses. I also log in to my laptop with my Hotmail credential.","body":"Thank you for your comment. I don&#39;t have any Sansal@SansalPC.mshome.net email addresses. I also log in to my laptop with my Hotmail credential."},{"owner":{"account_id":27007255,"reputation":1,"user_id":20567505,"display_name":"Sansal"},"score":0,"creation_date":1671937649,"post_id":74911299,"comment_id":132199265,"body_markdown":"You must ensure that the email address you&#39;re trying to send from is one that is authorized to send emails. Do you mean sansalnuray@hotmail.com here?","body":"You must ensure that the email address you&#39;re trying to send from is one that is authorized to send emails. Do you mean sansalnuray@hotmail.com here?"},{"owner":{"account_id":27007255,"reputation":1,"user_id":20567505,"display_name":"Sansal"},"score":0,"creation_date":1672179708,"post_id":74911299,"comment_id":132237622,"body_markdown":"Do you know any solution for this?","body":"Do you know any solution for this?"}],"tags":[],"owner":{"account_id":21466947,"reputation":1,"user_id":15816718,"display_name":"Daniel Zazzali"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671936221,"creation_date":1671936221,"answer_id":74911299,"question_id":74911278,"body_markdown":"It looks like the email address&#160;you were trying to use, is not allowed to send an email under the name Sansal@SansalPC.mshome.net, judging by the error message you gave. This means that a &quot;Send As&quot; restriction is in place and prevents you from sending emails from this email address using a different address.\r\n\r\nYou must ensure that the email address you&#39;re trying to send from is one that is authorized to send emails.","title":"Error While Sending Emails from Hotmail SMTP","body":"<p>It looks like the email address you were trying to use, is not allowed to send an email under the name Sansal@SansalPC.mshome.net, judging by the error message you gave. This means that a &quot;Send As&quot; restriction is in place and prevents you from sending emails from this email address using a different address.</p>\n<p>You must ensure that the email address you're trying to send from is one that is authorized to send emails.</p>\n"}],"owner":{"account_id":27007255,"reputation":1,"user_id":20567505,"display_name":"Sansal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671939274,"creation_date":1671935572,"question_id":74911278,"body_markdown":"Email Sending with Hotmail by using java. I got 554.5.2.252 error.\r\n\r\nI got Exception in thread &quot;main&quot; com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.252 ... error while sending emails from my hotmail account. \r\n\r\n\r\n```\r\npackage utilities;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\nimport javax.mail.Message;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.AddressException;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeBodyPart;\r\nimport javax.mail.internet.MimeMessage;\r\nimport javax.mail.internet.MimeMultipart;\r\n\r\n\r\npublic class SecureEmail\r\n{\r\n\r\n\t//SETUP MAIL SERVER PROPERTIES\r\n\t//DRAFT AN EMAIL\r\n\t//SEND EMAIL\r\n\t\t\r\n\tSession newSession = null;\r\n\tMimeMessage mimeMessage = null;\r\n\tpublic static void main(String args[]) throws AddressException, MessagingException, IOException\r\n\t{\r\n\t\tSecureEmail mail = new SecureEmail();\r\n\t\tmail.setupServerProperties();\r\n\t\tmail.draftEmail();\r\n\t\tmail.sendEmail();\r\n\t}\r\n\r\n\tprivate void sendEmail() throws MessagingException {\r\n\t\tString fromUser = &quot;sansalnuray@hotmail.com&quot;;  \r\n\t\tString fromUserPassword = &quot;***&quot;;  \r\n\t\tString emailHost = &quot;smtp.office365.com&quot;;\r\n\t\tTransport transport = newSession.getTransport(&quot;smtp&quot;);\r\n\t\ttransport.connect(emailHost, fromUser, fromUserPassword);\r\n\t\ttransport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\r\n\t\ttransport.close();\r\n\t\tSystem.out.println(&quot;Email successfully sent!!!&quot;);\r\n\t}\r\n\r\n\tprivate MimeMessage draftEmail() throws AddressException, MessagingException, IOException {\r\n\t\tString[] emailReceipients = {&quot;sansalnuray@gmail.com&quot;};  \r\n\t\tString emailSubject = &quot;Test Mail&quot;;\r\n\t\tString emailBody = &quot;Test Body of my email&quot;;\r\n\t\tmimeMessage = new MimeMessage(newSession);\r\n\t\t\r\n\t\tfor (int i =0 ;i&lt;emailReceipients.length;i++)\r\n\t\t{\r\n\t\t\tmimeMessage.addRecipient(Message.RecipientType.TO, new InternetAddress(emailReceipients[i]));\r\n\t\t}\r\n\t\tmimeMessage.setSubject(emailSubject);\r\n\t   \r\n\r\n\t    \r\n\t\t MimeBodyPart bodyPart = new MimeBodyPart();\r\n\t\t bodyPart.setContent(emailBody,&quot;html/text&quot;);\r\n\t\t MimeMultipart multiPart = new MimeMultipart();\r\n\t\t multiPart.addBodyPart(bodyPart);\r\n\t\t mimeMessage.setContent(multiPart);\r\n\t\t return mimeMessage;\r\n\t}\r\n\r\n\tprivate void setupServerProperties() {\r\n\t\tProperties properties = System.getProperties();\r\n\t\tproperties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\t\tproperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tnewSession = Session.getDefaultInstance(properties,null);\r\n\t}\r\n\t\r\n}\t\r\n```\r\n\r\n\r\nMy full error mesagge. \r\n\r\nException in thread &quot;main&quot; com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.252 SendAsDenied; sansalnuray@hotmail.com not allowed to send as Sansal@SansalPC.mshome.net; STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message [BeginDiagnosticData]Cannot submit message. 0.35250:1F00BE88, 1.36674:0A000000, 1.61250:00000000, 1.45378:02000000, 1.44866:0D020000,....","title":"Error While Sending Emails from Hotmail SMTP","body":"<p>Email Sending with Hotmail by using java. I got 554.5.2.252 error.</p>\n<p>I got Exception in thread &quot;main&quot; com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.252 ... error while sending emails from my hotmail account.</p>\n<pre><code>package utilities;\n\nimport java.io.IOException;\nimport java.util.Properties;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.AddressException;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\n\n\npublic class SecureEmail\n{\n\n    //SETUP MAIL SERVER PROPERTIES\n    //DRAFT AN EMAIL\n    //SEND EMAIL\n        \n    Session newSession = null;\n    MimeMessage mimeMessage = null;\n    public static void main(String args[]) throws AddressException, MessagingException, IOException\n    {\n        SecureEmail mail = new SecureEmail();\n        mail.setupServerProperties();\n        mail.draftEmail();\n        mail.sendEmail();\n    }\n\n    private void sendEmail() throws MessagingException {\n        String fromUser = &quot;sansalnuray@hotmail.com&quot;;  \n        String fromUserPassword = &quot;***&quot;;  \n        String emailHost = &quot;smtp.office365.com&quot;;\n        Transport transport = newSession.getTransport(&quot;smtp&quot;);\n        transport.connect(emailHost, fromUser, fromUserPassword);\n        transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\n        transport.close();\n        System.out.println(&quot;Email successfully sent!!!&quot;);\n    }\n\n    private MimeMessage draftEmail() throws AddressException, MessagingException, IOException {\n        String[] emailReceipients = {&quot;sansalnuray@gmail.com&quot;};  \n        String emailSubject = &quot;Test Mail&quot;;\n        String emailBody = &quot;Test Body of my email&quot;;\n        mimeMessage = new MimeMessage(newSession);\n        \n        for (int i =0 ;i&lt;emailReceipients.length;i++)\n        {\n            mimeMessage.addRecipient(Message.RecipientType.TO, new InternetAddress(emailReceipients[i]));\n        }\n        mimeMessage.setSubject(emailSubject);\n       \n\n        \n         MimeBodyPart bodyPart = new MimeBodyPart();\n         bodyPart.setContent(emailBody,&quot;html/text&quot;);\n         MimeMultipart multiPart = new MimeMultipart();\n         multiPart.addBodyPart(bodyPart);\n         mimeMessage.setContent(multiPart);\n         return mimeMessage;\n    }\n\n    private void setupServerProperties() {\n        Properties properties = System.getProperties();\n        properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        newSession = Session.getDefaultInstance(properties,null);\n    }\n    \n}   \n</code></pre>\n<p>My full error mesagge.</p>\n<p>Exception in thread &quot;main&quot; com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.252 SendAsDenied; sansalnuray@hotmail.com not allowed to send as Sansal@SansalPC.mshome.net; STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message [BeginDiagnosticData]Cannot submit message. 0.35250:1F00BE88, 1.36674:0A000000, 1.61250:00000000, 1.45378:02000000, 1.44866:0D020000,....</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1671895430,"post_id":74908526,"comment_id":132194084,"body_markdown":"Total Balance would be a calculated field (either by adding up all your rows in code or by a query to the database, perhaps a separate query)  You then add `totalBalance` to your Controller&#39;s model and then display that value like any of the other values in Thymeleaf.","body":"Total Balance would be a calculated field (either by adding up all your rows in code or by a query to the database, perhaps a separate query)  You then add <code>totalBalance</code> to your Controller&#39;s model and then display that value like any of the other values in Thymeleaf."}],"answers":[{"tags":[],"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671938849,"creation_date":1671938849,"answer_id":74911373,"question_id":74908526,"body_markdown":"You can add all of your data to your thymeleaf.Consider that the sum of all wallets are in a variable named &lt;code&gt;totalWallets&lt;/code&gt;. \r\n\r\n    @GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\r\n    public String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\r\n        model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\r\n        //get wallet sum. e.g. getWalletSum();\r\n        var totalWallet = getWalletSum();\r\n        model.addAttribute(&quot;totalWallets&quot;, totalWallets);\r\n        return &quot;user_profile&quot;;\r\n    }\r\nnow, you can show it in your view.\r\n\r\n    &lt;div th:each=&quot;wallet : ${wallet}&quot;&gt;\r\n    &lt;div class=&quot;wallet&quot;&gt;\r\n        &lt;p th:text=&quot;${wallet.walletName}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${wallet.initialBalance}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;br&gt;\r\n    &lt;div th:text=&quot;${totalWallets}&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;","title":"Is it possible to display data in thymeleaf without that data present in database?","body":"<p>You can add all of your data to your thymeleaf.Consider that the sum of all wallets are in a variable named <code>totalWallets</code>.</p>\n<pre><code>@GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\npublic String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\n    model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\n    //get wallet sum. e.g. getWalletSum();\n    var totalWallet = getWalletSum();\n    model.addAttribute(&quot;totalWallets&quot;, totalWallets);\n    return &quot;user_profile&quot;;\n}\n</code></pre>\n<p>now, you can show it in your view.</p>\n<pre><code>&lt;div th:each=&quot;wallet : ${wallet}&quot;&gt;\n&lt;div class=&quot;wallet&quot;&gt;\n    &lt;p th:text=&quot;${wallet.walletName}&quot;&gt;&lt;/p&gt;\n    &lt;p th:text=&quot;${wallet.initialBalance}&quot;&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;br&gt;\n&lt;div th:text=&quot;${totalWallets}&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671938849,"creation_date":1671895085,"question_id":74908526,"body_markdown":"I have a table `user` and table `wallets`. User can have as many wallets as he wants. \r\n\r\nThey are connected with IDs. Now, I made a service that sum balance of all user wallets.\r\n\r\nSo if user with ID 1 have a wallet with:\r\n\r\n`Wallet`\r\n\r\n    id:1\r\n    balance: 100\r\n    userId: 1\r\n\r\n    id:2\r\n    balance: 200\r\n    userId: 1\r\n\r\nHis total balance will be `300`, so I want to display that data.\r\n\r\nThis is method to find all wallets that one user hold, and sum total balance of them:\r\n\r\n      @Override\r\n      public void netWorth(Long userId) {\r\n        List&lt;Wallet&gt; wallets = walletRepository.findDistinctIdByUserId(userId);\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; wallets.size(); i++)\r\n            sum += wallets.get(i).getInitialBalance();\r\n    }\r\n\r\nBut how I can display that data on thymeleaf?\r\n\r\nThis is how I display balance of each wallet with controller and thymeleaf:\r\n\r\n    @GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\r\n    public String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\r\n        model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\r\n        return &quot;user_profile&quot;;\r\n    }\r\n\r\nAnd in thymeleaf:\r\n\r\n    &lt;div th:each=&quot;wallet : ${wallet}&quot;&gt;\r\n    &lt;div class=&quot;wallet&quot;&gt;\r\n        &lt;p th:text=&quot;${wallet.walletName}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${wallet.initialBalance}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;br&gt;\r\n    &lt;/div&gt;\r\n\r\nBut how I can achieve to display total balance of all wallets? Do I need to create a new column `totalBalance` and to set on it balance from my method? Any advice?\r\n\r\n\r\n\r\n","title":"Is it possible to display data in thymeleaf without that data present in database?","body":"<p>I have a table <code>user</code> and table <code>wallets</code>. User can have as many wallets as he wants.</p>\n<p>They are connected with IDs. Now, I made a service that sum balance of all user wallets.</p>\n<p>So if user with ID 1 have a wallet with:</p>\n<p><code>Wallet</code></p>\n<pre><code>id:1\nbalance: 100\nuserId: 1\n\nid:2\nbalance: 200\nuserId: 1\n</code></pre>\n<p>His total balance will be <code>300</code>, so I want to display that data.</p>\n<p>This is method to find all wallets that one user hold, and sum total balance of them:</p>\n<pre><code>  @Override\n  public void netWorth(Long userId) {\n    List&lt;Wallet&gt; wallets = walletRepository.findDistinctIdByUserId(userId);\n    double sum = 0;\n    for (int i = 0; i &lt; wallets.size(); i++)\n        sum += wallets.get(i).getInitialBalance();\n}\n</code></pre>\n<p>But how I can display that data on thymeleaf?</p>\n<p>This is how I display balance of each wallet with controller and thymeleaf:</p>\n<pre><code>@GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\npublic String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\n    model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\n    return &quot;user_profile&quot;;\n}\n</code></pre>\n<p>And in thymeleaf:</p>\n<pre><code>&lt;div th:each=&quot;wallet : ${wallet}&quot;&gt;\n&lt;div class=&quot;wallet&quot;&gt;\n    &lt;p th:text=&quot;${wallet.walletName}&quot;&gt;&lt;/p&gt;\n    &lt;p th:text=&quot;${wallet.initialBalance}&quot;&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;br&gt;\n&lt;/div&gt;\n</code></pre>\n<p>But how I can achieve to display total balance of all wallets? Do I need to create a new column <code>totalBalance</code> and to set on it balance from my method? Any advice?</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":37062,"reputation":1079,"user_id":105863,"accept_rate":67,"display_name":"Hollis Waite"},"score":0,"creation_date":1671938216,"post_id":74911280,"comment_id":132199297,"body_markdown":"This inner class exists within &#39;Test&#39; class so I&#39;m OK with tech debt. I&#39;m just looking for maximum concision. I want to be able to call both `new Foo(&quot;y&quot;)` and `foo.toBuilder().alpha(&quot;y&quot;).build()` (the real code has more params). Confusion here is around whether a default value &quot;x&quot; affects @Builder, @RequiredArgsConstructor and/or handwritten constructors. Lombok can&#39;t make up its mind and is not in agreement with IntelliJ IDEA&#39;s &#39;Structure&#39; pane. Your proposed solutions work but are more verbose. Not a huge deal but I wonder if it&#39;s possible to do this with annotations alone.","body":"This inner class exists within &#39;Test&#39; class so I&#39;m OK with tech debt. I&#39;m just looking for maximum concision. I want to be able to call both <code>new Foo(&quot;y&quot;)</code> and <code>foo.toBuilder().alpha(&quot;y&quot;).build()</code> (the real code has more params). Confusion here is around whether a default value &quot;x&quot; affects @Builder, @RequiredArgsConstructor and/or handwritten constructors. Lombok can&#39;t make up its mind and is not in agreement with IntelliJ IDEA&#39;s &#39;Structure&#39; pane. Your proposed solutions work but are more verbose. Not a huge deal but I wonder if it&#39;s possible to do this with annotations alone."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1671941745,"post_id":74911280,"comment_id":132199489,"body_markdown":"Lombok can make up its mind perfectly well (SOURCE: I wrote most of that code). It&#39;s possible the intellij plugin (which is externally maintained) doesn&#39;t get this right, in which case, file a bug (with the plugin, not lombok itself). As the `@Builder.Default` naming suggests, it affects __the builder__. only.","body":"Lombok can make up its mind perfectly well (SOURCE: I wrote most of that code). It&#39;s possible the intellij plugin (which is externally maintained) doesn&#39;t get this right, in which case, file a bug (with the plugin, not lombok itself). As the <code>@Builder.Default</code> naming suggests, it affects <b>the builder</b>. only."},{"owner":{"account_id":37062,"reputation":1079,"user_id":105863,"accept_rate":67,"display_name":"Hollis Waite"},"score":0,"creation_date":1671944962,"post_id":74911280,"comment_id":132199667,"body_markdown":"Whoa, thanks for your work on lombok. Great tool. I&#39;d argue that `@Builder.Default` annotation should affect neither `@RequiredArgsConstructor` nor handwritten constructors. Documentation for the former states that &quot;all non-initialized final fields get a parameter.&quot; It&#39;s confusing that `@Builder.Default` invalidates what appears to be an inline initialization. This design decision only comes into play if users mix builders and standard constructors so maybe lombok devs treat it as an irrelevant use case. Anyways, I understand how it works now. Thx again.","body":"Whoa, thanks for your work on lombok. Great tool. I&#39;d argue that <code>@Builder.Default</code> annotation should affect neither <code>@RequiredArgsConstructor</code> nor handwritten constructors. Documentation for the former states that &quot;all non-initialized final fields get a parameter.&quot; It&#39;s confusing that <code>@Builder.Default</code> invalidates what appears to be an inline initialization. This design decision only comes into play if users mix builders and standard constructors so maybe lombok devs treat it as an irrelevant use case. Anyways, I understand how it works now. Thx again."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1671969122,"post_id":74911280,"comment_id":132202052,"body_markdown":"It doesn&#39;t affect constructors. It is indeed confusing that it removes inline initialization; the problem is, imagine the expression has side effects, e.g. `foo++` where `foo` is a static field. Leaving the initial value intact means creating 1 obj via builder now increments __two times__.","body":"It doesn&#39;t affect constructors. It is indeed confusing that it removes inline initialization; the problem is, imagine the expression has side effects, e.g. <code>foo++</code> where <code>foo</code> is a static field. Leaving the initial value intact means creating 1 obj via builder now increments <b>two times</b>."},{"owner":{"account_id":37062,"reputation":1079,"user_id":105863,"accept_rate":67,"display_name":"Hollis Waite"},"score":0,"creation_date":1671977644,"post_id":74911280,"comment_id":132203130,"body_markdown":"Ah, good point about side effects. I guess status quo is the least bad option. I think confusion is magnified by erroneous IDE plugin behavior. I created [bug](https://github.com/mplushnikov/lombok-intellij-plugin/issues/1164) for that.","body":"Ah, good point about side effects. I guess status quo is the least bad option. I think confusion is magnified by erroneous IDE plugin behavior. I created <a href=\"https://github.com/mplushnikov/lombok-intellij-plugin/issues/1164\" rel=\"nofollow noreferrer\">bug</a> for that."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671935659,"creation_date":1671935659,"answer_id":74911280,"question_id":74911223,"body_markdown":"1. Lombok makes an all-args constructor for you __unless__ you write a constructor yourself, in that case, you have to add `@AllArgsConstructor`. Which you should do here. You may make it private if you like (`@AllArgsConstructor(access = AccessLevel.PRIVATE)`. It needs to exist for lombok&#39;s builder to make an object. It needs to include the defaulted stuff (that&#39;s just a default, so, the builder needs to be capable of passing a non-default value, too).\r\n\r\n2. The problem is in your own code - you wrote your own constructor which doesn&#39;t set the `bravo` field. In general it&#39;s a bad idea to also have your own constructor, especially if said constructor _does not_ call the lombok-generated one. The `@Builder.Default` modifies what builder does (namely: It will use that `&quot;X&quot;` value if you ask a builder to `build()` when no value for `bravo` has ever been set for it). It removes that `&quot;X&quot;` as it goes, and `@Value` has made that field `final` of course - so, your constructor fails to set an uninitialized (because builder &#39;takes away&#39; the `&quot;X&quot;`) `final` field, which is a compiler error.\r\n\r\n3. Same problem.\r\n\r\n4. AllArgs and RequiredArgs are the same constructor, so lombok tries to generate them both, which doesn&#39;t work.\r\n\r\n```\r\n@Value @Builder @AllArgsConstructor class Foo {\r\n    String alpha;\r\n    @Builder.Default String bravo = &quot;x&quot;;\r\n    Foo(String alpha) {this(alpha, &quot;x&quot;);}\r\n    static void bar() {new Foo(&quot;y&quot;);}\r\n}\r\n```\r\n\r\nIs what you&#39;re looking for. Or, more likely, _get rid_ of that constructor, and write:\r\n\r\n```\r\n@Value @Builder @AllArgsConstructor class Foo {\r\n    String alpha;\r\n    @Builder.Default String bravo = &quot;x&quot;;\r\n    static void bar() {return builder().alpha(&quot;y&quot;).build(); }\r\n}\r\n```\r\n\r\nIt&#39;s generally not a good idea to hybridize anything in programming - and you&#39;re hybridizing your approach to construction here. Some custom constructor for some, builders for others. If you must, okay, but, it&#39;s a cost. One of the costs is confusion (that seems to have happened here). Another is bug-prone code: bugs that cannot be easily found (because one person _always_ uses one way and therefore a bug in the other way isn&#39;t in any of their code paths, but it is in yours). A third is style debates; if there are 2 ways to do the same thing, either code arbitrarily picks a way (that&#39;s bad; causes code to be needlessly difficult to read by doing the same thing in different ways, which incorrectly insinuates there is a meaningful difference the reader will either be worrying about, or will be spending some time on to chase down that, no, in fact, it doesn&#39;t matter - or, you need a style guide to dictate when to use which way. And then you need to enforce that style guide which is very hard to do; most folks don&#39;t, as a rule, want to spend time writing a custom lint rule).\r\n\r\nNB: I said &#39;generally not a good idea&#39; - not &#39;it is always wrong&#39;. There are good reasons to hybridize but be aware that __it is a cost__ to introduce it. Hence, the onus of making an argument is on the author of the hybridized approach. They need to explain that despite the significant costs introduced by having multiple ways to do the same thing, that it&#39;s nevertheless worthwhile here. Your code is clearly a simplified example for the sake of asking a streamlined SO question (excellent!), so perhaps there _is_ a good reason here. However, in the likely scenario that there is not - get rid of that hand-written constructor.\r\n","title":"With lombok, can required-arg constructor coexist with @Value, @Builder and @Builder.Default annotations?","body":"<ol>\n<li><p>Lombok makes an all-args constructor for you <strong>unless</strong> you write a constructor yourself, in that case, you have to add <code>@AllArgsConstructor</code>. Which you should do here. You may make it private if you like (<code>@AllArgsConstructor(access = AccessLevel.PRIVATE)</code>. It needs to exist for lombok's builder to make an object. It needs to include the defaulted stuff (that's just a default, so, the builder needs to be capable of passing a non-default value, too).</p>\n</li>\n<li><p>The problem is in your own code - you wrote your own constructor which doesn't set the <code>bravo</code> field. In general it's a bad idea to also have your own constructor, especially if said constructor <em>does not</em> call the lombok-generated one. The <code>@Builder.Default</code> modifies what builder does (namely: It will use that <code>&quot;X&quot;</code> value if you ask a builder to <code>build()</code> when no value for <code>bravo</code> has ever been set for it). It removes that <code>&quot;X&quot;</code> as it goes, and <code>@Value</code> has made that field <code>final</code> of course - so, your constructor fails to set an uninitialized (because builder 'takes away' the <code>&quot;X&quot;</code>) <code>final</code> field, which is a compiler error.</p>\n</li>\n<li><p>Same problem.</p>\n</li>\n<li><p>AllArgs and RequiredArgs are the same constructor, so lombok tries to generate them both, which doesn't work.</p>\n</li>\n</ol>\n<pre><code>@Value @Builder @AllArgsConstructor class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    Foo(String alpha) {this(alpha, &quot;x&quot;);}\n    static void bar() {new Foo(&quot;y&quot;);}\n}\n</code></pre>\n<p>Is what you're looking for. Or, more likely, <em>get rid</em> of that constructor, and write:</p>\n<pre><code>@Value @Builder @AllArgsConstructor class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    static void bar() {return builder().alpha(&quot;y&quot;).build(); }\n}\n</code></pre>\n<p>It's generally not a good idea to hybridize anything in programming - and you're hybridizing your approach to construction here. Some custom constructor for some, builders for others. If you must, okay, but, it's a cost. One of the costs is confusion (that seems to have happened here). Another is bug-prone code: bugs that cannot be easily found (because one person <em>always</em> uses one way and therefore a bug in the other way isn't in any of their code paths, but it is in yours). A third is style debates; if there are 2 ways to do the same thing, either code arbitrarily picks a way (that's bad; causes code to be needlessly difficult to read by doing the same thing in different ways, which incorrectly insinuates there is a meaningful difference the reader will either be worrying about, or will be spending some time on to chase down that, no, in fact, it doesn't matter - or, you need a style guide to dictate when to use which way. And then you need to enforce that style guide which is very hard to do; most folks don't, as a rule, want to spend time writing a custom lint rule).</p>\n<p>NB: I said 'generally not a good idea' - not 'it is always wrong'. There are good reasons to hybridize but be aware that <strong>it is a cost</strong> to introduce it. Hence, the onus of making an argument is on the author of the hybridized approach. They need to explain that despite the significant costs introduced by having multiple ways to do the same thing, that it's nevertheless worthwhile here. Your code is clearly a simplified example for the sake of asking a streamlined SO question (excellent!), so perhaps there <em>is</em> a good reason here. However, in the likely scenario that there is not - get rid of that hand-written constructor.</p>\n"}],"owner":{"account_id":37062,"reputation":1079,"user_id":105863,"accept_rate":67,"display_name":"Hollis Waite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74911280,"answer_count":1,"score":0,"last_activity_date":1671935659,"creation_date":1671933817,"question_id":74911223,"body_markdown":"Using lombok (1.18.24), is it possible to generate (1) a constructor that accepts args only for non-initialized members **and also** (2) a builder? I&#39;ve tried a variety of annotation sets:\r\n\r\n1. []\r\n\r\n```java\r\n@Value @Builder class Foo {\r\n\tString alpha;\r\n\t@Builder.Default String bravo = &quot;x&quot;;\r\n\tFoo(String alpha) {this.alpha = alpha;}\r\n\tstatic void bar() {new Foo(&quot;y&quot;);}\r\n}\r\n```\r\n\r\n```lang-none\r\n[ERROR] Foo.java:[6,8] constructor Foo in class Foo cannot be applied to given types;\r\n[ERROR]   required: java.lang.String\r\n[ERROR]   found:    java.lang.String,java.lang.String\r\n[ERROR]   reason: actual and formal argument lists differ in length\r\n```\r\n\r\n2. [AllArgsConstructor]\r\n\r\n```java\r\n@Value @Builder @AllArgsConstructor class Foo {\r\n\tString alpha;\r\n\t@Builder.Default String bravo = &quot;x&quot;;\r\n\tFoo(String alpha) {this.alpha = alpha;}\r\n\tstatic void bar() {new Foo(&quot;y&quot;);}\r\n}\r\n```\r\n\r\n```lang-none\r\n[ERROR] Foo.java:[11,47] variable bravo might not have been initialized\r\n```\r\n\r\n3. [RequiredArgsConstructor]\r\n\r\n```java\r\n@Value @Builder @RequiredArgsConstructor class Foo {\r\n\tString alpha;\r\n\t@Builder.Default String bravo = &quot;x&quot;;\r\n\tstatic void bar() {new Foo(&quot;y&quot;);}\r\n}\r\n```\r\n\r\n```lang-none\r\n[ERROR] Foo.java:[10,29] constructor Foo in class Foo cannot be applied to given types;\r\n[ERROR]   required: java.lang.String,java.lang.String\r\n[ERROR]   found:    java.lang.String\r\n[ERROR]   reason: actual and formal argument lists differ in length\r\n```\r\n\r\n4. [AllArgsConstructor, RequiredArgsConstructor]\r\n\r\n```java\r\n@Value @Builder @AllArgsConstructor @RequiredArgsConstructor class Foo {\r\n\tString alpha;\r\n\t@Builder.Default String bravo = &quot;x&quot;;\r\n\tstatic void bar() {new Foo(&quot;y&quot;);}\r\n}\r\n```\r\n\r\n```lang-none\r\n[ERROR] constructor Foo(java.lang.String,java.lang.String) is already defined in class Foo\r\n[ERROR] Foo.java:[8,37] constructor Foo(java.lang.String,java.lang.String) is already defined in class Foo\r\n```","title":"With lombok, can required-arg constructor coexist with @Value, @Builder and @Builder.Default annotations?","body":"<p>Using lombok (1.18.24), is it possible to generate (1) a constructor that accepts args only for non-initialized members <strong>and also</strong> (2) a builder? I've tried a variety of annotation sets:</p>\n<ol>\n<li>[]</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Value @Builder class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    Foo(String alpha) {this.alpha = alpha;}\n    static void bar() {new Foo(&quot;y&quot;);}\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Foo.java:[6,8] constructor Foo in class Foo cannot be applied to given types;\n[ERROR]   required: java.lang.String\n[ERROR]   found:    java.lang.String,java.lang.String\n[ERROR]   reason: actual and formal argument lists differ in length\n</code></pre>\n<ol start=\"2\">\n<li>[AllArgsConstructor]</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Value @Builder @AllArgsConstructor class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    Foo(String alpha) {this.alpha = alpha;}\n    static void bar() {new Foo(&quot;y&quot;);}\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Foo.java:[11,47] variable bravo might not have been initialized\n</code></pre>\n<ol start=\"3\">\n<li>[RequiredArgsConstructor]</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Value @Builder @RequiredArgsConstructor class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    static void bar() {new Foo(&quot;y&quot;);}\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Foo.java:[10,29] constructor Foo in class Foo cannot be applied to given types;\n[ERROR]   required: java.lang.String,java.lang.String\n[ERROR]   found:    java.lang.String\n[ERROR]   reason: actual and formal argument lists differ in length\n</code></pre>\n<ol start=\"4\">\n<li>[AllArgsConstructor, RequiredArgsConstructor]</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Value @Builder @AllArgsConstructor @RequiredArgsConstructor class Foo {\n    String alpha;\n    @Builder.Default String bravo = &quot;x&quot;;\n    static void bar() {new Foo(&quot;y&quot;);}\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] constructor Foo(java.lang.String,java.lang.String) is already defined in class Foo\n[ERROR] Foo.java:[8,37] constructor Foo(java.lang.String,java.lang.String) is already defined in class Foo\n</code></pre>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":1218424,"reputation":793,"user_id":1185559,"accept_rate":30,"display_name":"Reddymails"},"score":0,"creation_date":1470321882,"post_id":1074081,"comment_id":64912378,"body_markdown":"Here is another  wonderful thread which helped to resolve my issue\nhttp://getj2ee.over-blog.com/article-hibernate-why-a-nonuniqueobjectexception-is-thrown-73738887.html","body":"Here is another  wonderful thread which helped to resolve my issue <a href=\"http://getj2ee.over-blog.com/article-hibernate-why-a-nonuniqueobjectexception-is-thrown-73738887.html\" rel=\"nofollow noreferrer\">getj2ee.over-blog.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26080,"reputation":11147,"user_id":2372835,"accept_rate":100,"display_name":"cwap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246538012,"creation_date":1246538012,"answer_id":1074094,"question_id":1074081,"body_markdown":"Are your Id mappings correct? If the database is responsible for creating the Id through an identifier, you need to map your userobject to that ..","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Are your Id mappings correct? If the database is responsible for creating the Id through an identifier, you need to map your userobject to that ..</p>\n"},{"comments":[{"owner":{"account_id":156121,"reputation":1001,"user_id":414114,"accept_rate":63,"display_name":"digoferra"},"score":6,"creation_date":1336481951,"post_id":1076376,"comment_id":13571701,"body_markdown":"Nice Answer&#178;. The primary key was my problem, solved with the GeneratedValue setting a sequence for postgresql.","body":"Nice Answer&#178;. The primary key was my problem, solved with the GeneratedValue setting a sequence for postgresql."},{"owner":{"account_id":1967071,"reputation":1336,"user_id":1767021,"accept_rate":76,"display_name":"deldev"},"score":2,"creation_date":1398280877,"post_id":1076376,"comment_id":35582277,"body_markdown":"I had the same issue. In my case, I had a object searched in a code and I trying to build a new object with the same ID in other piece of code while the first object yet was at hibernate&#39;s session.","body":"I had the same issue. In my case, I had a object searched in a code and I trying to build a new object with the same ID in other piece of code while the first object yet was at hibernate&#39;s session."},{"owner":{"account_id":13343493,"reputation":443,"user_id":9631005,"display_name":"Rigo Sarmiento"},"score":0,"creation_date":1599720287,"post_id":1076376,"comment_id":112861623,"body_markdown":"This problem plagued me for a couple of days. `I would suggest you break down your code` This is definitely the best answer. Play around the processes. Change the CascadeTypes. As for me, what worked was the order. Initially what I was doing was deleting the child before the parent. What worked for me was deleting the parent before the child. Which is weird but it worked. So just play up and down your code until you get your desirable results. Hibernate relationships are definitely weird.","body":"This problem plagued me for a couple of days. <code>I would suggest you break down your code</code> This is definitely the best answer. Play around the processes. Change the CascadeTypes. As for me, what worked was the order. Initially what I was doing was deleting the child before the parent. What worked for me was deleting the parent before the child. Which is weird but it worked. So just play up and down your code until you get your desirable results. Hibernate relationships are definitely weird."}],"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"comment_count":3,"down_vote_count":2,"up_vote_count":189,"is_accepted":true,"score":187,"last_activity_date":1585560325,"creation_date":1246564594,"answer_id":1076376,"question_id":1074081,"body_markdown":"I have had this error many times and it can be quite hard to track down...\r\n\r\nBasically, what hibernate is saying is that you have two objects which have the same identifier (same primary key) but they are not the same object.\r\n\r\nI would suggest you break down your code, i.e. comment out bits until the error goes away and then put the code back until it comes back and you should find the error.\r\n\r\nIt most often happens via cascading saves where there is a cascade save between object A and B, but object B has already been associated with the session but is not on the same instance of B as the one on A.\r\n\r\nWhat primary key generator are you using? \r\n\r\nThe reason I ask is this error is related to how you&#39;re telling hibernate to ascertain the persistent state of an object (i.e. whether an object is persistent or not). The error could be happening because hibernate is trying to persist an object that is already persistent. In fact, if you use save hibernate will try and persist that object, and maybe there is already an object with that same primary key associated with the session.\r\n\r\n**Example**\r\n\r\nAssuming you have a hibernate class object for a table with 10 rows based on a primary key combination (column 1 and column 2). Now, you have removed 5 rows from the table at some point of time. Now, if you try to add the same 10 rows again, while hibernate tries to persist the objects in database, 5 rows which were already removed will be added without errors. Now the remaining 5 rows which are already existing, will throw this exception. \r\n\r\nSo the easy approach would be checking if you have updated/removed any value in a table which is part of something and later are you trying to insert the same objects again","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I have had this error many times and it can be quite hard to track down...</p>\n\n<p>Basically, what hibernate is saying is that you have two objects which have the same identifier (same primary key) but they are not the same object.</p>\n\n<p>I would suggest you break down your code, i.e. comment out bits until the error goes away and then put the code back until it comes back and you should find the error.</p>\n\n<p>It most often happens via cascading saves where there is a cascade save between object A and B, but object B has already been associated with the session but is not on the same instance of B as the one on A.</p>\n\n<p>What primary key generator are you using? </p>\n\n<p>The reason I ask is this error is related to how you're telling hibernate to ascertain the persistent state of an object (i.e. whether an object is persistent or not). The error could be happening because hibernate is trying to persist an object that is already persistent. In fact, if you use save hibernate will try and persist that object, and maybe there is already an object with that same primary key associated with the session.</p>\n\n<p><strong>Example</strong></p>\n\n<p>Assuming you have a hibernate class object for a table with 10 rows based on a primary key combination (column 1 and column 2). Now, you have removed 5 rows from the table at some point of time. Now, if you try to add the same 10 rows again, while hibernate tries to persist the objects in database, 5 rows which were already removed will be added without errors. Now the remaining 5 rows which are already existing, will throw this exception. </p>\n\n<p>So the easy approach would be checking if you have updated/removed any value in a table which is part of something and later are you trying to insert the same objects again</p>\n"},{"tags":[],"owner":{"display_name":"Ashishakgupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249399887,"creation_date":1249399887,"answer_id":1228180,"question_id":1074081,"body_markdown":"Another thing that worked for me was to make the instance variable Long in place of long\r\n\r\n&lt;br/&gt;I had my primary key variable long id;\r\nchanging it to Long id; worked\r\n\r\nAll the best","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Another thing that worked for me was to make the instance variable Long in place of long</p>\n\n<p><br/>I had my primary key variable long id;\nchanging it to Long id; worked</p>\n\n<p>All the best</p>\n"},{"comments":[{"owner":{"account_id":120391,"reputation":3335,"user_id":312808,"accept_rate":85,"display_name":"Alex"},"score":3,"creation_date":1354276894,"post_id":3088616,"comment_id":18719811,"body_markdown":"Nice try, but the object &quot;ob&quot; is returned without the updated data  (considering that it was updated through application during runtime, between the objects retrieving from database and its saving).","body":"Nice try, but the object &quot;ob&quot; is returned without the updated data  (considering that it was updated through application during runtime, between the objects retrieving from database and its saving)."}],"tags":[],"owner":{"account_id":155660,"reputation":49,"user_id":372467,"display_name":"sock_osg"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1328701675,"creation_date":1277155355,"answer_id":3088616,"question_id":1074081,"body_markdown":"Get the object inside the session, here an example:\r\n\r\n    MyObject ob = null;\r\n    ob = (MyObject) session.get(MyObject.class, id);","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Get the object inside the session, here an example:</p>\n\n<pre><code>MyObject ob = null;\nob = (MyObject) session.get(MyObject.class, id);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":144735,"reputation":9875,"user_id":354009,"accept_rate":92,"display_name":"Igor Popov"},"score":13,"creation_date":1308424123,"post_id":3976093,"comment_id":7499757,"body_markdown":"I hate hibernate too... and databases... After all the problems they caused me I guess it&#39;s easier to use a text file (I&#39;m joking, but still...).","body":"I hate hibernate too... and databases... After all the problems they caused me I guess it&#39;s easier to use a text file (I&#39;m joking, but still...)."},{"owner":{"account_id":125568,"reputation":996,"user_id":321422,"accept_rate":89,"display_name":"Ramses"},"score":0,"creation_date":1412050372,"post_id":3976093,"comment_id":40923439,"body_markdown":"_In my case there are many objects with the same identifier 0, because they are new and don&#39;t have one. The db generates them. Somewhere I have read that 0 signals Id not set. The intuitive way to persist them is iterating over them and saying hibernate to save the objects_. I need to do exactly this. Could you tell me which is the &quot;hibernate way&quot; to do this?","body":"<i>In my case there are many objects with the same identifier 0, because they are new and don&#39;t have one. The db generates them. Somewhere I have read that 0 signals Id not set. The intuitive way to persist them is iterating over them and saying hibernate to save the objects</i>. I need to do exactly this. Could you tell me which is the &quot;hibernate way&quot; to do this?"},{"owner":{"account_id":1218424,"reputation":793,"user_id":1185559,"accept_rate":30,"display_name":"Reddymails"},"score":0,"creation_date":1472132956,"post_id":3976093,"comment_id":65637960,"body_markdown":"In my case i had to use session.merge(myobject) as I had two instances of this object.Usually that happens when an entity is persisted and detached from the session. Another instance of this entity is requested to hibernate. This second instance stayed attached to the session. The first instance is modified.\nMore at  http://getj2ee.over-blog.com/article-hibernate-why-a-nonuniqueobjectexception-is-thrown-73738887.html","body":"In my case i had to use session.merge(myobject) as I had two instances of this object.Usually that happens when an entity is persisted and detached from the session. Another instance of this entity is requested to hibernate. This second instance stayed attached to the session. The first instance is modified. More at  <a href=\"http://getj2ee.over-blog.com/article-hibernate-why-a-nonuniqueobjectexception-is-thrown-73738887.html\" rel=\"nofollow noreferrer\">getj2ee.over-blog.com/&hellip;</a>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":1,"creation_date":1531847366,"post_id":3976093,"comment_id":89745706,"body_markdown":"it&#39;s not hibernate making problems, but lack of understanding how it works","body":"it&#39;s not hibernate making problems, but lack of understanding how it works"}],"tags":[],"owner":{"account_id":660889,"reputation":203,"user_id":481433,"display_name":"Hein"},"comment_count":4,"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1287564308,"creation_date":1287564308,"answer_id":3976093,"question_id":1074081,"body_markdown":"This is only one point where hibernate makes more problems than it solves.\r\nIn my case there are many objects with the same identifier 0, because they are new and don&#39;t have one. The db generates them. Somewhere I have read that 0 signals Id not set. The intuitive way to persist them is iterating over them and saying hibernate to save the objects. But You can&#39;t do that - &quot;Of course You should know that hibernate works this and that way, therefore You have to..&quot; \r\nSo now I can try to change Ids to Long instead of long and look if it then works.\r\nIn the end it&#39;s easier to do it with a simple mapper by your own, because hibernate is just an additional intransparent burden.\r\nAnother example: Trying to read parameters from one database and persist them in another forces you to do nearly all work manually. But if you have to do it anyway, using hibernate is just additional work.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>This is only one point where hibernate makes more problems than it solves.\nIn my case there are many objects with the same identifier 0, because they are new and don't have one. The db generates them. Somewhere I have read that 0 signals Id not set. The intuitive way to persist them is iterating over them and saying hibernate to save the objects. But You can't do that - \"Of course You should know that hibernate works this and that way, therefore You have to..\" \nSo now I can try to change Ids to Long instead of long and look if it then works.\nIn the end it's easier to do it with a simple mapper by your own, because hibernate is just an additional intransparent burden.\nAnother example: Trying to read parameters from one database and persist them in another forces you to do nearly all work manually. But if you have to do it anyway, using hibernate is just additional work.</p>\n"},{"tags":[],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325771701,"creation_date":1322140390,"answer_id":8257644,"question_id":1074081,"body_markdown":"You always can do a session flush.\r\nFlush will synchronize the state of all your objects in session (please, someone correct me if i&#39;m wrong), and maybe it would solve your problem in some cases.\r\n\r\nImplementing your own equals and hashcode may help you too.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>You always can do a session flush.\nFlush will synchronize the state of all your objects in session (please, someone correct me if i'm wrong), and maybe it would solve your problem in some cases.</p>\n\n<p>Implementing your own equals and hashcode may help you too.</p>\n"},{"tags":[],"owner":{"account_id":1302140,"reputation":41,"user_id":1251833,"display_name":"Frithjof"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1331026841,"creation_date":1331026841,"answer_id":9581129,"question_id":1074081,"body_markdown":"I also ran into this problem and had a hard time to find the error.\r\n\r\nThe problem I had was the following:\r\n\r\nThe object has been read by a Dao with a different hibernate session.\r\n\r\nTo avoid this exception, simply re-read the object with the dao that is going to save/update this object later on.\r\n\r\nso:\r\n\r\n    class A{      \r\n\r\n     readFoo(){\r\n           someDaoA.read(myBadAssObject); //Different Session than in class B\r\n        }\r\n    \r\n    }\r\n    \r\n    class B{\r\n    \r\n   \r\n\r\n     saveFoo(){\r\n           someDaoB.read(myBadAssObjectAgain); //Different Session than in class A\r\n           [...]\r\n           myBadAssObjectAgain.fooValue = &#39;bar&#39;;\r\n           persist();\r\n        }\r\n    \r\n    }\r\n\r\nHope that save some people a lot of time!","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I also ran into this problem and had a hard time to find the error.</p>\n\n<p>The problem I had was the following:</p>\n\n<p>The object has been read by a Dao with a different hibernate session.</p>\n\n<p>To avoid this exception, simply re-read the object with the dao that is going to save/update this object later on.</p>\n\n<p>so:</p>\n\n<pre><code>class A{      \n\n readFoo(){\n       someDaoA.read(myBadAssObject); //Different Session than in class B\n    }\n\n}\n\nclass B{\n\n\n\n saveFoo(){\n       someDaoB.read(myBadAssObjectAgain); //Different Session than in class A\n       [...]\n       myBadAssObjectAgain.fooValue = 'bar';\n       persist();\n    }\n\n}\n</code></pre>\n\n<p>Hope that save some people a lot of time!</p>\n"},{"comments":[{"owner":{"account_id":14704588,"reputation":319,"user_id":10619708,"display_name":"sbattou"},"score":0,"creation_date":1555523311,"post_id":9894293,"comment_id":98145236,"body_markdown":"how can I apply your solution to my question? do I create an id column in the Task class? https://stackoverflow.com/questions/55732955/moving-primary-key-creation-to-a-seperate-changeset-causes-error","body":"how can I apply your solution to my question? do I create an id column in the Task class? <a href=\"https://stackoverflow.com/questions/55732955/moving-primary-key-creation-to-a-seperate-changeset-causes-error\" title=\"moving primary key creation to a seperate changeset causes error\">stackoverflow.com/questions/55732955/&hellip;</a>"}],"tags":[],"owner":{"account_id":1295750,"reputation":2168,"user_id":1246862,"accept_rate":47,"display_name":"Thupten"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332868025,"creation_date":1332868025,"answer_id":9894293,"question_id":1074081,"body_markdown":"Check if you forgot to put @GenerateValue for @Id column.\r\nI had same problem with many to many relationship between Movie and Genre. The program threw\r\nHibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session\r\nerror.\r\nI found out later that I just have to make sure you have @GenerateValue to the GenreId get method.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Check if you forgot to put @GenerateValue for @Id column.\nI had same problem with many to many relationship between Movie and Genre. The program threw\nHibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session\nerror.\nI found out later that I just have to make sure you have @GenerateValue to the GenreId get method.</p>\n"},{"tags":[],"owner":{"account_id":1763377,"reputation":143,"user_id":1609848,"display_name":"user1609848"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345370564,"creation_date":1345370564,"answer_id":12025676,"question_id":1074081,"body_markdown":"You can check your Cascade Settings. The Cascade settings on your models could be causing this. I removed Cascade Settings (Essentially not allowing Cascade Inserts/Updates) and this solved my problem","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>You can check your Cascade Settings. The Cascade settings on your models could be causing this. I removed Cascade Settings (Essentially not allowing Cascade Inserts/Updates) and this solved my problem</p>\n"},{"tags":[],"owner":{"account_id":1901066,"reputation":199,"user_id":1716928,"display_name":"Rahul N"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1349436510,"creation_date":1349436131,"answer_id":12745201,"question_id":1074081,"body_markdown":"USe `session.evict(object);` The function of `evict()` method is used to remove instance from the session cache. So for first time saving the object ,save object by calling `session.save(object)` method before evicting the object from the cache. In the same way update object by calling `session.saveOrUpdate(object)` or `session.update(object)` before calling evict().","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>USe <code>session.evict(object);</code> The function of <code>evict()</code> method is used to remove instance from the session cache. So for first time saving the object ,save object by calling <code>session.save(object)</code> method before evicting the object from the cache. In the same way update object by calling <code>session.saveOrUpdate(object)</code> or <code>session.update(object)</code> before calling evict().</p>\n"},{"tags":[],"owner":{"account_id":2019666,"reputation":11,"user_id":1806158,"display_name":"Ayan Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352293330,"creation_date":1352292157,"answer_id":13270041,"question_id":1074081,"body_markdown":"just check the id whether it takes null or 0 like\r\n\r\n    if(offersubformtwo.getId()!=null &amp;&amp; offersubformtwo.getId()!=0)\r\n\r\nin add or update where the content are set from form to Pojo","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>just check the id whether it takes null or 0 like</p>\n\n<pre><code>if(offersubformtwo.getId()!=null &amp;&amp; offersubformtwo.getId()!=0)\n</code></pre>\n\n<p>in add or update where the content are set from form to Pojo</p>\n"},{"tags":[],"owner":{"account_id":1060224,"reputation":4167,"user_id":1062015,"accept_rate":81,"display_name":"Jaco Van Niekerk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352972952,"creation_date":1352972952,"answer_id":13394922,"question_id":1074081,"body_markdown":"I found this error as well.  What worked for me is to make sure that the primary key (that is auto-generated) is not a PDT (i.e. long, int, ect.), but an object (i.e. Long, Integer, etc.)\r\n\r\nWhen you create your object to save it, make sure you pass null and not 0.\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I found this error as well.  What worked for me is to make sure that the primary key (that is auto-generated) is not a PDT (i.e. long, int, ect.), but an object (i.e. Long, Integer, etc.)</p>\n\n<p>When you create your object to save it, make sure you pass null and not 0.</p>\n"},{"comments":[{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1404934040,"post_id":13506917,"comment_id":38232883,"body_markdown":"Solved my problem together with http://stackoverflow.com/questions/4334970/hibernate-cannot-simultaneously-fetch-multiple-bags","body":"Solved my problem together with <a href=\"http://stackoverflow.com/questions/4334970/hibernate-cannot-simultaneously-fetch-multiple-bags\" title=\"hibernate cannot simultaneously fetch multiple bags\">stackoverflow.com/questions/4334970/&hellip;</a>"}],"tags":[],"owner":{"account_id":32856,"reputation":1967,"user_id":91470,"accept_rate":31,"display_name":"redzedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1353565303,"creation_date":1353565303,"answer_id":13506917,"question_id":1074081,"body_markdown":"As somebody already pointed above i ran into this problem when i had `cascade=all` on both ends of a `one-to-many` relationship, so let&#39;s assume A --&gt; B (one-to-many from A and many-to-one from B) and was updating instance of B in A and then calling saveOrUpdate(A) , it was resulting in a circular save request i.e save of A triggers save of B that triggers save of A... and in the third instance as the entity( of A) was tried to be added to the sessionPersistenceContext the duplicateObject exception was thrown. &lt;br/&gt; &amp;nbsp; I could solve it by removing cascade from one end.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>As somebody already pointed above i ran into this problem when i had <code>cascade=all</code> on both ends of a <code>one-to-many</code> relationship, so let's assume A --> B (one-to-many from A and many-to-one from B) and was updating instance of B in A and then calling saveOrUpdate(A) , it was resulting in a circular save request i.e save of A triggers save of B that triggers save of A... and in the third instance as the entity( of A) was tried to be added to the sessionPersistenceContext the duplicateObject exception was thrown. <br/> &nbsp; I could solve it by removing cascade from one end.</p>\n"},{"tags":[],"owner":{"account_id":317178,"reputation":1139,"user_id":633714,"display_name":"wbdarby"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372619013,"creation_date":1372619013,"answer_id":17393854,"question_id":1074081,"body_markdown":"I ran into this problem by:\r\n\r\n 1. Deleting an object (using HQL)\r\n 2. Immediately storing a new object with the same id\r\n\r\nI resolved it by flushing the results after the delete, and clearing the cache before saving the new object\r\n\r\n    String delQuery = &quot;DELETE FROM OasisNode&quot;;\r\n    session.createQuery( delQuery ).executeUpdate();\r\n    session.flush();\r\n    session.clear();\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I ran into this problem by:</p>\n\n<ol>\n<li>Deleting an object (using HQL)</li>\n<li>Immediately storing a new object with the same id</li>\n</ol>\n\n<p>I resolved it by flushing the results after the delete, and clearing the cache before saving the new object</p>\n\n<pre><code>String delQuery = \"DELETE FROM OasisNode\";\nsession.createQuery( delQuery ).executeUpdate();\nsession.flush();\nsession.clear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":902738,"reputation":497,"user_id":938432,"accept_rate":0,"display_name":"DustinA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380128399,"creation_date":1380128399,"answer_id":19010978,"question_id":1074081,"body_markdown":"I&#39;m new to NHibernate, and my problem was that I used a different session to query my object than I did to save it. So the saving session didn&#39;t know about the object. \r\n\r\nIt seems obvious, but from reading the previous answers I was looking everywhere for 2 objects, not 2 sessions.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I'm new to NHibernate, and my problem was that I used a different session to query my object than I did to save it. So the saving session didn't know about the object. </p>\n\n<p>It seems obvious, but from reading the previous answers I was looking everywhere for 2 objects, not 2 sessions.</p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389363027,"creation_date":1389363027,"answer_id":21046415,"question_id":1074081,"body_markdown":"Does this help? \r\n\r\n    User userObj1 = new User();\r\n    User userObj2 = userObj1;\r\n    .\r\n    .\r\n    .\r\n    rtsession.save(userObj1);\r\n    rtsession.save(userObj2); \r\n\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Does this help? </p>\n\n<pre><code>User userObj1 = new User();\nUser userObj2 = userObj1;\n.\n.\n.\nrtsession.save(userObj1);\nrtsession.save(userObj2); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23853,"reputation":935,"user_id":60160,"accept_rate":60,"display_name":"TimP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395923904,"creation_date":1395923904,"answer_id":22687911,"question_id":1074081,"body_markdown":"I encountered this problem with deleting an object, neither evict nor clear helped. \r\n\r\n    /**\r\n     * Deletes the given entity, even if hibernate has an old reference to it.\r\n     * If the entity has already disappeared due to a db cascade then noop.\r\n     */\r\n    public void delete(final Object entity) {\r\n      Object merged = null;\r\n      try {\r\n        merged = getSession().merge(entity);\r\n      }\r\n      catch (ObjectNotFoundException e) {\r\n        // disappeared already due to cascade\r\n        return;\r\n      }\r\n      getSession().delete(merged);\r\n    }\r\n\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I encountered this problem with deleting an object, neither evict nor clear helped. </p>\n\n<pre><code>/**\n * Deletes the given entity, even if hibernate has an old reference to it.\n * If the entity has already disappeared due to a db cascade then noop.\n */\npublic void delete(final Object entity) {\n  Object merged = null;\n  try {\n    merged = getSession().merge(entity);\n  }\n  catch (ObjectNotFoundException e) {\n    // disappeared already due to cascade\n    return;\n  }\n  getSession().delete(merged);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4700986,"reputation":141,"user_id":3804545,"display_name":"Prashant Bari"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1404459923,"creation_date":1404459923,"answer_id":24569164,"question_id":1074081,"body_markdown":"This can happen when you have used same session object for read &amp; write. How?\r\nSay you have created one session.\r\nYou read a record from employee table with primary key Emp_id=101\r\nNow You have modified the record in Java.\r\nAnd you are going to save the Employee record in database.\r\nwe have not closed session anywhere here.\r\nAs the object that was read also persist in the session. It conflicts with the object that we wish to write. Hence this error comes.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>This can happen when you have used same session object for read &amp; write. How?\nSay you have created one session.\nYou read a record from employee table with primary key Emp_id=101\nNow You have modified the record in Java.\nAnd you are going to save the Employee record in database.\nwe have not closed session anywhere here.\nAs the object that was read also persist in the session. It conflicts with the object that we wish to write. Hence this error comes.</p>\n"},{"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1429614219,"post_id":27373282,"comment_id":47671231,"body_markdown":"That would be a very costly operation to do, wouldnt it?","body":"That would be a very costly operation to do, wouldnt it?"}],"tags":[],"owner":{"account_id":2966008,"reputation":33,"user_id":2519139,"display_name":"7PlusCoder"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1418109003,"creation_date":1418109003,"answer_id":27373282,"question_id":1074081,"body_markdown":"It&#39;s because you have open a session maybe for get data and then you forget to close it.\r\nWhen you delete you open session again then it becomes error.\r\n\r\nSOLUTION: \r\nevery function should open and close session\r\n\r\n`session.getTransaction.begin();\r\n/* your operation */\r\nsession.close()`","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>It's because you have open a session maybe for get data and then you forget to close it.\nWhen you delete you open session again then it becomes error.</p>\n\n<p>SOLUTION: \nevery function should open and close session</p>\n\n<p><code>session.getTransaction.begin();\n/* your operation */\nsession.close()</code></p>\n"},{"tags":[],"owner":{"account_id":39356,"reputation":701,"user_id":113453,"accept_rate":20,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419035925,"creation_date":1419035925,"answer_id":27575850,"question_id":1074081,"body_markdown":"@GeneratedValue(strategy=GenerationType.IDENTITY), adding this annotation to the primary key property in your entity bean should solve this issue.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>@GeneratedValue(strategy=GenerationType.IDENTITY), adding this annotation to the primary key property in your entity bean should solve this issue.</p>\n"},{"tags":[],"owner":{"account_id":5720744,"reputation":1,"user_id":4519241,"display_name":"SG719"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422872251,"creation_date":1422867888,"answer_id":28274148,"question_id":1074081,"body_markdown":"In my model object class i ha defined the annotations like this \r\n\r\n    @Entity\r\n    @Table(name = &quot;user_details&quot;)\r\n    public class UserDetails {\t\r\n    \t@GeneratedValue\r\n    \tprivate int userId;\r\n    \tprivate String userName;\r\n    \t\r\n    \tpublic String getUserName() {\r\n    \t\treturn userName;\r\n    \t}\r\n    \r\n    \tpublic void setUserName(String userName) {\r\n    \t\tthis.userName = userName;\r\n    \t}\t\r\n    \r\n    \t@Id\r\n    \tpublic int getUserId() {\r\n    \t\treturn userId;\r\n    \t}\r\n    \r\n    \tpublic void setUserId(int userId) {\r\n    \t\tthis.userId = userId;\r\n    \t}\r\n    }\r\n    \r\nthe issue resolved when I writing the both @Id and @GenerateValue annotation together @ the variable declaration.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_details&quot;)\r\n    public class UserDetails {\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int userId;\r\n    \tprivate String userName;\r\n    \t\r\n    \tpublic String getUserName() {\r\n    \t\treturn userName;\r\n    \t}\r\n    \r\n    \tpublic void setUserName(String userName) {\r\n    \t\tthis.userName = userName;\r\n    \t}\t\r\n    \t\r\n    \tpublic int getUserId() {\r\n    \t\treturn userId;\r\n    \t}\r\n    ...\r\n    }\r\n\r\nHope this is helpful\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>In my model object class i ha defined the annotations like this </p>\n\n<pre><code>@Entity\n@Table(name = \"user_details\")\npublic class UserDetails {  \n    @GeneratedValue\n    private int userId;\n    private String userName;\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }   \n\n    @Id\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n}\n</code></pre>\n\n<p>the issue resolved when I writing the both @Id and @GenerateValue annotation together @ the variable declaration.</p>\n\n<pre><code>@Entity\n@Table(name = \"user_details\")\npublic class UserDetails {\n    @Id\n    @GeneratedValue\n    private int userId;\n    private String userName;\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }   \n\n    public int getUserId() {\n        return userId;\n    }\n...\n}\n</code></pre>\n\n<p>Hope this is helpful</p>\n"},{"tags":[],"owner":{"account_id":5831586,"reputation":11,"user_id":4595883,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424675998,"creation_date":1424675628,"answer_id":28668579,"question_id":1074081,"body_markdown":"I resolved this problem . &lt;br&gt;\r\nActually this is happening because we forgot implementation of Generator Type of PK property in the bean class. So make it any type like as \r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private int id;\r\n\r\nwhen we persist the objects of bean ,every object acquired same ID ,so first object is saved ,when another object to be persist then HIB FW through this type of `Exception: org.hibernate.NonUniqueObjectException:` a different object with the same identifier value was already associated with the session.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I resolved this problem . <br>\nActually this is happening because we forgot implementation of Generator Type of PK property in the bean class. So make it any type like as </p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate int id;\n</code></pre>\n\n<p>when we persist the objects of bean ,every object acquired same ID ,so first object is saved ,when another object to be persist then HIB FW through this type of <code>Exception: org.hibernate.NonUniqueObjectException:</code> a different object with the same identifier value was already associated with the session.</p>\n"},{"tags":[],"owner":{"account_id":6296160,"reputation":1,"user_id":4892304,"display_name":"rsonet"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1431446834,"creation_date":1431446834,"answer_id":30196164,"question_id":1074081,"body_markdown":"In my run I follows\r\n\r\n1- Switch to Lazy keys in the entity\r\n2- download the most up to date from Maven\r\n\r\n--http://mvnrepository.com/artifact/org.javassist/javassist/3.19.0-GA\r\n\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>In my run I follows</p>\n\n<p>1- Switch to Lazy keys in the entity\n2- download the most up to date from Maven</p>\n\n<p>--<a href=\"http://mvnrepository.com/artifact/org.javassist/javassist/3.19.0-GA\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.javassist/javassist/3.19.0-GA</a></p>\n"},{"tags":[],"owner":{"account_id":3769642,"reputation":2409,"user_id":3132194,"display_name":"user3132194"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433312651,"creation_date":1433312651,"answer_id":30612342,"question_id":1074081,"body_markdown":"I have solved a similar problem like that:\r\n\r\n\tplan = (FcsRequestPlan) session.load(plan.getClass(), plan.getUUID());\r\n   \twhile (plan instanceof HibernateProxy)\r\n   \t\tplan = (FcsRequestPlan) ((HibernateProxy) plan).getHibernateLazyInitializer().getImplementation();","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I have solved a similar problem like that:</p>\n\n<pre><code>plan = (FcsRequestPlan) session.load(plan.getClass(), plan.getUUID());\nwhile (plan instanceof HibernateProxy)\n    plan = (FcsRequestPlan) ((HibernateProxy) plan).getHibernateLazyInitializer().getImplementation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6746696,"reputation":2560,"user_id":5198101,"accept_rate":53,"display_name":"RaGa__M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511214482,"creation_date":1439895577,"answer_id":32070547,"question_id":1074081,"body_markdown":"Try this. The below worked for me!\r\n\r\nIn the `hbm.xml` file\r\n\r\n1. We need to set the `dynamic-update` attribute of class tag to `true`:\r\n\r\n    &lt;!-- language-all: lang-xml --&gt;\r\n\r\n        &lt;class dynamic-update=&quot;true&quot;&gt;\r\n\r\n2. Set the class attribute of the generator tag under unique column to `identity`:\r\n\r\n        &lt;generator class=&quot;identity&quot;&gt;\r\n\r\nNote: Set the unique column to `identity` rather than `assigned`.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Try this. The below worked for me!</p>\n\n<p>In the <code>hbm.xml</code> file</p>\n\n<ol>\n<li><p>We need to set the <code>dynamic-update</code> attribute of class tag to <code>true</code>:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;class dynamic-update=\"true\"&gt;\n</code></pre></li>\n<li><p>Set the class attribute of the generator tag under unique column to <code>identity</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;generator class=\"identity\"&gt;\n</code></pre></li>\n</ol>\n\n<p>Note: Set the unique column to <code>identity</code> rather than <code>assigned</code>.</p>\n"},{"tags":[],"owner":{"account_id":3056798,"reputation":867,"user_id":2590227,"accept_rate":56,"display_name":"engtuncay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442298938,"creation_date":1442298938,"answer_id":32579249,"question_id":1074081,"body_markdown":"before the position where repetitive objects begin , you should close the session \r\nand then you should start a new session\r\n\r\n    session.close();      \r\n    session = HibernateUtil.getSessionFactory().openSession();\r\n\r\nso in this way in one session there is not more than one entities that have the same identifier.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>before the position where repetitive objects begin , you should close the session \nand then you should start a new session</p>\n\n<pre><code>session.close();      \nsession = HibernateUtil.getSessionFactory().openSession();\n</code></pre>\n\n<p>so in this way in one session there is not more than one entities that have the same identifier.</p>\n"},{"tags":[],"owner":{"account_id":2122693,"reputation":59,"user_id":1885625,"display_name":"Rahul Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451226687,"creation_date":1451225073,"answer_id":34481177,"question_id":1074081,"body_markdown":"The problem happens because in same hibernate session you are trying to save two objects with same identifier.There are two solutions:-\r\n\r\n1. This is happening because you have not configured your mapping.xml file correctly for id fields as below:-\r\n\r\n\r\n        &lt;id name=&quot;id&quot;&gt;\r\n          &lt;column name=&quot;id&quot; sql-type=&quot;bigint&quot; not-null=&quot;true&quot;/&gt;\r\n          &lt;generator class=&quot;hibernateGeneratorClass&quot;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n\r\n2. Overload the getsession method to accept a Parameter like isSessionClear,\r\nand clear the session before returning the current session like below\r\n\r\n        public static Session getSession(boolean isSessionClear) {\r\n            if (session.isOpen() &amp;&amp; isSessionClear) {\r\n                session.clear();\r\n                return session;\r\n            } else if (session.isOpen()) {\r\n                return session;\r\n            } else {\r\n                return sessionFactory.openSession();\r\n            }\r\n        }\r\n\r\nThis will cause existing session objects to be cleared and even if hibernate doesn&#39;t generate a unique identifier ,assuming you have configured your database properly for a primary key using something like Auto_Increment,it should work for you.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>The problem happens because in same hibernate session you are trying to save two objects with same identifier.There are two solutions:-</p>\n\n<ol>\n<li><p>This is happening because you have not configured your mapping.xml file correctly for id fields as below:-</p>\n\n<pre><code>&lt;id name=\"id\"&gt;\n  &lt;column name=\"id\" sql-type=\"bigint\" not-null=\"true\"/&gt;\n  &lt;generator class=\"hibernateGeneratorClass\"&lt;/generator&gt;\n&lt;/id&gt;\n</code></pre></li>\n<li><p>Overload the getsession method to accept a Parameter like isSessionClear,\nand clear the session before returning the current session like below</p>\n\n<pre><code>public static Session getSession(boolean isSessionClear) {\n    if (session.isOpen() &amp;&amp; isSessionClear) {\n        session.clear();\n        return session;\n    } else if (session.isOpen()) {\n        return session;\n    } else {\n        return sessionFactory.openSession();\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>This will cause existing session objects to be cleared and even if hibernate doesn't generate a unique identifier ,assuming you have configured your database properly for a primary key using something like Auto_Increment,it should work for you.</p>\n"},{"tags":[],"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469542857,"creation_date":1469542857,"answer_id":38592460,"question_id":1074081,"body_markdown":"I had a similar problem. In my case I had forgotten to set the `increment_by` value in the database to be the same like the one used by the `cache_size` and `allocationSize`. (The arrows point to the mentioned attributes)\r\n\r\nSQL:\r\n\r\n    CREATED\t        26.07.16\r\n    LAST_DDL_TIME\t26.07.16\r\n    SEQUENCE_OWNER\tMY\r\n    SEQUENCE_NAME\tMY_ID_SEQ\r\n    MIN_VALUE\t    1\r\n    MAX_VALUE\t    9999999999999999999999999999\r\n    INCREMENT_BY\t20 &lt;-\r\n    CYCLE_FLAG\t    N\r\n    ORDER_FLAG\t    N\r\n    CACHE_SIZE\t    20 &lt;-\r\n    LAST_NUMBER\t    180\r\n\r\nJava:\r\n\r\n    @SequenceGenerator(name = &quot;mySG&quot;, schema = &quot;my&quot;, \r\n    sequenceName = &quot;my_id_seq&quot;, allocationSize = 20 &lt;-)","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I had a similar problem. In my case I had forgotten to set the <code>increment_by</code> value in the database to be the same like the one used by the <code>cache_size</code> and <code>allocationSize</code>. (The arrows point to the mentioned attributes)</p>\n\n<p>SQL:</p>\n\n<pre><code>CREATED         26.07.16\nLAST_DDL_TIME   26.07.16\nSEQUENCE_OWNER  MY\nSEQUENCE_NAME   MY_ID_SEQ\nMIN_VALUE       1\nMAX_VALUE       9999999999999999999999999999\nINCREMENT_BY    20 &lt;-\nCYCLE_FLAG      N\nORDER_FLAG      N\nCACHE_SIZE      20 &lt;-\nLAST_NUMBER     180\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>@SequenceGenerator(name = \"mySG\", schema = \"my\", \nsequenceName = \"my_id_seq\", allocationSize = 20 &lt;-)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6464940,"reputation":31,"user_id":5007288,"display_name":"Nuwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472753489,"creation_date":1472753489,"answer_id":39278292,"question_id":1074081,"body_markdown":"One workaround to solve this issue is try to read the object back from hibernate cache/db before you make any updates and then persist.\r\n\r\nExample:\r\n\r\n                OrderHeader oh = orderHeaderDAO.get(orderHeaderId);\r\n              \toh.setShipFrom(facilityForOrder);\r\n\t            orderHeaderDAO.persist(oh);\r\nNote: Keep in mind that this does not fix the root cause but solves the issue.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>One workaround to solve this issue is try to read the object back from hibernate cache/db before you make any updates and then persist.</p>\n\n<p>Example:</p>\n\n<pre><code>            OrderHeader oh = orderHeaderDAO.get(orderHeaderId);\n            oh.setShipFrom(facilityForOrder);\n            orderHeaderDAO.persist(oh);\n</code></pre>\n\n<p>Note: Keep in mind that this does not fix the root cause but solves the issue.</p>\n"},{"tags":[],"owner":{"account_id":4904233,"reputation":248,"user_id":3951415,"display_name":"Arash moradabadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478525079,"creation_date":1478525079,"answer_id":40466315,"question_id":1074081,"body_markdown":"Otherwise than what ***wbdarby*** said, it even can happen when an object is fetched by giving the identifier of the object to a HQL. In the case of trying to modify the object fields and save it back into DB(modification could be insert, delete or update) **over the same session**, this error will appear. Try clearing the hibernate session before saving your modified object or create a brand new session.\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\nHope i helped ;-)\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Otherwise than what <strong><em>wbdarby</em></strong> said, it even can happen when an object is fetched by giving the identifier of the object to a HQL. In the case of trying to modify the object fields and save it back into DB(modification could be insert, delete or update) <strong>over the same session</strong>, this error will appear. Try clearing the hibernate session before saving your modified object or create a brand new session.\n<br />\n<br />\nHope i helped ;-)</p>\n"},{"tags":[],"owner":{"account_id":5844623,"reputation":7187,"user_id":4605105,"accept_rate":67,"display_name":"&#212;rel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492101001,"creation_date":1492101001,"answer_id":43397399,"question_id":1074081,"body_markdown":"I have the same error I was replacing my Set with a new one get from Jackson.\r\n\r\nTo solve this I keep the existing set, I remove from the old set the element unknown into the new list with `retainAll`.\r\nThen I add the new ones with `addAll`.\r\n\r\n\r\n        this.oldSet.retainAll(newSet);\r\n        this.oldSet.addAll(newSet);\r\n\r\n\r\nNo need to have the Session and manipulate it.\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I have the same error I was replacing my Set with a new one get from Jackson.</p>\n\n<p>To solve this I keep the existing set, I remove from the old set the element unknown into the new list with <code>retainAll</code>.\nThen I add the new ones with <code>addAll</code>.</p>\n\n<pre><code>    this.oldSet.retainAll(newSet);\n    this.oldSet.addAll(newSet);\n</code></pre>\n\n<p>No need to have the Session and manipulate it.</p>\n"},{"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510750342,"creation_date":1510750342,"answer_id":47307948,"question_id":1074081,"body_markdown":"Late to the party, but may help for coming users - \r\n\r\nI got this issue when i **select** a record using `getsession()`  and again **update** another record with same **identifier** using **same session** causes the issue. Added code below.\r\n\r\n    Customer existingCustomer=getSession().get(Customer.class,1);\r\n    Customer customerFromUi;// This customer details comiong from UI with identifer 1\r\n    \r\n    getSession().update(customerFromUi);// Here the issue comes\r\n\r\nThis should never be done . Solution is either evict session before update or change business logic.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>Late to the party, but may help for coming users - </p>\n\n<p>I got this issue when i <strong>select</strong> a record using <code>getsession()</code>  and again <strong>update</strong> another record with same <strong>identifier</strong> using <strong>same session</strong> causes the issue. Added code below.</p>\n\n<pre><code>Customer existingCustomer=getSession().get(Customer.class,1);\nCustomer customerFromUi;// This customer details comiong from UI with identifer 1\n\ngetSession().update(customerFromUi);// Here the issue comes\n</code></pre>\n\n<p>This should never be done . Solution is either evict session before update or change business logic.</p>\n"},{"tags":[],"owner":{"account_id":12404725,"reputation":81,"user_id":9040254,"display_name":"Pavan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1524595033,"creation_date":1524590408,"answer_id":50007519,"question_id":1074081,"body_markdown":"You can use `session.merge(obj)`, if you are doing save with different sessions with same identifier persistent object.  \r\nIt worked, I had same issue before.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>You can use <code>session.merge(obj)</code>, if you are doing save with different sessions with same identifier persistent object.<br>\nIt worked, I had same issue before.</p>\n"},{"tags":[],"owner":{"account_id":15451118,"reputation":51,"user_id":11146452,"display_name":"Jayendra Birtharia"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551678828,"creation_date":1551678828,"answer_id":54977349,"question_id":1074081,"body_markdown":"This problem occurs when we update the same object of session, which we have used to fetch the object from database.\r\n\r\nYou can use merge method of hibernate instead of update method.\r\n\r\ne.g. First use session.get() and then you can use session.merge (object). This method will not create any problem. We can also use merge() method to update object in database.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>This problem occurs when we update the same object of session, which we have used to fetch the object from database.</p>\n\n<p>You can use merge method of hibernate instead of update method.</p>\n\n<p>e.g. First use session.get() and then you can use session.merge (object). This method will not create any problem. We can also use merge() method to update object in database.</p>\n"},{"tags":[],"owner":{"account_id":17942703,"reputation":56,"user_id":13037609,"display_name":"Youness Tizi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596720099,"creation_date":1596719513,"answer_id":63284355,"question_id":1074081,"body_markdown":"I just had the same problem .I solve it by adding this line:\r\n\r\n`@GeneratedValue(strategy=GenerationType.IDENTITY)`\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/FK9Ix.png","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I just had the same problem .I solve it by adding this line:</p>\n<p><code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code></p>\n<p><img src=\"https://i.stack.imgur.com/FK9Ix.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":17206742,"reputation":41,"user_id":12457135,"display_name":"sHIFT0O"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597160215,"creation_date":1597159759,"answer_id":63361446,"question_id":1074081,"body_markdown":"By default is using the identity strategy but I fixed it by adding\r\n\r\n    @ID\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>By default is using the identity strategy but I fixed it by adding</p>\n<pre><code>@ID\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5935285,"reputation":1331,"user_id":4668505,"accept_rate":100,"display_name":"Tim Malich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605096617,"creation_date":1605096617,"answer_id":64786180,"question_id":1074081,"body_markdown":"We are using an old version hibernate (3.2.6) and the problem for us was, that Hibernate expected the first column in the result set to be the generated primary key. Took me ages to figure that out.\r\n\r\nSolution: Ensure in that in the DDL the generated primary key is always the first column.\r\nSolution 2: Update hibernate","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>We are using an old version hibernate (3.2.6) and the problem for us was, that Hibernate expected the first column in the result set to be the generated primary key. Took me ages to figure that out.</p>\n<p>Solution: Ensure in that in the DDL the generated primary key is always the first column.\nSolution 2: Update hibernate</p>\n"},{"tags":[],"owner":{"account_id":27346803,"reputation":1,"user_id":20856587,"display_name":"Priyabratta Biswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671933256,"creation_date":1671933256,"answer_id":74911199,"question_id":1074081,"body_markdown":"On Entity class - primery key column, \r\nkeep like this:\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\nthis:\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nhelps generating sequential id values according to db defination. so you dont get duplicate PK values.","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>On Entity class - primery key column,\nkeep like this:\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate int id;\nthis:\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nhelps generating sequential id values according to db defination. so you dont get duplicate PK values.</p>\n"}],"owner":{"account_id":26048,"reputation":7945,"user_id":67476,"accept_rate":67,"display_name":"harshit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268766,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":1076376,"answer_count":38,"score":130,"last_activity_date":1671933256,"creation_date":1246537867,"question_id":1074081,"body_markdown":"I have two user Objects and while I try to save the object using \r\n\r\n    session.save(userObj);\r\n\r\nI am getting the following error:\r\n\r\n    Caused by: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session:\r\n    [com.pojo.rtrequests.User#com.pojo.rtrequests.User@d079b40b]\r\n\r\nI am creating the session using \r\n\r\n    BaseHibernateDAO dao = new BaseHibernateDAO(); \t\t\t\r\n\r\n    rtsession = dao.getSession(userData.getRegion(),\r\n                               BaseHibernateDAO.RTREQUESTS_DATABASE_NAME);\r\n\r\n    rttrans = rtsession.beginTransaction();\r\n    rttrans.begin();\r\n    \r\n    rtsession.save(userObj1);\r\n    rtsession.save(userObj2);\r\n    \r\n    rtsession.flush();\r\n    rttrans.commit();\r\n    \r\n    rtsession.close(); // in finally block\r\n\r\nI also tried doing the `session.clear()` before saving, still no luck.\r\n\r\nThis is for the first I am getting the session object when a user request comes, so I am getting why is saying that object is present in session.\r\n\r\nAny suggestions?\r\n","title":"Hibernate Error: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session","body":"<p>I have two user Objects and while I try to save the object using </p>\n\n<pre><code>session.save(userObj);\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>Caused by: org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session:\n[com.pojo.rtrequests.User#com.pojo.rtrequests.User@d079b40b]\n</code></pre>\n\n<p>I am creating the session using </p>\n\n<pre><code>BaseHibernateDAO dao = new BaseHibernateDAO();          \n\nrtsession = dao.getSession(userData.getRegion(),\n                           BaseHibernateDAO.RTREQUESTS_DATABASE_NAME);\n\nrttrans = rtsession.beginTransaction();\nrttrans.begin();\n\nrtsession.save(userObj1);\nrtsession.save(userObj2);\n\nrtsession.flush();\nrttrans.commit();\n\nrtsession.close(); // in finally block\n</code></pre>\n\n<p>I also tried doing the <code>session.clear()</code> before saving, still no luck.</p>\n\n<p>This is for the first I am getting the session object when a user request comes, so I am getting why is saying that object is present in session.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":14543,"reputation":34602,"user_id":30018,"accept_rate":97,"display_name":"JohnFx"},"score":68,"creation_date":1330374954,"post_id":9471837,"comment_id":11985963,"body_markdown":"Come on guys. The guy is trying to learn, downvotes are unnecessary.","body":"Come on guys. The guy is trying to learn, downvotes are unnecessary."},{"owner":{"account_id":1162379,"reputation":1021,"user_id":1141637,"accept_rate":57,"display_name":"AbdullahR"},"score":8,"creation_date":1330376098,"post_id":9471837,"comment_id":11986334,"body_markdown":"Doesn&#39;t matter if it has addressed my example or not, what really matters is that I got the answer clearly. That guy explained it in a simple way that can be easy to understand to a naive programmer like me.","body":"Doesn&#39;t matter if it has addressed my example or not, what really matters is that I got the answer clearly. That guy explained it in a simple way that can be easy to understand to a naive programmer like me."},{"owner":{"display_name":"user647772"},"score":0,"creation_date":1330376455,"post_id":9471837,"comment_id":11986442,"body_markdown":"Did you read the http://stackoverflow.com/faq ?","body":"Did you read the <a href=\"http://stackoverflow.com/faq\">stackoverflow.com/faq</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":4,"creation_date":1330376137,"post_id":9471854,"comment_id":11986342,"body_markdown":"-1 He didn&#39;t use Google - he asked here.  At least tie your pasted text into his example.","body":"-1 He didn&#39;t use Google - he asked here.  At least tie your pasted text into his example."},{"owner":{"account_id":185517,"reputation":19054,"user_id":422288,"accept_rate":45,"display_name":"Eneko Alonso"},"score":1,"creation_date":1471390709,"post_id":9471854,"comment_id":65324793,"body_markdown":"Now using Google links to this... haha","body":"Now using Google links to this... haha"}],"tags":[],"owner":{"display_name":"user647772"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1330374759,"creation_date":1330374759,"answer_id":9471854,"question_id":9471837,"body_markdown":"If you&#39;d use Google, you&#39;d get this:\n\n&gt; Compile time error is any type of error that prevent a java program compile like a syntax error, a class not found, a bad file name for the defined class, a possible loss of precision when you are mixing different java data types and so on.\n&gt;\n&gt; A runtime error means an error which happens, while the program is running. To deal with this kind of errors java define Exceptions. Exceptions are objects represents an abnormal condition in the flow of the program. It can be either checked or unchecked.\n\nhttp://wiki.answers.com/Q/Difference_between_run_time_error_and_compile_time_error_in_java\n","title":"What is the difference between run-time error and compiler error?","body":"<p>If you'd use Google, you'd get this:</p>\n<blockquote>\n<p>Compile time error is any type of error that prevent a java program compile like a syntax error, a class not found, a bad file name for the defined class, a possible loss of precision when you are mixing different java data types and so on.</p>\n<p>A runtime error means an error which happens, while the program is running. To deal with this kind of errors java define Exceptions. Exceptions are objects represents an abnormal condition in the flow of the program. It can be either checked or unchecked.</p>\n</blockquote>\n<p><a href=\"http://wiki.answers.com/Q/Difference_between_run_time_error_and_compile_time_error_in_java\" rel=\"nofollow noreferrer\">http://wiki.answers.com/Q/Difference_between_run_time_error_and_compile_time_error_in_java</a></p>\n"},{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":2,"creation_date":1330375971,"post_id":9471863,"comment_id":11986282,"body_markdown":"In your example, `discountVariable` is of declared type `DiscountSale` and `saleVariable` is of another type.  When you try to assign the value of one to the other with the line `discountVariable = saleVariable`, this causes a compiler error.  If you put the cast in place `(DiscountSale)`, this tells the compiler that it&#39;s okay.  It then breaks when you run it because `saleVariable` is not actually of the `DiscountSale` type.","body":"In your example, <code>discountVariable</code> is of declared type <code>DiscountSale</code> and <code>saleVariable</code> is of another type.  When you try to assign the value of one to the other with the line <code>discountVariable = saleVariable</code>, this causes a compiler error.  If you put the cast in place <code>(DiscountSale)</code>, this tells the compiler that it&#39;s okay.  It then breaks when you run it because <code>saleVariable</code> is not actually of the <code>DiscountSale</code> type."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":2,"creation_date":1330376074,"post_id":9471863,"comment_id":11986321,"body_markdown":"+1 because this is the simplest best answer to the question: What is the difference between a runtime error and a compiler error?  I would be much happier if the answer actually addressed the specific example offered by the OP, however.","body":"+1 because this is the simplest best answer to the question: What is the difference between a runtime error and a compiler error?  I would be much happier if the answer actually addressed the specific example offered by the OP, however."}],"tags":[],"owner":{"account_id":369805,"reputation":77786,"user_id":717383,"display_name":"James Montagne"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1330374786,"creation_date":1330374786,"answer_id":9471863,"question_id":9471837,"body_markdown":"A runtime error happens during the running of the program.  A compiler error happens when you try to compile the code.  \r\n\r\nIf you are unable to compile your code, that is a compiler error.  \r\n\r\nIf you compile and run your code, but then it fails during execution, that is runtime.","title":"What is the difference between run-time error and compiler error?","body":"<p>A runtime error happens during the running of the program.  A compiler error happens when you try to compile the code.  </p>\n\n<p>If you are unable to compile your code, that is a compiler error.  </p>\n\n<p>If you compile and run your code, but then it fails during execution, that is runtime.</p>\n"},{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":1,"creation_date":1330376247,"post_id":9471868,"comment_id":11986375,"body_markdown":"Not a +1 because &quot;the compiler doesn&#39;t know the object type of saleVariable&quot;.  That&#39;s not true.  The compiler knows the type - it&#39;s just incompatable with DiscountSale.","body":"Not a +1 because &quot;the compiler doesn&#39;t know the object type of saleVariable&quot;.  That&#39;s not true.  The compiler knows the type - it&#39;s just incompatable with DiscountSale."},{"owner":{"account_id":80755,"reputation":657,"user_id":228129,"display_name":"bigamil"},"score":0,"creation_date":1330439220,"post_id":9471868,"comment_id":12003085,"body_markdown":"Your right, I was just thinking of it in context of if he was doing something like e.DataItem","body":"Your right, I was just thinking of it in context of if he was doing something like e.DataItem"}],"tags":[],"owner":{"account_id":80755,"reputation":657,"user_id":228129,"display_name":"bigamil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330374810,"creation_date":1330374810,"answer_id":9471868,"question_id":9471837,"body_markdown":"Its because the compiler doesn&#39;t know the object type of &quot;saleVariable&quot; until that value has actually been set when the program is running.\r\n\r\nYour are forcing whatever is in salesVariable into the type DiscountSale this is considered unsafe and cannot be evaluated until runtime.","title":"What is the difference between run-time error and compiler error?","body":"<p>Its because the compiler doesn't know the object type of \"saleVariable\" until that value has actually been set when the program is running.</p>\n\n<p>Your are forcing whatever is in salesVariable into the type DiscountSale this is considered unsafe and cannot be evaluated until runtime.</p>\n"},{"tags":[],"owner":{"account_id":1236369,"reputation":14761,"user_id":1199882,"accept_rate":80,"display_name":"CodeBlue"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472932611,"creation_date":1330374834,"answer_id":9471875,"question_id":9471837,"body_markdown":"Compile Time error means that the Compiler knows that `discountVariable = saleVariable` must be end with a semi colon as below` discountVariable = saleVariable;`so it will throw an error when you compile the code.\r\n\r\nRun Time error means that the error will occur at run time, because even though you are casting saleVariable into discountVariable, the cast cannot take because they differ in type. ","title":"What is the difference between run-time error and compiler error?","body":"<p>Compile Time error means that the Compiler knows that <code>discountVariable = saleVariable</code> must be end with a semi colon as below<code>discountVariable = saleVariable;</code>so it will throw an error when you compile the code.</p>\n\n<p>Run Time error means that the error will occur at run time, because even though you are casting saleVariable into discountVariable, the cast cannot take because they differ in type. </p>\n"},{"tags":[],"owner":{"display_name":"user935375"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1330375026,"creation_date":1330375026,"answer_id":9471904,"question_id":9471837,"body_markdown":"**Compile time errors** refers to syntax and semantics. For example, if you do operations that involves different types. Ex: adding a string with an int, or dividing a string by a real. (read the last paragraph thou!!!)\r\n\r\n**Run Time errors** are those that are detected when the program execute. For example, division by zero. The compiler can not know  if the operation x/a-b will leads to division by zero until the execution.\r\n\r\nThis is a very **broad** explanation. There are many smart compilers, and, also, is possible to do internal casting among different types that leads to operations that make sense. It it possible to pre-compile code and see some **run time errors** even if the code is not executed.  \r\n\r\nRefer to this link too: &lt;https://stackoverflow.com/questions/846103/runtime-vs-compile-time&gt;\r\n","title":"What is the difference between run-time error and compiler error?","body":"<p><strong>Compile time errors</strong> refers to syntax and semantics. For example, if you do operations that involves different types. Ex: adding a string with an int, or dividing a string by a real. (read the last paragraph thou!!!)</p>\n\n<p><strong>Run Time errors</strong> are those that are detected when the program execute. For example, division by zero. The compiler can not know  if the operation x/a-b will leads to division by zero until the execution.</p>\n\n<p>This is a very <strong>broad</strong> explanation. There are many smart compilers, and, also, is possible to do internal casting among different types that leads to operations that make sense. It it possible to pre-compile code and see some <strong>run time errors</strong> even if the code is not executed.  </p>\n\n<p>Refer to this link too: <a href=\"https://stackoverflow.com/questions/846103/runtime-vs-compile-time\">Runtime vs Compile time</a></p>\n"},{"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1608405743,"post_id":9471926,"comment_id":115576372,"body_markdown":"_A run time error will only occur when the code is actually running. These are the most difficult - and lead to program crashes and bugs in your code which can be hard to track down._ This is true relative to compile-time errors but [runtime errors](https://en.wikipedia.org/wiki/Runtime_error_detection) are much easier to debug than a program that produces invalid results silently, which is typically the most difficult class of bugs to identify and resolve.","body":"<i>A run time error will only occur when the code is actually running. These are the most difficult - and lead to program crashes and bugs in your code which can be hard to track down.</i> This is true relative to compile-time errors but <a href=\"https://en.wikipedia.org/wiki/Runtime_error_detection\" rel=\"nofollow noreferrer\">runtime errors</a> are much easier to debug than a program that produces invalid results silently, which is typically the most difficult class of bugs to identify and resolve."}],"tags":[],"owner":{"account_id":1282364,"reputation":1286,"user_id":1236178,"accept_rate":80,"display_name":"DIXONJWDD"},"comment_count":1,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1671931803,"creation_date":1330375118,"answer_id":9471926,"question_id":9471837,"body_markdown":"A run time error will only occur when the code is actually running.\r\nThese are the most difficult - and lead to program crashes and bugs in your code which can be hard to track down.\r\n\r\nAn example might be trying to convert a string: &quot;hello&quot; into an integer:\r\n\r\n    string helloWorld = &quot;hello&quot;;\r\n    int willThrowRuntimeError = Convert.ToInt32(helloWorld);\r\n\r\nThe compiler may not see this as a problem but when run an error will be thrown.\r\n\r\nCompiler errors are due to inaccuracies in code, where the compiler throws an error to alert you to something which will not compile, and therefore cannot be run.\r\n\r\nAn example of a compiler error would be:\r\n\r\n    int = &quot;this is not an int&quot;;","title":"What is the difference between run-time error and compiler error?","body":"<p>A run time error will only occur when the code is actually running.\nThese are the most difficult - and lead to program crashes and bugs in your code which can be hard to track down.</p>\n<p>An example might be trying to convert a string: &quot;hello&quot; into an integer:</p>\n<pre><code>string helloWorld = &quot;hello&quot;;\nint willThrowRuntimeError = Convert.ToInt32(helloWorld);\n</code></pre>\n<p>The compiler may not see this as a problem but when run an error will be thrown.</p>\n<p>Compiler errors are due to inaccuracies in code, where the compiler throws an error to alert you to something which will not compile, and therefore cannot be run.</p>\n<p>An example of a compiler error would be:</p>\n<pre><code>int = &quot;this is not an int&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1330376176,"post_id":9472074,"comment_id":11986356,"body_markdown":"+1 late to the party, but this is helpful","body":"+1 late to the party, but this is helpful"}],"tags":[],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330375801,"creation_date":1330375801,"answer_id":9472074,"question_id":9471837,"body_markdown":"think you&#39;ve already got the general desc of what&#39;s the difference. Specifically in the code you have shown in the OP,\r\n\r\n* In second statement, compiler compares the types on LHS and RHS and finds no implicit cast possible so it gives the error.\r\n* first statement is seen by compiler as the same, but here programmer explicitly casts the type, which is as good as telling compiler that I know what I&#39;m doing and of course the compiler trusts you and gives you no errors.\r\n","title":"What is the difference between run-time error and compiler error?","body":"<p>think you've already got the general desc of what's the difference. Specifically in the code you have shown in the OP,</p>\n\n<ul>\n<li>In second statement, compiler compares the types on LHS and RHS and finds no implicit cast possible so it gives the error.</li>\n<li>first statement is seen by compiler as the same, but here programmer explicitly casts the type, which is as good as telling compiler that I know what I'm doing and of course the compiler trusts you and gives you no errors.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429606103,"creation_date":1429606103,"answer_id":29767227,"question_id":9471837,"body_markdown":"Compiler errors are due to inaccuracies in code, where the compiler throws an error to alert you to something which will not compile, and therefore cannot be run.\r\n\r\nEx :- MethodOverloading\r\n\r\n    class OverloadingTest {\r\n    \tvoid sum(int a, long b) {\r\n    \t\tSystem.out.println(&quot;a method invoked&quot;);\r\n    \t}\r\n    \r\n    \tvoid sum(long a, int b) {\r\n    \t\tSystem.out.println(&quot;b method invoked&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tOverloadingTest obj = new OverloadingTest();\r\n    \t\tobj.sum(200, 200);// now ambiguity\r\n    \t}\r\n    }\r\n\r\nRun Time errors are those that are detected when the program execute. For example, division by zero. The compiler can not know if the operation x/a-b will leads to division by zero until the execution","title":"What is the difference between run-time error and compiler error?","body":"<p>Compiler errors are due to inaccuracies in code, where the compiler throws an error to alert you to something which will not compile, and therefore cannot be run.</p>\n\n<p>Ex :- MethodOverloading</p>\n\n<pre><code>class OverloadingTest {\n    void sum(int a, long b) {\n        System.out.println(\"a method invoked\");\n    }\n\n    void sum(long a, int b) {\n        System.out.println(\"b method invoked\");\n    }\n\n    public static void main(String args[]) {\n        OverloadingTest obj = new OverloadingTest();\n        obj.sum(200, 200);// now ambiguity\n    }\n}\n</code></pre>\n\n<p>Run Time errors are those that are detected when the program execute. For example, division by zero. The compiler can not know if the operation x/a-b will leads to division by zero until the execution</p>\n"},{"tags":[],"owner":{"account_id":2790821,"reputation":2348,"user_id":2401088,"accept_rate":75,"display_name":"Pankaj Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445936171,"creation_date":1432532272,"answer_id":30431830,"question_id":9471837,"body_markdown":"**Compilation/Compile time/Syntax/Semantic errors:** Compilation or compile time errors are error occurred due to typing mistake, if we do not follow the proper syntax and semantics of any programming language then compile time errors are thrown by the compiler. They wont let your program to execute a single line until you remove all the syntax errors or until you debug the compile time errors.  \r\nExample: Missing a semicolon in C or mistyping `int` as `Int`.\r\n\r\n**Runtime errors:** Runtime errors are the errors that are generated when the program is in running state. These types of errors will cause your program to behave unexpectedly or may even kill your program. They are often referred as Exceptions.   \r\nExample: Suppose you are reading a file that doesn&#39;t exist, will result in a runtime error.   \r\n\r\nRead more about all [programming errors][1] here\r\n\r\n\r\n  [1]: http://www.codeforwin.in/2015/05/introduction-to-programming-errors.html","title":"What is the difference between run-time error and compiler error?","body":"<p><strong>Compilation/Compile time/Syntax/Semantic errors:</strong> Compilation or compile time errors are error occurred due to typing mistake, if we do not follow the proper syntax and semantics of any programming language then compile time errors are thrown by the compiler. They wont let your program to execute a single line until you remove all the syntax errors or until you debug the compile time errors.<br>\nExample: Missing a semicolon in C or mistyping <code>int</code> as <code>Int</code>.</p>\n\n<p><strong>Runtime errors:</strong> Runtime errors are the errors that are generated when the program is in running state. These types of errors will cause your program to behave unexpectedly or may even kill your program. They are often referred as Exceptions.<br>\nExample: Suppose you are reading a file that doesn't exist, will result in a runtime error.   </p>\n\n<p>Read more about all <a href=\"http://www.codeforwin.in/2015/05/introduction-to-programming-errors.html\" rel=\"nofollow\">programming errors</a> here</p>\n"},{"tags":[],"owner":{"account_id":3091588,"reputation":520,"user_id":2617578,"display_name":"Hadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433747021,"creation_date":1433747021,"answer_id":30702986,"question_id":9471837,"body_markdown":"Compile time errors are errors of syntax and semantics. \r\n\r\nRun time errors are errors of logic primarily. Due to something the programmer has overlooked, the program crashes e.g. division by 0, accessing a variable without initializing it first etc. ","title":"What is the difference between run-time error and compiler error?","body":"<p>Compile time errors are errors of syntax and semantics. </p>\n\n<p>Run time errors are errors of logic primarily. Due to something the programmer has overlooked, the program crashes e.g. division by 0, accessing a variable without initializing it first etc. </p>\n"}],"owner":{"account_id":1162379,"reputation":1021,"user_id":1141637,"accept_rate":57,"display_name":"AbdullahR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256879,"favorite_count":0,"down_vote_count":5,"up_vote_count":69,"closed_date":1453830774,"accepted_answer_id":9471926,"answer_count":10,"score":64,"last_activity_date":1671931803,"creation_date":1330374674,"question_id":9471837,"body_markdown":"In one of my prof slides on ploymorphism, I see this piece of code with a couple of comments:\r\n\r\n\r\n    discountVariable =              //will produce\r\n      (DiscountSale)saleVariable;//run-time error\r\n    discountVariable = saleVariable //will produce\r\n                                    //compiler error\r\n\r\nAs you can see, it says in the first casting statement that it&#39;ll produce *run-time* error and in the other one it says it&#39;ll produce *compiler error*.\r\n\r\nWhat makes these errors? and how they differ from each other?\r\n\r\n","title":"What is the difference between run-time error and compiler error?","body":"<p>In one of my prof slides on ploymorphism, I see this piece of code with a couple of comments:</p>\n\n<pre><code>discountVariable =              //will produce\n  (DiscountSale)saleVariable;//run-time error\ndiscountVariable = saleVariable //will produce\n                                //compiler error\n</code></pre>\n\n<p>As you can see, it says in the first casting statement that it'll produce <em>run-time</em> error and in the other one it says it'll produce <em>compiler error</em>.</p>\n\n<p>What makes these errors? and how they differ from each other?</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"display_name":"user560761"},"score":0,"creation_date":1294019833,"post_id":1674101,"comment_id":9899390,"body_markdown":"Well, I have this kind of problem, but simply Project / Clean did works for me.\nI removed main.out.xml from res/layout, then resaved an main.xml, then reopens project. After this magic, project builds properly.","body":"Well, I have this kind of problem, but simply Project / Clean did works for me. I removed main.out.xml from res/layout, then resaved an main.xml, then reopens project. After this magic, project builds properly."},{"owner":{"display_name":"user626896"},"score":0,"creation_date":1298304213,"post_id":1674101,"comment_id":9899387,"body_markdown":"I ran into the same issue.I delete first the xml files which were not parsed main.out.xml and strings.out.xml and then i go clean my project.When i re-run,everything was fine. Rgds,","body":"I ran into the same issue.I delete first the xml files which were not parsed main.out.xml and strings.out.xml and then i go clean my project.When i re-run,everything was fine. Rgds,"},{"owner":{"account_id":1031220,"reputation":103,"user_id":1039503,"display_name":"f4t-t0ny"},"score":0,"creation_date":1320919447,"post_id":1674101,"comment_id":9899305,"body_markdown":"I had the same issue, and it totally freaked me out..., the .xml.out files even caused more and more errors, anybody should mention that problem on developer.android.com thanks anyway!!","body":"I had the same issue, and it totally freaked me out..., the .xml.out files even caused more and more errors, anybody should mention that problem on developer.android.com thanks anyway!!"}],"answers":[{"comments":[{"owner":{"account_id":7432,"reputation":5028,"user_id":12915,"accept_rate":100,"display_name":"John Lemp"},"score":0,"creation_date":1257348802,"post_id":1674225,"comment_id":1548094,"body_markdown":"If I go to Android Tools-&gt; Fix Project Properties it will work once, but if I switch to another xml resource it fails again. \n\nI am definitely not the only one with the issue as I found others discussing it here http://www.anddev.org/viewtopic.php?p=25517","body":"If I go to Android Tools-&gt; Fix Project Properties it will work once, but if I switch to another xml resource it fails again.   I am definitely not the only one with the issue as I found others discussing it here <a href=\"http://www.anddev.org/viewtopic.php?p=25517\" rel=\"nofollow noreferrer\">anddev.org/viewtopic.php?p=25517</a>"},{"owner":{"account_id":30553,"reputation":4986,"user_id":83354,"accept_rate":88,"display_name":"broschb"},"score":0,"creation_date":1257363203,"post_id":1674225,"comment_id":1549797,"body_markdown":"Hmm, i&#39;ll have to double check when I get home, but I don&#39;t recall that error before.  Out of curiosity, what version of the SDK are you using and on what OS?  I am using 1.6 on Vista.","body":"Hmm, i&#39;ll have to double check when I get home, but I don&#39;t recall that error before.  Out of curiosity, what version of the SDK are you using and on what OS?  I am using 1.6 on Vista."}],"tags":[],"owner":{"account_id":30553,"reputation":4986,"user_id":83354,"accept_rate":88,"display_name":"broschb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257346058,"creation_date":1257346058,"answer_id":1674225,"question_id":1674101,"body_markdown":"You should be able to have the xml file open, and build.  There is an option if you right click on the project and go to android to clean up the project or reset the properties.  Try that and see if it resolves the issue.","title":"Android project won&#39;t build when editing a resource file","body":"<p>You should be able to have the xml file open, and build.  There is an option if you right click on the project and go to android to clean up the project or reset the properties.  Try that and see if it resolves the issue.</p>\n"},{"comments":[{"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"score":2,"creation_date":1282499207,"post_id":1676204,"comment_id":3709411,"body_markdown":"I had this issue before and I configured to automatically launch the last project, if I press the run button.\nThats good because you don&#39;t have to remember to change the focus to the correct file/tab.\n\nThe reason seems to be an XML/XSL issue, which seems to think that the xml files are runable for the XML/XSL extensions. The workaround mentioned by the eclipse guys don&#39;t work for me, because I can&#39;t remove these plugins.\n\nAnyway: Configure your run to run always the last project. Works fine for me with 30+ projects :)","body":"I had this issue before and I configured to automatically launch the last project, if I press the run button. Thats good because you don&#39;t have to remember to change the focus to the correct file/tab.  The reason seems to be an XML/XSL issue, which seems to think that the xml files are runable for the XML/XSL extensions. The workaround mentioned by the eclipse guys don&#39;t work for me, because I can&#39;t remove these plugins.  Anyway: Configure your run to run always the last project. Works fine for me with 30+ projects :)"},{"owner":{"account_id":446722,"reputation":1850,"user_id":1015808,"accept_rate":88,"display_name":"Dany Khalife"},"score":1,"creation_date":1343269095,"post_id":1676204,"comment_id":15454676,"body_markdown":"They REALLY should post this under the Google Tutorial! Thanks, you saved my hair :D","body":"They REALLY should post this under the Google Tutorial! Thanks, you saved my hair :D"}],"tags":[],"owner":{"account_id":17575,"reputation":20351,"user_id":39461,"accept_rate":80,"display_name":"Kevin Tighe"},"comment_count":2,"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1671931736,"creation_date":1257364610,"answer_id":1676204,"question_id":1674101,"body_markdown":"If you have an xml file open and click the &#39;Run&#39; button, then instead of running your Android project Eclipse will try to run a transform on the xml file.  It then creates a new xml file with the output of the transform and adds it to your project.  Then the project will fail to run at all because of the existence of the duplicate xml file.\r\n\r\nSo make sure you don&#39;t have any duplicate xml files in your project (look at the manifest file, as well as layout files).  The way I work around this is to make sure the project tree has focus (or just select a tab with a java file) before clicking &#39;Run&#39;.\r\n\r\nThere is likely a better way to handle this (via a config change perhaps), but I&#39;m pretty new to Eclipse and that&#39;s the workaround I came up with :).","title":"Android project won&#39;t build when editing a resource file","body":"<p>If you have an xml file open and click the 'Run' button, then instead of running your Android project Eclipse will try to run a transform on the xml file.  It then creates a new xml file with the output of the transform and adds it to your project.  Then the project will fail to run at all because of the existence of the duplicate xml file.</p>\n<p>So make sure you don't have any duplicate xml files in your project (look at the manifest file, as well as layout files).  The way I work around this is to make sure the project tree has focus (or just select a tab with a java file) before clicking 'Run'.</p>\n<p>There is likely a better way to handle this (via a config change perhaps), but I'm pretty new to Eclipse and that's the workaround I came up with :).</p>\n"},{"comments":[{"owner":{"account_id":54040,"reputation":3797,"user_id":161644,"accept_rate":30,"display_name":"John Lockwood"},"score":0,"creation_date":1282494795,"post_id":3039359,"comment_id":9899312,"body_markdown":"yes &quot;Eclipce / Project / Clean ... And run your project again ...&quot; solved it for me.","body":"yes &quot;Eclipce / Project / Clean ... And run your project again ...&quot; solved it for me."}],"tags":[],"owner":{"account_id":228217,"reputation":1065,"user_id":490383,"accept_rate":38,"display_name":"arlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1276536201,"creation_date":1276536201,"answer_id":3039359,"question_id":1674101,"body_markdown":"Eclipce / Project / Clean ...\r\nAnd run your project again ...","title":"Android project won&#39;t build when editing a resource file","body":"<p>Eclipce / Project / Clean ...\nAnd run your project again ...</p>\n"},{"tags":[],"owner":{"account_id":43532,"reputation":6845,"user_id":127287,"accept_rate":57,"display_name":"Lance Lefebure"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1284956579,"creation_date":1284956579,"answer_id":3748703,"question_id":1674101,"body_markdown":"To configure the run button to always run the previously launched application:\r\n\r\nEclipse -&gt; Window -&gt; Preferences -&gt; Run/Debug -&gt; Launching -&gt; Launch Operation -&gt; Always Launch the previously launched application","title":"Android project won&#39;t build when editing a resource file","body":"<p>To configure the run button to always run the previously launched application:</p>\n\n<p>Eclipse -> Window -> Preferences -> Run/Debug -> Launching -> Launch Operation -> Always Launch the previously launched application</p>\n"},{"tags":[],"owner":{"account_id":270483,"reputation":806,"user_id":560465,"display_name":"Zeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294859368,"creation_date":1294859368,"answer_id":4672926,"question_id":1674101,"body_markdown":"I just had the same problem because I had two files of different type format, but with the same name, like:\r\njquerymobile.css and jquerymobile.js\r\n\r\nthe solution was to rename one of the files","title":"Android project won&#39;t build when editing a resource file","body":"<p>I just had the same problem because I had two files of different type format, but with the same name, like:\njquerymobile.css and jquerymobile.js</p>\n\n<p>the solution was to rename one of the files</p>\n"},{"tags":[],"owner":{"account_id":1264444,"reputation":3491,"user_id":1222067,"accept_rate":83,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348948774,"creation_date":1348948774,"answer_id":12656010,"question_id":1674101,"body_markdown":"I had same issue then trying to build project with ant.\r\nSo I just cleared bin/ directory and the project was build.","title":"Android project won&#39;t build when editing a resource file","body":"<p>I had same issue then trying to build project with ant.\nSo I just cleared bin/ directory and the project was build.</p>\n"},{"tags":[],"owner":{"account_id":1738081,"reputation":458,"user_id":1590189,"accept_rate":20,"display_name":"Saravana Kumar Chinnaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349417655,"creation_date":1349413272,"answer_id":12739766,"question_id":1674101,"body_markdown":"That will happen in the eclipse Indigo(IDE). when you are trying to run XML file instead of source pages(java files). So that will generate a file with the name of main.out.xml. \r\nso we have to delete the main.out.xml file and run the source files..\r\n\r\ni Hope this will work..","title":"Android project won&#39;t build when editing a resource file","body":"<p>That will happen in the eclipse Indigo(IDE). when you are trying to run XML file instead of source pages(java files). So that will generate a file with the name of main.out.xml. \nso we have to delete the main.out.xml file and run the source files..</p>\n\n<p>i Hope this will work..</p>\n"},{"tags":[],"owner":{"account_id":1018227,"reputation":74,"user_id":1029291,"display_name":"fshbn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365067816,"creation_date":1365067816,"answer_id":15807434,"question_id":1674101,"body_markdown":"I had the same issue with same named nine-patch and normal images. Giving different names solves the issue.","title":"Android project won&#39;t build when editing a resource file","body":"<p>I had the same issue with same named nine-patch and normal images. Giving different names solves the issue.</p>\n"}],"owner":{"account_id":7432,"reputation":5028,"user_id":12915,"accept_rate":100,"display_name":"John Lemp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38668,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":1676204,"answer_count":8,"score":39,"last_activity_date":1671931736,"creation_date":1257344985,"question_id":1674101,"body_markdown":"I have an Android 1.5 project in Eclipse and whenever I merely have an xml resource file open the build dies with an error. E.g. if I have the `res\\layout\\main.xml` open as the active document it won&#39;t build and throws the following error:\r\n\r\n    Error in an XML file: aborting build.\r\n    res\\layout\\main.xml:0: ERROR Resource entry main is already defined.\r\n\r\nThen I have to delete `main.out.xml` and switch to any .java file in the project to get it to build.\r\n\r\nDo I have something configured incorrectly or is this just an Eclipse or ADT bug?\r\nIt drove me nuts for an hour before I figure out what the cause was.\r\n ","title":"Android project won&#39;t build when editing a resource file","body":"<p>I have an Android 1.5 project in Eclipse and whenever I merely have an xml resource file open the build dies with an error. E.g. if I have the <code>res\\layout\\main.xml</code> open as the active document it won't build and throws the following error:</p>\n\n<pre><code>Error in an XML file: aborting build.\nres\\layout\\main.xml:0: ERROR Resource entry main is already defined.\n</code></pre>\n\n<p>Then I have to delete <code>main.out.xml</code> and switch to any .java file in the project to get it to build.</p>\n\n<p>Do I have something configured incorrectly or is this just an Eclipse or ADT bug?\nIt drove me nuts for an hour before I figure out what the cause was.</p>\n"},{"tags":["java","analyzer","lexical"],"answers":[{"comments":[{"owner":{"account_id":3090758,"reputation":311,"user_id":2616904,"display_name":"KLoverated"},"score":0,"creation_date":1374721863,"post_id":17848227,"comment_id":26055474,"body_markdown":"Thanks Sir! I really appreciate your suggestions. There really is a big need for me to study lexical analysis deeper for me to understand the concept better.","body":"Thanks Sir! I really appreciate your suggestions. There really is a big need for me to study lexical analysis deeper for me to understand the concept better."}],"tags":[],"owner":{"account_id":1860372,"reputation":1560,"user_id":1685056,"accept_rate":91,"display_name":"darxsys"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374721206,"creation_date":1374720904,"answer_id":17848227,"question_id":17848207,"body_markdown":"Lexical analysis is a topic by itself that usually goes together with compiler design and analysis. You should read up about it before trying to code anything. My favourite book on this topic is the [Dragon][1] book which should give you a good introduction to compiler design and even provides pseudocodes for all compiler phases which you can easily translate to Java and move from there.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools\r\n\r\nIn short, the main idea is to parse the input and divide it into tokens which belong to certain classes (parentheses or keywords, for example, in your desired output) using a finite state machine. Process of state machine building is actually the only hard part of this analysis and the Dragon book will provide you with great insight into this thing.","title":"Making a lexical Analyzer","body":"<p>Lexical analysis is a topic by itself that usually goes together with compiler design and analysis. You should read up about it before trying to code anything. My favourite book on this topic is the <a href=\"http://en.wikipedia.org/wiki/Compilers%3a_Principles,_Techniques,_and_Tools\" rel=\"nofollow\">Dragon</a> book which should give you a good introduction to compiler design and even provides pseudocodes for all compiler phases which you can easily translate to Java and move from there.</p>\n\n<p>In short, the main idea is to parse the input and divide it into tokens which belong to certain classes (parentheses or keywords, for example, in your desired output) using a finite state machine. Process of state machine building is actually the only hard part of this analysis and the Dragon book will provide you with great insight into this thing.</p>\n"},{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1374721626,"creation_date":1374721260,"answer_id":17848287,"question_id":17848207,"body_markdown":"[ANTLR 4](http://antlr.org) will do exactly this with the `Java.g4` reference grammar. You have two options depending on how closely you want the handling of Unicode escape sequences to follow the language specification.\r\n\r\n* https://github.com/antlr/grammars-v4/blob/master/java/Java.g4: This grammar only handles Unicode escape sequences as characters within a string or character literal.\r\n* https://github.com/antlr/antlr4/blob/master/tool/test/org/antlr/v4/test/Java-LR.g4 (must be renamed to Java.g4 before use): This grammar requires that you wrap your `ANTLRInputStream` in a [`JavaUnicodeInputStream`](https://github.com/antlr/antlr4/blob/master/tool/test/org/antlr/v4/test/JavaUnicodeInputStream.java), which processes Unicode escape sequences according to the JLS prior to feeding them to the lexer.\r\n\r\nEdit: The names of the tokens produced by this grammar differ slightly from your table.\r\n\r\n* Your `Key_Word` token is `Identifier`\r\n* Your `Object_Accessor` token is `DOT`\r\n* Your `left_Parenthesis` token is `LPAREN`\r\n* Your `String_Literal` token is `StringLiteral`\r\n* Your `right_Parenthesis` token is `RPAREN`\r\n* Your `statement_separator` token is `SEMI`","title":"Making a lexical Analyzer","body":"<p><a href=\"http://antlr.org\">ANTLR 4</a> will do exactly this with the <code>Java.g4</code> reference grammar. You have two options depending on how closely you want the handling of Unicode escape sequences to follow the language specification.</p>\n\n<ul>\n<li><a href=\"https://github.com/antlr/grammars-v4/blob/master/java/Java.g4\">https://github.com/antlr/grammars-v4/blob/master/java/Java.g4</a>: This grammar only handles Unicode escape sequences as characters within a string or character literal.</li>\n<li><a href=\"https://github.com/antlr/antlr4/blob/master/tool/test/org/antlr/v4/test/Java-LR.g4\">https://github.com/antlr/antlr4/blob/master/tool/test/org/antlr/v4/test/Java-LR.g4</a> (must be renamed to Java.g4 before use): This grammar requires that you wrap your <code>ANTLRInputStream</code> in a <a href=\"https://github.com/antlr/antlr4/blob/master/tool/test/org/antlr/v4/test/JavaUnicodeInputStream.java\"><code>JavaUnicodeInputStream</code></a>, which processes Unicode escape sequences according to the JLS prior to feeding them to the lexer.</li>\n</ul>\n\n<p>Edit: The names of the tokens produced by this grammar differ slightly from your table.</p>\n\n<ul>\n<li>Your <code>Key_Word</code> token is <code>Identifier</code></li>\n<li>Your <code>Object_Accessor</code> token is <code>DOT</code></li>\n<li>Your <code>left_Parenthesis</code> token is <code>LPAREN</code></li>\n<li>Your <code>String_Literal</code> token is <code>StringLiteral</code></li>\n<li>Your <code>right_Parenthesis</code> token is <code>RPAREN</code></li>\n<li>Your <code>statement_separator</code> token is <code>SEMI</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374721872,"creation_date":1374721872,"answer_id":17848374,"question_id":17848207,"body_markdown":"You can use libraries like `Lex &amp; Bison` in C or `Antlr` in Java. Lexical analysis can be done through making automata. I&#39;ll give you small example:\r\n\r\nSuppose you need to tokenize a string where keywords (language) are `{&#39;echo&#39;, &#39;.&#39;, &#39; &#39;, &#39;end&#39;)`. By keywords I mean language consists of following keywords only. So if I input\r\n\r\n    echo .\r\n    end .\r\n\r\nMy lexer should output\r\n\r\n    echo ECHO\r\n     SPACE\r\n    . DOT\r\n    end END\r\n     SPACE\r\n    . DOT\r\nNow to build automata for such a tokenizer, I can start by \r\n\r\n      -&gt;(SPACE) (Back)\r\n     |   \r\n    (S)-------------E-&gt;C-&gt;H-&gt;O-&gt;(ECHO) (Back)\r\n     |              |\r\n     .-&gt;(DOT)(Back)  -&gt;N-&gt;D -&gt;(END) (Back to Start)\r\n\r\nAbove diagram is prolly very bad, but idea is that you have a start state represented by `S` now you consume `E` and go to some other state, now you expect `N` or `C` to come for `END` and `ECHO` respectively. You keep consuming characters and reach different states within this simple finite state machine. Ultimately, you reach certain `Emit` state, for example after consuming `E`, `N`, `D` you reach emit state for `END` which emits the token out and then you go back to `start` state. This cycle continues forever as far as you have characters stream coming to your tokenizer. On invalid character you can either thrown an error or ignore depending on the design.\r\n\r\n ","title":"Making a lexical Analyzer","body":"<p>You can use libraries like <code>Lex &amp; Bison</code> in C or <code>Antlr</code> in Java. Lexical analysis can be done through making automata. I'll give you small example:</p>\n\n<p>Suppose you need to tokenize a string where keywords (language) are <code>{'echo', '.', ' ', 'end')</code>. By keywords I mean language consists of following keywords only. So if I input</p>\n\n<pre><code>echo .\nend .\n</code></pre>\n\n<p>My lexer should output</p>\n\n<pre><code>echo ECHO\n SPACE\n. DOT\nend END\n SPACE\n. DOT\n</code></pre>\n\n<p>Now to build automata for such a tokenizer, I can start by </p>\n\n<pre><code>  -&gt;(SPACE) (Back)\n |   \n(S)-------------E-&gt;C-&gt;H-&gt;O-&gt;(ECHO) (Back)\n |              |\n .-&gt;(DOT)(Back)  -&gt;N-&gt;D -&gt;(END) (Back to Start)\n</code></pre>\n\n<p>Above diagram is prolly very bad, but idea is that you have a start state represented by <code>S</code> now you consume <code>E</code> and go to some other state, now you expect <code>N</code> or <code>C</code> to come for <code>END</code> and <code>ECHO</code> respectively. You keep consuming characters and reach different states within this simple finite state machine. Ultimately, you reach certain <code>Emit</code> state, for example after consuming <code>E</code>, <code>N</code>, <code>D</code> you reach emit state for <code>END</code> which emits the token out and then you go back to <code>start</code> state. This cycle continues forever as far as you have characters stream coming to your tokenizer. On invalid character you can either thrown an error or ignore depending on the design.</p>\n"},{"comments":[{"owner":{"account_id":3090758,"reputation":311,"user_id":2616904,"display_name":"KLoverated"},"score":2,"creation_date":1374747099,"post_id":17848683,"comment_id":26066312,"body_markdown":"THANK YOU VERY MUCH SIR. It helped me a lot. I would just like to ask if it&#39;s necessary for me to study these things as a Computer Science student. What is it&#39;s relevance to my major?","body":"THANK YOU VERY MUCH SIR. It helped me a lot. I would just like to ask if it&#39;s necessary for me to study these things as a Computer Science student. What is it&#39;s relevance to my major?"},{"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"score":1,"creation_date":1374762697,"post_id":17848683,"comment_id":26076455,"body_markdown":"Lexical analysis is the first step that a compiler or interpreter will do, before parsing. Compilers (and interpreters) are very useful, and without them we would have to write machine code all day. I won&#39;t comment on whether a CS student should or shouldn&#39;t study compilers. I think they are interesting in their own right, and if you&#39;re a curious programmer you may be inclined to wonder how they work. There are a lot of topics in CS though, and understanding compilation may not be interesting to you. That&#39;s ok too. That said, compilers are certainly relevant to CS in general.","body":"Lexical analysis is the first step that a compiler or interpreter will do, before parsing. Compilers (and interpreters) are very useful, and without them we would have to write machine code all day. I won&#39;t comment on whether a CS student should or shouldn&#39;t study compilers. I think they are interesting in their own right, and if you&#39;re a curious programmer you may be inclined to wonder how they work. There are a lot of topics in CS though, and understanding compilation may not be interesting to you. That&#39;s ok too. That said, compilers are certainly relevant to CS in general."},{"owner":{"account_id":3090758,"reputation":311,"user_id":2616904,"display_name":"KLoverated"},"score":0,"creation_date":1374835395,"post_id":17848683,"comment_id":26108006,"body_markdown":"Thank you very much Sir for sharing your thoughts. I&#39;m interested in studying the compiler / compilation process because I dreamed of designing one someday. What i&#39;m afraid of is that I may not be able understand it very well. As I said i&#39;m still a beginner. I started studying Computer Science without any background about computer programming. I always wonder where to start.","body":"Thank you very much Sir for sharing your thoughts. I&#39;m interested in studying the compiler / compilation process because I dreamed of designing one someday. What i&#39;m afraid of is that I may not be able understand it very well. As I said i&#39;m still a beginner. I started studying Computer Science without any background about computer programming. I always wonder where to start."},{"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"score":0,"creation_date":1374944595,"post_id":17848683,"comment_id":26145824,"body_markdown":"There are a lot of very accessible resources for getting started with and learning about compilers (and interpreters). If you&#39;re interested, don&#39;t be afraid or intimidated -- you too can write a compiler! Feel free to get in touch over email (in my profile) if you want to discuss this further or need some help finding a good place to start.","body":"There are a lot of very accessible resources for getting started with and learning about compilers (and interpreters). If you&#39;re interested, don&#39;t be afraid or intimidated -- you too can write a compiler! Feel free to get in touch over email (in my profile) if you want to discuss this further or need some help finding a good place to start."},{"owner":{"account_id":3333248,"reputation":136,"user_id":2801605,"display_name":"Paul Corda"},"score":0,"creation_date":1429985970,"post_id":17848683,"comment_id":47862949,"body_markdown":"Thanks man! Your basic example helped me understand the process a bit better. All the best!","body":"Thanks man! Your basic example helped me understand the process a bit better. All the best!"},{"owner":{"account_id":10683535,"reputation":400,"user_id":7864777,"accept_rate":89,"display_name":"wanderer0810"},"score":0,"creation_date":1540706617,"post_id":17848683,"comment_id":92958659,"body_markdown":"@michiakig When I try to run this code I get an `OutOfMemoryError` error.  Wouldn&#39;t it potentially be better to avoid creating a new object for each token to save memory?","body":"@michiakig When I try to run this code I get an <code>OutOfMemoryError</code> error.  Wouldn&#39;t it potentially be better to avoid creating a new object for each token to save memory?"},{"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"score":0,"creation_date":1540752333,"post_id":17848683,"comment_id":92969942,"body_markdown":"@wanderer0810 This example was a demonstration of how to write a lexical analyzer without tools, and was never intended to be performant or memory efficient. I threw it together in probably half an hour while writing this answer.\n\nAs I wrote 5 years ago, if you have an industrial lexing task to perform, consider industrial strength tools. But if you are studying the implementation of compilers, simple examples can be useful.","body":"@wanderer0810 This example was a demonstration of how to write a lexical analyzer without tools, and was never intended to be performant or memory efficient. I threw it together in probably half an hour while writing this answer.  As I wrote 5 years ago, if you have an industrial lexing task to perform, consider industrial strength tools. But if you are studying the implementation of compilers, simple examples can be useful."},{"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"score":0,"creation_date":1605409714,"post_id":17848683,"comment_id":114640425,"body_markdown":"Hi! I am looking to your implementation for inspiration on a project I am working on currently, where I take assembly code and interpret it in java. In the project in question, there are 5 tokens instead of the given 3, and I am looking for Strings corresponding to instructions like &quot;LOAD&quot; and &quot;ADD&quot;. With this in mind, how would my implementation differ from the above if at all?","body":"Hi! I am looking to your implementation for inspiration on a project I am working on currently, where I take assembly code and interpret it in java. In the project in question, there are 5 tokens instead of the given 3, and I am looking for Strings corresponding to instructions like &quot;LOAD&quot; and &quot;ADD&quot;. With this in mind, how would my implementation differ from the above if at all?"},{"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"score":1,"creation_date":1605477193,"post_id":17848683,"comment_id":114655734,"body_markdown":"@abdcg depending on the details you might have to look ahead more than 1 char to differentiate the keywords if you want to have different token types for them. notice the switch statement in the post looks at 1 character, and has 3 cases. if your language permits an identifier (like a label) like &quot;LOADX&quot; you need to peek ahead up to the next whitespace to tell that this is not a &quot;LOAD&quot; keyword but an identifier. this is a whole subtopic of lexical analyser generators i think, but it&#39;s been a long time since i played around with compilers (other hobbies these days). good luck","body":"@abdcg depending on the details you might have to look ahead more than 1 char to differentiate the keywords if you want to have different token types for them. notice the switch statement in the post looks at 1 character, and has 3 cases. if your language permits an identifier (like a label) like &quot;LOADX&quot; you need to peek ahead up to the next whitespace to tell that this is not a &quot;LOAD&quot; keyword but an identifier. this is a whole subtopic of lexical analyser generators i think, but it&#39;s been a long time since i played around with compilers (other hobbies these days). good luck"}],"tags":[],"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"comment_count":9,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1671931722,"creation_date":1374724243,"answer_id":17848683,"question_id":17848207,"body_markdown":"You need neither ANTLR nor the Dragon book to write a simple lexical analyzer by hand. Even lexical analyzers for fuller languages (like Java) aren&#39;t terribly complicated to write by hand. Obviously if you have an industrial task you might want to consider industrial strength tools like ANTLR or some lex variant, but for the sake of learning how lexical analysis works, writing one by hand would likely prove to be a useful exercise. I&#39;m assuming that this is the case, since you said you&#39;re still a beginner.\r\n\r\nHere&#39;s a simple lexical analyzer, written in Java, for a subset of a Scheme-like language, that I wrote after seeing this question. I think the code is relatively easy to understand even if you&#39;ve never seen a lexer before, simply because breaking a stream of characters (in this case a `String`) into a stream of tokens (in this case a `List&lt;Token&gt;`) isn&#39;t that hard. If you have questions I can try to explain in more depth.\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    /*\r\n     * Lexical analyzer for Scheme-like minilanguage:\r\n     * (define (foo x) (bar (baz x)))\r\n     */\r\n    public class Lexer {\r\n        public static enum Type {\r\n            // This Scheme-like language has three token types:\r\n            // open parens, close parens, and an &quot;atom&quot; type\r\n            LPAREN, RPAREN, ATOM;\r\n        }\r\n        public static class Token {\r\n            public final Type t;\r\n            public final String c; // contents mainly for atom tokens\r\n            // could have column and line number fields too, for reporting errors later\r\n            public Token(Type t, String c) {\r\n                this.t = t;\r\n                this.c = c;\r\n            }\r\n            public String toString() {\r\n                if(t == Type.ATOM) {\r\n                    return &quot;ATOM&lt;&quot; + c + &quot;&gt;&quot;;\r\n                }\r\n                return t.toString();\r\n            }\r\n        }\r\n    \r\n        /*\r\n         * Given a String, and an index, get the atom starting at that index\r\n         */\r\n        public static String getAtom(String s, int i) {\r\n            int j = i;\r\n            for( ; j &lt; s.length(); ) {\r\n                if(Character.isLetter(s.charAt(j))) {\r\n                    j++;\r\n                } else {\r\n                    return s.substring(i, j);\r\n                }\r\n            }\r\n            return s.substring(i, j);\r\n        }\r\n    \r\n        public static List&lt;Token&gt; lex(String input) {\r\n            List&lt;Token&gt; result = new ArrayList&lt;Token&gt;();\r\n            for(int i = 0; i &lt; input.length(); ) {\r\n                switch(input.charAt(i)) {\r\n                case &#39;(&#39;:\r\n                    result.add(new Token(Type.LPAREN, &quot;(&quot;));\r\n                    i++;\r\n                    break;\r\n                case &#39;)&#39;:\r\n                    result.add(new Token(Type.RPAREN, &quot;)&quot;));\r\n                    i++;\r\n                    break;\r\n                default:\r\n                    if(Character.isWhitespace(input.charAt(i))) {\r\n                        i++;\r\n                    } else {\r\n                        String atom = getAtom(input, i);\r\n                        i += atom.length();\r\n                        result.add(new Token(Type.ATOM, atom));\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            if(args.length &lt; 1) {\r\n                System.out.println(&quot;Usage: java Lexer \\&quot;((some Scheme) (code to) lex)\\&quot;.&quot;);\r\n                return;\r\n            }\r\n            List&lt;Token&gt; tokens = lex(args[0]);\r\n            for(Token t : tokens) {\r\n                System.out.println(t);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nExample use:\r\n\r\n    ~/code/scratch $ java Lexer &quot;&quot;\r\n    ~/code/scratch $ java Lexer &quot;(&quot;\r\n    LPAREN\r\n    ~/code/scratch $ java Lexer &quot;()&quot;\r\n    LPAREN\r\n    RPAREN\r\n    ~/code/scratch $ java Lexer &quot;(foo)&quot;\r\n    LPAREN\r\n    ATOM&lt;foo&gt;\r\n    RPAREN\r\n    ~/code/scratch $ java Lexer &quot;(foo bar)&quot;\r\n    LPAREN\r\n    ATOM&lt;foo&gt;\r\n    ATOM&lt;bar&gt;\r\n    RPAREN\r\n    ~/code/scratch $ java Lexer &quot;(foo (bar))&quot;\r\n    LPAREN\r\n    ATOM&lt;foo&gt;\r\n    LPAREN\r\n    ATOM&lt;bar&gt;\r\n    RPAREN\r\n    RPAREN\r\n\r\nOnce you&#39;ve written one or two simple lexers like this, you will get a pretty good idea of how this problem decomposes. Then it would be interesting to explore how to use automated tools like lex. The theory behind regular expression based matchers is not too difficult, but it does take a while to fully understand. I think writing lexers by hand motivates that study and helps you come to grips with the problem better than diving into the theory behind converting regular expressions to finite automate (first NFAs, then NFAs to DFAs), etc... wading into that theory can be a lot to take in at once, and it is easy to get overwhelmed.\r\n\r\nPersonally, while the Dragon book is good and very thorough, the coverage might not be the easiest to understand because it aims to be complete, not necessarily accessible. You might want to try some other compiler texts before opening up the Dragon book. Here are a few free books, which have pretty good introductory coverage, IMHO:\r\n\r\nhttp://www.ethoberon.ethz.ch/WirthPubl/CBEAll.pdf\r\n\r\nhttp://www.diku.dk/~torbenm/Basics/\r\n\r\nSome articles on the implementation of regular expressions (automated lexical analysis usually uses regular expressions)\r\n\r\nhttp://swtch.com/~rsc/regexp/","title":"Making a lexical Analyzer","body":"<p>You need neither ANTLR nor the Dragon book to write a simple lexical analyzer by hand. Even lexical analyzers for fuller languages (like Java) aren't terribly complicated to write by hand. Obviously if you have an industrial task you might want to consider industrial strength tools like ANTLR or some lex variant, but for the sake of learning how lexical analysis works, writing one by hand would likely prove to be a useful exercise. I'm assuming that this is the case, since you said you're still a beginner.</p>\n<p>Here's a simple lexical analyzer, written in Java, for a subset of a Scheme-like language, that I wrote after seeing this question. I think the code is relatively easy to understand even if you've never seen a lexer before, simply because breaking a stream of characters (in this case a <code>String</code>) into a stream of tokens (in this case a <code>List&lt;Token&gt;</code>) isn't that hard. If you have questions I can try to explain in more depth.</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\n\n/*\n * Lexical analyzer for Scheme-like minilanguage:\n * (define (foo x) (bar (baz x)))\n */\npublic class Lexer {\n    public static enum Type {\n        // This Scheme-like language has three token types:\n        // open parens, close parens, and an &quot;atom&quot; type\n        LPAREN, RPAREN, ATOM;\n    }\n    public static class Token {\n        public final Type t;\n        public final String c; // contents mainly for atom tokens\n        // could have column and line number fields too, for reporting errors later\n        public Token(Type t, String c) {\n            this.t = t;\n            this.c = c;\n        }\n        public String toString() {\n            if(t == Type.ATOM) {\n                return &quot;ATOM&lt;&quot; + c + &quot;&gt;&quot;;\n            }\n            return t.toString();\n        }\n    }\n\n    /*\n     * Given a String, and an index, get the atom starting at that index\n     */\n    public static String getAtom(String s, int i) {\n        int j = i;\n        for( ; j &lt; s.length(); ) {\n            if(Character.isLetter(s.charAt(j))) {\n                j++;\n            } else {\n                return s.substring(i, j);\n            }\n        }\n        return s.substring(i, j);\n    }\n\n    public static List&lt;Token&gt; lex(String input) {\n        List&lt;Token&gt; result = new ArrayList&lt;Token&gt;();\n        for(int i = 0; i &lt; input.length(); ) {\n            switch(input.charAt(i)) {\n            case '(':\n                result.add(new Token(Type.LPAREN, &quot;(&quot;));\n                i++;\n                break;\n            case ')':\n                result.add(new Token(Type.RPAREN, &quot;)&quot;));\n                i++;\n                break;\n            default:\n                if(Character.isWhitespace(input.charAt(i))) {\n                    i++;\n                } else {\n                    String atom = getAtom(input, i);\n                    i += atom.length();\n                    result.add(new Token(Type.ATOM, atom));\n                }\n                break;\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        if(args.length &lt; 1) {\n            System.out.println(&quot;Usage: java Lexer \\&quot;((some Scheme) (code to) lex)\\&quot;.&quot;);\n            return;\n        }\n        List&lt;Token&gt; tokens = lex(args[0]);\n        for(Token t : tokens) {\n            System.out.println(t);\n        }\n    }\n}\n</code></pre>\n<p>Example use:</p>\n<pre><code>~/code/scratch $ java Lexer &quot;&quot;\n~/code/scratch $ java Lexer &quot;(&quot;\nLPAREN\n~/code/scratch $ java Lexer &quot;()&quot;\nLPAREN\nRPAREN\n~/code/scratch $ java Lexer &quot;(foo)&quot;\nLPAREN\nATOM&lt;foo&gt;\nRPAREN\n~/code/scratch $ java Lexer &quot;(foo bar)&quot;\nLPAREN\nATOM&lt;foo&gt;\nATOM&lt;bar&gt;\nRPAREN\n~/code/scratch $ java Lexer &quot;(foo (bar))&quot;\nLPAREN\nATOM&lt;foo&gt;\nLPAREN\nATOM&lt;bar&gt;\nRPAREN\nRPAREN\n</code></pre>\n<p>Once you've written one or two simple lexers like this, you will get a pretty good idea of how this problem decomposes. Then it would be interesting to explore how to use automated tools like lex. The theory behind regular expression based matchers is not too difficult, but it does take a while to fully understand. I think writing lexers by hand motivates that study and helps you come to grips with the problem better than diving into the theory behind converting regular expressions to finite automate (first NFAs, then NFAs to DFAs), etc... wading into that theory can be a lot to take in at once, and it is easy to get overwhelmed.</p>\n<p>Personally, while the Dragon book is good and very thorough, the coverage might not be the easiest to understand because it aims to be complete, not necessarily accessible. You might want to try some other compiler texts before opening up the Dragon book. Here are a few free books, which have pretty good introductory coverage, IMHO:</p>\n<p><a href=\"http://www.ethoberon.ethz.ch/WirthPubl/CBEAll.pdf\" rel=\"nofollow noreferrer\">http://www.ethoberon.ethz.ch/WirthPubl/CBEAll.pdf</a></p>\n<p><a href=\"http://www.diku.dk/%7Etorbenm/Basics/\" rel=\"nofollow noreferrer\">http://www.diku.dk/~torbenm/Basics/</a></p>\n<p>Some articles on the implementation of regular expressions (automated lexical analysis usually uses regular expressions)</p>\n<p><a href=\"http://swtch.com/%7Ersc/regexp/\" rel=\"nofollow noreferrer\">http://swtch.com/~rsc/regexp/</a></p>\n"},{"tags":[],"owner":{"account_id":1568801,"reputation":125,"user_id":1456982,"display_name":"user1456982"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533915046,"creation_date":1533915046,"answer_id":51789771,"question_id":17848207,"body_markdown":"CookCC ( https://github.com/coconut2015/cookcc ) generates a very fast, small, zero-dependency lexer for Java.","title":"Making a lexical Analyzer","body":"<p>CookCC ( <a href=\"https://github.com/coconut2015/cookcc\" rel=\"nofollow noreferrer\">https://github.com/coconut2015/cookcc</a> ) generates a very fast, small, zero-dependency lexer for Java.</p>\n"},{"comments":[{"owner":{"account_id":9259838,"reputation":1606,"user_id":6877321,"display_name":"Gratien Asimbahwe"},"score":1,"creation_date":1544447251,"post_id":53705998,"comment_id":94267136,"body_markdown":"could you please add some explainations about what does your code?","body":"could you please add some explainations about what does your code?"},{"owner":{"account_id":13703658,"reputation":27,"user_id":9887983,"display_name":"Ashik Rabbani"},"score":0,"creation_date":1544457101,"post_id":53705998,"comment_id":94272716,"body_markdown":"Write a program to make a simple lexical analyzer\nthat will build a symbol table from given stream of\nchars. You will need to read a file named\n“input.txt” to collect all chars. For simplicity, input\nfile will be a C/Java/Python program without\nheaders and methods(body of the main progrm).\nThen you will identify all the numerical values,\nidentifiers, keywords, math operators, logical\noperators and others[distinct]. See the example for\nmore details. You can assume that, there will be a\nspace after each keyword.","body":"Write a program to make a simple lexical analyzer that will build a symbol table from given stream of chars. You will need to read a file named “input.txt” to collect all chars. For simplicity, input file will be a C/Java/Python program without headers and methods(body of the main progrm). Then you will identify all the numerical values, identifiers, keywords, math operators, logical operators and others[distinct]. See the example for more details. You can assume that, there will be a space after each keyword."}],"tags":[],"owner":{"account_id":13703658,"reputation":27,"user_id":9887983,"display_name":"Ashik Rabbani"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1544642508,"creation_date":1544446131,"answer_id":53705998,"question_id":17848207,"body_markdown":"Write a program to make a simple lexical analyzer that will build a symbol table from given stream of chars. You will need to read a file named “input.txt” to collect all chars. For simplicity, input file will be a C/Java/Python program without headers and methods(body of the main progrm). Then you will identify all the numerical values, identifiers, keywords, math operators, logical operators and others[distinct]. See the example for more details. You can assume that, there will be a space after each keyword.  \r\n\r\n  \t#include&lt;stdio.h&gt;\r\n\t\t#include&lt;stdlib.h&gt;\r\n\t\t#include&lt;string.h&gt;\r\n\r\n\t\tint main(){\r\n        /* By Ashik Rabbani\r\n        Daffodil International University,CSE43 */\r\n\t\tkeyword_check();\r\n\t\tidentifier_check();\r\n\t\tmath_operator_check();\r\n\t\tlogical_operator_check();\r\n\t\tnumerical_check();\r\n\t\tothers_check();\r\n\r\n\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\r\n\t\tvoid math_operator_check()\r\n\t\t{\r\n\r\n\t\t\tchar ch, string_input[15], operators[] = &quot;+-*/%&quot;;\r\n\t\t\tFILE *fp;\r\n\t\t\tchar tr[20];\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\t\t   printf(&quot;\\nMath Operators : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\t\t\t\t   for(i = 0; i &lt; 6; ++i){\r\n\t\t\t\t\t   if(ch == operators[i])\r\n\t\t\t\t\t\t   printf(&quot;%c &quot;, ch);\r\n\r\n\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t\t\tprintf(&quot;\\n&quot;);\r\n\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n\r\n\r\n\t\tvoid logical_operator_check()\r\n\t\t{\r\n\r\n\t\t\tchar ch, string_input[15], operators[] = &quot;&amp;&amp;||&lt;&gt;&quot;;\r\n\t\t\tFILE *fp;\r\n\t\t\tchar tr[20];\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\t\t   printf(&quot;\\nLogical Operators : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\t\t\t\t   for(i = 0; i &lt; 6; ++i){\r\n\t\t\t\t\t   if(ch == operators[i])\r\n\t\t\t\t\t\t   printf(&quot;%c &quot;, ch);\r\n\r\n\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t\t\tprintf(&quot;\\n&quot;);\r\n\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n\r\n\t\tvoid numerical_check()\r\n\t\t{\r\n\r\n\t\t\tchar ch, string_input[15], operators[] ={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;};\r\n\t\t\tFILE *fp;\r\n\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\t\t   printf(&quot;\\nNumerical Values : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\t\t\t\t   for(i = 0; i &lt; 6; ++i){\r\n\t\t\t\t\t   if(ch == operators[i])\r\n\t\t\t\t\t\t   printf(&quot;%c &quot;, ch);\r\n\r\n\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t\t\tprintf(&quot;\\n&quot;);\r\n\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n\r\n\t\tvoid others_check()\r\n\t\t{\r\n\t\t\tchar ch, string_input[15], symbols[] = &quot;(){}[]&quot;;\r\n\t\t\tFILE *fp;\r\n\t\t\tchar tr[20];\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\t\t   printf(&quot;\\nOthers : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\t\t\t\t   for(i = 0; i &lt; 6; ++i){\r\n\t\t\t\t\t   if(ch == symbols[i])\r\n\t\t\t\t\t\t   printf(&quot;%c &quot;, ch);\r\n\r\n\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t\t   printf(&quot;\\n&quot;);\r\n\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n\r\n\t\tvoid identifier_check()\r\n\t\t{\r\n\t\t\tchar ch, string_input[15];\r\n\t\t\tFILE *fp;\r\n\t\tchar    operators[] ={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;};\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\r\n\t\t\tprintf(&quot;\\nIdentifiers : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\r\n\t\t\t\t   if(isalnum(ch)){\r\n\t\t\t\t\t   string_input[j++] = ch;\r\n\t\t\t\t   }\r\n\t\t\t\t   else if((ch == &#39; &#39; || ch == &#39;\\n&#39;) &amp;&amp; (j != 0)){\r\n\t\t\t\t\t\t   string_input[j] = &#39;\\0&#39;;\r\n\t\t\t\t\t\t   j = 0;\r\n\r\n\t\t\t\t\t\t   if(isKeyword(string_input) == 1)\r\n\t\t\t\t\t\t   {\r\n\r\n\t\t\t\t\t\t   }\r\n\r\n\t\t\t\t\t\t   else\r\n\t\t\t\t\t\t\t   printf(&quot;%s &quot;, string_input);\r\n\t\t\t\t   }\r\n\r\n\t\t\t\t   }\r\n\r\n\t\t\t\t\tprintf(&quot;\\n&quot;);\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n\r\n\t\tint isKeyword(char string_input[]){\r\n\t\t\tchar keywords[32][10] = {&quot;auto&quot;,&quot;break&quot;,&quot;case&quot;,&quot;char&quot;,&quot;const&quot;,&quot;continue&quot;,&quot;default&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;do&quot;,&quot;double&quot;,&quot;else&quot;,&quot;enum&quot;,&quot;extern&quot;,&quot;float&quot;,&quot;for&quot;,&quot;goto&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;if&quot;,&quot;int&quot;,&quot;long&quot;,&quot;register&quot;,&quot;return&quot;,&quot;short&quot;,&quot;signed&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;sizeof&quot;,&quot;static&quot;,&quot;struct&quot;,&quot;switch&quot;,&quot;typedef&quot;,&quot;union&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;unsigned&quot;,&quot;void&quot;,&quot;volatile&quot;,&quot;while&quot;};\r\n\t\t\tint i, flag = 0;\r\n\r\n\t\t\tfor(i = 0; i &lt; 32; ++i){\r\n\t\t\t\tif(strcmp(keywords[i], string_input) == 0){\r\n\t\t\t\t\tflag = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn flag;\r\n\t\t}\r\n\r\n\t\tvoid keyword_check()\r\n\t\t{\r\n\r\n\t\t\tchar ch, string_input[15], operators[] = &quot;+-*/%=&quot;;\r\n\t\t\tFILE *fp;\r\n\t\t\tchar tr[20];\r\n\t\t\tint i,j=0;\r\n\r\n\t\t\tprintf(&quot; Token Identification using C \\n By Ashik-E-Rabbani \\n 161-15-7093\\n\\n&quot;);\r\n\r\n\t\t\tfp = fopen(&quot;input.txt&quot;,&quot;r&quot;);\r\n\r\n\t\t\tif(fp == NULL){\r\n\t\t\t\tprintf(&quot;error while opening the file\\n&quot;);\r\n\t\t\t\texit(0);\r\n\t\t\t}\r\n\r\n\t\t\tprintf(&quot;\\nKeywords : &quot;);\r\n\t\t\twhile((ch = fgetc(fp)) != EOF){\r\n\r\n\t\t\t\t   if(isalnum(ch)){\r\n\t\t\t\t\t   string_input[j++] = ch;\r\n\t\t\t\t   }\r\n\t\t\t\t   else if((ch == &#39; &#39; || ch == &#39;\\n&#39;) &amp;&amp; (j != 0)){\r\n\t\t\t\t\t\t   string_input[j] = &#39;\\0&#39;;\r\n\t\t\t\t\t\t   j = 0;\r\n\r\n\t\t\t\t\t\t   if(isKeyword(string_input) == 1)\r\n\t\t\t\t\t\t\t   printf(&quot;%s &quot;, string_input);\r\n\r\n\t\t\t\t   }\r\n\r\n\t\t\t\t   }\r\n\r\n\t\t printf(&quot;\\n&quot;);\r\n\r\n\r\n\t\t\tfclose(fp);\r\n\t\t}\r\n","title":"Making a lexical Analyzer","body":"<p>Write a program to make a simple lexical analyzer that will build a symbol table from given stream of chars. You will need to read a file named “input.txt” to collect all chars. For simplicity, input file will be a C/Java/Python program without headers and methods(body of the main progrm). Then you will identify all the numerical values, identifiers, keywords, math operators, logical operators and others[distinct]. See the example for more details. You can assume that, there will be a space after each keyword.  </p>\n\n<pre><code>#include&lt;stdio.h&gt;\n    #include&lt;stdlib.h&gt;\n    #include&lt;string.h&gt;\n\n    int main(){\n    /* By Ashik Rabbani\n    Daffodil International University,CSE43 */\n    keyword_check();\n    identifier_check();\n    math_operator_check();\n    logical_operator_check();\n    numerical_check();\n    others_check();\n\n\n        return 0;\n    }\n\n\n    void math_operator_check()\n    {\n\n        char ch, string_input[15], operators[] = \"+-*/%\";\n        FILE *fp;\n        char tr[20];\n        int i,j=0;\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n       printf(\"\\nMath Operators : \");\n        while((ch = fgetc(fp)) != EOF){\n               for(i = 0; i &lt; 6; ++i){\n                   if(ch == operators[i])\n                       printf(\"%c \", ch);\n\n               }\n               }\n                printf(\"\\n\");\n\n\n\n        fclose(fp);\n    }\n\n\n    void logical_operator_check()\n    {\n\n        char ch, string_input[15], operators[] = \"&amp;&amp;||&lt;&gt;\";\n        FILE *fp;\n        char tr[20];\n        int i,j=0;\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n       printf(\"\\nLogical Operators : \");\n        while((ch = fgetc(fp)) != EOF){\n               for(i = 0; i &lt; 6; ++i){\n                   if(ch == operators[i])\n                       printf(\"%c \", ch);\n\n               }\n               }\n                printf(\"\\n\");\n\n\n\n        fclose(fp);\n    }\n\n    void numerical_check()\n    {\n\n        char ch, string_input[15], operators[] ={'0','1','2','3','4','5','6','7','8','9'};\n        FILE *fp;\n\n        int i,j=0;\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n       printf(\"\\nNumerical Values : \");\n        while((ch = fgetc(fp)) != EOF){\n               for(i = 0; i &lt; 6; ++i){\n                   if(ch == operators[i])\n                       printf(\"%c \", ch);\n\n               }\n               }\n                printf(\"\\n\");\n\n\n\n        fclose(fp);\n    }\n\n    void others_check()\n    {\n        char ch, string_input[15], symbols[] = \"(){}[]\";\n        FILE *fp;\n        char tr[20];\n        int i,j=0;\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n       printf(\"\\nOthers : \");\n        while((ch = fgetc(fp)) != EOF){\n               for(i = 0; i &lt; 6; ++i){\n                   if(ch == symbols[i])\n                       printf(\"%c \", ch);\n\n               }\n               }\n               printf(\"\\n\");\n\n\n\n        fclose(fp);\n    }\n\n    void identifier_check()\n    {\n        char ch, string_input[15];\n        FILE *fp;\n    char    operators[] ={'0','1','2','3','4','5','6','7','8','9'};\n        int i,j=0;\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n\n        printf(\"\\nIdentifiers : \");\n        while((ch = fgetc(fp)) != EOF){\n\n               if(isalnum(ch)){\n                   string_input[j++] = ch;\n               }\n               else if((ch == ' ' || ch == '\\n') &amp;&amp; (j != 0)){\n                       string_input[j] = '\\0';\n                       j = 0;\n\n                       if(isKeyword(string_input) == 1)\n                       {\n\n                       }\n\n                       else\n                           printf(\"%s \", string_input);\n               }\n\n               }\n\n                printf(\"\\n\");\n\n\n        fclose(fp);\n    }\n\n    int isKeyword(char string_input[]){\n        char keywords[32][10] = {\"auto\",\"break\",\"case\",\"char\",\"const\",\"continue\",\"default\",\n                                \"do\",\"double\",\"else\",\"enum\",\"extern\",\"float\",\"for\",\"goto\",\n                                \"if\",\"int\",\"long\",\"register\",\"return\",\"short\",\"signed\",\n                                \"sizeof\",\"static\",\"struct\",\"switch\",\"typedef\",\"union\",\n                                \"unsigned\",\"void\",\"volatile\",\"while\"};\n        int i, flag = 0;\n\n        for(i = 0; i &lt; 32; ++i){\n            if(strcmp(keywords[i], string_input) == 0){\n                flag = 1;\n                break;\n            }\n        }\n\n        return flag;\n    }\n\n    void keyword_check()\n    {\n\n        char ch, string_input[15], operators[] = \"+-*/%=\";\n        FILE *fp;\n        char tr[20];\n        int i,j=0;\n\n        printf(\" Token Identification using C \\n By Ashik-E-Rabbani \\n 161-15-7093\\n\\n\");\n\n        fp = fopen(\"input.txt\",\"r\");\n\n        if(fp == NULL){\n            printf(\"error while opening the file\\n\");\n            exit(0);\n        }\n\n        printf(\"\\nKeywords : \");\n        while((ch = fgetc(fp)) != EOF){\n\n               if(isalnum(ch)){\n                   string_input[j++] = ch;\n               }\n               else if((ch == ' ' || ch == '\\n') &amp;&amp; (j != 0)){\n                       string_input[j] = '\\0';\n                       j = 0;\n\n                       if(isKeyword(string_input) == 1)\n                           printf(\"%s \", string_input);\n\n               }\n\n               }\n\n     printf(\"\\n\");\n\n\n        fclose(fp);\n    }\n</code></pre>\n"}],"owner":{"account_id":3090758,"reputation":311,"user_id":2616904,"display_name":"KLoverated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67595,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":17848683,"answer_count":6,"score":30,"last_activity_date":1671931722,"creation_date":1374720718,"question_id":17848207,"body_markdown":"I&#39;m working with a Lexical Analyzer program right now and I&#39;m using Java. I&#39;ve been researching for answers on this problem but until now I failed to find any. Here&#39;s my problem:\r\n\r\n Input:\r\n\r\n    System.out.println (&quot;Hello World&quot;);\r\n\r\n Desired Output:\r\n \r\n\r\n    Lexeme----------------------Token\r\n    \r\n    System [Key_Word]\r\n    \r\n    .       [Object_Accessor]\r\n    \r\n    out   [Key_Word]\r\n    \r\n    . [Object_Accessor]\r\n    \r\n    println  [Key_Word]\r\n    \r\n    (  [left_Parenthesis]\r\n    \r\n    &quot;Hello World&quot;    [String_Literal]\r\n    \r\n    )   [right_Parenthesis]\r\n    \r\n    ;  [statement_separator]\r\n\r\n\r\nI&#39;m still a beginner so I hope you guys can help me on this. Thanks.","title":"Making a lexical Analyzer","body":"<p>I'm working with a Lexical Analyzer program right now and I'm using Java. I've been researching for answers on this problem but until now I failed to find any. Here's my problem:</p>\n\n<p>Input:</p>\n\n<pre><code>System.out.println (\"Hello World\");\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>Lexeme----------------------Token\n\nSystem [Key_Word]\n\n.       [Object_Accessor]\n\nout   [Key_Word]\n\n. [Object_Accessor]\n\nprintln  [Key_Word]\n\n(  [left_Parenthesis]\n\n\"Hello World\"    [String_Literal]\n\n)   [right_Parenthesis]\n\n;  [statement_separator]\n</code></pre>\n\n<p>I'm still a beginner so I hope you guys can help me on this. Thanks.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1658752495,"post_id":73108875,"comment_id":129121889,"body_markdown":"Based on your update: if you can&#39;t autowire the controller, then use the `return &quot;forward:/forwardURL&quot;` method, as suggested in my answer.","body":"Based on your update: if you can&#39;t autowire the controller, then use the <code>return &quot;forward:&#47;forwardURL&quot;</code> method, as suggested in my answer."}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658751388,"creation_date":1658750830,"answer_id":73108956,"question_id":73108875,"body_markdown":"you could inject the target controller and simply call the method\r\n\r\n    @Controller\r\n    public class ShortLinkForwardController {\r\n    \r\n       @Autowired\r\n       private RestController target;\r\n    \r\n       @RequestMapping(&quot;/s/*&quot;)\r\n       public String myMethod(HttpServletRequest request) {\r\n           return target.myMethod(request);\r\n       }\r\n    }\r\n\r\nCaveat: Path related request properties will still point to &quot;/s/*&quot;\r\n\r\nOr use ResponseEntity and set target location...\r\n\r\n    public ResponseEntity&lt;Void&gt; myMethod(HttpServletRequest request) {\r\n      return ResponseEntity.status(302).location(URI.create(...)).build();  \r\n    }","title":"Spring Boot. Forward on RestController","body":"<p>you could inject the target controller and simply call the method</p>\n<pre><code>@Controller\npublic class ShortLinkForwardController {\n\n   @Autowired\n   private RestController target;\n\n   @RequestMapping(&quot;/s/*&quot;)\n   public String myMethod(HttpServletRequest request) {\n       return target.myMethod(request);\n   }\n}\n</code></pre>\n<p>Caveat: Path related request properties will still point to &quot;/s/*&quot;</p>\n<p>Or use ResponseEntity and set target location...</p>\n<pre><code>public ResponseEntity&lt;Void&gt; myMethod(HttpServletRequest request) {\n  return ResponseEntity.status(302).location(URI.create(...)).build();  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"score":0,"creation_date":1658752991,"post_id":73109189,"comment_id":129122107,"body_markdown":"Thx for help!\nI did not know that with the @Controller annotation whith a string return value, there would be a forwarded to the normal method of @RestController!\nThis is what I was looking for.","body":"Thx for help! I did not know that with the @Controller annotation whith a string return value, there would be a forwarded to the normal method of @RestController! This is what I was looking for."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1658761446,"post_id":73109189,"comment_id":129125898,"body_markdown":"@Triet Doan some notes on the posted answer. `Trigger the redirect....` should better be said `Trigger the forward...` redirect and forward are completely different technical paths, and with the provided answer here of `&quot;forward:/forwardURL`&quot; you provide a forward not a redirect.","body":"@Triet Doan some notes on the posted answer. <code>Trigger the redirect....</code> should better be said <code>Trigger the forward...</code> redirect and forward are completely different technical paths, and with the provided answer here of <code>&quot;forward:&#47;forwardURL</code>&quot; you provide a forward not a redirect."}],"tags":[],"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658822990,"creation_date":1658751842,"answer_id":73109189,"question_id":73108875,"body_markdown":"There are 2 ways to achieve what you want.\r\n\r\n### 1. Call the method on the target controller directly.\r\n\r\nControllers are just normal Spring beans. You can get it via autowire.\r\n\r\n```java\r\n@Controller\r\npublic class ShrotLinkForwardController {\r\n\r\n  @Autowired\r\n  OtherController otherController;\r\n\r\n  @RequestMapping(&quot;/s/*&quot;)\r\n  public String myMethod(Model model) {\r\n    otherController.doStuff();\r\n    return ...;\r\n  }\r\n}\r\n```\r\n\r\n### 2. Trigger the forward by returning a string\r\n\r\nTo trigger the forward, try returning a `String` instead of `ModelAndView`. \r\n\r\nThis is the approach you mentioned in your question. Note that the syntax should be `forward:/forwardURL`. The string after `forward:` is the URL pointing to another controller, not the method name.\r\n\r\n```java\r\n@Controller\r\npublic class ShrotLinkForwardController {\r\n\r\n  @RequestMapping(&quot;/s/*&quot;)\r\n  public String myMethod(Model model) {\r\n    return &quot;forward:/forwardURL&quot;;\r\n  }\r\n}\r\n```","title":"Spring Boot. Forward on RestController","body":"<p>There are 2 ways to achieve what you want.</p>\n<h3>1. Call the method on the target controller directly.</h3>\n<p>Controllers are just normal Spring beans. You can get it via autowire.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ShrotLinkForwardController {\n\n  @Autowired\n  OtherController otherController;\n\n  @RequestMapping(&quot;/s/*&quot;)\n  public String myMethod(Model model) {\n    otherController.doStuff();\n    return ...;\n  }\n}\n</code></pre>\n<h3>2. Trigger the forward by returning a string</h3>\n<p>To trigger the forward, try returning a <code>String</code> instead of <code>ModelAndView</code>.</p>\n<p>This is the approach you mentioned in your question. Note that the syntax should be <code>forward:/forwardURL</code>. The string after <code>forward:</code> is the URL pointing to another controller, not the method name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ShrotLinkForwardController {\n\n  @RequestMapping(&quot;/s/*&quot;)\n  public String myMethod(Model model) {\n    return &quot;forward:/forwardURL&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658765389,"creation_date":1658762012,"answer_id":73111538,"question_id":73108875,"body_markdown":"&gt; UPD. I don&#39;t know the final endpoint, it is calculated in the\r\n&gt; forwarded method. So, i cant autowired other controller\r\n&gt;\r\n&gt;  but I don&#39;t understand how to do it in RestControllers\r\n\r\nI can see some indications of possible bad design here, so I will try to explain the possible issues and how should be handled according to best practices.  \r\n\r\nIf your requirement is to make a forward to another controller, then this might be an indication of 3 possible issues: \r\n\r\n 1. The job to be done by the other controller (which you say you want to forward to) can be extracted into a service method in service layer. Then both controllers can call the same service method, without each controller be aware of the other. \r\n\r\n2. Your need could also be an indicator of the following issue. You need 2 controllers for exactly the same practical reason, so that they provide for same input exactly the same output, but to be available from 2 different URLs. If this is the case then you can use just 1 controller and allow it to be executed for both URLs. See the following code to achieve this:\r\n\r\n       @RequestMapping({&quot;/s/*&quot;, &quot;/s2/*})\r\n       public String myMethod(HttpServletRequest request) {\r\n           return &quot;some response&quot;;\r\n       }\r\n3. You need to expose only 1 URL to the client which will serve everything. Then the approach with forward will also not benefit you, since the client will be able to reach the other forwarded controller directly if he wishes so. In this case you can implement 1 single controller which then according to the needs builds different responses. You can do this in `RestController` although not suggested by Sonar and other code review tools by marking the method to return `ResponseEntity&lt;?&gt;`. Example: \r\n\r\n         @RequestMapping(&quot;/s/*&quot;)\r\n         public ResponseEntity&lt;?&gt; myMethod(HttpServletRequest request) {\r\n               if (condition 1) {\r\n                   return new ResponseEntity&lt;YourObject1&gt;(HttpStatus.OK);\r\n               } else if (condition 2) {\r\n                   return new ResponseEntity&lt;YourObject2&gt;(HttpStatus.OK);\r\n               } else {\r\n                   return new ResponseEntity&lt;YourObject3&gt;(HttpStatus.OK);\r\n               }\r\n        }\r\n\r\n    this last choice is not considered best practice with `&lt;?&gt;` but for this requirement I don&#39;t see any other way out.","title":"Spring Boot. Forward on RestController","body":"<blockquote>\n<p>UPD. I don't know the final endpoint, it is calculated in the\nforwarded method. So, i cant autowired other controller</p>\n<p>but I don't understand how to do it in RestControllers</p>\n</blockquote>\n<p>I can see some indications of possible bad design here, so I will try to explain the possible issues and how should be handled according to best practices.</p>\n<p>If your requirement is to make a forward to another controller, then this might be an indication of 3 possible issues:</p>\n<ol>\n<li><p>The job to be done by the other controller (which you say you want to forward to) can be extracted into a service method in service layer. Then both controllers can call the same service method, without each controller be aware of the other.</p>\n</li>\n<li><p>Your need could also be an indicator of the following issue. You need 2 controllers for exactly the same practical reason, so that they provide for same input exactly the same output, but to be available from 2 different URLs. If this is the case then you can use just 1 controller and allow it to be executed for both URLs. See the following code to achieve this:</p>\n<pre><code>@RequestMapping({&quot;/s/*&quot;, &quot;/s2/*})\npublic String myMethod(HttpServletRequest request) {\n    return &quot;some response&quot;;\n}\n</code></pre>\n</li>\n<li><p>You need to expose only 1 URL to the client which will serve everything. Then the approach with forward will also not benefit you, since the client will be able to reach the other forwarded controller directly if he wishes so. In this case you can implement 1 single controller which then according to the needs builds different responses. You can do this in <code>RestController</code> although not suggested by Sonar and other code review tools by marking the method to return <code>ResponseEntity&lt;?&gt;</code>. Example:</p>\n<pre><code>  @RequestMapping(&quot;/s/*&quot;)\n  public ResponseEntity&lt;?&gt; myMethod(HttpServletRequest request) {\n        if (condition 1) {\n            return new ResponseEntity&lt;YourObject1&gt;(HttpStatus.OK);\n        } else if (condition 2) {\n            return new ResponseEntity&lt;YourObject2&gt;(HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;YourObject3&gt;(HttpStatus.OK);\n        }\n }\n</code></pre>\n<p>this last choice is not considered best practice with <code>&lt;?&gt;</code> but for this requirement I don't see any other way out.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22273834,"reputation":11,"user_id":16503349,"display_name":"Pilip Shpyro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671931469,"creation_date":1671931469,"answer_id":74911135,"question_id":73108875,"body_markdown":"**All answers are about returning String**\r\n\r\nBut I&#39;ve found another solution\r\n\r\nMaybe it will help someone with my problem in case when you need to make forward from one REST endpoint to another REST endpoint.\r\nAnd it also could be applied to your case.\r\n\r\n    @RestController\r\n    public class CustomerController {\r\n        @GetMapping(&quot;/forwarding_endpoint&quot;)\r\n        public void makeForward(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            request.getSession().getServletContext().getRequestDispatcher(&quot;/forward_endpoint&quot;).forward(request, response);\r\n        }\r\n    }","title":"Spring Boot. Forward on RestController","body":"<p><strong>All answers are about returning String</strong></p>\n<p>But I've found another solution</p>\n<p>Maybe it will help someone with my problem in case when you need to make forward from one REST endpoint to another REST endpoint.\nAnd it also could be applied to your case.</p>\n<pre><code>@RestController\npublic class CustomerController {\n    @GetMapping(&quot;/forwarding_endpoint&quot;)\n    public void makeForward(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        request.getSession().getServletContext().getRequestDispatcher(&quot;/forward_endpoint&quot;).forward(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4811,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73109189,"answer_count":4,"score":4,"last_activity_date":1671931469,"creation_date":1658750439,"question_id":73108875,"body_markdown":"\r\nI am implementing a mechanism for replacing short links.\r\n\r\nI need to forwarded request to another controller. I found examples how to do it in spring on models, but I don&#39;t understand how to do it in RestControllers\r\n\r\nExample what i found (use models)\r\n\r\n\r\n\r\n    @Controller\r\n    public class ShrotLinkForwardController {\r\n\r\n       @RequestMapping(&quot;/s/*&quot;)\r\n       public String myMethod(HttpServletRequest request) {\r\n           return &quot;forward:/difmethod&quot;;\r\n       }\r\n    }\r\n\r\n\r\nOr maybe I&#39;m looking in the wrong direction and I need to make a filter?\r\n\r\nUPD. I don&#39;t know the final endpoint, it is calculated in the forwarded method. So, i cant autowired other controller","title":"Spring Boot. Forward on RestController","body":"<p>I am implementing a mechanism for replacing short links.</p>\n<p>I need to forwarded request to another controller. I found examples how to do it in spring on models, but I don't understand how to do it in RestControllers</p>\n<p>Example what i found (use models)</p>\n<pre><code>@Controller\npublic class ShrotLinkForwardController {\n\n   @RequestMapping(&quot;/s/*&quot;)\n   public String myMethod(HttpServletRequest request) {\n       return &quot;forward:/difmethod&quot;;\n   }\n}\n</code></pre>\n<p>Or maybe I'm looking in the wrong direction and I need to make a filter?</p>\n<p>UPD. I don't know the final endpoint, it is calculated in the forwarded method. So, i cant autowired other controller</p>\n"},{"tags":["java","spring-security","spring-security-ldap"],"answers":[{"comments":[{"owner":{"account_id":425629,"reputation":422,"user_id":806347,"accept_rate":31,"display_name":"Tayfun Yaşar"},"score":0,"creation_date":1494400021,"post_id":25799080,"comment_id":74805523,"body_markdown":"How does it work? What is &quot;Authorization&quot; header key? What are auth urls? Thanks","body":"How does it work? What is &quot;Authorization&quot; header key? What are auth urls? Thanks"},{"owner":{"account_id":1372422,"reputation":555,"user_id":1307137,"accept_rate":75,"display_name":"dondragon2"},"score":0,"creation_date":1559078050,"post_id":25799080,"comment_id":99305245,"body_markdown":"I have tried this solution and I see that the `OTPAuthenticationProvider` is never called after successfully accessing `/otp_login`. I get a 404 Not Found.","body":"I have tried this solution and I see that the <code>OTPAuthenticationProvider</code> is never called after successfully accessing <code>&#47;otp_login</code>. I get a 404 Not Found."}],"tags":[],"owner":{"account_id":15,"reputation":19470,"user_id":22,"accept_rate":79,"display_name":"Matt MacLean"},"comment_count":2,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1671931078,"creation_date":1410482861,"answer_id":25799080,"question_id":25794680,"body_markdown":"I spent quite some time wrapping my head around spring-security when using pure java configuration. There are a few steps involved in getting this to work. It should be something along these lines. The basic process is as follows:\r\n\r\n- Create custom filters to check requests for specific authorization information\r\n\r\n- Each filter returns null (if no authorization of that type is found), or a custom AbstractAuthenticationToken\r\n\r\n- If a filter returns a token, each AuthenticationProvider&#39;s supports(class) method will be invoked with that token returning true|false if it should try authentication\r\n\r\n- attemptAuthentication will then be called on the AuthenticationProvider which supports the token. Here you do any service calls to authenticate the user. You can then throw LoginException&#39;s or call authentication.setAuthenticated(true) and return the token for a successful authentication.\r\n\r\nI have been using this setup for a while supporting various authentication methods (signed request, username/password, oauth etc) and it works quite well. \r\n\r\nYou can also pass AuthenticationSuccessHandler&#39;s and AuthenticationFailuersHandler&#39;s to the custom security filters to provide custom redirection strategies and failure handling.\r\n\r\nAlso be sure to setup the ant matchers in the filter&#39;s constructors to control what url patterns the filters apply too. For example, an ldap request filter would probably need to be check with any request &quot;/*&quot; whereas a username/password filter can just be checked on POST&#39;s to /login or something similar.\r\n\r\n**Example Code:**\r\n\r\n1) Create custom AuthenticationToken&#39;s for each type of authentication you want to support\r\n\r\n    public class LDAPAuthorizationToken extends AbstractAuthenticationToken {\r\n    \tprivate String token;\r\n    \r\n    \tpublic LDAPAuthorizationToken( String token ) {\r\n    \t\tsuper( null );\r\n    \t\tthis.token = token;\r\n    \t}\r\n    \r\n    \tpublic Object getCredentials() {\r\n    \t\treturn token;\r\n    \t}\r\n    \r\n    \tpublic Object getPrincipal() {\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n    \r\n    public class OTPAuthorizationToken extends UsernamePasswordAuthenticationToken {\r\n    \tprivate String otp;\r\n    \r\n    \tpublic OTPAuthorizationToken( String username, String password, String otp ) {\r\n    \t\tsuper( username, password );\r\n    \t\tthis.otp = otp;\r\n    \t}\r\n    \r\n    \tpublic String getOTP() {\r\n    \t\treturn otp;\r\n    \t}\r\n    }\r\n\r\n2) Create custom security filters for each type\r\n\r\n    public class LDAPAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \t@Autowired\r\n    \tprivate UserDetailsService userDetailsService;\r\n    \r\n    \tpublic LDAPAuthorizationFilter() {\r\n    \t\tsuper( &quot;/*&quot; ); // allow any request to contain an authorization header\r\n    \t}\r\n    \r\n    \tpublic Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\r\n    \t{\r\n    \r\n    \t\tif ( request.getHeader( &quot;Authorization&quot; ) == null ) {\r\n    \t\t\treturn null; // no header found, continue on to other security filters\r\n    \t\t}\r\n    \r\n    \t\t// return a new authentication token to be processed by the authentication provider\r\n    \t\treturn new LDAPAuthorizationToken( request.getHeader( &quot;Authorization&quot; ) );\r\n    \t}\r\n    }\r\n    \r\n    public class OTPAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \t@Autowired\r\n    \tprivate UserDetailsService userDetailsService;\r\n    \r\n    \tpublic OTPAuthorizationFilter() {\r\n    \t\tsuper( &quot;/otp_login&quot; );\r\n    \t}\r\n    \r\n    \tpublic Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\r\n    \t{\r\n    \r\n    \t\tif ( request.getParameter( &quot;username&quot; ) == null || request.getParameter( &quot;password&quot; ) == null || request.getParameter( &quot;otp&quot; ) == null ) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\t// return a new authentication token to be processed by the authentication provider\r\n    \t\treturn new OTPAuthorizationToken( request.getParameter( &quot;username&quot; ), request.getParameter( &quot;password&quot; ), request.getParameter( &quot;otp&quot; ) );\r\n    \t}\r\n    }\r\n\r\n3) Create custom AuthenticationProviders\r\n\r\n    public class LDAPAuthenticationProvider implements AuthenticationProvider {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyAuthenticationService sampleService;\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate( Authentication authentication ) throws AuthenticationException {\r\n    \t\tLDAPAuthorizationToken auth = (LDAPAuthorizationToken)authentication;\r\n    \r\n    \t\tString username = sampleService.verifyToken( auth.getCredentials() );\r\n    \t\tif ( username == null ) {\r\n    \t\t\tthrow new LoginException( &quot;Invalid Token&quot; );\r\n    \t\t}\r\n    \r\n    \t\tauth.setAuthenticated( true );\r\n    \r\n    \t\treturn auth;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports( Class&lt;?&gt; authentication ) {\r\n    \t\tif ( authentication.isAssignableFrom( LDAPAuthorizationToken.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n    \r\n    public class OTPAuthenticationProvider implements AuthenticationProvider {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyAuthenticationService sampleService;\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate( Authentication authentication ) throws AuthenticationException {\r\n    \t\tOTPAuthorizationToken auth = (OTPAuthorizationToken)authentication;\r\n    \r\n    \t\tString error = sampleService.loginWithOTP( auth.getPrincipal(), auth.getCredentials(), auth.getOTP() );\r\n    \t\tif ( error != null ) {\r\n    \t\t\tthrow new LoginException( error );\r\n    \t\t}\r\n    \r\n    \t\tauth.setAuthenticated( true );\r\n    \r\n    \t\treturn auth;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports( Class&lt;?&gt; authentication ) {\r\n    \t\tif ( authentication.isAssignableFrom( OTPAuthorizationToken.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n4) Configure spring security\r\n\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \t@Override\r\n    \tprotected void configure( HttpSecurity http ) throws Exception {\r\n    \t\t// configure filters\r\n    \t\thttp.addFilterBefore( new LDAPAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class );\r\n    \t\thttp.addFilterBefore( new OTPAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class );\r\n    \t\t\r\n    \t\t// configure authentication providers\r\n    \t\thttp.authenticationProvider( new LDAPAuthenticationProvider() );\r\n    \t\thttp.authenticationProvider( new OTPAuthenticationProvider() );\r\n    \t\t\r\n    \t\t// disable csrf\r\n    \t\thttp.csrf().disable();\r\n    \t\t\r\n    \t\t// setup security\r\n    \t\thttp.authorizeRequests()\r\n    \t\t\t.anyRequest()\r\n    \t\t\t\t.fullyAuthenticated()\r\n    \t\t\t\t.and().httpBasic();\r\n    \t}\r\n    }","title":"multiple authentication mechanisms in a single app using java config","body":"<p>I spent quite some time wrapping my head around spring-security when using pure java configuration. There are a few steps involved in getting this to work. It should be something along these lines. The basic process is as follows:</p>\n<ul>\n<li><p>Create custom filters to check requests for specific authorization information</p>\n</li>\n<li><p>Each filter returns null (if no authorization of that type is found), or a custom AbstractAuthenticationToken</p>\n</li>\n<li><p>If a filter returns a token, each AuthenticationProvider's supports(class) method will be invoked with that token returning true|false if it should try authentication</p>\n</li>\n<li><p>attemptAuthentication will then be called on the AuthenticationProvider which supports the token. Here you do any service calls to authenticate the user. You can then throw LoginException's or call authentication.setAuthenticated(true) and return the token for a successful authentication.</p>\n</li>\n</ul>\n<p>I have been using this setup for a while supporting various authentication methods (signed request, username/password, oauth etc) and it works quite well.</p>\n<p>You can also pass AuthenticationSuccessHandler's and AuthenticationFailuersHandler's to the custom security filters to provide custom redirection strategies and failure handling.</p>\n<p>Also be sure to setup the ant matchers in the filter's constructors to control what url patterns the filters apply too. For example, an ldap request filter would probably need to be check with any request &quot;/*&quot; whereas a username/password filter can just be checked on POST's to /login or something similar.</p>\n<p><strong>Example Code:</strong></p>\n<ol>\n<li><p>Create custom AuthenticationToken's for each type of authentication you want to support</p>\n<p>public class LDAPAuthorizationToken extends AbstractAuthenticationToken {\nprivate String token;</p>\n<pre><code> public LDAPAuthorizationToken( String token ) {\n     super( null );\n     this.token = token;\n }\n\n public Object getCredentials() {\n     return token;\n }\n\n public Object getPrincipal() {\n     return null;\n }\n</code></pre>\n<p>}</p>\n<p>public class OTPAuthorizationToken extends UsernamePasswordAuthenticationToken {\nprivate String otp;</p>\n<pre><code> public OTPAuthorizationToken( String username, String password, String otp ) {\n     super( username, password );\n     this.otp = otp;\n }\n\n public String getOTP() {\n     return otp;\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Create custom security filters for each type</p>\n<p>public class LDAPAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\n@Autowired\nprivate UserDetailsService userDetailsService;</p>\n<pre><code> public LDAPAuthorizationFilter() {\n     super( &quot;/*&quot; ); // allow any request to contain an authorization header\n }\n\n public Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\n {\n\n     if ( request.getHeader( &quot;Authorization&quot; ) == null ) {\n         return null; // no header found, continue on to other security filters\n     }\n\n     // return a new authentication token to be processed by the authentication provider\n     return new LDAPAuthorizationToken( request.getHeader( &quot;Authorization&quot; ) );\n }\n</code></pre>\n<p>}</p>\n<p>public class OTPAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\n@Autowired\nprivate UserDetailsService userDetailsService;</p>\n<pre><code> public OTPAuthorizationFilter() {\n     super( &quot;/otp_login&quot; );\n }\n\n public Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\n {\n\n     if ( request.getParameter( &quot;username&quot; ) == null || request.getParameter( &quot;password&quot; ) == null || request.getParameter( &quot;otp&quot; ) == null ) {\n         return null;\n     }\n\n     // return a new authentication token to be processed by the authentication provider\n     return new OTPAuthorizationToken( request.getParameter( &quot;username&quot; ), request.getParameter( &quot;password&quot; ), request.getParameter( &quot;otp&quot; ) );\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Create custom AuthenticationProviders</p>\n<p>public class LDAPAuthenticationProvider implements AuthenticationProvider {</p>\n<pre><code> @Autowired\n private MyAuthenticationService sampleService;\n\n @Override\n public Authentication authenticate( Authentication authentication ) throws AuthenticationException {\n     LDAPAuthorizationToken auth = (LDAPAuthorizationToken)authentication;\n\n     String username = sampleService.verifyToken( auth.getCredentials() );\n     if ( username == null ) {\n         throw new LoginException( &quot;Invalid Token&quot; );\n     }\n\n     auth.setAuthenticated( true );\n\n     return auth;\n }\n\n @Override\n public boolean supports( Class&lt;?&gt; authentication ) {\n     if ( authentication.isAssignableFrom( LDAPAuthorizationToken.class ) ) {\n         return true;\n     }\n     return false;\n }\n</code></pre>\n<p>}</p>\n<p>public class OTPAuthenticationProvider implements AuthenticationProvider {</p>\n<pre><code> @Autowired\n private MyAuthenticationService sampleService;\n\n @Override\n public Authentication authenticate( Authentication authentication ) throws AuthenticationException {\n     OTPAuthorizationToken auth = (OTPAuthorizationToken)authentication;\n\n     String error = sampleService.loginWithOTP( auth.getPrincipal(), auth.getCredentials(), auth.getOTP() );\n     if ( error != null ) {\n         throw new LoginException( error );\n     }\n\n     auth.setAuthenticated( true );\n\n     return auth;\n }\n\n @Override\n public boolean supports( Class&lt;?&gt; authentication ) {\n     if ( authentication.isAssignableFrom( OTPAuthorizationToken.class ) ) {\n         return true;\n     }\n     return false;\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Configure spring security</p>\n<p>public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n@Override\nprotected void configure( HttpSecurity http ) throws Exception {\n// configure filters\nhttp.addFilterBefore( new LDAPAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class );\nhttp.addFilterBefore( new OTPAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class );</p>\n<pre><code>     // configure authentication providers\n     http.authenticationProvider( new LDAPAuthenticationProvider() );\n     http.authenticationProvider( new OTPAuthenticationProvider() );\n\n     // disable csrf\n     http.csrf().disable();\n\n     // setup security\n     http.authorizeRequests()\n         .anyRequest()\n             .fullyAuthenticated()\n             .and().httpBasic();\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":37546,"reputation":4944,"user_id":107357,"accept_rate":75,"display_name":"Chris Jones"},"score":0,"creation_date":1472251318,"post_id":30941021,"comment_id":65693346,"body_markdown":"This seems like the simplest and most correct answer.","body":"This seems like the simplest and most correct answer."},{"owner":{"account_id":14170644,"reputation":412,"user_id":10237300,"display_name":"learner"},"score":0,"creation_date":1597679901,"post_id":30941021,"comment_id":112206123,"body_markdown":"But in this case what type of Token will be returned in case of ldap authentication?","body":"But in this case what type of Token will be returned in case of ldap authentication?"}],"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1434725017,"creation_date":1434725017,"answer_id":30941021,"question_id":25794680,"body_markdown":"Another, option to add a second authentication provider: Simply specify another one on the `AuthenticationManagerBuilder`.  Because the `@EnableWebSecurity` annotation is itself annotated with `EnableGlobalAuthentication` you can configure the global instance of `AuthenticationManagerBuilder`.  (See the [javadocs][1] for more details.)  \r\n\r\nFor example, here we have an LDAP authentication provider as well as an in memory (hard-coded) authentication provider (this is something we do in development to have local users to test with):\r\n\r\n\t\t@Configuration\r\n\t\t@EnableWebSecurity\r\n\t\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\t\t  @Value(&quot;${user.role}&quot;)\r\n\t\t  private String userRole; // i.e. ROLE_APP_USER\r\n\r\n          @Value(&quot;${include.test.users}&quot;)\r\n          private boolean includeTestUsers;\r\n\t\t\r\n\t\t  @Override\r\n\t\t  protected void configure(HttpSecurity http) throws Exception {\r\n\t\t    http.authorizeRequests()\r\n\t\t      .antMatchers(&quot;/**/js/**&quot;).permitAll()\r\n\t\t      .antMatchers(&quot;/**/images/**&quot;).permitAll()\r\n\t\t      .antMatchers(&quot;/**/favicon.ico&quot;).permitAll()\r\n\t\t      .antMatchers(&quot;/**/css/**&quot;).permitAll()\r\n\t\t      .antMatchers(&quot;/**/fonts/**&quot;).permitAll()\r\n\t\t      .antMatchers(&quot;/**&quot;).hasAnyRole(userRole)\r\n\t\t      .and().formLogin().loginPage(&quot;/login&quot;).permitAll().and().logout().permitAll();\r\n\t\t\r\n\t\t    http.logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;));\r\n\t\t  }\r\n\t\t\r\n\t\t  @Autowired\r\n\t\t  public void configureGlobal(AuthenticationManagerBuilder auth, LdapContextSource contextSource) throws Exception {\r\n\t\t    auth.ldapAuthentication()\r\n\t\t      .userSearchBase(&quot;OU=Users OU&quot;)\r\n\t\t      .userSearchFilter(&quot;sAMAccountName={0}&quot;)\r\n\t\t      .groupSearchBase(&quot;OU=Groups OU&quot;)\r\n\t\t      .groupSearchFilter(&quot;member={0}&quot;)\r\n\t\t      .contextSource(contextSource);\r\n\t\t\r\n\t\t    if (includeTestUsers) {\r\n              auth.inMemoryAuthentication().withUser(&quot;user&quot;).password(&quot;u&quot;).authorities(userRole);\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/current-SNAPSHOT/apidocs/org/springframework/security/config/annotation/authentication/configuration/EnableGlobalAuthentication.html","title":"multiple authentication mechanisms in a single app using java config","body":"<p>Another, option to add a second authentication provider: Simply specify another one on the <code>AuthenticationManagerBuilder</code>.  Because the <code>@EnableWebSecurity</code> annotation is itself annotated with <code>EnableGlobalAuthentication</code> you can configure the global instance of <code>AuthenticationManagerBuilder</code>.  (See the <a href=\"http://docs.spring.io/spring-security/site/docs/current-SNAPSHOT/apidocs/org/springframework/security/config/annotation/authentication/configuration/EnableGlobalAuthentication.html\" rel=\"noreferrer\">javadocs</a> for more details.)  </p>\n\n<p>For example, here we have an LDAP authentication provider as well as an in memory (hard-coded) authentication provider (this is something we do in development to have local users to test with):</p>\n\n<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n      @Value(\"${user.role}\")\n      private String userRole; // i.e. ROLE_APP_USER\n\n      @Value(\"${include.test.users}\")\n      private boolean includeTestUsers;\n\n      @Override\n      protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n          .antMatchers(\"/**/js/**\").permitAll()\n          .antMatchers(\"/**/images/**\").permitAll()\n          .antMatchers(\"/**/favicon.ico\").permitAll()\n          .antMatchers(\"/**/css/**\").permitAll()\n          .antMatchers(\"/**/fonts/**\").permitAll()\n          .antMatchers(\"/**\").hasAnyRole(userRole)\n          .and().formLogin().loginPage(\"/login\").permitAll().and().logout().permitAll();\n\n        http.logout().logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\"));\n      }\n\n      @Autowired\n      public void configureGlobal(AuthenticationManagerBuilder auth, LdapContextSource contextSource) throws Exception {\n        auth.ldapAuthentication()\n          .userSearchBase(\"OU=Users OU\")\n          .userSearchFilter(\"sAMAccountName={0}\")\n          .groupSearchBase(\"OU=Groups OU\")\n          .groupSearchFilter(\"member={0}\")\n          .contextSource(contextSource);\n\n        if (includeTestUsers) {\n          auth.inMemoryAuthentication().withUser(\"user\").password(\"u\").authorities(userRole);\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411538,"reputation":93,"user_id":784052,"display_name":"Mir3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478814195,"creation_date":1478814195,"answer_id":40537532,"question_id":25794680,"body_markdown":"I want to just add to mclema&#39;s answer. You may need to add override for successful authentication and continue the filter chain or else user gets redirected to default url (&quot;/&quot;) instead of the original one (eg: /myrest/server/somemethod)\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n            Authentication authResult) throws IOException, ServletException {\r\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n        context.setAuthentication(authResult);\r\n        SecurityContextHolder.setContext(context);\r\n        chain.doFilter(request, response);\r\n    }","title":"multiple authentication mechanisms in a single app using java config","body":"<p>I want to just add to mclema's answer. You may need to add override for successful authentication and continue the filter chain or else user gets redirected to default url (\"/\") instead of the original one (eg: /myrest/server/somemethod)</p>\n\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n        Authentication authResult) throws IOException, ServletException {\n    SecurityContext context = SecurityContextHolder.createEmptyContext();\n    context.setAuthentication(authResult);\n    SecurityContextHolder.setContext(context);\n    chain.doFilter(request, response);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128202,"reputation":4382,"user_id":325868,"accept_rate":58,"display_name":"LeO"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524577080,"creation_date":1524577080,"answer_id":50003139,"question_id":25794680,"body_markdown":"The accepted answer has the issue that the current request is not granted ie. only for the following requests the session is established! Therefore I needed to configure in point 2\r\n\r\n    public class MyAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        public MyAuthorizationFilter() {\r\n            super( &quot;/*&quot; ); // allow any request to contain an authorization header\r\n        }\r\n    \r\n        public Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\r\n        {\r\n    \r\n            if ( request.getHeader( &quot;Authorization&quot; ) == null ) {\r\n                return null; // no header found, continue on to other security filters\r\n            }\r\n    \r\n            // required to use the token \r\n            myNewToken = new MyAuthorizationToken( request.getHeader( &quot;Authorization&quot; ) );\r\n            // and set in the current context ==&gt; the current request is as well authorized\r\n    \t\tSecurityContextHolder.getContext().setAuthentication(myNewToken);\r\n            // return a new authentication token to be processed by the authentication provider\r\n    \t\treturn myNewToken;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n            // try to authenticate the current request\r\n    \t\tattemptAuthentication((HttpServletRequest) req, (HttpServletResponse) res);\r\n    \t\tsuper.doFilter(req, res, chain);\r\n    \t}\r\n    }\r\n\r\n**otherwise** the current request is not yet authenticated although a session is already created!!! (And the Providers I do not need, i.e. adding filter is sufficient.)","title":"multiple authentication mechanisms in a single app using java config","body":"<p>The accepted answer has the issue that the current request is not granted ie. only for the following requests the session is established! Therefore I needed to configure in point 2</p>\n\n<pre><code>public class MyAuthorizationFilter extends AbstractAuthenticationProcessingFilter {\n\n    public MyAuthorizationFilter() {\n        super( \"/*\" ); // allow any request to contain an authorization header\n    }\n\n    public Authentication attemptAuthentication( HttpServletRequest request, HttpServletResponse response ) throws AuthenticationException\n    {\n\n        if ( request.getHeader( \"Authorization\" ) == null ) {\n            return null; // no header found, continue on to other security filters\n        }\n\n        // required to use the token \n        myNewToken = new MyAuthorizationToken( request.getHeader( \"Authorization\" ) );\n        // and set in the current context ==&gt; the current request is as well authorized\n        SecurityContextHolder.getContext().setAuthentication(myNewToken);\n        // return a new authentication token to be processed by the authentication provider\n        return myNewToken;\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n        // try to authenticate the current request\n        attemptAuthentication((HttpServletRequest) req, (HttpServletResponse) res);\n        super.doFilter(req, res, chain);\n    }\n}\n</code></pre>\n\n<p><strong>otherwise</strong> the current request is not yet authenticated although a session is already created!!! (And the Providers I do not need, i.e. adding filter is sufficient.)</p>\n"}],"owner":{"account_id":1275618,"reputation":2401,"user_id":1230961,"accept_rate":76,"display_name":"adeelmahmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44749,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":25799080,"answer_count":4,"score":30,"last_activity_date":1671931078,"creation_date":1410460286,"question_id":25794680,"body_markdown":"Currently I have a single authentication mechanism in my application which is to use LDAP for authentication and authorization. My security configuration looks like this\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.anyRequest().fullyAuthenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.httpBasic();\r\n\t}\r\n\r\n\t@Configuration\r\n\tprotected static class AuthenticationConfiguration extends GlobalAuthenticationConfigurerAdapter {\r\n\r\n\t\t@Value(&quot;${ldap-${env}.manager.dn}&quot;)\r\n\t\tprivate String managerDn;\r\n\r\n\t\t@Value(&quot;${ldap-${env}.manager.pass}&quot;)\r\n\t\tprivate String managerPass;\r\n\r\n\t\t@Value(&quot;${ldap-${env}.server.url}&quot;)\r\n\t\tprivate String url;\r\n\r\n\t\t@Value(&quot;${ldap.password.attribute:userPassword}&quot;)\r\n\t\tprivate String passwordAttr;\r\n\r\n\t\t@Override\r\n\t\tpublic void init(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=people&quot;).groupSearchBase(&quot;ou=groups&quot;)\r\n\t\t\t\t\t.groupSearchFilter(&quot;(member={0})&quot;).userSearchBase(&quot;ou=people&quot;).userSearchFilter(&quot;(uid={0})&quot;)\r\n\t\t\t\t\t.userDetailsContextMapper(new CustomLdapPersonContextMapper())\r\n\t\t\t\t\t// .passwordCompare()\r\n\t\t\t\t\t// .passwordAttribute(passwordAttr)\r\n\t\t\t\t\t// .passwordEncoder(new PlaintextPasswordEncoder())\r\n\t\t\t\t\t// .and()\r\n\t\t\t\t\t.contextSource().managerDn(managerDn).managerPassword(managerPass).url(url);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nThere are situations though where users might come in with a session token which can authentication from a session key server and valid token returns a username which can then be used to load authrization information from LDAP for that user. So my second authentication mechanism should happen first where if a session token is present in http headers it should perform the token authentication and then ldap lookup and if no session token is present it should just fall to current authentication mechanism. How can I add this second layer of authentication.\r\n\r\n","title":"multiple authentication mechanisms in a single app using java config","body":"<p>Currently I have a single authentication mechanism in my application which is to use LDAP for authentication and authorization. My security configuration looks like this</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n            .anyRequest().fullyAuthenticated()\n            .and()\n            .httpBasic();\n}\n\n@Configuration\nprotected static class AuthenticationConfiguration extends GlobalAuthenticationConfigurerAdapter {\n\n    @Value(\"${ldap-${env}.manager.dn}\")\n    private String managerDn;\n\n    @Value(\"${ldap-${env}.manager.pass}\")\n    private String managerPass;\n\n    @Value(\"${ldap-${env}.server.url}\")\n    private String url;\n\n    @Value(\"${ldap.password.attribute:userPassword}\")\n    private String passwordAttr;\n\n    @Override\n    public void init(AuthenticationManagerBuilder auth) throws Exception {\n        auth.ldapAuthentication().userDnPatterns(\"uid={0},ou=people\").groupSearchBase(\"ou=groups\")\n                .groupSearchFilter(\"(member={0})\").userSearchBase(\"ou=people\").userSearchFilter(\"(uid={0})\")\n                .userDetailsContextMapper(new CustomLdapPersonContextMapper())\n                // .passwordCompare()\n                // .passwordAttribute(passwordAttr)\n                // .passwordEncoder(new PlaintextPasswordEncoder())\n                // .and()\n                .contextSource().managerDn(managerDn).managerPassword(managerPass).url(url);\n    }\n}\n}\n</code></pre>\n\n<p>There are situations though where users might come in with a session token which can authentication from a session key server and valid token returns a username which can then be used to load authrization information from LDAP for that user. So my second authentication mechanism should happen first where if a session token is present in http headers it should perform the token authentication and then ldap lookup and if no session token is present it should just fall to current authentication mechanism. How can I add this second layer of authentication.</p>\n"},{"tags":["java","image","resize"],"answers":[{"comments":[{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1244949090,"post_id":991390,"comment_id":800835,"body_markdown":"yeah its getHeight wrong typo\nis there any Reason i cant use getScaledInstance with BufferdImage?","body":"yeah its getHeight wrong typo is there any Reason i cant use getScaledInstance with BufferdImage?"},{"owner":{"account_id":987,"reputation":1528,"user_id":1309,"display_name":"Max"},"score":0,"creation_date":1245110720,"post_id":991390,"comment_id":807913,"body_markdown":"That should be fine because BufferedImage extends Image","body":"That should be fine because BufferedImage extends Image"},{"owner":{"account_id":11201,"reputation":96834,"user_id":21475,"accept_rate":98,"display_name":"Cameron"},"score":0,"creation_date":1325568777,"post_id":991390,"comment_id":10837389,"body_markdown":"Hah, thanks for that first equation. Made something click in my confuddled brain!","body":"Hah, thanks for that first equation. Made something click in my confuddled brain!"}],"tags":[],"owner":{"account_id":987,"reputation":1528,"user_id":1309,"display_name":"Max"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1334154259,"creation_date":1244923119,"answer_id":991390,"question_id":991349,"body_markdown":"For starters - take a look at line 2. Shouldnt that be `getHeight()`?\r\n\r\nYou dont want a while loop for the resizing, you want to find out the resizing ratio, which is a simple bit of math. \r\n\r\n    (width / height) = (new_width / new_height)\r\n\r\nIf you know one of the &#39;new&#39; sizes, the other can be found via multiplication\r\n\r\n    new_height * (width / height) = new_width\r\n\r\nYou can also use the lazy method provided by `BufferedImage&#39;s` superclass Image, `getScaledInstance()` - using -1 for either width or height will maintain aspect ratio\r\n\r\nex: &lt;br/&gt;\r\n&lt;code&gt;    scaledPic = picture.getScaledInstance(new_width, -1, Image.SCALE_FAST);&lt;/code&gt;\r\n","title":"Resize image while keeping aspect ratio in Java","body":"<p>For starters - take a look at line 2. Shouldnt that be <code>getHeight()</code>?</p>\n\n<p>You dont want a while loop for the resizing, you want to find out the resizing ratio, which is a simple bit of math. </p>\n\n<pre><code>(width / height) = (new_width / new_height)\n</code></pre>\n\n<p>If you know one of the 'new' sizes, the other can be found via multiplication</p>\n\n<pre><code>new_height * (width / height) = new_width\n</code></pre>\n\n<p>You can also use the lazy method provided by <code>BufferedImage's</code> superclass Image, <code>getScaledInstance()</code> - using -1 for either width or height will maintain aspect ratio</p>\n\n<p>ex: <br/>\n<code>    scaledPic = picture.getScaledInstance(new_width, -1, Image.SCALE_FAST);</code></p>\n"},{"comments":[{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1244950068,"post_id":991395,"comment_id":800865,"body_markdown":"what represent the frontbuffer?","body":"what represent the frontbuffer?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1244970310,"post_id":991395,"comment_id":801309,"body_markdown":"This is an excerpt from one of my codes which renders an animation using swap buffering. frontbuffer is just the BufferedImage which needs to be shown at the moment.","body":"This is an excerpt from one of my codes which renders an animation using swap buffering. frontbuffer is just the BufferedImage which needs to be shown at the moment."}],"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244923219,"creation_date":1244923219,"answer_id":991395,"question_id":991349,"body_markdown":"If you want to resize a picture of w0 x h0 to w1 x h1 by keeping the aspect ratio, then calculate the vertical and horizontal scale and select the smaller one.\r\n&lt;pre&gt;&lt;code&gt;double scalex = 1;\r\ndouble scaley = 1;\r\nif (scalingMode == ScalingMode.WINDOW_SIZE) {\r\n  scalex = (double)getWidth() / frontbuffer.getWidth();\r\n  scaley = (double)getHeight() / frontbuffer.getHeight();\r\n} else\r\nif (scalingMode == ScalingMode.KEEP_ASPECT) {\r\n  double sx = (double)getWidth() / frontbuffer.getWidth();\r\n  double sy = (double)getHeight() / frontbuffer.getHeight();\r\n  scalex = Math.min(sx, sy);\r\n  scaley = scalex;\r\n  // center the image\r\n  g2.translate((getWidth() - (frontbuffer.getWidth() * scalex)) / 2,\r\n    (getHeight() - (frontbuffer.getHeight() * scaley)) / 2);\r\n}\r\ng2.scale(scalex, scaley);\r\nif (interpolation != ImageInterpolation.NONE) {\r\n  g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, interpolation.hint);\r\n}\r\ng2.drawImage(frontbuffer, 0, 0, null);\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Resize image while keeping aspect ratio in Java","body":"<p>If you want to resize a picture of w0 x h0 to w1 x h1 by keeping the aspect ratio, then calculate the vertical and horizontal scale and select the smaller one.</p>\n\n<pre><code>double scalex = 1;\ndouble scaley = 1;\nif (scalingMode == ScalingMode.WINDOW_SIZE) {\n  scalex = (double)getWidth() / frontbuffer.getWidth();\n  scaley = (double)getHeight() / frontbuffer.getHeight();\n} else\nif (scalingMode == ScalingMode.KEEP_ASPECT) {\n  double sx = (double)getWidth() / frontbuffer.getWidth();\n  double sy = (double)getHeight() / frontbuffer.getHeight();\n  scalex = Math.min(sx, sy);\n  scaley = scalex;\n  // center the image\n  g2.translate((getWidth() - (frontbuffer.getWidth() * scalex)) / 2,\n    (getHeight() - (frontbuffer.getHeight() * scaley)) / 2);\n}\ng2.scale(scalex, scaley);\nif (interpolation != ImageInterpolation.NONE) {\n  g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, interpolation.hint);\n}\ng2.drawImage(frontbuffer, 0, 0, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52437,"reputation":157,"user_id":156690,"display_name":"asingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1260492553,"creation_date":1260492553,"answer_id":1885146,"question_id":991349,"body_markdown":"If width, height of source and target are known, use following function to determine scale of the image.\r\n\r\n    private double determineImageScale(int sourceWidth, int sourceHeight, int targetWidth, int targetHeight) {\r\n\r\n\tdouble scalex = (double) targetWidth / sourceWidth;\r\n\tdouble scaley = (double) targetHeight / sourceHeight;\r\n\treturn Math.min(scalex, scaley);\r\n}\r\n\r\n\r\n\r\nThen use this scale to scale up/down the image using following code\r\n\r\n    Image scaledImage = sourceBufferedImage.getScaledInstance((int) (width * scale), (int) (height * scale), Image.SCALE_SMOOTH);\r\n","title":"Resize image while keeping aspect ratio in Java","body":"<p>If width, height of source and target are known, use following function to determine scale of the image.</p>\n\n<pre><code>private double determineImageScale(int sourceWidth, int sourceHeight, int targetWidth, int targetHeight) {\n\ndouble scalex = (double) targetWidth / sourceWidth;\ndouble scaley = (double) targetHeight / sourceHeight;\nreturn Math.min(scalex, scaley);\n</code></pre>\n\n<p>}</p>\n\n<p>Then use this scale to scale up/down the image using following code</p>\n\n<pre><code>Image scaledImage = sourceBufferedImage.getScaledInstance((int) (width * scale), (int) (height * scale), Image.SCALE_SMOOTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":682843,"reputation":76,"user_id":537153,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1521916279,"creation_date":1291934352,"answer_id":4403855,"question_id":991349,"body_markdown":"You may have a look at [perils-of-image-getscaledinstance.html][1] that explains why `getScaledInstance()`, used in some of the answers, should be avoided.\r\n\r\nThe article also provides alternative code.\r\n\r\n  [1]: https://community.oracle.com/docs/DOC-983611 &quot;perils-of-image-getscaledinstance.html&quot;","title":"Resize image while keeping aspect ratio in Java","body":"<p>You may have a look at <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\" title=\"perils-of-image-getscaledinstance.html\">perils-of-image-getscaledinstance.html</a> that explains why <code>getScaledInstance()</code>, used in some of the answers, should be avoided.</p>\n\n<p>The article also provides alternative code.</p>\n"},{"comments":[{"owner":{"account_id":130051,"reputation":1618,"user_id":329028,"accept_rate":100,"display_name":"Andrew B"},"score":11,"creation_date":1315152151,"post_id":6585887,"comment_id":8796164,"body_markdown":"Just had a look at this library and it helped a lot; would +2 this post if I could, with another +1 for fact your project has its own maven repo hosting.  Thanks!","body":"Just had a look at this library and it helped a lot; would +2 this post if I could, with another +1 for fact your project has its own maven repo hosting.  Thanks!"},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":0,"creation_date":1315168480,"post_id":6585887,"comment_id":8798526,"body_markdown":"Thank you for the kind words Andrew, I am glad you found it helpful!","body":"Thank you for the kind words Andrew, I am glad you found it helpful!"},{"owner":{"account_id":268146,"reputation":4923,"user_id":556730,"accept_rate":74,"display_name":"arg20"},"score":1,"creation_date":1363606355,"post_id":6585887,"comment_id":21902799,"body_markdown":"@AndrewB I +1 him for you so he gets the +2.. This certainly deserves it.","body":"@AndrewB I +1 him for you so he gets the +2.. This certainly deserves it."},{"owner":{"account_id":2546732,"reputation":1229,"user_id":2211395,"accept_rate":55,"display_name":"akshayb"},"score":0,"creation_date":1371047742,"post_id":6585887,"comment_id":24682731,"body_markdown":"&quot;...compiled all of into a single &quot;best practices&quot; image scaling library.&quot; this whole sentence is inspiring for me.","body":"&quot;...compiled all of into a single &quot;best practices&quot; image scaling library.&quot; this whole sentence is inspiring for me."},{"owner":{"account_id":1290665,"reputation":414,"user_id":1242831,"accept_rate":82,"display_name":"long"},"score":0,"creation_date":1512381741,"post_id":6585887,"comment_id":82219230,"body_markdown":"The problem of the lib (v4.2) is that it does not honor both height and width simultaneously. For example, I have an image 2000x2000. I&#39;d like to fit it in 700x200 squire. I would expect to see output as 200x200 but got 700x700. Yes, I specified both target height and target width","body":"The problem of the lib (v4.2) is that it does not honor both height and width simultaneously. For example, I have an image 2000x2000. I&#39;d like to fit it in 700x200 squire. I would expect to see output as 200x200 but got 700x700. Yes, I specified both target height and target width"},{"owner":{"account_id":386326,"reputation":7177,"user_id":744015,"accept_rate":98,"display_name":"Alexey"},"score":0,"creation_date":1560777475,"post_id":6585887,"comment_id":99836149,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;org.imgscalr&lt;/groupId&gt;\n    &lt;artifactId&gt;imgscalr-lib&lt;/artifactId&gt;\n    &lt;version&gt;4.2&lt;/version&gt;\n&lt;/dependency&gt;","body":"&lt;dependency&gt;     &lt;groupId&gt;org.imgscalr&lt;/groupId&gt;     &lt;artifactId&gt;imgscalr-lib&lt;/artifactId&gt;     &lt;version&gt;4.2&lt;/version&gt; &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"comment_count":6,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1671930048,"creation_date":1309883397,"answer_id":6585887,"question_id":991349,"body_markdown":"Adding to Erik&#39;s point about getScaledInstance, if you moved away from it to using the recommended scaling mechanisms in Java2D, you might have noticed that your images look noticeably worse.\r\n\r\nThe reason for that is when the Java2D discouraged use of getScaledInstance and AreaAveragingScaleFilter, they didn&#39;t replace it with anything *as easy* to use in the API, instead we were left to our own devices using Java2D APIs directly. Fortunately, Chris Campbell (from the J2D team) followed up with the recommendation of using an incremental scaling technique that gives similar looking results to AreaAveragingScaleFilter and runs faster; unfortunately the code is of a decent size and doesn&#39;t address your original question of honoring proportions.\r\n\r\nAbout 6 months ago I saw all these questions on SO again and again about &quot;scaling images in Java&quot; and eventually collected all the advice, did all the digging and research I could, and compiled all of into a single &quot;best practices&quot; [image scaling library][1].\r\n\r\nThe API is dead simple as it is only 1 class and a bunch of static methods. Basic use looks like this:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, 320);\r\n\r\nThis is the [simplest call][2] where the library will make a best-guess at the quality, honor your image proportions, and fit the result within a 320x320 bounding box. NOTE, the bounding box is just the maximum W/H used, since your image proportions are honored, the resulting image would still honor that, say 320x200.\r\n\r\nIf you want to override the automatic mode and force it to give you the best-looking result and even apply a very mild anti-alias filter to the result so it looks even better (especially good for thumbnails), that call would look like:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \r\n                                           150, 100, Scalr.OP_ANTIALIAS);\r\n\r\nThese are all just examples, the API is broad and covers everything from super-simple use cases to very specialized. You can even pass in your own BufferedImageOps to be applied to the image (and the library automatically fixes the 6-year BufferedImageOp JDK bug for you!)\r\n\r\nThere is a lot more to scaling images in Java successfully that the library does for you, for example always keeping the image in one of the best supported RGB or ARGB image types while operating on it. Under the covers the Java2D image processing pipeline falls back to an inferior software pipeline if the image type used for any image operations is poorly supported.\r\n\r\nIf all that sounded like a lot of headache, it sort of is... that&#39;s why I wrote the library and open sourced it, so folks could just resize their images and move on with their lives without needing to worry about it.\r\n\r\n  [1]: https://github.com/thebuzzmedia/imgscalr\r\n  [2]: http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/com/thebuzzmedia/imgscalr/Scalr.html#resize%28java.awt.image.BufferedImage,%20int%29","title":"Resize image while keeping aspect ratio in Java","body":"<p>Adding to Erik's point about getScaledInstance, if you moved away from it to using the recommended scaling mechanisms in Java2D, you might have noticed that your images look noticeably worse.</p>\n<p>The reason for that is when the Java2D discouraged use of getScaledInstance and AreaAveragingScaleFilter, they didn't replace it with anything <em>as easy</em> to use in the API, instead we were left to our own devices using Java2D APIs directly. Fortunately, Chris Campbell (from the J2D team) followed up with the recommendation of using an incremental scaling technique that gives similar looking results to AreaAveragingScaleFilter and runs faster; unfortunately the code is of a decent size and doesn't address your original question of honoring proportions.</p>\n<p>About 6 months ago I saw all these questions on SO again and again about &quot;scaling images in Java&quot; and eventually collected all the advice, did all the digging and research I could, and compiled all of into a single &quot;best practices&quot; <a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"nofollow noreferrer\">image scaling library</a>.</p>\n<p>The API is dead simple as it is only 1 class and a bunch of static methods. Basic use looks like this:</p>\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, 320);\n</code></pre>\n<p>This is the <a href=\"http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/com/thebuzzmedia/imgscalr/Scalr.html#resize%28java.awt.image.BufferedImage,%20int%29\" rel=\"nofollow noreferrer\">simplest call</a> where the library will make a best-guess at the quality, honor your image proportions, and fit the result within a 320x320 bounding box. NOTE, the bounding box is just the maximum W/H used, since your image proportions are honored, the resulting image would still honor that, say 320x200.</p>\n<p>If you want to override the automatic mode and force it to give you the best-looking result and even apply a very mild anti-alias filter to the result so it looks even better (especially good for thumbnails), that call would look like:</p>\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \n                                       150, 100, Scalr.OP_ANTIALIAS);\n</code></pre>\n<p>These are all just examples, the API is broad and covers everything from super-simple use cases to very specialized. You can even pass in your own BufferedImageOps to be applied to the image (and the library automatically fixes the 6-year BufferedImageOp JDK bug for you!)</p>\n<p>There is a lot more to scaling images in Java successfully that the library does for you, for example always keeping the image in one of the best supported RGB or ARGB image types while operating on it. Under the covers the Java2D image processing pipeline falls back to an inferior software pipeline if the image type used for any image operations is poorly supported.</p>\n<p>If all that sounded like a lot of headache, it sort of is... that's why I wrote the library and open sourced it, so folks could just resize their images and move on with their lives without needing to worry about it.</p>\n"},{"tags":[],"owner":{"account_id":1810034,"reputation":1794,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385647716,"creation_date":1385647716,"answer_id":20268253,"question_id":991349,"body_markdown":"I use these two methods to scale images, where max is the bigger dimension of your destination image. For 100x100 image it will be 100, for 200x300 image it will be 300.\r\n\r\n        public static BufferedImage scale(InputStream is, int max) {\r\n\t\tImage image = null;\r\n\t\ttry {\r\n\t\t\timage = ImageIO.read(is);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tint width = image.getWidth(null);\r\n\t\tint height = image.getHeight(null);\r\n\t\tdouble dWidth = 0;\r\n\t\tdouble dHeight = 0;\r\n\t\tif (width == height) {\r\n\t\t\tdWidth = max;\r\n\t\t\tdHeight = max;\r\n\t\t} \r\n\t\telse if (width &gt; height) {\r\n\t\t\tdWidth = max;\r\n\t\t\tdHeight = ((double) height / (double) width) * max;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdHeight = max;\r\n\t\t\tdWidth = ((double) width / (double) height) * max;\r\n\t\t}\r\n\t\timage = image.getScaledInstance((int) dWidth, (int) dHeight, Image.SCALE_SMOOTH);\r\n\t\tBufferedImage bImage = toBufferedImage(image);\r\n\t\treturn bImage;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static BufferedImage toBufferedImage(Image img)\r\n\t{\r\n\t    if (img instanceof BufferedImage)\r\n\t    {\r\n\t        return (BufferedImage) img;\r\n\t    }\r\n\r\n\t    BufferedImage bimage = new BufferedImage(img.getWidth(null), img.getHeight(null), BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t    Graphics2D bGr = bimage.createGraphics();\r\n\t    bGr.drawImage(img, 0, 0, null);\r\n\t    bGr.dispose();\r\n\r\n\t    return bimage;\r\n\t}","title":"Resize image while keeping aspect ratio in Java","body":"<p>I use these two methods to scale images, where max is the bigger dimension of your destination image. For 100x100 image it will be 100, for 200x300 image it will be 300.</p>\n\n<pre><code>    public static BufferedImage scale(InputStream is, int max) {\n    Image image = null;\n    try {\n        image = ImageIO.read(is);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    int width = image.getWidth(null);\n    int height = image.getHeight(null);\n    double dWidth = 0;\n    double dHeight = 0;\n    if (width == height) {\n        dWidth = max;\n        dHeight = max;\n    } \n    else if (width &gt; height) {\n        dWidth = max;\n        dHeight = ((double) height / (double) width) * max;\n    }\n    else {\n        dHeight = max;\n        dWidth = ((double) width / (double) height) * max;\n    }\n    image = image.getScaledInstance((int) dWidth, (int) dHeight, Image.SCALE_SMOOTH);\n    BufferedImage bImage = toBufferedImage(image);\n    return bImage;\n\n}\n\npublic static BufferedImage toBufferedImage(Image img)\n{\n    if (img instanceof BufferedImage)\n    {\n        return (BufferedImage) img;\n    }\n\n    BufferedImage bimage = new BufferedImage(img.getWidth(null), img.getHeight(null), BufferedImage.TYPE_INT_ARGB);\n\n    Graphics2D bGr = bimage.createGraphics();\n    bGr.drawImage(img, 0, 0, null);\n    bGr.dispose();\n\n    return bimage;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2192013,"reputation":667,"user_id":1938767,"display_name":"rafaelnaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575224964,"creation_date":1575224964,"answer_id":59128634,"question_id":991349,"body_markdown":"    private static BufferedImage resize(BufferedImage img, int width, int height) {\r\n    \t\t\r\n    \t\tdouble scalex = (double) width / img.getWidth();\r\n    \t\tdouble scaley = (double) height / img.getHeight();\r\n    \t\tdouble scale = Math.min(scalex, scaley);\r\n    \t\t\r\n    \t\tint w = (int) (img.getWidth() * scale);\r\n    \t\tint h = (int) (img.getHeight() * scale);\r\n    \t\t\t\r\n            Image tmp = img.getScaledInstance(w, h, Image.SCALE_SMOOTH);\r\n            \r\n            BufferedImage resized = new BufferedImage(w, h, img.getType());\r\n            Graphics2D g2d = resized.createGraphics();\r\n            g2d.drawImage(tmp, 0, 0, null);\r\n            g2d.dispose();\r\n            \r\n            return resized;\r\n        }","title":"Resize image while keeping aspect ratio in Java","body":"<pre><code>private static BufferedImage resize(BufferedImage img, int width, int height) {\n\n        double scalex = (double) width / img.getWidth();\n        double scaley = (double) height / img.getHeight();\n        double scale = Math.min(scalex, scaley);\n\n        int w = (int) (img.getWidth() * scale);\n        int h = (int) (img.getHeight() * scale);\n\n        Image tmp = img.getScaledInstance(w, h, Image.SCALE_SMOOTH);\n\n        BufferedImage resized = new BufferedImage(w, h, img.getType());\n        Graphics2D g2d = resized.createGraphics();\n        g2d.drawImage(tmp, 0, 0, null);\n        g2d.dispose();\n\n        return resized;\n    }\n</code></pre>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58671,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":4403855,"answer_count":7,"score":19,"last_activity_date":1671930048,"creation_date":1244921821,"question_id":991349,"body_markdown":"im trying to resize bufferdImage in memory in java but to keep the aspect ratio of the image \r\nim have something like this but this is not good \r\n\r\n\r\n    int w = picture.getWidth();\r\n    int h = picture.getWidth();\r\n    int neww=w;\r\n    int newh=h;\r\n    int wfactor = w;\r\n    int hfactor = h;\r\n    if(w &gt; DEFULT_PICTURE_WIDTH || h &gt; DEFULT_PICTURE_HIGHT)\r\n    {\r\n        while(neww &gt; DEFULT_PICTURE_WIDTH)\r\n        {\r\n            neww = wfactor /2;\r\n            newh = hfactor /2;\r\n            wfactor = neww;\r\n            hfactor = newh;\r\n        }\r\n    }\r\n\r\n    picture = Utils.resizePicture(picture,neww,newh);\r\n\r\n","title":"Resize image while keeping aspect ratio in Java","body":"<p>im trying to resize bufferdImage in memory in java but to keep the aspect ratio of the image \nim have something like this but this is not good </p>\n\n<pre><code>int w = picture.getWidth();\nint h = picture.getWidth();\nint neww=w;\nint newh=h;\nint wfactor = w;\nint hfactor = h;\nif(w &gt; DEFULT_PICTURE_WIDTH || h &gt; DEFULT_PICTURE_HIGHT)\n{\n    while(neww &gt; DEFULT_PICTURE_WIDTH)\n    {\n        neww = wfactor /2;\n        newh = hfactor /2;\n        wfactor = neww;\n        hfactor = newh;\n    }\n}\n\npicture = Utils.resizePicture(picture,neww,newh);\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":11694773,"reputation":131,"user_id":8561757,"display_name":"techasutos"},"score":0,"creation_date":1671529037,"post_id":74860564,"comment_id":132113545,"body_markdown":"At which line you are getting ?","body":"At which line you are getting ?"},{"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"score":0,"creation_date":1671529636,"post_id":74860564,"comment_id":132113718,"body_markdown":"I think you are not reading `username` and `password`, but you are reading `name` and `roll` lines. And therefor substring(10) is not working in my opinion.","body":"I think you are not reading <code>username</code> and <code>password</code>, but you are reading <code>name</code> and <code>roll</code> lines. And therefor substring(10) is not working in my opinion."},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1671534753,"post_id":74860564,"comment_id":132115288,"body_markdown":"@DevilsHnd answer helps me a lot. I think so that I can&#39;t read `username` or `password` and i&#39;ve changed the values under `substring` also but it never gave me any results.","body":"@DevilsHnd answer helps me a lot. I think so that I can&#39;t read <code>username</code> or <code>password</code> and i&#39;ve changed the values under <code>substring</code> also but it never gave me any results."}],"answers":[{"comments":[{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1671528346,"post_id":74860638,"comment_id":132113352,"body_markdown":"It doesn&#39;t help :(","body":"It doesn&#39;t help :("},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671626769,"post_id":74860638,"comment_id":132138629,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74860638/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25037760,"reputation":186,"user_id":18894965,"display_name":"devMe"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1671526926,"creation_date":1671526926,"answer_id":74860638,"question_id":74860564,"body_markdown":"Rather than using `.txt` file use `.env` file .Hope this will help [here](https://stackoverflow.com/questions/41551847/reading-username-and-password-from-file-in-java)","title":"Can&#39;t Login using .txt file in java","body":"<p>Rather than using <code>.txt</code> file use <code>.env</code> file .Hope this will help <a href=\"https://stackoverflow.com/questions/41551847/reading-username-and-password-from-file-in-java\">here</a></p>\n"},{"comments":[{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1671534567,"post_id":74861628,"comment_id":132115227,"body_markdown":"This work . But it&#39;s an error shows like `try (Scanner reader = new Scanner (new File(&quot;Student.txt&quot;)))` in this line and said to compile the project in jre1.7 While I am useing java19","body":"This work . But it&#39;s an error shows like <code>try (Scanner reader = new Scanner (new File(&quot;Student.txt&quot;)))</code> in this line and said to compile the project in jre1.7 While I am useing java19"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1671911043,"post_id":74861628,"comment_id":132196641,"body_markdown":"I&#39;m Sorry. I don&#39;t use Java 19. I use a high flavor of Java 8. What part of that line does your IDE not like?","body":"I&#39;m Sorry. I don&#39;t use Java 19. I use a high flavor of Java 8. What part of that line does your IDE not like?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1671930316,"post_id":74861628,"comment_id":132198832,"body_markdown":"@CSE - I have added additional code at the end of my post which utilizes a different reader. This should work. A BufferedReader/FileReader is used.","body":"@CSE - I have added additional code at the end of my post which utilizes a different reader. This should work. A BufferedReader/FileReader is used."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671930047,"creation_date":1671532092,"answer_id":74861628,"question_id":74860564,"body_markdown":"Something like this should help. Read the comments in code:\r\n\r\n```\r\npublic void actionPerformed(ActionEvent e) {\r\n    String username = txtUser.getText();  // Get entered User Name\r\n    String password = txtPass.getText();  // Get entered Password\r\n    boolean loginSuccess = false;         // Flag to indicate success or failure.\r\n        \r\n    // Make sure the User actually supplied the required data:\r\n    if (username.isEmpty() || password.isEmpty()) {\r\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;You &lt;b&gt;must&lt;/b&gt; supply both &quot;\r\n                    + &quot;a User Name and a Password!&quot;, &quot;Student File Not Found!&quot;, \r\n                    JOptionPane.WARNING_MESSAGE);\r\n        return;\r\n    }\r\n        \r\n    /* Open a reader. &#39;Try With Resources&#39; is used here to \r\n       auto-close the reader and free resources.        */\r\n    try (Scanner reader = new Scanner (new File(&quot;Student.txt&quot;))) {\r\n        String line;\r\n        while (reader.hasNextLine()) {\r\n            line = reader.nextLine();\r\n            line = line.trim();\r\n            /* If the line is blank or if the line does not start with \r\n               &quot;Username:&quot; then skip past it. If it does start with\r\n               &quot;Username:&quot; then parse the line using the String#split()\r\n               method to get the actual name. Is it the desired name? */\r\n            if (!line.isEmpty() &amp;&amp; line.startsWith(&quot;Username:&quot;) &amp;&amp; \r\n                        line.split(&quot;:\\\\s*&quot;)[1].equalsIgnoreCase(username)) {\r\n                // Yes it is...read in the next line which would be the password:\r\n                String passwordLine = reader.nextLine();\r\n                /* Parse the Password line to retrieve the password. Is it\r\n                   the desired password?                    */\r\n                if (passwordLine.split(&quot;:\\\\s*&quot;)[1].equals(password)) {\r\n                    /* Yes it is... flag login as successful and exit \r\n                       reading loop.                        */\r\n                    loginSuccess = true;\r\n                    break;\r\n                }   \r\n            }\r\n        }\r\n        // Was login successfull?\r\n        if (loginSuccess) {\r\n            // Yes, it was...Inform User.\r\n            JOptionPane.showMessageDialog(this, &quot;Login Successful!&quot;);\r\n        }\r\n        else {\r\n            // No, it wasn&#39;t...Inform User.\r\n            JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Login &lt;font color=red&gt;&lt;b&gt;&quot;\r\n                                        + &quot;Failed!&lt;/b&gt;&lt;/font&gt; Exiting...&lt;/html&gt;&quot;);\r\n            System.exit(0);     // Close Application!\r\n        }\r\n    }\r\n    catch (FileNotFoundException ex) {\r\n        // Trap FileNotFoundException and inform User:\r\n        JOptionPane.showMessageDialog(this, ex.getMessage(), \r\n                &quot;Student File Not Found!&quot;, JOptionPane.WARNING_MESSAGE);\r\n    }\r\n}\r\n```\r\n\r\nUser name is not letter case sensitive but the Password is.\r\n\r\n**Update - Using a different file Reader:**\r\n\r\nThis is the same code but utilizing a different reader. Here we use a **BufferedReader** in combination with a **FileReader**. Again, *Try With Resources* is used here to auto-close the reader and free resources when reading has completed. Make sure your `Student.txt` file is located within the project folder or provide a complete path to the `Student.txt` data file (ex: `&quot;C:/MyStudentFiles/Student.txt&quot;` or `&quot;C:\\\\MyStudentFiles\\\\Student.txt&quot;`:\r\n\r\n```\r\npublic void actionPerformed(ActionEvent e) {\r\n    String username = txtUser.getText();  // Get entered User Name\r\n    String password = txtPass.getText();  // Get entered Password\r\n    boolean loginSuccess = false;         // Flag to indicate success or failure.\r\n\r\n    // Make sure the User actually supplied the required data:\r\n    if (username.isEmpty() || password.isEmpty()) {\r\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;You &lt;b&gt;must&lt;/b&gt; supply both &quot;\r\n                + &quot;a User Name and a Password!&quot;, &quot;Student File Not Found!&quot;,\r\n                JOptionPane.WARNING_MESSAGE);\r\n        return;\r\n    }\r\n\r\n     /* Open a reader. &#39;Try With Resources&#39; is used here to auto-close \r\n        the reader and free resources when done.               */ \r\n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;Student.txt&quot;))) {\r\n        String line;\r\n        // Read in each line one by one...\r\n        while ((line = reader.readLine()) != null) {\r\n            line = line.trim();\r\n            /* If the line is blank or if the line does not start with\r\n               &quot;Username:&quot; then skip past it. If it does start with\r\n               &quot;Username:&quot; then parse the line using the String#split()\r\n               method to get the actual name. Is it the desired name? */\r\n            if (!line.isEmpty() &amp;&amp; line.startsWith(&quot;Username:&quot;)\r\n                    &amp;&amp; line.split(&quot;:\\\\s*&quot;)[1].equalsIgnoreCase(username)) {\r\n                // Yes it is...read in the next line which would be the password:\r\n                String passwordLine = reader.readLine();\r\n                /* Parse the Password line to retrieve the password. Is it\r\n                   the desired password?                    */\r\n                if (passwordLine.split(&quot;:\\\\s*&quot;)[1].equals(password)) {\r\n                    /* Yes it is... flag login as successful and exit\r\n                    reading loop.                        */\r\n                    loginSuccess = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (IOException ex) {\r\n        // Trap FileNotFoundException and inform User:\r\n        JOptionPane.showMessageDialog(this, ex.getMessage(),\r\n                &quot;Student File Read Error!&quot;, JOptionPane.WARNING_MESSAGE);\r\n    }\r\n\r\n    // Was login successfull?\r\n    if (loginSuccess) {\r\n        // Yes, it was...Inform User.\r\n        JOptionPane.showMessageDialog(this, &quot;Login Successful!&quot;);\r\n    }\r\n    else {\r\n        // No, it wasn&#39;t...Inform User.\r\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Login &lt;font color=red&gt;&lt;b&gt;&quot;\r\n                + &quot;Failed!&lt;/b&gt;&lt;/font&gt; Exiting...&lt;/html&gt;&quot;);\r\n        System.exit(0);     // Close Application!\r\n    }\r\n}\r\n```\r\n\r\nIf you are actually using the code above then all should work.\r\n","title":"Can&#39;t Login using .txt file in java","body":"<p>Something like this should help. Read the comments in code:</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    String username = txtUser.getText();  // Get entered User Name\n    String password = txtPass.getText();  // Get entered Password\n    boolean loginSuccess = false;         // Flag to indicate success or failure.\n        \n    // Make sure the User actually supplied the required data:\n    if (username.isEmpty() || password.isEmpty()) {\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;You &lt;b&gt;must&lt;/b&gt; supply both &quot;\n                    + &quot;a User Name and a Password!&quot;, &quot;Student File Not Found!&quot;, \n                    JOptionPane.WARNING_MESSAGE);\n        return;\n    }\n        \n    /* Open a reader. 'Try With Resources' is used here to \n       auto-close the reader and free resources.        */\n    try (Scanner reader = new Scanner (new File(&quot;Student.txt&quot;))) {\n        String line;\n        while (reader.hasNextLine()) {\n            line = reader.nextLine();\n            line = line.trim();\n            /* If the line is blank or if the line does not start with \n               &quot;Username:&quot; then skip past it. If it does start with\n               &quot;Username:&quot; then parse the line using the String#split()\n               method to get the actual name. Is it the desired name? */\n            if (!line.isEmpty() &amp;&amp; line.startsWith(&quot;Username:&quot;) &amp;&amp; \n                        line.split(&quot;:\\\\s*&quot;)[1].equalsIgnoreCase(username)) {\n                // Yes it is...read in the next line which would be the password:\n                String passwordLine = reader.nextLine();\n                /* Parse the Password line to retrieve the password. Is it\n                   the desired password?                    */\n                if (passwordLine.split(&quot;:\\\\s*&quot;)[1].equals(password)) {\n                    /* Yes it is... flag login as successful and exit \n                       reading loop.                        */\n                    loginSuccess = true;\n                    break;\n                }   \n            }\n        }\n        // Was login successfull?\n        if (loginSuccess) {\n            // Yes, it was...Inform User.\n            JOptionPane.showMessageDialog(this, &quot;Login Successful!&quot;);\n        }\n        else {\n            // No, it wasn't...Inform User.\n            JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Login &lt;font color=red&gt;&lt;b&gt;&quot;\n                                        + &quot;Failed!&lt;/b&gt;&lt;/font&gt; Exiting...&lt;/html&gt;&quot;);\n            System.exit(0);     // Close Application!\n        }\n    }\n    catch (FileNotFoundException ex) {\n        // Trap FileNotFoundException and inform User:\n        JOptionPane.showMessageDialog(this, ex.getMessage(), \n                &quot;Student File Not Found!&quot;, JOptionPane.WARNING_MESSAGE);\n    }\n}\n</code></pre>\n<p>User name is not letter case sensitive but the Password is.</p>\n<p><strong>Update - Using a different file Reader:</strong></p>\n<p>This is the same code but utilizing a different reader. Here we use a <strong>BufferedReader</strong> in combination with a <strong>FileReader</strong>. Again, <em>Try With Resources</em> is used here to auto-close the reader and free resources when reading has completed. Make sure your <code>Student.txt</code> file is located within the project folder or provide a complete path to the <code>Student.txt</code> data file (ex: <code>&quot;C:/MyStudentFiles/Student.txt&quot;</code> or <code>&quot;C:\\\\MyStudentFiles\\\\Student.txt&quot;</code>:</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    String username = txtUser.getText();  // Get entered User Name\n    String password = txtPass.getText();  // Get entered Password\n    boolean loginSuccess = false;         // Flag to indicate success or failure.\n\n    // Make sure the User actually supplied the required data:\n    if (username.isEmpty() || password.isEmpty()) {\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;You &lt;b&gt;must&lt;/b&gt; supply both &quot;\n                + &quot;a User Name and a Password!&quot;, &quot;Student File Not Found!&quot;,\n                JOptionPane.WARNING_MESSAGE);\n        return;\n    }\n\n     /* Open a reader. 'Try With Resources' is used here to auto-close \n        the reader and free resources when done.               */ \n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;Student.txt&quot;))) {\n        String line;\n        // Read in each line one by one...\n        while ((line = reader.readLine()) != null) {\n            line = line.trim();\n            /* If the line is blank or if the line does not start with\n               &quot;Username:&quot; then skip past it. If it does start with\n               &quot;Username:&quot; then parse the line using the String#split()\n               method to get the actual name. Is it the desired name? */\n            if (!line.isEmpty() &amp;&amp; line.startsWith(&quot;Username:&quot;)\n                    &amp;&amp; line.split(&quot;:\\\\s*&quot;)[1].equalsIgnoreCase(username)) {\n                // Yes it is...read in the next line which would be the password:\n                String passwordLine = reader.readLine();\n                /* Parse the Password line to retrieve the password. Is it\n                   the desired password?                    */\n                if (passwordLine.split(&quot;:\\\\s*&quot;)[1].equals(password)) {\n                    /* Yes it is... flag login as successful and exit\n                    reading loop.                        */\n                    loginSuccess = true;\n                    break;\n                }\n            }\n        }\n    }\n    catch (IOException ex) {\n        // Trap FileNotFoundException and inform User:\n        JOptionPane.showMessageDialog(this, ex.getMessage(),\n                &quot;Student File Read Error!&quot;, JOptionPane.WARNING_MESSAGE);\n    }\n\n    // Was login successfull?\n    if (loginSuccess) {\n        // Yes, it was...Inform User.\n        JOptionPane.showMessageDialog(this, &quot;Login Successful!&quot;);\n    }\n    else {\n        // No, it wasn't...Inform User.\n        JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Login &lt;font color=red&gt;&lt;b&gt;&quot;\n                + &quot;Failed!&lt;/b&gt;&lt;/font&gt; Exiting...&lt;/html&gt;&quot;);\n        System.exit(0);     // Close Application!\n    }\n}\n</code></pre>\n<p>If you are actually using the code above then all should work.</p>\n"}],"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74861628,"answer_count":2,"score":0,"last_activity_date":1671930047,"creation_date":1671526498,"question_id":74860564,"body_markdown":"I want to login using `.txt` file using `Username` and `Password`. The file looks like below:\r\n\r\n    Name: Rahim\r\n    Roll: C20\r\n    Age: 24\r\n    Username: rahim\r\n    Password: 1234\r\n    _______________________________________________________________\r\n    \r\n    Name: Karim\r\n    Roll: C24\r\n    Age: 25\r\n    Username: karim\r\n    Password: 45678\r\n    _______________________________________________________________\r\n\r\nI use the below code for login:\r\n\r\n    btnLogin.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tString username,password;\r\n\t\t\t\t\tString user, pass;\r\n\t\t\t\t\tusername = txtUser.getText();\r\n\t\t\t\t\tpassword = txtPass.getText();\r\n\t\t\t\t\t\r\n\t\t\t\t\tRandomAccessFile rf = new RandomAccessFile(&quot;Student.txt&quot;, &quot;rw&quot;);\r\n\t\t\t\t\tlong ln = rf.length();\r\n\t\t\t\t\tfor(int i=0; i&lt;ln; i+=5) {\r\n\t\t\t\t\t\tString line = rf.readLine();\r\n\t\t\t\t\t\tuser = line.substring(10);\r\n\t\t\t\t\t\tpass = rf.readLine().substring(10);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(username.equals(user) &amp;&amp; password.equals(pass)) {\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Login Successfully&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(i == (ln - 1)) {\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Wrong!&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//For skipping checking the same things which are skipped already\r\n\t\t\t\t\t\tfor(int k=1; k&lt;=5; k++) {\r\n\t\t\t\t\t\t\trf.readLine();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trf.close();\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception ex) {\r\n\t\t\t\t\t//JOptionPane.showMessageDialog(null, &quot;File Not Found!&quot;);\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nBut it can&#39;t help me to reach my goal and show error like this:\r\n\r\n    java.lang.StringIndexOutOfBoundsException: Range [10, 7) out of bounds for length 7","title":"Can&#39;t Login using .txt file in java","body":"<p>I want to login using <code>.txt</code> file using <code>Username</code> and <code>Password</code>. The file looks like below:</p>\n<pre><code>Name: Rahim\nRoll: C20\nAge: 24\nUsername: rahim\nPassword: 1234\n_______________________________________________________________\n\nName: Karim\nRoll: C24\nAge: 25\nUsername: karim\nPassword: 45678\n_______________________________________________________________\n</code></pre>\n<p>I use the below code for login:</p>\n<pre><code>btnLogin.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            try {\n                String username,password;\n                String user, pass;\n                username = txtUser.getText();\n                password = txtPass.getText();\n                \n                RandomAccessFile rf = new RandomAccessFile(&quot;Student.txt&quot;, &quot;rw&quot;);\n                long ln = rf.length();\n                for(int i=0; i&lt;ln; i+=5) {\n                    String line = rf.readLine();\n                    user = line.substring(10);\n                    pass = rf.readLine().substring(10);\n                    \n                    if(username.equals(user) &amp;&amp; password.equals(pass)) {\n                        JOptionPane.showMessageDialog(null, &quot;Login Successfully&quot;);\n                        break;\n                    }\n                    else if(i == (ln - 1)) {\n                        JOptionPane.showMessageDialog(null, &quot;Wrong!&quot;);\n                    }\n                    //For skipping checking the same things which are skipped already\n                    for(int k=1; k&lt;=5; k++) {\n                        rf.readLine();\n                    }\n                }\n                \n                rf.close();\n            }\n            catch(Exception ex) {\n                //JOptionPane.showMessageDialog(null, &quot;File Not Found!&quot;);\n                ex.printStackTrace();\n            }\n        }\n    });\n</code></pre>\n<p>But it can't help me to reach my goal and show error like this:</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: Range [10, 7) out of bounds for length 7\n</code></pre>\n"},{"tags":["java","multithreading","smtp","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":0,"creation_date":1349682390,"post_id":12733317,"comment_id":17270558,"body_markdown":"Did you learn this from the javadoc, the sources, of from experience?","body":"Did you learn this from the javadoc, the sources, of from experience?"},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":2,"creation_date":1349765406,"post_id":12733317,"comment_id":17298731,"body_markdown":"Kudos! Since there were no references backing your explanations, I was wondering how you could be so assertive. Now I understand ;) Clearly, +1 !","body":"Kudos! Since there were no references backing your explanations, I was wondering how you could be so assertive. Now I understand ;) Clearly, +1 !"},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":3,"creation_date":1349766126,"post_id":12733317,"comment_id":17299003,"body_markdown":"It&#39;s very nice that you answer so many JavaMail questions without caring much for reputation. You&#39;re a real Unsung Hero!","body":"It&#39;s very nice that you answer so many JavaMail questions without caring much for reputation. You&#39;re a real Unsung Hero!"},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":0,"creation_date":1422674586,"post_id":12733317,"comment_id":44856066,"body_markdown":"@BillShannon - Does that mean that copying messages from one Store to another with multiple threads will have no performance benefit over doing so in a single thread?  Thanks!","body":"@BillShannon - Does that mean that copying messages from one Store to another with multiple threads will have no performance benefit over doing so in a single thread?  Thanks!"},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":3,"creation_date":1422675100,"post_id":12733317,"comment_id":44856141,"body_markdown":"It depends.  Each open folder uses a single connection, and operations on the connection are single threaded by necessity.  You can open the folder multiple times; whether that will help will depend on the server.  And certainly if you&#39;re operating on multiple folders it will likely help to use multiple threads.","body":"It depends.  Each open folder uses a single connection, and operations on the connection are single threaded by necessity.  You can open the folder multiple times; whether that will help will depend on the server.  And certainly if you&#39;re operating on multiple folders it will likely help to use multiple threads."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1554542664,"post_id":12733317,"comment_id":97797269,"body_markdown":"@BillShannon, can you confirm this answer is still up-to-date 7 years later? I&#39;m maintaining a JavaMail SMTP wrapper library called [SimpleJavaMail](https://github.com/bbottema/simple-java-mail) and we&#39;re having a discussion on multi-threading and performance over [here](https://github.com/bbottema/simple-java-mail/issues/198).","body":"@BillShannon, can you confirm this answer is still up-to-date 7 years later? I&#39;m maintaining a JavaMail SMTP wrapper library called <a href=\"https://github.com/bbottema/simple-java-mail\" rel=\"nofollow noreferrer\">SimpleJavaMail</a> and we&#39;re having a discussion on multi-threading and performance over <a href=\"https://github.com/bbottema/simple-java-mail/issues/198\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1554576527,"post_id":12733317,"comment_id":97805941,"body_markdown":"@BennyBottema Yes, the threading model hasn&#39;t changed.  Obviously the choice of multiple threads and multiple connections will depend on the cpu and network performance of the client and server, and any other connection or throughput limitations the server may impose.","body":"@BennyBottema Yes, the threading model hasn&#39;t changed.  Obviously the choice of multiple threads and multiple connections will depend on the cpu and network performance of the client and server, and any other connection or throughput limitations the server may impose."}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":7,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1671929427,"creation_date":1349374577,"answer_id":12733317,"question_id":12732584,"body_markdown":"Admittedly the thread safety rules for JavaMail are not well documented, but hopefully they mostly match what you would expect.\r\n\r\nMultiple threads can use a Session.\r\n\r\nSince a Transport represents a connection to a mail server, and only a single thread can use the connection at a time, a Transport will synchronize access from multiple threads to maintain thread safety, but you&#39;ll really only want to use it from a single thread.\r\n\r\nSimilarly, a Store can be used by multiple threads, but access to the underlying connection will be synchronized and single threaded.\r\n\r\nA Message should only be modified by a single thread at a time, but multiple threads should be able to read a message safely (although it&#39;s not clear why you would want to do that).","title":"Threadsafety in Javamail","body":"<p>Admittedly the thread safety rules for JavaMail are not well documented, but hopefully they mostly match what you would expect.</p>\n<p>Multiple threads can use a Session.</p>\n<p>Since a Transport represents a connection to a mail server, and only a single thread can use the connection at a time, a Transport will synchronize access from multiple threads to maintain thread safety, but you'll really only want to use it from a single thread.</p>\n<p>Similarly, a Store can be used by multiple threads, but access to the underlying connection will be synchronized and single threaded.</p>\n<p>A Message should only be modified by a single thread at a time, but multiple threads should be able to read a message safely (although it's not clear why you would want to do that).</p>\n"},{"tags":[],"owner":{"account_id":1915431,"reputation":21,"user_id":1728103,"display_name":"Nirmala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349682332,"creation_date":1349682208,"answer_id":12777323,"question_id":12732584,"body_markdown":"The javamail dispatcher threads doesn&#39;t seem to timeout if the server doesn&#39;t respond in time. this leads to locking on all available threads. \r\n\r\nTested this behavior with both 1.4.3 &amp; 1.4.5.","title":"Threadsafety in Javamail","body":"<p>The javamail dispatcher threads doesn't seem to timeout if the server doesn't respond in time. this leads to locking on all available threads. </p>\n\n<p>Tested this behavior with both 1.4.3 &amp; 1.4.5.</p>\n"}],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9696,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12733317,"answer_count":2,"score":27,"last_activity_date":1671929427,"creation_date":1349371860,"question_id":12732584,"body_markdown":"I&#39;m researching whether Javamail is threadsafe, in particular in a situation with many sessions corresponding to different users, several SMTP servers and the use of creating MIME messages and use of `transport.sendMessage` method.  I know Javamail is oriented toward desktop-use which makes me suspect it may not have been built with threading in mind, and am wondering if anyone has such experience.","title":"Threadsafety in Javamail","body":"<p>I'm researching whether Javamail is threadsafe, in particular in a situation with many sessions corresponding to different users, several SMTP servers and the use of creating MIME messages and use of <code>transport.sendMessage</code> method.  I know Javamail is oriented toward desktop-use which makes me suspect it may not have been built with threading in mind, and am wondering if anyone has such experience.</p>\n"},{"tags":["java","maven","gradle","compiler-errors","compilation"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1671927799,"post_id":74910943,"comment_id":132198672,"body_markdown":"What is the `Main` class and does it have a `getInstance()` method?","body":"What is the <code>Main</code> class and does it have a <code>getInstance()</code> method?"},{"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"score":0,"creation_date":1671927948,"post_id":74910943,"comment_id":132198688,"body_markdown":"The Main class contains the `getInstance()` method because it uses a singleton pattern.","body":"The Main class contains the <code>getInstance()</code> method because it uses a singleton pattern."},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1671928697,"post_id":74910943,"comment_id":132198738,"body_markdown":"What does the original `pom.xml` have?","body":"What does the original <code>pom.xml</code> have?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671929422,"post_id":74910943,"comment_id":132198781,"body_markdown":"Which module or dependency is `Main` in?","body":"Which module or dependency is <code>Main</code> in?"},{"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"score":0,"creation_date":1671929457,"post_id":74910943,"comment_id":132198783,"body_markdown":"It&#39;s in the `PixliesCore` subproject.","body":"It&#39;s in the <code>PixliesCore</code> subproject."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671930333,"post_id":74910943,"comment_id":132198833,"body_markdown":"This may help https://stackoverflow.com/questions/70320448/spring-boot-gradle-build-invalid-source-release-11","body":"This may help <a href=\"https://stackoverflow.com/questions/70320448/spring-boot-gradle-build-invalid-source-release-11\" title=\"spring boot gradle build invalid source release 11\">stackoverflow.com/questions/70320448/&hellip;</a>"},{"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"score":0,"creation_date":1671931803,"post_id":74910943,"comment_id":132198923,"body_markdown":"That cleared up the &quot;invalid source release,&quot; thanks. However, the &quot;cannot find symbol&quot; issue is still persisting.","body":"That cleared up the &quot;invalid source release,&quot; thanks. However, the &quot;cannot find symbol&quot; issue is still persisting."}],"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671929103,"creation_date":1671926723,"question_id":74910943,"body_markdown":"I had a Maven project, which I then switched to Gradle. I am now attempting to compile the Gradle project, but it isn&#39;t compiling, even if it was building and compiling successfully when I used Maven. \r\n\r\nI ran `gradle init` to convert my project to Gradle and it stopped compiling and gave me the &quot;cannot find symbol&quot; errors. It seems as though Gradle cannot find many classes, including the `Main` class.\r\n\r\nI have effectively read through the post: https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean and I was unable to fix my issue. I know it&#39;s a compilation error, but I don&#39;t know what&#39;s causing it. I didn&#39;t change the code when I switched from Maven to Gradle, only the build files.\r\n\r\nHere is an example of one of the errors:\r\n\r\n```\r\n        Main instance = Main.getInstance();\r\n                            ^\r\n  symbol:   method getInstance()\r\n  location: class Main\r\n```\r\n\r\nNote: the build is a multi-project build. It has several subprojects. Here is the mother build.gradle file:\r\n```clojure\r\nplugins {\r\n    id &quot;java&quot;\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot;\r\n    id &quot;war&quot;\r\n}\r\n\r\ngroup &quot;net.pixlies&quot;\r\nversion &quot;1.0-SNAPSHOT&quot;\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    compileJava.options.encoding = &quot;UTF-8&quot;\r\n\r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;war&quot;\r\n    apply plugin: &quot;com.github.johnrengelman.shadow&quot;\r\n\r\n    compileJava {\r\n        sourceCompatibility = 17\r\n        targetCompatibility = 17\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &quot;https://repo.purpurmc.org/snapshots/&quot; }\r\n    maven { url &quot;https://repo.extendedclip.com/content/repositories/placeholderapi/&quot; }\r\n    maven { url &quot;https://repo.aikar.co/content/groups/aikar/&quot; }\r\n    maven { url &quot;https://repo.dmulloy2.net/repository/public/&quot; }\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.mongodb:mongo-java-driver:3.12.11&quot;\r\n    implementation &quot;commons-io:commons-io:2.11.0&quot;\r\n    implementation &quot;co.aikar:acf-paper:0.5.1-SNAPSHOT&quot;\r\n    implementation &quot;org.ocpsoft.prettytime:prettytime:5.0.3.Final&quot;\r\n    implementation &quot;commons-lang:commons-lang:2.6&quot;\r\n}\r\n```\r\n\r\nHere is the settings.gradle file:\r\n```\r\npluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://papermc.io/repo/repository/maven-public/&quot; }\r\n    }\r\n}\r\n\r\nrootProject.name = &#39;version-two&#39;\r\n\r\ninclude(&#39;:PixliesCore&#39;)\r\ninclude(&#39;:LobbyModule&#39;)\r\ninclude(&#39;:MiniMick&#39;)\r\ninclude(&#39;:ProtoBusiness&#39;)\r\ninclude(&#39;:PixliesFun&#39;)\r\ninclude(&#39;:Nations&#39;)\r\ninclude(&#39;:DiploMaurice&#39;)\r\ninclude(&#39;:PixliesProxyCore&#39;)\r\n```\r\n\r\nThe PixliesCore project is having these issues with the &quot;Cannot find symbol&quot; error. Here is the `PixliesCore` subproject build.gradle file:\r\n```clojure\r\nplugins {\r\n    id &#39;net.pixlies.java-conventions&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.github.stefvanschie.inventoryframework:IF:0.10.7&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    implementation &#39;redis.clients:jedis:4.2.3&#39;\r\n    implementation &#39;joda-time:joda-time:2.11.1&#39;\r\n    compileOnly &#39;org.purpurmc.purpur:purpur-api:1.19-R0.1-SNAPSHOT&#39;\r\n    compileOnly &#39;com.comphenix.protocol:ProtocolLib:4.7.0&#39;\r\n    compileOnly &#39;me.clip:placeholderapi:2.11.2&#39;\r\n    compileOnly &#39;net.luckperms:api:5.4&#39;\r\n}\r\n\r\ndescription = &#39;PixliesCore&#39;\r\n```\r\n\r\nI also ran `./gradlew assemble` in the mother project&#39;s directory. Here is the output:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:PixliesCore:compileJava&#39;.\r\n&gt; invalid source release: 17\r\n```\r\nPerhaps this &quot;invalid source release&quot; is the cause, but I do not know what it means or how to fix it. I&#39;m using the Java 17 SDK for everything.\r\n\r\nOh, also, here is the original POM.xml for the mother project:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;PixliesCore&lt;/module&gt;\r\n        &lt;module&gt;Nations&lt;/module&gt;\r\n        &lt;module&gt;MiniMick&lt;/module&gt;\r\n        &lt;module&gt;LobbyModule&lt;/module&gt;\r\n        &lt;module&gt;PixliesFun&lt;/module&gt;\r\n        &lt;module&gt;PixliesProxyCore&lt;/module&gt;\r\n        &lt;module&gt;DiploMaurice&lt;/module&gt;\r\n        &lt;module&gt;ProtoBusiness&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;groupId&gt;net.pixlies&lt;/groupId&gt;\r\n    &lt;artifactId&gt;version-two&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;co.aikar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;acf-paper&lt;/artifactId&gt;\r\n            &lt;version&gt;0.5.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ocpsoft.prettytime&lt;/groupId&gt;\r\n            &lt;artifactId&gt;prettytime&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;purpur&lt;/id&gt;\r\n            &lt;url&gt;https://repo.purpurmc.org/snapshots&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;aikar&lt;/id&gt;\r\n            &lt;url&gt;https://repo.aikar.co/content/groups/aikar/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;placeholderapi&lt;/id&gt;\r\n                &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;dmulloy2-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.dmulloy2.net/repository/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd the POM.xml for the `PixliesCore` subproject:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;version-two&lt;/artifactId&gt;\r\n        &lt;groupId&gt;net.pixlies&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;PixliesCore&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;aikar&lt;/id&gt;\r\n            &lt;url&gt;https://repo.aikar.co/content/groups/aikar/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.stefvanschie.inventoryframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;IF&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.purpurmc.purpur&lt;/groupId&gt;\r\n            &lt;artifactId&gt;purpur-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.comphenix.protocol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ProtocolLib&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;clean package&lt;/defaultGoal&gt;\r\n        &lt;finalName&gt;PixliesCore&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Java project does not compile after switching from Maven to Gradle with &quot;cannot find symbol&quot; errors","body":"<p>I had a Maven project, which I then switched to Gradle. I am now attempting to compile the Gradle project, but it isn't compiling, even if it was building and compiling successfully when I used Maven.</p>\n<p>I ran <code>gradle init</code> to convert my project to Gradle and it stopped compiling and gave me the &quot;cannot find symbol&quot; errors. It seems as though Gradle cannot find many classes, including the <code>Main</code> class.</p>\n<p>I have effectively read through the post: <a href=\"https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a> and I was unable to fix my issue. I know it's a compilation error, but I don't know what's causing it. I didn't change the code when I switched from Maven to Gradle, only the build files.</p>\n<p>Here is an example of one of the errors:</p>\n<pre><code>        Main instance = Main.getInstance();\n                            ^\n  symbol:   method getInstance()\n  location: class Main\n</code></pre>\n<p>Note: the build is a multi-project build. It has several subprojects. Here is the mother build.gradle file:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>plugins {\n    id &quot;java&quot;\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot;\n    id &quot;war&quot;\n}\n\ngroup &quot;net.pixlies&quot;\nversion &quot;1.0-SNAPSHOT&quot;\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n\nsubprojects {\n    compileJava.options.encoding = &quot;UTF-8&quot;\n\n    apply plugin: &quot;java&quot;\n    apply plugin: &quot;war&quot;\n    apply plugin: &quot;com.github.johnrengelman.shadow&quot;\n\n    compileJava {\n        sourceCompatibility = 17\n        targetCompatibility = 17\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url &quot;https://repo.purpurmc.org/snapshots/&quot; }\n    maven { url &quot;https://repo.extendedclip.com/content/repositories/placeholderapi/&quot; }\n    maven { url &quot;https://repo.aikar.co/content/groups/aikar/&quot; }\n    maven { url &quot;https://repo.dmulloy2.net/repository/public/&quot; }\n}\n\ndependencies {\n    implementation &quot;org.mongodb:mongo-java-driver:3.12.11&quot;\n    implementation &quot;commons-io:commons-io:2.11.0&quot;\n    implementation &quot;co.aikar:acf-paper:0.5.1-SNAPSHOT&quot;\n    implementation &quot;org.ocpsoft.prettytime:prettytime:5.0.3.Final&quot;\n    implementation &quot;commons-lang:commons-lang:2.6&quot;\n}\n</code></pre>\n<p>Here is the settings.gradle file:</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        maven { url &quot;https://papermc.io/repo/repository/maven-public/&quot; }\n    }\n}\n\nrootProject.name = 'version-two'\n\ninclude(':PixliesCore')\ninclude(':LobbyModule')\ninclude(':MiniMick')\ninclude(':ProtoBusiness')\ninclude(':PixliesFun')\ninclude(':Nations')\ninclude(':DiploMaurice')\ninclude(':PixliesProxyCore')\n</code></pre>\n<p>The PixliesCore project is having these issues with the &quot;Cannot find symbol&quot; error. Here is the <code>PixliesCore</code> subproject build.gradle file:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>plugins {\n    id 'net.pixlies.java-conventions'\n}\n\ndependencies {\n    implementation 'com.github.stefvanschie.inventoryframework:IF:0.10.7'\n    implementation 'org.projectlombok:lombok:1.18.24'\n    implementation 'redis.clients:jedis:4.2.3'\n    implementation 'joda-time:joda-time:2.11.1'\n    compileOnly 'org.purpurmc.purpur:purpur-api:1.19-R0.1-SNAPSHOT'\n    compileOnly 'com.comphenix.protocol:ProtocolLib:4.7.0'\n    compileOnly 'me.clip:placeholderapi:2.11.2'\n    compileOnly 'net.luckperms:api:5.4'\n}\n\ndescription = 'PixliesCore'\n</code></pre>\n<p>I also ran <code>./gradlew assemble</code> in the mother project's directory. Here is the output:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':PixliesCore:compileJava'.\n&gt; invalid source release: 17\n</code></pre>\n<p>Perhaps this &quot;invalid source release&quot; is the cause, but I do not know what it means or how to fix it. I'm using the Java 17 SDK for everything.</p>\n<p>Oh, also, here is the original POM.xml for the mother project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;PixliesCore&lt;/module&gt;\n        &lt;module&gt;Nations&lt;/module&gt;\n        &lt;module&gt;MiniMick&lt;/module&gt;\n        &lt;module&gt;LobbyModule&lt;/module&gt;\n        &lt;module&gt;PixliesFun&lt;/module&gt;\n        &lt;module&gt;PixliesProxyCore&lt;/module&gt;\n        &lt;module&gt;DiploMaurice&lt;/module&gt;\n        &lt;module&gt;ProtoBusiness&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;groupId&gt;net.pixlies&lt;/groupId&gt;\n    &lt;artifactId&gt;version-two&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.12.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;co.aikar&lt;/groupId&gt;\n            &lt;artifactId&gt;acf-paper&lt;/artifactId&gt;\n            &lt;version&gt;0.5.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ocpsoft.prettytime&lt;/groupId&gt;\n            &lt;artifactId&gt;prettytime&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;purpur&lt;/id&gt;\n            &lt;url&gt;https://repo.purpurmc.org/snapshots&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;aikar&lt;/id&gt;\n            &lt;url&gt;https://repo.aikar.co/content/groups/aikar/&lt;/url&gt;\n        &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;placeholderapi&lt;/id&gt;\n                &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;dmulloy2-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.dmulloy2.net/repository/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And the POM.xml for the <code>PixliesCore</code> subproject:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;version-two&lt;/artifactId&gt;\n        &lt;groupId&gt;net.pixlies&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;PixliesCore&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;aikar&lt;/id&gt;\n            &lt;url&gt;https://repo.aikar.co/content/groups/aikar/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.stefvanschie.inventoryframework&lt;/groupId&gt;\n            &lt;artifactId&gt;IF&lt;/artifactId&gt;\n            &lt;version&gt;0.10.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.purpurmc.purpur&lt;/groupId&gt;\n            &lt;artifactId&gt;purpur-api&lt;/artifactId&gt;\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.comphenix.protocol&lt;/groupId&gt;\n            &lt;artifactId&gt;ProtocolLib&lt;/artifactId&gt;\n            &lt;version&gt;4.7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\n            &lt;version&gt;2.11.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;5.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;clean package&lt;/defaultGoal&gt;\n        &lt;finalName&gt;PixliesCore&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","keyboard","focus","android-activity"],"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1460049301,"post_id":14759253,"comment_id":60575414,"body_markdown":"I find it is better to NOT check Focusable on the TextEdit.","body":"I find it is better to NOT check Focusable on the TextEdit."},{"owner":{"account_id":301220,"reputation":11559,"user_id":608805,"display_name":"raukodraug"},"score":0,"creation_date":1495318208,"post_id":14759253,"comment_id":75204125,"body_markdown":"Possible duplicate of [How to show soft-keyboard when edittext is focused](http://stackoverflow.com/questions/5105354/how-to-show-soft-keyboard-when-edittext-is-focused)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/5105354/how-to-show-soft-keyboard-when-edittext-is-focused\">How to show soft-keyboard when edittext is focused</a>"}],"answers":[{"comments":[{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360266910,"post_id":14759433,"comment_id":20658553,"body_markdown":"I have got a dialogfragment and did this: edPswrd.requestFocus();\n\t\tgetActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE); It doesn&#39;t work :(","body":"I have got a dialogfragment and did this: edPswrd.requestFocus(); \t\tgetActivity().getWindow().setSoftInputMode(WindowManager.L&zwnj;&#8203;ayoutParams.SOFT_INP&zwnj;&#8203;UT_STATE_VISIBLE); It doesn&#39;t work :("},{"owner":{"account_id":1793260,"reputation":2042,"user_id":1633225,"display_name":"Konrad Winkowski"},"score":0,"creation_date":1360267673,"post_id":14759433,"comment_id":20658919,"body_markdown":"which part, the focus on the dialogfrag or the keyboad comming up ?","body":"which part, the focus on the dialogfrag or the keyboad comming up ?"},{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360268519,"post_id":14759433,"comment_id":20659308,"body_markdown":"there is still no keyboard on screen when dialog appears","body":"there is still no keyboard on screen when dialog appears"},{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360269627,"post_id":14759433,"comment_id":20659833,"body_markdown":"It works like this: getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE); Thank you!","body":"It works like this: getDialog().getWindow().setSoftInputMode(WindowManager.Layou&zwnj;&#8203;tParams.SOFT_INPUT_S&zwnj;&#8203;TATE_VISIBLE); Thank you!"}],"tags":[],"owner":{"account_id":1793260,"reputation":2042,"user_id":1633225,"display_name":"Konrad Winkowski"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1360265551,"creation_date":1360265551,"answer_id":14759433,"question_id":14759253,"body_markdown":"add to onCreate or onStart();\r\n\r\n    myView.requestFocus();\r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);","title":"Show keyboard automatically","body":"<p>add to onCreate or onStart();</p>\n\n<pre><code>myView.requestFocus();\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360266593,"post_id":14759459,"comment_id":20658398,"body_markdown":"ok, thank you, it worked for the activity, and it didn&#39;t suit for dialogs.","body":"ok, thank you, it worked for the activity, and it didn&#39;t suit for dialogs."},{"owner":{"account_id":3201731,"reputation":817,"user_id":2703659,"accept_rate":100,"display_name":"sepehr"},"score":1,"creation_date":1469989681,"post_id":14759459,"comment_id":64753477,"body_markdown":"what about viewpager?!","body":"what about viewpager?!"}],"tags":[],"owner":{"account_id":1333420,"reputation":1029,"user_id":1276747,"display_name":"manpreet singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1360265622,"creation_date":1360265622,"answer_id":14759459,"question_id":14759253,"body_markdown":"Open the Android Manifest file.\r\n\r\nLook for the activity tag like this\r\n\r\n    &lt;activity  \r\n            android:name=&quot;com.example.framework.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; \r\n            android:windowSoftInputMode=&quot;stateVisible&quot;       //Add this line    \r\n             &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nAdd the line android:windowSoftInputMode=&quot;stateVisible&quot;  as shown above","title":"Show keyboard automatically","body":"<p>Open the Android Manifest file.</p>\n\n<p>Look for the activity tag like this</p>\n\n<pre><code>&lt;activity  \n        android:name=\"com.example.framework.MainActivity\"\n        android:label=\"@string/app_name\" \n        android:windowSoftInputMode=\"stateVisible\"       //Add this line    \n         &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Add the line android:windowSoftInputMode=\"stateVisible\"  as shown above</p>\n"},{"comments":[{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":1,"creation_date":1360267137,"post_id":14759538,"comment_id":20658661,"body_markdown":"I tried, but not one of method here doesn&#39;t work with my dialogfragment. I did this: InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n\t\timm.showSoftInput(edPswrd, InputMethodManager.SHOW_IMPLICIT);  And it doesn&#39;t work :(","body":"I tried, but not one of method here doesn&#39;t work with my dialogfragment. I did this: InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE)&zwnj;&#8203;; \t\timm.showSoftInput(edPswrd, InputMethodManager.SHOW_IMPLICIT);  And it doesn&#39;t work :("},{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360268583,"post_id":14759538,"comment_id":20659332,"body_markdown":"thank you. I imported android.view.ViewGroup.LayoutParams but still there is a error SOFT_INPUT_STATE_VISIBLE cannot be resolved or is not a field","body":"thank you. I imported android.view.ViewGroup.LayoutParams but still there is a error SOFT_INPUT_STATE_VISIBLE cannot be resolved or is not a field"},{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":2,"creation_date":1360268665,"post_id":14759538,"comment_id":20659370,"body_markdown":"I also did this: getActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE); like in advise below but keyboard still doesn&#39;t appear","body":"I also did this: getActivity().getWindow().setSoftInputMode(WindowManager.Lay&zwnj;&#8203;outParams.SOFT_INPUT&zwnj;&#8203;_STATE_VISIBLE); like in advise below but keyboard still doesn&#39;t appear"},{"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"score":0,"creation_date":1360269573,"post_id":14759538,"comment_id":20659802,"body_markdown":"also I just tried you &quot;hide keyboard&quot; on other activity, wrote this InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(editText.getWindowToken(), 0); in onCreate() but keyboard appears :(","body":"also I just tried you &quot;hide keyboard&quot; on other activity, wrote this InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SE&zwnj;&#8203;RVICE); imm.hideSoftInputFromWindow(editText.getWindowToken(), 0); in onCreate() but keyboard appears :("},{"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"score":0,"creation_date":1430235417,"post_id":14759538,"comment_id":47969113,"body_markdown":"I got it to work in onCreateDialog also. See [my response](http://stackoverflow.com/questions/14759253/show-keyboard-automatically/29923690#29923690)","body":"I got it to work in onCreateDialog also. See <a href=\"http://stackoverflow.com/questions/14759253/show-keyboard-automatically/29923690#29923690\">my response</a>"},{"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"score":0,"creation_date":1484763422,"post_id":14759538,"comment_id":70647751,"body_markdown":"How do you get the keyboard to disappear after you dismiss the dialog? The keyboard stays up even after dismissing the dialog if you use `getDialog().getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_VISIBLE);`.","body":"How do you get the keyboard to disappear after you dismiss the dialog? The keyboard stays up even after dismissing the dialog if you use <code>getDialog().getWindow().setSoftInputMode(LayoutParams.SOFT_I&zwnj;&#8203;NPUT_STATE_VISIBLE);</code>&zwnj;&#8203;."}],"tags":[],"owner":{"account_id":2039052,"reputation":16000,"user_id":1820695,"display_name":"andr"},"comment_count":6,"down_vote_count":2,"up_vote_count":81,"is_accepted":true,"score":79,"last_activity_date":1671929056,"creation_date":1360265857,"answer_id":14759538,"question_id":14759253,"body_markdown":"I think it&#39;s a bug or a feature which tries to present the whole activity to you without obscuring it with the soft keyboard at first. I&#39;ve searched once for information regarding that but unfortunately found nothing coming from a really reliable source.\r\n\r\nAnyway, to show the soft keyboard you can do this:\r\n\r\n    EditText editText = (EditText)findViewById(R.id.edit_text_id);\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.showSoftInput(editText, InputMethodManager.SHOW_IMPLICIT);\r\n\r\nI&#39;ve also seen this code that should force the soft keyboard to become visible just after activity start, but never tried it:\r\n\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY);\r\n\r\nAnd if you want to hide soft keyboard you can do this:\r\n\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\r\n\r\n**Edit:**\r\n\r\nFor a `DialogFragment` this should work: in the `onCreateView()` method do this:\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_id, container);\r\n        EditText editText = (EditText)view.findViewById(R.id.edit_text_id);\r\n\r\n        // show soft keyboard\r\n        editText.requestFocus();\r\n        getDialog().getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_VISIBLE);\r\n\r\n        return view;\r\n    }","title":"Show keyboard automatically","body":"<p>I think it's a bug or a feature which tries to present the whole activity to you without obscuring it with the soft keyboard at first. I've searched once for information regarding that but unfortunately found nothing coming from a really reliable source.</p>\n<p>Anyway, to show the soft keyboard you can do this:</p>\n<pre><code>EditText editText = (EditText)findViewById(R.id.edit_text_id);\nInputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(editText, InputMethodManager.SHOW_IMPLICIT);\n</code></pre>\n<p>I've also seen this code that should force the soft keyboard to become visible just after activity start, but never tried it:</p>\n<pre><code>InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY);\n</code></pre>\n<p>And if you want to hide soft keyboard you can do this:</p>\n<pre><code>InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>For a <code>DialogFragment</code> this should work: in the <code>onCreateView()</code> method do this:</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_id, container);\n    EditText editText = (EditText)view.findViewById(R.id.edit_text_id);\n\n    // show soft keyboard\n    editText.requestFocus();\n    getDialog().getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n\n    return view;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558708,"reputation":741,"user_id":2971719,"display_name":"ls.illarionov"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399899208,"creation_date":1399899208,"answer_id":23609634,"question_id":14759253,"body_markdown":"Try this\r\n\r\n    @Override\r\n    public void onResume() {\r\n       super.onResume();\r\n       final View v = getDialog().findViewById(R.id.edit_text_id);\r\n       v.post(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            v.requestFocus();\r\n            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            if (imm != null) imm.showSoftInput(v, InputMethodManager.SHOW_IMPLICIT);\r\n          }\r\n       });\r\n     }","title":"Show keyboard automatically","body":"<p>Try this</p>\n\n<pre><code>@Override\npublic void onResume() {\n   super.onResume();\n   final View v = getDialog().findViewById(R.id.edit_text_id);\n   v.post(new Runnable() {\n      @Override\n      public void run() {\n        v.requestFocus();\n        InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (imm != null) imm.showSoftInput(v, InputMethodManager.SHOW_IMPLICIT);\n      }\n   });\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1385406,"reputation":5308,"user_id":1317571,"accept_rate":50,"display_name":"JerabekJakub"},"score":0,"creation_date":1483635595,"post_id":29923690,"comment_id":70186770,"body_markdown":"I had to use SOFT_INPUT_STATE_ALWAYS_VISIBLE to show keyboard (Nexus 5). Anyway, thanks for the solution in onCreateView() method.","body":"I had to use SOFT_INPUT_STATE_ALWAYS_VISIBLE to show keyboard (Nexus 5). Anyway, thanks for the solution in onCreateView() method."},{"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"score":0,"creation_date":1484763543,"post_id":29923690,"comment_id":70647805,"body_markdown":"How do you dismiss the keyboard if you use this method of showing the keyboard?","body":"How do you dismiss the keyboard if you use this method of showing the keyboard?"},{"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"score":0,"creation_date":1484764939,"post_id":29923690,"comment_id":70648592,"body_markdown":"same as always. Check [this](http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard) and [this](http://stackoverflow.com/questions/1109022/close-hide-the-android-soft-keyboard)","body":"same as always. Check <a href=\"http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard\">this</a> and <a href=\"http://stackoverflow.com/questions/1109022/close-hide-the-android-soft-keyboard\">this</a>"}],"tags":[],"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1430235211,"creation_date":1430235211,"answer_id":29923690,"question_id":14759253,"body_markdown":"I know this has already been answered, but I found a way to do the accepted answer in `onCreateDialog` instead of just in `onCreateView`. When you finish with the builder, before you return do the following:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());  \r\n    // blah blah blah do builder stuff here like setTitle, setView, etc\r\n    \r\n    Dialog d = builder.create();\r\n\r\nHere&#39;s the important part:\r\n\r\n    d.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\r\n    return d;\r\n\r\n","title":"Show keyboard automatically","body":"<p>I know this has already been answered, but I found a way to do the accepted answer in <code>onCreateDialog</code> instead of just in <code>onCreateView</code>. When you finish with the builder, before you return do the following:</p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());  \n// blah blah blah do builder stuff here like setTitle, setView, etc\n\nDialog d = builder.create();\n</code></pre>\n\n<p>Here's the important part:</p>\n\n<pre><code>d.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\nreturn d;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2212818,"reputation":559,"user_id":1954172,"accept_rate":62,"display_name":"v01d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474626778,"creation_date":1474626778,"answer_id":39658629,"question_id":14759253,"body_markdown":"This is what worked for me - \r\n\r\nCreate your own EditText class and override following method - \r\n\r\n    public class FocussableEditText extends EditText {\r\n    \r\n        public FocussableEditText(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public FocussableEditText(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public FocussableEditText(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n        }\r\n    \r\n        @Override\r\n        public void onWindowFocusChanged(boolean hasWindowFocus) {\r\n            super.onWindowFocusChanged(hasWindowFocus);\r\n            if (hasWindowFocus) {\r\n                InputMethodManager imm = (InputMethodManager)getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.showSoftInput(this, InputMethodManager.SHOW_FORCED);\r\n            }\r\n        }\r\n    }\r\n\r\n[http://debuggingisfun.blogspot.in/2014/08/android-show-soft-keyboard.html][1]\r\n\r\n\r\n  [1]: http://debuggingisfun.blogspot.in/2014/08/android-show-soft-keyboard.html","title":"Show keyboard automatically","body":"<p>This is what worked for me - </p>\n\n<p>Create your own EditText class and override following method - </p>\n\n<pre><code>public class FocussableEditText extends EditText {\n\n    public FocussableEditText(Context context) {\n        super(context);\n    }\n\n    public FocussableEditText(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public FocussableEditText(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    public void onWindowFocusChanged(boolean hasWindowFocus) {\n        super.onWindowFocusChanged(hasWindowFocus);\n        if (hasWindowFocus) {\n            InputMethodManager imm = (InputMethodManager)getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.showSoftInput(this, InputMethodManager.SHOW_FORCED);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"http://debuggingisfun.blogspot.in/2014/08/android-show-soft-keyboard.html\" rel=\"nofollow\">http://debuggingisfun.blogspot.in/2014/08/android-show-soft-keyboard.html</a></p>\n"},{"tags":[],"owner":{"account_id":2168664,"reputation":1978,"user_id":1921204,"accept_rate":77,"display_name":"MohanRaj S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484141033,"creation_date":1484141033,"answer_id":41592133,"question_id":14759253,"body_markdown":"I Recommend the following link, i was followed the steps which is mentioned below link, perfectly working, it&#39;s pretty good answer, done in very simple steps. credit goes to answered person. hope it will helps the person who mess-up with keyboard popup on dialog activity.\r\n\r\nhttps://stackoverflow.com/questions/17237952/dialogfragment-and-force-to-show-keyboard","title":"Show keyboard automatically","body":"<p>I Recommend the following link, i was followed the steps which is mentioned below link, perfectly working, it's pretty good answer, done in very simple steps. credit goes to answered person. hope it will helps the person who mess-up with keyboard popup on dialog activity.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17237952/dialogfragment-and-force-to-show-keyboard\">DialogFragment and force to show keyboard</a></p>\n"},{"tags":[],"owner":{"account_id":3622000,"reputation":383,"user_id":3020488,"display_name":"other Tall guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510212061,"creation_date":1510212061,"answer_id":47196092,"question_id":14759253,"body_markdown":"for me by adding this line **android:windowSoftInputMode=&quot;stateVisible&quot;** in your manifest  like this \r\n\r\n \r\n\r\n    **&lt;activity\r\n                android:name=&quot;.mmmmm.zzzzzzz.yyyyyy.xxxxxx&quot;\r\n                android:windowSoftInputMode=&quot;stateVisible&quot;\r\n                android:label=&quot;@string/title_activity_print_recharge&quot;&gt;&lt;/activity&gt;**\r\n\r\nthis is how I solved it","title":"Show keyboard automatically","body":"<p>for me by adding this line <strong>android:windowSoftInputMode=\"stateVisible\"</strong> in your manifest  like this </p>\n\n<pre><code>**&lt;activity\n            android:name=\".mmmmm.zzzzzzz.yyyyyy.xxxxxx\"\n            android:windowSoftInputMode=\"stateVisible\"\n            android:label=\"@string/title_activity_print_recharge\"&gt;&lt;/activity&gt;**\n</code></pre>\n\n<p>this is how I solved it</p>\n"},{"tags":[],"owner":{"account_id":1790120,"reputation":1349,"user_id":1630736,"accept_rate":54,"display_name":"Sold Out"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520527145,"creation_date":1520527145,"answer_id":49178133,"question_id":14759253,"body_markdown":"This is what I did and it works nice...\r\n\r\nYou can use the \r\n\r\n&gt; Utilities.showSoftKeyboard(...)\r\n\r\n anywhere across your code\r\n\r\n    public final class Utilities {\r\n    \r\n      // Shows the soft keyboard. V on which view (typically EditText) to focus the keyboard input\r\n      public static void showSoftKeyboard(Activity activity, EditText editText) \r\n      {\r\n          InputMethodManager imm = (InputMethodManager) activity.getSystemService(Context.INPUT_METHOD_SERVICE);\r\n          imm.showSoftInput(editText, InputMethodManager.SHOW_FORCED);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Called when user clicks/touches the search button\r\n     * @param v The clicked/touched view (EditText)\r\n     */\r\n    protected void onSearchButtonClick(View v)\r\n    {\r\n        EditText seekTopic = (EditText) findViewById(R.id.SeekTopicBox);\r\n        setActivityContent(seekTopic.getText().toString());\r\n    }\r\n    \r\nThe \r\n\r\n&gt; onSearchButtonClick()\r\n\r\n method belongs to the activity, which hold the EditView which I want to edit and therefore I need the soft keyboard..\r\n\r\nHTH","title":"Show keyboard automatically","body":"<p>This is what I did and it works nice...</p>\n\n<p>You can use the </p>\n\n<blockquote>\n  <p>Utilities.showSoftKeyboard(...)</p>\n</blockquote>\n\n<p>anywhere across your code</p>\n\n<pre><code>public final class Utilities {\n\n  // Shows the soft keyboard. V on which view (typically EditText) to focus the keyboard input\n  public static void showSoftKeyboard(Activity activity, EditText editText) \n  {\n      InputMethodManager imm = (InputMethodManager) activity.getSystemService(Context.INPUT_METHOD_SERVICE);\n      imm.showSoftInput(editText, InputMethodManager.SHOW_FORCED);\n  }\n}\n\n/**\n * Called when user clicks/touches the search button\n * @param v The clicked/touched view (EditText)\n */\nprotected void onSearchButtonClick(View v)\n{\n    EditText seekTopic = (EditText) findViewById(R.id.SeekTopicBox);\n    setActivityContent(seekTopic.getText().toString());\n}\n</code></pre>\n\n<p>The </p>\n\n<blockquote>\n  <p>onSearchButtonClick()</p>\n</blockquote>\n\n<p>method belongs to the activity, which hold the EditView which I want to edit and therefore I need the soft keyboard..</p>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":10126189,"reputation":2319,"user_id":7481448,"display_name":"Aminul Haque Aome"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653291850,"creation_date":1653291850,"answer_id":72344912,"question_id":14759253,"body_markdown":"First I add `requestFocus` tag in my EditText\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatEditText\r\n                        android:id=&quot;@+id/mobile_number_edit_text&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:background=&quot;@null&quot;\r\n                        android:hint=&quot;@string/give_mobile_number&quot;\r\n                        android:inputType=&quot;number&quot;\r\n                        android:maxLength=&quot;11&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:textColor=&quot;@color/body&quot;\r\n                        android:textSize=&quot;@dimen/_13ssp&quot;\r\n                        app:fontFamily=&quot;@font/hkgrotesk_regular&quot;\r\n                        &gt;\r\n    \r\n                        &lt;requestFocus /&gt;\r\n    \r\n    &lt;/androidx.appcompat.widget.AppCompatEditText&gt;\r\n\r\n\r\nthen I create an extension function to open Keyboard. Here it is\r\n\r\n    fun Activity.showKeyboard() {\r\n        val imm = this.getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n    \r\n        var view = this.currentFocus\r\n        if (view == null) view = View(this)\r\n    \r\n        imm.showSoftInput(view, 0)\r\n    }\r\n\r\nAfter that, call `showKeyboard()` in my Fragment\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n    \r\n    \r\n            activity?.showKeyboard()\r\n\r\n            ... ... ... Your other code ... ... ...\r\n    }","title":"Show keyboard automatically","body":"<p>First I add <code>requestFocus</code> tag in my EditText</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatEditText\n                    android:id=&quot;@+id/mobile_number_edit_text&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;@null&quot;\n                    android:hint=&quot;@string/give_mobile_number&quot;\n                    android:inputType=&quot;number&quot;\n                    android:maxLength=&quot;11&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:textColor=&quot;@color/body&quot;\n                    android:textSize=&quot;@dimen/_13ssp&quot;\n                    app:fontFamily=&quot;@font/hkgrotesk_regular&quot;\n                    &gt;\n\n                    &lt;requestFocus /&gt;\n\n&lt;/androidx.appcompat.widget.AppCompatEditText&gt;\n</code></pre>\n<p>then I create an extension function to open Keyboard. Here it is</p>\n<pre><code>fun Activity.showKeyboard() {\n    val imm = this.getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n\n    var view = this.currentFocus\n    if (view == null) view = View(this)\n\n    imm.showSoftInput(view, 0)\n}\n</code></pre>\n<p>After that, call <code>showKeyboard()</code> in my Fragment</p>\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n\n        activity?.showKeyboard()\n\n        ... ... ... Your other code ... ... ...\n}\n</code></pre>\n"}],"owner":{"account_id":1972362,"reputation":991,"user_id":1770972,"accept_rate":68,"display_name":"Foenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64819,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":14759538,"answer_count":10,"score":52,"last_activity_date":1671929056,"creation_date":1360264884,"question_id":14759253,"body_markdown":"Please explain me the issue about soft keyboard.\r\nFor example, I have an EditText on my activity or dialogfragment or fragmentactivity, whatever.\r\nhere it is:\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edPswrd&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPassword&quot; &gt;\r\n\r\n        &lt;requestFocus /&gt;\r\n    &lt;/EditText&gt;\r\n\r\nWhen it shows for the first time I do not see the soft keyboard and have to press editText for it to receive focus and the keyboard appears. Another activities are different, when it appears on screen the keyboard are loaded without any help.\r\nI thought that \r\n\r\n&gt; &lt; requestFocus /&gt;\r\n\r\nmeans that EditText will be focused and keyboard will appear, but I am wrong.\r\n\r\nHow should I manage what component will receive focus and keyboard will **automatically** appear.","title":"Show keyboard automatically","body":"<p>Please explain me the issue about soft keyboard.\nFor example, I have an EditText on my activity or dialogfragment or fragmentactivity, whatever.\nhere it is:</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/edPswrd\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:ems=\"10\"\n    android:inputType=\"textPassword\" &gt;\n\n    &lt;requestFocus /&gt;\n&lt;/EditText&gt;\n</code></pre>\n\n<p>When it shows for the first time I do not see the soft keyboard and have to press editText for it to receive focus and the keyboard appears. Another activities are different, when it appears on screen the keyboard are loaded without any help.\nI thought that </p>\n\n<blockquote>\n  <p>&lt; requestFocus /></p>\n</blockquote>\n\n<p>means that EditText will be focused and keyboard will appear, but I am wrong.</p>\n\n<p>How should I manage what component will receive focus and keyboard will <strong>automatically</strong> appear.</p>\n"},{"tags":["java","android","nfc"],"comments":[{"owner":{"account_id":924858,"reputation":2647,"user_id":955836,"accept_rate":52,"display_name":"Zookey"},"score":0,"creation_date":1683189557,"post_id":74910790,"comment_id":134329245,"body_markdown":"Have you managed to solve it?","body":"Have you managed to solve it?"}],"owner":{"account_id":17388216,"reputation":27,"user_id":12599153,"display_name":"hunny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671928186,"creation_date":1671923641,"question_id":74910790,"body_markdown":"I tagged nfc after running the app I made.\r\n\r\nAfter the tag, newIntent is executed, but getAction() always return null.\r\n\r\nI have attached java code and xml code.\r\n\r\nPlease.\r\n\r\nPlease tell me the solution.\r\n\r\nbellow code is java code\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView nfcText;\r\n    private final String[][] techList = new String[][] {\r\n            new String[] {NfcA.class.getName(), NfcB.class.getName(),\r\n                    NfcF.class.getName(), NfcV.class.getName(),\r\n                    NdefFormatable.class.getName(), TagTechnology.class.getName(),\r\n                    IsoDep.class.getName(), MifareClassic.class.getName(),\r\n                    MifareUltralight.class.getName(), Ndef.class.getName()}\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this,\r\n                getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        IntentFilter filter = new IntentFilter();\r\n        //filter.addCategory(Intent.CATEGORY_DEFAULT);\r\n\r\n        filter.addAction(NfcAdapter.ACTION_TAG_DISCOVERED);\r\n        filter.addAction(NfcAdapter.ACTION_NDEF_DISCOVERED);\r\n        filter.addAction(NfcAdapter.ACTION_TECH_DISCOVERED);\r\n        NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, new IntentFilter[]{filter}, this.techList);\r\n    }\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        //super.onNewIntent(intent);\r\n        //setIntent(intent);\r\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction()) ||\r\n                NfcAdapter.ACTION_NDEF_DISCOVERED.equals(intent.getAction()) ||\r\n                NfcAdapter.ACTION_TECH_DISCOVERED.equals(intent.getAction())) {\r\n            nfcText = (TextView) findViewById(R.id.nfcText);\r\n            nfcText.setText(byteArrayToHexString(intent.getByteArrayExtra(NfcAdapter.EXTRA_ID)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe picture below is the param value when checking intent.getAction().\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sAlVj.png\r\n\r\nand bellow code is androidManifest.xml code\r\n\r\nandroidManifest\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.nfcactivity&quot;&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;10&quot;&gt;&lt;/uses-sdk&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.NfcActivity&quot;&gt;\r\n        &lt;activity &gt;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"intent.getAction() is always null inside onNewIntent() when NFC tag scan","body":"<p>I tagged nfc after running the app I made.</p>\n<p>After the tag, newIntent is executed, but getAction() always return null.</p>\n<p>I have attached java code and xml code.</p>\n<p>Please.</p>\n<p>Please tell me the solution.</p>\n<p>bellow code is java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    TextView nfcText;\n    private final String[][] techList = new String[][] {\n            new String[] {NfcA.class.getName(), NfcB.class.getName(),\n                    NfcF.class.getName(), NfcV.class.getName(),\n                    NdefFormatable.class.getName(), TagTechnology.class.getName(),\n                    IsoDep.class.getName(), MifareClassic.class.getName(),\n                    MifareUltralight.class.getName(), Ndef.class.getName()}\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this,\n                getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\n\n        IntentFilter filter = new IntentFilter();\n        //filter.addCategory(Intent.CATEGORY_DEFAULT);\n\n        filter.addAction(NfcAdapter.ACTION_TAG_DISCOVERED);\n        filter.addAction(NfcAdapter.ACTION_NDEF_DISCOVERED);\n        filter.addAction(NfcAdapter.ACTION_TECH_DISCOVERED);\n        NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, new IntentFilter[]{filter}, this.techList);\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        //super.onNewIntent(intent);\n        //setIntent(intent);\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction()) ||\n                NfcAdapter.ACTION_NDEF_DISCOVERED.equals(intent.getAction()) ||\n                NfcAdapter.ACTION_TECH_DISCOVERED.equals(intent.getAction())) {\n            nfcText = (TextView) findViewById(R.id.nfcText);\n            nfcText.setText(byteArrayToHexString(intent.getByteArrayExtra(NfcAdapter.EXTRA_ID)));\n        }\n    }\n}\n</code></pre>\n<p>The picture below is the param value when checking intent.getAction().</p>\n<p><a href=\"https://i.stack.imgur.com/sAlVj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sAlVj.png\" alt=\"enter image description here\" /></a></p>\n<p>and bellow code is androidManifest.xml code</p>\n<p>androidManifest</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.nfcactivity&quot;&gt;\n    &lt;uses-sdk android:minSdkVersion=&quot;10&quot;&gt;&lt;/uses-sdk&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NfcActivity&quot;&gt;\n        &lt;activity &gt;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","android","mongodb","okhttp","mongodb-atlas"],"answers":[{"comments":[{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1671840944,"post_id":74890644,"comment_id":132187980,"body_markdown":"thanks it works, however after going through this pain I have moved on to volley which worked first time.","body":"thanks it works, however after going through this pain I have moved on to volley which worked first time."}],"tags":[],"owner":{"account_id":27328341,"reputation":11,"user_id":20840950,"display_name":"user20840950"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671723009,"creation_date":1671723009,"answer_id":74890644,"question_id":74854448,"body_markdown":"Create the request body like this:\r\n\r\n    RequestBody body = RequestBody.create(jsonStr.getBytes(StandardCharsets.UTF_8));\r\n\r\nIt seems that okhttp creates its own header based on the body (see also [this question](https://stackoverflow.com/questions/65712843/okhttp-does-not-allow-for-setting-of-content-type)) and MongoDB doesn&#39;t like the charset specifier it adds.","title":"okhttp not sending header on post request","body":"<p>Create the request body like this:</p>\n<pre><code>RequestBody body = RequestBody.create(jsonStr.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>It seems that okhttp creates its own header based on the body (see also <a href=\"https://stackoverflow.com/questions/65712843/okhttp-does-not-allow-for-setting-of-content-type\">this question</a>) and MongoDB doesn't like the charset specifier it adds.</p>\n"},{"comments":[{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1671840923,"post_id":74901068,"comment_id":132187974,"body_markdown":"thanks it works, however after going through this pain I have moved on to volley which worked first time.","body":"thanks it works, however after going through this pain I have moved on to volley which worked first time."}],"tags":[],"owner":{"account_id":27336775,"reputation":26,"user_id":20848077,"display_name":"Richard Hart"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671927944,"creation_date":1671807628,"answer_id":74901068,"question_id":74854448,"body_markdown":"I had this same issue with OkHttp3 and Apache HttpClient. user20840950 is correct. This fixes the issue at least for OkHttp3. I did not test this on Apache but I suspect it will work there too because it was producing the exact same behavior. Be sure to add the content type header. The response code should be 201 indicating the data was successfully inserted.\r\n\r\nMy Request.Builder looks like this:\r\n\r\n```java\r\nRequest request = new Request.Builder().get().url(httpUrl)\r\n    .addHeader(&quot;content-type&quot;, &quot;application/json&quot;) // content type.\r\n    .addHeader(&quot;api-key&quot;, atlasToken) // the Atlas api token.\r\n    .post(body) // Do a POST request with the given contents.\r\n    .build(); // build the Request.\r\n```","title":"okhttp not sending header on post request","body":"<p>I had this same issue with OkHttp3 and Apache HttpClient. user20840950 is correct. This fixes the issue at least for OkHttp3. I did not test this on Apache but I suspect it will work there too because it was producing the exact same behavior. Be sure to add the content type header. The response code should be 201 indicating the data was successfully inserted.</p>\n<p>My Request.Builder looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Request request = new Request.Builder().get().url(httpUrl)\n    .addHeader(&quot;content-type&quot;, &quot;application/json&quot;) // content type.\n    .addHeader(&quot;api-key&quot;, atlasToken) // the Atlas api token.\n    .post(body) // Do a POST request with the given contents.\n    .build(); // build the Request.\n</code></pre>\n"}],"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74901068,"answer_count":2,"score":0,"last_activity_date":1671927944,"creation_date":1671473933,"question_id":74854448,"body_markdown":"I am trying to send a simple post request to MongoDB using okhttp. Here is the code that I am working with:\r\n\r\n     try {\r\n                    String jsonStr = om.writeValueAsString(postRequest);\r\n                    RequestBody body = RequestBody.create(\r\n                            jsonStr, MediaType.parse(&quot;application/json; charset=utf-8&quot;));\r\n                    // also attempted with MediaType.parse(&quot;application/json&quot;)\r\n\r\n                    Request request = new Request.Builder()\r\n                            .url(insertUrl)\r\n                            .addHeader(&quot;api-key&quot;, mongoDbApiKey)\r\n                            // I have tried following ways to add content-type\r\n                            // .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                            .addHeader(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                            .post(body)\r\n                            .build();\r\n\r\n                    String req = request.toString();\r\n\r\n                    OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n                    builder.addInterceptor(new CurlInterceptor(\r\n                            new Logger() {\r\n                                @Override\r\n                                public void log(@NonNull String s) {\r\n                                    Log.v(&quot;OK2Curl&quot;, s);\r\n                                    // I copied this curl request to postman and it works from postman but for some reason does not work when run from my Android App.\r\n                                }\r\n                            }\r\n                    ));\r\n                    \r\n                   OkHttpClient client = builder.build();\r\n\r\n                    client.newCall(request).enqueue(new Callback() {\r\n                        @Override public void onFailure(Call call, IOException e) {\r\n                            e.printStackTrace();\r\n                            Toast.makeText(getActivity(), &quot;Unable to save the data.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override public void onResponse(Call call, Response response) throws IOException {\r\n                            String respString = response.body().string();\r\n                            // respString =&gt; &quot;Header missing: please add content-type: application/json or application/ejson to specify payload data types&quot;\r\n                            if(response.isSuccessful()){\r\n                                Toast.makeText(getActivity(), &quot;Data is saved.&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            else {\r\n                                Toast.makeText(getActivity(), &quot;Unable to save the data.&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\nHowever, when the code is run in my Android App it fails with the following error:\r\n\r\n&gt; Header missing: please add content-type: application/json or application/ejson to specify payload data types\r\n\r\nThe HTTP response error code is 400.\r\n\r\nClearly, I have added a header of content-type using multiple ways and the log outputs a curl request that works in postman. What am I missing here? Does the header get removed somewhere by okhttp or something else?\r\n\r\nVersion:\r\nokhttp3 version 4.10.0\r\n\r\n**UPDATE 1**\r\n\r\nI know that there are three methods to add headers in okhttp. addHeader, header and using headers builder. There is not much difference except the headers and header method override the header that is added when MediaType.parse(&quot;application/json&quot;) is passed to the request on creation. I still get 400 response regardless of the way I add the header to the request.\r\n\r\n**UPDATE 2**\r\n\r\nTo test my network and parameters such as api-key I have used postman and also Java 11 HttpClient and both methods work.\r\n\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .POST(HttpRequest.BodyPublishers.ofString(data))\r\n                .uri(URI.create(MONGO_DB_URL))\r\n                .setHeader(&quot;api-key&quot;, API_KEY)\r\n                .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n\r\nso this problem seems to be specific to `okhttp` client.\r\n\r\n**UPDATE 3**\r\n\r\nI tried the same scenario using Google&#39;s Volley HTTP library and it worked with that. So for now I can make progress on my app without okhttp.","title":"okhttp not sending header on post request","body":"<p>I am trying to send a simple post request to MongoDB using okhttp. Here is the code that I am working with:</p>\n<pre><code> try {\n                String jsonStr = om.writeValueAsString(postRequest);\n                RequestBody body = RequestBody.create(\n                        jsonStr, MediaType.parse(&quot;application/json; charset=utf-8&quot;));\n                // also attempted with MediaType.parse(&quot;application/json&quot;)\n\n                Request request = new Request.Builder()\n                        .url(insertUrl)\n                        .addHeader(&quot;api-key&quot;, mongoDbApiKey)\n                        // I have tried following ways to add content-type\n                        // .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        .addHeader(&quot;content-type&quot;, &quot;application/json&quot;)\n                        .post(body)\n                        .build();\n\n                String req = request.toString();\n\n                OkHttpClient.Builder builder = new OkHttpClient.Builder();\n                builder.addInterceptor(new CurlInterceptor(\n                        new Logger() {\n                            @Override\n                            public void log(@NonNull String s) {\n                                Log.v(&quot;OK2Curl&quot;, s);\n                                // I copied this curl request to postman and it works from postman but for some reason does not work when run from my Android App.\n                            }\n                        }\n                ));\n                \n               OkHttpClient client = builder.build();\n\n                client.newCall(request).enqueue(new Callback() {\n                    @Override public void onFailure(Call call, IOException e) {\n                        e.printStackTrace();\n                        Toast.makeText(getActivity(), &quot;Unable to save the data.&quot;,\n                                Toast.LENGTH_SHORT).show();\n                    }\n\n                    @Override public void onResponse(Call call, Response response) throws IOException {\n                        String respString = response.body().string();\n                        // respString =&gt; &quot;Header missing: please add content-type: application/json or application/ejson to specify payload data types&quot;\n                        if(response.isSuccessful()){\n                            Toast.makeText(getActivity(), &quot;Data is saved.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                        else {\n                            Toast.makeText(getActivity(), &quot;Unable to save the data.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>However, when the code is run in my Android App it fails with the following error:</p>\n<blockquote>\n<p>Header missing: please add content-type: application/json or application/ejson to specify payload data types</p>\n</blockquote>\n<p>The HTTP response error code is 400.</p>\n<p>Clearly, I have added a header of content-type using multiple ways and the log outputs a curl request that works in postman. What am I missing here? Does the header get removed somewhere by okhttp or something else?</p>\n<p>Version:\nokhttp3 version 4.10.0</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I know that there are three methods to add headers in okhttp. addHeader, header and using headers builder. There is not much difference except the headers and header method override the header that is added when MediaType.parse(&quot;application/json&quot;) is passed to the request on creation. I still get 400 response regardless of the way I add the header to the request.</p>\n<p><strong>UPDATE 2</strong></p>\n<p>To test my network and parameters such as api-key I have used postman and also Java 11 HttpClient and both methods work.</p>\n<pre><code>    HttpRequest request = HttpRequest.newBuilder()\n            .POST(HttpRequest.BodyPublishers.ofString(data))\n            .uri(URI.create(MONGO_DB_URL))\n            .setHeader(&quot;api-key&quot;, API_KEY)\n            .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .build();\n</code></pre>\n<p>so this problem seems to be specific to <code>okhttp</code> client.</p>\n<p><strong>UPDATE 3</strong></p>\n<p>I tried the same scenario using Google's Volley HTTP library and it worked with that. So for now I can make progress on my app without okhttp.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1519773645,"post_id":49019156,"comment_id":85044289,"body_markdown":"Can you try it on the current version of Eclipse?","body":"Can you try it on the current version of Eclipse?"},{"owner":{"account_id":7491373,"reputation":11,"user_id":5692953,"display_name":"user5692953"},"score":0,"creation_date":1519793323,"post_id":49019156,"comment_id":85049376,"body_markdown":"I haven&#39;t been able to get the newest version of eclipse to run on this machine. It&#39;s an older x64 machine with several versions of java (6,7,8) on it. It&#39;s so odd that it just stopped working and creating a new workspace and importing the maven projects back in causes the same thing to happen.","body":"I haven&#39;t been able to get the newest version of eclipse to run on this machine. It&#39;s an older x64 machine with several versions of java (6,7,8) on it. It&#39;s so odd that it just stopped working and creating a new workspace and importing the maven projects back in causes the same thing to happen."},{"owner":{"account_id":7491373,"reputation":11,"user_id":5692953,"display_name":"user5692953"},"score":0,"creation_date":1519793569,"post_id":49019156,"comment_id":85049445,"body_markdown":"It&#39;s an embedded tomcat server within Eclipse.","body":"It&#39;s an embedded tomcat server within Eclipse."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1519802321,"post_id":49019156,"comment_id":85052532,"body_markdown":"Does your project have any source folders on its Java Build Path?","body":"Does your project have any source folders on its Java Build Path?"}],"answers":[{"tags":[],"owner":{"account_id":7491373,"reputation":11,"user_id":5692953,"display_name":"user5692953"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519838396,"creation_date":1519838396,"answer_id":49035210,"question_id":49019156,"body_markdown":"I can&#39;t explain why this didn&#39;t seem to work yesterday, but this resolved my problem: \r\n\r\n 1. Restore eclipse from a backup. \r\n 2. Create a new work space. \r\n 3. Import existing Maven Projects. \r\n 4. Add a local embedded Tomcat server and set the project as a module to it. \r\n 5. Start the server. \r\n\r\nThe only thing that I did differently from when I posted the question was #1. I can&#39;t help but think that the one of the eclipse components either in the work space or from the binaries somehow got corrupted yesterday.  ","title":"Could not publish to Tomcat 7 server NullPointerException","body":"<p>I can't explain why this didn't seem to work yesterday, but this resolved my problem: </p>\n\n<ol>\n<li>Restore eclipse from a backup. </li>\n<li>Create a new work space. </li>\n<li>Import existing Maven Projects. </li>\n<li>Add a local embedded Tomcat server and set the project as a module to it. </li>\n<li>Start the server. </li>\n</ol>\n\n<p>The only thing that I did differently from when I posted the question was #1. I can't help but think that the one of the eclipse components either in the work space or from the binaries somehow got corrupted yesterday.  </p>\n"},{"comments":[{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":0,"creation_date":1672005282,"post_id":74910977,"comment_id":132207104,"body_markdown":"And one more observation.  I would only get the error when I tried to start Tomcat from eclipse (in either run or debug mode). Tomcat would start up with no errors if I invoked Tomcat from a command line or started it as a service.","body":"And one more observation.  I would only get the error when I tried to start Tomcat from eclipse (in either run or debug mode). Tomcat would start up with no errors if I invoked Tomcat from a command line or started it as a service."}],"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671927361,"creation_date":1671927361,"answer_id":74910977,"question_id":49019156,"body_markdown":"I&#39;ll share my experience with the same error except I was launching a version 9 tomcat that had been working in version 8. \r\n\r\nIt turns out that my server.xml configuration had a problem in it. Even though the configuration had an error in it, it worked in version 8 of Tomcat but not in version 9. The error was that I changed the defaultHost value in the Engine section, but I didn&#39;t change the Host section name value so that the two would match.  The apache documentation says that it&#39;s an error it the defaultHost value doesn&#39;t match a Host with the same name.  Again, in version 8, the error was just ignored, but in version 9 I would get the NullPointer exception.  I corrected that issue, and things started working again.\r\n\r\nI will say that I did a couple of other things, so I&#39;ll mention them in case they are also important.  I deleted the Server from eclipse.  I closed eclispe.  I deleted the tmp(?) files in the &quot;.metadata/plugins/org.eclipse.wst.server.core.  I restarted eclipse and then added the Server definition for tomcat v9.0.  I then could start tomcat.  I no longer got the NullPointer exception. I&#39;m pretty sure that the issue was related with my configuration issue, since I had tried all the other things that I mentioned without making the configuration change, and that didn&#39;t work.\r\n\r\nIn exploring this issue, I noticed others mentioning that you should check your configuration files. What may catch you off guard is that you might have a bad configuration that was overlooked in the previous version. Is anyone aware of any tools that you can use to validate your Tomcat configuration?  That would certain be helpful.","title":"Could not publish to Tomcat 7 server NullPointerException","body":"<p>I'll share my experience with the same error except I was launching a version 9 tomcat that had been working in version 8.</p>\n<p>It turns out that my server.xml configuration had a problem in it. Even though the configuration had an error in it, it worked in version 8 of Tomcat but not in version 9. The error was that I changed the defaultHost value in the Engine section, but I didn't change the Host section name value so that the two would match.  The apache documentation says that it's an error it the defaultHost value doesn't match a Host with the same name.  Again, in version 8, the error was just ignored, but in version 9 I would get the NullPointer exception.  I corrected that issue, and things started working again.</p>\n<p>I will say that I did a couple of other things, so I'll mention them in case they are also important.  I deleted the Server from eclipse.  I closed eclispe.  I deleted the tmp(?) files in the &quot;.metadata/plugins/org.eclipse.wst.server.core.  I restarted eclipse and then added the Server definition for tomcat v9.0.  I then could start tomcat.  I no longer got the NullPointer exception. I'm pretty sure that the issue was related with my configuration issue, since I had tried all the other things that I mentioned without making the configuration change, and that didn't work.</p>\n<p>In exploring this issue, I noticed others mentioning that you should check your configuration files. What may catch you off guard is that you might have a bad configuration that was overlooked in the previous version. Is anyone aware of any tools that you can use to validate your Tomcat configuration?  That would certain be helpful.</p>\n"}],"owner":{"account_id":7491373,"reputation":11,"user_id":5692953,"display_name":"user5692953"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49035210,"answer_count":2,"score":0,"last_activity_date":1671927361,"creation_date":1519771328,"question_id":49019156,"body_markdown":"`Eclipse 4.4.2v2015024-1700`\r\n\r\nI&#39;m trying to launch a local Tomcat 7 server that&#39;s for an older project I haven&#39;t modified in a couple of years. I was able to get the server up and started this morning, then I made some code changes that required a newer version of a shared library, so I updated the relevant POM with the new version number. I shut the tomcat server down, then tried to restart it and it&#39;s been stuck in this perpetual error of \r\n\r\n    &quot;Could not publish to the server.\r\n    java.lang.NullPointerException&quot;\r\n\r\nThings that I&#39;ve tried: \r\n\r\n- add/remove the module from the server\r\n- Add a completely new server minus the module, then add it later\r\n- restart Eclipse\r\n- Clean all associated projects\r\n- Update all maven dependencies\r\n\r\nAny ideas? \r\n\r\nRelated log entry in `Workspace &gt; .metadata &gt; .log file`\r\n\r\n    !ENTRY org.eclipse.wst.server.core 4 0 2018-02-27 15:30:03.862\r\n    !MESSAGE Could not publish to the server.\r\n    !STACK 0\r\n    java.lang.NullPointerException\r\n    \tat org.eclipse.wst.common.componentcore.internal.impl.WorkbenchComponentImpl.getFirstTaggedRootSource(WorkbenchComponentImpl.java:234)\r\n    \tat org.eclipse.wst.common.componentcore.internal.impl.WorkbenchComponentImpl.getDefaultSourceRoot(WorkbenchComponentImpl.java:587)\r\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.getProjectRelativePaths(VirtualResource.java:133)\r\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingFiles(VirtualFile.java:104)\r\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingResources(VirtualFile.java:93)\r\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.exists(VirtualResource.java:88)\r\n    \tat org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getNonBinaryComponentManifest(ManifestUtilities.java:124)\r\n    \tat org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getManifest(ManifestUtilities.java:81)\r\n    \tat org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getManifestClasspath(ManifestUtilities.java:147)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getManifestClasspath(J2EEModuleVirtualComponent.java:248)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.calculateManifestReferences(J2EEModuleVirtualComponent.java:368)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.cacheManifestReferences(J2EEModuleVirtualComponent.java:360)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:176)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:214)\r\n    \tat org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:207)\r\n    \tat org.eclipse.jst.common.internal.modulecore.SingleRootUtil.hasConsumableReferences(SingleRootUtil.java:217)\r\n    \tat org.eclipse.jst.common.internal.modulecore.SingleRootUtil.validateSingleRoot(SingleRootUtil.java:165)\r\n    \tat org.eclipse.jst.common.internal.modulecore.SingleRootUtil.isSingleRoot(SingleRootUtil.java:93)\r\n    \tat org.eclipse.jst.common.internal.modulecore.SingleRootExportParticipant.canOptimize(SingleRootExportParticipant.java:88)\r\n    \tat org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.canOptimize(FlatVirtualComponent.java:203)\r\n    \tat org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.cacheResources(FlatVirtualComponent.java:185)\r\n    \tat org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.fetchResources(FlatVirtualComponent.java:118)\r\n    \tat org.eclipse.wst.web.internal.deployables.FlatComponentDeployable.members(FlatComponentDeployable.java:227)\r\n    \tat org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members(J2EEFlexProjDeployable.java:267)\r\n    \tat org.eclipse.wst.server.core.internal.ModulePublishInfo.fillCache(ModulePublishInfo.java:314)\r\n    \tat org.eclipse.wst.server.core.internal.ModulePublishInfo.getDelta(ModulePublishInfo.java:396)\r\n    \tat org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta(ServerPublishInfo.java:366)\r\n    \tat org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta(Server.java:1575)\r\n    \tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta(ServerBehaviourDelegate.java:698)\r\n    \tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta(TomcatServerBehaviour.java:958)\r\n    \tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.computeDelta(ServerBehaviourDelegate.java:874)\r\n    \tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:909)\r\n    \tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)\r\n    \tat org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3157)\r\n    \tat org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)","title":"Could not publish to Tomcat 7 server NullPointerException","body":"<p><code>Eclipse 4.4.2v2015024-1700</code></p>\n\n<p>I'm trying to launch a local Tomcat 7 server that's for an older project I haven't modified in a couple of years. I was able to get the server up and started this morning, then I made some code changes that required a newer version of a shared library, so I updated the relevant POM with the new version number. I shut the tomcat server down, then tried to restart it and it's been stuck in this perpetual error of </p>\n\n<pre><code>\"Could not publish to the server.\njava.lang.NullPointerException\"\n</code></pre>\n\n<p>Things that I've tried: </p>\n\n<ul>\n<li>add/remove the module from the server</li>\n<li>Add a completely new server minus the module, then add it later</li>\n<li>restart Eclipse</li>\n<li>Clean all associated projects</li>\n<li>Update all maven dependencies</li>\n</ul>\n\n<p>Any ideas? </p>\n\n<p>Related log entry in <code>Workspace &gt; .metadata &gt; .log file</code></p>\n\n<pre><code>!ENTRY org.eclipse.wst.server.core 4 0 2018-02-27 15:30:03.862\n!MESSAGE Could not publish to the server.\n!STACK 0\njava.lang.NullPointerException\n    at org.eclipse.wst.common.componentcore.internal.impl.WorkbenchComponentImpl.getFirstTaggedRootSource(WorkbenchComponentImpl.java:234)\n    at org.eclipse.wst.common.componentcore.internal.impl.WorkbenchComponentImpl.getDefaultSourceRoot(WorkbenchComponentImpl.java:587)\n    at org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.getProjectRelativePaths(VirtualResource.java:133)\n    at org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingFiles(VirtualFile.java:104)\n    at org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingResources(VirtualFile.java:93)\n    at org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.exists(VirtualResource.java:88)\n    at org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getNonBinaryComponentManifest(ManifestUtilities.java:124)\n    at org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getManifest(ManifestUtilities.java:81)\n    at org.eclipse.jst.common.internal.modulecore.util.ManifestUtilities.getManifestClasspath(ManifestUtilities.java:147)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getManifestClasspath(J2EEModuleVirtualComponent.java:248)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.calculateManifestReferences(J2EEModuleVirtualComponent.java:368)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.cacheManifestReferences(J2EEModuleVirtualComponent.java:360)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:176)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:214)\n    at org.eclipse.jst.j2ee.componentcore.J2EEModuleVirtualComponent.getReferences(J2EEModuleVirtualComponent.java:207)\n    at org.eclipse.jst.common.internal.modulecore.SingleRootUtil.hasConsumableReferences(SingleRootUtil.java:217)\n    at org.eclipse.jst.common.internal.modulecore.SingleRootUtil.validateSingleRoot(SingleRootUtil.java:165)\n    at org.eclipse.jst.common.internal.modulecore.SingleRootUtil.isSingleRoot(SingleRootUtil.java:93)\n    at org.eclipse.jst.common.internal.modulecore.SingleRootExportParticipant.canOptimize(SingleRootExportParticipant.java:88)\n    at org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.canOptimize(FlatVirtualComponent.java:203)\n    at org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.cacheResources(FlatVirtualComponent.java:185)\n    at org.eclipse.wst.common.componentcore.internal.flat.FlatVirtualComponent.fetchResources(FlatVirtualComponent.java:118)\n    at org.eclipse.wst.web.internal.deployables.FlatComponentDeployable.members(FlatComponentDeployable.java:227)\n    at org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members(J2EEFlexProjDeployable.java:267)\n    at org.eclipse.wst.server.core.internal.ModulePublishInfo.fillCache(ModulePublishInfo.java:314)\n    at org.eclipse.wst.server.core.internal.ModulePublishInfo.getDelta(ModulePublishInfo.java:396)\n    at org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta(ServerPublishInfo.java:366)\n    at org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta(Server.java:1575)\n    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta(ServerBehaviourDelegate.java:698)\n    at org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta(TomcatServerBehaviour.java:958)\n    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.computeDelta(ServerBehaviourDelegate.java:874)\n    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:909)\n    at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)\n    at org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3157)\n    at org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671735617,"post_id":74892825,"comment_id":132167146,"body_markdown":"Please provide an [mcve]","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671735828,"post_id":74892825,"comment_id":132167196,"body_markdown":"forEach cant return anything it has void has a return this piece of code can not be compiled","body":"forEach cant return anything it has void has a return this piece of code can not be compiled"}],"answers":[{"tags":[],"owner":{"account_id":27277083,"reputation":367,"user_id":20797528,"display_name":"Anthony Tuccitto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671735849,"creation_date":1671735849,"answer_id":74892870,"question_id":74892825,"body_markdown":"One thing that you could do different is not `boolean b = true;` and just return the true value with `return true;`\r\n\r\nSomething like this\r\n\r\n```\r\nprivate boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\r\n    if (metadata.values().stream().anyMatch(OrderSchema::isCancellable)) {\r\n      return true;\r\n    }\r\n    for (Map.Entry&lt;String, OrderSchema&gt; entry : metadata.entrySet()) {\r\n      if (containsNestedOrders(entry.getValue()) &amp;&amp; hasCancellableOrders(((OrderTypeFieldSchema) entry.getValue()).getFields())) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n```","title":"Check if nested objects have a specific field set to true","body":"<p>One thing that you could do different is not <code>boolean b = true;</code> and just return the true value with <code>return true;</code></p>\n<p>Something like this</p>\n<pre><code>private boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\n    if (metadata.values().stream().anyMatch(OrderSchema::isCancellable)) {\n      return true;\n    }\n    for (Map.Entry&lt;String, OrderSchema&gt; entry : metadata.entrySet()) {\n      if (containsNestedOrders(entry.getValue()) &amp;&amp; hasCancellableOrders(((OrderTypeFieldSchema) entry.getValue()).getFields())) {\n        return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671737860,"creation_date":1671737507,"answer_id":74893088,"question_id":74892825,"body_markdown":"`forEach()` operation is not meant to produce a value, its purpose is to perform an action for every stream element. You need `anyMatch()` to check if and `OrderSchema` `isCancellable()` or its nested orders can be canceled.\r\n\r\nYou can obtain the result in a single iteration over the Values of the given Map (there&#39;s no point to iterate twice unless methods `containsNestedOrders()` and `hasCancellableOrders()` are cosful):\r\n\r\n    private boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\r\n\r\n        return metadata.values().stream().anyMatch(orderSchema -&gt;\r\n            orderSchema.isCancellable()\r\n            || containsNestedOrders(orderSchema)\r\n            &amp;&amp; hasCancellableOrders(((OrderTypeFieldSchema) orderSchema).getFields())\r\n        );\r\n    }","title":"Check if nested objects have a specific field set to true","body":"<p><code>forEach()</code> operation is not meant to produce a value, its purpose is to perform an action for every stream element. You need <code>anyMatch()</code> to check if and <code>OrderSchema</code> <code>isCancellable()</code> or its nested orders can be canceled.</p>\n<p>You can obtain the result in a single iteration over the Values of the given Map (there's no point to iterate twice unless methods <code>containsNestedOrders()</code> and <code>hasCancellableOrders()</code> are cosful):</p>\n<pre><code>private boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\n\n    return metadata.values().stream().anyMatch(orderSchema -&gt;\n        orderSchema.isCancellable()\n        || containsNestedOrders(orderSchema)\n        &amp;&amp; hasCancellableOrders(((OrderTypeFieldSchema) orderSchema).getFields())\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74893088,"answer_count":2,"score":0,"last_activity_date":1671927357,"creation_date":1671735540,"question_id":74892825,"body_markdown":"I have a domain type `OrderSchema`:\r\n\r\n    public class OrderSchema {\r\n        // properties, etc.\r\n        public boolean isCancellable() {}\r\n        public Foo getFields() {}\r\n    }\r\n\r\nAnd I have methods `containsNestedOrders(OrderSchema)`, which allows to determine if an `OrderSchema` has nested orders and `hasCancellableOrders(OrderTypeFieldSchema)`, which is meant to find out if the nested orders can be canceled.\r\n\r\n```\r\nprivate boolean containsNestedOrders(OrderSchema orderSchema){ ... }\r\n\r\nprivate boolean hasCancellableOrders(OrderTypeFieldSchema orderSchema){ ... }\r\n```\r\n\r\nAnd there&#39;s a method `hasCancellableOrders()` that expects an argument of type `Map&lt;String,OrderSchema&gt;`, inside the method I need to figure if there are any cancellable `OrderSchema` or orders that might be cancel associated with any of `OrderSchema` instances. If any of these conditions meat, method should return `true`.\r\n\r\nI am looking for a way to iterate over to iterate over the given `Map` checking these conditions. Below is the logic that I currently have. Is there a better way to achieve this?\r\n\r\n    private boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\r\n        if (metadata.values().stream().anyMatch(OrderSchema::isCancellable)) {\r\n            return true;\r\n        }\r\n        metadata\r\n            .entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; containsNestedOrders(entry.getValue()))\r\n            .forEach(entry -&gt; {\r\n                if (\r\n                    hasCancellableOrders(((OrderTypeFieldSchema) entry.getValue()).getFields())\r\n                ) {\r\n                    boolean b = true;\r\n                    return b;\r\n                }\r\n            });\r\n        return false;\r\n    }","title":"Check if nested objects have a specific field set to true","body":"<p>I have a domain type <code>OrderSchema</code>:</p>\n<pre><code>public class OrderSchema {\n    // properties, etc.\n    public boolean isCancellable() {}\n    public Foo getFields() {}\n}\n</code></pre>\n<p>And I have methods <code>containsNestedOrders(OrderSchema)</code>, which allows to determine if an <code>OrderSchema</code> has nested orders and <code>hasCancellableOrders(OrderTypeFieldSchema)</code>, which is meant to find out if the nested orders can be canceled.</p>\n<pre><code>private boolean containsNestedOrders(OrderSchema orderSchema){ ... }\n\nprivate boolean hasCancellableOrders(OrderTypeFieldSchema orderSchema){ ... }\n</code></pre>\n<p>And there's a method <code>hasCancellableOrders()</code> that expects an argument of type <code>Map&lt;String,OrderSchema&gt;</code>, inside the method I need to figure if there are any cancellable <code>OrderSchema</code> or orders that might be cancel associated with any of <code>OrderSchema</code> instances. If any of these conditions meat, method should return <code>true</code>.</p>\n<p>I am looking for a way to iterate over to iterate over the given <code>Map</code> checking these conditions. Below is the logic that I currently have. Is there a better way to achieve this?</p>\n<pre><code>private boolean hasCancellableOrders(Map&lt;String, OrderSchema&gt; metadata) {\n    if (metadata.values().stream().anyMatch(OrderSchema::isCancellable)) {\n        return true;\n    }\n    metadata\n        .entrySet()\n        .stream()\n        .filter(entry -&gt; containsNestedOrders(entry.getValue()))\n        .forEach(entry -&gt; {\n            if (\n                hasCancellableOrders(((OrderTypeFieldSchema) entry.getValue()).getFields())\n            ) {\n                boolean b = true;\n                return b;\n            }\n        });\n    return false;\n}\n</code></pre>\n"},{"tags":["java","null","primitive-types"],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1339749758,"creation_date":1339749758,"answer_id":11047311,"question_id":11047276,"body_markdown":"Because that&#39;s what the language standard says.\r\n\r\nIf you want to be able to pass `null`, you should use [the wrapper types](http://docs.oracle.com/javase/tutorial/java/data/numberclasses.html), e.g. `Integer` instead of `int`.","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Because that's what the language standard says.</p>\n\n<p>If you want to be able to pass <code>null</code>, you should use <a href=\"http://docs.oracle.com/javase/tutorial/java/data/numberclasses.html\" rel=\"noreferrer\">the wrapper types</a>, e.g. <code>Integer</code> instead of <code>int</code>.</p>\n"},{"comments":[{"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"score":0,"creation_date":1428637141,"post_id":11047323,"comment_id":47257025,"body_markdown":"I suppose these best practices remain true even if Java 8 introduced optional primitives such as OptionalInt? OptionalInt.empty() could be used in place of a null value. But my understanding is Optionals should be return types of methods, and not be types for properties themselves.","body":"I suppose these best practices remain true even if Java 8 introduced optional primitives such as OptionalInt? OptionalInt.empty() could be used in place of a null value. But my understanding is Optionals should be return types of methods, and not be types for properties themselves."}],"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"comment_count":1,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1671926802,"creation_date":1339749801,"answer_id":11047323,"question_id":11047276,"body_markdown":"A primitive type is just data. What we call objects, on the other hand, are just pointers to where the data is stored. For example:\r\n\r\n    Integer object = new Integer(3);\r\n    int number = 3;\r\n\r\nIn this case, `object` is just a pointer to an Integer object whose value happens to be 3. That is, at the memory position where the variable object is stored, all you have is a reference to where the data really is. The memory position where `number` is stored, on the other hand, contains the value 3 directly.\r\n\r\nSo, you could set the `object` to null, but that would just mean that the data of that object is in null (that is, not assigned). You cannot set an int to null, because the language would interpret that as being the value 0.","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>A primitive type is just data. What we call objects, on the other hand, are just pointers to where the data is stored. For example:</p>\n<pre><code>Integer object = new Integer(3);\nint number = 3;\n</code></pre>\n<p>In this case, <code>object</code> is just a pointer to an Integer object whose value happens to be 3. That is, at the memory position where the variable object is stored, all you have is a reference to where the data really is. The memory position where <code>number</code> is stored, on the other hand, contains the value 3 directly.</p>\n<p>So, you could set the <code>object</code> to null, but that would just mean that the data of that object is in null (that is, not assigned). You cannot set an int to null, because the language would interpret that as being the value 0.</p>\n"},{"tags":[],"owner":{"account_id":119129,"reputation":3846,"user_id":310626,"accept_rate":53,"display_name":"duduamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339749826,"creation_date":1339749826,"answer_id":11047329,"question_id":11047276,"body_markdown":"Because it is a primitive type and not an object.\r\nYou can use the corresponding object for each type if you need the ability to use null values (i.e. Double for double, Long for long, Boolean for boolean, etc.)","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Because it is a primitive type and not an object.\nYou can use the corresponding object for each type if you need the ability to use null values (i.e. Double for double, Long for long, Boolean for boolean, etc.)</p>\n"},{"tags":[],"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1487275161,"creation_date":1339749869,"answer_id":11047335,"question_id":11047276,"body_markdown":"Because primitive data types in Java are not `Object`s. You can always use one of the wrapper classes to have an `Object`. Every of the eight primitive data types has its corresponding wrapper: \r\n\r\n - byte: `java.lang.Byte`\r\n - short: `java.lang.Short`\r\n - int: `java.lang.Integer`\r\n - long: `java.lang.Long`\r\n - float: `java.lang.Float`\r\n - double:  `java.lang.Double`\r\n - boolean:  `java.lang.Boolean`\r\n - char `java.lang.Character`\r\n\r\nIf you are interested in the whole structure, you can start [here (Primitive Data Types)][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Because primitive data types in Java are not <code>Object</code>s. You can always use one of the wrapper classes to have an <code>Object</code>. Every of the eight primitive data types has its corresponding wrapper: </p>\n\n<ul>\n<li>byte: <code>java.lang.Byte</code></li>\n<li>short: <code>java.lang.Short</code></li>\n<li>int: <code>java.lang.Integer</code></li>\n<li>long: <code>java.lang.Long</code></li>\n<li>float: <code>java.lang.Float</code></li>\n<li>double:  <code>java.lang.Double</code></li>\n<li>boolean:  <code>java.lang.Boolean</code></li>\n<li>char <code>java.lang.Character</code></li>\n</ul>\n\n<p>If you are interested in the whole structure, you can start <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">here (Primitive Data Types)</a>.</p>\n"},{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1339749891,"creation_date":1339749891,"answer_id":11047345,"question_id":11047276,"body_markdown":"Because null is a reference. And primitive types are not reference types. Only objects are reference types.\r\n","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Because null is a reference. And primitive types are not reference types. Only objects are reference types.</p>\n"},{"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382442763,"creation_date":1382437355,"answer_id":19515148,"question_id":11047276,"body_markdown":"Along with all above answer i would like to add this point too.\r\n\r\nFor primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. \r\n\r\nSo by default we have,\r\n\r\n       int a=0;\r\nand not\r\n\r\n       int a=null;\r\n\r\nSame with other primitive types and hence null is only used for objects and not for primitive types.","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Along with all above answer i would like to add this point too.</p>\n\n<p>For primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. </p>\n\n<p>So by default we have,</p>\n\n<pre><code>   int a=0;\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>   int a=null;\n</code></pre>\n\n<p>Same with other primitive types and hence null is only used for objects and not for primitive types.</p>\n"},{"comments":[{"owner":{"account_id":1184607,"reputation":5245,"user_id":1158844,"accept_rate":62,"display_name":"Shanerk"},"score":0,"creation_date":1520378657,"post_id":31421030,"comment_id":85288773,"body_markdown":"And this is exactly the reason for the question.  .NET implemented this ages ago, and Java is behind in this regard, unfortunately.","body":"And this is exactly the reason for the question.  .NET implemented this ages ago, and Java is behind in this regard, unfortunately."}],"tags":[],"owner":{"account_id":910804,"reputation":678,"user_id":944721,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460516025,"creation_date":1436931209,"answer_id":31421030,"question_id":11047276,"body_markdown":"Objects involve more overhead than primitives.  The following test shows int performs about 10x faster than Integer.  \r\n\r\n    int n;\r\n    EtmPoint point1 = etmMonitor.createPoint(&quot;test:objects&quot;);\r\n    for (n = 0; n &lt; 1000000; n++) {\r\n        Integer t = 0;\r\n        t = 10;\r\n        t = 11;\r\n    }\r\n    \r\n    point1.collect();\r\n    EtmPoint point = etmMonitor.createPoint(&quot;test:primitives&quot;);\r\n    for (n = 0; n &lt; 1000000; n++) {\r\n        int t = 0;\r\n        t = 10;\r\n        t = 11;\r\n    }\r\n    point.collect();\r\n\r\n    etmMonitor.render(new SimpleTextRenderer());\r\n\r\nThis is why .net implemented nullable primitives, unfortunately java does not have nullable primitives.  ","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>Objects involve more overhead than primitives.  The following test shows int performs about 10x faster than Integer.  </p>\n\n<pre><code>int n;\nEtmPoint point1 = etmMonitor.createPoint(\"test:objects\");\nfor (n = 0; n &lt; 1000000; n++) {\n    Integer t = 0;\n    t = 10;\n    t = 11;\n}\n\npoint1.collect();\nEtmPoint point = etmMonitor.createPoint(\"test:primitives\");\nfor (n = 0; n &lt; 1000000; n++) {\n    int t = 0;\n    t = 10;\n    t = 11;\n}\npoint.collect();\n\netmMonitor.render(new SimpleTextRenderer());\n</code></pre>\n\n<p>This is why .net implemented nullable primitives, unfortunately java does not have nullable primitives.  </p>\n"},{"tags":[],"owner":{"account_id":2619868,"reputation":101,"user_id":2268145,"display_name":"Yel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460069672,"creation_date":1460069672,"answer_id":36488621,"question_id":11047276,"body_markdown":"First of all, The difference of Primitive and Object Reference is Primitive variable store the actual values, Whereas object reference variable store the the address of the object they refer to, in this case in object reference if there is no address it will pass to &quot;null&quot;.\r\n\r\nDefault values of Primitive data type depends on the primitive data type: like byte = 0, short = 0, int = 0, long = 0L, float = 0.0f, double = 0.0d, boolean = false, char = &quot;\\u0000&quot;. \r\n\r\nWhen we declare a variable of any class type, it is known as reference data type.\r\n\r\nEX: \r\n\r\n\r\n\r\nTest t1\r\n\r\nTest t2\r\n\r\n(Object Wrapper Types)\r\n\r\nInteger i\r\n\r\nLong l\r\n\r\nObject reference default values, Jvm initializes reference variable as &quot;null&quot; and will also initialize array to &quot;null&quot;\r\n\r\n","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>First of all, The difference of Primitive and Object Reference is Primitive variable store the actual values, Whereas object reference variable store the the address of the object they refer to, in this case in object reference if there is no address it will pass to \"null\".</p>\n\n<p>Default values of Primitive data type depends on the primitive data type: like byte = 0, short = 0, int = 0, long = 0L, float = 0.0f, double = 0.0d, boolean = false, char = \"\\u0000\". </p>\n\n<p>When we declare a variable of any class type, it is known as reference data type.</p>\n\n<p>EX: </p>\n\n<p>Test t1</p>\n\n<p>Test t2</p>\n\n<p>(Object Wrapper Types)</p>\n\n<p>Integer i</p>\n\n<p>Long l</p>\n\n<p>Object reference default values, Jvm initializes reference variable as \"null\" and will also initialize array to \"null\"</p>\n"}],"owner":{"account_id":1490553,"reputation":5341,"user_id":1400291,"accept_rate":84,"display_name":"MBMJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89059,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":11047323,"answer_count":8,"score":60,"last_activity_date":1671926802,"creation_date":1339749640,"question_id":11047276,"body_markdown":"When declaring any primitive type data like `int` or `double` they get initialized to `0` or `0.0`. Why can we not set them to `null`?","title":"Why can&#39;t primitive data types be &quot;null&quot; in Java?","body":"<p>When declaring any primitive type data like <code>int</code> or <code>double</code> they get initialized to <code>0</code> or <code>0.0</code>. Why can we not set them to <code>null</code>?</p>\n"},{"tags":["java","string","methods","count"],"answers":[{"comments":[{"owner":{"account_id":36527,"reputation":28775,"user_id":104223,"display_name":"Leigh"},"score":0,"creation_date":1340749654,"post_id":5864174,"comment_id":14730056,"body_markdown":"Small correction. The last line should be `return words.length;`","body":"Small correction. The last line should be <code>return words.length;</code>"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":9,"creation_date":1397613716,"post_id":5864174,"comment_id":35305764,"body_markdown":"I would use \\\\W here instead of \\\\s, because you could have something other than space separating words.","body":"I would use \\\\W here instead of \\\\s, because you could have something other than space separating words."},{"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"score":2,"creation_date":1423528017,"post_id":5864174,"comment_id":45177122,"body_markdown":"Short, sweet, and effective.","body":"Short, sweet, and effective."},{"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"score":0,"creation_date":1467276060,"post_id":5864174,"comment_id":63668287,"body_markdown":"@Trejkaz \\\\w in code above will return 0 if there is only one word in the string. Which is not correct","body":"@Trejkaz \\\\w in code above will return 0 if there is only one word in the string. Which is not correct"}],"tags":[],"owner":{"account_id":350805,"reputation":1587,"user_id":686923,"accept_rate":83,"display_name":"Cory G."},"comment_count":4,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1671926728,"creation_date":1304386229,"answer_id":5864174,"question_id":5864159,"body_markdown":"This would work even with multiple spaces and leading and/or trailing spaces and blank lines:\r\n\r\n    String trim = s.trim();\r\n    if (trim.isEmpty())\r\n    \treturn 0;\r\n    return trim.split(&quot;\\\\s+&quot;).length; // separate string around spaces\r\n\r\nMore info about split [here.][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Count words in a string method?","body":"<p>This would work even with multiple spaces and leading and/or trailing spaces and blank lines:</p>\n<pre><code>String trim = s.trim();\nif (trim.isEmpty())\n    return 0;\nreturn trim.split(&quot;\\\\s+&quot;).length; // separate string around spaces\n</code></pre>\n<p>More info about split <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow noreferrer\">here.</a></p>\n"},{"comments":[{"owner":{"account_id":1185834,"reputation":1549,"user_id":1159819,"accept_rate":62,"display_name":"user1159819"},"score":2,"creation_date":1439915483,"post_id":5864184,"comment_id":52052085,"body_markdown":"You need to take into account apostrophes and quotes, and other special characters.","body":"You need to take into account apostrophes and quotes, and other special characters."},{"owner":{"account_id":106133,"reputation":106244,"user_id":282848,"accept_rate":93,"display_name":"Andreas Rejbrand"},"score":2,"creation_date":1561231398,"post_id":5864184,"comment_id":99998406,"body_markdown":"You use contractions in your comments (&quot;isn&#39;t&quot;, &quot;doesn&#39;t&quot;, &quot;wouldn&#39;t&quot;) but your code cannot handle them. It won&#39;t handle crime-fighting canines, either.","body":"You use contractions in your comments (&quot;isn&#39;t&quot;, &quot;doesn&#39;t&quot;, &quot;wouldn&#39;t&quot;) but your code cannot handle them. It won&#39;t handle crime-fighting canines, either."}],"tags":[],"owner":{"account_id":375398,"reputation":15207,"user_id":726212,"accept_rate":82,"display_name":"koool"},"comment_count":2,"down_vote_count":3,"up_vote_count":33,"is_accepted":true,"score":30,"last_activity_date":1390337685,"creation_date":1304386356,"answer_id":5864184,"question_id":5864159,"body_markdown":"    public static int countWords(String s){\r\n    \r\n    \tint wordCount = 0;\r\n    \r\n    \tboolean word = false;\r\n    \tint endOfLine = s.length() - 1;\r\n    \r\n    \tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \t\t// if the char is a letter, word = true.\r\n    \t\tif (Character.isLetter(s.charAt(i)) &amp;&amp; i != endOfLine) {\r\n    \t\t\tword = true;\r\n    \t\t\t// if char isn&#39;t a letter and there have been letters before,\r\n                // counter goes up.\r\n    \t\t} else if (!Character.isLetter(s.charAt(i)) &amp;&amp; word) {\r\n    \t\t\twordCount++;\r\n    \t\t\tword = false;\r\n    \t\t\t// last word of String; if it doesn&#39;t end with a non letter, it\r\n    \t\t\t// wouldn&#39;t count without this.\r\n    \t\t} else if (Character.isLetter(s.charAt(i)) &amp;&amp; i == endOfLine) {\r\n    \t\t\twordCount++;\r\n    \t\t}\r\n    \t}\r\n    \treturn wordCount;\r\n    }\r\n\r\n","title":"Count words in a string method?","body":"<pre><code>public static int countWords(String s){\n\n    int wordCount = 0;\n\n    boolean word = false;\n    int endOfLine = s.length() - 1;\n\n    for (int i = 0; i &lt; s.length(); i++) {\n        // if the char is a letter, word = true.\n        if (Character.isLetter(s.charAt(i)) &amp;&amp; i != endOfLine) {\n            word = true;\n            // if char isn't a letter and there have been letters before,\n            // counter goes up.\n        } else if (!Character.isLetter(s.charAt(i)) &amp;&amp; word) {\n            wordCount++;\n            word = false;\n            // last word of String; if it doesn't end with a non letter, it\n            // wouldn't count without this.\n        } else if (Character.isLetter(s.charAt(i)) &amp;&amp; i == endOfLine) {\n            wordCount++;\n        }\n    }\n    return wordCount;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1777687,"reputation":169,"user_id":1621147,"display_name":"Arvind Krishnakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345760260,"creation_date":1345760260,"answer_id":12100781,"question_id":5864159,"body_markdown":"\r\n\r\n     private static int countWordsInSentence(String input) {\r\n\t\tint wordCount = 0;\r\n\t\t\r\n\t\tif (input.trim().equals(&quot;&quot;)) {\r\n\t\t\treturn wordCount;\r\n\t\t}\r\n\t\telse {\r\n\t\t\twordCount = 1;\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n\t\t\tchar ch = input.charAt(i);\r\n\t\t\tString str = new String(&quot;&quot; + ch);\r\n\t\t\tif (i+1 != input.length() &amp;&amp; str.equals(&quot; &quot;) &amp;&amp; !(&quot;&quot;+ input.charAt(i+1)).equals(&quot; &quot;)) {\r\n\t\t\t\twordCount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn wordCount;\r\n\t }","title":"Count words in a string method?","body":"<pre><code> private static int countWordsInSentence(String input) {\n    int wordCount = 0;\n\n    if (input.trim().equals(\"\")) {\n        return wordCount;\n    }\n    else {\n        wordCount = 1;\n    }\n\n    for (int i = 0; i &lt; input.length(); i++) {\n        char ch = input.charAt(i);\n        String str = new String(\"\" + ch);\n        if (i+1 != input.length() &amp;&amp; str.equals(\" \") &amp;&amp; !(\"\"+ input.charAt(i+1)).equals(\" \")) {\n            wordCount++;\n        }\n    }\n\n    return wordCount;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1725360,"reputation":327,"user_id":1580176,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422950165,"creation_date":1346051709,"answer_id":12137675,"question_id":5864159,"body_markdown":"Use \r\n\r\n    myString.split(&quot;\\\\s+&quot;);\r\n\r\n\r\nThis will work.","title":"Count words in a string method?","body":"<p>Use </p>\n\n<pre><code>myString.split(\"\\\\s+\");\n</code></pre>\n\n<p>This will work.</p>\n"},{"tags":[],"owner":{"account_id":267345,"reputation":2131,"user_id":555467,"accept_rate":50,"display_name":"UserBSS1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352454040,"creation_date":1352282548,"answer_id":13267361,"question_id":5864159,"body_markdown":"Algo in O(N)\r\n\r\n     count : 0;\r\n\r\n     if(str[0] == validChar ) :\r\n          count++;\r\n     else :\r\n          for i = 1 ; i &lt; sizeOf(str) ; i++ :\r\n\r\n              if(str[i] == validChar AND str[i-1] != validChar)\r\n\r\n                 count++;\r\n\r\n              end if;\r\n \r\n          end for;\r\n\r\n     end if;\r\n\r\n     return count;","title":"Count words in a string method?","body":"<p>Algo in O(N)</p>\n\n<pre><code> count : 0;\n\n if(str[0] == validChar ) :\n      count++;\n else :\n      for i = 1 ; i &lt; sizeOf(str) ; i++ :\n\n          if(str[i] == validChar AND str[i-1] != validChar)\n\n             count++;\n\n          end if;\n\n      end for;\n\n end if;\n\n return count;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1643128,"reputation":275,"user_id":1515206,"accept_rate":40,"display_name":"whiteErru"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367347240,"creation_date":1367346052,"answer_id":16306496,"question_id":5864159,"body_markdown":"    public static int countWords(String str){\r\n    \t\tif(str == null || str.isEmpty())\r\n    \t\t\treturn 0;\r\n\r\n    \t\tint count = 0;\r\n    \t\tfor(int e = 0; e &lt; str.length(); e++){\r\n    \t\t\tif(str.charAt(e) != &#39; &#39;){\r\n    \t\t\t\tcount++;\r\n    \t\t\t\twhile(str.charAt(e) != &#39; &#39; &amp;&amp; e &lt; str.length()-1){\r\n    \t\t\t\t\te++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}","title":"Count words in a string method?","body":"<pre><code>public static int countWords(String str){\n        if(str == null || str.isEmpty())\n            return 0;\n\n        int count = 0;\n        for(int e = 0; e &lt; str.length(); e++){\n            if(str.charAt(e) != ' '){\n                count++;\n                while(str.charAt(e) != ' ' &amp;&amp; e &lt; str.length()-1){\n                    e++;\n                }\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422950194,"creation_date":1369070178,"answer_id":16654721,"question_id":5864159,"body_markdown":"    public class TestStringCount {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\tint count=0;\r\n\t\tboolean word= false;\r\n\t\tString str = &quot;how ma ny wo rds are th ere in th is sente nce&quot;;\r\n\t\tchar[] ch = str.toCharArray();\r\n\t\tfor(int i =0;i&lt;ch.length;i++){\r\n\t\t\tif(!(ch[i]==&#39; &#39;)){\r\n\t\t\t\tfor(int j=i;j&lt;ch.length;j++,i++){\r\n\t\t\t\t\tif(!(ch[j]==&#39; &#39;)){\r\n\t\t\t\t\t\tword= true;\r\n\t\t\t\t\t\tif(j==ch.length-1){\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(word){\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tword = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;there are &quot;+(count)+&quot; words&quot;);\t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Count words in a string method?","body":"<pre><code>public class TestStringCount {\n\n  public static void main(String[] args) {\n    int count=0;\n    boolean word= false;\n    String str = \"how ma ny wo rds are th ere in th is sente nce\";\n    char[] ch = str.toCharArray();\n    for(int i =0;i&lt;ch.length;i++){\n        if(!(ch[i]==' ')){\n            for(int j=i;j&lt;ch.length;j++,i++){\n                if(!(ch[j]==' ')){\n                    word= true;\n                    if(j==ch.length-1){\n                        count++;\n                    }\n                    continue;\n                }\n                else{\n                    if(word){\n                        count++;\n                    }\n                    word = false;\n                }\n            }\n        }\n        else{\n            continue;\n        }\n    }\n    System.out.println(\"there are \"+(count)+\" words\");      \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371648544,"creation_date":1371648544,"answer_id":17192512,"question_id":5864159,"body_markdown":"        import com.google.common.base.Optional;\r\n        import com.google.common.base.Splitter;\r\n        import com.google.common.collect.HashMultiset;\r\n        import com.google.common.collect.ImmutableSet;\r\n        import com.google.common.collect.Multiset;\r\n        \r\n        String str=&quot;Simple Java Word Count count Count Program&quot;;\r\n        Iterable&lt;String&gt; words = Splitter.on(&quot; &quot;).trimResults().split(str);\r\n        \r\n        \r\n        //google word counter       \r\n        Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\r\n        for (String string : words) {   \r\n            wordsMultiset.add(string.toLowerCase());\r\n        }\r\n        \r\n        Set&lt;String&gt; result = wordsMultiset.elementSet();\r\n        for (String string : result) {\r\n            System.out.println(string+&quot; X &quot;+wordsMultiset.count(string));\r\n        }\r\n    \r\n    \r\n    add at the pom.xml\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t&lt;version&gt;r09&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Count words in a string method?","body":"<pre><code>    import com.google.common.base.Optional;\n    import com.google.common.base.Splitter;\n    import com.google.common.collect.HashMultiset;\n    import com.google.common.collect.ImmutableSet;\n    import com.google.common.collect.Multiset;\n\n    String str=\"Simple Java Word Count count Count Program\";\n    Iterable&lt;String&gt; words = Splitter.on(\" \").trimResults().split(str);\n\n\n    //google word counter       \n    Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\n    for (String string : words) {   \n        wordsMultiset.add(string.toLowerCase());\n    }\n\n    Set&lt;String&gt; result = wordsMultiset.elementSet();\n    for (String string : result) {\n        System.out.println(string+\" X \"+wordsMultiset.count(string));\n    }\n\n\nadd at the pom.xml\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;r09&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4994572,"reputation":8271,"user_id":4015623,"accept_rate":100,"display_name":"Alex K"},"score":0,"creation_date":1414184511,"post_id":26556135,"comment_id":41733926,"body_markdown":"You really need to add some sort of explanation past just the basic code.","body":"You really need to add some sort of explanation past just the basic code."},{"owner":{"account_id":5134556,"reputation":1,"user_id":4113732,"display_name":"taj.tajinder"},"score":0,"creation_date":1414282972,"post_id":26556135,"comment_id":41756258,"body_markdown":"i am not sure what to add. i think the code itself is pretty self explanatory.","body":"i am not sure what to add. i think the code itself is pretty self explanatory."}],"tags":[],"owner":{"account_id":5134556,"reputation":1,"user_id":4113732,"display_name":"taj.tajinder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414282747,"creation_date":1414184196,"answer_id":26556135,"question_id":5864159,"body_markdown":"Counting Words in a String:\r\n&lt;br&gt;This might also help --&gt;\r\n\r\n    package data.structure.test;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class CountWords {\r\n    \r\n\t    public static void main(String[] args) throws IOException {\r\n    // Couting number of words in a string\r\n\t    \tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t    System.out.println(&quot;enter Your String&quot;);\r\n    \t\tString input = br.readLine(); \r\n\r\n\t    \tchar[] arr = input.toCharArray();\r\n\t\t    int i = 0;\r\n\t\tboolean notCounted = true;\r\n\t\tint counter = 0;\r\n\t\twhile (i &lt; arr.length) {\r\n\t\t\tif (arr[i] != &#39; &#39;) {\r\n\t\t\t\tif (notCounted) {\r\n\t\t\t\t\tnotCounted = false;\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnotCounted = true;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;words in the string are : &quot; + counter);\r\n\t}\r\n\r\n    }","title":"Count words in a string method?","body":"<p>Counting Words in a String:\n<br>This might also help --></p>\n\n<pre><code>package data.structure.test;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class CountWords {\n\n    public static void main(String[] args) throws IOException {\n// Couting number of words in a string\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"enter Your String\");\n        String input = br.readLine(); \n\n        char[] arr = input.toCharArray();\n        int i = 0;\n    boolean notCounted = true;\n    int counter = 0;\n    while (i &lt; arr.length) {\n        if (arr[i] != ' ') {\n            if (notCounted) {\n                notCounted = false;\n                counter++;\n            }\n        } else {\n            notCounted = true;\n        }\n        i++;\n    }\n    System.out.println(\"words in the string are : \" + counter);\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"score":0,"creation_date":1580600842,"post_id":28412119,"comment_id":106151632,"body_markdown":"I gotta point out that this doesn&#39;t work correctly in many cases since it has a number of upvotes.\n`&quot; &quot;.split(&quot;\\\\w+&quot;).length` yields 1 (empty or blank string). `&quot; a &quot;.split(&quot;\\\\w+&quot;).length` yiedls 2 (one word with trailing spaces)","body":"I gotta point out that this doesn&#39;t work correctly in many cases since it has a number of upvotes. <code>&quot; &quot;.split(&quot;\\\\w+&quot;).length</code> yields 1 (empty or blank string). <code>&quot; a &quot;.split(&quot;\\\\w+&quot;).length</code> yiedls 2 (one word with trailing spaces)"}],"tags":[],"owner":{"account_id":1149479,"reputation":752,"user_id":1131488,"display_name":"Chaulagai"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1423492360,"creation_date":1423492360,"answer_id":28412119,"question_id":5864159,"body_markdown":"Simply use , \r\n\r\n    str.split(&quot;\\\\w+&quot;).length ;","title":"Count words in a string method?","body":"<p>Simply use , </p>\n\n<pre><code>str.split(\"\\\\w+\").length ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5907023,"reputation":1,"user_id":4648408,"display_name":"Quick and dirty"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1425876509,"creation_date":1425876509,"answer_id":28935434,"question_id":5864159,"body_markdown":"    if(str.isEmpty() || str.trim().length() == 0){\r\n       return 0;\r\n    }\r\n    return (str.trim().split(&quot;\\\\s+&quot;).length);","title":"Count words in a string method?","body":"<pre><code>if(str.isEmpty() || str.trim().length() == 0){\n   return 0;\n}\nreturn (str.trim().split(\"\\\\s+\").length);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"score":2,"creation_date":1425918983,"post_id":28947016,"comment_id":46148305,"body_markdown":"This works, but it is not a String method, it uses a separate StringTokenizer class. The question is for how to do this without using other classes.","body":"This works, but it is not a String method, it uses a separate StringTokenizer class. The question is for how to do this without using other classes."},{"owner":{"account_id":406151,"reputation":2021,"user_id":775496,"accept_rate":94,"display_name":"idungotnosn"},"score":1,"creation_date":1597696343,"post_id":28947016,"comment_id":112213057,"body_markdown":"I like this answer.  The person who asked this question originally was probably getting the answer to some homework assignment anyway.\n\nCome to think of it, your second line needs to be:\nStringTokenizer st = new StringTokenizer(words);","body":"I like this answer.  The person who asked this question originally was probably getting the answer to some homework assignment anyway.  Come to think of it, your second line needs to be: StringTokenizer st = new StringTokenizer(words);"}],"tags":[],"owner":{"account_id":5835921,"reputation":323,"user_id":4598990,"display_name":"fredy hernan sanchez montaa Ha"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1425918424,"creation_date":1425918424,"answer_id":28947016,"question_id":5864159,"body_markdown":"Hi I just figured out with StringTokenizer like this:\r\n\r\n    String words = &quot;word word2 word3 word4&quot;;\r\n    StringTokenizer st = new Tokenizer(words);\r\n    st.countTokens();","title":"Count words in a string method?","body":"<p>Hi I just figured out with StringTokenizer like this:</p>\n\n<pre><code>String words = \"word word2 word3 word4\";\nStringTokenizer st = new Tokenizer(words);\nst.countTokens();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5963200,"reputation":11,"user_id":4687720,"display_name":"hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427508945,"creation_date":1427508945,"answer_id":29312924,"question_id":5864159,"body_markdown":"import java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tFile f=new File(&quot;src/MyFrame.java&quot;);\r\n\t\tString value=null;\r\n\t\tint i=0;\r\n\t\tint j=0;\r\n\t\tint k=0;\r\n\ttry {\r\n\t\tScanner  in =new Scanner(f);\r\n\t\twhile(in.hasNextLine())\r\n\t\t{\r\n\t\tString a=in.nextLine();\r\n\t\tk++; \r\n\t\tchar chars[]=a.toCharArray();\r\n\t\ti +=chars.length;\r\n\t\t}\r\n\t\tin.close();\r\n\t\tScanner in2=new Scanner(f);\r\n\t\twhile(in2.hasNext())\r\n\t\t\t\t{\r\n\t\t\t\r\n\t\t\tString b=in2.next();\r\n\t\t\tSystem.out.println(b);\r\n\t\t\tj++;\r\n\t\t\t\t}\r\n       in2.close();\r\n\t\t\r\n\t\tSystem.out.println(&quot;the number of chars is :&quot;+i);\r\n\t\tSystem.out.println(&quot;the number of words is :&quot;+j);\r\n\t\tSystem.out.println(&quot;the number of lines is :&quot;+k);\r\n\t\t\r\n\t\t\r\n      \r\n\r\n   \r\n\t}\r\n\tcatch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t\t\r\n\t}\r\n   \r\n    \r\n\t}\r\n}","title":"Count words in a string method?","body":"<p>import java.util.<em>;\nimport java.io.</em>;</p>\n\n<p>public class Main {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    File f=new File(\"src/MyFrame.java\");\n    String value=null;\n    int i=0;\n    int j=0;\n    int k=0;\ntry {\n    Scanner  in =new Scanner(f);\n    while(in.hasNextLine())\n    {\n    String a=in.nextLine();\n    k++; \n    char chars[]=a.toCharArray();\n    i +=chars.length;\n    }\n    in.close();\n    Scanner in2=new Scanner(f);\n    while(in2.hasNext())\n            {\n\n        String b=in2.next();\n        System.out.println(b);\n        j++;\n            }\n   in2.close();\n\n    System.out.println(\"the number of chars is :\"+i);\n    System.out.println(\"the number of words is :\"+j);\n    System.out.println(\"the number of lines is :\"+k);\n\n\n\n\n\n}\ncatch (Exception e) {\n    e.printStackTrace();\n\n}\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7371400,"reputation":11,"user_id":5611447,"display_name":"Abhishek Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448614501,"creation_date":1448614501,"answer_id":33953563,"question_id":5864159,"body_markdown":"There is a Simple Solution You can Try this code \r\n\r\n\r\n        String s = &quot;hju   vg    jhdgsf  dh gg    g g  g  &quot;;\r\n\r\n\t\tString[] words = s.trim().split(&quot;\\\\s+&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;count is = &quot;+(words.length));","title":"Count words in a string method?","body":"<p>There is a Simple Solution You can Try this code </p>\n\n<pre><code>    String s = \"hju   vg    jhdgsf  dh gg    g g  g  \";\n\n    String[] words = s.trim().split(\"\\\\s+\");\n\n    System.out.println(\"count is = \"+(words.length));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2401564,"reputation":3099,"user_id":2100215,"display_name":"Matt"},"score":2,"creation_date":1454671188,"post_id":35222706,"comment_id":58159640,"body_markdown":"Don&#39;t just post code-only answers. Add some context.","body":"Don&#39;t just post code-only answers. Add some context."}],"tags":[],"owner":{"account_id":7781534,"reputation":17,"user_id":5887802,"accept_rate":75,"display_name":"Ashish M Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454670755,"creation_date":1454670755,"answer_id":35222706,"question_id":5864159,"body_markdown":"    public static int countWords(String input) {\r\n    \t\tint wordCount = 0;\r\n    \t\tboolean isBlankSet = false;\r\n    \t\tinput = input.trim();\r\n    \r\n    \t\tfor (int j = 0; j &lt; input.length(); j++) {\r\n    \t\t\tif (input.charAt(j) == &#39; &#39;)\r\n    \t\t\t\tisBlankSet = true;\r\n    \t\t\telse {\r\n    \t\t\t\tif (isBlankSet) {\r\n    \t\t\t\t\twordCount++;\r\n    \t\t\t\t\tisBlankSet = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn wordCount + 1;\r\n    \t}","title":"Count words in a string method?","body":"<pre><code>public static int countWords(String input) {\n        int wordCount = 0;\n        boolean isBlankSet = false;\n        input = input.trim();\n\n        for (int j = 0; j &lt; input.length(); j++) {\n            if (input.charAt(j) == ' ')\n                isBlankSet = true;\n            else {\n                if (isBlankSet) {\n                    wordCount++;\n                    isBlankSet = false;\n                }\n            }\n\n        }\n\n        return wordCount + 1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7269142,"reputation":1,"user_id":5542837,"display_name":"Misq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454874352,"creation_date":1454686145,"answer_id":35227754,"question_id":5864159,"body_markdown":"My idea of that program is that:\r\n\r\n    package text;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class CoutingWords {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString str;\r\n    \t\tint cWords = 1;\r\n    \t\tchar ch;\r\n    \t\t\r\n    \t\tBufferedReader buffor = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter text: &quot;);\r\n    \t\tstr = buffor.readLine();\r\n    \t\t\r\n    \t\tfor(int i =0; i&lt;str.length(); i++){\r\n    \t\t\tch = str.charAt(i);\r\n    \t\t\tif(Character.isWhitespace(ch)){ cWords++; }\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;There are &quot; + (int)cWords +&quot; words.&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Count words in a string method?","body":"<p>My idea of that program is that:</p>\n\n<pre><code>package text;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class CoutingWords {\n\n    public static void main(String[] args) throws IOException {\n        String str;\n        int cWords = 1;\n        char ch;\n\n        BufferedReader buffor = new BufferedReader(new InputStreamReader(System.in));\n\n        System.out.println(\"Enter text: \");\n        str = buffor.readLine();\n\n        for(int i =0; i&lt;str.length(); i++){\n            ch = str.charAt(i);\n            if(Character.isWhitespace(ch)){ cWords++; }\n        }\n        System.out.println(\"There are \" + (int)cWords +\" words.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6875932,"reputation":4382,"user_id":5284370,"accept_rate":43,"display_name":"Soorena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473363400,"creation_date":1458219017,"answer_id":36061062,"question_id":5864159,"body_markdown":"I&#39;m new to stackoverflow but I hope my code helps:\r\n \r\n\r\n    private int numOfWordsInLineCounter(String line){\r\n\r\n    \t int words = 0;\r\n\r\n    \t     for(int i = 1 ; i&lt;line.length();i++){\r\n    \t     Character ch  = line.charAt(i-1);\r\n    \t     Character bch = line.charAt(i);\r\n    \t         if(Character.isLetterOrDigit(ch) == true &amp;&amp; Character.isLetterOrDigit(bch)== false ) words++;\r\n    \t         if(i == line.length()-1 &amp;&amp; Character.isLetterOrDigit(bch))words++;\r\n    \t     }\r\n    \t return words;\r\n     } \r\n","title":"Count words in a string method?","body":"<p>I'm new to stackoverflow but I hope my code helps:</p>\n\n<pre><code>private int numOfWordsInLineCounter(String line){\n\n     int words = 0;\n\n         for(int i = 1 ; i&lt;line.length();i++){\n         Character ch  = line.charAt(i-1);\n         Character bch = line.charAt(i);\n             if(Character.isLetterOrDigit(ch) == true &amp;&amp; Character.isLetterOrDigit(bch)== false ) words++;\n             if(i == line.length()-1 &amp;&amp; Character.isLetterOrDigit(bch))words++;\n         }\n     return words;\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2753808,"reputation":117,"user_id":2372500,"accept_rate":43,"display_name":"AlketCecaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501813723,"creation_date":1494156433,"answer_id":43830925,"question_id":5864159,"body_markdown":"A string phrase normaly has words separated by space.  Well you can split the phrase using the spaces as separating characters and count them as follows.\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    \r\n    import java.util.Map;\r\n    \r\n    public class WordCountMethod {\r\n    \r\n    \tpublic static void main (String [] args){\r\n    \t\t\r\n    \t\tMap&lt;String, Integer&gt;m = new HashMap&lt;String, Integer&gt;();\r\n    \t\tString phrase = &quot;hello my name is John I repeat John&quot;;\r\n    \t\tString [] array = phrase.split(&quot; &quot;);\r\n    \t\t\r\n    \t\tfor(int i =0; i &lt; array.length; i++){\r\n    \t\t   \tString word_i = array[i];\r\n    \t\t\tInteger ci = m.get(word_i);\r\n    \t\t\tif(ci == null){\r\n    \t\t\t\tm.put(word_i, 1);\r\n    \t\t\t}\r\n    \t\t\telse m.put(word_i, ci+1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(String s : m.keySet()){\r\n    \t\t\tSystem.out.println(s+&quot; repeats &quot;+m.get(s));\r\n    \t\t}\r\n    \t}\r\n    \r\n    } ","title":"Count words in a string method?","body":"<p>A string phrase normaly has words separated by space.  Well you can split the phrase using the spaces as separating characters and count them as follows.</p>\n\n<pre><code>import java.util.HashMap;\n\nimport java.util.Map;\n\npublic class WordCountMethod {\n\n    public static void main (String [] args){\n\n        Map&lt;String, Integer&gt;m = new HashMap&lt;String, Integer&gt;();\n        String phrase = \"hello my name is John I repeat John\";\n        String [] array = phrase.split(\" \");\n\n        for(int i =0; i &lt; array.length; i++){\n            String word_i = array[i];\n            Integer ci = m.get(word_i);\n            if(ci == null){\n                m.put(word_i, 1);\n            }\n            else m.put(word_i, ci+1);\n        }\n\n        for(String s : m.keySet()){\n            System.out.println(s+\" repeats \"+m.get(s));\n        }\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":81137,"reputation":3497,"user_id":228971,"accept_rate":100,"display_name":"Dave Bower"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513348523,"creation_date":1513348523,"answer_id":47834479,"question_id":5864159,"body_markdown":"Taking the chosen answer as a starting point the following deals with a few English language issues including hyphenated words, apostrophes for possessives and shortenings, numbers and also any characters outside of UTF-16:\r\n\r\n    public static int countWords(final String s) {\r\n        int wordCount = 0;\r\n        boolean word = false;\r\n        final int endOfLine = s.length() - 1;\r\n\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            // if the char is a letter, word = true.\r\n            if (isWordCharacter(s, i) &amp;&amp; i != endOfLine) {\r\n                word = true;\r\n                // if char isn&#39;t a letter and there have been letters before,\r\n                // counter goes up.\r\n            } else if (!isWordCharacter(s, i) &amp;&amp; word) {\r\n                wordCount++;\r\n                word = false;\r\n                // last word of String; if it doesn&#39;t end with a non letter, it\r\n                // wouldn&#39;t count without this.\r\n            } else if (isWordCharacter(s, i) &amp;&amp; i == endOfLine) {\r\n                wordCount++;\r\n            }\r\n        }\r\n        return wordCount;\r\n    }\r\n\r\n    private static boolean isWordCharacter(final String s, final int i) {\r\n        final char ch = s.charAt(i);\r\n        return Character.isLetterOrDigit(ch)\r\n                || ch == &#39;\\&#39;&#39;\r\n                || Character.getType(ch) == Character.DASH_PUNCTUATION\r\n                || Character.isSurrogate(ch);\r\n    }","title":"Count words in a string method?","body":"<p>Taking the chosen answer as a starting point the following deals with a few English language issues including hyphenated words, apostrophes for possessives and shortenings, numbers and also any characters outside of UTF-16:</p>\n\n<pre><code>public static int countWords(final String s) {\n    int wordCount = 0;\n    boolean word = false;\n    final int endOfLine = s.length() - 1;\n\n    for (int i = 0; i &lt; s.length(); i++) {\n        // if the char is a letter, word = true.\n        if (isWordCharacter(s, i) &amp;&amp; i != endOfLine) {\n            word = true;\n            // if char isn't a letter and there have been letters before,\n            // counter goes up.\n        } else if (!isWordCharacter(s, i) &amp;&amp; word) {\n            wordCount++;\n            word = false;\n            // last word of String; if it doesn't end with a non letter, it\n            // wouldn't count without this.\n        } else if (isWordCharacter(s, i) &amp;&amp; i == endOfLine) {\n            wordCount++;\n        }\n    }\n    return wordCount;\n}\n\nprivate static boolean isWordCharacter(final String s, final int i) {\n    final char ch = s.charAt(i);\n    return Character.isLetterOrDigit(ch)\n            || ch == '\\''\n            || Character.getType(ch) == Character.DASH_PUNCTUATION\n            || Character.isSurrogate(ch);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6930196,"reputation":56,"user_id":9566717,"display_name":"Geoff Zoref"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528736084,"creation_date":1528736084,"answer_id":50802670,"question_id":5864159,"body_markdown":"I just put this together. The incrementer in the wordCount() method is a bit inelegant to me, but it works. \r\n\r\n    import java.util.*;\r\n    \r\n    public class WordCounter {\r\n\r\n    private String word;\r\n    private int numWords;\r\n\r\n    public int wordCount(String wrd) {\r\n        StringTokenizer token = new StringTokenizer(wrd, &quot; &quot;);\r\n        word = token.nextToken();\r\n        numWords = token.countTokens();\r\n        numWords++;\r\n\r\n        return numWords;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        String userWord;\r\n\r\n        WordCounter wc = new WordCounter();\r\n\r\n        System.out.println(&quot;Enter a sentence.&quot;);\r\n        userWord = input.nextLine();\r\n\r\n        wc.wordCount(userWord);\r\n\r\n        System.out.println(&quot;You sentence was &quot; + wc.numWords + &quot; words long.&quot;);\r\n      }\r\n    }","title":"Count words in a string method?","body":"<p>I just put this together. The incrementer in the wordCount() method is a bit inelegant to me, but it works. </p>\n\n<pre><code>import java.util.*;\n\npublic class WordCounter {\n\nprivate String word;\nprivate int numWords;\n\npublic int wordCount(String wrd) {\n    StringTokenizer token = new StringTokenizer(wrd, \" \");\n    word = token.nextToken();\n    numWords = token.countTokens();\n    numWords++;\n\n    return numWords;\n}\n\npublic static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n\n    String userWord;\n\n    WordCounter wc = new WordCounter();\n\n    System.out.println(\"Enter a sentence.\");\n    userWord = input.nextLine();\n\n    wc.wordCount(userWord);\n\n    System.out.println(\"You sentence was \" + wc.numWords + \" words long.\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15275609,"reputation":1,"user_id":11021425,"display_name":"Mahek Shah"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587471716,"creation_date":1587471716,"answer_id":61343454,"question_id":5864159,"body_markdown":"        String a = &quot;Some String&quot;;\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; a.length(); i++) {\r\n\r\n\t\t\tif (Character.isWhitespace(a.charAt(i))) {\r\n\t\t\t\tcount++; \r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(count+1);\r\n**It will count white spaces. However, If we add 1 in count , we can get exact words.**","title":"Count words in a string method?","body":"<pre><code>    String a = \"Some String\";\n    int count = 0;\n    for (int i = 0; i &lt; a.length(); i++) {\n\n        if (Character.isWhitespace(a.charAt(i))) {\n            count++; \n        }\n    }\n    System.out.println(count+1);\n</code></pre>\n\n<p><strong>It will count white spaces. However, If we add 1 in count , we can get exact words.</strong></p>\n"},{"tags":[],"owner":{"account_id":9051650,"reputation":91,"user_id":6741503,"display_name":"CuriosCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599149734,"creation_date":1599149734,"answer_id":63727722,"question_id":5864159,"body_markdown":"create variable count, state. initialize variables  \r\nif space is present keep count as it is else increase count.\r\nfor eg:\r\n\r\n    if (string.charAt(i) == &#39; &#39; ) {\r\n    state = 0;\r\n    } else if (state == 0) {\r\n    state = 1;\r\n    count += 1;\r\n\r\n","title":"Count words in a string method?","body":"<p>create variable count, state. initialize variables<br />\nif space is present keep count as it is else increase count.\nfor eg:</p>\n<pre><code>if (string.charAt(i) == ' ' ) {\nstate = 0;\n} else if (state == 0) {\nstate = 1;\ncount += 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607620576,"creation_date":1607617274,"answer_id":65238353,"question_id":5864159,"body_markdown":"*lambda, in which splitting and storing of the counted words is dispensed with*&lt;br /&gt;*and* only *counting is done*\r\n\r\n    String text = &quot;counting w/o apostrophe&#39;s problems or consecutive   spaces&quot;;\r\n\r\n    int count = text.codePoints().boxed().collect(\r\n        Collector.of(\r\n            () -&gt; new int[] {0, 0},\r\n            (a, c) -&gt; {\r\n              if( &quot;.,; \\t&quot;.indexOf( c ) &gt;= 0 )\r\n                a[1] = 0;\r\n              else if( a[1]++ == 0 ) a[0]++;\r\n            }, (a, b) -&gt; {a[0] += b[0]; return( a );},\r\n            a -&gt; a[0] ) );\r\n\r\ngets: `7`\r\n&lt;br /&gt;works as a status machine that counts the transitions from spacing characters `.,; \\t` to words","title":"Count words in a string method?","body":"<p><em>lambda, in which splitting and storing of the counted words is dispensed with</em><br /><em>and</em> only <em>counting is done</em></p>\n<pre><code>String text = &quot;counting w/o apostrophe's problems or consecutive   spaces&quot;;\n\nint count = text.codePoints().boxed().collect(\n    Collector.of(\n        () -&gt; new int[] {0, 0},\n        (a, c) -&gt; {\n          if( &quot;.,; \\t&quot;.indexOf( c ) &gt;= 0 )\n            a[1] = 0;\n          else if( a[1]++ == 0 ) a[0]++;\n        }, (a, b) -&gt; {a[0] += b[0]; return( a );},\n        a -&gt; a[0] ) );\n</code></pre>\n<p>gets: <code>7</code>\n<br />works as a status machine that counts the transitions from spacing characters <code>.,; \\t</code> to words</p>\n"}],"owner":{"account_id":338829,"reputation":1077,"user_id":1082823,"accept_rate":78,"display_name":"Philip McQuitty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245776,"favorite_count":0,"down_vote_count":2,"up_vote_count":37,"accepted_answer_id":5864184,"answer_count":23,"score":35,"last_activity_date":1671926728,"creation_date":1304386009,"question_id":5864159,"body_markdown":"I was wondering how I would write a method to count the number of words in a java string only by using string methods like charAt, length, or substring.\r\n\r\nLoops and if statements are okay!\r\n\r\nI really appreciate any help I can get! Thanks!","title":"Count words in a string method?","body":"<p>I was wondering how I would write a method to count the number of words in a java string only by using string methods like charAt, length, or substring.</p>\n\n<p>Loops and if statements are okay!</p>\n\n<p>I really appreciate any help I can get! Thanks!</p>\n"},{"tags":["java","maven-2","ant","surefire"],"answers":[{"comments":[{"owner":{"account_id":79836,"reputation":7137,"user_id":226114,"accept_rate":67,"display_name":"Y.H Wong"},"score":0,"creation_date":1274090718,"post_id":2847475,"comment_id":2891160,"body_markdown":"Does it open a subprocess or just runs ant embedded? If this just embeds ant and it&#39;s task, this is exactly what I need.","body":"Does it open a subprocess or just runs ant embedded? If this just embeds ant and it&#39;s task, this is exactly what I need."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1274093989,"post_id":2847475,"comment_id":2891481,"body_markdown":"@jimmy It runs the ant task in the same process.","body":"@jimmy It runs the ant task in the same process."},{"owner":{"account_id":1709181,"reputation":786,"user_id":1567566,"accept_rate":40,"display_name":"Tinman"},"score":0,"creation_date":1399433954,"post_id":2847475,"comment_id":36054530,"body_markdown":"Take a look at the http://maven.apache.org/surefire/maven-failsafe-plugin/. Build to the &#39;verify&#39; phase, and it will fail at that point, after the report has been generated.","body":"Take a look at the <a href=\"http://maven.apache.org/surefire/maven-failsafe-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-failsafe-plugin</a>. Build to the &#39;verify&#39; phase, and it will fail at that point, after the report has been generated."},{"owner":{"account_id":3893766,"reputation":1244,"user_id":3223340,"accept_rate":38,"display_name":"Jugi"},"score":0,"creation_date":1441188579,"post_id":2847475,"comment_id":52573840,"body_markdown":"is it possible to change the html report name ? all the html reports are generated with the name as &quot;junit-noframes&quot;.","body":"is it possible to change the html report name ? all the html reports are generated with the name as &quot;junit-noframes&quot;."},{"owner":{"account_id":1477316,"reputation":1603,"user_id":2498938,"accept_rate":11,"display_name":"royki"},"score":0,"creation_date":1496992943,"post_id":2847475,"comment_id":75900082,"body_markdown":"@PascalThivent Hello, Following this configuration of ANT in MAVEN, Surefire report is generating duplicate tests in the html report. How can I avoid that ?","body":"@PascalThivent Hello, Following this configuration of ANT in MAVEN, Surefire report is generating duplicate tests in the html report. How can I avoid that ?"}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1432876428,"creation_date":1274083855,"answer_id":2847475,"question_id":2846493,"body_markdown":"Indeed, generating the whole site at each build is clearly not an option. But the problem is that `mvn surefire-report:report-only` doesn&#39;t create the the css/*.css files, hence the ugly result. This is logged in [SUREFIRE-616][1] (doesn&#39;t mean something will happen though). Personally, I don&#39;t use HTML reports that much so I can live with that but that&#39;s not a good answer so here is a workaround based on the ant task (\\*sigh\\*):\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test-reports&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n              &lt;tasks&gt;\r\n                &lt;junitreport todir=&quot;target/surefire-reports&quot;&gt;\r\n                  &lt;fileset dir=&quot;target/surefire-reports&quot;&gt;\r\n                    &lt;include name=&quot;**/*.xml&quot;/&gt;\r\n                  &lt;/fileset&gt;\r\n                  &lt;report format=&quot;noframes&quot; todir=&quot;target/surefire-reports&quot;/&gt;\r\n                &lt;/junitreport&gt;\r\n              &lt;/tasks&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;ant&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n\r\n**Update:** My initial idea was to run the Maven AntRun plugin &quot;on demand&quot; to generate the reports... but that&#39;s not what I posted, I bound it to the `test` phase... But I didn&#39;t think about the case of failed tests (that would stop the build and prevent the execution of the AntRun plugin). So, either:\r\n\r\n1. Don&#39;t bind the AntRun plugin to the `test` phase, move the configuration outside the `execution` and call `mvn antrun:run` on the command line to generate the reports when wanted.  \r\n\r\n1. or use the [`testFailureIgnore`][2] option of the test mojo and set it to true in the surefire plugin configuration:\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n1. or set this expression from the command line using the -D parameter:\r\n\r\n        $ mvn test -Dmaven.test.failure.ignore=true\r\n\r\nI think that Option #1 is the best option, you don&#39;t necessarily want to generate the reports (especially when the test passes) and generate them systematically may slow down the build on the long term. I&#39;d generate them &quot;on demand&quot;.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-616\r\n  [2]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#testFailureIgnore","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Indeed, generating the whole site at each build is clearly not an option. But the problem is that <code>mvn surefire-report:report-only</code> doesn't create the the css/*.css files, hence the ugly result. This is logged in <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-616\" rel=\"noreferrer\">SUREFIRE-616</a> (doesn't mean something will happen though). Personally, I don't use HTML reports that much so I can live with that but that's not a good answer so here is a workaround based on the ant task (*sigh*):</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;test-reports&lt;/id&gt;\n        &lt;phase&gt;test&lt;/phase&gt;\n        &lt;configuration&gt;\n          &lt;tasks&gt;\n            &lt;junitreport todir=\"target/surefire-reports\"&gt;\n              &lt;fileset dir=\"target/surefire-reports\"&gt;\n                &lt;include name=\"**/*.xml\"/&gt;\n              &lt;/fileset&gt;\n              &lt;report format=\"noframes\" todir=\"target/surefire-reports\"/&gt;\n            &lt;/junitreport&gt;\n          &lt;/tasks&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Update:</strong> My initial idea was to run the Maven AntRun plugin \"on demand\" to generate the reports... but that's not what I posted, I bound it to the <code>test</code> phase... But I didn't think about the case of failed tests (that would stop the build and prevent the execution of the AntRun plugin). So, either:</p>\n\n<ol>\n<li><p>Don't bind the AntRun plugin to the <code>test</code> phase, move the configuration outside the <code>execution</code> and call <code>mvn antrun:run</code> on the command line to generate the reports when wanted.  </p></li>\n<li><p>or use the <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#testFailureIgnore\" rel=\"noreferrer\"><code>testFailureIgnore</code></a> option of the test mojo and set it to true in the surefire plugin configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre></li>\n<li><p>or set this expression from the command line using the -D parameter:</p>\n\n<pre><code>$ mvn test -Dmaven.test.failure.ignore=true\n</code></pre></li>\n</ol>\n\n<p>I think that Option #1 is the best option, you don't necessarily want to generate the reports (especially when the test passes) and generate them systematically may slow down the build on the long term. I'd generate them \"on demand\".</p>\n"},{"comments":[{"owner":{"account_id":2562319,"reputation":834,"user_id":2243384,"accept_rate":41,"display_name":"masT"},"score":0,"creation_date":1385630876,"post_id":2864157,"comment_id":30224370,"body_markdown":"Did you get the way to generate report after test failure.?","body":"Did you get the way to generate report after test failure.?"},{"owner":{"account_id":1477316,"reputation":1603,"user_id":2498938,"accept_rate":11,"display_name":"royki"},"score":0,"creation_date":1496992974,"post_id":2864157,"comment_id":75900097,"body_markdown":"Hello, Following this configuration of ANT in MAVEN, Surefire report is generating duplicate tests in the html report. How can I avoid that ?","body":"Hello, Following this configuration of ANT in MAVEN, Surefire report is generating duplicate tests in the html report. How can I avoid that ?"}],"tags":[],"owner":{"account_id":79836,"reputation":7137,"user_id":226114,"accept_rate":67,"display_name":"Y.H Wong"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1274260577,"creation_date":1274260213,"answer_id":2864157,"question_id":2846493,"body_markdown":"Thanks for Pascal, I&#39;ve found an improved solution to do what I want to do:\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;!-- Extended Maven antrun plugin --&gt;\r\n        &lt;!-- https://maven-antrun-extended-plugin.dev.java.net/ --&gt;\r\n        &lt;groupId&gt;org.jvnet.maven-antrun-extended-plugin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-antrun-extended-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test-reports&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n              &lt;tasks&gt;\r\n                &lt;junitreport todir=&quot;target/surefire-reports&quot;&gt;\r\n                  &lt;fileset dir=&quot;target/surefire-reports&quot;&gt;\r\n                    &lt;include name=&quot;**/*.xml&quot;/&gt;\r\n                  &lt;/fileset&gt;\r\n                  &lt;report format=&quot;noframes&quot; todir=&quot;target/surefire-reports&quot;/&gt;\r\n                &lt;/junitreport&gt;\r\n              &lt;/tasks&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ant-trax&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nThis version uses a newer version of ant and best of all. However, I still haven&#39;t found a way to generate a test report when tests fail. How should I do that?","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Thanks for Pascal, I've found an improved solution to do what I want to do:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;!-- Extended Maven antrun plugin --&gt;\n    &lt;!-- https://maven-antrun-extended-plugin.dev.java.net/ --&gt;\n    &lt;groupId&gt;org.jvnet.maven-antrun-extended-plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-extended-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;test-reports&lt;/id&gt;\n        &lt;phase&gt;test&lt;/phase&gt;\n        &lt;configuration&gt;\n          &lt;tasks&gt;\n            &lt;junitreport todir=\"target/surefire-reports\"&gt;\n              &lt;fileset dir=\"target/surefire-reports\"&gt;\n                &lt;include name=\"**/*.xml\"/&gt;\n              &lt;/fileset&gt;\n              &lt;report format=\"noframes\" todir=\"target/surefire-reports\"/&gt;\n            &lt;/junitreport&gt;\n          &lt;/tasks&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant-trax&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>This version uses a newer version of ant and best of all. However, I still haven't found a way to generate a test report when tests fail. How should I do that?</p>\n"},{"tags":[],"owner":{"display_name":"Guilherme Germoglio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426122707,"creation_date":1277493187,"answer_id":3120775,"question_id":2846493,"body_markdown":"You can set `-Dmaven.test.failure.ignore=true` to generate the test report when tests fail.","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>You can set <code>-Dmaven.test.failure.ignore=true</code> to generate the test report when tests fail.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377126023,"creation_date":1377124821,"answer_id":18368882,"question_id":2846493,"body_markdown":"Here is how I did it using the goal ***site maven-surefire:report*** :\r\n\r\n    \t&lt;reporting&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;showSuccess&gt;false&lt;/showSuccess&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/surefire-reports&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/surefire-reports&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/reporting&gt;\r\n    \r\n    &lt;/project&gt;","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Here is how I did it using the goal <strong><em>site maven-surefire:report</em></strong> :</p>\n\n<pre><code>    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showSuccess&gt;false&lt;/showSuccess&gt;\n                    &lt;outputDirectory&gt;${basedir}/target/surefire-reports&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/target/surefire-reports&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":7,"creation_date":1480932873,"post_id":23958874,"comment_id":69152595,"body_markdown":"This should have been accepted as easiest way to achieve results and the answer.","body":"This should have been accepted as easiest way to achieve results and the answer."}],"tags":[],"owner":{"account_id":4545200,"reputation":851,"user_id":3692018,"display_name":"prasanna"},"comment_count":1,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1671926633,"creation_date":1401466026,"answer_id":23958874,"question_id":2846493,"body_markdown":"This is what I do:\r\n\r\n    # Run tests and generate .xml reports\r\n    mvn test\r\n\r\n    # Convert .xml reports into .html report, but without the CSS or images\r\n    mvn surefire-report:report-only\r\n\r\n    # Put the CSS and images where they need to be without the rest of the\r\n    # time-consuming stuff\r\n    mvn site -DgenerateReports=false\r\n\r\ngo to target/site/surefire-report.html for the report.\r\n\r\nAfter tests run, the rest of the two run in about 3.5 seconds for me.","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>This is what I do:</p>\n<pre><code># Run tests and generate .xml reports\nmvn test\n\n# Convert .xml reports into .html report, but without the CSS or images\nmvn surefire-report:report-only\n\n# Put the CSS and images where they need to be without the rest of the\n# time-consuming stuff\nmvn site -DgenerateReports=false\n</code></pre>\n<p>go to target/site/surefire-report.html for the report.</p>\n<p>After tests run, the rest of the two run in about 3.5 seconds for me.</p>\n"},{"comments":[{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":1,"creation_date":1603954870,"post_id":38224133,"comment_id":114200485,"body_markdown":"Thanks! For failsafe: `mvn surefire-report:failsafe-report-only site -DgenerateReports=false`","body":"Thanks! For failsafe: <code>mvn surefire-report:failsafe-report-only site -DgenerateReports=false</code>"}],"tags":[],"owner":{"account_id":8768570,"reputation":71,"user_id":6556163,"display_name":"Sach_21590"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1467808423,"creation_date":1467808423,"answer_id":38224133,"question_id":2846493,"body_markdown":"Create a new maven run configuration and with goal =&gt;\r\n\r\n    surefire-report:report site -DgenerateReports=false\r\n\r\nThis can help you to have a better report view with css.","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Create a new maven run configuration and with goal =></p>\n\n<pre><code>surefire-report:report site -DgenerateReports=false\n</code></pre>\n\n<p>This can help you to have a better report view with css.</p>\n"},{"comments":[{"owner":{"account_id":8982326,"reputation":1004,"user_id":6697093,"accept_rate":100,"display_name":"Julio Villane"},"score":0,"creation_date":1532562755,"post_id":43117688,"comment_id":90026633,"body_markdown":"wich version are you using? because with the 2.22.0 the css and images files are missing when you run that command","body":"wich version are you using? because with the 2.22.0 the css and images files are missing when you run that command"}],"tags":[],"owner":{"account_id":8412898,"reputation":2565,"user_id":6314219,"display_name":"Ravikiran Reddy Kotapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490877910,"creation_date":1490876329,"answer_id":43117688,"question_id":2846493,"body_markdown":"Run the below command\r\n\r\n    mvn clean install surefire-report:report  \r\n\r\nYou can find the report in the below location\r\n\r\n    {basedir}/target/site/surefire-report.html\r\n\r\nFor more details refer the below link\r\n\r\nhttp://maven.apache.org/surefire/maven-surefire-report-plugin/usage.html\r\n\r\n","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Run the below command</p>\n\n<pre><code>mvn clean install surefire-report:report  \n</code></pre>\n\n<p>You can find the report in the below location</p>\n\n<pre><code>{basedir}/target/site/surefire-report.html\n</code></pre>\n\n<p>For more details refer the below link</p>\n\n<p><a href=\"http://maven.apache.org/surefire/maven-surefire-report-plugin/usage.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/surefire/maven-surefire-report-plugin/usage.html</a></p>\n"},{"tags":[],"owner":{"account_id":18514626,"reputation":1,"user_id":13489026,"display_name":"suresh chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588837875,"creation_date":1588837875,"answer_id":61652524,"question_id":2846493,"body_markdown":"Add this pom as above mentioned 1.option take out the configuration from execution phase \r\nkeep outside, run **mvn &#39;verify&#39;** and then run again **mvn &#39;antrun:run&#39;**..\r\n    Then you are able to see failed test cases as well\r\n    \r\n        \r\n    \r\n    &lt;plugin&gt;\r\n        \t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        \t&lt;executions&gt;\r\n        \t\t&lt;execution&gt;\r\n        \t\t\t&lt;id&gt;test-reports&lt;/id&gt;\r\n        \t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n        \t\t\t&lt;goals&gt;\r\n        \t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n        \t\t\t&lt;/goals&gt;\r\n        \t\t&lt;/execution&gt;\r\n        \t&lt;/executions&gt;\r\n        \t&lt;configuration&gt;\r\n        \t\t&lt;tasks&gt;\r\n        \t\t\t&lt;junitreport todir=&quot;target/surefire-reports&quot;&gt;\r\n        \t\t\t\t&lt;fileset dir=&quot;target/surefire-reports&quot;&gt;\r\n        \t\t\t\t\t&lt;include name=&quot;**/*.xml&quot; /&gt;\r\n        \t\t\t\t&lt;/fileset&gt;\r\n        \t\t\t\t&lt;report format=&quot;noframes&quot; todir=&quot;target/surefire-reports&quot; /&gt;\r\n        \t\t\t&lt;/junitreport&gt;\r\n        \t\t&lt;/tasks&gt;\r\n        \t&lt;/configuration&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;ant&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;version&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n        \t    &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        \t          &lt;version&gt;version&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n\r\n","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>Add this pom as above mentioned 1.option take out the configuration from execution phase \nkeep outside, run <strong>mvn 'verify'</strong> and then run again <strong>mvn 'antrun:run'</strong>..\n    Then you are able to see failed test cases as well</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;test-reports&lt;/id&gt;\n                &lt;phase&gt;test&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;run&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;tasks&gt;\n                &lt;junitreport todir=\"target/surefire-reports\"&gt;\n                    &lt;fileset dir=\"target/surefire-reports\"&gt;\n                        &lt;include name=\"**/*.xml\" /&gt;\n                    &lt;/fileset&gt;\n                    &lt;report format=\"noframes\" todir=\"target/surefire-reports\" /&gt;\n                &lt;/junitreport&gt;\n            &lt;/tasks&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ant&lt;/groupId&gt;\n                &lt;artifactId&gt;ant-junit&lt;/artifactId&gt;\n                &lt;version&gt;version&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                  &lt;version&gt;version&lt;/version&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":79836,"reputation":7137,"user_id":226114,"accept_rate":67,"display_name":"Y.H Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56162,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":2847475,"answer_count":8,"score":49,"last_activity_date":1671926633,"creation_date":1274067147,"question_id":2846493,"body_markdown":"I find the `surefire-report` plug-in very unsuitable to my working style. I clean the project all the time and I don&#39;t want to spend 5 min to rebuild the whole site every time I want to look at the test report in my browser. \r\n\r\nIf I type `mvn surefire-report:report-only`, the generated report is too ugly and barely readable. \r\n\r\nWhat I&#39;m looking for is something like ant&#39;s JUnitReport task. Is there one available out there already?","title":"Is there a decent HTML Junit report plugin for Maven?","body":"<p>I find the <code>surefire-report</code> plug-in very unsuitable to my working style. I clean the project all the time and I don't want to spend 5 min to rebuild the whole site every time I want to look at the test report in my browser. </p>\n\n<p>If I type <code>mvn surefire-report:report-only</code>, the generated report is too ugly and barely readable. </p>\n\n<p>What I'm looking for is something like ant's JUnitReport task. Is there one available out there already?</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"score":15,"creation_date":1340693992,"post_id":6357579,"comment_id":14705651,"body_markdown":"To all who arrive here, there is an article which solves exactly my problem. Please have a look at [this](http://slackspace.de/articles/roles-permissions-with-spring-security-3/)","body":"To all who arrive here, there is an article which solves exactly my problem. Please have a look at <a href=\"http://slackspace.de/articles/roles-permissions-with-spring-security-3/\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":2011139,"reputation":1324,"user_id":1799528,"accept_rate":67,"display_name":"gabi"},"score":0,"creation_date":1414271193,"post_id":6357579,"comment_id":41753496,"body_markdown":"I read that article and Im trying to implement that. Would you please tell me how did you implement that SpringSecurityDaoImpl  class? @PreAuthorize doesnt affect my urls at all! I have done exactly like the material in that article.","body":"I read that article and Im trying to implement that. Would you please tell me how did you implement that SpringSecurityDaoImpl  class? @PreAuthorize doesnt affect my urls at all! I have done exactly like the material in that article."},{"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"score":0,"creation_date":1414377564,"post_id":6357579,"comment_id":41777689,"body_markdown":"@sina You don&#39;t have to implement the `SpringSecurityDaoImpl` just extend `JdbcDaoImpl` as it is in the example. Make sure to look at the example code on github, which is referenced in the article.","body":"@sina You don&#39;t have to implement the <code>SpringSecurityDaoImpl</code> just extend <code>JdbcDaoImpl</code> as it is in the example. Make sure to look at the example code on github, which is referenced in the article."}],"answers":[{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308224774,"creation_date":1308224774,"answer_id":6371292,"question_id":6357579,"body_markdown":"The basic steps are:\r\n\r\n1. Use a custom authentication provider\r\n\r\n        &lt;bean id=&quot;myAuthenticationProvider&quot; class=&quot;myProviderImplementation&quot; scope=&quot;singleton&quot;&gt;\r\n        ...\r\n        &lt;/bean&gt;\r\n\r\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n        &lt;security:authentication-provider ref=&quot;myAuthenticationProvider&quot;/&gt;\r\n    &lt;/security:authentication-manager&gt;\r\n\r\n2. Make your custom provider return a custom `UserDetails` implementation. This `UserDetailsImpl` will have a `getAuthorities()` like this:\r\n\r\n        public Collection&lt;GrantedAuthority&gt; getAuthorities() {\r\n            List&lt;GrantedAuthority&gt; permissions = new ArrayList&lt;GrantedAuthority&gt;();\r\n            for (GrantedAuthority role: roles) {\r\n                permissions.addAll(getPermissionsIncludedInRole(role));\r\n            }\r\n            return permissions;\r\n        }\r\n\r\nOf course from here you could apply a lot of optimizations/customizations for your specific requirements.","title":"Spring Security with roles and permissions","body":"<p>The basic steps are:</p>\n\n<ol>\n<li><p>Use a custom authentication provider</p>\n\n<pre><code>&lt;bean id=\"myAuthenticationProvider\" class=\"myProviderImplementation\" scope=\"singleton\"&gt;\n...\n&lt;/bean&gt;\n</code></pre>\n\n<p>\n    \n</p></li>\n<li><p>Make your custom provider return a custom <code>UserDetails</code> implementation. This <code>UserDetailsImpl</code> will have a <code>getAuthorities()</code> like this:</p>\n\n<pre><code>public Collection&lt;GrantedAuthority&gt; getAuthorities() {\n    List&lt;GrantedAuthority&gt; permissions = new ArrayList&lt;GrantedAuthority&gt;();\n    for (GrantedAuthority role: roles) {\n        permissions.addAll(getPermissionsIncludedInRole(role));\n    }\n    return permissions;\n}\n</code></pre></li>\n</ol>\n\n<p>Of course from here you could apply a lot of optimizations/customizations for your specific requirements.</p>\n"},{"comments":[{"owner":{"account_id":421558,"reputation":463,"user_id":799867,"display_name":"ezequielb"},"score":1,"creation_date":1308225698,"post_id":6371415,"comment_id":7461712,"body_markdown":"extend this one DaoAuthenticationProvider and give it a custom UserDetailsService, that should perform the permissions loading.","body":"extend this one DaoAuthenticationProvider and give it a custom UserDetailsService, that should perform the permissions loading."}],"tags":[],"owner":{"account_id":421558,"reputation":463,"user_id":799867,"display_name":"ezequielb"},"comment_count":1,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1437051405,"creation_date":1308225497,"answer_id":6371415,"question_id":6357579,"body_markdown":"To implement that, it seems that you have to:\r\n\r\n  1. Create your model (user, role, permissions) and a way to retrieve permissions for a given user;\r\n  2. Define your own  `org.springframework.security.authentication.ProviderManager` and configure it (set its providers) to a custom `org.springframework.security.authentication.AuthenticationProvider`.\r\nThis last one should return on its authenticate method a Authentication, which should be setted with the `org.springframework.security.core.GrantedAuthority`, in your case, all the permissions for the given user.\r\n\r\nThe trick in that article is to have roles assigned to users, but, to set the permissions for those roles in the `Authentication.authorities` object.\r\n\r\nFor that I advise you to read the API, and see if you can extend some basic ProviderManager and AuthenticationProvider instead of implementing everything. I&#39;ve done that with `org.springframework.security.ldap.authentication.LdapAuthenticationProvider` setting a custom LdapAuthoritiesPopulator, that would retrieve the correct roles for the user.\r\n\r\nHope this time I got what you are looking for.\r\nGood luck.","title":"Spring Security with roles and permissions","body":"<p>To implement that, it seems that you have to:</p>\n\n<ol>\n<li>Create your model (user, role, permissions) and a way to retrieve permissions for a given user;</li>\n<li>Define your own  <code>org.springframework.security.authentication.ProviderManager</code> and configure it (set its providers) to a custom <code>org.springframework.security.authentication.AuthenticationProvider</code>.\nThis last one should return on its authenticate method a Authentication, which should be setted with the <code>org.springframework.security.core.GrantedAuthority</code>, in your case, all the permissions for the given user.</li>\n</ol>\n\n<p>The trick in that article is to have roles assigned to users, but, to set the permissions for those roles in the <code>Authentication.authorities</code> object.</p>\n\n<p>For that I advise you to read the API, and see if you can extend some basic ProviderManager and AuthenticationProvider instead of implementing everything. I've done that with <code>org.springframework.security.ldap.authentication.LdapAuthenticationProvider</code> setting a custom LdapAuthoritiesPopulator, that would retrieve the correct roles for the user.</p>\n\n<p>Hope this time I got what you are looking for.\nGood luck.</p>\n"},{"comments":[{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":1,"creation_date":1382612427,"post_id":9029859,"comment_id":29031669,"body_markdown":"Hi, Could you please provide a practical solution of Custom User details as you detailed in that answer? thanks.","body":"Hi, Could you please provide a practical solution of Custom User details as you detailed in that answer? thanks."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1397522447,"post_id":9029859,"comment_id":35260859,"body_markdown":"Hi, I implemented a application using Spring Security using a custom AuthenticationProvider and UserDetailsService classes. Now, I want use roles and permissions in my application. I am using now this: **@Secured(&quot;ROLE_ADMIN&quot;)**, which uses handles only roles. How I expand this to handle the permissions. (More details here -&gt; http://stackoverflow.com/questions/23072619/implementation-of-roles-and-permissions-in-spring-security)","body":"Hi, I implemented a application using Spring Security using a custom AuthenticationProvider and UserDetailsService classes. Now, I want use roles and permissions in my application. I am using now this: <b>@Secured(&quot;ROLE_ADMIN&quot;)</b>, which uses handles only roles. How I expand this to handle the permissions. (More details here -&gt; <a href=\"http://stackoverflow.com/questions/23072619/implementation-of-roles-and-permissions-in-spring-security\" title=\"implementation of roles and permissions in spring security\">stackoverflow.com/questions/23072619/&hellip;</a>)"}],"tags":[],"owner":{"display_name":"user41871"},"comment_count":2,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1671926601,"creation_date":1327646689,"answer_id":9029859,"question_id":6357579,"body_markdown":"I&#39;m the author of the article in question.\r\n\r\nNo doubt there are multiple ways to do it, but the way I typically do it is to implement a custom `UserDetails` that knows about roles and permissions. `Role` and `Permission` are just custom classes that you write. (Nothing fancy--`Role` has a name and a set of `Permission` instances, and `Permission` has a name.) Then the `getAuthorities()` returns `GrantedAuthority` objects that look like this:\r\n\r\n`PERM_CREATE_POST`, `PERM_UPDATE_POST`, `PERM_READ_POST`\r\n\r\ninstead of returning things like\r\n\r\n`ROLE_USER`, `ROLE_MODERATOR`\r\n\r\nThe roles are still available if your `UserDetails` implementation has a `getRoles()` method. (I recommend having one.)\r\n\r\nIdeally you assign roles to the user and the associated permissions are filled in automatically. This would involve having a custom `UserDetailsService` that knows how to perform that mapping, and all it has to do is source the mapping from the database. (See the article for the schema.)\r\n\r\nThen you can define your authorization rules in terms of permissions instead of roles.","title":"Spring Security with roles and permissions","body":"<p>I'm the author of the article in question.</p>\n<p>No doubt there are multiple ways to do it, but the way I typically do it is to implement a custom <code>UserDetails</code> that knows about roles and permissions. <code>Role</code> and <code>Permission</code> are just custom classes that you write. (Nothing fancy--<code>Role</code> has a name and a set of <code>Permission</code> instances, and <code>Permission</code> has a name.) Then the <code>getAuthorities()</code> returns <code>GrantedAuthority</code> objects that look like this:</p>\n<p><code>PERM_CREATE_POST</code>, <code>PERM_UPDATE_POST</code>, <code>PERM_READ_POST</code></p>\n<p>instead of returning things like</p>\n<p><code>ROLE_USER</code>, <code>ROLE_MODERATOR</code></p>\n<p>The roles are still available if your <code>UserDetails</code> implementation has a <code>getRoles()</code> method. (I recommend having one.)</p>\n<p>Ideally you assign roles to the user and the associated permissions are filled in automatically. This would involve having a custom <code>UserDetailsService</code> that knows how to perform that mapping, and all it has to do is source the mapping from the database. (See the article for the schema.)</p>\n<p>Then you can define your authorization rules in terms of permissions instead of roles.</p>\n"},{"comments":[{"owner":{"account_id":4148180,"reputation":222,"user_id":3401341,"accept_rate":29,"display_name":"CHiRAG"},"score":0,"creation_date":1614428017,"post_id":17644711,"comment_id":117385567,"body_markdown":"can you please add the simple data with respect to the table?","body":"can you please add the simple data with respect to the table?"}],"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1389034380,"creation_date":1373843435,"answer_id":17644711,"question_id":6357579,"body_markdown":"This is the simplest way to do it. Allows for group authorities, as well as user authorities.\r\n\r\n    -- Postgres syntax\r\n    \r\n    create table users (\r\n      user_id serial primary key,\r\n      enabled boolean not null default true,\r\n      password text not null,\r\n      username citext not null unique\r\n    );\r\n\r\n    create index on users (username);\r\n    \r\n    create table groups (\r\n      group_id serial primary key,\r\n      name citext not null unique\r\n    );\r\n    \r\n    create table authorities (\r\n      authority_id serial primary key,\r\n      authority citext not null unique\r\n    );\r\n    \r\n    create table user_authorities (\r\n      user_id int references users,\r\n      authority_id int references authorities,\r\n      primary key (user_id, authority_id)\r\n    );\r\n    \r\n    create table group_users (\r\n      group_id int references groups,\r\n      user_id int referenecs users,\r\n      primary key (group_id, user_id)\r\n    );\r\n    \r\n    create table group_authorities (\r\n      group_id int references groups,\r\n      authority_id int references authorities,\r\n      primary key (group_id, authority_id)\r\n    );\r\n\r\nThen in META-INF/applicationContext-security.xml\r\n\r\n    &lt;beans:bean class=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot; id=&quot;passwordEncoder&quot; /&gt;\r\n    \r\n    &lt;authentication-manager&gt;\r\n        &lt;authentication-provider&gt;\r\n    \r\n            &lt;jdbc-user-service\r\n                    data-source-ref=&quot;dataSource&quot;\r\n\r\n                    users-by-username-query=&quot;select username, password, enabled from users where username=?&quot;\r\n\r\n                    authorities-by-username-query=&quot;select users.username, authorities.authority from users join user_authorities using(user_id) join authorities using(authority_id) where users.username=?&quot;\r\n\r\n                    group-authorities-by-username-query=&quot;select groups.id, groups.name, authorities.authority from users join group_users using(user_id) join groups using(group_id) join group_authorities using(group_id) join authorities using(authority_id) where users.username=?&quot;\r\n\r\n                    /&gt;\r\n    \r\n              &lt;password-encoder ref=&quot;passwordEncoder&quot; /&gt;\r\n    \r\n        &lt;/authentication-provider&gt;\r\n    &lt;/authentication-manager&gt;","title":"Spring Security with roles and permissions","body":"<p>This is the simplest way to do it. Allows for group authorities, as well as user authorities.</p>\n\n<pre><code>-- Postgres syntax\n\ncreate table users (\n  user_id serial primary key,\n  enabled boolean not null default true,\n  password text not null,\n  username citext not null unique\n);\n\ncreate index on users (username);\n\ncreate table groups (\n  group_id serial primary key,\n  name citext not null unique\n);\n\ncreate table authorities (\n  authority_id serial primary key,\n  authority citext not null unique\n);\n\ncreate table user_authorities (\n  user_id int references users,\n  authority_id int references authorities,\n  primary key (user_id, authority_id)\n);\n\ncreate table group_users (\n  group_id int references groups,\n  user_id int referenecs users,\n  primary key (group_id, user_id)\n);\n\ncreate table group_authorities (\n  group_id int references groups,\n  authority_id int references authorities,\n  primary key (group_id, authority_id)\n);\n</code></pre>\n\n<p>Then in META-INF/applicationContext-security.xml</p>\n\n<pre><code>&lt;beans:bean class=\"org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\" id=\"passwordEncoder\" /&gt;\n\n&lt;authentication-manager&gt;\n    &lt;authentication-provider&gt;\n\n        &lt;jdbc-user-service\n                data-source-ref=\"dataSource\"\n\n                users-by-username-query=\"select username, password, enabled from users where username=?\"\n\n                authorities-by-username-query=\"select users.username, authorities.authority from users join user_authorities using(user_id) join authorities using(authority_id) where users.username=?\"\n\n                group-authorities-by-username-query=\"select groups.id, groups.name, authorities.authority from users join group_users using(user_id) join groups using(group_id) join group_authorities using(group_id) join authorities using(authority_id) where users.username=?\"\n\n                /&gt;\n\n          &lt;password-encoder ref=\"passwordEncoder\" /&gt;\n\n    &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551205503,"creation_date":1551205503,"answer_id":54891870,"question_id":6357579,"body_markdown":"Just for sake of completeness (maybe someone else won&#39;t have to implement it from scratch):\r\n\r\nWe&#39;ve implemented our own small library, as everyone else. It&#39;s supposed to make things easier, so that our developers don&#39;t have to reimplement it each time. It would be great if spring security would provide support of rbac out of the box, as this approach is much better than the default permission based one. \r\n\r\nHave a look at [Github][1] (OSS, MIT license) to see if it suits your needs. It&#39;s basically only addressing the role &lt;-&gt; privileges mapping. The missing piece, you&#39;ll have to provide on your own is basically the user &lt;-&gt; roles mapping, e.g. by mapping groups (racf/ad groups) to roles (1:1) or by implementing an additional mapping. That one&#39;s different in each project, so it doesn&#39;t make sense to provide some implementation.\r\n\r\nWe&#39;ve basically used this internally, so that we can start with rbac from the beginning. We can still replace it with some other implementation later on, if the application is growing, but it&#39;s important for us to get the setup right at the beginning.\r\n\r\nIf you don&#39;t use rbac, there&#39;s a good chance, that the permissions are scattered throughout the codebase and you&#39;ll have a hard time to extract/group those (into roles) later on.\r\nThe generated graphs do also help to reason about it/restructure it later on.\r\n\r\n\r\n  [1]: https://github.com/vsfexperts/rbac","title":"Spring Security with roles and permissions","body":"<p>Just for sake of completeness (maybe someone else won't have to implement it from scratch):</p>\n\n<p>We've implemented our own small library, as everyone else. It's supposed to make things easier, so that our developers don't have to reimplement it each time. It would be great if spring security would provide support of rbac out of the box, as this approach is much better than the default permission based one. </p>\n\n<p>Have a look at <a href=\"https://github.com/vsfexperts/rbac\" rel=\"nofollow noreferrer\">Github</a> (OSS, MIT license) to see if it suits your needs. It's basically only addressing the role &lt;-> privileges mapping. The missing piece, you'll have to provide on your own is basically the user &lt;-> roles mapping, e.g. by mapping groups (racf/ad groups) to roles (1:1) or by implementing an additional mapping. That one's different in each project, so it doesn't make sense to provide some implementation.</p>\n\n<p>We've basically used this internally, so that we can start with rbac from the beginning. We can still replace it with some other implementation later on, if the application is growing, but it's important for us to get the setup right at the beginning.</p>\n\n<p>If you don't use rbac, there's a good chance, that the permissions are scattered throughout the codebase and you'll have a hard time to extract/group those (into roles) later on.\nThe generated graphs do also help to reason about it/restructure it later on.</p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581880570,"creation_date":1581880570,"answer_id":60252249,"question_id":6357579,"body_markdown":"ACL was overkill for my requirements also.  \r\nI ended up creating a library similar to @Alexander&#39;s  to inject a `GrantedAuthority` list for Role-&gt;Permissions based on the role membership of a user.  \r\n\r\nFor example, using a DB to hold the relationships -  \r\n```\r\n@Autowired \r\nRolePermissionsRepository repository;\r\n\r\npublic void setup(){\r\n  String roleName = &quot;ROLE_ADMIN&quot;;\r\n  List&lt;String&gt; permissions = new ArrayList&lt;String&gt;();\r\n  permissions.add(&quot;CREATE&quot;);\r\n  permissions.add(&quot;READ&quot;);\r\n  permissions.add(&quot;UPDATE&quot;);\r\n  permissions.add(&quot;DELETE&quot;);\r\n  repository.save(new RolePermissions(roleName, permissions));\r\n}\r\n```\r\n\r\nWhen an Authentication object is injected in the current security session, it will have the original roles/granted authorities.  \r\n\r\nThis library provides 2 built-in integration points for Spring Security.\r\nWhen the integration point is reached, the PermissionProvider is called to get the effective permissions for each role the user is a member of.   \r\nThe distinct list of permissions are added as GrantedAuthority items in the Authentication object.  \r\n\r\nYou can also implement a custom `PermissionProvider` to store the relationships in config for example.  \r\n\r\nA more complete explanation here - https://stackoverflow.com/a/60251931/1308685\r\n\r\nAnd the source code is here - \r\nhttps://github.com/savantly-net/spring-role-permissions\r\n","title":"Spring Security with roles and permissions","body":"<p>ACL was overkill for my requirements also.<br>\nI ended up creating a library similar to @Alexander's  to inject a <code>GrantedAuthority</code> list for Role->Permissions based on the role membership of a user.  </p>\n\n<p>For example, using a DB to hold the relationships -  </p>\n\n<pre><code>@Autowired \nRolePermissionsRepository repository;\n\npublic void setup(){\n  String roleName = \"ROLE_ADMIN\";\n  List&lt;String&gt; permissions = new ArrayList&lt;String&gt;();\n  permissions.add(\"CREATE\");\n  permissions.add(\"READ\");\n  permissions.add(\"UPDATE\");\n  permissions.add(\"DELETE\");\n  repository.save(new RolePermissions(roleName, permissions));\n}\n</code></pre>\n\n<p>When an Authentication object is injected in the current security session, it will have the original roles/granted authorities.  </p>\n\n<p>This library provides 2 built-in integration points for Spring Security.\nWhen the integration point is reached, the PermissionProvider is called to get the effective permissions for each role the user is a member of.<br>\nThe distinct list of permissions are added as GrantedAuthority items in the Authentication object.  </p>\n\n<p>You can also implement a custom <code>PermissionProvider</code> to store the relationships in config for example.  </p>\n\n<p>A more complete explanation here - <a href=\"https://stackoverflow.com/a/60251931/1308685\">https://stackoverflow.com/a/60251931/1308685</a></p>\n\n<p>And the source code is here - \n<a href=\"https://github.com/savantly-net/spring-role-permissions\" rel=\"nofollow noreferrer\">https://github.com/savantly-net/spring-role-permissions</a></p>\n"},{"tags":[],"owner":{"account_id":10307764,"reputation":71,"user_id":7604490,"display_name":"Gil Nz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597662670,"creation_date":1597662670,"answer_id":63449663,"question_id":6357579,"body_markdown":"After reading this [post](https://www.baeldung.com/spring-security-granted-authority-vs-role), from Baeldung. I found that the solution is pretty simple.\r\n\r\nWhat I have done, is to add the role and permissions into the GrantedAuthority.\r\nI was able to access both methods hasRole() and hasAuthority().","title":"Spring Security with roles and permissions","body":"<p>After reading this <a href=\"https://www.baeldung.com/spring-security-granted-authority-vs-role\" rel=\"nofollow noreferrer\">post</a>, from Baeldung. I found that the solution is pretty simple.</p>\n<p>What I have done, is to add the role and permissions into the GrantedAuthority.\nI was able to access both methods hasRole() and hasAuthority().</p>\n"}],"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126145,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":6371415,"answer_count":7,"score":83,"last_activity_date":1671926601,"creation_date":1308140403,"question_id":6357579,"body_markdown":"I&#39;m trying to set up role-based Security with permissions. I&#39;m trying to do this together with  Spring-Security.\r\n\r\nI don&#39;t want to set up ACL as it seems it&#39;s an overkill for my requirements.\r\n\r\nI just want to have simple permissions and roles as described in this [article][1].\r\nUnfortunately the article does not describe how to implement the given solution. \r\n\r\nHas someone already tried this and can point me in the right direction? Maybe there is another blog entry that describes the implementation? \r\n\r\nThank you very much.\r\n\r\n  [1]: http://springinpractice.com/2010/10/27/quick-tip-spring-security-role-based-authorization-and-permissions/","title":"Spring Security with roles and permissions","body":"<p>I'm trying to set up role-based Security with permissions. I'm trying to do this together with  Spring-Security.</p>\n\n<p>I don't want to set up ACL as it seems it's an overkill for my requirements.</p>\n\n<p>I just want to have simple permissions and roles as described in this <a href=\"http://springinpractice.com/2010/10/27/quick-tip-spring-security-role-based-authorization-and-permissions/\" rel=\"noreferrer\">article</a>.\nUnfortunately the article does not describe how to implement the given solution. </p>\n\n<p>Has someone already tried this and can point me in the right direction? Maybe there is another blog entry that describes the implementation? </p>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671926971,"post_id":74910933,"comment_id":132198625,"body_markdown":"Use another thread.","body":"Use another thread."}],"owner":{"account_id":17668602,"reputation":99,"user_id":12825370,"display_name":"Javi Albors"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671926581,"creation_date":1671926581,"question_id":74910933,"body_markdown":"I want to run three processes (P1, P2, P3) and I would want to connect each three between them, so P1 can broadcast messages to P2 and P3, P2 to P1 and P3 to P1 and P2. All of these three processes are the same program but listening on different ports.\r\n\r\nI&#39;m struggling to make the initial connection of all three processes before any data is exchanged.\r\n\r\nMy first approach was to implement this:\r\n\r\n    int OWN = Integer.parseInt(args[0]);\r\n    ServerSocket ss = new ServerSocket(OWN);\r\n\r\n    int connected = 0;\r\n    ArrayList&lt;Socket&gt; clients = new ArrayList&lt;&gt;();\r\n\r\n    while (connected &lt; 2) {\r\n        Socket client = ss.accept();\r\n\r\n        clients.add(client);\r\n\r\n        System.out.println(&quot;New connection&quot;);\r\n    }\r\n\r\n    System.out.println(&quot;All connected&quot;);\r\n\r\nThis piece of code accepts the two other processes connections. But then I figured out: Where do I actually connect to the other processes in that piece of code?\r\n\r\nBecause if I try connecting them before the loop on `ss.accept()`, probably it will throw an error as the other processes might not be in the `ss.accept()` part of the code, as well trying to connect to the other processes.\r\n\r\nHow can I properly do this?","title":"What is the best way to implement a circular socket connection between processes?","body":"<p>I want to run three processes (P1, P2, P3) and I would want to connect each three between them, so P1 can broadcast messages to P2 and P3, P2 to P1 and P3 to P1 and P2. All of these three processes are the same program but listening on different ports.</p>\n<p>I'm struggling to make the initial connection of all three processes before any data is exchanged.</p>\n<p>My first approach was to implement this:</p>\n<pre><code>int OWN = Integer.parseInt(args[0]);\nServerSocket ss = new ServerSocket(OWN);\n\nint connected = 0;\nArrayList&lt;Socket&gt; clients = new ArrayList&lt;&gt;();\n\nwhile (connected &lt; 2) {\n    Socket client = ss.accept();\n\n    clients.add(client);\n\n    System.out.println(&quot;New connection&quot;);\n}\n\nSystem.out.println(&quot;All connected&quot;);\n</code></pre>\n<p>This piece of code accepts the two other processes connections. But then I figured out: Where do I actually connect to the other processes in that piece of code?</p>\n<p>Because if I try connecting them before the loop on <code>ss.accept()</code>, probably it will throw an error as the other processes might not be in the <code>ss.accept()</code> part of the code, as well trying to connect to the other processes.</p>\n<p>How can I properly do this?</p>\n"},{"tags":["java","properties","escaping"],"answers":[{"comments":[{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":9,"creation_date":1323717433,"post_id":2406995,"comment_id":10489187,"body_markdown":"except leading whitespace (oh and the &#39;=&#39; between key and value isn&#39;t required, it could be : or a blank space)","body":"except leading whitespace (oh and the &#39;=&#39; between key and value isn&#39;t required, it could be : or a blank space)"},{"owner":{"account_id":2815103,"reputation":484,"user_id":2420411,"accept_rate":48,"display_name":"Vasanth"},"score":0,"creation_date":1683252364,"post_id":2406995,"comment_id":134342050,"body_markdown":"is there any way to read &#39;\\&#39; from properties file ?  (my)Java application used to read the password from properties file which is contains special character&#39;s .  Example : \\s9JPT,IS59j=EMS  , when i am reading this value from properties file i am getting only - s9JPT,IS59j=EMS - which is not correct .","body":"is there any way to read &#39;\\&#39; from properties file ?  (my)Java application used to read the password from properties file which is contains special character&#39;s .  Example : \\s9JPT,IS59j=EMS  , when i am reading this value from properties file i am getting only - s9JPT,IS59j=EMS - which is not correct ."},{"owner":{"account_id":530062,"reputation":547,"user_id":1203181,"display_name":"John B. Lambe"},"score":0,"creation_date":1692383184,"post_id":2406995,"comment_id":135620505,"body_markdown":"@Vasanth In that case, you have to escape the backslash ( `\\\\s9JPT,IS59j=EMS` ).","body":"@Vasanth In that case, you have to escape the backslash ( <code>\\\\s9JPT,IS59j=EMS</code> )."}],"tags":[],"owner":{"account_id":71439,"reputation":7087,"user_id":206674,"accept_rate":80,"display_name":"Padmarag"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1268114921,"creation_date":1268114921,"answer_id":2406995,"question_id":2406975,"body_markdown":"Default escape character in Java is &#39;\\&#39;. &lt;br&gt;\r\nHowever, Java properties file has format key=value, it should be considering everything after the first equal as value.&lt;br&gt;","title":"How to escape the equals sign in properties files","body":"<p>Default escape character in Java is '\\'. <br>\nHowever, Java properties file has format key=value, it should be considering everything after the first equal as value.<br></p>\n"},{"tags":[],"owner":{"account_id":81424,"reputation":2020,"user_id":229609,"accept_rate":38,"display_name":"Mohd Farid"},"comment_count":0,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1671926479,"creation_date":1268126628,"answer_id":2407855,"question_id":2406975,"body_markdown":"Moreover, Please refer to [**load(Reader reader)** method from `Property` class on javadoc][1]\r\n\r\nIn `load(Reader reader)` method documentation it says\r\n\r\n&gt; The key contains all of the characters\r\n&gt; in the line starting with the first\r\n&gt; non-white space character and up to,\r\n&gt; but not including, the first unescaped\r\n&gt; `&#39;=&#39;`, `&#39;:&#39;`, or white space character\r\n&gt; other than a line terminator. All of\r\n&gt; these key termination characters may\r\n&gt; be included in the key by escaping\r\n&gt; them with a preceding backslash\r\n&gt; character; for example,\r\n&gt; \r\n&gt;     \\:\\=\r\n&gt; \r\n&gt; would be the two-character key `&quot;:=&quot;.`\r\n&gt; Line terminator characters can be\r\n&gt; included using `\\r` and `\\n` escape\r\n&gt; sequences. Any white space after the\r\n&gt; key is skipped; if the first non-white\r\n&gt; space character after the key is `&#39;=&#39;`\r\n&gt; or `&#39;:&#39;`, then it is ignored and any\r\n&gt; white space characters after it are\r\n&gt; also skipped. All remaining characters\r\n&gt; on the line become part of the\r\n&gt; associated element string; if there\r\n&gt; are no remaining characters, the\r\n&gt; element is the empty string `&quot;&quot;`. Once\r\n&gt; the raw character sequences\r\n&gt; constituting the key and element are\r\n&gt; identified, escape processing is\r\n&gt; performed as described above.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)","title":"How to escape the equals sign in properties files","body":"<p>Moreover, Please refer to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\" rel=\"noreferrer\"><strong>load(Reader reader)</strong> method from <code>Property</code> class on javadoc</a></p>\n<p>In <code>load(Reader reader)</code> method documentation it says</p>\n<blockquote>\n<p>The key contains all of the characters\nin the line starting with the first\nnon-white space character and up to,\nbut not including, the first unescaped\n<code>'='</code>, <code>':'</code>, or white space character\nother than a line terminator. All of\nthese key termination characters may\nbe included in the key by escaping\nthem with a preceding backslash\ncharacter; for example,</p>\n<pre><code>\\:\\=\n</code></pre>\n<p>would be the two-character key <code>&quot;:=&quot;.</code>\nLine terminator characters can be\nincluded using <code>\\r</code> and <code>\\n</code> escape\nsequences. Any white space after the\nkey is skipped; if the first non-white\nspace character after the key is <code>'='</code>\nor <code>':'</code>, then it is ignored and any\nwhite space characters after it are\nalso skipped. All remaining characters\non the line become part of the\nassociated element string; if there\nare no remaining characters, the\nelement is the empty string <code>&quot;&quot;</code>. Once\nthe raw character sequences\nconstituting the key and element are\nidentified, escape processing is\nperformed as described above.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1567520,"reputation":1890,"user_id":1455974,"display_name":"Veaceslav Serghienco"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1339671330,"creation_date":1339671330,"answer_id":11031603,"question_id":2406975,"body_markdown":"You can look here https://stackoverflow.com/questions/2108103/java-properties-is-there-a-way-a-key-can-include-a-blank-character\r\n\r\n\r\nfor escape equal &#39;=&#39; \\u003d\r\n\r\ntable.whereclause=where id=100\r\n\r\nkey:[table.whereclause] value:[where id=100]\r\n\r\ntable.whereclause\\u003dwhere id=100\r\n\r\nkey:[table.whereclause=where] value:[id=100]\r\n\r\ntable.whereclause\\u003dwhere\\u0020id\\u003d100\r\n\r\nkey:[table.whereclause=where id=100] value:[]\r\n\r\n","title":"How to escape the equals sign in properties files","body":"<p>You can look here <a href=\"https://stackoverflow.com/questions/2108103/java-properties-is-there-a-way-a-key-can-include-a-blank-character\">Can the key in a Java property include a blank character?</a></p>\n\n<p>for escape equal '=' \\u003d</p>\n\n<p>table.whereclause=where id=100</p>\n\n<p>key:[table.whereclause] value:[where id=100]</p>\n\n<p>table.whereclause\\u003dwhere id=100</p>\n\n<p>key:[table.whereclause=where] value:[id=100]</p>\n\n<p>table.whereclause\\u003dwhere\\u0020id\\u003d100</p>\n\n<p>key:[table.whereclause=where id=100] value:[]</p>\n"},{"comments":[{"owner":{"account_id":1473505,"reputation":6503,"user_id":1384480,"accept_rate":80,"display_name":"Tejas"},"score":13,"creation_date":1378465033,"post_id":17662541,"comment_id":27471583,"body_markdown":"don&#39;t know why this has not been marked up ! Simplest correct answer ! And most of the times people are looking for escaping value in properties file !","body":"don&#39;t know why this has not been marked up ! Simplest correct answer ! And most of the times people are looking for escaping value in properties file !"},{"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"score":2,"creation_date":1508413465,"post_id":17662541,"comment_id":80605483,"body_markdown":"Small correction: will treat as value all characters after the first unescaped equals and trailing spaces, that is, leading spaces *in the value* are taken out. Example &quot;myKey=my value&quot; is the same as &quot;myKey = my value&quot;.","body":"Small correction: will treat as value all characters after the first unescaped equals and trailing spaces, that is, leading spaces <i>in the value</i> are taken out. Example &quot;myKey=my value&quot; is the same as &quot;myKey = my value&quot;."}],"tags":[],"owner":{"account_id":444485,"reputation":18145,"user_id":836318,"accept_rate":53,"display_name":"wrschneider"},"comment_count":2,"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1373917552,"creation_date":1373917552,"answer_id":17662541,"question_id":2406975,"body_markdown":"In your specific example you don&#39;t need to escape the equals - you only need to escape it if it&#39;s part of the key.  The properties file format will treat all characters after the first unescaped equals as part of the value.\r\n","title":"How to escape the equals sign in properties files","body":"<p>In your specific example you don't need to escape the equals - you only need to escape it if it's part of the key.  The properties file format will treat all characters after the first unescaped equals as part of the value.</p>\n"},{"comments":[{"owner":{"account_id":1807526,"reputation":3107,"user_id":1644320,"accept_rate":47,"display_name":"Pablo Pazos"},"score":1,"creation_date":1693341140,"post_id":18185166,"comment_id":135747472,"body_markdown":"great idea! works perfectly","body":"great idea! works perfectly"}],"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1440402157,"creation_date":1376304765,"answer_id":18185166,"question_id":2406975,"body_markdown":"The best way to avoid this kind of issues it to build properties programmatically and then store them. For example, using code like this:\r\n\r\n    java.util.Properties props = new java.util.Properties();\r\n    props.setProperty(&quot;table.whereclause&quot;, &quot;where id=100&quot;);\r\n    props.store(System.out, null);\r\n\r\nThis would output to System.out the properly escaped version. \r\n\r\nIn my case the output was:\r\n\r\n    #Mon Aug 12 13:50:56 EEST 2013\r\n    table.whereclause=where id\\=100\r\n\r\nAs you can see, this is an easy way to generate content of .properties files that&#39;s guaranteed to be correct. And you can put as many properties as you want.","title":"How to escape the equals sign in properties files","body":"<p>The best way to avoid this kind of issues it to build properties programmatically and then store them. For example, using code like this:</p>\n\n<pre><code>java.util.Properties props = new java.util.Properties();\nprops.setProperty(\"table.whereclause\", \"where id=100\");\nprops.store(System.out, null);\n</code></pre>\n\n<p>This would output to System.out the properly escaped version. </p>\n\n<p>In my case the output was:</p>\n\n<pre><code>#Mon Aug 12 13:50:56 EEST 2013\ntable.whereclause=where id\\=100\n</code></pre>\n\n<p>As you can see, this is an easy way to generate content of .properties files that's guaranteed to be correct. And you can put as many properties as you want.</p>\n"},{"comments":[{"owner":{"account_id":79731,"reputation":319,"user_id":225866,"accept_rate":33,"display_name":"Susanta"},"score":0,"creation_date":1449090111,"post_id":33808156,"comment_id":55860070,"body_markdown":"I second that, you need two backslashes (glassfish 4.1, build 13)","body":"I second that, you need two backslashes (glassfish 4.1, build 13)"}],"tags":[],"owner":{"account_id":6436955,"reputation":2326,"user_id":4988179,"display_name":"Monsif EL AISSOUSSI"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1447947366,"creation_date":1447947366,"answer_id":33808156,"question_id":2406975,"body_markdown":"In my case, two leading  &#39;\\\\\\&#39; working fine for me.\r\n\r\nFor example : \r\nif your word contains the &#39;#&#39; character (e.g. aa#100, you can escape it with two\r\nleading &#39;\\\\\\&#39; \r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n   key= aa\\\\#100\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"How to escape the equals sign in properties files","body":"<p>In my case, two leading  '\\\\' working fine for me.</p>\n\n<p>For example : \nif your word contains the '#' character (e.g. aa#100, you can escape it with two\nleading '\\\\' </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   key= aa\\\\#100</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"score":4,"creation_date":1526316028,"post_id":35041251,"comment_id":87686510,"body_markdown":"Op says Java properties,  quotes don&#39;t work like that in java properties files.","body":"Op says Java properties,  quotes don&#39;t work like that in java properties files."}],"tags":[],"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1453908094,"creation_date":1453908094,"answer_id":35041251,"question_id":2406975,"body_markdown":"I&#39;ve been able to input values within the character &quot;:\r\n\r\n    db_user=&quot;postgresql&quot;\r\n    db_passwd=&quot;this,is,my,password&quot;","title":"How to escape the equals sign in properties files","body":"<p>I've been able to input values within the character \":</p>\n\n<pre><code>db_user=\"postgresql\"\ndb_passwd=\"this,is,my,password\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1802371,"reputation":187,"user_id":1640369,"display_name":"sent.ror"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560864705,"creation_date":1560864399,"answer_id":56650267,"question_id":2406975,"body_markdown":"In Spring or Spring boot application.properties file here is the way to escape the special characters;\r\n\r\ntable.whereclause=where id&#39;\\=&#39;100","title":"How to escape the equals sign in properties files","body":"<p>In Spring or Spring boot application.properties file here is the way to escape the special characters;</p>\n\n<p>table.whereclause=where id'\\='100</p>\n"},{"tags":[],"owner":{"account_id":2803864,"reputation":990,"user_id":2411506,"display_name":"DanielCuadra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568766650,"creation_date":1568766650,"answer_id":57983519,"question_id":2406975,"body_markdown":"This method should help to programmatically generate values guaranteed to be 100% compatible with `.properties` files:\r\n\r\n    public static String escapePropertyValue(final String value) {\r\n        if (value == null) {\r\n            return null;\r\n        }\r\n    \r\n        try (final StringWriter writer = new StringWriter()) {\r\n            final Properties properties = new Properties();\r\n            properties.put(&quot;escaped&quot;, value);\r\n            properties.store(writer, null);\r\n            writer.flush();\r\n    \r\n            final String stringifiedProperties = writer.toString();\r\n            final Pattern pattern = Pattern.compile(&quot;(.*?)escaped=(.*?)&quot; + Pattern.quote(System.lineSeparator()) + &quot;*&quot;);\r\n            final Matcher matcher = pattern.matcher(stringifiedProperties);\r\n    \r\n            if (matcher.find() &amp;&amp; matcher.groupCount() &lt;= 2) {\r\n                return matcher.group(matcher.groupCount());\r\n            }\r\n    \r\n            // This should never happen unless the internal implementation of Properties::store changed\r\n            throw new IllegalStateException(&quot;Could not escape property value&quot;);\r\n        } catch (final IOException ex) {\r\n            // This should never happen. IOException is only because the interface demands it\r\n            throw new IllegalStateException(&quot;Could not escape property value&quot;, ex);\r\n        }\r\n    }\r\n\r\nYou can call it like this:\r\n\r\n    final String escapedPath = escapePropertyValue(&quot;C:\\\\Users\\\\X&quot;);\r\n    writeToFile(escapedPath); // will pass &quot;C\\\\:\\\\\\\\Users\\\\\\\\X&quot;\r\n\r\nThis method a little bit expensive but, writing properties to a file is typically an sporadic operation anyway.","title":"How to escape the equals sign in properties files","body":"<p>This method should help to programmatically generate values guaranteed to be 100% compatible with <code>.properties</code> files:</p>\n\n<pre><code>public static String escapePropertyValue(final String value) {\n    if (value == null) {\n        return null;\n    }\n\n    try (final StringWriter writer = new StringWriter()) {\n        final Properties properties = new Properties();\n        properties.put(\"escaped\", value);\n        properties.store(writer, null);\n        writer.flush();\n\n        final String stringifiedProperties = writer.toString();\n        final Pattern pattern = Pattern.compile(\"(.*?)escaped=(.*?)\" + Pattern.quote(System.lineSeparator()) + \"*\");\n        final Matcher matcher = pattern.matcher(stringifiedProperties);\n\n        if (matcher.find() &amp;&amp; matcher.groupCount() &lt;= 2) {\n            return matcher.group(matcher.groupCount());\n        }\n\n        // This should never happen unless the internal implementation of Properties::store changed\n        throw new IllegalStateException(\"Could not escape property value\");\n    } catch (final IOException ex) {\n        // This should never happen. IOException is only because the interface demands it\n        throw new IllegalStateException(\"Could not escape property value\", ex);\n    }\n}\n</code></pre>\n\n<p>You can call it like this:</p>\n\n<pre><code>final String escapedPath = escapePropertyValue(\"C:\\\\Users\\\\X\");\nwriteToFile(escapedPath); // will pass \"C\\\\:\\\\\\\\Users\\\\\\\\X\"\n</code></pre>\n\n<p>This method a little bit expensive but, writing properties to a file is typically an sporadic operation anyway.</p>\n"}],"owner":{"account_id":103410,"reputation":4158,"user_id":276983,"accept_rate":100,"display_name":"joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140991,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":17662541,"answer_count":9,"score":90,"last_activity_date":1671926479,"creation_date":1268114433,"question_id":2406975,"body_markdown":"How can I escape the equals sign (`=`) in Java property files? I would like to put something as the following in my file:\r\n\r\n    table.whereclause=where id=100","title":"How to escape the equals sign in properties files","body":"<p>How can I escape the equals sign (<code>=</code>) in Java property files? I would like to put something as the following in my file:</p>\n\n<pre><code>table.whereclause=where id=100\n</code></pre>\n"},{"tags":["java","gradle","command-line-interface"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1671928132,"post_id":74910813,"comment_id":132198699,"body_markdown":"Maybe you&#39;re looking for the [Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#embedding)?","body":"Maybe you&#39;re looking for the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#embedding\" rel=\"nofollow noreferrer\">Tooling API</a>?"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1672425156,"post_id":74910813,"comment_id":132288982,"body_markdown":"Yes @Slaw I think that&#39;s it! I&#39;m now running into an error: &quot;Plugin with id &#39;&lt;plugin name&gt;&#39; not found.&quot; Is there some other config I need to set to run?","body":"Yes @Slaw I think that&#39;s it! I&#39;m now running into an error: &quot;Plugin with id &#39;&lt;plugin name&gt;&#39; not found.&quot; Is there some other config I need to set to run?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672433468,"post_id":74910813,"comment_id":132290740,"body_markdown":"I would expect that if running `./gradlew &lt;task&gt;` works, then so will the Tooling API. But I&#39;ve personally never used the Tooling API.","body":"I would expect that if running <code>.&#47;gradlew &lt;task&gt;</code> works, then so will the Tooling API. But I&#39;ve personally never used the Tooling API."}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671924094,"creation_date":1671924094,"question_id":74910813,"body_markdown":"I&#39;m trying to write a Java application which is a command line tool, where part of it will run a Gradle test in your own application on invoking it. It will have the full path to the file and an optional test name at its disposal. I could shell out and run it manually e.g.:\r\n```java\r\ngradlew &lt;module&gt;:test --tests &lt;fullTestName&gt;\r\n```\r\nbut I am looking for a way to use the Gradle API to do so. However, I&#39;m not seeing any packages on Maven to have my cmd line app be able to hook into the current directory&#39;s gradle project and be able to call it&#39;s test task. \r\n\r\nFor example:\r\n```build.gradle\r\ndependencies {\r\n    implementation(&quot;org.gradle:gradle-core:6.8.3&quot;)\r\n}\r\n```\r\nresults in a &#39;not found&#39; error.\r\n\r\nIs there a way to do this? \r\n\r\n","title":"Programmatically Run Gradle Test Given File and Optional Test Name","body":"<p>I'm trying to write a Java application which is a command line tool, where part of it will run a Gradle test in your own application on invoking it. It will have the full path to the file and an optional test name at its disposal. I could shell out and run it manually e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gradlew &lt;module&gt;:test --tests &lt;fullTestName&gt;\n</code></pre>\n<p>but I am looking for a way to use the Gradle API to do so. However, I'm not seeing any packages on Maven to have my cmd line app be able to hook into the current directory's gradle project and be able to call it's test task.</p>\n<p>For example:</p>\n<pre><code>dependencies {\n    implementation(&quot;org.gradle:gradle-core:6.8.3&quot;)\n}\n</code></pre>\n<p>results in a 'not found' error.</p>\n<p>Is there a way to do this?</p>\n"},{"tags":["java","algorithm","nested"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1475608629,"post_id":39860021,"comment_id":67008112,"body_markdown":"What are the &#39;hidden ones&#39;?","body":"What are the &#39;hidden ones&#39;?"}],"answers":[{"comments":[{"owner":{"account_id":2451213,"reputation":2014,"user_id":2137465,"accept_rate":60,"display_name":"Rafael Miceli"},"score":0,"creation_date":1486214475,"post_id":39860089,"comment_id":71255088,"body_markdown":"How did you got to this formula? Could you explain?","body":"How did you got to this formula? Could you explain?"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":1,"creation_date":1486237123,"post_id":39860089,"comment_id":71262643,"body_markdown":"@RafaelMiceli Basically these sums are: `n/2 - 1 + n/2 + 1`, `n/2 - 3 + n/2 + 3` ... as long as we hit `l` or `r`. Then if n isn&#39;t even we skip `n/2 + n/2`","body":"@RafaelMiceli Basically these sums are: <code>n&#47;2 - 1 + n&#47;2 + 1</code>, <code>n&#47;2 - 3 + n&#47;2 + 3</code> ... as long as we hit <code>l</code> or <code>r</code>. Then if n isn&#39;t even we skip <code>n&#47;2 + n&#47;2</code>"},{"owner":{"account_id":1833539,"reputation":424,"user_id":1664362,"accept_rate":71,"display_name":"zambro"},"score":1,"creation_date":1500076373,"post_id":39860089,"comment_id":77197642,"body_markdown":"This doesn&#39;t work for the case where `n=25`, `l=10`, `r=20`. The correct answer is `3`: `(12,13),(11,14),(10,15)`. But this code returns `2`.","body":"This doesn&#39;t work for the case where <code>n=25</code>, <code>l=10</code>, <code>r=20</code>. The correct answer is <code>3</code>: <code>(12,13),(11,14),(10,15)</code>. But this code returns <code>2</code>."},{"owner":{"account_id":1852285,"reputation":522,"user_id":1678572,"display_name":"Michael"},"score":0,"creation_date":1680052355,"post_id":39860089,"comment_id":133830194,"body_markdown":"In case anyone else stumbles on this and is wondering about @zambro test case `n=25, l=10, r=20`. Looks like the problem is with the first min arg for odd n, need to add 1 for odd n:\n`Math.min((n / 2) + (n % 2) - l, r - (n / 2)) + 1 - (n % 2)`. This solution works for all cases so far.\nFor clarity, I also added parens, and refactored the `+ ((n%2 == 1) ? 0 : 1)`.","body":"In case anyone else stumbles on this and is wondering about @zambro test case <code>n=25, l=10, r=20</code>. Looks like the problem is with the first min arg for odd n, need to add 1 for odd n: <code>Math.min((n &#47; 2) + (n % 2) - l, r - (n &#47; 2)) + 1 - (n % 2)</code>. This solution works for all cases so far. For clarity, I also added parens, and refactored the <code>+ ((n%2 == 1) ? 0 : 1)</code>."}],"tags":[],"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1475608970,"creation_date":1475608614,"answer_id":39860089,"question_id":39860021,"body_markdown":"Well, there&#39;s no need to make so huge calculations... It&#39;s easy to calculate:\r\n\r\n    public static int count(int n, int l, int r) {\r\n        if (l &gt; n/2)\r\n            return 0;\r\n        return Math.min(n/2 - l, r - n/2) + ((n%2 == 1) ? 0 : 1);\r\n    }\r\n\r\nPasses all my tests so far. For positives and negatives as well.","title":"Find the number of ways to represent n as a sum of two integers with boundaries","body":"<p>Well, there's no need to make so huge calculations... It's easy to calculate:</p>\n\n<pre><code>public static int count(int n, int l, int r) {\n    if (l &gt; n/2)\n        return 0;\n    return Math.min(n/2 - l, r - n/2) + ((n%2 == 1) ? 0 : 1);\n}\n</code></pre>\n\n<p>Passes all my tests so far. For positives and negatives as well.</p>\n"},{"comments":[{"owner":{"account_id":358550,"reputation":3147,"user_id":699385,"display_name":"Danny"},"score":3,"creation_date":1562176048,"post_id":56875468,"comment_id":100299539,"body_markdown":"Could you provide a bit of explanation along with your answer that explains what was wrong with the original code and what you changed to fix it and why it is that way?","body":"Could you provide a bit of explanation along with your answer that explains what was wrong with the original code and what you changed to fix it and why it is that way?"},{"owner":{"account_id":16252200,"reputation":11,"user_id":11735847,"display_name":"Trung Nguyen"},"score":0,"creation_date":1562211880,"post_id":56875468,"comment_id":100308927,"body_markdown":"let A=l then B=n-l. The task be come find number of way to represent n from [A,B]. for example if n=13, l=5, r=17.We have to find Number of way to represent 13 from [5,8], there are [5,8], [6,7]. number of way = ((8-5)+1)/2 it is not difficult to find that rule after you check some another example.","body":"let A=l then B=n-l. The task be come find number of way to represent n from [A,B]. for example if n=13, l=5, r=17.We have to find Number of way to represent 13 from [5,8], there are [5,8], [6,7]. number of way = ((8-5)+1)/2 it is not difficult to find that rule after you check some another example."},{"owner":{"account_id":5112552,"reputation":411,"user_id":4098739,"display_name":"Luciano"},"score":0,"creation_date":1598547190,"post_id":56875468,"comment_id":112501691,"body_markdown":"This doesn&#39;t work for the case where n=93, l=24, r=58. The correct answer is 12, but this code returns 0.","body":"This doesn&#39;t work for the case where n=93, l=24, r=58. The correct answer is 12, but this code returns 0."}],"tags":[],"owner":{"account_id":16252200,"reputation":11,"user_id":11735847,"display_name":"Trung Nguyen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562175774,"creation_date":1562175774,"answer_id":56875468,"question_id":39860021,"body_markdown":"    int countSumOfTwoRepresentations(int n, int l, int r)\r\n      {\r\n    \tint r1 = 0;\r\n    \tif (n &gt; l + r || n &lt; 2 * l)\r\n    \t\treturn 0;\r\n    \tr1 = n - l;\r\n    \tif ((r1 - l) % 2 == 0)\r\n    \t\treturn (r1 - l) / 2 + 1;\r\n    \telse\r\n    \t\treturn (r1 - l + 1) / 2;\r\n    }","title":"Find the number of ways to represent n as a sum of two integers with boundaries","body":"<pre><code>int countSumOfTwoRepresentations(int n, int l, int r)\n  {\n    int r1 = 0;\n    if (n &gt; l + r || n &lt; 2 * l)\n        return 0;\n    r1 = n - l;\n    if ((r1 - l) % 2 == 0)\n        return (r1 - l) / 2 + 1;\n    else\n        return (r1 - l + 1) / 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15291029,"reputation":331,"user_id":11032532,"display_name":"Mr Fun"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565174628,"creation_date":1565174628,"answer_id":57392575,"question_id":39860021,"body_markdown":"In java:\r\n\r\n    int countSumOfTwoRepresentations2(int n, int l, int r)\r\n    {\r\n         return Math.max(0,Math.min(n/2-l,r-n/2)+(n+1)%2);\r\n    }\r\n\r\nIn Python3:\r\n\r\n    def countSumOfTwoRepresentations2(n, l, r):\r\n        return max(0,min(n//2-l,r-n//2)+(n+1)%2)","title":"Find the number of ways to represent n as a sum of two integers with boundaries","body":"<p>In java:</p>\n\n<pre><code>int countSumOfTwoRepresentations2(int n, int l, int r)\n{\n     return Math.max(0,Math.min(n/2-l,r-n/2)+(n+1)%2);\n}\n</code></pre>\n\n<p>In Python3:</p>\n\n<pre><code>def countSumOfTwoRepresentations2(n, l, r):\n    return max(0,min(n//2-l,r-n//2)+(n+1)%2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4498569,"reputation":2657,"user_id":3657747,"accept_rate":88,"display_name":"gmmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671923646,"creation_date":1671923646,"answer_id":74910791,"question_id":39860021,"body_markdown":"Here my solution using a hash table. No as efficient as the others, but easier to understand. Based on the famous leetcode &quot;2sum&quot; problem.\r\n\r\nhttps://leetcode.com/problems/two-sum/\r\n\r\n\tfun solution(n: Int, l: Int, r: Int): Int {\r\n\t\t\r\n\t\tval h = hashMapOf&lt;Int, Int&gt;()\r\n\t\tfor (i in l..r)\r\n\t\t{\r\n\t\t\tval c = n-i\r\n\t\t\tif (c &gt;=l &amp;&amp; c&lt;=r)\r\n\t\t\t{\r\n\t\t\t\tif (h[i] == null)\r\n\t\t\t\t{\r\n\t\t\t\t\th.put(c, i)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn h.size\r\n\t}\r\n","title":"Find the number of ways to represent n as a sum of two integers with boundaries","body":"<p>Here my solution using a hash table. No as efficient as the others, but easier to understand. Based on the famous leetcode &quot;2sum&quot; problem.</p>\n<p><a href=\"https://leetcode.com/problems/two-sum/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/two-sum/</a></p>\n<pre><code>fun solution(n: Int, l: Int, r: Int): Int {\n    \n    val h = hashMapOf&lt;Int, Int&gt;()\n    for (i in l..r)\n    {\n        val c = n-i\n        if (c &gt;=l &amp;&amp; c&lt;=r)\n        {\n            if (h[i] == null)\n            {\n                h.put(c, i)\n            }\n        }\n    }\n    \n    return h.size\n}\n</code></pre>\n"}],"owner":{"account_id":1361142,"reputation":5304,"user_id":1298499,"accept_rate":43,"display_name":"KostasA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4243,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":39860089,"answer_count":4,"score":2,"last_activity_date":1671923646,"creation_date":1475608347,"question_id":39860021,"body_markdown":"I am playing around codefight, but I am really stuck \r\nto the following efficient issue.\r\n\r\n**Problem**:&lt;br&gt;\r\nGiven integers n, l and r, find the number of ways to represent n as a sum of two integers A and B such that l ≤ A ≤ B ≤ r.\r\n\r\n**Example**:&lt;br&gt;\r\nFor n = 6, l = 2 and r = 4, the output should be\r\ncountSumOfTwoRepresentations2(n, l, r) = 2.\r\nThere are just two ways to write 6 as A + B, where 2 ≤ A ≤ B ≤ 4: 6 = 2 + 4 and 6 = 3 + 3.\r\n\r\nHere is my code. It passes all the unit tests but it failing\r\nin the hidden ones. Can someone direct me somehow?\r\nThanks in advance.\r\n\r\n    public static int countSumOfTwoRepresentations2(int n, int l, int r) {\r\n\t\tint nrOfWays = 0;\r\n\t\tfor(int i=l;i&lt;=r;i++)\r\n\t\t{\r\n\t\t\tfor(int j=i;j&lt;=r;j++)\r\n\t\t\t{\r\n\t\t\t\tif(i+j==n)\r\n\t\t\t\t\tnrOfWays++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn nrOfWays;\r\n\r\n\t}","title":"Find the number of ways to represent n as a sum of two integers with boundaries","body":"<p>I am playing around codefight, but I am really stuck \nto the following efficient issue.</p>\n\n<p><strong>Problem</strong>:<br>\nGiven integers n, l and r, find the number of ways to represent n as a sum of two integers A and B such that l ≤ A ≤ B ≤ r.</p>\n\n<p><strong>Example</strong>:<br>\nFor n = 6, l = 2 and r = 4, the output should be\ncountSumOfTwoRepresentations2(n, l, r) = 2.\nThere are just two ways to write 6 as A + B, where 2 ≤ A ≤ B ≤ 4: 6 = 2 + 4 and 6 = 3 + 3.</p>\n\n<p>Here is my code. It passes all the unit tests but it failing\nin the hidden ones. Can someone direct me somehow?\nThanks in advance.</p>\n\n<pre><code>public static int countSumOfTwoRepresentations2(int n, int l, int r) {\n    int nrOfWays = 0;\n    for(int i=l;i&lt;=r;i++)\n    {\n        for(int j=i;j&lt;=r;j++)\n        {\n            if(i+j==n)\n                nrOfWays++;\n        }\n    }\n    return nrOfWays;\n\n}\n</code></pre>\n"},{"tags":["java","office365","jakarta-mail","imap"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671884622,"post_id":74901032,"comment_id":132192342,"body_markdown":"You need to switch to using OAuth 2 to authenticate when using JakartaMail.","body":"You need to switch to using OAuth 2 to authenticate when using JakartaMail."}],"owner":{"account_id":27336759,"reputation":1,"user_id":20848063,"display_name":"Matheus Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671884775,"answer_count":0,"score":0,"last_activity_date":1671922587,"creation_date":1671807366,"question_id":74901032,"body_markdown":"Until a few weeks ago a java code of mine was able to access the 365 inbox, this week I noticed that the routines were stopped and it was giving the error AUTHENTICATE failed in the Java debug. From what I&#39;ve researched, it refers to changes in the 365 portal and you have to change the code, but so far no code that I thought would solve it.I wanted to know what I would need to change in the code below and in the 365 portal\r\n\r\n    System.out.println(&quot;Inside MailReader()...&quot;);\r\n    final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n    Properties props = System.getProperties();\r\n    // Set manual Properties\r\n    props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\r\n    props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    props.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\r\n    props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, &quot;993&quot;);\r\n    props.setProperty(&quot;mail.imaps.sasl.mechanisms&quot;,&quot;XOAUTH2&quot;);\r\n    props.put(&quot;mail.imaps.host&quot;, &quot;outlook.office365.com&quot;);\r\n\r\n\r\n    try {\r\n        /* Create the session and get the store for read the mail. */\r\n\r\n        Session session = Session.getDefaultInstance(System.getProperties(), null);\r\n        Store store = session.getStore(&quot;imaps&quot;);\r\n        store.connect(&quot;outlook.office365.com&quot;, 993, &quot;user&quot;, &quot;pass&quot;);\r\n\r\n","title":"access outlook 365 inbox","body":"<p>Until a few weeks ago a java code of mine was able to access the 365 inbox, this week I noticed that the routines were stopped and it was giving the error AUTHENTICATE failed in the Java debug. From what I've researched, it refers to changes in the 365 portal and you have to change the code, but so far no code that I thought would solve it.I wanted to know what I would need to change in the code below and in the 365 portal</p>\n<pre><code>System.out.println(&quot;Inside MailReader()...&quot;);\nfinal String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\nProperties props = System.getProperties();\n// Set manual Properties\nprops.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\nprops.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\nprops.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\nprops.setProperty(&quot;mail.imaps.socketFactory.port&quot;, &quot;993&quot;);\nprops.setProperty(&quot;mail.imaps.sasl.mechanisms&quot;,&quot;XOAUTH2&quot;);\nprops.put(&quot;mail.imaps.host&quot;, &quot;outlook.office365.com&quot;);\n\n\ntry {\n    /* Create the session and get the store for read the mail. */\n\n    Session session = Session.getDefaultInstance(System.getProperties(), null);\n    Store store = session.getStore(&quot;imaps&quot;);\n    store.connect(&quot;outlook.office365.com&quot;, 993, &quot;user&quot;, &quot;pass&quot;);\n</code></pre>\n"},{"tags":["java","spring","multipart"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":2,"creation_date":1538734869,"post_id":52663411,"comment_id":92256743,"body_markdown":"`file.getInputStream()` will return the stream,will it helpful to you?","body":"<code>file.getInputStream()</code> will return the stream,will it helpful to you?"},{"owner":{"account_id":12940185,"reputation":818,"user_id":9356258,"display_name":"NielsNet"},"score":0,"creation_date":1538735503,"post_id":52663411,"comment_id":92257124,"body_markdown":"MulipartFile should have a `toFile(file)` method for this.","body":"MulipartFile should have a <code>toFile(file)</code> method for this."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1539094547,"post_id":52663411,"comment_id":92371678,"body_markdown":"`new File(file.getOriginalFilename())`. Mmm what happens if two simultaneous requests upload &quot;untitled.pdf&quot; at the same time? All kinds of bad things, I suppose. Plus, malicious users will have a field day. I&#39;d personnaly love to try &quot;C:\\Win32\\whatever&quot; or &quot;~/bash.rc&quot; as example names (DONT DO THIS! NEVER EVER trust user submitted content)","body":"<code>new File(file.getOriginalFilename())</code>. Mmm what happens if two simultaneous requests upload &quot;untitled.pdf&quot; at the same time? All kinds of bad things, I suppose. Plus, malicious users will have a field day. I&#39;d personnaly love to try &quot;C:\\Win32\\whatever&quot; or &quot;~/bash.rc&quot; as example names (DONT DO THIS! NEVER EVER trust user submitted content)"},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1539094855,"post_id":52663411,"comment_id":92371885,"body_markdown":"@GPI actually we will never heve 2 files with the same name as I append the time at the end of the file like this: &quot;untitled-09-10-2018-hh-mm-ss-ms.pdf&quot;","body":"@GPI actually we will never heve 2 files with the same name as I append the time at the end of the file like this: &quot;untitled-09-10-2018-hh-mm-ss-ms.pdf&quot;"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1539095767,"post_id":52663411,"comment_id":92372504,"body_markdown":"OK that&#39;s good to know... But you still have a user generated prefix path ? That can be dangerous. And what if the user file name contains &quot;/&quot; or &quot;:&quot; or &quot;\\&quot; ? I would treat the user generated name as metadata (or drop it altogether if not necessary), and generate a unique, FS-safe name (e.g. `Files.createXXXFile` family of methods).","body":"OK that&#39;s good to know... But you still have a user generated prefix path ? That can be dangerous. And what if the user file name contains &quot;/&quot; or &quot;:&quot; or &quot;\\&quot; ? I would treat the user generated name as metadata (or drop it altogether if not necessary), and generate a unique, FS-safe name (e.g. <code>Files.createXXXFile</code> family of methods)."},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1539096280,"post_id":52663411,"comment_id":92372823,"body_markdown":"Yeah I didn&#39;t think about that, I&#39;m also thinking of renaming the file using a hash function, thanks btw.","body":"Yeah I didn&#39;t think about that, I&#39;m also thinking of renaming the file using a hash function, thanks btw."}],"answers":[{"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":1,"creation_date":1538743042,"post_id":52663817,"comment_id":92261261,"body_markdown":"it show this error cannot resolve method &#39;copy(java.io.InputStream, java.io.FileOutputStream) on this line Files.copy(...)","body":"it show this error cannot resolve method &#39;copy(java.io.InputStream, java.io.FileOutputStream) on this line Files.copy(...)"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":1,"creation_date":1538912310,"post_id":52663817,"comment_id":92303297,"body_markdown":"Stream will not be closed in case of an exception. try-with-resources should be used here (`FileOutputStream fos = new FileOutputStream(convFile)`).","body":"Stream will not be closed in case of an exception. try-with-resources should be used here (<code>FileOutputStream fos = new FileOutputStream(convFile)</code>)."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1538912815,"post_id":52663817,"comment_id":92303420,"body_markdown":"I don&#39;t know where you took `Files.copy(InputStream, OutputStream)` from, but the input stream should probably be closed properly as well (but that depends on the library).","body":"I don&#39;t know where you took <code>Files.copy(InputStream, OutputStream)</code> from, but the input stream should probably be closed properly as well (but that depends on the library)."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1538912980,"post_id":52663817,"comment_id":92303454,"body_markdown":"@AbdenaceurLichiheb it&#39;s a mistake probably and the OP meant either [`IOUtils#copy`](https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)) from Apache Commons IO or Guava&#39;s [`ByteStreams#copy`](https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/io/ByteStreams.html#copy-java.io.InputStream-java.io.OutputStream-).","body":"@AbdenaceurLichiheb it&#39;s a mistake probably and the OP meant either <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)\" rel=\"nofollow noreferrer\"><code>IOUtils#copy</code></a> from Apache Commons IO or Guava&#39;s <a href=\"https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/io/ByteStreams.html#copy-java.io.InputStream-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>ByteStreams#copy</code></a>."},{"owner":{"account_id":2296055,"reputation":186,"user_id":2017467,"display_name":"Firman Wijaya"},"score":0,"creation_date":1538966526,"post_id":52663817,"comment_id":92316005,"body_markdown":"@AbdenaceurLichiheb Updated my answer. @jannis `Files.copy(InputStream, OutputStream)` is actually a private method of `java.nio.file.Files` class. My mistake","body":"@AbdenaceurLichiheb Updated my answer. @jannis <code>Files.copy(InputStream, OutputStream)</code> is actually a private method of <code>java.nio.file.Files</code> class. My mistake"},{"owner":{"account_id":2296055,"reputation":186,"user_id":2017467,"display_name":"Firman Wijaya"},"score":2,"creation_date":1539074148,"post_id":52663817,"comment_id":92358695,"body_markdown":"@AbdenaceurLichiheb `Files.readAllBytes()` reads all bytes into memory and potentially causes OOME. You should try to read from stream instead.","body":"@AbdenaceurLichiheb <code>Files.readAllBytes()</code> reads all bytes into memory and potentially causes OOME. You should try to read from stream instead."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1539091553,"post_id":52663817,"comment_id":92369625,"body_markdown":"You have an error in `Files.copy(file.getInputStream(), convFile.toPath())`. Should be `Files.copy(is, convFile.toPath())`. Otherwise you open two streams and leave one hanging.","body":"You have an error in <code>Files.copy(file.getInputStream(), convFile.toPath())</code>. Should be <code>Files.copy(is, convFile.toPath())</code>. Otherwise you open two streams and leave one hanging."}],"tags":[],"owner":{"account_id":2296055,"reputation":186,"user_id":2017467,"display_name":"Firman Wijaya"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539094185,"creation_date":1538736157,"answer_id":52663817,"question_id":52663411,"body_markdown":"Does `MultipartFile` belong to Spring&#39;s package `org.springframework.web.multipart`? If so, you could do\r\n\r\n      public File convert(MultipartFile file) throws IOException {\r\n        File convFile = new File(file.getOriginalFilename());\r\n        convFile.createNewFile();\r\n          try(InputStream is = file.getInputStream()) {\r\n            Files.copy(is, convFile.toPath()); \r\n          }\r\n        return convFile;\r\n      }","title":"Java Convert MultipartFile to File for large files","body":"<p>Does <code>MultipartFile</code> belong to Spring's package <code>org.springframework.web.multipart</code>? If so, you could do</p>\n\n<pre><code>  public File convert(MultipartFile file) throws IOException {\n    File convFile = new File(file.getOriginalFilename());\n    convFile.createNewFile();\n      try(InputStream is = file.getInputStream()) {\n        Files.copy(is, convFile.toPath()); \n      }\n    return convFile;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7541011,"reputation":186,"user_id":5725589,"display_name":"Kumar Panchal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538736287,"creation_date":1538736287,"answer_id":52663852,"question_id":52663411,"body_markdown":"Below Code will help you to divide File in chunk of and then you have to aggregate\r\n\r\n\ttry\r\n\t\t\t{\r\n\t\t\t\tfile = new File(filePath.toString());\r\n\t\t\t\tmessageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t\t\tchecksum = getFileCheckSum(messageDigest, file);\r\n\t\t\t\tfileInputStream = new FileInputStream(file);\r\n\t\t\t\tint fileSize = (int) file.length();\r\n\t\t\t\tfileChannel = fileInputStream.getChannel();\r\n\t\t\t\tint numberOfChunks = (int) Math.ceil(fileChannel.size() / (double) chunkSize);\r\n\t\t\t\tint totalpacket = numberOfChunks;\r\n\t\t\t\tint totalFileSize = fileSize;\r\n\t\t\t\tint read = 0;\r\n\r\n\t\t\t\twhile (numberOfChunks &gt; 0)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;file is :&quot; + file + &quot;checksum is:&quot; + checksum);\r\n\t\t\t\t\tfileSize -= read;\r\n\r\n\t\t\t\t\tif (numberOfChunks &gt; 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tByteBuffer bytebuffer = ByteBuffer.allocate(chunkSize);\r\n\t\t\t\t\t\tread = fileChannel.read(bytebuffer);\r\n\t\t\t\t\t\tbytebuffer.flip();\r\n\t\t\t\t\t\tString content = new String();\r\n\t\t\t\t\t\tif (bytebuffer.hasRemaining())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent = new String(bytebuffer.array(), Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbytebuffer.clear();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\tString chunkData = new String();\r\n\t\t\t\t\t\tByteBuffer byteBuffer = ByteBuffer.allocate(fileSize);\r\n\t\t\t\t\t\tfileChannel.read(byteBuffer);\r\n\t\t\t\t\t\tchunkData = new String(byteBuffer.array(), Charset.forName(&quot;UTF-8&quot;));\r\n\t\t\t\t\t\tbyteBuffer.clear();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnumberOfChunks--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\tlog.info(e);\r\n\t\t\t}\r\n\t\t\tcatch (NoSuchAlgorithmException nsae)\r\n\t\t\t{\r\n\t\t\t\tlog.info(nsae);\r\n\t\t\t}\r\n\t\t\tfinally\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tfileInputStream.close();\r\n\t\t\t\t\tfileChannel.close();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (IOException ioe)\r\n\t\t\t\t{\r\n\t\t\t\t\tlog.info(ioe);\r\n\t\t\t\t}\r\n\r\n\t\t\t}","title":"Java Convert MultipartFile to File for large files","body":"<p>Below Code will help you to divide File in chunk of and then you have to aggregate</p>\n\n<pre><code>try\n        {\n            file = new File(filePath.toString());\n            messageDigest = MessageDigest.getInstance(\"MD5\");\n            checksum = getFileCheckSum(messageDigest, file);\n            fileInputStream = new FileInputStream(file);\n            int fileSize = (int) file.length();\n            fileChannel = fileInputStream.getChannel();\n            int numberOfChunks = (int) Math.ceil(fileChannel.size() / (double) chunkSize);\n            int totalpacket = numberOfChunks;\n            int totalFileSize = fileSize;\n            int read = 0;\n\n            while (numberOfChunks &gt; 0)\n            {\n\n                System.out.println(\"file is :\" + file + \"checksum is:\" + checksum);\n                fileSize -= read;\n\n                if (numberOfChunks &gt; 1)\n                {\n                    ByteBuffer bytebuffer = ByteBuffer.allocate(chunkSize);\n                    read = fileChannel.read(bytebuffer);\n                    bytebuffer.flip();\n                    String content = new String();\n                    if (bytebuffer.hasRemaining())\n                    {\n                        content = new String(bytebuffer.array(), Charset.forName(\"UTF-8\"));\n\n                    }\n\n\n                    bytebuffer.clear();\n\n                }\n                else\n                {\n\n                    String chunkData = new String();\n                    ByteBuffer byteBuffer = ByteBuffer.allocate(fileSize);\n                    fileChannel.read(byteBuffer);\n                    chunkData = new String(byteBuffer.array(), Charset.forName(\"UTF-8\"));\n                    byteBuffer.clear();\n                }\n\n                numberOfChunks--;\n            }\n        }\n        catch (IOException e)\n        {\n            log.info(e);\n        }\n        catch (NoSuchAlgorithmException nsae)\n        {\n            log.info(nsae);\n        }\n        finally\n        {\n            try\n            {\n                fileInputStream.close();\n                fileChannel.close();\n            }\n            catch (IOException ioe)\n            {\n                log.info(ioe);\n            }\n\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":1,"creation_date":1538746352,"post_id":52663920,"comment_id":92263307,"body_markdown":"This method doesn&#39;t save the file I got FileNotFoundException","body":"This method doesn&#39;t save the file I got FileNotFoundException"},{"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"score":0,"creation_date":1538752902,"post_id":52663920,"comment_id":92267404,"body_markdown":"Sorry then you have to add a create statement first.","body":"Sorry then you have to add a create statement first."},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1538758286,"post_id":52663920,"comment_id":92270089,"body_markdown":"what do you mean by create statement ?","body":"what do you mean by create statement ?"},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1538758954,"post_id":52663920,"comment_id":92270372,"body_markdown":"public File convert(MultipartFile file) throws IOException \n {\n  File convFile = new File(file.getOriginalFilename());\n  convFile.createNewFile();\n  file.transferTo(convFile);\n  return convFile;\n}","body":"public File convert(MultipartFile file) throws IOException   {   File convFile = new File(file.getOriginalFilename());   convFile.createNewFile();   file.transferTo(convFile);   return convFile; }"},{"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"score":1,"creation_date":1538902935,"post_id":52663920,"comment_id":92301186,"body_markdown":"I checked the api and the createNewFile is not helpful. Looks like the point might be your environment - are you running with servlet 3.x api?","body":"I checked the api and the createNewFile is not helpful. Looks like the point might be your environment - are you running with servlet 3.x api?"}],"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538902865,"creation_date":1538736522,"answer_id":52663920,"question_id":52663411,"body_markdown":"How about using transferTo:\r\n\r\n    public File convert(MultipartFile file) throws IOException \r\n     {\r\n      File convFile = new File(file.getOriginalFilename());\r\n      file.transferTo(convFile);\r\n      return convFile;\r\n    }\r\n","title":"Java Convert MultipartFile to File for large files","body":"<p>How about using transferTo:</p>\n\n<pre><code>public File convert(MultipartFile file) throws IOException \n {\n  File convFile = new File(file.getOriginalFilename());\n  file.transferTo(convFile);\n  return convFile;\n}\n</code></pre>\n"}],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15607,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52663817,"answer_count":3,"score":5,"last_activity_date":1671922297,"creation_date":1538734751,"question_id":52663411,"body_markdown":"I&#39;m using the below method to convert MultipartFile to a File:\r\n\r\n    public File convert(MultipartFile file) throws IOException {\r\n    \t\tFile convFile = new File(file.getOriginalFilename());\r\n    \t\tconvFile.createNewFile();\r\n    \t\tFileOutputStream fos = new FileOutputStream(convFile);\r\n    \t\tfos.write(file.getBytes());\r\n    \t\tfos.close();\r\n    \t\treturn convFile;\r\n    }\r\n\r\nWhich works fine but for large files I got this exception:\r\n\r\n&gt;java.lang.OutOfMemoryError: Java heap space\r\n\r\nI added more heap, but I&#39;m still having the error.\r\n\r\nSo is there a programmatic way to fix this maybe splitting the multipart file to smaller chunks while converting, but I&#39;m not sure how to code it.\r\n\r\nAny help or suggestion would be greatly appreciated.","title":"Java Convert MultipartFile to File for large files","body":"<p>I'm using the below method to convert MultipartFile to a File:</p>\n<pre><code>public File convert(MultipartFile file) throws IOException {\n        File convFile = new File(file.getOriginalFilename());\n        convFile.createNewFile();\n        FileOutputStream fos = new FileOutputStream(convFile);\n        fos.write(file.getBytes());\n        fos.close();\n        return convFile;\n}\n</code></pre>\n<p>Which works fine but for large files I got this exception:</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<p>I added more heap, but I'm still having the error.</p>\n<p>So is there a programmatic way to fix this maybe splitting the multipart file to smaller chunks while converting, but I'm not sure how to code it.</p>\n<p>Any help or suggestion would be greatly appreciated.</p>\n"},{"tags":["java","arrays","equality"],"comments":[{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1695905262,"post_id":8777257,"comment_id":136087987,"body_markdown":"I flagged a comment for removal since it&#39;s conversational / an answer, and not about improving the current question. If it&#39;s removed, please delete also my comment :)","body":"I flagged a comment for removal since it&#39;s conversational / an answer, and not about improving the current question. If it&#39;s removed, please delete also my comment :)"}],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":16,"creation_date":1326023816,"post_id":8777266,"comment_id":10943633,"body_markdown":"It&#39;s not broken, it&#39;s just inherited from Object.","body":"It&#39;s not broken, it&#39;s just inherited from Object."},{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1326023873,"post_id":8777266,"comment_id":10943648,"body_markdown":"Does an array have a custom implementation for `equals()`? I thought is wasn&#39;t overridden from Object.","body":"Does an array have a custom implementation for <code>equals()</code>? I thought is wasn&#39;t overridden from Object."},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":0,"creation_date":1326024088,"post_id":8777266,"comment_id":10943702,"body_markdown":"@MichaelBorgwardt it&#39;s a system library, with a method which does not do what&#39;s said in the javadoc. Sounds broken enough to me. That said, I do admit it&#39;s a very arguable statement, but I believe that &quot;it&#39;s broken&quot; is remembered better, and thus it&#39;s much more convenient to think of it this way.","body":"@MichaelBorgwardt it&#39;s a system library, with a method which does not do what&#39;s said in the javadoc. Sounds broken enough to me. That said, I do admit it&#39;s a very arguable statement, but I believe that &quot;it&#39;s broken&quot; is remembered better, and thus it&#39;s much more convenient to think of it this way."},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":0,"creation_date":1326024128,"post_id":8777266,"comment_id":10943712,"body_markdown":"@MartijnCourteaux that&#39;s exactly the problem :)","body":"@MartijnCourteaux that&#39;s exactly the problem :)"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1326024368,"post_id":8777266,"comment_id":10943763,"body_markdown":"@alf: There&#39;s no Javadoc for arrays, the language specification says it inherits the methods from Object, and the equals() inherited from Object does exactly what it says in its Javadoc. The statement &quot;it&#39;s broken&quot; is simply uninformative bordering on ignorant.","body":"@alf: There&#39;s no Javadoc for arrays, the language specification says it inherits the methods from Object, and the equals() inherited from Object does exactly what it says in its Javadoc. The statement &quot;it&#39;s broken&quot; is simply uninformative bordering on ignorant."},{"owner":{"account_id":5138100,"reputation":3886,"user_id":4116239,"display_name":"Kevin J. Chase"},"score":3,"creation_date":1477286992,"post_id":8777266,"comment_id":67686538,"body_markdown":"For arrays of arrays, you need [`Arrays.deepEquals`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepEquals-java.lang.Object:A-java.lang.Object:A-) --- it&#39;s what `someArray.equals` should have done all along.  (Related: [`Objects.deepEquals`](https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#deepEquals-java.lang.Object-java.lang.Object-).)","body":"For arrays of arrays, you need <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepEquals-java.lang.Object:A-java.lang.Object:A-\" rel=\"nofollow noreferrer\"><code>Arrays.deepEquals</code></a> --- it&#39;s what <code>someArray.equals</code> should have done all along.  (Related: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#deepEquals-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Objects.deepEquals</code></a>.)"},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1666460382,"post_id":8777266,"comment_id":130944450,"body_markdown":"Even Arrays.equals and Arrays.deepEquals are pretty broken, for my money. Arrays.equals is overloaded for all primitives and for T, but you can&#39;t just pass two Objects in, so it&#39;s no use for any form of reflection (unlike the methods of Array, such Array.getLength(Object) etc.). And strangely, it&#39;s missing from Array. Arrays.deepEquals() takes Object[]s, but you can&#39;t just cast your array objects to Object[] as this fails where the components are primitives.","body":"Even Arrays.equals and Arrays.deepEquals are pretty broken, for my money. Arrays.equals is overloaded for all primitives and for T, but you can&#39;t just pass two Objects in, so it&#39;s no use for any form of reflection (unlike the methods of Array, such Array.getLength(Object) etc.). And strangely, it&#39;s missing from Array. Arrays.deepEquals() takes Object[]s, but you can&#39;t just cast your array objects to Object[] as this fails where the components are primitives."}],"tags":[],"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"comment_count":7,"down_vote_count":2,"up_vote_count":95,"is_accepted":false,"score":93,"last_activity_date":1671922187,"creation_date":1326023690,"answer_id":8777266,"question_id":8777257,"body_markdown":"It&#39;s an infamous problem: `.equals()` for arrays is badly broken, just don&#39;t use it, ever.\r\n\r\nThat said, it&#39;s not &quot;broken&quot; as in &quot;someone has done it in a really wrong way&quot; — it&#39;s just doing what&#39;s defined and not what&#39;s usually expected. So for purists: it&#39;s perfectly fine, and that also means, *don&#39;t use it, ever.*\r\n\r\nNow the expected behaviour for `equals` is to compare data. The default behaviour is to compare the identity, as `Object` does not have any data (for purists: yes it has, but it&#39;s not the point); assumption is, if you need `equals` in subclasses, you&#39;ll implement it. In arrays, there&#39;s no implementation for you, so you&#39;re not supposed to use it.\r\n\r\nSo the difference is, `Arrays.equals(array1, array2)` works *as you would expect* (i.e. compares content), `array1.equals(array2)` falls back to `Object.equals` implementation, which in turn compares identity, and thus better replaced by `==` (for purists: yes I know about `null`).\r\n\r\nProblem is, even `Arrays.equals(array1, array2)` will bite you hard if elements of array do not implement `equals` properly. It&#39;s a very naive statement, I know, but there&#39;s a very important less-than-obvious case: consider a 2D array. \r\n\r\n2D array in Java is an array of arrays, and arrays&#39; `equals` is broken (or useless if you prefer), so `Arrays.equals(array1, array2)` will not work as you expect on 2D arrays.","title":"equals vs Arrays.equals in Java","body":"<p>It's an infamous problem: <code>.equals()</code> for arrays is badly broken, just don't use it, ever.</p>\n<p>That said, it's not &quot;broken&quot; as in &quot;someone has done it in a really wrong way&quot; — it's just doing what's defined and not what's usually expected. So for purists: it's perfectly fine, and that also means, <em>don't use it, ever.</em></p>\n<p>Now the expected behaviour for <code>equals</code> is to compare data. The default behaviour is to compare the identity, as <code>Object</code> does not have any data (for purists: yes it has, but it's not the point); assumption is, if you need <code>equals</code> in subclasses, you'll implement it. In arrays, there's no implementation for you, so you're not supposed to use it.</p>\n<p>So the difference is, <code>Arrays.equals(array1, array2)</code> works <em>as you would expect</em> (i.e. compares content), <code>array1.equals(array2)</code> falls back to <code>Object.equals</code> implementation, which in turn compares identity, and thus better replaced by <code>==</code> (for purists: yes I know about <code>null</code>).</p>\n<p>Problem is, even <code>Arrays.equals(array1, array2)</code> will bite you hard if elements of array do not implement <code>equals</code> properly. It's a very naive statement, I know, but there's a very important less-than-obvious case: consider a 2D array.</p>\n<p>2D array in Java is an array of arrays, and arrays' <code>equals</code> is broken (or useless if you prefer), so <code>Arrays.equals(array1, array2)</code> will not work as you expect on 2D arrays.</p>\n"},{"comments":[{"owner":{"account_id":244931,"reputation":18072,"user_id":808804,"accept_rate":80,"display_name":"Adam Parkin"},"score":66,"creation_date":1363628624,"post_id":8777279,"comment_id":21916282,"body_markdown":"Note that `Arrays.equals()` does not work as expected for multidimensional arrays, it only compares items of the 1st dimension for reference equality.  Apache commons `ArrayUtils.isEquals` works with multidimensional arrays.","body":"Note that <code>Arrays.equals()</code> does not work as expected for multidimensional arrays, it only compares items of the 1st dimension for reference equality.  Apache commons <code>ArrayUtils.isEquals</code> works with multidimensional arrays."},{"owner":{"account_id":2153338,"reputation":4072,"user_id":1909094,"accept_rate":83,"display_name":"Lake"},"score":7,"creation_date":1383039247,"post_id":8777279,"comment_id":29184543,"body_markdown":"I&#39;m stunned.  Is there a reason for array.equals to be implemented to pointer comparison rather than comparing length and every object?","body":"I&#39;m stunned.  Is there a reason for array.equals to be implemented to pointer comparison rather than comparing length and every object?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1383069676,"post_id":8777279,"comment_id":29204495,"body_markdown":"@Lake is does compare the array length and the objects contained, but what it doesn&#39;t do is a deep comparison.  The fact equals does work as expected for arrays is broken, this shouldn&#39;t be an issue in the first place.","body":"@Lake is does compare the array length and the objects contained, but what it doesn&#39;t do is a deep comparison.  The fact equals does work as expected for arrays is broken, this shouldn&#39;t be an issue in the first place."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":53,"creation_date":1413662677,"post_id":8777279,"comment_id":41530727,"body_markdown":"@AdamParkin That why we have [`Arrays.deepEquals(Object[], Object[])`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepEquals%28java.lang.Object[],%20java.lang.Object[]%29).","body":"@AdamParkin That why we have <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepEquals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\"><code>Arrays.deepEquals(Object[], Object[])</code></a>."},{"owner":{"account_id":1296670,"reputation":643,"user_id":3833423,"accept_rate":40,"display_name":"G 1"},"score":1,"creation_date":1470030453,"post_id":8777279,"comment_id":64762392,"body_markdown":"According to the JAVA API,\n[https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals(double[],%20double[])]\n\nTwo arrays are considered equal \nif both arrays contain the same number of elements, and all corresponding pairs of elements in the two arrays are equal. \nIn other words, two arrays are equal if they contain the same elements in the **same order**. Also, two array references are considered equal if both are null.\n\nOrder of elements matters even if both arrays holds the same objects or primitive data.","body":"According to the JAVA API, [<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals(double[],%20double[])]\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>  Two arrays are considered equal  if both arrays contain the same number of elements, and all corresponding pairs of elements in the two arrays are equal.  In other words, two arrays are equal if they contain the same elements in the <b>same order</b>. Also, two array references are considered equal if both are null.  Order of elements matters even if both arrays holds the same objects or primitive data."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1470036686,"post_id":8777279,"comment_id":64765207,"body_markdown":"@JeewanthaSamaraweera that is the definition for that method, however for `.equals` it doesn&#39;t compare contents which is why you need that method.","body":"@JeewanthaSamaraweera that is the definition for that method, however for <code>.equals</code> it doesn&#39;t compare contents which is why you need that method."},{"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"score":1,"creation_date":1501803555,"post_id":8777279,"comment_id":77953660,"body_markdown":"Sadly, `HashSet&lt;int[]&gt;` is useless.","body":"Sadly, <code>HashSet&lt;int[]&gt;</code> is useless."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1501839563,"post_id":8777279,"comment_id":77967318,"body_markdown":"@D&#225;vidHorv&#225;th you need to create a wrapper class for `int[]`","body":"@D&#225;vidHorv&#225;th you need to create a wrapper class for <code>int[]</code>"},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1533184176,"post_id":8777279,"comment_id":90254941,"body_markdown":"My question is Why is that array1.equals(array2) doesn&#39;t work? Is it a feature and by design , Oracle/Sun Microsystems made it that way?","body":"My question is Why is that array1.equals(array2) doesn&#39;t work? Is it a feature and by design , Oracle/Sun Microsystems made it that way?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1533189284,"post_id":8777279,"comment_id":90256524,"body_markdown":"@user3705478 it works as they expected which is to only compare the references. Sun favoured doing this for all mutable data types and only compared contents for immutable types eg String vs StringBuilder. IMHO a more pragmatic approach would have been better.","body":"@user3705478 it works as they expected which is to only compare the references. Sun favoured doing this for all mutable data types and only compared contents for immutable types eg String vs StringBuilder. IMHO a more pragmatic approach would have been better."},{"owner":{"account_id":5990844,"reputation":135,"user_id":4706966,"display_name":"very"},"score":0,"creation_date":1545303447,"post_id":8777279,"comment_id":94581731,"body_markdown":"Note that the problem also exists for Objects having a field of any array type. They should override the equals method to compare the array field with Arrays.equals().","body":"Note that the problem also exists for Objects having a field of any array type. They should override the equals method to compare the array field with Arrays.equals()."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":11,"down_vote_count":0,"up_vote_count":341,"is_accepted":true,"score":341,"last_activity_date":1665669000,"creation_date":1326023852,"answer_id":8777279,"question_id":8777257,"body_markdown":"`array1.equals(array2)` is the same as `array1 == array2`, i.e. is it the same array. [As @alf points out](https://stackoverflow.com/a/8777266/674064) it&#39;s not what most people expect.\r\n\r\n`Arrays.equals(array1, array2)` compares the contents of the arrays.\r\n\r\n---\r\n\r\nSimilarly `array.toString()` may not be very useful and you need to use `Arrays.toString(array)`.","title":"equals vs Arrays.equals in Java","body":"<p><code>array1.equals(array2)</code> is the same as <code>array1 == array2</code>, i.e. is it the same array. <a href=\"https://stackoverflow.com/a/8777266/674064\">As @alf points out</a> it's not what most people expect.</p>\n<p><code>Arrays.equals(array1, array2)</code> compares the contents of the arrays.</p>\n<hr />\n<p>Similarly <code>array.toString()</code> may not be very useful and you need to use <code>Arrays.toString(array)</code>.</p>\n"},{"comments":[{"owner":{"account_id":265101,"reputation":8176,"user_id":551841,"accept_rate":100,"display_name":"AlanFoster"},"score":2,"creation_date":1326024038,"post_id":8777292,"comment_id":10943691,"body_markdown":"you say &quot;arrays&#39; contents&quot;, does this mean multidimensional arrays too?","body":"you say &quot;arrays&#39; contents&quot;, does this mean multidimensional arrays too?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1326024157,"post_id":8777292,"comment_id":10943720,"body_markdown":"@AlanFoster: no. Multidimensional arrays are arrays of arrays, which means they method Arrays.equals(Object[], Object[]) will be invoked, which calls the sub-arrays&#39; equals() methods","body":"@AlanFoster: no. Multidimensional arrays are arrays of arrays, which means they method Arrays.equals(Object[], Object[]) will be invoked, which calls the sub-arrays&#39; equals() methods"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326023943,"creation_date":1326023943,"answer_id":8777292,"question_id":8777257,"body_markdown":"The `equals()` of arrays is inherited from `Object`, so it does not look at the contents of the arrrays, it only considers each array equal to itself.\r\n\r\nThe `Arrays.equals()` methods *do* compare the arrays&#39; contents. There&#39;s overloads for all primitive types, and the one for objects uses the objects&#39; own `equals()` methods.","title":"equals vs Arrays.equals in Java","body":"<p>The <code>equals()</code> of arrays is inherited from <code>Object</code>, so it does not look at the contents of the arrrays, it only considers each array equal to itself.</p>\n\n<p>The <code>Arrays.equals()</code> methods <em>do</em> compare the arrays' contents. There's overloads for all primitive types, and the one for objects uses the objects' own <code>equals()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326024080,"creation_date":1326024080,"answer_id":8777311,"question_id":8777257,"body_markdown":"The `Arrays.equals(array1, array2)` : \r\n\r\ncheck if both arrays contain the same number of elements, and all corresponding pairs of elements in the two arrays are equal.\r\n\r\nThe `array1.equals(array2)` :\r\n\r\ncompare the object to another object and return true only if the reference of the two object are equal as in the `Object.equals()`","title":"equals vs Arrays.equals in Java","body":"<p>The <code>Arrays.equals(array1, array2)</code> : </p>\n\n<p>check if both arrays contain the same number of elements, and all corresponding pairs of elements in the two arrays are equal.</p>\n\n<p>The <code>array1.equals(array2)</code> :</p>\n\n<p>compare the object to another object and return true only if the reference of the two object are equal as in the <code>Object.equals()</code></p>\n"},{"comments":[{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":0,"creation_date":1663699672,"post_id":8777312,"comment_id":130300251,"body_markdown":"&quot;Arrays.equals compares the elements of the arrays&quot; ?","body":"&quot;Arrays.equals compares the elements of the arrays&quot; ?"}],"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326024085,"creation_date":1326024085,"answer_id":8777312,"question_id":8777257,"body_markdown":"Arrays inherit `equals()` from `Object` and hence compare only returns true if comparing an array against itself.\r\n\r\nOn the other hand, `Arrays.equals` compares the elements of the arrays.\r\n\r\nThis snippet elucidates the difference:\r\n\r\n    Object o1 = new Object();\r\n    Object o2 = new Object();\r\n    Object[] a1 = { o1, o2 };\r\n    Object[] a2 = { o1, o2 };\r\n    System.out.println(a1.equals(a2)); // prints false\r\n    System.out.println(Arrays.equals(a1, a2)); // prints true\r\n\r\nSee also [`Arrays.equals()`][1]. Another static method there may also be of interest: [`Arrays.deepEquals()`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepEquals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29","title":"equals vs Arrays.equals in Java","body":"<p>Arrays inherit <code>equals()</code> from <code>Object</code> and hence compare only returns true if comparing an array against itself.</p>\n\n<p>On the other hand, <code>Arrays.equals</code> compares the elements of the arrays.</p>\n\n<p>This snippet elucidates the difference:</p>\n\n<pre><code>Object o1 = new Object();\nObject o2 = new Object();\nObject[] a1 = { o1, o2 };\nObject[] a2 = { o1, o2 };\nSystem.out.println(a1.equals(a2)); // prints false\nSystem.out.println(Arrays.equals(a1, a2)); // prints true\n</code></pre>\n\n<p>See also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\" rel=\"noreferrer\"><code>Arrays.equals()</code></a>. Another static method there may also be of interest: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepEquals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\" rel=\"noreferrer\"><code>Arrays.deepEquals()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1326024809,"creation_date":1326024809,"answer_id":8777397,"question_id":8777257,"body_markdown":"Look inside the implementation of the two methods to understand them deeply:\r\n\r\n\r\n    array1.equals(array2);\r\n\r\n&lt;!-- --&gt;\r\n\r\n    /**\r\n     * Indicates whether some other object is &quot;equal to&quot; this one.\r\n     * &lt;p&gt;\r\n     * The {@code equals} method implements an equivalence relation\r\n     * on non-null object references:\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;It is &lt;i&gt;reflexive&lt;/i&gt;: for any non-null reference value\r\n     *     {@code x}, {@code x.equals(x)} should return\r\n     *     {@code true}.\r\n     * &lt;li&gt;It is &lt;i&gt;symmetric&lt;/i&gt;: for any non-null reference values\r\n     *     {@code x} and {@code y}, {@code x.equals(y)}\r\n     *     should return {@code true} if and only if\r\n     *     {@code y.equals(x)} returns {@code true}.\r\n     * &lt;li&gt;It is &lt;i&gt;transitive&lt;/i&gt;: for any non-null reference values\r\n     *     {@code x}, {@code y}, and {@code z}, if\r\n     *     {@code x.equals(y)} returns {@code true} and\r\n     *     {@code y.equals(z)} returns {@code true}, then\r\n     *     {@code x.equals(z)} should return {@code true}.\r\n     * &lt;li&gt;It is &lt;i&gt;consistent&lt;/i&gt;: for any non-null reference values\r\n     *     {@code x} and {@code y}, multiple invocations of\r\n     *     {@code x.equals(y)} consistently return {@code true}\r\n     *     or consistently return {@code false}, provided no\r\n     *     information used in {@code equals} comparisons on the\r\n     *     objects is modified.\r\n     * &lt;li&gt;For any non-null reference value {@code x},\r\n     *     {@code x.equals(null)} should return {@code false}.\r\n     * &lt;/ul&gt;\r\n     * &lt;p&gt;\r\n     * The {@code equals} method for class {@code Object} implements\r\n     * the most discriminating possible equivalence relation on objects;\r\n     * that is, for any non-null reference values {@code x} and\r\n     * {@code y}, this method returns {@code true} if and only\r\n     * if {@code x} and {@code y} refer to the same object\r\n     * ({@code x == y} has the value {@code true}).\r\n     * &lt;p&gt;\r\n     * Note that it is generally necessary to override the {@code hashCode}\r\n     * method whenever this method is overridden, so as to maintain the\r\n     * general contract for the {@code hashCode} method, which states\r\n     * that equal objects must have equal hash codes.\r\n     *\r\n     * @param   obj   the reference object with which to compare.\r\n     * @return  {@code true} if this object is the same as the obj\r\n     *          argument; {@code false} otherwise.\r\n     * @see     #hashCode()\r\n     * @see     java.util.HashMap\r\n     */\r\n    public boolean equals(Object obj) {\r\n        return (this == obj);\r\n    }\r\n\r\nwhile:\r\n\r\n    Arrays.equals(array1, array2);\r\n\r\n&lt;!-- --&gt;\r\n\r\n    /**\r\n     * Returns &lt;tt&gt;true&lt;/tt&gt; if the two specified arrays of Objects are\r\n     * &lt;i&gt;equal&lt;/i&gt; to one another.  The two arrays are considered equal if\r\n     * both arrays contain the same number of elements, and all corresponding\r\n     * pairs of elements in the two arrays are equal.  Two objects &lt;tt&gt;e1&lt;/tt&gt;\r\n     * and &lt;tt&gt;e2&lt;/tt&gt; are considered &lt;i&gt;equal&lt;/i&gt; if &lt;tt&gt;(e1==null ? e2==null\r\n     * : e1.equals(e2))&lt;/tt&gt;.  In other words, the two arrays are equal if\r\n     * they contain the same elements in the same order.  Also, two array\r\n     * references are considered equal if both are &lt;tt&gt;null&lt;/tt&gt;.&lt;p&gt;\r\n     *\r\n     * @param a one array to be tested for equality\r\n     * @param a2 the other array to be tested for equality\r\n     * @return &lt;tt&gt;true&lt;/tt&gt; if the two arrays are equal\r\n     */\r\n    public static boolean equals(Object[] a, Object[] a2) {\r\n        if (a==a2)\r\n            return true;\r\n        if (a==null || a2==null)\r\n            return false;\r\n\r\n        int length = a.length;\r\n        if (a2.length != length)\r\n            return false;\r\n\r\n        for (int i=0; i&lt;length; i++) {\r\n            Object o1 = a[i];\r\n            Object o2 = a2[i];\r\n            if (!(o1==null ? o2==null : o1.equals(o2)))\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }","title":"equals vs Arrays.equals in Java","body":"<p>Look inside the implementation of the two methods to understand them deeply:</p>\n\n<pre><code>array1.equals(array2);\n</code></pre>\n\n\n\n<pre><code>/**\n * Indicates whether some other object is \"equal to\" this one.\n * &lt;p&gt;\n * The {@code equals} method implements an equivalence relation\n * on non-null object references:\n * &lt;ul&gt;\n * &lt;li&gt;It is &lt;i&gt;reflexive&lt;/i&gt;: for any non-null reference value\n *     {@code x}, {@code x.equals(x)} should return\n *     {@code true}.\n * &lt;li&gt;It is &lt;i&gt;symmetric&lt;/i&gt;: for any non-null reference values\n *     {@code x} and {@code y}, {@code x.equals(y)}\n *     should return {@code true} if and only if\n *     {@code y.equals(x)} returns {@code true}.\n * &lt;li&gt;It is &lt;i&gt;transitive&lt;/i&gt;: for any non-null reference values\n *     {@code x}, {@code y}, and {@code z}, if\n *     {@code x.equals(y)} returns {@code true} and\n *     {@code y.equals(z)} returns {@code true}, then\n *     {@code x.equals(z)} should return {@code true}.\n * &lt;li&gt;It is &lt;i&gt;consistent&lt;/i&gt;: for any non-null reference values\n *     {@code x} and {@code y}, multiple invocations of\n *     {@code x.equals(y)} consistently return {@code true}\n *     or consistently return {@code false}, provided no\n *     information used in {@code equals} comparisons on the\n *     objects is modified.\n * &lt;li&gt;For any non-null reference value {@code x},\n *     {@code x.equals(null)} should return {@code false}.\n * &lt;/ul&gt;\n * &lt;p&gt;\n * The {@code equals} method for class {@code Object} implements\n * the most discriminating possible equivalence relation on objects;\n * that is, for any non-null reference values {@code x} and\n * {@code y}, this method returns {@code true} if and only\n * if {@code x} and {@code y} refer to the same object\n * ({@code x == y} has the value {@code true}).\n * &lt;p&gt;\n * Note that it is generally necessary to override the {@code hashCode}\n * method whenever this method is overridden, so as to maintain the\n * general contract for the {@code hashCode} method, which states\n * that equal objects must have equal hash codes.\n *\n * @param   obj   the reference object with which to compare.\n * @return  {@code true} if this object is the same as the obj\n *          argument; {@code false} otherwise.\n * @see     #hashCode()\n * @see     java.util.HashMap\n */\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n\n<p>while:</p>\n\n<pre><code>Arrays.equals(array1, array2);\n</code></pre>\n\n\n\n<pre><code>/**\n * Returns &lt;tt&gt;true&lt;/tt&gt; if the two specified arrays of Objects are\n * &lt;i&gt;equal&lt;/i&gt; to one another.  The two arrays are considered equal if\n * both arrays contain the same number of elements, and all corresponding\n * pairs of elements in the two arrays are equal.  Two objects &lt;tt&gt;e1&lt;/tt&gt;\n * and &lt;tt&gt;e2&lt;/tt&gt; are considered &lt;i&gt;equal&lt;/i&gt; if &lt;tt&gt;(e1==null ? e2==null\n * : e1.equals(e2))&lt;/tt&gt;.  In other words, the two arrays are equal if\n * they contain the same elements in the same order.  Also, two array\n * references are considered equal if both are &lt;tt&gt;null&lt;/tt&gt;.&lt;p&gt;\n *\n * @param a one array to be tested for equality\n * @param a2 the other array to be tested for equality\n * @return &lt;tt&gt;true&lt;/tt&gt; if the two arrays are equal\n */\npublic static boolean equals(Object[] a, Object[] a2) {\n    if (a==a2)\n        return true;\n    if (a==null || a2==null)\n        return false;\n\n    int length = a.length;\n    if (a2.length != length)\n        return false;\n\n    for (int i=0; i&lt;length; i++) {\n        Object o1 = a[i];\n        Object o2 = a2[i];\n        if (!(o1==null ? o2==null : o1.equals(o2)))\n            return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4833528,"reputation":1195,"user_id":3901029,"accept_rate":88,"display_name":"F.S."},"score":6,"creation_date":1482776322,"post_id":36943751,"comment_id":69872284,"body_markdown":"I like the Broken.As.Designed acronym","body":"I like the Broken.As.Designed acronym"}],"tags":[],"owner":{"account_id":6305358,"reputation":386,"user_id":4898572,"accept_rate":14,"display_name":"A. P. Damien"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461948887,"creation_date":1461948887,"answer_id":36943751,"question_id":8777257,"body_markdown":"Sigh. Back in the 70s I was the &quot;system programmer&quot; (sysadmin) for an IBM 370 system, and my employer was a member of the IBM users group SHARE. It would sometimes happen thatsomebody submitted an APAR (bug report) on some unexpected behavior of some CMS command, and IBM would respond NOTABUG: the command does what it was designed to do (and what the documentation says).\r\n\r\nSHARE came up with a counter to this: BAD -- Broken As Designed. I think this might apply to this implementation of equals for arrays.\r\n\r\nThere&#39;s nothing wrong with the implementation of Object.equals. Object has no data members, so there is nothing to compare. Two &quot;Object&quot;s are equal if and only if they are, in fact, the same Object (internally, the same address and length).\r\n\r\nBut that logic doesn&#39;t apply to arrays. Arrays have data, and you expect comparison (via equals) to compare the data. Ideally, the way Arrays.deepEquals does, but at least the way Arrays.equals does (shallow comparison of the elements).\r\n\r\nSo the problem is that array (as a built-in object) does not override Object.equals. String (as a named class) *does* override Object.equals and give the result you expect.\r\n\r\nOther answers given are correct: [...].equals([....]) simply compares the pointers and not the contents. Maybe someday somebody will correct this. Or maybe not: how many existing programs would break if [...].equals actually compared the elements? Not many, I suspect, but more than zero.","title":"equals vs Arrays.equals in Java","body":"<p>Sigh. Back in the 70s I was the \"system programmer\" (sysadmin) for an IBM 370 system, and my employer was a member of the IBM users group SHARE. It would sometimes happen thatsomebody submitted an APAR (bug report) on some unexpected behavior of some CMS command, and IBM would respond NOTABUG: the command does what it was designed to do (and what the documentation says).</p>\n\n<p>SHARE came up with a counter to this: BAD -- Broken As Designed. I think this might apply to this implementation of equals for arrays.</p>\n\n<p>There's nothing wrong with the implementation of Object.equals. Object has no data members, so there is nothing to compare. Two \"Object\"s are equal if and only if they are, in fact, the same Object (internally, the same address and length).</p>\n\n<p>But that logic doesn't apply to arrays. Arrays have data, and you expect comparison (via equals) to compare the data. Ideally, the way Arrays.deepEquals does, but at least the way Arrays.equals does (shallow comparison of the elements).</p>\n\n<p>So the problem is that array (as a built-in object) does not override Object.equals. String (as a named class) <em>does</em> override Object.equals and give the result you expect.</p>\n\n<p>Other answers given are correct: [...].equals([....]) simply compares the pointers and not the contents. Maybe someday somebody will correct this. Or maybe not: how many existing programs would break if [...].equals actually compared the elements? Not many, I suspect, but more than zero.</p>\n"},{"comments":[{"owner":{"account_id":474434,"reputation":3373,"user_id":884113,"accept_rate":40,"display_name":"jiahao"},"score":0,"creation_date":1544079461,"post_id":47297731,"comment_id":94150670,"body_markdown":"It seems to be correct but on arrays, the order of the elements are also important. For instance, if you there is another array Object[] array4 = new Object[] { 123, 1 }; with Arrays.equals(array3, array4), it will return false.","body":"It seems to be correct but on arrays, the order of the elements are also important. For instance, if you there is another array Object[] array4 = new Object[] { 123, 1 }; with Arrays.equals(array3, array4), it will return false."}],"tags":[],"owner":{"account_id":10694135,"reputation":47,"user_id":7871961,"display_name":"Tayyab"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544080160,"creation_date":1510707285,"answer_id":47297731,"question_id":8777257,"body_markdown":"    import java.util.Arrays;\r\n    public class ArrayDemo {\r\n       public static void main(String[] args) {\r\n       // initializing three object arrays\r\n       Object[] array1 = new Object[] { 1, 123 };\r\n       Object[] array2 = new Object[] { 1, 123, 22, 4 };\r\n       Object[] array3 = new Object[] { 1, 123 };\r\n    \r\n       // comparing array1 and array2\r\n       boolean retval=Arrays.equals(array1, array2);\r\n       System.out.println(&quot;array1 and array2 equal: &quot; + retval);\r\n       System.out.println(&quot;array1 and array2 equal: &quot; + array1.equals(array2));\r\n\r\n       // comparing array1 and array3\r\n       boolean retval2=Arrays.equals(array1, array3);\r\n       System.out.println(&quot;array1 and array3 equal: &quot; + retval2);\r\n       System.out.println(&quot;array1 and array3 equal: &quot; + array1.equals(array3));\r\n\r\n       }\r\n    }\r\nHere is the output:\r\n\r\n        array1 and array2 equal: false\r\n        array1 and array2 equal: false\r\n\r\n        array1 and array3 equal: true\r\n        array1 and array3 equal: false\r\n\r\nSeeing this kind of problem I would personally go for `Arrays.equals(array1, array2)` as per your question to avoid confusion.","title":"equals vs Arrays.equals in Java","body":"<pre><code>import java.util.Arrays;\npublic class ArrayDemo {\n   public static void main(String[] args) {\n   // initializing three object arrays\n   Object[] array1 = new Object[] { 1, 123 };\n   Object[] array2 = new Object[] { 1, 123, 22, 4 };\n   Object[] array3 = new Object[] { 1, 123 };\n\n   // comparing array1 and array2\n   boolean retval=Arrays.equals(array1, array2);\n   System.out.println(\"array1 and array2 equal: \" + retval);\n   System.out.println(\"array1 and array2 equal: \" + array1.equals(array2));\n\n   // comparing array1 and array3\n   boolean retval2=Arrays.equals(array1, array3);\n   System.out.println(\"array1 and array3 equal: \" + retval2);\n   System.out.println(\"array1 and array3 equal: \" + array1.equals(array3));\n\n   }\n}\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>    array1 and array2 equal: false\n    array1 and array2 equal: false\n\n    array1 and array3 equal: true\n    array1 and array3 equal: false\n</code></pre>\n\n<p>Seeing this kind of problem I would personally go for <code>Arrays.equals(array1, array2)</code> as per your question to avoid confusion.</p>\n"},{"tags":[],"owner":{"account_id":24217700,"reputation":1,"user_id":18173326,"display_name":"sanlolness"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662438005,"creation_date":1662437568,"answer_id":73616641,"question_id":8777257,"body_markdown":"I think the Objects.deepEquals(Obj1,Obj2) is the best uniform solution here, if Obj1 and Obj2 are two int arrays, it will call the Arrays.deepEquals0(a, b) method for you. If you are not comparing strings, it will just use the &quot;.equals&quot;(&quot;==&quot;) traditional method, so it is also very useful when comparing strings.\r\n\r\nIt will cover those normal usages like butter, no need to remember when to use ().equals(), Arrays.equals, (String a).equals((String b)) or whatsoever.\r\n\r\nThe time complexity of this Objects.deepEquals operation will be O(n).\r\n\r\n```\r\n    public static boolean deepEquals(Object a, Object b) {\r\n        if (a == b)\r\n            return true;\r\n        else if (a == null || b == null)\r\n            return false;\r\n        else\r\n            return Arrays.deepEquals0(a, b);\r\n    }\r\n```\r\n\r\nCommon usages are like:\r\nCompare int array, whooo:\r\n```\r\nint[] num1 = { 1, 2, 3, 4 };\r\nint[] num2 = { 1, 2, 3, 4 };\r\nSystem.out.println(Objects.deepEquals(num1, num2));\r\n```\r\nCan also compare 2D arrays, so gooooood:\r\n```\r\nint[][] nums1 = { { 1, 2 }, { 2, 3 }, { 3, 4 } };\r\nint[][] nums2 = { { 1, 2 }, { 2, 3 }, { 3, 4 } };\r\nSystem.out.println(Objects.deepEquals(nums1, nums2));\r\n```\r\nCompare strings, even greater:\r\n```\r\nString s1 = &quot;sasfd!&quot;;\r\nString s2 = &quot;sasfd&quot; + &quot;!&quot;;\r\nSystem.out.println(Objects.deepEquals(s1, s2));\r\n```\r\n**I LOVE UNIVERSALLY APPLICABLE APPROACHES**","title":"equals vs Arrays.equals in Java","body":"<p>I think the Objects.deepEquals(Obj1,Obj2) is the best uniform solution here, if Obj1 and Obj2 are two int arrays, it will call the Arrays.deepEquals0(a, b) method for you. If you are not comparing strings, it will just use the &quot;.equals&quot;(&quot;==&quot;) traditional method, so it is also very useful when comparing strings.</p>\n<p>It will cover those normal usages like butter, no need to remember when to use ().equals(), Arrays.equals, (String a).equals((String b)) or whatsoever.</p>\n<p>The time complexity of this Objects.deepEquals operation will be O(n).</p>\n<pre><code>    public static boolean deepEquals(Object a, Object b) {\n        if (a == b)\n            return true;\n        else if (a == null || b == null)\n            return false;\n        else\n            return Arrays.deepEquals0(a, b);\n    }\n</code></pre>\n<p>Common usages are like:\nCompare int array, whooo:</p>\n<pre><code>int[] num1 = { 1, 2, 3, 4 };\nint[] num2 = { 1, 2, 3, 4 };\nSystem.out.println(Objects.deepEquals(num1, num2));\n</code></pre>\n<p>Can also compare 2D arrays, so gooooood:</p>\n<pre><code>int[][] nums1 = { { 1, 2 }, { 2, 3 }, { 3, 4 } };\nint[][] nums2 = { { 1, 2 }, { 2, 3 }, { 3, 4 } };\nSystem.out.println(Objects.deepEquals(nums1, nums2));\n</code></pre>\n<p>Compare strings, even greater:</p>\n<pre><code>String s1 = &quot;sasfd!&quot;;\nString s2 = &quot;sasfd&quot; + &quot;!&quot;;\nSystem.out.println(Objects.deepEquals(s1, s2));\n</code></pre>\n<p><strong>I LOVE UNIVERSALLY APPLICABLE APPROACHES</strong></p>\n"}],"owner":{"account_id":1106348,"reputation":3416,"user_id":1097658,"accept_rate":100,"display_name":"PandaConda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212859,"favorite_count":0,"down_vote_count":1,"up_vote_count":242,"accepted_answer_id":8777279,"answer_count":9,"score":241,"last_activity_date":1671922187,"creation_date":1326023606,"question_id":8777257,"body_markdown":"When comparing arrays in Java, are there any differences between the following 2 statements?\r\n\r\n    Object[] array1, array2;\r\n    array1.equals(array2);\r\n    Arrays.equals(array1, array2);\r\n\r\nAnd if so, what are they?","title":"equals vs Arrays.equals in Java","body":"<p>When comparing arrays in Java, are there any differences between the following 2 statements?</p>\n\n<pre><code>Object[] array1, array2;\narray1.equals(array2);\nArrays.equals(array1, array2);\n</code></pre>\n\n<p>And if so, what are they?</p>\n"},{"tags":["java","apache-spark","reduce"],"comments":[{"owner":{"account_id":97791,"reputation":324387,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"score":0,"creation_date":1456237011,"post_id":35579619,"comment_id":58846309,"body_markdown":"How do you express the order? Or in other words what makes values adjacent?","body":"How do you express the order? Or in other words what makes values adjacent?"},{"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"score":1,"creation_date":1456237380,"post_id":35579619,"comment_id":58846603,"body_markdown":"@zero323 The data consists of variable name, timestamp and measurement. Timestamp is the field which I sort the data by. Variable name is the key.","body":"@zero323 The data consists of variable name, timestamp and measurement. Timestamp is the field which I sort the data by. Variable name is the key."}],"answers":[{"comments":[{"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"score":1,"creation_date":1456325721,"post_id":35581693,"comment_id":58895444,"body_markdown":"Implemented the first strategy you proposed, seems to be executing without memory issues. Thanks a lot!","body":"Implemented the first strategy you proposed, seems to be executing without memory issues. Thanks a lot!"}],"tags":[],"owner":{"account_id":97791,"reputation":324387,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1456242239,"creation_date":1456241733,"answer_id":35581693,"question_id":35579619,"body_markdown":"There are a few ways you can approach this problem:\r\n\r\n- `repartitionAndSortWithinPartitions` with custom partitioner and ordering:\r\n\r\n    - `keyBy` (name, timestamp) pairs\r\n    - create custom partitioner which considers only the name\r\n    - `repartitionAndSortWithinPartitions` using custom partitioner\r\n    - use `mapPartitions` to iterate over data and yield matching sequences\r\n\r\n- `sortBy(Key)` - this is similar to the first solution but provides higher granularity at the cost of additional post-processing. \r\n\r\n    - `keyBy` (name, timestamp) pairs\r\n    - `sortByKey` \r\n    - process individual partitions using `mapPartitionsWithIndex` keeping track of leading / trailing patterns for each partition\r\n    -  adjust final results to include patterns which span over more than one partitions\r\n\r\n- create fixed sized windows over sorted data using `sliding` from `mllib.rdd.RDDFunctions`.\r\n    - `sortBy` (name, timestamp)\r\n    - create sliding RDD and filter windows which cover multiple `names`\r\n    - check if any window contains desired pattern.\r\n\r\n\r\n ","title":"Detecting repeating consecutive values in large datasets with Spark","body":"<p>There are a few ways you can approach this problem:</p>\n\n<ul>\n<li><p><code>repartitionAndSortWithinPartitions</code> with custom partitioner and ordering:</p>\n\n<ul>\n<li><code>keyBy</code> (name, timestamp) pairs</li>\n<li>create custom partitioner which considers only the name</li>\n<li><code>repartitionAndSortWithinPartitions</code> using custom partitioner</li>\n<li>use <code>mapPartitions</code> to iterate over data and yield matching sequences</li>\n</ul></li>\n<li><p><code>sortBy(Key)</code> - this is similar to the first solution but provides higher granularity at the cost of additional post-processing. </p>\n\n<ul>\n<li><code>keyBy</code> (name, timestamp) pairs</li>\n<li><code>sortByKey</code> </li>\n<li>process individual partitions using <code>mapPartitionsWithIndex</code> keeping track of leading / trailing patterns for each partition</li>\n<li>adjust final results to include patterns which span over more than one partitions</li>\n</ul></li>\n<li><p>create fixed sized windows over sorted data using <code>sliding</code> from <code>mllib.rdd.RDDFunctions</code>.</p>\n\n<ul>\n<li><code>sortBy</code> (name, timestamp)</li>\n<li>create sliding RDD and filter windows which cover multiple <code>names</code></li>\n<li>check if any window contains desired pattern.</li>\n</ul></li>\n</ul>\n"}],"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35581693,"answer_count":1,"score":1,"last_activity_date":1671921700,"creation_date":1456236189,"question_id":35579619,"body_markdown":"Recently I have being trying out Spark and do far I have observed quite interesting results, but currently I am stuck with famous `groupByKey` OOM problem. Basically what the job does it tries to search in the large datasets the periods where measured value is increasing consecutively for at least N times. I managed to get rid of the problem by writing the results to the disk, but the application is running much slower now (which is expected due to the disk IO). Now the question: is there any other memory efficient strategy where I can run sorted data and check whether adjacent values(for the same key) are increasing in at least N consecutive observations, without recurring to groupByKey method?\r\n\r\nI have designed an algorithm to do it with `reduceByKey`, but there is one problem, reduce seems to ignore data ordering and yells completely wrong results at the end.\r\n\r\nAny ideas appreciated.","title":"Detecting repeating consecutive values in large datasets with Spark","body":"<p>Recently I have being trying out Spark and do far I have observed quite interesting results, but currently I am stuck with famous <code>groupByKey</code> OOM problem. Basically what the job does it tries to search in the large datasets the periods where measured value is increasing consecutively for at least N times. I managed to get rid of the problem by writing the results to the disk, but the application is running much slower now (which is expected due to the disk IO). Now the question: is there any other memory efficient strategy where I can run sorted data and check whether adjacent values(for the same key) are increasing in at least N consecutive observations, without recurring to groupByKey method?</p>\n<p>I have designed an algorithm to do it with <code>reduceByKey</code>, but there is one problem, reduce seems to ignore data ordering and yells completely wrong results at the end.</p>\n<p>Any ideas appreciated.</p>\n"},{"tags":["java","utf-8","io","bufferedreader","bufferedwriter"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1671911767,"post_id":74909658,"comment_id":132196725,"body_markdown":"At a guess, UTF-8 is correct, and the reader you&#39;re using to check if it was done correctly is wrong.","body":"At a guess, UTF-8 is correct, and the reader you&#39;re using to check if it was done correctly is wrong."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1671914199,"post_id":74909658,"comment_id":132197089,"body_markdown":"You&#39;re using `FileWriter#&lt;init&gt;(String,boolean)`, which uses the default charset. Prior to Java 18 that was typically determined by the underlying platform. As of Java 18 the default charset is UTF-8. Unless, in either case, you&#39;ve configured the default charset to be something else. Regardless, you&#39;re manually specifying `UTF_8` for both the scanner and the reader, so you should [do the same when creating the `FileWriter`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.lang.String,java.nio.charset.Charset,boolean)).","body":"You&#39;re using <code>FileWriter#&lt;init&gt;(String,boolean)</code>, which uses the default charset. Prior to Java 18 that was typically determined by the underlying platform. As of Java 18 the default charset is UTF-8. Unless, in either case, you&#39;ve configured the default charset to be something else. Regardless, you&#39;re manually specifying <code>UTF_8</code> for both the scanner and the reader, so you should <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.lang.String,java.nio.charset.Charset,boolean)\" rel=\"nofollow noreferrer\">do the same when creating the <code>FileWriter</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":25487281,"reputation":1,"user_id":19393462,"display_name":"ouzhizus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671921645,"creation_date":1671921645,"answer_id":74910689,"question_id":74909658,"body_markdown":"Solved by adding &quot;Cp866&quot; to scanner\r\n\r\n    Scanner sc = new Scanner(System.in,&quot;Cp866&quot;)","title":"BufferedWriter with no UTF-8 support","body":"<p>Solved by adding &quot;Cp866&quot; to scanner</p>\n<pre><code>Scanner sc = new Scanner(System.in,&quot;Cp866&quot;)\n</code></pre>\n"}],"owner":{"account_id":25487281,"reputation":1,"user_id":19393462,"display_name":"ouzhizus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74910689,"answer_count":1,"score":0,"last_activity_date":1671921645,"creation_date":1671907359,"question_id":74909658,"body_markdown":"I&#39;m trying to make BufferedWriter write into txt file in format &quot;latin - cyrillyc&quot;,and cyrillyc part is not working(hieroglyphs instead of text),neither do special symbols like ą ł &#243; ę etc.\r\n\r\nFileWriter:\r\n\r\n```\r\nScanner sc = new Scanner(System.in, StandardCharsets.UTF_8);\r\n\r\nFileWriter file = new FileWriter(&quot;C:\\\\Users\\\\ouzhi\\\\OneDrive\\\\Документы\\\\cardsLibrary\\\\input.txt&quot;,true);\r\nBufferedWriter writer = new BufferedWriter(file);\r\nwhile (true) {\r\nSystem.out.print(&quot;Import a line to write: &quot;);\r\nString userInput = sc.nextLine().toLowerCase();\r\nif(userInput.equals(&quot;stop&quot;)){\r\nbreak;\r\n}\r\nString[] words = userInput.split(&quot; &quot;);\r\nif(words.length &gt;= 3 || words.length == 1){\r\nSystem.out.println(&quot;Please,enter two words&quot;);\r\ncontinue;\r\n}\r\nelse{\r\nwriter.write(userInput);\r\nwriter.newLine();\r\nwriter.flush();\r\n}\r\n```\r\n\r\nBufferedReader:\r\n\r\n```\r\ntry {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader\r\n            (new FileInputStream(&quot;C:\\\\Users\\\\ouzhi\\\\OneDrive\\\\Документы\\\\cardsLibrary\\\\input.txt&quot;), StandardCharsets.UTF_8));\r\n```\r\n","title":"BufferedWriter with no UTF-8 support","body":"<p>I'm trying to make BufferedWriter write into txt file in format &quot;latin - cyrillyc&quot;,and cyrillyc part is not working(hieroglyphs instead of text),neither do special symbols like ą ł ó ę etc.</p>\n<p>FileWriter:</p>\n<pre><code>Scanner sc = new Scanner(System.in, StandardCharsets.UTF_8);\n\nFileWriter file = new FileWriter(&quot;C:\\\\Users\\\\ouzhi\\\\OneDrive\\\\Документы\\\\cardsLibrary\\\\input.txt&quot;,true);\nBufferedWriter writer = new BufferedWriter(file);\nwhile (true) {\nSystem.out.print(&quot;Import a line to write: &quot;);\nString userInput = sc.nextLine().toLowerCase();\nif(userInput.equals(&quot;stop&quot;)){\nbreak;\n}\nString[] words = userInput.split(&quot; &quot;);\nif(words.length &gt;= 3 || words.length == 1){\nSystem.out.println(&quot;Please,enter two words&quot;);\ncontinue;\n}\nelse{\nwriter.write(userInput);\nwriter.newLine();\nwriter.flush();\n}\n</code></pre>\n<p>BufferedReader:</p>\n<pre><code>try {\n    BufferedReader reader = new BufferedReader(new InputStreamReader\n            (new FileInputStream(&quot;C:\\\\Users\\\\ouzhi\\\\OneDrive\\\\Документы\\\\cardsLibrary\\\\input.txt&quot;), StandardCharsets.UTF_8));\n</code></pre>\n"},{"tags":["java","code-signing","signing","jar-signing"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1291230503,"post_id":4327642,"comment_id":4703100,"body_markdown":"http://wiki.eclipse.org/JAR_Signing","body":"<a href=\"http://wiki.eclipse.org/JAR_Signing\" rel=\"nofollow noreferrer\">wiki.eclipse.org/JAR_Signing</a>"}],"answers":[{"tags":[],"owner":{"account_id":244925,"reputation":11,"user_id":518083,"display_name":"Dimitri de Wild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291230646,"creation_date":1291230646,"answer_id":4328092,"question_id":4327642,"body_markdown":"You have the answer under your fingertips... keytool is your friend...\r\n\r\nhttp://download.oracle.com/javase/1.3/docs/tooldocs/win32/keytool.html\r\n\r\nKeystore Creation\r\n\r\nA keystore is created whenever you use a -genkey, -import, or -identitydb command to add data to a keystore that doesn&#39;t yet exist.\r\nMore specifically, if you specify, in the -keystore option, a keystore that doesn&#39;t yet exist, that keystore will be created.\r\n\r\nIf you don&#39;t specify a -keystore option, the default keystore is a file named .keystore in your home directory. If that file does not yet exist, it will be created.","title":"Code signing, do I need to generate a keystore?","body":"<p>You have the answer under your fingertips... keytool is your friend...</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.3/docs/tooldocs/win32/keytool.html\" rel=\"nofollow\">http://download.oracle.com/javase/1.3/docs/tooldocs/win32/keytool.html</a></p>\n\n<p>Keystore Creation</p>\n\n<p>A keystore is created whenever you use a -genkey, -import, or -identitydb command to add data to a keystore that doesn't yet exist.\nMore specifically, if you specify, in the -keystore option, a keystore that doesn't yet exist, that keystore will be created.</p>\n\n<p>If you don't specify a -keystore option, the default keystore is a file named .keystore in your home directory. If that file does not yet exist, it will be created.</p>\n"},{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671921391,"creation_date":1291231028,"answer_id":4328147,"question_id":4327642,"body_markdown":"The key store is a database for your keys. The process of &quot;signing&quot; an app (e.g. with jarsigner) is roughly the following:\r\n\r\n1. You create a private/public key pair with keytool.\r\n2. You then create a CSR (certificate signing request)\r\n3. A CA (certification authority) processes your request and gives you a certificate.\r\n4. You have to import the CA response into your keystore.\r\n\r\nYou may create self signed certificate to get a feeling of the process. You may use openssl.","title":"Code signing, do I need to generate a keystore?","body":"<p>The key store is a database for your keys. The process of &quot;signing&quot; an app (e.g. with jarsigner) is roughly the following:</p>\n<ol>\n<li>You create a private/public key pair with keytool.</li>\n<li>You then create a CSR (certificate signing request)</li>\n<li>A CA (certification authority) processes your request and gives you a certificate.</li>\n<li>You have to import the CA response into your keystore.</li>\n</ol>\n<p>You may create self signed certificate to get a feeling of the process. You may use openssl.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4328147,"answer_count":2,"score":2,"last_activity_date":1671921391,"creation_date":1291227610,"question_id":4327642,"body_markdown":"I am trying sign an app using keytool, but I dont have a keystore file.\r\n\r\nDo I need to generate this file myself or should I receive it from from code signing authority ? \r\nIf so what files do I require to generate a keystore file ?\r\n\r\nThanks","title":"Code signing, do I need to generate a keystore?","body":"<p>I am trying sign an app using keytool, but I dont have a keystore file.</p>\n\n<p>Do I need to generate this file myself or should I receive it from from code signing authority ? \nIf so what files do I require to generate a keystore file ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests","cucumber"],"answers":[{"tags":[],"owner":{"account_id":20087954,"reputation":423,"user_id":14729128,"display_name":"Maria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671921185,"creation_date":1671921185,"answer_id":74910664,"question_id":74660781,"body_markdown":"I think you should just read about Explicit Wait.\r\n\r\nThe Explicit Wait in Selenium is used to tell the Web Driver to wait for certain conditions (Expected Conditions) or maximum time exceeded before throwing “ElementNotVisibleException” exception. \r\n\r\nFor example:\r\n\r\n    WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 30); \r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator);\r\n    element.click()","title":"Is there any way for waiting an element while other test steps are running with selenium?","body":"<p>I think you should just read about Explicit Wait.</p>\n<p>The Explicit Wait in Selenium is used to tell the Web Driver to wait for certain conditions (Expected Conditions) or maximum time exceeded before throwing “ElementNotVisibleException” exception.</p>\n<p>For example:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 30); \nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator);\nelement.click()\n</code></pre>\n"}],"owner":{"account_id":25920817,"reputation":1,"user_id":19643491,"display_name":"Enes Tasyurek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671921185,"creation_date":1670010313,"question_id":74660781,"body_markdown":"How can I check for 30 seconds, if the element showed up or not?\r\n\r\nI would like to skip other steps while looking for a specific element and I want to click if the element shows up.\r\n\r\nSometimes the element will pop up after 2 seconds or 10 seconds (e.g. another page has opened) and I don&#39;t want to wait for finding the element.\r\n\r\nI&#39;ve tried the following, but if the element does not show up, the test will fail:\r\n```java\r\ndriver.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\nMyLocator.click();\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); //turn default\r\n```","title":"Is there any way for waiting an element while other test steps are running with selenium?","body":"<p>How can I check for 30 seconds, if the element showed up or not?</p>\n<p>I would like to skip other steps while looking for a specific element and I want to click if the element shows up.</p>\n<p>Sometimes the element will pop up after 2 seconds or 10 seconds (e.g. another page has opened) and I don't want to wait for finding the element.</p>\n<p>I've tried the following, but if the element does not show up, the test will fail:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\nMyLocator.click();\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); //turn default\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","quarkus","quarkus-panache"],"owner":{"account_id":21600936,"reputation":13,"user_id":15929100,"display_name":"binocla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671921172,"creation_date":1671921172,"question_id":74910663,"body_markdown":"I&#39;m using `Quarkus 2.15.1` and [rubenlagus/TelegramBots][1] `6.3.0`\r\n\r\nMy `pom.xml` dependencies are:\r\n\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n            &lt;version&gt;6.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI&#39;ve configured `jdbc` URL, `username` &amp; `password` as well.\r\n\r\nThe problem is when I&#39;m trying to persist an object (via Active Record or Repository pattern) there is an exception.\r\n\r\nThe code snippet is:\r\n```\r\n@ApplicationScoped\r\npublic class VoteBot extends TelegramLongPollingBot {\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n            long chatId = update.getMessage().getChatId();\r\n            String messageText = update.getMessage().getText();\r\n            if (messageText.matches(&quot;^[A-Za-z\\\\s]+$&quot;)) {\r\n                Participant participant = new Participant();\r\n                participant.setChatId(chatId);\r\n                participant.setName(messageText);\r\n\r\n                // Some code\r\n                Participant.persist(participant); // Here is the exceptional line goes\r\n                // Some code\r\n            }\r\n        }\r\n```\r\n\r\nStartup class looks like:\r\n```\r\n@ApplicationScoped\r\npublic class Application {\r\n    void onStart(@Observes StartupEvent ev) {\r\n        try {\r\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n            telegramBotsApi.registerBot(new VoteBot());\r\n        } catch (TelegramApiException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe exception message is:\r\n```\r\n2022-12-25 02:22:19,727 ERROR [org.tel.tel.upd.DefaultBotSession] (ckorovoda_vote_bot Telegram Executor) Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions.: javax.enterprise.context.ContextNotActiveException: Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions.\r\n\tat io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.acquireSession(TransactionScopedSession.java:106)\r\n\tat io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.contains(TransactionScopedSession.java:325)\r\n\tat org.hibernate.engine.spi.SessionLazyDelegator.contains(SessionLazyDelegator.java:710)\r\n\tat org.hibernate.Session_5b93bee577ae2f8d76647de04cfab36afbf52958_Synthetic_ClientProxy.contains(Unknown Source)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:100)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:96)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:112)\r\n\tat io.quarkus.hibernate.orm.panache.PanacheEntityBase.persist(PanacheEntityBase.java:756)\r\n\tat store.ckorovoda.Participant.persist(Participant.java)\r\n\tat store.ckorovoda.VoteBot.onUpdateReceived(VoteBot.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\r\n\tat org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:317)\r\n```\r\n\r\nI&#39;ve tried adding `@Transactional`, `@ActivateRequestContext` and changing bean scopes. I&#39;ve also tried to use `EntityManager` and `quarkus-narayana-jta`. However, I&#39;m pretty sure it&#39;s all connected with this 3rd-party lib for Telegram.\r\n\r\nI&#39;m stuck with it and will appreciate any recommendation or hints for resolving that stuff.\r\n\r\nThank you!\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots","title":"Cannot persist via Hibernate ORM with Panache using rubenlagus/TelegramBots","body":"<p>I'm using <code>Quarkus 2.15.1</code> and <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">rubenlagus/TelegramBots</a> <code>6.3.0</code></p>\n<p>My <code>pom.xml</code> dependencies are:</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n            &lt;version&gt;6.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I've configured <code>jdbc</code> URL, <code>username</code> &amp; <code>password</code> as well.</p>\n<p>The problem is when I'm trying to persist an object (via Active Record or Repository pattern) there is an exception.</p>\n<p>The code snippet is:</p>\n<pre><code>@ApplicationScoped\npublic class VoteBot extends TelegramLongPollingBot {\n    @Override\n    public void onUpdateReceived(Update update) {\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            long chatId = update.getMessage().getChatId();\n            String messageText = update.getMessage().getText();\n            if (messageText.matches(&quot;^[A-Za-z\\\\s]+$&quot;)) {\n                Participant participant = new Participant();\n                participant.setChatId(chatId);\n                participant.setName(messageText);\n\n                // Some code\n                Participant.persist(participant); // Here is the exceptional line goes\n                // Some code\n            }\n        }\n</code></pre>\n<p>Startup class looks like:</p>\n<pre><code>@ApplicationScoped\npublic class Application {\n    void onStart(@Observes StartupEvent ev) {\n        try {\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n            telegramBotsApi.registerBot(new VoteBot());\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The exception message is:</p>\n<pre><code>2022-12-25 02:22:19,727 ERROR [org.tel.tel.upd.DefaultBotSession] (ckorovoda_vote_bot Telegram Executor) Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions.: javax.enterprise.context.ContextNotActiveException: Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions.\n    at io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.acquireSession(TransactionScopedSession.java:106)\n    at io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.contains(TransactionScopedSession.java:325)\n    at org.hibernate.engine.spi.SessionLazyDelegator.contains(SessionLazyDelegator.java:710)\n    at org.hibernate.Session_5b93bee577ae2f8d76647de04cfab36afbf52958_Synthetic_ClientProxy.contains(Unknown Source)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:100)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:96)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:112)\n    at io.quarkus.hibernate.orm.panache.PanacheEntityBase.persist(PanacheEntityBase.java:756)\n    at store.ckorovoda.Participant.persist(Participant.java)\n    at store.ckorovoda.VoteBot.onUpdateReceived(VoteBot.java:74)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\n    at org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:317)\n</code></pre>\n<p>I've tried adding <code>@Transactional</code>, <code>@ActivateRequestContext</code> and changing bean scopes. I've also tried to use <code>EntityManager</code> and <code>quarkus-narayana-jta</code>. However, I'm pretty sure it's all connected with this 3rd-party lib for Telegram.</p>\n<p>I'm stuck with it and will appreciate any recommendation or hints for resolving that stuff.</p>\n<p>Thank you!</p>\n"},{"tags":["java","if-statement","colors","bots"],"answers":[{"tags":[],"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671920916,"creation_date":1671920916,"answer_id":74910645,"question_id":74910598,"body_markdown":"`getPixelColor()` returns a `Color` object, `==` for two objects tests if the object reference is the same, `c1.equals(c2)` test if the values of the object are the same (where `c1` and `c2` are `Color` objects).","title":"color coded if statement contradicting itself","body":"<p><code>getPixelColor()</code> returns a <code>Color</code> object, <code>==</code> for two objects tests if the object reference is the same, <code>c1.equals(c2)</code> test if the values of the object are the same (where <code>c1</code> and <code>c2</code> are <code>Color</code> objects).</p>\n"}],"owner":{"account_id":27270713,"reputation":1,"user_id":20792063,"display_name":"Samuel David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671921363,"answer_count":1,"score":-1,"last_activity_date":1671920916,"creation_date":1671920130,"question_id":74910598,"body_markdown":"if statement not working for color conditions\r\n\r\n```\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\n\r\npublic class TestColor {\r\n\tpublic static void main(String [] args) throws AWTException {\r\n\t\tRobot Bot = new Robot();\r\n\r\n\t\tif(Bot.getPixelColor(1003, 185)==Bot.getPixelColor(1003, 185)) {\r\n\t\t\tSystem.out.println(&quot;True&quot;);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;False&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nand i got a result of:\r\n\r\nFalse","title":"color coded if statement contradicting itself","body":"<p>if statement not working for color conditions</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\n\npublic class TestColor {\n    public static void main(String [] args) throws AWTException {\n        Robot Bot = new Robot();\n\n        if(Bot.getPixelColor(1003, 185)==Bot.getPixelColor(1003, 185)) {\n            System.out.println(&quot;True&quot;);\n        }else {\n            System.out.println(&quot;False&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>and i got a result of:</p>\n<p>False</p>\n"},{"tags":["java","swing","jpanel","jpeg","jlabel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1349011655,"post_id":12660122,"comment_id":17082524,"body_markdown":"*&quot;shrinking it without a quality loss&quot;*  That is not possible.  Various smoothing techniques can partly hide the artifacts of image resize, but lower the resolution in WxH and the image &#39;quality&#39; must be less.","body":"<i>&quot;shrinking it without a quality loss&quot;</i>  That is not possible.  Various smoothing techniques can partly hide the artifacts of image resize, but lower the resolution in WxH and the image &#39;quality&#39; must be less."},{"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"score":0,"creation_date":1349013117,"post_id":12660122,"comment_id":17082766,"body_markdown":"@AndrewThompson yeah thats true.... a drop in quality is alright but the entire image is not getting displayed...so far only a part of the shrunk image was all i could obtain..","body":"@AndrewThompson yeah thats true.... a drop in quality is alright but the entire image is not getting displayed...so far only a part of the shrunk image was all i could obtain.."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1349042989,"post_id":12660122,"comment_id":17089613,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/). Perhaps hot-link to one of [these images](http://pscode.org/media/#image).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. Perhaps hot-link to one of <a href=\"http://pscode.org/media/#image\" rel=\"nofollow noreferrer\">these images</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1349167641,"post_id":12660122,"comment_id":17124690,"body_markdown":"For better help sooner (apart from providing an SSCCE, as already mentioned by @AndrewThompson) try to make reading your question enjoyable by a) learning and sticking to java naming conventions b) completely (and consistently!) formatting the code (there&#39;s a help button which comes up with a how-to when clicked :-)","body":"For better help sooner (apart from providing an SSCCE, as already mentioned by @AndrewThompson) try to make reading your question enjoyable by a) learning and sticking to java naming conventions b) completely (and consistently!) formatting the code (there&#39;s a help button which comes up with a how-to when clicked :-)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1349169336,"post_id":12660122,"comment_id":17125304,"body_markdown":"if you are really interested in quality, there isn&#39;t any way around reading up on the basics of graphics2D options, f.i. an early blog http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html or filtyRichClients","body":"if you are really interested in quality, there isn&#39;t any way around reading up on the basics of graphics2D options, f.i. an early blog <a href=\"http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\" rel=\"nofollow noreferrer\">today.java.net/pub/a/today/2007/04/03/&hellip;</a> or filtyRichClients"}],"answers":[{"comments":[{"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"score":0,"creation_date":1348998321,"post_id":12660146,"comment_id":17080368,"body_markdown":"i modified the code... so that the buffered image returned is displayed on a jlabel, but still the full image is not displayed on the label, i&#39;d try the overriding and get back ta you.. thanks again!:)!","body":"i modified the code... so that the buffered image returned is displayed on a jlabel, but still the full image is not displayed on the label, i&#39;d try the overriding and get back ta you.. thanks again!:)!"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":3,"creation_date":1348999742,"post_id":12660146,"comment_id":17080588,"body_markdown":"Is there a good reason to extend `JLabel` and not simply setting the image as an icon on the `JLabel` without anything else ?","body":"Is there a good reason to extend <code>JLabel</code> and not simply setting the image as an icon on the <code>JLabel</code> without anything else ?"},{"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"score":0,"creation_date":1349001956,"post_id":12660146,"comment_id":17080916,"body_markdown":"@DavidKroukamp nope still the image is not shrunk... only a part of the image is displayed...!","body":"@DavidKroukamp nope still the image is not shrunk... only a part of the image is displayed...!"},{"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"score":0,"creation_date":1349002090,"post_id":12660146,"comment_id":17080933,"body_markdown":"i think the image has to be cropped before saving it.... any ideas on that guys? thanks again! :)!","body":"i think the image has to be cropped before saving it.... any ideas on that guys? thanks again! :)!"},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1349002710,"post_id":12660146,"comment_id":17081022,"body_markdown":"@DilshanRanaweera then something else is at fault. See my upadate. If it still does not work then i&#39;d suggest posting an [SSCCE](http://sscce.org)","body":"@DilshanRanaweera then something else is at fault. See my upadate. If it still does not work then i&#39;d suggest posting an <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>"},{"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"score":0,"creation_date":1349010932,"post_id":12660146,"comment_id":17082419,"body_markdown":"@DavidKroukamp thanks a lot... i&#39;ll try and post a SSCCE if needed! cheerz! :)!","body":"@DavidKroukamp thanks a lot... i&#39;ll try and post a SSCCE if needed! cheerz! :)!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1349169702,"post_id":12660146,"comment_id":17125438,"body_markdown":"beware: quality detoriates if the downscaled with/height is less than about half the original ..","body":"beware: quality detoriates if the downscaled with/height is less than about half the original .."}],"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1349002999,"creation_date":1348997008,"answer_id":12660146,"question_id":12660122,"body_markdown":"Of course you can resize the image there are many different ways like [`Image#getScaledInstance(int width,int height,int hints)`][1], but [this has its perils][2]. \r\n\r\nThe main problem being:\r\n \r\n\r\n&gt; Image.getScaledInstance() does not return a finished, scaled image. It\r\n&gt; leaves much of the scaling work for a later time when the image pixels\r\n&gt; are used.\r\n\r\nI would not recommend using it but [here][3] is a nice example.\r\n\r\nAlternatively you can use this method:\r\n\r\n    import javax.swing.ImageIcon;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Image;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.RenderingHints;\r\n    \r\n    public class ImgUtils {\r\n    \r\n    public BufferedImage scaleImage(int WIDTH, int HEIGHT, String filename) {\r\n        BufferedImage bi = null;\r\n        try {\r\n            ImageIcon ii = new ImageIcon(filename);//path to image\r\n            bi = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D g2d = (Graphics2D) bi.createGraphics();\r\n            g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY));\r\n            g2d.drawImage(ii.getImage(), 0, 0, WIDTH, HEIGHT, null);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return bi;\r\n    }\r\n    \r\n    }\r\n\r\nyou&#39;d use it like:\r\n        \r\n    final BufferedImage img=new ImgUtils().scaleImage(200,200,&quot;c:/test.jpg&quot;);\r\n    //create label with image as background\r\n    JLabel label=new JLabel(new ImageIcon((Image)img));\r\n\r\n**UPDATE:**\r\n\r\nHere is a small example I made:\r\n\r\n\r\n![enter image description here][4]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JavaApplication117 {\r\n\r\n        //change this to your own\r\n        static String filename=&quot;c:/test.jpg&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new JavaApplication117().createAndShowUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void createAndShowUI() {\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            initComponents(frame);\r\n    \r\n            frame.setResizable(false);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private void initComponents(JFrame frame) {\r\n            final BufferedImage img = new ImgUtils().scaleImage(200, 200, filename);\r\n            //create label with image as background\r\n            JLabel label = new JLabel(new ImageIcon((Image) img));\r\n            \r\n            frame.getContentPane().add(label, BorderLayout.CENTER);\r\n        }\r\n    }\r\n    \r\n    class ImgUtils {\r\n    \r\n        public BufferedImage scaleImage(int WIDTH, int HEIGHT, String filename) {\r\n            BufferedImage bi = null;\r\n            try {\r\n                ImageIcon ii = new ImageIcon(filename);//path to image\r\n                bi = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n                Graphics2D g2d = (Graphics2D) bi.createGraphics();\r\n                g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY));\r\n                g2d.drawImage(ii.getImage(), 0, 0, WIDTH, HEIGHT, null);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n            return bi;\r\n        }\r\n    }\r\n\r\n**References:**\r\n\r\n- https://stackoverflow.com/questions/7252983/resizing-image-java-getscaledinstance\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\r\n  [2]: http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\r\n  [3]: http://www.java2s.com/Code/JavaAPI/java.awt/ImagegetScaledInstanceintwidthintheightinthints.htm\r\n  [4]: http://i.stack.imgur.com/eMnEH.png","title":"Image resizing and displaying in a JPanel or a JLabel without loss of quality","body":"<p>Of course you can resize the image there are many different ways like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\" rel=\"nofollow noreferrer\"><code>Image#getScaledInstance(int width,int height,int hints)</code></a>, but <a href=\"http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\" rel=\"nofollow noreferrer\">this has its perils</a>. </p>\n\n<p>The main problem being:</p>\n\n<blockquote>\n  <p>Image.getScaledInstance() does not return a finished, scaled image. It\n  leaves much of the scaling work for a later time when the image pixels\n  are used.</p>\n</blockquote>\n\n<p>I would not recommend using it but <a href=\"http://www.java2s.com/Code/JavaAPI/java.awt/ImagegetScaledInstanceintwidthintheightinthints.htm\" rel=\"nofollow noreferrer\">here</a> is a nice example.</p>\n\n<p>Alternatively you can use this method:</p>\n\n<pre><code>import javax.swing.ImageIcon;\nimport java.awt.image.BufferedImage;\nimport java.awt.Image;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.io.File;\nimport javax.imageio.ImageIO;\nimport java.awt.RenderingHints;\n\npublic class ImgUtils {\n\npublic BufferedImage scaleImage(int WIDTH, int HEIGHT, String filename) {\n    BufferedImage bi = null;\n    try {\n        ImageIcon ii = new ImageIcon(filename);//path to image\n        bi = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2d = (Graphics2D) bi.createGraphics();\n        g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY));\n        g2d.drawImage(ii.getImage(), 0, 0, WIDTH, HEIGHT, null);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n    return bi;\n}\n\n}\n</code></pre>\n\n<p>you'd use it like:</p>\n\n<pre><code>final BufferedImage img=new ImgUtils().scaleImage(200,200,\"c:/test.jpg\");\n//create label with image as background\nJLabel label=new JLabel(new ImageIcon((Image)img));\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Here is a small example I made:</p>\n\n<p><img src=\"https://i.stack.imgur.com/eMnEH.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\n\npublic class JavaApplication117 {\n\n    //change this to your own\n    static String filename=\"c:/test.jpg\";\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new JavaApplication117().createAndShowUI();\n            }\n        });\n    }\n\n    private void createAndShowUI() {\n        JFrame frame = new JFrame(\"Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        initComponents(frame);\n\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    private void initComponents(JFrame frame) {\n        final BufferedImage img = new ImgUtils().scaleImage(200, 200, filename);\n        //create label with image as background\n        JLabel label = new JLabel(new ImageIcon((Image) img));\n\n        frame.getContentPane().add(label, BorderLayout.CENTER);\n    }\n}\n\nclass ImgUtils {\n\n    public BufferedImage scaleImage(int WIDTH, int HEIGHT, String filename) {\n        BufferedImage bi = null;\n        try {\n            ImageIcon ii = new ImageIcon(filename);//path to image\n            bi = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n            Graphics2D g2d = (Graphics2D) bi.createGraphics();\n            g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY));\n            g2d.drawImage(ii.getImage(), 0, 0, WIDTH, HEIGHT, null);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n        return bi;\n    }\n}\n</code></pre>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7252983/resizing-image-java-getscaledinstance\">resizing image java getScaledInstance</a></li>\n</ul>\n"}],"owner":{"account_id":1891632,"reputation":51,"user_id":1709545,"display_name":"Dilshan Ranaweera"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12731,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671920228,"creation_date":1348996791,"question_id":12660122,"body_markdown":"I&#39;m developing a java program to capture employee images at the time of registration using a webcam. I can obtain the picture without any problem, and save it in my C: drive but upon retrieval of the image only a part of the image is displayed on the label. Is there a way of re sizing the JPEG before saving it? or before displaying it? like shrinking it without a quality loss.\r\n\r\nokay guys... here goes:- I have commented the code in the way I have used them.\r\n\r\n    //This method will capture the image from the interface and save it under the unique employee ID\r\n    public String captureImage(int picId){\r\n    \r\n        FrameGrabbingControl ControlFG = (FrameGrabbingControl)\r\n    \r\n        broadcast.getControl(&quot;javax.media.control.FrameGrabbingControl&quot;);\r\n    \r\n        Buffer buffer = ControlFG.grabFrame();\r\n    \r\n        BufferToImage image = new BufferToImage((VideoFormat)buffer.getFormat());\r\n    \r\n        img = image.createImage(buffer);\r\n    \r\n        path=&quot;c:\\\\employee&quot;+picId+&quot;.jpg&quot;;\r\n    \r\n        saveJPG(img,path);//method will save the image\r\n    \r\n        return path;\r\n    \r\n    }\r\n    \r\n     public void saveJPG(Image img, String s){***//method will save the image***\r\n    \r\n        System.out.println(s);\r\n    \r\n        BufferedImage bi = new BufferedImage(img.getWidth(null), img.getHeight(null),\r\n    \r\n        BufferedImage.TYPE_INT_RGB);\r\n    \r\n        Graphics2D g2 = bi.createGraphics();\r\n    \r\n        g2.drawImage(img,null,null);\r\n    \r\n        FileOutputStream out = null;\r\n        try{\r\n    \r\n        out = new FileOutputStream(s);\r\n    \r\n        }\r\n        catch (java.io.FileNotFoundException io){\r\n    \r\n        System.out.println(&quot;File Not Found&quot;);\r\n        }\r\n    \r\n        JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);\r\n    \r\n        JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(bi);\r\n    \r\n        param.setQuality(0.5f,false);\r\n    \r\n        encoder.setJPEGEncodeParam(param);\r\n    \r\n        try\r\n        {\r\n        encoder.encode(bi);\r\n        out.close();\r\n        }\r\n    \r\n        catch (java.io.IOException io)\r\n        {\r\n        System.out.println(&quot;IOException&quot;);\r\n        }\r\n        }\r\n\r\nmaybe I can scale the image while saving.. so that I can retrieve the scaled image..   ","title":"Image resizing and displaying in a JPanel or a JLabel without loss of quality","body":"<p>I'm developing a java program to capture employee images at the time of registration using a webcam. I can obtain the picture without any problem, and save it in my C: drive but upon retrieval of the image only a part of the image is displayed on the label. Is there a way of re sizing the JPEG before saving it? or before displaying it? like shrinking it without a quality loss.</p>\n<p>okay guys... here goes:- I have commented the code in the way I have used them.</p>\n<pre><code>//This method will capture the image from the interface and save it under the unique employee ID\npublic String captureImage(int picId){\n\n    FrameGrabbingControl ControlFG = (FrameGrabbingControl)\n\n    broadcast.getControl(&quot;javax.media.control.FrameGrabbingControl&quot;);\n\n    Buffer buffer = ControlFG.grabFrame();\n\n    BufferToImage image = new BufferToImage((VideoFormat)buffer.getFormat());\n\n    img = image.createImage(buffer);\n\n    path=&quot;c:\\\\employee&quot;+picId+&quot;.jpg&quot;;\n\n    saveJPG(img,path);//method will save the image\n\n    return path;\n\n}\n\n public void saveJPG(Image img, String s){***//method will save the image***\n\n    System.out.println(s);\n\n    BufferedImage bi = new BufferedImage(img.getWidth(null), img.getHeight(null),\n\n    BufferedImage.TYPE_INT_RGB);\n\n    Graphics2D g2 = bi.createGraphics();\n\n    g2.drawImage(img,null,null);\n\n    FileOutputStream out = null;\n    try{\n\n    out = new FileOutputStream(s);\n\n    }\n    catch (java.io.FileNotFoundException io){\n\n    System.out.println(&quot;File Not Found&quot;);\n    }\n\n    JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);\n\n    JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(bi);\n\n    param.setQuality(0.5f,false);\n\n    encoder.setJPEGEncodeParam(param);\n\n    try\n    {\n    encoder.encode(bi);\n    out.close();\n    }\n\n    catch (java.io.IOException io)\n    {\n    System.out.println(&quot;IOException&quot;);\n    }\n    }\n</code></pre>\n<p>maybe I can scale the image while saving.. so that I can retrieve the scaled image..</p>\n"},{"tags":["java","android","xml","size","drawable"],"answers":[{"comments":[{"owner":{"account_id":2689386,"reputation":1193,"user_id":2323030,"accept_rate":66,"display_name":"user2323030"},"score":2,"creation_date":1379911440,"post_id":18951722,"comment_id":27988113,"body_markdown":"Perfect! :D That&#39;s such a simple solution too; I can&#39;t believe I couldn&#39;t find it elsewhere. Thanks a bunch. (P.S. I edited it a bit to make it more uniform to my own code.)","body":"Perfect! :D That&#39;s such a simple solution too; I can&#39;t believe I couldn&#39;t find it elsewhere. Thanks a bunch. (P.S. I edited it a bit to make it more uniform to my own code.)"}],"tags":[],"owner":{"account_id":3269133,"reputation":1854,"user_id":2752887,"accept_rate":69,"display_name":"Dinithe Pieris"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671920203,"creation_date":1379910091,"answer_id":18951722,"question_id":18951638,"body_markdown":"try this way\r\n\r\n    final Button buttonStudy = (Button) findViewById(R.id.button_study);\r\n    buttonStudy.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            ViewGroup.LayoutParams params = buttonStudy.getLayoutParams();\r\n            params.width = 100;//change the width size\r\n            params.height= 100;//change the hight size\r\n            buttonStudy.setLayoutParams(params);\r\n        }\r\n    });","title":"Set size of button with drawable background dynamically/programmatically","body":"<p>try this way</p>\n<pre><code>final Button buttonStudy = (Button) findViewById(R.id.button_study);\nbuttonStudy.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        ViewGroup.LayoutParams params = buttonStudy.getLayoutParams();\n        params.width = 100;//change the width size\n        params.height= 100;//change the hight size\n        buttonStudy.setLayoutParams(params);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2283394,"reputation":1544,"user_id":2365197,"accept_rate":75,"display_name":"Shishir Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379913739,"creation_date":1379913739,"answer_id":18952221,"question_id":18951638,"body_markdown":"    btn = (Button) findViewByID(R.id.button_study);\r\n    \r\n    btn.getLayoutParams().height = x;\r\n    btn.getLayoutParams().width = x;\r\n    \r\n    btn.setLayoutParams(btn.getLayoutParams);\r\n\r\nUsing this code, you can set the height and width of the button. Also, this would avoid the parent view  parsing conflict.\r\n\r\nAlso, you can get the size of screen and then set size of button accordingly:-\r\n\r\nFor  API&lt;13\r\n\r\n    Display display = getWindowManager().getDefaultDisplay();\r\n    int screenWidth = display.getWidth();\r\n    int screenHeight = display.getHeight(); //not required, just to inform\r\n    \r\n    int x = (int) screenWidth/10; //replace 10 by scaling factor\r\n    \r\n    btn = (Button) findViewByID(R.id.button_study);\r\n        \r\n    btn.getLayoutParams().height = x;\r\n    btn.getLayoutParams().width = x;\r\n    \r\n    btn.setLayoutParams(btn.getLayoutParams);\r\n\r\n\r\nFor API&gt;=13\r\n\r\n    Point size = new Point();\r\n    display.getSize(size);\r\n    int screenWidth = size.x;\r\n    int screenHeight = size.y; //not required, just for info\r\n    \r\n    int x = (int) screenWidth/10; //replace 10 by scaling factor\r\n    btn = (Button) findViewByID(R.id.button_study);\r\n            \r\n    btn.getLayoutParams().height = x;\r\n    btn.getLayoutParams().width = x;\r\n        \r\n    btn.setLayoutParams(btn.getLayoutParams);\r\n\r\n\r\nto check for API level at runtime, use\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\r\n              \r\n             //&lt;code&gt; if API&gt;=13 (HONEYCOMB_MR2 is API 13)\r\n    }\r\n    \r\n    else {\r\n         \r\n             //&lt;code&gt; if API&lt;13\r\n    }\r\n\r\n\r\nHope it helps.\r\nHappy Programming :)","title":"Set size of button with drawable background dynamically/programmatically","body":"<pre><code>btn = (Button) findViewByID(R.id.button_study);\n\nbtn.getLayoutParams().height = x;\nbtn.getLayoutParams().width = x;\n\nbtn.setLayoutParams(btn.getLayoutParams);\n</code></pre>\n\n<p>Using this code, you can set the height and width of the button. Also, this would avoid the parent view  parsing conflict.</p>\n\n<p>Also, you can get the size of screen and then set size of button accordingly:-</p>\n\n<p>For  API&lt;13</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay();\nint screenWidth = display.getWidth();\nint screenHeight = display.getHeight(); //not required, just to inform\n\nint x = (int) screenWidth/10; //replace 10 by scaling factor\n\nbtn = (Button) findViewByID(R.id.button_study);\n\nbtn.getLayoutParams().height = x;\nbtn.getLayoutParams().width = x;\n\nbtn.setLayoutParams(btn.getLayoutParams);\n</code></pre>\n\n<p>For API>=13</p>\n\n<pre><code>Point size = new Point();\ndisplay.getSize(size);\nint screenWidth = size.x;\nint screenHeight = size.y; //not required, just for info\n\nint x = (int) screenWidth/10; //replace 10 by scaling factor\nbtn = (Button) findViewByID(R.id.button_study);\n\nbtn.getLayoutParams().height = x;\nbtn.getLayoutParams().width = x;\n\nbtn.setLayoutParams(btn.getLayoutParams);\n</code></pre>\n\n<p>to check for API level at runtime, use</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n\n         //&lt;code&gt; if API&gt;=13 (HONEYCOMB_MR2 is API 13)\n}\n\nelse {\n\n         //&lt;code&gt; if API&lt;13\n}\n</code></pre>\n\n<p>Hope it helps.\nHappy Programming :)</p>\n"}],"owner":{"account_id":2689386,"reputation":1193,"user_id":2323030,"accept_rate":66,"display_name":"user2323030"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7734,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18951722,"answer_count":2,"score":2,"last_activity_date":1671920203,"creation_date":1379909400,"question_id":18951638,"body_markdown":"I have a button that has the following properties:\r\n\r\n**circle_normal.xml (in res/drawable)**\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:shape=&quot;oval&quot; &gt;\r\n        \r\n        &lt;solid android:color=&quot;#FF6347&quot; /&gt;\r\n    \r\n        &lt;size\r\n            android:height=&quot;325dp&quot;\r\n            android:width=&quot;325dp&quot; /&gt;\r\n    &lt;/shape&gt;\r\n\r\n**circle.xml (in res/drawable)**\r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@drawable/circle_pressed&quot; android:state_pressed=&quot;true&quot;/&gt;\r\n        &lt;item android:drawable=&quot;@drawable/circle_normal&quot;&gt;&lt;/item&gt;\r\n    \r\n    &lt;/selector&gt;\r\n\r\n**activity_main.xml (in res/layout)**\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/layout_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;.Main&quot; &gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_study&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:background=&quot;@drawable/circle&quot;\r\n            android:gravity=&quot;center&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n**Main.java (in src)**\r\n\r\n    buttonStudy = (Button) findViewById(R.id.button_study);\r\n\r\nThe final product is that I get a button that is in the shape of a circle. However, due to the difference screen sizes on different Android devices, this one circle size is insufficient. I&#39;ve looked at a few other questions similar to this but their solutions didn&#39;t help me very much. How do I change its size dynamically in the Java code?","title":"Set size of button with drawable background dynamically/programmatically","body":"<p>I have a button that has the following properties:</p>\n\n<p><strong>circle_normal.xml (in res/drawable)</strong></p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:padding=\"10dp\"\n    android:shape=\"oval\" &gt;\n\n    &lt;solid android:color=\"#FF6347\" /&gt;\n\n    &lt;size\n        android:height=\"325dp\"\n        android:width=\"325dp\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p><strong>circle.xml (in res/drawable)</strong></p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;item android:drawable=\"@drawable/circle_pressed\" android:state_pressed=\"true\"/&gt;\n    &lt;item android:drawable=\"@drawable/circle_normal\"&gt;&lt;/item&gt;\n\n&lt;/selector&gt;\n</code></pre>\n\n<p><strong>activity_main.xml (in res/layout)</strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/layout_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\".Main\" &gt;\n\n    &lt;Button\n        android:id=\"@+id/button_study\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:background=\"@drawable/circle\"\n        android:gravity=\"center\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>Main.java (in src)</strong></p>\n\n<pre><code>buttonStudy = (Button) findViewById(R.id.button_study);\n</code></pre>\n\n<p>The final product is that I get a button that is in the shape of a circle. However, due to the difference screen sizes on different Android devices, this one circle size is insufficient. I've looked at a few other questions similar to this but their solutions didn't help me very much. How do I change its size dynamically in the Java code?</p>\n"},{"tags":["java","hibernate","tomcat","wicket","jndi"],"answers":[{"tags":[],"owner":{"account_id":1970166,"reputation":2148,"user_id":1769353,"accept_rate":88,"display_name":"Amir Kost"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373892132,"creation_date":1373892132,"answer_id":17654525,"question_id":17654408,"body_markdown":"I think you&#39;re missing the datasource configuration for jdbc2.","title":"Could not find datasource in hibernate","body":"<p>I think you're missing the datasource configuration for jdbc2.</p>\n"},{"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373896114,"creation_date":1373896114,"answer_id":17655838,"question_id":17654408,"body_markdown":"Your setup seem inconsistent. On one hand you are creating a local datasource via hibernate.cfg.xml, yet your stack trace indicates somewhere else your code is hoping a datasource is available via JNDI under the name &quot;jdbc2&quot;.\r\n\r\nYou first need to determine whether to use local / JNDI datasource and setup your environment accordingly","title":"Could not find datasource in hibernate","body":"<p>Your setup seem inconsistent. On one hand you are creating a local datasource via hibernate.cfg.xml, yet your stack trace indicates somewhere else your code is hoping a datasource is available via JNDI under the name \"jdbc2\".</p>\n\n<p>You first need to determine whether to use local / JNDI datasource and setup your environment accordingly</p>\n"},{"tags":[],"owner":{"account_id":2830385,"reputation":735,"user_id":2432086,"accept_rate":80,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671920196,"creation_date":1373969469,"answer_id":17673787,"question_id":17654408,"body_markdown":"Finally got over with this,\r\nBefore\r\n\r\n        &lt;property name=&quot;connection.datasource&quot;&gt;fhlabs&lt;/property&gt;\r\nAfter\r\n\r\n        &lt;property name=&quot;connection.datasource&quot;&gt;java:comp/env/fhlabs&lt;/property&gt;\r\n    \r\nworks fine now.","title":"Could not find datasource in hibernate","body":"<p>Finally got over with this,\nBefore</p>\n<pre><code>    &lt;property name=&quot;connection.datasource&quot;&gt;fhlabs&lt;/property&gt;\n</code></pre>\n<p>After</p>\n<pre><code>    &lt;property name=&quot;connection.datasource&quot;&gt;java:comp/env/fhlabs&lt;/property&gt;\n</code></pre>\n<p>works fine now.</p>\n"}],"owner":{"account_id":2830385,"reputation":735,"user_id":2432086,"accept_rate":80,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17901,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17673787,"answer_count":3,"score":4,"last_activity_date":1671920196,"creation_date":1373891732,"question_id":17654408,"body_markdown":"I am trying to solve this issue from quit sometime now, i am using OSUSER api for simple user and group access. It works fine with JDBC providers(in OsUser.xml and PropertySet.xml)\r\n     \r\nNow when i am trying to use it with `com.opensymphony.user.provider.hibernate.HibernateCredentialsProvider` it shows me error:\r\n\r\n      at net.sf.hibernate.HibernateException: Could not find datasource: Name jdbc2 is not bound in this Context\r\n\t  at net.sf.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:47)\r\n      at net.sf.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:75)\r\n\t  at net.sf.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:144)\r\n\t  at net.sf.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:571)\r\n\t  at com.opensymphony.user.provider.hibernate.dao.SessionManager.&lt;init&gt;(SessionManager.java:34)\r\n\t  at com.opensymphony.user.provider.hibernate.impl.OSUserHibernateConfigurationProviderImpl.setupConfiguration(OSUserHibernateConfigurationProviderImpl.java:101)\r\n\t  at com.opensymphony.user.provider.hibernate.HibernateBaseProvider.init(HibernateBaseProvider.java:83)\r\n\t  at com.opensymphony.user.provider.hibernate.HibernateProfileProvider.init(HibernateProfileProvider.java:98)\r\n\t  at com.opensymphony.user.util.ConfigLoader.addProvider(ConfigLoader.java:113)\r\n\t  at com.opensymphony.user.util.ConfigLoader.access$100(ConfigLoader.java:39)\r\n\t  at com.opensymphony.user.util.ConfigLoader$ConfigHandler.endElement(ConfigLoader.java:144)\r\n\t  at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:606)\r\n\t  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1742)\r\n\t  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2900)\r\n\t  at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\r\n\t  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\r\n\t  at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\r\n\t  at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\r\n\t  at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\r\n\t  at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\r\n\t  at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\r\n\t  at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:302)\r\n\t  at javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\r\n\t  at com.opensymphony.user.util.ConfigLoader.load(ConfigLoader.java:61)\r\n\t  at com.opensymphony.user.UserManager.&lt;init&gt;(UserManager.java:108)\r\n\t  at com.opensymphony.user.UserManager.&lt;init&gt;(UserManager.java:60)\r\n\t  at com.opensymphony.user.UserManager.getInstance(UserManager.java:127)\r\n\t  at com.fhl.LoginPage$1.onSubmit(LoginPage.java:28)\r\n\t  at org.apache.wicket.markup.html.form.Form$10.component(Form.java:1157)\r\n\t  at org.apache.wicket.markup.html.form.Form$10.component(Form.java:1152)\r\n\t  at org.apache.wicket.util.visit.Visits.visitPostOrderHelper(Visits.java:273)\r\n\t  at org.apache.wicket.util.visit.Visits.visitPostOrder(Visits.java:244)\r\n\t  at org.apache.wicket.markup.html.form.Form.delegateSubmit(Form.java:1150)\r\n\t  at org.apache.wicket.markup.html.form.Form.process(Form.java:803)\r\n\t  at org.apache.wicket.markup.html.form.Form.onFormSubmitted(Form.java:728)\r\n\t  at org.apache.wicket.markup.html.form.Form.onFormSubmitted(Form.java:670)\r\n\t  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\t  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t  at java.lang.reflect.Method.invoke(Method.java:601)\r\n\t  at org.apache.wicket.RequestListenerInterface.internalInvoke(RequestListenerInterface.java:260)\r\n\t  at org.apache.wicket.RequestListenerInterface.invoke(RequestListenerInterface.java:216)\r\n\t  at org.apache.wicket.request.handler.ListenerInterfaceRequestHandler.invokeListener(ListenerInterfaceRequestHandler.java:179)\r\n\t  at org.apache.wicket.request.handler.ListenerInterfaceRequestHandler.respond(ListenerInterfaceRequestHandler.java:165)\r\n\t  at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:719)\r\n\t  at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:63)\r\n\t  at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:210)\r\n\t  at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:253)\r\n\t  at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:162)\r\n\t  at org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:218)\r\n\t  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\t  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\t  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n\t  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n\t  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n\t  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n\t  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\t  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\r\n\t  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\t  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n\t  at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\r\n\t  at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n\t  at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304)\r\n\t  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\t  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\t  at java.lang.Thread.run(Thread.java:722)\r\n\r\n    Caused by: javax.naming.NameNotFoundException: Name jdbc2 is not bound in this Context\r\n\t  at org.apache.naming.NamingContext.lookup(NamingContext.java:803)\r\n\t  at org.apache.naming.NamingContext.lookup(NamingContext.java:159)\r\n\t  at org.apache.naming.SelectorContext.lookup(SelectorContext.java:158)\r\n\t  at javax.naming.InitialContext.lookup(InitialContext.java:411)\r\n\t  at net.sf.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:43)\r\n\r\nBy the console it seems that it is not able to find the datasource, though i have added hibernate.cfg.xml into the class path and the strange thing is same datasource works fine for JDBC connection.\r\n\r\nHere is my `hibernate.cfg.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost/tmpDb2&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;fhl&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Use the C3P0 connection pool. --&gt;\r\n    \t\t&lt;property name=&quot;c3p0.min_size&quot;&gt;3&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;c3p0.max_size&quot;&gt;5&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;c3p0.timeout&quot;&gt;1800&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Disable second-level cache. --&gt;\r\n    \t\t&lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;cache.use_query_cache&quot;&gt;false&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;cache.use_minimal_puts&quot;&gt;false&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;max_fetch_depth&quot;&gt;3&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Print SQL to stdout. --&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\r\n    \t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\r\n    \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate XML mapping files --&gt;\r\n    \t\t&lt;mapping resource=&quot;org/MyClass.hbm.xml&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate Annotations (and package-info.java) &lt;mapping package=&quot;org.mypackage&quot;/&gt; \r\n    \t\t\t&lt;mapping class=&quot;org.MyClass/&gt; --&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nPlease tell me what am i missing as i am new to hibernate...\r\n\r\nThanks in advance.\r\n","title":"Could not find datasource in hibernate","body":"<p>I am trying to solve this issue from quit sometime now, i am using OSUSER api for simple user and group access. It works fine with JDBC providers(in OsUser.xml and PropertySet.xml)</p>\n\n<p>Now when i am trying to use it with <code>com.opensymphony.user.provider.hibernate.HibernateCredentialsProvider</code> it shows me error:</p>\n\n<pre><code>  at net.sf.hibernate.HibernateException: Could not find datasource: Name jdbc2 is not bound in this Context\n  at net.sf.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:47)\n  at net.sf.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:75)\n  at net.sf.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:144)\n  at net.sf.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:571)\n  at com.opensymphony.user.provider.hibernate.dao.SessionManager.&lt;init&gt;(SessionManager.java:34)\n  at com.opensymphony.user.provider.hibernate.impl.OSUserHibernateConfigurationProviderImpl.setupConfiguration(OSUserHibernateConfigurationProviderImpl.java:101)\n  at com.opensymphony.user.provider.hibernate.HibernateBaseProvider.init(HibernateBaseProvider.java:83)\n  at com.opensymphony.user.provider.hibernate.HibernateProfileProvider.init(HibernateProfileProvider.java:98)\n  at com.opensymphony.user.util.ConfigLoader.addProvider(ConfigLoader.java:113)\n  at com.opensymphony.user.util.ConfigLoader.access$100(ConfigLoader.java:39)\n  at com.opensymphony.user.util.ConfigLoader$ConfigHandler.endElement(ConfigLoader.java:144)\n  at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:606)\n  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1742)\n  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2900)\n  at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\n  at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\n  at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\n  at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n  at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n  at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\n  at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\n  at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:302)\n  at javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\n  at com.opensymphony.user.util.ConfigLoader.load(ConfigLoader.java:61)\n  at com.opensymphony.user.UserManager.&lt;init&gt;(UserManager.java:108)\n  at com.opensymphony.user.UserManager.&lt;init&gt;(UserManager.java:60)\n  at com.opensymphony.user.UserManager.getInstance(UserManager.java:127)\n  at com.fhl.LoginPage$1.onSubmit(LoginPage.java:28)\n  at org.apache.wicket.markup.html.form.Form$10.component(Form.java:1157)\n  at org.apache.wicket.markup.html.form.Form$10.component(Form.java:1152)\n  at org.apache.wicket.util.visit.Visits.visitPostOrderHelper(Visits.java:273)\n  at org.apache.wicket.util.visit.Visits.visitPostOrder(Visits.java:244)\n  at org.apache.wicket.markup.html.form.Form.delegateSubmit(Form.java:1150)\n  at org.apache.wicket.markup.html.form.Form.process(Form.java:803)\n  at org.apache.wicket.markup.html.form.Form.onFormSubmitted(Form.java:728)\n  at org.apache.wicket.markup.html.form.Form.onFormSubmitted(Form.java:670)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:601)\n  at org.apache.wicket.RequestListenerInterface.internalInvoke(RequestListenerInterface.java:260)\n  at org.apache.wicket.RequestListenerInterface.invoke(RequestListenerInterface.java:216)\n  at org.apache.wicket.request.handler.ListenerInterfaceRequestHandler.invokeListener(ListenerInterfaceRequestHandler.java:179)\n  at org.apache.wicket.request.handler.ListenerInterfaceRequestHandler.respond(ListenerInterfaceRequestHandler.java:165)\n  at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:719)\n  at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:63)\n  at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:210)\n  at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:253)\n  at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:162)\n  at org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:218)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n  at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\n  at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n  at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n  at java.lang.Thread.run(Thread.java:722)\n\nCaused by: javax.naming.NameNotFoundException: Name jdbc2 is not bound in this Context\n  at org.apache.naming.NamingContext.lookup(NamingContext.java:803)\n  at org.apache.naming.NamingContext.lookup(NamingContext.java:159)\n  at org.apache.naming.SelectorContext.lookup(SelectorContext.java:158)\n  at javax.naming.InitialContext.lookup(InitialContext.java:411)\n  at net.sf.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:43)\n</code></pre>\n\n<p>By the console it seems that it is not able to find the datasource, though i have added hibernate.cfg.xml into the class path and the strange thing is same datasource works fine for JDBC connection.</p>\n\n<p>Here is my <code>hibernate.cfg.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost/tmpDb2&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;fhl&lt;/property&gt;\n\n        &lt;!-- Use the C3P0 connection pool. --&gt;\n        &lt;property name=\"c3p0.min_size\"&gt;3&lt;/property&gt;\n        &lt;property name=\"c3p0.max_size\"&gt;5&lt;/property&gt;\n        &lt;property name=\"c3p0.timeout\"&gt;1800&lt;/property&gt;\n\n        &lt;!-- Disable second-level cache. --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n        &lt;property name=\"cache.use_query_cache\"&gt;false&lt;/property&gt;\n        &lt;property name=\"cache.use_minimal_puts\"&gt;false&lt;/property&gt;\n        &lt;property name=\"max_fetch_depth\"&gt;3&lt;/property&gt;\n\n        &lt;!-- Print SQL to stdout. --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n\n        &lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Hibernate XML mapping files --&gt;\n        &lt;mapping resource=\"org/MyClass.hbm.xml\" /&gt;\n\n        &lt;!-- Hibernate Annotations (and package-info.java) &lt;mapping package=\"org.mypackage\"/&gt; \n            &lt;mapping class=\"org.MyClass/&gt; --&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Please tell me what am i missing as i am new to hibernate...</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","annotations","getter-setter","java-6"],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1290950976,"creation_date":1290950620,"answer_id":4296940,"question_id":4296910,"body_markdown":"I&#39;ve never done it, but it looks like [Reflection][1] provides this. [`Field`][2] is an [`AnnotatedElement`][3] and so it has [`getAnnotation`][4]. [This page][5] has an example (copied below); quite straightforward if you know the class of the annotation and if the annotation policy retains the annotation at runtime. Naturally if the retention policy doesn&#39;t keep the annotation at runtime, you won&#39;t be able to query it at runtime.\r\n\r\nAn answer that&#39;s since been deleted (?) provided a useful link to [an annotations tutorial][6] that you may find helpful; I&#39;ve copied the link here so people can use it.\r\n\r\nExample from [this page][7]:\r\n\r\n    import java.lang.annotation.Retention; \r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.reflect.Method;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface MyAnno {\r\n      String str();\r\n    \r\n      int val();\r\n    }\r\n    \r\n    class Meta {\r\n      @MyAnno(str = &quot;Two Parameters&quot;, val = 19)\r\n      public static void myMeth(String str, int i) {\r\n        Meta ob = new Meta();\r\n    \r\n        try {\r\n          Class c = ob.getClass();\r\n    \r\n          Method m = c.getMethod(&quot;myMeth&quot;, String.class, int.class);\r\n    \r\n          MyAnno anno = m.getAnnotation(MyAnno.class);\r\n    \r\n          System.out.println(anno.str() + &quot; &quot; + anno.val());\r\n        } catch (NoSuchMethodException exc) {\r\n          System.out.println(&quot;Method Not Found.&quot;);\r\n        }\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        myMeth(&quot;test&quot;, 10);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/reflect/package-summary.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/reflect/AnnotatedElement.html\r\n  [4]:  http://download.oracle.com/javase/6/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)\r\n  [5]: http://www.java2s.com/Code/Java/Reflection/Getannotationbyannotationclass.htm\r\n  [6]: http://download.oracle.com/javase/tutorial/java/javaOO/annotations.html\r\n  [7]: http://www.java2s.com/Code/Java/Reflection/Getannotationbyannotationclass.htm","title":"Is it possible to read the value of a annotation in java?","body":"<p>I've never done it, but it looks like <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/package-summary.html\" rel=\"noreferrer\">Reflection</a> provides this. <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\" rel=\"noreferrer\"><code>Field</code></a> is an <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/AnnotatedElement.html\" rel=\"noreferrer\"><code>AnnotatedElement</code></a> and so it has <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)\" rel=\"noreferrer\"><code>getAnnotation</code></a>. <a href=\"http://www.java2s.com/Code/Java/Reflection/Getannotationbyannotationclass.htm\" rel=\"noreferrer\">This page</a> has an example (copied below); quite straightforward if you know the class of the annotation and if the annotation policy retains the annotation at runtime. Naturally if the retention policy doesn't keep the annotation at runtime, you won't be able to query it at runtime.</p>\n\n<p>An answer that's since been deleted (?) provided a useful link to <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/annotations.html\" rel=\"noreferrer\">an annotations tutorial</a> that you may find helpful; I've copied the link here so people can use it.</p>\n\n<p>Example from <a href=\"http://www.java2s.com/Code/Java/Reflection/Getannotationbyannotationclass.htm\" rel=\"noreferrer\">this page</a>:</p>\n\n<pre><code>import java.lang.annotation.Retention; \nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.reflect.Method;\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface MyAnno {\n  String str();\n\n  int val();\n}\n\nclass Meta {\n  @MyAnno(str = \"Two Parameters\", val = 19)\n  public static void myMeth(String str, int i) {\n    Meta ob = new Meta();\n\n    try {\n      Class c = ob.getClass();\n\n      Method m = c.getMethod(\"myMeth\", String.class, int.class);\n\n      MyAnno anno = m.getAnnotation(MyAnno.class);\n\n      System.out.println(anno.str() + \" \" + anno.val());\n    } catch (NoSuchMethodException exc) {\n      System.out.println(\"Method Not Found.\");\n    }\n  }\n\n  public static void main(String args[]) {\n    myMeth(\"test\", 10);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3328300,"reputation":3304,"user_id":2797765,"accept_rate":62,"display_name":"ATHER"},"score":1,"creation_date":1410806480,"post_id":4296964,"comment_id":40454751,"body_markdown":"i like your solution. How can we make it more generic like instead of MyClass i want to use T like       for (Field f: T.class.getFields()) {\n   Column column = f.getAnnotation(Column.class);\n   if (column != null)\n       System.out.println(column.columnName());\n}","body":"i like your solution. How can we make it more generic like instead of MyClass i want to use T like       for (Field f: T.class.getFields()) {    Column column = f.getAnnotation(Column.class);    if (column != null)        System.out.println(column.columnName()); }"},{"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"score":1,"creation_date":1410936029,"post_id":4296964,"comment_id":40508144,"body_markdown":"Exactly! I have been struggling to figure that out too. What if i want to have an annotation processor that does not need to be explicitly provided with a class name? Can it be made to pick it up from the context; &#39;this&#39;??","body":"Exactly! I have been struggling to figure that out too. What if i want to have an annotation processor that does not need to be explicitly provided with a class name? Can it be made to pick it up from the context; &#39;this&#39;??"},{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":0,"creation_date":1410940012,"post_id":4296964,"comment_id":40510191,"body_markdown":"I&#39;m not sure I understand what the two of you need. Please ask that as a new question with a full example. You can link it here if you wish.","body":"I&#39;m not sure I understand what the two of you need. Please ask that as a new question with a full example. You can link it here if you wish."},{"owner":{"account_id":3260816,"reputation":1401,"user_id":2746429,"accept_rate":73,"display_name":"q0re"},"score":3,"creation_date":1467964916,"post_id":4296964,"comment_id":63943238,"body_markdown":"Use `Myclass.class.getDeclaredFields()` to get private fields","body":"Use <code>Myclass.class.getDeclaredFields()</code> to get private fields"},{"owner":{"account_id":2235635,"reputation":722,"user_id":1972095,"accept_rate":22,"display_name":"Shashank"},"score":0,"creation_date":1503651986,"post_id":4296964,"comment_id":78714262,"body_markdown":"It worked for me. thanks. I was looking for superclass private fields so I used clsName.getSuperclass().getDeclaredFields()","body":"It worked for me. thanks. I was looking for superclass private fields so I used clsName.getSuperclass().getDeclaredFields()"},{"owner":{"account_id":5788487,"reputation":313,"user_id":4566850,"accept_rate":100,"display_name":"Boris Zhguchev"},"score":0,"creation_date":1531751452,"post_id":4296964,"comment_id":89700657,"body_markdown":"And don&#39;t forget using .getDeclaredFields() instead .getFields() and in cycle set  f.setAccessible(true);","body":"And don&#39;t forget using .getDeclaredFields() instead .getFields() and in cycle set  f.setAccessible(true);"},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":0,"creation_date":1540381072,"post_id":4296964,"comment_id":92842226,"body_markdown":"Myclass.class.getDeclaredFields(), added with the answer as update @q0re","body":"Myclass.class.getDeclaredFields(), added with the answer as update @q0re"}],"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"comment_count":7,"down_vote_count":0,"up_vote_count":152,"is_accepted":false,"score":152,"last_activity_date":1540381001,"creation_date":1290950870,"answer_id":4296964,"question_id":4296910,"body_markdown":"Yes, if your Column annotation has the runtime retention\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface Column {\r\n        ....\r\n    }\r\n\r\nyou can do something like this\r\n\r\n\r\n    for (Field f: MyClass.class.getFields()) {\r\n       Column column = f.getAnnotation(Column.class);\r\n       if (column != null)\r\n           System.out.println(column.columnName());\r\n    }\r\n\r\nUPDATE : To get private fields use\r\n\r\n    Myclass.class.getDeclaredFields()","title":"Is it possible to read the value of a annotation in java?","body":"<p>Yes, if your Column annotation has the runtime retention</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@interface Column {\n    ....\n}\n</code></pre>\n\n<p>you can do something like this</p>\n\n<pre><code>for (Field f: MyClass.class.getFields()) {\n   Column column = f.getAnnotation(Column.class);\n   if (column != null)\n       System.out.println(column.columnName());\n}\n</code></pre>\n\n<p>UPDATE : To get private fields use</p>\n\n<pre><code>Myclass.class.getDeclaredFields()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"comment_count":0,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1671920127,"creation_date":1290951005,"answer_id":4296973,"question_id":4296910,"body_markdown":"Of course it is. Here is a sample annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface TestAnnotation {\r\n\r\n    \tString testText();\r\n    }\r\n\r\nAnd a sample annotated method:\r\n\r\n    class TestClass {\r\n\r\n    \t@TestAnnotation(testText=&quot;zyx&quot;)\r\n    \tpublic void doSomething() {}\r\n    }\r\n\r\nAnd a sample method in another class that prints the value of the testText:\r\n\r\n    Method[] methods = TestClass.class.getMethods();\r\n    for (Method m : methods) {\r\n        if (m.isAnnotationPresent(TestAnnotation.class)) {\r\n    \t\tTestAnnotation ta = m.getAnnotation(TestAnnotation.class);\r\n    \t\tSystem.out.println(ta.testText());\r\n    \t}\r\n    }\r\n\r\nNot much different for field annotations like yours.","title":"Is it possible to read the value of a annotation in java?","body":"<p>Of course it is. Here is a sample annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TestAnnotation {\n\n    String testText();\n}\n</code></pre>\n<p>And a sample annotated method:</p>\n<pre><code>class TestClass {\n\n    @TestAnnotation(testText=&quot;zyx&quot;)\n    public void doSomething() {}\n}\n</code></pre>\n<p>And a sample method in another class that prints the value of the testText:</p>\n<pre><code>Method[] methods = TestClass.class.getMethods();\nfor (Method m : methods) {\n    if (m.isAnnotationPresent(TestAnnotation.class)) {\n        TestAnnotation ta = m.getAnnotation(TestAnnotation.class);\n        System.out.println(ta.testText());\n    }\n}\n</code></pre>\n<p>Not much different for field annotations like yours.</p>\n"},{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1423125246,"creation_date":1423125246,"answer_id":28339409,"question_id":4296910,"body_markdown":"While all the answers given so far are perfectly valid, one should also keep in mind the [google reflections library][1] for a more generic and easy approach to annotation scanning, e.g.\r\n\r\n     Reflections reflections = new Reflections(&quot;my.project.prefix&quot;);\r\n\r\n     Set&lt;Field&gt; ids = reflections.getFieldsAnnotatedWith(javax.persistence.Id.class);\r\n\r\n\r\n  [1]: https://code.google.com/p/reflections/","title":"Is it possible to read the value of a annotation in java?","body":"<p>While all the answers given so far are perfectly valid, one should also keep in mind the <a href=\"https://code.google.com/p/reflections/\" rel=\"noreferrer\">google reflections library</a> for a more generic and easy approach to annotation scanning, e.g.</p>\n\n<pre><code> Reflections reflections = new Reflections(\"my.project.prefix\");\n\n Set&lt;Field&gt; ids = reflections.getFieldsAnnotatedWith(javax.persistence.Id.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2067266,"reputation":903,"user_id":1842548,"accept_rate":80,"display_name":"Sigma Octantis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463072249,"creation_date":1463071871,"answer_id":37193020,"question_id":4296910,"body_markdown":"You can also use generic types, in my case, taking into account everything said before you can do something like:\r\n\r\n    public class SomeTypeManager&lt;T&gt; {\r\n\r\n\t    public SomeTypeManager(T someGeneric) {\r\n\t\t    \r\n            //That&#39;s how you can achieve all previously said, with generic types.\r\n\t\t    Annotation[] an = someGeneric.getClass().getAnnotations();\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\nRemember, that this will not equival at 100% to SomeClass.class.get(...)();\r\n\r\nBut can do the trick...","title":"Is it possible to read the value of a annotation in java?","body":"<p>You can also use generic types, in my case, taking into account everything said before you can do something like:</p>\n\n<pre><code>public class SomeTypeManager&lt;T&gt; {\n\n    public SomeTypeManager(T someGeneric) {\n\n        //That's how you can achieve all previously said, with generic types.\n        Annotation[] an = someGeneric.getClass().getAnnotations();\n\n    }\n\n}\n</code></pre>\n\n<p>Remember, that this will not equival at 100% to SomeClass.class.get(...)();</p>\n\n<p>But can do the trick...</p>\n"},{"comments":[{"owner":{"account_id":3992512,"reputation":1270,"user_id":3290958,"display_name":"dehumanizer"},"score":0,"creation_date":1510082129,"post_id":43481150,"comment_id":81281299,"body_markdown":"Objects.nonNull to fully embrace Java 8 :)\n\n.filter(f -&gt; nonNull(f.getAnnotation(Column.class)))","body":"Objects.nonNull to fully embrace Java 8 :)  .filter(f -&gt; nonNull(f.getAnnotation(Column.class)))"}],"tags":[],"owner":{"account_id":5981952,"reputation":1949,"user_id":5320300,"accept_rate":76,"display_name":"Simon Baars"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1503476471,"creation_date":1492545613,"answer_id":43481150,"question_id":4296910,"body_markdown":"Elaborating to the answer of @Cephalopod, if you wanted all column names in a list you could use this oneliner:\r\n\r\n    List&lt;String&gt; columns = \r\n            Arrays.asList(MyClass.class.getFields())\r\n                  .stream()\r\n                  .filter(f -&gt; f.getAnnotation(Column.class)!=null)\r\n                  .map(f -&gt; f.getAnnotation(Column.class).columnName())\r\n                  .collect(Collectors.toList());","title":"Is it possible to read the value of a annotation in java?","body":"<p>Elaborating to the answer of @Cephalopod, if you wanted all column names in a list you could use this oneliner:</p>\n\n<pre><code>List&lt;String&gt; columns = \n        Arrays.asList(MyClass.class.getFields())\n              .stream()\n              .filter(f -&gt; f.getAnnotation(Column.class)!=null)\n              .map(f -&gt; f.getAnnotation(Column.class).columnName())\n              .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508397170,"creation_date":1508397170,"answer_id":46824447,"question_id":4296910,"body_markdown":"In common case you have **private** access for fields, so you CAN&#39;T use **getFields** in reflection. Instead of this you should use **getDeclaredFields**\r\n\r\nSo, firstly, you should be aware if your Column annotation has the runtime retention:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface Column {\r\n    }\r\n\r\nAfter that you can do something like this:\r\n\r\n    for (Field f: MyClass.class.getDeclaredFields()) {\r\n       Column column = f.getAnnotation(Column.class);\r\n           // ...\r\n    }\r\nObviously, you would like to do something with field - set new value using annotation value:\r\n\r\n    Column annotation = f.getAnnotation(Column.class);\r\n    if (annotation != null) {\r\n        new PropertyDescriptor(f.getName(), Column.class).getWriteMethod().invoke(\r\n            object,\r\n            myCoolProcessing(\r\n                annotation.value()\r\n            )\r\n        );\r\n    }\r\n\r\nSo, full code can be looked like this:\r\n\r\n    for (Field f : MyClass.class.getDeclaredFields()) {\r\n        Column annotation = f.getAnnotation(Column.class);\r\n        if (annotation != null)\r\n            new PropertyDescriptor(f.getName(), Column.class).getWriteMethod().invoke(\r\n                    object,\r\n                    myCoolProcessing(\r\n                            annotation.value()\r\n                    )\r\n            );\r\n    }\r\n\r\n\r\n","title":"Is it possible to read the value of a annotation in java?","body":"<p>In common case you have <strong>private</strong> access for fields, so you CAN'T use <strong>getFields</strong> in reflection. Instead of this you should use <strong>getDeclaredFields</strong></p>\n\n<p>So, firstly, you should be aware if your Column annotation has the runtime retention:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@interface Column {\n}\n</code></pre>\n\n<p>After that you can do something like this:</p>\n\n<pre><code>for (Field f: MyClass.class.getDeclaredFields()) {\n   Column column = f.getAnnotation(Column.class);\n       // ...\n}\n</code></pre>\n\n<p>Obviously, you would like to do something with field - set new value using annotation value:</p>\n\n<pre><code>Column annotation = f.getAnnotation(Column.class);\nif (annotation != null) {\n    new PropertyDescriptor(f.getName(), Column.class).getWriteMethod().invoke(\n        object,\n        myCoolProcessing(\n            annotation.value()\n        )\n    );\n}\n</code></pre>\n\n<p>So, full code can be looked like this:</p>\n\n<pre><code>for (Field f : MyClass.class.getDeclaredFields()) {\n    Column annotation = f.getAnnotation(Column.class);\n    if (annotation != null)\n        new PropertyDescriptor(f.getName(), Column.class).getWriteMethod().invoke(\n                object,\n                myCoolProcessing(\n                        annotation.value()\n                )\n        );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549384363,"creation_date":1549384363,"answer_id":54538975,"question_id":4296910,"body_markdown":"For the few people asking for a generic method, this should help you (5 years later :p).\r\n\r\nFor my below example, I&#39;m pulling the RequestMapping URL value from methods that have the RequestMapping annotation.\r\nTo adapt this for fields, just change the\r\n\r\n    for (Method method: clazz.getMethods())\r\n\r\nto\r\n\r\n    for (Field field: clazz.getFields())\r\n\r\n\r\nAnd swap usage of **RequestMapping** for whatever annotation you are looking to read.\r\nBut make sure that the annotation has **@Retention(RetentionPolicy.RUNTIME)**.\r\n\r\n\r\n    public static String getRequestMappingUrl(final Class&lt;?&gt; clazz, final String methodName)\r\n\t{\r\n\t\t// Only continue if the method name is not empty.\r\n\t\tif ((methodName != null) &amp;&amp; (methodName.trim().length() &gt; 0))\r\n\t\t{\r\n\t\t\tRequestMapping tmpRequestMapping;\r\n\t\t\tString[] tmpValues;\r\n\t\t\t\r\n\t\t\t// Loop over all methods in the class.\r\n\t\t\tfor (Method method: clazz.getMethods())\r\n\t\t\t{\r\n\t\t\t\t// If the current method name matches the expected method name, then keep going.\r\n\t\t\t\tif (methodName.equalsIgnoreCase(method.getName()))\r\n\t\t\t\t{\r\n\t\t\t\t\t// Try to extract the RequestMapping annotation from the current method.\r\n\t\t\t\t\ttmpRequestMapping = method.getAnnotation(RequestMapping.class);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Only continue if the current method has the RequestMapping annotation.\r\n\t\t\t\t\tif (tmpRequestMapping != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Extract the values from the RequestMapping annotation.\r\n\t\t\t\t\t\ttmpValues = tmpRequestMapping.value();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Only continue if there are values.\r\n\t\t\t\t\t\tif ((tmpValues != null) &amp;&amp; (tmpValues.length &gt; 0))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// Return the 1st value.\r\n\t\t\t\t\t\t\treturn tmpValues[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Since no value was returned, log it and return an empty string.\r\n\t\tlogger.error(&quot;Failed to find RequestMapping annotation value for method: &quot; + methodName);\r\n\t\t\r\n\t\treturn &quot;&quot;;\r\n\t}","title":"Is it possible to read the value of a annotation in java?","body":"<p>For the few people asking for a generic method, this should help you (5 years later :p).</p>\n\n<p>For my below example, I'm pulling the RequestMapping URL value from methods that have the RequestMapping annotation.\nTo adapt this for fields, just change the</p>\n\n<pre><code>for (Method method: clazz.getMethods())\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for (Field field: clazz.getFields())\n</code></pre>\n\n<p>And swap usage of <strong>RequestMapping</strong> for whatever annotation you are looking to read.\nBut make sure that the annotation has <strong>@Retention(RetentionPolicy.RUNTIME)</strong>.</p>\n\n<pre><code>public static String getRequestMappingUrl(final Class&lt;?&gt; clazz, final String methodName)\n{\n    // Only continue if the method name is not empty.\n    if ((methodName != null) &amp;&amp; (methodName.trim().length() &gt; 0))\n    {\n        RequestMapping tmpRequestMapping;\n        String[] tmpValues;\n\n        // Loop over all methods in the class.\n        for (Method method: clazz.getMethods())\n        {\n            // If the current method name matches the expected method name, then keep going.\n            if (methodName.equalsIgnoreCase(method.getName()))\n            {\n                // Try to extract the RequestMapping annotation from the current method.\n                tmpRequestMapping = method.getAnnotation(RequestMapping.class);\n\n                // Only continue if the current method has the RequestMapping annotation.\n                if (tmpRequestMapping != null)\n                {\n                    // Extract the values from the RequestMapping annotation.\n                    tmpValues = tmpRequestMapping.value();\n\n                    // Only continue if there are values.\n                    if ((tmpValues != null) &amp;&amp; (tmpValues.length &gt; 0))\n                    {\n                        // Return the 1st value.\n                        return tmpValues[0];\n                    }\n                }\n            }\n        }\n    }\n\n    // Since no value was returned, log it and return an empty string.\n    logger.error(\"Failed to find RequestMapping annotation value for method: \" + methodName);\n\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1192592,"reputation":1465,"user_id":1165040,"accept_rate":73,"display_name":"R K Punjal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579183947,"creation_date":1579183947,"answer_id":59771506,"question_id":4296910,"body_markdown":"one of the ways I used it :\r\n\r\n    protected List&lt;Field&gt; getFieldsWithJsonView(Class sourceClass, Class jsonViewName){\r\n        List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n        for (Field field : sourceClass.getDeclaredFields()) {\r\n            JsonView jsonViewAnnotation = field.getDeclaredAnnotation(JsonView.class);\r\n            if(jsonViewAnnotation!=null){\r\n                boolean jsonViewPresent = false;\r\n                Class[] viewNames = jsonViewAnnotation.value();\r\n                if(jsonViewName!=null &amp;&amp; Arrays.asList(viewNames).contains(jsonViewName) ){\r\n                    fields.add(field);\r\n                }\r\n            }\r\n        }\r\n        return fields;\r\n    }    \r\n","title":"Is it possible to read the value of a annotation in java?","body":"<p>one of the ways I used it :</p>\n\n<pre><code>protected List&lt;Field&gt; getFieldsWithJsonView(Class sourceClass, Class jsonViewName){\n    List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n    for (Field field : sourceClass.getDeclaredFields()) {\n        JsonView jsonViewAnnotation = field.getDeclaredAnnotation(JsonView.class);\n        if(jsonViewAnnotation!=null){\n            boolean jsonViewPresent = false;\n            Class[] viewNames = jsonViewAnnotation.value();\n            if(jsonViewName!=null &amp;&amp; Arrays.asList(viewNames).contains(jsonViewName) ){\n                fields.add(field);\n            }\n        }\n    }\n    return fields;\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18609341,"reputation":443,"user_id":13562196,"display_name":"Talat El Beick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650799197,"creation_date":1650799197,"answer_id":71987883,"question_id":4296910,"body_markdown":"To read the value of annotation in java try to follow the following steps:\r\n1. Create an annotation.\r\n2. Follow the logic in the target class below.\r\n3. Access the value as in Output.\r\n\r\nAnnotation\r\n```java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.TYPE}) // make annotation usable only for classes\r\n@Retention(RetentionPolicy.RUNTIME) // make annotation available at the runTime\r\npublic @interface EntryPoint {\r\n    String url();\r\n}\r\n```\r\n\r\nTarget\r\n```java\r\n// just remember to import your annotation in this case &quot;EntryPoint&quot;\r\n\r\nimport java.lang.annotation.Annotation;\r\n\r\n@EntryPoint(url = &quot;api/v1/demo&quot;)\r\npublic class Demo {\r\n    // get class of this.\r\n    private final Class&lt;? extends Demo&gt; demo = this.getClass();\r\n    // get specific annotation (EntryPoint.class)\r\n    private final Annotation annotation = demo.getAnnotation(EntryPoint.class);\r\n    // instantiate annotation and assign it value from the class annotation.\r\n    final EntryPoint entryPoint = (EntryPoint) annotation;\r\n}\r\n```\r\n\r\nOutput\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // create an object of the class with the annotation.\r\n        Demo demo = new Demo();\r\n        System.out.println(demo.entryPoint.url());\r\n    }\r\n}\r\n```\r\n\r\nThe result is &quot;api/v1/demo&quot;","title":"Is it possible to read the value of a annotation in java?","body":"<p>To read the value of annotation in java try to follow the following steps:</p>\n<ol>\n<li>Create an annotation.</li>\n<li>Follow the logic in the target class below.</li>\n<li>Access the value as in Output.</li>\n</ol>\n<p>Annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.TYPE}) // make annotation usable only for classes\n@Retention(RetentionPolicy.RUNTIME) // make annotation available at the runTime\npublic @interface EntryPoint {\n    String url();\n}\n</code></pre>\n<p>Target</p>\n<pre class=\"lang-java prettyprint-override\"><code>// just remember to import your annotation in this case &quot;EntryPoint&quot;\n\nimport java.lang.annotation.Annotation;\n\n@EntryPoint(url = &quot;api/v1/demo&quot;)\npublic class Demo {\n    // get class of this.\n    private final Class&lt;? extends Demo&gt; demo = this.getClass();\n    // get specific annotation (EntryPoint.class)\n    private final Annotation annotation = demo.getAnnotation(EntryPoint.class);\n    // instantiate annotation and assign it value from the class annotation.\n    final EntryPoint entryPoint = (EntryPoint) annotation;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // create an object of the class with the annotation.\n        Demo demo = new Demo();\n        System.out.println(demo.entryPoint.url());\n    }\n}\n</code></pre>\n<p>The result is &quot;api/v1/demo&quot;</p>\n"}],"owner":{"account_id":676534,"reputation":1329,"user_id":522959,"display_name":"BeeS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213428,"favorite_count":0,"down_vote_count":1,"up_vote_count":133,"answer_count":10,"score":132,"last_activity_date":1671920127,"creation_date":1290950198,"question_id":4296910,"body_markdown":"this is my code:\r\n\r\n    @Column(columnName=&quot;firstname&quot;)\r\n \r\n\r\n    private String firstName;\r\n     \r\n     @Column(columnName=&quot;lastname&quot;)\r\n     private String lastName;\r\n    \r\n     public String getFirstName() {\r\n      return firstName;\r\n     }\r\n    \r\n     public void setFirstName(String firstName) {\r\n      this.firstName = firstName;\r\n     }\r\n    \r\n     public String getLastName() {\r\n      return lastName;\r\n     }\r\n    \r\n     public void setLastName(String lastName) {\r\n      this.lastName = lastName;\r\n     }\r\n\r\nis it possible to read the value of my annotation @Column(**columnName**=&quot;xyz123&quot;) in another class?\r\n\r\n","title":"Is it possible to read the value of a annotation in java?","body":"<p>this is my code:</p>\n\n<pre><code>@Column(columnName=\"firstname\")\n\n\nprivate String firstName;\n\n @Column(columnName=\"lastname\")\n private String lastName;\n\n public String getFirstName() {\n  return firstName;\n }\n\n public void setFirstName(String firstName) {\n  this.firstName = firstName;\n }\n\n public String getLastName() {\n  return lastName;\n }\n\n public void setLastName(String lastName) {\n  this.lastName = lastName;\n }\n</code></pre>\n\n<p>is it possible to read the value of my annotation @Column(<strong>columnName</strong>=\"xyz123\") in another class?</p>\n"},{"tags":["java","modulo"],"answers":[{"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":12,"creation_date":1285637399,"post_id":90242,"comment_id":4040107,"body_markdown":"minimal would be without the brackets ;)","body":"minimal would be without the brackets ;)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1459302685,"post_id":90242,"comment_id":60220951,"body_markdown":"It&#39;s a remainder operator, not a modulus operator.","body":"It&#39;s a remainder operator, not a modulus operator."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1557404915,"post_id":90242,"comment_id":98759261,"body_markdown":"@user207421 Its name is in fact [_remainder operator_](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html) but aren&#39;t they equivalent: &quot;[**modulus**](https://en.wiktionary.org/wiki/modulus#Noun) – 4. _(computing, programming)_ An operator placed between two numbers, to get the remainder of the division of those numbers.&quot;?","body":"@user207421 Its name is in fact <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\"><i>remainder operator</i></a> but aren&#39;t they equivalent: &quot;<a href=\"https://en.wiktionary.org/wiki/modulus#Noun\" rel=\"nofollow noreferrer\"><b>modulus</b></a> – 4. <i>(computing, programming)</i> An operator placed between two numbers, to get the remainder of the division of those numbers.&quot;?"}],"tags":[],"owner":{"account_id":1020,"reputation":2478,"user_id":1353,"display_name":"martinatime"},"comment_count":3,"down_vote_count":4,"up_vote_count":115,"is_accepted":false,"score":111,"last_activity_date":1442575513,"creation_date":1221715113,"answer_id":90242,"question_id":90238,"body_markdown":"Here is the representation of your pseudo-code in minimal Java code;\r\n\r\n    boolean isEven = a % 2 == 0;\r\n\r\nI&#39;ll now break it down into its components. The modulus operator in Java is the percent character (%). Therefore taking an int % int returns another int. The double equals (==) operator is used to compare values, such as a pair of ints and returns a boolean. This is then assigned to the boolean variable &#39;isEven&#39;. Based on operator precedence the modulus will be evaluated before the comparison.","title":"What&#39;s the syntax for mod in java","body":"<p>Here is the representation of your pseudo-code in minimal Java code;</p>\n\n<pre><code>boolean isEven = a % 2 == 0;\n</code></pre>\n\n<p>I'll now break it down into its components. The modulus operator in Java is the percent character (%). Therefore taking an int % int returns another int. The double equals (==) operator is used to compare values, such as a pair of ints and returns a boolean. This is then assigned to the boolean variable 'isEven'. Based on operator precedence the modulus will be evaluated before the comparison.</p>\n"},{"tags":[],"owner":{"account_id":9032,"reputation":4250,"user_id":16509,"accept_rate":90,"display_name":"jjrv"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1221715115,"creation_date":1221715115,"answer_id":90243,"question_id":90238,"body_markdown":"The modulo operator is % (percent sign). To test for evenness or generally do modulo for a power of 2, you can also use &amp; (the and operator) like isEven = !( a &amp; 1 ).","title":"What&#39;s the syntax for mod in java","body":"<p>The modulo operator is % (percent sign). To test for evenness or generally do modulo for a power of 2, you can also use &amp; (the and operator) like isEven = !( a &amp; 1 ).</p>\n"},{"tags":[],"owner":{"account_id":9260,"reputation":624,"user_id":17023,"display_name":"J D OConal"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1221722126,"creation_date":1221715116,"answer_id":90244,"question_id":90238,"body_markdown":"    if (a % 2 == 0) {\r\n    } else {\r\n    }","title":"What&#39;s the syntax for mod in java","body":"<pre><code>if (a % 2 == 0) {\n} else {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1644191,"reputation":2702,"user_id":1516042,"display_name":"Jim"},"score":64,"creation_date":1345847808,"post_id":90247,"comment_id":16201393,"body_markdown":"Careful with the terms mod and modular because n (mod m) IS ALWAYS &gt;= 0 but not n % m. n % m is in the range &gt; -m and &lt; m. Although Java has a remainder operator for int and long types, it has no modulus function or operator. I.e., -12 % 10 = -2 whereas -12 mod 10 = 8. If % operator returns a negative value for n % m, then (n % m) + m will give you n mod m. BigInteger provides functions for both and the specifications for them explain the difference quite well. Also, careful with zero. In mathematics, whilst zero is an even number it is NOT positive or negative.","body":"Careful with the terms mod and modular because n (mod m) IS ALWAYS &gt;= 0 but not n % m. n % m is in the range &gt; -m and &lt; m. Although Java has a remainder operator for int and long types, it has no modulus function or operator. I.e., -12 % 10 = -2 whereas -12 mod 10 = 8. If % operator returns a negative value for n % m, then (n % m) + m will give you n mod m. BigInteger provides functions for both and the specifications for them explain the difference quite well. Also, careful with zero. In mathematics, whilst zero is an even number it is NOT positive or negative."},{"owner":{"account_id":1248503,"reputation":11789,"user_id":1209443,"accept_rate":50,"display_name":"nl-x"},"score":1,"creation_date":1401822595,"post_id":90247,"comment_id":37029857,"body_markdown":"why is `a % 2` put in parenthesis before `== 0` is evaluated?","body":"why is <code>a % 2</code> put in parenthesis before <code>== 0</code> is evaluated?"},{"owner":{"account_id":153812,"reputation":1480,"user_id":369332,"accept_rate":91,"display_name":"Matthew Sainsbury"},"score":4,"creation_date":1402056787,"post_id":90247,"comment_id":37137965,"body_markdown":"@nl-x Probably because it&#39;s better to be explicit about precedence than leave it to convention. I for one did not know that `%` is evaluated before `==` before I looked it up, so it would be unclear whether the expression is equivalent to `(a%2)==0` or `a%(2==0)`. I guess it is less important in java where a boolean is not the same as an integer","body":"@nl-x Probably because it&#39;s better to be explicit about precedence than leave it to convention. I for one did not know that <code>%</code> is evaluated before <code>==</code> before I looked it up, so it would be unclear whether the expression is equivalent to <code>(a%2)==0</code> or <code>a%(2==0)</code>. I guess it is less important in java where a boolean is not the same as an integer"},{"owner":{"account_id":158052,"reputation":41457,"user_id":376409,"accept_rate":78,"display_name":"Kieren Johnstone"},"score":10,"creation_date":1437116207,"post_id":90247,"comment_id":50905730,"body_markdown":"This isn&#39;t the modulus operator - it&#39;s the remainder operator.  Please correct the post!","body":"This isn&#39;t the modulus operator - it&#39;s the remainder operator.  Please correct the post!"},{"owner":{"account_id":1478069,"reputation":472,"user_id":1388001,"accept_rate":94,"display_name":"mdev"},"score":4,"creation_date":1520739380,"post_id":90247,"comment_id":85436781,"body_markdown":"boolean even = ((a &amp; 1) == 0). Much easier.","body":"boolean even = ((a &amp; 1) == 0). Much easier."},{"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"score":0,"creation_date":1529388565,"post_id":90247,"comment_id":88842580,"body_markdown":"I my opinion the explicit if/else is easier on the eyes and faster to scan (would be even faster if opening brackets were on the same line as method signatures but after all that&#39;s personal preference). But we should not always go for &quot;shortest&quot; if it compromises readability (thinking of ternary operator-nesting).","body":"I my opinion the explicit if/else is easier on the eyes and faster to scan (would be even faster if opening brackets were on the same line as method signatures but after all that&#39;s personal preference). But we should not always go for &quot;shortest&quot; if it compromises readability (thinking of ternary operator-nesting)."}],"tags":[],"owner":{"account_id":9289,"reputation":8867,"user_id":17086,"accept_rate":29,"display_name":"Cody Hatch"},"comment_count":6,"down_vote_count":6,"up_vote_count":393,"is_accepted":true,"score":387,"last_activity_date":1578599157,"creation_date":1221715138,"answer_id":90247,"question_id":90238,"body_markdown":"Instead of the modulo operator, which has slightly different semantics, for non-negative integers, you can use the *remainder* operator `%`. For your exact example:\r\n\r\n    if ((a % 2) == 0)\r\n    {\r\n        isEven = true;\r\n    }\r\n    else\r\n    {\r\n        isEven = false;\r\n    }\r\n\r\nThis can be simplified to a one-liner:\r\n\r\n    isEven = (a % 2) == 0;\r\n\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>Instead of the modulo operator, which has slightly different semantics, for non-negative integers, you can use the <em>remainder</em> operator <code>%</code>. For your exact example:</p>\n\n<pre><code>if ((a % 2) == 0)\n{\n    isEven = true;\n}\nelse\n{\n    isEven = false;\n}\n</code></pre>\n\n<p>This can be simplified to a one-liner:</p>\n\n<pre><code>isEven = (a % 2) == 0;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1221720483,"post_id":90249,"comment_id":13073,"body_markdown":"it is probably a mistake to use compound operators in an example for beginners, and without output.","body":"it is probably a mistake to use compound operators in an example for beginners, and without output."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1263577881,"creation_date":1221715196,"answer_id":90249,"question_id":90238,"body_markdown":"Also, mod can be used like this:\r\n\r\n    int a = 7;\r\n    b = a % 2;\r\n\r\n`b` would equal 1.  Because `7 % 2 = 1`.\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>Also, mod can be used like this:</p>\n\n<pre><code>int a = 7;\nb = a % 2;\n</code></pre>\n\n<p><code>b</code> would equal 1.  Because <code>7 % 2 = 1</code>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1459302838,"post_id":95946,"comment_id":60220986,"body_markdown":"It&#39;s a remainder operator, not a modulus operator.","body":"It&#39;s a remainder operator, not a modulus operator."},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1532039397,"post_id":95946,"comment_id":89835970,"body_markdown":"@EJP  ok. Then what is the modulus operator?","body":"@EJP  ok. Then what is the modulus operator?"}],"tags":[],"owner":{"account_id":3669,"reputation":45495,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1221765562,"creation_date":1221765562,"answer_id":95946,"question_id":90238,"body_markdown":"An alternative to the code from @Cody: \r\n\r\nUsing the modulus operator:\r\n\r\n    bool isEven = (a % 2) == 0;\r\n\r\nI think this is marginally better code than writing if/else, because there is less duplication &amp; unused flexibility.  It does require a bit more brain power to examine, but the good naming of `isEven` compensates.\r\n\r\n\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>An alternative to the code from @Cody: </p>\n\n<p>Using the modulus operator:</p>\n\n<pre><code>bool isEven = (a % 2) == 0;\n</code></pre>\n\n<p>I think this is marginally better code than writing if/else, because there is less duplication &amp; unused flexibility.  It does require a bit more brain power to examine, but the good naming of <code>isEven</code> compensates.</p>\n"},{"comments":[{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":0,"creation_date":1573445965,"post_id":2073707,"comment_id":103872177,"body_markdown":"But I want one a real modulo operator that works for negative integers too so  that `array[x mod array.length]` allways accesses an element in my array rather than try to index negative positions.","body":"But I want one a real modulo operator that works for negative integers too so  that <code>array[x mod array.length]</code> allways accesses an element in my array rather than try to index negative positions."},{"owner":{"account_id":58513,"reputation":1900,"user_id":175142,"accept_rate":80,"display_name":"Greg Charles"},"score":3,"creation_date":1573585888,"post_id":2073707,"comment_id":103927059,"body_markdown":"`(x % y + y) % y`   or starting in Java 8, `Math.floorMod(x, y)`","body":"<code>(x % y + y) % y</code>   or starting in Java 8, <code>Math.floorMod(x, y)</code>"}],"tags":[],"owner":{"account_id":58513,"reputation":1900,"user_id":175142,"accept_rate":80,"display_name":"Greg Charles"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1263578265,"creation_date":1263578265,"answer_id":2073707,"question_id":90238,"body_markdown":"Java actually has no modulo operator the way C does. % in Java is a remainder operator. On positive integers, it works exactly like modulo, but it works differently on negative integers and, unlike modulo, can work with floating point numbers as well. Still, it&#39;s rare to use % on anything but positive integers, so if you want to call it a modulo, then feel free! ","title":"What&#39;s the syntax for mod in java","body":"<p>Java actually has no modulo operator the way C does. % in Java is a remainder operator. On positive integers, it works exactly like modulo, but it works differently on negative integers and, unlike modulo, can work with floating point numbers as well. Still, it's rare to use % on anything but positive integers, so if you want to call it a modulo, then feel free! </p>\n"},{"comments":[{"owner":{"account_id":1644191,"reputation":2702,"user_id":1516042,"display_name":"Jim"},"score":0,"creation_date":1345846354,"post_id":2073758,"comment_id":16201049,"body_markdown":"Thank you Rob. This confusion causes enormous difficulties in explaining to programmers how to implement algorithms with mathematical properties from modular arithmetic. Remainder is NOT modulus but one can quickly derive a modulus from remainders.","body":"Thank you Rob. This confusion causes enormous difficulties in explaining to programmers how to implement algorithms with mathematical properties from modular arithmetic. Remainder is NOT modulus but one can quickly derive a modulus from remainders."},{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":1,"creation_date":1573264300,"post_id":2073758,"comment_id":103837204,"body_markdown":"@TickledPink Except that this does not compile in Java.","body":"@TickledPink Except that this does not compile in Java."},{"owner":{"account_id":2051168,"reputation":406,"user_id":1830155,"display_name":"Hummeling Engineering BV"},"score":0,"creation_date":1641641550,"post_id":2073758,"comment_id":124860658,"body_markdown":"Looking at [operator precedence](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html), option 4 can be reduced to `boolean isEven = (a &amp; 1) == 0;`\nI also like to make it clear we&#39;re doing bit operations like so: `boolean isEven = (a &amp; 0x1) == 0;` though that&#39;s a matter of taste ;-)","body":"Looking at <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">operator precedence</a>, option 4 can be reduced to <code>boolean isEven = (a &amp; 1) == 0;</code> I also like to make it clear we&#39;re doing bit operations like so: <code>boolean isEven = (a &amp; 0x1) == 0;</code> though that&#39;s a matter of taste ;-)"}],"tags":[],"owner":{"account_id":3329,"reputation":8689,"user_id":4798,"display_name":"Rob Rolnick"},"comment_count":3,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1671920056,"creation_date":1263579003,"answer_id":2073758,"question_id":90238,"body_markdown":"Since everyone else already gave the answer, I&#39;ll add a bit of additional context. % the &quot;modulus&quot; operator is actually performing the remainder operation.  The difference between mod and rem is subtle, but important.\r\n\r\n(-1 mod 2) would normally give 1.  More specifically given two integers, X and Y, the operation (X mod Y) tends to return a value in the range [0, Y).  Said differently, the modulus of X and Y is always greater than or equal to zero, and less than Y.\r\n\r\nPerforming the same operation with the &quot;%&quot; or rem operator maintains the sign of the X value. If X is negative you get a result in the range (-Y, 0].  If X is positive you get a result in the range [0, Y).  \r\n\r\nOften this subtle distinction doesn&#39;t matter.  Going back to your code question, though, there are multiple ways of solving for &quot;evenness&quot;.\r\n\r\nThe first approach is good for beginners, because it is especially verbose.\r\n\r\n    // Option 1: Clearest way for beginners\r\n    boolean isEven;\r\n    if ((a % 2) == 0)\r\n    {\r\n      isEven = true\r\n    }\r\n    else\r\n    {\r\n      isEven = false\r\n    }\r\n\r\nThe second approach takes better advantage of the language, and leads to more succinct code. (Don&#39;t forget that the == operator returns a boolean.)\r\n\r\n    // Option 2: Clear, succinct, code\r\n    boolean isEven = ((a % 2) == 0);\r\n\r\nThe third approach is here for completeness, and uses the [ternary][1] operator.  Although the ternary operator is often very useful, in this case I consider the second approach superior.\r\n\r\n    // Option 3: Ternary operator\r\n    boolean isEven = ((a % 2) == 0) ? true : false;\r\n\r\nThe fourth and final approach is to use knowledge of the [binary representation of integers][2].  If the least significant bit is 0 then the number is even.  This can be checked using the [bitwise-and operator][3] (&amp;).  While this approach is the fastest (you are doing simple bit masking instead of division), it is perhaps a little advanced/complicated for a beginner.\r\n\r\n    // Option 4: Bitwise-and\r\n    boolean isEven = ((a &amp; 1) == 0);\r\n\r\nHere I used the bitwise-and operator, and represented it in the succinct form shown in option 2.  Rewriting it in Option 1&#39;s form (and alternatively Option 3&#39;s) is left as an exercise to the reader. ;)\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op2.html\r\n  [2]: http://en.wikipedia.org/wiki/Two&#39;s_complement\r\n  [3]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html","title":"What&#39;s the syntax for mod in java","body":"<p>Since everyone else already gave the answer, I'll add a bit of additional context. % the &quot;modulus&quot; operator is actually performing the remainder operation.  The difference between mod and rem is subtle, but important.</p>\n<p>(-1 mod 2) would normally give 1.  More specifically given two integers, X and Y, the operation (X mod Y) tends to return a value in the range [0, Y).  Said differently, the modulus of X and Y is always greater than or equal to zero, and less than Y.</p>\n<p>Performing the same operation with the &quot;%&quot; or rem operator maintains the sign of the X value. If X is negative you get a result in the range (-Y, 0].  If X is positive you get a result in the range [0, Y).</p>\n<p>Often this subtle distinction doesn't matter.  Going back to your code question, though, there are multiple ways of solving for &quot;evenness&quot;.</p>\n<p>The first approach is good for beginners, because it is especially verbose.</p>\n<pre><code>// Option 1: Clearest way for beginners\nboolean isEven;\nif ((a % 2) == 0)\n{\n  isEven = true\n}\nelse\n{\n  isEven = false\n}\n</code></pre>\n<p>The second approach takes better advantage of the language, and leads to more succinct code. (Don't forget that the == operator returns a boolean.)</p>\n<pre><code>// Option 2: Clear, succinct, code\nboolean isEven = ((a % 2) == 0);\n</code></pre>\n<p>The third approach is here for completeness, and uses the <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">ternary</a> operator.  Although the ternary operator is often very useful, in this case I consider the second approach superior.</p>\n<pre><code>// Option 3: Ternary operator\nboolean isEven = ((a % 2) == 0) ? true : false;\n</code></pre>\n<p>The fourth and final approach is to use knowledge of the <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">binary representation of integers</a>.  If the least significant bit is 0 then the number is even.  This can be checked using the <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">bitwise-and operator</a> (&amp;).  While this approach is the fastest (you are doing simple bit masking instead of division), it is perhaps a little advanced/complicated for a beginner.</p>\n<pre><code>// Option 4: Bitwise-and\nboolean isEven = ((a &amp; 1) == 0);\n</code></pre>\n<p>Here I used the bitwise-and operator, and represented it in the succinct form shown in option 2.  Rewriting it in Option 1's form (and alternatively Option 3's) is left as an exercise to the reader. ;)</p>\n"},{"tags":[],"owner":{"account_id":586444,"reputation":351,"user_id":262928,"display_name":"Zom-B"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1264948837,"creation_date":1264948837,"answer_id":2172061,"question_id":90238,"body_markdown":"To get Java&#39;s % (REM) operation to work like MOD for negative X and positive Y values, you can use this method:\r\n\r\n\tprivate int mod(int x, int y)\r\n\t{\r\n\t\tint result = x % y;\r\n\t\tif (result &lt; 0)\r\n\t\t{\r\n\t\t\tresult += y;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nor with the ternary operator (shorter, but not possible or less efficient in some situations):\r\n\r\n\tprivate int mod(int x, int y)\r\n\t{\r\n\t\tint result = x % y;\r\n\t\treturn result &lt; 0? result + y : result;\r\n\t}\r\n\r\n\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>To get Java's % (REM) operation to work like MOD for negative X and positive Y values, you can use this method:</p>\n\n<pre><code>private int mod(int x, int y)\n{\n    int result = x % y;\n    if (result &lt; 0)\n    {\n        result += y;\n    }\n    return result;\n}\n</code></pre>\n\n<p>or with the ternary operator (shorter, but not possible or less efficient in some situations):</p>\n\n<pre><code>private int mod(int x, int y)\n{\n    int result = x % y;\n    return result &lt; 0? result + y : result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280329697,"creation_date":1280329697,"answer_id":3354251,"question_id":90238,"body_markdown":"The remainder operator in Java is `%` and the modulo operator can be expressed as\r\n\r\n    public int mod(int i, int j)\r\n    {\r\n      int rem = i % j;\r\n      if (j &lt; 0 &amp;&amp; rem &gt; 0)\r\n      {\r\n        return rem + j;\r\n      }\r\n      if (j &gt; 0 &amp;&amp; rem &lt; 0)\r\n      {\r\n        return rem + j;\r\n      }\r\n      return rem;\r\n    }","title":"What&#39;s the syntax for mod in java","body":"<p>The remainder operator in Java is <code>%</code> and the modulo operator can be expressed as</p>\n\n<pre><code>public int mod(int i, int j)\n{\n  int rem = i % j;\n  if (j &lt; 0 &amp;&amp; rem &gt; 0)\n  {\n    return rem + j;\n  }\n  if (j &gt; 0 &amp;&amp; rem &lt; 0)\n  {\n    return rem + j;\n  }\n  return rem;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":3,"creation_date":1373917142,"post_id":3917066,"comment_id":25725197,"body_markdown":"This looks much cleaner than the accepted answer. This has nothing to do with premature optimization. Its simply better, -- if it works.","body":"This looks much cleaner than the accepted answer. This has nothing to do with premature optimization. Its simply better, -- if it works."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1447756543,"post_id":3917066,"comment_id":55276845,"body_markdown":"@LluisMartinez This is one of the most misquoted sayings in computing. The full quotation is &quot;Programmers waste enormous amounts of time thinking about, or worrying about, the speed of noncritical parts of their programs, and these attempts at efficiency actually have a strong negative impact when debugging and maintenance are considered. We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%.&quot;. Which actually means something quite different.","body":"@LluisMartinez This is one of the most misquoted sayings in computing. The full quotation is &quot;Programmers waste enormous amounts of time thinking about, or worrying about, the speed of noncritical parts of their programs, and these attempts at efficiency actually have a strong negative impact when debugging and maintenance are considered. We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%.&quot;. Which actually means something quite different."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":3,"creation_date":1447807401,"post_id":3917066,"comment_id":55307308,"body_markdown":"@EJP You&#39;re probably right. I did a test (loop with 1 million iterations) took 4000 nanoseconds with modulo, 2500 nanoseconds with logical and.","body":"@EJP You&#39;re probably right. I did a test (loop with 1 million iterations) took 4000 nanoseconds with modulo, 2500 nanoseconds with logical and."},{"owner":{"account_id":2129612,"reputation":995,"user_id":1890742,"display_name":"Mark Walsh"},"score":0,"creation_date":1585071036,"post_id":3917066,"comment_id":107635141,"body_markdown":"Why would this be an answer?  Sure it does odd even, but does not do anything with mod/remainder operator.  The question talks about mod operator, not how to find odd even.","body":"Why would this be an answer?  Sure it does odd even, but does not do anything with mod/remainder operator.  The question talks about mod operator, not how to find odd even."}],"tags":[],"owner":{"account_id":657934,"reputation":111,"user_id":473599,"display_name":"michael"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1286902114,"creation_date":1286902114,"answer_id":3917066,"question_id":90238,"body_markdown":"The code runs much faster without using modulo:\r\n\r\n    public boolean isEven(int a){\r\n        return ( (a &amp; 1) == 0 );\r\n    }\r\n\r\n    public boolean isOdd(int a){\r\n        return ( (a &amp; 1) == 1 );\r\n    }\r\n\r\n    \r\n\r\n\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>The code runs much faster without using modulo:</p>\n\n<pre><code>public boolean isEven(int a){\n    return ( (a &amp; 1) == 0 );\n}\n\npublic boolean isOdd(int a){\n    return ( (a &amp; 1) == 1 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":696311,"reputation":93,"user_id":578557,"display_name":"kioto"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1295365262,"creation_date":1295365262,"answer_id":4725976,"question_id":90238,"body_markdown":"you should examine the specification before using &#39;remainder&#39; operator % :\r\n\r\nhttp://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.3\r\n\r\n    // bad enough implementation of isEven method, for fun. so any worse?\r\n    boolean isEven(int num)\r\n    {\r\n        num %= 10;\r\n        if(num == 1)\r\n           return false;\r\n        else if(num == 0)\r\n           return true;\r\n        else\r\n           return isEven(num + 2);\r\n    }\r\n    isEven = isEven(a);\r\n\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>you should examine the specification before using 'remainder' operator % :</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.3\" rel=\"nofollow\">http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.3</a></p>\n\n<pre><code>// bad enough implementation of isEven method, for fun. so any worse?\nboolean isEven(int num)\n{\n    num %= 10;\n    if(num == 1)\n       return false;\n    else if(num == 0)\n       return true;\n    else\n       return isEven(num + 2);\n}\nisEven = isEven(a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1536767392,"post_id":18935194,"comment_id":91545910,"body_markdown":"This can overflow when a and b are both large numbers, so it is not a correct solution.","body":"This can overflow when a and b are both large numbers, so it is not a correct solution."}],"tags":[],"owner":{"account_id":1761703,"reputation":427,"user_id":2802543,"display_name":"Stefan T"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1390411828,"creation_date":1379782690,"answer_id":18935194,"question_id":90238,"body_markdown":"While it&#39;s possible to do a proper modulo by checking whether the value is negative and correct it if it is (the way many have suggested), there is a more compact solution.\r\n\r\n    (a % b + b) % b\r\n\r\nThis will first do the modulo, limiting the value to the -b -&gt; +b range and then add b in order to ensure that the value is positive, letting the next modulo limit it to the 0 -&gt; b range.\r\n\r\nNote: If b is negative, the result will also be negative","title":"What&#39;s the syntax for mod in java","body":"<p>While it's possible to do a proper modulo by checking whether the value is negative and correct it if it is (the way many have suggested), there is a more compact solution.</p>\n\n<pre><code>(a % b + b) % b\n</code></pre>\n\n<p>This will first do the modulo, limiting the value to the -b -> +b range and then add b in order to ensure that the value is positive, letting the next modulo limit it to the 0 -> b range.</p>\n\n<p>Note: If b is negative, the result will also be negative</p>\n"},{"tags":[],"owner":{"account_id":3755950,"reputation":1196,"user_id":3122309,"display_name":"brothers28"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399902261,"creation_date":1399902261,"answer_id":23610743,"question_id":90238,"body_markdown":"Another way is:\r\n\r\n    boolean isEven = false;\r\n    if((a % 2) == 0)\r\n    {\r\n        isEven = true;\r\n    }\r\n\r\nBut easiest way is still: \r\n\r\n    boolean isEven = (a % 2) == 0;\r\n\r\nLike @Steve Kuo said.","title":"What&#39;s the syntax for mod in java","body":"<p>Another way is:</p>\n\n<pre><code>boolean isEven = false;\nif((a % 2) == 0)\n{\n    isEven = true;\n}\n</code></pre>\n\n<p>But easiest way is still: </p>\n\n<pre><code>boolean isEven = (a % 2) == 0;\n</code></pre>\n\n<p>Like @Steve Kuo said.</p>\n"},{"comments":[{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":2,"creation_date":1573446186,"post_id":49095157,"comment_id":103872202,"body_markdown":"Upvoted, because floorMod is a better &#39;modulo&#39; operator than `%` as it also works properly when the argument is negative as well. None of the other answers really are correct since they come with the disclaimer that % is not really modulo unless the arguments are positive. In particular if you want to map every integer to a consecutive position in an array then `array[floorMod(i, array.length)` works correctly even if the index `i` goes into negative territory. Not so with `%`.","body":"Upvoted, because floorMod is a better &#39;modulo&#39; operator than <code>%</code> as it also works properly when the argument is negative as well. None of the other answers really are correct since they come with the disclaimer that % is not really modulo unless the arguments are positive. In particular if you want to map every integer to a consecutive position in an array then <code>array[floorMod(i, array.length)</code> works correctly even if the index <code>i</code> goes into negative territory. Not so with <code>%</code>."}],"tags":[],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520851073,"creation_date":1520164924,"answer_id":49095157,"question_id":90238,"body_markdown":"In Java it is the `%` operator:\r\n[15.17.3. Remainder Operator %](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.17.3)\r\n\r\nNote that there is also [`floorMod`](https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#floorMod-int-int-) in the `java.lang.Math` class which will give a different result from `%` for arguments with different signs:\r\n\r\n[`public static int floorMod​(int x, int y)`](https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#floorMod-int-int-)","title":"What&#39;s the syntax for mod in java","body":"<p>In Java it is the <code>%</code> operator:\n<a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.17.3\" rel=\"noreferrer\">15.17.3. Remainder Operator %</a></p>\n\n<p>Note that there is also <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#floorMod-int-int-\" rel=\"noreferrer\"><code>floorMod</code></a> in the <code>java.lang.Math</code> class which will give a different result from <code>%</code> for arguments with different signs:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#floorMod-int-int-\" rel=\"noreferrer\"><code>public static int floorMod​(int x, int y)</code></a></p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1578348828,"post_id":56878005,"comment_id":105402688,"body_markdown":"Well not exactly... The javadoc of `Math.floorMod()` has it: `The floor modulus is x - (floorDiv(x, y) * y), has the same sign as the divisor y, and is in the range of -abs(y) &lt; r &lt; +abs(y).` So it is not exactly the same as mathematical modulus. **But**, there is a way to get a positive result, also in the Javadoc of the same method: `If the signs of arguments are unknown and a positive modulus is needed it can be computed as (floorMod(x, y) + abs(y)) % abs(y).`","body":"Well not exactly... The javadoc of <code>Math.floorMod()</code> has it: <code>The floor modulus is x - (floorDiv(x, y) * y), has the same sign as the divisor y, and is in the range of -abs(y) &lt; r &lt; +abs(y).</code> So it is not exactly the same as mathematical modulus. <b>But</b>, there is a way to get a positive result, also in the Javadoc of the same method: <code>If the signs of arguments are unknown and a positive modulus is needed it can be computed as (floorMod(x, y) + abs(y)) % abs(y).</code>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1588718482,"post_id":56878005,"comment_id":109006329,"body_markdown":"@WesternGun That may be true, but **if** you know that the modulus is positive then the `floorMod` operation works as expected. There is also the `floorMod` for `long` values and otherwise there is `BigInteger` for larger values.","body":"@WesternGun That may be true, but <b>if</b> you know that the modulus is positive then the <code>floorMod</code> operation works as expected. There is also the <code>floorMod</code> for <code>long</code> values and otherwise there is <code>BigInteger</code> for larger values."}],"tags":[],"owner":{"account_id":7375104,"reputation":908,"user_id":5614029,"display_name":"Shant Dashjian"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562188401,"creation_date":1562188401,"answer_id":56878005,"question_id":90238,"body_markdown":"In `Java`, the **mod** operation can be performed as such:\r\n```\r\nMath.floorMod(a, b)\r\n```\r\n\r\n**Note:**\r\nThe **mod** operation is different from the **remainder** operation. In `Java`, the **remainder** operation can be performed as such:\r\n```\r\na % b\r\n```\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>In <code>Java</code>, the <strong>mod</strong> operation can be performed as such:</p>\n\n<pre><code>Math.floorMod(a, b)\n</code></pre>\n\n<p><strong>Note:</strong>\nThe <strong>mod</strong> operation is different from the <strong>remainder</strong> operation. In <code>Java</code>, the <strong>remainder</strong> operation can be performed as such:</p>\n\n<pre><code>a % b\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":3,"creation_date":1588718691,"post_id":57532749,"comment_id":109006402,"body_markdown":"Nice drawing. One other complexity: this doesn&#39;t take the 2^32 modularity of the `int` variable itself into account. The `floorMod` method does do that correctly (but you may need additional calculations if `n` is negative).","body":"Nice drawing. One other complexity: this doesn&#39;t take the 2^32 modularity of the <code>int</code> variable itself into account. The <code>floorMod</code> method does do that correctly (but you may need additional calculations if <code>n</code> is negative)."}],"tags":[],"owner":{"account_id":5454790,"reputation":447,"user_id":4338565,"display_name":"m4110c"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1566006884,"creation_date":1566006884,"answer_id":57532749,"question_id":90238,"body_markdown":"As others have pointed out, the `%` (remainder) operator is not the same as the mathematical\r\n`mod` modulus operation/function.\r\n\r\n&gt; ### `mod` vs `%`\r\n&gt; The `x mod n` function maps `x` to `n` in the range of `[0,n)`.   \r\n&gt; Whereas the `x % n` operator maps `x` to `n` in the range of `(-n,n)`.\r\n\r\nIn order to have a method to use the mathematical modulus operation and not \r\ncare about the sign in front of `x` one can use:\r\n\r\n    ((x % n) + n) % n\r\n    \r\nMaybe this picture helps understand it better (I had a hard time wrapping my head around this first)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bzlMt.png","title":"What&#39;s the syntax for mod in java","body":"<p>As others have pointed out, the <code>%</code> (remainder) operator is not the same as the mathematical\n<code>mod</code> modulus operation/function.</p>\n\n<blockquote>\n  <h3><code>mod</code> vs <code>%</code></h3>\n  \n  <p>The <code>x mod n</code> function maps <code>x</code> to <code>n</code> in the range of <code>[0,n)</code>.<br>\n  Whereas the <code>x % n</code> operator maps <code>x</code> to <code>n</code> in the range of <code>(-n,n)</code>.</p>\n</blockquote>\n\n<p>In order to have a method to use the mathematical modulus operation and not \ncare about the sign in front of <code>x</code> one can use:</p>\n\n<pre><code>((x % n) + n) % n\n</code></pre>\n\n<p>Maybe this picture helps understand it better (I had a hard time wrapping my head around this first)</p>\n\n<p><a href=\"https://i.stack.imgur.com/bzlMt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bzlMt.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9356,"reputation":2649,"user_id":17245,"display_name":"Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043390,"favorite_count":0,"down_vote_count":12,"up_vote_count":263,"accepted_answer_id":90247,"answer_count":17,"score":251,"last_activity_date":1671920056,"creation_date":1221715035,"question_id":90238,"body_markdown":"As an example in pseudocode:\r\n\r\n    if ((a mod 2) == 0)\r\n    {\r\n        isEven = true;\r\n    }\r\n    else\r\n    {\r\n        isEven = false;\r\n    }\r\n","title":"What&#39;s the syntax for mod in java","body":"<p>As an example in pseudocode:</p>\n\n<pre><code>if ((a mod 2) == 0)\n{\n    isEven = true;\n}\nelse\n{\n    isEven = false;\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":15290196,"reputation":213,"user_id":11031940,"display_name":"Clifford Cheefoon"},"score":0,"creation_date":1671908410,"post_id":74909729,"comment_id":132196257,"body_markdown":"Looks like nested for loops that traverse the entire 2D array and dynamically do these comparisons could be useful.","body":"Looks like nested for loops that traverse the entire 2D array and dynamically do these comparisons could be useful."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671909703,"post_id":74909729,"comment_id":132196448,"body_markdown":"In each case, you&#39;re returning if the condition is truthful.  So the else serves no purpose.","body":"In each case, you&#39;re returning if the condition is truthful.  So the else serves no purpose."},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1671913039,"post_id":74909729,"comment_id":132196895,"body_markdown":"If `N` is very large, then you could implement this with recursion. But it&#39;s fine as it is if N=3.","body":"If <code>N</code> is very large, then you could implement this with recursion. But it&#39;s fine as it is if N=3."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1671913495,"post_id":74909729,"comment_id":132196981,"body_markdown":"This is a Tic-Tac-Toe problem. Is it a homework assignment?\n\nYou can solve this problem with [14 bytes of Jelly code](https://codegolf.stackexchange.com/questions/144116/tic-tac-toe-x-or-o).\n\nBut I think it would be more readable to write three helper methods: isColumn, isRow, and is Diagonal.  Each one could use a loop. More code, but easier to read and easier to maintain.","body":"This is a Tic-Tac-Toe problem. Is it a homework assignment?  You can solve this problem with <a href=\"https://codegolf.stackexchange.com/questions/144116/tic-tac-toe-x-or-o\">14 bytes of Jelly code</a>.  But I think it would be more readable to write three helper methods: isColumn, isRow, and is Diagonal.  Each one could use a loop. More code, but easier to read and easier to maintain."}],"answers":[{"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1671911255,"post_id":74909890,"comment_id":132196668,"body_markdown":"Looks like this is a `int[][]`","body":"Looks like this is a <code>int[][]</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671911479,"post_id":74909890,"comment_id":132196689,"body_markdown":"Yes, I know.  It was a suggestion (see my first sentence).","body":"Yes, I know.  It was a suggestion (see my first sentence)."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671910184,"creation_date":1671910184,"answer_id":74909890,"question_id":74909729,"body_markdown":"Instead of checking for zeroes you could have a `boolean` array initialized to all `false`.  Then you could do something like the following.\r\n```\r\nif (token[0][0] &amp;&amp; token[0][1] &amp;&amp; token[0][2]) \r\n            return true;\r\nif (token[1][0] &amp;&amp; token[1][1] &amp;&amp; token[1][2])\r\n            return true;\r\nif (token[2][0] &amp;&amp; token[2][1] &amp;&amp; token[2][2])\r\n            return true;\r\n// ...\r\n// rest of similar conditions here\r\n// ...\r\n\r\nreturn false;\r\n```\r\nOf course, that depends on the overall design of your game.\r\n\r\n","title":"Can a if-else_if-else ladder can be written in other way in java?","body":"<p>Instead of checking for zeroes you could have a <code>boolean</code> array initialized to all <code>false</code>.  Then you could do something like the following.</p>\n<pre><code>if (token[0][0] &amp;&amp; token[0][1] &amp;&amp; token[0][2]) \n            return true;\nif (token[1][0] &amp;&amp; token[1][1] &amp;&amp; token[1][2])\n            return true;\nif (token[2][0] &amp;&amp; token[2][1] &amp;&amp; token[2][2])\n            return true;\n// ...\n// rest of similar conditions here\n// ...\n\nreturn false;\n</code></pre>\n<p>Of course, that depends on the overall design of your game.</p>\n"},{"comments":[{"owner":{"account_id":23723665,"reputation":1,"user_id":17743893,"display_name":"convert"},"score":0,"creation_date":1671919844,"post_id":74910061,"comment_id":132197883,"body_markdown":"The solution with || is defenetly the simplest and what I also would post as answer.","body":"The solution with || is defenetly the simplest and what I also would post as answer."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671916337,"creation_date":1671912435,"answer_id":74910061,"question_id":74909729,"body_markdown":"Looks like you have following check pattern:\r\n```\r\n000 ... ... 0.. .0. ..0 0.. ..0 \r\n... 000 ... 0.. .0. ..0 .0. .0. \r\n... ... 000 0.. .0. ..0 ..0 0..\r\n```\r\nSo, all you can do is to simplify your code removed duplication.\r\n\r\n```java\r\npublic static boolean check(int[][] token) {\r\n    return token[0][0] == 0 &amp;&amp; token[0][1] == 0 &amp;&amp; token[0][2] == 0\r\n            || token[1][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[1][2] == 0\r\n            || token[2][0] == 0 &amp;&amp; token[2][1] == 0 &amp;&amp; token[2][2] == 0\r\n            || token[0][0] == 0 &amp;&amp; token[1][0] == 0 &amp;&amp; token[2][0] == 0\r\n            || token[0][1] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][1] == 0\r\n            || token[0][2] == 0 &amp;&amp; token[1][2] == 0 &amp;&amp; token[2][2] == 0\r\n            || token[0][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][2] == 0\r\n            || token[0][2] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][0] == 0;\r\n}\r\n```\r\n\r\nOr, probably, make it a bit cleare with functionals:\r\n\r\n```java\r\npublic static boolean check(int[][] token) {\r\n    IntPredicate rowZero = row -&gt; token[row][0] == 0 &amp;&amp; token[row][1] == 0 &amp;&amp; token[row][2] == 0;\r\n    IntPredicate colZero = col -&gt; token[0][col] == 0 &amp;&amp; token[1][col] == 0 &amp;&amp; token[2][col] == 0;\r\n    IntPredicate diagonalZero = i -&gt; i == 0 ? token[0][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][2] == 0\r\n                                            : token[0][2] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][0] == 0;\r\n\r\n    return rowZero.test(0) || rowZero.test(1) || rowZero.test(2) ||\r\n            colZero.test(0) || colZero.test(1) || colZero.test(2) ||\r\n            diagonalZero.test(0) || diagonalZero.test(1);\r\n}\r\n```","title":"Can a if-else_if-else ladder can be written in other way in java?","body":"<p>Looks like you have following check pattern:</p>\n<pre><code>000 ... ... 0.. .0. ..0 0.. ..0 \n... 000 ... 0.. .0. ..0 .0. .0. \n... ... 000 0.. .0. ..0 ..0 0..\n</code></pre>\n<p>So, all you can do is to simplify your code removed duplication.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean check(int[][] token) {\n    return token[0][0] == 0 &amp;&amp; token[0][1] == 0 &amp;&amp; token[0][2] == 0\n            || token[1][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[1][2] == 0\n            || token[2][0] == 0 &amp;&amp; token[2][1] == 0 &amp;&amp; token[2][2] == 0\n            || token[0][0] == 0 &amp;&amp; token[1][0] == 0 &amp;&amp; token[2][0] == 0\n            || token[0][1] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][1] == 0\n            || token[0][2] == 0 &amp;&amp; token[1][2] == 0 &amp;&amp; token[2][2] == 0\n            || token[0][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][2] == 0\n            || token[0][2] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][0] == 0;\n}\n</code></pre>\n<p>Or, probably, make it a bit cleare with functionals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean check(int[][] token) {\n    IntPredicate rowZero = row -&gt; token[row][0] == 0 &amp;&amp; token[row][1] == 0 &amp;&amp; token[row][2] == 0;\n    IntPredicate colZero = col -&gt; token[0][col] == 0 &amp;&amp; token[1][col] == 0 &amp;&amp; token[2][col] == 0;\n    IntPredicate diagonalZero = i -&gt; i == 0 ? token[0][0] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][2] == 0\n                                            : token[0][2] == 0 &amp;&amp; token[1][1] == 0 &amp;&amp; token[2][0] == 0;\n\n    return rowZero.test(0) || rowZero.test(1) || rowZero.test(2) ||\n            colZero.test(0) || colZero.test(1) || colZero.test(2) ||\n            diagonalZero.test(0) || diagonalZero.test(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5389727,"reputation":191,"user_id":4292628,"display_name":"Tom Price"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671919969,"creation_date":1671919969,"answer_id":74910591,"question_id":74909729,"body_markdown":"Since all the values have to be zero for the test to be true, just add them together...\r\n\r\n    for(let i=0;i&lt;=2;i++){\r\n        if (token[i][0] + token[i][1] + token[i][2]==0 || token[0][i] + token[1][i] + token[2][i]==0)\r\n            return true; }\r\n    return (token[0][0] + token[1][1] + token[2][2]==0 || token[0][2] + token[1][1] + token[2][0]==0);","title":"Can a if-else_if-else ladder can be written in other way in java?","body":"<p>Since all the values have to be zero for the test to be true, just add them together...</p>\n<pre><code>for(let i=0;i&lt;=2;i++){\n    if (token[i][0] + token[i][1] + token[i][2]==0 || token[0][i] + token[1][i] + token[2][i]==0)\n        return true; }\nreturn (token[0][0] + token[1][1] + token[2][2]==0 || token[0][2] + token[1][1] + token[2][0]==0);\n</code></pre>\n"}],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74910591,"answer_count":3,"score":0,"last_activity_date":1671919969,"creation_date":1671908096,"question_id":74909729,"body_markdown":"I want to modify the format of the code lines since they don&#39;t seem nice and I want to reduce the amount of lines.\r\n\r\n\r\nPlease tell how to shorten or write in other format of the below code\r\n\r\n\r\n```\r\n        if (token[0][0] == token[0][1] &amp;&amp; token[0][1] == token[0][2] &amp;&amp; token[0][2] == 0)\r\n            return true;\r\n        else if (token[1][0] == token[1][1] &amp;&amp; token[1][1] == token[1][2] &amp;&amp; token[1][2] == 0)\r\n            return true;\r\n        else if (token[2][0] == token[2][1] &amp;&amp; token[2][1] == token[2][2] &amp;&amp; token[2][2] == 0)\r\n            return true;\r\n        else if (token[0][0] == token[1][0] &amp;&amp; token[1][0] == token[2][0] &amp;&amp; token[2][0] == 0)\r\n            return true;\r\n        else if (token[0][1] == token[1][1] &amp;&amp; token[1][1] == token[2][1] &amp;&amp; token[2][1] == 0)\r\n            return true;\r\n        else if (token[0][2] == token[1][2] &amp;&amp; token[1][2] == token[2][2] &amp;&amp; token[2][2] == 0)\r\n            return true;\r\n        else if (token[0][0] == token[1][1] &amp;&amp; token[1][1] == token[2][2] &amp;&amp; token[2][2] == 0)\r\n            return true;\r\n        else if (token[0][2] == token[1][1] &amp;&amp; token[1][1] == token[2][0] &amp;&amp; token[2][0] == 0)\r\n            return true;\r\n        else\r\n            return false;\r\n```\r\nIt would be better if it would be like the below\\\r\n\r\n```\r\n        if (board[0] == getUserRole) {\r\n            if (board[1] == getUserRole)\r\n                if (board[2] == getUserRole)\r\n                    return true;\r\n            if (board[3] == getUserRole)\r\n                if (board[6] == getUserRole)\r\n                    return true;\r\n            if (board[4] == getUserRole)\r\n                if (board[8] == getUserRole)\r\n                    return true;\r\n        }\r\n```\r\nIt would be better if it can be written in one line mode, please try to code it within 5 lines (if possible.)\r\nP.S.-&gt; Only diagonals or the straights like in tic tac toe.","title":"Can a if-else_if-else ladder can be written in other way in java?","body":"<p>I want to modify the format of the code lines since they don't seem nice and I want to reduce the amount of lines.</p>\n<p>Please tell how to shorten or write in other format of the below code</p>\n<pre><code>        if (token[0][0] == token[0][1] &amp;&amp; token[0][1] == token[0][2] &amp;&amp; token[0][2] == 0)\n            return true;\n        else if (token[1][0] == token[1][1] &amp;&amp; token[1][1] == token[1][2] &amp;&amp; token[1][2] == 0)\n            return true;\n        else if (token[2][0] == token[2][1] &amp;&amp; token[2][1] == token[2][2] &amp;&amp; token[2][2] == 0)\n            return true;\n        else if (token[0][0] == token[1][0] &amp;&amp; token[1][0] == token[2][0] &amp;&amp; token[2][0] == 0)\n            return true;\n        else if (token[0][1] == token[1][1] &amp;&amp; token[1][1] == token[2][1] &amp;&amp; token[2][1] == 0)\n            return true;\n        else if (token[0][2] == token[1][2] &amp;&amp; token[1][2] == token[2][2] &amp;&amp; token[2][2] == 0)\n            return true;\n        else if (token[0][0] == token[1][1] &amp;&amp; token[1][1] == token[2][2] &amp;&amp; token[2][2] == 0)\n            return true;\n        else if (token[0][2] == token[1][1] &amp;&amp; token[1][1] == token[2][0] &amp;&amp; token[2][0] == 0)\n            return true;\n        else\n            return false;\n</code></pre>\n<p>It would be better if it would be like the below\\</p>\n<pre><code>        if (board[0] == getUserRole) {\n            if (board[1] == getUserRole)\n                if (board[2] == getUserRole)\n                    return true;\n            if (board[3] == getUserRole)\n                if (board[6] == getUserRole)\n                    return true;\n            if (board[4] == getUserRole)\n                if (board[8] == getUserRole)\n                    return true;\n        }\n</code></pre>\n<p>It would be better if it can be written in one line mode, please try to code it within 5 lines (if possible.)\nP.S.-&gt; Only diagonals or the straights like in tic tac toe.</p>\n"},{"tags":["java","soap","soapexception"],"comments":[{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1530261803,"post_id":51097593,"comment_id":89182924,"body_markdown":"Why do not you use xsd for create soap message?","body":"Why do not you use xsd for create soap message?"},{"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"score":0,"creation_date":1530273099,"post_id":51097593,"comment_id":89189393,"body_markdown":"Hello Zeppee, du to https://stackoverflow.com/questions/51080615/url-with-https-protocol-in-soap-webservice-java-1-6","body":"Hello Zeppee, du to <a href=\"https://stackoverflow.com/questions/51080615/url-with-https-protocol-in-soap-webservice-java-1-6\" title=\"url with https protocol in soap webservice java 1 6\">stackoverflow.com/questions/51080615/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1075172,"reputation":5529,"user_id":1073487,"display_name":"Red Boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530359781,"creation_date":1530359781,"answer_id":51114677,"question_id":51097593,"body_markdown":"You have two hardles,\r\n\r\n 1. You&#39;re not setting accurate HTTP Header `Content-Type=&quot;text/xml&quot;` that server is expecting.\r\n 2. Your XML is incorrect. It should be like below, no unnecessary newlines `\\r\\n` etc and namespace should start with `double quote` rather then single quote. \r\n\r\n    `&lt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;`\r\n\t`&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;`\r\n`&lt;S:Body&gt;&lt;ns2:getAccessibleDBs xmlns:ns2=&quot;http://webservice.namespace.com/&quot;&gt;`\r\n`&lt;/ns2:getAccessibleDBs&gt;&lt;/S:Body&gt;&lt;/S:Envelope&gt;`\r\n\r\n\r\nIt should work if you do above two changes.","title":"Soap message envelope formatting","body":"<p>You have two hardles,</p>\n\n<ol>\n<li>You're not setting accurate HTTP Header <code>Content-Type=\"text/xml\"</code> that server is expecting.</li>\n<li><p>Your XML is incorrect. It should be like below, no unnecessary newlines <code>\\r\\n</code> etc and namespace should start with <code>double quote</code> rather then single quote. </p>\n\n<p><code>&lt;xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code>\n<code>&lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;</code>\n<code>&lt;S:Body&gt;&lt;ns2:getAccessibleDBs xmlns:ns2=\"http://webservice.namespace.com/\"&gt;</code>\n<code>&lt;/ns2:getAccessibleDBs&gt;&lt;/S:Body&gt;&lt;/S:Envelope&gt;</code></p></li>\n</ol>\n\n<p>It should work if you do above two changes.</p>\n"}],"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671919401,"creation_date":1530261490,"question_id":51097593,"body_markdown":"I&#39;m using an Java HttpsURLConnection to send an Soap envelope message. See below my Soap envelope payload:\r\n\r\n    OutputStream out = con.getOutputStream();\r\n          Writer wout = new OutputStreamWriter(out);\r\n          \r\n          wout.write(&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\\r\\n&quot;);  \r\n          wout.write(&quot;&lt;S:Envelope xmlns:S= &quot;);\r\n          wout.write(\r\n            &quot;&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\\r\\n&quot;\r\n          );\r\n          wout.write(&quot;&lt;S:Body&gt;&lt;ns2:getAccessibleDBs xmlns:ns2=&quot;);\r\n          wout.write(\r\n            &quot;&#39;http://webservice.namespace.com/&#39;&gt;\\r\\n&quot;); \r\n          wout.write(&quot;  &lt;/ns2:getAccessibleDBs&gt;\\r\\n&quot;);\r\n           wout.write(&quot;  &lt;/S:Body&gt;\\r\\n&quot;); \r\n          wout.write(&quot;&lt;/S:Envelope&gt;\\r\\n&quot;); \r\n          \r\n          wout.flush();\r\n          wout.close();\r\n\r\nHowever the server message is as follows: \r\n\r\n&gt; com.sun.xml.ws.transport.http.HttpAdapter                    E Unsupported Content-Type: application/x-www-form-urlencoded Supported ones are: [text/xml]\r\ncom.sun.xml.ws.server.UnsupportedMediaException: Unsupported Content-Type: application/x-www-form-urlencoded Supported ones are: [text/xml]\r\n\r\n\r\nHow can I format the message payload in order to avoid this error?\r\n","title":"Soap message envelope formatting","body":"<p>I'm using an Java HttpsURLConnection to send an Soap envelope message. See below my Soap envelope payload:</p>\n<pre><code>OutputStream out = con.getOutputStream();\n      Writer wout = new OutputStreamWriter(out);\n      \n      wout.write(&quot;&lt;?xml version='1.0' encoding='UTF-8'?&gt;\\r\\n&quot;);  \n      wout.write(&quot;&lt;S:Envelope xmlns:S= &quot;);\n      wout.write(\n        &quot;'http://schemas.xmlsoap.org/soap/envelope/'&gt;\\r\\n&quot;\n      );\n      wout.write(&quot;&lt;S:Body&gt;&lt;ns2:getAccessibleDBs xmlns:ns2=&quot;);\n      wout.write(\n        &quot;'http://webservice.namespace.com/'&gt;\\r\\n&quot;); \n      wout.write(&quot;  &lt;/ns2:getAccessibleDBs&gt;\\r\\n&quot;);\n       wout.write(&quot;  &lt;/S:Body&gt;\\r\\n&quot;); \n      wout.write(&quot;&lt;/S:Envelope&gt;\\r\\n&quot;); \n      \n      wout.flush();\n      wout.close();\n</code></pre>\n<p>However the server message is as follows:</p>\n<blockquote>\n<p>com.sun.xml.ws.transport.http.HttpAdapter                    E Unsupported Content-Type: application/x-www-form-urlencoded Supported ones are: [text/xml]\ncom.sun.xml.ws.server.UnsupportedMediaException: Unsupported Content-Type: application/x-www-form-urlencoded Supported ones are: [text/xml]</p>\n</blockquote>\n<p>How can I format the message payload in order to avoid this error?</p>\n"},{"tags":["java","spring-security","jwt","openid-connect"],"answers":[{"comments":[{"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"score":0,"creation_date":1671365645,"post_id":74831876,"comment_id":132079926,"body_markdown":"I  don&#39;t intend to delete the claims from db on token expiration, just update them (ex roles) and last login time next time when we will have the token from the user.","body":"I  don&#39;t intend to delete the claims from db on token expiration, just update them (ex roles) and last login time next time when we will have the token from the user."},{"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"score":0,"creation_date":1672244154,"post_id":74831876,"comment_id":132250533,"body_markdown":"can you please heck my question https://stackoverflow.com/questions/74942522/validate-jwt-token-with-com-nimbusds-jose-and-a-public-certificate-url-from-azur . I saw you have a lot of experience with Spring security. thank you :-)","body":"can you please heck my question <a href=\"https://stackoverflow.com/questions/74942522/validate-jwt-token-with-com-nimbusds-jose-and-a-public-certificate-url-from-azur\" title=\"validate jwt token with com nimbusds jose and a public certificate url from azur\">stackoverflow.com/questions/74942522/&hellip;</a> . I saw you have a lot of experience with Spring security. thank you :-)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671253191,"creation_date":1671252684,"answer_id":74831876,"question_id":74827904,"body_markdown":"I can not see any advantage in saving claims in a DB:\r\n- saving claims in DB is costly. Retrieving it from the DB is costly too (less, but still) when the claims should be present in the JWT (or retrieved when introspection an opaque token) attached to each and every request. \r\n- access-token has a (short) expiry time. Do you intend to implement something to delete the claims from DB at expiration?\r\n\r\nYou **should** rely on the data in the token (or attached to it in case of introspection). This data is emitted, signed and controlled by the authorization-server which should be the only reference for identities. ","title":"What will be the advantage of storing information provided by claims from OIDC token in a database","body":"<p>I can not see any advantage in saving claims in a DB:</p>\n<ul>\n<li>saving claims in DB is costly. Retrieving it from the DB is costly too (less, but still) when the claims should be present in the JWT (or retrieved when introspection an opaque token) attached to each and every request.</li>\n<li>access-token has a (short) expiry time. Do you intend to implement something to delete the claims from DB at expiration?</li>\n</ul>\n<p>You <strong>should</strong> rely on the data in the token (or attached to it in case of introspection). This data is emitted, signed and controlled by the authorization-server which should be the only reference for identities.</p>\n"}],"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671919333,"creation_date":1671211920,"question_id":74827904,"body_markdown":"I&#39;m using a OIDC token in my Spring Java application that contains all the claims that I need in order to identify the user and the roles for the application.\r\n\r\nI will store later all this data in the format required by the UserDetails class used by Spring Security context. What will be the advantage of persisting the data in a user table and a roles tables in order to be retrieved latter? Could I relay only on the claims from the token?\r\n","title":"What will be the advantage of storing information provided by claims from OIDC token in a database","body":"<p>I'm using a OIDC token in my Spring Java application that contains all the claims that I need in order to identify the user and the roles for the application.</p>\n<p>I will store later all this data in the format required by the UserDetails class used by Spring Security context. What will be the advantage of persisting the data in a user table and a roles tables in order to be retrieved latter? Could I relay only on the claims from the token?</p>\n"},{"tags":["java","android","touch","interpolation","curve-fitting"],"comments":[{"owner":{"account_id":73298,"reputation":33044,"user_id":211160,"accept_rate":92,"display_name":"HostileFork says dont trust SE"},"score":0,"creation_date":1322423236,"post_id":8287949,"comment_id":10208088,"body_markdown":"If straight lines turn out to be &quot;not good enough&quot; for your purpose, you can look into curve-fitting: http://stackoverflow.com/questions/878200/java-curve-fitting-library","body":"If straight lines turn out to be &quot;not good enough&quot; for your purpose, you can look into curve-fitting: <a href=\"http://stackoverflow.com/questions/878200/java-curve-fitting-library\" title=\"java curve fitting library\">stackoverflow.com/questions/878200/java-curve-fitting-librar&zwnj;&#8203;y</a>"},{"owner":{"account_id":304762,"reputation":11899,"user_id":614460,"accept_rate":74,"display_name":"Somk"},"score":0,"creation_date":1322423571,"post_id":8287949,"comment_id":10208163,"body_markdown":"Thank you that sounds useful. I hadn&#39;t thought about using splines. Mainly because I would assume it uses much more resources. Also is that available for android","body":"Thank you that sounds useful. I hadn&#39;t thought about using splines. Mainly because I would assume it uses much more resources. Also is that available for android"},{"owner":{"account_id":73298,"reputation":33044,"user_id":211160,"accept_rate":92,"display_name":"HostileFork says dont trust SE"},"score":2,"creation_date":1322423803,"post_id":8287949,"comment_id":10208209,"body_markdown":"You&#39;ve got `Path.quadTo`, `Path.cubicTo`... http://stackoverflow.com/questions/3811529/draw-a-perfect-curve-connecting-three-points","body":"You&#39;ve got <code>Path.quadTo</code>, <code>Path.cubicTo</code>... <a href=\"http://stackoverflow.com/questions/3811529/draw-a-perfect-curve-connecting-three-points\" title=\"draw a perfect curve connecting three points\">stackoverflow.com/questions/3811529/&hellip;</a>"},{"owner":{"account_id":1802659,"reputation":4947,"user_id":1640578,"display_name":"Yogendra"},"score":0,"creation_date":1422802073,"post_id":8287949,"comment_id":44884653,"body_markdown":"http://stackoverflow.com/questions/11328848/drawing-a-circle-where-the-user-has-touched-on-canvas/28263820#28263820","body":"<a href=\"http://stackoverflow.com/questions/11328848/drawing-a-circle-where-the-user-has-touched-on-canvas/28263820#28263820\" title=\"drawing a circle where the user has touched on canvas\">stackoverflow.com/questions/11328848/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":137983,"reputation":28892,"user_id":342605,"display_name":"adamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322419028,"creation_date":1322419028,"answer_id":8287998,"question_id":8287949,"body_markdown":"You may have a lot more information available in your `MotionEvent` than you realize that can provide some data inbetween.\r\n\r\nThe example in your link ignores the historical touch points included within the event. See the &#39;Batching&#39; section near the top of `MotionEvent`&#39;s documentation: http://developer.android.com/reference/android/view/MotionEvent.html Beyond that connecting the points with lines may not be a bad idea.","title":"Android How to draw a smooth line following your finger","body":"<p>You may have a lot more information available in your <code>MotionEvent</code> than you realize that can provide some data inbetween.</p>\n\n<p>The example in your link ignores the historical touch points included within the event. See the 'Batching' section near the top of <code>MotionEvent</code>'s documentation: <a href=\"http://developer.android.com/reference/android/view/MotionEvent.html\" rel=\"nofollow\">http://developer.android.com/reference/android/view/MotionEvent.html</a> Beyond that connecting the points with lines may not be a bad idea.</p>\n"},{"comments":[{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1328044676,"post_id":8288264,"comment_id":11410576,"body_markdown":"didn&#39;t know about this... curious to see how much historical data is in the event.","body":"didn&#39;t know about this... curious to see how much historical data is in the event."}],"tags":[],"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1322421279,"creation_date":1322421279,"answer_id":8288264,"question_id":8287949,"body_markdown":"I had very similar problem. When you&#39;re calling onTouch method, you should also use method (inside onTouch(MotionEvent event))\r\n\r\n    event.getHistorySize();\r\n\r\nand \r\n   something like that\r\n\r\n    int histPointsAmount = event.getHistorySize(); \r\n    for(int i = 0; i &lt; histPointsAmount; i++){\r\n        // get points from event.getHistoricalX(i);\r\n        // event.getHistoricalY(i); and use them for your purpouse\r\n    }","title":"Android How to draw a smooth line following your finger","body":"<p>I had very similar problem. When you're calling onTouch method, you should also use method (inside onTouch(MotionEvent event))</p>\n\n<pre><code>event.getHistorySize();\n</code></pre>\n\n<p>and \n   something like that</p>\n\n<pre><code>int histPointsAmount = event.getHistorySize(); \nfor(int i = 0; i &lt; histPointsAmount; i++){\n    // get points from event.getHistoricalX(i);\n    // event.getHistoricalY(i); and use them for your purpouse\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":330208,"reputation":11005,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":11,"creation_date":1340051491,"post_id":8289516,"comment_id":14521934,"body_markdown":"This is an interesting article on the subject.  Seems like android batches the touch events:  http://corner.squareup.com/2010/07/smooth-signatures.html","body":"This is an interesting article on the subject.  Seems like android batches the touch events:  <a href=\"http://corner.squareup.com/2010/07/smooth-signatures.html\" rel=\"nofollow noreferrer\">corner.squareup.com/2010/07/smooth-signatures.html</a>"},{"owner":{"account_id":383457,"reputation":1076,"user_id":739318,"display_name":"Eric Oberm&#252;hlner"},"score":4,"creation_date":1352100197,"post_id":8289516,"comment_id":18017626,"body_markdown":"The first loop cubicTo() example seems to be wrong. It should loop over all points, not only the last one.","body":"The first loop cubicTo() example seems to be wrong. It should loop over all points, not only the last one."},{"owner":{"account_id":330208,"reputation":11005,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":0,"creation_date":1352146102,"post_id":8289516,"comment_id":18037501,"body_markdown":"Eric Oberm&#252;hlner: I am looping over all points in the for loop around the cubicTo() call.","body":"Eric Oberm&#252;hlner: I am looping over all points in the for loop around the cubicTo() call."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":4,"creation_date":1364660153,"post_id":8289516,"comment_id":22330517,"body_markdown":"@johncarl I agree with Eric. I think the curves code is wrong - the first loop only smooths out the last few points. I propose the first loop run from 0, not from &quot;points.size() - 2&quot;. (this is based on the fact that I actually copied this code into my graph app and tested it)","body":"@johncarl I agree with Eric. I think the curves code is wrong - the first loop only smooths out the last few points. I propose the first loop run from 0, not from &quot;points.size() - 2&quot;. (this is based on the fact that I actually copied this code into my graph app and tested it)"},{"owner":{"account_id":330208,"reputation":11005,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":0,"creation_date":1364664604,"post_id":8289516,"comment_id":22331838,"body_markdown":"hmmm, I still don&#39;t see the issue.  I have the code on github if you would like to submit a pull request: https://github.com/johncarl81/androiddraw","body":"hmmm, I still don&#39;t see the issue.  I have the code on github if you would like to submit a pull request: <a href=\"https://github.com/johncarl81/androiddraw\" rel=\"nofollow noreferrer\">github.com/johncarl81/androiddraw</a>"},{"owner":{"account_id":1487463,"reputation":6786,"user_id":1395377,"accept_rate":62,"display_name":"kyogs"},"score":0,"creation_date":1368083916,"post_id":8289516,"comment_id":23607377,"body_markdown":"@johncarl i am trying to draw smooth line as here http://stackoverflow.com/questions/16455896/android-signature-using-bezier-but-not-draw-any-line but its not working..Any idea?","body":"@johncarl i am trying to draw smooth line as here <a href=\"http://stackoverflow.com/questions/16455896/android-signature-using-bezier-but-not-draw-any-line\" title=\"android signature using bezier but not draw any line\">stackoverflow.com/questions/16455896/&hellip;</a> but its not working..Any idea?"},{"owner":{"account_id":2704897,"reputation":1571,"user_id":2334694,"accept_rate":91,"display_name":"jigar"},"score":0,"creation_date":1376367596,"post_id":8289516,"comment_id":26674289,"body_markdown":"I have used this code in my class and its working fine,But thing is that when one line drawn then on drawing second class it starts from end point of 1st line..means drawing is connected..so please help me for it a free drwaing practice..!","body":"I have used this code in my class and its working fine,But thing is that when one line drawn then on drawing second class it starts from end point of 1st line..means drawing is connected..so please help me for it a free drwaing practice..!"},{"owner":{"account_id":425479,"reputation":4531,"user_id":806106,"accept_rate":77,"display_name":"AndroidDev"},"score":0,"creation_date":1389088489,"post_id":8289516,"comment_id":31500277,"body_markdown":"@johncarl can u please look at my question, and see if there any solution for that","body":"@johncarl can u please look at my question, and see if there any solution for that"},{"owner":{"account_id":67732,"reputation":559,"user_id":198034,"accept_rate":65,"display_name":"QuinnBaetz"},"score":0,"creation_date":1393893794,"post_id":8289516,"comment_id":33631163,"body_markdown":"This is a great answer, but it should be\n\nfor(int i = 0 ; i &lt; points.size(); i++){\n\nwhen calculating cubic splines.","body":"This is a great answer, but it should be  for(int i = 0 ; i &lt; points.size(); i++){  when calculating cubic splines."},{"owner":{"account_id":2666377,"reputation":3513,"user_id":2304737,"accept_rate":50,"display_name":"mr5"},"score":7,"creation_date":1402293905,"post_id":8289516,"comment_id":37201526,"body_markdown":"Android has already a built-in functionality the same as this one with much more feautre, w/c you can refer [here](http://android-coding.blogspot.com/2014/05/composepatheffect-example.html). Just use the first example of johncarl and you can achieve the smooth edge lines.","body":"Android has already a built-in functionality the same as this one with much more feautre, w/c you can refer <a href=\"http://android-coding.blogspot.com/2014/05/composepatheffect-example.html\" rel=\"nofollow noreferrer\">here</a>. Just use the first example of johncarl and you can achieve the smooth edge lines."},{"owner":{"account_id":6670675,"reputation":701,"user_id":5146875,"accept_rate":34,"display_name":"Coas Mckey"},"score":0,"creation_date":1444810313,"post_id":8289516,"comment_id":54053141,"body_markdown":"can you tell me how to remove and clear out all the canvas? I mean what ever I have drawn , how can I clear out all the drawn things from it ?","body":"can you tell me how to remove and clear out all the canvas? I mean what ever I have drawn , how can I clear out all the drawn things from it ?"}],"tags":[],"owner":{"account_id":330208,"reputation":11005,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"comment_count":11,"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1671918350,"creation_date":1322431864,"answer_id":8289516,"question_id":8287949,"body_markdown":"An easy solution, as you mentioned, is to simply connect the points with a straight line.  Here&#39;s the code to do so:\r\n\r\n    public void onDraw(Canvas canvas) {\r\n        Path path = new Path();\r\n        boolean first = true;\r\n        for(Point point : points){\r\n            if(first){\r\n                first = false;\r\n                path.moveTo(point.x, point.y);\r\n            }\r\n            else{\r\n                path.lineTo(point.x, point.y);\r\n            }\r\n        }\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\nmake sure you change your paint from fill to stroke:\r\n\r\n    paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n    paint.setStyle(Paint.Style.STROKE);\r\n    paint.setStrokeWidth(2);\r\n    paint.setColor(Color.WHITE);\r\n\r\nAnother option is to connect the points with iterpolation using the quadTo method:\r\n\r\n    public void onDraw(Canvas canvas) {\r\n        Path path = new Path();\r\n        boolean first = true;\r\n        for(int i = 0; i &lt; points.size(); i += 2){\r\n            Point point = points.get(i);\r\n            if(first){\r\n                first = false;\r\n                path.moveTo(point.x, point.y);\r\n            }\r\n\r\n            else if(i &lt; points.size() - 1){\r\n                Point next = points.get(i + 1);\r\n                path.quadTo(point.x, point.y, next.x, next.y);\r\n            }\r\n            else{\r\n                path.lineTo(point.x, point.y);\r\n            }\r\n        }\r\n\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\nThis still results in some sharp edges.\r\n\r\nIf you&#39;re really ambitious, you can start to calculate the cubic splines as follows:\r\n\r\n    public void onDraw(Canvas canvas) {\r\n        Path path = new Path();\r\n\r\n        if(points.size() &gt; 1){\r\n            for(int i = points.size() - 2; i &lt; points.size(); i++){\r\n                if(i &gt;= 0){\r\n                    Point point = points.get(i);\r\n\r\n                    if(i == 0){\r\n                        Point next = points.get(i + 1);\r\n                        point.dx = ((next.x - point.x) / 3);\r\n                        point.dy = ((next.y - point.y) / 3);\r\n                    }\r\n                    else if(i == points.size() - 1){\r\n                        Point prev = points.get(i - 1);\r\n                        point.dx = ((point.x - prev.x) / 3);\r\n                        point.dy = ((point.y - prev.y) / 3);\r\n                    }\r\n                    else{\r\n                        Point next = points.get(i + 1);\r\n                        Point prev = points.get(i - 1);\r\n                        point.dx = ((next.x - prev.x) / 3);\r\n                        point.dy = ((next.y - prev.y) / 3);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        boolean first = true;\r\n        for(int i = 0; i &lt; points.size(); i++){\r\n            Point point = points.get(i);\r\n            if(first){\r\n                first = false;\r\n                path.moveTo(point.x, point.y);\r\n            }\r\n            else{\r\n                Point prev = points.get(i - 1);\r\n                path.cubicTo(prev.x + prev.dx, prev.y + prev.dy, point.x - point.dx, point.y - point.dy, point.x, point.y);\r\n            }\r\n        }\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\nAlso, I found that you needed to change the following to avoid duplicate motion events:\r\n\r\n    public boolean onTouch(View view, MotionEvent event) {\r\n        if(event.getAction() != MotionEvent.ACTION_UP){\r\n            Point point = new Point();\r\n            point.x = event.getX();\r\n            point.y = event.getY();\r\n            points.add(point);\r\n            invalidate();\r\n            Log.d(TAG, &quot;point: &quot; + point);\r\n            return true;\r\n        }\r\n        return super.onTouchEvent(event);\r\n    }\r\n\r\nand add the dx &amp; dy values to the Point class:\r\n\r\n    class Point {\r\n        float x, y;\r\n        float dx, dy;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return x + &quot;, &quot; + y;\r\n        }\r\n    }\r\n\r\nThis produces smooth lines, but sometimes has to connect the dots using a loop.\r\nAlso, for long drawing sessions, this becomes computationally intensive to calculate.\r\n\r\n**Edit**\r\n\r\nI threw together a quick project demonstrating these different techniques, including Square&#39;s suggessted signature implementation.  Enjoy: https://github.com/johncarl81/androiddraw","title":"Android How to draw a smooth line following your finger","body":"<p>An easy solution, as you mentioned, is to simply connect the points with a straight line.  Here's the code to do so:</p>\n<pre><code>public void onDraw(Canvas canvas) {\n    Path path = new Path();\n    boolean first = true;\n    for(Point point : points){\n        if(first){\n            first = false;\n            path.moveTo(point.x, point.y);\n        }\n        else{\n            path.lineTo(point.x, point.y);\n        }\n    }\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n<p>make sure you change your paint from fill to stroke:</p>\n<pre><code>paint = new Paint(Paint.ANTI_ALIAS_FLAG);\npaint.setStyle(Paint.Style.STROKE);\npaint.setStrokeWidth(2);\npaint.setColor(Color.WHITE);\n</code></pre>\n<p>Another option is to connect the points with iterpolation using the quadTo method:</p>\n<pre><code>public void onDraw(Canvas canvas) {\n    Path path = new Path();\n    boolean first = true;\n    for(int i = 0; i &lt; points.size(); i += 2){\n        Point point = points.get(i);\n        if(first){\n            first = false;\n            path.moveTo(point.x, point.y);\n        }\n\n        else if(i &lt; points.size() - 1){\n            Point next = points.get(i + 1);\n            path.quadTo(point.x, point.y, next.x, next.y);\n        }\n        else{\n            path.lineTo(point.x, point.y);\n        }\n    }\n\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n<p>This still results in some sharp edges.</p>\n<p>If you're really ambitious, you can start to calculate the cubic splines as follows:</p>\n<pre><code>public void onDraw(Canvas canvas) {\n    Path path = new Path();\n\n    if(points.size() &gt; 1){\n        for(int i = points.size() - 2; i &lt; points.size(); i++){\n            if(i &gt;= 0){\n                Point point = points.get(i);\n\n                if(i == 0){\n                    Point next = points.get(i + 1);\n                    point.dx = ((next.x - point.x) / 3);\n                    point.dy = ((next.y - point.y) / 3);\n                }\n                else if(i == points.size() - 1){\n                    Point prev = points.get(i - 1);\n                    point.dx = ((point.x - prev.x) / 3);\n                    point.dy = ((point.y - prev.y) / 3);\n                }\n                else{\n                    Point next = points.get(i + 1);\n                    Point prev = points.get(i - 1);\n                    point.dx = ((next.x - prev.x) / 3);\n                    point.dy = ((next.y - prev.y) / 3);\n                }\n            }\n        }\n    }\n\n    boolean first = true;\n    for(int i = 0; i &lt; points.size(); i++){\n        Point point = points.get(i);\n        if(first){\n            first = false;\n            path.moveTo(point.x, point.y);\n        }\n        else{\n            Point prev = points.get(i - 1);\n            path.cubicTo(prev.x + prev.dx, prev.y + prev.dy, point.x - point.dx, point.y - point.dy, point.x, point.y);\n        }\n    }\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n<p>Also, I found that you needed to change the following to avoid duplicate motion events:</p>\n<pre><code>public boolean onTouch(View view, MotionEvent event) {\n    if(event.getAction() != MotionEvent.ACTION_UP){\n        Point point = new Point();\n        point.x = event.getX();\n        point.y = event.getY();\n        points.add(point);\n        invalidate();\n        Log.d(TAG, &quot;point: &quot; + point);\n        return true;\n    }\n    return super.onTouchEvent(event);\n}\n</code></pre>\n<p>and add the dx &amp; dy values to the Point class:</p>\n<pre><code>class Point {\n    float x, y;\n    float dx, dy;\n\n    @Override\n    public String toString() {\n        return x + &quot;, &quot; + y;\n    }\n}\n</code></pre>\n<p>This produces smooth lines, but sometimes has to connect the dots using a loop.\nAlso, for long drawing sessions, this becomes computationally intensive to calculate.</p>\n<p><strong>Edit</strong></p>\n<p>I threw together a quick project demonstrating these different techniques, including Square's suggessted signature implementation.  Enjoy: <a href=\"https://github.com/johncarl81/androiddraw\" rel=\"nofollow noreferrer\">https://github.com/johncarl81/androiddraw</a></p>\n"},{"comments":[{"owner":{"account_id":201517,"reputation":4011,"user_id":448005,"accept_rate":73,"display_name":"Arun Abraham"},"score":1,"creation_date":1342520575,"post_id":9647289,"comment_id":15225804,"body_markdown":"Hey... Do try to clear the List somewhere, else it will slow down gradually as you keep drawing more and more at once..","body":"Hey... Do try to clear the List somewhere, else it will slow down gradually as you keep drawing more and more at once.."},{"owner":{"account_id":408580,"reputation":7728,"user_id":779341,"accept_rate":86,"display_name":"caiocpricci2"},"score":0,"creation_date":1342549025,"post_id":9647289,"comment_id":15239179,"body_markdown":"That was not a problem for application that do not run this for long (such as the one I did), for my implementation this never runs for longer than 1 minute or so. But thanks for pointing that problem!","body":"That was not a problem for application that do not run this for long (such as the one I did), for my implementation this never runs for longer than 1 minute or so. But thanks for pointing that problem!"},{"owner":{"account_id":1109086,"reputation":2201,"user_id":1099884,"accept_rate":60,"display_name":"Yeung"},"score":1,"creation_date":1357699168,"post_id":9647289,"comment_id":19736422,"body_markdown":"Hey. With storing the paths for drawing, it is easy to implement the &quot;undo&quot; or &quot;redo&quot; functions. But how can we implements the erase function if we do not store the drawing into bitmap?","body":"Hey. With storing the paths for drawing, it is easy to implement the &quot;undo&quot; or &quot;redo&quot; functions. But how can we implements the erase function if we do not store the drawing into bitmap?"},{"owner":{"account_id":408580,"reputation":7728,"user_id":779341,"accept_rate":86,"display_name":"caiocpricci2"},"score":0,"creation_date":1357725844,"post_id":9647289,"comment_id":19744938,"body_markdown":"I don&#39;t think you can. If you don&#39;t store it how can you find out which one to delete?","body":"I don&#39;t think you can. If you don&#39;t store it how can you find out which one to delete?"},{"owner":{"account_id":1165812,"reputation":2692,"user_id":1144176,"display_name":"Jake Stoeffler"},"score":0,"creation_date":1370067069,"post_id":9647289,"comment_id":24334731,"body_markdown":"Just curious, but what&#39;s `mCanvas` used for?  You mentioned &quot;commit the path to our offscreen&quot; in `touch_up()` but it doesn&#39;t look like `mCanvas` is ever used anywhere else.","body":"Just curious, but what&#39;s <code>mCanvas</code> used for?  You mentioned &quot;commit the path to our offscreen&quot; in <code>touch_up()</code> but it doesn&#39;t look like <code>mCanvas</code> is ever used anywhere else."},{"owner":{"account_id":2225315,"reputation":2620,"user_id":1964243,"accept_rate":73,"display_name":"Leonardo Sapuy"},"score":0,"creation_date":1370966157,"post_id":9647289,"comment_id":24648064,"body_markdown":"Could you helpme with my [question](http://stackoverflow.com/questions/16989718/load-bitmap-into-canvas-and-draw-over-it)??","body":"Could you helpme with my <a href=\"http://stackoverflow.com/questions/16989718/load-bitmap-into-canvas-and-draw-over-it\">question</a>??"},{"owner":{"account_id":6670675,"reputation":701,"user_id":5146875,"accept_rate":34,"display_name":"Coas Mckey"},"score":0,"creation_date":1444810290,"post_id":9647289,"comment_id":54053125,"body_markdown":"too good , but can you tell me how to remove and clear out all the canvas? I mean what ever I have drawn , how can I clear out all the drawn things from it ?","body":"too good , but can you tell me how to remove and clear out all the canvas? I mean what ever I have drawn , how can I clear out all the drawn things from it ?"},{"owner":{"account_id":6777868,"reputation":6089,"user_id":5219143,"display_name":"Abir Hasan Shawon"},"score":0,"creation_date":1485257926,"post_id":9647289,"comment_id":70841340,"body_markdown":"great answer. It helped a lot :D","body":"great answer. It helped a lot :D"}],"tags":[],"owner":{"account_id":408580,"reputation":7728,"user_id":779341,"accept_rate":86,"display_name":"caiocpricci2"},"comment_count":8,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1513122021,"creation_date":1331390483,"answer_id":9647289,"question_id":8287949,"body_markdown":"This might be not important anymore for you but I struggled a lot to solve it and I want to share, might be useful to someone else.\r\n\r\nThe tutorial with the solution @johncarl offered are great to drawing but they offered a limitation for my purposes. If you take your finger out of the screen and put it back, this solution will draw a line between the last click and your new click, making the whole drawing connected always. So I was trying to find a solution for that, and finally I got it!( sorry if sounds obvious, I am a beginner with graphics)\r\n\r\n    public class MainActivity extends Activity {\r\n\t    DrawView drawView;\r\n\r\n\t    @Override\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t\t    super.onCreate(savedInstanceState);\r\n    \t\t// Set full screen view\r\n\t    \tgetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                         WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    \r\n\t    \tdrawView = new DrawView(this);\r\n\t\t    setContentView(drawView);\r\n    \t\tdrawView.requestFocus();\r\n\t    }\r\n    }\r\n\r\n\r\n    public class DrawingPanel extends View implements OnTouchListener {\r\n        private static final String TAG = &quot;DrawView&quot;;\r\n\r\n        private static final float MINP = 0.25f;\r\n        private static final float MAXP = 0.75f;\r\n            \r\n        private Canvas  mCanvas;\r\n        private Path    mPath;\r\n        private Paint       mPaint;   \r\n        private LinkedList&lt;Path&gt; paths = new LinkedList&lt;Path&gt;();\r\n    \r\n        public DrawingPanel(Context context) {\r\n            super(context);\r\n            setFocusable(true);\r\n            setFocusableInTouchMode(true);\r\n\r\n            this.setOnTouchListener(this);\r\n\r\n            mPaint = new Paint();\r\n            mPaint.setAntiAlias(true);\r\n            mPaint.setDither(true);\r\n            mPaint.setColor(Color.BLACK);\r\n            mPaint.setStyle(Paint.Style.STROKE);\r\n            mPaint.setStrokeJoin(Paint.Join.ROUND);\r\n            mPaint.setStrokeCap(Paint.Cap.ROUND);\r\n            mPaint.setStrokeWidth(6);\r\n            mCanvas = new Canvas();\r\n            mPath = new Path();\r\n            paths.add(mPath);\r\n        }               \r\n        \r\n    \t@Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            super.onSizeChanged(w, h, oldw, oldh);\r\n        }\r\n        \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {            \r\n            for (Path p : paths){\r\n            \tcanvas.drawPath(p, mPaint);\r\n            }\r\n        }\r\n        \r\n        private float mX, mY;\r\n        private static final float TOUCH_TOLERANCE = 4;\r\n        \r\n        private void touch_start(float x, float y) {\r\n            mPath.reset();\r\n            mPath.moveTo(x, y);\r\n            mX = x;\r\n            mY = y;\r\n        }\r\n        \r\n        private void touch_move(float x, float y) {\r\n            float dx = Math.abs(x - mX);\r\n            float dy = Math.abs(y - mY);\r\n            if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\r\n                mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\r\n                mX = x;\r\n                mY = y;\r\n            }\r\n        }\r\n\r\n        private void touch_up() {\r\n            mPath.lineTo(mX, mY);\r\n            // commit the path to our offscreen\r\n            mCanvas.drawPath(mPath, mPaint);\r\n            // kill this so we don&#39;t double draw            \r\n            mPath = new Path();\r\n            paths.add(mPath);\r\n        }\r\n        \r\n    \t@Override\r\n\t    public boolean onTouch(View arg0, MotionEvent event) {\r\n\t\t    float x = event.getX();\r\n            float y = event.getY();\r\n          \r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    touch_start(x, y);\r\n                    invalidate();\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    touch_move(x, y);\r\n                    invalidate();\r\n                    break;\r\n                case MotionEvent.ACTION_UP:\r\n                    touch_up();\r\n                    invalidate();\r\n                    break;\r\n            }\r\n            return true;\r\n        } \r\n    }  \r\n\r\nI took the android sample for drawing with your finger and modified it a little to store every path instead of just the last one! Hope it helps someone!\r\n\r\nCheers.","title":"Android How to draw a smooth line following your finger","body":"<p>This might be not important anymore for you but I struggled a lot to solve it and I want to share, might be useful to someone else.</p>\n\n<p>The tutorial with the solution @johncarl offered are great to drawing but they offered a limitation for my purposes. If you take your finger out of the screen and put it back, this solution will draw a line between the last click and your new click, making the whole drawing connected always. So I was trying to find a solution for that, and finally I got it!( sorry if sounds obvious, I am a beginner with graphics)</p>\n\n<pre><code>public class MainActivity extends Activity {\n    DrawView drawView;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Set full screen view\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                     WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n\n        drawView = new DrawView(this);\n        setContentView(drawView);\n        drawView.requestFocus();\n    }\n}\n\n\npublic class DrawingPanel extends View implements OnTouchListener {\n    private static final String TAG = \"DrawView\";\n\n    private static final float MINP = 0.25f;\n    private static final float MAXP = 0.75f;\n\n    private Canvas  mCanvas;\n    private Path    mPath;\n    private Paint       mPaint;   \n    private LinkedList&lt;Path&gt; paths = new LinkedList&lt;Path&gt;();\n\n    public DrawingPanel(Context context) {\n        super(context);\n        setFocusable(true);\n        setFocusableInTouchMode(true);\n\n        this.setOnTouchListener(this);\n\n        mPaint = new Paint();\n        mPaint.setAntiAlias(true);\n        mPaint.setDither(true);\n        mPaint.setColor(Color.BLACK);\n        mPaint.setStyle(Paint.Style.STROKE);\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\n        mPaint.setStrokeCap(Paint.Cap.ROUND);\n        mPaint.setStrokeWidth(6);\n        mCanvas = new Canvas();\n        mPath = new Path();\n        paths.add(mPath);\n    }               \n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {            \n        for (Path p : paths){\n            canvas.drawPath(p, mPaint);\n        }\n    }\n\n    private float mX, mY;\n    private static final float TOUCH_TOLERANCE = 4;\n\n    private void touch_start(float x, float y) {\n        mPath.reset();\n        mPath.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touch_move(float x, float y) {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\n            mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\n            mX = x;\n            mY = y;\n        }\n    }\n\n    private void touch_up() {\n        mPath.lineTo(mX, mY);\n        // commit the path to our offscreen\n        mCanvas.drawPath(mPath, mPaint);\n        // kill this so we don't double draw            \n        mPath = new Path();\n        paths.add(mPath);\n    }\n\n    @Override\n    public boolean onTouch(View arg0, MotionEvent event) {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                touch_start(x, y);\n                invalidate();\n                break;\n            case MotionEvent.ACTION_MOVE:\n                touch_move(x, y);\n                invalidate();\n                break;\n            case MotionEvent.ACTION_UP:\n                touch_up();\n                invalidate();\n                break;\n        }\n        return true;\n    } \n}  \n</code></pre>\n\n<p>I took the android sample for drawing with your finger and modified it a little to store every path instead of just the last one! Hope it helps someone!</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334430036,"creation_date":1334430036,"answer_id":10156427,"question_id":8287949,"body_markdown":"I had this issue, i was drawing a point instead of a line.  You should create a path first to hold your line.  call path.moveto on your first touch event only.  Then on your canvas draw the path and then reset or rewind the path after your done (path.reset)...","title":"Android How to draw a smooth line following your finger","body":"<p>I had this issue, i was drawing a point instead of a line.  You should create a path first to hold your line.  call path.moveto on your first touch event only.  Then on your canvas draw the path and then reset or rewind the path after your done (path.reset)...</p>\n"},{"comments":[{"owner":{"account_id":434894,"reputation":10442,"user_id":821173,"accept_rate":88,"display_name":"Mario Lenci"},"score":0,"creation_date":1357726561,"post_id":13227841,"comment_id":19745318,"body_markdown":"Thanks. it did exactly what i was expecting.","body":"Thanks. it did exactly what i was expecting."},{"owner":{"account_id":2114073,"reputation":454,"user_id":1878734,"display_name":"Aurel"},"score":0,"creation_date":1372246405,"post_id":13227841,"comment_id":25119487,"body_markdown":"Thanks to you, that&#39;s what I searched !","body":"Thanks to you, that&#39;s what I searched !"},{"owner":{"account_id":481786,"reputation":729,"user_id":895803,"accept_rate":35,"display_name":"wheels53"},"score":1,"creation_date":1400706789,"post_id":13227841,"comment_id":36596756,"body_markdown":"I had to pull out the path.lineTo(prevPoint.x, prevPoint.y); statement outside the for loop to get a clean smooth line.  Can you explain why it&#39;s there?","body":"I had to pull out the path.lineTo(prevPoint.x, prevPoint.y); statement outside the for loop to get a clean smooth line.  Can you explain why it&#39;s there?"},{"owner":{"account_id":383457,"reputation":1076,"user_id":739318,"display_name":"Eric Oberm&#252;hlner"},"score":0,"creation_date":1436642584,"post_id":13227841,"comment_id":50702717,"body_markdown":"The path.lineTo(prevPoint.x, prevPoint.y)\nat the end connects the last mid point to the final point. It already is outside of the loop and should not prevent the line from being smooth.","body":"The path.lineTo(prevPoint.x, prevPoint.y) at the end connects the last mid point to the final point. It already is outside of the loop and should not prevent the line from being smooth."}],"tags":[],"owner":{"account_id":383457,"reputation":1076,"user_id":739318,"display_name":"Eric Oberm&#252;hlner"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1352206692,"creation_date":1352100959,"answer_id":13227841,"question_id":8287949,"body_markdown":"I have experimented with several ways to render the accumulated points of the motion events.\r\nIn the end I had the best results by calculating the mid-points between two points and treating the points in the list as anchor points of quadratic Bezier curves (except the first and last point which are connected by simple lines to the next mid-point).\r\n\r\nThis gives a smooth curve without any corners. The drawn path will not touch the actual points in the list but go through every mid-point.\r\n\r\n    Path path = new Path();\r\n    if (points.size() &gt; 1) {\r\n    \tPoint prevPoint = null;\r\n    \tfor (int i = 0; i &lt; points.size(); i++) {\r\n    \t\tPoint point = points.get(i);\r\n    \r\n    \t\tif (i == 0) {\r\n    \t\t\tpath.moveTo(point.x, point.y);\r\n    \t\t} else {\r\n    \t\t\tfloat midX = (prevPoint.x + point.x) / 2;\r\n    \t\t\tfloat midY = (prevPoint.y + point.y) / 2;\r\n    \t\t\t\r\n    \t\t\tif (i == 1) {\r\n    \t\t\t\tpath.lineTo(midX, midY);\r\n    \t\t\t} else {\r\n    \t\t\t\tpath.quadTo(prevPoint.x, prevPoint.y, midX, midY);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tprevPoint = point;\r\n    \t}\r\n    \tpath.lineTo(prevPoint.x, prevPoint.y);\r\n    }","title":"Android How to draw a smooth line following your finger","body":"<p>I have experimented with several ways to render the accumulated points of the motion events.\nIn the end I had the best results by calculating the mid-points between two points and treating the points in the list as anchor points of quadratic Bezier curves (except the first and last point which are connected by simple lines to the next mid-point).</p>\n\n<p>This gives a smooth curve without any corners. The drawn path will not touch the actual points in the list but go through every mid-point.</p>\n\n<pre><code>Path path = new Path();\nif (points.size() &gt; 1) {\n    Point prevPoint = null;\n    for (int i = 0; i &lt; points.size(); i++) {\n        Point point = points.get(i);\n\n        if (i == 0) {\n            path.moveTo(point.x, point.y);\n        } else {\n            float midX = (prevPoint.x + point.x) / 2;\n            float midY = (prevPoint.y + point.y) / 2;\n\n            if (i == 1) {\n                path.lineTo(midX, midY);\n            } else {\n                path.quadTo(prevPoint.x, prevPoint.y, midX, midY);\n            }\n        }\n        prevPoint = point;\n    }\n    path.lineTo(prevPoint.x, prevPoint.y);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576591,"reputation":5132,"user_id":1462846,"accept_rate":96,"display_name":"jcw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373011187,"creation_date":1365361605,"answer_id":15866579,"question_id":8287949,"body_markdown":"I had to make some modifications to this recently, and have now developed what I believe to be the best solution here because it does three things:\r\n\r\n 1. It allows you to draw different lines\r\n 2. It works with larger brush strokes and without using complicated cubic splines\r\n 3. It is faster than a lot of the solutions here because the `canvas.drawPath()` method is **outside** the for loop, so it is not called multiple times.\r\n\r\n\r\n----------\r\n\r\n\r\n    public class DrawView extends View implements OnTouchListener {\r\n    private static final String TAG = &quot;DrawView&quot;;\r\n    \r\n    List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n    Paint paint = new Paint();\r\n    List&lt;Integer&gt; newLine = new ArrayList&lt;Integer&gt;();\r\n    \r\n    public DrawView(Context context, AttributeSet attrs){\r\n        \tsuper(context, attrs);\r\n        \tsetFocusable(true);\r\n        \tsetFocusableInTouchMode(true);\r\n    \t\tsetClickable(true);\r\n    \r\n    \t\tthis.setOnTouchListener(this);\r\n    \r\n    \t\tpaint.setColor(Color.WHITE);\r\n    \t\tpaint.setAntiAlias(true);\r\n    \t\tpaint.setStyle(Paint.Style.STROKE);\r\n    \t\tpaint.setStrokeWidth(20);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void setColor(int color){\r\n    \t\tpaint.setColor(color);\r\n    \t}\r\n    \tpublic void setBrushSize(int size){\r\n    \t\tpaint.setStrokeWidth((float)size);\r\n    \t}\r\n    \tpublic DrawView(Context context) {\r\n    \t\tsuper(context);\r\n    \t\tsetFocusable(true);\r\n    \t\tsetFocusableInTouchMode(true);\r\n    \r\n    \t\tthis.setOnTouchListener(this);\r\n    \r\n    \r\n    \t\tpaint.setColor(Color.BLUE);\r\n    \t\tpaint.setAntiAlias(true);\r\n    \t\tpaint.setStyle(Paint.Style.STROKE);\r\n    \t\tpaint.setStrokeWidth(20);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onDraw(Canvas canvas) {\r\n    \t\tPath path = new Path();\r\n    \t\tpath.setFillType(Path.FillType.EVEN_ODD);\r\n    \t\tfor (int i = 0; i&lt;points.size(); i++) {\r\n    \t\t\tPoint newPoint = new Point();\r\n    \t\t\tif (newLine.contains(i)||i==0){\r\n    \t\t\t\tnewPoint = points.get(i)\r\n    \t\t\t\tpath.moveTo(newPoint.x, newPoint.y);\r\n    \t\t\t} else {\r\n    \t\t\t\tnewPoint = points.get(i);\r\n    \t\t\t\t\r\n    \t\t\t\tpath.lineTo(newPoint.x, newPoint.y);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcanvas.drawPath(path, paint);\r\n    \t}\r\n    \r\n    \tpublic boolean onTouch(View view, MotionEvent event) {\r\n    \t\tPoint point = new Point();\r\n    \t\tpoint.x = event.getX();\r\n    \t\tpoint.y = event.getY();\r\n    \t\tpoints.add(point);\r\n    \t\tinvalidate();\r\n    \t\tLog.d(TAG, &quot;point: &quot; + point);\r\n    \t\tif(event.getAction() == MotionEvent.ACTION_UP){\r\n    \t\t\t// return super.onTouchEvent(event);\r\n    \t\t\tnewLine.add(points.size());\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n        }\r\n    \r\n        class Point {\r\n        \tfloat x, y;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn x + &quot;, &quot; + y;\r\n    \t}\r\n        }\r\n\r\nThis also works, just not quite as well\r\n\r\n \r\n\r\n      import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import android.content.Context;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.View.OnTouchListener;\r\n    import android.util.*;\r\n\r\n    public class DrawView extends View implements OnTouchListener {\r\n    \tprivate static final String TAG = &quot;DrawView&quot;;\r\n\tList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\tPaint paint = new Paint();\r\n\tList&lt;Integer&gt; newLine = new ArrayList&lt;Integer&gt;();\r\n\r\n\tpublic DrawView(Context context, AttributeSet attrs){\r\n\t\tsuper(context, attrs);\r\n\t\tsetFocusable(true);\r\n\t\tsetFocusableInTouchMode(true);\r\n\r\n\t\tthis.setOnTouchListener(this);\r\n\r\n\t\tpaint.setColor(Color.WHITE);\r\n\t\tpaint.setAntiAlias(true);\r\n\t}\r\n\tpublic DrawView(Context context) {\r\n\t\tsuper(context);\r\n\t\tsetFocusable(true);\r\n\t\tsetFocusableInTouchMode(true);\r\n\r\n\t\tthis.setOnTouchListener(this);\r\n\r\n\t\tpaint.setColor(Color.WHITE);\r\n\t\tpaint.setAntiAlias(true);\r\n\t\t}\r\n\r\n\t@Override\r\n\tpublic void onDraw(Canvas canvas) {\r\n\t\tfor (int i = 0; i&lt;points.size(); i++) {\r\n\t\t\tPoint newPoint = new Point();\r\n\t\t\tPoint oldPoint = new Point();\r\n\t\t\tif (newLine.contains(i)||i==0){\r\n\t\t\t\tnewPoint = points.get(i);\r\n\t\t\t\toldPoint = newPoint;\r\n\t\t\t} else {\r\n\t\t\t\tnewPoint = points.get(i);\r\n\t\t\t\toldPoint = points.get(i-1);\r\n\t\t\t}\r\n\t\t\t\tcanvas.drawLine(oldPoint.x, oldPoint.y, newPoint.x, newPoint.y, paint);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boolean onTouch(View view, MotionEvent event) {\r\n\t\tPoint point = new Point();\r\n\t\tpoint.x = event.getX();\r\n\t\tpoint.y = event.getY();\r\n\t\tpoints.add(point);\r\n\t\tinvalidate();\r\n\t\tLog.d(TAG, &quot;point: &quot; + point);\r\n\t\tif(event.getAction() == MotionEvent.ACTION_UP){\r\n\t\t\t// return super.onTouchEvent(event);\r\n\t\t\tnewLine.add(points.size());\r\n\t\t}\r\n\t\treturn true;\r\n    \t}\r\n    }\r\n    \r\n    class Point {\r\n    \tfloat x, y;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn x + &quot;, &quot; + y;\r\n    \t}\r\n    }\r\n\r\nIt lets you draw lines reasonably well, the only problem is if you make the line thicker, which makes the lines drawn look a little odd, and really, I would recommend using the first one anyways.\r\n\r\n","title":"Android How to draw a smooth line following your finger","body":"<p>I had to make some modifications to this recently, and have now developed what I believe to be the best solution here because it does three things:</p>\n\n<ol>\n<li>It allows you to draw different lines</li>\n<li>It works with larger brush strokes and without using complicated cubic splines</li>\n<li>It is faster than a lot of the solutions here because the <code>canvas.drawPath()</code> method is <strong>outside</strong> the for loop, so it is not called multiple times.</li>\n</ol>\n\n<hr>\n\n<pre><code>public class DrawView extends View implements OnTouchListener {\nprivate static final String TAG = \"DrawView\";\n\nList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\nPaint paint = new Paint();\nList&lt;Integer&gt; newLine = new ArrayList&lt;Integer&gt;();\n\npublic DrawView(Context context, AttributeSet attrs){\n        super(context, attrs);\n        setFocusable(true);\n        setFocusableInTouchMode(true);\n        setClickable(true);\n\n        this.setOnTouchListener(this);\n\n        paint.setColor(Color.WHITE);\n        paint.setAntiAlias(true);\n        paint.setStyle(Paint.Style.STROKE);\n        paint.setStrokeWidth(20);\n\n    }\n\n    public void setColor(int color){\n        paint.setColor(color);\n    }\n    public void setBrushSize(int size){\n        paint.setStrokeWidth((float)size);\n    }\n    public DrawView(Context context) {\n        super(context);\n        setFocusable(true);\n        setFocusableInTouchMode(true);\n\n        this.setOnTouchListener(this);\n\n\n        paint.setColor(Color.BLUE);\n        paint.setAntiAlias(true);\n        paint.setStyle(Paint.Style.STROKE);\n        paint.setStrokeWidth(20);\n    }\n\n    @Override\n    public void onDraw(Canvas canvas) {\n        Path path = new Path();\n        path.setFillType(Path.FillType.EVEN_ODD);\n        for (int i = 0; i&lt;points.size(); i++) {\n            Point newPoint = new Point();\n            if (newLine.contains(i)||i==0){\n                newPoint = points.get(i)\n                path.moveTo(newPoint.x, newPoint.y);\n            } else {\n                newPoint = points.get(i);\n\n                path.lineTo(newPoint.x, newPoint.y);\n            }\n\n        }\n        canvas.drawPath(path, paint);\n    }\n\n    public boolean onTouch(View view, MotionEvent event) {\n        Point point = new Point();\n        point.x = event.getX();\n        point.y = event.getY();\n        points.add(point);\n        invalidate();\n        Log.d(TAG, \"point: \" + point);\n        if(event.getAction() == MotionEvent.ACTION_UP){\n            // return super.onTouchEvent(event);\n            newLine.add(points.size());\n        }\n        return true;\n    }\n    }\n\n    class Point {\n        float x, y;\n\n    @Override\n    public String toString() {\n        return x + \", \" + y;\n    }\n    }\n</code></pre>\n\n<p>This also works, just not quite as well</p>\n\n<pre><code>  import java.util.ArrayList;\nimport java.util.List;\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.View.OnTouchListener;\nimport android.util.*;\n\npublic class DrawView extends View implements OnTouchListener {\n    private static final String TAG = \"DrawView\";\nList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\nPaint paint = new Paint();\nList&lt;Integer&gt; newLine = new ArrayList&lt;Integer&gt;();\n\npublic DrawView(Context context, AttributeSet attrs){\n    super(context, attrs);\n    setFocusable(true);\n    setFocusableInTouchMode(true);\n\n    this.setOnTouchListener(this);\n\n    paint.setColor(Color.WHITE);\n    paint.setAntiAlias(true);\n}\npublic DrawView(Context context) {\n    super(context);\n    setFocusable(true);\n    setFocusableInTouchMode(true);\n\n    this.setOnTouchListener(this);\n\n    paint.setColor(Color.WHITE);\n    paint.setAntiAlias(true);\n    }\n\n@Override\npublic void onDraw(Canvas canvas) {\n    for (int i = 0; i&lt;points.size(); i++) {\n        Point newPoint = new Point();\n        Point oldPoint = new Point();\n        if (newLine.contains(i)||i==0){\n            newPoint = points.get(i);\n            oldPoint = newPoint;\n        } else {\n            newPoint = points.get(i);\n            oldPoint = points.get(i-1);\n        }\n            canvas.drawLine(oldPoint.x, oldPoint.y, newPoint.x, newPoint.y, paint);\n    }\n}\n\npublic boolean onTouch(View view, MotionEvent event) {\n    Point point = new Point();\n    point.x = event.getX();\n    point.y = event.getY();\n    points.add(point);\n    invalidate();\n    Log.d(TAG, \"point: \" + point);\n    if(event.getAction() == MotionEvent.ACTION_UP){\n        // return super.onTouchEvent(event);\n        newLine.add(points.size());\n    }\n    return true;\n    }\n}\n\nclass Point {\n    float x, y;\n\n    @Override\n    public String toString() {\n        return x + \", \" + y;\n    }\n}\n</code></pre>\n\n<p>It lets you draw lines reasonably well, the only problem is if you make the line thicker, which makes the lines drawn look a little odd, and really, I would recommend using the first one anyways.</p>\n"},{"comments":[{"owner":{"account_id":7285437,"reputation":951,"user_id":5553654,"accept_rate":56,"display_name":"channae"},"score":0,"creation_date":1620623078,"post_id":27987547,"comment_id":119245193,"body_markdown":"I had an issue where curves aren&#39;t properly drawing. This solution fixed my issue. Thanks!","body":"I had an issue where curves aren&#39;t properly drawing. This solution fixed my issue. Thanks!"}],"tags":[],"owner":{"account_id":362444,"reputation":5842,"user_id":705635,"accept_rate":80,"display_name":"amukhachov"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421422837,"creation_date":1421422837,"answer_id":27987547,"question_id":8287949,"body_markdown":"Motion events with `ACTION_MOVE` may batch together multiple movement samples within a single object. The most current pointer coordinates are available using getX(int) and getY(int). Earlier coordinates within the batch are accessed using `getHistoricalX(int, int)` and `getHistoricalY(int, int)`. Using them for building path makes it much smoother :\r\n\r\n        int historySize = event.getHistorySize();\r\n        for (int i = 0; i &lt; historySize; i++) {\r\n          float historicalX = event.getHistoricalX(i);\r\n          float historicalY = event.getHistoricalY(i);\r\n          path.lineTo(historicalX, historicalY);\r\n        }\r\n\r\n        // After replaying history, connect the line to the touch point.\r\n        path.lineTo(eventX, eventY);\r\n\r\n\r\nHere is a good tutorial on this from Square : http://corner.squareup.com/2010/07/smooth-signatures.html \r\n ","title":"Android How to draw a smooth line following your finger","body":"<p>Motion events with <code>ACTION_MOVE</code> may batch together multiple movement samples within a single object. The most current pointer coordinates are available using getX(int) and getY(int). Earlier coordinates within the batch are accessed using <code>getHistoricalX(int, int)</code> and <code>getHistoricalY(int, int)</code>. Using them for building path makes it much smoother :</p>\n\n<pre><code>    int historySize = event.getHistorySize();\n    for (int i = 0; i &lt; historySize; i++) {\n      float historicalX = event.getHistoricalX(i);\n      float historicalY = event.getHistoricalY(i);\n      path.lineTo(historicalX, historicalY);\n    }\n\n    // After replaying history, connect the line to the touch point.\n    path.lineTo(eventX, eventY);\n</code></pre>\n\n<p>Here is a good tutorial on this from Square : <a href=\"http://corner.squareup.com/2010/07/smooth-signatures.html\" rel=\"nofollow\">http://corner.squareup.com/2010/07/smooth-signatures.html</a> </p>\n"},{"comments":[{"owner":{"account_id":8003425,"reputation":175,"user_id":6037452,"display_name":"Jacob Kaddoura"},"score":1,"creation_date":1554492156,"post_id":36270441,"comment_id":97787436,"body_markdown":"This should be the accepted answer -- achieves exactly what OP is asking with the least complicated code","body":"This should be the accepted answer -- achieves exactly what OP is asking with the least complicated code"},{"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"score":0,"creation_date":1623943556,"post_id":36270441,"comment_id":120227139,"body_markdown":"Thanks for this. Please tell me how can we add a big plus symbol that shows where cursor is located?","body":"Thanks for this. Please tell me how can we add a big plus symbol that shows where cursor is located?"}],"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471530554,"creation_date":1459196288,"answer_id":36270441,"question_id":8287949,"body_markdown":"If you want it simple:\r\n\r\n    public class DrawByFingerCanvas extends View {\r\n\r\n        private Paint brush = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n        private Path path = new Path();\r\n\r\n        public DrawByFingerCanvas(Context context) {\r\n            super(context);\r\n            brush.setStyle(Paint.Style.STROKE);\r\n            brush.setStrokeWidth(5);\r\n        }\r\n\r\n        @Override\r\n        protected void onDraw(Canvas c) {\r\n            c.drawPath(path, brush);\r\n        }\r\n\r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n\r\n            float x = event.getX();\r\n            float y = event.getY();\r\n\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    path.moveTo(x,y);\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    path.lineTo(x, y);\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n            invalidate();\r\n            return true;\r\n        }\r\n    }\r\n\r\nIn the activity just:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(new DrawByFingerCanvas(this));\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/C3MqK.png\r\n\r\nTo erase all drawings just rotate the screen.","title":"Android How to draw a smooth line following your finger","body":"<p>If you want it simple:</p>\n\n<pre><code>public class DrawByFingerCanvas extends View {\n\n    private Paint brush = new Paint(Paint.ANTI_ALIAS_FLAG);\n    private Path path = new Path();\n\n    public DrawByFingerCanvas(Context context) {\n        super(context);\n        brush.setStyle(Paint.Style.STROKE);\n        brush.setStrokeWidth(5);\n    }\n\n    @Override\n    protected void onDraw(Canvas c) {\n        c.drawPath(path, brush);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                path.moveTo(x,y);\n                break;\n            case MotionEvent.ACTION_MOVE:\n                path.lineTo(x, y);\n                break;\n            default:\n                return false;\n        }\n        invalidate();\n        return true;\n    }\n}\n</code></pre>\n\n<p>In the activity just:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(new DrawByFingerCanvas(this));\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C3MqK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/C3MqK.png\" alt=\"enter image description here\"></a></p>\n\n<p>To erase all drawings just rotate the screen.</p>\n"},{"tags":[],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617814687,"creation_date":1617814687,"answer_id":66990710,"question_id":8287949,"body_markdown":"Here is a simple method for smoothing points drawn with Path.[lineTo][1]\r\n\r\n    fun applySmoothing(smoothingIterations: Int) {\r\n        for (z in 1..smoothingIterations) {\r\n            for (i in graphPoints.indices) {\r\n                if (i &gt; 0 &amp;&amp; i &lt; graphPoints.size-1) {\r\n                    val previousPoint = graphPoints[i-1]\r\n                    val currentPoint = graphPoints[i]\r\n                    val nextPoint = graphPoints[i+1]\r\n                    val midX = (previousPoint.x + currentPoint.x + nextPoint.x) / 3\r\n                    val midY = (previousPoint.y + currentPoint.y + nextPoint.y) / 3\r\n                    graphPoints[i].x = midX\r\n                    graphPoints[i].y = midY\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Path#lineTo(float,%20float)","title":"Android How to draw a smooth line following your finger","body":"<p>Here is a simple method for smoothing points drawn with Path.<a href=\"https://developer.android.com/reference/android/graphics/Path#lineTo(float,%20float)\" rel=\"nofollow noreferrer\">lineTo</a></p>\n<pre><code>fun applySmoothing(smoothingIterations: Int) {\n    for (z in 1..smoothingIterations) {\n        for (i in graphPoints.indices) {\n            if (i &gt; 0 &amp;&amp; i &lt; graphPoints.size-1) {\n                val previousPoint = graphPoints[i-1]\n                val currentPoint = graphPoints[i]\n                val nextPoint = graphPoints[i+1]\n                val midX = (previousPoint.x + currentPoint.x + nextPoint.x) / 3\n                val midY = (previousPoint.y + currentPoint.y + nextPoint.y) / 3\n                graphPoints[i].x = midX\n                graphPoints[i].y = midY\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14059937,"reputation":2328,"user_id":10247147,"display_name":"Daniel.Wang"},"score":0,"creation_date":1624337227,"post_id":68076852,"comment_id":120323972,"body_markdown":"Please post minimal example for the asker.","body":"Please post minimal example for the asker."}],"tags":[],"owner":{"account_id":21041516,"reputation":83,"user_id":15463816,"display_name":"Cloud Town"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624329660,"creation_date":1624329660,"answer_id":68076852,"question_id":8287949,"body_markdown":"Here is a simplified solution that draws a line that follows your finger and is always straight:\r\n\r\nhttps://stackoverflow.com/a/68076519/15463816","title":"Android How to draw a smooth line following your finger","body":"<p>Here is a simplified solution that draws a line that follows your finger and is always straight:</p>\n<p><a href=\"https://stackoverflow.com/a/68076519/15463816\">https://stackoverflow.com/a/68076519/15463816</a></p>\n"}],"owner":{"account_id":304762,"reputation":11899,"user_id":614460,"accept_rate":74,"display_name":"Somk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96278,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":8289516,"answer_count":11,"score":72,"last_activity_date":1671918350,"creation_date":1322418690,"question_id":8287949,"body_markdown":"http://marakana.com/tutorials/android/2d-graphics-example.html\r\n\r\nI am using this example below. But when I move my fingers too fast across the screen the line turns to individual dots.\r\n\r\nI am not sure whether I can speed up the drawing. Or I should connect the two last points with a straight line. The second of these two solutions seems like a good option, except when moving your finger very fast you will have long sections of a straight line then sharp curves.\r\n\r\nIf there are any other solutions it would be great to hear them.\r\n\r\nThanks for any help in advance.","title":"Android How to draw a smooth line following your finger","body":"<p><a href=\"http://marakana.com/tutorials/android/2d-graphics-example.html\">http://marakana.com/tutorials/android/2d-graphics-example.html</a></p>\n\n<p>I am using this example below. But when I move my fingers too fast across the screen the line turns to individual dots.</p>\n\n<p>I am not sure whether I can speed up the drawing. Or I should connect the two last points with a straight line. The second of these two solutions seems like a good option, except when moving your finger very fast you will have long sections of a straight line then sharp curves.</p>\n\n<p>If there are any other solutions it would be great to hear them.</p>\n\n<p>Thanks for any help in advance.</p>\n"},{"tags":["java","netbeans","client","jax-ws"],"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1365544717,"post_id":4163586,"comment_id":22665349,"body_markdown":"Similar question: [JAX-WS Loading WSDL from jar](http://stackoverflow.com/questions/764772/jax-ws-loading-wsdl-from-jar/15913322#15913322)","body":"Similar question: <a href=\"http://stackoverflow.com/questions/764772/jax-ws-loading-wsdl-from-jar/15913322#15913322\">JAX-WS Loading WSDL from jar</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user260192"},"score":0,"creation_date":1289994723,"post_id":4178783,"comment_id":4545530,"body_markdown":"ok, i&#39;m not been able to solve the problem this way within the web application : i&#39;ve tried to put wsdl inside web-inf without success, probably for my lack of knowledge. Anyway it works with a jar, so i&#39;ll make a wrapper library, as it should have been done from beginning. Thank you for your support","body":"ok, i&#39;m not been able to solve the problem this way within the web application : i&#39;ve tried to put wsdl inside web-inf without success, probably for my lack of knowledge. Anyway it works with a jar, so i&#39;ll make a wrapper library, as it should have been done from beginning. Thank you for your support"},{"owner":{"account_id":3881027,"reputation":473,"user_id":3213514,"accept_rate":57,"display_name":"Rahul Khimasia"},"score":0,"creation_date":1544803080,"post_id":4178783,"comment_id":94417522,"body_markdown":"I was able to use this answer successfully and I believe that this is a better solution than all the other alternatives that other articles and tutorials document. So for me this is best practice. I just wonder why this solution is not documented in the other official articles and tutorials that cover the JAX-WS topic.","body":"I was able to use this answer successfully and I believe that this is a better solution than all the other alternatives that other articles and tutorials document. So for me this is best practice. I just wonder why this solution is not documented in the other official articles and tutorials that cover the JAX-WS topic."}],"tags":[],"owner":{"display_name":"user507484"},"comment_count":2,"down_vote_count":0,"up_vote_count":120,"is_accepted":true,"score":120,"last_activity_date":1671918204,"creation_date":1289757168,"answer_id":4178783,"question_id":4163586,"body_markdown":"The best option is to use jax-ws-catalog.xml  \r\n\r\nWhen you compile the local WSDL file , override the WSDL location and set it to something like\r\n\r\n&lt;pre&gt;\r\nhttp://localhost/wsdl/SOAService.wsdl\r\n&lt;/pre&gt;\r\n  \r\nDon&#39;t worry this is only a URI and not a URL , meaning you don&#39;t have to have the WSDL available at that address.  \r\nYou can do this by passing the wsdllocation option to the wsdl to java compiler.\r\n\r\nDoing so will change your proxy code from  \r\n\r\n    static {\r\n        URL url = null;\r\n        try {\r\n            URL baseUrl;\r\n            baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;.&quot;);\r\n            url = new URL(baseUrl, &quot;file:/C:/local/path/to/wsdl/SOAService.wsdl&quot;);\r\n        } catch (MalformedURLException e) {\r\n            logger.warning(&quot;Failed to create URL for the wsdl Location: &#39;file:/C:/local/path/to/wsdl/SOAService.wsdl&#39;, retrying as a local file&quot;);\r\n            logger.warning(e.getMessage());\r\n        }\r\n        SOASERVICE_WSDL_LOCATION = url;\r\n    }\r\n\r\nto \r\n\r\n    static {\r\n        URL url = null;\r\n        try {\r\n            URL baseUrl;\r\n            baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;.&quot;);\r\n            url = new URL(baseUrl, &quot;http://localhost/wsdl/SOAService.wsdl&quot;);\r\n        } catch (MalformedURLException e) {\r\n            logger.warning(&quot;Failed to create URL for the wsdl Location: &#39;http://localhost/wsdl/SOAService.wsdl&#39;, retrying as a local file&quot;);\r\n            logger.warning(e.getMessage());\r\n        }\r\n        SOASERVICE_WSDL_LOCATION = url;\r\n    }\r\n\r\n \r\nNotice file:// changed to http:// in the URL constructor.  \r\n\r\nNow comes in jax-ws-catalog.xml. Without jax-ws-catalog.xml jax-ws will indeed try to load the WSDL from the location &lt;pre&gt;http://localhost/wsdl/SOAService.wsdl\r\n&lt;/pre&gt;\r\n and fail, as no such WSDL will be available.\r\n\r\nBut with jax-ws-catalog.xml you can redirect jax-ws to a locally packaged WSDL whenever it tries to access the WSDL @ &lt;pre&gt;http://localhost/wsdl/SOAService.wsdl\r\n&lt;/pre&gt;.\r\n\r\nHere&#39;s jax-ws-catalog.xml  \r\n\r\n    &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot; prefer=&quot;system&quot;&gt;\r\n            &lt;system systemId=&quot;http://localhost/wsdl/SOAService.wsdl&quot;\r\n                    uri=&quot;wsdl/SOAService.wsdl&quot;/&gt;\r\n        &lt;/catalog&gt;\r\n\r\n\r\nWhat you are doing is telling jax-ws that when ever it needs to load WSDL from &lt;pre&gt;http://localhost/wsdl/SOAService.wsdl\r\n&lt;/pre&gt;, it should load it from local path wsdl/SOAService.wsdl.\r\n\r\nNow where should you put wsdl/SOAService.wsdl and jax-ws-catalog.xml ? That&#39;s the million dollar question isn&#39;t it ?  \r\nIt should be in the META-INF directory of your application jar.  \r\n\r\nso something like this \r\n\r\n&lt;pre&gt;\r\nABCD.jar  \r\n|__ META-INF    \r\n    |__ jax-ws-catalog.xml  \r\n    |__ wsdl  \r\n        |__ SOAService.wsdl  \r\n&lt;/pre&gt;\r\n\r\nThis way you don&#39;t even have to override the URL in your client that access the proxy. The WSDL is picked up from within your JAR, and you avoid having to have hard-coded filesystem paths in your code.\r\n\r\nMore info on jax-ws-catalog.xml\r\nhttp://jax-ws.java.net/nonav/2.1.2m1/docs/catalog-support.html","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>The best option is to use jax-ws-catalog.xml</p>\n<p>When you compile the local WSDL file , override the WSDL location and set it to something like</p>\n<pre>\nhttp://localhost/wsdl/SOAService.wsdl\n</pre>\n<p>Don't worry this is only a URI and not a URL , meaning you don't have to have the WSDL available at that address.<br />\nYou can do this by passing the wsdllocation option to the wsdl to java compiler.</p>\n<p>Doing so will change your proxy code from</p>\n<pre><code>static {\n    URL url = null;\n    try {\n        URL baseUrl;\n        baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;.&quot;);\n        url = new URL(baseUrl, &quot;file:/C:/local/path/to/wsdl/SOAService.wsdl&quot;);\n    } catch (MalformedURLException e) {\n        logger.warning(&quot;Failed to create URL for the wsdl Location: 'file:/C:/local/path/to/wsdl/SOAService.wsdl', retrying as a local file&quot;);\n        logger.warning(e.getMessage());\n    }\n    SOASERVICE_WSDL_LOCATION = url;\n}\n</code></pre>\n<p>to</p>\n<pre><code>static {\n    URL url = null;\n    try {\n        URL baseUrl;\n        baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;.&quot;);\n        url = new URL(baseUrl, &quot;http://localhost/wsdl/SOAService.wsdl&quot;);\n    } catch (MalformedURLException e) {\n        logger.warning(&quot;Failed to create URL for the wsdl Location: 'http://localhost/wsdl/SOAService.wsdl', retrying as a local file&quot;);\n        logger.warning(e.getMessage());\n    }\n    SOASERVICE_WSDL_LOCATION = url;\n}\n</code></pre>\n<p>Notice file:// changed to http:// in the URL constructor.</p>\n<p>Now comes in jax-ws-catalog.xml. Without jax-ws-catalog.xml jax-ws will indeed try to load the WSDL from the location <pre>http://localhost/wsdl/SOAService.wsdl\n</pre>\nand fail, as no such WSDL will be available.</p>\n<p>But with jax-ws-catalog.xml you can redirect jax-ws to a locally packaged WSDL whenever it tries to access the WSDL @ <pre>http://localhost/wsdl/SOAService.wsdl\n</pre>.</p>\n<p>Here's jax-ws-catalog.xml</p>\n<pre><code>&lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot; prefer=&quot;system&quot;&gt;\n        &lt;system systemId=&quot;http://localhost/wsdl/SOAService.wsdl&quot;\n                uri=&quot;wsdl/SOAService.wsdl&quot;/&gt;\n    &lt;/catalog&gt;\n</code></pre>\n<p>What you are doing is telling jax-ws that when ever it needs to load WSDL from <pre>http://localhost/wsdl/SOAService.wsdl\n</pre>, it should load it from local path wsdl/SOAService.wsdl.</p>\n<p>Now where should you put wsdl/SOAService.wsdl and jax-ws-catalog.xml ? That's the million dollar question isn't it ?<br />\nIt should be in the META-INF directory of your application jar.</p>\n<p>so something like this</p>\n<pre>\nABCD.jar  \n|__ META-INF    \n    |__ jax-ws-catalog.xml  \n    |__ wsdl  \n        |__ SOAService.wsdl  \n</pre>\n<p>This way you don't even have to override the URL in your client that access the proxy. The WSDL is picked up from within your JAR, and you avoid having to have hard-coded filesystem paths in your code.</p>\n<p>More info on jax-ws-catalog.xml\n<a href=\"http://jax-ws.java.net/nonav/2.1.2m1/docs/catalog-support.html\" rel=\"nofollow noreferrer\">http://jax-ws.java.net/nonav/2.1.2m1/docs/catalog-support.html</a></p>\n"},{"comments":[{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1400789260,"post_id":4299650,"comment_id":36638986,"body_markdown":"I like this approach... but why the META-INF directory?","body":"I like this approach... but why the META-INF directory?"},{"owner":{"account_id":123542,"reputation":5681,"user_id":318054,"accept_rate":50,"display_name":"ﾤ ﾡ"},"score":1,"creation_date":1416397974,"post_id":4299650,"comment_id":42557646,"body_markdown":"Please note that this requires the use of JAX-WS RI 2.2, not 2.1 that comes with JDK 6 by default","body":"Please note that this requires the use of JAX-WS RI 2.2, not 2.1 that comes with JDK 6 by default"}],"tags":[],"owner":{"account_id":676552,"reputation":191,"user_id":523005,"display_name":"mark"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1291030006,"creation_date":1290985463,"answer_id":4299650,"question_id":4163586,"body_markdown":"One other approach that we have taken successfully is to generate the WS client proxy code using wsimport (from Ant, as an Ant task) and specify the wsdlLocation attribute.\r\n\r\n\t&lt;wsimport debug=&quot;true&quot; keep=&quot;true&quot; verbose=&quot;false&quot; target=&quot;2.1&quot; sourcedestdir=&quot;${generated.client}&quot; wsdl=&quot;${src}${wsdl.file}&quot; wsdlLocation=&quot;${wsdl.file}&quot;&gt;\r\n\t&lt;/wsimport&gt;\r\n\r\nSince we run this for a project w/ multiple WSDLs, the script resolves the $(wsdl.file} value dynamically which is set up to be /META-INF/wsdl/YourWebServiceName.wsdl relative to the JavaSource location (or /src, depending on how you have your project set up).  During the build proess, the WSDL and XSDs files are copied to this location and packaged in the JAR file.  (similar to the solution described by Bhasakar above)\r\n\r\n    MyApp.jar\r\n    |__META-INF\r\n       |__wsdl\r\n          |__YourWebServiceName.wsdl\r\n          |__YourWebServiceName_schema1.xsd\r\n          |__YourWebServiceName_schmea2.xsd\r\n\r\n\r\n\r\nNote: make sure the WSDL files are using relative refrerences to any imported XSDs and not http URLs:\r\n\r\n      &lt;types&gt;\r\n        &lt;xsd:schema&gt;\r\n          &lt;xsd:import namespace=&quot;http://valueobject.common.services.xyz.com/&quot; schemaLocation=&quot;YourWebService_schema1.xsd&quot;/&gt;\r\n        &lt;/xsd:schema&gt;\r\n        &lt;xsd:schema&gt;\r\n          &lt;xsd:import namespace=&quot;http://exceptions.util.xyz.com/&quot; schemaLocation=&quot;YourWebService_schema2.xsd&quot;/&gt;\r\n        &lt;/xsd:schema&gt;\r\n      &lt;/types&gt;\r\n\r\n\r\nIn the **generated** code, we find this:\r\n\r\n    /**\r\n     * This class was generated by the JAX-WS RI.\r\n     * JAX-WS RI 2.2-b05-\r\n     * Generated source version: 2.1\r\n     * \r\n     */\r\n    @WebServiceClient(name = &quot;YourService&quot;, targetNamespace = &quot;http://test.webservice.services.xyz.com/&quot;, wsdlLocation = &quot;/META-INF/wsdl/YourService.wsdl&quot;)\r\n    public class YourService_Service\r\n        extends Service\r\n    {\r\n    \r\n        private final static URL YOURWEBSERVICE_WSDL_LOCATION;\r\n        private final static WebServiceException YOURWEBSERVICE_EXCEPTION;\r\n        private final static QName YOURWEBSERVICE_QNAME = new QName(&quot;http://test.webservice.services.xyz.com/&quot;, &quot;YourService&quot;);\r\n    \r\n        static {\r\n            YOURWEBSERVICE_WSDL_LOCATION = com.xyz.services.webservice.test.YourService_Service.class.getResource(&quot;/META-INF/wsdl/YourService.wsdl&quot;);\r\n            WebServiceException e = null;\r\n            if (YOURWEBSERVICE_WSDL_LOCATION == null) {\r\n                e = new WebServiceException(&quot;Cannot find &#39;/META-INF/wsdl/YourService.wsdl&#39; wsdl. Place the resource correctly in the classpath.&quot;);\r\n            }\r\n            YOURWEBSERVICE_EXCEPTION = e;\r\n        }\r\n    \r\n        public YourService_Service() {\r\n            super(__getWsdlLocation(), YOURWEBSERVICE_QNAME);\r\n        }\r\n    \r\n        public YourService_Service(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @return\r\n         *     returns YourService\r\n         */\r\n        @WebEndpoint(name = &quot;YourServicePort&quot;)\r\n        public YourService getYourServicePort() {\r\n            return super.getPort(new QName(&quot;http://test.webservice.services.xyz.com/&quot;, &quot;YourServicePort&quot;), YourService.class);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @param features\r\n         *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\r\n         * @return\r\n         *     returns YourService\r\n         */\r\n        @WebEndpoint(name = &quot;YourServicePort&quot;)\r\n        public YourService getYourServicePort(WebServiceFeature... features) {\r\n            return super.getPort(new QName(&quot;http://test.webservice.services.xyz.com/&quot;, &quot;YourServicePort&quot;), YourService.class, features);\r\n        }\r\n    \r\n        private static URL __getWsdlLocation() {\r\n            if (YOURWEBSERVICE_EXCEPTION!= null) {\r\n                throw YOURWEBSERVICE_EXCEPTION;\r\n            }\r\n            return YOURWEBSERVICE_WSDL_LOCATION;\r\n        }\r\n    \r\n    }\r\n\r\nPerhaps this might help too.  It&#39;s just a different approach that does not use the &quot;catalog&quot; approach.\r\n","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>One other approach that we have taken successfully is to generate the WS client proxy code using wsimport (from Ant, as an Ant task) and specify the wsdlLocation attribute.</p>\n\n<pre><code>&lt;wsimport debug=\"true\" keep=\"true\" verbose=\"false\" target=\"2.1\" sourcedestdir=\"${generated.client}\" wsdl=\"${src}${wsdl.file}\" wsdlLocation=\"${wsdl.file}\"&gt;\n&lt;/wsimport&gt;\n</code></pre>\n\n<p>Since we run this for a project w/ multiple WSDLs, the script resolves the $(wsdl.file} value dynamically which is set up to be /META-INF/wsdl/YourWebServiceName.wsdl relative to the JavaSource location (or /src, depending on how you have your project set up).  During the build proess, the WSDL and XSDs files are copied to this location and packaged in the JAR file.  (similar to the solution described by Bhasakar above)</p>\n\n<pre><code>MyApp.jar\n|__META-INF\n   |__wsdl\n      |__YourWebServiceName.wsdl\n      |__YourWebServiceName_schema1.xsd\n      |__YourWebServiceName_schmea2.xsd\n</code></pre>\n\n<p>Note: make sure the WSDL files are using relative refrerences to any imported XSDs and not http URLs:</p>\n\n<pre><code>  &lt;types&gt;\n    &lt;xsd:schema&gt;\n      &lt;xsd:import namespace=\"http://valueobject.common.services.xyz.com/\" schemaLocation=\"YourWebService_schema1.xsd\"/&gt;\n    &lt;/xsd:schema&gt;\n    &lt;xsd:schema&gt;\n      &lt;xsd:import namespace=\"http://exceptions.util.xyz.com/\" schemaLocation=\"YourWebService_schema2.xsd\"/&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/types&gt;\n</code></pre>\n\n<p>In the <strong>generated</strong> code, we find this:</p>\n\n<pre><code>/**\n * This class was generated by the JAX-WS RI.\n * JAX-WS RI 2.2-b05-\n * Generated source version: 2.1\n * \n */\n@WebServiceClient(name = \"YourService\", targetNamespace = \"http://test.webservice.services.xyz.com/\", wsdlLocation = \"/META-INF/wsdl/YourService.wsdl\")\npublic class YourService_Service\n    extends Service\n{\n\n    private final static URL YOURWEBSERVICE_WSDL_LOCATION;\n    private final static WebServiceException YOURWEBSERVICE_EXCEPTION;\n    private final static QName YOURWEBSERVICE_QNAME = new QName(\"http://test.webservice.services.xyz.com/\", \"YourService\");\n\n    static {\n        YOURWEBSERVICE_WSDL_LOCATION = com.xyz.services.webservice.test.YourService_Service.class.getResource(\"/META-INF/wsdl/YourService.wsdl\");\n        WebServiceException e = null;\n        if (YOURWEBSERVICE_WSDL_LOCATION == null) {\n            e = new WebServiceException(\"Cannot find '/META-INF/wsdl/YourService.wsdl' wsdl. Place the resource correctly in the classpath.\");\n        }\n        YOURWEBSERVICE_EXCEPTION = e;\n    }\n\n    public YourService_Service() {\n        super(__getWsdlLocation(), YOURWEBSERVICE_QNAME);\n    }\n\n    public YourService_Service(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    /**\n     * \n     * @return\n     *     returns YourService\n     */\n    @WebEndpoint(name = \"YourServicePort\")\n    public YourService getYourServicePort() {\n        return super.getPort(new QName(\"http://test.webservice.services.xyz.com/\", \"YourServicePort\"), YourService.class);\n    }\n\n    /**\n     * \n     * @param features\n     *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\n     * @return\n     *     returns YourService\n     */\n    @WebEndpoint(name = \"YourServicePort\")\n    public YourService getYourServicePort(WebServiceFeature... features) {\n        return super.getPort(new QName(\"http://test.webservice.services.xyz.com/\", \"YourServicePort\"), YourService.class, features);\n    }\n\n    private static URL __getWsdlLocation() {\n        if (YOURWEBSERVICE_EXCEPTION!= null) {\n            throw YOURWEBSERVICE_EXCEPTION;\n        }\n        return YOURWEBSERVICE_WSDL_LOCATION;\n    }\n\n}\n</code></pre>\n\n<p>Perhaps this might help too.  It's just a different approach that does not use the \"catalog\" approach.</p>\n"},{"tags":[],"owner":{"account_id":9379,"reputation":4132,"user_id":17304,"accept_rate":0,"display_name":"Piko"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1328724161,"creation_date":1328724161,"answer_id":9198915,"question_id":4163586,"body_markdown":"Had the **exact** same problem that is described herein. No matter what I did, following the above examples, to change the location of my WSDL file (in our case from a web server), it was still referencing the original location embedded within the source tree of the server process.\r\n\r\nAfter **MANY** hours trying to debug this, I noticed that the Exception was always being thrown from the exact same line (in my case 41). Finally this morning, I decided to just send my source client code to our trade partner so they can at least understand how the code looks, but perhaps build their own. To my **shock** and **horror** I found a bunch of class files mixed in with my .java files within my client source tree. How bizarre!! I suspect these were a byproduct of the JAX-WS client builder tool.\r\n\r\nOnce I zapped those silly .class files and performed a complete clean and rebuild of the client code, everything works perfectly!! Redonculous!!\r\n\r\nYMMV,\r\nAndrew","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>Had the <strong>exact</strong> same problem that is described herein. No matter what I did, following the above examples, to change the location of my WSDL file (in our case from a web server), it was still referencing the original location embedded within the source tree of the server process.</p>\n\n<p>After <strong>MANY</strong> hours trying to debug this, I noticed that the Exception was always being thrown from the exact same line (in my case 41). Finally this morning, I decided to just send my source client code to our trade partner so they can at least understand how the code looks, but perhaps build their own. To my <strong>shock</strong> and <strong>horror</strong> I found a bunch of class files mixed in with my .java files within my client source tree. How bizarre!! I suspect these were a byproduct of the JAX-WS client builder tool.</p>\n\n<p>Once I zapped those silly .class files and performed a complete clean and rebuild of the client code, everything works perfectly!! Redonculous!!</p>\n\n<p>YMMV,\nAndrew</p>\n"},{"tags":[],"owner":{"account_id":6868120,"reputation":79,"user_id":5279698,"display_name":"Hemus7"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1451570693,"creation_date":1451570693,"answer_id":34547520,"question_id":4163586,"body_markdown":"Thanks a ton for Bhaskar Karambelkar&#39;s answer which explains in detail and fixed my issue. But also I would like to re phrase the answer in three simple steps for someone who is in a hurry to fix \r\n\r\n1. Make your wsdl local location reference as `wsdlLocation= &quot;http://localhost/wsdl/yourwsdlname.wsdl&quot;`\r\n2. Create a META-INF folder right under the src. Put your wsdl file/s in a folder under META-INF, say META-INF/wsdl\r\n3. Create an xml file jax-ws-catalog.xml under META-INF as below\r\n\r\n    `&lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;\r\n    \tprefer=&quot;system&quot;&gt;\r\n    \t&lt;system systemId=&quot;http://localhost/wsdl/yourwsdlname.wsdl&quot; uri=&quot;wsdl/yourwsdlname.wsdl&quot; /&gt;\r\n    &lt;/catalog&gt;`\r\n\r\nNow package your jar. No more reference to the local directory, it&#39;s all packaged and referenced within","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>Thanks a ton for Bhaskar Karambelkar's answer which explains in detail and fixed my issue. But also I would like to re phrase the answer in three simple steps for someone who is in a hurry to fix </p>\n\n<ol>\n<li>Make your wsdl local location reference as <code>wsdlLocation= \"http://localhost/wsdl/yourwsdlname.wsdl\"</code></li>\n<li>Create a META-INF folder right under the src. Put your wsdl file/s in a folder under META-INF, say META-INF/wsdl</li>\n<li><p>Create an xml file jax-ws-catalog.xml under META-INF as below</p>\n\n<p><code>&lt;catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\"\n    prefer=\"system\"&gt;\n    &lt;system systemId=\"http://localhost/wsdl/yourwsdlname.wsdl\" uri=\"wsdl/yourwsdlname.wsdl\" /&gt;\n&lt;/catalog&gt;</code></p></li>\n</ol>\n\n<p>Now package your jar. No more reference to the local directory, it's all packaged and referenced within</p>\n"},{"tags":[],"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1481105875,"creation_date":1481105875,"answer_id":41014781,"question_id":4163586,"body_markdown":"For those of you using Spring, you can simply reference any classpath-resource using the classpath-protocol. So in case of the wsdlLocation, this becomes:\r\n\r\n    &lt;wsdlLocation&gt;classpath:META-INF/webservice.wsdl&lt;/wsdlLocation&gt;\r\n\r\nNote that is not standard Java behavior. See also: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/resources.html","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>For those of you using Spring, you can simply reference any classpath-resource using the classpath-protocol. So in case of the wsdlLocation, this becomes:</p>\n\n<pre><code>&lt;wsdlLocation&gt;classpath:META-INF/webservice.wsdl&lt;/wsdlLocation&gt;\n</code></pre>\n\n<p>Note that is not standard Java behavior. See also: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/resources.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/resources.html</a></p>\n"},{"tags":[],"owner":{"account_id":2714004,"reputation":1472,"user_id":2341765,"accept_rate":20,"display_name":"Shafiul"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574158710,"creation_date":1574158710,"answer_id":58931622,"question_id":4163586,"body_markdown":"For those who are still coming for solution here, the easiest solution would be to use `&lt;wsdlLocation&gt;`, without changing any code. Working steps are given below:\r\n\r\n\r\n 1. Put your wsdl to resource directory like : `src/main/resource`\r\n 2. In pom file, add both wsdlDirectory and wsdlLocation(don&#39;t miss / at the beginning of wsdlLocation), like below. While wsdlDirectory is used to generate code and wsdlLocation is used at runtime to create dynamic proxy.\r\n\r\n        &lt;wsdlDirectory&gt;src/main/resources/mydir&lt;/wsdlDirectory&gt;\r\n        &lt;wsdlLocation&gt;/mydir/my.wsdl&lt;/wsdlLocation&gt;\r\n\r\n 3. Then in your java code(with no-arg constructor):\r\n\r\n        MyPort myPort = new MyPortService().getMyPort();\r\n\r\n 4. For completeness, I am providing here full code generation part, with fluent api in generated code.\r\n\r\n        &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;wsdl-to-java-generator&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xjcArgs&gt;\r\n                        &lt;xjcArg&gt;-Xfluent-api&lt;/xjcArg&gt;\r\n                    &lt;/xjcArgs&gt;\r\n                    &lt;keep&gt;true&lt;/keep&gt;\r\n                    &lt;wsdlDirectory&gt;src/main/resources/package&lt;/wsdlDirectory&gt;\r\n                    &lt;wsdlLocation&gt;/package/my.wsdl&lt;/wsdlLocation&gt;\r\n                    &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/annotations/jaxb&lt;/sourceDestDir&gt;\r\n                    &lt;packageName&gt;full.package.here&lt;/packageName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n       &lt;/plugin&gt;\r\n\r\n","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>For those who are still coming for solution here, the easiest solution would be to use <code>&lt;wsdlLocation&gt;</code>, without changing any code. Working steps are given below:</p>\n\n<ol>\n<li>Put your wsdl to resource directory like : <code>src/main/resource</code></li>\n<li><p>In pom file, add both wsdlDirectory and wsdlLocation(don't miss / at the beginning of wsdlLocation), like below. While wsdlDirectory is used to generate code and wsdlLocation is used at runtime to create dynamic proxy.</p>\n\n<pre><code>&lt;wsdlDirectory&gt;src/main/resources/mydir&lt;/wsdlDirectory&gt;\n&lt;wsdlLocation&gt;/mydir/my.wsdl&lt;/wsdlLocation&gt;\n</code></pre></li>\n<li><p>Then in your java code(with no-arg constructor):</p>\n\n<pre><code>MyPort myPort = new MyPortService().getMyPort();\n</code></pre></li>\n<li><p>For completeness, I am providing here full code generation part, with fluent api in generated code.</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.5&lt;/version&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;wsdl-to-java-generator&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;xjcArgs&gt;\n                &lt;xjcArg&gt;-Xfluent-api&lt;/xjcArg&gt;\n            &lt;/xjcArgs&gt;\n            &lt;keep&gt;true&lt;/keep&gt;\n            &lt;wsdlDirectory&gt;src/main/resources/package&lt;/wsdlDirectory&gt;\n            &lt;wsdlLocation&gt;/package/my.wsdl&lt;/wsdlLocation&gt;\n            &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/annotations/jaxb&lt;/sourceDestDir&gt;\n            &lt;packageName&gt;full.package.here&lt;/packageName&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616977876,"creation_date":1616977876,"answer_id":66847449,"question_id":4163586,"body_markdown":"For those using multiple wsdl file:\r\n\r\n**pom.xml**\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;bindingDirectory&gt;${basedir}/src/main/resources/jaxws&lt;/bindingDirectory&gt;\r\n                &lt;bindingFiles&gt;\r\n                    &lt;bindingFile&gt;binding.xjb&lt;/bindingFile&gt;\r\n                &lt;/bindingFiles&gt;\r\n                &lt;wsdlDirectory&gt;${basedir}/src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n                &lt;wsdlFiles&gt;\r\n                    &lt;wsdlFile&gt;VN_PCSApplicationManagementService_v21.xml&lt;/wsdlFile&gt;\r\n                    &lt;wsdlFile&gt;VN_PCSApplicationOfferManagementService_v7.xml&lt;/wsdlFile&gt;\r\n                    &lt;wsdlFile&gt;VN_PCSOnlineDebtService_v2.xml&lt;/wsdlFile&gt;\r\n                &lt;/wsdlFiles&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\nWhen create service client:\r\n\r\n    @Bean\r\n    public ApplicationOfferManagementWSV7 getAppOfferWS() {\r\n        String wsdlLocation = OnlineDebtWSv2Soap11QSService.class.getAnnotation(WebServiceClient.class).wsdlLocation().replaceFirst(&quot;.+wsdl/&quot;, &quot;/wsdl/&quot;);\r\n        URL url = this.getClass().getResource(wsdlLocation);\r\n        ApplicationOfferManagementWSV7 applicationManagementWSV21 = new ApplicationOfferManagementWSV7Soap11QSService(url)\r\n                .getApplicationOfferManagementWSV7Soap11QSPort();\r\n\r\n        BindingProvider binding = (BindingProvider) applicationManagementWSV21;\r\n        binding.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, username);\r\n        binding.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, password);\r\n        binding.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, offerEndpoint);\r\n\r\n        return applicationManagementWSV21;\r\n    }","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>For those using multiple wsdl file:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.6&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;bindingDirectory&gt;${basedir}/src/main/resources/jaxws&lt;/bindingDirectory&gt;\n            &lt;bindingFiles&gt;\n                &lt;bindingFile&gt;binding.xjb&lt;/bindingFile&gt;\n            &lt;/bindingFiles&gt;\n            &lt;wsdlDirectory&gt;${basedir}/src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n            &lt;wsdlFiles&gt;\n                &lt;wsdlFile&gt;VN_PCSApplicationManagementService_v21.xml&lt;/wsdlFile&gt;\n                &lt;wsdlFile&gt;VN_PCSApplicationOfferManagementService_v7.xml&lt;/wsdlFile&gt;\n                &lt;wsdlFile&gt;VN_PCSOnlineDebtService_v2.xml&lt;/wsdlFile&gt;\n            &lt;/wsdlFiles&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>When create service client:</p>\n<pre><code>@Bean\npublic ApplicationOfferManagementWSV7 getAppOfferWS() {\n    String wsdlLocation = OnlineDebtWSv2Soap11QSService.class.getAnnotation(WebServiceClient.class).wsdlLocation().replaceFirst(&quot;.+wsdl/&quot;, &quot;/wsdl/&quot;);\n    URL url = this.getClass().getResource(wsdlLocation);\n    ApplicationOfferManagementWSV7 applicationManagementWSV21 = new ApplicationOfferManagementWSV7Soap11QSService(url)\n            .getApplicationOfferManagementWSV7Soap11QSPort();\n\n    BindingProvider binding = (BindingProvider) applicationManagementWSV21;\n    binding.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, username);\n    binding.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, password);\n    binding.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, offerEndpoint);\n\n    return applicationManagementWSV21;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7439229,"reputation":105,"user_id":5657520,"display_name":"Devashish Priyadarshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654776161,"creation_date":1654776161,"answer_id":72559907,"question_id":4163586,"body_markdown":"In my case I had to remove the (excluding=&quot;META-INF&quot;) from the .classpath file for the entry for &quot;src&quot; And then in the Proxy class changed the wsdl paths from /META-INF to META-INF","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>In my case I had to remove the (excluding=&quot;META-INF&quot;) from the .classpath file for the entry for &quot;src&quot; And then in the Proxy class changed the wsdl paths from /META-INF to META-INF</p>\n"}],"owner":{"display_name":"user260192"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188549,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":4178783,"answer_count":8,"score":93,"last_activity_date":1671918204,"creation_date":1289556896,"question_id":4163586,"body_markdown":"The problem is I need to build a web service client from a file I&#39;m been provided. I&#39;ve stored this file on the local file system and, while I keep the WSDL file in the correct file system folder, everything is fine. When I deploy it to a server or remove the WSDL from the file system folder the proxy can&#39;t find the WSDL and rises an error. I&#39;ve searched the web and I&#39;ve found the following posts yet I&#39;m not been able to make it work:  \r\nhttps://stackoverflow.com/questions/764772/jax-ws-loading-wsdl-from-jar  \r\nhttp://www.java.net/forum/topic/glassfish/metro-and-jaxb/client-jar-cant-find-local-wsdl-0  \r\nhttp://blog.vinodsingh.com/2008/12/locally-packaged-wsdl.html\r\n\r\nI&#39;m using NetBeans 6.1 (this is a legacy application I&#39;ve to update with this new web service client). Below is the JAX-WS proxy class :\r\n\r\n        @WebServiceClient(name = &quot;SOAService&quot;, targetNamespace = &quot;http://soaservice.eci.ibm.com/&quot;, wsdlLocation = &quot;file:/C:/local/path/to/wsdl/SOAService.wsdl&quot;)\r\n    public class SOAService\r\n        extends Service\r\n    {\r\n    \r\n        private final static URL SOASERVICE_WSDL_LOCATION;\r\n        private final static Logger logger = Logger.getLogger(com.ibm.eci.soaservice.SOAService.class.getName());\r\n    \r\n        static {\r\n            URL url = null;\r\n            try {\r\n                URL baseUrl;\r\n                baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;.&quot;);\r\n                url = new URL(baseUrl, &quot;file:/C:/local/path/to/wsdl/SOAService.wsdl&quot;);\r\n            } catch (MalformedURLException e) {\r\n                logger.warning(&quot;Failed to create URL for the wsdl Location: &#39;file:/C:/local/path/to/wsdl/SOAService.wsdl&#39;, retrying as a local file&quot;);\r\n                logger.warning(e.getMessage());\r\n            }\r\n            SOASERVICE_WSDL_LOCATION = url;\r\n        }\r\n    \r\n        public SOAService(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        public SOAService() {\r\n            super(SOASERVICE_WSDL_LOCATION, new QName(&quot;http://soaservice.eci.ibm.com/&quot;, &quot;SOAService&quot;));\r\n        }\r\n    \r\n        /**\r\n         * @return\r\n         *     returns SOAServiceSoap\r\n         */\r\n        @WebEndpoint(name = &quot;SOAServiceSOAP&quot;)\r\n        public SOAServiceSoap getSOAServiceSOAP() {\r\n            return super.getPort(new QName(&quot;http://soaservice.eci.ibm.com/&quot;, &quot;SOAServiceSOAP&quot;), SOAServiceSoap.class);\r\n        }\r\n    \r\n        /**\r\n         * @param features\r\n         *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\r\n         * @return\r\n         *     returns SOAServiceSoap\r\n         */\r\n        @WebEndpoint(name = &quot;SOAServiceSOAP&quot;)\r\n        public SOAServiceSoap getSOAServiceSOAP(WebServiceFeature... features) {\r\n            return super.getPort(new QName(&quot;http://soaservice.eci.ibm.com/&quot;, &quot;SOAServiceSOAP&quot;), SOAServiceSoap.class, features);\r\n        }\r\n    \r\n    }\r\n\r\n&lt;br&gt;\r\nThis is my code to use the proxy :\r\n\r\n       WebServiceClient annotation = SOAService.class.getAnnotation(WebServiceClient.class);\r\n       // trying to replicate proxy settings\r\n       URL baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(&quot;&quot;);//note : proxy uses &quot;.&quot;\r\n       URL url = new URL(baseUrl, &quot;/WEB-INF/wsdl/client/SOAService.wsdl&quot;);\r\n       //URL wsdlUrl = this.getClass().getResource(&quot;/META-INF/wsdl/SOAService.wsdl&quot;); \r\n       SOAService serviceObj = new SOAService(url, new QName(annotation.targetNamespace(), annotation.name()));\r\n       proxy = serviceObj.getSOAServiceSOAP();\r\n       /* baseUrl;\r\n      \r\n       //classes\\com\\ibm\\eci\\soaservice\r\n       //URL url = new URL(baseUrl, &quot;../../../../wsdl/SOAService.wsdl&quot;);\r\n       \r\n       proxy = new SOAService().getSOAServiceSOAP();*/\r\n       //updating service endpoint \r\n       Map&lt;String, Object&gt; ctxt = ((BindingProvider)proxy ).getRequestContext();\r\n       ctxt.put(JAXWSProperties.HTTP_CLIENT_STREAMING_CHUNK_SIZE, 8192);\r\n       ctxt.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, WebServiceUrl);\r\n\r\nNetBeans put a copy of the WSDL in *web-inf/wsdl/client/SOAService*, so I don&#39;t want to add it to *META-INF* too. Service classes are in *WEB-INF/classes/com/ibm/eci/soaservice/* and baseurl variable contains the filesystem full path to it (c:\\path\\to\\the\\project...\\soaservice ). The above code raises the error:\r\n\r\n&gt; javax.xml.ws.WebServiceException: Failed to access the WSDL at: file:/WEB-INF/wsdl/client/SOAService.wsdl. It failed with: \r\n        \\WEB-INF\\wsdl\\client\\SOAService.wsdl (cannot find the path)  \r\n\r\nSo, first of all, shall I update the wsdllocation of the proxy class? Then how do I tell the SOAService class in WEB-INF/classes/com/ibm/eci/soaservice to search for the WSDL in \\WEB-INF\\wsdl\\client\\SOAService.wsdl?\r\n\r\n**EDITED**: I&#39;ve found this other link - http://jianmingli.com/wp/?cat=41, which say to put the WSDL into the classpath. I&#39;m ashamed to ask: how do I put it into the web application classpath?","title":"JAX-WS client : what&#39;s the correct path to access the local WSDL?","body":"<p>The problem is I need to build a web service client from a file I'm been provided. I've stored this file on the local file system and, while I keep the WSDL file in the correct file system folder, everything is fine. When I deploy it to a server or remove the WSDL from the file system folder the proxy can't find the WSDL and rises an error. I've searched the web and I've found the following posts yet I'm not been able to make it work:<br>\n<a href=\"https://stackoverflow.com/questions/764772/jax-ws-loading-wsdl-from-jar\">JAX-WS Loading WSDL from jar</a><br>\n<a href=\"http://www.java.net/forum/topic/glassfish/metro-and-jaxb/client-jar-cant-find-local-wsdl-0\" rel=\"noreferrer\">http://www.java.net/forum/topic/glassfish/metro-and-jaxb/client-jar-cant-find-local-wsdl-0</a><br>\n<a href=\"http://blog.vinodsingh.com/2008/12/locally-packaged-wsdl.html\" rel=\"noreferrer\">http://blog.vinodsingh.com/2008/12/locally-packaged-wsdl.html</a></p>\n\n<p>I'm using NetBeans 6.1 (this is a legacy application I've to update with this new web service client). Below is the JAX-WS proxy class :</p>\n\n<pre><code>    @WebServiceClient(name = \"SOAService\", targetNamespace = \"http://soaservice.eci.ibm.com/\", wsdlLocation = \"file:/C:/local/path/to/wsdl/SOAService.wsdl\")\npublic class SOAService\n    extends Service\n{\n\n    private final static URL SOASERVICE_WSDL_LOCATION;\n    private final static Logger logger = Logger.getLogger(com.ibm.eci.soaservice.SOAService.class.getName());\n\n    static {\n        URL url = null;\n        try {\n            URL baseUrl;\n            baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(\".\");\n            url = new URL(baseUrl, \"file:/C:/local/path/to/wsdl/SOAService.wsdl\");\n        } catch (MalformedURLException e) {\n            logger.warning(\"Failed to create URL for the wsdl Location: 'file:/C:/local/path/to/wsdl/SOAService.wsdl', retrying as a local file\");\n            logger.warning(e.getMessage());\n        }\n        SOASERVICE_WSDL_LOCATION = url;\n    }\n\n    public SOAService(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    public SOAService() {\n        super(SOASERVICE_WSDL_LOCATION, new QName(\"http://soaservice.eci.ibm.com/\", \"SOAService\"));\n    }\n\n    /**\n     * @return\n     *     returns SOAServiceSoap\n     */\n    @WebEndpoint(name = \"SOAServiceSOAP\")\n    public SOAServiceSoap getSOAServiceSOAP() {\n        return super.getPort(new QName(\"http://soaservice.eci.ibm.com/\", \"SOAServiceSOAP\"), SOAServiceSoap.class);\n    }\n\n    /**\n     * @param features\n     *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\n     * @return\n     *     returns SOAServiceSoap\n     */\n    @WebEndpoint(name = \"SOAServiceSOAP\")\n    public SOAServiceSoap getSOAServiceSOAP(WebServiceFeature... features) {\n        return super.getPort(new QName(\"http://soaservice.eci.ibm.com/\", \"SOAServiceSOAP\"), SOAServiceSoap.class, features);\n    }\n\n}\n</code></pre>\n\n<p><br>\nThis is my code to use the proxy :</p>\n\n<pre><code>   WebServiceClient annotation = SOAService.class.getAnnotation(WebServiceClient.class);\n   // trying to replicate proxy settings\n   URL baseUrl = com.ibm.eci.soaservice.SOAService.class.getResource(\"\");//note : proxy uses \".\"\n   URL url = new URL(baseUrl, \"/WEB-INF/wsdl/client/SOAService.wsdl\");\n   //URL wsdlUrl = this.getClass().getResource(\"/META-INF/wsdl/SOAService.wsdl\"); \n   SOAService serviceObj = new SOAService(url, new QName(annotation.targetNamespace(), annotation.name()));\n   proxy = serviceObj.getSOAServiceSOAP();\n   /* baseUrl;\n\n   //classes\\com\\ibm\\eci\\soaservice\n   //URL url = new URL(baseUrl, \"../../../../wsdl/SOAService.wsdl\");\n\n   proxy = new SOAService().getSOAServiceSOAP();*/\n   //updating service endpoint \n   Map&lt;String, Object&gt; ctxt = ((BindingProvider)proxy ).getRequestContext();\n   ctxt.put(JAXWSProperties.HTTP_CLIENT_STREAMING_CHUNK_SIZE, 8192);\n   ctxt.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, WebServiceUrl);\n</code></pre>\n\n<p>NetBeans put a copy of the WSDL in <em>web-inf/wsdl/client/SOAService</em>, so I don't want to add it to <em>META-INF</em> too. Service classes are in <em>WEB-INF/classes/com/ibm/eci/soaservice/</em> and baseurl variable contains the filesystem full path to it (c:\\path\\to\\the\\project...\\soaservice ). The above code raises the error:</p>\n\n<blockquote>\n  <p>javax.xml.ws.WebServiceException: Failed to access the WSDL at: file:/WEB-INF/wsdl/client/SOAService.wsdl. It failed with: \n          \\WEB-INF\\wsdl\\client\\SOAService.wsdl (cannot find the path)  </p>\n</blockquote>\n\n<p>So, first of all, shall I update the wsdllocation of the proxy class? Then how do I tell the SOAService class in WEB-INF/classes/com/ibm/eci/soaservice to search for the WSDL in \\WEB-INF\\wsdl\\client\\SOAService.wsdl?</p>\n\n<p><strong>EDITED</strong>: I've found this other link - <a href=\"http://jianmingli.com/wp/?cat=41\" rel=\"noreferrer\">http://jianmingli.com/wp/?cat=41</a>, which say to put the WSDL into the classpath. I'm ashamed to ask: how do I put it into the web application classpath?</p>\n"},{"tags":["java","android","audio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671918284,"post_id":74910453,"comment_id":132197685,"body_markdown":"How are you starting the service, and are you calling `stopService()` at all?","body":"How are you starting the service, and are you calling <code>stopService()</code> at all?"},{"owner":{"account_id":17665258,"reputation":3,"user_id":12822794,"display_name":"سامي عبدالله علي المصباحي"},"score":0,"creation_date":1671918651,"post_id":74910453,"comment_id":132197727,"body_markdown":"buttonPlay.setOnClickListener(view -&gt; {\n          \n            Intent serviceIntent = new Intent(MainActivity.this, AudioService.class);\n            startService(serviceIntent);\n        });\n\n        buttonStop.setOnClickListener(view -&gt; {\n          \n            Intent serviceIntent = new Intent(MainActivity.this, AudioService.class);\n            stopService(serviceIntent);\n        });","body":"buttonPlay.setOnClickListener(view -&gt; {                        Intent serviceIntent = new Intent(MainActivity.this, AudioService.class);             startService(serviceIntent);         });          buttonStop.setOnClickListener(view -&gt; {                        Intent serviceIntent = new Intent(MainActivity.this, AudioService.class);             stopService(serviceIntent);         });"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671918789,"post_id":74910453,"comment_id":132197747,"body_markdown":"&quot;then the application terminates directly&quot; -- are you crashing? If so, examine Logcat to see the stack trace associated with your crash.","body":"&quot;then the application terminates directly&quot; -- are you crashing? If so, examine Logcat to see the stack trace associated with your crash."},{"owner":{"account_id":17665258,"reputation":3,"user_id":12822794,"display_name":"سامي عبدالله علي المصباحي"},"score":0,"creation_date":1671918990,"post_id":74910453,"comment_id":132197774,"body_markdown":"Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.release()&#39; on a null object reference\n        at com.audio.example.AudioService.onDestroy(AudioService.java:47)","body":"Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.release()&#39; on a null object reference         at com.audio.example.AudioService.onDestroy(AudioService.java:4&zwnj;&#8203;7)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1671919079,"post_id":74910453,"comment_id":132197787,"body_markdown":"Something is destroying your service before `onStartCommand()` is being called. Are you calling `stopService()` anywhere else?","body":"Something is destroying your service before <code>onStartCommand()</code> is being called. Are you calling <code>stopService()</code> anywhere else?"},{"owner":{"account_id":17665258,"reputation":3,"user_id":12822794,"display_name":"سامي عبدالله علي المصباحي"},"score":0,"creation_date":1671920597,"post_id":74910453,"comment_id":132197959,"body_markdown":"Of course not, I don&#39;t know why, the code is completely written","body":"Of course not, I don&#39;t know why, the code is completely written"}],"owner":{"account_id":17665258,"reputation":3,"user_id":12822794,"display_name":"سامي عبدالله علي المصباحي"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671917901,"creation_date":1671917901,"question_id":74910453,"body_markdown":"I tried playing the sound in the background service, but when I press the &quot;play&quot; button, the sound plays for a moment, and then the application terminates directly, this is my code :\r\n    \r\n    \r\n    public class AudioService extends Service {\r\n            private MediaPlayer mediaPlayer;\r\n    \r\n            @Override\r\n            public int onStartCommand(Intent intent, int flags, int startId) {\r\n                // Start the foreground service\r\n                startForegroundService();\r\n    \r\n                // Create the media player and set the audio file to play\r\n                mediaPlayer = MediaPlayer.create(this, R.raw.song_1);\r\n                mediaPlayer.setLooping(true);\r\n    \r\n                // Start playing the audio\r\n                mediaPlayer.start();\r\n    \r\n                return START_STICKY;\r\n            }\r\n    \r\n            private void startForegroundService() {\r\n                // Create the notification for the foreground service\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\r\n                        .setSmallIcon(R.drawable.ic_play_arrow)\r\n                        .setContentTitle(&quot;Background Audio Service&quot;)\r\n                        .setContentText(&quot;Playing audio in the background&quot;);\r\n    \r\n                // Start the foreground service with the notification\r\n                startForeground(1, builder.build());\r\n            }\r\n    \r\n            @Override\r\n            public IBinder onBind(Intent intent) {\r\n                // Return null because this service is not bound to any activity\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public void onDestroy() {\r\n                // Release the media player and stop the foreground service\r\n                mediaPlayer.release();\r\n                stopForeground(true);\r\n            }\r\n        }\r\n\r\n","title":"play audio file in the background using a service","body":"<p>I tried playing the sound in the background service, but when I press the &quot;play&quot; button, the sound plays for a moment, and then the application terminates directly, this is my code :</p>\n<pre><code>public class AudioService extends Service {\n        private MediaPlayer mediaPlayer;\n\n        @Override\n        public int onStartCommand(Intent intent, int flags, int startId) {\n            // Start the foreground service\n            startForegroundService();\n\n            // Create the media player and set the audio file to play\n            mediaPlayer = MediaPlayer.create(this, R.raw.song_1);\n            mediaPlayer.setLooping(true);\n\n            // Start playing the audio\n            mediaPlayer.start();\n\n            return START_STICKY;\n        }\n\n        private void startForegroundService() {\n            // Create the notification for the foreground service\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\n                    .setSmallIcon(R.drawable.ic_play_arrow)\n                    .setContentTitle(&quot;Background Audio Service&quot;)\n                    .setContentText(&quot;Playing audio in the background&quot;);\n\n            // Start the foreground service with the notification\n            startForeground(1, builder.build());\n        }\n\n        @Override\n        public IBinder onBind(Intent intent) {\n            // Return null because this service is not bound to any activity\n            return null;\n        }\n\n        @Override\n        public void onDestroy() {\n            // Release the media player and stop the foreground service\n            mediaPlayer.release();\n            stopForeground(true);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671905631,"post_id":74909254,"comment_id":132195808,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27345995,"reputation":1,"user_id":20855888,"display_name":"leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671917714,"creation_date":1671917714,"answer_id":74910441,"question_id":74909254,"body_markdown":"Try adding `cors().and()` to the configuration before `csrf().disable()`","title":"Spring Security CORS","body":"<p>Try adding <code>cors().and()</code> to the configuration before <code>csrf().disable()</code></p>\n"}],"owner":{"account_id":27344730,"reputation":1,"user_id":20854802,"display_name":"erik_101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671917714,"creation_date":1671902766,"question_id":74909254,"body_markdown":"I have tried to create endpoints and access those of them that don&#39;t need a role, but my Spring Security configuration wouldn&#39;t allow me to use it because of CORS.\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.\r\n                csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/login&quot;).permitAll()\r\n                .antMatchers(&quot;/logout&quot;).permitAll()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/getChecks&quot;).hasAuthority(Permission.USERS_READ.getPermission())\r\n                .antMatchers(&quot;/addCheck&quot;).hasAuthority(Permission.USERS_ADD_DOTES.getPermission())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .apply(jwtConfigurer);\r\n    }\r\n\r\nShould I add some additional configuration in SecurityConfig.java?\r\n\r\nI want to access the endpoint.","title":"Spring Security CORS","body":"<p>I have tried to create endpoints and access those of them that don't need a role, but my Spring Security configuration wouldn't allow me to use it because of CORS.</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.\n            csrf().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeRequests()\n            .antMatchers(&quot;/&quot;).permitAll()\n            .antMatchers(&quot;/login&quot;).permitAll()\n            .antMatchers(&quot;/logout&quot;).permitAll()\n            .antMatchers(&quot;/register&quot;).permitAll()\n            .antMatchers(&quot;/getChecks&quot;).hasAuthority(Permission.USERS_READ.getPermission())\n            .antMatchers(&quot;/addCheck&quot;).hasAuthority(Permission.USERS_ADD_DOTES.getPermission())\n            .anyRequest()\n            .authenticated()\n            .and()\n            .apply(jwtConfigurer);\n}\n</code></pre>\n<p>Should I add some additional configuration in SecurityConfig.java?</p>\n<p>I want to access the endpoint.</p>\n"},{"tags":["java","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538745049,"post_id":52665624,"comment_id":92262427,"body_markdown":"I bet there are more logged information...and I would bet they are related to network issues...please add more logging output ...before the packaging failures are comming...","body":"I bet there are more logged information...and I would bet they are related to network issues...please add more logging output ...before the packaging failures are comming..."},{"owner":{"account_id":14481972,"reputation":1,"user_id":10460972,"display_name":"Ashiro"},"score":0,"creation_date":1538746797,"post_id":52665624,"comment_id":92263620,"body_markdown":"I just uploaded a picture of the logging output before the packaging failed on the main topic !","body":"I just uploaded a picture of the logging output before the packaging failed on the main topic !"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538750990,"post_id":52665624,"comment_id":92266274,"body_markdown":"First do not add links to pictures better copy &amp; paste the text into the question..furthermore it looks like you don&#39;t have spring dependencies in your pom file...?","body":"First do not add links to pictures better copy &amp; paste the text into the question..furthermore it looks like you don&#39;t have spring dependencies in your pom file...?"},{"owner":{"account_id":14481972,"reputation":1,"user_id":10460972,"display_name":"Ashiro"},"score":0,"creation_date":1538773537,"post_id":52665624,"comment_id":92276277,"body_markdown":"Yeah, i&#39;m sorry for the presentation, I was at work and I was using the debian subOs from windows 10. So when i copy paste the text is almost unreadable. About the dependency my super pom have spring dependencies, I&#39;m downloading the src right now form work in order to show you !","body":"Yeah, i&#39;m sorry for the presentation, I was at work and I was using the debian subOs from windows 10. So when i copy paste the text is almost unreadable. About the dependency my super pom have spring dependencies, I&#39;m downloading the src right now form work in order to show you !"},{"owner":{"account_id":14481972,"reputation":1,"user_id":10460972,"display_name":"Ashiro"},"score":0,"creation_date":1538776793,"post_id":52665624,"comment_id":92277203,"body_markdown":"Unfortunately their servers are off, i&#39;ll call them monday","body":"Unfortunately their servers are off, i&#39;ll call them monday"}],"owner":{"account_id":14481972,"reputation":1,"user_id":10460972,"display_name":"Ashiro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671917318,"creation_date":1538742416,"question_id":52665624,"body_markdown":"Here is the header of my super pom\r\n\r\n    &lt;groupId&gt;com.nao.lsb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lsb-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0-RC2-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nAnd here his son named lsb-core\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;lsb-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.nao.lsb&lt;/groupId&gt;       \r\n        &lt;version&gt;1.2.0-RC2-SNAPSHOT&lt;/version&gt;       \r\n    &lt;/parent&gt;    \r\n\r\nSo the folder of my parent is just a pom. Also I forgot to tell you this project is in java!\r\n\r\nThe issue I have is when I want to install/compile. The dependencies from my superpom are in the effective pom of lsb-core. When I run &quot;`mvn clean install`&quot; I have loads of &quot;cannot find symbol&quot; &quot;package does not exist&quot;. **This error happened on every package used which are declared in my superpom**\r\n\r\nFor example:\r\n\r\n    [ERROR] /mnt/c/Users/l.hugo/Desktop/Project/src/lsb-core/src/main/java/com/nao/lsb/core/settings/LSBUserAndClientSettingsConfigurationService.java:[8,41] package org.springframework.beans.factory does not exist\r\n\r\nBut spring-beans appears in my effective pom of lsb-core with the right groupId, artifactId and version.\r\nIf I add to &quot;lsb-core/pom.xml&quot; the dependency of spring-beans then I don&#39;t get any error. But then my superpom is useless.\r\n\r\n**I might have misunderstood something.**\r\n\r\nThose package which are in the dependencies scope of my father are also not shown when I use the command &quot;`mvn dependency:resolve`&quot; or &quot;`mvn dependency:analyze`&quot;.\r\n\r\nI hope this is clear enough, if you need more information I&#39;ll be here to answer as fast as possible\r\n\r\nEdit: before the error\r\n\r\n[Screenshot of error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Df1u.png","title":"Another Maven &quot;package doesn&#39;t exist&quot; from all dependencies of my father pom","body":"<p>Here is the header of my super pom</p>\n<pre><code>&lt;groupId&gt;com.nao.lsb&lt;/groupId&gt;\n&lt;artifactId&gt;lsb-parent&lt;/artifactId&gt;\n&lt;version&gt;1.2.0-RC2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>And here his son named lsb-core</p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;lsb-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;com.nao.lsb&lt;/groupId&gt;       \n    &lt;version&gt;1.2.0-RC2-SNAPSHOT&lt;/version&gt;       \n&lt;/parent&gt;    \n</code></pre>\n<p>So the folder of my parent is just a pom. Also I forgot to tell you this project is in java!</p>\n<p>The issue I have is when I want to install/compile. The dependencies from my superpom are in the effective pom of lsb-core. When I run &quot;<code>mvn clean install</code>&quot; I have loads of &quot;cannot find symbol&quot; &quot;package does not exist&quot;. <strong>This error happened on every package used which are declared in my superpom</strong></p>\n<p>For example:</p>\n<pre><code>[ERROR] /mnt/c/Users/l.hugo/Desktop/Project/src/lsb-core/src/main/java/com/nao/lsb/core/settings/LSBUserAndClientSettingsConfigurationService.java:[8,41] package org.springframework.beans.factory does not exist\n</code></pre>\n<p>But spring-beans appears in my effective pom of lsb-core with the right groupId, artifactId and version.\nIf I add to &quot;lsb-core/pom.xml&quot; the dependency of spring-beans then I don't get any error. But then my superpom is useless.</p>\n<p><strong>I might have misunderstood something.</strong></p>\n<p>Those package which are in the dependencies scope of my father are also not shown when I use the command &quot;<code>mvn dependency:resolve</code>&quot; or &quot;<code>mvn dependency:analyze</code>&quot;.</p>\n<p>I hope this is clear enough, if you need more information I'll be here to answer as fast as possible</p>\n<p>Edit: before the error</p>\n<p><a href=\"https://i.stack.imgur.com/5Df1u.png\" rel=\"nofollow noreferrer\">Screenshot of error</a></p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671917263,"creation_date":1671916123,"answer_id":74910334,"question_id":74910250,"body_markdown":"Thanks to the [Unmitigated advice][1], I&#39;ve fixed it by changing the annotation instead of:\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nto\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9513184/unmitigated","title":"How to fix the problem with auto-incrementing id column while populating the database?","body":"<p>Thanks to the <a href=\"https://stackoverflow.com/users/9513184/unmitigated\">Unmitigated advice</a>, I've fixed it by changing the annotation instead of:</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n<p>to</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n"}],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74910334,"answer_count":1,"score":0,"last_activity_date":1671917263,"creation_date":1671914981,"question_id":74910250,"body_markdown":"I continue working on the [project][1]. While populating with the script, the `id` column does not increment for some reason.\r\n\r\nI have the following `Employee` entity:\r\n\r\n    @Data\r\n    @ToString\r\n    @EqualsAndHashCode\r\n    @Entity(name = &quot;employee_entity&quot;)\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee implements UserDetails {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n    \r\n        @JsonProperty(&quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @JsonProperty(&quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @JsonProperty(&quot;phone_number&quot;)\r\n        private String phoneNumber;\r\n        private String email;\r\n        private double salary;\r\n        @Enumerated(EnumType.STRING)\r\n        private Role role;\r\n        private String password;\r\n        private String username;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return List.of(() -&gt; &quot;USER&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nIn `application.properties` I have `DDL` *Hibernate* configuration as:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nI have two scripts as `data.sql`:\r\n\r\n    /*==============================================================*/\r\n    /* Table: Employees                                             */\r\n    /*==============================================================*/\r\n    insert into Employees (firstName, lastName, phoneNumber, email, salary, role, password, username)\r\n    values (&#39;Christiano&#39;, &#39;Ronaldo&#39;, &#39;+421905123456&#39;, &#39;test@gmail.com&#39;, 50000.00, &#39;TEAM_LEADER&#39;, &#39;testPassword&#39;, &#39;C7&#39;),\r\n           (&#39;John&#39;, &#39;Smith&#39;, &#39;+421905123480&#39;, &#39;test2@gmail.com&#39;, 40000.00, &#39;PM&#39;, &#39;testPassword2&#39;, &#39;Jo&#39;),\r\n           (&#39;Michael&#39;, &#39;Jackson&#39;, &#39;+421905123400&#39;, &#39;test3@gmail.com&#39;, 30000.00, &#39;DEVELOPER&#39;, &#39;testPassword3&#39;, &#39;Mike&#39;),\r\n           (&#39;Leonardo&#39;, &#39;DiCaprio&#39;, &#39;+421905123450&#39;, &#39;test4@gmail.com&#39;, 20000.00, &#39;SCIENTIST&#39;, &#39;testPassword4&#39;, &#39;Leo&#39;),\r\n           (&#39;Brad&#39;, &#39;Pitt&#39;, &#39;+421905123455&#39;, &#39;test5@gmail.com&#39;, 10000.00, &#39;ENGINEER&#39;, &#39;testPassword5&#39;, &#39;Brad&#39;);\r\n    \r\n    /*==============================================================*/\r\n    /* Table: Projects                                              */\r\n    /*==============================================================*/\r\n    insert into Projects (name, abbreviation, customer)\r\n    values (&#39;Dokazovi&#39;, &#39;DKZ&#39;, &#39;SoftServe&#39;),\r\n           (&#39;CarRentalSystem&#39;, &#39;CRS&#39;, &#39;DevPlus&#39;),\r\n           (&#39;MarketPlace&#39;, &#39;MP&#39;, &#39;EPAM&#39;);\r\n\r\n`schema.sql`:\r\n\r\n    drop table if exists employees;\r\n    \r\n    drop table if exists projects;\r\n    \r\n    /*==============================================================*/\r\n    /* Table: projects                                              */\r\n    /*==============================================================*/\r\n    create table projects\r\n    (\r\n        name          varchar(100) not null,\r\n        abbreviation  varchar(100) not null,\r\n        customer      varchar(100) not null\r\n    ) CHARACTER SET utf8;\r\n    \r\n    /*==============================================================*/\r\n    /* Table: employees                                             */\r\n    /*==============================================================*/\r\n    create table employees\r\n    (\r\n        firstName   varchar(100) not null,\r\n        lastName    varchar(100) not null,\r\n        phoneNumber varchar(100) not null,\r\n        email       varchar(100) not null,\r\n        salary      double       not null,\r\n        role        varchar(100) not null,\r\n        password    varchar(100) not null,\r\n        username    varchar(100) not null\r\n    ) CHARACTER SET utf8;\r\n\r\n\r\nI have the question based on it:\r\n\r\nHow can I fix *incrementing* of this `id` on the code level? \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThanks in advance for any help with it.\r\n\r\n  [1]: https://github.com/invzbl3/RestApiApplication\r\n  [2]: https://i.stack.imgur.com/3R5iJ.png","title":"How to fix the problem with auto-incrementing id column while populating the database?","body":"<p>I continue working on the <a href=\"https://github.com/invzbl3/RestApiApplication\" rel=\"nofollow noreferrer\">project</a>. While populating with the script, the <code>id</code> column does not increment for some reason.</p>\n<p>I have the following <code>Employee</code> entity:</p>\n<pre><code>@Data\n@ToString\n@EqualsAndHashCode\n@Entity(name = &quot;employee_entity&quot;)\n@Table(name = &quot;employees&quot;)\npublic class Employee implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @JsonProperty(&quot;first_name&quot;)\n    private String firstName;\n\n    @JsonProperty(&quot;last_name&quot;)\n    private String lastName;\n\n    @JsonProperty(&quot;phone_number&quot;)\n    private String phoneNumber;\n    private String email;\n    private double salary;\n    @Enumerated(EnumType.STRING)\n    private Role role;\n    private String password;\n    private String username;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return List.of(() -&gt; &quot;USER&quot;);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>In <code>application.properties</code> I have <code>DDL</code> <em>Hibernate</em> configuration as:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I have two scripts as <code>data.sql</code>:</p>\n<pre><code>/*==============================================================*/\n/* Table: Employees                                             */\n/*==============================================================*/\ninsert into Employees (firstName, lastName, phoneNumber, email, salary, role, password, username)\nvalues ('Christiano', 'Ronaldo', '+421905123456', 'test@gmail.com', 50000.00, 'TEAM_LEADER', 'testPassword', 'C7'),\n       ('John', 'Smith', '+421905123480', 'test2@gmail.com', 40000.00, 'PM', 'testPassword2', 'Jo'),\n       ('Michael', 'Jackson', '+421905123400', 'test3@gmail.com', 30000.00, 'DEVELOPER', 'testPassword3', 'Mike'),\n       ('Leonardo', 'DiCaprio', '+421905123450', 'test4@gmail.com', 20000.00, 'SCIENTIST', 'testPassword4', 'Leo'),\n       ('Brad', 'Pitt', '+421905123455', 'test5@gmail.com', 10000.00, 'ENGINEER', 'testPassword5', 'Brad');\n\n/*==============================================================*/\n/* Table: Projects                                              */\n/*==============================================================*/\ninsert into Projects (name, abbreviation, customer)\nvalues ('Dokazovi', 'DKZ', 'SoftServe'),\n       ('CarRentalSystem', 'CRS', 'DevPlus'),\n       ('MarketPlace', 'MP', 'EPAM');\n</code></pre>\n<p><code>schema.sql</code>:</p>\n<pre><code>drop table if exists employees;\n\ndrop table if exists projects;\n\n/*==============================================================*/\n/* Table: projects                                              */\n/*==============================================================*/\ncreate table projects\n(\n    name          varchar(100) not null,\n    abbreviation  varchar(100) not null,\n    customer      varchar(100) not null\n) CHARACTER SET utf8;\n\n/*==============================================================*/\n/* Table: employees                                             */\n/*==============================================================*/\ncreate table employees\n(\n    firstName   varchar(100) not null,\n    lastName    varchar(100) not null,\n    phoneNumber varchar(100) not null,\n    email       varchar(100) not null,\n    salary      double       not null,\n    role        varchar(100) not null,\n    password    varchar(100) not null,\n    username    varchar(100) not null\n) CHARACTER SET utf8;\n</code></pre>\n<p>I have the question based on it:</p>\n<p>How can I fix <em>incrementing</em> of this <code>id</code> on the code level?</p>\n<p><a href=\"https://i.stack.imgur.com/3R5iJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3R5iJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance for any help with it.</p>\n"},{"tags":["java","mongodb","reactive-programming","webclient","reactive-mongo-java"],"answers":[{"tags":[],"owner":{"account_id":13763805,"reputation":35,"user_id":9932867,"display_name":"Mallikarjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671916933,"creation_date":1671916933,"answer_id":74910392,"question_id":74904925,"body_markdown":"am able to make it work using below code\r\n\r\n```\r\n.collectList() // Collects all elements emitted by this Flux into a List \r\n.toFuture() // waits and returns CompletableFuture\r\n.join(); // return&#39;s the data instead of CompletableFuture\r\n\r\n```","title":"MongoDb async/insertData, sync/getData: using ReactiveMongoTemplate","body":"<p>am able to make it work using below code</p>\n<pre><code>.collectList() // Collects all elements emitted by this Flux into a List \n.toFuture() // waits and returns CompletableFuture\n.join(); // return's the data instead of CompletableFuture\n\n</code></pre>\n"}],"owner":{"account_id":13763805,"reputation":35,"user_id":9932867,"display_name":"Mallikarjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671916933,"creation_date":1671841216,"question_id":74904925,"body_markdown":"I have a situation where I need to insert in async and get data (obviously it should be in sync) currenlty am using ReactiveMongoTemplate\r\n\r\n```\r\n//insert async\r\nreactiveMongoTemplate.save(MyObject)\r\n```\r\n\r\n```\r\n// get data in sync\r\nreactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\r\n\t\t\t\t.in(&quot;myList&quot;)), MyObject.class);\r\n```\r\n\r\nwith above code both are in async\r\n\r\nI tried to block ```.find``` with toIterable() / toStream() \r\n\r\n```\r\nreactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\r\n\t\t\t\t.in(&quot;myList&quot;)), MyObject.class).toIterable().forEach(myRecord -&gt; {\r\n\t\t\t\t\t// process response\r\n\t\t\t\t});\r\n```\r\n\r\nbut they are failing with below error\r\n\r\n```\r\nIterating over a toIterable() / toStream() is blocking, which is not supported in thread reactor-http-nio-3\r\n```\r\n\r\nMore code\r\n```\r\nwebClient.post()\r\n\t.uri(&quot;serviceurl&quot;)\r\n\t.headers(&quot;headers&quot;)\r\n\t.body(Mono.just(body), JsonNode.class)\r\n\t.retrieve()\r\n\t.bodyToMono(MyObject.class)\r\n\t.flatMap(responseObject -&gt; {\r\n\t\tMap&lt;String, MySubResponse&gt; repMap = responseObject.\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.toMap(&quot;key&quot;, &quot;value&quot;));\r\n\t\treactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\r\n\t\t\t\t.in(&quot;myList&quot;)), MyObject.class).toIterable().forEach(val -&gt; {\r\n\t\t\t\t\t\tMySubResponse mySubResponse = repMap.get(&quot;val.key&quot;);\r\n\t\t\t\t\t\tmySubResponse.setMyProperty(val.getProperty)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\treturn repMap.values();\r\n\t});\r\n```\r\n\r\n\r\n\r\n\r\nany suggestion on how can I achieve this?\r\n\r\nany other alternative?\r\n\r\nare should I just use regular mongo template to get details, so results will be in sync, is it a good practise to use ReactiveMongoTemplate and MongoTemplate in a same project ?\r\n\r\nKindly help,\r\nThanks\r\n\r\n\r\n\r\n","title":"MongoDb async/insertData, sync/getData: using ReactiveMongoTemplate","body":"<p>I have a situation where I need to insert in async and get data (obviously it should be in sync) currenlty am using ReactiveMongoTemplate</p>\n<pre><code>//insert async\nreactiveMongoTemplate.save(MyObject)\n</code></pre>\n<pre><code>// get data in sync\nreactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\n                .in(&quot;myList&quot;)), MyObject.class);\n</code></pre>\n<p>with above code both are in async</p>\n<p>I tried to block <code>.find</code> with toIterable() / toStream()</p>\n<pre><code>reactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\n                .in(&quot;myList&quot;)), MyObject.class).toIterable().forEach(myRecord -&gt; {\n                    // process response\n                });\n</code></pre>\n<p>but they are failing with below error</p>\n<pre><code>Iterating over a toIterable() / toStream() is blocking, which is not supported in thread reactor-http-nio-3\n</code></pre>\n<p>More code</p>\n<pre><code>webClient.post()\n    .uri(&quot;serviceurl&quot;)\n    .headers(&quot;headers&quot;)\n    .body(Mono.just(body), JsonNode.class)\n    .retrieve()\n    .bodyToMono(MyObject.class)\n    .flatMap(responseObject -&gt; {\n        Map&lt;String, MySubResponse&gt; repMap = responseObject.\n                .stream()\n                .collect(Collectors.toMap(&quot;key&quot;, &quot;value&quot;));\n        reactiveMongoTemplate.find(Query.query(Criteria.where(&quot;myId&quot;)\n                .in(&quot;myList&quot;)), MyObject.class).toIterable().forEach(val -&gt; {\n                        MySubResponse mySubResponse = repMap.get(&quot;val.key&quot;);\n                        mySubResponse.setMyProperty(val.getProperty)\n                    }\n                });\n        return repMap.values();\n    });\n</code></pre>\n<p>any suggestion on how can I achieve this?</p>\n<p>any other alternative?</p>\n<p>are should I just use regular mongo template to get details, so results will be in sync, is it a good practise to use ReactiveMongoTemplate and MongoTemplate in a same project ?</p>\n<p>Kindly help,\nThanks</p>\n"},{"tags":["java","hadoop","mapreduce","sqoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671916982,"post_id":74909543,"comment_id":132197527,"body_markdown":"Did a local E_INFO.java file get created? Why continue to try fighting Sqoop errors? It&#39;s not supposed to be this difficult, but it&#39;s also not maintained, so no one will ever fix it","body":"Did a local E_INFO.java file get created? Why continue to try fighting Sqoop errors? It&#39;s not supposed to be this difficult, but it&#39;s also not maintained, so no one will ever fix it"},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671938122,"post_id":74909543,"comment_id":132199291,"body_markdown":"Using sqoop just for time being, once my data is loaded in hdfs and other team is ready to fetch it. I ll then make the sqoop replacement in parallel.","body":"Using sqoop just for time being, once my data is loaded in hdfs and other team is ready to fetch it. I ll then make the sqoop replacement in parallel."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671939891,"post_id":74909543,"comment_id":132199375,"body_markdown":"But data doesn&#39;t need to be in HDFS, right? Other teams can use JDBC/ODBC to access th]e E_INFO table? Otherwise, use Spark [to read](https://spark.apache.org/docs/latest/sql-data-sources-jdbc.html) and [to write](https://spark.apache.org/docs/latest/sql-data-sources-load-save-functions.html#saving-to-persistent-tables)","body":"But data doesn&#39;t need to be in HDFS, right? Other teams can use JDBC/ODBC to access th]e E_INFO table? Otherwise, use Spark <a href=\"https://spark.apache.org/docs/latest/sql-data-sources-jdbc.html\" rel=\"nofollow noreferrer\">to read</a> and <a href=\"https://spark.apache.org/docs/latest/sql-data-sources-load-save-functions.html#saving-to-persistent-tables\" rel=\"nofollow noreferrer\">to write</a>"},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671942558,"post_id":74909543,"comment_id":132199538,"body_markdown":"Can you tell in which folder is can check if the E_INFO.java file is created or not?","body":"Can you tell in which folder is can check if the E_INFO.java file is created or not?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671947741,"post_id":74909543,"comment_id":132199833,"body_markdown":"It should be the folder that you ran the sqoop command from, if I remember correctly. _[A by-product of the import process is a generated Java class which can encapsulate one row of the imported table](https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_prerequisites)_. Read the import section on how to control/override this behavior","body":"It should be the folder that you ran the sqoop command from, if I remember correctly. <i><a href=\"https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_prerequisites\" rel=\"nofollow noreferrer\">A by-product of the import process is a generated Java class which can encapsulate one row of the imported table</a></i>. Read the import section on how to control/override this behavior"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671948041,"post_id":74909543,"comment_id":132199850,"body_markdown":"Also, read error more closely, you have `ln: failed to create symbolic link`. That seems to be how it&#39;s attempting to load some JARs, and that&#39;s after some /tmp location mentioning `E_INFO.jar`","body":"Also, read error more closely, you have <code>ln: failed to create symbolic link</code>. That seems to be how it&#39;s attempting to load some JARs, and that&#39;s after some /tmp location mentioning <code>E_INFO.jar</code>"},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671969072,"post_id":74909543,"comment_id":132202042,"body_markdown":"Yes the E_INFO.java file is getting created.","body":"Yes the E_INFO.java file is getting created."}],"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671916928,"creation_date":1671906226,"question_id":74909543,"body_markdown":"i am running this import command to import E_INFO table from MySQL databases to HDFS using sqoop. the job is failing with below given error.\r\n\r\n```sqoop import --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxx --table E_INFO```\r\n\r\nhowever a blank file is getting created without any records in hdfs as E_INFO.\r\nyour help here is highly appreciated.\r\n\r\n```\r\nh-user@h-primary:~/sqoop-1.4.7/bin$ sqoop import --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxx --table E_INFO\r\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\r\nPlease set $HBASE_HOME to the root of your HBase installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\r\nPlease set $HCAT_HOME to the root of your HCatalog installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\r\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\r\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\r\n2022-12-24 21:33:59,888 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\r\n2022-12-24 21:34:00,034 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\n2022-12-24 21:34:00,355 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\r\n2022-12-24 21:34:00,356 INFO tool.CodeGenTool: Beginning code generation\r\nLoading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n2022-12-24 21:34:02,279 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `E_INFO` AS t LIMIT 1\r\n2022-12-24 21:34:02,678 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `E_INFO` AS t LIMIT 1\r\n2022-12-24 21:34:02,693 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop\r\nNote: /tmp/sqoop-h-user/compile/e0e749532f0eaa6daaca522c9759658a/E_INFO.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2022-12-24 21:34:07,748 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-h-user/compile/e0e749532f0eaa6daaca522c9759658a/E_INFO.jar\r\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: It looks like you are importing from mysql.\r\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: This transfer can be faster! Use the --direct\r\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.\r\n2022-12-24 21:34:07,798 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)\r\n2022-12-24 21:34:07,830 INFO mapreduce.ImportJobBase: Beginning import of E_INFO\r\n2022-12-24 21:34:07,833 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\r\n2022-12-24 21:34:08,191 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\r\n2022-12-24 21:34:09,386 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\r\n2022-12-24 21:34:09,626 INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties\r\n2022-12-24 21:34:10,080 INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\r\n2022-12-24 21:34:10,080 INFO impl.MetricsSystemImpl: JobTracker metrics system started\r\n2022-12-24 21:34:10,722 INFO db.DBInputFormat: Using read commited transaction isolation\r\n2022-12-24 21:34:10,793 INFO mapreduce.JobSubmitter: number of splits:1\r\n2022-12-24 21:34:11,333 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local377089840_0001\r\n2022-12-24 21:34:11,334 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n2022-12-24 21:34:12,059 INFO mapred.LocalDistributedCacheManager: Creating symlink: /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars &lt;- /home/h-user/sqoop-1.4.7/bin/libjars/*\r\n2022-12-24 21:34:12,098 WARN fs.FileUtil: Command &#39;ln -s /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars /home/h-user/sqoop-1.4.7/bin/libjars/*&#39; failed 1 with: ln: failed to create symbolic link &#39;/home/h-user/sqoop-1.4.7/bin/libjars/*&#39;: No such file or directory\r\n\r\n2022-12-24 21:34:12,098 WARN mapred.LocalDistributedCacheManager: Failed to create symlink: /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars &lt;- /home/h-user/sqoop-1.4.7/bin/libjars/*\r\n2022-12-24 21:34:12,099 INFO mapred.LocalDistributedCacheManager: Localized file:/tmp/hadoop/mapred/staging/h-user377089840/.staging/job_local377089840_0001/libjars as file:/tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars\r\n2022-12-24 21:34:12,256 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\r\n2022-12-24 21:34:12,261 INFO mapred.LocalJobRunner: OutputCommitter set in config null\r\n2022-12-24 21:34:12,264 INFO mapreduce.Job: Running job: job_local377089840_0001\r\n2022-12-24 21:34:12,352 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\r\n2022-12-24 21:34:12,353 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n2022-12-24 21:34:12,362 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\r\n2022-12-24 21:34:12,743 INFO mapred.LocalJobRunner: Waiting for map tasks\r\n2022-12-24 21:34:12,745 INFO mapred.LocalJobRunner: Starting task: attempt_local377089840_0001_m_000000_0\r\n2022-12-24 21:34:12,831 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\r\n2022-12-24 21:34:12,841 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n2022-12-24 21:34:12,918 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\r\n2022-12-24 21:34:13,007 INFO db.DBInputFormat: Using read commited transaction isolation\r\n2022-12-24 21:34:13,012 INFO mapred.MapTask: Processing split: 1=1 AND 1=1\r\n2022-12-24 21:34:13,025 INFO mapred.LocalJobRunner: map task executor complete.\r\n2022-12-24 21:34:13,134 WARN mapred.LocalJobRunner: job_local377089840_0001\r\njava.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class E_INFO not found\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class E_INFO not found\r\n\tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2638)\r\n\tat org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\r\n\tat org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\r\n\tat org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:527)\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:770)\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.ClassNotFoundException: Class E_INFO not found\r\n\tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2542)\r\n\tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2636)\r\n\t... 12 more\r\n2022-12-24 21:34:13,345 INFO mapreduce.Job: Job job_local377089840_0001 running in uber mode : false\r\n2022-12-24 21:34:13,351 INFO mapreduce.Job:  map 0% reduce 0%\r\n2022-12-24 21:34:13,354 INFO mapreduce.Job: Job job_local377089840_0001 failed with state FAILED due to: NA\r\n2022-12-24 21:34:13,389 INFO mapreduce.Job: Counters: 0\r\n2022-12-24 21:34:13,396 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\r\n2022-12-24 21:34:13,402 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 3.998 seconds (0 bytes/sec)\r\n2022-12-24 21:34:13,404 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\r\n2022-12-24 21:34:13,404 INFO mapreduce.ImportJobBase: Retrieved 0 records.\r\n2022-12-24 21:34:13,404 ERROR tool.ImportTool: Import failed: Import job failed!\r\n\r\n```","title":"Error while importing table from mysql to hdfs using sqoop","body":"<p>i am running this import command to import E_INFO table from MySQL databases to HDFS using sqoop. the job is failing with below given error.</p>\n<p><code>sqoop import --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxx --table E_INFO</code></p>\n<p>however a blank file is getting created without any records in hdfs as E_INFO.\nyour help here is highly appreciated.</p>\n<pre><code>h-user@h-primary:~/sqoop-1.4.7/bin$ sqoop import --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxx --table E_INFO\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\nPlease set $HBASE_HOME to the root of your HBase installation.\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\nPlease set $HCAT_HOME to the root of your HCatalog installation.\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\n2022-12-24 21:33:59,888 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n2022-12-24 21:34:00,034 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n2022-12-24 21:34:00,355 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\n2022-12-24 21:34:00,356 INFO tool.CodeGenTool: Beginning code generation\nLoading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n2022-12-24 21:34:02,279 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `E_INFO` AS t LIMIT 1\n2022-12-24 21:34:02,678 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `E_INFO` AS t LIMIT 1\n2022-12-24 21:34:02,693 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop\nNote: /tmp/sqoop-h-user/compile/e0e749532f0eaa6daaca522c9759658a/E_INFO.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2022-12-24 21:34:07,748 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-h-user/compile/e0e749532f0eaa6daaca522c9759658a/E_INFO.jar\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: It looks like you are importing from mysql.\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: This transfer can be faster! Use the --direct\n2022-12-24 21:34:07,798 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.\n2022-12-24 21:34:07,798 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)\n2022-12-24 21:34:07,830 INFO mapreduce.ImportJobBase: Beginning import of E_INFO\n2022-12-24 21:34:07,833 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\n2022-12-24 21:34:08,191 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\n2022-12-24 21:34:09,386 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\n2022-12-24 21:34:09,626 INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties\n2022-12-24 21:34:10,080 INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\n2022-12-24 21:34:10,080 INFO impl.MetricsSystemImpl: JobTracker metrics system started\n2022-12-24 21:34:10,722 INFO db.DBInputFormat: Using read commited transaction isolation\n2022-12-24 21:34:10,793 INFO mapreduce.JobSubmitter: number of splits:1\n2022-12-24 21:34:11,333 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local377089840_0001\n2022-12-24 21:34:11,334 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2022-12-24 21:34:12,059 INFO mapred.LocalDistributedCacheManager: Creating symlink: /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars &lt;- /home/h-user/sqoop-1.4.7/bin/libjars/*\n2022-12-24 21:34:12,098 WARN fs.FileUtil: Command 'ln -s /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars /home/h-user/sqoop-1.4.7/bin/libjars/*' failed 1 with: ln: failed to create symbolic link '/home/h-user/sqoop-1.4.7/bin/libjars/*': No such file or directory\n\n2022-12-24 21:34:12,098 WARN mapred.LocalDistributedCacheManager: Failed to create symlink: /tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars &lt;- /home/h-user/sqoop-1.4.7/bin/libjars/*\n2022-12-24 21:34:12,099 INFO mapred.LocalDistributedCacheManager: Localized file:/tmp/hadoop/mapred/staging/h-user377089840/.staging/job_local377089840_0001/libjars as file:/tmp/hadoop-h-user/mapred/local/job_local377089840_0001_7cb16b63-36d5-4781-94e7-4bd839e2ca49/libjars\n2022-12-24 21:34:12,256 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\n2022-12-24 21:34:12,261 INFO mapred.LocalJobRunner: OutputCommitter set in config null\n2022-12-24 21:34:12,264 INFO mapreduce.Job: Running job: job_local377089840_0001\n2022-12-24 21:34:12,352 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\n2022-12-24 21:34:12,353 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n2022-12-24 21:34:12,362 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\n2022-12-24 21:34:12,743 INFO mapred.LocalJobRunner: Waiting for map tasks\n2022-12-24 21:34:12,745 INFO mapred.LocalJobRunner: Starting task: attempt_local377089840_0001_m_000000_0\n2022-12-24 21:34:12,831 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\n2022-12-24 21:34:12,841 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n2022-12-24 21:34:12,918 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\n2022-12-24 21:34:13,007 INFO db.DBInputFormat: Using read commited transaction isolation\n2022-12-24 21:34:13,012 INFO mapred.MapTask: Processing split: 1=1 AND 1=1\n2022-12-24 21:34:13,025 INFO mapred.LocalJobRunner: map task executor complete.\n2022-12-24 21:34:13,134 WARN mapred.LocalJobRunner: job_local377089840_0001\njava.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class E_INFO not found\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class E_INFO not found\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2638)\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\n    at org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\n    at org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:527)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:770)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.ClassNotFoundException: Class E_INFO not found\n    at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2542)\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2636)\n    ... 12 more\n2022-12-24 21:34:13,345 INFO mapreduce.Job: Job job_local377089840_0001 running in uber mode : false\n2022-12-24 21:34:13,351 INFO mapreduce.Job:  map 0% reduce 0%\n2022-12-24 21:34:13,354 INFO mapreduce.Job: Job job_local377089840_0001 failed with state FAILED due to: NA\n2022-12-24 21:34:13,389 INFO mapreduce.Job: Counters: 0\n2022-12-24 21:34:13,396 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\n2022-12-24 21:34:13,402 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 3.998 seconds (0 bytes/sec)\n2022-12-24 21:34:13,404 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\n2022-12-24 21:34:13,404 INFO mapreduce.ImportJobBase: Retrieved 0 records.\n2022-12-24 21:34:13,404 ERROR tool.ImportTool: Import failed: Import job failed!\n\n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1415058538,"post_id":26725306,"comment_id":42039915,"body_markdown":"unfortunately that image is too small to see detail, do you actually have a package called &quot;controller&quot; in which your spring mvc code is?","body":"unfortunately that image is too small to see detail, do you actually have a package called &quot;controller&quot; in which your spring mvc code is?"},{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1415059303,"post_id":26725306,"comment_id":42040143,"body_markdown":"so is this question still valid?","body":"so is this question still valid?"},{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1415059499,"post_id":26725306,"comment_id":42040203,"body_markdown":"sorry I changed the title,Take new post take fooling around. I tried 2 hours but can not solve it. Try to change, try to add new code, and get new problem...","body":"sorry I changed the title,Take new post take fooling around. I tried 2 hours but can not solve it. Try to change, try to add new code, and get new problem..."},{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1415059572,"post_id":26725306,"comment_id":42040221,"body_markdown":"ok paste in your whole configuration xml files so that it can be reviewed. Also paste in your whole error stack.","body":"ok paste in your whole configuration xml files so that it can be reviewed. Also paste in your whole error stack."},{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1415059630,"post_id":26725306,"comment_id":42040238,"body_markdown":"okey, done it after 1 minute","body":"okey, done it after 1 minute"},{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1415061872,"post_id":26725306,"comment_id":42040863,"body_markdown":"do you find out something....","body":"do you find out something...."}],"answers":[{"comments":[{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1415062943,"post_id":26726045,"comment_id":42041150,"body_markdown":"just clear this code: \n &#160;&#160;            &lt;context:component-scan base-package=&quot;controller&quot; /&gt;\n &#160;&lt;mvc:annotation-driven /&gt;      . Then the project run normally, i do not know why....","body":"just clear this code:                 &lt;context:component-scan base-package=&quot;controller&quot; /&gt;   &lt;mvc:annotation-driven /&gt;      . Then the project run normally, i do not know why...."},{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1415063549,"post_id":26726045,"comment_id":42041314,"body_markdown":"can you confirm the location of your controller package, give the full address starting from src level of project.","body":"can you confirm the location of your controller package, give the full address starting from src level of project."},{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1415063909,"post_id":26726045,"comment_id":42041405,"body_markdown":"No worries. 99% of my code problems stem from silly trivial issues.","body":"No worries. 99% of my code problems stem from silly trivial issues."}],"tags":[],"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1415062618,"creation_date":1415062618,"answer_id":26726045,"question_id":26725306,"body_markdown":"Noticed in the your dispatcher-servlet.xml file you are missing &quot;`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;`&quot;.\r\n\r\nPlease add it to top of file and re-run. Let me know if it doesn&#39;t work.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>Noticed in the your dispatcher-servlet.xml file you are missing \"<code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code>\".</p>\n\n<p>Please add it to top of file and re-run. Let me know if it doesn't work.</p>\n"},{"comments":[{"owner":{"account_id":356882,"reputation":2239,"user_id":696686,"accept_rate":48,"display_name":"dieend"},"score":1,"creation_date":1443436468,"post_id":30887423,"comment_id":53477326,"body_markdown":"so do I, having extra `&gt;` in configuration","body":"so do I, having extra <code>&gt;</code> in configuration"},{"owner":{"account_id":542376,"reputation":3782,"user_id":911192,"accept_rate":77,"display_name":"Mordred"},"score":0,"creation_date":1493747549,"post_id":30887423,"comment_id":74531305,"body_markdown":"I ran into this when I added a C-style `// comment` to the file stupidly.","body":"I ran into this when I added a C-style <code>&#47;&#47; comment</code> to the file stupidly."}],"tags":[],"owner":{"account_id":4152649,"reputation":4697,"user_id":3404637,"accept_rate":56,"display_name":"smali"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1434533014,"creation_date":1434533014,"answer_id":30887423,"question_id":26725306,"body_markdown":"Unfortunately mine was a simple mistake I type a &#39;.&#39; character in the middle.\r\n\r\nSolved by just removing the &#39;.&#39; - so will get this type of error if any unused and unknown character is present in the configuration file. ","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>Unfortunately mine was a simple mistake I type a '.' character in the middle.</p>\n\n<p>Solved by just removing the '.' - so will get this type of error if any unused and unknown character is present in the configuration file. </p>\n"},{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1441498452,"creation_date":1441498452,"answer_id":32418834,"question_id":26725306,"body_markdown":"I had the same problem.  I looked at it for hours.  I could not find any problem.  Then I decided, sometimes you see something different if you use a different editor.  I closed Netbeans and opened the file in emacs.  I immediately saw, there were some kind of non-breaking space characters, or tabs, or some type of whitespace that wasn&#39;t whitespace.  I don&#39;t know which character it was but it showed up in red in emacs, but was whitespace in Netban","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I had the same problem.  I looked at it for hours.  I could not find any problem.  Then I decided, sometimes you see something different if you use a different editor.  I closed Netbeans and opened the file in emacs.  I immediately saw, there were some kind of non-breaking space characters, or tabs, or some type of whitespace that wasn't whitespace.  I don't know which character it was but it showed up in red in emacs, but was whitespace in Netban</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454496536,"creation_date":1454496536,"answer_id":35174952,"question_id":26725306,"body_markdown":"The problem was an uncommented line in the `springsecurity.xml` which was missing when I commented the whole file and uncommented. Make sure you have the extra text commented or remove them.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>The problem was an uncommented line in the <code>springsecurity.xml</code> which was missing when I commented the whole file and uncommented. Make sure you have the extra text commented or remove them.</p>\n"},{"comments":[{"owner":{"account_id":7564658,"reputation":1570,"user_id":5740760,"accept_rate":43,"display_name":"RAJESH KUMAR ARUMUGAM"},"score":0,"creation_date":1535527605,"post_id":36796286,"comment_id":91093174,"body_markdown":"in my case i typed double --&gt; --&gt;","body":"in my case i typed double --&gt; --&gt;"}],"tags":[],"owner":{"account_id":8303163,"reputation":61,"user_id":6241185,"display_name":"nila"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1461336396,"creation_date":1461334759,"answer_id":36796286,"question_id":26725306,"body_markdown":" Follow the below steps outlined and you should be able to resolve it :\r\n\r\n1. Try to open the xml in Internet Explorer or any xml view tool and see whether the xml is rendered properly.\r\n2. Or you can do a ctrl + shift + F to format the xml file and see if xml is well formed or not.\r\n3. With the above step you should be able to find the exact location where you need to make changes to make the xml well formed.\r\n4. In my case I had to just remove the extra &quot;&lt;&quot; closing tag to resolve the issue.\r\n\r\n","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>Follow the below steps outlined and you should be able to resolve it :</p>\n\n<ol>\n<li>Try to open the xml in Internet Explorer or any xml view tool and see whether the xml is rendered properly.</li>\n<li>Or you can do a ctrl + shift + F to format the xml file and see if xml is well formed or not.</li>\n<li>With the above step you should be able to find the exact location where you need to make changes to make the xml well formed.</li>\n<li>In my case I had to just remove the extra \"&lt;\" closing tag to resolve the issue.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8429212,"reputation":77,"user_id":6325528,"display_name":"SholleyonlineJava"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463056004,"creation_date":1463056004,"answer_id":37186866,"question_id":26725306,"body_markdown":"Yes, i experience thesame problem.\r\nI solved it by first: format the xml.\r\nThen i took a keen look through the lines, i found an extra closing tag (/&gt;) which have been blocking the closing &lt;/beans&gt; tag from seeing the open &lt;beans&gt; tag. So i removed the bug (/&gt;) and the program deployed.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>Yes, i experience thesame problem.\nI solved it by first: format the xml.\nThen i took a keen look through the lines, i found an extra closing tag (/>) which have been blocking the closing  tag from seeing the open  tag. So i removed the bug (/>) and the program deployed.</p>\n"},{"tags":[],"owner":{"account_id":6480194,"reputation":279,"user_id":5017478,"display_name":"vdk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476299283,"creation_date":1476299283,"answer_id":40006504,"question_id":26725306,"body_markdown":"I got the same problem. Realized it is due to some unknown spaces that my IDE couldn&#39;t recognize. Opened it in Sublime text and corrected the spaces. Works perfectly now.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I got the same problem. Realized it is due to some unknown spaces that my IDE couldn't recognize. Opened it in Sublime text and corrected the spaces. Works perfectly now.</p>\n"},{"tags":[],"owner":{"account_id":430718,"reputation":2188,"user_id":814304,"accept_rate":33,"display_name":"iMysak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477037211,"creation_date":1477037211,"answer_id":40171410,"question_id":26725306,"body_markdown":"I got similar error. The way how I fixed it was replacing:\r\n\r\n    &lt;property name=&quot;param&quot;&gt;true&lt;/property&gt;\r\n\r\non\r\n\r\n    &lt;property name=&quot;param&quot; value=&quot;true&quot;/&gt;\r\n\r\n","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I got similar error. The way how I fixed it was replacing:</p>\n\n<pre><code>&lt;property name=\"param\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>on</p>\n\n<pre><code>&lt;property name=\"param\" value=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10064338,"reputation":1,"user_id":7439940,"display_name":"Selvadurai Handeeban"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1484815789,"creation_date":1484815789,"answer_id":41737428,"question_id":26725306,"body_markdown":"manually check whether there are unnecessary spaces tabs before each nodes, you can do with eclipse\r\n\r\nregards","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>manually check whether there are unnecessary spaces tabs before each nodes, you can do with eclipse</p>\n\n<p>regards</p>\n"},{"comments":[{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1492591361,"post_id":43464987,"comment_id":74036063,"body_markdown":"Hi. You can add your validating xml tool link here to help somebody who meet this problem. :)","body":"Hi. You can add your validating xml tool link here to help somebody who meet this problem. :)"}],"tags":[],"owner":{"account_id":1044026,"reputation":2141,"user_id":1049391,"accept_rate":62,"display_name":"AbhishekB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492496501,"creation_date":1492496501,"answer_id":43464987,"question_id":26725306,"body_markdown":"I had the same problem and I resolved it by validating my `xml` using the `online xml validation tool` and found out that there was an extra whitespace which was the cause for the error. ","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I had the same problem and I resolved it by validating my <code>xml</code> using the <code>online xml validation tool</code> and found out that there was an extra whitespace which was the cause for the error. </p>\n"},{"tags":[],"owner":{"account_id":10851857,"reputation":21,"user_id":7979367,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494230185,"creation_date":1494230185,"answer_id":43842498,"question_id":26725306,"body_markdown":"This is the problem with some special hidden characters. You can copy it to some text editor and remove any hidden characters and format it better and now see.. This issue must be resolved.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>This is the problem with some special hidden characters. You can copy it to some text editor and remove any hidden characters and format it better and now see.. This issue must be resolved.</p>\n"},{"tags":[],"owner":{"account_id":2038419,"reputation":11,"user_id":1820182,"display_name":"user1820182"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528751318,"creation_date":1528751318,"answer_id":50806055,"question_id":26725306,"body_markdown":"Even I got the similar problem. When I copied it in the text editor, I observed there is &quot; got appended at the end of the line.\r\nI deleted the &quot; at the end of the line, it got Resolved..","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>Even I got the similar problem. When I copied it in the text editor, I observed there is \" got appended at the end of the line.\nI deleted the \" at the end of the line, it got Resolved..</p>\n"},{"comments":[{"owner":{"account_id":6389621,"reputation":3044,"user_id":5257450,"accept_rate":52,"display_name":"xxx222"},"score":0,"creation_date":1538518616,"post_id":51865282,"comment_id":92168460,"body_markdown":"This is very true","body":"This is very true"}],"tags":[],"owner":{"account_id":8381673,"reputation":451,"user_id":6293374,"accept_rate":76,"display_name":"Omar B."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534361826,"creation_date":1534361826,"answer_id":51865282,"question_id":26725306,"body_markdown":"for me I  mistyped a character somewhere in the xml file . just remove it and the error gone.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>for me I  mistyped a character somewhere in the xml file . just remove it and the error gone.</p>\n"},{"tags":[],"owner":{"account_id":12358214,"reputation":1,"user_id":9013393,"display_name":"Ravi Pandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599752918,"creation_date":1599730548,"answer_id":63826871,"question_id":26725306,"body_markdown":"I got the same problem, but after looking at the code closely, I found that my IDE was showing the error mark on the wrong line of code while the problem was arising because of an extra angular-bracket.\r\n\r\n","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I got the same problem, but after looking at the code closely, I found that my IDE was showing the error mark on the wrong line of code while the problem was arising because of an extra angular-bracket.</p>\n"},{"tags":[],"owner":{"account_id":2214372,"reputation":91,"user_id":1955401,"display_name":"user1955401"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665062759,"creation_date":1665062759,"answer_id":73974636,"question_id":26725306,"body_markdown":"I know this is an older question but we just had this happen the other day and it was very annoying not knowing why.\r\n\r\nI emptied our applicationContext.xml of all bean entries and pasted them back in one by one.  Eventually, I found the culprit was a simple ending comment after a been definition!  It took a half hour of complaining about it giving the error and &lt; 5 minutes to just paste the beans back in and find the errant comment. ","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I know this is an older question but we just had this happen the other day and it was very annoying not knowing why.</p>\n<p>I emptied our applicationContext.xml of all bean entries and pasted them back in one by one.  Eventually, I found the culprit was a simple ending comment after a been definition!  It took a half hour of complaining about it giving the error and &lt; 5 minutes to just paste the beans back in and find the errant comment.</p>\n"},{"tags":[],"owner":{"account_id":19930915,"reputation":1,"user_id":14604540,"display_name":"Anshika Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671916902,"creation_date":1671916765,"answer_id":74910382,"question_id":26725306,"body_markdown":"I was getting the same error and that was because I didn&#39;t use the right convention to add the comment in the xml file. \r\n\r\nI used the JAVA way to add the comment. We have to use the XML way to add the comment to avoid this error.\r\n\r\nThis error could also be because of formatting , space issue or you have typed anything by mistake in between , etc.","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I was getting the same error and that was because I didn't use the right convention to add the comment in the xml file.</p>\n<p>I used the JAVA way to add the comment. We have to use the XML way to add the comment to avoid this error.</p>\n<p>This error could also be because of formatting , space issue or you have typed anything by mistake in between , etc.</p>\n"}],"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76715,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":26726045,"answer_count":16,"score":25,"last_activity_date":1671916902,"creation_date":1415058059,"question_id":26725306,"body_markdown":"I search some page in stackoverflow to solve this problem, did follow some true answer but not working. I am new in spring , sorry.\r\n here is my dispatcher-servlet\r\n\r\n      \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n          \r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n            http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n            http://www.springframework.org/schema/context    \r\n            http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n            http://www.springframework.org/schema/mvc \r\n            http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\r\n            http://www.springframework.org/schema/aop \r\n            http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n            http://www.springframework.org/schema/tx \r\n            http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \r\n     &lt;context:component-scan base-package=&quot;controller&quot; /&gt;\r\n     &#160;&lt;mvc:annotation-driven /&gt;\r\n        &lt;bean class=&quot;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&quot;/&gt;\r\n       \r\n        &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n            &lt;property name=&quot;mappings&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n              p:prefix=&quot;/WEB-INF/jsp/&quot;\r\n              p:suffix=&quot;.jsp&quot; /&gt;\r\n        &lt;bean name=&quot;indexController&quot;\r\n              class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n              p:viewName=&quot;index&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;   &lt; -- line 52 here...\r\n\r\nHere is my web.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;    \r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n            &lt;context-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n            &lt;/context-param&gt;\r\n            &lt;listener&gt;\r\n                &lt;listener-\r\n              class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n            &lt;/listener&gt;\r\n            &lt;servlet&gt;\r\n                &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n                &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet- \r\n    class&gt;\r\n                &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n            &lt;/servlet&gt;\r\n            &lt;servlet-mapping&gt;\r\n                &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n                &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n            &lt;/servlet-mapping&gt;\r\n            &lt;session-config&gt;\r\n                &lt;session-timeout&gt;\r\n                    30\r\n                &lt;/session-timeout&gt;\r\n            &lt;/session-config&gt;\r\n            &lt;welcome-file-list&gt;\r\n                &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\r\n            &lt;/welcome-file-list&gt;\r\n        &lt;/web-app&gt;\r\n\r\n And my ApplicationContext\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- was: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; --&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n           http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n           http://www.springframework.org/schema/aop \r\n           http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n           http://www.springframework.org/schema/tx \r\n           http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \r\n        &lt;!--bean id=&quot;propertyConfigurer&quot;\r\n        class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;\r\n              p:location=&quot;/WEB-INF/jdbc.properties&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;dataSource&quot;\r\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;\r\n        p:driverClassName=&quot;${jdbc.driverClassName}&quot;\r\n        p:url=&quot;${jdbc.url}&quot;\r\n        p:username=&quot;${jdbc.username}&quot;\r\n        p:password=&quot;${jdbc.password}&quot; \r\n    &lt;/beans&gt;\r\n\r\n I have controller package in Source Package.\r\n The log say:\r\n   \r\n\r\n     04-Nov-2014 07:15:34.187 SEVERE [http-nio-8084-exec-375] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet dispatcher\r\n     org.xml.sax.SAXParseException; lineNumber: 52; columnNumber: 9; cvc-complex-type.2.3: Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only.\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:458)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3237)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3200)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3160)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3062)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2140)\r\n    \tat com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:859)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2973)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:347)\r\n    \tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1241)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1154)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:827)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:136)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:526)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:655)\r\n    \tat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n \r\n remove 2 lines:\r\n\r\n     &lt;context:component-scan base-package=&quot;controller&quot; /&gt;\r\n         &#160;&lt;mvc:annotation-driven /&gt;\r\n then the project run normally. I do not know why....\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/S2HUC.jpg","title":"Springs Element &#39;beans&#39; cannot have character [children], because the type&#39;s content type is element-only","body":"<p>I search some page in stackoverflow to solve this problem, did follow some true answer but not working. I am new in spring , sorry.\n here is my dispatcher-servlet</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\" \n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n        http://www.springframework.org/schema/context    \n        http://www.springframework.org/schema/context/spring-context-4.0.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\n        http://www.springframework.org/schema/aop \n        http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n        http://www.springframework.org/schema/tx \n        http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n\n &lt;context:component-scan base-package=\"controller\" /&gt;\n  &lt;mvc:annotation-driven /&gt;\n    &lt;bean class=\"org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping\"/&gt;\n\n    &lt;bean id=\"urlMapping\" class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"index.htm\"&gt;indexController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"viewResolver\"\n          class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n          p:prefix=\"/WEB-INF/jsp/\"\n          p:suffix=\".jsp\" /&gt;\n    &lt;bean name=\"indexController\"\n          class=\"org.springframework.web.servlet.mvc.ParameterizableViewController\"\n          p:viewName=\"index\" /&gt;\n\n&lt;/beans&gt;   &lt; -- line 52 here...\n</code></pre>\n\n<p>Here is my web.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"    \n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"   \n     xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n     http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n        &lt;context-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n        &lt;/context-param&gt;\n        &lt;listener&gt;\n            &lt;listener-\n          class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n        &lt;/listener&gt;\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet- \nclass&gt;\n            &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n        &lt;session-config&gt;\n            &lt;session-timeout&gt;\n                30\n            &lt;/session-timeout&gt;\n        &lt;/session-config&gt;\n        &lt;welcome-file-list&gt;\n            &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n        &lt;/welcome-file-list&gt;\n    &lt;/web-app&gt;\n</code></pre>\n\n<p>And my ApplicationContext</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- was: &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; --&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n       http://www.springframework.org/schema/aop \n       http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n       http://www.springframework.org/schema/tx \n       http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n\n    &lt;!--bean id=\"propertyConfigurer\"\n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n          p:location=\"/WEB-INF/jdbc.properties\" /&gt;\n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"\n    p:driverClassName=\"${jdbc.driverClassName}\"\n    p:url=\"${jdbc.url}\"\n    p:username=\"${jdbc.username}\"\n    p:password=\"${jdbc.password}\" \n&lt;/beans&gt;\n</code></pre>\n\n<p>I have controller package in Source Package.\n The log say:</p>\n\n<pre><code> 04-Nov-2014 07:15:34.187 SEVERE [http-nio-8084-exec-375] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet dispatcher\n org.xml.sax.SAXParseException; lineNumber: 52; columnNumber: 9; cvc-complex-type.2.3: Element 'beans' cannot have character [children], because the type's content type is element-only.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:458)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3237)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3200)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3160)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3062)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2140)\n    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:859)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2973)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:347)\n    at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1241)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1154)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:827)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:136)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:526)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:655)\n    at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>remove 2 lines:</p>\n\n<pre><code> &lt;context:component-scan base-package=\"controller\" /&gt;\n      &lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<p>then the project run normally. I do not know why....</p>\n\n<p><img src=\"https://i.stack.imgur.com/S2HUC.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","sqoop","apache-commons-lang"],"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671916143,"creation_date":1671879851,"question_id":74907202,"body_markdown":"Given below is the error. I have added the apache.org.common.lang jar still am getting this . am having these .JARs in my lib folder am is missing on any?\r\n\r\n - ant-contrib-1.0b3.jar\r\n - ant-eclipse-1.0-jvm1.2.jar\r\n - avro-1.8.1.jar\r\n - mysql-connector-java-8.0.29.jar\r\n - org.apache.commons.lang-2.6.jar\r\n - sqljdbc4-chs-4.0.2206.100.jar\r\n\r\n```\r\nh-user@h-primary:~/sqoop-1.4.7/lib$ sqoop eval --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxxxx --query &#39;select * from E_INFO&#39;\r\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\r\nPlease set $HBASE_HOME to the root of your HBase installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\r\nPlease set $HCAT_HOME to the root of your HCatalog installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\r\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\r\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\r\n2022-12-24 16:23:55,026 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\r\n2022-12-24 16:23:55,121 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\n2022-12-24 16:23:55,314 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils\r\n\tat org.apache.sqoop.manager.MySQLManager.initOptionDefaults(MySQLManager.java:73)\r\n\tat org.apache.sqoop.manager.SqlManager.&lt;init&gt;(SqlManager.java:89)\r\n\tat com.cloudera.sqoop.manager.SqlManager.&lt;init&gt;(SqlManager.java:33)\r\n\tat org.apache.sqoop.manager.GenericJdbcManager.&lt;init&gt;(GenericJdbcManager.java:51)\r\n\tat com.cloudera.sqoop.manager.GenericJdbcManager.&lt;init&gt;(GenericJdbcManager.java:30)\r\n\tat org.apache.sqoop.manager.CatalogQueryManager.&lt;init&gt;(CatalogQueryManager.java:46)\r\n\tat com.cloudera.sqoop.manager.CatalogQueryManager.&lt;init&gt;(CatalogQueryManager.java:31)\r\n\tat org.apache.sqoop.manager.InformationSchemaManager.&lt;init&gt;(InformationSchemaManager.java:38)\r\n\tat com.cloudera.sqoop.manager.InformationSchemaManager.&lt;init&gt;(InformationSchemaManager.java:31)\r\n\tat org.apache.sqoop.manager.MySQLManager.&lt;init&gt;(MySQLManager.java:65)\r\n\tat org.apache.sqoop.manager.DefaultManagerFactory.accept(DefaultManagerFactory.java:67)\r\n\tat org.apache.sqoop.ConnFactory.getManager(ConnFactory.java:184)\r\n\tat org.apache.sqoop.tool.BaseSqoopTool.init(BaseSqoopTool.java:272)\r\n\tat org.apache.sqoop.tool.EvalSqlTool.run(EvalSqlTool.java:56)\r\n\tat org.apache.sqoop.Sqoop.run(Sqoop.java:147)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)\r\n\tat org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:183)\r\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:234)\r\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:243)\r\n\tat org.apache.sqoop.Sqoop.main(Sqoop.java:252)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang.StringUtils\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 20 more\r\n\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils","body":"<p>Given below is the error. I have added the apache.org.common.lang jar still am getting this . am having these .JARs in my lib folder am is missing on any?</p>\n<ul>\n<li>ant-contrib-1.0b3.jar</li>\n<li>ant-eclipse-1.0-jvm1.2.jar</li>\n<li>avro-1.8.1.jar</li>\n<li>mysql-connector-java-8.0.29.jar</li>\n<li>org.apache.commons.lang-2.6.jar</li>\n<li>sqljdbc4-chs-4.0.2206.100.jar</li>\n</ul>\n<pre><code>h-user@h-primary:~/sqoop-1.4.7/lib$ sqoop eval --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxxxx --query 'select * from E_INFO'\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\nPlease set $HBASE_HOME to the root of your HBase installation.\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\nPlease set $HCAT_HOME to the root of your HCatalog installation.\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\n2022-12-24 16:23:55,026 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n2022-12-24 16:23:55,121 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n2022-12-24 16:23:55,314 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils\n    at org.apache.sqoop.manager.MySQLManager.initOptionDefaults(MySQLManager.java:73)\n    at org.apache.sqoop.manager.SqlManager.&lt;init&gt;(SqlManager.java:89)\n    at com.cloudera.sqoop.manager.SqlManager.&lt;init&gt;(SqlManager.java:33)\n    at org.apache.sqoop.manager.GenericJdbcManager.&lt;init&gt;(GenericJdbcManager.java:51)\n    at com.cloudera.sqoop.manager.GenericJdbcManager.&lt;init&gt;(GenericJdbcManager.java:30)\n    at org.apache.sqoop.manager.CatalogQueryManager.&lt;init&gt;(CatalogQueryManager.java:46)\n    at com.cloudera.sqoop.manager.CatalogQueryManager.&lt;init&gt;(CatalogQueryManager.java:31)\n    at org.apache.sqoop.manager.InformationSchemaManager.&lt;init&gt;(InformationSchemaManager.java:38)\n    at com.cloudera.sqoop.manager.InformationSchemaManager.&lt;init&gt;(InformationSchemaManager.java:31)\n    at org.apache.sqoop.manager.MySQLManager.&lt;init&gt;(MySQLManager.java:65)\n    at org.apache.sqoop.manager.DefaultManagerFactory.accept(DefaultManagerFactory.java:67)\n    at org.apache.sqoop.ConnFactory.getManager(ConnFactory.java:184)\n    at org.apache.sqoop.tool.BaseSqoopTool.init(BaseSqoopTool.java:272)\n    at org.apache.sqoop.tool.EvalSqlTool.run(EvalSqlTool.java:56)\n    at org.apache.sqoop.Sqoop.run(Sqoop.java:147)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)\n    at org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:183)\n    at org.apache.sqoop.Sqoop.runTool(Sqoop.java:234)\n    at org.apache.sqoop.Sqoop.runTool(Sqoop.java:243)\n    at org.apache.sqoop.Sqoop.main(Sqoop.java:252)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang.StringUtils\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 20 more\n\n</code></pre>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671914898,"post_id":74909949,"comment_id":132197205,"body_markdown":"It&#39;s not causing _redundancy_, as each class does its own different thing. What you&#39;re doing here is basically the [strategy pattern](https://en.wikipedia.org/wiki/Strategy_pattern). [The given answer](https://stackoverflow.com/a/74910019/6395627) is just a less verbose way of doing the same thing (which could be made even less verbose by using lambda expressions).","body":"It&#39;s not causing <i>redundancy</i>, as each class does its own different thing. What you&#39;re doing here is basically the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">strategy pattern</a>. <a href=\"https://stackoverflow.com/a/74910019/6395627\">The given answer</a> is just a less verbose way of doing the same thing (which could be made even less verbose by using lambda expressions)."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671914595,"post_id":74910019,"comment_id":132197157,"body_markdown":"This could be simplified by using lambda expressions (as it is currently, the OP&#39;s `Discount` interface is a functional interface). Regardless, you still have three classes, they&#39;re just anonymous now. Well, you only have two, because you&#39;ve completely gotten rid of the `SceniorCitizenDiscount` class. Though you could get away with only two if you made another method for creating the student and senior citizen discounts (named something like `createXXXDiscount(double discount)`).","body":"This could be simplified by using lambda expressions (as it is currently, the OP&#39;s <code>Discount</code> interface is a functional interface). Regardless, you still have three classes, they&#39;re just anonymous now. Well, you only have two, because you&#39;ve completely gotten rid of the <code>SceniorCitizenDiscount</code> class. Though you could get away with only two if you made another method for creating the student and senior citizen discounts (named something like <code>createXXXDiscount(double discount)</code>)."}],"tags":[],"owner":{"account_id":3995817,"reputation":287,"user_id":3293408,"display_name":"chrishmorris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671911827,"creation_date":1671911827,"answer_id":74910019,"question_id":74909949,"body_markdown":"You don&#39;t need three classes, just three instances. So you can do\r\n\r\n```\r\nDiscount STUDENT_DISCOUNT = new Discount() {\r\n    @Override\r\n    public double applyDiscount(double amount) {\r\n        return amount * 0.9;\r\n    }\r\n};\r\npublic Discount getBulkOrderDiscount(final int threshold, final double discount) {\r\n    return new Discount() {\r\n       @Override\r\n       public double applyDiscount(double amount) {\r\n           if (amount &gt;= threshold) {\r\n               return amount * (1 - discount);\r\n           } else {\r\n               return amount;\r\n           }\r\n       }\r\n    };\r\n}","title":"Is this code (creating many classes) causing redundancy?","body":"<p>You don't need three classes, just three instances. So you can do</p>\n<pre><code>Discount STUDENT_DISCOUNT = new Discount() {\n    @Override\n    public double applyDiscount(double amount) {\n        return amount * 0.9;\n    }\n};\npublic Discount getBulkOrderDiscount(final int threshold, final double discount) {\n    return new Discount() {\n       @Override\n       public double applyDiscount(double amount) {\n           if (amount &gt;= threshold) {\n               return amount * (1 - discount);\n           } else {\n               return amount;\n           }\n       }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671915666,"creation_date":1671915666,"answer_id":74910302,"question_id":74909949,"body_markdown":"Since discount is a *Functional interface* (because it defines a single abstract method) it can be implemented using a [*Lambda expression*][lambdaExpressions].\r\n\r\nYou can define two method producing `Discount` implementations:\r\n\r\n* one for discounts based on `discount` value (like your discounts  for students and senior citizens);\r\n* another for generating bulk-discounts, expecting two arguments `threshold` and `discount`.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public static Discount createDiscount(double discount) {\r\n        return amount -&gt; amount * discount;\r\n    }\r\n    \r\n    public static Discount createBulkDiscount(int threshold, double discount) {\r\n        return amount -&gt; amount &gt;= threshold ? amount * discount : amount;\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nDiscount studentDiscount = createDiscount(0.8);\r\nDiscount seniorCitizenDiscount = createDiscount(0.9);\r\nDiscount bulkDiscount = createBulkDiscount(1_000, 0.75);\r\n    \r\nSystem.out.println(studentDiscount.applyDiscount(100.0));\r\nSystem.out.println(seniorCitizenDiscount.applyDiscount(100.0));\r\nSystem.out.println(bulkDiscount.applyDiscount(300.0));\r\nSystem.out.println(bulkDiscount.applyDiscount(1_000.0));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n80.0\r\n90.0\r\n300.0\r\n750.0\r\n```\r\n\r\n\r\n   [lambdaExpressions]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n\r\n","title":"Is this code (creating many classes) causing redundancy?","body":"<p>Since discount is a <em>Functional interface</em> (because it defines a single abstract method) it can be implemented using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><em>Lambda expression</em></a>.</p>\n<p>You can define two method producing <code>Discount</code> implementations:</p>\n<ul>\n<li>one for discounts based on <code>discount</code> value (like your discounts  for students and senior citizens);</li>\n<li>another for generating bulk-discounts, expecting two arguments <code>threshold</code> and <code>discount</code>.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>public static Discount createDiscount(double discount) {\n    return amount -&gt; amount * discount;\n}\n\npublic static Discount createBulkDiscount(int threshold, double discount) {\n    return amount -&gt; amount &gt;= threshold ? amount * discount : amount;\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>Discount studentDiscount = createDiscount(0.8);\nDiscount seniorCitizenDiscount = createDiscount(0.9);\nDiscount bulkDiscount = createBulkDiscount(1_000, 0.75);\n    \nSystem.out.println(studentDiscount.applyDiscount(100.0));\nSystem.out.println(seniorCitizenDiscount.applyDiscount(100.0));\nSystem.out.println(bulkDiscount.applyDiscount(300.0));\nSystem.out.println(bulkDiscount.applyDiscount(1_000.0));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>80.0\n90.0\n300.0\n750.0\n</code></pre>\n"}],"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671915666,"creation_date":1671910949,"question_id":74909949,"body_markdown":"    public interface Discount {\r\n        double applyDiscount(double amount);\r\n    }\r\n    \r\n     class StudentDiscount implements Discount {\r\n        @Override\r\n        public double applyDiscount(double amount) {\r\n            return amount * 0.9;\r\n        }\r\n    }\r\n    \r\n     class SeniorCitizenDiscount implements Discount {\r\n        @Override\r\n        public double applyDiscount(double amount) {\r\n            return amount * 0.8;\r\n        }\r\n    }\r\n    \r\n     class BulkOrderDiscount implements Discount {\r\n        private int threshold;\r\n        private double discount;\r\n    \r\n        public BulkOrderDiscount(int threshold, double discount) {\r\n            this.threshold = threshold;\r\n            this.discount = discount;\r\n        }\r\n    \r\n        @Override\r\n        public double applyDiscount(double amount) {\r\n            if (amount &gt;= threshold) {\r\n                return amount * (1 - discount);\r\n            } else {\r\n                return amount;\r\n            }\r\n        }\r\n    }\r\n\r\nhere&#39;s my code. Is this code legit or anything i can improve to get better efficiency/less redundancy? I&#39;m gonna ask input from user such as:\r\n1)student discount\r\n2)senior discount\r\n3)bulk discount","title":"Is this code (creating many classes) causing redundancy?","body":"<pre><code>public interface Discount {\n    double applyDiscount(double amount);\n}\n\n class StudentDiscount implements Discount {\n    @Override\n    public double applyDiscount(double amount) {\n        return amount * 0.9;\n    }\n}\n\n class SeniorCitizenDiscount implements Discount {\n    @Override\n    public double applyDiscount(double amount) {\n        return amount * 0.8;\n    }\n}\n\n class BulkOrderDiscount implements Discount {\n    private int threshold;\n    private double discount;\n\n    public BulkOrderDiscount(int threshold, double discount) {\n        this.threshold = threshold;\n        this.discount = discount;\n    }\n\n    @Override\n    public double applyDiscount(double amount) {\n        if (amount &gt;= threshold) {\n            return amount * (1 - discount);\n        } else {\n            return amount;\n        }\n    }\n}\n</code></pre>\n<p>here's my code. Is this code legit or anything i can improve to get better efficiency/less redundancy? I'm gonna ask input from user such as:\n1)student discount\n2)senior discount\n3)bulk discount</p>\n"},{"tags":["java","android","pushwoosh"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671914076,"post_id":74891235,"comment_id":132197070,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23774581,"reputation":1,"user_id":17788230,"display_name":"Sadık Ahmet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671915325,"creation_date":1671915271,"answer_id":74910272,"question_id":74891235,"body_markdown":"The problem is fixed. I replaced the appid into &quot;XXXXX-XXXXXX&quot; in Manifest\r\n\r\n    &lt;meta-data android:name=&quot;com.pushwoosh.appid&quot; android:value=&quot;XXXXX-XXXXX&quot; /&gt;","title":"PushWoosh Error : status code : 210 status_message: application code is not valid","body":"<p>The problem is fixed. I replaced the appid into &quot;XXXXX-XXXXXX&quot; in Manifest</p>\n<pre><code>&lt;meta-data android:name=&quot;com.pushwoosh.appid&quot; android:value=&quot;XXXXX-XXXXX&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":23774581,"reputation":1,"user_id":17788230,"display_name":"Sadık Ahmet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74910272,"answer_count":1,"score":0,"last_activity_date":1671915325,"creation_date":1671726174,"question_id":74891235,"body_markdown":"I am trying to request on pushwoosh services using API but it&#39;s returning me following response (Form Pushwoosh service) :\r\n\r\n\r\n```\r\n[RequestManager] ERROR: {&quot;status_code&quot;:210,&quot;status_message&quot;:&quot;application code is not valid&quot;,&quot;response&quot;:null}\r\n\r\n```\r\nAlso I have a meta-data in ManifestFile.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow can I fix it? \r\nThanks for help","title":"PushWoosh Error : status code : 210 status_message: application code is not valid","body":"<p>I am trying to request on pushwoosh services using API but it's returning me following response (Form Pushwoosh service) :</p>\n<pre><code>[RequestManager] ERROR: {&quot;status_code&quot;:210,&quot;status_message&quot;:&quot;application code is not valid&quot;,&quot;response&quot;:null}\n\n</code></pre>\n<p>Also I have a meta-data in ManifestFile.</p>\n<p>How can I fix it?\nThanks for help</p>\n"},{"tags":["java","hadoop","apache-spark"],"comments":[{"owner":{"account_id":2930895,"reputation":1384,"user_id":2511142,"accept_rate":54,"display_name":"arglee"},"score":1,"creation_date":1479761794,"post_id":40729047,"comment_id":68685673,"body_markdown":"Possible duplicate of [What are workers, executors, cores in Spark Standalone cluster?](http://stackoverflow.com/questions/32621990/what-are-workers-executors-cores-in-spark-standalone-cluster)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/32621990/what-are-workers-executors-cores-in-spark-standalone-cluster\">What are workers, executors, cores in Spark Standalone cluster?</a>"}],"answers":[{"comments":[{"owner":{"account_id":16096571,"reputation":1080,"user_id":11618586,"display_name":"thentangler"},"score":1,"creation_date":1612141469,"post_id":40731266,"comment_id":116666475,"body_markdown":"So If I have a 70 cores and my input parquet has 1000 partitions, it means I can only process 70 tasks at a time correct? In which case, I am wasting the remaining 930 tasks time. However if i repartition my dataset to just 70 or 100, I might get a very large file size per partition.","body":"So If I have a 70 cores and my input parquet has 1000 partitions, it means I can only process 70 tasks at a time correct? In which case, I am wasting the remaining 930 tasks time. However if i repartition my dataset to just 70 or 100, I might get a very large file size per partition."}],"tags":[],"owner":{"account_id":9531559,"reputation":3695,"user_id":7083047,"display_name":"Tim"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479770555,"creation_date":1479770555,"answer_id":40731266,"question_id":40729047,"body_markdown":"Partition (or task) refers to a unit of work.  If you have a 200G hadoop file loaded as an RDD and chunked by 128M (Spark default), then you have ~2000 partitions in this RDD.  The number of cores determines how many partitions can be processed at any one time, and up to 2000 (capped at the number of partitions/tasks) can execute this RDD in parallel.","title":"What is the difference between SPARK Partitions and Worker Cores?","body":"<p>Partition (or task) refers to a unit of work.  If you have a 200G hadoop file loaded as an RDD and chunked by 128M (Spark default), then you have ~2000 partitions in this RDD.  The number of cores determines how many partitions can be processed at any one time, and up to 2000 (capped at the number of partitions/tasks) can execute this RDD in parallel.</p>\n"},{"tags":[],"owner":{"account_id":1057205,"reputation":1971,"user_id":1059643,"accept_rate":54,"display_name":"rakesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1671915196,"creation_date":1479794680,"answer_id":40734849,"question_id":40729047,"body_markdown":"Simplistic view: Partition vs Number of Cores\r\n\r\nWhen you invoke an action an RDD,\r\n\r\n - A &quot;Job&quot; is created for it. So, Job is a work submitted to spark.\r\n - Jobs are divided in to &quot;STAGE&quot; based on the shuffle boundary!!!\r\n - Each stage is further divided to tasks based on the number of partitions on the RDD. So Task is smallest unit of work for spark.\r\n - Now, how many of these tasks can be executed simultaneously depends on the &quot;Number of Cores&quot; available!!!","title":"What is the difference between SPARK Partitions and Worker Cores?","body":"<p>Simplistic view: Partition vs Number of Cores</p>\n<p>When you invoke an action an RDD,</p>\n<ul>\n<li>A &quot;Job&quot; is created for it. So, Job is a work submitted to spark.</li>\n<li>Jobs are divided in to &quot;STAGE&quot; based on the shuffle boundary!!!</li>\n<li>Each stage is further divided to tasks based on the number of partitions on the RDD. So Task is smallest unit of work for spark.</li>\n<li>Now, how many of these tasks can be executed simultaneously depends on the &quot;Number of Cores&quot; available!!!</li>\n</ul>\n"}],"owner":{"account_id":1483814,"reputation":1529,"user_id":1392501,"accept_rate":55,"display_name":"hasan.alkhatib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7464,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40734849,"answer_count":2,"score":5,"last_activity_date":1671915196,"creation_date":1479761153,"question_id":40729047,"body_markdown":"I used the `Standalone Spark Cluster` to process several files. When I executed the Driver, the data was processed on each worker using it&#39;s cores.\r\n\r\nNow, I&#39;ve read about `Partitions`, but I didn&#39;t get it if it&#39;s different than Worker Cores or not.\r\n\r\nIs there a difference between setting `cores number` and `partition numbers`?","title":"What is the difference between SPARK Partitions and Worker Cores?","body":"<p>I used the <code>Standalone Spark Cluster</code> to process several files. When I executed the Driver, the data was processed on each worker using it's cores.</p>\n\n<p>Now, I've read about <code>Partitions</code>, but I didn't get it if it's different than Worker Cores or not.</p>\n\n<p>Is there a difference between setting <code>cores number</code> and <code>partition numbers</code>?</p>\n"},{"tags":["java","android","file"],"comments":[{"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":2,"creation_date":1273220209,"post_id":2786655,"comment_id":2822629,"body_markdown":"If that&#39;s your actual exception handler, rethink it. http://www.rockstarprogrammer.org/post/2007/jun/15/empty-catch-blocks-are-always-wrong/","body":"If that&#39;s your actual exception handler, rethink it. <a href=\"http://www.rockstarprogrammer.org/post/2007/jun/15/empty-catch-blocks-are-always-wrong/\" rel=\"nofollow noreferrer\">rockstarprogrammer.org/post/2007/jun/15/&hellip;</a>"},{"owner":{"display_name":"user1499731"},"score":0,"creation_date":1346274816,"post_id":2786655,"comment_id":16316676,"body_markdown":"@Thomas that used to be MY exception handler for a clause just like this one (copied some code off the &#39;Net.) I guess a good rule for copying is to examine everything before you actually use it. I have enough trouble using my OWN code.","body":"@Thomas that used to be MY exception handler for a clause just like this one (copied some code off the &#39;Net.) I guess a good rule for copying is to examine everything before you actually use it. I have enough trouble using my OWN code."},{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1564013607,"post_id":2786655,"comment_id":100894702,"body_markdown":"Possible duplicate of [Android; Check if file exists without creating a new one](https://stackoverflow.com/questions/16237950/android-check-if-file-exists-without-creating-a-new-one) (I know this Q is older, but that other has more upvotes in general, and is more updated to current Android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/16237950/android-check-if-file-exists-without-creating-a-new-one\">Android; Check if file exists without creating a new one</a> (I know this Q is older, but that other has more upvotes in general, and is more updated to current Android)"}],"answers":[{"comments":[{"owner":{"account_id":217767,"reputation":5992,"user_id":473725,"accept_rate":87,"display_name":"mishkin"},"score":0,"creation_date":1290227325,"post_id":2787104,"comment_id":4580217,"body_markdown":"works fine for checking if a target file exists on sd card - thanks!","body":"works fine for checking if a target file exists on sd card - thanks!"}],"tags":[],"owner":{"account_id":110120,"reputation":4781,"user_id":291538,"accept_rate":91,"display_name":"rompetroll"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1273220438,"creation_date":1273219831,"answer_id":2787104,"question_id":2786655,"body_markdown":"The documentation says Context.openFileInput either returns an inputStream (file found) or throws a FileNotFoundException (not found)\r\n\r\nhttp://developer.android.com/reference/android/content/Context.html#openFileInput(java.lang.String)\r\n\r\nSo it looks like the exception is your &quot;test&quot;.\r\n\r\nYou could also try using standard \r\n\r\n    java.io.File file = new java.io.File(PATHTOYOURCONTEXT , FILE);\r\n    if (file.exists()) {\r\n        FileInputStream fIn = new FileInputStream(file);\r\n    }\r\n\r\nBut that is not recommended. Context.openFileInput() and Context.openFileOutput() make sure you stay in your applications storage context on the device, and that all of your files get\r\ndeleted when your app gets uninstalled.","title":"Test if file exists","body":"<p>The documentation says Context.openFileInput either returns an inputStream (file found) or throws a FileNotFoundException (not found)</p>\n\n<p><a href=\"http://developer.android.com/reference/android/content/Context.html#openFileInput(java.lang.String)\" rel=\"noreferrer\">http://developer.android.com/reference/android/content/Context.html#openFileInput(java.lang.String)</a></p>\n\n<p>So it looks like the exception is your \"test\".</p>\n\n<p>You could also try using standard </p>\n\n<pre><code>java.io.File file = new java.io.File(PATHTOYOURCONTEXT , FILE);\nif (file.exists()) {\n    FileInputStream fIn = new FileInputStream(file);\n}\n</code></pre>\n\n<p>But that is not recommended. Context.openFileInput() and Context.openFileOutput() make sure you stay in your applications storage context on the device, and that all of your files get\ndeleted when your app gets uninstalled.</p>\n"},{"comments":[{"owner":{"account_id":116227,"reputation":7411,"user_id":304866,"accept_rate":47,"display_name":"rantravee"},"score":0,"creation_date":1273225197,"post_id":2787128,"comment_id":2823146,"body_markdown":"That&#39;s the way I actually do , but I was wondering if there is another way","body":"That&#39;s the way I actually do , but I was wondering if there is another way"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1306595325,"post_id":2787128,"comment_id":7160517,"body_markdown":"@rantravee: The way you are doing is to catch all exceptions.  Besides being kinda sloppy, it also doesn&#39;t tell you why the exception occurred.  If you catch just `FileNotFoundException`, you&#39;ll know when you catch it that it was thrown because the file doesn&#39;t exist (rather than the generic Exception that could mean something went wrong with some call somewhere in your try block or the stuff it calls, or the stuff that it calls calls, or....)","body":"@rantravee: The way you are doing is to catch all exceptions.  Besides being kinda sloppy, it also doesn&#39;t tell you why the exception occurred.  If you catch just <code>FileNotFoundException</code>, you&#39;ll know when you catch it that it was thrown because the file doesn&#39;t exist (rather than the generic Exception that could mean something went wrong with some call somewhere in your try block or the stuff it calls, or the stuff that it calls calls, or....)"},{"owner":{"account_id":106337,"reputation":30941,"user_id":283311,"accept_rate":76,"display_name":"Ken"},"score":0,"creation_date":1317348742,"post_id":2787128,"comment_id":9228255,"body_markdown":"Generally it&#39;s best if exceptions are just that - exceptions. Check if the file exists or not, and if after creating it it some how still does not exist keep the try/catch as a fall back.","body":"Generally it&#39;s best if exceptions are just that - exceptions. Check if the file exists or not, and if after creating it it some how still does not exist keep the try/catch as a fall back."}],"tags":[],"owner":{"account_id":29651,"reputation":5655,"user_id":80303,"accept_rate":80,"display_name":"Prashast"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1273220106,"creation_date":1273220106,"answer_id":2787128,"question_id":2786655,"body_markdown":"why dont you just catch the FileNotFound exception and take that as the file not being present.","title":"Test if file exists","body":"<p>why dont you just catch the FileNotFound exception and take that as the file not being present.</p>\n"},{"comments":[{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":0,"creation_date":1330603684,"post_id":3806056,"comment_id":12051910,"body_markdown":"Works, and I&#39;d assume that it&#39;s more efficient than getting an InputStream just to see if the file exists. Nice.","body":"Works, and I&#39;d assume that it&#39;s more efficient than getting an InputStream just to see if the file exists. Nice."},{"owner":{"account_id":544976,"reputation":5086,"user_id":914587,"accept_rate":59,"display_name":"Lou Morda"},"score":5,"creation_date":1343431084,"post_id":3806056,"comment_id":15511524,"body_markdown":"What if   FILE_NAME = filename + path    ?","body":"What if   FILE_NAME = filename + path    ?"},{"owner":{"account_id":105754,"reputation":3185,"user_id":282034,"display_name":"lencinhaus"},"score":0,"creation_date":1350411496,"post_id":3806056,"comment_id":17507494,"body_markdown":"what do you mean? FILE_NAME should be a file path relative to the (unknown) private directory of your application. The fact that FILE_NAME contains subdirectories is not a problem for testing its existence; if you have to create that file, you can ensure the required subdirectories as usual in Java, [see the docs](http://developer.android.com/reference/java/io/File.html#mkdirs())","body":"what do you mean? FILE_NAME should be a file path relative to the (unknown) private directory of your application. The fact that FILE_NAME contains subdirectories is not a problem for testing its existence; if you have to create that file, you can ensure the required subdirectories as usual in Java, <a href=\"http://developer.android.com/reference/java/io/File.html#mkdirs()\" rel=\"nofollow noreferrer\">see the docs</a>"},{"owner":{"account_id":181432,"reputation":1238,"user_id":415429,"accept_rate":71,"display_name":"jerrytouille"},"score":0,"creation_date":1366350966,"post_id":3806056,"comment_id":22985185,"body_markdown":"@lencinhaus how about this: File file = new File(filePath); if (file.exists()) since I have a URI file path already and dont want an extra step extracting the file name? Does this actually open the file compares to your way?","body":"@lencinhaus how about this: File file = new File(filePath); if (file.exists()) since I have a URI file path already and dont want an extra step extracting the file name? Does this actually open the file compares to your way?"},{"owner":{"account_id":1835474,"reputation":4777,"user_id":1665964,"accept_rate":33,"display_name":"Tapa Save"},"score":0,"creation_date":1399295416,"post_id":3806056,"comment_id":35988790,"body_markdown":"This not work if you try access to file outside you right, for example &#39;/system/bin/file&#39; on non-root device","body":"This not work if you try access to file outside you right, for example &#39;/system/bin/file&#39; on non-root device"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1465475483,"post_id":3806056,"comment_id":62923331,"body_markdown":"This method raises exception `java.lang.IllegalArgumentException: File /data/data/your.package.name/file.html contains a path separator`. Use http://stackoverflow.com/a/16238330/2914140 instead.","body":"This method raises exception <code>java.lang.IllegalArgumentException: File &#47;data&#47;data&#47;your.package.name&#47;file.html contains a path separator</code>. Use <a href=\"http://stackoverflow.com/a/16238330/2914140\">stackoverflow.com/a/16238330/2914140</a> instead."}],"tags":[],"owner":{"account_id":105754,"reputation":3185,"user_id":282034,"display_name":"lencinhaus"},"comment_count":6,"down_vote_count":1,"up_vote_count":163,"is_accepted":false,"score":162,"last_activity_date":1671914675,"creation_date":1285607060,"answer_id":3806056,"question_id":2786655,"body_markdown":"I think the best way to know if a file exists, without actually trying to open it, is as follows:\r\n\r\n    File file = getContext().getFileStreamPath(FILE_NAME);\r\n    if(file.exists()) ...","title":"Test if file exists","body":"<p>I think the best way to know if a file exists, without actually trying to open it, is as follows:</p>\n<pre><code>File file = getContext().getFileStreamPath(FILE_NAME);\nif(file.exists()) ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336847066,"creation_date":1336847066,"answer_id":10566317,"question_id":2786655,"body_markdown":"If you want to open a file in any case (i.e. if it doesn&#39;t exist create a new one, if it does append to the old one) you can use this, no testing necessary:\r\n\r\n    public static void write_custom_log(String message){\r\n    \t\tFile root = Environment.getExternalStorageDirectory();\r\n    \t\ttry{\r\n    \t\t\tBufferedWriter fw = new BufferedWriter(new FileWriter(new File(&quot;/mnt/sdcard/tjb_tests/tjb_log_file.txt&quot;),true));\r\n    \r\n    \t\t\tif (root.canWrite()){\r\n    \t\t\t\tfw.write(message);\r\n    \t\t\t\tfw.close();\r\n    \t\t\t    }\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t    Log.e(&quot;One&quot;, &quot;Could not write file &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t}","title":"Test if file exists","body":"<p>If you want to open a file in any case (i.e. if it doesn't exist create a new one, if it does append to the old one) you can use this, no testing necessary:</p>\n\n<pre><code>public static void write_custom_log(String message){\n        File root = Environment.getExternalStorageDirectory();\n        try{\n            BufferedWriter fw = new BufferedWriter(new FileWriter(new File(\"/mnt/sdcard/tjb_tests/tjb_log_file.txt\"),true));\n\n            if (root.canWrite()){\n                fw.write(message);\n                fw.close();\n                }\n            } catch (IOException e) {\n                Log.e(\"One\", \"Could not write file \" + e.getMessage());\n            }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1033144,"reputation":3625,"user_id":1041046,"accept_rate":78,"display_name":"AaA"},"score":9,"creation_date":1346317041,"post_id":11170379,"comment_id":16327288,"body_markdown":"There might be a file with length 0","body":"There might be a file with length 0"}],"tags":[],"owner":{"account_id":1518229,"reputation":7,"user_id":1418676,"display_name":"Sameer Chorge"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1340485284,"creation_date":1340462555,"answer_id":11170379,"question_id":2786655,"body_markdown":"My suggestion is to check length of the file. `if file.length() returns 0` that means file doesn&#39;t exist.","title":"Test if file exists","body":"<p>My suggestion is to check length of the file. <code>if file.length() returns 0</code> that means file doesn't exist.</p>\n"},{"comments":[{"owner":{"account_id":78228,"reputation":833,"user_id":222773,"display_name":"riper"},"score":0,"creation_date":1365009545,"post_id":12602683,"comment_id":22457108,"body_markdown":"Context.getExternalFilesDir() returns the same as Environment.getExternalStorageDirectory().toString() +      APP_SD_PATH","body":"Context.getExternalFilesDir() returns the same as Environment.getExternalStorageDirectory().toString() +      APP_SD_PATH"}],"tags":[],"owner":{"account_id":1879898,"reputation":101,"user_id":1700340,"display_name":"molbalga"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348667609,"creation_date":1348665554,"answer_id":12602683,"question_id":2786655,"body_markdown":"With the standard `java.io.File` this is the function I have created, and works correctly:\r\n\r\n\r\n    private static final String APP_SD_PATH = &quot;/Android/data/com.pkg.myPackage&quot;;\r\n    ...\r\n    public boolean fileExistsInSD(String sFileName){\r\n    \tString sFolder = Environment.getExternalStorageDirectory().toString() + \r\n    \t\t\tAPP_SD_PATH + &quot;/Myfolder&quot;;\r\n    \tString sFile=sFolder+&quot;/&quot;+sFileName;\r\n    \tjava.io.File file = new java.io.File(sFile);\r\n    \treturn file.exists();\r\n    }\r\n\r\n","title":"Test if file exists","body":"<p>With the standard <code>java.io.File</code> this is the function I have created, and works correctly:</p>\n\n<pre><code>private static final String APP_SD_PATH = \"/Android/data/com.pkg.myPackage\";\n...\npublic boolean fileExistsInSD(String sFileName){\n    String sFolder = Environment.getExternalStorageDirectory().toString() + \n            APP_SD_PATH + \"/Myfolder\";\n    String sFile=sFolder+\"/\"+sFileName;\n    java.io.File file = new java.io.File(sFile);\n    return file.exists();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1760744,"reputation":2445,"user_id":1607937,"display_name":"Den-Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475152905,"creation_date":1475152905,"answer_id":39770645,"question_id":2786655,"body_markdown":"If you want to ensure a file exists (i.e. if it doesn&#39;t exist create a new one, if it does then don&#39;t erase it) then use File.createNewFile:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()\r\n\r\ne.g.\r\n\r\n    {\r\n            String pathName = &lt;file path name&gt;\r\n            File file = new File (pathName);\r\n            Uri pathURI = Uri.fromFile (file);\r\n            boolean created;\r\n    \r\n            String mIOException = &quot;&quot;;\r\n            String mSecException = &quot;&quot;;\r\n    \r\n            try\r\n            {\r\n                created = file.createNewFile();\r\n    \r\n                if (created)\r\n                {\r\n                    ctxt.sendBroadcast (new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, pathURI));\r\n                }\r\n            }\r\n            catch (IOException ioex)\r\n            {\r\n                mIOException = ioex.getMessage();\r\n            }\r\n            catch (SecurityException sex)\r\n            {\r\n                mSecException = sex.getMessage();\r\n            }\r\n    \r\n    }","title":"Test if file exists","body":"<p>If you want to ensure a file exists (i.e. if it doesn't exist create a new one, if it does then don't erase it) then use File.createNewFile:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()</a></p>\n\n<p>e.g.</p>\n\n<pre><code>{\n        String pathName = &lt;file path name&gt;\n        File file = new File (pathName);\n        Uri pathURI = Uri.fromFile (file);\n        boolean created;\n\n        String mIOException = \"\";\n        String mSecException = \"\";\n\n        try\n        {\n            created = file.createNewFile();\n\n            if (created)\n            {\n                ctxt.sendBroadcast (new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, pathURI));\n            }\n        }\n        catch (IOException ioex)\n        {\n            mIOException = ioex.getMessage();\n        }\n        catch (SecurityException sex)\n        {\n            mSecException = sex.getMessage();\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":116227,"reputation":7411,"user_id":304866,"accept_rate":47,"display_name":"rantravee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96950,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":7,"score":49,"last_activity_date":1671914675,"creation_date":1273213990,"question_id":2786655,"body_markdown":"I&#39;m trying to open a file in android like this :\r\n \r\n  \r\n\r\n      try\r\n       {\r\n          FileInputStream fIn = context.openFileInput(FILE);\r\n          DataInputStream in = new DataInputStream(fIn);\r\n          BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n          if(in!=null)\r\n              in.close();\r\n       }\r\n       catch(Exception e)\r\n       {  }\r\n\r\n, but in case the file does not exists a file not found exception is thrown . I&#39;d like to know how could I test if the file exists before attempting to open it. ","title":"Test if file exists","body":"<p>I'm trying to open a file in android like this :</p>\n\n<pre><code>  try\n   {\n      FileInputStream fIn = context.openFileInput(FILE);\n      DataInputStream in = new DataInputStream(fIn);\n      BufferedReader br = new BufferedReader(new InputStreamReader(in));\n      if(in!=null)\n          in.close();\n   }\n   catch(Exception e)\n   {  }\n</code></pre>\n\n<p>, but in case the file does not exists a file not found exception is thrown . I'd like to know how could I test if the file exists before attempting to open it. </p>\n"},{"tags":["java","docker","dockerfile","corretto"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1671918544,"post_id":74910217,"comment_id":132197716,"body_markdown":"A Docker container doesn&#39;t run an X server or any of the other background processes you might be expecting; the `ENV DISPLAY` setting points somewhere that nothing is listening.  What step in this noninteractive build process is trying to connect to an X server, and can you disable this?  Running X-based applications in containers in general is tricky and non-portable; would a full virtual machine (or a dedicated EC2 instance) better fit your needs?","body":"A Docker container doesn&#39;t run an X server or any of the other background processes you might be expecting; the <code>ENV DISPLAY</code> setting points somewhere that nothing is listening.  What step in this noninteractive build process is trying to connect to an X server, and can you disable this?  Running X-based applications in containers in general is tricky and non-portable; would a full virtual machine (or a dedicated EC2 instance) better fit your needs?"}],"owner":{"account_id":16496205,"reputation":11,"user_id":11918717,"display_name":"mmccarthy404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671914505,"creation_date":1671914505,"question_id":74910217,"body_markdown":"I&#39;m attempting to build a Docker image to provision this software: https://fragpipe.nesvilab.org/docs/tutorial_setup_fragpipe.html\r\n\r\nThis is my `Dockerfile` in its current state:\r\n\r\n    FROM amazonlinux:2022\r\n    ENV DISPLAY=:0\r\n    ENV JAVA_HOME=/usr/lib/jvm/java-17-amazon-corretto.x86_64\r\n    COPY FragPipe-19.0.zip .\r\n    COPY MSFragger-20171106.zip .\r\n    RUN yum update -y \\\r\n    &amp;&amp; yum upgrade -y \\\r\n    &amp;&amp; yum install -y unzip java-17-amazon-corretto\r\n    RUN rpmkeys --import &quot;http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot; \\\r\n    &amp;&amp; curl https://download.mono-project.com/repo/centos8-stable.repo | tee /etc/yum.repos.d/mono-centos8-stable.repo \\\r\n    &amp;&amp; yum install -y mono-devel\r\n    RUN unzip MSFragger-20171106.zip \\\r\n    &amp;&amp; rm MSFragger-20171106.zip\r\n    RUN unzip FragPipe-19.0.zip \\\r\n    &amp;&amp; rm FragPipe-19.0.zip\r\n    RUN fragpipe/bin/fragpipe\r\n\r\nHowever, for hours now I&#39;ve run into errors like this:\r\n\r\n    Exception in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;:0&#39; as the value of the DISPLAY variable.\r\n\r\nI&#39;ve tried multiple fixes, including using the official AWS corretto Docker image `amazoncorretto:17-al2022-RC-headful`, and manually installing the Java system dependencies. However, I continue to get this error.\r\n\r\nBefore I spend any more time troubleshooting this, I&#39;m curious if the fact that I&#39;m running this on EC2 has any effect on whether or not X11 will work?","title":"Can&#39;t connect to X11 window server using &#39;:0&#39; error when building Docker image on EC2","body":"<p>I'm attempting to build a Docker image to provision this software: <a href=\"https://fragpipe.nesvilab.org/docs/tutorial_setup_fragpipe.html\" rel=\"nofollow noreferrer\">https://fragpipe.nesvilab.org/docs/tutorial_setup_fragpipe.html</a></p>\n<p>This is my <code>Dockerfile</code> in its current state:</p>\n<pre><code>FROM amazonlinux:2022\nENV DISPLAY=:0\nENV JAVA_HOME=/usr/lib/jvm/java-17-amazon-corretto.x86_64\nCOPY FragPipe-19.0.zip .\nCOPY MSFragger-20171106.zip .\nRUN yum update -y \\\n&amp;&amp; yum upgrade -y \\\n&amp;&amp; yum install -y unzip java-17-amazon-corretto\nRUN rpmkeys --import &quot;http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot; \\\n&amp;&amp; curl https://download.mono-project.com/repo/centos8-stable.repo | tee /etc/yum.repos.d/mono-centos8-stable.repo \\\n&amp;&amp; yum install -y mono-devel\nRUN unzip MSFragger-20171106.zip \\\n&amp;&amp; rm MSFragger-20171106.zip\nRUN unzip FragPipe-19.0.zip \\\n&amp;&amp; rm FragPipe-19.0.zip\nRUN fragpipe/bin/fragpipe\n</code></pre>\n<p>However, for hours now I've run into errors like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using ':0' as the value of the DISPLAY variable.\n</code></pre>\n<p>I've tried multiple fixes, including using the official AWS corretto Docker image <code>amazoncorretto:17-al2022-RC-headful</code>, and manually installing the Java system dependencies. However, I continue to get this error.</p>\n<p>Before I spend any more time troubleshooting this, I'm curious if the fact that I'm running this on EC2 has any effect on whether or not X11 will work?</p>\n"},{"tags":["java","ssl","openssl","mqtt"],"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1671914821,"post_id":74908592,"comment_id":132197193,"body_markdown":"The error implies you are using a private CA for the broker certificate so you will need to add a TrustStore with the CA cert","body":"The error implies you are using a private CA for the broker certificate so you will need to add a TrustStore with the CA cert"},{"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"score":0,"creation_date":1671942155,"post_id":74908592,"comment_id":132199514,"body_markdown":"could you tell me how to do that","body":"could you tell me how to do that"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671953821,"post_id":74908592,"comment_id":132200349,"body_markdown":"`https://www.emqx.com/en/blog/how-to-use-mqtt-in-java`, **Connecting with TLS/SSL** , `String caFilePath = &quot;/cacert.pem&quot;;` , `String clientCrtFilePath = &quot;/client.pem&quot;;`, `String clientKeyFilePath = &quot;/client.key&quot;;`, and more....","body":"<code>https:&#47;&#47;www.emqx.com&#47;en&#47;blog&#47;how-to-use-mqtt-in-java</code>, <b>Connecting with TLS/SSL</b> , <code>String caFilePath = &quot;&#47;cacert.pem&quot;;</code> , <code>String clientCrtFilePath = &quot;&#47;client.pem&quot;;</code>, <code>String clientKeyFilePath = &quot;&#47;client.key&quot;;</code>, and more...."}],"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671914488,"creation_date":1671895735,"question_id":74908592,"body_markdown":"I have to implement SSL connection in java \r\n\r\n    Properties properties = new Properties();\r\n  \r\n    properties.setProperty(SSLSocketFactoryFactory.KEYSTORE, &quot;C:\\\\Users\\\\SathishKumar\\\\cert.p12&quot;);\r\n    properties.setProperty(SSLSocketFactoryFactory.KEYSTOREPWD, &quot;machchar001&quot;);\r\n    MqttConnectOptions options = new MqttConnectOptions();\r\n    options.setAutomaticReconnect(true);\r\n    options.setCleanSession(false);\r\n    options.setConnectionTimeout(10);\r\n    options.setSSLProperties(properties);\r\n    client.connect(options);`\r\n\r\nI&#39;m facing \r\n\r\n    MqttException (0) - javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","title":"Java Mqtt SSL implementation","body":"<p>I have to implement SSL connection in java</p>\n<pre><code>Properties properties = new Properties();\n\nproperties.setProperty(SSLSocketFactoryFactory.KEYSTORE, &quot;C:\\\\Users\\\\SathishKumar\\\\cert.p12&quot;);\nproperties.setProperty(SSLSocketFactoryFactory.KEYSTOREPWD, &quot;machchar001&quot;);\nMqttConnectOptions options = new MqttConnectOptions();\noptions.setAutomaticReconnect(true);\noptions.setCleanSession(false);\noptions.setConnectionTimeout(10);\noptions.setSSLProperties(properties);\nclient.connect(options);`\n</code></pre>\n<p>I'm facing</p>\n<pre><code>MqttException (0) - javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","command-line","progress-bar"],"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1242134178,"post_id":852665,"comment_id":660885,"body_markdown":"I don&#39;t know the answer to your specific question, but you could start by checking the libraries mentioned in this question: http://stackoverflow.com/questions/435740/are-there-good-java-libraries-that-facilitate-building-command-line-applications","body":"I don&#39;t know the answer to your specific question, but you could start by checking the libraries mentioned in this question: <a href=\"http://stackoverflow.com/questions/435740/are-there-good-java-libraries-that-facilitate-building-command-line-applications\" title=\"are there good java libraries that facilitate building command line applications\">stackoverflow.com/questions/435740/&hellip;</a>"},{"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"score":0,"creation_date":1242140527,"post_id":852665,"comment_id":661391,"body_markdown":"Thanks. The libraries cited there are more about command-line argument parsing, rather than display into the console. But thanks anyways.","body":"Thanks. The libraries cited there are more about command-line argument parsing, rather than display into the console. But thanks anyways."},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":8,"creation_date":1458340005,"post_id":852665,"comment_id":59834860,"body_markdown":"This is on topic. OP asks if possible, not for a library recommendation (at least in current edit)","body":"This is on topic. OP asks if possible, not for a library recommendation (at least in current edit)"},{"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"score":0,"creation_date":1509024589,"post_id":852665,"comment_id":80858532,"body_markdown":"I try this code https://stackoverflow.com/questions/1001290/console-based-progress-in-java and running! (Correct running only in terminal, don&#39;t use in Eclipse)","body":"I try this code <a href=\"https://stackoverflow.com/questions/1001290/console-based-progress-in-java\" title=\"console based progress in java\">stackoverflow.com/questions/1001290/&hellip;</a> and running! (Correct running only in terminal, don&#39;t use in Eclipse)"}],"answers":[{"comments":[{"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"score":0,"creation_date":1242140581,"post_id":852726,"comment_id":661395,"body_markdown":"Curses may be a bit of overhead for the easy usage I need, but that sure is a track. Thanks.","body":"Curses may be a bit of overhead for the easy usage I need, but that sure is a track. Thanks."}],"tags":[],"owner":{"account_id":12262,"reputation":103384,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242134230,"creation_date":1242134230,"answer_id":852726,"question_id":852665,"body_markdown":"This would be possible with a Java Curses library. [This][1] is what I have found. I haven&#39;t used it myself and I don&#39;t know if it is cross-platform.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Command line progress bar in Java","body":"<p>This would be possible with a Java Curses library. <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">This</a> is what I have found. I haven't used it myself and I don't know if it is cross-platform.</p>\n"},{"comments":[{"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"score":0,"creation_date":1242140468,"post_id":852730,"comment_id":661387,"body_markdown":"Nice example, will sure be helpful. Thanks.","body":"Nice example, will sure be helpful. Thanks."},{"owner":{"account_id":478388,"reputation":973,"user_id":890448,"accept_rate":100,"display_name":"kholofelo Maloma"},"score":0,"creation_date":1467885328,"post_id":852730,"comment_id":63905892,"body_markdown":"Beautiful! Thank you. Works like a charmer. Easy to read. Lovely","body":"Beautiful! Thank you. Works like a charmer. Easy to read. Lovely"},{"owner":{"account_id":16404603,"reputation":359,"user_id":11849527,"display_name":"Salem loress"},"score":0,"creation_date":1639736595,"post_id":852730,"comment_id":124430380,"body_markdown":"I translate that to java, it works like a charm !!","body":"I translate that to java, it works like a charm !!"}],"tags":[],"owner":{"account_id":14594,"reputation":43680,"user_id":30155,"accept_rate":91,"display_name":"Eoin Campbell"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242134277,"creation_date":1242134277,"answer_id":852730,"question_id":852665,"body_markdown":"C# Example but I&#39;m assuming this is the same for `System.out.print` in Java.\r\nFeel free to correct me if I&#39;m wrong.\r\n\r\n\r\nBasically, you want to write out the `\\r` escape character to the start of your message\r\nwhich will cause the cursor to return to the start of the line (Line Feed) without moving to the next line.\r\n\r\n        static string DisplayBar(int i)\r\n        {\r\n            StringBuilder sb = new StringBuilder();\r\n\r\n            int x = i / 2;\r\n            sb.Append(&quot;|&quot;);\r\n            for (int k = 0; k &lt; 50; k++)\r\n                sb.AppendFormat(&quot;{0}&quot;, ((x &lt;= k) ? &quot; &quot; : &quot;=&quot;));\r\n            sb.Append(&quot;|&quot;);\r\n\r\n            return sb.ToString();\r\n        }\r\n\r\n        static void Main(string[] args)\r\n        {\r\n            for (int i = 0; i &lt;= 100; i++)\r\n            {\r\n                System.Threading.Thread.Sleep(200);\r\n                Console.Write(&quot;\\r{0} {1}% Done&quot;, DisplayBar(i), i);\r\n            }\r\n\r\n            Console.ReadLine();\r\n\r\n        }","title":"Command line progress bar in Java","body":"<p>C# Example but I'm assuming this is the same for <code>System.out.print</code> in Java.\nFeel free to correct me if I'm wrong.</p>\n\n<p>Basically, you want to write out the <code>\\r</code> escape character to the start of your message\nwhich will cause the cursor to return to the start of the line (Line Feed) without moving to the next line.</p>\n\n<pre><code>    static string DisplayBar(int i)\n    {\n        StringBuilder sb = new StringBuilder();\n\n        int x = i / 2;\n        sb.Append(\"|\");\n        for (int k = 0; k &lt; 50; k++)\n            sb.AppendFormat(\"{0}\", ((x &lt;= k) ? \" \" : \"=\"));\n        sb.Append(\"|\");\n\n        return sb.ToString();\n    }\n\n    static void Main(string[] args)\n    {\n        for (int i = 0; i &lt;= 100; i++)\n        {\n            System.Threading.Thread.Sleep(200);\n            Console.Write(\"\\r{0} {1}% Done\", DisplayBar(i), i);\n        }\n\n        Console.ReadLine();\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":973932,"reputation":10760,"user_id":995822,"accept_rate":85,"display_name":"Radu Murzea"},"score":0,"creation_date":1370703874,"post_id":852802,"comment_id":24564023,"body_markdown":"Is this really cross-platform ? It will probably behave ok on Windows and Linux, but what about Macs ? I don&#39;t have one, so I can&#39;t try it...","body":"Is this really cross-platform ? It will probably behave ok on Windows and Linux, but what about Macs ? I don&#39;t have one, so I can&#39;t try it..."},{"owner":{"account_id":381332,"reputation":18533,"user_id":735926,"accept_rate":95,"display_name":"bfontaine"},"score":3,"creation_date":1372360003,"post_id":852802,"comment_id":25176780,"body_markdown":"@RaduMurzea OS X is an *NIX OS, so if it works on Linux, it’ll work on OS X (that’s not true for everything, but that’s true here).","body":"@RaduMurzea OS X is an *NIX OS, so if it works on Linux, it’ll work on OS X (that’s not true for everything, but that’s true here)."},{"owner":{"account_id":231199,"reputation":141,"user_id":495285,"display_name":"user495285"},"score":4,"creation_date":1392235974,"post_id":852802,"comment_id":32877856,"body_markdown":"Thanks! However this does not work with ant (tried on both linux and osx; works fine when invoking java directly). Anyone any idea?","body":"Thanks! However this does not work with ant (tried on both linux and osx; works fine when invoking java directly). Anyone any idea?"},{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":0,"creation_date":1486464442,"post_id":852802,"comment_id":71345685,"body_markdown":"Note that this does not work in the eclipse built in console (at least for me). But as this is a development-console this should not matter too much.","body":"Note that this does not work in the eclipse built in console (at least for me). But as this is a development-console this should not matter too much."},{"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"score":0,"creation_date":1509024511,"post_id":852802,"comment_id":80858469,"body_markdown":"I found this: https://stackoverflow.com/questions/1001290/console-based-progress-in-java","body":"I found this: <a href=\"https://stackoverflow.com/questions/1001290/console-based-progress-in-java\" title=\"console based progress in java\">stackoverflow.com/questions/1001290/&hellip;</a>"},{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":0,"creation_date":1656987396,"post_id":852802,"comment_id":128696984,"body_markdown":"This worked perfectly for me, just have to use `System.out.print();` instead of the standard `#println`,  the con for me is that I have to inclue a `#println` after completing/using the progress bar or else it will disappear!","body":"This worked perfectly for me, just have to use <code>System.out.print();</code> instead of the standard <code>#println</code>,  the con for me is that I have to inclue a <code>#println</code> after completing/using the progress bar or else it will disappear!"}],"tags":[],"owner":{"account_id":10587,"reputation":6393,"user_id":20073,"accept_rate":76,"display_name":"Matthias Wandel"},"comment_count":6,"down_vote_count":0,"up_vote_count":209,"is_accepted":true,"score":209,"last_activity_date":1671914001,"creation_date":1242135010,"answer_id":852802,"question_id":852665,"body_markdown":"I have implemented this sort of thing before.  Its not so much about java, but what characters to send to the console.\r\n\r\nThe key is the difference between `\\n` and `\\r`.\r\n`\\n` goes to the start of a new line.  But `\\r` is just *carriage return* - it goes back to the start of the same line.\r\n\r\nSo the thing to do is to print your progress bar, for example, by printing the string\r\n\r\n    &quot;|========        |\\r&quot;\r\n\r\nOn the next tick of the progress bar, overwrite the same line with a longer bar. (because we are using \\r, we stay on the same line)  For example:\r\n\r\n    &quot;|=========       |\\r&quot;\r\n\r\nWhat you have to remember to do, is when done, if you then just print\r\n\r\n    &quot;done!\\n&quot;\r\n\r\nYou may still have some garbage from the progress bar on the line.  So after you are done with the progress bar, be sure to print enough whitespace to remove it from the line.  Such as:\r\n\r\n    &quot;done             |\\n&quot;","title":"Command line progress bar in Java","body":"<p>I have implemented this sort of thing before.  Its not so much about java, but what characters to send to the console.</p>\n<p>The key is the difference between <code>\\n</code> and <code>\\r</code>.\n<code>\\n</code> goes to the start of a new line.  But <code>\\r</code> is just <em>carriage return</em> - it goes back to the start of the same line.</p>\n<p>So the thing to do is to print your progress bar, for example, by printing the string</p>\n<pre><code>&quot;|========        |\\r&quot;\n</code></pre>\n<p>On the next tick of the progress bar, overwrite the same line with a longer bar. (because we are using \\r, we stay on the same line)  For example:</p>\n<pre><code>&quot;|=========       |\\r&quot;\n</code></pre>\n<p>What you have to remember to do, is when done, if you then just print</p>\n<pre><code>&quot;done!\\n&quot;\n</code></pre>\n<p>You may still have some garbage from the progress bar on the line.  So after you are done with the progress bar, be sure to print enough whitespace to remove it from the line.  Such as:</p>\n<pre><code>&quot;done             |\\n&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75818,"reputation":271,"user_id":217368,"display_name":"keesj"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1502020479,"creation_date":1259011973,"answer_id":1786141,"question_id":852665,"body_markdown":"I found the following code to work correctly. It writes bytes to the output buffer. Perhaps that methods using a writer like the `System.out.println()` method replaces the occurrences of `\\r` to `\\n` to match the target&#39;s native line ending(if not configured properly). \r\n\r\n    public class Main{\r\n        public static void main(String[] arg) throws Exception {\r\n            String anim= &quot;|/-\\\\&quot;;\r\n            for (int x =0 ; x &lt; 100 ; x++) {\r\n                String data = &quot;\\r&quot; + anim.charAt(x % anim.length()) + &quot; &quot; + x;\r\n                System.out.write(data.getBytes());\r\n                Thread.sleep(100);\r\n            }\r\n        }\r\n    }","title":"Command line progress bar in Java","body":"<p>I found the following code to work correctly. It writes bytes to the output buffer. Perhaps that methods using a writer like the <code>System.out.println()</code> method replaces the occurrences of <code>\\r</code> to <code>\\n</code> to match the target's native line ending(if not configured properly). </p>\n\n<pre><code>public class Main{\n    public static void main(String[] arg) throws Exception {\n        String anim= \"|/-\\\\\";\n        for (int x =0 ; x &lt; 100 ; x++) {\n            String data = \"\\r\" + anim.charAt(x % anim.length()) + \" \" + x;\n            System.out.write(data.getBytes());\n            Thread.sleep(100);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807958,"reputation":269,"user_id":2414811,"accept_rate":100,"display_name":"mkeathley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369332931,"creation_date":1369332931,"answer_id":16721098,"question_id":852665,"body_markdown":"I use a &quot;bouncing&quot; progress bar when I need to delay a tool to prevent a race condition.\r\n\r\n    private void delay(long milliseconds) {\r\n\t\tString bar = &quot;[--------------------]&quot;;\r\n\t\tString icon = &quot;%&quot;;\r\n\t\t\r\n\t\tlong startTime = new Date().getTime();\r\n\t\tboolean bouncePositive = true;\r\n\t\tint barPosition = 0;\r\n\t\t\r\n\t\twhile((new Date().getTime() - startTime) &lt; milliseconds) {\r\n\t\t\tif(barPosition &lt; bar.length() &amp;&amp; barPosition &gt; 0) {\r\n\t\t\t\tString b1 = bar.substring(0, barPosition);\r\n\t\t\t\tString b2 = bar.substring(barPosition);\r\n\t\t\t\tSystem.out.print(&quot;\\r Delaying: &quot; + b1 + icon + b2);\r\n\t\t\t\tif(bouncePositive) barPosition++;\r\n\t\t\t\telse barPosition--;\r\n\t\t\t} if(barPosition == bar.length()) {\r\n\t\t\t\tbarPosition--;\r\n\t\t\t\tbouncePositive = false;\r\n\t\t\t} if(barPosition == 0) {\r\n\t\t\t\tbarPosition++;\r\n\t\t\t\tbouncePositive = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry { Thread.sleep(100); }\r\n\t\t\tcatch (Exception e) {}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t}","title":"Command line progress bar in Java","body":"<p>I use a \"bouncing\" progress bar when I need to delay a tool to prevent a race condition.</p>\n\n<pre><code>private void delay(long milliseconds) {\n    String bar = \"[--------------------]\";\n    String icon = \"%\";\n\n    long startTime = new Date().getTime();\n    boolean bouncePositive = true;\n    int barPosition = 0;\n\n    while((new Date().getTime() - startTime) &lt; milliseconds) {\n        if(barPosition &lt; bar.length() &amp;&amp; barPosition &gt; 0) {\n            String b1 = bar.substring(0, barPosition);\n            String b2 = bar.substring(barPosition);\n            System.out.print(\"\\r Delaying: \" + b1 + icon + b2);\n            if(bouncePositive) barPosition++;\n            else barPosition--;\n        } if(barPosition == bar.length()) {\n            barPosition--;\n            bouncePositive = false;\n        } if(barPosition == 0) {\n            barPosition++;\n            bouncePositive = true;\n        }\n\n        try { Thread.sleep(100); }\n        catch (Exception e) {}\n    }\n    System.out.print(\"\\n\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4368188,"reputation":31,"user_id":3563245,"display_name":"user3563245"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431344621,"creation_date":1398234811,"answer_id":23236587,"question_id":852665,"body_markdown":"Here is a modified version of the above:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\r\n    private static boolean loading = true;\r\n    private static synchronized void loading(String msg) throws IOException, InterruptedException {\r\n    \tSystem.out.println(msg);\r\n    \tThread th = new Thread() {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.write(&quot;\\r|&quot;.getBytes());\r\n    \t\t\t\twhile(loading) {\r\n    \t\t\t\t\tSystem.out.write(&quot;-&quot;.getBytes());\r\n    \t\t\t\t\tThread.sleep(500);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.write(&quot;| Done \\r\\n&quot;.getBytes());\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \tth.start();\r\n    }\r\n\r\n\r\n... and in main:\r\n\r\n    loading(&quot;Calculating ...&quot;);\r\n","title":"Command line progress bar in Java","body":"<p>Here is a modified version of the above:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean loading = true;\nprivate static synchronized void loading(String msg) throws IOException, InterruptedException {\n    System.out.println(msg);\n    Thread th = new Thread() {\n        @Override\n        public void run() {\n            try {\n                System.out.write(\"\\r|\".getBytes());\n                while(loading) {\n                    System.out.write(\"-\".getBytes());\n                    Thread.sleep(500);\n                }\n                System.out.write(\"| Done \\r\\n\".getBytes());\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    th.start();\n}\n</code></pre>\n\n<p>... and in main:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>loading(\"Calculating ...\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1492039536,"creation_date":1492039536,"answer_id":43381186,"question_id":852665,"body_markdown":"I have made a percentage progress bare to check the remain download file.\r\n\r\nI call the method periodically in my file download to check the total file-size and remaining and present that in `%`.\r\n\r\nIt can be used for other task purpose as well.\r\n\r\nTest and output example\r\n\r\n    progressPercentage(0, 1000);\r\n    [----------] 0%\r\n\r\n    progressPercentage(10, 100);\r\n    [*---------] 10%\r\n\r\n    progressPercentage(500000, 1000000);\r\n    [*****-----] 50%\r\n    \r\n    progressPercentage(90, 100);\r\n    [*********-] 90%\r\n    \r\n    progressPercentage(1000, 1000);\r\n    [**********] 100%\r\n\r\nTest with for loop\r\n\r\n    for (int i = 0; i &lt;= 200; i = i + 20) {\r\n        progressPercentage(i, 200);\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n\r\nThe method can be easily modified:\r\n\r\n    public static void progressPercentage(int remain, int total) {\r\n        if (remain &gt; total) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        int maxBareSize = 10; // 10unit for 100%\r\n        int remainProcent = ((100 * remain) / total) / maxBareSize;\r\n        char defaultChar = &#39;-&#39;;\r\n        String icon = &quot;*&quot;;\r\n        String bare = new String(new char[maxBareSize]).replace(&#39;\\0&#39;, defaultChar) + &quot;]&quot;;\r\n        StringBuilder bareDone = new StringBuilder();\r\n        bareDone.append(&quot;[&quot;);\r\n        for (int i = 0; i &lt; remainProcent; i++) {\r\n            bareDone.append(icon);\r\n        }\r\n        String bareRemain = bare.substring(remainProcent, bare.length());\r\n        System.out.print(&quot;\\r&quot; + bareDone + bareRemain + &quot; &quot; + remainProcent * 10 + &quot;%&quot;);\r\n        if (remain == total) {\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Command line progress bar in Java","body":"<p>I have made a percentage progress bare to check the remain download file.</p>\n\n<p>I call the method periodically in my file download to check the total file-size and remaining and present that in <code>%</code>.</p>\n\n<p>It can be used for other task purpose as well.</p>\n\n<p>Test and output example</p>\n\n<pre><code>progressPercentage(0, 1000);\n[----------] 0%\n\nprogressPercentage(10, 100);\n[*---------] 10%\n\nprogressPercentage(500000, 1000000);\n[*****-----] 50%\n\nprogressPercentage(90, 100);\n[*********-] 90%\n\nprogressPercentage(1000, 1000);\n[**********] 100%\n</code></pre>\n\n<p>Test with for loop</p>\n\n<pre><code>for (int i = 0; i &lt;= 200; i = i + 20) {\n    progressPercentage(i, 200);\n    try {\n        Thread.sleep(500);\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n\n<p>The method can be easily modified:</p>\n\n<pre><code>public static void progressPercentage(int remain, int total) {\n    if (remain &gt; total) {\n        throw new IllegalArgumentException();\n    }\n    int maxBareSize = 10; // 10unit for 100%\n    int remainProcent = ((100 * remain) / total) / maxBareSize;\n    char defaultChar = '-';\n    String icon = \"*\";\n    String bare = new String(new char[maxBareSize]).replace('\\0', defaultChar) + \"]\";\n    StringBuilder bareDone = new StringBuilder();\n    bareDone.append(\"[\");\n    for (int i = 0; i &lt; remainProcent; i++) {\n        bareDone.append(icon);\n    }\n    String bareRemain = bare.substring(remainProcent, bare.length());\n    System.out.print(\"\\r\" + bareDone + bareRemain + \" \" + remainProcent * 10 + \"%\");\n    if (remain == total) {\n        System.out.print(\"\\n\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3372023,"reputation":11,"user_id":2831046,"display_name":"vootla561"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499165457,"creation_date":1499164132,"answer_id":44903480,"question_id":852665,"body_markdown":"    public static void main(String[] argv) throws Exception{\r\n           \r\n    \t\r\n    \tSystem.out.write(&quot;\\r&quot;.getBytes());\r\n    \tint percentage =10;\r\n        while(percentage &lt;= 100) {\r\n            String temp =generateStars(percentage);\r\n        \tSystem.out.write(temp.getBytes());\r\n        \tSystem.out.print(&quot;\\b\\b\\b&quot;);\r\n        \tpercentage = percentage+10;\r\n            Thread.sleep(500);\r\n        }\r\n    }\r\n    \t\r\n    \tpublic static String generateStars(int percentage)\r\n    \t{\r\n    \t\tint startsNum = percentage / 4;\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\twhile(startsNum &gt;= 0)\r\n    \t\t{\r\n    \t\tbuilder.append(&quot;*&quot;);\r\n    \t\tstartsNum--;\r\n    \t\t}\r\n    \t\tbuilder.append(percentage+&quot;%&quot;);\r\n    \t\treturn builder.toString();\r\n    \t}\r\n\r\n","title":"Command line progress bar in Java","body":"<pre><code>public static void main(String[] argv) throws Exception{\n\n\n    System.out.write(\"\\r\".getBytes());\n    int percentage =10;\n    while(percentage &lt;= 100) {\n        String temp =generateStars(percentage);\n        System.out.write(temp.getBytes());\n        System.out.print(\"\\b\\b\\b\");\n        percentage = percentage+10;\n        Thread.sleep(500);\n    }\n}\n\n    public static String generateStars(int percentage)\n    {\n        int startsNum = percentage / 4;\n        StringBuilder builder = new StringBuilder();\n        while(startsNum &gt;= 0)\n        {\n        builder.append(\"*\");\n        startsNum--;\n        }\n        builder.append(percentage+\"%\");\n        return builder.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9894398,"reputation":753,"user_id":7326407,"accept_rate":80,"display_name":"Aashutosh Rathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518535836,"creation_date":1518535836,"answer_id":48770249,"question_id":852665,"body_markdown":"I have recently faced the same problem, you can check my code:\r\nI have set it for one # on 5%, which you can modify later.\r\n\r\n    public static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tint i = 0;\r\n\t\twhile(i &lt; 21) {\r\n\t\t\tSystem.out.print(&quot;[&quot;);\r\n\t\t\tfor (int j=0;j&lt;i;j++) {\r\n\t\t\t\tSystem.out.print(&quot;#&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int j=0;j&lt;20-i;j++) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.print(&quot;] &quot;+  i*5 + &quot;%&quot;);\r\n\t\t\tif(i&lt;20) {\r\n\t\t\t\tSystem.out.print(&quot;\\r&quot;);\r\n\t\t\t\tThread.sleep(300);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}","title":"Command line progress bar in Java","body":"<p>I have recently faced the same problem, you can check my code:\nI have set it for one # on 5%, which you can modify later.</p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    int i = 0;\n    while(i &lt; 21) {\n        System.out.print(\"[\");\n        for (int j=0;j&lt;i;j++) {\n            System.out.print(\"#\");\n        }\n\n        for (int j=0;j&lt;20-i;j++) {\n            System.out.print(\" \");\n        }\n\n        System.out.print(\"] \"+  i*5 + \"%\");\n        if(i&lt;20) {\n            System.out.print(\"\\r\");\n            Thread.sleep(300);\n        }\n        i++;\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":2,"creation_date":1525887110,"post_id":48854860,"comment_id":87535933,"body_markdown":"this looks neat, and it will allow me to replace a couple hundred string-buffer lines I&#39;ve got on my CLI. But what if I&#39;ve got an application that runs for minutes between &quot;ticks&quot; (minutes between `step()` calls)? Does your library run asynchronously, thus allowing the clock to update? What if my library runs for days? Does it use the `/r` strategy? Will that result in multi-hundred-megabyte output?","body":"this looks neat, and it will allow me to replace a couple hundred string-buffer lines I&#39;ve got on my CLI. But what if I&#39;ve got an application that runs for minutes between &quot;ticks&quot; (minutes between <code>step()</code> calls)? Does your library run asynchronously, thus allowing the clock to update? What if my library runs for days? Does it use the <code>&#47;r</code> strategy? Will that result in multi-hundred-megabyte output?"},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":1,"creation_date":1605122431,"post_id":48854860,"comment_id":114558030,"body_markdown":"The library runs asynchronously. I did not check for the time overflow. If it doesn&#39;t work, just submit an issue. [In general, it truncates the string](https://github.com/ctongfei/progressbar/blob/e8fd860f8c39f582e4b0b530336ccd52faffa1c7/src/main/java/me/tongfei/progressbar/DefaultProgressBarRenderer.java#L115). [It uses the `\\r` stratgy](https://github.com/ctongfei/progressbar/blob/e8fd860f8c39f582e4b0b530336ccd52faffa1c7/src/main/java/me/tongfei/progressbar/TerminalUtils.java#L18).","body":"The library runs asynchronously. I did not check for the time overflow. If it doesn&#39;t work, just submit an issue. <a href=\"https://github.com/ctongfei/progressbar/blob/e8fd860f8c39f582e4b0b530336ccd52faffa1c7/src/main/java/me/tongfei/progressbar/DefaultProgressBarRenderer.java#L115\" rel=\"nofollow noreferrer\">In general, it truncates the string</a>. <a href=\"https://github.com/ctongfei/progressbar/blob/e8fd860f8c39f582e4b0b530336ccd52faffa1c7/src/main/java/me/tongfei/progressbar/TerminalUtils.java#L18\" rel=\"nofollow noreferrer\">It uses the <code>\\r</code> stratgy</a>."},{"owner":{"account_id":10078023,"reputation":67,"user_id":7449408,"display_name":"xman_bsn"},"score":0,"creation_date":1640487247,"post_id":48854860,"comment_id":124594299,"body_markdown":"This lib looks awesome! Just wondering how the progress bar&#39;s length could be customised? Seems like the entir line of text including the initial and extra messsages has been applied with a fix length so that the length of the bar keeps changing dynamically. Testing under IDEA in Windows 10. Thanks!","body":"This lib looks awesome! Just wondering how the progress bar&#39;s length could be customised? Seems like the entir line of text including the initial and extra messsages has been applied with a fix length so that the length of the bar keeps changing dynamically. Testing under IDEA in Windows 10. Thanks!"}],"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":3,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1605122132,"creation_date":1518976697,"answer_id":48854860,"question_id":852665,"body_markdown":"There is https://github.com/ctongfei/progressbar, License: MIT\r\n\r\nSimple console progress bar. Progress bar writing now runs on another thread.\r\n\r\n&lt;img src=&quot;https://i.gyazo.com/1c02d51927e769cf245a108f5a8dfaf5.gif&quot; width=&quot;600&quot;/&gt;\r\n\r\nMenlo, Fira Mono, Source Code Pro or SF Mono are recommended for optimal visual effects.\r\n\r\nFor Consolas or Andale Mono fonts, use `ProgressBarStyle.ASCII` (see below) because the box-drawing glyphs are not aligned properly in these fonts.\r\n\r\n&lt;img src=&quot;https://i.gyazo.com/e01943454443f90c9499c00a6c197a41.gif&quot; width=&quot;600&quot;/&gt;\r\n\r\n[Maven](https://search.maven.org/artifact/me.tongfei/progressbar):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\r\n      &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsage:\r\n\r\n    ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100); // name, initial max\r\n     // Use ProgressBar(&quot;Test&quot;, 100, ProgressBarStyle.ASCII) if you want ASCII output style\r\n    pb.start(); // the progress bar starts timing\r\n    // Or you could combine these two lines like this:\r\n    //   ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100).start();\r\n    some loop {\r\n      ...\r\n      pb.step(); // step by 1\r\n      pb.stepBy(n); // step by n\r\n      ...\r\n      pb.stepTo(n); // step directly to n\r\n      ...\r\n      pb.maxHint(n);\r\n      // reset the max of this progress bar as n. This may be useful when the program\r\n      // gets new information about the current progress.\r\n      // Can set n to be less than zero: this means that this progress bar would become\r\n      // indefinite: the max would be unknown.\r\n      ...\r\n      pb.setExtraMessage(&quot;Reading...&quot;); // Set extra message to display at the end of the bar\r\n    }\r\n    pb.stop() // stops the progress bar\r\n","title":"Command line progress bar in Java","body":"<p>There is <a href=\"https://github.com/ctongfei/progressbar\" rel=\"noreferrer\">https://github.com/ctongfei/progressbar</a>, License: MIT</p>\n<p>Simple console progress bar. Progress bar writing now runs on another thread.</p>\n<img src=\"https://i.gyazo.com/1c02d51927e769cf245a108f5a8dfaf5.gif\" width=\"600\"/>\n<p>Menlo, Fira Mono, Source Code Pro or SF Mono are recommended for optimal visual effects.</p>\n<p>For Consolas or Andale Mono fonts, use <code>ProgressBarStyle.ASCII</code> (see below) because the box-drawing glyphs are not aligned properly in these fonts.</p>\n<img src=\"https://i.gyazo.com/e01943454443f90c9499c00a6c197a41.gif\" width=\"600\"/>\n<p><a href=\"https://search.maven.org/artifact/me.tongfei/progressbar\" rel=\"noreferrer\">Maven</a>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\n  &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\n  &lt;version&gt;0.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Usage:</p>\n<pre><code>ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100); // name, initial max\n // Use ProgressBar(&quot;Test&quot;, 100, ProgressBarStyle.ASCII) if you want ASCII output style\npb.start(); // the progress bar starts timing\n// Or you could combine these two lines like this:\n//   ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100).start();\nsome loop {\n  ...\n  pb.step(); // step by 1\n  pb.stepBy(n); // step by n\n  ...\n  pb.stepTo(n); // step directly to n\n  ...\n  pb.maxHint(n);\n  // reset the max of this progress bar as n. This may be useful when the program\n  // gets new information about the current progress.\n  // Can set n to be less than zero: this means that this progress bar would become\n  // indefinite: the max would be unknown.\n  ...\n  pb.setExtraMessage(&quot;Reading...&quot;); // Set extra message to display at the end of the bar\n}\npb.stop() // stops the progress bar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7799666,"reputation":2135,"user_id":5899585,"display_name":"larsaars"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521045413,"creation_date":1521045413,"answer_id":49283219,"question_id":852665,"body_markdown":"    public class ProgressBar\n    {\n    \tprivate int max;\n    \t\n    \tpublic ProgressBar(int max0) {\n    \t\tmax = max0;\n    \t\tupdate(0);\n    \t}\n    \t\n    \tpublic void update(int perc) {\n    \t\tString toPrint = &quot;|&quot;;\n    \t\tfor(int i = 0; i &lt; max; i++) {\n    \t\t\tif(i &lt;= (perc + 1))\n    \t\t\t\ttoPrint += &quot;=&quot;;\n    \t\t\telse\n    \t\t\t\ttoPrint += &quot; &quot;;\n    \t\t}\n    \t\t\n    \t\tif(perc &gt;= max)\n    \t\t\tConsole.print(&quot;\\r&quot;);\n    \t\telse\n    \t\t\tConsole.print(toPrint + &quot;|\\r&quot;);\n    \t}\n    }","title":"Command line progress bar in Java","body":"<pre><code>public class ProgressBar\n{\n    private int max;\n\n    public ProgressBar(int max0) {\n        max = max0;\n        update(0);\n    }\n\n    public void update(int perc) {\n        String toPrint = \"|\";\n        for(int i = 0; i &lt; max; i++) {\n            if(i &lt;= (perc + 1))\n                toPrint += \"=\";\n            else\n                toPrint += \" \";\n        }\n\n        if(perc &gt;= max)\n            Console.print(\"\\r\");\n        else\n            Console.print(toPrint + \"|\\r\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10680738,"reputation":2840,"user_id":7862909,"display_name":"Arun Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545313585,"creation_date":1545313585,"answer_id":53869960,"question_id":852665,"body_markdown":"    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            System.out.println(&quot;Loading : &quot;);\r\n                int count =1;\r\n                for(int j=1;j&lt;150;j++){\r\n    \r\n                    System.out.print(&quot;\\r&quot;);\r\n                    if(count==1){\r\n                        System.out.print(&quot;/&quot;);\r\n                        count++;\r\n                    }\r\n                    else if(count==2){\r\n                        System.out.print(&quot;|&quot;);\r\n                        count++;\r\n                    }\r\n                    else if(count==3){\r\n                        System.out.print(&quot;-&quot;);\r\n                        count++;\r\n                    }\r\n                    else if(count==4){\r\n                        System.out.print(&quot;\\\\&quot;);\r\n                        count++;\r\n                    }\r\n                    else if(count==5){\r\n                        System.out.print(&quot;|&quot;);\r\n                        count++;\r\n                    }\r\n                    else\r\n                        count = 1;\r\n                Thread.sleep(200);\r\n            }\r\n    \r\n            }\r\n    \r\n        }\r\n\r\n","title":"Command line progress bar in Java","body":"<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(\"Loading : \");\n            int count =1;\n            for(int j=1;j&lt;150;j++){\n\n                System.out.print(\"\\r\");\n                if(count==1){\n                    System.out.print(\"/\");\n                    count++;\n                }\n                else if(count==2){\n                    System.out.print(\"|\");\n                    count++;\n                }\n                else if(count==3){\n                    System.out.print(\"-\");\n                    count++;\n                }\n                else if(count==4){\n                    System.out.print(\"\\\\\");\n                    count++;\n                }\n                else if(count==5){\n                    System.out.print(\"|\");\n                    count++;\n                }\n                else\n                    count = 1;\n            Thread.sleep(200);\n        }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553352077,"creation_date":1553348107,"answer_id":55314254,"question_id":852665,"body_markdown":"A bit refactored and updated @maytham-ɯɐɥʇʎɐɯ &#39;s method. Now it&#39;s supporting an arbitrary size of the progress bar:\r\n```\r\n    public static void progressPercentage(int done, int total) {\r\n        int size = 5;\r\n        String iconLeftBoundary = &quot;[&quot;;\r\n        String iconDone = &quot;=&quot;;\r\n        String iconRemain = &quot;.&quot;;\r\n        String iconRightBoundary = &quot;]&quot;;\r\n\r\n        if (done &gt; total) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        int donePercents = (100 * done) / total;\r\n        int doneLength = size * donePercents / 100;\r\n\r\n        StringBuilder bar = new StringBuilder(iconLeftBoundary);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (i &lt; doneLength) {\r\n                bar.append(iconDone);\r\n            } else {\r\n                bar.append(iconRemain);\r\n            }\r\n        }\r\n        bar.append(iconRightBoundary);\r\n\r\n        System.out.print(&quot;\\r&quot; + bar + &quot; &quot; + donePercents + &quot;%&quot;);\r\n\r\n        if (done == total) {\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n```","title":"Command line progress bar in Java","body":"<p>A bit refactored and updated @maytham-ɯɐɥʇʎɐɯ 's method. Now it's supporting an arbitrary size of the progress bar:</p>\n\n<pre><code>    public static void progressPercentage(int done, int total) {\n        int size = 5;\n        String iconLeftBoundary = \"[\";\n        String iconDone = \"=\";\n        String iconRemain = \".\";\n        String iconRightBoundary = \"]\";\n\n        if (done &gt; total) {\n            throw new IllegalArgumentException();\n        }\n        int donePercents = (100 * done) / total;\n        int doneLength = size * donePercents / 100;\n\n        StringBuilder bar = new StringBuilder(iconLeftBoundary);\n        for (int i = 0; i &lt; size; i++) {\n            if (i &lt; doneLength) {\n                bar.append(iconDone);\n            } else {\n                bar.append(iconRemain);\n            }\n        }\n        bar.append(iconRightBoundary);\n\n        System.out.print(\"\\r\" + bar + \" \" + donePercents + \"%\");\n\n        if (done == total) {\n            System.out.print(\"\\n\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18197671,"reputation":331,"user_id":13242440,"display_name":"Nikolay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626677561,"creation_date":1586207657,"answer_id":61069080,"question_id":852665,"body_markdown":"    static String progressBar(int progressBarSize, long currentPosition, long startPositoin, long finishPosition) {\r\n\t\tString bar = &quot;&quot;;\r\n\t\tint nPositions = progressBarSize;\r\n\t\tchar pb = &#39;░&#39;;\r\n\t\tchar stat = &#39;█&#39;;\r\n\t\tfor (int p = 0; p &lt; nPositions; p++) {\r\n\t\t\tbar += pb;\r\n\t\t}\r\n\t\tint ststus = (int) (100 * (currentPosition - startPositoin) / (finishPosition - startPositoin));\r\n\t\tint move = (nPositions * ststus) / 100;\r\n\t\treturn &quot;[&quot; + bar.substring(0, move).replace(pb, stat) + ststus + &quot;%&quot; + bar.substring(move, bar.length()) + &quot;]&quot;;\r\n\t}\r\n\r\n[![image][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/QS7Sa.png","title":"Command line progress bar in Java","body":"<pre><code>static String progressBar(int progressBarSize, long currentPosition, long startPositoin, long finishPosition) {\n    String bar = &quot;&quot;;\n    int nPositions = progressBarSize;\n    char pb = '░';\n    char stat = '█';\n    for (int p = 0; p &lt; nPositions; p++) {\n        bar += pb;\n    }\n    int ststus = (int) (100 * (currentPosition - startPositoin) / (finishPosition - startPositoin));\n    int move = (nPositions * ststus) / 100;\n    return &quot;[&quot; + bar.substring(0, move).replace(pb, stat) + ststus + &quot;%&quot; + bar.substring(move, bar.length()) + &quot;]&quot;;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QS7Sa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QS7Sa.png\" alt=\"image\" /></a></p>\n"},{"comments":[{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":2,"creation_date":1603346946,"post_id":62314585,"comment_id":114009264,"body_markdown":"This code shows the percentage in steps, each step is 3.33%. In case if you want to show the percentage of the job done, replace `String formattedPercent = String.format(&quot; %5.1f %% &quot;, (100 * currentProgressBarIndex) / (double) progressBarLength);` with `String formattedPercent = String.format(&quot; %7.3f %% &quot;, (100 * currentValue) / (double) maxValue);`","body":"This code shows the percentage in steps, each step is 3.33%. In case if you want to show the percentage of the job done, replace <code>String formattedPercent = String.format(&quot; %5.1f %% &quot;, (100 * currentProgressBarIndex) &#47; (double) progressBarLength);</code> with <code>String formattedPercent = String.format(&quot; %7.3f %% &quot;, (100 * currentValue) &#47; (double) maxValue);</code>"}],"tags":[],"owner":{"account_id":13409315,"reputation":68,"user_id":9676376,"display_name":"Marko Štumberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591830965,"creation_date":1591830630,"answer_id":62314585,"question_id":852665,"body_markdown":"I edited Eoin Campbell&#39;s code to java and added formatted progress in percents.\r\n\r\n    public static String progressBar(int currentValue, int maxValue) {\r\n        int progressBarLength = 33; //\r\n        if (progressBarLength &lt; 9 || progressBarLength % 2 == 0) {\r\n            throw new ArithmeticException(&quot;formattedPercent.length() = 9! + even number of chars (one for each side)&quot;);\r\n        }\r\n        int currentProgressBarIndex = (int) Math.ceil(((double) progressBarLength / maxValue) * currentValue);\r\n        String formattedPercent = String.format(&quot; %5.1f %% &quot;, (100 * currentProgressBarIndex) / (double) progressBarLength);\r\n        int percentStartIndex = ((progressBarLength - formattedPercent.length()) / 2);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;[&quot;);\r\n        for (int progressBarIndex = 0; progressBarIndex &lt; progressBarLength; progressBarIndex++) {\r\n            if (progressBarIndex &lt;= percentStartIndex - 1\r\n            ||  progressBarIndex &gt;= percentStartIndex + formattedPercent.length()) {\r\n                sb.append(currentProgressBarIndex &lt;= progressBarIndex ? &quot; &quot; : &quot;=&quot;);\r\n            } else if (progressBarIndex == percentStartIndex) {\r\n                sb.append(formattedPercent);\r\n            }\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        return sb.toString();\r\n    }\r\n\r\n    int max = 22;\r\n    System.out.println(&quot;Generating report...&quot;);\r\n    for (int i = 0; i &lt;= max; i++) {\r\n       Thread.sleep(100);\r\n       System.out.print(String.format(&quot;\\r%s&quot;, progressBar(i, max)));\r\n    }\r\n    System.out.println(&quot;\\nSuccessfully saved 32128 bytes&quot;);\r\n\r\n\r\nAnd output:\r\n\r\n    Generating report...\r\n    \r\n    [========      24.2 %             ]\r\n    \r\n    [============  45.5 %             ]\r\n    \r\n    [============  78.8 % =====       ]\r\n    \r\n    [============  87.9 % ========    ]\r\n    \r\n    [============ 100.0 % ============]\r\n    \r\n    Successfully saved 32128 bytes","title":"Command line progress bar in Java","body":"<p>I edited Eoin Campbell's code to java and added formatted progress in percents.</p>\n\n<pre><code>public static String progressBar(int currentValue, int maxValue) {\n    int progressBarLength = 33; //\n    if (progressBarLength &lt; 9 || progressBarLength % 2 == 0) {\n        throw new ArithmeticException(\"formattedPercent.length() = 9! + even number of chars (one for each side)\");\n    }\n    int currentProgressBarIndex = (int) Math.ceil(((double) progressBarLength / maxValue) * currentValue);\n    String formattedPercent = String.format(\" %5.1f %% \", (100 * currentProgressBarIndex) / (double) progressBarLength);\n    int percentStartIndex = ((progressBarLength - formattedPercent.length()) / 2);\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"[\");\n    for (int progressBarIndex = 0; progressBarIndex &lt; progressBarLength; progressBarIndex++) {\n        if (progressBarIndex &lt;= percentStartIndex - 1\n        ||  progressBarIndex &gt;= percentStartIndex + formattedPercent.length()) {\n            sb.append(currentProgressBarIndex &lt;= progressBarIndex ? \" \" : \"=\");\n        } else if (progressBarIndex == percentStartIndex) {\n            sb.append(formattedPercent);\n        }\n    }\n    sb.append(\"]\");\n    return sb.toString();\n}\n\nint max = 22;\nSystem.out.println(\"Generating report...\");\nfor (int i = 0; i &lt;= max; i++) {\n   Thread.sleep(100);\n   System.out.print(String.format(\"\\r%s\", progressBar(i, max)));\n}\nSystem.out.println(\"\\nSuccessfully saved 32128 bytes\");\n</code></pre>\n\n<p>And output:</p>\n\n<pre><code>Generating report...\n\n[========      24.2 %             ]\n\n[============  45.5 %             ]\n\n[============  78.8 % =====       ]\n\n[============  87.9 % ========    ]\n\n[============ 100.0 % ============]\n\nSuccessfully saved 32128 bytes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611794234,"creation_date":1611794234,"answer_id":65929443,"question_id":852665,"body_markdown":"It doesn&#39;t need to be complicated. \r\n---\r\n\r\n[![enter image description here][1]][1]\r\n```\r\npublic class Demo {\r\n  private static final StringBuilder sb = new StringBuilder();\r\n\r\n  public static void main (String[] args) throws java.lang.Exception\r\n  {\r\n    for (int i = 0 ; i &lt;= 100 ; i++) {\r\n      sb.setLength(0);\r\n      for (int j = 0 ; j &lt; i; j++) {\r\n        sb.append(&quot;#&quot;);\r\n      }\r\n      Thread.sleep(100);\r\n      System.out.print(&quot;[&quot; + String.format(&quot;%-100s&quot;, sb.toString()) + &quot;] &quot; +  i + &quot;%&quot;);\r\n      System.out.print(&quot;\\r&quot;);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOgCi.png","title":"Command line progress bar in Java","body":"<h2>It doesn't need to be complicated.</h2>\n<p><a href=\"https://i.stack.imgur.com/wOgCi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOgCi.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Demo {\n  private static final StringBuilder sb = new StringBuilder();\n\n  public static void main (String[] args) throws java.lang.Exception\n  {\n    for (int i = 0 ; i &lt;= 100 ; i++) {\n      sb.setLength(0);\n      for (int j = 0 ; j &lt; i; j++) {\n        sb.append(&quot;#&quot;);\n      }\n      Thread.sleep(100);\n      System.out.print(&quot;[&quot; + String.format(&quot;%-100s&quot;, sb.toString()) + &quot;] &quot; +  i + &quot;%&quot;);\n      System.out.print(&quot;\\r&quot;);\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16404603,"reputation":359,"user_id":11849527,"display_name":"Salem loress"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639736650,"creation_date":1639736650,"answer_id":70391682,"question_id":852665,"body_markdown":"    public class ConsoleApp {\r\n        static String DisplayBar(int i)\r\n        {\r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            int x = i / 2;\r\n            sb.append(&quot;|&quot;);\r\n            for (int k = 0; k &lt; 50; k++)\r\n                sb.append(String.format(&quot;%s&quot;, ((x &lt;= k) ? &quot; &quot; : &quot;=&quot;)));\r\n            sb.append(&quot;|&quot;);\r\n    \r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            for (int i = 0; i &lt;= 100; i++)\r\n            {\r\n                Thread.sleep(200);\r\n                System.out.printf(&quot;\\r%s %s  Done&quot;, DisplayBar(i), i);\r\n            }\r\n        }\r\n    }","title":"Command line progress bar in Java","body":"<pre><code>public class ConsoleApp {\n    static String DisplayBar(int i)\n    {\n        StringBuilder sb = new StringBuilder();\n\n        int x = i / 2;\n        sb.append(&quot;|&quot;);\n        for (int k = 0; k &lt; 50; k++)\n            sb.append(String.format(&quot;%s&quot;, ((x &lt;= k) ? &quot; &quot; : &quot;=&quot;)));\n        sb.append(&quot;|&quot;);\n\n        return sb.toString();\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 0; i &lt;= 100; i++)\n        {\n            Thread.sleep(200);\n            System.out.printf(&quot;\\r%s %s  Done&quot;, DisplayBar(i), i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658031321,"creation_date":1658031321,"answer_id":73009217,"question_id":852665,"body_markdown":"I have created a [ProgressBar](https://github.com/JumperBot/Java-SomeUtils/blob/master/src/SomeUtils/ProgressBar/ProgressBar.java) that has everything you might need in it.\r\n\r\nI even [documented](https://github.com/JumperBot/Java-SomeUtils/tree/master/src/SomeUtils/ProgressBar#progressbarjava) it!\r\n\r\nAnd [I also compiled it](https://github.com/JumperBot/Java-SomeUtils/tree/master/build/SomeUtils/ProgressBar) for faster usage.\r\n\r\nI know that nobody has to do this, but Im still seeing people having the same problem 10 years later!\r\n\r\nHere&#39;s an example:\r\n\r\n```\r\n//...\r\n  //For demo only!\r\n  public static void main(String[]a){\r\n    final ProgressBar progress=new ProgressBar(100);\r\n    progress.printBar();\r\n    for(int i=0;i&lt;100;i++){\r\n      progress.addValue();\r\n      progress.printBar();\r\n      try{\r\n        java.lang.Thread.sleep(100);\r\n      }catch(Exception e){}\r\n    }\r\n  }\r\n//...\r\n```\r\n\r\nThis is not for promotion, [made this](https://github.com/JumperBot/Java-SomeUtils/) to help people not waste their time in coding classes themselves!","title":"Command line progress bar in Java","body":"<p>I have created a <a href=\"https://github.com/JumperBot/Java-SomeUtils/blob/master/src/SomeUtils/ProgressBar/ProgressBar.java\" rel=\"nofollow noreferrer\">ProgressBar</a> that has everything you might need in it.</p>\n<p>I even <a href=\"https://github.com/JumperBot/Java-SomeUtils/tree/master/src/SomeUtils/ProgressBar#progressbarjava\" rel=\"nofollow noreferrer\">documented</a> it!</p>\n<p>And <a href=\"https://github.com/JumperBot/Java-SomeUtils/tree/master/build/SomeUtils/ProgressBar\" rel=\"nofollow noreferrer\">I also compiled it</a> for faster usage.</p>\n<p>I know that nobody has to do this, but Im still seeing people having the same problem 10 years later!</p>\n<p>Here's an example:</p>\n<pre><code>//...\n  //For demo only!\n  public static void main(String[]a){\n    final ProgressBar progress=new ProgressBar(100);\n    progress.printBar();\n    for(int i=0;i&lt;100;i++){\n      progress.addValue();\n      progress.printBar();\n      try{\n        java.lang.Thread.sleep(100);\n      }catch(Exception e){}\n    }\n  }\n//...\n</code></pre>\n<p>This is not for promotion, <a href=\"https://github.com/JumperBot/Java-SomeUtils/\" rel=\"nofollow noreferrer\">made this</a> to help people not waste their time in coding classes themselves!</p>\n"}],"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125394,"favorite_count":0,"down_vote_count":4,"up_vote_count":166,"accepted_answer_id":852802,"answer_count":18,"score":162,"last_activity_date":1671914001,"creation_date":1242133409,"question_id":852665,"body_markdown":"I have a Java program running in command line mode.\r\nI would like to display a progress bar, showing the percentage of job done.\r\nThe same kind of progress bar you would see using wget under unix.\r\nIs this possible?","title":"Command line progress bar in Java","body":"<p>I have a Java program running in command line mode.\nI would like to display a progress bar, showing the percentage of job done.\nThe same kind of progress bar you would see using wget under unix.\nIs this possible?</p>\n"},{"tags":["java","android","onclick"],"comments":[{"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"score":0,"creation_date":1343976763,"post_id":11790573,"comment_id":15664066,"body_markdown":"what is this::xmlns:tools=&quot;http://schemas.android.com/tools&quot;","body":"what is this::xmlns:tools=&quot;<a href=\"http://schemas.android.com/tools\" rel=\"nofollow noreferrer\">schemas.android.com/tools</a>&quot;"},{"owner":{"account_id":1205809,"reputation":1531,"user_id":1175510,"accept_rate":66,"display_name":"Youddh"},"score":0,"creation_date":1343977790,"post_id":11790573,"comment_id":15664399,"body_markdown":"r u display only toast ?? try sysout..  shme times toast r not display may b because if key Bord..","body":"r u display only toast ?? try sysout..  shme times toast r not display may b because if key Bord.."},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1343978281,"post_id":11790573,"comment_id":15664555,"body_markdown":"I tried `system.out`, but it works exactly like the toast did.","body":"I tried <code>system.out</code>, but it works exactly like the toast did."},{"owner":{"account_id":244618,"reputation":8437,"user_id":517561,"display_name":"Sparky"},"score":1,"creation_date":1343980156,"post_id":11790573,"comment_id":15665177,"body_markdown":"The tools namespace is for the new (r20) developer tool chain.  It&#39;s part of the app project template.","body":"The tools namespace is for the new (r20) developer tool chain.  It&#39;s part of the app project template."}],"answers":[{"comments":[{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1343976630,"post_id":11790640,"comment_id":15664022,"body_markdown":"Nope. Still getting the same problem.","body":"Nope. Still getting the same problem."},{"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"score":0,"creation_date":1343976827,"post_id":11790640,"comment_id":15664090,"body_markdown":"what is this--&gt;   xmlns:tools=&quot;http://schemas.android.com/tools&quot;           and remove final from edit text ..","body":"what is this--&gt;   xmlns:tools=&quot;<a href=\"http://schemas.android.com/tools\" rel=\"nofollow noreferrer\">schemas.android.com/tools</a>&quot;           and remove final from edit text .."},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1343976986,"post_id":11790640,"comment_id":15664136,"body_markdown":"That&#39;s what show&#39;s up be default when you create a new layout in eclipse. Also, I removed final and I still get the same problem.","body":"That&#39;s what show&#39;s up be default when you create a new layout in eclipse. Also, I removed final and I still get the same problem."},{"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"score":0,"creation_date":1343977076,"post_id":11790640,"comment_id":15664168,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;TextView\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/hello&quot; /&gt;  &lt;/LinearLayout&gt;                    This the default things..","body":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;     android:layout_width=&quot;fill_parent&quot;     android:layout_height=&quot;fill_parent&quot;     android:orientation=&quot;vertical&quot; &gt;      &lt;TextView         android:layout_width=&quot;fill_parent&quot;         android:layout_height=&quot;wrap_content&quot;         android:text=&quot;@string/hello&quot; /&gt;  &lt;/LinearLayout&gt;                    This the default things.."},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1343977217,"post_id":11790640,"comment_id":15664213,"body_markdown":"Not for mine. That xml is from a brand new project.","body":"Not for mine. That xml is from a brand new project."},{"owner":{"account_id":1186326,"reputation":3418,"user_id":1160216,"accept_rate":50,"display_name":"Mike Miller"},"score":0,"creation_date":1432004110,"post_id":11790640,"comment_id":48727157,"body_markdown":"setClickable(true) was my problem. Not all views set that to true by default. I wasn&#39;t using a button, I was using a View which isn&#39;t normally clickable.","body":"setClickable(true) was my problem. Not all views set that to true by default. I wasn&#39;t using a button, I was using a View which isn&#39;t normally clickable."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1469707543,"post_id":11790640,"comment_id":64654722,"body_markdown":"@EGHDK @mainu that `xmlns:tools` doesn&#39;t affect the deployed behavior, see http://tools.android.com/tech-docs/tools-attributes and http://tools.android.com/tips/layout-designtime-attributes","body":"@EGHDK @mainu that <code>xmlns:tools</code> doesn&#39;t affect the deployed behavior, see <a href=\"http://tools.android.com/tech-docs/tools-attributes\" rel=\"nofollow noreferrer\">tools.android.com/tech-docs/tools-attributes</a> and <a href=\"http://tools.android.com/tips/layout-designtime-attributes\" rel=\"nofollow noreferrer\">tools.android.com/tips/layout-designtime-attributes</a>"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1469707620,"post_id":11790640,"comment_id":64654775,"body_markdown":"@MikeMiller `setOnClickListener` makes any view clickable, see code.","body":"@MikeMiller <code>setOnClickListener</code> makes any view clickable, see code."}],"tags":[],"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"comment_count":8,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1343976438,"creation_date":1343976438,"answer_id":11790640,"question_id":11790573,"body_markdown":"make edit text clickable.. \r\n  In XML `android:clickable=&quot;true&quot;`\r\n or in code \r\n\r\n \r\n\r\n    ed1.setClickable(true);\r\n\r\nthen do \r\n\r\n   \r\n\r\n    ed1.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\t\r\n    \t@Override\r\n    \tpublic void onClick(View v) {\r\n    \t  Toast.makeText(getBaseContext(), &quot;1&quot;,Toast.LENGTH_SHORT).show();\r\n    \t}\r\n      });\r\n\r\n","title":"onClick event is not triggering | Android","body":"<p>make edit text clickable.. \n  In XML <code>android:clickable=\"true\"</code>\n or in code </p>\n\n<pre><code>ed1.setClickable(true);\n</code></pre>\n\n<p>then do </p>\n\n<pre><code>ed1.setOnClickListener(new OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n      Toast.makeText(getBaseContext(), \"1\",Toast.LENGTH_SHORT).show();\n    }\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634996,"reputation":1751,"user_id":1508734,"display_name":"Yash"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1343988776,"creation_date":1343988776,"answer_id":11793671,"question_id":11790573,"body_markdown":"    public class TestProject extends Activity implements OnClickListener {\r\n\tTextView txtmsg;\r\n\tEditText ed1, ed2;\r\n\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.main);\r\n\t\ttxtmsg = (TextView) findViewById(R.id.txtmsg);\r\n\t\ted1 = (EditText) findViewById(R.id.edt1);\r\n\t\ted2 = (EditText) findViewById(R.id.edt2);\r\n\r\n\t\ted1.setOnClickListener(this);\r\n\t\ted2.setOnClickListener(this);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\t\r\n\t\t\r\n\t\tif(v==ed1){\r\n\t\t\ttxtmsg.setText(&quot;1&quot;);\r\n\t\t\tToast.makeText(this, &quot;first&quot;,Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n\t\tif(v==ed2){\r\n\t\t\ttxtmsg.setText(&quot;2&quot;);\r\n\t\t\tToast.makeText(this, &quot;second&quot;,Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edt1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:ems=&quot;10&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edt2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/edt1&quot;\r\n            android:layout_marginTop=&quot;14dp&quot;\r\n            android:ems=&quot;10&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtmsg&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignRight=&quot;@+id/edt2&quot;\r\n            android:layout_below=&quot;@+id/edt2&quot;\r\n            android:layout_marginRight=&quot;22dp&quot;\r\n            android:layout_marginTop=&quot;160dp&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n","title":"onClick event is not triggering | Android","body":"<pre><code>public class TestProject extends Activity implements OnClickListener {\nTextView txtmsg;\nEditText ed1, ed2;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    txtmsg = (TextView) findViewById(R.id.txtmsg);\n    ed1 = (EditText) findViewById(R.id.edt1);\n    ed2 = (EditText) findViewById(R.id.edt2);\n\n    ed1.setOnClickListener(this);\n    ed2.setOnClickListener(this);\n}\n\n@Override\npublic void onClick(View v) {\n\n\n    if(v==ed1){\n        txtmsg.setText(\"1\");\n        Toast.makeText(this, \"first\",Toast.LENGTH_SHORT).show();\n    }\n    if(v==ed2){\n        txtmsg.setText(\"2\");\n        Toast.makeText(this, \"second\",Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/edt1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:ems=\"10\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/edt2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_below=\"@+id/edt1\"\n        android:layout_marginTop=\"14dp\"\n        android:ems=\"10\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txtmsg\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignRight=\"@+id/edt2\"\n        android:layout_below=\"@+id/edt2\"\n        android:layout_marginRight=\"22dp\"\n        android:layout_marginTop=\"160dp\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33695,"reputation":366,"user_id":94523,"accept_rate":100,"display_name":"h-bomb"},"score":0,"creation_date":1431113466,"post_id":11799891,"comment_id":48373009,"body_markdown":"#2 was helpful in my use case - needed to have my custom relative layout button handle both onClick and _onBlur_. Note that if anyone has this use case, your onClick will not need to do anything because the onFocusChange handles both the onClick (when hasFocus = true) and _onBlur_ (when hasFocus = false). And if you *are* using the same type of view, make sure and set `android:focusable=&quot;true&quot;` and `android:focusableInTouchMode=&quot;true&quot;`. Thank you, Sam.","body":"#2 was helpful in my use case - needed to have my custom relative layout button handle both onClick and <i>onBlur</i>. Note that if anyone has this use case, your onClick will not need to do anything because the onFocusChange handles both the onClick (when hasFocus = true) and <i>onBlur</i> (when hasFocus = false). And if you <i>are</i> using the same type of view, make sure and set <code>android:focusable=&quot;true&quot;</code> and <code>android:focusableInTouchMode=&quot;true&quot;</code>. Thank you, Sam."},{"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"score":3,"creation_date":1461278244,"post_id":11799891,"comment_id":61139648,"body_markdown":"I have a `TextView` with `android:textIsSelectable=&quot;true&quot;`. So what is the solution if I have to listen to `OnClick() `event and also, the user can select the text within the `TextView`.","body":"I have a <code>TextView</code> with <code>android:textIsSelectable=&quot;true&quot;</code>. So what is the solution if I have to listen to <code>OnClick() </code>event and also, the user can select the text within the <code>TextView</code>."},{"owner":{"account_id":117072,"reputation":11619,"user_id":306739,"accept_rate":100,"display_name":"stan0"},"score":0,"creation_date":1500999136,"post_id":11799891,"comment_id":77579132,"body_markdown":"Btw, @Sam do your remember seeing this somewhere in the docs or is it from experience and maybe debugging?","body":"Btw, @Sam do your remember seeing this somewhere in the docs or is it from experience and maybe debugging?"},{"owner":{"account_id":1322038,"reputation":86670,"user_id":1267661,"display_name":"Sam"},"score":1,"creation_date":1516648484,"post_id":11799891,"comment_id":83765093,"body_markdown":"I learned this the hard way through trial and error then debugging.","body":"I learned this the hard way through trial and error then debugging."},{"owner":{"account_id":8596847,"reputation":577,"user_id":6439630,"display_name":"ONE"},"score":0,"creation_date":1602368670,"post_id":11799891,"comment_id":113699633,"body_markdown":"Can you explain how getApplicationContext() creates memory leaks? Doesn&#39;t getApplicationContext() return a Singleton instance of Context with Application scope? Slightly OT, but any clarification will be appreciated! Thank you!","body":"Can you explain how getApplicationContext() creates memory leaks? Doesn&#39;t getApplicationContext() return a Singleton instance of Context with Application scope? Slightly OT, but any clarification will be appreciated! Thank you!"},{"owner":{"account_id":4131497,"reputation":479,"user_id":4955127,"display_name":"Adrian Wiik"},"score":1,"creation_date":1619359717,"post_id":11799891,"comment_id":118876074,"body_markdown":"Solution #3 worked for me since I want to let the user select a date (and see it afterwards), but only through using a DatePickerDialog that pops up on clicking the EditText. This lets the user see that the field is editable, but only lets them change it through the date picker as expected. Thanks a bunch!","body":"Solution #3 worked for me since I want to let the user select a date (and see it afterwards), but only through using a DatePickerDialog that pops up on clicking the EditText. This lets the user see that the field is editable, but only lets them change it through the date picker as expected. Thanks a bunch!"}],"tags":[],"owner":{"account_id":1322038,"reputation":86670,"user_id":1267661,"display_name":"Sam"},"comment_count":6,"down_vote_count":0,"up_vote_count":218,"is_accepted":true,"score":218,"last_activity_date":1671913909,"creation_date":1344012206,"answer_id":11799891,"question_id":11790573,"body_markdown":"**Overview,** when a user interacts with any UI component the various listeners are called in a top-down order. If one of the higher priority listeners &quot;consumes the event&quot; then the lower listeners *will not be called*. \r\n\r\nIn your case these three listeners are called in order: \r\n\r\n1. OnTouchListener\r\n2. OnFocusChangeListener\r\n3. OnClickListener \r\n\r\nThe first time the user touches an EditText it receives focus so that the user can type. *The action is consumed here.*  Therefor the lower priority OnClickListener is not called. Each successive touch doesn&#39;t change the focus so these events trickle down to the OnClickListener.\r\n\r\nButtons (and other such components) don&#39;t receive focus from a touch event, that&#39;s why the OnClickListener is called every time.\r\n\r\n**Basically,** you have three choices:\r\n\r\n1. Implement an OnTouchListener by itself:\r\n\r\n        ed1.setOnTouchListener(new OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                if(MotionEvent.ACTION_UP == event.getAction())\r\n                    editTextClicked(); // Instead of your Toast\r\n                return false;\r\n            }\r\n        });\r\n\r\n    This will execute every time the EditText is touched. Notice that the listener returns `false`, this allows the event to trickle down to the built-in OnFocusChangeListener which changes the focus so the user can type in the EditText. \r\n\r\n2. Implement an OnFocusChangeListener along with the OnClickListener:\r\n\r\n        ed1.setOnFocusChangeListener(new OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if(hasFocus)\r\n                    editTextClicked(); // Instead of your Toast\r\n            }\r\n        });\r\n\r\n    This listener catches the first touch event when the focus is changed while your OnClickListener catches every other event.\r\n\r\n3. (This isn&#39;t a valid answer here, but it is a good trick to know.) Set the focusable attribute to `false` in your XML:\r\n\r\n        android:focusable=&quot;false&quot;\r\n\r\n    Now the OnClickListener will fire _every_ time it is clicked. But this makes the EditText useless since the user can no longer enter any text...\r\n\r\n\r\n**Note:**\r\n\r\n[`getApplicationContext()`](https://developer.android.com/reference/android/content/Context.html#getApplicationContext()) can create memory leaks. A good habit is to avoid using it unless absolutely necessary. You can safely use `v.getContext()` instead.","title":"onClick event is not triggering | Android","body":"<p><strong>Overview,</strong> when a user interacts with any UI component the various listeners are called in a top-down order. If one of the higher priority listeners &quot;consumes the event&quot; then the lower listeners <em>will not be called</em>.</p>\n<p>In your case these three listeners are called in order:</p>\n<ol>\n<li>OnTouchListener</li>\n<li>OnFocusChangeListener</li>\n<li>OnClickListener</li>\n</ol>\n<p>The first time the user touches an EditText it receives focus so that the user can type. <em>The action is consumed here.</em>  Therefor the lower priority OnClickListener is not called. Each successive touch doesn't change the focus so these events trickle down to the OnClickListener.</p>\n<p>Buttons (and other such components) don't receive focus from a touch event, that's why the OnClickListener is called every time.</p>\n<p><strong>Basically,</strong> you have three choices:</p>\n<ol>\n<li><p>Implement an OnTouchListener by itself:</p>\n<pre><code> ed1.setOnTouchListener(new OnTouchListener() {\n     @Override\n     public boolean onTouch(View v, MotionEvent event) {\n         if(MotionEvent.ACTION_UP == event.getAction())\n             editTextClicked(); // Instead of your Toast\n         return false;\n     }\n });\n</code></pre>\n<p>This will execute every time the EditText is touched. Notice that the listener returns <code>false</code>, this allows the event to trickle down to the built-in OnFocusChangeListener which changes the focus so the user can type in the EditText.</p>\n</li>\n<li><p>Implement an OnFocusChangeListener along with the OnClickListener:</p>\n<pre><code> ed1.setOnFocusChangeListener(new OnFocusChangeListener() {\n     @Override\n     public void onFocusChange(View v, boolean hasFocus) {\n         if(hasFocus)\n             editTextClicked(); // Instead of your Toast\n     }\n });\n</code></pre>\n<p>This listener catches the first touch event when the focus is changed while your OnClickListener catches every other event.</p>\n</li>\n<li><p>(This isn't a valid answer here, but it is a good trick to know.) Set the focusable attribute to <code>false</code> in your XML:</p>\n<pre><code> android:focusable=&quot;false&quot;\n</code></pre>\n<p>Now the OnClickListener will fire <em>every</em> time it is clicked. But this makes the EditText useless since the user can no longer enter any text...</p>\n</li>\n</ol>\n<p><strong>Note:</strong></p>\n<p><a href=\"https://developer.android.com/reference/android/content/Context.html#getApplicationContext()\" rel=\"nofollow noreferrer\"><code>getApplicationContext()</code></a> can create memory leaks. A good habit is to avoid using it unless absolutely necessary. You can safely use <code>v.getContext()</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":2249496,"reputation":5278,"user_id":1982051,"accept_rate":17,"display_name":"Chris Klingler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442722164,"creation_date":1442722164,"answer_id":32675710,"question_id":11790573,"body_markdown":"Took me a minute to figure this out one time when this happened to me. My `ImageButton` with a `setOnClickListener` and `onClick` didn&#39;t seem to fire and then I realized it was actually underneath another element in my xml layout, so I turned this:\r\n\r\n     &lt;RelativeLayout&gt;\r\n         &lt;ImageButton&gt;\r\n         &lt;LinearLayout&gt;&lt;/LinearLayout&gt;\r\n     &lt;/RelativeLayout&gt;\r\n\r\ninto this:\r\n\r\n     &lt;RelativeLayout&gt;\r\n         &lt;LinearLayout&gt;&lt;/LinearLayout&gt;\r\n         &lt;ImageButton&gt;\r\n     &lt;/RelativeLayout&gt;\r\n \r\nand suddenly the ImageButton was not being overlapped by the other layout since it was now added later to the parent layout and was now on top and works every time. Good luck, always fun when basic stuff suddenly seems to stop working","title":"onClick event is not triggering | Android","body":"<p>Took me a minute to figure this out one time when this happened to me. My <code>ImageButton</code> with a <code>setOnClickListener</code> and <code>onClick</code> didn't seem to fire and then I realized it was actually underneath another element in my xml layout, so I turned this:</p>\n\n<pre><code> &lt;RelativeLayout&gt;\n     &lt;ImageButton&gt;\n     &lt;LinearLayout&gt;&lt;/LinearLayout&gt;\n &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code> &lt;RelativeLayout&gt;\n     &lt;LinearLayout&gt;&lt;/LinearLayout&gt;\n     &lt;ImageButton&gt;\n &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and suddenly the ImageButton was not being overlapped by the other layout since it was now added later to the parent layout and was now on top and works every time. Good luck, always fun when basic stuff suddenly seems to stop working</p>\n"},{"tags":[],"owner":{"account_id":1810940,"reputation":146,"user_id":1647030,"display_name":"Matěj Hrazd&#237;ra"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462455376,"creation_date":1462455376,"answer_id":37052107,"question_id":11790573,"body_markdown":"I&#39;m probably too late to the party, but here is a code snipped which fixes the issue with onClick() not being called:\r\n\r\n    ed1.setOnTouchListener(new OnTouchListener() {\r\n    \r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            if (event.getAction() == MotionEvent.ACTION_UP &amp;&amp; !v.hasFocus()) {\r\n                // onClick() is not called when the EditText doesn&#39;t have focus,\r\n                // onFocusChange() is called instead, which might have a different \r\n                // meaning. This condition calls onClick() when click was performed\r\n                // but wasn&#39;t reported. Condition can be extended for v.isClickable()\r\n                // or v.isEnabled() if needed. Returning false means that everything\r\n                // else behaves as before.\r\n                v.performClick();\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n","title":"onClick event is not triggering | Android","body":"<p>I'm probably too late to the party, but here is a code snipped which fixes the issue with onClick() not being called:</p>\n\n<pre><code>ed1.setOnTouchListener(new OnTouchListener() {\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_UP &amp;&amp; !v.hasFocus()) {\n            // onClick() is not called when the EditText doesn't have focus,\n            // onFocusChange() is called instead, which might have a different \n            // meaning. This condition calls onClick() when click was performed\n            // but wasn't reported. Condition can be extended for v.isClickable()\n            // or v.isEnabled() if needed. Returning false means that everything\n            // else behaves as before.\n            v.performClick();\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2154462"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478547461,"creation_date":1478547461,"answer_id":40473202,"question_id":11790573,"body_markdown":"Avoid using a `FocusChangeListener` since it will behave erratically when you don&#39;t really need it (eg. when you enter an activity). Just set an `OnTouchListener` along with your `OnClickListener` like this:\r\n\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent event) {\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                view.requestFocus();\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\nThis will cause your EditText to receive focus at first, and your `onClick` to function properly the first time.","title":"onClick event is not triggering | Android","body":"<p>Avoid using a <code>FocusChangeListener</code> since it will behave erratically when you don't really need it (eg. when you enter an activity). Just set an <code>OnTouchListener</code> along with your <code>OnClickListener</code> like this:</p>\n\n<pre><code>@Override\npublic boolean onTouch(View view, MotionEvent event) {\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            view.requestFocus();\n            break;\n    }\n    return false;\n}\n</code></pre>\n\n<p>This will cause your EditText to receive focus at first, and your <code>onClick</code> to function properly the first time.</p>\n"},{"tags":[],"owner":{"account_id":1180206,"reputation":8276,"user_id":1155282,"accept_rate":77,"display_name":"Irshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544590630,"creation_date":1493886517,"answer_id":43777655,"question_id":11790573,"body_markdown":"This happens because the first tap gains the focus into the view. The next tap triggers the click.\r\n\r\nIf you are inflating the view dynamically, do this:\r\n\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;false&quot;\r\n    android:focusableInTouchMode=&quot;false&quot;\r\n\r\nIf this doesn&#39;t work, try applying it on the parent view as well.","title":"onClick event is not triggering | Android","body":"<p>This happens because the first tap gains the focus into the view. The next tap triggers the click.</p>\n\n<p>If you are inflating the view dynamically, do this:</p>\n\n<pre><code>android:clickable=\"true\"\nandroid:focusable=\"false\"\nandroid:focusableInTouchMode=\"false\"\n</code></pre>\n\n<p>If this doesn't work, try applying it on the parent view as well.</p>\n"},{"tags":[],"owner":{"account_id":2073829,"reputation":982,"user_id":1847739,"accept_rate":60,"display_name":"Hasan Masud"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525326357,"creation_date":1525326357,"answer_id":50147768,"question_id":11790573,"body_markdown":"Its the most simplest way to work with date picker.\r\n\r\n    private DatePickerDialog datePickerDialog;\r\n    EditText etJoiningDate;\r\n    etJoiningDate=(EditText)findViewById(R.id.etJoiningDate);\r\n\r\n    etJoiningDate.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n\r\n            switch (event.getAction()){\r\n                case MotionEvent.ACTION_DOWN:\r\n\r\n                    final Calendar cldr = Calendar.getInstance();\r\n                    int day = cldr.get(Calendar.DAY_OF_MONTH);\r\n                    int month = cldr.get(Calendar.MONTH);\r\n                    int year = cldr.get(Calendar.YEAR);\r\n                    // date picker dialog\r\n                    datePickerDialog = new DatePickerDialog(TestActivity.this,\r\n                            new DatePickerDialog.OnDateSetListener() {\r\n                                @Override\r\n                                public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n                                    etJoiningDate.setText(dayOfMonth + &quot;/&quot; + (monthOfYear + 1) + &quot;/&quot; + year);\r\n                                }\r\n                            }, year, month, day);\r\n                    datePickerDialog.show();\r\n\r\n                    break;\r\n            }\r\n\r\n\r\n            return false;\r\n        }\r\n\r\n\r\n    });","title":"onClick event is not triggering | Android","body":"<p>Its the most simplest way to work with date picker.</p>\n\n<pre><code>private DatePickerDialog datePickerDialog;\nEditText etJoiningDate;\netJoiningDate=(EditText)findViewById(R.id.etJoiningDate);\n\netJoiningDate.setOnTouchListener(new View.OnTouchListener() {\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n\n        switch (event.getAction()){\n            case MotionEvent.ACTION_DOWN:\n\n                final Calendar cldr = Calendar.getInstance();\n                int day = cldr.get(Calendar.DAY_OF_MONTH);\n                int month = cldr.get(Calendar.MONTH);\n                int year = cldr.get(Calendar.YEAR);\n                // date picker dialog\n                datePickerDialog = new DatePickerDialog(TestActivity.this,\n                        new DatePickerDialog.OnDateSetListener() {\n                            @Override\n                            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n                                etJoiningDate.setText(dayOfMonth + \"/\" + (monthOfYear + 1) + \"/\" + year);\n                            }\n                        }, year, month, day);\n                datePickerDialog.show();\n\n                break;\n        }\n\n\n        return false;\n    }\n\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43616,"user_id":974045,"display_name":"Gibolt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580436899,"creation_date":1580436899,"answer_id":59997058,"question_id":11790573,"body_markdown":"## Simple, Reuseable Kotlin Solution\r\n\r\nI started with two custom extension functions:\r\n\r\n    val MotionEvent.up get() = action == MotionEvent.ACTION_UP\r\n\r\n    fun MotionEvent.isIn(view: View): Boolean {\r\n        val rect = Rect(view.left, view.top, view.right, view.bottom)\r\n        return rect.contains((view.left + x).toInt(), (view.top + y).toInt())\r\n    }\r\n\r\nThen listen to touches on the Edittext. This will only fire if initial ACTION_DOWN event was originally on the Edittext, and still is.\r\n\r\n    myEdittext.setOnTouchListener { view, motionEvent -&gt;\r\n        if (motionEvent.up &amp;&amp; motionEvent.isIn(view)) {\r\n            // Talk your action here\r\n        }\r\n        false\r\n    }","title":"onClick event is not triggering | Android","body":"<h2>Simple, Reuseable Kotlin Solution</h2>\n\n<p>I started with two custom extension functions:</p>\n\n<pre><code>val MotionEvent.up get() = action == MotionEvent.ACTION_UP\n\nfun MotionEvent.isIn(view: View): Boolean {\n    val rect = Rect(view.left, view.top, view.right, view.bottom)\n    return rect.contains((view.left + x).toInt(), (view.top + y).toInt())\n}\n</code></pre>\n\n<p>Then listen to touches on the Edittext. This will only fire if initial ACTION_DOWN event was originally on the Edittext, and still is.</p>\n\n<pre><code>myEdittext.setOnTouchListener { view, motionEvent -&gt;\n    if (motionEvent.up &amp;&amp; motionEvent.isIn(view)) {\n        // Talk your action here\n    }\n    false\n}\n</code></pre>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67333,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":11799891,"answer_count":9,"score":59,"last_activity_date":1671913909,"creation_date":1343976120,"question_id":11790573,"body_markdown":"I made a very simple test application with one activity and one layout. The `onClick` doesn&#39;t trigger the first time it is pressed, as it should.\r\n\r\nThe activity:\r\n\r\n    package com.example.mytest;\r\n    \r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\tfinal EditText ed1 = (EditText) findViewById(R.id.editText1);\r\n    \r\n    \t\ted1.setOnClickListener(new View.OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t\tToast.makeText(getApplicationContext(), &quot;1&quot;, Toast.LENGTH_LONG)\r\n    \t\t\t\t\t\t.show();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nThe layout:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:ems=&quot;10&quot; &gt;\r\n    \r\n            &lt;requestFocus /&gt;\r\n        &lt;/EditText&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/editText1&quot;\r\n            android:ems=&quot;10&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nIf you run this application, and click on the second `editText` and then back on the first one, it will not trigger the `onClick`. You can keep selecting back and forth and it will not trigger the `onClick` at all. I need this basic functionality, but haven&#39;t been able to think of a way to get it to work. Ideas?\r\n\r\n## Notice ##\r\nI have tried all of the methods recommended on my API level 16 physical device and my API level 8 emulator, but I get the same problem.\r\n\r\n## Clarification ##\r\nWhen `editText1` is focused and is clicked on, then the `onClick` method fires. If `editText2` is focussed, and then `editText1` is clicked, it **doesn&#39;t** fire. Big problem.","title":"onClick event is not triggering | Android","body":"<p>I made a very simple test application with one activity and one layout. The <code>onClick</code> doesn't trigger the first time it is pressed, as it should.</p>\n\n<p>The activity:</p>\n\n<pre><code>package com.example.mytest;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.view.Menu;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        final EditText ed1 = (EditText) findViewById(R.id.editText1);\n\n        ed1.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n                Toast.makeText(getApplicationContext(), \"1\", Toast.LENGTH_LONG)\n                        .show();\n\n            }\n\n        });\n    }\n\n}\n</code></pre>\n\n<p>The layout:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:ems=\"10\" &gt;\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_below=\"@+id/editText1\"\n        android:ems=\"10\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>If you run this application, and click on the second <code>editText</code> and then back on the first one, it will not trigger the <code>onClick</code>. You can keep selecting back and forth and it will not trigger the <code>onClick</code> at all. I need this basic functionality, but haven't been able to think of a way to get it to work. Ideas?</p>\n\n<h2>Notice</h2>\n\n<p>I have tried all of the methods recommended on my API level 16 physical device and my API level 8 emulator, but I get the same problem.</p>\n\n<h2>Clarification</h2>\n\n<p>When <code>editText1</code> is focused and is clicked on, then the <code>onClick</code> method fires. If <code>editText2</code> is focussed, and then <code>editText1</code> is clicked, it <strong>doesn't</strong> fire. Big problem.</p>\n"},{"tags":["java","eclipse","jsp","java.lang.class"],"answers":[{"tags":[],"owner":{"account_id":27344636,"reputation":1,"user_id":20854734,"display_name":"Reverb God"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671913510,"creation_date":1671913510,"answer_id":74910137,"question_id":74909152,"body_markdown":"It turns out that the issue was that the version of Apache Tomcat I was using was having trouble with the JRE. I solved this by using the latest version of Apache, which would happen to be version 10 at the time of this writing.","title":"&quot;System&quot; could not be resolved even though imports are correct","body":"<p>It turns out that the issue was that the version of Apache Tomcat I was using was having trouble with the JRE. I solved this by using the latest version of Apache, which would happen to be version 10 at the time of this writing.</p>\n"}],"owner":{"account_id":27344636,"reputation":1,"user_id":20854734,"display_name":"Reverb God"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671913510,"creation_date":1671901661,"question_id":74909152,"body_markdown":"When I compile my JSP page, it does not seem to work since it doesn&#39;t resolve the ```System``` class. I need to get the time in milliseconds so I can input it in the DB\r\n\r\n\r\n```\r\norg.apache.jasper.JasperException: Unable to compile class for JSP: \r\n\r\nAn error occurred at line: [63] in the jsp file: [/VerifyBid.jsp]\r\nSystem cannot be resolved\r\n\r\n60: \t\t\t\t+ &quot;VALUES(?,?)&quot;; // this is just a segment of the SQL Query\r\n61: \t\t\t\tps = con.prepareStatement(insert);\r\n62: \t\t\t\tps.setString(1, bid);\r\n63: \t\t\t\tps.setTimestamp(2, new Timestamp(System.currentTimeMillis()));\r\n64: \t\t\t\tps.executeUpdate();\r\n65: \t\r\n```\r\n\r\nHere are my imports:\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ page import=&quot;java.io.*,java.util.*,java.sql.*,java.time.LocalDateTime,java.time.format.DateTimeFormatter,java.lang.*&quot;%&gt;\r\n&lt;%@ page import=&quot;javax.servlet.http.*,javax.servlet.*&quot;%&gt;\r\n&lt;%@ page import=&quot;com.dbapp.*&quot; %&gt;\r\n```\r\n\r\nI tried going into my project properties and making sure I had the most up to date JRE. I also made sure my imports were correct, which they appear to be. This is the only time I use the System class anywhere in my program so it is the only file that seems to be messed up.","title":"&quot;System&quot; could not be resolved even though imports are correct","body":"<p>When I compile my JSP page, it does not seem to work since it doesn't resolve the <code>System</code> class. I need to get the time in milliseconds so I can input it in the DB</p>\n<pre><code>org.apache.jasper.JasperException: Unable to compile class for JSP: \n\nAn error occurred at line: [63] in the jsp file: [/VerifyBid.jsp]\nSystem cannot be resolved\n\n60:                 + &quot;VALUES(?,?)&quot;; // this is just a segment of the SQL Query\n61:                 ps = con.prepareStatement(insert);\n62:                 ps.setString(1, bid);\n63:                 ps.setTimestamp(2, new Timestamp(System.currentTimeMillis()));\n64:                 ps.executeUpdate();\n65:     \n</code></pre>\n<p>Here are my imports:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ page import=&quot;java.io.*,java.util.*,java.sql.*,java.time.LocalDateTime,java.time.format.DateTimeFormatter,java.lang.*&quot;%&gt;\n&lt;%@ page import=&quot;javax.servlet.http.*,javax.servlet.*&quot;%&gt;\n&lt;%@ page import=&quot;com.dbapp.*&quot; %&gt;\n</code></pre>\n<p>I tried going into my project properties and making sure I had the most up to date JRE. I also made sure my imports were correct, which they appear to be. This is the only time I use the System class anywhere in my program so it is the only file that seems to be messed up.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1386070376,"post_id":20349594,"comment_id":30376411,"body_markdown":"Creating your own `UserDetails` implementation and your own `UserDetailsService` implementation. With that you can do whatever you want. Add the properties you want etc.","body":"Creating your own <code>UserDetails</code> implementation and your own <code>UserDetailsService</code> implementation. With that you can do whatever you want. Add the properties you want etc."},{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386072064,"post_id":20349594,"comment_id":30377358,"body_markdown":"Thanks. I have been trying to do the same but I think I am doing something wrong. @M.Deinum Could you please provide me a code snippet where this has been successfully implemented","body":"Thanks. I have been trying to do the same but I think I am doing something wrong. @M.Deinum Could you please provide me a code snippet where this has been successfully implemented"}],"answers":[{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1472749742,"creation_date":1386071896,"answer_id":20350563,"question_id":20349594,"body_markdown":"(I will assume you have a basic Spring Security configuration working and know how the basic components work together)\r\n\r\nThe most &quot;correct&quot; way would be providing your own implementation of [`AuthenticationProvider`][1], that return a custom [`Authentication`][2] implementation. Then you can fill in this `Authentication` instance with everything you need. For example:\r\n\r\n    public class MyAuthentication extends UsernamePasswordAuthenticationToken implements Authentication {\r\n\r\n        public MyAuthentication(Object principal, Object credentials, int moduleCode) {\r\n            super(principal, credentials);\r\n            this.moduleCode = moduleCode;\r\n        }\r\n\r\n        public MyAuthentication(Object principal, Object credentials,  Collection&lt;? extends GrantedAuthority&gt; authorities,int moduleCode) {\r\n            super(principal, credentials, authorities);\r\n            this.moduleCode = moduleCode;\r\n        }\r\n\r\n        private int moduleCode;\r\n\r\n        public getModuleCode() {\r\n            return moduleCode;\r\n        }   \r\n    }\r\n\r\n\r\n    public class MyAuthenticationProvider extends DaoAuthenticationProvider {\r\n\r\n        private Collection&lt;GrantedAuthority&gt; obtainAuthorities(UserDetails user) {\r\n            // return granted authorities for user, according to your requirements\r\n        }\r\n\r\n        private int obtainModuleCode(UserDetails user) {\r\n            // return moduleCode for user, according to your requirements\r\n        }\r\n\r\n        @Override\r\n        public Authentication createSuccessAuthentication(Object principal, Authentication authentication, UserDetails user) {\r\n            // Suppose this user implementation has a moduleCode property\r\n            MyAuthentication result = new MyAuthentication(authentication.getPrincipal(),\r\n                                                           authentication.getCredentials(),\r\n                                                           obtainAuthorities(user),\r\n                                                           obtainModuleCode(user));\r\n            result.setDetails(authentication.getDetails());\r\n            return result;\r\n        }\r\n    }\r\n\r\nAnd then, in `applicationContext.xml`:\r\n\r\n    &lt;authentication-manager&gt;\r\n        &lt;authentication-provider ref=&quot;myAuthenticationProvider&quot;&gt;\r\n    &lt;/authentication-manager&gt;\r\n\r\n    &lt;bean id=&quot;myAuthenticationProvider&quot; class=&quot;MyAuthenticationProvider&quot; scope=&quot;singleton&quot;&gt;\r\n        ...\r\n    &lt;/bean&gt;\r\n    \r\nI guess you could get it working by providing custom implementations of [`AuthenticationDetails`][3] and [`AuthenticationDetailsSource`][4], but I think that would be a less clean approach.\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationProvider.html\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/Authentication.html\r\n  [3]: http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationDetails.html\r\n  [4]: http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationDetailsSource.html","title":"Adding additional details to principal object stored in spring security context","body":"<p>(I will assume you have a basic Spring Security configuration working and know how the basic components work together)</p>\n\n<p>The most \"correct\" way would be providing your own implementation of <a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationProvider.html\" rel=\"noreferrer\"><code>AuthenticationProvider</code></a>, that return a custom <a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/Authentication.html\" rel=\"noreferrer\"><code>Authentication</code></a> implementation. Then you can fill in this <code>Authentication</code> instance with everything you need. For example:</p>\n\n<pre><code>public class MyAuthentication extends UsernamePasswordAuthenticationToken implements Authentication {\n\n    public MyAuthentication(Object principal, Object credentials, int moduleCode) {\n        super(principal, credentials);\n        this.moduleCode = moduleCode;\n    }\n\n    public MyAuthentication(Object principal, Object credentials,  Collection&lt;? extends GrantedAuthority&gt; authorities,int moduleCode) {\n        super(principal, credentials, authorities);\n        this.moduleCode = moduleCode;\n    }\n\n    private int moduleCode;\n\n    public getModuleCode() {\n        return moduleCode;\n    }   \n}\n\n\npublic class MyAuthenticationProvider extends DaoAuthenticationProvider {\n\n    private Collection&lt;GrantedAuthority&gt; obtainAuthorities(UserDetails user) {\n        // return granted authorities for user, according to your requirements\n    }\n\n    private int obtainModuleCode(UserDetails user) {\n        // return moduleCode for user, according to your requirements\n    }\n\n    @Override\n    public Authentication createSuccessAuthentication(Object principal, Authentication authentication, UserDetails user) {\n        // Suppose this user implementation has a moduleCode property\n        MyAuthentication result = new MyAuthentication(authentication.getPrincipal(),\n                                                       authentication.getCredentials(),\n                                                       obtainAuthorities(user),\n                                                       obtainModuleCode(user));\n        result.setDetails(authentication.getDetails());\n        return result;\n    }\n}\n</code></pre>\n\n<p>And then, in <code>applicationContext.xml</code>:</p>\n\n<pre><code>&lt;authentication-manager&gt;\n    &lt;authentication-provider ref=\"myAuthenticationProvider\"&gt;\n&lt;/authentication-manager&gt;\n\n&lt;bean id=\"myAuthenticationProvider\" class=\"MyAuthenticationProvider\" scope=\"singleton\"&gt;\n    ...\n&lt;/bean&gt;\n</code></pre>\n\n<p>I guess you could get it working by providing custom implementations of <a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationDetails.html\" rel=\"noreferrer\"><code>AuthenticationDetails</code></a> and <a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/AuthenticationDetailsSource.html\" rel=\"noreferrer\"><code>AuthenticationDetailsSource</code></a>, but I think that would be a less clean approach.</p>\n"},{"comments":[{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386222121,"post_id":20350591,"comment_id":30449887,"body_markdown":"I am using JDBC to connect to the database. Can you specify the changes I would have to make in the tutorial since it is JPA based.","body":"I am using JDBC to connect to the database. Can you specify the changes I would have to make in the tutorial since it is JPA based."},{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386750850,"post_id":20350591,"comment_id":30667648,"body_markdown":"I am not sure on how to handle failed authentication requests with JDBC when I override the loadUserByUsername(String username) of UserDetailsService. Could you help me with that.","body":"I am not sure on how to handle failed authentication requests with JDBC when I override the loadUserByUsername(String username) of UserDetailsService. Could you help me with that."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386754265,"post_id":20350591,"comment_id":30669596,"body_markdown":"Why would you need to handle failed authentication requests? Spring does that for you and that doesn&#39;t change when you implement your own `UserDetailsService`.","body":"Why would you need to handle failed authentication requests? Spring does that for you and that doesn&#39;t change when you implement your own <code>UserDetailsService</code>."},{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386754585,"post_id":20350591,"comment_id":30669792,"body_markdown":"Take for example the scenario when username and password do not match, how should I handle that when I override the method. Should I just return a null object in that case?","body":"Take for example the scenario when username and password do not match, how should I handle that when I override the method. Should I just return a null object in that case?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386755093,"post_id":20350591,"comment_id":30670078,"body_markdown":"You don&#39;t handle that, spring security handles that for you. The `UserDetailsService` is **ONLY** for looking up users NOT for checking the password. As you noticed there is only a method `loadUserByUsername` the name of the method says it all, the same for the attributes of the method, there is no password so how would you validate the password?!","body":"You don&#39;t handle that, spring security handles that for you. The <code>UserDetailsService</code> is <b>ONLY</b> for looking up users NOT for checking the password. As you noticed there is only a method <code>loadUserByUsername</code> the name of the method says it all, the same for the attributes of the method, there is no password so how would you validate the password?!"},{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386756109,"post_id":20350591,"comment_id":30670667,"body_markdown":"When is the method `loadUserByUsername` called in the authentication process and how will the authentication happen when I create custom implementations of `UserDetails` and `UserDetailsService`. Pardon my lack of knowledge as I am fairly new to Spring","body":"When is the method <code>loadUserByUsername</code> called in the authentication process and how will the authentication happen when I create custom implementations of <code>UserDetails</code> and <code>UserDetailsService</code>. Pardon my lack of knowledge as I am fairly new to Spring"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386756265,"post_id":20350591,"comment_id":30670754,"body_markdown":"Spring Security calls the method and afterwards, depending on your configuration, checks the password. The authentication doesn&#39;t change, nothing changes **ONLY** where/how you get your user info. As long as it is a `UserDetails` implementation nothing changes.","body":"Spring Security calls the method and afterwards, depending on your configuration, checks the password. The authentication doesn&#39;t change, nothing changes <b>ONLY</b> where/how you get your user info. As long as it is a <code>UserDetails</code> implementation nothing changes."},{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386759590,"post_id":20350591,"comment_id":30672944,"body_markdown":"Thanks M. Deinum, I got it and I am able to add information to the user.","body":"Thanks M. Deinum, I got it and I am able to add information to the user."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":8,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1386071957,"creation_date":1386071957,"answer_id":20350591,"question_id":20349594,"body_markdown":"The &quot;only&quot; things you need to do is create your own [UserDetailsService][1] implementation which returns your own implementation of a [UserDetails][1] object.\r\n\r\nSee [here][2] for a tutorial which implements a JPA based `UserDetailsService`.\r\n\r\n[1]: http://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/technical-overview.html#tech-userdetailsservice\r\n[2]: http://krams915.blogspot.nl/2012/01/spring-security-31-implement_5023.html","title":"Adding additional details to principal object stored in spring security context","body":"<p>The \"only\" things you need to do is create your own <a href=\"http://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/technical-overview.html#tech-userdetailsservice\" rel=\"noreferrer\">UserDetailsService</a> implementation which returns your own implementation of a <a href=\"http://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/technical-overview.html#tech-userdetailsservice\" rel=\"noreferrer\">UserDetails</a> object.</p>\n\n<p>See <a href=\"http://krams915.blogspot.nl/2012/01/spring-security-31-implement_5023.html\" rel=\"noreferrer\">here</a> for a tutorial which implements a JPA based <code>UserDetailsService</code>.</p>\n"},{"comments":[{"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"score":0,"creation_date":1386750061,"post_id":20449938,"comment_id":30667240,"body_markdown":"Could you also post the implementation of loadUserDetails(username) in LoginService of the example link. I want to know how the failed authentication requests will be handled. Thanks in advance","body":"Could you also post the implementation of loadUserDetails(username) in LoginService of the example link. I want to know how the failed authentication requests will be handled. Thanks in advance"},{"owner":{"account_id":3621961,"reputation":344,"user_id":3020462,"display_name":"Yogen"},"score":0,"creation_date":1386943953,"post_id":20449938,"comment_id":30764572,"body_markdown":"Answered at the mentioned link only..http://javahotpot.blogspot.in/2013/12/spring-security-adding-more-information.html","body":"Answered at the mentioned link only..<a href=\"http://javahotpot.blogspot.in/2013/12/spring-security-adding-more-information.html\" rel=\"nofollow noreferrer\">javahotpot.blogspot.in/2013/12/&hellip;</a>"},{"owner":{"account_id":3767452,"reputation":1444,"user_id":3130593,"display_name":"Shaggy"},"score":4,"creation_date":1472760762,"post_id":20449938,"comment_id":65894651,"body_markdown":"Your link to your blog doesn&#39;t fully answer the question, as was asked for the implantation of LoginService.  Typically you should answer the question on this site, not reference a post on your blog.","body":"Your link to your blog doesn&#39;t fully answer the question, as was asked for the implantation of LoginService.  Typically you should answer the question on this site, not reference a post on your blog."},{"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"score":0,"creation_date":1558555263,"post_id":20449938,"comment_id":99144664,"body_markdown":"Why you said **If you are not using LDAP for authentication** ? Will this solution not work with LDAP?","body":"Why you said <b>If you are not using LDAP for authentication</b> ? Will this solution not work with LDAP?"},{"owner":{"account_id":3954020,"reputation":90,"user_id":3263238,"accept_rate":17,"display_name":"Thiago Suchorski"},"score":1,"creation_date":1558633674,"post_id":20449938,"comment_id":99175014,"body_markdown":"because with this service you need to return the password to spring, and you cannot read password from LDAP.. instead, to use LDAP you can implement a AuthenticationProvider","body":"because with this service you need to return the password to spring, and you cannot read password from LDAP.. instead, to use LDAP you can implement a AuthenticationProvider"},{"owner":{"account_id":10715450,"reputation":778,"user_id":7886278,"display_name":"Viraj Shelke"},"score":0,"creation_date":1632679642,"post_id":20449938,"comment_id":122552313,"body_markdown":"This answer here https://stackoverflow.com/a/41327161/7886278 on this same question is much more helpful :)","body":"This answer here <a href=\"https://stackoverflow.com/a/41327161/7886278\">stackoverflow.com/a/41327161/7886278</a> on this same question is much more helpful :)"}],"tags":[],"owner":{"account_id":3621961,"reputation":344,"user_id":3020462,"display_name":"Yogen"},"comment_count":6,"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1656916440,"creation_date":1386477253,"answer_id":20449938,"question_id":20349594,"body_markdown":"In order to add more details to the authenticated user. You need to first create your own implementation of the User object which should extend the spring security User object. After that you can add the properties you want to add to the authenticated user. Once this is done you need to return your implementation of the user object in `UserDetailService` (If you are not using LDAP for authentication). This link provides the details for adding more details to the authenticated user--\r\n\r\nhttp://javahotpot.blogspot.com/2013/12/spring-security-adding-more-information.html","title":"Adding additional details to principal object stored in spring security context","body":"<p>In order to add more details to the authenticated user. You need to first create your own implementation of the User object which should extend the spring security User object. After that you can add the properties you want to add to the authenticated user. Once this is done you need to return your implementation of the user object in <code>UserDetailService</code> (If you are not using LDAP for authentication). This link provides the details for adding more details to the authenticated user--</p>\n<p><a href=\"http://javahotpot.blogspot.com/2013/12/spring-security-adding-more-information.html\" rel=\"nofollow noreferrer\">http://javahotpot.blogspot.com/2013/12/spring-security-adding-more-information.html</a></p>\n"},{"comments":[{"owner":{"account_id":231531,"reputation":1688,"user_id":495815,"accept_rate":48,"display_name":"Wouter"},"score":1,"creation_date":1484042451,"post_id":41327161,"comment_id":70336053,"body_markdown":"This works, but when the server restarts, we run into problems with existing sessions: java.lang.ClassCastException: be.storefront.imicloud.security.MyUserDetails cannot be cast to be.storefront.imicloud.security.MyUserDetails. How should this be handled?","body":"This works, but when the server restarts, we run into problems with existing sessions: java.lang.ClassCastException: be.storefront.imicloud.security.MyUserDetails cannot be cast to be.storefront.imicloud.security.MyUserDetails. How should this be handled?"},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1484109198,"post_id":41327161,"comment_id":70369992,"body_markdown":"@Wouter please ask a different question with the full stack trace!","body":"@Wouter please ask a different question with the full stack trace!"},{"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"score":3,"creation_date":1569524441,"post_id":41327161,"comment_id":102634893,"body_markdown":"Solution is nice but make sure you don&#39;t cast `(CurrentUser)getAuthentication().getPrincipal()` into the controller/service methods which are accessible without authentication. Because for that `anonymous` would be returned by `getAuthentication().getPrincipal()` and hence `ClassCastException: java.lang.String cannot be cast to com.sample.CurrentUser`","body":"Solution is nice but make sure you don&#39;t cast <code>(CurrentUser)getAuthentication().getPrincipal()</code> into the controller/service methods which are accessible without authentication. Because for that <code>anonymous</code> would be returned by <code>getAuthentication().getPrincipal()</code> and hence <code>ClassCastException: java.lang.String cannot be cast to com.sample.CurrentUser</code>"},{"owner":{"account_id":9921709,"reputation":338,"user_id":7344596,"display_name":"Kang Andrew"},"score":0,"creation_date":1599749979,"post_id":41327161,"comment_id":112876465,"body_markdown":"I found this dangerous when you directly change the other parameters on DBs like the parameter above &quot;firstname&quot;, the persistence framework still shows the previous value....","body":"I found this dangerous when you directly change the other parameters on DBs like the parameter above &quot;firstname&quot;, the persistence framework still shows the previous value...."},{"owner":{"account_id":9921709,"reputation":338,"user_id":7344596,"display_name":"Kang Andrew"},"score":0,"creation_date":1599794087,"post_id":41327161,"comment_id":112890501,"body_markdown":"@Wouter For the example above, The casting exception occurs when the properties on &quot;//Setter and getters are required&quot;  and the ones on &quot; //If your database has more information of user for example firstname,... You can fill it here &quot; are not in accordance.","body":"@Wouter For the example above, The casting exception occurs when the properties on &quot;//Setter and getters are required&quot;  and the ones on &quot; //If your database has more information of user for example firstname,... You can fill it here &quot; are not in accordance."},{"owner":{"account_id":10715450,"reputation":778,"user_id":7886278,"display_name":"Viraj Shelke"},"score":0,"creation_date":1632679547,"post_id":41327161,"comment_id":122552281,"body_markdown":"I had to do a couple of additional changes to get things in place but they were specific to my use case &amp; this is a good reference to achieve custom user details in spring security. I tried it with jwt :) &amp; this helped!","body":"I had to do a couple of additional changes to get things in place but they were specific to my use case &amp; this is a good reference to achieve custom user details in spring security. I tried it with jwt :) &amp; this helped!"}],"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":6,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1487095062,"creation_date":1482733282,"answer_id":41327161,"question_id":20349594,"body_markdown":"Here is what you need:\r\n\r\n 1. Extend spring `User` (`org.springframework.security.core.userdetails.User`) class and what ever properties you need.\r\n 2. Extend spring `UserDetailsService` (`org.springframework.security.core.userdetails.UserDetailsService`) and fill the above object. Override `loadUserByUsername` and return your extended user class\r\n 3. Set your custom `UserDetailsService` in `AuthenticationManagerBuilder`\r\n\r\n\r\n\r\n\r\nFor example\r\n\r\n    public class CurrentUser extends User{\r\n    \r\n       //This constructor is a must\r\n    \tpublic CurrentUser(String username, String password, boolean enabled, boolean accountNonExpired,\r\n    \t\t\tboolean credentialsNonExpired, boolean accountNonLocked,\r\n    \t\t\tCollection&lt;? extends GrantedAuthority&gt; authorities) {\r\n    \t\tsuper(username, password, enabled, accountNonExpired, credentialsNonExpired, accountNonLocked, authorities);\r\n    \t}\r\n        //Setter and getters are required\r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n    }\r\n\r\nThe Custom userdetails could be:\r\n\r\n    @Service(&quot;userDetailsService&quot;)\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\r\n\r\n        //Try to find user and its roles, for example here we try to get it from database via a DAO object\r\n       //Do not confuse this foo.bar.User with CurrentUser or spring User, this is a temporary object which holds user info stored in database\r\n\t\tfoo.bar.User user = userDao.findByUserName(username);\r\n        \r\n        //Build user Authority. some how a convert from your custom roles which are in database to spring GrantedAuthority\r\n\t\tList&lt;GrantedAuthority&gt; authorities = buildUserAuthority(user.getUserRole());\r\n\r\n        //The magic is happen in this private method !\r\n\t\treturn buildUserForAuthentication(user, authorities);\r\n\r\n\t}\r\n\r\n\r\n    //Fill your extended User object (CurrentUser) here and return it\r\n\tprivate User buildUserForAuthentication(foo.bar.User user, \r\n    List&lt;GrantedAuthority&gt; authorities) {\r\n\t\tString username = user.getUsername();\r\n\t\tString password = user.getPassword();\r\n\t\tboolean enabled = true;\r\n\t\tboolean accountNonExpired = true;\r\n\t\tboolean credentialsNonExpired = true;\r\n\t\tboolean accountNonLocked = true;\r\n\r\n\t\treturn new CurrentUser(username, password, enabled, accountNonExpired, credentialsNonExpired,\r\n\t\t\t\taccountNonLocked, authorities);\r\n       //If your database has more information of user for example firstname,... You can fill it here \r\n      //CurrentUser currentUser = new CurrentUser(....)\r\n      //currentUser.setFirstName( user.getfirstName() );\r\n      //.....\r\n      //return currentUser ;\r\n\t}\r\n\r\n   \tprivate List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\r\n\r\n\t\tSet&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\r\n\r\n\t\t// Build user&#39;s authorities\r\n\t\tfor (UserRole userRole : userRoles) {\r\n\t\t\tsetAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\r\n\t\t}\r\n\r\n\t\treturn new ArrayList&lt;GrantedAuthority&gt;(setAuths);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nConfigure the spring security context\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @PropertySource(&quot;classpath://configs.properties&quot;)\r\n    public class SecurityContextConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;userDetailsService&quot;)\r\n    \tprivate UserDetailsService userDetailsService;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService);\r\n    \t}\r\n\r\n\r\n\r\nIt&#39;s all done !\r\n\r\nYou can call `(CurrentUser)getAuthentication().getPrincipal()` to get you newly `CurrentUser` or set some properties.\r\n","title":"Adding additional details to principal object stored in spring security context","body":"<p>Here is what you need:</p>\n\n<ol>\n<li>Extend spring <code>User</code> (<code>org.springframework.security.core.userdetails.User</code>) class and what ever properties you need.</li>\n<li>Extend spring <code>UserDetailsService</code> (<code>org.springframework.security.core.userdetails.UserDetailsService</code>) and fill the above object. Override <code>loadUserByUsername</code> and return your extended user class</li>\n<li>Set your custom <code>UserDetailsService</code> in <code>AuthenticationManagerBuilder</code></li>\n</ol>\n\n<p>For example</p>\n\n<pre><code>public class CurrentUser extends User{\n\n   //This constructor is a must\n    public CurrentUser(String username, String password, boolean enabled, boolean accountNonExpired,\n            boolean credentialsNonExpired, boolean accountNonLocked,\n            Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, password, enabled, accountNonExpired, credentialsNonExpired, accountNonLocked, authorities);\n    }\n    //Setter and getters are required\n    private String firstName;\n    private String lastName;\n\n}\n</code></pre>\n\n<p>The Custom userdetails could be:</p>\n\n<pre><code>@Service(\"userDetailsService\")\npublic class CustomUserDetailsService implements UserDetailsService {\n\n@Override\npublic UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException {\n\n    //Try to find user and its roles, for example here we try to get it from database via a DAO object\n   //Do not confuse this foo.bar.User with CurrentUser or spring User, this is a temporary object which holds user info stored in database\n    foo.bar.User user = userDao.findByUserName(username);\n\n    //Build user Authority. some how a convert from your custom roles which are in database to spring GrantedAuthority\n    List&lt;GrantedAuthority&gt; authorities = buildUserAuthority(user.getUserRole());\n\n    //The magic is happen in this private method !\n    return buildUserForAuthentication(user, authorities);\n\n}\n\n\n//Fill your extended User object (CurrentUser) here and return it\nprivate User buildUserForAuthentication(foo.bar.User user, \nList&lt;GrantedAuthority&gt; authorities) {\n    String username = user.getUsername();\n    String password = user.getPassword();\n    boolean enabled = true;\n    boolean accountNonExpired = true;\n    boolean credentialsNonExpired = true;\n    boolean accountNonLocked = true;\n\n    return new CurrentUser(username, password, enabled, accountNonExpired, credentialsNonExpired,\n            accountNonLocked, authorities);\n   //If your database has more information of user for example firstname,... You can fill it here \n  //CurrentUser currentUser = new CurrentUser(....)\n  //currentUser.setFirstName( user.getfirstName() );\n  //.....\n  //return currentUser ;\n}\n\nprivate List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\n\n    Set&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\n\n    // Build user's authorities\n    for (UserRole userRole : userRoles) {\n        setAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\n    }\n\n    return new ArrayList&lt;GrantedAuthority&gt;(setAuths);\n}\n\n}\n</code></pre>\n\n<p>Configure the spring security context</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@PropertySource(\"classpath://configs.properties\")\npublic class SecurityContextConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    @Qualifier(\"userDetailsService\")\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService);\n    }\n</code></pre>\n\n<p>It's all done !</p>\n\n<p>You can call <code>(CurrentUser)getAuthentication().getPrincipal()</code> to get you newly <code>CurrentUser</code> or set some properties.</p>\n"}],"owner":{"account_id":2744612,"reputation":675,"user_id":2365284,"accept_rate":50,"display_name":"ManeetK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106956,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":20449938,"answer_count":4,"score":57,"last_activity_date":1671913163,"creation_date":1386069237,"question_id":20349594,"body_markdown":"I am using Spring 3.0 and Spring Security 3. I am able to authenticate a user against a database using Spring Security. Using:\r\n\r\n    SecurityContextHolder.getContext().getAuthentication().getPrincipal()\r\n\r\nI am able to retrieve username of the current logged in user. I wish to add additional details like user id and the module accesses to the principal object stored in Spring Security context so that I can retrieve it later. How can I add additional details to the principal object and then how can I retrieve it later on a jsp or java class. Please provide an appropriate code snippet if possible.\r\n\r\nEdit: I am using JDBC to access my database.","title":"Adding additional details to principal object stored in spring security context","body":"<p>I am using Spring 3.0 and Spring Security 3. I am able to authenticate a user against a database using Spring Security. Using:</p>\n<pre><code>SecurityContextHolder.getContext().getAuthentication().getPrincipal()\n</code></pre>\n<p>I am able to retrieve username of the current logged in user. I wish to add additional details like user id and the module accesses to the principal object stored in Spring Security context so that I can retrieve it later. How can I add additional details to the principal object and then how can I retrieve it later on a jsp or java class. Please provide an appropriate code snippet if possible.</p>\n<p>Edit: I am using JDBC to access my database.</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":14,"creation_date":1338900050,"post_id":10897470,"comment_id":14206199,"body_markdown":"[What have you tried?](http://mattgemmell.com/2008/12/08/what-have-you-tried/)","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1338900169,"post_id":10897470,"comment_id":14206248,"body_markdown":"You can goolge-search directly your question, or shift your eyes a little bit to the right of this comment and check the RELATED questions...","body":"You can goolge-search directly your question, or shift your eyes a little bit to the right of this comment and check the RELATED questions..."},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":1,"creation_date":1338900362,"post_id":10897470,"comment_id":14206316,"body_markdown":"Or you could look at the documentation of [`String`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html) and find `replaceFirst()`...","body":"Or you could look at the documentation of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> and find <code>replaceFirst()</code>..."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1473567262,"post_id":10897470,"comment_id":66188607,"body_markdown":"Google will tell you how to replace the first occurrence of a REGEX, not a string.","body":"Google will tell you how to replace the first occurrence of a REGEX, not a string."}],"answers":[{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":2,"creation_date":1495761393,"post_id":10897499,"comment_id":75398148,"body_markdown":"Wait, what if the string you want to replace isn&#39;t at the beginning of the input string?","body":"Wait, what if the string you want to replace isn&#39;t at the beginning of the input string?"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1397232934,"creation_date":1338900060,"answer_id":10897499,"question_id":10897470,"body_markdown":"Use [`substring(int beginIndex)`][1]:\r\n\r\n    String test = &quot;see Comments, this is for some test, help us&quot;;\r\n    String newString = test.substring(test.indexOf(&quot;,&quot;) + 2);\r\n    System.out.println(newString);\r\n\r\n**OUTPUT:**\r\n\r\n&gt; this is for some test, help us\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#substring%28int%29","title":"How to replace first occurrence of string in Java","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#substring%28int%29\" rel=\"noreferrer\"><code>substring(int beginIndex)</code></a>:</p>\n\n<pre><code>String test = \"see Comments, this is for some test, help us\";\nString newString = test.substring(test.indexOf(\",\") + 2);\nSystem.out.println(newString);\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<blockquote>\n  <p>this is for some test, help us</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":14,"creation_date":1474858753,"post_id":10897513,"comment_id":66687181,"body_markdown":"This is for REGEXes not, Strings.","body":"This is for REGEXes not, Strings."},{"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"score":0,"creation_date":1475699805,"post_id":10897513,"comment_id":67053501,"body_markdown":"@Sridhar-Sarnobat this is understood by the parameters I have mentioned in the Answer I guess? And that&#39;s how it is supposed to be used. .","body":"@Sridhar-Sarnobat this is understood by the parameters I have mentioned in the Answer I guess? And that&#39;s how it is supposed to be used. ."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1475701286,"post_id":10897513,"comment_id":67054176,"body_markdown":"Yes. Unfortunately most readers who&#39;ve upvoted came looking for the answer you gave rathar than what the OP asked (and what I was looking for).","body":"Yes. Unfortunately most readers who&#39;ve upvoted came looking for the answer you gave rathar than what the OP asked (and what I was looking for)."},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":5,"creation_date":1507452362,"post_id":10897513,"comment_id":80208138,"body_markdown":"This might be for regex, but will work even if you give a String instead of a builtup regex. I just tested. So the above discuss confuses people who see this. The answer is perfect.","body":"This might be for regex, but will work even if you give a String instead of a builtup regex. I just tested. So the above discuss confuses people who see this. The answer is perfect."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":2,"creation_date":1513711379,"post_id":10897513,"comment_id":82754197,"body_markdown":"What if you are trying to replace a string that contains `-`?","body":"What if you are trying to replace a string that contains <code>-</code>?"},{"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"score":0,"creation_date":1516557962,"post_id":10897513,"comment_id":83726675,"body_markdown":"@Sridhar-Sarnobat it did work with hyphens `-` as well, just checked right now. Please test yourself and let me know for any issues, I&#39;ll update my answer accordingly.","body":"@Sridhar-Sarnobat it did work with hyphens <code>-</code> as well, just checked right now. Please test yourself and let me know for any issues, I&#39;ll update my answer accordingly."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1518449398,"post_id":10897513,"comment_id":84500112,"body_markdown":"@Sridhar-Sarnobat when the search string contains pattern characters that are not supposed to be interpreted, you may filter the string through [`Pattern.quote(…)`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-) first. Though, it might be more efficient to use `Pattern.compile(searchString, Pattern.LITERAL).matcher(input) .replaceAll(replacement)` then…","body":"@Sridhar-Sarnobat when the search string contains pattern characters that are not supposed to be interpreted, you may filter the string through <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Pattern.quote(…)</code></a> first. Though, it might be more efficient to use <code>Pattern.compile(searchString, Pattern.LITERAL).matcher(input) .replaceAll(replacement)</code> then…"}],"tags":[],"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"comment_count":7,"down_vote_count":5,"up_vote_count":108,"is_accepted":true,"score":103,"last_activity_date":1475699633,"creation_date":1338900130,"answer_id":10897513,"question_id":10897470,"body_markdown":"You can use [`replaceFirst(String regex, String replacement)`][1] method of String.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceFirst%28java.lang.String,%20java.lang.String%29\r\n\r\n","title":"How to replace first occurrence of string in Java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceFirst%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>replaceFirst(String regex, String replacement)</code></a> method of String.</p>\n"},{"tags":[],"owner":{"account_id":2900595,"reputation":1,"user_id":2487402,"display_name":"Thomas Boyles"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1371239017,"creation_date":1371239017,"answer_id":17116122,"question_id":10897470,"body_markdown":"Use String replaceFirst to swap the first instance of the delimiter to something unique:\r\n\r\n    String input = &quot;this=that=theother&quot;\r\n    String[] arr = input.replaceFirst(&quot;=&quot;, &quot;==&quot;).split(&#39;==&#39;,-1);\r\n    String key = arr[0];\r\n    String value = arr[1];\r\n    System.out.println(key + &quot; = &quot; + value);","title":"How to replace first occurrence of string in Java","body":"<p>Use String replaceFirst to swap the first instance of the delimiter to something unique:</p>\n\n<pre><code>String input = \"this=that=theother\"\nString[] arr = input.replaceFirst(\"=\", \"==\").split('==',-1);\nString key = arr[0];\nString value = arr[1];\nSystem.out.println(key + \" = \" + value);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1592274743,"post_id":39694405,"comment_id":110360160,"body_markdown":"I appreciate ur answer but because replaceFirst in String class is for regex.  But just for one simple string replacement , I have to introduce a new library in my project. not worth .. any alternatives?","body":"I appreciate ur answer but because replaceFirst in String class is for regex.  But just for one simple string replacement , I have to introduce a new library in my project. not worth .. any alternatives?"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1622482006,"post_id":39694405,"comment_id":119800186,"body_markdown":"Yeah true, dynamically linked libraries are a pain. You could just copy and paste the library source code.","body":"Yeah true, dynamically linked libraries are a pain. You could just copy and paste the library source code."}],"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1536212802,"creation_date":1474861552,"answer_id":39694405,"question_id":10897470,"body_markdown":"You should use already tested and well documented libraries in favor of writing your own code.\r\n\r\n    org.apache.commons.lang3.\r\n      StringUtils.replaceOnce(&quot;coast-to-coast&quot;, &quot;coast&quot;, &quot;&quot;) = &quot;-to-coast&quot;\r\n\r\n# Javadoc\r\n* https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceOnce-java.lang.String-java.lang.String-java.lang.String-\r\n\r\nThere&#39;s even a version that is case insensitive (which is good).\r\n\r\n# Maven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n# Credits\r\n\r\nMy answer is an augmentation of: https://stackoverflow.com/a/10861856/714112","title":"How to replace first occurrence of string in Java","body":"<p>You should use already tested and well documented libraries in favor of writing your own code.</p>\n\n<pre><code>org.apache.commons.lang3.\n  StringUtils.replaceOnce(\"coast-to-coast\", \"coast\", \"\") = \"-to-coast\"\n</code></pre>\n\n<h1>Javadoc</h1>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceOnce-java.lang.String-java.lang.String-java.lang.String-\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceOnce-java.lang.String-java.lang.String-java.lang.String-</a></li>\n</ul>\n\n<p>There's even a version that is case insensitive (which is good).</p>\n\n<h1>Maven</h1>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>Credits</h1>\n\n<p>My answer is an augmentation of: <a href=\"https://stackoverflow.com/a/10861856/714112\">https://stackoverflow.com/a/10861856/714112</a></p>\n"},{"comments":[{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":3,"creation_date":1533298877,"post_id":43436659,"comment_id":90307579,"body_markdown":"This is the best answer, because it also handles regex characters and it not relies on external libs.","body":"This is the best answer, because it also handles regex characters and it not relies on external libs."},{"owner":{"account_id":1469861,"reputation":376,"user_id":1381689,"display_name":"Filip Stachowiak"},"score":0,"creation_date":1581953773,"post_id":43436659,"comment_id":106600247,"body_markdown":"Unfortunately it does not work, try this:\n`&quot;I want to earn in euro!&quot;.replaceFirst(Pattern.quote(&quot;euro&quot;), &quot;$&quot;);`","body":"Unfortunately it does not work, try this: <code>&quot;I want to earn in euro!&quot;.replaceFirst(Pattern.quote(&quot;euro&quot;), &quot;$&quot;);</code>"},{"owner":{"account_id":7894528,"reputation":25981,"user_id":6770384,"display_name":"Socowi"},"score":1,"creation_date":1589897884,"post_id":43436659,"comment_id":109471602,"body_markdown":"@FilipStachowiak fixed it.","body":"@FilipStachowiak fixed it."}],"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589897875,"creation_date":1492341510,"answer_id":43436659,"question_id":10897470,"body_markdown":"You can use following statement to replace first occurrence of literal string with another literal string:\r\n\r\n    String result = input.replaceFirst(Pattern.quote(search), Matcher.quoteReplacement(replace));\r\n\r\nHowever, this does a lot of work in the background which would not be needed with a dedicated function for replacing literal strings.","title":"How to replace first occurrence of string in Java","body":"<p>You can use following statement to replace first occurrence of literal string with another literal string:</p>\n\n<pre><code>String result = input.replaceFirst(Pattern.quote(search), Matcher.quoteReplacement(replace));\n</code></pre>\n\n<p>However, this does a lot of work in the background which would not be needed with a dedicated function for replacing literal strings.</p>\n"},{"tags":[],"owner":{"display_name":"user4311153"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493135953,"creation_date":1493135953,"answer_id":43615648,"question_id":10897470,"body_markdown":"You can use following method.\r\n\r\n    public static String replaceFirstOccurrenceOfString(String inputString, String stringToReplace,\r\n            String stringToReplaceWith) {\r\n    \r\n        int length = stringToReplace.length();\r\n        int inputLength = inputString.length();\r\n    \r\n        int startingIndexofTheStringToReplace = inputString.indexOf(stringToReplace);\r\n    \r\n        String finalString = inputString.substring(0, startingIndexofTheStringToReplace) + stringToReplaceWith\r\n                + inputString.substring(startingIndexofTheStringToReplace + length, inputLength);\r\n    \r\n        return finalString;\r\n    \r\n    }\r\n\r\nFollowing [link][1] provide examples for replacing first occurrence of string using with and without regular expressions.\r\n\r\n\r\n  [1]: http://self-learning-java-tutorial.blogspot.in/2017/04/replace-first-occurrence-of-string-in.html","title":"How to replace first occurrence of string in Java","body":"<p>You can use following method.</p>\n\n<pre><code>public static String replaceFirstOccurrenceOfString(String inputString, String stringToReplace,\n        String stringToReplaceWith) {\n\n    int length = stringToReplace.length();\n    int inputLength = inputString.length();\n\n    int startingIndexofTheStringToReplace = inputString.indexOf(stringToReplace);\n\n    String finalString = inputString.substring(0, startingIndexofTheStringToReplace) + stringToReplaceWith\n            + inputString.substring(startingIndexofTheStringToReplace + length, inputLength);\n\n    return finalString;\n\n}\n</code></pre>\n\n<p>Following <a href=\"http://self-learning-java-tutorial.blogspot.in/2017/04/replace-first-occurrence-of-string-in.html\" rel=\"nofollow noreferrer\">link</a> provide examples for replacing first occurrence of string using with and without regular expressions.</p>\n"},{"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1641295349,"post_id":69416446,"comment_id":124762649,"body_markdown":"That doesn&#39;t work, `split` works on regex-es.","body":"That doesn&#39;t work, <code>split</code> works on regex-es."}],"tags":[],"owner":{"account_id":7152643,"reputation":375,"user_id":5466135,"accept_rate":50,"display_name":"yılmaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650590892,"creation_date":1633173889,"answer_id":69416446,"question_id":10897470,"body_markdown":"You can also use this method in node.js;\r\n\r\n    public static String replaceFirstOccurance(String str, String chr, String replacement){\r\n        String[] temp = str.split(chr, 2);\r\n        return temp[0] + replacement + temp[1];\r\n    }","title":"How to replace first occurrence of string in Java","body":"<p>You can also use this method in node.js;</p>\n<pre><code>public static String replaceFirstOccurance(String str, String chr, String replacement){\n    String[] temp = str.split(chr, 2);\n    return temp[0] + replacement + temp[1];\n}\n</code></pre>\n"}],"owner":{"account_id":1046415,"reputation":2760,"user_id":1051305,"accept_rate":66,"display_name":"Jagadeesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111888,"favorite_count":0,"down_vote_count":7,"up_vote_count":64,"accepted_answer_id":10897513,"answer_count":7,"score":57,"last_activity_date":1671913113,"creation_date":1338899952,"question_id":10897470,"body_markdown":"I want to replace first occurrence of String in the following.\r\n\r\n    String test = &quot;see Comments, this is for some test, help us&quot;\r\n  \r\n   **If test contains the input as follows it should not replace\r\n\r\n   1. See Comments, (with space at the end)\r\n   2. See comments,\r\n   3. See Comments**\r\n\r\nI want to get the output as follows,\r\n\r\n    Output: this is for some test, help us","title":"How to replace first occurrence of string in Java","body":"<p>I want to replace first occurrence of String in the following.</p>\n<pre><code>String test = &quot;see Comments, this is for some test, help us&quot;\n</code></pre>\n<p>**If test contains the input as follows it should not replace</p>\n<ol>\n<li>See Comments, (with space at the end)</li>\n<li>See comments,</li>\n<li>See Comments**</li>\n</ol>\n<p>I want to get the output as follows,</p>\n<pre><code>Output: this is for some test, help us\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1671912967,"post_id":74910077,"comment_id":132196888,"body_markdown":"Generally no; what I’ve done in past is have a build step which generates a “manifest” file (containing the names of the files) during the build phase, which is embedded with other resources. At runtime, I’d read the manifest file and then be able to reference each embedded resource dynamically","body":"Generally no; what I’ve done in past is have a build step which generates a “manifest” file (containing the names of the files) during the build phase, which is embedded with other resources. At runtime, I’d read the manifest file and then be able to reference each embedded resource dynamically"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671913281,"post_id":74910077,"comment_id":132196943,"body_markdown":"The answers to [this Q&amp;A](https://stackoverflow.com/q/73309923/6395627) might provide some ideas.","body":"The answers to <a href=\"https://stackoverflow.com/q/73309923/6395627\">this Q&amp;A</a> might provide some ideas."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671921292,"post_id":74910077,"comment_id":132198041,"body_markdown":"Does this answer your question? [How to walk through Java class resources?](https://stackoverflow.com/questions/749533/how-to-walk-through-java-class-resources)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/749533/how-to-walk-through-java-class-resources\">How to walk through Java class resources?</a>"}],"owner":{"account_id":27229214,"reputation":3,"user_id":20757215,"display_name":"motgochim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671912654,"creation_date":1671912654,"question_id":74910077,"body_markdown":"Below code, i am manually write &quot;a.json&quot;, &quot;b.json&quot;.\r\nBut i want to get all file names in resources directory and \r\nis it possible?\r\n\r\n\r\n```java\r\npublic static void loadFiles() throws IOException {\r\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\r\n\r\n    List&lt;String&gt; fileNames = List.of(&quot;a.json&quot;, &quot;b.json&quot;); // Bad\r\n    // List&lt;String&gt; fileNames = getFileNamesInResources(); // Good\r\n\r\n\r\n    for (int i = 0; i &lt; fileNames.size(); i++) {\r\n        String fileName = fileNames.get(i);\r\n        InputStream is = classLoader.getResourceAsStream(fileName);\r\n        String content = new String(is.readAllBytes(), StandardCharsets.UTF_8);\r\n        System.out.println(content);\r\n        is.close();\r\n    }\r\n}\r\n```","title":"How can i get all file names in resources directory in gradle project?","body":"<p>Below code, i am manually write &quot;a.json&quot;, &quot;b.json&quot;.\nBut i want to get all file names in resources directory and\nis it possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void loadFiles() throws IOException {\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\n\n    List&lt;String&gt; fileNames = List.of(&quot;a.json&quot;, &quot;b.json&quot;); // Bad\n    // List&lt;String&gt; fileNames = getFileNamesInResources(); // Good\n\n\n    for (int i = 0; i &lt; fileNames.size(); i++) {\n        String fileName = fileNames.get(i);\n        InputStream is = classLoader.getResourceAsStream(fileName);\n        String content = new String(is.readAllBytes(), StandardCharsets.UTF_8);\n        System.out.println(content);\n        is.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","svnkit"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1394466094,"post_id":22304575,"comment_id":33890227,"body_markdown":"You might have to add the file to the working copy first.","body":"You might have to add the file to the working copy first."}],"answers":[{"tags":[],"owner":{"account_id":1268357,"reputation":1147,"user_id":1225162,"display_name":"SWoeste"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394467006,"creation_date":1394467006,"answer_id":22305044,"question_id":22304575,"body_markdown":"Welcome to Stackoverflow,\r\n\r\nlike the exception already tells you, the file you want to be committed is not under version control yet, so you have to add it first.\r\n\r\nOn your `CommitEditor` you should call something like this:\r\n\r\n       SVNRepository repository = SVNRepositoryFactory.create( SVNURL.parseURIDecoded( url ) );\r\n\r\n       ISVNEditor editor = repository.getCommitEditor( logMessage , null /*locks*/ , true /*keepLocks*/ , null /*mediator*/ );\r\n\r\n       //the second and the third parameters are the path and revision respectively \r\n       //of the item&#39;s ancestor if the item is being added with history\r\n       editor.addFile( &quot;your/path/project/README.txt&quot; , null , -1 );\r\n\r\nYou should also have a look at the full [example][1] at SVNKit\r\n\r\n\r\n  [1]: http://wiki.svnkit.com/Committing_To_A_Repository","title":"How to add/commit a new file to SVN with SVNKit","body":"<p>Welcome to Stackoverflow,</p>\n\n<p>like the exception already tells you, the file you want to be committed is not under version control yet, so you have to add it first.</p>\n\n<p>On your <code>CommitEditor</code> you should call something like this:</p>\n\n<pre><code>   SVNRepository repository = SVNRepositoryFactory.create( SVNURL.parseURIDecoded( url ) );\n\n   ISVNEditor editor = repository.getCommitEditor( logMessage , null /*locks*/ , true /*keepLocks*/ , null /*mediator*/ );\n\n   //the second and the third parameters are the path and revision respectively \n   //of the item's ancestor if the item is being added with history\n   editor.addFile( \"your/path/project/README.txt\" , null , -1 );\n</code></pre>\n\n<p>You should also have a look at the full <a href=\"http://wiki.svnkit.com/Committing_To_A_Repository\" rel=\"nofollow\">example</a> at SVNKit</p>\n"}],"owner":{"account_id":3514008,"reputation":196,"user_id":2937891,"accept_rate":75,"display_name":"Yauheni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11071,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22305044,"answer_count":1,"score":2,"last_activity_date":1671911713,"creation_date":1394465899,"question_id":22304575,"body_markdown":"Unable to add and commit a file to a subversion repository. \r\nWith the following code snippet: \r\n\r\n    SVNCommitClient svnCommitClient = svnClientManager.getCommitClient();\r\n    svnCommitClient.doCommit(new File[]{new File(&quot;project/README.txt&quot;)}, false, &quot;Commit message&quot;, null, null, false, false, SVNDepth.INFINITY); \r\n\r\nI get the following exception: \r\n\r\n    Exception in thread &quot;main&quot; org.tmatesoft.svn.core.SVNException: svn: E200009: Commit failed (details follow):\r\n    svn: E200009: &#39;D:\\Java\\POC\\SvnKit\\project\\README.txt&#39; is not under version control\r\n\r\nPrompt what I did wrong, and I would like to see an example of how to\r\n","title":"How to add/commit a new file to SVN with SVNKit","body":"<p>Unable to add and commit a file to a subversion repository.\nWith the following code snippet:</p>\n<pre><code>SVNCommitClient svnCommitClient = svnClientManager.getCommitClient();\nsvnCommitClient.doCommit(new File[]{new File(&quot;project/README.txt&quot;)}, false, &quot;Commit message&quot;, null, null, false, false, SVNDepth.INFINITY); \n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.tmatesoft.svn.core.SVNException: svn: E200009: Commit failed (details follow):\nsvn: E200009: 'D:\\Java\\POC\\SvnKit\\project\\README.txt' is not under version control\n</code></pre>\n<p>Prompt what I did wrong, and I would like to see an example of how to</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1385035870,"post_id":20117720,"comment_id":29983155,"body_markdown":"If you are using log4j, you could simply exclude the `log4j-over-slf4j.jar`. In theory using log4j and hacking other code to route the log4j calls to slf4j can lead to recursion and hence the strict check.","body":"If you are using log4j, you could simply exclude the <code>log4j-over-slf4j.jar</code>. In theory using log4j and hacking other code to route the log4j calls to slf4j can lead to recursion and hence the strict check."}],"answers":[{"tags":[],"owner":{"account_id":2911623,"reputation":1133,"user_id":2495682,"accept_rate":18,"display_name":"Yuvraj Kakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385035215,"creation_date":1385035215,"answer_id":20120464,"question_id":20117720,"body_markdown":"I got the solution \r\n\r\ndownload Xuggler 5.4 here\r\n\r\nand some more jar to make it work...\r\n\r\ncommons-cli-1.1.jar\r\n\r\ncommons-lang-2.1.jar\r\n\r\nlogback-classic-1.0.0.jar\r\n\r\nlogback-core-1.0.0.jar\r\n\r\nslf4j-api-1.6.4.jar\r\n\r\n\r\n![Reference Libraries][1]\r\n\r\nYou can check which dependencies xuggler needs from here:\r\n\r\nAdd this jars and xuggle-xuggler-5.4.jar to your project&#39;s build path and it s ready.\r\n\r\n**version numbers may change\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/t3Wdl.png","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>I got the solution </p>\n\n<p>download Xuggler 5.4 here</p>\n\n<p>and some more jar to make it work...</p>\n\n<p>commons-cli-1.1.jar</p>\n\n<p>commons-lang-2.1.jar</p>\n\n<p>logback-classic-1.0.0.jar</p>\n\n<p>logback-core-1.0.0.jar</p>\n\n<p>slf4j-api-1.6.4.jar</p>\n\n<p><img src=\"https://i.stack.imgur.com/t3Wdl.png\" alt=\"Reference Libraries\"></p>\n\n<p>You can check which dependencies xuggler needs from here:</p>\n\n<p>Add this jars and xuggle-xuggler-5.4.jar to your project's build path and it s ready.</p>\n\n<p>**version numbers may change</p>\n"},{"comments":[{"owner":{"account_id":4206070,"reputation":939,"user_id":3444930,"accept_rate":56,"display_name":"Karthik"},"score":4,"creation_date":1421747498,"post_id":20227815,"comment_id":44467611,"body_markdown":"That is because some dependencies that you add will have the logs libraries of their choice and so cause conflicts.","body":"That is because some dependencies that you add will have the logs libraries of their choice and so cause conflicts."},{"owner":{"account_id":3311268,"reputation":2705,"user_id":2784721,"accept_rate":93,"display_name":"Amit Kumar"},"score":1,"creation_date":1444043454,"post_id":20227815,"comment_id":53719139,"body_markdown":"You should also remove the log4j jar that has been added to your classpath. Check your lib folder of storm. Atleast it was the case with me.","body":"You should also remove the log4j jar that has been added to your classpath. Check your lib folder of storm. Atleast it was the case with me."},{"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"score":0,"creation_date":1470756222,"post_id":20227815,"comment_id":65073608,"body_markdown":"I could only get a SpringBoot application after I added that.","body":"I could only get a SpringBoot application after I added that."},{"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"score":3,"creation_date":1487714542,"post_id":20227815,"comment_id":71906934,"body_markdown":"In which &lt;dependency&gt; tag do we add this exclusion? I&#39;ve tried in the &#39;spring-boot-starter-web&#39; exclusions but did not work. Which dependency?","body":"In which &lt;dependency&gt; tag do we add this exclusion? I&#39;ve tried in the &#39;spring-boot-starter-web&#39; exclusions but did not work. Which dependency?"},{"owner":{"account_id":7246465,"reputation":1628,"user_id":5528197,"accept_rate":62,"display_name":"Erica"},"score":1,"creation_date":1563961111,"post_id":20227815,"comment_id":100870766,"body_markdown":"This is the exclusion that worked for me: &lt;exclusions&gt;\n               &lt;exclusion&gt;\n                   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                   &lt;artifactId&gt;*&lt;/artifactId&gt;\n               &lt;/exclusion&gt;\n            &lt;/exclusions&gt;","body":"This is the exclusion that worked for me: &lt;exclusions&gt;                &lt;exclusion&gt;                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;                    &lt;artifactId&gt;*&lt;/artifactId&gt;                &lt;/exclusion&gt;             &lt;/exclusions&gt;"},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1567586076,"post_id":20227815,"comment_id":102002580,"body_markdown":"In which &lt;dependency&gt; tag do we add this exclusion?","body":"In which &lt;dependency&gt; tag do we add this exclusion?"},{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1589837303,"post_id":20227815,"comment_id":109447425,"body_markdown":"To figure out which dependency to put the exclusion in, run `mvn dependency:tree`. Search the results for `slf4j-log4j12`. Whichever artifact within the module&#39;s pom that&#39;s bringing in the log4j12 dependency is the artifact you want to put the exclusion in.","body":"To figure out which dependency to put the exclusion in, run <code>mvn dependency:tree</code>. Search the results for <code>slf4j-log4j12</code>. Whichever artifact within the module&#39;s pom that&#39;s bringing in the log4j12 dependency is the artifact you want to put the exclusion in."}],"tags":[],"owner":{"account_id":3065054,"reputation":1066,"user_id":2596932,"display_name":"Tomas Hanus"},"comment_count":7,"down_vote_count":1,"up_vote_count":85,"is_accepted":true,"score":84,"last_activity_date":1385499442,"creation_date":1385499442,"answer_id":20227815,"question_id":20117720,"body_markdown":"So you have to exclude conflict dependencies. Try this:\r\n\r\n    &lt;exclusions&gt;\r\n      &lt;exclusion&gt; \r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n      &lt;exclusion&gt; \r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt; \r\n\r\nThis solved same problem with slf4j and Dozer.","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>So you have to exclude conflict dependencies. Try this:</p>\n\n<pre><code>&lt;exclusions&gt;\n  &lt;exclusion&gt; \n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt; \n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt; \n</code></pre>\n\n<p>This solved same problem with slf4j and Dozer.</p>\n"},{"tags":[],"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513674953,"creation_date":1513674953,"answer_id":47883526,"question_id":20117720,"body_markdown":"For gradle\r\n\r\n    compile(&#39;org.xxx:xxx:1.0-SNAPSHOT&#39;){\r\n        exclude module: &#39;log4j&#39;\r\n        exclude module: &#39;slf4j-log4j12&#39;\r\n    }","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>For gradle</p>\n\n<pre><code>compile('org.xxx:xxx:1.0-SNAPSHOT'){\n    exclude module: 'log4j'\n    exclude module: 'slf4j-log4j12'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200783,"reputation":788,"user_id":1945240,"display_name":"Duncan O. N."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549270436,"creation_date":1549270436,"answer_id":54512726,"question_id":20117720,"body_markdown":"Encountered a similar error, this how I resolved it:\r\n\r\n1. Access Project explorer view on Netbeans IDE 8.2. Proceed to your project under Dependencies hover the cursor over the log4j-over-slf4j.jar to view the which which dependencies have indirectly imported as shown below. \r\n[![enter image description here][1]][1]\r\n\r\n2. Right click an import jar file and select Exclude Dependency\r\n[![enter image description here][2]][2]\r\n3. To confirm, open your pom.xml file you will notice the exclusion element as below.\r\n\r\n[![enter image description here][3]][3]\r\n4. Initiate maven clean install and run your project. Good luck!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1QvHf.png\r\n  [2]: https://i.stack.imgur.com/VIClh.png\r\n  [3]: https://i.stack.imgur.com/bcES8.png","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>Encountered a similar error, this how I resolved it:</p>\n\n<ol>\n<li><p>Access Project explorer view on Netbeans IDE 8.2. Proceed to your project under Dependencies hover the cursor over the log4j-over-slf4j.jar to view the which which dependencies have indirectly imported as shown below. \n<a href=\"https://i.stack.imgur.com/1QvHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1QvHf.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Right click an import jar file and select Exclude Dependency\n<a href=\"https://i.stack.imgur.com/VIClh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VIClh.png\" alt=\"enter image description here\"></a></p></li>\n<li>To confirm, open your pom.xml file you will notice the exclusion element as below.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/bcES8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bcES8.png\" alt=\"enter image description here\"></a>\n4. Initiate maven clean install and run your project. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":6134674,"reputation":4246,"user_id":4801289,"accept_rate":89,"display_name":"Ismail H"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554999367,"creation_date":1554999367,"answer_id":55637031,"question_id":20117720,"body_markdown":"And for SBT : `excludeDependencies += &quot;log4j&quot; % &quot;log4j&quot;`","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>And for SBT : <code>excludeDependencies += \"log4j\" % \"log4j\"</code></p>\n"},{"tags":[],"owner":{"account_id":3202041,"reputation":1373,"user_id":2703920,"display_name":"Arosha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558314019,"creation_date":1558314019,"answer_id":56213232,"question_id":20117720,"body_markdown":"SBT solution stated above did not work for me. What worked for me is excluding `slf4j-log4j12`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    //dependencies with exclusions\r\n    libraryDependencies ++= Seq(\r\n        //depencies\r\n    ).map(_.exclude(&quot;org.slf4j&quot;,&quot;slf4j-log4j12&quot;))\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>SBT solution stated above did not work for me. What worked for me is excluding <code>slf4j-log4j12</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>//dependencies with exclusions\r\nlibraryDependencies ++= Seq(\r\n    //depencies\r\n).map(_.exclude(\"org.slf4j\",\"slf4j-log4j12\"))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":5478090,"reputation":425,"user_id":4355529,"accept_rate":33,"display_name":"isopropylcyanide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627022905,"creation_date":1616014250,"answer_id":66681026,"question_id":20117720,"body_markdown":"You need to exclude `log4j-over-slf4j` \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    ....\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>You need to exclude <code>log4j-over-slf4j</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    ....\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2911623,"reputation":1133,"user_id":2495682,"accept_rate":18,"display_name":"Yuvraj Kakkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125195,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":20227815,"answer_count":7,"score":67,"last_activity_date":1671911578,"creation_date":1385028057,"question_id":20117720,"body_markdown":"I have used `xuggle library` in my project to trans code the video from `mp4 to flv`.\r\nI have used `slf4j libraries` also to support logging end.\r\n\r\n    import com.xuggle.mediatool.IMediaReader;\r\n    import com.xuggle.mediatool.IMediaViewer;\r\n    import com.xuggle.mediatool.IMediaWriter;\r\n    import com.xuggle.mediatool.ToolFactory;\r\n    \r\n    public class TranscodingExample {\r\n    \r\n        private static final String inputFilename = &quot;E:\\\\VIDEO\\\\Facebook.mp4&quot;;\r\n        private static final String outputFilename = &quot;E:\\\\VIDEO\\\\Facebook.flv&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // create a media reader\r\n            IMediaReader mediaReader = \r\n                   ToolFactory.makeReader(inputFilename);\r\n            \r\n            // create a media writer\r\n            IMediaWriter mediaWriter = \r\n                   ToolFactory.makeWriter(outputFilename, mediaReader);\r\n    \r\n            // add a writer to the reader, to create the output file\r\n            mediaReader.addListener(mediaWriter);\r\n            \r\n            // create a media viewer with stats enabled\r\n            IMediaViewer mediaViewer = ToolFactory.makeViewer(true);\r\n            \r\n            // add a viewer to the reader, to see the decoded media\r\n            mediaReader.addListener(mediaViewer);\r\n    \r\n            // read and decode packets from the source file and\r\n            // and dispatch decoded audio and video to the writer\r\n            while (mediaReader.readPacket() == null) ;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHere I am getting an error \r\n\r\n    &quot;Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError.&quot;. \r\n\r\nI have used both jar files as libraries in order to solve logging problems.\r\n\r\nHow can this problem be solved?","title":"Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>I have used <code>xuggle library</code> in my project to trans code the video from <code>mp4 to flv</code>.\nI have used <code>slf4j libraries</code> also to support logging end.</p>\n<pre><code>import com.xuggle.mediatool.IMediaReader;\nimport com.xuggle.mediatool.IMediaViewer;\nimport com.xuggle.mediatool.IMediaWriter;\nimport com.xuggle.mediatool.ToolFactory;\n\npublic class TranscodingExample {\n\n    private static final String inputFilename = &quot;E:\\\\VIDEO\\\\Facebook.mp4&quot;;\n    private static final String outputFilename = &quot;E:\\\\VIDEO\\\\Facebook.flv&quot;;\n\n    public static void main(String[] args) {\n\n        // create a media reader\n        IMediaReader mediaReader = \n               ToolFactory.makeReader(inputFilename);\n        \n        // create a media writer\n        IMediaWriter mediaWriter = \n               ToolFactory.makeWriter(outputFilename, mediaReader);\n\n        // add a writer to the reader, to create the output file\n        mediaReader.addListener(mediaWriter);\n        \n        // create a media viewer with stats enabled\n        IMediaViewer mediaViewer = ToolFactory.makeViewer(true);\n        \n        // add a viewer to the reader, to see the decoded media\n        mediaReader.addListener(mediaViewer);\n\n        // read and decode packets from the source file and\n        // and dispatch decoded audio and video to the writer\n        while (mediaReader.readPacket() == null) ;\n\n    }\n\n}\n</code></pre>\n<p>Here I am getting an error</p>\n<pre><code>&quot;Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError.&quot;. \n</code></pre>\n<p>I have used both jar files as libraries in order to solve logging problems.</p>\n<p>How can this problem be solved?</p>\n"},{"tags":["java","android","wear-os"],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671909340,"creation_date":1671909340,"question_id":74909836,"body_markdown":"I found a great example that works on the phone, but this code does not work on the clock, maybe there is a problem with the paths and on the clock they are different than on the phone? When testing on the emulator, a window pops up where you need to give permission in the settings, when I click settings, the window closes and nothing happens. And when testing on a real device, it allegedly starts downloading the file, then after downloading it is not on the watch.\r\n\r\nAndroidManifest.xml\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n\r\n\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n```\r\nprovider_paths.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-path\r\n        name=&quot;external&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;external-files-path\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;cache-path\r\n        name=&quot;cache&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;external-cache-path\r\n        name=&quot;external_cache&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;files-path\r\n        name=&quot;files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\nGenericFileProvider.java\r\n\r\n\r\n```\r\nimport androidx.core.content.FileProvider;\r\n\r\npublic class GenericFileProvider extends FileProvider {\r\n   //This file would be empty. \r\n}\r\n```\r\nMainActivity.java\r\n\r\n\r\n```\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        Button btn_click = findViewById(R.id.btn_click);\r\n        btn_click.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (checkPermission()) {\r\n                    UpdateApp atualizaApp = new UpdateApp();\r\n                    atualizaApp.setContext(MainActivity.this);\r\n                    atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0) {\r\n\r\n                boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                if (locationAccepted &amp;&amp; cameraAccepted) {\r\n                    UpdateApp updateApp = new UpdateApp();\r\n                    updateApp.setContext(MainActivity.this);\r\n                    updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private boolean checkPermission() {\r\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\r\n        int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\r\n\r\n        return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private void requestPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    public class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n\r\n        void setContext(Activity context) {\r\n            mContext = context;\r\n            context.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mPDialog = new ProgressDialog(mContext);\r\n                    mPDialog.setMessage(&quot;Please wait...&quot;);\r\n                    mPDialog.setIndeterminate(true);\r\n                    mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mPDialog.setCancelable(false);\r\n                    mPDialog.show();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... arg0) {\r\n            try {\r\n\r\n                URL url = new URL(arg0[0]);\r\n                HttpURLConnection c = (HttpURLConnection) url.openConnection();\r\n                c.setRequestMethod(&quot;GET&quot;);\r\n                c.setDoOutput(true);\r\n                c.connect();\r\n                int lenghtOfFile = c.getContentLength();\r\n\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH);\r\n                boolean isCreate = file.mkdirs();\r\n                File outputFile = new File(file, &quot;my_apk.apk&quot;);\r\n                if (outputFile.exists()) {\r\n                    boolean isDelete = outputFile.delete();\r\n                }\r\n                FileOutputStream fos = new FileOutputStream(outputFile);\r\n\r\n                InputStream is = c.getInputStream();\r\n\r\n                byte[] buffer = new byte[1024];\r\n                int len1;\r\n                long total = 0;\r\n                while ((len1 = is.read(buffer)) != -1) {\r\n                    total += len1;\r\n                    fos.write(buffer, 0, len1);\r\n                    publishProgress((int) ((total * 100) / lenghtOfFile));\r\n                }\r\n                fos.close();\r\n                is.close();\r\n                if (mPDialog != null)\r\n                    mPDialog.dismiss();\r\n                installApk();\r\n            } catch (Exception e) {\r\n                Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            if (mPDialog != null)\r\n                mPDialog.show();\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... values) {\r\n            super.onProgressUpdate(values);\r\n            if (mPDialog != null) {\r\n                mPDialog.setIndeterminate(false);\r\n                mPDialog.setMax(100);\r\n                mPDialog.setProgress(values[0]);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if (mPDialog != null)\r\n                mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\n        private void installApk() {\r\n            try {\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH + &quot;/my_apk.apk&quot;);\r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                    Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n                    intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\r\n                    List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                    for (ResolveInfo resolveInfo : resInfoList) {\r\n                        mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    }\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    startActivity(intent);\r\n                } else {\r\n                    intent.setAction(Intent.ACTION_VIEW);\r\n                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\r\n                    intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                }\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nWhen testing on the emulator, a window pops up where you need to give permission in the settings, when I click settings, the window closes and nothing happens. And when testing on a real device, it allegedly starts downloading the file, then after downloading it is not on the watch.","title":"How to download and install the watch face on the clock programmatically?","body":"<p>I found a great example that works on the phone, but this code does not work on the clock, maybe there is a problem with the paths and on the clock they are different than on the phone? When testing on the emulator, a window pops up where you need to give permission in the settings, when I click settings, the window closes and nothing happens. And when testing on a real device, it allegedly starts downloading the file, then after downloading it is not on the watch.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n\n\n&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>provider_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path\n        name=&quot;external&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;cache-path\n        name=&quot;cache&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-cache-path\n        name=&quot;external_cache&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>GenericFileProvider.java</p>\n<pre><code>import androidx.core.content.FileProvider;\n\npublic class GenericFileProvider extends FileProvider {\n   //This file would be empty. \n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQUEST_CODE = 200;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        Button btn_click = findViewById(R.id.btn_click);\n        btn_click.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n            @Override\n            public void onClick(View v) {\n                if (checkPermission()) {\n                    UpdateApp atualizaApp = new UpdateApp();\n                    atualizaApp.setContext(MainActivity.this);\n                    atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n                } else {\n                    requestPermission();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0) {\n\n                boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n                if (locationAccepted &amp;&amp; cameraAccepted) {\n                    UpdateApp updateApp = new UpdateApp();\n                    updateApp.setContext(MainActivity.this);\n                    updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n                }\n            }\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n    private boolean checkPermission() {\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\n        int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\n\n        return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n    private void requestPermission() {\n        ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n    }\n\n    public class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\n        private ProgressDialog mPDialog;\n        private Context mContext;\n\n        void setContext(Activity context) {\n            mContext = context;\n            context.runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    mPDialog = new ProgressDialog(mContext);\n                    mPDialog.setMessage(&quot;Please wait...&quot;);\n                    mPDialog.setIndeterminate(true);\n                    mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                    mPDialog.setCancelable(false);\n                    mPDialog.show();\n                }\n            });\n        }\n\n        @Override\n        protected String doInBackground(String... arg0) {\n            try {\n\n                URL url = new URL(arg0[0]);\n                HttpURLConnection c = (HttpURLConnection) url.openConnection();\n                c.setRequestMethod(&quot;GET&quot;);\n                c.setDoOutput(true);\n                c.connect();\n                int lenghtOfFile = c.getContentLength();\n\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n                File file = new File(PATH);\n                boolean isCreate = file.mkdirs();\n                File outputFile = new File(file, &quot;my_apk.apk&quot;);\n                if (outputFile.exists()) {\n                    boolean isDelete = outputFile.delete();\n                }\n                FileOutputStream fos = new FileOutputStream(outputFile);\n\n                InputStream is = c.getInputStream();\n\n                byte[] buffer = new byte[1024];\n                int len1;\n                long total = 0;\n                while ((len1 = is.read(buffer)) != -1) {\n                    total += len1;\n                    fos.write(buffer, 0, len1);\n                    publishProgress((int) ((total * 100) / lenghtOfFile));\n                }\n                fos.close();\n                is.close();\n                if (mPDialog != null)\n                    mPDialog.dismiss();\n                installApk();\n            } catch (Exception e) {\n                Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            if (mPDialog != null)\n                mPDialog.show();\n\n        }\n\n\n        @Override\n        protected void onProgressUpdate(Integer... values) {\n            super.onProgressUpdate(values);\n            if (mPDialog != null) {\n                mPDialog.setIndeterminate(false);\n                mPDialog.setMax(100);\n                mPDialog.setProgress(values[0]);\n            }\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            if (mPDialog != null)\n                mPDialog.dismiss();\n            if (result != null)\n                Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n            else\n                Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n\n        private void installApk() {\n            try {\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n                File file = new File(PATH + &quot;/my_apk.apk&quot;);\n                Intent intent = new Intent(Intent.ACTION_VIEW);\n                if (Build.VERSION.SDK_INT &gt;= 24) {\n                    Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n                    intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\n                    List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n                    for (ResolveInfo resolveInfo : resInfoList) {\n                        mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                    }\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                    startActivity(intent);\n                } else {\n                    intent.setAction(Intent.ACTION_VIEW);\n                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                    intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\n                    intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                }\n                startActivity(intent);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>When testing on the emulator, a window pops up where you need to give permission in the settings, when I click settings, the window closes and nothing happens. And when testing on a real device, it allegedly starts downloading the file, then after downloading it is not on the watch.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":5278173,"reputation":51,"user_id":4214370,"display_name":"Allteran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671908587,"creation_date":1671561100,"question_id":74867453,"body_markdown":"I have an external link where the XLS file is stored. I need to download it **in memory, without saving it on disk**, read information from it and print that info to the console, so I don&#39;t need file after that.\r\nThe second issue that I&#39;ve been struggling with - I can&#39;t transform that file to some Java Object. \r\nI&#39;m using ```WebClient``` from the ```Spring WebFlux``` library and don&#39;t know to which type I can transform the response. When I try to transform it into ```ByteArrayInputStream```, ```ByteArrayOutputStream``` or ```ByteArrayResource``` I&#39;m getting an error:  \r\n```org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;text/xml;charset=UTF-8&#39; not supported for bodyType...```\r\n\r\nWhen I test an external link with Postman - I can see that it has a header with Content-Type application/vnd.ms-excel\r\n\r\nExample with my code below:\r\n```\r\nByteArrayResource xlsResponse = webClientBuilder.build().get()\r\n                .uri(xlsLink)\r\n                .header(HttpHeaders.CONTENT_TYPE, &quot;application/vnd.ms-excel&quot;)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=file.xls&quot;)\r\n                .retrieve()\r\n                .bodyToMono(ByteArrayResource.class)\r\n                .block();\r\n```\r\n\r\n**UPDATE**  \r\n**RestTemplate** solved this problem. Just download it into byte array with next lines of code:  \r\n``` byte[] fileBytes = restTemplate.getForObject(xlsLink, byte[].class);```\r\n\r\nBut I&#39;m still wondering how to do it with **WebClient**.","title":"Download file in memory without saving it on disk Java Spring Boot","body":"<p>I have an external link where the XLS file is stored. I need to download it <strong>in memory, without saving it on disk</strong>, read information from it and print that info to the console, so I don't need file after that.\nThe second issue that I've been struggling with - I can't transform that file to some Java Object.\nI'm using <code>WebClient</code> from the <code>Spring WebFlux</code> library and don't know to which type I can transform the response. When I try to transform it into <code>ByteArrayInputStream</code>, <code>ByteArrayOutputStream</code> or <code>ByteArrayResource</code> I'm getting an error:<br />\n<code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'text/xml;charset=UTF-8' not supported for bodyType...</code></p>\n<p>When I test an external link with Postman - I can see that it has a header with Content-Type application/vnd.ms-excel</p>\n<p>Example with my code below:</p>\n<pre><code>ByteArrayResource xlsResponse = webClientBuilder.build().get()\n                .uri(xlsLink)\n                .header(HttpHeaders.CONTENT_TYPE, &quot;application/vnd.ms-excel&quot;)\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=file.xls&quot;)\n                .retrieve()\n                .bodyToMono(ByteArrayResource.class)\n                .block();\n</code></pre>\n<p><strong>UPDATE</strong><br />\n<strong>RestTemplate</strong> solved this problem. Just download it into byte array with next lines of code:<br />\n<code> byte[] fileBytes = restTemplate.getForObject(xlsLink, byte[].class);</code></p>\n<p>But I'm still wondering how to do it with <strong>WebClient</strong>.</p>\n"},{"tags":["java","spring","spring-properties"],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592245384,"creation_date":1592245042,"answer_id":62394483,"question_id":62393624,"body_markdown":"I&#39;d suggest you to switch from the properties format to the YAML format. Then your list would be easy to represent in the config:\r\n```YAML\r\nmy-app:\r\n  my-property:\r\n    - abc\r\n    - def\r\n    - ghi\r\n```\r\nThe configuration bean would look as follows:\r\n```Java\r\n@Configuraton\r\n@ConfigurationProperties(prefix = &quot;my-app.my-property&quot;)\r\npublic class MyProperties {\r\n    private List&lt;String&gt; myProperty;\r\n}\r\n```\r\n\r\nAdvantages: You don&#39;t need to care about indices. You can change order at any time easily. You can insert new elements or delete some elements easily. You don&#39;t need to care about parsing, separators, etc. The representations is easier to read, especially when you have many elements or if they are long: if you have 10 elements of 30 symbols each, with single line approach you will get a string of about 300 symbols, hard to read.\r\n","title":"Changing delimiter in @ConfigurationProperties for reading a List property","body":"<p>I'd suggest you to switch from the properties format to the YAML format. Then your list would be easy to represent in the config:</p>\n\n<pre><code>my-app:\n  my-property:\n    - abc\n    - def\n    - ghi\n</code></pre>\n\n<p>The configuration bean would look as follows:</p>\n\n<pre><code>@Configuraton\n@ConfigurationProperties(prefix = \"my-app.my-property\")\npublic class MyProperties {\n    private List&lt;String&gt; myProperty;\n}\n</code></pre>\n\n<p>Advantages: You don't need to care about indices. You can change order at any time easily. You can insert new elements or delete some elements easily. You don't need to care about parsing, separators, etc. The representations is easier to read, especially when you have many elements or if they are long: if you have 10 elements of 30 symbols each, with single line approach you will get a string of about 300 symbols, hard to read.</p>\n"},{"tags":[],"owner":{"account_id":2842936,"reputation":2530,"user_id":2442133,"accept_rate":57,"display_name":"mkczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671908484,"creation_date":1671908484,"answer_id":74909764,"question_id":62393624,"body_markdown":"#### Basic usage\r\n\r\nThe answer is annotation **[`@Delimiter`][1]**.\r\n\r\nYou can set any string as delimiter (default value is `,`). For example:\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties\r\npublic class MyProperties {\r\n\r\n    @Delimiter(&quot;;&quot;)\r\n    private List&lt;String&gt; myProperty;\r\n}\r\n```\r\nand `application.properties` file:\r\n```\r\nmy-property=abc;def;ghi\r\n```\r\n\r\n#### Longer strings \r\nLonger string as delimiters also works. For example annotation `@Delimiter(&quot;---&quot;)` with property:\r\n```\r\nmy-property=abc---def---ghi\r\n```\r\n\r\n#### How it works under the hood\r\n\r\nIf you interested, I found this annotation by debugging Spring source code. The key is class [`DelimitedStringToArrayConverter`][2] (check source code to find the annotation). You can see default value `,` when delimiter is null. \r\n\r\nHow it works: \r\n- invoking setter of your property (you have to write it to set breakpoint for debugger):\r\n```\r\n    public void setMyProperty(List&lt;String&gt; myProperty) {\r\n        this.myProperty = myProperty;\r\n    }\r\n```\r\n- `CollectionBinder` \r\n- `IndexedElementsBinder` \r\n- `BindConverter` \r\n- `ApplicationConversionService`\r\n- `DelimitedStringToArrayConverter`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/convert/Delimiter.html\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/47516b50c39bd6ea924a1f6720ce6d4a71088651/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/convert/DelimitedStringToArrayConverter.java#L64","title":"Changing delimiter in @ConfigurationProperties for reading a List property","body":"<h4>Basic usage</h4>\n<p>The answer is annotation <strong><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/convert/Delimiter.html\" rel=\"nofollow noreferrer\"><code>@Delimiter</code></a></strong>.</p>\n<p>You can set any string as delimiter (default value is <code>,</code>). For example:</p>\n<pre><code>@Configuration\n@ConfigurationProperties\npublic class MyProperties {\n\n    @Delimiter(&quot;;&quot;)\n    private List&lt;String&gt; myProperty;\n}\n</code></pre>\n<p>and <code>application.properties</code> file:</p>\n<pre><code>my-property=abc;def;ghi\n</code></pre>\n<h4>Longer strings</h4>\n<p>Longer string as delimiters also works. For example annotation <code>@Delimiter(&quot;---&quot;)</code> with property:</p>\n<pre><code>my-property=abc---def---ghi\n</code></pre>\n<h4>How it works under the hood</h4>\n<p>If you interested, I found this annotation by debugging Spring source code. The key is class <a href=\"https://github.com/spring-projects/spring-boot/blob/47516b50c39bd6ea924a1f6720ce6d4a71088651/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/convert/DelimitedStringToArrayConverter.java#L64\" rel=\"nofollow noreferrer\"><code>DelimitedStringToArrayConverter</code></a> (check source code to find the annotation). You can see default value <code>,</code> when delimiter is null.</p>\n<p>How it works:</p>\n<ul>\n<li>invoking setter of your property (you have to write it to set breakpoint for debugger):</li>\n</ul>\n<pre><code>    public void setMyProperty(List&lt;String&gt; myProperty) {\n        this.myProperty = myProperty;\n    }\n</code></pre>\n<ul>\n<li><code>CollectionBinder</code></li>\n<li><code>IndexedElementsBinder</code></li>\n<li><code>BindConverter</code></li>\n<li><code>ApplicationConversionService</code></li>\n<li><code>DelimitedStringToArrayConverter</code></li>\n</ul>\n"}],"owner":{"account_id":2842936,"reputation":2530,"user_id":2442133,"accept_rate":57,"display_name":"mkczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74909764,"answer_count":2,"score":4,"last_activity_date":1671908484,"creation_date":1592241954,"question_id":62393624,"body_markdown":"I have a list of values in one property in `application.properties` file:\r\n\r\n    my-property=abc,def,ghi\r\n\r\nAnd I load it in my `@ConfigurationProperties` class:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties\r\n    public class MyProperties {\r\n    \r\n        private List&lt;String&gt; myProperty;\r\n    }\r\n\r\nBut I don&#39;t know how to change delimiter (from comma to semicolon or other separator):\r\n\r\n    my-property=abc;def;ghi\r\n\r\n---\r\n\r\nI know I can write **workaround**, but I don&#39;t want to use them because:\r\n\r\n- [@Value for property][1], but it requires manually writing property name for each fields (loss of `@ConfigurationProperties` advantages).\r\n\r\n```\r\n@Value(&quot;#{&#39;${my-property}&#39;.split(&#39;;&#39;)}&quot;)\r\nprivate List&lt;String&gt; myProperty;\r\n```\r\n\r\n- [Many properties with index][2], but it requires manually indexing and it&#39;s arduous when there are a lot of them and you have to change the order:\r\n\r\n```\r\nmy-property[0]=abc\r\nmy-property[1]=def\r\nmy-property[2]=ghi\r\n```\r\n\r\n- Writing getter with `split`, but I have to write getter for all properties manually:\r\n\r\n```\r\nprivate String myProperties;\r\n\r\npublic List&lt;String&gt; getMyProperty() {\r\n    return Arrays.asList(myProperties.split(&quot;;&quot;));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12580260#12580260\r\n  [2]: https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/47586180#47586180","title":"Changing delimiter in @ConfigurationProperties for reading a List property","body":"<p>I have a list of values in one property in <code>application.properties</code> file:</p>\n\n<pre><code>my-property=abc,def,ghi\n</code></pre>\n\n<p>And I load it in my <code>@ConfigurationProperties</code> class:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties\npublic class MyProperties {\n\n    private List&lt;String&gt; myProperty;\n}\n</code></pre>\n\n<p>But I don't know how to change delimiter (from comma to semicolon or other separator):</p>\n\n<pre><code>my-property=abc;def;ghi\n</code></pre>\n\n<hr>\n\n<p>I know I can write <strong>workaround</strong>, but I don't want to use them because:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12580260#12580260\">@Value for property</a>, but it requires manually writing property name for each fields (loss of <code>@ConfigurationProperties</code> advantages).</li>\n</ul>\n\n<pre><code>@Value(\"#{'${my-property}'.split(';')}\")\nprivate List&lt;String&gt; myProperty;\n</code></pre>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/47586180#47586180\">Many properties with index</a>, but it requires manually indexing and it's arduous when there are a lot of them and you have to change the order:</li>\n</ul>\n\n<pre><code>my-property[0]=abc\nmy-property[1]=def\nmy-property[2]=ghi\n</code></pre>\n\n<ul>\n<li>Writing getter with <code>split</code>, but I have to write getter for all properties manually:</li>\n</ul>\n\n<pre><code>private String myProperties;\n\npublic List&lt;String&gt; getMyProperty() {\n    return Arrays.asList(myProperties.split(\";\"));\n}\n</code></pre>\n"},{"tags":["java","android","geojson","google-maps-android-api-2"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1671616760,"post_id":74874064,"comment_id":132135614,"body_markdown":"You may want to take a look at [Ray-casting algorithm](https://rosettacode.org/wiki/Ray-casting_algorithm#Java)","body":"You may want to take a look at <a href=\"https://rosettacode.org/wiki/Ray-casting_algorithm#Java\" rel=\"nofollow noreferrer\">Ray-casting algorithm</a>"},{"owner":{"account_id":6677902,"reputation":656,"user_id":5151993,"accept_rate":40,"display_name":"Swapnil Lanjewar"},"score":0,"creation_date":1671617271,"post_id":74874064,"comment_id":132135773,"body_markdown":"@RickyMo I guess it&#39;s not applicable here because I could not get the bounds of the polygon where the LatLng/maker is placed. The marker is showing the current location of the user.","body":"@RickyMo I guess it&#39;s not applicable here because I could not get the bounds of the polygon where the LatLng/maker is placed. The marker is showing the current location of the user."}],"answers":[{"tags":[],"owner":{"account_id":9365051,"reputation":13243,"user_id":6950238,"accept_rate":75,"display_name":"Andrii Omelchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671908430,"creation_date":1671908430,"answer_id":74909760,"question_id":74874064,"body_markdown":"You can use [`containsLocation(double&#160;latitude, double&#160;longitude, java.util.List&lt;LatLng&gt;&#160;polygon, boolean&#160;geodesic)`](https://googlemaps.github.io/android-maps-utils/javadoc/com/google/maps/android/PolyUtil.html#containsLocation-double-double-java.util.List-boolean-) method from [Maps SDK for Android Utility Library](https://developers.google.com/maps/documentation/android-sdk/utility):\r\n\r\n&gt; public static&#160;boolean&#160;containsLocation(double&#160;latitude,\r\n&gt;                                        double&#160;longitude,\r\n&gt;                                        java.util.List&lt;LatLng&gt;&#160;polygon,\r\n&gt;                                        boolean&#160;geodesic)\r\n&gt; \r\n&gt; Computes whether the given point lies inside the specified polygon.\r\n&gt; The polygon is always considered closed, regardless of whether the\r\n&gt; last point equals the first or not. Inside is defined as not\r\n&gt; containing the South Pole -- the South Pole is always outside. The\r\n&gt; polygon is formed of great ci rcle segments if geodesic is true, and of rhumb \r\n&gt; (loxodromic) segments otherwise.","title":"How to check if a LatLng point lies inside a polygon on the geojson layer on google maps android","body":"<p>You can use <a href=\"https://googlemaps.github.io/android-maps-utils/javadoc/com/google/maps/android/PolyUtil.html#containsLocation-double-double-java.util.List-boolean-\" rel=\"nofollow noreferrer\"><code>containsLocation(double latitude, double longitude, java.util.List&lt;LatLng&gt; polygon, boolean geodesic)</code></a> method from <a href=\"https://developers.google.com/maps/documentation/android-sdk/utility\" rel=\"nofollow noreferrer\">Maps SDK for Android Utility Library</a>:</p>\n<blockquote>\n<p>public static boolean containsLocation(double latitude,\ndouble longitude,\njava.util.List polygon,\nboolean geodesic)</p>\n<p>Computes whether the given point lies inside the specified polygon.\nThe polygon is always considered closed, regardless of whether the\nlast point equals the first or not. Inside is defined as not\ncontaining the South Pole -- the South Pole is always outside. The\npolygon is formed of great ci rcle segments if geodesic is true, and of rhumb\n(loxodromic) segments otherwise.</p>\n</blockquote>\n"}],"owner":{"account_id":6677902,"reputation":656,"user_id":5151993,"accept_rate":40,"display_name":"Swapnil Lanjewar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671908430,"creation_date":1671616026,"question_id":74874064,"body_markdown":"Currently, I am working on a location-based project. In this project I&#39;ve added a GeoJsonLayer as below: [![enter image description here](https://i.stack.imgur.com/mp4fQ.jpg)](https://i.stack.imgur.com/mp4fQ.jpg) \r\n\r\nAs can be seen in the image, the red marker is inside a box. Is there any way to check if the marker is inside a box (polygon) or not on google maps?\r\n\r\n\r\n\r\n\r\n\r\nInside the onMapReady() function I have added the GeoJson layer as follow:\r\n`\r\n```\r\ntry {\r\n    GeoJsonLayer layer = new GeoJsonLayer(mMap, R.raw.gokulpeth_area, MapsActivity.this);\r\n    layer.getDefaultPolygonStyle().setStrokeColor(Color.WHITE);\r\n    layer.addLayerToMap();\r\n} catch (IOException | JSONException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n`\r\nPlease help me to achieve the task. ","title":"How to check if a LatLng point lies inside a polygon on the geojson layer on google maps android","body":"<p>Currently, I am working on a location-based project. In this project I've added a GeoJsonLayer as below: <a href=\"https://i.stack.imgur.com/mp4fQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mp4fQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen in the image, the red marker is inside a box. Is there any way to check if the marker is inside a box (polygon) or not on google maps?</p>\n<p>Inside the onMapReady() function I have added the GeoJson layer as follow:\n`</p>\n<pre><code>try {\n    GeoJsonLayer layer = new GeoJsonLayer(mMap, R.raw.gokulpeth_area, MapsActivity.this);\n    layer.getDefaultPolygonStyle().setStrokeColor(Color.WHITE);\n    layer.addLayerToMap();\n} catch (IOException | JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>`\nPlease help me to achieve the task.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9442,"page":781,"page_size":100}
