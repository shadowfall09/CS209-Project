{"items":[{"tags":["java","spring-boot","postman","response","resttemplate"],"comments":[{"owner":{"account_id":24342439,"reputation":1,"user_id":20407859,"display_name":"Guilherme Silva"},"score":0,"creation_date":1667688203,"post_id":74303466,"comment_id":131226998,"body_markdown":"hello Khodadadi, I didn&#39;t understand what I should have returned... I expected the return in json from the server in the &quot;response&quot; object","body":"hello Khodadadi, I didn&#39;t understand what I should have returned... I expected the return in json from the server in the &quot;response&quot; object"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667492407,"creation_date":1667484800,"answer_id":74304522,"question_id":74303466,"body_markdown":"The reason that you don&#39;t get any response and no exception is because the server side gets your request and keeps holding it and doesn&#39;t respond. So you are still in a waiting mode. I ran your request from java code using different http client but used exact your params and I noticed that response never returns. I waited for over 10 minutes and I saw that the program was still running. So I modified the code and added connection timeout for 5 sec and read timeout for 30 seconds. When I ran it it I got read timeout exception after 30 seconds. So the code manages to connect to server side, but server side just doesn&#39;t respond. So you are in endless wait. So, I don&#39;t know why it works from postman. May be some headers values issues. ","title":"Java Spring boot - Rest Template (request with no response, no error)","body":"<p>The reason that you don't get any response and no exception is because the server side gets your request and keeps holding it and doesn't respond. So you are still in a waiting mode. I ran your request from java code using different http client but used exact your params and I noticed that response never returns. I waited for over 10 minutes and I saw that the program was still running. So I modified the code and added connection timeout for 5 sec and read timeout for 30 seconds. When I ran it it I got read timeout exception after 30 seconds. So the code manages to connect to server side, but server side just doesn't respond. So you are in endless wait. So, I don't know why it works from postman. May be some headers values issues.</p>\n"}],"owner":{"account_id":24342439,"reputation":1,"user_id":20407859,"display_name":"Guilherme Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667492407,"creation_date":1667480208,"question_id":74303466,"body_markdown":"I&#39;m trying to create a GET request to retrieve commercial flights from latam. But I only get the answer through insomnia/postman...\r\n\r\nI&#39;m making the request through RestTemplate in Java, as shown below:\r\n\r\n\r\n```\r\npublic class LatamRequest {\r\n\r\n    public void consumerAPILatam(){\r\n        RestTemplate template = new RestTemplate();\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n        //h.ttps://www.latamairlines.com/bff/air-offers/offers/search\r\n        UriComponents uri = UriComponentsBuilder.newInstance()\r\n                .scheme(&quot;https&quot;)\r\n                .host(&quot;www.latamairlines.com&quot;)\r\n                .path(&quot;bff/air-offers/offers/search&quot;)\r\n                .queryParam(&quot;sort&quot;,&quot;RECOMMENDED&quot;)\r\n                .queryParam(&quot;cabinType&quot;,&quot;Economy&quot;)\r\n                .queryParam(&quot;origin&quot;,&quot;GRU&quot;)\r\n                .queryParam(&quot;destination&quot;,&quot;BSB&quot;)\r\n                .queryParam(&quot;inFlightDate&quot;,&quot;null&quot;)\r\n                .queryParam(&quot;inFrom&quot;,&quot;null&quot;)\r\n                .queryParam(&quot;inOfferId&quot;,&quot;null&quot;)\r\n                .queryParam(&quot;outFlightDate&quot;,&quot;null&quot;)\r\n                .queryParam(&quot;outFrom&quot;,&quot;2022-11-15T15%3A00%3A00.000Z&quot;)\r\n                .queryParam(&quot;outOfferId&quot;,&quot;null&quot;)\r\n                .queryParam(&quot;adult&quot;,&quot;1&quot;)\r\n                .queryParam(&quot;child&quot;,&quot;0&quot;)\r\n                .queryParam(&quot;infant&quot;,&quot;0&quot;)\r\n                .queryParam(&quot;redemption&quot;,&quot;true&quot;)\r\n                .build();\r\n\r\n        headers.set(&quot;User-Agent&quot;, &quot;test&quot;);\r\n        headers.set(&quot;Accept&quot;, &quot;*/*&quot;);\r\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.set(&quot;X-latam-App-Session-Id&quot;, &quot;84196897-1687-4d8c-8e63-083091ac204f&quot;);\r\n        headers.set(&quot;X-latam-Action-Name&quot;, &quot;search-result.flightselection.offers-search&quot;);\r\n        headers.set(&quot;X-latam-Application-Name&quot;, &quot;web-air-offers&quot;);\r\n        headers.set(&quot;X-latam-Client-Name&quot;, &quot;web-air-offers&quot;);\r\n        headers.set(&quot;X-latam-Track-Id&quot;, &quot;3a4ae189-e218-4606-bd9e-8b17efc93463&quot;);\r\n        headers.set(&quot;X-latam-Request-Id&quot;, &quot;ff44ef24-e6d0-4cb0-984c-df1db18cee19&quot;);\r\n        headers.set(&quot;X-latam-Application-Country&quot;, &quot;BR&quot;);\r\n        headers.set(&quot;X-latam-Application-Oc&quot;, &quot;br&quot;);\r\n        headers.set(&quot;X-latam-Application-Lang&quot;, &quot;pt&quot;);\r\n\r\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n        ResponseEntity&lt;String&gt; response = template.exchange(uri.toUriString(), HttpMethod.GET, httpEntity, String.class); //todo: No response, no error... \r\n        System.out.println(response);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI don&#39;t get any response or status after executing the above block. OBS: With the same parameters and headers I get status 200 in postman or insomnia.\r\n\r\nI&#39;ve tried several ways, but I can&#39;t get a response. Does anyone have any ideas for a more effective debug?","title":"Java Spring boot - Rest Template (request with no response, no error)","body":"<p>I'm trying to create a GET request to retrieve commercial flights from latam. But I only get the answer through insomnia/postman...</p>\n<p>I'm making the request through RestTemplate in Java, as shown below:</p>\n<pre><code>public class LatamRequest {\n\n    public void consumerAPILatam(){\n        RestTemplate template = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n\n        //h.ttps://www.latamairlines.com/bff/air-offers/offers/search\n        UriComponents uri = UriComponentsBuilder.newInstance()\n                .scheme(&quot;https&quot;)\n                .host(&quot;www.latamairlines.com&quot;)\n                .path(&quot;bff/air-offers/offers/search&quot;)\n                .queryParam(&quot;sort&quot;,&quot;RECOMMENDED&quot;)\n                .queryParam(&quot;cabinType&quot;,&quot;Economy&quot;)\n                .queryParam(&quot;origin&quot;,&quot;GRU&quot;)\n                .queryParam(&quot;destination&quot;,&quot;BSB&quot;)\n                .queryParam(&quot;inFlightDate&quot;,&quot;null&quot;)\n                .queryParam(&quot;inFrom&quot;,&quot;null&quot;)\n                .queryParam(&quot;inOfferId&quot;,&quot;null&quot;)\n                .queryParam(&quot;outFlightDate&quot;,&quot;null&quot;)\n                .queryParam(&quot;outFrom&quot;,&quot;2022-11-15T15%3A00%3A00.000Z&quot;)\n                .queryParam(&quot;outOfferId&quot;,&quot;null&quot;)\n                .queryParam(&quot;adult&quot;,&quot;1&quot;)\n                .queryParam(&quot;child&quot;,&quot;0&quot;)\n                .queryParam(&quot;infant&quot;,&quot;0&quot;)\n                .queryParam(&quot;redemption&quot;,&quot;true&quot;)\n                .build();\n\n        headers.set(&quot;User-Agent&quot;, &quot;test&quot;);\n        headers.set(&quot;Accept&quot;, &quot;*/*&quot;);\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.set(&quot;X-latam-App-Session-Id&quot;, &quot;84196897-1687-4d8c-8e63-083091ac204f&quot;);\n        headers.set(&quot;X-latam-Action-Name&quot;, &quot;search-result.flightselection.offers-search&quot;);\n        headers.set(&quot;X-latam-Application-Name&quot;, &quot;web-air-offers&quot;);\n        headers.set(&quot;X-latam-Client-Name&quot;, &quot;web-air-offers&quot;);\n        headers.set(&quot;X-latam-Track-Id&quot;, &quot;3a4ae189-e218-4606-bd9e-8b17efc93463&quot;);\n        headers.set(&quot;X-latam-Request-Id&quot;, &quot;ff44ef24-e6d0-4cb0-984c-df1db18cee19&quot;);\n        headers.set(&quot;X-latam-Application-Country&quot;, &quot;BR&quot;);\n        headers.set(&quot;X-latam-Application-Oc&quot;, &quot;br&quot;);\n        headers.set(&quot;X-latam-Application-Lang&quot;, &quot;pt&quot;);\n\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        ResponseEntity&lt;String&gt; response = template.exchange(uri.toUriString(), HttpMethod.GET, httpEntity, String.class); //todo: No response, no error... \n        System.out.println(response);\n    }\n\n}\n</code></pre>\n<p>I don't get any response or status after executing the above block. OBS: With the same parameters and headers I get status 200 in postman or insomnia.</p>\n<p>I've tried several ways, but I can't get a response. Does anyone have any ideas for a more effective debug?</p>\n"},{"tags":["java","apache-spark","jdbc","databricks","azure-databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1660060577,"post_id":73292702,"comment_id":129441399,"body_markdown":"what is the architecture of your server? Is it ARM based?","body":"what is the architecture of your server? Is it ARM based?"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660061272,"creation_date":1660061272,"answer_id":73294917,"question_id":73292702,"body_markdown":"It looks like you&#39;re using non-little-endian system that doesn&#39;t support encoding data using Apache Arrow.  You may try to add `EnableArrow=0;` into the connection string, right after the `ssl=true;` part...","title":"resultset.next() issue with com.simba.spark.jdbc42 driver","body":"<p>It looks like you're using non-little-endian system that doesn't support encoding data using Apache Arrow.  You may try to add <code>EnableArrow=0;</code> into the connection string, right after the <code>ssl=true;</code> part...</p>\n"}],"owner":{"account_id":15175635,"reputation":21,"user_id":10950456,"display_name":"Chet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667491988,"creation_date":1660051717,"question_id":73292702,"body_markdown":"I&#39;m using JDK 1.8 in my Unix server and using spark.jdbc42 to connect to Azure Databricks.\r\n\r\nIt is giving the following error message in the Unix server at `resultset.next()`:\r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.BaseAllocator$Config.getAllocationManagerFactory(BaseAllocator.java:776)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.access$801(ImmutableConfig.java:24)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig$InitShim.getAllocationManagerFactory(ImmutableConfig.java:83)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.&lt;init&gt;(ImmutableConfig.java:47)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.&lt;init&gt;(ImmutableConfig.java:24)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig$Builder.build(ImmutableConfig.java:485)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.BaseAllocator.&lt;clinit&gt;(BaseAllocator.java:51)\r\n         at com.simba.spark.spark.arrow.ArrowBuffer.&lt;init&gt;(Unknown Source)\r\n         at com.simba.spark.spark.jdbc.SparkJDBC42Driver.createArrowBuffer(Unknown\r\n Source)\r\n         at com.simba.spark.hivecommon.api.HS2Client.makeRowsetBuffer(Unknown\r\n Source)\r\n         at com.simba.spark.hivecommon.dataengine.BackgroundFetcher.&lt;init&gt;(Unknown\r\n Source)\r\n         at com.simba.spark.hivecommon.dataengine.HiveJDBCResultSet.moveToNextRow(Unknown\r\n Source)\r\n         at com.simba.spark.jdbc.common.BaseForwardResultSet.next(Unknown Source)\r\n Caused by: java.lang.IllegalStateException: Arrow only runs on LittleEndian systems.\r\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.UnsafeDirectLittleEndian.&lt;init&gt;(UnsafeDirectLittleEndian.java:64)\r\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.UnsafeDirectLittleEndian.&lt;init&gt;(UnsafeDirectLittleEndian.java:50)\r\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.PooledByteBufAllocatorL.&lt;init&gt;(PooledByteBufAllocatorL.java:49)\r\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.NettyAllocationManager.&lt;clinit&gt;(NettyAllocationManager.java:33)\r\n         ... 14 more\r\n```\r\n\r\nI&#39;m using source code borrowed from here:\r\n[http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html](http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html)\r\n\r\nThe same source code is working fine in my local system with JDK 11.0.15.","title":"resultset.next() issue with com.simba.spark.jdbc42 driver","body":"<p>I'm using JDK 1.8 in my Unix server and using spark.jdbc42 to connect to Azure Databricks.</p>\n<p>It is giving the following error message in the Unix server at <code>resultset.next()</code>:</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.BaseAllocator$Config.getAllocationManagerFactory(BaseAllocator.java:776)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.access$801(ImmutableConfig.java:24)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig$InitShim.getAllocationManagerFactory(ImmutableConfig.java:83)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.&lt;init&gt;(ImmutableConfig.java:47)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig.&lt;init&gt;(ImmutableConfig.java:24)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.ImmutableConfig$Builder.build(ImmutableConfig.java:485)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.BaseAllocator.&lt;clinit&gt;(BaseAllocator.java:51)\n         at com.simba.spark.spark.arrow.ArrowBuffer.&lt;init&gt;(Unknown Source)\n         at com.simba.spark.spark.jdbc.SparkJDBC42Driver.createArrowBuffer(Unknown\n Source)\n         at com.simba.spark.hivecommon.api.HS2Client.makeRowsetBuffer(Unknown\n Source)\n         at com.simba.spark.hivecommon.dataengine.BackgroundFetcher.&lt;init&gt;(Unknown\n Source)\n         at com.simba.spark.hivecommon.dataengine.HiveJDBCResultSet.moveToNextRow(Unknown\n Source)\n         at com.simba.spark.jdbc.common.BaseForwardResultSet.next(Unknown Source)\n Caused by: java.lang.IllegalStateException: Arrow only runs on LittleEndian systems.\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.UnsafeDirectLittleEndian.&lt;init&gt;(UnsafeDirectLittleEndian.java:64)\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.UnsafeDirectLittleEndian.&lt;init&gt;(UnsafeDirectLittleEndian.java:50)\n         at com.simba.spark.jdbc42.internal.io.netty.buffer.PooledByteBufAllocatorL.&lt;init&gt;(PooledByteBufAllocatorL.java:49)\n         at com.simba.spark.jdbc42.internal.apache.arrow.memory.NettyAllocationManager.&lt;clinit&gt;(NettyAllocationManager.java:33)\n         ... 14 more\n</code></pre>\n<p>I'm using source code borrowed from here:\n<a href=\"http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html\" rel=\"nofollow noreferrer\">http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html</a></p>\n<p>The same source code is working fine in my local system with JDK 11.0.15.</p>\n"},{"tags":["java","spring-boot","api","rest","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667478286,"creation_date":1667478286,"answer_id":74303047,"question_id":74212479,"body_markdown":"There is something fishy with what you&#39;re doing.\r\n\r\nFirst of all in the controller you&#39;re doing this\r\n```\r\n        User existentUser = userService.getUser(username);\r\n        System.out.println(&quot;Existent user: &quot; + existentUser);\r\n        existentUser.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\r\n```\r\n\r\nbut you don&#39;t save the `existingUser` so the changes won&#39;t persist.\r\n\r\nAfter that, you create a new user using the payload\r\n```\r\n        return ResponseEntity.ok(userService.createUser(user)); \r\n\r\n    public User createUser(User user){\r\n        log.info(&quot;Saving new user {} to the database&quot;, user.getName());\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        user.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\r\n        return userRepository.save(user);\r\n    }   \r\n```\r\n\r\nbut it seems the payload contains information of an existing user. What i would do would be something like\r\n\r\n```\r\n    public User createOrUpdateUser(User userPayload){\r\n        log.info(&quot;Saving user {} to the database&quot;, user.getName());\r\n\r\n         User dbUser = getUser(user.getUsername());\r\n\r\n        if(isNull(dbUser)) {\r\n          dbUser = ..logic for creating a new user\r\n        } else {\r\n          // logic to update the db user properties using the userPayload\r\n          dbUser.set\r\n        }\r\n\r\n        return userRepository.save(user);\r\n    } \r\n```\r\n\r\nAlso i would reconsider what you&#39;re doing here as these can be split up in POST for creation of a user and PUT for updating a user.\r\n\r\n","title":"How can I send a put request without the key value from the entity?","body":"<p>There is something fishy with what you're doing.</p>\n<p>First of all in the controller you're doing this</p>\n<pre><code>        User existentUser = userService.getUser(username);\n        System.out.println(&quot;Existent user: &quot; + existentUser);\n        existentUser.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\n</code></pre>\n<p>but you don't save the <code>existingUser</code> so the changes won't persist.</p>\n<p>After that, you create a new user using the payload</p>\n<pre><code>        return ResponseEntity.ok(userService.createUser(user)); \n\n    public User createUser(User user){\n        log.info(&quot;Saving new user {} to the database&quot;, user.getName());\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\n        return userRepository.save(user);\n    }   \n</code></pre>\n<p>but it seems the payload contains information of an existing user. What i would do would be something like</p>\n<pre><code>    public User createOrUpdateUser(User userPayload){\n        log.info(&quot;Saving user {} to the database&quot;, user.getName());\n\n         User dbUser = getUser(user.getUsername());\n\n        if(isNull(dbUser)) {\n          dbUser = ..logic for creating a new user\n        } else {\n          // logic to update the db user properties using the userPayload\n          dbUser.set\n        }\n\n        return userRepository.save(user);\n    } \n</code></pre>\n<p>Also i would reconsider what you're doing here as these can be split up in POST for creation of a user and PUT for updating a user.</p>\n"},{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667491643,"creation_date":1667491643,"answer_id":74306172,"question_id":74212479,"body_markdown":"The main issue is you are not passing the existing User object to the repository save method. The primary key in the database is the autogenerated ID, not the username. When you first retrieve the user into the `existentUser` variable, this is the attached entity which has the primary key set. Any updates you make to this entity inside the scope of a database transaction would automatically persist back to the database. The issue is you then pass the non attached User object from the initial request which does not have the ID, so the system thinks you are trying to create a new user, but it fails since there is now a duplicate login. I think to make this work you just need to remove the `userService.createUser(user)` call and annotate the `updateUser` controller method with `@Transactional`. You should make the method public as well.\r\n\r\nHaving said that, ALex&#39;s suggestion of making an upsert service method is a good idea and then you can move the `@Transactional` annotation to that method and keep the transaction boundary in your service and out of the controller.","title":"How can I send a put request without the key value from the entity?","body":"<p>The main issue is you are not passing the existing User object to the repository save method. The primary key in the database is the autogenerated ID, not the username. When you first retrieve the user into the <code>existentUser</code> variable, this is the attached entity which has the primary key set. Any updates you make to this entity inside the scope of a database transaction would automatically persist back to the database. The issue is you then pass the non attached User object from the initial request which does not have the ID, so the system thinks you are trying to create a new user, but it fails since there is now a duplicate login. I think to make this work you just need to remove the <code>userService.createUser(user)</code> call and annotate the <code>updateUser</code> controller method with <code>@Transactional</code>. You should make the method public as well.</p>\n<p>Having said that, ALex's suggestion of making an upsert service method is a good idea and then you can move the <code>@Transactional</code> annotation to that method and keep the transaction boundary in your service and out of the controller.</p>\n"}],"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74303047,"answer_count":2,"score":0,"last_activity_date":1667491643,"creation_date":1666808248,"question_id":74212479,"body_markdown":"I&#39;m trying to update a user and add a password to a new column that was created in the database as that password will be encrypted. However I&#39;m getting the following error and it is not being sent as an update on the row but as a new row in the database, I checked and the majority does the update with the .save(method) in the repository but it updates the object not adds a new row: \r\n\r\n    2022-10-26 12:50:37.648  INFO 13732 --- [nio-8080-exec-3] com.ssc.test.cb3.service.UserService     \r\n    : Fetching user htorres\r\n    Existent user: User(serie=5, username=htorres, name=Herney Torres, password=htorres, \r\n    profile=1, email=, status=false, passwordc=null, roles=[Role(serie=1, name=ROLE_USER)])\r\n    2022-10-26 12:50:37.793  INFO 13732 --- [nio-8080-exec-3] com.ssc.test.cb3.service.UserService     \r\n    : Saving new user Herney Torres to the database\r\n    2022-10-26 12:50:38.064  WARN 13732 --- [nio-8080-exec-3] \r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505\r\n    2022-10-26 12:50:38.064 ERROR 13732 --- [nio-8080-exec-3] \r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: llave duplicada viola restricci&#243;n de \r\n    unicidad &#171;usuario_login_key&#187;\r\n    Detail: Ya existe la llave (login)=(htorres).\r\n\r\nThe last message in Detail says:  There is already a key (login) = (htorres).\r\n\r\nHow can I send the request without the primary key &quot;login&quot; which is the username? I tried to not include it in the request in postman but it returns the error `ERROR 13732 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   `: ERROR: The value null for the column &lt;&lt;login&gt;&gt; violates the restriction not null`, I checked that with lists it is possible to use the .remove() to not include the primary key as in the following resource, but not sure how in my architecture: \r\n\r\n[SpringRest with arrayLists][1]\r\n\r\nThis is my class: \r\n\r\n    package com.ssc.test.cb3.controller;\r\n\r\n\r\n    import com.ssc.test.cb3.service.UserService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\n    /**\r\n     * Class to handle REST services and APIs for the Customer&#39;s class\r\n     *\r\n     * @author ssc\r\n     */\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/users&quot;)\r\n    //@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    public class UserController {\r\n\r\n        @Autowired\r\n        private UserService userService;\r\n\r\n        @Autowired\r\n        private PasswordEncoder passwordEncoder;\r\n\r\n\r\n        @PutMapping(&quot;/updateUser/{id}&quot;)\r\n        private ResponseEntity&lt;?&gt; updateUser(@PathVariable(&quot;id&quot;) String username, @RequestBody User user){\r\n            User existentUser = userService.getUser(username);\r\n            System.out.println(&quot;Existent user: &quot; + existentUser);\r\n            existentUser.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\r\n\r\n            return ResponseEntity.ok(userService.createUser(user));   \r\n        }\r\n\r\n    }\r\n\r\n\r\nThe service class: \r\n\r\npackage com.ssc.test.cb3.service;\r\n\r\n    import com.ssc.test.cb3.model.Role;\r\n    import com.ssc.test.cb3.model.User;\r\n    import com.ssc.test.cb3.repository.RoleRepository;\r\n    import com.ssc.test.cb3.repository.UserRepository;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    /**\r\n     * Class to prepare the services to be dispatched upon request regarding Customers. \r\n     * @author ssc\r\n     */\r\n\r\n    @Service \r\n    @Transactional \r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class UserService implements UserDetailsService {\r\n\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n        @Autowired\r\n        private final RoleRepository roleRepository;\r\n        @Autowired\r\n        private final PasswordEncoder passwordEncoder;\r\n\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userRepository.findByUsername(username);  // details from user loaded by getting the username\r\n            if(user == null){\r\n                log.error(&quot;User not found in the database&quot;);\r\n                throw new UsernameNotFoundException(&quot;User not found in the database&quot;);\r\n            } else {\r\n                log.info(&quot;User found in the database: {}&quot;, username);\r\n            }\r\n            Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            user.getRoles().forEach(role -&gt; { \r\n                authorities.add(new SimpleGrantedAuthority(role.getName()));\r\n            });\r\n            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), authorities);\r\n        }\r\n\r\n        /**\r\n         *  Method to get details from a user by the username\r\n         * @param username key that helps to identify the user we want to retrieve from the database\r\n         * @return the user details. \r\n         * @throws UsernameNotFoundException \r\n         */\r\n        public User getUserDetailsByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userRepository.findByUsername(username);  // details from user loaded by getting the username\r\n            if(user == null){\r\n                log.error(&quot;User not found in the database by that username&quot;);\r\n                throw new UsernameNotFoundException(&quot;User not found in the database by that username&quot;);\r\n            } else {\r\n                log.info(&quot;User found in the database: {}&quot;, username);\r\n            }\r\n            return user;\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param id\r\n         * @return \r\n         */\r\n        public User getUser(String username){\r\n            log.info(&quot;Fetching user {}&quot;, username);\r\n            return userRepository.findByUsername(username);\r\n        }\r\n\r\n\r\n        /**\r\n         * Functionality to create a new user\r\n         * @param user receives an objet User to be saved on the database\r\n         * @return the action of saving the user in the database. \r\n         */\r\n        public User createUser(User user){\r\n            log.info(&quot;Saving new user {} to the database&quot;, user.getName());\r\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n            user.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\r\n            return userRepository.save(user);\r\n        } \r\n\r\n    }\r\n\r\nMy repository class:\r\n\r\n    \r\n    package com.ssc.test.cb3.repository;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import com.ssc.test.cb3.model.User;\r\n\r\n    /**\r\n     * Class that extends to the repository for database management queries with table Usuario\r\n     * @author ssc\r\n     */\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n        User findByUsername(String username);\r\n    }\r\n\r\nAnd finally my user entity class: \r\n\r\n    package com.ssc.test.cb3.model;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToMany;\r\n    import javax.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n\r\n    /**\r\n     * Class that models the entity User as table of the database\r\n     * @author cardo\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;usuario&quot;)\r\n    @Data @NoArgsConstructor @AllArgsConstructor\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int serie;\r\n\r\n        @Column(name = &quot;login&quot;)  \r\n        private String username;   // Username...\r\n\r\n        @Column(name = &quot;nombre&quot;)\r\n        private String name;\r\n\r\n        private String password;\r\n\r\n        @Column(name = &quot;perfil&quot;)\r\n        private int profile;\r\n\r\n        private String email;\r\n\r\n        @Column(name = &quot;activo&quot;)\r\n        private boolean status;\r\n\r\n        private String passwordc;\r\n\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n  [1]: https://www.arquitecturajava.com/spring-rest-put-actualizando-registros/","title":"How can I send a put request without the key value from the entity?","body":"<p>I'm trying to update a user and add a password to a new column that was created in the database as that password will be encrypted. However I'm getting the following error and it is not being sent as an update on the row but as a new row in the database, I checked and the majority does the update with the .save(method) in the repository but it updates the object not adds a new row:</p>\n<pre><code>2022-10-26 12:50:37.648  INFO 13732 --- [nio-8080-exec-3] com.ssc.test.cb3.service.UserService     \n: Fetching user htorres\nExistent user: User(serie=5, username=htorres, name=Herney Torres, password=htorres, \nprofile=1, email=, status=false, passwordc=null, roles=[Role(serie=1, name=ROLE_USER)])\n2022-10-26 12:50:37.793  INFO 13732 --- [nio-8080-exec-3] com.ssc.test.cb3.service.UserService     \n: Saving new user Herney Torres to the database\n2022-10-26 12:50:38.064  WARN 13732 --- [nio-8080-exec-3] \no.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505\n2022-10-26 12:50:38.064 ERROR 13732 --- [nio-8080-exec-3] \no.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: llave duplicada viola restricción de \nunicidad «usuario_login_key»\nDetail: Ya existe la llave (login)=(htorres).\n</code></pre>\n<p>The last message in Detail says:  There is already a key (login) = (htorres).</p>\n<p>How can I send the request without the primary key &quot;login&quot; which is the username? I tried to not include it in the request in postman but it returns the error <code>ERROR 13732 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   </code>: ERROR: The value null for the column &lt;&gt; violates the restriction not null`, I checked that with lists it is possible to use the .remove() to not include the primary key as in the following resource, but not sure how in my architecture:</p>\n<p><a href=\"https://www.arquitecturajava.com/spring-rest-put-actualizando-registros/\" rel=\"nofollow noreferrer\">SpringRest with arrayLists</a></p>\n<p>This is my class:</p>\n<pre><code>package com.ssc.test.cb3.controller;\n\n\nimport com.ssc.test.cb3.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\n/**\n * Class to handle REST services and APIs for the Customer's class\n *\n * @author ssc\n */\n@RestController\n@RequestMapping(&quot;/v1/users&quot;)\n//@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    @PutMapping(&quot;/updateUser/{id}&quot;)\n    private ResponseEntity&lt;?&gt; updateUser(@PathVariable(&quot;id&quot;) String username, @RequestBody User user){\n        User existentUser = userService.getUser(username);\n        System.out.println(&quot;Existent user: &quot; + existentUser);\n        existentUser.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\n\n        return ResponseEntity.ok(userService.createUser(user));   \n    }\n\n}\n</code></pre>\n<p>The service class:</p>\n<p>package com.ssc.test.cb3.service;</p>\n<pre><code>import com.ssc.test.cb3.model.Role;\nimport com.ssc.test.cb3.model.User;\nimport com.ssc.test.cb3.repository.RoleRepository;\nimport com.ssc.test.cb3.repository.UserRepository;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Optional;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * Class to prepare the services to be dispatched upon request regarding Customers. \n * @author ssc\n */\n\n@Service \n@Transactional \n@Slf4j\n@RequiredArgsConstructor\npublic class UserService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private final RoleRepository roleRepository;\n    @Autowired\n    private final PasswordEncoder passwordEncoder;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);  // details from user loaded by getting the username\n        if(user == null){\n            log.error(&quot;User not found in the database&quot;);\n            throw new UsernameNotFoundException(&quot;User not found in the database&quot;);\n        } else {\n            log.info(&quot;User found in the database: {}&quot;, username);\n        }\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt; { \n            authorities.add(new SimpleGrantedAuthority(role.getName()));\n        });\n        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), authorities);\n    }\n\n    /**\n     *  Method to get details from a user by the username\n     * @param username key that helps to identify the user we want to retrieve from the database\n     * @return the user details. \n     * @throws UsernameNotFoundException \n     */\n    public User getUserDetailsByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);  // details from user loaded by getting the username\n        if(user == null){\n            log.error(&quot;User not found in the database by that username&quot;);\n            throw new UsernameNotFoundException(&quot;User not found in the database by that username&quot;);\n        } else {\n            log.info(&quot;User found in the database: {}&quot;, username);\n        }\n        return user;\n    }\n\n    /**\n     * \n     * @param id\n     * @return \n     */\n    public User getUser(String username){\n        log.info(&quot;Fetching user {}&quot;, username);\n        return userRepository.findByUsername(username);\n    }\n\n\n    /**\n     * Functionality to create a new user\n     * @param user receives an objet User to be saved on the database\n     * @return the action of saving the user in the database. \n     */\n    public User createUser(User user){\n        log.info(&quot;Saving new user {} to the database&quot;, user.getName());\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.setPasswordc(passwordEncoder.encode(user.getPasswordc()));\n        return userRepository.save(user);\n    } \n\n}\n</code></pre>\n<p>My repository class:</p>\n<pre><code>package com.ssc.test.cb3.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.ssc.test.cb3.model.User;\n\n/**\n * Class that extends to the repository for database management queries with table Usuario\n * @author ssc\n */\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    User findByUsername(String username);\n}\n</code></pre>\n<p>And finally my user entity class:</p>\n<pre><code>package com.ssc.test.cb3.model;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * Class that models the entity User as table of the database\n * @author cardo\n */\n@Entity\n@Table(name = &quot;usuario&quot;)\n@Data @NoArgsConstructor @AllArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int serie;\n\n    @Column(name = &quot;login&quot;)  \n    private String username;   // Username...\n\n    @Column(name = &quot;nombre&quot;)\n    private String name;\n\n    private String password;\n\n    @Column(name = &quot;perfil&quot;)\n    private int profile;\n\n    private String email;\n\n    @Column(name = &quot;activo&quot;)\n    private boolean status;\n\n    private String passwordc;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","selenium","jenkins","file-upload"],"answers":[{"tags":[],"owner":{"account_id":10641695,"reputation":1351,"user_id":12023661,"display_name":"Eugeny Okulik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667415552,"creation_date":1667415552,"answer_id":74294397,"question_id":74291849,"body_markdown":"You can put the file you want to upload into the directory `/var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/` on the EC2 instance. So you will not need to change anything in your code.  \r\n`/var/lib/jenkins/workspace/HE_HQ_Automaton` is the root directory of the Jenkins job. For convenience it&#39;s better to store all the files your tests may need somewhere inside this directory. And `/var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/` is a good place for these files.  \r\nAnd I looked once more at the question. Pay attention to the fact that the error says about the file `putty.exe` but you are showing the code for the file `BUG PnUMBER CHAR.png`. It may turn out that you are trying to solve the problem in the wrong place.","title":"My file upload scenarios are passing on my local but failing on Jenkins","body":"<p>You can put the file you want to upload into the directory <code>/var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/</code> on the EC2 instance. So you will not need to change anything in your code.<br />\n<code>/var/lib/jenkins/workspace/HE_HQ_Automaton</code> is the root directory of the Jenkins job. For convenience it's better to store all the files your tests may need somewhere inside this directory. And <code>/var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/</code> is a good place for these files.<br />\nAnd I looked once more at the question. Pay attention to the fact that the error says about the file <code>putty.exe</code> but you are showing the code for the file <code>BUG PnUMBER CHAR.png</code>. It may turn out that you are trying to solve the problem in the wrong place.</p>\n"}],"owner":{"account_id":19982432,"reputation":13,"user_id":14645242,"display_name":"Pathfinder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667491550,"creation_date":1667403468,"question_id":74291849,"body_markdown":"I am running my scenarios on Jenkins with EC2. My `fileUpload` scenarios are failing on Jenkins. I believe it&#39;s due to file location path but I am not sure which path I should give for EC2- Jenkins\r\n```\r\norg.openqa.selenium.InvalidArgumentException: invalid argument: File not found : /var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/putty.exe\r\n  (Session info: headless chrome=106.0.5249.119)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;ip-10-1-1-182.ec2.internal&#39;, ip: &#39;10.1.1.182&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.118-111.515.amzn2.x86_64&#39;, java.version: &#39;11.0.13&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n```\r\n\r\n\r\nMy code snippet\r\n\r\n    public void sendPNGFileUpload() {\r\n         Driver.wait(2);\r\n         driver.findElement(chooseFileButton).sendKeys(System.getProperty(&quot;user.dir&quot;) + &quot;/src/test.Files/BUG PnUMBER CHAR.png&quot;);\r\n    Driver.wait(2);\r\n     }\r\n\r\n","title":"My file upload scenarios are passing on my local but failing on Jenkins","body":"<p>I am running my scenarios on Jenkins with EC2. My <code>fileUpload</code> scenarios are failing on Jenkins. I believe it's due to file location path but I am not sure which path I should give for EC2- Jenkins</p>\n<pre><code>org.openqa.selenium.InvalidArgumentException: invalid argument: File not found : /var/lib/jenkins/workspace/HE_HQ_Automaton/src/test.Files/putty.exe\n  (Session info: headless chrome=106.0.5249.119)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'ip-10-1-1-182.ec2.internal', ip: '10.1.1.182', os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.118-111.515.amzn2.x86_64', java.version: '11.0.13'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\n</code></pre>\n<p>My code snippet</p>\n<pre><code>public void sendPNGFileUpload() {\n     Driver.wait(2);\n     driver.findElement(chooseFileButton).sendKeys(System.getProperty(&quot;user.dir&quot;) + &quot;/src/test.Files/BUG PnUMBER CHAR.png&quot;);\nDriver.wait(2);\n }\n</code></pre>\n"},{"tags":["java","spring-boot","junit","autowired","testcontainers"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667478209,"post_id":74302784,"comment_id":131178778,"body_markdown":"Can you check this answer https://stackoverflow.com/a/45863337/8587732 ?","body":"Can you check this answer <a href=\"https://stackoverflow.com/a/45863337/8587732\">stackoverflow.com/a/45863337/8587732</a> ?"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1667489284,"post_id":74302784,"comment_id":131183359,"body_markdown":"Are you sure, that movieRepository is null? If @Autowired didn&#39;t work i would expect UnsatisfiedDependencyException. Mabe save method returns null?","body":"Are you sure, that movieRepository is null? If @Autowired didn&#39;t work i would expect UnsatisfiedDependencyException. Mabe save method returns null?"}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667490884,"creation_date":1667490884,"answer_id":74305975,"question_id":74302784,"body_markdown":"The fact that a dependency is null tells me that likely the unit test is not running in the Spring context and so it is as if you didn&#39;t even have the `@Autowired` annotation. Are you using junit4? According to the javadoc for `@DataMongoTest` &quot;When using JUnit 4, this annotation should be used in combination with `@RunWith(SpringRunner.class)`.&quot;","title":"@Autowired field is null although annotations are present","body":"<p>The fact that a dependency is null tells me that likely the unit test is not running in the Spring context and so it is as if you didn't even have the <code>@Autowired</code> annotation. Are you using junit4? According to the javadoc for <code>@DataMongoTest</code> &quot;When using JUnit 4, this annotation should be used in combination with <code>@RunWith(SpringRunner.class)</code>.&quot;</p>\n"}],"owner":{"account_id":10985295,"reputation":40,"user_id":8071217,"display_name":"Luigi Loria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305975,"answer_count":1,"score":0,"last_activity_date":1667490884,"creation_date":1667477120,"question_id":74302784,"body_markdown":"I am trying to write a dummy integration test to get some practice with these technologies that I am using for the first time, however I am currently facing an NullPointerException on my autowired repository field (called *movieRepository*).\r\n\r\nI saw from other questions that the main cause was not setting annotations correctly. However, I don&#39;t think this is the case since MovieRepository doesn&#39;t have the @Repository annotation because MongoRepository as I understand it doesn&#39;t require it (but even adding it doesn&#39;t change anything) and instead MovieRepositoryIntegrationTest inherits the annotation from the abstract class it extends.\r\n\r\nMovieRepository.java\r\n\r\n    package com.example.testingtwo.repository; // /main/\r\n    public interface MovieRepository extends MongoRepository&lt;Movie, String&gt; {\r\n    \r\n    }\r\n\r\nAbstractContainerBaseTest.java\r\n\r\n    package com.example.testingtwo; // /test/\r\n    @DataMongoTest\r\n    public abstract class AbstractContainerBaseTest {\r\n    \r\n        static final MongoDBContainer mongoDBContainer;\r\n    \r\n        static {\r\n            mongoDBContainer = new MongoDBContainer(DockerImageName.parse(&quot;mongo:6.0.2&quot;));\r\n            mongoDBContainer.start();\r\n        }\r\n    \r\n        @DynamicPropertySource\r\n        static void setProperties(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;spring.data.mongodb.uri&quot;, mongoDBContainer::getReplicaSetUrl);\r\n        }\r\n    }\r\n\r\nMovieRepositoryIntegrationTest.java\r\n\r\n    package com.example.testingtwo.repository; // /test/\r\n    public class MovieRepositoryIntegrationTest extends AbstractContainerBaseTest {\r\n    \r\n        @Autowired\r\n        private MovieRepository movieRepository;\r\n    \r\n        @AfterEach\r\n        void cleanUp() {\r\n            movieRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        public void testFindById() {\r\n            Movie movie = new Movie(null, &quot;Test Name&quot;, &quot;Test Description&quot;);\r\n            String movieId = movieRepository.save(movie).getId(); // java.lang.NullPointerException: &quot;this.movieRepository&quot; is null\r\n            Movie movieFound = movieRepository.findById(movieId).orElse(null);\r\n    \r\n            assertNotNull(movieFound);\r\n            assertEquals(movieFound.getName(), movie.getName());\r\n            assertEquals(movieFound.getDescription(), movie.getDescription());\r\n        }\r\n    }\r\n\r\nOther information:\r\n* Java 17\r\n* Spring Boot 3.0 RC1\r\n* Junit5\r\n* Build tool: Maven\r\n* Spring Dependencies: Spring Web, Spring Data MongoDB, Lombok, Testcontainers","title":"@Autowired field is null although annotations are present","body":"<p>I am trying to write a dummy integration test to get some practice with these technologies that I am using for the first time, however I am currently facing an NullPointerException on my autowired repository field (called <em>movieRepository</em>).</p>\n<p>I saw from other questions that the main cause was not setting annotations correctly. However, I don't think this is the case since MovieRepository doesn't have the @Repository annotation because MongoRepository as I understand it doesn't require it (but even adding it doesn't change anything) and instead MovieRepositoryIntegrationTest inherits the annotation from the abstract class it extends.</p>\n<p>MovieRepository.java</p>\n<pre><code>package com.example.testingtwo.repository; // /main/\npublic interface MovieRepository extends MongoRepository&lt;Movie, String&gt; {\n\n}\n</code></pre>\n<p>AbstractContainerBaseTest.java</p>\n<pre><code>package com.example.testingtwo; // /test/\n@DataMongoTest\npublic abstract class AbstractContainerBaseTest {\n\n    static final MongoDBContainer mongoDBContainer;\n\n    static {\n        mongoDBContainer = new MongoDBContainer(DockerImageName.parse(&quot;mongo:6.0.2&quot;));\n        mongoDBContainer.start();\n    }\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.data.mongodb.uri&quot;, mongoDBContainer::getReplicaSetUrl);\n    }\n}\n</code></pre>\n<p>MovieRepositoryIntegrationTest.java</p>\n<pre><code>package com.example.testingtwo.repository; // /test/\npublic class MovieRepositoryIntegrationTest extends AbstractContainerBaseTest {\n\n    @Autowired\n    private MovieRepository movieRepository;\n\n    @AfterEach\n    void cleanUp() {\n        movieRepository.deleteAll();\n    }\n\n    @Test\n    public void testFindById() {\n        Movie movie = new Movie(null, &quot;Test Name&quot;, &quot;Test Description&quot;);\n        String movieId = movieRepository.save(movie).getId(); // java.lang.NullPointerException: &quot;this.movieRepository&quot; is null\n        Movie movieFound = movieRepository.findById(movieId).orElse(null);\n\n        assertNotNull(movieFound);\n        assertEquals(movieFound.getName(), movie.getName());\n        assertEquals(movieFound.getDescription(), movie.getDescription());\n    }\n}\n</code></pre>\n<p>Other information:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 3.0 RC1</li>\n<li>Junit5</li>\n<li>Build tool: Maven</li>\n<li>Spring Dependencies: Spring Web, Spring Data MongoDB, Lombok, Testcontainers</li>\n</ul>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"score":0,"creation_date":1657726137,"post_id":72968665,"comment_id":128880344,"body_markdown":"please include your import section.","body":"please include your import section."},{"owner":{"account_id":17553985,"reputation":3,"user_id":12733837,"display_name":"Benniesmalls"},"score":1,"creation_date":1657726232,"post_id":72968665,"comment_id":128880384,"body_markdown":"Have you read [this post](https://stackoverflow.com/questions/1811103/java-junit-the-method-x-is-ambiguous-for-type-y)? their your error is broken down and explained.","body":"Have you read <a href=\"https://stackoverflow.com/questions/1811103/java-junit-the-method-x-is-ambiguous-for-type-y\">this post</a>? their your error is broken down and explained."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1657729632,"post_id":72968665,"comment_id":128881654,"body_markdown":"Does this answer your question? [Java JUnit: The method X is ambiguous for type Y](https://stackoverflow.com/questions/1811103/java-junit-the-method-x-is-ambiguous-for-type-y)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1811103/java-junit-the-method-x-is-ambiguous-for-type-y\">Java JUnit: The method X is ambiguous for type Y</a>"}],"answers":[{"tags":[],"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657726020,"creation_date":1657726020,"answer_id":72968830,"question_id":72968665,"body_markdown":"Maybe you have got this error because you trying to compare two different type (int,Integer) try to cast one of the parameter\r\n\r\nMaybe this post can helps you:\r\nhttps://stackoverflow.com/questions/41893633/ambiguous-method-call-both-assertequalsobject-object-in-assert-and-assertequa","title":"Method assertEquals(Object, Object) is ambiguous for the type?","body":"<p>Maybe you have got this error because you trying to compare two different type (int,Integer) try to cast one of the parameter</p>\n<p>Maybe this post can helps you:\n<a href=\"https://stackoverflow.com/questions/41893633/ambiguous-method-call-both-assertequalsobject-object-in-assert-and-assertequa\">Ambiguous method call Both assertEquals(Object, Object) in Assert and assertEquals(double, double) in Assert match:</a></p>\n"},{"tags":[],"owner":{"account_id":26776863,"reputation":1,"user_id":20372357,"display_name":"Rajesh G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667490751,"creation_date":1667140982,"answer_id":74254014,"question_id":72968665,"body_markdown":"```\r\nimport static org.junit.Assert.*;\r\nimport org.junit.Test;\r\n\r\n//import static org.junit.jupiter.api.Assertions.*;\r\n\r\n//import org.junit.jupiter.api.Test; (make this out by commenting then this works fine i just tested now)\r\n```","title":"Method assertEquals(Object, Object) is ambiguous for the type?","body":"<pre><code>import static org.junit.Assert.*;\nimport org.junit.Test;\n\n//import static org.junit.jupiter.api.Assertions.*;\n\n//import org.junit.jupiter.api.Test; (make this out by commenting then this works fine i just tested now)\n</code></pre>\n"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667490751,"creation_date":1657725327,"question_id":72968665,"body_markdown":"My code snippet looks like this\r\n\r\n    @Test\r\n    public void testAddAndGet1() {\r\n       \tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        list.add(42);\r\n        list.add(-3);\r\n        list.add(17);\r\n        list.add(99);\r\n        assertEquals(42, list.get(0));\r\n        assertEquals(-3, list.get(1));\r\n        assertEquals(17, list.get(2));\r\n        assertEquals(99, list.get(3));\r\n    \r\n        assertEquals(&quot;second attempt&quot;, 42, list.get(0));   // make sure I can get them a second time\r\n        assertEquals(&quot;second attempt&quot;, 99, list.get(3));\r\n    }\r\n\r\nI am receiving `Method assertEquals(Object, Object) is ambiguous for the type`. I am not sure why I am getting it?","title":"Method assertEquals(Object, Object) is ambiguous for the type?","body":"<p>My code snippet looks like this</p>\n<pre><code>@Test\npublic void testAddAndGet1() {\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n    list.add(42);\n    list.add(-3);\n    list.add(17);\n    list.add(99);\n    assertEquals(42, list.get(0));\n    assertEquals(-3, list.get(1));\n    assertEquals(17, list.get(2));\n    assertEquals(99, list.get(3));\n\n    assertEquals(&quot;second attempt&quot;, 42, list.get(0));   // make sure I can get them a second time\n    assertEquals(&quot;second attempt&quot;, 99, list.get(3));\n}\n</code></pre>\n<p>I am receiving <code>Method assertEquals(Object, Object) is ambiguous for the type</code>. I am not sure why I am getting it?</p>\n"},{"tags":["java","glfw"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666904587,"post_id":74226334,"comment_id":131051990,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667490456,"creation_date":1667490102,"answer_id":74305781,"question_id":74226334,"body_markdown":"The GLFW doc under [glfwSetWindowSize][1] states:\r\n\r\n&gt; &quot;The window manager may put limits on what sizes are allowed. GLFW\r\n&gt; cannot and should not override these limits&quot;\r\n\r\nIf the window manager is what you refer to as the &quot;system&quot;. Then i guess the\r\nanswer is pretty final.\r\n\r\nYou could check for errors after the glfwSetWindowSizeLimits() call: GLFW_INVALID_VALUE or GLFW_PLATFORM_ERROR.\r\n\r\nCould be an error message (if any) gives you something.\r\n\r\nBut given the reason for you asking, you could render to a 32x16px framebuffer instead of the default framebuffer.\r\n\r\nThen render that as a 32x16px quad onto the default framebuffer.\r\n\r\n\r\n  [1]: https://www.glfw.org/docs/3.3/group__window.html#ga371911f12c74c504dd8d47d832d095cb","title":"GLFW Extreme values","body":"<p>The GLFW doc under <a href=\"https://www.glfw.org/docs/3.3/group__window.html#ga371911f12c74c504dd8d47d832d095cb\" rel=\"nofollow noreferrer\">glfwSetWindowSize</a> states:</p>\n<blockquote>\n<p>&quot;The window manager may put limits on what sizes are allowed. GLFW\ncannot and should not override these limits&quot;</p>\n</blockquote>\n<p>If the window manager is what you refer to as the &quot;system&quot;. Then i guess the\nanswer is pretty final.</p>\n<p>You could check for errors after the glfwSetWindowSizeLimits() call: GLFW_INVALID_VALUE or GLFW_PLATFORM_ERROR.</p>\n<p>Could be an error message (if any) gives you something.</p>\n<p>But given the reason for you asking, you could render to a 32x16px framebuffer instead of the default framebuffer.</p>\n<p>Then render that as a 32x16px quad onto the default framebuffer.</p>\n"}],"owner":{"account_id":26752532,"reputation":1,"user_id":20351671,"display_name":"Dame45"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667490456,"creation_date":1666893114,"question_id":74226334,"body_markdown":"GLFW wont let me have a screen resolution of 32 pixels by 16 pixels. I want to see what an extremely bad resolution would look like on a game. So is there a way to not let the system override extreme screen resolution values?\r\n\r\nI tried GLFW.glfwSetWindowSizeLimits(this.window, 0, 0, 10000, 10000);\r\n","title":"GLFW Extreme values","body":"<p>GLFW wont let me have a screen resolution of 32 pixels by 16 pixels. I want to see what an extremely bad resolution would look like on a game. So is there a way to not let the system override extreme screen resolution values?</p>\n<p>I tried GLFW.glfwSetWindowSizeLimits(this.window, 0, 0, 10000, 10000);</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667490402,"creation_date":1667490402,"answer_id":74305857,"question_id":74098250,"body_markdown":"You created the query but you haven&#39;t executed it\r\n\r\n```\r\nQuery query = entityManager.createQuery(&quot;(SELECT COUNT(DISTINCT u.id) AS totalUsers FROM User u)&quot;);\r\n\r\nvar count = (Long)query.getSingleResult();\r\n```\r\n\r\nThough I&#39;d advise you to use repositories instead of the entity manager. Keeps things cleaner\r\n\r\n","title":"How to show count values in Admin Dashboard of Spring Boot","body":"<p>You created the query but you haven't executed it</p>\n<pre><code>Query query = entityManager.createQuery(&quot;(SELECT COUNT(DISTINCT u.id) AS totalUsers FROM User u)&quot;);\n\nvar count = (Long)query.getSingleResult();\n</code></pre>\n<p>Though I'd advise you to use repositories instead of the entity manager. Keeps things cleaner</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74305857,"answer_count":1,"score":1,"last_activity_date":1667490402,"creation_date":1666014012,"question_id":74098250,"body_markdown":"I have a problem about showing counts of all values.\r\n\r\nI have no idea to show some values like the count of total users in the dashboard.\r\nI tried to use entityManager.createQuery but I couldn&#39;t move forward.\r\n\r\nHow can I get its count?\r\n\r\nWhat about getting other values?\r\n\r\nHere are the code snippets shown below.\r\n\r\n\r\nHere is the mainController shown below.\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    \tpublic String viewHomePage(Model model) {\r\n    \t\tDashboardInfo summary = dashboardService.loadSummary();\r\n    \t\tmodel.addAttribute(&quot;summary&quot;, summary);\t\r\n    \t\treturn &quot;index&quot;;\r\n    \t} \r\n\r\nHere is the DashboardService shown below.\r\n\r\n    @Service\r\n    public class DashboardService {\r\n    \r\n    \t@Autowired\r\n    \tprivate EntityManager entityManager;\r\n    \t\r\n    \tpublic DashboardInfo loadSummary() {\r\n    \t\tDashboardInfo summary = new DashboardInfo();\r\n    \t\tQuery query = entityManager.createQuery(&quot;(SELECT COUNT(DISTINCT u.id) AS totalUsers FROM User u)&quot;);\r\n    \t\t// HOW TO DO THAT\r\n    \t\treturn summary;\r\n    \t}\r\n    }\r\n\r\nHere is the DashboardInfo class shown below.\r\n\r\n    public class DashboardInfo {\r\n    \tprivate long totalUsers;\r\n    \tprivate long totalCategories;\r\n    \tprivate long totalBrands;\r\n    }\r\n\r\n","title":"How to show count values in Admin Dashboard of Spring Boot","body":"<p>I have a problem about showing counts of all values.</p>\n<p>I have no idea to show some values like the count of total users in the dashboard.\nI tried to use entityManager.createQuery but I couldn't move forward.</p>\n<p>How can I get its count?</p>\n<p>What about getting other values?</p>\n<p>Here are the code snippets shown below.</p>\n<p>Here is the mainController shown below.</p>\n<pre><code>@GetMapping(&quot;&quot;)\n    public String viewHomePage(Model model) {\n        DashboardInfo summary = dashboardService.loadSummary();\n        model.addAttribute(&quot;summary&quot;, summary); \n        return &quot;index&quot;;\n    } \n</code></pre>\n<p>Here is the DashboardService shown below.</p>\n<pre><code>@Service\npublic class DashboardService {\n\n    @Autowired\n    private EntityManager entityManager;\n    \n    public DashboardInfo loadSummary() {\n        DashboardInfo summary = new DashboardInfo();\n        Query query = entityManager.createQuery(&quot;(SELECT COUNT(DISTINCT u.id) AS totalUsers FROM User u)&quot;);\n        // HOW TO DO THAT\n        return summary;\n    }\n}\n</code></pre>\n<p>Here is the DashboardInfo class shown below.</p>\n<pre><code>public class DashboardInfo {\n    private long totalUsers;\n    private long totalCategories;\n    private long totalBrands;\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":0,"creation_date":1322497435,"post_id":8298058,"comment_id":10223413,"body_markdown":"What is it that you really want to achieve? What do you mean by &quot;access the information&quot;? You want to read the elements of your `orm.xml` file through JPA provider API or maybe you would like to read the database schema, tables, stored procedures, ... ?","body":"What is it that you really want to achieve? What do you mean by &quot;access the information&quot;? You want to read the elements of your <code>orm.xml</code> file through JPA provider API or maybe you would like to read the database schema, tables, stored procedures, ... ?"},{"owner":{"account_id":1070103,"reputation":443,"user_id":1069603,"accept_rate":75,"display_name":"chris1069603"},"score":0,"creation_date":1322499584,"post_id":8298058,"comment_id":10224251,"body_markdown":"I would like to access the default schema configured in the persistence-unit-defaults. Something like jpaConfig.getSchema(). I&#39;d like to use JPA API or EclipseLink. But not access the XML directly, for instance through XPath, if possible at all.","body":"I would like to access the default schema configured in the persistence-unit-defaults. Something like jpaConfig.getSchema(). I&#39;d like to use JPA API or EclipseLink. But not access the XML directly, for instance through XPath, if possible at all."}],"answers":[{"tags":[],"owner":{"account_id":1070103,"reputation":443,"user_id":1069603,"accept_rate":75,"display_name":"chris1069603"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1322562166,"creation_date":1322562166,"answer_id":8309164,"question_id":8298058,"body_markdown":"After debugging for a while I found a solution to access the schema of an entity.\r\n\r\n    EntityType&lt;MyEntity&gt; entity = emf.getMetamodel().entity(MyEntity.class);\r\n        \r\n    EntityTypeImpl entityTypeImpl = (EntityTypeImpl) entity;        \r\n    ClassDescriptor descriptor =  entityTypeImpl.getDescriptor();\r\n    \r\n    String schema = descriptor.getDefaultTable().getTableQualifier();\r\n\r\nLooking for an easier and better way to access the information! \r\nThank you so much.","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>After debugging for a while I found a solution to access the schema of an entity.</p>\n\n<pre><code>EntityType&lt;MyEntity&gt; entity = emf.getMetamodel().entity(MyEntity.class);\n\nEntityTypeImpl entityTypeImpl = (EntityTypeImpl) entity;        \nClassDescriptor descriptor =  entityTypeImpl.getDescriptor();\n\nString schema = descriptor.getDefaultTable().getTableQualifier();\n</code></pre>\n\n<p>Looking for an easier and better way to access the information! \nThank you so much.</p>\n"},{"tags":[],"owner":{"account_id":2330972,"reputation":3651,"user_id":2044417,"display_name":"sufinawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425243568,"creation_date":1425243568,"answer_id":28799003,"question_id":8298058,"body_markdown":"I know this is an old question, but here is a simpler way to get the table name:\r\n\r\n`MyEntity.class.getAnnotation(javax.persistence.Entity.class).name();`\r\n","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>I know this is an old question, but here is a simpler way to get the table name:</p>\n\n<p><code>MyEntity.class.getAnnotation(javax.persistence.Entity.class).name();</code></p>\n"},{"tags":[],"owner":{"account_id":317356,"reputation":41,"user_id":1371439,"display_name":"Marlon Candido Guerios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437642855,"creation_date":1437642855,"answer_id":31583045,"question_id":8298058,"body_markdown":"The previous replies didn&#39;t work for me. This is what I found to work:\r\n\r\n    String schema = em.unwrap(JpaEntityManager.class).getServerSession().getDescriptor(MyClass.class).getTables().get(0).getTableQualifier();\r\n\r\nhttps://wiki.eclipse.org/EclipseLink/FAQ/JPA","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>The previous replies didn't work for me. This is what I found to work:</p>\n\n<pre><code>String schema = em.unwrap(JpaEntityManager.class).getServerSession().getDescriptor(MyClass.class).getTables().get(0).getTableQualifier();\n</code></pre>\n\n<p><a href=\"https://wiki.eclipse.org/EclipseLink/FAQ/JPA\" rel=\"nofollow\">https://wiki.eclipse.org/EclipseLink/FAQ/JPA</a></p>\n"},{"tags":[],"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556905804,"creation_date":1556905804,"answer_id":55974877,"question_id":8298058,"body_markdown":"I know is an old post, but worked for me with this\r\n\r\n    javax.persistence.Table table = MyEntity.class.getAnnotation(javax.persistence.Table.class)\r\n\r\nfrom there you can get: \r\n\r\n    table.catalog()\r\n    table.indexes()\r\n    table.name()\r\n    table.schema()\r\n    table.uniqueConstraints()\r\n\r\n","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>I know is an old post, but worked for me with this</p>\n\n<pre><code>javax.persistence.Table table = MyEntity.class.getAnnotation(javax.persistence.Table.class)\n</code></pre>\n\n<p>from there you can get: </p>\n\n<pre><code>table.catalog()\ntable.indexes()\ntable.name()\ntable.schema()\ntable.uniqueConstraints()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667490370,"creation_date":1667490370,"answer_id":74305848,"question_id":8298058,"body_markdown":"For database connections managed by Hibernate 6 the working solution I found was:\r\n\r\n```java\r\n    DataSource dataSource = (DataSource)entityManager\r\n        .getEntityManagerFactory()\r\n        .getProperties()\r\n        .get(&quot;hibernate.connection.datasource&quot;);\r\n\r\n    if (dataSource instanceof HikariDataSource hikariDataSource) {\r\n        final String url = hikariDataSource.getJdbcUrl();\r\n        // Parse the url according to your database engine ...\r\n```","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>For database connections managed by Hibernate 6 the working solution I found was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DataSource dataSource = (DataSource)entityManager\n        .getEntityManagerFactory()\n        .getProperties()\n        .get(&quot;hibernate.connection.datasource&quot;);\n\n    if (dataSource instanceof HikariDataSource hikariDataSource) {\n        final String url = hikariDataSource.getJdbcUrl();\n        // Parse the url according to your database engine ...\n</code></pre>\n"}],"owner":{"account_id":1070103,"reputation":443,"user_id":1069603,"accept_rate":75,"display_name":"chris1069603"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8192,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8309164,"answer_count":5,"score":7,"last_activity_date":1667490370,"creation_date":1322493883,"question_id":8298058,"body_markdown":"is it possible to access the information in `&lt;persistence-unit-metadata&gt;` through Java API?\r\n\r\n    &lt;persistence-unit-metadata&gt;\r\n        &lt;persistence-unit-defaults&gt;\r\n            &lt;schema&gt;MySchema&lt;/schema&gt;\r\n        &lt;/persistence-unit-defaults&gt;\r\n    &lt;/persistence-unit-metadata&gt;\r\n\r\nI would like to read the schema &quot;MySchema&quot; via JPA API or EclipseLink API, which is the implementation I use.\r\n\r\nSomething like: entityManager.getDefaults().getSchema();\r\nIt&#39;s OK to cast or use any EclipseLink class, that&#39;s fine for this.\r\n\r\nThank you","title":"Access JPA &lt;persistence-unit-metadata&gt; programmatically","body":"<p>is it possible to access the information in <code>&lt;persistence-unit-metadata&gt;</code> through Java API?</p>\n\n<pre><code>&lt;persistence-unit-metadata&gt;\n    &lt;persistence-unit-defaults&gt;\n        &lt;schema&gt;MySchema&lt;/schema&gt;\n    &lt;/persistence-unit-defaults&gt;\n&lt;/persistence-unit-metadata&gt;\n</code></pre>\n\n<p>I would like to read the schema \"MySchema\" via JPA API or EclipseLink API, which is the implementation I use.</p>\n\n<p>Something like: entityManager.getDefaults().getSchema();\nIt's OK to cast or use any EclipseLink class, that's fine for this.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667490139,"creation_date":1667490139,"answer_id":74305795,"question_id":74096092,"body_markdown":"If you use @Transactions and have `auto-commit: false`, it will commit the changes at the end of the transaction. \r\nSo if you created the main object, then create all other subsequent objects and if any of them fails, the transaction will rollback.\r\n\r\nRegarding the order of creation:\r\n - i would make a creation manager that will handle these. So for example\r\n - the json that you receive from the FE is \r\n\r\nApply what says in [this answer][1] in the below method.\r\n```\r\n{\r\n&quot;name&quot;: &quot;abc&quot;,\r\n&quot;children-ofTypeA&quot;: [{\r\n    &quot;name&quot;: &quot;abc-child-a&quot;\r\n},\r\n&quot;children-ofTypeB&quot;: [{\r\n    &quot;name&quot;: &quot;abc-child-b&quot;\r\n}],\r\n&quot;some-other-prop-that-we-don&#39;t-care&quot;: {..}\r\n}\r\n```\r\n\r\n```\r\nclass MainObject {\r\n private String name:\r\n private List&lt;A&gt; childrenA;\r\n private List&lt;B&gt; childrenB;\r\n}\r\n```\r\nYou get this json and you pass it to `CreationManager` for example\r\n\r\n```\r\n   class CreationManager {\r\n      @Transactional\r\n      public void create(StructureAbove json) {    \r\n        // use a mapper of something to create the object\r\n        var mainObj = createMainObjFrom(json); \r\n        \r\n        //apply what says in the posted link\r\n       }\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45363686/3018285","title":"SpringBoot: Better way to create multiple entities from a single JSON with all data","body":"<p>If you use @Transactions and have <code>auto-commit: false</code>, it will commit the changes at the end of the transaction.\nSo if you created the main object, then create all other subsequent objects and if any of them fails, the transaction will rollback.</p>\n<p>Regarding the order of creation:</p>\n<ul>\n<li>i would make a creation manager that will handle these. So for example</li>\n<li>the json that you receive from the FE is</li>\n</ul>\n<p>Apply what says in <a href=\"https://stackoverflow.com/a/45363686/3018285\">this answer</a> in the below method.</p>\n<pre><code>{\n&quot;name&quot;: &quot;abc&quot;,\n&quot;children-ofTypeA&quot;: [{\n    &quot;name&quot;: &quot;abc-child-a&quot;\n},\n&quot;children-ofTypeB&quot;: [{\n    &quot;name&quot;: &quot;abc-child-b&quot;\n}],\n&quot;some-other-prop-that-we-don't-care&quot;: {..}\n}\n</code></pre>\n<pre><code>class MainObject {\n private String name:\n private List&lt;A&gt; childrenA;\n private List&lt;B&gt; childrenB;\n}\n</code></pre>\n<p>You get this json and you pass it to <code>CreationManager</code> for example</p>\n<pre><code>   class CreationManager {\n      @Transactional\n      public void create(StructureAbove json) {    \n        // use a mapper of something to create the object\n        var mainObj = createMainObjFrom(json); \n        \n        //apply what says in the posted link\n       }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":23026443,"reputation":71,"user_id":17146599,"display_name":"HopFr0g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667490139,"creation_date":1666003699,"question_id":74096092,"body_markdown":"I am working on a REST API with the following structure:\r\n\r\n- **controller**: classes that define the endpoints to obtain/create entities.\r\n- **model**: classes that represent the entities that are stored in each database table.\r\n- **repository**: classes that extend JpaRepository, it provides the methods to perform HQL queries on each model.\r\n- **service / serviceimpl**: classes that define the logic to obtain or create an entity from a model.\r\n\r\nThere is a table in the database that has multiple @OneToMany relationships with other tables. From the front-end, I will receive a json with the data to create a new entity from this table, but this json will also contain information to create entities from other tables that are related to the main one. This gives me the following problems:\r\n\r\n- The model class for the main entity has a lot of @Transient attributes because they send me information that shouldn&#39;t be mapped directly to a DB table, because I&#39;ll have to implement the logic to create the actual instances. (where should I do it? currently the logic to get child instances is implemented in the parent&#39;s ServiceImpl class, so the code is very long and hard to maintain).\r\n- I must persist each instance separately: to create the child entities I must provide an id of the parent entity. Because of this, I need to use JpaRepository&#39;s .save() method a first time to insert the parent entity and get its id. Then from that id I do the logic to create all the child entities and persist each one. In case there is a problem in the middle of the method, some instances will have been persisted and others not, this implies saving incomplete data in the DB.\r\n\r\nThe result of this is a very dirty and difficult to maintain model and ServiceImpl class. But I have to do that, since the front-end devs want to send me a single json with the information of everything that needs to be created, and they decided that the back-end implements all the logic to create the entities.\r\n\r\nIn what classes and in what order would you define the methods to do this as cleanly and safely as possible?","title":"SpringBoot: Better way to create multiple entities from a single JSON with all data","body":"<p>I am working on a REST API with the following structure:</p>\n<ul>\n<li><strong>controller</strong>: classes that define the endpoints to obtain/create entities.</li>\n<li><strong>model</strong>: classes that represent the entities that are stored in each database table.</li>\n<li><strong>repository</strong>: classes that extend JpaRepository, it provides the methods to perform HQL queries on each model.</li>\n<li><strong>service / serviceimpl</strong>: classes that define the logic to obtain or create an entity from a model.</li>\n</ul>\n<p>There is a table in the database that has multiple @OneToMany relationships with other tables. From the front-end, I will receive a json with the data to create a new entity from this table, but this json will also contain information to create entities from other tables that are related to the main one. This gives me the following problems:</p>\n<ul>\n<li>The model class for the main entity has a lot of @Transient attributes because they send me information that shouldn't be mapped directly to a DB table, because I'll have to implement the logic to create the actual instances. (where should I do it? currently the logic to get child instances is implemented in the parent's ServiceImpl class, so the code is very long and hard to maintain).</li>\n<li>I must persist each instance separately: to create the child entities I must provide an id of the parent entity. Because of this, I need to use JpaRepository's .save() method a first time to insert the parent entity and get its id. Then from that id I do the logic to create all the child entities and persist each one. In case there is a problem in the middle of the method, some instances will have been persisted and others not, this implies saving incomplete data in the DB.</li>\n</ul>\n<p>The result of this is a very dirty and difficult to maintain model and ServiceImpl class. But I have to do that, since the front-end devs want to send me a single json with the information of everything that needs to be created, and they decided that the back-end implements all the logic to create the entities.</p>\n<p>In what classes and in what order would you define the methods to do this as cleanly and safely as possible?</p>\n"},{"tags":["java","process","operating-system","scheduling"],"comments":[{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1667492481,"post_id":74305785,"comment_id":131184699,"body_markdown":"How can the OS determine which job is shortest?  This class of questions make no sense..","body":"How can the OS determine which job is shortest?  This class of questions make no sense.."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1667492691,"post_id":74305785,"comment_id":131184779,"body_markdown":"Also, non-preemptive schedulers, essentially, do not exist outside academia and prehistory.","body":"Also, non-preemptive schedulers, essentially, do not exist outside academia and prehistory."}],"owner":{"account_id":16419598,"reputation":1,"user_id":11861136,"display_name":"Amanda "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667490116,"creation_date":1667490116,"question_id":74305785,"body_markdown":"implement the SJF algorithm in both &quot;Non-preemptive&quot; and &quot;Preemptive&quot; mode\r\nI need to print out the correct execution order of the sequence of process, you need to print them out in the console, e.g. 5, 3, 1, 2, 4, ...  (each number is the process ID), computing and printing out the average waiting time, computing and printing out average response time. \r\n\r\n\r\n\r\nThis is the code that I have tried so far i need help with the /*CPU scheduling algorithm 2: shortest job first (SJF), non-preemptive or preemptive mode, section ....\r\n\r\n```\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.time.ZoneOffset;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Process {\r\n\r\n\tint id; //The unique ID for each process\r\n\tInstant ready_time; //store the time that the process arrives at the ready queue\r\n\tint burst_time; //the time requires CPU to execute the process\r\n\tInstant finish_time; //The time that the current process is finished by CPU\r\n\tInstant start_time; //The time that the CPU picks the process for execution\r\n\t\r\n\t\r\n\tString status;\r\n\t\r\n\tProcess(int id)\r\n\t{\r\n\t\tthis.id = id;\r\n\t\tstatus = &quot;new&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/*\r\n\t * Display the process info: [id]: ready_time, burst_time\r\n\t * */\r\n\tvoid disp()\r\n\t{\r\n\t\tSystem.out.println(&quot;[&quot;+id+&quot;]: ready: &quot; + ready_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + ready_time.atZone(ZoneOffset.UTC).getNano() + &quot;, CPU: &quot; + burst_time);\r\n\t\tSystem.out.println(&quot;          start: &quot; + start_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + start_time.atZone(ZoneOffset.UTC).getNano() + &quot;, finish: &quot; + finish_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + finish_time.atZone(ZoneOffset.UTC).getNano());\r\n\t\r\n\t}\r\n\t\r\n\tvoid run() {\r\n\t\tstatus = &quot;running&quot;;\r\n\t\tSystem.out.println(&quot;Process &quot; + id + &quot; is running...&quot;);\r\n\t\t\r\n\t\tterminate();\r\n\t}\r\n\t\r\n\tvoid terminate() {\r\n\t\tstatus = &quot;terminated&quot;;\r\n\t\tSystem.out.println(&quot;Process &quot; + id + &quot; is terminated&quot;);\r\n\t}\r\n\t\r\n\t/*CPU scheduling algorithm 1: first come first serve*/\r\n\tpublic static void fcfs(List&lt;Process&gt; list)\r\n\t{\r\n\t\t//Hold all the processes that have been executed\r\n\t\tList&lt;Process&gt; finished_list = new ArrayList&lt;Process&gt;();\r\n\t\t\r\n\t\t//As long as there is one or more processes in the ready queue, CPU should execute them\r\n\t\twhile(list.size() &gt; 0)\r\n\t\t{\r\n\t\t\t//Initially assume the first item has the smallest arrive_time\r\n\t\t\tInstant min_arrive = list.get(0).ready_time; \r\n\t\t\tint min_idx = 0;\r\n\t\t\t\r\n\t\t\t//Use a loop to compare the &quot;min_arrive&quot; with each process in the list\r\n\t\t\tfor(int i = 1; i &lt; list.size(); i++)\r\n\t\t\t{\r\n\t\t\t\t//Compare each process with the current recorded &quot;min_arrive&quot;\r\n\t\t\t\tif(min_arrive.compareTo(list.get(i).ready_time) &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tmin_arrive = list.get(i).ready_time;\r\n\t\t\t\t\tmin_idx = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//After the loop you should find the smallest arrive_time\r\n\t\t\tif(list.size() == 10)\r\n\t\t\t{\r\n\t\t\t\t//The current process is the first of all\r\n\t\t\t\tlist.get(min_idx).start_time = list.get(min_idx).ready_time;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t//If the current process ready_time is after last process&#39;s finish time\r\n\t\t\t\tif(list.get(min_idx).ready_time.compareTo(finished_list.get(finished_list.size() - 1).finish_time) &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tlist.get(min_idx).start_time = list.get(min_idx).ready_time;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlist.get(min_idx).start_time = finished_list.get(finished_list.size() - 1).finish_time;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlist.get(min_idx).finish_time \r\n\t\t\t= list.get(min_idx).start_time.plus(Duration.ofMillis(list.get(min_idx).burst_time));\r\n\t\t\t\r\n\t\t\r\n\t\t\t//Add the current process to the finish list\r\n\t\t\tfinished_list.add(list.get(min_idx));\r\n\t\t\r\n\t\t\t//Remove the current process from list\r\n\t\t\tlist.remove(min_idx);\r\n\t\t}\r\n\t\t\r\n\t\t//Print out the finish list order\r\n\t\tSystem.out.println(&quot;Finish list: &quot;);\r\n\r\n\t\tdouble waiting_time = 0.0;\r\n\t\tfor(int i = 0; i &lt; finished_list.size(); i++)\r\n\t\t{\r\n\t\t\tfinished_list.get(i).disp();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twaiting_time += (double)Duration.between(finished_list.get(i).ready_time, finished_list.get(i).start_time).toMillis();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//Print out the average waiting time\r\n\t\tSystem.out.println(&quot;Average Waiting Time: &quot; + waiting_time/10.0);\r\n\t\t\r\n\t}\r\n\t\r\n\t/*CPU scheduling algorithm 2: shortest job first (SJF), non-preemptive or preemptive mode, indicated by the 3rd parameter &quot;mode&quot; (0: non-preemptive 1: preemptive*/\r\n\tpublic static void sjf(List&lt;Process&gt; list, Instant cpu_time, int mode)\r\n\t{\r\n\t\t//Instead of using the earliest process as the CPU available time, you use random()\r\n\t\t//to generate a random CPU start time\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tList&lt;Process&gt; list = new ArrayList&lt;Process&gt;();\r\n\r\n\t\tInstant cur_time = Instant.now();\r\n\t\tRandom rand_cpu = new Random();\r\n\t\tInstant cpu_time = cur_time.plus(Duration.ofMillis(rand_cpu.nextInt(1000)));\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; 10; i++)\r\n\t\t{\r\n\t\t\t//Create a process by using &quot;i&quot; as the process ID\r\n\t\t\tProcess p = new Process(i);\r\n\t\t\t\r\n\t\t\t//Generate random number between 0 and 2000 by using Random() class\r\n\t\t\tRandom rand = new Random();\r\n\t\t\tint value = rand.nextInt(2000);\r\n\t\t\t\r\n\t\t\t//Use the &quot;millisecond&quot; component of the local time to plus the random number\r\n\t\t\t// as the ready_time value for the current process\r\n\t\t\tDuration duration = Duration.ofMillis(value);\r\n\t\t\tp.ready_time = cur_time.plus(duration);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//Generate another random number (between 0 and 2000) to assign the burst_time\r\n\t\t\tp.burst_time = rand.nextInt(2000);\r\n\t\t\tp.start_time = p.ready_time;\r\n\t\t\tp.finish_time = p.ready_time;\r\n\t\t\t\r\n\t\t\t//Add this process into the list\r\n\t\t\tlist.add(p);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//Display all the process\r\n\t\tfor(int i = 0; i &lt; list.size(); i++)\r\n\t\t{\r\n\t\t\tlist.get(i).disp();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//Perform &quot;First come first serve&quot; CPU scheduling\r\n\t\t//fcfs(list);\r\n\t\t\r\n\t\t\r\n\t\t//Perform &quot;Shortest Job First&quot; CPU scheduling\r\n\t\tsjf(list, cpu_time);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n","title":"Im trying to implement a FJF and SJF nonpremptive and premptive scheduling but im getting stuckon the SJF","body":"<p>implement the SJF algorithm in both &quot;Non-preemptive&quot; and &quot;Preemptive&quot; mode\nI need to print out the correct execution order of the sequence of process, you need to print them out in the console, e.g. 5, 3, 1, 2, 4, ...  (each number is the process ID), computing and printing out the average waiting time, computing and printing out average response time.</p>\n<p>This is the code that I have tried so far i need help with the /*CPU scheduling algorithm 2: shortest job first (SJF), non-preemptive or preemptive mode, section ....</p>\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\nimport java.time.ZoneOffset;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class Process {\n\n    int id; //The unique ID for each process\n    Instant ready_time; //store the time that the process arrives at the ready queue\n    int burst_time; //the time requires CPU to execute the process\n    Instant finish_time; //The time that the current process is finished by CPU\n    Instant start_time; //The time that the CPU picks the process for execution\n    \n    \n    String status;\n    \n    Process(int id)\n    {\n        this.id = id;\n        status = &quot;new&quot;;\n    }\n    \n    \n    \n    /*\n     * Display the process info: [id]: ready_time, burst_time\n     * */\n    void disp()\n    {\n        System.out.println(&quot;[&quot;+id+&quot;]: ready: &quot; + ready_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + ready_time.atZone(ZoneOffset.UTC).getNano() + &quot;, CPU: &quot; + burst_time);\n        System.out.println(&quot;          start: &quot; + start_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + start_time.atZone(ZoneOffset.UTC).getNano() + &quot;, finish: &quot; + finish_time.atZone(ZoneOffset.UTC).getSecond() + &quot;.&quot; + finish_time.atZone(ZoneOffset.UTC).getNano());\n    \n    }\n    \n    void run() {\n        status = &quot;running&quot;;\n        System.out.println(&quot;Process &quot; + id + &quot; is running...&quot;);\n        \n        terminate();\n    }\n    \n    void terminate() {\n        status = &quot;terminated&quot;;\n        System.out.println(&quot;Process &quot; + id + &quot; is terminated&quot;);\n    }\n    \n    /*CPU scheduling algorithm 1: first come first serve*/\n    public static void fcfs(List&lt;Process&gt; list)\n    {\n        //Hold all the processes that have been executed\n        List&lt;Process&gt; finished_list = new ArrayList&lt;Process&gt;();\n        \n        //As long as there is one or more processes in the ready queue, CPU should execute them\n        while(list.size() &gt; 0)\n        {\n            //Initially assume the first item has the smallest arrive_time\n            Instant min_arrive = list.get(0).ready_time; \n            int min_idx = 0;\n            \n            //Use a loop to compare the &quot;min_arrive&quot; with each process in the list\n            for(int i = 1; i &lt; list.size(); i++)\n            {\n                //Compare each process with the current recorded &quot;min_arrive&quot;\n                if(min_arrive.compareTo(list.get(i).ready_time) &gt; 0)\n                {\n                    min_arrive = list.get(i).ready_time;\n                    min_idx = i;\n                }\n            }\n            \n            //After the loop you should find the smallest arrive_time\n            if(list.size() == 10)\n            {\n                //The current process is the first of all\n                list.get(min_idx).start_time = list.get(min_idx).ready_time;\n            }\n            else\n            {\n                //If the current process ready_time is after last process's finish time\n                if(list.get(min_idx).ready_time.compareTo(finished_list.get(finished_list.size() - 1).finish_time) &gt; 0)\n                {\n                    list.get(min_idx).start_time = list.get(min_idx).ready_time;\n                }\n                else {\n                    list.get(min_idx).start_time = finished_list.get(finished_list.size() - 1).finish_time;\n                }\n            }\n            \n            list.get(min_idx).finish_time \n            = list.get(min_idx).start_time.plus(Duration.ofMillis(list.get(min_idx).burst_time));\n            \n        \n            //Add the current process to the finish list\n            finished_list.add(list.get(min_idx));\n        \n            //Remove the current process from list\n            list.remove(min_idx);\n        }\n        \n        //Print out the finish list order\n        System.out.println(&quot;Finish list: &quot;);\n\n        double waiting_time = 0.0;\n        for(int i = 0; i &lt; finished_list.size(); i++)\n        {\n            finished_list.get(i).disp();\n            \n            \n            waiting_time += (double)Duration.between(finished_list.get(i).ready_time, finished_list.get(i).start_time).toMillis();\n            \n        }\n        \n        //Print out the average waiting time\n        System.out.println(&quot;Average Waiting Time: &quot; + waiting_time/10.0);\n        \n    }\n    \n    /*CPU scheduling algorithm 2: shortest job first (SJF), non-preemptive or preemptive mode, indicated by the 3rd parameter &quot;mode&quot; (0: non-preemptive 1: preemptive*/\n    public static void sjf(List&lt;Process&gt; list, Instant cpu_time, int mode)\n    {\n        //Instead of using the earliest process as the CPU available time, you use random()\n        //to generate a random CPU start time\n        \n    }\n    \n    \n    \n    public static void main(String args[])\n    {\n        List&lt;Process&gt; list = new ArrayList&lt;Process&gt;();\n\n        Instant cur_time = Instant.now();\n        Random rand_cpu = new Random();\n        Instant cpu_time = cur_time.plus(Duration.ofMillis(rand_cpu.nextInt(1000)));\n        \n        for(int i = 0; i &lt; 10; i++)\n        {\n            //Create a process by using &quot;i&quot; as the process ID\n            Process p = new Process(i);\n            \n            //Generate random number between 0 and 2000 by using Random() class\n            Random rand = new Random();\n            int value = rand.nextInt(2000);\n            \n            //Use the &quot;millisecond&quot; component of the local time to plus the random number\n            // as the ready_time value for the current process\n            Duration duration = Duration.ofMillis(value);\n            p.ready_time = cur_time.plus(duration);\n            \n            \n            //Generate another random number (between 0 and 2000) to assign the burst_time\n            p.burst_time = rand.nextInt(2000);\n            p.start_time = p.ready_time;\n            p.finish_time = p.ready_time;\n            \n            //Add this process into the list\n            list.add(p);\n        }\n        \n        \n        //Display all the process\n        for(int i = 0; i &lt; list.size(); i++)\n        {\n            list.get(i).disp();\n        }\n        \n        \n        //Perform &quot;First come first serve&quot; CPU scheduling\n        //fcfs(list);\n        \n        \n        //Perform &quot;Shortest Job First&quot; CPU scheduling\n        sjf(list, cpu_time);\n        \n        \n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","netflix-eureka","spring-cloud-netflix"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667489970,"creation_date":1667489970,"answer_id":74305750,"question_id":74299915,"body_markdown":"You should use `EurekaClient` to discover service instances from the Eureka Server as described in [the documentation][1].\r\n\r\nTry to define your controller in the way shown below.\r\n```java\r\n@RestController\r\npublic class ClientFirstController {\r\n\r\n   @Autowired\r\n   public RestTemplate restTemplate;\r\n\r\n   @Autowired\r\n   private EurekaClient eurekaClient;\r\n\r\n   @GetMapping(&quot;/connect-server&quot;)\r\n   public String serverFirstConnect(){\r\n      String serverId = &quot;server&quot;;\r\n      String homePageUrl = eurekaClient.getNextServerFromEureka(serverId, false).getHomePageUrl();\r\n      return restTemplate.getForObject(homePageUrl+&quot;home-server&quot;, String.class);\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html#_using_the_eurekaclient","title":"Eureka; cannot pass request through eureka server by restTemplate","body":"<p>You should use <code>EurekaClient</code> to discover service instances from the Eureka Server as described in <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html#_using_the_eurekaclient\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>Try to define your controller in the way shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ClientFirstController {\n\n   @Autowired\n   public RestTemplate restTemplate;\n\n   @Autowired\n   private EurekaClient eurekaClient;\n\n   @GetMapping(&quot;/connect-server&quot;)\n   public String serverFirstConnect(){\n      String serverId = &quot;server&quot;;\n      String homePageUrl = eurekaClient.getNextServerFromEureka(serverId, false).getHomePageUrl();\n      return restTemplate.getForObject(homePageUrl+&quot;home-server&quot;, String.class);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":26813779,"reputation":1,"user_id":20403988,"display_name":"Mykola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667489970,"creation_date":1667463507,"question_id":74299915,"body_markdown":"Please help to solve the problem, I cannot make a request to the second application through the eureka service.\r\n\r\nHere is my code:\r\n\r\nEurekaServer:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class EurekaServerApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(EurekaServerApplication.class, args);\r\n   }\r\n}\r\n```\r\n\r\n```\r\nserver.port=8761\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n```\r\n\r\n----------\r\n\r\n----------\r\n\r\nApplication client:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class ClientFirstApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(ClientFirstApplication.class, args);\r\n   }\r\n\r\n   @Bean\r\n   @LoadBalanced\r\n   public RestTemplate getRestTemplate(){\r\n      return new RestTemplate();\r\n   }\r\n\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\npublic class ClientFirstController {\r\n\r\n     @Autowired\r\n   public RestTemplate restTemplate;\r\n\r\n   @GetMapping(&quot;/connect-server&quot;)\r\n   public String serverFirstConnect(){\r\n      return restTemplate.getForObject(&quot;http://server/home-server&quot;, String.class);\r\n   }\r\n\r\n}\r\n```\r\n\r\n```\r\nserver.port=8080\r\n\r\nspring.application.name=client\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka/\r\n```\r\n\r\n----------\r\n\r\n----------\r\n\r\nApplication Client2:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class ServerFirstApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(ServerFirstApplication.class, args);\r\n   }\r\n\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\npublic class ServerFirstController {\r\n   @GetMapping(&quot;/home-server&quot;)\r\n   public String home(){\r\n      return &quot;&lt;h1&gt; This is Home page for Server First&lt;/h1&gt;&quot;;\r\n   }\r\n}\r\n```\r\n\r\n```\r\nserver.port=8081\r\n\r\nspring.application.name=server\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka/\r\n```\r\n\r\n----------\r\n\r\n----------\r\n\r\nwhen I go to the link http://localhost:8080/connect-server, there is always an error\r\n__________________________\r\n__________________________\r\n\r\n```\r\n2022-11-03 06:46:34.241 ERROR 8256 --- [o-auto-1-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://server/home-server&quot;: Connection timed out: connect; nested exception is java.net.ConnectException: Connection timed out: connect] with root cause\r\n\r\njava.net.ConnectException: Connection timed out: connect\r\n    at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\r\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\r\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\r\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532) ~[na:na]\r\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637) ~[na:na]\r\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280) ~[na:na]\r\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385) ~[na:na]\r\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407) ~[na:na]\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]\r\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.cloud.client.loadbalancer.BlockingLoadBalancerRequest.apply(BlockingLoadBalancerRequest.java:55) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\r\n    at org.springframework.cloud.client.loadbalancer.BlockingLoadBalancerRequest.apply(BlockingLoadBalancerRequest.java:32) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\r\n    at org.springframework.cloud.client.loadbalancer.LoadBalancerRequestAdapter.apply(LoadBalancerRequestAdapter.java:43) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\r\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:114) ~[spring-cloud-loadbalancer-3.1.4.jar:3.1.4]\r\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:91) ~[spring-cloud-loadbalancer-3.1.4.jar:3.1.4]\r\n    at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at com.mykola.client_first.controllers.ClientFirstController.serverFirstConnect(ClientFirstController.java:40) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2022-11-03 06:50:21.655  INFO 8256 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\r\n2022-11-03 06:55:21.657  INFO 8256 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\r\n```\r\ndisabling the load balancer gives another error, as in this video: \r\nhttps://www.youtube.com/watch?v=vS193hfwbdI&amp;t=42s\r\n\r\n","title":"Eureka; cannot pass request through eureka server by restTemplate","body":"<p>Please help to solve the problem, I cannot make a request to the second application through the eureka service.</p>\n<p>Here is my code:</p>\n<p>EurekaServer:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(EurekaServerApplication.class, args);\n   }\n}\n</code></pre>\n<pre><code>server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n</code></pre>\n<hr />\n<hr />\n<p>Application client:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\npublic class ClientFirstApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(ClientFirstApplication.class, args);\n   }\n\n   @Bean\n   @LoadBalanced\n   public RestTemplate getRestTemplate(){\n      return new RestTemplate();\n   }\n\n}\n</code></pre>\n<pre><code>@RestController\npublic class ClientFirstController {\n\n     @Autowired\n   public RestTemplate restTemplate;\n\n   @GetMapping(&quot;/connect-server&quot;)\n   public String serverFirstConnect(){\n      return restTemplate.getForObject(&quot;http://server/home-server&quot;, String.class);\n   }\n\n}\n</code></pre>\n<pre><code>server.port=8080\n\nspring.application.name=client\neureka.client.service-url.defaultZone=http://localhost:8761/eureka/\n</code></pre>\n<hr />\n<hr />\n<p>Application Client2:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\npublic class ServerFirstApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(ServerFirstApplication.class, args);\n   }\n\n}\n</code></pre>\n<pre><code>@RestController\npublic class ServerFirstController {\n   @GetMapping(&quot;/home-server&quot;)\n   public String home(){\n      return &quot;&lt;h1&gt; This is Home page for Server First&lt;/h1&gt;&quot;;\n   }\n}\n</code></pre>\n<pre><code>server.port=8081\n\nspring.application.name=server\neureka.client.service-url.defaultZone=http://localhost:8761/eureka/\n</code></pre>\n<hr />\n<hr />\n<p>when I go to the link http://localhost:8080/connect-server, there is always an error</p>\n<hr />\n<hr />\n<pre><code>2022-11-03 06:46:34.241 ERROR 8256 --- [o-auto-1-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://server/home-server&quot;: Connection timed out: connect; nested exception is java.net.ConnectException: Connection timed out: connect] with root cause\n\njava.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532) ~[na:na]\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637) ~[na:na]\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280) ~[na:na]\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385) ~[na:na]\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.cloud.client.loadbalancer.BlockingLoadBalancerRequest.apply(BlockingLoadBalancerRequest.java:55) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.client.loadbalancer.BlockingLoadBalancerRequest.apply(BlockingLoadBalancerRequest.java:32) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.client.loadbalancer.LoadBalancerRequestAdapter.apply(LoadBalancerRequestAdapter.java:43) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:114) ~[spring-cloud-loadbalancer-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:91) ~[spring-cloud-loadbalancer-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56) ~[spring-cloud-commons-3.1.4.jar:3.1.4]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.23.jar:5.3.23]\n    at com.mykola.client_first.controllers.ClientFirstController.serverFirstConnect(ClientFirstController.java:40) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2022-11-03 06:50:21.655  INFO 8256 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\n2022-11-03 06:55:21.657  INFO 8256 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\n</code></pre>\n<p>disabling the load balancer gives another error, as in this video:\n<a href=\"https://www.youtube.com/watch?v=vS193hfwbdI&amp;t=42s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vS193hfwbdI&amp;t=42s</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1667488043,"post_id":74305245,"comment_id":131182850,"body_markdown":"You said &quot;keep the highest of the 2 numbers&quot;, so there needs to be some sort of comparison somewhere.","body":"You said &quot;keep the highest of the 2 numbers&quot;, so there needs to be some sort of comparison somewhere."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667488049,"post_id":74305245,"comment_id":131182852,"body_markdown":"Are you aware how the `if` and `if ... else` statement works? If not I would recommend reading a [Tutorial about those statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html)  and a [Tutorial about conditional statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)","body":"Are you aware how the <code>if</code> and <code>if ... else</code> statement works? If not I would recommend reading a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\">Tutorial about those statements</a>  and a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Tutorial about conditional statements</a>"}],"answers":[{"tags":[],"owner":{"account_id":26810574,"reputation":21,"user_id":20401269,"display_name":"Carlos Milhas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667488982,"creation_date":1667488661,"answer_id":74305434,"question_id":74305245,"body_markdown":"//just add an if Statement   \r\n\r\n\r\n\r\n\r\n\r\n\r\n            public static void main(String[] args) {\r\n                     int die1;\r\n                     int die2;\r\n                     int roll;\r\n\r\n                     die1 = (int)(Math.random() *6) + 1;\r\n                     die2 = (int)(Math.random() *6) + 1;\r\n                     roll = die1 + die2;\r\n\r\n                     System.out.println(&quot;First number is……&quot; + die1);\r\n                     System.out.println(&quot;The second number is……&quot; + die2);\r\n       \r\n\t\t\tif (die1&gt;=die2) {\r\n\t\t\t\tSystem.out.println(&quot;The highest dice number is &quot; + die1);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;The highest dice number is &quot; + die2);\r\n\t\t\t}\r\n\t}\r\n\r\n}","title":"I’m confused on what to fill out with the code to roll these 2 dice and keep the highest of the 2 numbers","body":"<p>//just add an if Statement</p>\n<pre><code>        public static void main(String[] args) {\n                 int die1;\n                 int die2;\n                 int roll;\n\n                 die1 = (int)(Math.random() *6) + 1;\n                 die2 = (int)(Math.random() *6) + 1;\n                 roll = die1 + die2;\n\n                 System.out.println(&quot;First number is……&quot; + die1);\n                 System.out.println(&quot;The second number is……&quot; + die2);\n   \n        if (die1&gt;=die2) {\n            System.out.println(&quot;The highest dice number is &quot; + die1);\n        }else {\n            System.out.println(&quot;The highest dice number is &quot; + die2);\n        }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26819580,"reputation":1,"user_id":20409130,"display_name":"Mythy"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1667491441,"answer_count":1,"score":-5,"last_activity_date":1667488982,"creation_date":1667487918,"question_id":74305245,"body_markdown":"```**This code has the dice but I don’t know what to put for the rest of the code to keep the highest number of them**\r\npublic class RollTheDice {\r\n             public static void main(String[] args) {\r\n                      int die1;\r\n                      int die2;\r\n                      int roll;\r\n\r\n                      die1 = (int)(Math.random() *6) + 1;\r\n                      die2 = (int)(Math.random() *6) + 1;\r\n                      roll = die1 + die2;\r\n\r\n                      System.out.println(“First number is……” + die1);\r\n                      System.out.println(“The second number is……” + die2);\r\n            }\r\n}\r\n```\r\n\r\n\r\nI tried some things but none of them worked whatsoever but I can’t figure out how to complete the code to fully try it","title":"I’m confused on what to fill out with the code to roll these 2 dice and keep the highest of the 2 numbers","body":"<pre><code>public class RollTheDice {\n             public static void main(String[] args) {\n                      int die1;\n                      int die2;\n                      int roll;\n\n                      die1 = (int)(Math.random() *6) + 1;\n                      die2 = (int)(Math.random() *6) + 1;\n                      roll = die1 + die2;\n\n                      System.out.println(“First number is……” + die1);\n                      System.out.println(“The second number is……” + die2);\n            }\n}\n</code></pre>\n<p>I tried some things but none of them worked whatsoever but I can’t figure out how to complete the code to fully try it</p>\n"},{"tags":["java","selenium-webdriver","opera","operadriver"],"comments":[{"owner":{"account_id":6126272,"reputation":494,"user_id":4778146,"accept_rate":47,"display_name":"Sudeepthi"},"score":0,"creation_date":1479909644,"post_id":40760932,"comment_id":68757062,"body_markdown":"It is happening with the latest version of Opera. I have the same problem all the tests stopped working. Browser gets opened with data,; in the URL. nothing happens further.","body":"It is happening with the latest version of Opera. I have the same problem all the tests stopped working. Browser gets opened with data,; in the URL. nothing happens further."},{"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"score":0,"creation_date":1479957008,"post_id":40760932,"comment_id":68778560,"body_markdown":"So, what did you do?","body":"So, what did you do?"}],"answers":[{"tags":[],"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621401391,"creation_date":1479967428,"answer_id":40779061,"question_id":40760932,"body_markdown":"Figured out the answer.\r\n\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\operadriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n\r\n\r\nThen installed opera 38. Problem solved. :)\r\n","title":"opera driver is not working with Selenium - Java","body":"<p>Figured out the answer.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\operadriver.exe&quot;);\ndriver = new ChromeDriver();\n</code></pre>\n<p>Then installed opera 38. Problem solved. :)</p>\n"},{"tags":[],"owner":{"account_id":26819715,"reputation":1,"user_id":20409245,"display_name":"user20409245"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667488711,"creation_date":1667488430,"answer_id":74305374,"question_id":40760932,"body_markdown":"    WebDriverManager.operadriver().setup();\r\n    \r\n    WebDriver driver = new OperaDriver();\r\n\r\n","title":"opera driver is not working with Selenium - Java","body":"<pre><code>WebDriverManager.operadriver().setup();\n\nWebDriver driver = new OperaDriver();\n</code></pre>\n"}],"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40779061,"answer_count":2,"score":1,"last_activity_date":1667488711,"creation_date":1479894561,"question_id":40760932,"body_markdown":"I&#39;m writing cross browser test script using Selenium web driver - Java. My firefox, chrome and IE browsers are opening and successfully running the script. But, in opera, only the browser is opening. Even `driver.manage().window().maximize();` also not working. Just open the browser and stay until I close it. When I close the browser manually, test suite fails.\r\n\r\nHere is my java class.\r\n\r\n    package multiBrowser;\r\n\r\n    import org.testng.annotations.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.firefox.FirefoxProfile;\r\n    import org.openqa.selenium.firefox.internal.ProfilesIni;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.openqa.selenium.opera.OperaDriver;\r\n    import org.testng.annotations.Parameters;\r\n\r\n    public class MultiBrowserClass {\r\n    \t\r\n    \tWebDriver driver;\r\n    \t\r\n    \t@Test\r\n    \t@Parameters(&quot;browser&quot;)\r\n    \tpublic void multiBrowsers(String browserName) throws InterruptedException{\r\n    \t\t\r\n    \t\tif(browserName.equalsIgnoreCase(&quot;firefox&quot;)){\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;webdriver.firefox.marionette&quot;,&quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\geckodriver.exe&quot;);\r\n    \t\t\tProfilesIni profile = new ProfilesIni();\t\r\n    \t\t\tFirefoxProfile myprofile = profile.getProfile(&quot;default&quot;);\r\n    \t\t\tdriver = new FirefoxDriver(myprofile);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tif(browserName.equalsIgnoreCase(&quot;chrome&quot;)){\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\chromedriver.exe&quot;);\r\n    \t\t\tdriver = new ChromeDriver();\r\n    \t\t}\r\n    \t\telse if(browserName.equalsIgnoreCase(&quot;IE&quot;)){\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\IEDriverServer.exe&quot;);\r\n    \t\t\tdriver = new InternetExplorerDriver();\r\n    \t\t}\r\n    \t\telse if(browserName.equalsIgnoreCase(&quot;opera&quot;)){\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;webdriver.opera.driver&quot;, &quot;D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\operadriver.exe&quot;);\r\n    \t\t\tdriver = new OperaDriver();\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\t\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\t\r\n    \t\tdriver.navigate().to(&quot;https://&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\t\r\n    \t\tdriver.findElement(By.xpath(&quot;//div[@id=&#39;navbar-main&#39;]/ul/li[5]/a&quot;)).click();\t\r\n    \t\tdriver.findElement(By.xpath(&quot;//div[@id=&#39;navbar-main&#39;]/ul/li[5]/ul/li/a&quot;)).click();\r\n    \t\tThread.sleep(3000);\r\n    \t\tdriver.findElement(By.name(&quot;email&quot;)).clear();\r\n    \t\tdriver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;abc@mm.kk&quot;);\r\n    \t\tdriver.findElement(By.name(&quot;password&quot;)).clear();\r\n    \t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;1qaz2wsx&quot;);\r\n    \t\tThread.sleep(3000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//form[@id=&#39;loginform&#39;]/div[8]/button&quot;)).click();\r\n    \t\tThread.sleep(5000);\r\n    \t\t\r\n    \t\tif(driver.getPageSource().contains(&quot;Welcome abc@mm.kk&quot;)){\r\n    \t\t\tSystem.out.println(&quot;User Successfully logged in&quot;);\r\n    \t\t\t\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;Username or password you entered is incorrect&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tdriver.quit();\r\n    \t\t\r\n    \t}\r\n\r\n    }\r\n\r\n\r\nHere is the testng.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot;&gt;\r\n\r\n      &lt;!-- firefox --&gt;  \r\n      \r\n      &lt;test name=&quot;FirefoxTestCases&quot;&gt;  \r\n    \t  &lt;parameter name=&quot;browser&quot; value=&quot;firefox&quot;/&gt;  \r\n    \t  &lt;classes&gt; \r\n    \t  \t&lt;class name=&quot;multiBrowser.MultiBrowserClass&quot;/&gt; \r\n    \t  &lt;/classes&gt; \r\n      &lt;/test&gt; \r\n      \r\n      \r\n      &lt;!-- chrome --&gt;  \r\n      \r\n      &lt;test name=&quot;ChromeTestCases&quot;&gt;  \r\n    \t  &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;  \r\n    \t  &lt;classes&gt; \r\n    \t  \t&lt;class name=&quot;multiBrowser.MultiBrowserClass&quot;/&gt; \r\n    \t  &lt;/classes&gt; \r\n      &lt;/test&gt;\r\n      \r\n      \r\n       &lt;!-- internet explorer --&gt;\r\n          \r\n      &lt;test name=&quot;IETestCases&quot;&gt;  \r\n    \t  &lt;parameter name=&quot;browser&quot; value=&quot;IE&quot;/&gt;  \r\n    \t  &lt;classes&gt; \r\n    \t \t &lt;class name=&quot;multiBrowser.MultiBrowserClass&quot;/&gt; \r\n    \t  &lt;/classes&gt; \r\n      &lt;/test&gt;\r\n      \r\n         &lt;!-- Opera --&gt;\r\n          \r\n      &lt;test name=&quot;OperaTestCases&quot;&gt;  \r\n    \t  &lt;parameter name=&quot;browser&quot; value=&quot;opera&quot;/&gt;  \r\n    \t  &lt;classes&gt; \r\n    \t \t &lt;class name=&quot;multiBrowser.MultiBrowserClass&quot;/&gt; \r\n    \t  &lt;/classes&gt; \r\n      &lt;/test&gt;\r\n      \r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\n\r\nI&#39;ve downloaded operadriver from [this][1] page (operadriver_win64.zip).\r\n\r\nHere is how Opera browser is opening.\r\n\r\n[![Opera Browser][2]][2]\r\n\r\nOpera version is 41.0.2353.56. \r\n\r\nThanks in advance. :)\r\n\r\n\r\n  [1]: https://github.com/operasoftware/operachromiumdriver/releases\r\n  [2]: https://i.stack.imgur.com/2KYcE.jpg","title":"opera driver is not working with Selenium - Java","body":"<p>I'm writing cross browser test script using Selenium web driver - Java. My firefox, chrome and IE browsers are opening and successfully running the script. But, in opera, only the browser is opening. Even <code>driver.manage().window().maximize();</code> also not working. Just open the browser and stay until I close it. When I close the browser manually, test suite fails.</p>\n\n<p>Here is my java class.</p>\n\n<pre><code>package multiBrowser;\n\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxProfile;\nimport org.openqa.selenium.firefox.internal.ProfilesIni;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.openqa.selenium.opera.OperaDriver;\nimport org.testng.annotations.Parameters;\n\npublic class MultiBrowserClass {\n\n    WebDriver driver;\n\n    @Test\n    @Parameters(\"browser\")\n    public void multiBrowsers(String browserName) throws InterruptedException{\n\n        if(browserName.equalsIgnoreCase(\"firefox\")){\n\n            System.setProperty(\"webdriver.firefox.marionette\",\"D:\\\\My Work\\\\Setup\\\\JAR\\\\geckodriver.exe\");\n            ProfilesIni profile = new ProfilesIni();    \n            FirefoxProfile myprofile = profile.getProfile(\"default\");\n            driver = new FirefoxDriver(myprofile);\n\n        }\n        if(browserName.equalsIgnoreCase(\"chrome\")){\n\n            System.setProperty(\"webdriver.chrome.driver\", \"D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\chromedriver.exe\");\n            driver = new ChromeDriver();\n        }\n        else if(browserName.equalsIgnoreCase(\"IE\")){\n\n            System.setProperty(\"webdriver.ie.driver\", \"D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\IEDriverServer.exe\");\n            driver = new InternetExplorerDriver();\n        }\n        else if(browserName.equalsIgnoreCase(\"opera\")){\n\n            System.setProperty(\"webdriver.opera.driver\", \"D:\\\\My Work\\\\Setup\\\\JAR\\\\driver\\\\operadriver.exe\");\n            driver = new OperaDriver(); \n\n        }\n\n        driver.manage().window().maximize();\n\n        driver.navigate().to(\"https://\");\n\n        System.out.println(driver.getTitle());\n\n        driver.findElement(By.xpath(\"//div[@id='navbar-main']/ul/li[5]/a\")).click();    \n        driver.findElement(By.xpath(\"//div[@id='navbar-main']/ul/li[5]/ul/li/a\")).click();\n        Thread.sleep(3000);\n        driver.findElement(By.name(\"email\")).clear();\n        driver.findElement(By.name(\"email\")).sendKeys(\"abc@mm.kk\");\n        driver.findElement(By.name(\"password\")).clear();\n        driver.findElement(By.name(\"password\")).sendKeys(\"1qaz2wsx\");\n        Thread.sleep(3000);\n        driver.findElement(By.xpath(\"//form[@id='loginform']/div[8]/button\")).click();\n        Thread.sleep(5000);\n\n        if(driver.getPageSource().contains(\"Welcome abc@mm.kk\")){\n            System.out.println(\"User Successfully logged in\");\n\n        }else{\n            System.out.println(\"Username or password you entered is incorrect\");\n        }\n\n        driver.quit();\n\n    }\n\n}\n</code></pre>\n\n<p>Here is the testng.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\"&gt;\n\n  &lt;!-- firefox --&gt;  \n\n  &lt;test name=\"FirefoxTestCases\"&gt;  \n      &lt;parameter name=\"browser\" value=\"firefox\"/&gt;  \n      &lt;classes&gt; \n        &lt;class name=\"multiBrowser.MultiBrowserClass\"/&gt; \n      &lt;/classes&gt; \n  &lt;/test&gt; \n\n\n  &lt;!-- chrome --&gt;  \n\n  &lt;test name=\"ChromeTestCases\"&gt;  \n      &lt;parameter name=\"browser\" value=\"chrome\"/&gt;  \n      &lt;classes&gt; \n        &lt;class name=\"multiBrowser.MultiBrowserClass\"/&gt; \n      &lt;/classes&gt; \n  &lt;/test&gt;\n\n\n   &lt;!-- internet explorer --&gt;\n\n  &lt;test name=\"IETestCases\"&gt;  \n      &lt;parameter name=\"browser\" value=\"IE\"/&gt;  \n      &lt;classes&gt; \n         &lt;class name=\"multiBrowser.MultiBrowserClass\"/&gt; \n      &lt;/classes&gt; \n  &lt;/test&gt;\n\n     &lt;!-- Opera --&gt;\n\n  &lt;test name=\"OperaTestCases\"&gt;  \n      &lt;parameter name=\"browser\" value=\"opera\"/&gt;  \n      &lt;classes&gt; \n         &lt;class name=\"multiBrowser.MultiBrowserClass\"/&gt; \n      &lt;/classes&gt; \n  &lt;/test&gt;\n\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n\n<p>I've downloaded operadriver from <a href=\"https://github.com/operasoftware/operachromiumdriver/releases\" rel=\"nofollow noreferrer\">this</a> page (operadriver_win64.zip).</p>\n\n<p>Here is how Opera browser is opening.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2KYcE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KYcE.jpg\" alt=\"Opera Browser\"></a></p>\n\n<p>Opera version is 41.0.2353.56. </p>\n\n<p>Thanks in advance. :)</p>\n"},{"tags":["java","android","androidsvg","android-glide"],"answers":[{"tags":[],"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667488707,"creation_date":1667488707,"answer_id":74305442,"question_id":74279714,"body_markdown":"As expected I had not set up Glide correctly. I was missing this line in my build.gradle file:\r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.14.2&#39;\r\n\r\nFurthermore my Glide command should have been using &quot;GlideApp&quot; not &quot;Glide&quot;, this is so that is uses the  extra Glide files (SvgDecoder/SvgModule/SvgDrawableTranscoder) handling the SVG file.\r\n\r\nI also had to comment out the placeholder image otherwise i was getting an error about bitmap missing the src attribute.\r\n\r\n   Glide.with(thumbnailImageView.getContext())\r\n    .as(PictureDrawable.class)\r\n    .load(glideUrl)\r\n\r\n    .listener(new RequestListener&lt;PictureDrawable&gt;() {\r\n        @Override\r\n        public boolean onLoadFailed(@Nullable GlideException e, Object model,\r\n                                    Target&lt;PictureDrawable&gt; target, boolean isFirstResource) {\r\n            DataWorkflowTasks.log(&quot;thumbnail load failed!&quot; + e.getMessage());\r\n\r\n            ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\r\n            view.setLayerType(ImageView.LAYER_TYPE_NONE, null);\r\n            \r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean onResourceReady(PictureDrawable resource, Object model,\r\n                                       Target&lt;PictureDrawable&gt; target, DataSource dataSource,\r\n                                       boolean isFirstResource) {\r\n            ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\r\n            view.setLayerType(ImageView.LAYER_TYPE_SOFTWARE, null);\r\n\r\n            //on load success\r\n            return false;\r\n        }\r\n    })\r\n    .into(thumbnailImageView);","title":"glide with androidsvg sample not loading URL","body":"<p>As expected I had not set up Glide correctly. I was missing this line in my build.gradle file:</p>\n<pre><code>annotationProcessor 'com.github.bumptech.glide:compiler:4.14.2'\n</code></pre>\n<p>Furthermore my Glide command should have been using &quot;GlideApp&quot; not &quot;Glide&quot;, this is so that is uses the  extra Glide files (SvgDecoder/SvgModule/SvgDrawableTranscoder) handling the SVG file.</p>\n<p>I also had to comment out the placeholder image otherwise i was getting an error about bitmap missing the src attribute.</p>\n<p>Glide.with(thumbnailImageView.getContext())\n.as(PictureDrawable.class)\n.load(glideUrl)</p>\n<pre><code>.listener(new RequestListener&lt;PictureDrawable&gt;() {\n    @Override\n    public boolean onLoadFailed(@Nullable GlideException e, Object model,\n                                Target&lt;PictureDrawable&gt; target, boolean isFirstResource) {\n        DataWorkflowTasks.log(&quot;thumbnail load failed!&quot; + e.getMessage());\n\n        ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\n        view.setLayerType(ImageView.LAYER_TYPE_NONE, null);\n        \n        return false;\n    }\n\n    @Override\n    public boolean onResourceReady(PictureDrawable resource, Object model,\n                                   Target&lt;PictureDrawable&gt; target, DataSource dataSource,\n                                   boolean isFirstResource) {\n        ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\n        view.setLayerType(ImageView.LAYER_TYPE_SOFTWARE, null);\n\n        //on load success\n        return false;\n    }\n})\n.into(thumbnailImageView);\n</code></pre>\n"}],"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305442,"answer_count":1,"score":0,"last_activity_date":1667488707,"creation_date":1667324019,"question_id":74279714,"body_markdown":"I am trying to add the ability to set an ImageView to an SVG using Glide and AndroidSVG (https://bigbadaboom.github.io/androidsvg/).\r\n\r\nI am using the sample from Glide: https://github.com/bumptech/glide/tree/v4.10.0/samples/svg\r\n\r\nI am using Glide 4.10.0\r\n\r\nI am getting &quot;onLoadFailed&quot;.  The error just simply says that it can not load the resource, it does not indicate why.\r\n\r\nHere is the code where I am calling Glide to load the SVG\r\n\r\n    GlideUrl glideUrl = .....\r\n\r\n\tGlide.with(thumbnailImageView.getContext())\r\n\t\t.as(PictureDrawable.class)\r\n\t\t.load(glideUrl)\r\n\r\n\t\t.placeholder(R.color.file_placeholder)\r\n\t\t.listener(new RequestListener&lt;PictureDrawable&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onLoadFailed(@Nullable GlideException e, Object model,\r\n\t\t\t\t\t\t\t\t\t\tTarget&lt;PictureDrawable&gt; target, boolean isFirstResource) {\r\n\t\t\t\tDataWorkflowTasks.log(&quot;thumbnail load failed!&quot; + e.getMessage());\r\n\r\n\t\t\t\tImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\r\n\t\t\t\tview.setLayerType(ImageView.LAYER_TYPE_NONE, null);\r\n\t\t\t\t\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onResourceReady(PictureDrawable resource, Object model,\r\n\t\t\t\t\t\t\t\t\t\t   Target&lt;PictureDrawable&gt; target, DataSource dataSource,\r\n\t\t\t\t\t\t\t\t\t\t   boolean isFirstResource) {\r\n\t\t\t\tImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\r\n\t\t\t\tview.setLayerType(ImageView.LAYER_TYPE_SOFTWARE, null);\r\n\r\n\t\t\t\t//on load success\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.into(thumbnailImageView);\r\n    \r\n\r\n\r\nIn the same package I have the following which are EXACT copies from the Glide 4.10.0 sample.\r\n\r\n - SvgDecoder\r\n - SvgDrawableTranscoder\r\n - SvgModule\r\n\r\n\r\nThe SVG I am testing with is the following file https://dev.w3.org/SVG/tools/svgweb/samples/svg-files/410.svg\r\n\r\n\r\nI am wondering if i have not set up Glide correctly so its not picking up the SvgDecoder/SvgDrawableTranscoder/SvgModule","title":"glide with androidsvg sample not loading URL","body":"<p>I am trying to add the ability to set an ImageView to an SVG using Glide and AndroidSVG (<a href=\"https://bigbadaboom.github.io/androidsvg/\" rel=\"nofollow noreferrer\">https://bigbadaboom.github.io/androidsvg/</a>).</p>\n<p>I am using the sample from Glide: <a href=\"https://github.com/bumptech/glide/tree/v4.10.0/samples/svg\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide/tree/v4.10.0/samples/svg</a></p>\n<p>I am using Glide 4.10.0</p>\n<p>I am getting &quot;onLoadFailed&quot;.  The error just simply says that it can not load the resource, it does not indicate why.</p>\n<p>Here is the code where I am calling Glide to load the SVG</p>\n<pre><code>GlideUrl glideUrl = .....\n\nGlide.with(thumbnailImageView.getContext())\n    .as(PictureDrawable.class)\n    .load(glideUrl)\n\n    .placeholder(R.color.file_placeholder)\n    .listener(new RequestListener&lt;PictureDrawable&gt;() {\n        @Override\n        public boolean onLoadFailed(@Nullable GlideException e, Object model,\n                                    Target&lt;PictureDrawable&gt; target, boolean isFirstResource) {\n            DataWorkflowTasks.log(&quot;thumbnail load failed!&quot; + e.getMessage());\n\n            ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\n            view.setLayerType(ImageView.LAYER_TYPE_NONE, null);\n            \n            return false;\n        }\n\n        @Override\n        public boolean onResourceReady(PictureDrawable resource, Object model,\n                                       Target&lt;PictureDrawable&gt; target, DataSource dataSource,\n                                       boolean isFirstResource) {\n            ImageView view = ((ImageViewTarget&lt;?&gt;) target).getView();\n            view.setLayerType(ImageView.LAYER_TYPE_SOFTWARE, null);\n\n            //on load success\n            return false;\n        }\n    })\n    .into(thumbnailImageView);\n</code></pre>\n<p>In the same package I have the following which are EXACT copies from the Glide 4.10.0 sample.</p>\n<ul>\n<li>SvgDecoder</li>\n<li>SvgDrawableTranscoder</li>\n<li>SvgModule</li>\n</ul>\n<p>The SVG I am testing with is the following file <a href=\"https://dev.w3.org/SVG/tools/svgweb/samples/svg-files/410.svg\" rel=\"nofollow noreferrer\">https://dev.w3.org/SVG/tools/svgweb/samples/svg-files/410.svg</a></p>\n<p>I am wondering if i have not set up Glide correctly so its not picking up the SvgDecoder/SvgDrawableTranscoder/SvgModule</p>\n"},{"tags":["java","cryptography","bouncycastle","pki"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667257992,"creation_date":1667257992,"answer_id":74269971,"question_id":74268732,"body_markdown":"If you look at the [documentation of `DEROutputStream`](https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/DEROutputStream.html) then you can read the following text for the constructor (I&#39;ve pointed to 1.66 but this is already in 1.64 as well and possibly before):\r\n\r\n&gt; **Deprecated.**&#160;Use [`ASN1OutputStream.create(OutputStream, String)`](https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/ASN1OutputStream.html#create-java.io.OutputStream-java.lang.String-) with [`ASN1Encoding.DER`](https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/ASN1Encoding.html#DER) instead.\r\n\r\nYes, the changes to the lightweight API of Bouncy are a bit of an annoyance, and the entire class should probably have been deprecated.\r\n","title":"Misspelling instructions when migrating from BouncyCastle bcprov-jdk15on 1.62 to v1.69","body":"<p>If you look at the <a href=\"https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/DEROutputStream.html\" rel=\"nofollow noreferrer\">documentation of <code>DEROutputStream</code></a> then you can read the following text for the constructor (I've pointed to 1.66 but this is already in 1.64 as well and possibly before):</p>\n<blockquote>\n<p><strong>Deprecated.</strong> Use <a href=\"https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/ASN1OutputStream.html#create-java.io.OutputStream-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ASN1OutputStream.create(OutputStream, String)</code></a> with <a href=\"https://javadoc.io/static/org.bouncycastle/bcprov-jdk15on/1.66/org/bouncycastle/asn1/ASN1Encoding.html#DER\" rel=\"nofollow noreferrer\"><code>ASN1Encoding.DER</code></a> instead.</p>\n</blockquote>\n<p>Yes, the changes to the lightweight API of Bouncy are a bit of an annoyance, and the entire class should probably have been deprecated.</p>\n"}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269971,"answer_count":1,"score":0,"last_activity_date":1667488702,"creation_date":1667247666,"question_id":74268732,"body_markdown":"I got a Java application which is using BouncyCastle bcprov-jdk15on version 1.62. I&#39;ll show the following source code:\r\n\r\nPom file:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.62&lt;/version&gt;    \r\n            &lt;scope&gt;provided&lt;/scope&gt;   \r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nCSR.java\r\n\t\r\n    import org.bouncycastle.asn1.DEROutputStream;\r\n        \r\n\t...\r\n\t\r\n    public String createSigningRequest(String signAlgorithm, String subject, PublicKey publicKey, PrivateKey privateKey, String provName) {\r\n        StringBuilder sb = null;\r\n        try {\r\n                                        sb      = new StringBuilder();\r\n            X509Name                    xname   = new X509Name(subject);\r\n            PKCS10CertificationRequest  csr     = new PKCS10CertificationRequest(signAlgorithm, xname, publicKey , null, privateKey, provName);\r\n            ByteArrayOutputStream       baos    = new ByteArrayOutputStream();\r\n            DEROutputStream             deros   = new DEROutputStream(baos);\r\n            deros.writeObject(csr.toASN1Primitive());\r\n            String                      sTmp    = new String(org.bouncycastle.util.encoders.Base64.encode(baos.toByteArray()));\r\n            \r\n            sb.append(HEADER_CSR_PEM);\r\n            for (int iCnt=0; iCnt &lt; sTmp.length(); iCnt+=CERT_REQ_LINE_LENGTH) {\r\n                int iLineLength;\r\n                if ((iCnt + CERT_REQ_LINE_LENGTH) &gt; sTmp.length()) {\r\n                    iLineLength=sTmp.length() - iCnt;\r\n                }\r\n                else {\r\n                    iLineLength=CERT_REQ_LINE_LENGTH;\r\n                }\r\n                sb.append(sTmp.substring(iCnt,iCnt + iLineLength)).append(&quot;\\n&quot;);\r\n            }\r\n            sb.append(FOOTER_CSR_PEM);\r\n            return sb.toString();\r\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeyException | SignatureException | IOException ex) {\r\n            errorMessage = ex.getLocalizedMessage();\r\n            LOG.error(&quot;createSigningRequest : &quot; + ex.getLocalizedMessage());\r\n        }\r\n\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nOn the other side, there are BouncyCastle bcprov-jdk15on 1.69 from Maven repository. So I upgraded the pom file with this new version. Even though, I have the following misspelling instructions:\r\n\r\n    import org.bouncycastle.asn1.DEROutputStream;  //DEROutputStream is not public in org.bouncycastle.asn1; cannot be accessed from outside package\r\n    ...\r\n    DEROutputStream             deros   = new DEROutputStream(baos);   //DEROutputStream is not public in org.bouncycastle.asn1; cannot be accessed from outside package\r\n    ...\r\n    } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeyException | SignatureException | IOException ex) {   //exception IOException is never thrown in body of corresponding try statement\r\n\r\nThese three instruccions are not recognized. My question is what are the new instructions in order to change according to bcprov-jdk15on 1.69?\r\n\r\n\r\n- Added: &quot;Error when I deploy to Wildfly 10 with jdk 1.8u341&quot;\r\n\r\nI get the following error:\r\n\r\n\r\n    Cannot upload deployment: \r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; \r\n        {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 51201 \r\n    \t    Caused by: java.lang.ArrayIndexOutOfBoundsException: 51201&quot;},\r\n    \t&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\r\n    \t&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}","title":"Misspelling instructions when migrating from BouncyCastle bcprov-jdk15on 1.62 to v1.69","body":"<p>I got a Java application which is using BouncyCastle bcprov-jdk15on version 1.62. I'll show the following source code:</p>\n<p>Pom file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.62&lt;/version&gt;    \n        &lt;scope&gt;provided&lt;/scope&gt;   \n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>CSR.java</p>\n<pre><code>import org.bouncycastle.asn1.DEROutputStream;\n    \n...\n\npublic String createSigningRequest(String signAlgorithm, String subject, PublicKey publicKey, PrivateKey privateKey, String provName) {\n    StringBuilder sb = null;\n    try {\n                                    sb      = new StringBuilder();\n        X509Name                    xname   = new X509Name(subject);\n        PKCS10CertificationRequest  csr     = new PKCS10CertificationRequest(signAlgorithm, xname, publicKey , null, privateKey, provName);\n        ByteArrayOutputStream       baos    = new ByteArrayOutputStream();\n        DEROutputStream             deros   = new DEROutputStream(baos);\n        deros.writeObject(csr.toASN1Primitive());\n        String                      sTmp    = new String(org.bouncycastle.util.encoders.Base64.encode(baos.toByteArray()));\n        \n        sb.append(HEADER_CSR_PEM);\n        for (int iCnt=0; iCnt &lt; sTmp.length(); iCnt+=CERT_REQ_LINE_LENGTH) {\n            int iLineLength;\n            if ((iCnt + CERT_REQ_LINE_LENGTH) &gt; sTmp.length()) {\n                iLineLength=sTmp.length() - iCnt;\n            }\n            else {\n                iLineLength=CERT_REQ_LINE_LENGTH;\n            }\n            sb.append(sTmp.substring(iCnt,iCnt + iLineLength)).append(&quot;\\n&quot;);\n        }\n        sb.append(FOOTER_CSR_PEM);\n        return sb.toString();\n    } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeyException | SignatureException | IOException ex) {\n        errorMessage = ex.getLocalizedMessage();\n        LOG.error(&quot;createSigningRequest : &quot; + ex.getLocalizedMessage());\n    }\n\n    return &quot;&quot;;\n}\n</code></pre>\n<p>On the other side, there are BouncyCastle bcprov-jdk15on 1.69 from Maven repository. So I upgraded the pom file with this new version. Even though, I have the following misspelling instructions:</p>\n<pre><code>import org.bouncycastle.asn1.DEROutputStream;  //DEROutputStream is not public in org.bouncycastle.asn1; cannot be accessed from outside package\n...\nDEROutputStream             deros   = new DEROutputStream(baos);   //DEROutputStream is not public in org.bouncycastle.asn1; cannot be accessed from outside package\n...\n} catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeyException | SignatureException | IOException ex) {   //exception IOException is never thrown in body of corresponding try statement\n</code></pre>\n<p>These three instruccions are not recognized. My question is what are the new instructions in order to change according to bcprov-jdk15on 1.69?</p>\n<ul>\n<li>Added: &quot;Error when I deploy to Wildfly 10 with jdk 1.8u341&quot;</li>\n</ul>\n<p>I get the following error:</p>\n<pre><code>Cannot upload deployment: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; \n    {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 51201 \n        Caused by: java.lang.ArrayIndexOutOfBoundsException: 51201&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485194785,"post_id":41812536,"comment_id":70813585,"body_markdown":"Changing annotations is not necessary. Can you show you properties file and your pom. Maybe you missed something","body":"Changing annotations is not necessary. Can you show you properties file and your pom. Maybe you missed something"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1485194979,"post_id":41812536,"comment_id":70813694,"body_markdown":"So basically you haven&#39;t changed a things... `@SpringBootApplication` is `@ComponentScan` with `@EnableAutoConfiguration` and `@Configuration`. So they are the same. If you don&#39;t want to connect to a database remove all JDBC drivers and datasource dependencies from your pom.","body":"So basically you haven&#39;t changed a things... <code>@SpringBootApplication</code> is <code>@ComponentScan</code> with <code>@EnableAutoConfiguration</code> and <code>@Configuration</code>. So they are the same. If you don&#39;t want to connect to a database remove all JDBC drivers and datasource dependencies from your pom."}],"answers":[{"tags":[],"owner":{"account_id":3302076,"reputation":980,"user_id":2777991,"accept_rate":27,"display_name":"DuSant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485241491,"creation_date":1485209520,"answer_id":41816622,"question_id":41812536,"body_markdown":"It was a problem of my configuration. I had included a connection in a library. After recompiling the library it worked!\r\n","title":"Spring boot with DB Connection to a Non database project","body":"<p>It was a problem of my configuration. I had included a connection in a library. After recompiling the library it worked!</p>\n"},{"tags":[],"owner":{"account_id":26598637,"reputation":11,"user_id":20220578,"display_name":"Daniel Vichinyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667488206,"creation_date":1667488206,"answer_id":74305320,"question_id":41812536,"body_markdown":"I bumped into the same problem. For me it was the Data JPA library which required data connection details, but I don&#39;t need any DB in my project. \r\n\r\nAdd this to your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;Group Id Here&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Artifact Id Here&lt;/artifactId&gt;\r\n        &lt;version&gt;Version Here&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis will exclude the data jpa. This way you can exclude any other problematic library in your dependency.\r\n\r\nIn your case you need to exclude the oracle dependency and it will work!","title":"Spring boot with DB Connection to a Non database project","body":"<p>I bumped into the same problem. For me it was the Data JPA library which required data connection details, but I don't need any DB in my project.</p>\n<p>Add this to your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;Group Id Here&lt;/groupId&gt;\n    &lt;artifactId&gt;Artifact Id Here&lt;/artifactId&gt;\n    &lt;version&gt;Version Here&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This will exclude the data jpa. This way you can exclude any other problematic library in your dependency.</p>\n<p>In your case you need to exclude the oracle dependency and it will work!</p>\n"}],"owner":{"account_id":3302076,"reputation":980,"user_id":2777991,"accept_rate":27,"display_name":"DuSant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667488206,"creation_date":1485193808,"question_id":41812536,"body_markdown":"I have a project with Spring boot 1.4.1 which connects to an Oracle database, i want to generate another project with no connection to database, I removed the pom dependencies and changed the Starter code \r\n\r\n**TO:**\r\n\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class App {\r\n\t/**\r\n\t * Init method\r\n\t * @param args\r\n\t */\r\n    public static void main( String[] args ){\r\n    \tSpringApplication.run(App.class, args);\r\n       }\r\n    }\r\n\r\n**FROM**:\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n\t/**\r\n\t * Init method\r\n\t * @param args\r\n\t */\r\n    public static void main( String[] args ){\r\n    \tSpringApplication.run(App.class, args);\r\n       }\r\n    }\r\n\r\nthe project still keep trying to configure database.\r\n\r\nHow can i leave the project just as a simple RestController Project with no database.\r\n\r\nThanks.","title":"Spring boot with DB Connection to a Non database project","body":"<p>I have a project with Spring boot 1.4.1 which connects to an Oracle database, i want to generate another project with no connection to database, I removed the pom dependencies and changed the Starter code </p>\n\n<p><strong>TO:</strong></p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class App {\n/**\n * Init method\n * @param args\n */\npublic static void main( String[] args ){\n    SpringApplication.run(App.class, args);\n   }\n}\n</code></pre>\n\n<p><strong>FROM</strong>:</p>\n\n<pre><code>@SpringBootApplication\npublic class App {\n/**\n * Init method\n * @param args\n */\npublic static void main( String[] args ){\n    SpringApplication.run(App.class, args);\n   }\n}\n</code></pre>\n\n<p>the project still keep trying to configure database.</p>\n\n<p>How can i leave the project just as a simple RestController Project with no database.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","spring-mvc","jsonpath"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1666096411,"post_id":74109311,"comment_id":130850085,"body_markdown":"Does this answer your question? [How to negate an ArgumentMatcher in Mockito?](https://stackoverflow.com/questions/40215935/how-to-negate-an-argumentmatcher-in-mockito)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40215935/how-to-negate-an-argumentmatcher-in-mockito\">How to negate an ArgumentMatcher in Mockito?</a>"},{"owner":{"account_id":13205983,"reputation":1485,"user_id":9537712,"display_name":"np_"},"score":0,"creation_date":1666100235,"post_id":74109311,"comment_id":130851588,"body_markdown":"@AkshayG Using `Mockito.argThat` results in a compilation error","body":"@AkshayG Using <code>Mockito.argThat</code> results in a compilation error"}],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667487654,"creation_date":1667487654,"answer_id":74305189,"question_id":74109311,"body_markdown":"You&#39;re close.\r\n\r\n```\r\nimport static org.hamcrest.Matchers.not;\r\n... \r\n.andExpect(jsonPath(&quot;$.errorMessage&quot;).value(not(description)));\r\n```","title":"How do I test for inequality with Spring&#39;s MockMvc and jsonpath?","body":"<p>You're close.</p>\n<pre><code>import static org.hamcrest.Matchers.not;\n... \n.andExpect(jsonPath(&quot;$.errorMessage&quot;).value(not(description)));\n</code></pre>\n"}],"owner":{"account_id":13205983,"reputation":1485,"user_id":9537712,"display_name":"np_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305189,"answer_count":1,"score":0,"last_activity_date":1667487654,"creation_date":1666088184,"question_id":74109311,"body_markdown":"I am trying to test that a field in the response is **not** equal to some value, like such:\r\n    \r\n    @Test\r\n    void whenAnAuth0ExceptionIsThrown_itShouldNotLeakInformation() throws Exception {\r\n        String description = &quot;Resource not found.&quot;;\r\n        Auth0Exception auth0Exception = new Auth0Exception(description);\r\n\r\n        when(usersService.getRoles()).thenThrow(new UnrecoverableAuthException(&quot;api exception&quot;, auth0Exception));\r\n\r\n        mockMvc.perform(get(&quot;/v1/users/roles&quot;).with(csrf()))\r\n            .andExpect(status().isInternalServerError())\r\n            .andExpect(jsonPath(&quot;$.errorMessage&quot;).value(AdditionalMatchers.not(description)));\r\n\r\n\r\n        verify(usersService).getRoles();\r\n    }\r\n\r\nBut when I try this, I get the following error: \r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    No matchers found for additional matcher Not(?)\r\n\r\nA workaround that I&#39;ve found is to use `andReturn()` and then test the `MvcResult`.","title":"How do I test for inequality with Spring&#39;s MockMvc and jsonpath?","body":"<p>I am trying to test that a field in the response is <strong>not</strong> equal to some value, like such:</p>\n<pre><code>@Test\nvoid whenAnAuth0ExceptionIsThrown_itShouldNotLeakInformation() throws Exception {\n    String description = &quot;Resource not found.&quot;;\n    Auth0Exception auth0Exception = new Auth0Exception(description);\n\n    when(usersService.getRoles()).thenThrow(new UnrecoverableAuthException(&quot;api exception&quot;, auth0Exception));\n\n    mockMvc.perform(get(&quot;/v1/users/roles&quot;).with(csrf()))\n        .andExpect(status().isInternalServerError())\n        .andExpect(jsonPath(&quot;$.errorMessage&quot;).value(AdditionalMatchers.not(description)));\n\n\n    verify(usersService).getRoles();\n}\n</code></pre>\n<p>But when I try this, I get the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nNo matchers found for additional matcher Not(?)\n</code></pre>\n<p>A workaround that I've found is to use <code>andReturn()</code> and then test the <code>MvcResult</code>.</p>\n"},{"tags":["java","selenium","oop","inheritance"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667487310,"creation_date":1667487310,"answer_id":74305108,"question_id":74302971,"body_markdown":"In most of the projects people inherit BasePage class in all page objects as it is easier in terms of coding to just inherit all base page operations. In terms of OOP principles its not really a (is-a) relationship. It will be more cleaner if you have PageAction class or something similar (as you call it helper class) and use composition (has-a) instead of inheritance (is a). ","title":"Should I use a base page class or make a helper class?","body":"<p>In most of the projects people inherit BasePage class in all page objects as it is easier in terms of coding to just inherit all base page operations. In terms of OOP principles its not really a (is-a) relationship. It will be more cleaner if you have PageAction class or something similar (as you call it helper class) and use composition (has-a) instead of inheritance (is a).</p>\n"}],"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305108,"answer_count":1,"score":0,"last_activity_date":1667487310,"creation_date":1667477939,"question_id":74302971,"body_markdown":"I am using the page object model to create selenium test cases. Currently all of my pages extend from a base class, which has all the functions like clicking an element or entering text. I don&#39;t have anything else here - should this be a superclass or should these functions just be moved to a helper class?","title":"Should I use a base page class or make a helper class?","body":"<p>I am using the page object model to create selenium test cases. Currently all of my pages extend from a base class, which has all the functions like clicking an element or entering text. I don't have anything else here - should this be a superclass or should these functions just be moved to a helper class?</p>\n"},{"tags":["java","mysql","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1667472126,"post_id":74299686,"comment_id":131176754,"body_markdown":"this is basically unrelated to javafx: fix the login issue in a stand-alone non-ui application with hard-coded values, f.i., only after that&#39;s working go on to add ui for dynamic input.","body":"this is basically unrelated to javafx: fix the login issue in a stand-alone non-ui application with hard-coded values, f.i., only after that&#39;s working go on to add ui for dynamic input."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667486890,"creation_date":1667486890,"answer_id":74305009,"question_id":74299686,"body_markdown":"In JDBC, a `ResultSet` is always initially in a state where the cursor points *before* the first row. That will always be the case until you call `next()`. (If there is no result, then it will still be the case.) So your first `if` condition\r\n\r\n    if (resultSet.isBeforeFirst())\r\n\r\nwill always be true.\r\n\r\nIf `email` is unique in the database (i.e. you can be assured of at most one result in the result set) the logic is:\r\n\r\n - Call `resultSet.next()`\r\n - If that returns true, there&#39;s a row in the database, so check the password and show the appropriate alert depending on whether or not it matches\r\n - If it returns false, there is no row in the database with that email\r\n\r\n&lt;!-- --&gt;\r\n\r\n    if (resultSet.next()) {\r\n        String retrievedPassword = resultSet.getString(&quot;password&quot;);\r\n        if (retrievedPassword.equals(password)) {\r\n            sceneChange(event, &quot;StudentPage.fxml&quot;, email);\r\n        } else {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setContentText(&quot;Provided password is incorrect&quot;);\r\n            alert.show();\r\n        }\r\n    } else {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setContentText(&quot;Provided email is not in the system&quot;);\r\n        alert.show();        \r\n    }\r\n\r\nIf the database contains multiple copies of the same email (presumably with different passwords), then the logic is a little more complex, as you have to check all possible results:\r\n\r\n    boolean loginCorrect = false;\r\n    boolean foundEmail = false;\r\n    \r\n    while (resultSet.next() &amp;&amp; (!loginCorrect)) {\r\n        foundEmail = true;\r\n        String retrievedPassword = resultSet.getString(&quot;password&quot;);\r\n        loginCorrect = retrievedPassword.equals(password);\r\n    }\r\n    \r\n    if (loginCorrect) {\r\n        sceneChange(event, &quot;StudentPage.fxml&quot;, email);\r\n    } else if (foundEmail) {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setContentText(&quot;Provided password is incorrect&quot;);\r\n        alert.show();\r\n    } else {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setContentText(&quot;Provided email is not in the system&quot;);\r\n        alert.show();        \r\n    }\r\n\r\nThe usual slightly off-topic caveats here:\r\n\r\n - You need to close all the database resources. I didn&#39;t include that in the code.\r\n - This is not production quality but just for demonstration purposes. In the real world you should not store passwords in plain text but should store them digested and test the digested password against the database store.","title":"JavaFX + MySQL SIGN IN method not working","body":"<p>In JDBC, a <code>ResultSet</code> is always initially in a state where the cursor points <em>before</em> the first row. That will always be the case until you call <code>next()</code>. (If there is no result, then it will still be the case.) So your first <code>if</code> condition</p>\n<pre><code>if (resultSet.isBeforeFirst())\n</code></pre>\n<p>will always be true.</p>\n<p>If <code>email</code> is unique in the database (i.e. you can be assured of at most one result in the result set) the logic is:</p>\n<ul>\n<li>Call <code>resultSet.next()</code></li>\n<li>If that returns true, there's a row in the database, so check the password and show the appropriate alert depending on whether or not it matches</li>\n<li>If it returns false, there is no row in the database with that email</li>\n</ul>\n\n<pre><code>if (resultSet.next()) {\n    String retrievedPassword = resultSet.getString(&quot;password&quot;);\n    if (retrievedPassword.equals(password)) {\n        sceneChange(event, &quot;StudentPage.fxml&quot;, email);\n    } else {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setContentText(&quot;Provided password is incorrect&quot;);\n        alert.show();\n    }\n} else {\n    Alert alert = new Alert(Alert.AlertType.ERROR);\n    alert.setContentText(&quot;Provided email is not in the system&quot;);\n    alert.show();        \n}\n</code></pre>\n<p>If the database contains multiple copies of the same email (presumably with different passwords), then the logic is a little more complex, as you have to check all possible results:</p>\n<pre><code>boolean loginCorrect = false;\nboolean foundEmail = false;\n\nwhile (resultSet.next() &amp;&amp; (!loginCorrect)) {\n    foundEmail = true;\n    String retrievedPassword = resultSet.getString(&quot;password&quot;);\n    loginCorrect = retrievedPassword.equals(password);\n}\n\nif (loginCorrect) {\n    sceneChange(event, &quot;StudentPage.fxml&quot;, email);\n} else if (foundEmail) {\n    Alert alert = new Alert(Alert.AlertType.ERROR);\n    alert.setContentText(&quot;Provided password is incorrect&quot;);\n    alert.show();\n} else {\n    Alert alert = new Alert(Alert.AlertType.ERROR);\n    alert.setContentText(&quot;Provided email is not in the system&quot;);\n    alert.show();        \n}\n</code></pre>\n<p>The usual slightly off-topic caveats here:</p>\n<ul>\n<li>You need to close all the database resources. I didn't include that in the code.</li>\n<li>This is not production quality but just for demonstration purposes. In the real world you should not store passwords in plain text but should store them digested and test the digested password against the database store.</li>\n</ul>\n"}],"owner":{"account_id":24246154,"reputation":1,"user_id":18197850,"display_name":"oi_amigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667486890,"creation_date":1667462257,"question_id":74299686,"body_markdown":"Every time I run this code I get a &quot;Wrong Credentials&quot; alert, as if the program is not even checking the SQL database.\r\n\r\n```\r\npublic static void studentSignIn(ActionEvent event, String email, String password) throws SQLException {\r\n    Connection connection = null;\r\n    PreparedStatement preparedStatement = null;\r\n    ResultSet resultSet = null;\r\n\r\n    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/compsciia&quot;, &quot;root&quot;, &quot;toor&quot;);\r\n    preparedStatement = connection.prepareStatement(&quot;SELECT password FROM students WHERE email = ?&quot;);\r\n    preparedStatement.setString(1, email);\r\n    resultSet = preparedStatement.executeQuery();\r\n\r\n    if (resultSet.isBeforeFirst()) {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setContentText(&quot;Wrong credentials&quot;);\r\n        alert.show();\r\n    } else {\r\n        if (resultSet.next()) {\r\n            do {\r\n                String retrievedPassword = resultSet.getString(&quot;password&quot;);\r\n\r\n                if (retrievedPassword.equals(password)) {\r\n                    sceneChange(event, &quot;StudentPage.fxml&quot;, email);\r\n                }\r\n            } while (resultSet.next());\r\n        } else {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setContentText(&quot;Provided credentials are incorrect&quot;);\r\n            alert.show();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI&#39;ve tried changing the SQL code, played around with the if statements, looked online, but nothing.","title":"JavaFX + MySQL SIGN IN method not working","body":"<p>Every time I run this code I get a &quot;Wrong Credentials&quot; alert, as if the program is not even checking the SQL database.</p>\n<pre><code>public static void studentSignIn(ActionEvent event, String email, String password) throws SQLException {\n    Connection connection = null;\n    PreparedStatement preparedStatement = null;\n    ResultSet resultSet = null;\n\n    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/compsciia&quot;, &quot;root&quot;, &quot;toor&quot;);\n    preparedStatement = connection.prepareStatement(&quot;SELECT password FROM students WHERE email = ?&quot;);\n    preparedStatement.setString(1, email);\n    resultSet = preparedStatement.executeQuery();\n\n    if (resultSet.isBeforeFirst()) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setContentText(&quot;Wrong credentials&quot;);\n        alert.show();\n    } else {\n        if (resultSet.next()) {\n            do {\n                String retrievedPassword = resultSet.getString(&quot;password&quot;);\n\n                if (retrievedPassword.equals(password)) {\n                    sceneChange(event, &quot;StudentPage.fxml&quot;, email);\n                }\n            } while (resultSet.next());\n        } else {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setContentText(&quot;Provided credentials are incorrect&quot;);\n            alert.show();\n        }\n    }\n</code></pre>\n<p>I've tried changing the SQL code, played around with the if statements, looked online, but nothing.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":13495527,"reputation":549,"user_id":9736497,"display_name":"Alexandros Kourtis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1597310796,"creation_date":1597310796,"answer_id":63392068,"question_id":63391981,"body_markdown":"Please add this in your pom.xml file\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20190722&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"cannot resolve symbol jsonobject in intellij","body":"<p>Please add this in your pom.xml file</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4559114,"reputation":155,"user_id":3701927,"display_name":"Sriram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597415906,"creation_date":1597415906,"answer_id":63414892,"question_id":63391981,"body_markdown":"Are you developing Java project through maven. If so approach shared by Alexandros Kourtis should work. If you are not using Maven, download the org.json library and reference it in the project.","title":"cannot resolve symbol jsonobject in intellij","body":"<p>Are you developing Java project through maven. If so approach shared by Alexandros Kourtis should work. If you are not using Maven, download the org.json library and reference it in the project.</p>\n"},{"tags":[],"owner":{"account_id":11066227,"reputation":1,"user_id":8495168,"display_name":"Darwo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667486501,"creation_date":1667486241,"answer_id":74304860,"question_id":63391981,"body_markdown":"For Gradle developers add this to to your build.gradle dependencies:\r\n\r\n```\r\n// https://mvnrepository.com/artifact/org.json/json\r\nimplementation &#39;org.json:json:20220924&#39;\r\n```","title":"cannot resolve symbol jsonobject in intellij","body":"<p>For Gradle developers add this to to your build.gradle dependencies:</p>\n<pre><code>// https://mvnrepository.com/artifact/org.json/json\nimplementation 'org.json:json:20220924'\n</code></pre>\n"}],"owner":{"account_id":14540731,"reputation":43,"user_id":10502544,"display_name":"Athe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63392068,"answer_count":3,"score":2,"last_activity_date":1667486501,"creation_date":1597310488,"question_id":63391981,"body_markdown":"[Cannot resolve image: ][1]\r\n \r\nI am getting the error cannot resolve symbol jsonobject in intellij, shown in the attached image:Cannot resolve image, when I press Alt + Enter it does not give me the option to import class.\r\n\r\n\r\n\r\n    import org.json.JSONObject;\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JkNxI.png","title":"cannot resolve symbol jsonobject in intellij","body":"<p><a href=\"https://i.stack.imgur.com/JkNxI.png\" rel=\"nofollow noreferrer\">Cannot resolve image: </a></p>\n<p>I am getting the error cannot resolve symbol jsonobject in intellij, shown in the attached image:Cannot resolve image, when I press Alt + Enter it does not give me the option to import class.</p>\n<pre><code>import org.json.JSONObject;\n</code></pre>\n"},{"tags":["java","spring-boot","generics"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667485989,"creation_date":1667485989,"answer_id":74304803,"question_id":74123759,"body_markdown":"Using `&lt;T extends QueueMessage&gt;` only guarantees you that you&#39;ll read a `QueueMessage` not any subtype. \r\nMore info and explanation here https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\r\n\r\nTherefor the \r\n```\r\nboolean onMessage(T queueMessage);\r\n```\r\nshould be\r\n```\r\nboolean onMessage(QueueMessage queueMessage);\r\n```\r\nand\r\n```    \r\n@Autowired\r\nprivate QueueMessageReceiver&lt;?&gt;[] queueMessageReceivers;\r\n```\r\nshould be\r\n```\r\n@Autowired\r\nprivate QueueMessageReceiver&lt;? extends QueueMessage&gt;[] queueMessageReceivers;\r\n```\r\n\r\nand in receivers, cast the object to what you need\r\n```\r\n@Override\r\n    public boolean onMessage(DBoxCreateMessageDTO queueMessage) {\r\n        String uuid = databaseService.createMessage(queueMessage);\r\n```\r\nto\r\n```\r\n@Override\r\n    public boolean onMessage(QueueMessage queueMessage) {\r\n        DBoxCreateMessageDTO d = (DBoxCreateMessageDTO) queueMessage;\r\n        String uuid = databaseService.createMessage(d);\r\n```\r\n","title":"Something with generics spring boot and multiple implementations of a service interface","body":"<p>Using <code>&lt;T extends QueueMessage&gt;</code> only guarantees you that you'll read a <code>QueueMessage</code> not any subtype.\nMore info and explanation here <a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a></p>\n<p>Therefor the</p>\n<pre><code>boolean onMessage(T queueMessage);\n</code></pre>\n<p>should be</p>\n<pre><code>boolean onMessage(QueueMessage queueMessage);\n</code></pre>\n<p>and</p>\n<pre><code>@Autowired\nprivate QueueMessageReceiver&lt;?&gt;[] queueMessageReceivers;\n</code></pre>\n<p>should be</p>\n<pre><code>@Autowired\nprivate QueueMessageReceiver&lt;? extends QueueMessage&gt;[] queueMessageReceivers;\n</code></pre>\n<p>and in receivers, cast the object to what you need</p>\n<pre><code>@Override\n    public boolean onMessage(DBoxCreateMessageDTO queueMessage) {\n        String uuid = databaseService.createMessage(queueMessage);\n</code></pre>\n<p>to</p>\n<pre><code>@Override\n    public boolean onMessage(QueueMessage queueMessage) {\n        DBoxCreateMessageDTO d = (DBoxCreateMessageDTO) queueMessage;\n        String uuid = databaseService.createMessage(d);\n</code></pre>\n"}],"owner":{"account_id":1745534,"reputation":147,"user_id":1595867,"accept_rate":50,"display_name":"beagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667485989,"creation_date":1666175050,"question_id":74123759,"body_markdown":"this is actually working, but sonar complains about not using generics .. \r\nI tried my best to handle this but....\r\n\r\nThe Problem itself:\r\n\r\nfirst of all I have an interface of a service:\r\n```\r\npublic interface QueueMessageReceiver&lt;T extends QueueMessage&gt; {\r\n\r\n\tboolean onMessage(T queueMessage);\r\n\r\n\tClass&lt;T&gt; getQueueMessageType();\r\n\r\n}\r\n```\r\n\r\ncompiles nice an smooth with generics \r\n\r\nsecond I have several Services that implements that interface\r\nI added one example, there are more (3 more)\r\n \r\n```\r\n@Component\r\npublic class DBoxCreateMessageReceiver implements QueueMessageReceiver&lt;DBoxCreateMessageDTO&gt; {\r\n\r\n\t@Autowired\r\n\tprivate DatabaseService databaseService;\r\n\r\n\t@Override\r\n\tpublic boolean onMessage(DBoxCreateMessageDTO queueMessage) {\r\n\t\tString uuid = databaseService.createMessage(queueMessage);\r\n\t\tif (uuid == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;DBoxCreateMessageDTO&gt; getQueueMessageType() {\r\n\t\treturn DBoxCreateMessageDTO.class;\r\n\t}\r\n\r\n}\r\n```\r\nDBoxCreateMessageDTO extends of course QueueMessage\r\n\r\n\r\nnext I have a component which holds all Service implementations \r\nand decides on incoming message type which implementation has to deal with the current message\r\n\r\nqueueMessageReceivers gets all Implementing Components via Spring autowireing\r\n\r\nbut i have a compile error on the line:\r\n`queueMessageReceiver.onMessage(queueMessage)`\r\nwhich says:\r\nThe method onMessage(capture#3-of ?) in the type QueueMessageReceiver&lt;capture#3-of ?&gt; is not applicable for the arguments (QueueMessage)\r\n\r\n\r\n```\r\n\t@Autowired\r\n\tprivate QueueMessageReceiver&lt;?&gt;[] queueMessageReceivers;\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic boolean onMessage(QueueMessage queueMessage) {\r\n\t\tfor (QueueMessageReceiver&lt;?&gt; queueMessageReceiver : queueMessageReceivers) {\r\n\t\t\tif (queueMessageReceiver.getQueueMessageType().equals(queueMessage.getClass())) {\r\n\t\t\t\treturn queueMessageReceiver.onMessage(queueMessage);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\n\r\nwhat is the right way, to call the explicit implementation in this generic implementation?\r\n\r\nIf I remove all generics from the Classes it works pretty well, but sonar complains about code smells...\r\nSo if someone knows how to deal with that WITH generics , would be help full.\r\n\r\nThanks a lot \r\n ","title":"Something with generics spring boot and multiple implementations of a service interface","body":"<p>this is actually working, but sonar complains about not using generics ..\nI tried my best to handle this but....</p>\n<p>The Problem itself:</p>\n<p>first of all I have an interface of a service:</p>\n<pre><code>public interface QueueMessageReceiver&lt;T extends QueueMessage&gt; {\n\n    boolean onMessage(T queueMessage);\n\n    Class&lt;T&gt; getQueueMessageType();\n\n}\n</code></pre>\n<p>compiles nice an smooth with generics</p>\n<p>second I have several Services that implements that interface\nI added one example, there are more (3 more)</p>\n<pre><code>@Component\npublic class DBoxCreateMessageReceiver implements QueueMessageReceiver&lt;DBoxCreateMessageDTO&gt; {\n\n    @Autowired\n    private DatabaseService databaseService;\n\n    @Override\n    public boolean onMessage(DBoxCreateMessageDTO queueMessage) {\n        String uuid = databaseService.createMessage(queueMessage);\n        if (uuid == null) {\n            return false;\n        }\n        return true;\n\n    }\n\n    @Override\n    public Class&lt;DBoxCreateMessageDTO&gt; getQueueMessageType() {\n        return DBoxCreateMessageDTO.class;\n    }\n\n}\n</code></pre>\n<p>DBoxCreateMessageDTO extends of course QueueMessage</p>\n<p>next I have a component which holds all Service implementations\nand decides on incoming message type which implementation has to deal with the current message</p>\n<p>queueMessageReceivers gets all Implementing Components via Spring autowireing</p>\n<p>but i have a compile error on the line:\n<code>queueMessageReceiver.onMessage(queueMessage)</code>\nwhich says:\nThe method onMessage(capture#3-of ?) in the type QueueMessageReceiver&lt;capture#3-of ?&gt; is not applicable for the arguments (QueueMessage)</p>\n<pre><code>    @Autowired\n    private QueueMessageReceiver&lt;?&gt;[] queueMessageReceivers;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public boolean onMessage(QueueMessage queueMessage) {\n        for (QueueMessageReceiver&lt;?&gt; queueMessageReceiver : queueMessageReceivers) {\n            if (queueMessageReceiver.getQueueMessageType().equals(queueMessage.getClass())) {\n                return queueMessageReceiver.onMessage(queueMessage);\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>what is the right way, to call the explicit implementation in this generic implementation?</p>\n<p>If I remove all generics from the Classes it works pretty well, but sonar complains about code smells...\nSo if someone knows how to deal with that WITH generics , would be help full.</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1667421465,"post_id":74295289,"comment_id":131166204,"body_markdown":"If your class is a service, should you include the &quot;@Service&quot; annotation, above where you declare the class?","body":"If your class is a service, should you include the &quot;@Service&quot; annotation, above where you declare the class?"},{"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"score":0,"creation_date":1667421741,"post_id":74295289,"comment_id":131166283,"body_markdown":"@acarlstein I tried both &quot;@Service&quot; and &quot;@Confinguration&quot;. It does not seem to help.","body":"@acarlstein I tried both &quot;@Service&quot; and &quot;@Confinguration&quot;. It does not seem to help."},{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1667481880,"post_id":74295289,"comment_id":131180228,"body_markdown":"mmmhhh, weird. How about `@Component`?","body":"mmmhhh, weird. How about <code>@Component</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26646938,"reputation":29,"user_id":20261750,"display_name":"peetahGriffin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667455408,"creation_date":1667454528,"answer_id":74298584,"question_id":74295289,"body_markdown":"Have you added &#39;Spring cloud config client&#39; dependency ?\r\nAnd also add some properties in client service to make connection with config server , \r\n \r\n\r\n    spring.cloud.config.uri=http://localhost:8888(Port of your \r\n                                                    server)\r\n    spring.cloud.config.name=user-service-ws(properties file \r\n                                             name in your remote)\r\n\r\n","title":"Springboot ServerConfig Client","body":"<p>Have you added 'Spring cloud config client' dependency ?\nAnd also add some properties in client service to make connection with config server ,</p>\n<pre><code>spring.cloud.config.uri=http://localhost:8888(Port of your \n                                                server)\nspring.cloud.config.name=user-service-ws(properties file \n                                         name in your remote)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667485857,"creation_date":1667485857,"answer_id":74304769,"question_id":74295289,"body_markdown":"I have found the solution.\r\n\r\nSince spring boot 2.4 everything has changed. We must specify to bootstrap the cloud config. This is done using the dependency such as:\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n\r\n    spring:\r\n      main:\r\n        banner-mode: off\r\n        allow-bean-definition-overriding: true\r\n      application:\r\n        name: myApp\r\n      config:\r\n        import: optional:configserver:http://localhost:8890/\r\n      cloud:\r\n        config:\r\n          name: some name\r\n\r\n\r\nVery important to do this: optional:configserver:\r\n\r\nThanks everyone and hope it is useful to everyone.","title":"Springboot ServerConfig Client","body":"<p>I have found the solution.</p>\n<p>Since spring boot 2.4 everything has changed. We must specify to bootstrap the cloud config. This is done using the dependency such as:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n &lt;/dependency&gt;\n\n\nspring:\n  main:\n    banner-mode: off\n    allow-bean-definition-overriding: true\n  application:\n    name: myApp\n  config:\n    import: optional:configserver:http://localhost:8890/\n  cloud:\n    config:\n      name: some name\n</code></pre>\n<p>Very important to do this: optional:configserver:</p>\n<p>Thanks everyone and hope it is useful to everyone.</p>\n"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667485857,"creation_date":1667420827,"question_id":74295289,"body_markdown":"I have the following in my app properties\r\n\r\n    spring:\r\n      main:\r\n        banner-mode: off\r\n        allow-bean-definition-overriding: true\r\n      config:\r\n        uri: http://localhost:8890\r\n\r\nI have this class:\r\n\r\n    @RefreshScope\r\n    @Configuration\r\n    @Getter\r\n    public class Service {\r\n    \r\n      @Value(&quot;${Some Value}&quot;)\r\n      Boolean val;\r\n    }\r\n\r\nThe problem, is that my app does not grab the configuration from the localhost running configuration server. I can tell you that my local config server is working fine and that the config is visible in a browser","title":"Springboot ServerConfig Client","body":"<p>I have the following in my app properties</p>\n<pre><code>spring:\n  main:\n    banner-mode: off\n    allow-bean-definition-overriding: true\n  config:\n    uri: http://localhost:8890\n</code></pre>\n<p>I have this class:</p>\n<pre><code>@RefreshScope\n@Configuration\n@Getter\npublic class Service {\n\n  @Value(&quot;${Some Value}&quot;)\n  Boolean val;\n}\n</code></pre>\n<p>The problem, is that my app does not grab the configuration from the localhost running configuration server. I can tell you that my local config server is working fine and that the config is visible in a browser</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1667423398,"post_id":74295640,"comment_id":131166802,"body_markdown":"How about just `System.out.println(&quot;barMethod = &quot; + FooClass.barMethod());`?","body":"How about just <code>System.out.println(&quot;barMethod = &quot; + FooClass.barMethod());</code>?"},{"owner":{"account_id":6390967,"reputation":454,"user_id":4957149,"display_name":"Rothin Sen"},"score":0,"creation_date":1667423446,"post_id":74295640,"comment_id":131166815,"body_markdown":"I have 50 such methods, doing this manually is painful","body":"I have 50 such methods, doing this manually is painful"},{"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"score":0,"creation_date":1667423673,"post_id":74295640,"comment_id":131166881,"body_markdown":"Are all 50 methods part of `FooClass`?","body":"Are all 50 methods part of <code>FooClass</code>?"},{"owner":{"account_id":6390967,"reputation":454,"user_id":4957149,"display_name":"Rothin Sen"},"score":0,"creation_date":1667423938,"post_id":74295640,"comment_id":131166971,"body_markdown":"@Thomas Yes, they&#39;re part of FooClass","body":"@Thomas Yes, they&#39;re part of FooClass"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667428220,"post_id":74295640,"comment_id":131167991,"body_markdown":"are you sure the answer to the linked question does not work? basic idea: `for (var method : FooClass.class.getDeclaredMethods()) System.out.printf(&quot;%s = %s%n&quot;, method.getName(), method.invoke(null))`  ((assuming only `static` methods))","body":"are you sure the answer to the linked question does not work? basic idea: <code>for (var method : FooClass.class.getDeclaredMethods()) System.out.printf(&quot;%s = %s%n&quot;, method.getName(), method.invoke(null))</code>  ((assuming only <code>static</code> methods))"}],"answers":[{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667424405,"creation_date":1667423978,"answer_id":74295736,"question_id":74295640,"body_markdown":"    Class yourClass = YourClass.class;\r\n    for (Method method : yourClass.getMethods()){\r\n        // format the output as you wish using something like:  \r\n        System.out.println(method.getName() + &quot; &quot; + method.invoke(obj, args));           \r\n    }","title":"How to print a Method name along with it&#39;s return value?","body":"<pre><code>Class yourClass = YourClass.class;\nfor (Method method : yourClass.getMethods()){\n    // format the output as you wish using something like:  \n    System.out.println(method.getName() + &quot; &quot; + method.invoke(obj, args));           \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667424264,"creation_date":1667424264,"answer_id":74295777,"question_id":74295640,"body_markdown":"You should be able to use the reflection  API to call the method. For a brief introduction and examples, see [here][1]. Also, see aviad&#39;s answer.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-method-reflection","title":"How to print a Method name along with it&#39;s return value?","body":"<p>You should be able to use the reflection  API to call the method. For a brief introduction and examples, see <a href=\"https://www.baeldung.com/java-method-reflection\" rel=\"nofollow noreferrer\">here</a>. Also, see aviad's answer.</p>\n"}],"owner":{"account_id":6390967,"reputation":454,"user_id":4957149,"display_name":"Rothin Sen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1667485633,"creation_date":1667423278,"question_id":74295640,"body_markdown":"I have FooClass with barMethod() that returns &quot;bazz&quot; string. How to print in console `barMethod` along with `bazz`? \r\n\r\nFor example:\r\n\r\n```\r\npublic class FooClass {\r\n\r\n    String barMethod() {\r\n        return &quot;baz&quot;; \r\n    }\r\n}\r\n```\r\n\r\n```\r\nSystem.out.println(FooClass.barMethod()) //Prints &quot;baz&quot;\r\n```\r\n\r\nHow can I print the following?\r\n\r\n```\r\ncustomPrint(FooClass.barMethod()) //barMethod = baz\r\n```\r\n\r\nNote: I can&#39;t modify barMethod() or FooClass.\r\n\r\nFound [How to get a string name of method in java](https://stackoverflow.com/questions/3023354/how-to-get-string-name-of-a-method-in-java) on stack overflow but it isn&#39;t what I&#39;m looking for.","title":"How to print a Method name along with it&#39;s return value?","body":"<p>I have FooClass with barMethod() that returns &quot;bazz&quot; string. How to print in console <code>barMethod</code> along with <code>bazz</code>?</p>\n<p>For example:</p>\n<pre><code>public class FooClass {\n\n    String barMethod() {\n        return &quot;baz&quot;; \n    }\n}\n</code></pre>\n<pre><code>System.out.println(FooClass.barMethod()) //Prints &quot;baz&quot;\n</code></pre>\n<p>How can I print the following?</p>\n<pre><code>customPrint(FooClass.barMethod()) //barMethod = baz\n</code></pre>\n<p>Note: I can't modify barMethod() or FooClass.</p>\n<p>Found <a href=\"https://stackoverflow.com/questions/3023354/how-to-get-string-name-of-a-method-in-java\">How to get a string name of method in java</a> on stack overflow but it isn't what I'm looking for.</p>\n"},{"tags":["java","eclipse","visual-studio-code","intellij-idea"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667312758,"post_id":74277293,"comment_id":131135037,"body_markdown":"I think that are **JPA model classes**. They abstractly model the database table classes, w.r.t. entities &amp; criteria API. These are _generated_ classes. Maybe the generation is hidden in a maven/gradle phase during the normal build. The class paths might be incomplete. In that case you might opt to have a separate build of a library to generate these classes, and have a normal dependency on the library. Sometimes during database maintenance you will need to an extra build step but fine.","body":"I think that are <b>JPA model classes</b>. They abstractly model the database table classes, w.r.t. entities &amp; criteria API. These are <i>generated</i> classes. Maybe the generation is hidden in a maven/gradle phase during the normal build. The class paths might be incomplete. In that case you might opt to have a separate build of a library to generate these classes, and have a normal dependency on the library. Sometimes during database maintenance you will need to an extra build step but fine."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1667312910,"post_id":74277293,"comment_id":131135093,"body_markdown":"Edit the question to include the project&#39;s pom file (if using Maven) or build.gradle file (if using Gradle); there is likely a step in there that generates those metamodel classes, and we need to know how that&#39;s configured.","body":"Edit the question to include the project&#39;s pom file (if using Maven) or build.gradle file (if using Gradle); there is likely a step in there that generates those metamodel classes, and we need to know how that&#39;s configured."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667312966,"post_id":74277293,"comment_id":131135113,"body_markdown":"BTW does the IntelliJ Community edition not work to bridge the license gap (with less features)? And are licenses not cheaper when no gap?","body":"BTW does the IntelliJ Community edition not work to bridge the license gap (with less features)? And are licenses not cheaper when no gap?"},{"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"score":0,"creation_date":1667314746,"post_id":74277293,"comment_id":131135816,"body_markdown":"@JoopEggen I&#39;ll check into community edition. I figured these could be generated classes, I just don&#39;t get why other IDE&#39;s wouldn&#39;t build them. Especially, one that is Java specific.","body":"@JoopEggen I&#39;ll check into community edition. I figured these could be generated classes, I just don&#39;t get why other IDE&#39;s wouldn&#39;t build them. Especially, one that is Java specific."},{"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"score":0,"creation_date":1667314752,"post_id":74277293,"comment_id":131135819,"body_markdown":"@E-Riz Provided pom file.","body":"@E-Riz Provided pom file."},{"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"score":0,"creation_date":1667316666,"post_id":74277293,"comment_id":131136482,"body_markdown":"@JoopEggen IntelliJ CE will bridge the gap. Still, I&#39;d really like to understand why this is happening, and how to correct it. If not for me, for the community at large. \nThanks!","body":"@JoopEggen IntelliJ CE will bridge the gap. Still, I&#39;d really like to understand why this is happening, and how to correct it. If not for me, for the community at large.  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667320958,"creation_date":1667320958,"answer_id":74279113,"question_id":74277293,"body_markdown":"Those are so-called metamodel classes for your entities, and they are generated by Hibernate (since you have the `hibernate-jpamodelgen` annotation processor configured in the pom). So whenever a maven build is run, those classes are generated to a specific directory, and then Maven includes that directory with as a source location during the compile step.\r\n\r\nSince Eclipse (and VSCode, I presume) aren&#39;t aware of this folder of generated files as a source location for the project, it doesn&#39;t recognize the generated classes. There are a couple of ways to deal with it:\r\n\r\n 1. You can configure the annotation processor in Eclipse so that it does the same thing as the Maven plugin. It&#39;s pretty straightfoward, but requires a one-time manual setup. A decent set of instructions is found [here][1]; the official JBoss Hibernate instructions are pretty dated, but might still be valid, found [here][2] (there&#39;s also a decent explanation of Hibernate&#39;s metamodel generation on that page, for reference).\r\n\r\n 2. You can rely on Maven to run the generator and just add the output folder as a source location to your Eclipse project. The default output location for APT-generated files in Maven is &quot;target/generated-sources/apt&quot;, so you can add that to the Eclipse project&#39;s Build Path as a source folder. You can do that in the project&#39;s Properties, Java Build Path section; or just right-click on the folder and select Build Path &gt; Use as Source Folder\r\n[![enter image description here][3]][3].\r\n\r\nNote that with option 2, when you change your entities you&#39;ll have to re-run the maven build (at least generate-sources phase) to see the updated generated classes.\r\n\r\n\r\n  [1]: https://javabeat.net/jpa-2-metamodel-eclipse/\r\n  [2]: https://docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/html_single/#d0e325\r\n  [3]: https://i.stack.imgur.com/taMGJ.png","title":"Dynamic, Typesafe query syntax invalid in VSCode and Eclipse (works in IntelliJ)","body":"<p>Those are so-called metamodel classes for your entities, and they are generated by Hibernate (since you have the <code>hibernate-jpamodelgen</code> annotation processor configured in the pom). So whenever a maven build is run, those classes are generated to a specific directory, and then Maven includes that directory with as a source location during the compile step.</p>\n<p>Since Eclipse (and VSCode, I presume) aren't aware of this folder of generated files as a source location for the project, it doesn't recognize the generated classes. There are a couple of ways to deal with it:</p>\n<ol>\n<li><p>You can configure the annotation processor in Eclipse so that it does the same thing as the Maven plugin. It's pretty straightfoward, but requires a one-time manual setup. A decent set of instructions is found <a href=\"https://javabeat.net/jpa-2-metamodel-eclipse/\" rel=\"nofollow noreferrer\">here</a>; the official JBoss Hibernate instructions are pretty dated, but might still be valid, found <a href=\"https://docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/html_single/#d0e325\" rel=\"nofollow noreferrer\">here</a> (there's also a decent explanation of Hibernate's metamodel generation on that page, for reference).</p>\n</li>\n<li><p>You can rely on Maven to run the generator and just add the output folder as a source location to your Eclipse project. The default output location for APT-generated files in Maven is &quot;target/generated-sources/apt&quot;, so you can add that to the Eclipse project's Build Path as a source folder. You can do that in the project's Properties, Java Build Path section; or just right-click on the folder and select Build Path &gt; Use as Source Folder\n<a href=\"https://i.stack.imgur.com/taMGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/taMGJ.png\" alt=\"enter image description here\" /></a>.</p>\n</li>\n</ol>\n<p>Note that with option 2, when you change your entities you'll have to re-run the maven build (at least generate-sources phase) to see the updated generated classes.</p>\n"},{"tags":[],"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667485475,"creation_date":1667485475,"answer_id":74304692,"question_id":74277293,"body_markdown":"Use the Community Edition of IntelliJ as offered by @joopeggen.\r\nProposed answer by @e-riz is a likely secondary answer. ","title":"Dynamic, Typesafe query syntax invalid in VSCode and Eclipse (works in IntelliJ)","body":"<p>Use the Community Edition of IntelliJ as offered by @joopeggen.\nProposed answer by @e-riz is a likely secondary answer.</p>\n"}],"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667485475,"creation_date":1667312108,"question_id":74277293,"body_markdown":"Let me start by saying I&#39;m learning Java, and come from the .NET/C# world.\r\n\r\n**TL;DR:**\r\nThis syntax does not work in VSCode or Eclipse IDE, does in IntelliJ. Why? What am I missing?\r\n```\r\n    import path.to.class.Foo;\r\n    import path.to.class.Foo_; // cannot be resolved error\r\n\r\n...\r\n\r\n   Foo_.barID; // cannot resolve to a variable\r\n\r\n```\r\nThe underscore_ notation just causes the above errors... ugh\r\n\r\n\r\n\r\n\r\n**Long version:**\r\n\r\nI work on an API, and my team is newer to the project. None of us JAVA specific devs, and we&#39;ve learned a ton over the last several months. The original devs created the project using IntelliJ, and supported it using that IDE. Unfortunately, our IntelliJ licenses keep being allowed to expire and it takes a week to get it back, and I&#39;m not good with down time, so I tried Eclipse and VSCode. When trying to debug, the project won&#39;t build because some imports are unable to be resolved, as well as some variables that appear to be using JPA 2.0 notation for Dynamic, typesafe queries. \r\nReading the following, this notation appears to have been around a long time, and Eclipse a long time Java IDE, so I think I&#39;m clearly missing something.\r\nhttps://stackoverflow.com/questions/9379536/what-does-an-underscore-concatenated-to-a-class-name-mean\r\nhttps://developer.ibm.com/articles/j-typesafejpa/#N102F2\r\nhttps://developer.ibm.com/articles/j-typesafejpa/\r\n\r\nI have a hard time believing this is only possible in IntelliJ, so it has to be something I&#39;m missing within the IDE&#39;s. A package, or setting, or something that is not allowing the IDE to utilize the Criteria API? \r\n\r\npom.xml file as requested:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;foo-app&lt;/artifactId&gt;\r\n        &lt;groupId&gt;foo.bar.app&lt;/groupId&gt;\r\n        &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;bar-api&lt;/artifactId&gt;\r\n    &lt;name&gt;Public Facing API&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;mainClass&gt;foo.bar.fib.api.ApiService&lt;/mainClass&gt;\r\n        &lt;jjwt.version&gt;0.11.4&lt;/jjwt.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fib-testing&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-migrations&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-hibernate&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-auth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hubspot.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-guicier&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${typesafe.config.groupID}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;typesafe-dropwizard-configuration&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fib-queue&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fib-common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fib-tokens&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fib-buttonstuff&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jakewharton.fliptables&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fliptables&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bouncey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bouncey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-structures-r4&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-validation-resources-dstu3&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.helger&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ph-schematron&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;newrelic-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${newrelic.agent.version}&lt;/version&gt;\r\n            &lt;type&gt;${newrelic.agent.type}&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Test resources--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-testing&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.31&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/../src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;${project.basedir}/../src/main/resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                        &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;container&gt;\r\n                        &lt;args&gt;\r\n                            &lt;arg&gt;server&lt;/arg&gt;\r\n                        &lt;/args&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8080&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                        &lt;environment&gt;\r\n                            &lt;DB_MIGRATION&gt;1&lt;/DB_MIGRATION&gt;\r\n                        &lt;/environment&gt;\r\n                        &lt;entrypoint&gt;/entrypoint.sh&lt;/entrypoint&gt;\r\n                    &lt;/container&gt;\r\n                    &lt;extraDirectories&gt;\r\n                        &lt;paths&gt;\r\n                            &lt;path&gt;${project.basedir}/../bbcerts&lt;/path&gt;\r\n                            &lt;path&gt;${project.basedir}/target/jacoco-agent&lt;/path&gt;\r\n                            &lt;path&gt;${project.basedir}/docker&lt;/path&gt;\r\n                            &lt;path&gt;${project.basedir}/../src/main/resources/keypair&lt;/path&gt;\r\n                            &lt;path&gt;${project.basedir}/target/newrelic-agent&lt;/path&gt;\r\n                        &lt;/paths&gt;\r\n                        &lt;permissions&gt;\r\n                            &lt;permission&gt;\r\n                                &lt;file&gt;/entrypoint.sh&lt;/file&gt;\r\n                                &lt;mode&gt;755&lt;/mode&gt;\r\n                            &lt;/permission&gt;\r\n                        &lt;/permissions&gt;\r\n                    &lt;/extraDirectories&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;annotationProcessorPath&gt;\r\n                            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                            &lt;version&gt;5.4.2.Final&lt;/version&gt;\r\n                        &lt;/annotationProcessorPath&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.3.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.3.1&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nEDIT: No longer monitoring this question since using the Community Edition of IntelliJ IDEA will work for my needs and I do not have to switch IDE&#39;s. I think the proposed answer will work for some, if not most; however, since I was unable (and unwilling to continue) to make the build work with another IDE I am leaving it unselected as the solution. ","title":"Dynamic, Typesafe query syntax invalid in VSCode and Eclipse (works in IntelliJ)","body":"<p>Let me start by saying I'm learning Java, and come from the .NET/C# world.</p>\n<p><strong>TL;DR:</strong>\nThis syntax does not work in VSCode or Eclipse IDE, does in IntelliJ. Why? What am I missing?</p>\n<pre><code>    import path.to.class.Foo;\n    import path.to.class.Foo_; // cannot be resolved error\n\n...\n\n   Foo_.barID; // cannot resolve to a variable\n\n</code></pre>\n<p>The underscore_ notation just causes the above errors... ugh</p>\n<p><strong>Long version:</strong></p>\n<p>I work on an API, and my team is newer to the project. None of us JAVA specific devs, and we've learned a ton over the last several months. The original devs created the project using IntelliJ, and supported it using that IDE. Unfortunately, our IntelliJ licenses keep being allowed to expire and it takes a week to get it back, and I'm not good with down time, so I tried Eclipse and VSCode. When trying to debug, the project won't build because some imports are unable to be resolved, as well as some variables that appear to be using JPA 2.0 notation for Dynamic, typesafe queries.\nReading the following, this notation appears to have been around a long time, and Eclipse a long time Java IDE, so I think I'm clearly missing something.\n<a href=\"https://stackoverflow.com/questions/9379536/what-does-an-underscore-concatenated-to-a-class-name-mean\">What does an underscore concatenated to a class name mean?</a>\n<a href=\"https://developer.ibm.com/articles/j-typesafejpa/#N102F2\" rel=\"nofollow noreferrer\">https://developer.ibm.com/articles/j-typesafejpa/#N102F2</a>\n<a href=\"https://developer.ibm.com/articles/j-typesafejpa/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/articles/j-typesafejpa/</a></p>\n<p>I have a hard time believing this is only possible in IntelliJ, so it has to be something I'm missing within the IDE's. A package, or setting, or something that is not allowing the IDE to utilize the Criteria API?</p>\n<p>pom.xml file as requested:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;foo-app&lt;/artifactId&gt;\n        &lt;groupId&gt;foo.bar.app&lt;/groupId&gt;\n        &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;bar-api&lt;/artifactId&gt;\n    &lt;name&gt;Public Facing API&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;mainClass&gt;foo.bar.fib.api.ApiService&lt;/mainClass&gt;\n        &lt;jjwt.version&gt;0.11.4&lt;/jjwt.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\n            &lt;artifactId&gt;fib-testing&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-migrations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-hibernate&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-auth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hubspot.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-guicier&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${typesafe.config.groupID}&lt;/groupId&gt;\n            &lt;artifactId&gt;typesafe-dropwizard-configuration&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\n            &lt;artifactId&gt;fib-queue&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\n            &lt;artifactId&gt;fib-common&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\n            &lt;artifactId&gt;fib-tokens&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar.fib&lt;/groupId&gt;\n            &lt;artifactId&gt;fib-buttonstuff&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\n            &lt;artifactId&gt;hapi-fhir-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jakewharton.fliptables&lt;/groupId&gt;\n            &lt;artifactId&gt;fliptables&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;${bouncey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;${bouncey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\n            &lt;artifactId&gt;hapi-fhir-structures-r4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${hapi.fhir.groupID}&lt;/groupId&gt;\n            &lt;artifactId&gt;hapi-fhir-validation-resources-dstu3&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.helger&lt;/groupId&gt;\n            &lt;artifactId&gt;ph-schematron&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n            &lt;version&gt;2.9.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\n            &lt;artifactId&gt;newrelic-java&lt;/artifactId&gt;\n            &lt;version&gt;${newrelic.agent.version}&lt;/version&gt;\n            &lt;type&gt;${newrelic.agent.type}&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Test resources--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-testing&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n            &lt;version&gt;2.31&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/../src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/../src/main/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;container&gt;\n                        &lt;args&gt;\n                            &lt;arg&gt;server&lt;/arg&gt;\n                        &lt;/args&gt;\n                        &lt;ports&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                        &lt;/ports&gt;\n                        &lt;environment&gt;\n                            &lt;DB_MIGRATION&gt;1&lt;/DB_MIGRATION&gt;\n                        &lt;/environment&gt;\n                        &lt;entrypoint&gt;/entrypoint.sh&lt;/entrypoint&gt;\n                    &lt;/container&gt;\n                    &lt;extraDirectories&gt;\n                        &lt;paths&gt;\n                            &lt;path&gt;${project.basedir}/../bbcerts&lt;/path&gt;\n                            &lt;path&gt;${project.basedir}/target/jacoco-agent&lt;/path&gt;\n                            &lt;path&gt;${project.basedir}/docker&lt;/path&gt;\n                            &lt;path&gt;${project.basedir}/../src/main/resources/keypair&lt;/path&gt;\n                            &lt;path&gt;${project.basedir}/target/newrelic-agent&lt;/path&gt;\n                        &lt;/paths&gt;\n                        &lt;permissions&gt;\n                            &lt;permission&gt;\n                                &lt;file&gt;/entrypoint.sh&lt;/file&gt;\n                                &lt;mode&gt;755&lt;/mode&gt;\n                            &lt;/permission&gt;\n                        &lt;/permissions&gt;\n                    &lt;/extraDirectories&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;annotationProcessorPath&gt;\n                            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                            &lt;version&gt;5.4.2.Final&lt;/version&gt;\n                        &lt;/annotationProcessorPath&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                            &lt;version&gt;2.3.0&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n                            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n                            &lt;version&gt;1.3.1&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>EDIT: No longer monitoring this question since using the Community Edition of IntelliJ IDEA will work for my needs and I do not have to switch IDE's. I think the proposed answer will work for some, if not most; however, since I was unable (and unwilling to continue) to make the build work with another IDE I am leaving it unselected as the solution.</p>\n"},{"tags":["python","java","postgresql","netbox"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1667467969,"post_id":74300476,"comment_id":131175204,"body_markdown":"Looks like it: https://docs.netbox.dev/en/stable/administration/replicating-netbox/","body":"Looks like it: <a href=\"https://docs.netbox.dev/en/stable/administration/replicating-netbox/\" rel=\"nofollow noreferrer\">docs.netbox.dev/en/stable/administration/replicating-netbox</a>"}],"answers":[{"tags":[],"owner":{"account_id":23109877,"reputation":144,"user_id":17217956,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667467488,"creation_date":1667467488,"answer_id":74300675,"question_id":74300476,"body_markdown":"Yes netbox uses PostgreSQL as a Database","title":"About the database used by netbox","body":"<p>Yes netbox uses PostgreSQL as a Database</p>\n"},{"tags":[],"owner":{"account_id":26819160,"reputation":1,"user_id":20408757,"display_name":"Stunod7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667485447,"creation_date":1667485447,"answer_id":74304681,"question_id":74300476,"body_markdown":"While it&#39;s entirely possible to directly interact with the database directly your better approach will likely be interacting through the API.  It&#39;s quite robust and easy to interact with (as far as APIs go).  ","title":"About the database used by netbox","body":"<p>While it's entirely possible to directly interact with the database directly your better approach will likely be interacting through the API.  It's quite robust and easy to interact with (as far as APIs go).</p>\n"}],"owner":{"account_id":26074932,"reputation":9,"user_id":19774005,"display_name":"user19774005"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667485447,"creation_date":1667466518,"question_id":74300476,"body_markdown":"Is the database used by netbox PostgreSQL?\r\n\r\nOur virtual machine base information is stored inside netbox. We need Java to go to netbox to create VM information and to get VM information. But this does not guarantee transactivity. So we want to use Java to connect to netbox&#39;s database for transactional operations.\r\n\r\nOur virtual machine base information is stored inside netbox. We need Java to go to netbox to create VM information and to get VM information. But this does not guarantee transactivity. So we want to use Java to connect to netbox&#39;s database for transactional operations.","title":"About the database used by netbox","body":"<p>Is the database used by netbox PostgreSQL?</p>\n<p>Our virtual machine base information is stored inside netbox. We need Java to go to netbox to create VM information and to get VM information. But this does not guarantee transactivity. So we want to use Java to connect to netbox's database for transactional operations.</p>\n<p>Our virtual machine base information is stored inside netbox. We need Java to go to netbox to create VM information and to get VM information. But this does not guarantee transactivity. So we want to use Java to connect to netbox's database for transactional operations.</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1667399318,"post_id":74290815,"comment_id":131158115,"body_markdown":"Just do an S3 `GetObject`!? S3 select is really only useful if you want to filter the rows and columns.","body":"Just do an S3 <code>GetObject</code>!? S3 select is really only useful if you want to filter the rows and columns."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667405030,"post_id":74290815,"comment_id":131160409,"body_markdown":"Can you please share sample file content present in S3 bucket?","body":"Can you please share sample file content present in S3 bucket?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1667407245,"post_id":74290815,"comment_id":131161375,"body_markdown":"@RohitAgarwal edited above","body":"@RohitAgarwal edited above"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667407648,"post_id":74290815,"comment_id":131161539,"body_markdown":"Thanks for sharing, in file each json is present in multiple rows or single row?","body":"Thanks for sharing, in file each json is present in multiple rows or single row?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1667408771,"post_id":74290815,"comment_id":131161976,"body_markdown":"@RohitAgarwal  multiple rows","body":"@RohitAgarwal  multiple rows"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667412459,"post_id":74290815,"comment_id":131163305,"body_markdown":"@user1555190 -  I have added implementation as per your requirement. I hope that helps.","body":"@user1555190 -  I have added implementation as per your requirement. I hope that helps."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667485199,"creation_date":1667412415,"answer_id":74293852,"question_id":74290815,"body_markdown":"Here is the implementation, first add this dependency in pom.xml\r\n\r\n```\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.285&lt;/version&gt;\r\n\t\t &lt;/dependency&gt;\r\n```\r\n\r\n**File content** - This file (filename.txt) is present in AWS S3 bucket\r\n\r\n```\r\n{\r\n   &quot;name&quot;:&quot;rohit&quot;,\r\n   &quot;surname&quot;:&quot;sharma&quot;\r\n}\r\n{\r\n   &quot;name&quot;:&quot;virat&quot;,\r\n   &quot;surname&quot;:&quot;kohli&quot;\r\n}\r\n```\r\n\r\n**Java Classes**\r\n\r\n```\r\npublic class Person {\r\n    private String name;\r\n    private String surname;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return surname;\r\n    }\r\n\r\n    public void setSurname(String surname) {\r\n        this.surname = surname;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, surname=&#39;&quot; + surname + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class AwsS3ClientConfig {\r\n\r\n    @Bean\r\n    public S3Client s3Client(){\r\n        AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(&quot;ACCESS_KEY_ID&quot;, &quot;SECRET_ACCESS_KEY&quot;);\r\n        return S3Client\r\n                .builder()\r\n                .region(Region.US_EAST_1)\r\n                .credentialsProvider(StaticCredentialsProvider.create(awsBasicCredentials))\r\n                .build();\r\n    }\r\n}\r\n```\r\n**AwsS3Service V1 - *Reading S3 file records and create object list***\r\n```\r\n@Service\r\npublic class AwsS3Service {\r\n\r\n    private final S3Client s3Client;\r\n\r\n    @Autowired\r\n    public AwsS3Service(S3Client s3Client) {\r\n        this.s3Client = s3Client;\r\n    }\r\n\r\n\r\n    public List&lt;Person&gt; readFileAndCreateList(String bucketName, String keyName) throws IOException {\r\n        final Path file = readFile(bucketName, keyName);\r\n        return convertFileToList(file);\r\n    }\r\n\r\n    private Path readFile(String bucketName, String keyName) throws IOException {\r\n        GetObjectRequest getObjectRequest = GetObjectRequest\r\n                .builder()\r\n                .bucket(bucketName)\r\n                .key(keyName)\r\n                .build();\r\n\r\n        final byte[] bytes = s3Client\r\n                .getObject(getObjectRequest)\r\n                .readAllBytes();\r\n        final Path path = Paths.get(&quot;demo.txt&quot;);\r\n        Files.write(path, bytes);\r\n        return path;\r\n    }\r\n\r\n    private List&lt;Person&gt; convertFileToList(Path path) throws IOException {\r\n        final List&lt;String&gt; lines = Files.readAllLines(path);\r\n        StringBuilder json = new StringBuilder();\r\n        List&lt;Person&gt; persons=new ArrayList&lt;&gt;();\r\n        for (String line : lines) {\r\n            if (&quot;{&quot;.equals(line)) {\r\n                json = new StringBuilder(&quot;{&quot;);\r\n            } else if (&quot;}&quot;.equals(line)) {\r\n                json.append(&quot;}&quot;);\r\n               persons.add(new ObjectMapper()\r\n                        .readValue(json.toString(), Person.class));\r\n            } else {\r\n                json.append(line.trim());\r\n            }\r\n        }\r\n        return persons;\r\n    }\r\n}\r\n```\r\n**AwsS3Service V2 - *Reading S3 file records in-memory and create object list***\r\n```\r\n@Service\r\npublic class AwsS3Service {\r\n\r\n    private final S3Client s3Client;\r\n\r\n    @Autowired\r\n    public AwsS3Service(S3Client s3Client) {\r\n        this.s3Client = s3Client;\r\n    }\r\n\r\n\r\n    public List&lt;Person&gt; readFileAndCreateObjectList(String bucketName, String keyName) throws IOException {\r\n        final List&lt;String&gt; lines = readFile(bucketName, keyName);\r\n        return convertFileLinesToObjectList(lines);\r\n    }\r\n\r\n    private List&lt;String&gt; readFile(String bucketName, String keyName) throws IOException {\r\n        GetObjectRequest getObjectRequest = GetObjectRequest\r\n                .builder()\r\n                .bucket(bucketName)\r\n                .key(keyName)\r\n                .build();\r\n\r\n        byte[] bytes;\r\n        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\r\n            s3Client\r\n                    .getObject(getObjectRequest)\r\n                    .transferTo(byteArrayOutputStream);\r\n            bytes = byteArrayOutputStream.toByteArray();\r\n        }\r\n\r\n        List&lt;String&gt; lines=new ArrayList&lt;&gt;();\r\n        try(ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\r\n            InputStreamReader inputStreamReader = new InputStreamReader(byteArrayInputStream);\r\n            BufferedReader bufferedReader=new BufferedReader(inputStreamReader)){\r\n           while (bufferedReader.ready()){\r\n              lines.add(bufferedReader.readLine());\r\n           }\r\n        }\r\n        return lines;\r\n    }\r\n\r\n    private List&lt;Person&gt; convertFileLinesToObjectList(List&lt;String&gt; lines) throws IOException {\r\n        StringBuilder json = new StringBuilder();\r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        for (String line : lines) {\r\n            if (&quot;{&quot;.equals(line)) {\r\n                json = new StringBuilder(&quot;{&quot;);\r\n            } else if (&quot;}&quot;.equals(line)) {\r\n                json.append(&quot;}&quot;);\r\n                persons.add(new ObjectMapper()\r\n                        .readValue(json.toString(), Person.class));\r\n            } else {\r\n                json.append(line.trim());\r\n            }\r\n        }\r\n        return persons;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    private final AwsS3Service awsS3Service;\r\n\r\n    @Autowired\r\n    public DemoApplication(AwsS3Service awsS3Service) {\r\n        this.awsS3Service = awsS3Service;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        //KEY_NAME==filename.txt\r\n        final List&lt;Person&gt; peoples =\r\n                awsS3Service\r\n                        .readFileAndCreateList(&quot;BUCKET_NAME&quot;, &quot;KEY_NAME&quot;);\r\n        System.out.println(peoples);\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n```\r\n[Person{name=&#39;rohit&#39;, surname=&#39;sharma&#39;}, Person{name=&#39;virat&#39;, surname=&#39;kohli&#39;}]\r\n```","title":"Spring AWS S3 select query","body":"<p>Here is the implementation, first add this dependency in pom.xml</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\n            &lt;version&gt;2.17.285&lt;/version&gt;\n         &lt;/dependency&gt;\n</code></pre>\n<p><strong>File content</strong> - This file (filename.txt) is present in AWS S3 bucket</p>\n<pre><code>{\n   &quot;name&quot;:&quot;rohit&quot;,\n   &quot;surname&quot;:&quot;sharma&quot;\n}\n{\n   &quot;name&quot;:&quot;virat&quot;,\n   &quot;surname&quot;:&quot;kohli&quot;\n}\n</code></pre>\n<p><strong>Java Classes</strong></p>\n<pre><code>public class Person {\n    private String name;\n    private String surname;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, surname='&quot; + surname + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<pre><code>@Configuration\npublic class AwsS3ClientConfig {\n\n    @Bean\n    public S3Client s3Client(){\n        AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(&quot;ACCESS_KEY_ID&quot;, &quot;SECRET_ACCESS_KEY&quot;);\n        return S3Client\n                .builder()\n                .region(Region.US_EAST_1)\n                .credentialsProvider(StaticCredentialsProvider.create(awsBasicCredentials))\n                .build();\n    }\n}\n</code></pre>\n<p><strong>AwsS3Service V1 - <em>Reading S3 file records and create object list</em></strong></p>\n<pre><code>@Service\npublic class AwsS3Service {\n\n    private final S3Client s3Client;\n\n    @Autowired\n    public AwsS3Service(S3Client s3Client) {\n        this.s3Client = s3Client;\n    }\n\n\n    public List&lt;Person&gt; readFileAndCreateList(String bucketName, String keyName) throws IOException {\n        final Path file = readFile(bucketName, keyName);\n        return convertFileToList(file);\n    }\n\n    private Path readFile(String bucketName, String keyName) throws IOException {\n        GetObjectRequest getObjectRequest = GetObjectRequest\n                .builder()\n                .bucket(bucketName)\n                .key(keyName)\n                .build();\n\n        final byte[] bytes = s3Client\n                .getObject(getObjectRequest)\n                .readAllBytes();\n        final Path path = Paths.get(&quot;demo.txt&quot;);\n        Files.write(path, bytes);\n        return path;\n    }\n\n    private List&lt;Person&gt; convertFileToList(Path path) throws IOException {\n        final List&lt;String&gt; lines = Files.readAllLines(path);\n        StringBuilder json = new StringBuilder();\n        List&lt;Person&gt; persons=new ArrayList&lt;&gt;();\n        for (String line : lines) {\n            if (&quot;{&quot;.equals(line)) {\n                json = new StringBuilder(&quot;{&quot;);\n            } else if (&quot;}&quot;.equals(line)) {\n                json.append(&quot;}&quot;);\n               persons.add(new ObjectMapper()\n                        .readValue(json.toString(), Person.class));\n            } else {\n                json.append(line.trim());\n            }\n        }\n        return persons;\n    }\n}\n</code></pre>\n<p><strong>AwsS3Service V2 - <em>Reading S3 file records in-memory and create object list</em></strong></p>\n<pre><code>@Service\npublic class AwsS3Service {\n\n    private final S3Client s3Client;\n\n    @Autowired\n    public AwsS3Service(S3Client s3Client) {\n        this.s3Client = s3Client;\n    }\n\n\n    public List&lt;Person&gt; readFileAndCreateObjectList(String bucketName, String keyName) throws IOException {\n        final List&lt;String&gt; lines = readFile(bucketName, keyName);\n        return convertFileLinesToObjectList(lines);\n    }\n\n    private List&lt;String&gt; readFile(String bucketName, String keyName) throws IOException {\n        GetObjectRequest getObjectRequest = GetObjectRequest\n                .builder()\n                .bucket(bucketName)\n                .key(keyName)\n                .build();\n\n        byte[] bytes;\n        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n            s3Client\n                    .getObject(getObjectRequest)\n                    .transferTo(byteArrayOutputStream);\n            bytes = byteArrayOutputStream.toByteArray();\n        }\n\n        List&lt;String&gt; lines=new ArrayList&lt;&gt;();\n        try(ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\n            InputStreamReader inputStreamReader = new InputStreamReader(byteArrayInputStream);\n            BufferedReader bufferedReader=new BufferedReader(inputStreamReader)){\n           while (bufferedReader.ready()){\n              lines.add(bufferedReader.readLine());\n           }\n        }\n        return lines;\n    }\n\n    private List&lt;Person&gt; convertFileLinesToObjectList(List&lt;String&gt; lines) throws IOException {\n        StringBuilder json = new StringBuilder();\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        for (String line : lines) {\n            if (&quot;{&quot;.equals(line)) {\n                json = new StringBuilder(&quot;{&quot;);\n            } else if (&quot;}&quot;.equals(line)) {\n                json.append(&quot;}&quot;);\n                persons.add(new ObjectMapper()\n                        .readValue(json.toString(), Person.class));\n            } else {\n                json.append(line.trim());\n            }\n        }\n        return persons;\n    }\n}\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    private final AwsS3Service awsS3Service;\n\n    @Autowired\n    public DemoApplication(AwsS3Service awsS3Service) {\n        this.awsS3Service = awsS3Service;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        //KEY_NAME==filename.txt\n        final List&lt;Person&gt; peoples =\n                awsS3Service\n                        .readFileAndCreateList(&quot;BUCKET_NAME&quot;, &quot;KEY_NAME&quot;);\n        System.out.println(peoples);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[Person{name='rohit', surname='sharma'}, Person{name='virat', surname='kohli'}]\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74293852,"answer_count":1,"score":0,"last_activity_date":1667485199,"creation_date":1667399152,"question_id":74290815,"body_markdown":"how can i pull an object out of S3 bucket, a file. and read it into a object in spring-boot and java. So i have a file in S3 that contains multiple json rows, i want to read it from there into a list of objects.\r\n\r\nnow im following this example:\r\n\r\nhttps://codetinkering.com/aws-s3-select-api-java-example/\r\n\r\nwhich works if i want to stream it, but i want to read into a list of objects.\r\n\r\nThe file contains multiple rows of data as such, each row is a json object, in AWS ui this works fine with a s3 select\r\n\r\n    {\r\n       &quot;name&quot;:&quot;ABC&quot;\r\n       &quot;surname&quot;:&quot;DEF&quot;\r\n    }\r\n    {\r\n       &quot;name&quot;:&quot;ABC&quot;\r\n       &quot;surname&quot;:&quot;DEF&quot;\r\n    }","title":"Spring AWS S3 select query","body":"<p>how can i pull an object out of S3 bucket, a file. and read it into a object in spring-boot and java. So i have a file in S3 that contains multiple json rows, i want to read it from there into a list of objects.</p>\n<p>now im following this example:</p>\n<p><a href=\"https://codetinkering.com/aws-s3-select-api-java-example/\" rel=\"nofollow noreferrer\">https://codetinkering.com/aws-s3-select-api-java-example/</a></p>\n<p>which works if i want to stream it, but i want to read into a list of objects.</p>\n<p>The file contains multiple rows of data as such, each row is a json object, in AWS ui this works fine with a s3 select</p>\n<pre><code>{\n   &quot;name&quot;:&quot;ABC&quot;\n   &quot;surname&quot;:&quot;DEF&quot;\n}\n{\n   &quot;name&quot;:&quot;ABC&quot;\n   &quot;surname&quot;:&quot;DEF&quot;\n}\n</code></pre>\n"},{"tags":["java","mongodb","kotlin","kmongo"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1667490247,"post_id":74302860,"comment_id":131183759,"body_markdown":"Not to be &quot;that guy&quot;, but your general approach seems to generate results via [this playground](https://mongoplayground.net/p/mwyokzuv7Xt). Does `SOUNDPACK_COLLECTION` resolve correctly? Are the `_id` values matching? As an aside, you may need a more complicated aggregation if you want to keep the the `name` information from the `carousels`","body":"Not to be &quot;that guy&quot;, but your general approach seems to generate results via <a href=\"https://mongoplayground.net/p/mwyokzuv7Xt\" rel=\"nofollow noreferrer\">this playground</a>. Does <code>SOUNDPACK_COLLECTION</code> resolve correctly? Are the <code>_id</code> values matching? As an aside, you may need a more complicated aggregation if you want to keep the the <code>name</code> information from the <code>carousels</code>"},{"owner":{"account_id":2417557,"reputation":252,"user_id":2111279,"accept_rate":29,"display_name":"Vinnie"},"score":0,"creation_date":1667504842,"post_id":74302860,"comment_id":131188690,"body_markdown":"@user20042973 lol someone needs to &quot;that guy&quot;!  Thanks for your response.  So the fact that it&#39;s working in the playground makes me think there&#39;s something being lost in translation between the KMongo client I&#39;m using and the actual query it&#39;s generating.  One thing I noticed in KMongo is that when I specify applying the joined data in &quot;carousel.items&quot;, it&#39;s not putting them in the &quot;items&quot; field in the &quot;carousel&quot; object.  It&#39;s creating a new literal field &quot;carousel.items&quot; on the root feed object.","body":"@user20042973 lol someone needs to &quot;that guy&quot;!  Thanks for your response.  So the fact that it&#39;s working in the playground makes me think there&#39;s something being lost in translation between the KMongo client I&#39;m using and the actual query it&#39;s generating.  One thing I noticed in KMongo is that when I specify applying the joined data in &quot;carousel.items&quot;, it&#39;s not putting them in the &quot;items&quot; field in the &quot;carousel&quot; object.  It&#39;s creating a new literal field &quot;carousel.items&quot; on the root feed object."},{"owner":{"account_id":2417557,"reputation":252,"user_id":2111279,"accept_rate":29,"display_name":"Vinnie"},"score":0,"creation_date":1667507798,"post_id":74302860,"comment_id":131189497,"body_markdown":"@user20042973 ok so I just noticed an issue in your playground which is probably the same issue i&#39;m having.  When putting info in the `carousels` field, it&#39;s not putting an array of carousel data, it&#39;s putting an individual object.  So presumably the first set of matches.  Ideally, it should be joining a soundpack to each item id in each carousel in the feed.","body":"@user20042973 ok so I just noticed an issue in your playground which is probably the same issue i&#39;m having.  When putting info in the <code>carousels</code> field, it&#39;s not putting an array of carousel data, it&#39;s putting an individual object.  So presumably the first set of matches.  Ideally, it should be joining a soundpack to each item id in each carousel in the feed."},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1667581657,"post_id":74302860,"comment_id":131208426,"body_markdown":"Right, that is the way that `$lookup` is going to function when a nested field is used for the `as` field name. Said another way, and similar to other stages like `$addFields`, the `$lookup` is going to overwrite the existing field. That&#39;s why I mentioned that you may need a more complicated aggregation (specifically one that &quot;zips&quot; the output of the `$lookup` with the existing source data in a subsequent `$addFields` stage). But that consideration is (probably) separate to the claim that _the join values never seem to populate into `carousels.items`_ Are you getting any output currently?","body":"Right, that is the way that <code>$lookup</code> is going to function when a nested field is used for the <code>as</code> field name. Said another way, and similar to other stages like <code>$addFields</code>, the <code>$lookup</code> is going to overwrite the existing field. That&#39;s why I mentioned that you may need a more complicated aggregation (specifically one that &quot;zips&quot; the output of the <code>$lookup</code> with the existing source data in a subsequent <code>$addFields</code> stage). But that consideration is (probably) separate to the claim that <i>the join values never seem to populate into <code>carousels.items</code></i> Are you getting any output currently?"}],"owner":{"account_id":2417557,"reputation":252,"user_id":2111279,"accept_rate":29,"display_name":"Vinnie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667484833,"creation_date":1667477499,"question_id":74302860,"body_markdown":"I&#39;m trying to join some items from one collection to another.  The original collection has nested arrays that I&#39;m trying to join on from the other collection.  \r\n\r\nMy data looks like this:\r\n\r\nFeed\r\n\r\n```\r\n{\r\n    name: &quot;feed name&quot;,\r\n    carousels: [\r\n        {\r\n            name: &quot;Top 5&quot;,\r\n            items: [\r\n                {\r\n                    _id: ObjectId(&quot;id of some soundpack&quot;)\r\n                },\r\n                {\r\n                    _id: ObjectId(&quot;id of some other soundpack&quot;)\r\n                }\r\n\r\n            ]\r\n        },\r\n        {\r\n            name: &quot;Latest&quot;,\r\n            items: [\r\n                {\r\n                    _id: ObjectId(&quot;id of some soundpack&quot;)\r\n                },\r\n                {\r\n                    _id: ObjectId(&quot;id of some other soundpack&quot;)\r\n                }\r\n\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nSoundpack\r\n\r\n```\r\n{\r\n    _id: ObjectId(&quot;some object id&quot;),\r\n    name: &quot;soundpack name 1&quot;,\r\n    url: &quot;http://www.somewebsite.com&quot;,\r\n    image: &quot;http://www.image.com&quot;\r\n},\r\n{\r\n    _id: ObjectId(&quot;some object other id&quot;),\r\n    name: &quot;soundpack name 2&quot;,\r\n    url: &quot;http://www.somewebsite.com&quot;,\r\n    image: &quot;http://www.image.com&quot;\r\n},\r\n{\r\n    _id: ObjectId(&quot;yet another object id&quot;),\r\n    name: &quot;soundpack name 3&quot;,\r\n    url: &quot;http://www.somewebsite.com&quot;,\r\n    image: &quot;http://www.image.com&quot;\r\n}\r\n```\r\n\r\nAnd my code looks like this:\r\n\r\n```\r\nfun getFeedByName(name: String): Feed? {\r\n        return db.getCollection(FEED_COLLECTION, Feed::class.java).aggregate(listOf(\r\n            match(Feed::name eq name),\r\n            lookup (\r\n                SOUNDPACK_COLLECTION,\r\n                &quot;carousels.items._id&quot;,\r\n                &quot;_id&quot;,\r\n                &quot;carousels.items&quot;\r\n            )\r\n        )).firstOrNull()\r\n    }\r\n```\r\n\r\nFor whatever reason (I&#39;ve made multiple attempts at this with no luck), the join values never seem to populate into `carousels.items`.  \r\n\r\nAny help here would be appreciated~","title":"MongoDB Nested Aggregation Issue","body":"<p>I'm trying to join some items from one collection to another.  The original collection has nested arrays that I'm trying to join on from the other collection.</p>\n<p>My data looks like this:</p>\n<p>Feed</p>\n<pre><code>{\n    name: &quot;feed name&quot;,\n    carousels: [\n        {\n            name: &quot;Top 5&quot;,\n            items: [\n                {\n                    _id: ObjectId(&quot;id of some soundpack&quot;)\n                },\n                {\n                    _id: ObjectId(&quot;id of some other soundpack&quot;)\n                }\n\n            ]\n        },\n        {\n            name: &quot;Latest&quot;,\n            items: [\n                {\n                    _id: ObjectId(&quot;id of some soundpack&quot;)\n                },\n                {\n                    _id: ObjectId(&quot;id of some other soundpack&quot;)\n                }\n\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>Soundpack</p>\n<pre><code>{\n    _id: ObjectId(&quot;some object id&quot;),\n    name: &quot;soundpack name 1&quot;,\n    url: &quot;http://www.somewebsite.com&quot;,\n    image: &quot;http://www.image.com&quot;\n},\n{\n    _id: ObjectId(&quot;some object other id&quot;),\n    name: &quot;soundpack name 2&quot;,\n    url: &quot;http://www.somewebsite.com&quot;,\n    image: &quot;http://www.image.com&quot;\n},\n{\n    _id: ObjectId(&quot;yet another object id&quot;),\n    name: &quot;soundpack name 3&quot;,\n    url: &quot;http://www.somewebsite.com&quot;,\n    image: &quot;http://www.image.com&quot;\n}\n</code></pre>\n<p>And my code looks like this:</p>\n<pre><code>fun getFeedByName(name: String): Feed? {\n        return db.getCollection(FEED_COLLECTION, Feed::class.java).aggregate(listOf(\n            match(Feed::name eq name),\n            lookup (\n                SOUNDPACK_COLLECTION,\n                &quot;carousels.items._id&quot;,\n                &quot;_id&quot;,\n                &quot;carousels.items&quot;\n            )\n        )).firstOrNull()\n    }\n</code></pre>\n<p>For whatever reason (I've made multiple attempts at this with no luck), the join values never seem to populate into <code>carousels.items</code>.</p>\n<p>Any help here would be appreciated~</p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1667477669,"post_id":74302822,"comment_id":131178612,"body_markdown":"This exception means that your source code is not valid and Eclipse could not compile all of it. The good news is: Eclipse will show you in the source editor exactly what the problem is.","body":"This exception means that your source code is not valid and Eclipse could not compile all of it. The good news is: Eclipse will show you in the source editor exactly what the problem is."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1667478088,"post_id":74302822,"comment_id":131178734,"body_markdown":"Eclipse should be showing you errors - fix them before trying to run the code. Looks like you have mismatched brackets.","body":"Eclipse should be showing you errors - fix them before trying to run the code. Looks like you have mismatched brackets."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1667484593,"post_id":74302822,"comment_id":131181334,"body_markdown":"Remove that extra closing curly brace.","body":"Remove that extra closing curly brace."}],"owner":{"account_id":26817689,"reputation":1,"user_id":20407459,"display_name":"Amit Sheoran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667484571,"creation_date":1667477317,"question_id":74302822,"body_markdown":"I am running a simple selenium problem below:\r\n\r\n```\r\npackage FirstPackage;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class DemoClass \r\n\r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\amitS\\\\OneDrive\\\\Documents\\\\Script\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://myhotel.staging-privatedeal.com/en&quot;);\r\n        driver.manage().window().maximize();\r\n\t}\r\n\r\n\r\n\t}\r\n\r\n}\r\n```\r\nAnd here is my error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\r\n\tat AmitProjectOne/FirstPackage.DemoClass.main(DemoClass.java:12)\r\n\r\n```\r\n\r\n\r\nI want to open a chrome browser only","title":"facing the issue Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem","body":"<p>I am running a simple selenium problem below:</p>\n<pre><code>package FirstPackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class DemoClass \n\n{\n\n    public static void main(String[] args) \n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\amitS\\\\OneDrive\\\\Documents\\\\Script\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://myhotel.staging-privatedeal.com/en&quot;);\n        driver.manage().window().maximize();\n    }\n\n\n    }\n\n}\n</code></pre>\n<p>And here is my error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\n    at AmitProjectOne/FirstPackage.DemoClass.main(DemoClass.java:12)\n\n</code></pre>\n<p>I want to open a chrome browser only</p>\n"},{"tags":["java","arrays","loops","for-loop","console"],"answers":[{"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667483400,"creation_date":1667483246,"answer_id":74304169,"question_id":74304052,"body_markdown":"Since you seem to be using only the main-method, I assume you want to repeat the main-method from the beginning. In that case, you can simply call it like this:\r\n\r\n    main(null);","title":"How to return to the beginning of menu in java","body":"<p>Since you seem to be using only the main-method, I assume you want to repeat the main-method from the beginning. In that case, you can simply call it like this:</p>\n<pre><code>main(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9814815,"reputation":1,"user_id":7271634,"display_name":"Lucian Pascalau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667483287,"creation_date":1667483287,"answer_id":74304176,"question_id":74304052,"body_markdown":"This line `if (isactive =true)` you have to replace it with a loop.\r\nFor example you can replace with `while (isactive =true)` and isactive must be initialized with **true**","title":"How to return to the beginning of menu in java","body":"<p>This line <code>if (isactive =true)</code> you have to replace it with a loop.\nFor example you can replace with <code>while (isactive =true)</code> and isactive must be initialized with <strong>true</strong></p>\n"},{"tags":[],"owner":{"account_id":25649756,"reputation":24,"user_id":19417216,"display_name":"phornbet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667484320,"creation_date":1667484320,"answer_id":74304422,"question_id":74304052,"body_markdown":"Initialize isactive: `boolean isactive = true;`\r\n\r\nchange if to while-loop: `while(isactive)` instead of `if(isactive =true)`\r\nand modify Option 4\r\n\r\n    if (MenuOption == 4) {\r\n                    System.out.println(&quot;Thanks for checking out my program!&quot;);\r\n                    isactive=false;\r\n                }","title":"How to return to the beginning of menu in java","body":"<p>Initialize isactive: <code>boolean isactive = true;</code></p>\n<p>change if to while-loop: <code>while(isactive)</code> instead of <code>if(isactive =true)</code>\nand modify Option 4</p>\n<pre><code>if (MenuOption == 4) {\n                System.out.println(&quot;Thanks for checking out my program!&quot;);\n                isactive=false;\n            }\n</code></pre>\n"}],"owner":{"account_id":26662838,"reputation":1,"user_id":20275402,"display_name":"Soren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1667484320,"creation_date":1667482797,"question_id":74304052,"body_markdown":"`I am writing a program for my computer science class and for whatever reason cannot get it to return the programs original menu after completing a task.\r\n\r\nI need the program to go back to the original menu and not just stop after completing an option. Ive tried adding a while loop and a for loop to the beginning of the program but it does not fix it. Should be a simple fix but idk what it is. Thanks.\r\n\r\n```\r\nimport javax.lang.model.type.ArrayType;\r\nimport java.sql.SQLOutput;\r\nimport java.util.ArrayList; //import the arrayList class\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    static ArrayList&lt;String&gt; planets = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        //Default values, can leave blank or remove\r\n        planets.add(0, &quot;Mars&quot;);\r\n        planets.add(1, &quot;Jupiter&quot;);\r\n        planets.add(2, &quot;Earth&quot;);\r\n        planets.add(3, &quot;Venus&quot;);\r\n        planets.add(4, &quot;Neptune&quot;);\r\n        planets.add(5, &quot;Saturn&quot;);\r\n        boolean isactive;\r\n        if (isactive =true) {\r\n            System.out.println(&quot;Choose your favorite planets with this program. This program edits arrays, please choose an array position to edit [0,1,2,3]&quot;);\r\n            System.out.println(&quot;1. Print Array&quot;);\r\n            System.out.println(&quot;2. Edit Array&quot;);\r\n            System.out.println(&quot;3. Add to array&quot;);\r\n            System.out.println(&quot;4. Exit the program&quot;);\r\n\r\n            ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n            Scanner scn = new Scanner(System.in);\r\n            int MenuOption = scn.nextInt(); //Scan result\r\n\r\n            if (MenuOption == 1) {\r\n                System.out.println(planets);\r\n            }\r\n\r\n            if (MenuOption == 2) {\r\n                System.out.println(&quot;Please choose which element to edit&quot;);\r\n                System.out.println(&quot;0&quot;);\r\n                System.out.println(&quot;1&quot;);\r\n                System.out.println(&quot;2&quot;);\r\n                System.out.println(&quot;3&quot;);\r\n                System.out.println(&quot;4&quot;);\r\n                System.out.println(&quot;5&quot;);\r\n                System.out.println(&quot;6&quot;);\r\n                System.out.println(&quot;7&quot;);\r\n                System.out.println(&quot;Press 9 to exit&quot;);\r\n\r\n\r\n                Scanner editMenu = new Scanner(System.in);\r\n                int editMenuOption = editMenu.nextInt();\r\n                if (editMenuOption == 0) {\r\n                    System.out.println(&quot;what would you like to change position 0 to&quot;);\r\n                    Scanner posZeroScan = new Scanner(System.in);\r\n                    String posZeroScanEdit = posZeroScan.next();\r\n                    planets.add(0, posZeroScanEdit);\r\n                    System.out.println(planets);\r\n\r\n\r\n                }\r\n\r\n                if (editMenuOption == 1) {\r\n                    System.out.println(&quot;what would you like to change position 1 to&quot;);\r\n                    Scanner posOneScan = new Scanner(System.in);\r\n                    String posOneScanEdit = posOneScan.next();\r\n                    planets.add(1, posOneScanEdit);\r\n                    System.out.println(planets);\r\n                }\r\n\r\n                if (editMenuOption == 2) {\r\n                    System.out.println(&quot;what would you like to change position 2 to&quot;);\r\n                    Scanner posTwoScan = new Scanner(System.in);\r\n                    String posTwoScanEdit = posTwoScan.next();\r\n                    planets.add(2, posTwoScanEdit);\r\n                    System.out.println(planets);\r\n                }\r\n\r\n                if (editMenuOption == 3) {\r\n                    System.out.println(&quot;what would you like to change position 3 to&quot;);\r\n                    Scanner posThreeScan = new Scanner(System.in);\r\n                    String posThreeScanEdit = posThreeScan.next();\r\n                    planets.add(3, posThreeScanEdit);\r\n                    System.out.println(planets);\r\n\r\n                }\r\n\r\n                if (editMenuOption == 4) {\r\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\r\n                    Scanner posFourScan = new Scanner(System.in);\r\n                    String posFourScanEdit = posFourScan.next();\r\n                    planets.add(4, posFourScanEdit);\r\n                    System.out.println(planets);\r\n\r\n                }\r\n\r\n                if (editMenuOption == 5) {\r\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\r\n                    Scanner posFiveScan = new Scanner(System.in);\r\n                    String posFiveScanEdit = posFiveScan.next();\r\n                    planets.add(5, posFiveScanEdit);\r\n                    System.out.println(planets);\r\n\r\n                }\r\n\r\n                if (editMenuOption == 6) {\r\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\r\n                    Scanner posSixScan = new Scanner(System.in);\r\n                    String posSixScanEdit = posSixScan.next();\r\n                    planets.add(6, posSixScanEdit);\r\n                    System.out.println(planets);\r\n\r\n                }\r\n\r\n                if (editMenuOption == 7) {\r\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\r\n                    Scanner posSevenScan = new Scanner(System.in);\r\n                    String posSevenScanEdit = posSevenScan.next();\r\n                    planets.add(7, posSevenScanEdit);\r\n                    System.out.println(planets);\r\n\r\n                } else {\r\n                    System.exit(1);\r\n                }\r\n\r\n            }\r\n\r\n            if (MenuOption == 3) {\r\n                System.out.println(&quot;What would you like to add&quot;);\r\n                Scanner add = new Scanner(System.in);\r\n                String addRes = add.next();\r\n\r\n                planets.add(addRes);\r\n                System.out.println(planets);\r\n\r\n\r\n            }\r\n\r\n            if (MenuOption == 4) {\r\n                System.out.println(&quot;Thanks for checking out my program!&quot;);\r\n                System.exit(0);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n`","title":"How to return to the beginning of menu in java","body":"<p>`I am writing a program for my computer science class and for whatever reason cannot get it to return the programs original menu after completing a task.</p>\n<p>I need the program to go back to the original menu and not just stop after completing an option. Ive tried adding a while loop and a for loop to the beginning of the program but it does not fix it. Should be a simple fix but idk what it is. Thanks.</p>\n<pre><code>import javax.lang.model.type.ArrayType;\nimport java.sql.SQLOutput;\nimport java.util.ArrayList; //import the arrayList class\nimport java.util.Scanner;\n\npublic class Main {\n\n    static ArrayList&lt;String&gt; planets = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n\n\n        //Default values, can leave blank or remove\n        planets.add(0, &quot;Mars&quot;);\n        planets.add(1, &quot;Jupiter&quot;);\n        planets.add(2, &quot;Earth&quot;);\n        planets.add(3, &quot;Venus&quot;);\n        planets.add(4, &quot;Neptune&quot;);\n        planets.add(5, &quot;Saturn&quot;);\n        boolean isactive;\n        if (isactive =true) {\n            System.out.println(&quot;Choose your favorite planets with this program. This program edits arrays, please choose an array position to edit [0,1,2,3]&quot;);\n            System.out.println(&quot;1. Print Array&quot;);\n            System.out.println(&quot;2. Edit Array&quot;);\n            System.out.println(&quot;3. Add to array&quot;);\n            System.out.println(&quot;4. Exit the program&quot;);\n\n            ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n            Scanner scn = new Scanner(System.in);\n            int MenuOption = scn.nextInt(); //Scan result\n\n            if (MenuOption == 1) {\n                System.out.println(planets);\n            }\n\n            if (MenuOption == 2) {\n                System.out.println(&quot;Please choose which element to edit&quot;);\n                System.out.println(&quot;0&quot;);\n                System.out.println(&quot;1&quot;);\n                System.out.println(&quot;2&quot;);\n                System.out.println(&quot;3&quot;);\n                System.out.println(&quot;4&quot;);\n                System.out.println(&quot;5&quot;);\n                System.out.println(&quot;6&quot;);\n                System.out.println(&quot;7&quot;);\n                System.out.println(&quot;Press 9 to exit&quot;);\n\n\n                Scanner editMenu = new Scanner(System.in);\n                int editMenuOption = editMenu.nextInt();\n                if (editMenuOption == 0) {\n                    System.out.println(&quot;what would you like to change position 0 to&quot;);\n                    Scanner posZeroScan = new Scanner(System.in);\n                    String posZeroScanEdit = posZeroScan.next();\n                    planets.add(0, posZeroScanEdit);\n                    System.out.println(planets);\n\n\n                }\n\n                if (editMenuOption == 1) {\n                    System.out.println(&quot;what would you like to change position 1 to&quot;);\n                    Scanner posOneScan = new Scanner(System.in);\n                    String posOneScanEdit = posOneScan.next();\n                    planets.add(1, posOneScanEdit);\n                    System.out.println(planets);\n                }\n\n                if (editMenuOption == 2) {\n                    System.out.println(&quot;what would you like to change position 2 to&quot;);\n                    Scanner posTwoScan = new Scanner(System.in);\n                    String posTwoScanEdit = posTwoScan.next();\n                    planets.add(2, posTwoScanEdit);\n                    System.out.println(planets);\n                }\n\n                if (editMenuOption == 3) {\n                    System.out.println(&quot;what would you like to change position 3 to&quot;);\n                    Scanner posThreeScan = new Scanner(System.in);\n                    String posThreeScanEdit = posThreeScan.next();\n                    planets.add(3, posThreeScanEdit);\n                    System.out.println(planets);\n\n                }\n\n                if (editMenuOption == 4) {\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\n                    Scanner posFourScan = new Scanner(System.in);\n                    String posFourScanEdit = posFourScan.next();\n                    planets.add(4, posFourScanEdit);\n                    System.out.println(planets);\n\n                }\n\n                if (editMenuOption == 5) {\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\n                    Scanner posFiveScan = new Scanner(System.in);\n                    String posFiveScanEdit = posFiveScan.next();\n                    planets.add(5, posFiveScanEdit);\n                    System.out.println(planets);\n\n                }\n\n                if (editMenuOption == 6) {\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\n                    Scanner posSixScan = new Scanner(System.in);\n                    String posSixScanEdit = posSixScan.next();\n                    planets.add(6, posSixScanEdit);\n                    System.out.println(planets);\n\n                }\n\n                if (editMenuOption == 7) {\n                    System.out.println(&quot;what would you like to change position 4 to&quot;);\n                    Scanner posSevenScan = new Scanner(System.in);\n                    String posSevenScanEdit = posSevenScan.next();\n                    planets.add(7, posSevenScanEdit);\n                    System.out.println(planets);\n\n                } else {\n                    System.exit(1);\n                }\n\n            }\n\n            if (MenuOption == 3) {\n                System.out.println(&quot;What would you like to add&quot;);\n                Scanner add = new Scanner(System.in);\n                String addRes = add.next();\n\n                planets.add(addRes);\n                System.out.println(planets);\n\n\n            }\n\n            if (MenuOption == 4) {\n                System.out.println(&quot;Thanks for checking out my program!&quot;);\n                System.exit(0);\n            }\n\n        }\n    }\n}\n</code></pre>\n<pre><code>`\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667237076,"creation_date":1667237076,"answer_id":74266994,"question_id":74265705,"body_markdown":"I replicated this issue in my local. Nothing to do with the SpringBoot version. This is an IntelliJ IDEA caching issue. Please perform these steps and try again.\r\n\r\n\r\nFile -&gt; Invalidate Caches -&gt; Invalidate and Restart. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jofoj.png\r\n  [2]: https://i.stack.imgur.com/RA3uU.png","title":"@Value not resolving the placeholder","body":"<p>I replicated this issue in my local. Nothing to do with the SpringBoot version. This is an IntelliJ IDEA caching issue. Please perform these steps and try again.</p>\n<p>File -&gt; Invalidate Caches -&gt; Invalidate and Restart.</p>\n<p><a href=\"https://i.stack.imgur.com/jofoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jofoj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RA3uU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RA3uU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667483097,"creation_date":1667230741,"question_id":74265705,"body_markdown":"I am using springboot 2.6.9, I am trying to find it hard to find the root cause of this problem.\r\n\r\n     @Bean\r\n    ReactiveClientRegistrationRepository clientRegistrations(\r\n            @Value(&quot;${set.token-uri}&quot;) String token_uri,\r\n            @Value(&quot;${set.client-id}&quot;) String client_id,\r\n            @Value(&quot;${set.client-secret}&quot;) String client_secret,\r\n            @Value(&quot;${set.scope}&quot;) String scope,\r\n            @Value(&quot;${set.authorization-grant-type}&quot;) String authorizationGrantType\r\n\r\n    )\r\n\r\napplication.properties\r\n\r\n    set.token-uri=https://myapp.aut.otken/token\r\n\r\nThese properties are present in my application. properties, but my application still fails to start because it is unable to resolve the placeholder. This is an issue I&#39;m having with Intellij and command line. I tried going through all of the issues related to this, but I can&#39;t figure out why. Is there an open bug in this version of spring boot, or is something else causing this problem? For my build, I&#39;m using Gradle. I attempted to clear the Gradle cache and Intellij cache, tried upgrading the gradle version.\r\n\r\n          @Slf4j\r\n          @Service\r\n          @ConditionalOnProperty(prefix = &quot;app.rabbitmq&quot;, name = &quot;enabled&quot;,havingValue = &quot;true&quot;)\r\n       public class RabbitMQListener {\r\n    \t@Autowired\r\n    \tprivate MyManagementService myManagementService \r\n    \r\n        @RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;})\r\n        public void consume(String message) {\r\n            log.info(&quot;Received Message on my channel :{}&quot;, message);\r\n            if(!ObjectUtils.isEmpty(message)) {\r\n            \tMessageRequest messageRequest = (MessageRequest) JSONUtils.convertStringToObject(message, MessageRequest.class);\r\n            \tmyManagementService.uploadToServer(Long.parseLong(messageRequest.getRequestedId()));\r\n            \t\r\n            }\r\n        }\r\n\r\n}\r\n\r\nWhen I explicitly add the propertySource, the problem is resolved; I&#39;m not sure why this is necessary. I&#39;m not sure if this will affect the configuration server. Could you please tell me what the problem is? I looked through the build folder but couldn&#39;t find the application.properties file. Because spring configuration uses AMQP, will adding the RabbitMQ properties cause this issue? I see if the RabbitMQ is enabled the start up is proper. The issue is happening only when the RabbitMQ is not available. I tried adding conditional on RabbitMQ bean but still issue persists. \r\n\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\n\r\n \r\n","title":"@Value not resolving the placeholder","body":"<p>I am using springboot 2.6.9, I am trying to find it hard to find the root cause of this problem.</p>\n<pre><code> @Bean\nReactiveClientRegistrationRepository clientRegistrations(\n        @Value(&quot;${set.token-uri}&quot;) String token_uri,\n        @Value(&quot;${set.client-id}&quot;) String client_id,\n        @Value(&quot;${set.client-secret}&quot;) String client_secret,\n        @Value(&quot;${set.scope}&quot;) String scope,\n        @Value(&quot;${set.authorization-grant-type}&quot;) String authorizationGrantType\n\n)\n</code></pre>\n<p>application.properties</p>\n<pre><code>set.token-uri=https://myapp.aut.otken/token\n</code></pre>\n<p>These properties are present in my application. properties, but my application still fails to start because it is unable to resolve the placeholder. This is an issue I'm having with Intellij and command line. I tried going through all of the issues related to this, but I can't figure out why. Is there an open bug in this version of spring boot, or is something else causing this problem? For my build, I'm using Gradle. I attempted to clear the Gradle cache and Intellij cache, tried upgrading the gradle version.</p>\n<pre><code>      @Slf4j\n      @Service\n      @ConditionalOnProperty(prefix = &quot;app.rabbitmq&quot;, name = &quot;enabled&quot;,havingValue = &quot;true&quot;)\n   public class RabbitMQListener {\n    @Autowired\n    private MyManagementService myManagementService \n\n    @RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;})\n    public void consume(String message) {\n        log.info(&quot;Received Message on my channel :{}&quot;, message);\n        if(!ObjectUtils.isEmpty(message)) {\n            MessageRequest messageRequest = (MessageRequest) JSONUtils.convertStringToObject(message, MessageRequest.class);\n            myManagementService.uploadToServer(Long.parseLong(messageRequest.getRequestedId()));\n            \n        }\n    }\n</code></pre>\n<p>}</p>\n<p>When I explicitly add the propertySource, the problem is resolved; I'm not sure why this is necessary. I'm not sure if this will affect the configuration server. Could you please tell me what the problem is? I looked through the build folder but couldn't find the application.properties file. Because spring configuration uses AMQP, will adding the RabbitMQ properties cause this issue? I see if the RabbitMQ is enabled the start up is proper. The issue is happening only when the RabbitMQ is not available. I tried adding conditional on RabbitMQ bean but still issue persists.</p>\n<pre><code>@PropertySource(&quot;classpath:application.properties&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":5458279,"reputation":123,"user_id":4341084,"display_name":"balamuruganv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1460457954,"creation_date":1460457954,"answer_id":36570977,"question_id":36570839,"body_markdown":" Server was sending information to a web client (My guess from the jackson json stuff in the stacktrace is that a webpage made an AJAX call to your webserver), but before you server could send all the information, the web client broke the connection (perhaps your user closed the web page or their browser before the entire response was written)\r\n\r\nPlease refer below given link.\r\n\r\nhttps://stackoverflow.com/questions/14166843/broken-pipe-java-ee","title":"Spring RestTemplate throws exception &quot;Broken pipe&quot;, while calling different Rest API Synchronously","body":"<p>Server was sending information to a web client (My guess from the jackson json stuff in the stacktrace is that a webpage made an AJAX call to your webserver), but before you server could send all the information, the web client broke the connection (perhaps your user closed the web page or their browser before the entire response was written)</p>\n\n<p>Please refer below given link.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14166843/broken-pipe-java-ee\">Broken pipe Java EE</a></p>\n"},{"tags":[],"owner":{"account_id":13772330,"reputation":101,"user_id":9939466,"display_name":"duxinglangzi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529980923,"creation_date":1529980923,"answer_id":51034163,"question_id":36570839,"body_markdown":"I also encountered this problem. After some tests I discovered that because my app was frequently refreshing the page, the previous connection did not return, and it closed and opened a new connection to continue the visit. This will cause the previous server request to have this error.\r\n\r\nMy English is not good, please forgive me.","title":"Spring RestTemplate throws exception &quot;Broken pipe&quot;, while calling different Rest API Synchronously","body":"<p>I also encountered this problem. After some tests I discovered that because my app was frequently refreshing the page, the previous connection did not return, and it closed and opened a new connection to continue the visit. This will cause the previous server request to have this error.</p>\n\n<p>My English is not good, please forgive me.</p>\n"},{"tags":[],"owner":{"account_id":6914850,"reputation":93,"user_id":5309597,"display_name":"Paul C. R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667483054,"creation_date":1667483054,"answer_id":74304117,"question_id":36570839,"body_markdown":"Whatever the reason for the broken pipe, the fact remains that the client can no longer continue the http connection and communication on it.\r\nTherefore the only logical reaction by the server should be to discontinue the communication by exiting the process.\r\n```\r\n    @ExceptionHandler(value = {IOException.class})\r\n    @ResponseStatus(HttpStatus.SERVICE_UNAVAILABLE)\r\n    public Object exceptionHandler(IOException e, WebRequest request) {\r\n        if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), &quot;Broken pipe&quot;)) {\r\n            return null;\r\n        } else {\r\n            return ... (your normal error response for IOException)\r\n        }\r\n    }\r\n```\r\nThanks [Tarik Yurt][1]\r\n\r\n\r\n  [1]: https://mtyurt.net/post/spring-how-to-handle-ioexception-broken-pipe.html","title":"Spring RestTemplate throws exception &quot;Broken pipe&quot;, while calling different Rest API Synchronously","body":"<p>Whatever the reason for the broken pipe, the fact remains that the client can no longer continue the http connection and communication on it.\nTherefore the only logical reaction by the server should be to discontinue the communication by exiting the process.</p>\n<pre><code>    @ExceptionHandler(value = {IOException.class})\n    @ResponseStatus(HttpStatus.SERVICE_UNAVAILABLE)\n    public Object exceptionHandler(IOException e, WebRequest request) {\n        if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), &quot;Broken pipe&quot;)) {\n            return null;\n        } else {\n            return ... (your normal error response for IOException)\n        }\n    }\n</code></pre>\n<p>Thanks <a href=\"https://mtyurt.net/post/spring-how-to-handle-ioexception-broken-pipe.html\" rel=\"nofollow noreferrer\">Tarik Yurt</a></p>\n"}],"owner":{"account_id":5919185,"reputation":1404,"user_id":4656954,"display_name":"Abhishek Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34260,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36570977,"answer_count":3,"score":8,"last_activity_date":1667483054,"creation_date":1460457607,"question_id":36570839,"body_markdown":"I am tried to call two rest API synchronously. However, after completing first rest api call, second call throw the exception as shown in below.I have also tried with some httpClientConnectionPooling concept but it do not work.\r\n\r\n    org.springframework.boot.context.web.ErrorPageFilter.handleCommittedResponse(209) - Cannot forward to error page for request [/api/v1/subscribers] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n            at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:393) ~[catalina.jar:8.0.29]\r\n            at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:426) ~[tomcat-util.jar:8.0.29]\r\n            at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:342) ~[catalina.jar:8.0.29]\r\n            at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:317) ~[catalina.jar:8.0.29]\r\n            at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:110) ~[catalina.jar:8.0.29]\r\n            at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1022) ~[jackson-core-2.6.4.jar:2.6.4]\r\n            at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:891) ~[jackson-databind-2.6.4.jar:2.6.4]\r\n            at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:264) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:100) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:222) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:153) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:165) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:80) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:126) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[servlet-api.jar:na]\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[servlet-api.jar:na]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:243) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at com.tfdp.oauth2.component.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:165) ~[classes/:0.0.1-SNAPSHOT]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.0.8.RELEASE.jar:na]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at com.tfdp.oauth2.component.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:165) ~[classes/:0.0.1-SNAPSHOT]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:120) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:61) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:95) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n            at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.29]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518) [catalina.jar:8.0.29]\r\n            at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096) [tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674) [tomcat-coyote.jar:8.0.29]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-coyote.jar:8.0.29]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-coyote.jar:8.0.29]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_65]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_65]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.29]\r\n            at java.lang.Thread.run(Thread.java:745) [na:1.8.0_65]\r\n    Caused by: java.io.IOException: Broken pipe\r\n            at sun.nio.ch.FileDispatcherImpl.write0(Native Method) ~[na:1.8.0_65]\r\n            at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47) ~[na:1.8.0_65]\r\n            at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93) ~[na:1.8.0_65]\r\n            at sun.nio.ch.IOUtil.write(IOUtil.java:65) ~[na:1.8.0_65]\r\n            at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471) ~[na:1.8.0_65]\r\n            at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:124) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:172) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.InternalNioOutputBuffer.writeToSocket(InternalNioOutputBuffer.java:139) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.InternalNioOutputBuffer.addToBB(InternalNioOutputBuffer.java:197) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.InternalNioOutputBuffer.access$000(InternalNioOutputBuffer.java:41) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.InternalNioOutputBuffer$SocketOutputBuffer.doWrite(InternalNioOutputBuffer.java:320) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:116) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:256) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.coyote.Response.doWrite(Response.java:501) ~[tomcat-coyote.jar:8.0.29]\r\n            at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:388) ~[catalina.jar:8.0.29]\r\n            ... 118 common frames omitted  ","title":"Spring RestTemplate throws exception &quot;Broken pipe&quot;, while calling different Rest API Synchronously","body":"<p>I am tried to call two rest API synchronously. However, after completing first rest api call, second call throw the exception as shown in below.I have also tried with some httpClientConnectionPooling concept but it do not work.</p>\n\n<pre><code>org.springframework.boot.context.web.ErrorPageFilter.handleCommittedResponse(209) - Cannot forward to error page for request [/api/v1/subscribers] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:393) ~[catalina.jar:8.0.29]\n        at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:426) ~[tomcat-util.jar:8.0.29]\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:342) ~[catalina.jar:8.0.29]\n        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:317) ~[catalina.jar:8.0.29]\n        at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:110) ~[catalina.jar:8.0.29]\n        at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1022) ~[jackson-core-2.6.4.jar:2.6.4]\n        at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:891) ~[jackson-databind-2.6.4.jar:2.6.4]\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:264) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:100) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:222) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:153) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:165) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:80) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:126) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[servlet-api.jar:na]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) ~[spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[servlet-api.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:243) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at com.tfdp.oauth2.component.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:165) ~[classes/:0.0.1-SNAPSHOT]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.0.8.RELEASE.jar:na]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at com.tfdp.oauth2.component.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:165) ~[classes/:0.0.1-SNAPSHOT]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) ~[spring-boot-actuator-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:120) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:61) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:95) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [catalina.jar:8.0.29]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.29]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.29]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616) [catalina.jar:8.0.29]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.29]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518) [catalina.jar:8.0.29]\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096) [tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674) [tomcat-coyote.jar:8.0.29]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-coyote.jar:8.0.29]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-coyote.jar:8.0.29]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_65]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_65]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.29]\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_65]\nCaused by: java.io.IOException: Broken pipe\n        at sun.nio.ch.FileDispatcherImpl.write0(Native Method) ~[na:1.8.0_65]\n        at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47) ~[na:1.8.0_65]\n        at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93) ~[na:1.8.0_65]\n        at sun.nio.ch.IOUtil.write(IOUtil.java:65) ~[na:1.8.0_65]\n        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471) ~[na:1.8.0_65]\n        at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:124) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:172) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.InternalNioOutputBuffer.writeToSocket(InternalNioOutputBuffer.java:139) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.InternalNioOutputBuffer.addToBB(InternalNioOutputBuffer.java:197) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.InternalNioOutputBuffer.access$000(InternalNioOutputBuffer.java:41) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.InternalNioOutputBuffer$SocketOutputBuffer.doWrite(InternalNioOutputBuffer.java:320) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:116) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:256) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.coyote.Response.doWrite(Response.java:501) ~[tomcat-coyote.jar:8.0.29]\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:388) ~[catalina.jar:8.0.29]\n        ... 118 common frames omitted  \n</code></pre>\n"},{"tags":["java","spring","springdoc"],"answers":[{"tags":[],"owner":{"account_id":2610521,"reputation":220,"user_id":2260704,"display_name":"jpep1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667482998,"creation_date":1667482998,"answer_id":74304104,"question_id":72039781,"body_markdown":"Same question as this one: https://stackoverflow.com/questions/65876585/automatic-swagger-annotation-based-description-generation-in-springdoc\r\n\r\nI have experimented this [answer](https://stackoverflow.com/a/65884462), you must just change the algorithm to parse `preAuthorizeAnnotation.get().value()` to recognize `hasRole` embedded value or other specifics attributes.","title":"Can Springdoc OpenAPI read @PreAuthorize annotations to indicate users which permissions they need?","body":"<p>Same question as this one: <a href=\"https://stackoverflow.com/questions/65876585/automatic-swagger-annotation-based-description-generation-in-springdoc\">Automatic Swagger annotation-based description generation in Springdoc</a></p>\n<p>I have experimented this <a href=\"https://stackoverflow.com/a/65884462\">answer</a>, you must just change the algorithm to parse <code>preAuthorizeAnnotation.get().value()</code> to recognize <code>hasRole</code> embedded value or other specifics attributes.</p>\n"}],"owner":{"account_id":4599397,"reputation":805,"user_id":3730586,"display_name":"RabidTunes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667482998,"creation_date":1651131648,"question_id":72039781,"body_markdown":"I have a project where I use SpringDoc OpenAPI library to auto generate my docs. I have some endpoints like so\r\n\r\n```\r\n@Operation(tags = &quot;Something&quot;)\r\n@RequestMapping( . . . )\r\n@PreAuthorize(&quot;isSuperadmin() || hasRole(&#39;MegaRole&#39;)&quot;)\r\npublic void doSomething() {\r\n\t. . .\r\n}\r\n```\r\n\r\n\r\nIs it possible for SpringDoc to automatically read the `@PreAuthorize` statement so it can show somehow what&#39;s within it? That way users would see which permissions do they need to call the endpoints.","title":"Can Springdoc OpenAPI read @PreAuthorize annotations to indicate users which permissions they need?","body":"<p>I have a project where I use SpringDoc OpenAPI library to auto generate my docs. I have some endpoints like so</p>\n<pre><code>@Operation(tags = &quot;Something&quot;)\n@RequestMapping( . . . )\n@PreAuthorize(&quot;isSuperadmin() || hasRole('MegaRole')&quot;)\npublic void doSomething() {\n    . . .\n}\n</code></pre>\n<p>Is it possible for SpringDoc to automatically read the <code>@PreAuthorize</code> statement so it can show somehow what's within it? That way users would see which permissions do they need to call the endpoints.</p>\n"},{"tags":["java","linux","netbeans","netbeans-11","java-14"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1585547921,"creation_date":1585547921,"answer_id":60924824,"question_id":60922968,"body_markdown":"Although Apache NetBeans 11.3 fully supports the use of JDK 14, unfortunately its installer does not. From the [Apache NetBeans 11.3 download page][1]:\r\n\r\n&gt; **The installers will not run under JDK 14** because usage is made of the\r\n&gt; Pack200 Tools and API, for packing and unpacking, which is removed in\r\n&gt; JDK 14, see JEP 367.\r\n\r\nSee [JEP 367: Remove the Pack200 Tools and API][2] for full details on why this change was made in JDK 14.\r\n\r\nYour workarounds for this issue are:\r\n\r\n- Instead of using the installer, download and unzip the zip of Apache NetBeans 11.3 (named **netbeans-11.3-bin.zip**) [from the download page][1]. This approach worked for me.\r\n- Install a version of the JDK &lt; 14, and you can then use the installer to install NetBeans 11.3 with that JDK. Once NetBeans 11.3 is installed you could edit **netbeans.conf** to make JDK 14 the default Java platform, or simply add it as a second Java platform using **Tools &gt; Java Platforms &gt; Add Platform...**\r\n\r\n\r\n  [1]: https://netbeans.apache.org/download/nb113/nb113.html\r\n  [2]: https://openjdk.java.net/jeps/367","title":"Couldn&#39;t install netbeans 11.3 with Java 14 due to Error: &quot;Unsupported JVM version&quot;","body":"<p>Although Apache NetBeans 11.3 fully supports the use of JDK 14, unfortunately its installer does not. From the <a href=\"https://netbeans.apache.org/download/nb113/nb113.html\" rel=\"noreferrer\">Apache NetBeans 11.3 download page</a>:</p>\n\n<blockquote>\n  <p><strong>The installers will not run under JDK 14</strong> because usage is made of the\n  Pack200 Tools and API, for packing and unpacking, which is removed in\n  JDK 14, see JEP 367.</p>\n</blockquote>\n\n<p>See <a href=\"https://openjdk.java.net/jeps/367\" rel=\"noreferrer\">JEP 367: Remove the Pack200 Tools and API</a> for full details on why this change was made in JDK 14.</p>\n\n<p>Your workarounds for this issue are:</p>\n\n<ul>\n<li>Instead of using the installer, download and unzip the zip of Apache NetBeans 11.3 (named <strong>netbeans-11.3-bin.zip</strong>) <a href=\"https://netbeans.apache.org/download/nb113/nb113.html\" rel=\"noreferrer\">from the download page</a>. This approach worked for me.</li>\n<li>Install a version of the JDK &lt; 14, and you can then use the installer to install NetBeans 11.3 with that JDK. Once NetBeans 11.3 is installed you could edit <strong>netbeans.conf</strong> to make JDK 14 the default Java platform, or simply add it as a second Java platform using <strong>Tools > Java Platforms > Add Platform...</strong></li>\n</ul>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7418,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":60924824,"answer_count":1,"score":10,"last_activity_date":1667482998,"creation_date":1585532816,"question_id":60922968,"body_markdown":"I&#39;m trying to install netbeans with Java 14.\r\n\r\n\r\nI&#39;m getting below error -\r\n\r\n    &gt; sudo ./Apache-NetBeans-11.3-bin-linux-x64.sh --javahome /home/raj/.sdkman/candidates/java/current\r\n    Configuring the installer...\r\n    Searching for JVM on the system...\r\n    Unsupported JVM version at /home/raj/.sdkman/candidates/java/current.\r\n    Try to specify another JVM location using parameter --javahome\r\n\r\n\r\nBelow are my java details - \r\n\r\n    &gt; which java\r\n    /home/raj/.sdkman/candidates/java/current/bin/java\r\n\r\n\r\n    &gt; java --version\r\n    openjdk 14 2020-03-17\r\n    OpenJDK Runtime Environment (build 14+36-1461)\r\n    OpenJDK 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\r\n\r\n\r\nMy OS Details are -\r\n\r\n    &gt; lsb_release -a\r\n    LSB Version:    core-2.0-noarch:core-3.2-noarch:core-4.0-noarch:core-2.0-x86_64:core-3.2-x86_64:core-4.0-x86_64:desktop-4.0-amd64:desktop-4.0-noarch:graphics-2.0-amd64:graphics-2.0-noarch:graphics-3.2-amd64:graphics-3.2-noarch:graphics-4.0-amd64:graphics-4.0-noarch\r\n    Distributor ID: openSUSE\r\n    Description:    openSUSE Leap 15.1\r\n    Release:        15.1\r\n    Codename:       n/a\r\n\r\nHow can I fix this problem?\r\n","title":"Couldn&#39;t install netbeans 11.3 with Java 14 due to Error: &quot;Unsupported JVM version&quot;","body":"<p>I'm trying to install netbeans with Java 14.</p>\n\n<p>I'm getting below error -</p>\n\n<pre><code>&gt; sudo ./Apache-NetBeans-11.3-bin-linux-x64.sh --javahome /home/raj/.sdkman/candidates/java/current\nConfiguring the installer...\nSearching for JVM on the system...\nUnsupported JVM version at /home/raj/.sdkman/candidates/java/current.\nTry to specify another JVM location using parameter --javahome\n</code></pre>\n\n<p>Below are my java details - </p>\n\n<pre><code>&gt; which java\n/home/raj/.sdkman/candidates/java/current/bin/java\n\n\n&gt; java --version\nopenjdk 14 2020-03-17\nOpenJDK Runtime Environment (build 14+36-1461)\nOpenJDK 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\n</code></pre>\n\n<p>My OS Details are -</p>\n\n<pre><code>&gt; lsb_release -a\nLSB Version:    core-2.0-noarch:core-3.2-noarch:core-4.0-noarch:core-2.0-x86_64:core-3.2-x86_64:core-4.0-x86_64:desktop-4.0-amd64:desktop-4.0-noarch:graphics-2.0-amd64:graphics-2.0-noarch:graphics-3.2-amd64:graphics-3.2-noarch:graphics-4.0-amd64:graphics-4.0-noarch\nDistributor ID: openSUSE\nDescription:    openSUSE Leap 15.1\nRelease:        15.1\nCodename:       n/a\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"},{"tags":["java","android-studio","fragment"],"comments":[{"owner":{"account_id":26539115,"reputation":1083,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667463744,"post_id":74298737,"comment_id":131173815,"body_markdown":"Sorry to nitpick, but would you mind translating &quot;Stundenplan&quot; to english for this post? Posts on SO should be in english.","body":"Sorry to nitpick, but would you mind translating &quot;Stundenplan&quot; to english for this post? Posts on SO should be in english."}],"answers":[{"tags":[],"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667464379,"creation_date":1667464379,"answer_id":74300080,"question_id":74298737,"body_markdown":"pass fragment to the recyclerview constructor \r\n\r\n       public ExampleAdapter(ArrayList&lt;ExampleItem&gt; exampleList,Fragment fragment){\r\n        mExampleList = exampleList;\r\n        this.fragment=fragment;\r\n    }\r\n\r\nand when you need to call the method\r\n\r\n    if(fragment instanceOf StundenplanFragment ){\r\n    ((StundenplanFragment)fragment).methodName());\r\n    }","title":"How to call Fragment method from RecyclerView layoutManager?","body":"<p>pass fragment to the recyclerview constructor</p>\n<pre><code>   public ExampleAdapter(ArrayList&lt;ExampleItem&gt; exampleList,Fragment fragment){\n    mExampleList = exampleList;\n    this.fragment=fragment;\n}\n</code></pre>\n<p>and when you need to call the method</p>\n<pre><code>if(fragment instanceOf StundenplanFragment ){\n((StundenplanFragment)fragment).methodName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19480287,"reputation":125,"user_id":14250778,"display_name":"J El"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667482350,"creation_date":1667482350,"answer_id":74303938,"question_id":74298737,"body_markdown":"the method `onCreate` being called before `onCreateView`\r\nso basically in the fragment your trying to set the recyclerView adapter before the recyclerView created\r\n\r\nso your fragment should look like this:\r\n```\r\npublic class StundenplanFragment extends Fragment {\r\n\r\n    // declaring the list in order to use it again in &#39;onCreateView&#39;\r\n    private ArrayList&lt;ExampleItem&gt; exampleList = new ArrayList&lt;&gt;();\r\n    private RecyclerView mrecyclerView;\r\n    private RecyclerView.Adapter mAdapter;\r\n    private RecyclerView.LayoutManager mLayoutManager;\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StundenplanFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment StundenplanFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static StundenplanFragment newInstance(String param1, String param2) {\r\n        StundenplanFragment fragment = new StundenplanFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        exampleList.add(new ExampleItem(R.drawable.backpack, &quot;Fach&quot;, &quot;7:50-9:30&quot;, &quot;2.0&quot;, &quot;Raum:15&quot;));\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_stundenplan, container, false);\r\n\r\n        mrecyclerView= view.findViewById(R.id.recyclerview);\r\n\r\n        mAdapter = new ExampleAdapter(exampleList);\r\n        mLayoutManager = new LinearLayoutManager(getContext());\r\n\r\n        mrecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        mrecyclerView.setAdapter(mAdapter);\r\n        //mAdapter.notifyDataSetChanged();\r\n\r\n        return view;\r\n        //recyclerView.setHasFixedSize(true);\r\n        //return inflater.inflate(R.layout.fragment_stundenplan, container, false);\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to call Fragment method from RecyclerView layoutManager?","body":"<p>the method <code>onCreate</code> being called before <code>onCreateView</code>\nso basically in the fragment your trying to set the recyclerView adapter before the recyclerView created</p>\n<p>so your fragment should look like this:</p>\n<pre><code>public class StundenplanFragment extends Fragment {\n\n    // declaring the list in order to use it again in 'onCreateView'\n    private ArrayList&lt;ExampleItem&gt; exampleList = new ArrayList&lt;&gt;();\n    private RecyclerView mrecyclerView;\n    private RecyclerView.Adapter mAdapter;\n    private RecyclerView.LayoutManager mLayoutManager;\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public StundenplanFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment StundenplanFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static StundenplanFragment newInstance(String param1, String param2) {\n        StundenplanFragment fragment = new StundenplanFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        exampleList.add(new ExampleItem(R.drawable.backpack, &quot;Fach&quot;, &quot;7:50-9:30&quot;, &quot;2.0&quot;, &quot;Raum:15&quot;));\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        View view = inflater.inflate(R.layout.fragment_stundenplan, container, false);\n\n        mrecyclerView= view.findViewById(R.id.recyclerview);\n\n        mAdapter = new ExampleAdapter(exampleList);\n        mLayoutManager = new LinearLayoutManager(getContext());\n\n        mrecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n        mrecyclerView.setAdapter(mAdapter);\n        //mAdapter.notifyDataSetChanged();\n\n        return view;\n        //recyclerView.setHasFixedSize(true);\n        //return inflater.inflate(R.layout.fragment_stundenplan, container, false);\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":26618725,"reputation":1,"user_id":20237757,"display_name":"Jojo Who"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667482350,"creation_date":1667455944,"question_id":74298737,"body_markdown":"How to call Fragment method from RecyclerView layoutmanager?\r\nHere are my Adapter:\r\n\r\n\r\n```\r\npublic class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleAdapter.ExampleViewHolder&gt; {\r\n    private ArrayList&lt;ExampleItem&gt; mExampleList  ;\r\n    public static class ExampleViewHolder extends RecyclerView.ViewHolder{\r\n        public ImageView mImageView;\r\n        public TextView mTextView1;\r\n        public TextView mTextView2;\r\n        public TextView mTextView3;\r\n        public TextView mTextView4;\r\n\r\n        public ExampleViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mImageView = itemView.findViewById(R.id.Icon_homework);\r\n            mTextView1 = itemView.findViewById(R.id.Line_1);\r\n            mTextView2 = itemView.findViewById(R.id.Line_2);\r\n            mTextView3 = itemView.findViewById(R.id.line_3);\r\n            mTextView4 = itemView.findViewById(R.id.line_4);\r\n\r\n        }\r\n    }\r\n\r\n    public ExampleAdapter(ArrayList&lt;ExampleItem&gt; exampleList){\r\n        mExampleList = exampleList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ExampleViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recyclerview_stundenplan, parent, false);\r\n        ExampleViewHolder evh = new ExampleViewHolder(v);\r\n        return evh;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ExampleViewHolder holder, int position) {\r\n        ExampleItem currentitem = mExampleList.get(position);\r\n\r\n        holder.mImageView.setImageResource(currentitem.getImageRessource());\r\n        holder.mTextView1.setText(currentitem.getText1());\r\n        holder.mTextView2.setText(currentitem.getText2());\r\n        holder.mTextView3.setText(currentitem.getText3());\r\n        holder.mTextView4.setText(currentitem.getText4());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mExampleList.size();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere are my Items:\r\n\r\n\r\n```\r\npublic class ExampleItem   {\r\n    private int mImageRessource;\r\n    private String mText1;\r\n    private String mText2;\r\n    private String mText3;\r\n    private String mText4;\r\n\r\n    public ExampleItem(int imageRessource, String text1, String text2, String text3, String text4){\r\n        mImageRessource = imageRessource;\r\n        mText1 = text1;\r\n        mText2 = text2;\r\n        mText3 = text3;\r\n        mText4 = text4;\r\n    }\r\n\r\n    public int getImageRessource(){\r\n        return mImageRessource;\r\n    }\r\n\r\n    public String getText1(){\r\n        return mText1;\r\n    }\r\n\r\n    public String getText2(){\r\n        return mText2;\r\n    }\r\n\r\n    public String getText3(){\r\n        return mText3;\r\n    }\r\n\r\n    public String getText4(){\r\n        return mText4;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAnd here are my Fragment code, i tried to find the problem, because when i open the app and click on the Fragmnet, it automatically close the app, and I think it is up to the layout manager and/or the Adapter.\r\n\r\n\r\n```\r\npublic class StundenplanFragment extends Fragment {\r\n\r\n    private RecyclerView mrecyclerView;\r\n    private RecyclerView.Adapter mAdapter;\r\n    private RecyclerView.LayoutManager mLayoutManager;\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StundenplanFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment StundenplanFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static StundenplanFragment newInstance(String param1, String param2) {\r\n        StundenplanFragment fragment = new StundenplanFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ArrayList&lt;ExampleItem&gt; exampleList = new ArrayList&lt;&gt;();\r\n        exampleList.add(new ExampleItem(R.drawable.backpack, &quot;Fach&quot;, &quot;7:50-9:30&quot;, &quot;2.0&quot;, &quot;Raum:15&quot;));\r\n\r\n\r\n\r\n        mAdapter = new ExampleAdapter(exampleList);\r\n        mLayoutManager = new LinearLayoutManager(getContext());\r\n\r\n        mrecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        mrecyclerView.setAdapter(mAdapter);\r\n        //mAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_stundenplan, container, false);\r\n\r\n        mrecyclerView= view.findViewById(R.id.recyclerview);\r\n        return view;\r\n        //recyclerView.setHasFixedSize(true);\r\n        //return inflater.inflate(R.layout.fragment_stundenplan, container, false);\r\n    }\r\n\r\n\r\n}\r\n```\r\n","title":"How to call Fragment method from RecyclerView layoutManager?","body":"<p>How to call Fragment method from RecyclerView layoutmanager?\nHere are my Adapter:</p>\n<pre><code>public class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleAdapter.ExampleViewHolder&gt; {\n    private ArrayList&lt;ExampleItem&gt; mExampleList  ;\n    public static class ExampleViewHolder extends RecyclerView.ViewHolder{\n        public ImageView mImageView;\n        public TextView mTextView1;\n        public TextView mTextView2;\n        public TextView mTextView3;\n        public TextView mTextView4;\n\n        public ExampleViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mImageView = itemView.findViewById(R.id.Icon_homework);\n            mTextView1 = itemView.findViewById(R.id.Line_1);\n            mTextView2 = itemView.findViewById(R.id.Line_2);\n            mTextView3 = itemView.findViewById(R.id.line_3);\n            mTextView4 = itemView.findViewById(R.id.line_4);\n\n        }\n    }\n\n    public ExampleAdapter(ArrayList&lt;ExampleItem&gt; exampleList){\n        mExampleList = exampleList;\n    }\n\n    @NonNull\n    @Override\n    public ExampleViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recyclerview_stundenplan, parent, false);\n        ExampleViewHolder evh = new ExampleViewHolder(v);\n        return evh;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ExampleViewHolder holder, int position) {\n        ExampleItem currentitem = mExampleList.get(position);\n\n        holder.mImageView.setImageResource(currentitem.getImageRessource());\n        holder.mTextView1.setText(currentitem.getText1());\n        holder.mTextView2.setText(currentitem.getText2());\n        holder.mTextView3.setText(currentitem.getText3());\n        holder.mTextView4.setText(currentitem.getText4());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mExampleList.size();\n    }\n}\n</code></pre>\n<p>Here are my Items:</p>\n<pre><code>public class ExampleItem   {\n    private int mImageRessource;\n    private String mText1;\n    private String mText2;\n    private String mText3;\n    private String mText4;\n\n    public ExampleItem(int imageRessource, String text1, String text2, String text3, String text4){\n        mImageRessource = imageRessource;\n        mText1 = text1;\n        mText2 = text2;\n        mText3 = text3;\n        mText4 = text4;\n    }\n\n    public int getImageRessource(){\n        return mImageRessource;\n    }\n\n    public String getText1(){\n        return mText1;\n    }\n\n    public String getText2(){\n        return mText2;\n    }\n\n    public String getText3(){\n        return mText3;\n    }\n\n    public String getText4(){\n        return mText4;\n    }\n\n}\n</code></pre>\n<p>And here are my Fragment code, i tried to find the problem, because when i open the app and click on the Fragmnet, it automatically close the app, and I think it is up to the layout manager and/or the Adapter.</p>\n<pre><code>public class StundenplanFragment extends Fragment {\n\n    private RecyclerView mrecyclerView;\n    private RecyclerView.Adapter mAdapter;\n    private RecyclerView.LayoutManager mLayoutManager;\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public StundenplanFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment StundenplanFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static StundenplanFragment newInstance(String param1, String param2) {\n        StundenplanFragment fragment = new StundenplanFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ArrayList&lt;ExampleItem&gt; exampleList = new ArrayList&lt;&gt;();\n        exampleList.add(new ExampleItem(R.drawable.backpack, &quot;Fach&quot;, &quot;7:50-9:30&quot;, &quot;2.0&quot;, &quot;Raum:15&quot;));\n\n\n\n        mAdapter = new ExampleAdapter(exampleList);\n        mLayoutManager = new LinearLayoutManager(getContext());\n\n        mrecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n        mrecyclerView.setAdapter(mAdapter);\n        //mAdapter.notifyDataSetChanged();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        View view = inflater.inflate(R.layout.fragment_stundenplan, container, false);\n\n        mrecyclerView= view.findViewById(R.id.recyclerview);\n        return view;\n        //recyclerView.setHasFixedSize(true);\n        //return inflater.inflate(R.layout.fragment_stundenplan, container, false);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1667481306,"post_id":74303534,"comment_id":131179982,"body_markdown":"Technically the OP is not passing `this` to the super constructor, but to the constructor of `ParameterData`. I can&#39;t think of a way to solve this without making `PARAMETERS` in `Command` non-final and then setting it from the child constructor.","body":"Technically the OP is not passing <code>this</code> to the super constructor, but to the constructor of <code>ParameterData</code>. I can&#39;t think of a way to solve this without making <code>PARAMETERS</code> in <code>Command</code> non-final and then setting it from the child constructor."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667482103,"creation_date":1667482103,"answer_id":74303874,"question_id":74303534,"body_markdown":"&gt; I don&#39;t know how to fix this problem.\r\n\r\nIt cannot be fixed. You can&#39;t hand an instance of `this` around when your `this` reference isn&#39;t initialized yet. Think about it, it&#39;s a chicken and egg problem: That `this` reference has all sorts of crazy stuff going on. It&#39;ll have `final` fields that aren&#39;t initialized yet, i.e. final fields whose value will be changing if you query it.\r\n\r\nWithin the chain of constructors, thems the breaks. But you&#39;re not allowed to aggravate this problem by sending `this` to other places when `this` isn&#39;t &quot;ready yet&quot;. Constructors are part of the &#39;birth&#39; of an object and `this` refers to the baby. You can&#39;t hand your baby to others to coo at when it&#39;s not (fully) born yet.\r\n\r\nIf you want 2 objects that refer to each other, both with `final` fields? Not possible.\r\n\r\nMake one field non-final. Use a builder system and make the &#39;setters&#39; for this non-final field package private or fully `private` and whilst the field isn&#39;t final, your object will still be immutable for all intents and purposes - it cannot be observed to change once it escapes its package.\r\n","title":"Java Require &quot;this&quot; in the constructor of the inheriting class","body":"<blockquote>\n<p>I don't know how to fix this problem.</p>\n</blockquote>\n<p>It cannot be fixed. You can't hand an instance of <code>this</code> around when your <code>this</code> reference isn't initialized yet. Think about it, it's a chicken and egg problem: That <code>this</code> reference has all sorts of crazy stuff going on. It'll have <code>final</code> fields that aren't initialized yet, i.e. final fields whose value will be changing if you query it.</p>\n<p>Within the chain of constructors, thems the breaks. But you're not allowed to aggravate this problem by sending <code>this</code> to other places when <code>this</code> isn't &quot;ready yet&quot;. Constructors are part of the 'birth' of an object and <code>this</code> refers to the baby. You can't hand your baby to others to coo at when it's not (fully) born yet.</p>\n<p>If you want 2 objects that refer to each other, both with <code>final</code> fields? Not possible.</p>\n<p>Make one field non-final. Use a builder system and make the 'setters' for this non-final field package private or fully <code>private</code> and whilst the field isn't final, your object will still be immutable for all intents and purposes - it cannot be observed to change once it escapes its package.</p>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74303874,"answer_count":1,"score":-1,"last_activity_date":1667482103,"creation_date":1667480623,"question_id":74303534,"body_markdown":"I have the following classes: Command, ParameterData, and TestCommand. Command is an abstract class that represents a simple object. This class requires a list of ParameterData objects. ParameterData, in turn, also requires an instance of the Command class in its constructor. I wanted to create a class inheriting from Command, i.e. TestCommand. Here&#39;s the problem: when invoking the constructor, I get a compile error: &quot;Cannot reference &#39;this&#39; before supertype constructor has been called&quot;. I don&#39;t know how to fix this problem. I will be grateful for your help.\r\n\r\nCommand class:\r\n\r\n    public abstract class Command {\r\n        private final String SETTINGS_PATH;\r\n    \r\n        private final List&lt;ParameterData&gt; PARAMETERS;\r\n    \r\n        public Command(String settingsPath, List&lt;ParameterData&gt; parameters) {\r\n            this.SETTINGS_PATH = settingsPath;\r\n            this.PARAMETERS = parameters;\r\n        }\r\n    \r\n        public String getSettingsPath() {\r\n            return SETTINGS_PATH;\r\n        }\r\n\r\n        public abstract void run();\r\n    }\r\n\r\nParameterData class:\r\n\r\n    public class ParameterData {\r\n        private final String SETTINGS_KEY;\r\n    \r\n        private final Command COMMAND;\r\n    \r\n        private final OptionType OPTION_TYPE;\r\n    \r\n        private final boolean REQUIRED;\r\n    \r\n        public ParameterData(String settingsKey, Command command, OptionType optionType, boolean required) {\r\n            this.SETTINGS_KEY = settingsKey;\r\n            this.COMMAND = command;\r\n            this.OPTION_TYPE = optionType;\r\n            this.REQUIRED = required;\r\n        }\r\n    \r\n        public String getSettingsKey() {\r\n            return SETTINGS_KEY;\r\n        }\r\n    \r\n        public String getSettingsPath() {\r\n            return COMMAND.getSettingsPath() + &quot;.Parameters.&quot; + SETTINGS_KEY;\r\n        }\r\n    \r\n        public OptionType getOptionType() {\r\n            return OPTION_TYPE;\r\n        }\r\n    \r\n        public boolean isRequired() {\r\n            return REQUIRED;\r\n        }\r\n    }\r\n\r\nTestCommand class (error occurs with &quot;this&quot;):\r\n\r\n    public class TestCommand extends Command {\r\n        public TestCommand() {\r\n            super(&quot;Settings.TestCommand&quot;,\r\n                    List.of(new ParameterData(&quot;SettingsKey&quot;, this, OptionType.STRING, true)));\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            //do something\r\n        }\r\n    }","title":"Java Require &quot;this&quot; in the constructor of the inheriting class","body":"<p>I have the following classes: Command, ParameterData, and TestCommand. Command is an abstract class that represents a simple object. This class requires a list of ParameterData objects. ParameterData, in turn, also requires an instance of the Command class in its constructor. I wanted to create a class inheriting from Command, i.e. TestCommand. Here's the problem: when invoking the constructor, I get a compile error: &quot;Cannot reference 'this' before supertype constructor has been called&quot;. I don't know how to fix this problem. I will be grateful for your help.</p>\n<p>Command class:</p>\n<pre><code>public abstract class Command {\n    private final String SETTINGS_PATH;\n\n    private final List&lt;ParameterData&gt; PARAMETERS;\n\n    public Command(String settingsPath, List&lt;ParameterData&gt; parameters) {\n        this.SETTINGS_PATH = settingsPath;\n        this.PARAMETERS = parameters;\n    }\n\n    public String getSettingsPath() {\n        return SETTINGS_PATH;\n    }\n\n    public abstract void run();\n}\n</code></pre>\n<p>ParameterData class:</p>\n<pre><code>public class ParameterData {\n    private final String SETTINGS_KEY;\n\n    private final Command COMMAND;\n\n    private final OptionType OPTION_TYPE;\n\n    private final boolean REQUIRED;\n\n    public ParameterData(String settingsKey, Command command, OptionType optionType, boolean required) {\n        this.SETTINGS_KEY = settingsKey;\n        this.COMMAND = command;\n        this.OPTION_TYPE = optionType;\n        this.REQUIRED = required;\n    }\n\n    public String getSettingsKey() {\n        return SETTINGS_KEY;\n    }\n\n    public String getSettingsPath() {\n        return COMMAND.getSettingsPath() + &quot;.Parameters.&quot; + SETTINGS_KEY;\n    }\n\n    public OptionType getOptionType() {\n        return OPTION_TYPE;\n    }\n\n    public boolean isRequired() {\n        return REQUIRED;\n    }\n}\n</code></pre>\n<p>TestCommand class (error occurs with &quot;this&quot;):</p>\n<pre><code>public class TestCommand extends Command {\n    public TestCommand() {\n        super(&quot;Settings.TestCommand&quot;,\n                List.of(new ParameterData(&quot;SettingsKey&quot;, this, OptionType.STRING, true)));\n    }\n\n    @Override\n    public void run() {\n        //do something\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-functions"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667481976,"creation_date":1667481976,"answer_id":74303836,"question_id":74302918,"body_markdown":"There is no lifecycle event or trigger in v1 that runs when a Cloud Function or its container is last used.\r\n\r\nYou will have to store those values to GCS every time or after a certain number of calls.","title":"Google Cloud Function On Update","body":"<p>There is no lifecycle event or trigger in v1 that runs when a Cloud Function or its container is last used.</p>\n<p>You will have to store those values to GCS every time or after a certain number of calls.</p>\n"}],"owner":{"account_id":6840259,"reputation":318,"user_id":5260895,"accept_rate":40,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74303836,"answer_count":1,"score":0,"last_activity_date":1667481976,"creation_date":1667477701,"question_id":74302918,"body_markdown":"I want to save some values to GCS before updating an existing Cloud Function (using the CLI `deploy` command with the cloud function name). The value is of a static variable used in the function.\r\n\r\nIs there an `onDestruction` hook (or something similar) that can be used when updating a Cloud Function? If not, please share your best bypass :)\r\n\r\nTalking about 1st generation functions, written in Java.\r\n\r\nThanks","title":"Google Cloud Function On Update","body":"<p>I want to save some values to GCS before updating an existing Cloud Function (using the CLI <code>deploy</code> command with the cloud function name). The value is of a static variable used in the function.</p>\n<p>Is there an <code>onDestruction</code> hook (or something similar) that can be used when updating a Cloud Function? If not, please share your best bypass :)</p>\n<p>Talking about 1st generation functions, written in Java.</p>\n<p>Thanks</p>\n"},{"tags":["java","numbers","rounding"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":2,"creation_date":1667479277,"post_id":74303208,"comment_id":131179170,"body_markdown":"You might need a double.","body":"You might need a double."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1667479477,"post_id":74303208,"comment_id":131179250,"body_markdown":"do you know how floating point works, and what is the difference with doubles, and with fixed-point?","body":"do you know how floating point works, and what is the difference with doubles, and with fixed-point?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1667479504,"post_id":74303208,"comment_id":131179268,"body_markdown":"A float cannot hold exactly 849071675. It doesn&#39;t have enough precision.","body":"A float cannot hold exactly 849071675. It doesn&#39;t have enough precision."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667479705,"post_id":74303208,"comment_id":131179337,"body_markdown":"`String.format(&quot;%.0f&quot;, x3)`","body":"<code>String.format(&quot;%.0f&quot;, x3)</code>"},{"owner":{"account_id":9941240,"reputation":45,"user_id":9908593,"display_name":"Hicham Cheikhaoui"},"score":0,"creation_date":1667480078,"post_id":74303208,"comment_id":131179489,"body_markdown":"@SharonBenAsher the result is 849071680 I want 849071675 without rounding","body":"@SharonBenAsher the result is 849071680 I want 849071675 without rounding"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667481946,"creation_date":1667481946,"answer_id":74303830,"question_id":74303208,"body_markdown":"As was alluded too, `84907167` is a 27 bit value. \r\nFloats are 32 bits wide with 8 bits reserved for the exponent.  So you are going to lose precision since the maximum `significand` is 24 bits.  So rounding is inevitable.  Recommend you use a double.\r\n```\r\n System.out.println(Integer.toBinaryString(Float.floatToIntBits(x3)));        \r\n System.out.println(Integer.toBinaryString(84907167));\r\n System.out.println(Integer.toBinaryString(84907167).length());\r\n```\r\nprints\r\n```\r\n1001100101000011111001010010100\r\n101000011111001010010011111\r\n27\r\n```\r\nFor more on this, check out [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754) and [What Computer Scientists should know about floating point](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","title":"convert float to String without rounding it?","body":"<p>As was alluded too, <code>84907167</code> is a 27 bit value.\nFloats are 32 bits wide with 8 bits reserved for the exponent.  So you are going to lose precision since the maximum <code>significand</code> is 24 bits.  So rounding is inevitable.  Recommend you use a double.</p>\n<pre><code> System.out.println(Integer.toBinaryString(Float.floatToIntBits(x3)));        \n System.out.println(Integer.toBinaryString(84907167));\n System.out.println(Integer.toBinaryString(84907167).length());\n</code></pre>\n<p>prints</p>\n<pre><code>1001100101000011111001010010100\n101000011111001010010011111\n27\n</code></pre>\n<p>For more on this, check out <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a> and <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Computer Scientists should know about floating point</a></p>\n"}],"owner":{"account_id":9941240,"reputation":45,"user_id":9908593,"display_name":"Hicham Cheikhaoui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74303830,"answer_count":1,"score":-1,"last_activity_date":1667481946,"creation_date":1667479059,"question_id":74303208,"body_markdown":"I need to convert a float number to String without exponential anotation \r\n```\r\nFloat x3 = 849071675f;\r\nSystem.out.println(x3); \r\n```\r\nthis code give 8.4907168E8! \r\nI tried to use DecimalFormat but I had the problem of rounding \r\nis give me 849071680!\r\n\r\n```\r\n  Float x3 = 849071675f;\r\n  DecimalFormat df = new DecimalFormat(&quot;#&quot;);\r\n  df.setMaximumFractionDigits(0);\r\n  System.out.println(df.format(x3));\r\n```\r\nI want just a string value of 849071675 ?\r\n\r\nThank you ","title":"convert float to String without rounding it?","body":"<p>I need to convert a float number to String without exponential anotation</p>\n<pre><code>Float x3 = 849071675f;\nSystem.out.println(x3); \n</code></pre>\n<p>this code give 8.4907168E8!\nI tried to use DecimalFormat but I had the problem of rounding\nis give me 849071680!</p>\n<pre><code>  Float x3 = 849071675f;\n  DecimalFormat df = new DecimalFormat(&quot;#&quot;);\n  df.setMaximumFractionDigits(0);\n  System.out.println(df.format(x3));\n</code></pre>\n<p>I want just a string value of 849071675 ?</p>\n<p>Thank you</p>\n"},{"tags":["java","docker","swing"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1659469667,"post_id":73209656,"comment_id":129301251,"body_markdown":"See [_All my java applications now throw a java.awt.headlessexception_](https://stackoverflow.com/q/21343529/230513);  it looks like `java.awt.FileDialog`  is not available.","body":"See <a href=\"https://stackoverflow.com/q/21343529/230513\"><i>All my java applications now throw a java.awt.headlessexception</i></a>;  it looks like <code>java.awt.FileDialog</code>  is not available."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1659489881,"post_id":73209656,"comment_id":129305416,"body_markdown":"Code that tries to bring up interactive GUIs is generally tricky to run inside a container.  [Can you run GUI applications in a Linux Docker container?](https://stackoverflow.com/questions/16296753/can-you-run-gui-applications-in-a-linux-docker-container) has some non-portable Linux-specific answers, but it&#39;s tricky.  You&#39;ll find this easier to run with a non-Docker JVM.","body":"Code that tries to bring up interactive GUIs is generally tricky to run inside a container.  <a href=\"https://stackoverflow.com/questions/16296753/can-you-run-gui-applications-in-a-linux-docker-container\">Can you run GUI applications in a Linux Docker container?</a> has some non-portable Linux-specific answers, but it&#39;s tricky.  You&#39;ll find this easier to run with a non-Docker JVM."}],"answers":[{"tags":[],"owner":{"account_id":17420231,"reputation":77,"user_id":12625930,"display_name":"sean teo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667481836,"creation_date":1667481836,"answer_id":74303795,"question_id":73209656,"body_markdown":"I ran into a similar problem while trying to run minecraft on a docker container. Here&#39;s how I solved it.\r\n\r\nYou would want to install xvfb to create a &quot;fake&quot; X11 display, and x11vnc so you would be able to see the actual app.\r\n\r\nHere&#39;s an example:\r\n\r\nDockerfile\r\n```\r\nFROM ubuntu:latest\r\nRUN apt-get update &amp;&amp; apt-get install -y software-properties-common\r\nRUN add-apt-repository universe\r\nRUN apt-get update &amp;&amp; apt-get upgrade -y\r\nRUN apt-get install -y openjdk-17-jdk x11vnc xvfb\r\nRUN mkdir ~/.vnc /app\r\nRUN x11vnc -storepasswd 1234 ~/.vnc/passwd\r\nCOPY entrypoint.sh /entrypoint.sh\r\nRUN chmod +x entrypoint.sh\r\nENTRYPOINT [&quot;/entrypoint.sh&quot;]\r\n```\r\n\r\nentrypoint.sh\r\n```\r\n#!/bin/bash\r\nXvfb :99 &amp;\r\nexport DISPLAY=:99\r\nx11vnc -forever -usepw -create &amp;\r\n/bin/bash\r\n```\r\n\r\nPut your files in `app`.\r\n\r\nRun the docker container with: `docker run -it -v /&lt;appdir&gt;:/app -p 5900:5900 &lt;container name&gt;` after building the container.\r\n\r\nThen, you may connect to `localhost:5900` with your preferred VNC software. In the terminal, you may run whatever app you like!","title":"java.awt.HeadlessException: No X11 DISPLAY variable was set, but this program performed an operation which requires it in java docker container","body":"<p>I ran into a similar problem while trying to run minecraft on a docker container. Here's how I solved it.</p>\n<p>You would want to install xvfb to create a &quot;fake&quot; X11 display, and x11vnc so you would be able to see the actual app.</p>\n<p>Here's an example:</p>\n<p>Dockerfile</p>\n<pre><code>FROM ubuntu:latest\nRUN apt-get update &amp;&amp; apt-get install -y software-properties-common\nRUN add-apt-repository universe\nRUN apt-get update &amp;&amp; apt-get upgrade -y\nRUN apt-get install -y openjdk-17-jdk x11vnc xvfb\nRUN mkdir ~/.vnc /app\nRUN x11vnc -storepasswd 1234 ~/.vnc/passwd\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod +x entrypoint.sh\nENTRYPOINT [&quot;/entrypoint.sh&quot;]\n</code></pre>\n<p>entrypoint.sh</p>\n<pre><code>#!/bin/bash\nXvfb :99 &amp;\nexport DISPLAY=:99\nx11vnc -forever -usepw -create &amp;\n/bin/bash\n</code></pre>\n<p>Put your files in <code>app</code>.</p>\n<p>Run the docker container with: <code>docker run -it -v /&lt;appdir&gt;:/app -p 5900:5900 &lt;container name&gt;</code> after building the container.</p>\n<p>Then, you may connect to <code>localhost:5900</code> with your preferred VNC software. In the terminal, you may run whatever app you like!</p>\n"}],"owner":{"account_id":17015202,"reputation":53,"user_id":12309276,"display_name":"Samuel K&#252;hnel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667481836,"creation_date":1659452128,"question_id":73209656,"body_markdown":"I need to execute java code in a docker container. This code uses swing to open a file chooser. Running the container produces the following error: \r\n\r\n    Exception in thread &quot;main&quot; java.awt.HeadlessException:\r\n    No X11 DISPLAY variable was set,\r\n    but this program performed an operation which requires it.\r\n            at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\r\n            at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\r\n            at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:224)\r\n            at test.main(test.java:50)\r\n\r\nThis is the code that produces the error:\r\n\r\n            JFrame frame = new JFrame(&quot;select input&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            JFileChooser chooser = new JFileChooser();\r\n            frame.add(chooser);\r\n            frame.setLocationRelativeTo(null);\r\n            int option = chooser.showOpenDialog(frame);\r\n            if (option == JFileChooser.APPROVE_OPTION) {\r\n                File selectedFile = chooser.getSelectedFile();\r\n                System.out.println(selectedFile.getAbsolutePath());\r\n        \r\n            }\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            frame.dispose();\r\n\r\nIt seems i need to set a variable. How can I set this variable in a docker container? ","title":"java.awt.HeadlessException: No X11 DISPLAY variable was set, but this program performed an operation which requires it in java docker container","body":"<p>I need to execute java code in a docker container. This code uses swing to open a file chooser. Running the container produces the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException:\nNo X11 DISPLAY variable was set,\nbut this program performed an operation which requires it.\n        at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\n        at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:224)\n        at test.main(test.java:50)\n</code></pre>\n<p>This is the code that produces the error:</p>\n<pre><code>        JFrame frame = new JFrame(&quot;select input&quot;);\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        JFileChooser chooser = new JFileChooser();\n        frame.add(chooser);\n        frame.setLocationRelativeTo(null);\n        int option = chooser.showOpenDialog(frame);\n        if (option == JFileChooser.APPROVE_OPTION) {\n            File selectedFile = chooser.getSelectedFile();\n            System.out.println(selectedFile.getAbsolutePath());\n    \n        }\n        frame.pack();\n        frame.setVisible(true);\n        frame.dispose();\n</code></pre>\n<p>It seems i need to set a variable. How can I set this variable in a docker container?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1667482892,"post_id":74303778,"comment_id":131180637,"body_markdown":"It&#39;s not clear what you&#39;re trying to do. `findBy...()` methods will search across all records to find ones that match - it&#39;s _inherently_ &quot;merged&quot; with `findAll()`.","body":"It&#39;s not clear what you&#39;re trying to do. <code>findBy...()</code> methods will search across all records to find ones that match - it&#39;s <i>inherently</i> &quot;merged&quot; with <code>findAll()</code>."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1667484885,"post_id":74303778,"comment_id":131181464,"body_markdown":"curious question - why do u wanna combine these two methods ?","body":"curious question - why do u wanna combine these two methods ?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667485526,"post_id":74303778,"comment_id":131181756,"body_markdown":"Question is not exactly clear, but if i understand correctly, yes it&#39;s possible, just return Page, not List - `Page&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable pageable);`","body":"Question is not exactly clear, but if i understand correctly, yes it&#39;s possible, just return Page, not List - <code>Page&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable pageable);</code>"}],"owner":{"account_id":16721080,"reputation":398,"user_id":12085985,"display_name":"kulsin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667481785,"creation_date":1667481785,"question_id":74303778,"body_markdown":"I am trying to get a `Page&lt;Transaction&gt;` response for `Transaction` between 2 dates. Basically I want to merge these two methods:\r\n\r\n`Page&lt;Transaction&gt; findAll(Pageable pageable);`\r\n\r\n`List&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable pageable);`\r\n\r\n\r\n```\r\npublic interface TransactionRepository extends JpaRepository&lt;Transaction, UUID&gt; {\r\n\r\n    @Override\r\n    Page&lt;Transaction&gt; findAll(Pageable pageable);\r\n    \r\n    List&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable limit);\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Is it possible to get Page&lt;&gt; response using between date query?","body":"<p>I am trying to get a <code>Page&lt;Transaction&gt;</code> response for <code>Transaction</code> between 2 dates. Basically I want to merge these two methods:</p>\n<p><code>Page&lt;Transaction&gt; findAll(Pageable pageable);</code></p>\n<p><code>List&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable pageable);</code></p>\n<pre><code>public interface TransactionRepository extends JpaRepository&lt;Transaction, UUID&gt; {\n\n    @Override\n    Page&lt;Transaction&gt; findAll(Pageable pageable);\n    \n    List&lt;Transaction&gt; findByTransactionTimeBetween(LocalDateTime start, LocalDateTime end, Pageable limit);\n\n}\n</code></pre>\n"},{"tags":["java","android","mediarecorder","android-mediarecorder"],"comments":[{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1503558084,"post_id":45854147,"comment_id":78667608,"body_markdown":"https://github.com/midnightskinhead/audioboo-android/blob/master/src/fm/audioboo/application/BooRecorder.java   old android proj. with integrated flac recorder and codecs -  and integrated assets for legacy JNI/NDK builds using android.mk","body":"<a href=\"https://github.com/midnightskinhead/audioboo-android/blob/master/src/fm/audioboo/application/BooRecorder.java\" rel=\"nofollow noreferrer\">github.com/midnightskinhead/audioboo-android/blob/master/src&zwnj;&#8203;/fm/&hellip;</a>   old android proj. with integrated flac recorder and codecs -  and integrated assets for legacy JNI/NDK builds using android.mk"},{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1503580097,"post_id":45854147,"comment_id":78683118,"body_markdown":"https://github.com/midnightskinhead/audioboo-android/blob/master/jni/flac/examples/cpp/encode/file/main.cpp#L60  FLAC encoder from same project .","body":"<a href=\"https://github.com/midnightskinhead/audioboo-android/blob/master/jni/flac/examples/cpp/encode/file/main.cpp#L60\" rel=\"nofollow noreferrer\">github.com/midnightskinhead/audioboo-android/blob/master/jni&zwnj;&#8203;/&hellip;</a>  FLAC encoder from same project ."},{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1503581460,"post_id":45854147,"comment_id":78684188,"body_markdown":"https://github.com/wariotx/flac-app/blob/master/jni/Android.mk  same project makefile for the flac packages .. note the 2 cpp files at bottom because they would be important in the jni interface. Android API for media will decode FLAC. It would be the encoder , or jni/FLACStreamEncoder.cpp  from the make , that you REALLY need to have.","body":"<a href=\"https://github.com/wariotx/flac-app/blob/master/jni/Android.mk\" rel=\"nofollow noreferrer\">github.com/wariotx/flac-app/blob/master/jni/Android.mk</a>  same project makefile for the flac packages .. note the 2 cpp files at bottom because they would be important in the jni interface. Android API for media will decode FLAC. It would be the encoder , or jni/FLACStreamEncoder.cpp  from the make , that you REALLY need to have."}],"answers":[{"tags":[],"owner":{"account_id":9069937,"reputation":364,"user_id":6753550,"display_name":"Alexandre Thyvador"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1503555581,"creation_date":1503555581,"answer_id":45854290,"question_id":45854147,"body_markdown":"According to the link you gave us you can&#39;t record in FLAC with an android device, you can&#39;t record in WAV. What you can do is to record 3GPP (audio format for mobiles) and then convert it to WAV. [Here][1] is a nice piece of code for the conversion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5220992/6753550","title":"Recording FLAC audio using AudioRecorder/MediaRecorder in Android","body":"<p>According to the link you gave us you can't record in FLAC with an android device, you can't record in WAV. What you can do is to record 3GPP (audio format for mobiles) and then convert it to WAV. <a href=\"https://stackoverflow.com/a/5220992/6753550\">Here</a> is a nice piece of code for the conversion.</p>\n"},{"tags":[],"owner":{"account_id":11981107,"reputation":36,"user_id":8766961,"display_name":"Patryk Mis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667481350,"creation_date":1667225074,"answer_id":74264501,"question_id":45854147,"body_markdown":"Android&#39;s [MediaFormat](https://developer.android.com/reference/android/media/MediaFormat) and [MediaCodec](https://developer.android.com/reference/android/media/MediaCodec) supports FLAC natively: [Supported media formats](https://developer.android.com/guide/topics/media/media-formats)\r\n\r\nThis simple implementation does not even use JNI at all and does not implement additional dependencies:\r\n\r\n* https://github.com/chenxiaolong/BCR/blob/bdfc740bbd1d7d66fc7c0857a1bac58d377bd500/app/src/main/java/com/chiller3/bcr/format/FlacContainer.kt\r\n* https://github.com/chenxiaolong/BCR/blob/03193a2f1c9d69a7b100e3abdc26dcbbd356e295/app/src/main/java/com/chiller3/bcr/format/FlacFormat.kt\r\n\r\nThere is no advantage in FLAC format if recording in lossy like 3GP, AAC, OGG, or OPUS.","title":"Recording FLAC audio using AudioRecorder/MediaRecorder in Android","body":"<p>Android's <a href=\"https://developer.android.com/reference/android/media/MediaFormat\" rel=\"nofollow noreferrer\">MediaFormat</a> and <a href=\"https://developer.android.com/reference/android/media/MediaCodec\" rel=\"nofollow noreferrer\">MediaCodec</a> supports FLAC natively: <a href=\"https://developer.android.com/guide/topics/media/media-formats\" rel=\"nofollow noreferrer\">Supported media formats</a></p>\n<p>This simple implementation does not even use JNI at all and does not implement additional dependencies:</p>\n<ul>\n<li><a href=\"https://github.com/chenxiaolong/BCR/blob/bdfc740bbd1d7d66fc7c0857a1bac58d377bd500/app/src/main/java/com/chiller3/bcr/format/FlacContainer.kt\" rel=\"nofollow noreferrer\">https://github.com/chenxiaolong/BCR/blob/bdfc740bbd1d7d66fc7c0857a1bac58d377bd500/app/src/main/java/com/chiller3/bcr/format/FlacContainer.kt</a></li>\n<li><a href=\"https://github.com/chenxiaolong/BCR/blob/03193a2f1c9d69a7b100e3abdc26dcbbd356e295/app/src/main/java/com/chiller3/bcr/format/FlacFormat.kt\" rel=\"nofollow noreferrer\">https://github.com/chenxiaolong/BCR/blob/03193a2f1c9d69a7b100e3abdc26dcbbd356e295/app/src/main/java/com/chiller3/bcr/format/FlacFormat.kt</a></li>\n</ul>\n<p>There is no advantage in FLAC format if recording in lossy like 3GP, AAC, OGG, or OPUS.</p>\n"}],"owner":{"account_id":6966085,"reputation":329,"user_id":5344054,"accept_rate":82,"display_name":"Ashwin Gopi Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5676,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":74264501,"answer_count":2,"score":2,"last_activity_date":1667481350,"creation_date":1503554998,"question_id":45854147,"body_markdown":"Is there any way by which we can record audio in FLAC or WAV format using AudioRecorder of MediaRecorder in Android Studio. If not, is there any other way?&lt;br/&gt;&lt;br/&gt;\r\nAccording to this link, these types of file formats are supported on Android Studio but I can&#39;t seem to find the appropriate output format and audio encoder.\r\n&lt;br/&gt;&lt;br/&gt;\r\nhttps://developer.android.com/guide/topics/media/media-formats.html ","title":"Recording FLAC audio using AudioRecorder/MediaRecorder in Android","body":"<p>Is there any way by which we can record audio in FLAC or WAV format using AudioRecorder of MediaRecorder in Android Studio. If not, is there any other way?<br/><br/>\nAccording to this link, these types of file formats are supported on Android Studio but I can't seem to find the appropriate output format and audio encoder.\n<br/><br/>\n<a href=\"https://developer.android.com/guide/topics/media/media-formats.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/media-formats.html</a> </p>\n"},{"tags":["java","android","firebase","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549903497,"creation_date":1549903497,"answer_id":54635255,"question_id":54522083,"body_markdown":"After 2 days of frustration, I found out that there is a bug in firebase storage.Thus, you&#39;ve to simply turn off and on your storage manually,thanks.","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>After 2 days of frustration, I found out that there is a bug in firebase storage.Thus, you've to simply turn off and on your storage manually,thanks.</p>\n"},{"tags":[],"owner":{"account_id":13913679,"reputation":21,"user_id":10046135,"display_name":"Ali Raza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593612315,"creation_date":1593611351,"answer_id":62678351,"question_id":54522083,"body_markdown":"May be this is the wrong path bug but in my case resolve this here is the example\r\n\r\ni use this code then i received  error\r\n\r\n    public static StorageReference getChildProfileStorage(String vid){\r\n        StorageReference storageReference= FirebaseStorage.getInstance().getReference();\r\n        storageReference.child(&quot;ParentDataStore&quot;).child(CurrentUser.getInstance().getEmail())\r\n                .child(&quot;ChildDataStore&quot;).child(vid);\r\n\r\n\r\n        return storageReference;\r\n    }\r\n\r\n**here is the line that solve my problem**\r\n\r\n    public static StorageReference getStudentProfileStorage(String vid){\r\n        StorageReference storageReference= FirebaseStorage.getInstance().getReference(&quot;ParentDataStore&quot;)\r\n                .child(&quot;StudentDataStore&quot;).child(vid).child(&quot;profile&quot;);\r\n        return storageReference;\r\n    }","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>May be this is the wrong path bug but in my case resolve this here is the example</p>\n<p>i use this code then i received  error</p>\n<pre><code>public static StorageReference getChildProfileStorage(String vid){\n    StorageReference storageReference= FirebaseStorage.getInstance().getReference();\n    storageReference.child(&quot;ParentDataStore&quot;).child(CurrentUser.getInstance().getEmail())\n            .child(&quot;ChildDataStore&quot;).child(vid);\n\n\n    return storageReference;\n}\n</code></pre>\n<p><strong>here is the line that solve my problem</strong></p>\n<pre><code>public static StorageReference getStudentProfileStorage(String vid){\n    StorageReference storageReference= FirebaseStorage.getInstance().getReference(&quot;ParentDataStore&quot;)\n            .child(&quot;StudentDataStore&quot;).child(vid).child(&quot;profile&quot;);\n    return storageReference;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7500334,"reputation":969,"user_id":5698994,"display_name":"Muhammad Arslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599863671,"creation_date":1599863671,"answer_id":63855118,"question_id":54522083,"body_markdown":"Sorry, I am late. but today I am also facing the same issue. What I&#39;ve done is to update the storage library in build.Gradle (app) file. and it solved my problem. \r\nBasically when you configure storage using Android studio firebase assistant. This will import the older version of the app. So don&#39;t to update a newer version","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>Sorry, I am late. but today I am also facing the same issue. What I've done is to update the storage library in build.Gradle (app) file. and it solved my problem.\nBasically when you configure storage using Android studio firebase assistant. This will import the older version of the app. So don't to update a newer version</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604090827,"creation_date":1604090827,"answer_id":64615563,"question_id":54522083,"body_markdown":"For me, I was providing invalid system file path while calling [`getFile()`][2] of the [`FileDownloadTask`][1], I was initially trying to download a file from Firebase.\r\n\r\nHere the issued is raised as the downloadDirectory was invalid\r\n\r\n    File localFile = ...;\r\n    FileDownloadTask downloadTask = FirebaseStorage.getInstance()\r\n                                                   .getReference()\r\n                                                   .child(&quot;fileName&quot;)\r\n                                                   .getFile(localFile);\r\n\r\n\r\nHere the path of the `localFile` I was providing was invalid.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/FileDownloadTask\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#public-filedownloadtask-getfile-file-destinationfile","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>For me, I was providing invalid system file path while calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#public-filedownloadtask-getfile-file-destinationfile\" rel=\"nofollow noreferrer\"><code>getFile()</code></a> of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/FileDownloadTask\" rel=\"nofollow noreferrer\"><code>FileDownloadTask</code></a>, I was initially trying to download a file from Firebase.</p>\n<p>Here the issued is raised as the downloadDirectory was invalid</p>\n<pre><code>File localFile = ...;\nFileDownloadTask downloadTask = FirebaseStorage.getInstance()\n                                               .getReference()\n                                               .child(&quot;fileName&quot;)\n                                               .getFile(localFile);\n</code></pre>\n<p>Here the path of the <code>localFile</code> I was providing was invalid.</p>\n"},{"tags":[],"owner":{"account_id":17653530,"reputation":111,"user_id":12813569,"display_name":"Apurba A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626071408,"creation_date":1626033367,"answer_id":68339545,"question_id":54522083,"body_markdown":"After 3-4 hrs depression,i got the actual reason.\r\n While downloading,I need to give storage permission of writing but I only gave read permission. In lower androids , read-write permission is same.Basically I was used to/accustomed to these lower version devices that&#39;s why forget to add write storage permission for the upper androids ","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>After 3-4 hrs depression,i got the actual reason.\nWhile downloading,I need to give storage permission of writing but I only gave read permission. In lower androids , read-write permission is same.Basically I was used to/accustomed to these lower version devices that's why forget to add write storage permission for the upper androids</p>\n"},{"tags":[],"owner":{"account_id":16384943,"reputation":21,"user_id":11835087,"display_name":"cihatpala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643918427,"creation_date":1643918427,"answer_id":70977545,"question_id":54522083,"body_markdown":"I had the same issue and when I checked the Storage rules:\r\n\r\n    allow read, write: if false\r\n\r\nI saw it was.\r\n\r\n  **It worked when I changed it to:**  \r\n\r\n    allow read, write: if true\r\n\r\n","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>I had the same issue and when I checked the Storage rules:</p>\n<pre><code>allow read, write: if false\n</code></pre>\n<p>I saw it was.</p>\n<p><strong>It worked when I changed it to:</strong></p>\n<pre><code>allow read, write: if true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26524309,"reputation":1,"user_id":20157529,"display_name":"Tamer Sabek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667481243,"creation_date":1667059904,"answer_id":74246832,"question_id":54522083,"body_markdown":"I&#39;ve just updated the implementation in the `build.gradle(:app)` to \r\n\r\n```\r\nimplementation &#39;com.google.firebase:firebase-storage:20.0.1&#39;\r\n```","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>I've just updated the implementation in the <code>build.gradle(:app)</code> to</p>\n<pre><code>implementation 'com.google.firebase:firebase-storage:20.0.1'\n</code></pre>\n"}],"owner":{"account_id":12786516,"reputation":149,"user_id":9252607,"display_name":"divine_rythm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6256,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54635255,"answer_count":7,"score":3,"last_activity_date":1667481243,"creation_date":1549304376,"question_id":54522083,"body_markdown":"This picture is of the upload fragment made by me using android studio and when the list item is been clicked the object should be downloaded.It&#39;s Working fine and the object is been downloaded on my phone and the other phone on which I installed it. But when I shared this application to others it gives the error marked in the picture on their phones.Updating the play services is not removing the error.![enter image description here](https://i.stack.imgur.com/JExd4.jpg)","title":"An unknown error occured please check HTTP result code and inner exception for server response","body":"<p>This picture is of the upload fragment made by me using android studio and when the list item is been clicked the object should be downloaded.It's Working fine and the object is been downloaded on my phone and the other phone on which I installed it. But when I shared this application to others it gives the error marked in the picture on their phones.Updating the play services is not removing the error.<img src=\"https://i.stack.imgur.com/JExd4.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":1,"creation_date":1667475539,"post_id":74302071,"comment_id":131177875,"body_markdown":"Use select into statement https://www.w3schools.com/sql/sql_select_into.asp.","body":"Use select into statement <a href=\"https://www.w3schools.com/sql/sql_select_into.asp\" rel=\"nofollow noreferrer\">w3schools.com/sql/sql_select_into.asp</a>."}],"answers":[{"tags":[],"owner":{"account_id":14687437,"reputation":105,"user_id":11017218,"display_name":"Chan Guan Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667474737,"creation_date":1667474737,"answer_id":74302295,"question_id":74302071,"body_markdown":"Assuming in Table1 you have PersonId = 1, 2, 3, 4, 5 and in Table2 you have only PersonId = 1, 2 only, if you wish to copy PersonId = 3, 4, 5 from Table1 to Table2, you can achieve this by this query:\r\n\r\n```\r\nINSERT INTO Table2\r\nSELECT t1.PersonId, t1.LastName, t1.FirstName, t1.Address, t1.City\r\nFROM Table1 t1\r\nLEFT JOIN Table2 t2 ON t1.PersonId = t2.PersonId\r\nWHERE t2.PersonId IS NULL;\r\n```\r\n\r\nIf you wish to get this done from the application, you can just execute it like this:\r\n\r\n```\r\ns.executeQuery(&lt;query&gt;); // &lt;query&gt; is the query I mentioned above.\r\n```","title":"Insert data from a table into another table with resulsets","body":"<p>Assuming in Table1 you have PersonId = 1, 2, 3, 4, 5 and in Table2 you have only PersonId = 1, 2 only, if you wish to copy PersonId = 3, 4, 5 from Table1 to Table2, you can achieve this by this query:</p>\n<pre><code>INSERT INTO Table2\nSELECT t1.PersonId, t1.LastName, t1.FirstName, t1.Address, t1.City\nFROM Table1 t1\nLEFT JOIN Table2 t2 ON t1.PersonId = t2.PersonId\nWHERE t2.PersonId IS NULL;\n</code></pre>\n<p>If you wish to get this done from the application, you can just execute it like this:</p>\n<pre><code>s.executeQuery(&lt;query&gt;); // &lt;query&gt; is the query I mentioned above.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11809970,"reputation":97,"user_id":8641624,"display_name":"Serphentelm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667480795,"creation_date":1667480795,"answer_id":74303560,"question_id":74302071,"body_markdown":"I&#39;ve resolved by changing the type of the resultset in resultset.CONCUR_UPDATABLE, and adding this in the while:\r\n\r\n    while(table1.next()) {\r\n    \ttable2.moveToInsertRow();\r\n    \ttabella2.updateString(&quot;PersonID&quot;, table1.getString(&quot;PersonID&quot;));\r\n    \ttable2.insertRow();\r\n    }","title":"Insert data from a table into another table with resulsets","body":"<p>I've resolved by changing the type of the resultset in resultset.CONCUR_UPDATABLE, and adding this in the while:</p>\n<pre><code>while(table1.next()) {\n    table2.moveToInsertRow();\n    tabella2.updateString(&quot;PersonID&quot;, table1.getString(&quot;PersonID&quot;));\n    table2.insertRow();\n}\n</code></pre>\n"}],"owner":{"account_id":11809970,"reputation":97,"user_id":8641624,"display_name":"Serphentelm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74303560,"answer_count":2,"score":0,"last_activity_date":1667480795,"creation_date":1667473504,"question_id":74302071,"body_markdown":"I need to migrate some table&#39;s data into another table in the same database;\r\n\r\nfor example table1:\r\n\r\n    PersonID\tLastName\tFirstName\tAddress\t City\r\n    1\t         Foo\t      Bar\t     xxx\t boh\r\n    2\t         Foo\t      Bar\t     xxx\t boh\r\n    3\t         Foo \t      Bar\t     xxx\t boh\r\n\r\nand table2\r\n\r\n     PersonID\tfield2\tfield3\tfield4\t field5\r\n     1          boh     xxx     Foo      Bar\r\n     2          boh     xxx     Foo      Bar\r\n     3          boh     xxx     Foo      Bar\r\n\r\nI&#39;ve tried with this sample code:\r\n\r\n    \r\n    ResultSet table1 = s.executeQuery(&quot;Select * from table1&quot;);\r\n    ResultSet table2 = s.executeQuery(&quot;Select * from table2&quot;);\r\n     \r\n    while(table1.next()) {\r\n         table2.insertRow();\r\n    }\r\n\r\nBut with just that instruction I got &quot;The result set is closed.&quot; error.\r\nCan I insert in table2 the same amount of rows of table1?\r\nThen I tought about adding information by reading informations from table1 and adding them to table2 with the resultset updateRow method.\r\n\r\nEDIT: Table2 in the beginning should be empty, with just the structure created.\r\n\r\nThanks in advance.\r\n\r\n","title":"Insert data from a table into another table with resulsets","body":"<p>I need to migrate some table's data into another table in the same database;</p>\n<p>for example table1:</p>\n<pre><code>PersonID    LastName    FirstName   Address  City\n1            Foo          Bar        xxx     boh\n2            Foo          Bar        xxx     boh\n3            Foo          Bar        xxx     boh\n</code></pre>\n<p>and table2</p>\n<pre><code> PersonID   field2  field3  field4   field5\n 1          boh     xxx     Foo      Bar\n 2          boh     xxx     Foo      Bar\n 3          boh     xxx     Foo      Bar\n</code></pre>\n<p>I've tried with this sample code:</p>\n<pre><code>ResultSet table1 = s.executeQuery(&quot;Select * from table1&quot;);\nResultSet table2 = s.executeQuery(&quot;Select * from table2&quot;);\n \nwhile(table1.next()) {\n     table2.insertRow();\n}\n</code></pre>\n<p>But with just that instruction I got &quot;The result set is closed.&quot; error.\nCan I insert in table2 the same amount of rows of table1?\nThen I tought about adding information by reading informations from table1 and adding them to table2 with the resultset updateRow method.</p>\n<p>EDIT: Table2 in the beginning should be empty, with just the structure created.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sorting","recursion","mergesort"],"answers":[{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667480177,"creation_date":1667480177,"answer_id":74303463,"question_id":74302021,"body_markdown":"You should use set, not add in the final step. If you tried to debug the merge procedure and watched the &quot;a&quot; contents, you would see that it grows at each merge.\r\n```\r\nfor(j = 0; j&lt; n; j++)\r\n{\r\n    a.set(from+j, b.get(j));;\r\n}\r\n```\r\n\r\nAlso, in Java, it&#39;s considered a good style to program to interfaces, not concrete classes, so you might want to replace ArrayList with List in variable declarations.","title":"why is my merge sort only sorting up to 4 elements in java","body":"<p>You should use set, not add in the final step. If you tried to debug the merge procedure and watched the &quot;a&quot; contents, you would see that it grows at each merge.</p>\n<pre><code>for(j = 0; j&lt; n; j++)\n{\n    a.set(from+j, b.get(j));;\n}\n</code></pre>\n<p>Also, in Java, it's considered a good style to program to interfaces, not concrete classes, so you might want to replace ArrayList with List in variable declarations.</p>\n"}],"owner":{"account_id":26816989,"reputation":3,"user_id":20406849,"display_name":"Christopher Alden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74303463,"answer_count":1,"score":0,"last_activity_date":1667480642,"creation_date":1667473278,"question_id":74302021,"body_markdown":"I&#39;m trying to sort the names of patient into the view list, where it displays the lists of patients sorted alphabetically. However after using the merge sort (required), it only sorts up to four elements before it overwrites the other names. Also it would be helpful if I can link the sickness to the patients when sorting.\r\n\r\nI tried using the merge sort which was required and after following the steps, the merge sort malfunctioned and did not display the names correctly. when there are under 3 elements, the sort would function normally, but if there are more than three it will overwrite the others.\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\npublic static void mergeSort(ArrayList&lt;String&gt; a, Integer from, Integer to)\r\n{\r\n    if(from == to)\r\n    {\r\n        return;\r\n    }\r\n    Integer mid = (from + to)/2;\r\n    mergeSort(a, from, mid);\r\n    mergeSort(a, mid+1, to);\r\n    merge(a, from, mid, to);\r\n}\r\n\r\npublic static void merge(ArrayList&lt;String&gt; a, Integer from, Integer mid, Integer to)\r\n{\r\n    Integer n = to - from + 1;\r\n    ArrayList&lt;String&gt; b =  new ArrayList&lt;&gt;(n);\r\n    Integer i1 = from;\r\n    Integer i2 = mid +1;\r\n    Integer j = 0;\r\n    while(i1&lt;= mid &amp;&amp; i2 &lt;= to)\r\n    {\r\n        if(a.get(i1).compareTo(a.get(i2))&lt;0)\r\n        {\r\n            b.add(a.get(i1));\r\n            i1++;\r\n        }\r\n        else\r\n        {\r\n            b.add(a.get(i2));\r\n            i2++;\r\n        }\r\n        j++;\r\n    }\r\n    while (i1 &lt;= mid)\r\n    {\r\n        b.add(a.get(i1));\r\n        i1++;\r\n        j++;\r\n    }\r\n    while (i2 &lt;= to)\r\n    {\r\n        b.add(a.get(i2));\r\n        i2++;\r\n        j++;\r\n    }\r\n    for(j = 0; j&lt; n; j++)\r\n    {\r\n        a.add(from+j, b.get(j));;\r\n    }\r\n}\r\n```\r\n","title":"why is my merge sort only sorting up to 4 elements in java","body":"<p>I'm trying to sort the names of patient into the view list, where it displays the lists of patients sorted alphabetically. However after using the merge sort (required), it only sorts up to four elements before it overwrites the other names. Also it would be helpful if I can link the sickness to the patients when sorting.</p>\n<p>I tried using the merge sort which was required and after following the steps, the merge sort malfunctioned and did not display the names correctly. when there are under 3 elements, the sort would function normally, but if there are more than three it will overwrite the others.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void mergeSort(ArrayList&lt;String&gt; a, Integer from, Integer to)\n{\n    if(from == to)\n    {\n        return;\n    }\n    Integer mid = (from + to)/2;\n    mergeSort(a, from, mid);\n    mergeSort(a, mid+1, to);\n    merge(a, from, mid, to);\n}\n\npublic static void merge(ArrayList&lt;String&gt; a, Integer from, Integer mid, Integer to)\n{\n    Integer n = to - from + 1;\n    ArrayList&lt;String&gt; b =  new ArrayList&lt;&gt;(n);\n    Integer i1 = from;\n    Integer i2 = mid +1;\n    Integer j = 0;\n    while(i1&lt;= mid &amp;&amp; i2 &lt;= to)\n    {\n        if(a.get(i1).compareTo(a.get(i2))&lt;0)\n        {\n            b.add(a.get(i1));\n            i1++;\n        }\n        else\n        {\n            b.add(a.get(i2));\n            i2++;\n        }\n        j++;\n    }\n    while (i1 &lt;= mid)\n    {\n        b.add(a.get(i1));\n        i1++;\n        j++;\n    }\n    while (i2 &lt;= to)\n    {\n        b.add(a.get(i2));\n        i2++;\n        j++;\n    }\n    for(j = 0; j&lt; n; j++)\n    {\n        a.add(from+j, b.get(j));;\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","rest-assured","gherkin"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667525156,"post_id":74293542,"comment_id":131192844,"body_markdown":"Did I answer your question? It would be nice getting feedback from you.","body":"Did I answer your question? It would be nice getting feedback from you."},{"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"score":1,"creation_date":1667567461,"post_id":74293542,"comment_id":131202881,"body_markdown":"Oh thank you for your advice . I tried background options and that is awesome idea for me","body":"Oh thank you for your advice . I tried background options and that is awesome idea for me"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667479941,"creation_date":1667437977,"answer_id":74297204,"question_id":74293542,"body_markdown":"***Can*** you do this? Yes, you can.\r\n\r\n***Should*** you do this? Absolutely not! Unless, you are creating a *Background* to do this.\r\n\r\nUnder no circumstance, you should create a scenario that depends on another scenario. Scenarios are meant to be run independently and in no specific order. Creating a dependency such as the one you described here is counterproductive. But, against my better judgment, I am going to show you how to do it...\r\n\r\n*Create a global variable!*\r\n```\r\npublic class MyFeatureClass {\r\n\r\n    private String folderName = &quot;&quot;;\r\n\r\n    @When(&quot;^I create folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\r\n    public void createFolder(String name) {\r\n\r\n        response = RestAssured.given()\r\n            .baseUri(prp_url)\r\n            .accept(&quot;application/json&quot;)\r\n            .contentType(&quot;application/json&quot;)\r\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\r\n            .header(&quot;Folder-Name&quot;, name)\r\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\r\n            .queryParam(&quot;parentFolderUuid&quot;, &quot;&quot;)\r\n            .when()\r\n            .post(&quot;/filesystem/createFolder&quot;)\r\n            .then().extract().response();\r\n\r\n        getUuid = getJsonPath(response, &quot;uuid&quot;);\r\n        folderName = // whatever;\r\n    }\r\n\r\n    @When(&quot;^I send create inside the folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\r\n    public void createInsideFolder(String name) {\r\n\r\n        // Use &quot;folderName&quot; here\r\n        String uuid = getUuid();\r\n\r\n        response = RestAssured.given()\r\n            .baseUri(prp_url)\r\n            .accept(&quot;application/json&quot;)\r\n            .contentType(&quot;application/json&quot;)\r\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\r\n            .header(&quot;Folder-Name&quot;, name)\r\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\r\n            .queryParam(&quot;parentFolderUuid&quot;, getUuid)\r\n            .when()\r\n            .post(&quot;/filesystem/createFolder&quot;)\r\n            .then()\r\n            .extract().response();\r\n    }\r\n}\r\n```\r\n\r\nA better approach is to use a `Background`. A background in Cucumber is very much the same as what `@Before` annotation is for JUnit or TestNG. A background step definition is a chunk of code that runs automatically before each scenario (whether a particular scenario needs it or not). This is the correct place to resolve all the dependencies a scenario might need to execute correctly. In the cucumber file, add a background after the declaration of the feature, like this:\r\n\r\n```\r\nFeature: Test Background Feature\r\nDescription: The purpose of this feature is to test the Background keyword\r\n\r\nBackground: Files and Folders are created\r\n\tWhen I create folder with &quot;XYZ&quot; name api\r\n\r\nScenario: Create subfolder\r\n\tGiven Open my app\r\n\tWhen I send create inside the folder with &quot;1&quot; name api\r\n\tThen I can create files inside folder\r\n```\r\n\r\nTo access this variable, do the same as I proposed: declare it as global. When you add scenarios to this feature that require this attribute, they will be able to access it automatically.\r\n\r\nIf you are required to use a variable in between steps, you should be able to use the same strategy.","title":"How to use variable from generate method to another method","body":"<p><em><strong>Can</strong></em> you do this? Yes, you can.</p>\n<p><em><strong>Should</strong></em> you do this? Absolutely not! Unless, you are creating a <em>Background</em> to do this.</p>\n<p>Under no circumstance, you should create a scenario that depends on another scenario. Scenarios are meant to be run independently and in no specific order. Creating a dependency such as the one you described here is counterproductive. But, against my better judgment, I am going to show you how to do it...</p>\n<p><em>Create a global variable!</em></p>\n<pre><code>public class MyFeatureClass {\n\n    private String folderName = &quot;&quot;;\n\n    @When(&quot;^I create folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\n    public void createFolder(String name) {\n\n        response = RestAssured.given()\n            .baseUri(prp_url)\n            .accept(&quot;application/json&quot;)\n            .contentType(&quot;application/json&quot;)\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\n            .header(&quot;Folder-Name&quot;, name)\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\n            .queryParam(&quot;parentFolderUuid&quot;, &quot;&quot;)\n            .when()\n            .post(&quot;/filesystem/createFolder&quot;)\n            .then().extract().response();\n\n        getUuid = getJsonPath(response, &quot;uuid&quot;);\n        folderName = // whatever;\n    }\n\n    @When(&quot;^I send create inside the folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\n    public void createInsideFolder(String name) {\n\n        // Use &quot;folderName&quot; here\n        String uuid = getUuid();\n\n        response = RestAssured.given()\n            .baseUri(prp_url)\n            .accept(&quot;application/json&quot;)\n            .contentType(&quot;application/json&quot;)\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\n            .header(&quot;Folder-Name&quot;, name)\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\n            .queryParam(&quot;parentFolderUuid&quot;, getUuid)\n            .when()\n            .post(&quot;/filesystem/createFolder&quot;)\n            .then()\n            .extract().response();\n    }\n}\n</code></pre>\n<p>A better approach is to use a <code>Background</code>. A background in Cucumber is very much the same as what <code>@Before</code> annotation is for JUnit or TestNG. A background step definition is a chunk of code that runs automatically before each scenario (whether a particular scenario needs it or not). This is the correct place to resolve all the dependencies a scenario might need to execute correctly. In the cucumber file, add a background after the declaration of the feature, like this:</p>\n<pre><code>Feature: Test Background Feature\nDescription: The purpose of this feature is to test the Background keyword\n\nBackground: Files and Folders are created\n    When I create folder with &quot;XYZ&quot; name api\n\nScenario: Create subfolder\n    Given Open my app\n    When I send create inside the folder with &quot;1&quot; name api\n    Then I can create files inside folder\n</code></pre>\n<p>To access this variable, do the same as I proposed: declare it as global. When you add scenarios to this feature that require this attribute, they will be able to access it automatically.</p>\n<p>If you are required to use a variable in between steps, you should be able to use the same strategy.</p>\n"}],"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74297204,"answer_count":1,"score":0,"last_activity_date":1667479941,"creation_date":1667410889,"question_id":74293542,"body_markdown":"In short when i run this commend  `mvn clean test -D&quot;cucumber.filter.tags=@Test1&quot;` after i run   `mvn clean test -D&quot;cucumber.filter.tags=@Test2&quot;` command i want i can use the variable created in the previous method in the other method. For example;\r\n```\r\n@Test1\r\nScenario: Create Folder\r\n    When I create folder with &quot;test&quot; name api\r\n```\r\nThis scenerio linked this method \r\n\r\n \r\n```\r\n@When(&quot;^I create folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\r\npublic void createFolder(String name) {\r\n\r\n    response = RestAssured.given()\r\n            .baseUri(prp_url)\r\n            .accept(&quot;application/json&quot;)\r\n            .contentType(&quot;application/json&quot;)\r\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\r\n            .header(&quot;Folder-Name&quot;, name)\r\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\r\n            .queryParam(&quot;parentFolderUuid&quot;, &quot;&quot;)\r\n            .when()\r\n            .post(&quot;/filesystem/createFolder&quot;)\r\n            .then().extract().response();\r\n\r\n    getUuid = getJsonPath(response, &quot;uuid&quot;);    \r\n}\r\n```\r\nAnd here is my second scenerio\r\n````\r\n@Test2\r\nScenario: Create inside the Folder\r\n    When I send create inside the folder with &quot;1&quot; name api\r\n```\r\n\r\nAnd this scenerio is also linked this method\r\n```\r\n@When(&quot;^I send create inside the folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\r\npublic void createInsideFolder(String name) {\r\n\r\n    String uuid = getUuid();\r\n\r\n    response = RestAssured.given()\r\n            .baseUri(prp_url)\r\n            .accept(&quot;application/json&quot;)\r\n            .contentType(&quot;application/json&quot;)\r\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\r\n            .header(&quot;Folder-Name&quot;, name)\r\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\r\n            .queryParam(&quot;parentFolderUuid&quot;, getUuid)\r\n            .when()\r\n            .post(&quot;/filesystem/createFolder&quot;)\r\n            .then()\r\n            .extract().response();\r\n}\r\n```\r\nSo when I use the same tag, I can use the variable created in the previous method in the other method, but when I run each scenario with different tags, I get a null pointer error. How can I run 2 scenarios separately and use the variable in the previous method in the other method?","title":"How to use variable from generate method to another method","body":"<p>In short when i run this commend  <code>mvn clean test -D&quot;cucumber.filter.tags=@Test1&quot;</code> after i run   <code>mvn clean test -D&quot;cucumber.filter.tags=@Test2&quot;</code> command i want i can use the variable created in the previous method in the other method. For example;</p>\n<pre><code>@Test1\nScenario: Create Folder\n    When I create folder with &quot;test&quot; name api\n</code></pre>\n<p>This scenerio linked this method</p>\n<pre><code>@When(&quot;^I create folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\npublic void createFolder(String name) {\n\n    response = RestAssured.given()\n            .baseUri(prp_url)\n            .accept(&quot;application/json&quot;)\n            .contentType(&quot;application/json&quot;)\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\n            .header(&quot;Folder-Name&quot;, name)\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\n            .queryParam(&quot;parentFolderUuid&quot;, &quot;&quot;)\n            .when()\n            .post(&quot;/filesystem/createFolder&quot;)\n            .then().extract().response();\n\n    getUuid = getJsonPath(response, &quot;uuid&quot;);    \n}\n</code></pre>\n<p>And here is my second scenerio</p>\n<pre><code>@Test2\nScenario: Create inside the Folder\n    When I send create inside the folder with &quot;1&quot; name api\n```\n\nAnd this scenerio is also linked this method\n```\n@When(&quot;^I send create inside the folder with \\&quot;([^\\&quot;]*)\\&quot; name api$&quot;)\npublic void createInsideFolder(String name) {\n\n    String uuid = getUuid();\n\n    response = RestAssured.given()\n            .baseUri(prp_url)\n            .accept(&quot;application/json&quot;)\n            .contentType(&quot;application/json&quot;)\n            .header(&quot;X-Auth-Token&quot;, xAuthToken.userAuth())\n            .header(&quot;Folder-Name&quot;, name)\n            .header(&quot;Folder-Uuid&quot;, &quot;123456&quot;)\n            .queryParam(&quot;parentFolderUuid&quot;, getUuid)\n            .when()\n            .post(&quot;/filesystem/createFolder&quot;)\n            .then()\n            .extract().response();\n}\n```\nSo when I use the same tag, I can use the variable created in the previous method in the other method, but when I run each scenario with different tags, I get a null pointer error. How can I run 2 scenarios separately and use the variable in the previous method in the other method?\n</code></pre>\n"},{"tags":["java","eclipse","maven","eclipse-plugin","dependencies"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1590604009,"post_id":62049767,"comment_id":109745354,"body_markdown":"Which class is stated? Can you post significative stack trace and pom.xml? Meanwhile, take a look at this [Why am I getting a NoClassDefFoundError in Java?](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java)","body":"Which class is stated? Can you post significative stack trace and pom.xml? Meanwhile, take a look at this <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>"},{"owner":{"account_id":10034586,"reputation":351,"user_id":8799005,"display_name":"Sou"},"score":0,"creation_date":1590605115,"post_id":62049767,"comment_id":109745869,"body_markdown":"I am using Swagger-Parser,  when I run my code from a main as a Java Application, it runs fine. But when I run it as a plug-in it doesn&#39;t. The class which is not found is java.lang.NoClassDefFoundError: io/swagger/v3/parser/OpenAPIV3Parser","body":"I am using Swagger-Parser,  when I run my code from a main as a Java Application, it runs fine. But when I run it as a plug-in it doesn&#39;t. The class which is not found is java.lang.NoClassDefFoundError: io/swagger/v3/parser/OpenAPIV3Parser"},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1590605795,"post_id":62049767,"comment_id":109746220,"body_markdown":"Can you post how do you run it as a plugin, maven goal?","body":"Can you post how do you run it as a plugin, maven goal?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1590674071,"creation_date":1590611919,"answer_id":62052478,"question_id":62049767,"body_markdown":"Eclipse plug-ins **must** use the `Require-Bundle` or `Import-Package` statements in the plug-in&#39;s MANIFEST.MF to specify their dependencies. \r\n\r\nPlug-ins can only be dependent on other plug-ins. \r\n\r\nIf you want to use a jar which is not a plug-in it must be included in the plug-in and included in the `Bundle-Classpath` in the MANIFEST.MF. You will also have to update the `build.properties` file to include the jars in the plug-in build.\r\n\r\nExample MANIFEST.MF extract that includes 3 jars in the plug-in:\r\n\r\n```none\r\nRequire-Bundle: greg.music.core;bundle-version=&quot;1.0.0&quot;,\r\n greg.music.resources;bundle-version=&quot;1.0.0&quot;,\r\n org.eclipse.core.runtime,\r\n javazoom.jlgui.basicplayer,\r\n org.eclipse.e4.core.services;bundle-version=&quot;2.0.100&quot;\r\nBundle-ClassPath: .,\r\n lib/jogg-0.0.7.jar,\r\n lib/jorbis-0.0.15.jar,\r\n lib/vorbisspi1.0.2.jar\r\nImport-Package: javax.annotation;version=&quot;1.0.0&quot;,\r\n javax.inject;version=&quot;1.0.0&quot;,\r\n org.eclipse.e4.core.di.annotations\r\n```\r\n\r\nMatching build.properties\r\n\r\n```none\r\nsource.. = src/\r\noutput.. = bin/\r\nbin.includes = META-INF/,\\\r\n               .,\\\r\n               plugin.properties,\\\r\n               plugin.xml,\\\r\n               lib/jogg-0.0.7.jar,\\\r\n               lib/jorbis-0.0.15.jar,\\\r\n               lib/vorbisspi1.0.2.jar\r\n```","title":"Managing dependencies of a Eclipse plug-in project using Maven","body":"<p>Eclipse plug-ins <strong>must</strong> use the <code>Require-Bundle</code> or <code>Import-Package</code> statements in the plug-in's MANIFEST.MF to specify their dependencies. </p>\n\n<p>Plug-ins can only be dependent on other plug-ins. </p>\n\n<p>If you want to use a jar which is not a plug-in it must be included in the plug-in and included in the <code>Bundle-Classpath</code> in the MANIFEST.MF. You will also have to update the <code>build.properties</code> file to include the jars in the plug-in build.</p>\n\n<p>Example MANIFEST.MF extract that includes 3 jars in the plug-in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Require-Bundle: greg.music.core;bundle-version=\"1.0.0\",\n greg.music.resources;bundle-version=\"1.0.0\",\n org.eclipse.core.runtime,\n javazoom.jlgui.basicplayer,\n org.eclipse.e4.core.services;bundle-version=\"2.0.100\"\nBundle-ClassPath: .,\n lib/jogg-0.0.7.jar,\n lib/jorbis-0.0.15.jar,\n lib/vorbisspi1.0.2.jar\nImport-Package: javax.annotation;version=\"1.0.0\",\n javax.inject;version=\"1.0.0\",\n org.eclipse.e4.core.di.annotations\n</code></pre>\n\n<p>Matching build.properties</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>source.. = src/\noutput.. = bin/\nbin.includes = META-INF/,\\\n               .,\\\n               plugin.properties,\\\n               plugin.xml,\\\n               lib/jogg-0.0.7.jar,\\\n               lib/jorbis-0.0.15.jar,\\\n               lib/vorbisspi1.0.2.jar\n</code></pre>\n"}],"owner":{"account_id":10034586,"reputation":351,"user_id":8799005,"display_name":"Sou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62052478,"answer_count":1,"score":5,"last_activity_date":1667479919,"creation_date":1590602141,"question_id":62049767,"body_markdown":"I am trying to use Maven for managing the dependencies of my plug-in project. The dependencies are correctly stated in the POM.xml. Even though, I get the exception :  \r\n\r\n&gt; java.lang.NoClassDefFoundError\r\n\r\nIs it the correct way for solving dependencies for an Eclipse plug-in project?  \r\n\r\n ","title":"Managing dependencies of a Eclipse plug-in project using Maven","body":"<p>I am trying to use Maven for managing the dependencies of my plug-in project. The dependencies are correctly stated in the POM.xml. Even though, I get the exception :  </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError</p>\n</blockquote>\n\n<p>Is it the correct way for solving dependencies for an Eclipse plug-in project?  </p>\n"},{"tags":["java","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667396085,"post_id":74290025,"comment_id":131156727,"body_markdown":"make a pom &quot;in between&quot; those two that inherits from the springboot thing and is the parent of your project.","body":"make a pom &quot;in between&quot; those two that inherits from the springboot thing and is the parent of your project."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667396590,"post_id":74290025,"comment_id":131156947,"body_markdown":"It&#39;s usually done by using the dependency management tag in the parent pom, please read about it here https://www.baeldung.com/maven-dependencymanagement-vs-dependencies-tags","body":"It&#39;s usually done by using the dependency management tag in the parent pom, please read about it here <a href=\"https://www.baeldung.com/maven-dependencymanagement-vs-dependencies-tags\" rel=\"nofollow noreferrer\">baeldung.com/maven-dependencymanagement-vs-dependencies-tags</a>"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667479656,"creation_date":1667396270,"answer_id":74290115,"question_id":74290025,"body_markdown":"In the `parent.pom` add dependency with version to `&lt;dependencyManagement&gt;` section. In this case, in the `child.pom` you will be able to add this dependency **without version**.\r\n\r\nYou can get more details in the official documentation [Introduction to the Dependency Mechanism][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to make dependencies version option on inherited pom","body":"<p>In the <code>parent.pom</code> add dependency with version to <code>&lt;dependencyManagement&gt;</code> section. In this case, in the <code>child.pom</code> you will be able to add this dependency <strong>without version</strong>.</p>\n<p>You can get more details in the official documentation <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">Introduction to the Dependency Mechanism</a></p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667479656,"creation_date":1667395961,"question_id":74290025,"body_markdown":"My question is very simple:\r\n\r\nWhen i&#39;m creating a maven project if i chose to make my pom inherit from \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt; \r\n    &lt;/parent&gt;\r\n\r\nfor all dependencies I include, if it is included in the parent&#39;s pom i dont need to specify which version i&#39;m using in the inherited pom.\r\n\r\nThat is an amazing thing and avoid using multiple versions of same library.\r\n\r\nthe question is, HOW TO ACHIEVE THIS BEHAVIOR\r\n\r\nI&#39;ve a parent pom for my projects, but when I extend it, the childs pom still need to specify each dependency version evem thought it is specified in the parents pom... this causes me the need to update dependencies version multiple places everytime one dependency changed it&#39;s version\r\n\r\nI end up by doing somthing like (child pom):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;br.com.fisgar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fisgar-model&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut i would like to make possible omit the version as a whole, same way as the spring dependency.\r\n\r\nhow can i do that","title":"How to make dependencies version option on inherited pom","body":"<p>My question is very simple:</p>\n<p>When i'm creating a maven project if i chose to make my pom inherit from</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>for all dependencies I include, if it is included in the parent's pom i dont need to specify which version i'm using in the inherited pom.</p>\n<p>That is an amazing thing and avoid using multiple versions of same library.</p>\n<p>the question is, HOW TO ACHIEVE THIS BEHAVIOR</p>\n<p>I've a parent pom for my projects, but when I extend it, the childs pom still need to specify each dependency version evem thought it is specified in the parents pom... this causes me the need to update dependencies version multiple places everytime one dependency changed it's version</p>\n<p>I end up by doing somthing like (child pom):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;br.com.fisgar&lt;/groupId&gt;\n    &lt;artifactId&gt;fisgar-model&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but i would like to make possible omit the version as a whole, same way as the spring dependency.</p>\n<p>how can i do that</p>\n"},{"tags":["java","rx-java","rx-java3"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1665670138,"post_id":74057064,"comment_id":130757683,"body_markdown":"For one, there is a replay overload that eagerly removes old entries to avoid leaks: http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Observable.html#replay-int-boolean-","body":"For one, there is a replay overload that eagerly removes old entries to avoid leaks: <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Observable.html#replay-int-boolean-\" rel=\"nofollow noreferrer\">reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/&hellip;</a>"},{"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"score":0,"creation_date":1665673690,"post_id":74057064,"comment_id":130759080,"body_markdown":"@akarnokd - the issue is that the completed observable won&#39;t be marked for removal in the first place...","body":"@akarnokd - the issue is that the completed observable won&#39;t be marked for removal in the first place..."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1665815847,"post_id":74057064,"comment_id":130791037,"body_markdown":"I don&#39;t think this can be done with existing operators. You could get rid of the cached group&#39;s item by materializing after `onErrorComplete` so the `replay(1, true)` holds onto a value or the completion indicator. However, removing the entire timed out group from the outer `replay` is not possible.","body":"I don&#39;t think this can be done with existing operators. You could get rid of the cached group&#39;s item by materializing after <code>onErrorComplete</code> so the <code>replay(1, true)</code> holds onto a value or the completion indicator. However, removing the entire timed out group from the outer <code>replay</code> is not possible."}],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665819927,"creation_date":1665819927,"answer_id":74077624,"question_id":74057064,"body_markdown":"Unfortunately, this can&#39;t be achieved with standard operators. You&#39;d have to write a custom operator, which can be approximated by using some standard operators and manual internal state management. This is what I came up with:\r\n\r\n```java\r\nrecord MessageValue&lt;T&gt;(T value) { }\r\nrecord MessageSubscriber&lt;T&gt;(Emitter&lt;T&gt; emitter) { }\r\nrecord MessageDisposed&lt;T&gt;(Emitter&lt;T&gt; emitter) { }\r\nrecord MessageTimeout&lt;K&gt;(K key, long id) { }\r\nrecord CachedValue&lt;T&gt;(T value, long id, Disposable timeout) { }\r\n\r\npublic static &lt;T, K&gt; Observable&lt;T&gt; groupCacheLatestWithTimeout(\r\n        Observable&lt;T&gt; source, \r\n        long timeout, TimeUnit unit, Scheduler scheduler,\r\n        Function&lt;T, K&gt; keySelector) {\r\n    Subject&lt;Object&gt; messageQueue = PublishSubject.create().toSerialized(); \r\n    \r\n    Map&lt;K, CachedValue&lt;T&gt;&gt; cache = new LinkedHashMap&lt;&gt;();\r\n    List&lt;Emitter&lt;T&gt;&gt; emitters = new ArrayList&lt;&gt;();\r\n    \r\n    AtomicLong idGenerator = new AtomicLong();\r\n\r\n    var result = Observable.&lt;T&gt;create(emitter -&gt; {\r\n        messageQueue.onNext(new MessageSubscriber&lt;T&gt;(emitter));\r\n        emitter.setCancellable(() -&gt; {\r\n            messageQueue.onNext(new MessageDisposed&lt;T&gt;(emitter));\r\n        });\r\n    });\r\n    \r\n    messageQueue.subscribe(message -&gt; {\r\n        if (message instanceof MessageValue) {\r\n            var mv = ((MessageValue&lt;T&gt;)message).value;\r\n            var key = keySelector.apply(mv);\r\n            \r\n            var old = cache.get(key);\r\n            if (old != null) {\r\n                old.timeout.dispose();\r\n            }\r\n            \r\n            var id = idGenerator.incrementAndGet();\r\n            \r\n            var dispose = scheduler.scheduleDirect(() -&gt; {\r\n                messageQueue.onNext(new MessageTimeout&lt;K&gt;(key, id));\r\n            });\r\n            \r\n            cache.put(key, new CachedValue&lt;T&gt;(mv, id, dispose));\r\n            \r\n            for (var emitter : emitters) {\r\n                emitter.onNext(mv);\r\n            }\r\n        }\r\n        else if (message instanceof MessageSubscriber) {\r\n            \r\n            var me = ((MessageSubscriber&lt;T&gt;)message).emitter;\r\n            emitters.add(me);\r\n            \r\n            for (var entry : cache.values()) {\r\n                me.onNext(entry.value);\r\n            }\r\n        }\r\n        else if (message instanceof MessageDisposed) {\r\n            var md = ((MessageDisposed&lt;T&gt;)message).emitter;\r\n            emitters.remove(md);\r\n        }\r\n        else if (message instanceof MessageTimeout) {\r\n            var mt = ((MessageTimeout&lt;K&gt;)message);\r\n            \r\n            var entry = cache.get(mt.key);\r\n            if (entry.id == mt.id) {\r\n                cache.remove(mt.key);\r\n            }\r\n        }\r\n    });\r\n    \r\n    source.subscribe(value -&gt; {\r\n        messageQueue.onNext(new MessageValue&lt;&gt;(value));\r\n    });\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nWhat needs to happen is to create an event loop and serialize interactions with the cache: cache the latest upstream item, timeout the cache entry, manage new subscribers and replays, remove subscribers.\r\n\r\nYou can test it like this:\r\n\r\n```java\r\nvar subject = PublishSubject.&lt;String&gt;create();\r\nvar sched = new TestScheduler();\r\nvar output = groupCacheLatestWithTimeout(subject, \r\n        5, TimeUnit.SECONDS, sched, \r\n        k -&gt; k.substring(0, 2));\r\n\r\nvar to1 = output.test();\r\n\r\nto1.assertEmpty();\r\n\r\nsubject.onNext(&quot;g1-1&quot;);\r\n\r\nto1.assertValuesOnly(&quot;g1-1&quot;);\r\n\r\nsubject.onNext(&quot;g1-2&quot;);\r\n\r\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;);\r\n\r\nvar to2 = output.test();\r\n\r\nto2.assertValuesOnly(&quot;g1-2&quot;);\r\n\r\nsched.advanceTimeBy(10, TimeUnit.SECONDS);\r\n\r\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;);\r\nto2.assertValuesOnly(&quot;g1-2&quot;);\r\n\r\nvar to3 = output.test();\r\n\r\nto3.assertEmpty();\r\n\r\nsubject.onNext(&quot;g1-3&quot;);\r\n\r\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;, &quot;g1-3&quot;);\r\nto2.assertValuesOnly(&quot;g1-2&quot;, &quot;g1-3&quot;);\r\nto3.assertValuesOnly(&quot;g1-3&quot;);\r\n\r\nto1.dispose();\r\n\r\nsubject.onNext(&quot;g1-4&quot;);\r\n\r\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;, &quot;g1-3&quot;);\r\nto2.assertValuesOnly(&quot;g1-2&quot;, &quot;g1-3&quot;, &quot;g1-4&quot;);\r\nto3.assertValuesOnly(&quot;g1-3&quot;, &quot;g1-4&quot;);\r\n```","title":"Custom expiry for replay() operator","body":"<p>Unfortunately, this can't be achieved with standard operators. You'd have to write a custom operator, which can be approximated by using some standard operators and manual internal state management. This is what I came up with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record MessageValue&lt;T&gt;(T value) { }\nrecord MessageSubscriber&lt;T&gt;(Emitter&lt;T&gt; emitter) { }\nrecord MessageDisposed&lt;T&gt;(Emitter&lt;T&gt; emitter) { }\nrecord MessageTimeout&lt;K&gt;(K key, long id) { }\nrecord CachedValue&lt;T&gt;(T value, long id, Disposable timeout) { }\n\npublic static &lt;T, K&gt; Observable&lt;T&gt; groupCacheLatestWithTimeout(\n        Observable&lt;T&gt; source, \n        long timeout, TimeUnit unit, Scheduler scheduler,\n        Function&lt;T, K&gt; keySelector) {\n    Subject&lt;Object&gt; messageQueue = PublishSubject.create().toSerialized(); \n    \n    Map&lt;K, CachedValue&lt;T&gt;&gt; cache = new LinkedHashMap&lt;&gt;();\n    List&lt;Emitter&lt;T&gt;&gt; emitters = new ArrayList&lt;&gt;();\n    \n    AtomicLong idGenerator = new AtomicLong();\n\n    var result = Observable.&lt;T&gt;create(emitter -&gt; {\n        messageQueue.onNext(new MessageSubscriber&lt;T&gt;(emitter));\n        emitter.setCancellable(() -&gt; {\n            messageQueue.onNext(new MessageDisposed&lt;T&gt;(emitter));\n        });\n    });\n    \n    messageQueue.subscribe(message -&gt; {\n        if (message instanceof MessageValue) {\n            var mv = ((MessageValue&lt;T&gt;)message).value;\n            var key = keySelector.apply(mv);\n            \n            var old = cache.get(key);\n            if (old != null) {\n                old.timeout.dispose();\n            }\n            \n            var id = idGenerator.incrementAndGet();\n            \n            var dispose = scheduler.scheduleDirect(() -&gt; {\n                messageQueue.onNext(new MessageTimeout&lt;K&gt;(key, id));\n            });\n            \n            cache.put(key, new CachedValue&lt;T&gt;(mv, id, dispose));\n            \n            for (var emitter : emitters) {\n                emitter.onNext(mv);\n            }\n        }\n        else if (message instanceof MessageSubscriber) {\n            \n            var me = ((MessageSubscriber&lt;T&gt;)message).emitter;\n            emitters.add(me);\n            \n            for (var entry : cache.values()) {\n                me.onNext(entry.value);\n            }\n        }\n        else if (message instanceof MessageDisposed) {\n            var md = ((MessageDisposed&lt;T&gt;)message).emitter;\n            emitters.remove(md);\n        }\n        else if (message instanceof MessageTimeout) {\n            var mt = ((MessageTimeout&lt;K&gt;)message);\n            \n            var entry = cache.get(mt.key);\n            if (entry.id == mt.id) {\n                cache.remove(mt.key);\n            }\n        }\n    });\n    \n    source.subscribe(value -&gt; {\n        messageQueue.onNext(new MessageValue&lt;&gt;(value));\n    });\n\n    return result;\n}\n</code></pre>\n<p>What needs to happen is to create an event loop and serialize interactions with the cache: cache the latest upstream item, timeout the cache entry, manage new subscribers and replays, remove subscribers.</p>\n<p>You can test it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var subject = PublishSubject.&lt;String&gt;create();\nvar sched = new TestScheduler();\nvar output = groupCacheLatestWithTimeout(subject, \n        5, TimeUnit.SECONDS, sched, \n        k -&gt; k.substring(0, 2));\n\nvar to1 = output.test();\n\nto1.assertEmpty();\n\nsubject.onNext(&quot;g1-1&quot;);\n\nto1.assertValuesOnly(&quot;g1-1&quot;);\n\nsubject.onNext(&quot;g1-2&quot;);\n\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;);\n\nvar to2 = output.test();\n\nto2.assertValuesOnly(&quot;g1-2&quot;);\n\nsched.advanceTimeBy(10, TimeUnit.SECONDS);\n\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;);\nto2.assertValuesOnly(&quot;g1-2&quot;);\n\nvar to3 = output.test();\n\nto3.assertEmpty();\n\nsubject.onNext(&quot;g1-3&quot;);\n\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;, &quot;g1-3&quot;);\nto2.assertValuesOnly(&quot;g1-2&quot;, &quot;g1-3&quot;);\nto3.assertValuesOnly(&quot;g1-3&quot;);\n\nto1.dispose();\n\nsubject.onNext(&quot;g1-4&quot;);\n\nto1.assertValuesOnly(&quot;g1-1&quot;, &quot;g1-2&quot;, &quot;g1-3&quot;);\nto2.assertValuesOnly(&quot;g1-2&quot;, &quot;g1-3&quot;, &quot;g1-4&quot;);\nto3.assertValuesOnly(&quot;g1-3&quot;, &quot;g1-4&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667479511,"creation_date":1667476876,"answer_id":74302737,"question_id":74057064,"body_markdown":"This is the solution I went with. Whilst I think its subjectively simpler than what @akarnkd replied with - I would not have been able to come up with it without having read that answer first.\r\n\r\n    Observable&lt;Snapshot&gt; snapshots = getContinuousSnapshotsStream();\r\n    \r\n    var scheduler = Schedulers.single(); // synchronizer to ensure no race condition where we miss events.\r\n    var cache = new LinkedHashMap&lt;String, Observable&lt;Snapshot&gt;&gt;();\r\n    var events = snapshots.groupBy(Snapshot::getId)\r\n        .observeOn(scheduler)\r\n        .map(g -&gt; {\r\n            var o = g.timeout(1, TimeUnit.DAYS)\r\n              .doFinally(() -&gt; scheduler.scheduleDirect(() -&gt; cache.remove(g.getKey())))\r\n              .replay(1);\r\n            cache.put(g.getKey(), o);\r\n            return o.autoConnect(-1);\r\n        })\r\n        .publish()\r\n        .autoConnect(-1);\r\n    \r\n    // each client UI subscription would subscribe to this:\r\n    var sub = Observable.merge(events, Observable.fromIterable(cache.values()))\r\n        .subscribeOn(scheduler)\r\n        .flatmap(r -&gt; r);","title":"Custom expiry for replay() operator","body":"<p>This is the solution I went with. Whilst I think its subjectively simpler than what @akarnkd replied with - I would not have been able to come up with it without having read that answer first.</p>\n<pre><code>Observable&lt;Snapshot&gt; snapshots = getContinuousSnapshotsStream();\n\nvar scheduler = Schedulers.single(); // synchronizer to ensure no race condition where we miss events.\nvar cache = new LinkedHashMap&lt;String, Observable&lt;Snapshot&gt;&gt;();\nvar events = snapshots.groupBy(Snapshot::getId)\n    .observeOn(scheduler)\n    .map(g -&gt; {\n        var o = g.timeout(1, TimeUnit.DAYS)\n          .doFinally(() -&gt; scheduler.scheduleDirect(() -&gt; cache.remove(g.getKey())))\n          .replay(1);\n        cache.put(g.getKey(), o);\n        return o.autoConnect(-1);\n    })\n    .publish()\n    .autoConnect(-1);\n\n// each client UI subscription would subscribe to this:\nvar sub = Observable.merge(events, Observable.fromIterable(cache.values()))\n    .subscribeOn(scheduler)\n    .flatmap(r -&gt; r);\n</code></pre>\n"}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667479511,"creation_date":1665669683,"question_id":74057064,"body_markdown":"I have a `Observable&lt;Snapshot&gt;` stream that when subscribed to, replays the event log of every Snapshot produced for every live entity (and any new Snapshot&#39;s after the subscription). This replay can contain multiple `Snapshot`s for the same entity. An entity is considered live if its had a snapshot in the last 24 hours.\r\n\r\nI am trying to setup a hot observable, that when subscribed to, will replay only the latest `Snapshot` for a given Entity and any new snapshots after the subsription for display in a table in the UI.\r\n\r\nHere is the code I have:\r\n\r\n\r\n      Observable&lt;Snapshot&gt; snapshots = getContinuousSnapshotsStream();\r\n      \r\n      var cache = snapshots.groupBy(Snapshot::getId)\r\n        .map(g -&gt; {\r\n            var o = g.timeout(1, TimeUnit.DAYS)\r\n              .onErrorComplete()\r\n              .replay(1);\r\n            o.connect();\r\n            return o.hide();\r\n        })\r\n        .replay(); // memory leak, holds onto references to groups that have timed out already\r\n    \r\n      // start cache\r\n      cache.connect();\r\n      \r\n      // each client UI subscription will flatten this\r\n      cache.flatMap(o -&gt; o);\r\n\r\nAs you can see from the comment, the reply on the cache will hold onto groups that have already timed out. I need a way to, `onComplete()` of `o`, to remove it from the replay.\r\n\r\nAre there any RX operators I can use to achieve my goal without managing a separate cache myself?\r\n","title":"Custom expiry for replay() operator","body":"<p>I have a <code>Observable&lt;Snapshot&gt;</code> stream that when subscribed to, replays the event log of every Snapshot produced for every live entity (and any new Snapshot's after the subscription). This replay can contain multiple <code>Snapshot</code>s for the same entity. An entity is considered live if its had a snapshot in the last 24 hours.</p>\n<p>I am trying to setup a hot observable, that when subscribed to, will replay only the latest <code>Snapshot</code> for a given Entity and any new snapshots after the subsription for display in a table in the UI.</p>\n<p>Here is the code I have:</p>\n<pre><code>  Observable&lt;Snapshot&gt; snapshots = getContinuousSnapshotsStream();\n  \n  var cache = snapshots.groupBy(Snapshot::getId)\n    .map(g -&gt; {\n        var o = g.timeout(1, TimeUnit.DAYS)\n          .onErrorComplete()\n          .replay(1);\n        o.connect();\n        return o.hide();\n    })\n    .replay(); // memory leak, holds onto references to groups that have timed out already\n\n  // start cache\n  cache.connect();\n  \n  // each client UI subscription will flatten this\n  cache.flatMap(o -&gt; o);\n</code></pre>\n<p>As you can see from the comment, the reply on the cache will hold onto groups that have already timed out. I need a way to, <code>onComplete()</code> of <code>o</code>, to remove it from the replay.</p>\n<p>Are there any RX operators I can use to achieve my goal without managing a separate cache myself?</p>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666232895,"post_id":74133582,"comment_id":130889027,"body_markdown":"Can you include the implementation of modelMapper.map method?","body":"Can you include the implementation of modelMapper.map method?"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1666240414,"post_id":74133582,"comment_id":130890137,"body_markdown":"Why would you expect a list of users from the method query? Is there a posibility for users to have same id? Can you also include, User and UserDto classes?","body":"Why would you expect a list of users from the method query? Is there a posibility for users to have same id? Can you also include, User and UserDto classes?"},{"owner":{"account_id":24627387,"reputation":15,"user_id":18526968,"display_name":"Ratu Batu Hamlo Koto"},"score":0,"creation_date":1666249790,"post_id":74133582,"comment_id":130892184,"body_markdown":"@birca123 i already add user and UserDto","body":"@birca123 i already add user and UserDto"},{"owner":{"account_id":24627387,"reputation":15,"user_id":18526968,"display_name":"Ratu Batu Hamlo Koto"},"score":0,"creation_date":1666249811,"post_id":74133582,"comment_id":130892190,"body_markdown":"@mrkachariker i already amend my code","body":"@mrkachariker i already amend my code"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1666250127,"post_id":74133582,"comment_id":130892306,"body_markdown":"do you have records matching with your criteria you input? both params should match for \n same row/record in your database.","body":"do you have records matching with your criteria you input? both params should match for   same row/record in your database."},{"owner":{"account_id":24627387,"reputation":15,"user_id":18526968,"display_name":"Ratu Batu Hamlo Koto"},"score":0,"creation_date":1666254687,"post_id":74133582,"comment_id":130893978,"body_markdown":"@user404 ya, should match, then can display the result","body":"@user404 ya, should match, then can display the result"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1666285229,"post_id":74133582,"comment_id":130906146,"body_markdown":"everything seems fine. What you can do most is set debug pointer or check if you really get the params inside your repository method. What is really being passed in`getUserByIdAndEmail` method. Also, enable query printing for this and run the query from database console too.","body":"everything seems fine. What you can do most is set debug pointer or check if you really get the params inside your repository method. What is really being passed in<code>getUserByIdAndEmail</code> method. Also, enable query printing for this and run the query from database console too."},{"owner":{"account_id":24627387,"reputation":15,"user_id":18526968,"display_name":"Ratu Batu Hamlo Koto"},"score":0,"creation_date":1666317823,"post_id":74133582,"comment_id":130913932,"body_markdown":"@user404 how to do that ya? im newbie","body":"@user404 how to do that ya? im newbie"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1666346274,"post_id":74133582,"comment_id":130920396,"body_markdown":"just print the variables inside each method of your request calling. match input values and your printing values. Or just do a quick youtube search about &quot;how to set debug pointer in intellij(your Ide)&quot;","body":"just print the variables inside each method of your request calling. match input values and your printing values. Or just do a quick youtube search about &quot;how to set debug pointer in intellij(your Ide)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667479411,"creation_date":1667479411,"answer_id":74303285,"question_id":74133582,"body_markdown":"Change \r\n`public List&lt;User&gt; findByIdAndEmail(long id, String email);`\r\n\r\nto\r\n\r\n`public Optional&lt;User&gt; findByIdAndEmail(long id, String email);`\r\n\r\nthen apply logic if the optional is present. \r\nYou shouldn&#39;t expect a list in this case as the ID is a primary key, therefor no duplicate. Even if you have duplicated emails, as long as you use id, you won&#39;t receive a list.\r\n","title":"JPA Respository: Data return null when @GetMapping include two required param","body":"<p>Change\n<code>public List&lt;User&gt; findByIdAndEmail(long id, String email);</code></p>\n<p>to</p>\n<p><code>public Optional&lt;User&gt; findByIdAndEmail(long id, String email);</code></p>\n<p>then apply logic if the optional is present.\nYou shouldn't expect a list in this case as the ID is a primary key, therefor no duplicate. Even if you have duplicated emails, as long as you use id, you won't receive a list.</p>\n"}],"owner":{"account_id":24627387,"reputation":15,"user_id":18526968,"display_name":"Ratu Batu Hamlo Koto"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667479411,"creation_date":1666230024,"question_id":74133582,"body_markdown":"Based on my question above, Below is my code.\r\n\r\n**UserService**\r\n\r\n            @Service\r\n            public class UserService {\r\n                @Autowired\r\n                private UserRepository userRepository;\r\n\r\n                public List&lt;User&gt; getUserByIdAndEmail(Long id, String email) {\r\n                    return userRepository.findByIdAndEmail(id, email);\r\n                }\r\n\r\n            }\r\n\r\n**UserRepository**\r\n\r\n         @Repository\r\n         public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n            public User findUserByEmail(String email);\r\n            public List&lt;User&gt; findByIdAndEmail(long id, String email);\r\n         }\r\n\r\n**UserController**\r\n\r\n            @RestController\r\n            public class UserController {\r\n                @Autowired\r\n                private UserService userService;\r\n\r\n                @Autowired\r\n                private ModelMapper modelMapper;\r\n\r\n                @GetMapping(path=&quot;user/idEmail/{id}/{email}&quot;)\r\n                public @ResponseBody UserDto getUserByIdAndEmail(@PathVariable long id, @PathVariable String email) {\r\n                    return modelMapper.map(userService.getUserByIdAndEmail(id, email), UserDto.class);\r\n                }\r\n            }\r\n\r\n**User**\r\n\r\n            @Entity\r\n            @AllArgsConstructor\r\n            @NoArgsConstructor\r\n            @Getter\r\n            @Setter\r\n            @Table(name = &quot;idr_user&quot;)\r\n            public class User {\r\n                @Id\r\n                @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n                private Long id;\r\n                private String name;\r\n                private String email;\r\n            }\r\n\r\n**UserDto**\r\n\r\n    @Data\r\n    public class UserDto {\r\n        private int id;\r\n        private String name;\r\n        private String email;\r\n    }\r\n\r\nAnd when i enter the correct ID and Email the result is null.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/57hmj.png\r\n\r\nCan I know which part that I missing?","title":"JPA Respository: Data return null when @GetMapping include two required param","body":"<p>Based on my question above, Below is my code.</p>\n<p><strong>UserService</strong></p>\n<pre><code>        @Service\n        public class UserService {\n            @Autowired\n            private UserRepository userRepository;\n\n            public List&lt;User&gt; getUserByIdAndEmail(Long id, String email) {\n                return userRepository.findByIdAndEmail(id, email);\n            }\n\n        }\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>     @Repository\n     public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n        public User findUserByEmail(String email);\n        public List&lt;User&gt; findByIdAndEmail(long id, String email);\n     }\n</code></pre>\n<p><strong>UserController</strong></p>\n<pre><code>        @RestController\n        public class UserController {\n            @Autowired\n            private UserService userService;\n\n            @Autowired\n            private ModelMapper modelMapper;\n\n            @GetMapping(path=&quot;user/idEmail/{id}/{email}&quot;)\n            public @ResponseBody UserDto getUserByIdAndEmail(@PathVariable long id, @PathVariable String email) {\n                return modelMapper.map(userService.getUserByIdAndEmail(id, email), UserDto.class);\n            }\n        }\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>        @Entity\n        @AllArgsConstructor\n        @NoArgsConstructor\n        @Getter\n        @Setter\n        @Table(name = &quot;idr_user&quot;)\n        public class User {\n            @Id\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\n            private Long id;\n            private String name;\n            private String email;\n        }\n</code></pre>\n<p><strong>UserDto</strong></p>\n<pre><code>@Data\npublic class UserDto {\n    private int id;\n    private String name;\n    private String email;\n}\n</code></pre>\n<p>And when i enter the correct ID and Email the result is null.</p>\n<p><a href=\"https://i.stack.imgur.com/57hmj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57hmj.png\" alt=\"enter image description here\" /></a></p>\n<p>Can I know which part that I missing?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1370073388,"post_id":16870416,"comment_id":24336038,"body_markdown":"What is the problem you are facing? Any error or exception?","body":"What is the problem you are facing? Any error or exception?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":12,"creation_date":1370073914,"post_id":16870416,"comment_id":24336122,"body_markdown":"The JSON RFC (RFC 4627) says that order of object members does not matter.","body":"The JSON RFC (RFC 4627) says that order of object members does not matter."},{"owner":{"account_id":34909,"reputation":1912,"user_id":98722,"display_name":"ahains"},"score":6,"creation_date":1433525968,"post_id":16870416,"comment_id":49407179,"body_markdown":"Note to future self when Google brings me back here: MongoDB is sensitive to the ordering of keys when checking object equality. If you have a document with _id:{key1:&quot;foo&quot;, key2:&quot;bar&quot;}, you will not find it with find({_id:{key2:&quot;bar&quot;, key1:&quot;foo&quot;}}).","body":"Note to future self when Google brings me back here: MongoDB is sensitive to the ordering of keys when checking object equality. If you have a document with _id:{key1:&quot;foo&quot;, key2:&quot;bar&quot;}, you will not find it with find({_id:{key2:&quot;bar&quot;, key1:&quot;foo&quot;}})."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1538657198,"post_id":16870416,"comment_id":92226022,"body_markdown":"@ahains - note to you :-)   MongoDB syntax not JSON ... strictly speaking.","body":"@ahains - note to you :-)   MongoDB syntax not JSON ... strictly speaking."}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1370073130,"creation_date":1370073130,"answer_id":16870438,"question_id":16870416,"body_markdown":"*IMHO* **not possible**.\r\n\r\n\r\n [JSON docs][1] says \r\n\r\n\r\n&gt;An object is an unordered set of name/value pairs\r\n\r\nSo  the way is getting the values in required order,rather than ordering `json`\r\n\r\n\r\n  [1]: http://json.org/","title":"Does the sequence of the values matter in a JSON object?","body":"<p><em>IMHO</em> <strong>not possible</strong>.</p>\n\n<p><a href=\"http://json.org/\">JSON docs</a> says </p>\n\n<blockquote>\n  <p>An object is an unordered set of name/value pairs</p>\n</blockquote>\n\n<p>So  the way is getting the values in required order,rather than ordering <code>json</code></p>\n"},{"tags":[],"owner":{"account_id":2843794,"reputation":126,"user_id":2442769,"display_name":"Beata Gellner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370073804,"creation_date":1370073472,"answer_id":16870482,"question_id":16870416,"body_markdown":"You could use list assuming your server can accept it:\r\n\r\n    {&quot;list&quot;: [ {&quot;AAA&quot;:&quot;aaa&quot;},{&quot;BBB&quot;:&quot;bbb&quot;},{&quot;CCC&quot;:&quot;ccc&quot;}]}\r\n\r\n","title":"Does the sequence of the values matter in a JSON object?","body":"<p>You could use list assuming your server can accept it:</p>\n\n<pre><code>{\"list\": [ {\"AAA\":\"aaa\"},{\"BBB\":\"bbb\"},{\"CCC\":\"ccc\"}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1536363747,"creation_date":1370073817,"answer_id":16870531,"question_id":16870416,"body_markdown":"&gt; My question is that does the order of the JSON object really matters on the server side?\n\nIt **should not** matter.  According to various JSON specifications, the order of the attributes is not significant.  For example:\n\n&gt; &quot;An object is an unordered set of name/value pairs.&quot;  (Source [json.org][1])\n&gt;\n&gt; &quot;An object is an unordered collection of zero or more name/value pairs, where a name is a string and a value is a string, number, boolean, null, object, or array.&quot;  (Source [RFC 7159][2])\n\n\n\nUnfortunately, there are nitwits out there&lt;sup&gt;1&lt;/sup&gt; who ignore that aspect of the specs, and place some significance on the order of the attributes.  (The mistake is usually made when there is a disconnect between the people specifying the APIs and those implementing them, and the people doing the specification work don&#39;t really understand JSON.)\n\nFortunately, the chances are that whoever designed / implemented the server didn&#39;t make that mistake.  Most Java JSON parsers I&#39;ve come across don&#39;t preserve the attribute order when parsing ... by default&lt;sup&gt;2&lt;/sup&gt;.  It would be hard to *accidentally* implement a server where the order of the JSON attributes being parsed was significant. \n\n\n\n&gt; If yes, how can i change the order?\n\nWith difficulty, I fear:\n\n  - You could generate the JSON by hand.\n  - There is at least one JSON for java implementation&lt;sup&gt;3&lt;/sup&gt; that allows you to supply the `Map` object that holds a JSON object&#39;s attributes.  If you use a `LinkedHashMap` or `TreeMap`, it should retain the insertion order or the lexical order of the attribute keys.\n\n---------------------------------\n\n&lt;sup&gt;1 - For example, the nitwits that this poor developer was working for ... https://stackoverflow.com/a/4515863/139985&lt;/sup&gt;\n\n&lt;sup&gt;2 - RFC 7159 also says this: &quot;JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software.  *Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.*&quot;.  By my reading, this recommends that JSON libraries *should* hide any order of the pairs from application code.&lt;/sup&gt;\n\n&lt;sup&gt;3 - JSON-simple : https://code.google.com/p/json-simple/.  There could be others too.&lt;/sup&gt;\n\n\n  [1]: http://json.org\n  [2]: https://www.rfc-editor.org/rfc/rfc7159","title":"Does the sequence of the values matter in a JSON object?","body":"<blockquote>\n<p>My question is that does the order of the JSON object really matters on the server side?</p>\n</blockquote>\n<p>It <strong>should not</strong> matter.  According to various JSON specifications, the order of the attributes is not significant.  For example:</p>\n<blockquote>\n<p>&quot;An object is an unordered set of name/value pairs.&quot;  (Source <a href=\"http://json.org\" rel=\"noreferrer\">json.org</a>)</p>\n<p>&quot;An object is an unordered collection of zero or more name/value pairs, where a name is a string and a value is a string, number, boolean, null, object, or array.&quot;  (Source <a href=\"https://www.rfc-editor.org/rfc/rfc7159\" rel=\"noreferrer\">RFC 7159</a>)</p>\n</blockquote>\n<p>Unfortunately, there are nitwits out there<sup>1</sup> who ignore that aspect of the specs, and place some significance on the order of the attributes.  (The mistake is usually made when there is a disconnect between the people specifying the APIs and those implementing them, and the people doing the specification work don't really understand JSON.)</p>\n<p>Fortunately, the chances are that whoever designed / implemented the server didn't make that mistake.  Most Java JSON parsers I've come across don't preserve the attribute order when parsing ... by default<sup>2</sup>.  It would be hard to <em>accidentally</em> implement a server where the order of the JSON attributes being parsed was significant.</p>\n<blockquote>\n<p>If yes, how can i change the order?</p>\n</blockquote>\n<p>With difficulty, I fear:</p>\n<ul>\n<li>You could generate the JSON by hand.</li>\n<li>There is at least one JSON for java implementation<sup>3</sup> that allows you to supply the <code>Map</code> object that holds a JSON object's attributes.  If you use a <code>LinkedHashMap</code> or <code>TreeMap</code>, it should retain the insertion order or the lexical order of the attribute keys.</li>\n</ul>\n<hr />\n<p><sup>1 - For example, the nitwits that this poor developer was working for ... <a href=\"https://stackoverflow.com/a/4515863/139985\">https://stackoverflow.com/a/4515863/139985</a></sup></p>\n<p><sup>2 - RFC 7159 also says this: &quot;JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software.  <em>Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.</em>&quot;.  By my reading, this recommends that JSON libraries <em>should</em> hide any order of the pairs from application code.</sup></p>\n<p><sup>3 - JSON-simple : <a href=\"https://code.google.com/p/json-simple/\" rel=\"noreferrer\">https://code.google.com/p/json-simple/</a>.  There could be others too.</sup></p>\n"},{"tags":[],"owner":{"account_id":3347195,"reputation":35,"user_id":2812132,"display_name":"user2812132"},"down_vote_count":8,"up_vote_count":4,"is_accepted":false,"score":-4,"last_activity_date":1517257103,"creation_date":1517257103,"answer_id":48509328,"question_id":16870416,"body_markdown":"The order of fields in a JSON object actually can matter. It depends on the serializer you are using. For example, when you serialize an inherited object you will get an extra JSON field called type=&#39;&#39;. When you deserialize it the type field must come before any other JSON Field, otherwise it takes on the type of the parent.   ","title":"Does the sequence of the values matter in a JSON object?","body":"<p>The order of fields in a JSON object actually can matter. It depends on the serializer you are using. For example, when you serialize an inherited object you will get an extra JSON field called type=''. When you deserialize it the type field must come before any other JSON Field, otherwise it takes on the type of the parent.   </p>\n"},{"tags":[],"owner":{"account_id":15306650,"reputation":41,"user_id":11043139,"display_name":"John Winstanley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667479336,"creation_date":1667479336,"answer_id":74303267,"question_id":16870416,"body_markdown":"The other answers rightly point out that the order should not matter. There are circumstances were the order may matter in a specific implementation that misunderstands the unordered nature of JSON.\r\n\r\nFor example say you want take a hash of the JSON string and store the hash for comparison against future hashes. The hash would be different if the order of the fields in the JSON string is not the same the next time you create the hash (even thought the data in the JSON string is the same).\r\n\r\nThis can happen if you&#39;re working with an API or a deserializer that returns JSON strings, with the fields in an inconsistent order.\r\n\r\nThis question more thoroughly discusses that issue and provides solutions to getting a consistent order https://stackoverflow.com/questions/3948206/json-order-mixed-up\r\n","title":"Does the sequence of the values matter in a JSON object?","body":"<p>The other answers rightly point out that the order should not matter. There are circumstances were the order may matter in a specific implementation that misunderstands the unordered nature of JSON.</p>\n<p>For example say you want take a hash of the JSON string and store the hash for comparison against future hashes. The hash would be different if the order of the fields in the JSON string is not the same the next time you create the hash (even thought the data in the JSON string is the same).</p>\n<p>This can happen if you're working with an API or a deserializer that returns JSON strings, with the fields in an inconsistent order.</p>\n<p>This question more thoroughly discusses that issue and provides solutions to getting a consistent order <a href=\"https://stackoverflow.com/questions/3948206/json-order-mixed-up\">JSON order mixed up</a></p>\n"}],"owner":{"account_id":1368731,"reputation":5186,"user_id":1304549,"accept_rate":38,"display_name":"Chanaka udaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60334,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":16870531,"answer_count":5,"score":55,"last_activity_date":1667479336,"creation_date":1370072980,"question_id":16870416,"body_markdown":"I have a JSON object which I have constructed within my Java program.\r\n\r\n    JSONObject jObj = {&quot;AAA:aaa&quot;,&quot;BBB:bbb&quot;,&quot;CCC:ccc&quot;}\r\n\r\nI am sending this object to a server in which it expects the JSON object in the following type.\r\n\r\n    {&quot;BBB:bbb&quot;, &quot;AAA:aaa&quot;, &quot;CCC:ccc&quot;}\r\n\r\nMy question is that does the order of the JSON object really matters on the server side? If yes, how can I change the order?","title":"Does the sequence of the values matter in a JSON object?","body":"<p>I have a JSON object which I have constructed within my Java program.</p>\n\n<pre><code>JSONObject jObj = {\"AAA:aaa\",\"BBB:bbb\",\"CCC:ccc\"}\n</code></pre>\n\n<p>I am sending this object to a server in which it expects the JSON object in the following type.</p>\n\n<pre><code>{\"BBB:bbb\", \"AAA:aaa\", \"CCC:ccc\"}\n</code></pre>\n\n<p>My question is that does the order of the JSON object really matters on the server side? If yes, how can I change the order?</p>\n"},{"tags":["java","android","utf-8"],"answers":[{"tags":[],"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"down_vote_count":3,"up_vote_count":2,"is_accepted":true,"score":-1,"last_activity_date":1429426467,"creation_date":1429426467,"answer_id":29726762,"question_id":29726723,"body_markdown":"simply you save your program as `utf-8`\r\nand do as below\r\n\r\n    \t\tString str= &quot;मेरा नाम&quot;;\r\n\t\t    System.out.println(str.length());\r\n\r\no/p = 8","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>simply you save your program as <code>utf-8</code>\nand do as below</p>\n\n<pre><code>        String str= \"मेरा नाम\";\n        System.out.println(str.length());\n</code></pre>\n\n<p>o/p = 8</p>\n"},{"tags":[],"owner":{"account_id":3803690,"reputation":6372,"user_id":3156644,"accept_rate":76,"display_name":"nipuna-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429426966,"creation_date":1429426966,"answer_id":29726828,"question_id":29726723,"body_markdown":"Rather than converting `password[0]` to a byte array you can simply run\r\n\r\n`password[0].length();` \r\n\r\nYou can also convert the bytearray back to a string then run the lenght method on it as well. \r\n\r\n        byte[] abc = password[0].getBytes(UTF8_CHARSET);\r\n        String s1 = new String(abc, &quot;UTF-8&quot;);\r\n        System.out.println(s1.length());","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>Rather than converting <code>password[0]</code> to a byte array you can simply run</p>\n\n<p><code>password[0].length();</code> </p>\n\n<p>You can also convert the bytearray back to a string then run the lenght method on it as well. </p>\n\n<pre><code>    byte[] abc = password[0].getBytes(UTF8_CHARSET);\n    String s1 = new String(abc, \"UTF-8\");\n    System.out.println(s1.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2569354,"reputation":3845,"user_id":2228484,"accept_rate":33,"display_name":"mushfek0001"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429428350,"creation_date":1429427818,"answer_id":29726950,"question_id":29726723,"body_markdown":"`String.length()` actually returns the number of characters in a string encoded in UTF-16 (where two bytes are used to encode a character). However this should work for most UTF-8 chars too unless you have a character with an ASCII value greater than 127. If you want to do things by hand without encoding it to UTF-8, you can do something like this\r\n\r\n    public static int utf8Length(CharSequence sequence) {\r\n            int count = 0;\r\n            for (int i = 0; i &lt; sequence.length(); i++) {\r\n                char ch = sequence.charAt(i);\r\n                if (ch &lt;= 0x7F) {\r\n                    count++;\r\n                } else if (ch &lt;= 0x7FF) {\r\n                    count += 2;\r\n                } else if (Character.isHighSurrogate(ch)) {\r\n                    count += 4;\r\n                    ++i;\r\n                } else {\r\n                    count += 3;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\nHere&#39;s the [UTF-8 spec][1].\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3629#section-3","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p><code>String.length()</code> actually returns the number of characters in a string encoded in UTF-16 (where two bytes are used to encode a character). However this should work for most UTF-8 chars too unless you have a character with an ASCII value greater than 127. If you want to do things by hand without encoding it to UTF-8, you can do something like this</p>\n<pre><code>public static int utf8Length(CharSequence sequence) {\n        int count = 0;\n        for (int i = 0; i &lt; sequence.length(); i++) {\n            char ch = sequence.charAt(i);\n            if (ch &lt;= 0x7F) {\n                count++;\n            } else if (ch &lt;= 0x7FF) {\n                count += 2;\n            } else if (Character.isHighSurrogate(ch)) {\n                count += 4;\n                ++i;\n            } else {\n                count += 3;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>Here's the <a href=\"https://www.rfc-editor.org/rfc/rfc3629#section-3\" rel=\"nofollow noreferrer\">UTF-8 spec</a>.</p>\n"},{"tags":[],"owner":{"account_id":6067216,"reputation":3726,"user_id":4737924,"display_name":"Aleksander Wons"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429520192,"creation_date":1429520192,"answer_id":29743275,"question_id":29726723,"body_markdown":"Take a look at the http://rosettacode.org/wiki/String_length#Grapheme_Length_4:\r\n\r\n    import java.text.BreakIterator;\r\n     \r\n    public class Grapheme {\r\n      public static void main(String[] args) {\r\n        printLength(&quot;m&#248;&#248;se&quot;);\r\n        printLength(&quot;&#120088;&#120107;&#120102;&#120096;&#120108;&#120097;&#120098;&quot;);\r\n        printLength(&quot;J̲o̲s̲&#233;̲&quot;);\r\n      }\r\n     \r\n      public static void printLength(String s) {\r\n        BreakIterator it = BreakIterator.getCharacterInstance();\r\n        it.setText(s);\r\n        int count = 0;\r\n        while (it.next() != BreakIterator.DONE) {\r\n          count++;\r\n        }\r\n        System.out.println(&quot;Grapheme length: &quot; + count+ &quot; &quot; + s);\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    Grapheme length: 5 m&#248;&#248;se\r\n    Grapheme length: 7 &#120088;&#120107;&#120102;&#120096;&#120108;&#120097;&#120098;\r\n    Grapheme length: 4 J̲o̲s̲&#233;̲\r\n\r\nWhat you are looking for is not string length bu grapeme length. It gives you the number of &quot;visible&quot; characters.","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>Take a look at the <a href=\"http://rosettacode.org/wiki/String_length#Grapheme_Length_4\" rel=\"nofollow\">http://rosettacode.org/wiki/String_length#Grapheme_Length_4</a>:</p>\n\n<pre><code>import java.text.BreakIterator;\n\npublic class Grapheme {\n  public static void main(String[] args) {\n    printLength(\"møøse\");\n    printLength(\"𝔘𝔫𝔦𝔠𝔬𝔡𝔢\");\n    printLength(\"J̲o̲s̲é̲\");\n  }\n\n  public static void printLength(String s) {\n    BreakIterator it = BreakIterator.getCharacterInstance();\n    it.setText(s);\n    int count = 0;\n    while (it.next() != BreakIterator.DONE) {\n      count++;\n    }\n    System.out.println(\"Grapheme length: \" + count+ \" \" + s);\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Grapheme length: 5 møøse\nGrapheme length: 7 𝔘𝔫𝔦𝔠𝔬𝔡𝔢\nGrapheme length: 4 J̲o̲s̲é̲\n</code></pre>\n\n<p>What you are looking for is not string length bu grapeme length. It gives you the number of \"visible\" characters.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667479326,"creation_date":1429522251,"answer_id":29744056,"question_id":29726723,"body_markdown":"The shortest &quot;length&quot; is in Unicode **code points**, as notion of numbered character, UTF-32.\r\n\r\n***Correction:***\r\nAs @liudongmiao mentioned probably one should use:\r\n\r\n    int length = string.codePointCount(0, string.length);\r\n\r\nIn Java 8:\r\n\r\n    int length = (int) string.codePoints().count();\r\n\r\nPrior javas:\r\n\r\n    int length(String s) {\r\n       int n = 0;\r\n       for (int i = 0; i &lt; s.length(); ++n) {\r\n           int cp = s.codePointAt(i);\r\n           i += Character.charCount(cp);\r\n       }\r\n       return n;\r\n    }\r\n\r\nA Unicode code point can be encoded in UTF-16 as one or two `char`s.\r\n\r\nThe same Unicode character might have diacritical marks. They can be written as separate code points: basic letter + zero or more diacritical marks. To normalize the string to one (C=) compressed code point:\r\n\r\n    string = java.text.Normalizer.normalize(string, Normalizer.Form.NFC);\r\n\r\nBTW for database purposes, the UTF-16 length seems more useful:\r\n\r\n    string.length() // Number of UTF-16 chars, every char two bytes.\r\n\r\n(In the example mentioned UTF-32 length == UTF-16 length.)\r\n\r\n--------------\r\n***A dump function***\r\n\r\nA commenter had some unexpected result:\r\n\r\n    void dump(String s) {\r\n       int n = 0;\r\n       for (int i = 0; i &lt; s.length(); ++n) {\r\n           int cp = s.codePointAt(i);\r\n           int bytes = Character.charCount(cp);\r\n           i += bytes;\r\n           System.out.printf(&quot;[%d] #%dB: U+%X = %s%n&quot;,\r\n               n, bytes, cp, Character.getName(cp));\r\n       }\r\n       System.out.printf(&quot;Length:%d%n&quot;, n);\r\n    }","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>The shortest &quot;length&quot; is in Unicode <strong>code points</strong>, as notion of numbered character, UTF-32.</p>\n<p><em><strong>Correction:</strong></em>\nAs @liudongmiao mentioned probably one should use:</p>\n<pre><code>int length = string.codePointCount(0, string.length);\n</code></pre>\n<p>In Java 8:</p>\n<pre><code>int length = (int) string.codePoints().count();\n</code></pre>\n<p>Prior javas:</p>\n<pre><code>int length(String s) {\n   int n = 0;\n   for (int i = 0; i &lt; s.length(); ++n) {\n       int cp = s.codePointAt(i);\n       i += Character.charCount(cp);\n   }\n   return n;\n}\n</code></pre>\n<p>A Unicode code point can be encoded in UTF-16 as one or two <code>char</code>s.</p>\n<p>The same Unicode character might have diacritical marks. They can be written as separate code points: basic letter + zero or more diacritical marks. To normalize the string to one (C=) compressed code point:</p>\n<pre><code>string = java.text.Normalizer.normalize(string, Normalizer.Form.NFC);\n</code></pre>\n<p>BTW for database purposes, the UTF-16 length seems more useful:</p>\n<pre><code>string.length() // Number of UTF-16 chars, every char two bytes.\n</code></pre>\n<p>(In the example mentioned UTF-32 length == UTF-16 length.)</p>\n<hr />\n<p><em><strong>A dump function</strong></em></p>\n<p>A commenter had some unexpected result:</p>\n<pre><code>void dump(String s) {\n   int n = 0;\n   for (int i = 0; i &lt; s.length(); ++n) {\n       int cp = s.codePointAt(i);\n       int bytes = Character.charCount(cp);\n       i += bytes;\n       System.out.printf(&quot;[%d] #%dB: U+%X = %s%n&quot;,\n           n, bytes, cp, Character.getName(cp));\n   }\n   System.out.printf(&quot;Length:%d%n&quot;, n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3511178,"reputation":41,"user_id":2935455,"display_name":"L&#234; Quốc Anh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485875953,"creation_date":1485875953,"answer_id":41961133,"question_id":29726723,"body_markdown":"\r\nIn UTF-8 String.length() returns number of characters. If you want to get number of bytes, you can use String.getBytes().length\r\n\r\nFor example:\r\n\r\nString str = &quot;アンドリューは本当に凄いですだと&quot;;\r\n\r\nSystem.out.println(str.length()); // display 16 corresponding to 16 characters\r\nSystem.out.println(str.getBytes().length); // display 48 corresponding to 48 bytes\r\n","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>In UTF-8 String.length() returns number of characters. If you want to get number of bytes, you can use String.getBytes().length</p>\n\n<p>For example:</p>\n\n<p>String str = \"アンドリューは本当に凄いですだと\";</p>\n\n<p>System.out.println(str.length()); // display 16 corresponding to 16 characters\nSystem.out.println(str.getBytes().length); // display 48 corresponding to 48 bytes</p>\n"}],"owner":{"account_id":1919530,"reputation":1195,"user_id":1731380,"accept_rate":75,"display_name":"Sujit Devkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8638,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29726762,"answer_count":6,"score":7,"last_activity_date":1667479326,"creation_date":1429426166,"question_id":29726723,"body_markdown":"I am trying to find out a string length when the string is stored in UTF-8.\r\nI tried following approach:\r\n\r\n    String str = &quot;मेरा नाम&quot;;\r\n    Charset UTF8_CHARSET = Charset.forName(&quot;UTF-8&quot;);\r\n    byte[] abc = str.getBytes(UTF8_CHARSET);\r\n    int length = abc.length;\r\n\r\nThis gives me length of the byte array, but not number of characters in the string.\r\n\r\nI found a website which shows both UTF-8 string length and byte length.\r\nhttps://mothereff.in/byte-counter\r\nLet&#39;s say my string is मेरा नाम, then I should get string length as 8 characters and not 22 bytes.\r\n\r\nCould anyone please guide on this.","title":"Find out number of characters in a UTF-8 string in Java/Android","body":"<p>I am trying to find out a string length when the string is stored in UTF-8.\nI tried following approach:</p>\n\n<pre><code>String str = \"मेरा नाम\";\nCharset UTF8_CHARSET = Charset.forName(\"UTF-8\");\nbyte[] abc = str.getBytes(UTF8_CHARSET);\nint length = abc.length;\n</code></pre>\n\n<p>This gives me length of the byte array, but not number of characters in the string.</p>\n\n<p>I found a website which shows both UTF-8 string length and byte length.\n<a href=\"https://mothereff.in/byte-counter\" rel=\"noreferrer\">https://mothereff.in/byte-counter</a>\nLet's say my string is मेरा नाम, then I should get string length as 8 characters and not 22 bytes.</p>\n\n<p>Could anyone please guide on this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":3,"creation_date":1667477491,"post_id":74302815,"comment_id":131178551,"body_markdown":"You already know how to split a string; hopefully you know that `_` is different from `-`.","body":"You already know how to split a string; hopefully you know that <code>_</code> is different from <code>-</code>."},{"owner":{"account_id":26817594,"reputation":11,"user_id":20407377,"display_name":"GradDev"},"score":0,"creation_date":1667477701,"post_id":74302815,"comment_id":131178622,"body_markdown":"how can i differentiate the rest of the string? it has both the company id and random characters and they connected by &quot;-&quot;","body":"how can i differentiate the rest of the string? it has both the company id and random characters and they connected by &quot;-&quot;"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1667477867,"post_id":74302815,"comment_id":131178667,"body_markdown":"Split.  The.  String.  On.  `-`.","body":"Split.  The.  String.  On.  <code>-</code>."},{"owner":{"account_id":26817594,"reputation":11,"user_id":20407377,"display_name":"GradDev"},"score":0,"creation_date":1667477983,"post_id":74302815,"comment_id":131178706,"body_markdown":"The company id is company-name-country-code.\nif i split the string with &quot;-&quot;, how can i get the whole company id again?","body":"The company id is company-name-country-code. if i split the string with &quot;-&quot;, how can i get the whole company id again?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1667478530,"post_id":74302815,"comment_id":131178890,"body_markdown":"Re-assemble the pieces.","body":"Re-assemble the pieces."},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1667478559,"post_id":74302815,"comment_id":131178904,"body_markdown":"2 options, 1 if you split by - you get array of String (String[]) if you combine String[0] to relevant index (which should be 3 according to you) while adding - separator you should get the desired outcome.\nOption 2 would be to simply using substring to take only the relevant part of the String, assuming you know how many characters are irrelevant (or from which index of - it&#39;s irrelevant and then you can count the needed letters to be removed)","body":"2 options, 1 if you split by - you get array of String (String[]) if you combine String[0] to relevant index (which should be 3 according to you) while adding - separator you should get the desired outcome. Option 2 would be to simply using substring to take only the relevant part of the String, assuming you know how many characters are irrelevant (or from which index of - it&#39;s irrelevant and then you can count the needed letters to be removed)"}],"answers":[{"tags":[],"owner":{"account_id":21021877,"reputation":11,"user_id":15448012,"display_name":"Novante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667479177,"creation_date":1667479056,"answer_id":74303207,"question_id":74302815,"body_markdown":"When you split, you create an array of the split elements (in this case Strings). Simply join together the elements in the array with concatenation.\r\n\r\n```\r\n String messageId = &quot;007_random-com-usa-9qwerty-abc-1a2b3c&quot;.split(&quot;_&quot;)[1];\r\n\r\n        String[] messageIdDetails = messageId.split(&quot;-&quot;);\r\n\r\n        String companyId =\r\n                        messageIdDetails[0] + &quot;-&quot;\r\n                        + messageIdDetails[1] + &quot;-&quot;\r\n                        + messageIdDetails[2] + &quot;-&quot;\r\n                        + messageIdDetails[3];\r\n\r\n```","title":"Retrieve id from a string","body":"<p>When you split, you create an array of the split elements (in this case Strings). Simply join together the elements in the array with concatenation.</p>\n<pre><code> String messageId = &quot;007_random-com-usa-9qwerty-abc-1a2b3c&quot;.split(&quot;_&quot;)[1];\n\n        String[] messageIdDetails = messageId.split(&quot;-&quot;);\n\n        String companyId =\n                        messageIdDetails[0] + &quot;-&quot;\n                        + messageIdDetails[1] + &quot;-&quot;\n                        + messageIdDetails[2] + &quot;-&quot;\n                        + messageIdDetails[3];\n\n</code></pre>\n"}],"owner":{"account_id":26817594,"reputation":11,"user_id":20407377,"display_name":"GradDev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667479177,"creation_date":1667477265,"question_id":74302815,"body_markdown":"    String messageId = &quot;007_random-com-usa-9qwerty-abc-1a2b3c&quot;;\r\n\r\nI am getitng this messageId in this format from a provider.\r\n\r\n    &quot;username_company-name-country-code-123random-abc-num&quot;\r\n\r\nBut I am not sure how to retrieve the company id (school-name-country-code) from it. \r\n\r\n\r\n\r\n```\r\nString[] messageIdDetails = schoolDetailsObject.getString(&quot;messageid&quot;).split(&quot;_&quot;);\r\nInt userId = Integer.parseInt(messageIdDetails[0]);\r\nString companyId = messageIdDetails[1]; // how to get the company id from the rest of the string?\r\n```\r\n\r\nI am expecting to get only the company id from the rest of the string. ","title":"Retrieve id from a string","body":"<pre><code>String messageId = &quot;007_random-com-usa-9qwerty-abc-1a2b3c&quot;;\n</code></pre>\n<p>I am getitng this messageId in this format from a provider.</p>\n<pre><code>&quot;username_company-name-country-code-123random-abc-num&quot;\n</code></pre>\n<p>But I am not sure how to retrieve the company id (school-name-country-code) from it.</p>\n<pre><code>String[] messageIdDetails = schoolDetailsObject.getString(&quot;messageid&quot;).split(&quot;_&quot;);\nInt userId = Integer.parseInt(messageIdDetails[0]);\nString companyId = messageIdDetails[1]; // how to get the company id from the rest of the string?\n</code></pre>\n<p>I am expecting to get only the company id from the rest of the string.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","opensearch"],"answers":[{"tags":[],"owner":{"account_id":18407497,"reputation":36,"user_id":13408786,"display_name":"Otto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667446245,"creation_date":1667446245,"answer_id":74297868,"question_id":74297820,"body_markdown":"When you add @Bean, it tells Spring to add bean by bean configuration, as you can see in the doc[bean-configuration][1].When you remove @Bean, the method OpensearchClient() will not be executed. And the reason you get the error ClassNotFoundException, is maybe that you forget to import package jakarta-json or the version of jakarta-json might be wrong.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-bean#3-bean-configuration","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;OpensearchClient&#39; defined in class path resource","body":"<p>When you add @Bean, it tells Spring to add bean by bean configuration, as you can see in the doc<a href=\"https://www.baeldung.com/spring-bean#3-bean-configuration\" rel=\"nofollow noreferrer\">bean-configuration</a>.When you remove @Bean, the method OpensearchClient() will not be executed. And the reason you get the error ClassNotFoundException, is maybe that you forget to import package jakarta-json or the version of jakarta-json might be wrong.</p>\n"},{"tags":[],"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":"刷题养家"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667446706,"creation_date":1667446706,"answer_id":74297911,"question_id":74297820,"body_markdown":"     //private final OpenSearchRestClientConfiguration myOpenSearchClient;     \r\n\r\n     private final OpenSearchClient myOpenSearchClient;","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;OpensearchClient&#39; defined in class path resource","body":"<pre><code> //private final OpenSearchRestClientConfiguration myOpenSearchClient;     \n\n private final OpenSearchClient myOpenSearchClient;\n</code></pre>\n"}],"owner":{"account_id":26790326,"reputation":11,"user_id":20383836,"display_name":"abc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2582,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1667478869,"creation_date":1667445564,"question_id":74297820,"body_markdown":"I am using Java and spring boot. I have 2 files, an @configuration file and a @Service file.\r\n\r\nConfiguration file:\r\n\r\n```\r\n\r\n```\r\n    @Configuration\r\n        public class OpenSearchRestClientConfiguration {\r\n            @Value(&quot;${aws.opensearch.domain.endpoint}&quot;)\r\n            private String endpoint;\r\n            @Value(&quot;${aws.region}&quot;)\r\n            private String region;\r\n            @Value(&quot;${aws.serviceName}&quot;)\r\n            private String myServiceName;\r\n        \r\n        \r\n            @Bean  //I get an error when I add @Bean, but when I remove @Bean, I get no errors.\r\n            public OpenSearchClient OpensearchClient(){\r\n                SdkHttpClient myHttpClient = ApacheHttpClient.builder().build();\r\n        \r\n                AWS4Signer mySigner = new AWS4Signer();\r\n                mySigner.setServiceName(myServiceName);\r\n                mySigner.setRegionName(region);\r\n                return new OpenSearchClient(\r\n                        new AwsSdk2Transport(myHttpClient, endpoint, Region.of(region), AwsSdk2TransportOptions.builder().build()));\r\n        \r\n        \r\n            }\r\n        }  \r\n\r\n```\r\n\r\n```\r\n\r\n\r\n\r\n\r\nService file:\r\n\r\n    @Service\r\n    public class PostsSearchService {\r\n    \r\n        \r\n        private final OpenSearchRestClientConfiguration myOpenSearchClient;\r\n    \r\n        public PostsSearchService(OpenSearchRestClientConfiguration openSearchClient){\r\n    \r\n            this.myOpenSearchClient = openSearchClient;\r\n        }\r\n    } \r\n\r\n\r\n\r\n\r\nI get an error when I add @Bean at the top of the OpensearchClient method in OpenSearchRestClientConfiguration class, but when I remove @Bean, I get no errors.\r\n\r\nHere is the error I&#39;m getting:\r\n\r\n&gt; \r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;OpensearchClient&#39; defined in class path resource [com/search_engine_microservice_group/search_engine_microservice/Configuration/OpenSearchRestClientConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opensearch.client.opensearch.OpenSearchClient]: Factory method &#39;OpensearchClient&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.search_engine_microservice_group.search_engine_microservice.SearchEngineMicroserviceApplication.main(SearchEngineMicroserviceApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opensearch.client.opensearch.OpenSearchClient]: Factory method &#39;OpensearchClient&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\tat org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:61) ~[opensearch-java-2.1.0.jar:na]\r\n\tat org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:57) ~[opensearch-java-2.1.0.jar:na]\r\n\tat org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:68) ~[opensearch-java-2.1.0.jar:na]\r\n\tat org.opensearch.client.transport.aws.AwsSdk2Transport.&lt;init&gt;(AwsSdk2Transport.java:156) ~[opensearch-java-2.1.0.jar:na]\r\n\tat org.opensearch.client.transport.aws.AwsSdk2Transport.&lt;init&gt;(AwsSdk2Transport.java:99) ~[opensearch-java-2.1.0.jar:na]\r\n\tat com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration.OpensearchClient(OpenSearchRestClientConfiguration.java:38) ~[classes/:na]\r\n\tat com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1.CGLIB$OpensearchClient$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1$$FastClassBySpringCGLIB$$549e6b4b.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1.OpensearchClient(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: jakarta.json.spi.JsonProvider\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 50 common frames omitted\r\n\r\n```\r\n\r\n\r\nI get an error when I add **@Bean** at the top of the **OpensearchClient** *method *in **OpenSearchRestClientConfiguration **class, but when I remove the **@Bean** annotation, I get no errors.\r\n\r\n\r\nWhat is the reason behind such error ?\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;OpensearchClient&#39; defined in class path resource","body":"<p>I am using Java and spring boot. I have 2 files, an @configuration file and a @Service file.</p>\n<p>Configuration file:</p>\n<pre><code>\n</code></pre>\n<pre><code>@Configuration\n    public class OpenSearchRestClientConfiguration {\n        @Value(&quot;${aws.opensearch.domain.endpoint}&quot;)\n        private String endpoint;\n        @Value(&quot;${aws.region}&quot;)\n        private String region;\n        @Value(&quot;${aws.serviceName}&quot;)\n        private String myServiceName;\n    \n    \n        @Bean  //I get an error when I add @Bean, but when I remove @Bean, I get no errors.\n        public OpenSearchClient OpensearchClient(){\n            SdkHttpClient myHttpClient = ApacheHttpClient.builder().build();\n    \n            AWS4Signer mySigner = new AWS4Signer();\n            mySigner.setServiceName(myServiceName);\n            mySigner.setRegionName(region);\n            return new OpenSearchClient(\n                    new AwsSdk2Transport(myHttpClient, endpoint, Region.of(region), AwsSdk2TransportOptions.builder().build()));\n    \n    \n        }\n    }  \n</code></pre>\n<pre><code>\n</code></pre>\n<p>Service file:</p>\n<pre><code>@Service\npublic class PostsSearchService {\n\n    \n    private final OpenSearchRestClientConfiguration myOpenSearchClient;\n\n    public PostsSearchService(OpenSearchRestClientConfiguration openSearchClient){\n\n        this.myOpenSearchClient = openSearchClient;\n    }\n} \n</code></pre>\n<p>I get an error when I add @Bean at the top of the OpensearchClient method in OpenSearchRestClientConfiguration class, but when I remove @Bean, I get no errors.</p>\n<p>Here is the error I'm getting:</p>\n<blockquote>\n</blockquote>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'OpensearchClient' defined in class path resource [com/search_engine_microservice_group/search_engine_microservice/Configuration/OpenSearchRestClientConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opensearch.client.opensearch.OpenSearchClient]: Factory method 'OpensearchClient' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.search_engine_microservice_group.search_engine_microservice.SearchEngineMicroserviceApplication.main(SearchEngineMicroserviceApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opensearch.client.opensearch.OpenSearchClient]: Factory method 'OpensearchClient' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 24 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:61) ~[opensearch-java-2.1.0.jar:na]\n    at org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:57) ~[opensearch-java-2.1.0.jar:na]\n    at org.opensearch.client.json.jackson.JacksonJsonpMapper.&lt;init&gt;(JacksonJsonpMapper.java:68) ~[opensearch-java-2.1.0.jar:na]\n    at org.opensearch.client.transport.aws.AwsSdk2Transport.&lt;init&gt;(AwsSdk2Transport.java:156) ~[opensearch-java-2.1.0.jar:na]\n    at org.opensearch.client.transport.aws.AwsSdk2Transport.&lt;init&gt;(AwsSdk2Transport.java:99) ~[opensearch-java-2.1.0.jar:na]\n    at com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration.OpensearchClient(OpenSearchRestClientConfiguration.java:38) ~[classes/:na]\n    at com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1.CGLIB$OpensearchClient$0(&lt;generated&gt;) ~[classes/:na]\n    at com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1$$FastClassBySpringCGLIB$$549e6b4b.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n    at com.search_engine_microservice_group.search_engine_microservice.Configuration.OpenSearchRestClientConfiguration$$EnhancerBySpringCGLIB$$606bb8d1.OpensearchClient(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.json.spi.JsonProvider\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 50 common frames omitted\n\n</code></pre>\n<p>I get an error when I add <strong>@Bean</strong> at the top of the <strong>OpensearchClient</strong> *method *in **OpenSearchRestClientConfiguration **class, but when I remove the <strong>@Bean</strong> annotation, I get no errors.</p>\n<p>What is the reason behind such error ?</p>\n"},{"tags":["java","spring-boot","junit","mockito","mockmvc"],"comments":[{"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"score":0,"creation_date":1667290162,"post_id":74273029,"comment_id":131127932,"body_markdown":"Do you mocked UserService? Do you annotated your test class with @RunWith(MockitoJUnitRunner.class) or others runner?","body":"Do you mocked UserService? Do you annotated your test class with @RunWith(MockitoJUnitRunner.class) or others runner?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667291770,"post_id":74273029,"comment_id":131128353,"body_markdown":"Please show us: 1. Annotations on the test class. 2. Annotations or initialization of userService and mockMvc in test class.","body":"Please show us: 1. Annotations on the test class. 2. Annotations or initialization of userService and mockMvc in test class."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667324240,"post_id":74273029,"comment_id":131139161,"body_markdown":"Can I know the reason why are you creating an object of UserService in UserMigrationController using new operator? Looks like this is causing issue.","body":"Can I know the reason why are you creating an object of UserService in UserMigrationController using new operator? Looks like this is causing issue."},{"owner":{"account_id":24214480,"reputation":55,"user_id":18170566,"display_name":"pussyCat"},"score":0,"creation_date":1667372571,"post_id":74273029,"comment_id":131148804,"body_markdown":"@mamo &gt;&gt; I&#39;ve edited my post, adding the annotations you asked for.","body":"@mamo &gt;&gt; I&#39;ve edited my post, adding the annotations you asked for."},{"owner":{"account_id":24214480,"reputation":55,"user_id":18170566,"display_name":"pussyCat"},"score":0,"creation_date":1667372661,"post_id":74273029,"comment_id":131148828,"body_markdown":"@Lesiak I&#39;m sorry for the omission.  I&#39;ve updated my post with relevant info.","body":"@Lesiak I&#39;m sorry for the omission.  I&#39;ve updated my post with relevant info."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667373500,"creation_date":1667373500,"answer_id":74285584,"question_id":74273029,"body_markdown":"I would make following amendments:\r\n\r\n1. In prod code: inject UserService to your controller, instead of creating one in the constructor:\r\n```lang-java\r\n@Autowired\r\npublic UserMigrationController(UserService userService) {\r\n    this.userService = userService;\r\n}\r\n```\r\n\r\nCurrently you are not interacting with the mock you created in your test. UserService must be a spring bean - annotating it with `@Service` should do the job.\r\n\r\n2. You are using wrong annotations in your test.\r\nFor this kind of test @WebMvcTest is ideal:\r\n\r\n```lang-java\r\n@WebMvcTest(UserMigrationController.class)\r\nclass UserMigrationControllerTest {\r\n\r\n@Autowired\r\nprivate MockMvc mockMvc;\r\n\r\n@MockBean\r\nprivate UserService userService;\r\n\r\n@Test\r\nvoid should_get_users_for_list() throws Exception {\r\n}\r\n```\r\n\r\nSee: [Unit Testing With @WebMvcTest](https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest)\r\n\r\nNote: You no longer need to call `MockitoAnnotations.openMocks`","title":"Getting NullPointerException in Unit test for MockMvc performed","body":"<p>I would make following amendments:</p>\n<ol>\n<li>In prod code: inject UserService to your controller, instead of creating one in the constructor:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic UserMigrationController(UserService userService) {\n    this.userService = userService;\n}\n</code></pre>\n<p>Currently you are not interacting with the mock you created in your test. UserService must be a spring bean - annotating it with <code>@Service</code> should do the job.</p>\n<ol start=\"2\">\n<li>You are using wrong annotations in your test.\nFor this kind of test @WebMvcTest is ideal:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(UserMigrationController.class)\nclass UserMigrationControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate UserService userService;\n\n@Test\nvoid should_get_users_for_list() throws Exception {\n}\n</code></pre>\n<p>See: <a href=\"https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest\" rel=\"nofollow noreferrer\">Unit Testing With @WebMvcTest</a></p>\n<p>Note: You no longer need to call <code>MockitoAnnotations.openMocks</code></p>\n"},{"tags":[],"owner":{"account_id":24214480,"reputation":55,"user_id":18170566,"display_name":"pussyCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667478777,"creation_date":1667478777,"answer_id":74303143,"question_id":74273029,"body_markdown":"Turns out, I needed to mock repositories from the constructor in the Controller class. The test class should look like this:\r\n\r\n    @AutoConfigureMockMvc\r\n    class UserMigrationControllerTest {\r\n    \r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @MockBean\r\n    private UserService userService;\r\n    \r\n    @MockBean\r\n    private UserRepository userRepository;\r\n    \r\n    @MockBean\r\n    private DocumentRepository documentRepository;\r\n    \r\n    // the rest of the code\r\n\r\nThank you for your suggestions!","title":"Getting NullPointerException in Unit test for MockMvc performed","body":"<p>Turns out, I needed to mock repositories from the constructor in the Controller class. The test class should look like this:</p>\n<pre><code>@AutoConfigureMockMvc\nclass UserMigrationControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate UserService userService;\n\n@MockBean\nprivate UserRepository userRepository;\n\n@MockBean\nprivate DocumentRepository documentRepository;\n\n// the rest of the code\n</code></pre>\n<p>Thank you for your suggestions!</p>\n"}],"owner":{"account_id":24214480,"reputation":55,"user_id":18170566,"display_name":"pussyCat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74303143,"answer_count":2,"score":0,"last_activity_date":1667478777,"creation_date":1667289667,"question_id":74273029,"body_markdown":"I&#39;m running a Unit test In my application&#39;s Controller and I&#39;m getting a NullPointerException. Here are the details.\r\n\r\nThe Controller:\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    @RequestMapping(&quot;/api/users&quot;)\r\n    public class UserMigrationController {\r\n    \r\n        UserService userService;\r\n    \r\n        @Value(&quot;${SOURCE_DNS}&quot;)\r\n        private String sourceDns;\r\n    \r\n        @Autowired\r\n        public UserMigrationController(UserRepository userRepository, DocumentRepository documentRepository) {\r\n            userService = new UserService(userRepository, documentRepository);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/getUsers&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;List&lt;UserData&gt;&gt; getUsersForList() throws Exception {\r\n    \r\n            List&lt;UsersData&gt; usersDataList = UserService.getUsersForList();\r\n    \r\n            return new ResponseEntity&lt;&gt;(usersDataList, HttpStatus.OK);\r\n    }\r\n    }\r\n\r\nThe UserData is just a simple\r\n\r\n    public record UserData(String id, String name) {\r\n    }\r\n\r\nAnd here is my test class:\r\n\r\n    @AutoConfigureMockMvc\r\n    class UserMigrationControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private UserService userService;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    void should_get_users_for_list() throws Exception {\r\n        String id = &quot;id&quot;;\r\n        String name = &quot;name&quot;;\r\n        UserData userData = new UserData(id, name);\r\n        List&lt;UserData&gt; response = new ArrayList&lt;&gt;();\r\n        response.add(userData);\r\n        when(userService.getUsersForList())\r\n                .thenReturn(response);\r\n\r\n        mockMvc.perform(\r\n                MockMvcRequestBuilders.get(&quot;/api/users/getUsers&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(&quot;application/json&quot;))\r\n                .andExpect(MockMvcResultMatchers.status().isOk());\r\n    }\r\n\r\nAs I can see, all annotations are in the right place. But when I run a test, I get NullPointerException like this:\r\n\r\n    Cannot invoke &quot;com.package.usersapi.service.UserService.getUsersForList()&quot; because &quot;this.userService&quot; is null\r\n\r\n","title":"Getting NullPointerException in Unit test for MockMvc performed","body":"<p>I'm running a Unit test In my application's Controller and I'm getting a NullPointerException. Here are the details.</p>\n<p>The Controller:</p>\n<pre><code>@RestController\n@CrossOrigin\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserMigrationController {\n\n    UserService userService;\n\n    @Value(&quot;${SOURCE_DNS}&quot;)\n    private String sourceDns;\n\n    @Autowired\n    public UserMigrationController(UserRepository userRepository, DocumentRepository documentRepository) {\n        userService = new UserService(userRepository, documentRepository);\n    }\n\n    @GetMapping(value = &quot;/getUsers&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;List&lt;UserData&gt;&gt; getUsersForList() throws Exception {\n\n        List&lt;UsersData&gt; usersDataList = UserService.getUsersForList();\n\n        return new ResponseEntity&lt;&gt;(usersDataList, HttpStatus.OK);\n}\n}\n</code></pre>\n<p>The UserData is just a simple</p>\n<pre><code>public record UserData(String id, String name) {\n}\n</code></pre>\n<p>And here is my test class:</p>\n<pre><code>@AutoConfigureMockMvc\nclass UserMigrationControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate UserService userService;\n\n@BeforeEach\nvoid setup() {\n    MockitoAnnotations.openMocks(this);\n}\n\n@Test\nvoid should_get_users_for_list() throws Exception {\n    String id = &quot;id&quot;;\n    String name = &quot;name&quot;;\n    UserData userData = new UserData(id, name);\n    List&lt;UserData&gt; response = new ArrayList&lt;&gt;();\n    response.add(userData);\n    when(userService.getUsersForList())\n            .thenReturn(response);\n\n    mockMvc.perform(\n            MockMvcRequestBuilders.get(&quot;/api/users/getUsers&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .accept(&quot;application/json&quot;))\n            .andExpect(MockMvcResultMatchers.status().isOk());\n}\n</code></pre>\n<p>As I can see, all annotations are in the right place. But when I run a test, I get NullPointerException like this:</p>\n<pre><code>Cannot invoke &quot;com.package.usersapi.service.UserService.getUsersForList()&quot; because &quot;this.userService&quot; is null\n</code></pre>\n"},{"tags":["java","dependency-injection","jersey","hk2"],"answers":[{"tags":[],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667478562,"creation_date":1667478562,"answer_id":74303103,"question_id":74292616,"body_markdown":"The `@Contract` and `@Service` are both for its default injection, according to the question, these annotations are not suitable for DAO layer, so I solved this issue by `org.glassfish.hk2.utilities.binding.AbstractBinder` like this:\r\n\r\n    @Override\r\n        protected void configure() {\r\n    \r\n            Reflections reflections = new Reflections(packageName);\r\n    \r\n            Set&lt;Class&lt;?&gt;&gt; repositories = reflections.getTypesAnnotatedWith(Repository.class, true);\r\n    \r\n            repositories.stream().forEach(repo -&gt; {\r\n    \r\n                BeanAddress beanAddresses = repo.getAnnotationsByType(BeanAddress.class)[0];\r\n    \r\n                try {\r\n                    Class&lt;?&gt; requiredClass = Class.forName(beanAddresses.implPackageName());\r\n                    bind(requiredClass).to(repo)\r\n                            .named(Class.class.getCanonicalName()).in(Singleton.class);\r\n                } catch (ClassNotFoundException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n    ...\r\n\r\nAs it shows, I manually bind the interface to its class of DAO layers by an annotation that is made by myself(`BeanAddress.class`)","title":"Why dependency injection only work on @Service and @Contract, how to change or add some other annotation like @Singleton","body":"<p>The <code>@Contract</code> and <code>@Service</code> are both for its default injection, according to the question, these annotations are not suitable for DAO layer, so I solved this issue by <code>org.glassfish.hk2.utilities.binding.AbstractBinder</code> like this:</p>\n<pre><code>@Override\n    protected void configure() {\n\n        Reflections reflections = new Reflections(packageName);\n\n        Set&lt;Class&lt;?&gt;&gt; repositories = reflections.getTypesAnnotatedWith(Repository.class, true);\n\n        repositories.stream().forEach(repo -&gt; {\n\n            BeanAddress beanAddresses = repo.getAnnotationsByType(BeanAddress.class)[0];\n\n            try {\n                Class&lt;?&gt; requiredClass = Class.forName(beanAddresses.implPackageName());\n                bind(requiredClass).to(repo)\n                        .named(Class.class.getCanonicalName()).in(Singleton.class);\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        });\n...\n</code></pre>\n<p>As it shows, I manually bind the interface to its class of DAO layers by an annotation that is made by myself(<code>BeanAddress.class</code>)</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667478562,"creation_date":1667406606,"question_id":74292616,"body_markdown":"There is an application that is configured by hk2 dependency injection.\r\nthe pom.xml :\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;junit.version&gt;5.4.0&lt;/junit.version&gt;\r\n        &lt;jsonassert.version&gt;1.5.0&lt;/jsonassert.version&gt;\r\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Grizzly 2 HTTP Server --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Jersey DI and core--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- add jackson as json provider --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Need this to hide warning for jakarta.activation.DataSource --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- JUnit 5 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- test json data --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n            &lt;version&gt;${jsonassert.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nand MyResource.java:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import com.mkyong.json.service.MessageService;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.inject.Named;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class MyResource {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n        @Inject\r\n        @Named(&quot;aws&quot;)\r\n        private MessageService awsService;\r\n    \r\n        @Inject\r\n        @Named(&quot;azure&quot;)\r\n        private MessageService azureService;\r\n    \r\n        @Path(&quot;/hk2/aws&quot;)\r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String helloAws() {\r\n            String result = awsService.getHello();\r\n    \r\n            ObjectNode json = mapper.createObjectNode();\r\n            return result;\r\n        }\r\n    \r\n        @Path(&quot;/hk2/azure&quot;)\r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String helloAzure() {\r\n            return azureService.getHello();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand AutoScanFeature.java :\r\n\r\n    import jakarta.inject.Inject;\r\n    import jakarta.ws.rs.core.Feature;\r\n    import jakarta.ws.rs.core.FeatureContext;\r\n    import org.glassfish.hk2.api.DynamicConfigurationService;\r\n    import org.glassfish.hk2.api.MultiException;\r\n    import org.glassfish.hk2.api.Populator;\r\n    import org.glassfish.hk2.api.ServiceLocator;\r\n    import org.glassfish.hk2.utilities.ClasspathDescriptorFileFinder;\r\n    import org.glassfish.hk2.utilities.DuplicatePostProcessor;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class AutoScanFeature implements Feature {\r\n    \r\n        @Inject\r\n        ServiceLocator serviceLocator;\r\n    \r\n        @Override\r\n        public boolean configure(FeatureContext context) {\r\n    \r\n            DynamicConfigurationService dcs =\r\n                    serviceLocator.getService(DynamicConfigurationService.class);\r\n            Populator populator = dcs.getPopulator();\r\n            try {\r\n                // Populator - populate HK2 service locators from inhabitants files\r\n                // ClasspathDescriptorFileFinder - find files from META-INF/hk2-locator/default\r\n                populator.populate(\r\n                        new ClasspathDescriptorFileFinder(this.getClass().getClassLoader()),\r\n                        new DuplicatePostProcessor());\r\n    \r\n            } catch (IOException | MultiException ex) {\r\n                Logger.getLogger(AutoScanFeature.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nService interface:\r\n\r\n\r\n    @Contract\r\n    public interface UserService {\r\n        void add(User user);\r\n    }\r\n\r\nand its implementation:\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        @Override\r\n        public void add(User user) {\r\n            super.save(user, hibernateOracleTestXML);\r\n        }\r\n    }\r\n\r\nEverything is working correctly and dependency injection is only worked by only `@Service` and `@Contract`, but I want to use `@Singleton` or something else for such as DAO layer.\r\n\r\nAnother hand It does not work when I use `@Singleton` or something else except `@Service`\r\n\r\nHow to solve this problem?","title":"Why dependency injection only work on @Service and @Contract, how to change or add some other annotation like @Singleton","body":"<p>There is an application that is configured by hk2 dependency injection.\nthe pom.xml :</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;junit.version&gt;5.4.0&lt;/junit.version&gt;\n    &lt;jsonassert.version&gt;1.5.0&lt;/jsonassert.version&gt;\n    &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- Grizzly 2 HTTP Server --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jersey DI and core--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n        &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- add jackson as json provider --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Need this to hide warning for jakarta.activation.DataSource --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JUnit 5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- test json data --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n        &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n        &lt;version&gt;${jsonassert.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and MyResource.java:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.mkyong.json.service.MessageService;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class MyResource {\n    private static final ObjectMapper mapper = new ObjectMapper();\n    @Inject\n    @Named(&quot;aws&quot;)\n    private MessageService awsService;\n\n    @Inject\n    @Named(&quot;azure&quot;)\n    private MessageService azureService;\n\n    @Path(&quot;/hk2/aws&quot;)\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String helloAws() {\n        String result = awsService.getHello();\n\n        ObjectNode json = mapper.createObjectNode();\n        return result;\n    }\n\n    @Path(&quot;/hk2/azure&quot;)\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String helloAzure() {\n        return azureService.getHello();\n    }\n\n}\n</code></pre>\n<p>and AutoScanFeature.java :</p>\n<pre><code>import jakarta.inject.Inject;\nimport jakarta.ws.rs.core.Feature;\nimport jakarta.ws.rs.core.FeatureContext;\nimport org.glassfish.hk2.api.DynamicConfigurationService;\nimport org.glassfish.hk2.api.MultiException;\nimport org.glassfish.hk2.api.Populator;\nimport org.glassfish.hk2.api.ServiceLocator;\nimport org.glassfish.hk2.utilities.ClasspathDescriptorFileFinder;\nimport org.glassfish.hk2.utilities.DuplicatePostProcessor;\n\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class AutoScanFeature implements Feature {\n\n    @Inject\n    ServiceLocator serviceLocator;\n\n    @Override\n    public boolean configure(FeatureContext context) {\n\n        DynamicConfigurationService dcs =\n                serviceLocator.getService(DynamicConfigurationService.class);\n        Populator populator = dcs.getPopulator();\n        try {\n            // Populator - populate HK2 service locators from inhabitants files\n            // ClasspathDescriptorFileFinder - find files from META-INF/hk2-locator/default\n            populator.populate(\n                    new ClasspathDescriptorFileFinder(this.getClass().getClassLoader()),\n                    new DuplicatePostProcessor());\n\n        } catch (IOException | MultiException ex) {\n            Logger.getLogger(AutoScanFeature.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>Service interface:</p>\n<pre><code>@Contract\npublic interface UserService {\n    void add(User user);\n}\n</code></pre>\n<p>and its implementation:</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService {\n\n    @Override\n    public void add(User user) {\n        super.save(user, hibernateOracleTestXML);\n    }\n}\n</code></pre>\n<p>Everything is working correctly and dependency injection is only worked by only <code>@Service</code> and <code>@Contract</code>, but I want to use <code>@Singleton</code> or something else for such as DAO layer.</p>\n<p>Another hand It does not work when I use <code>@Singleton</code> or something else except <code>@Service</code></p>\n<p>How to solve this problem?</p>\n"},{"tags":["java","selenium","junit","automation","saucelabs"],"answers":[{"tags":[],"owner":{"account_id":552913,"reputation":115,"user_id":918189,"display_name":"aorticDefiance"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479198889,"creation_date":1479198889,"answer_id":40605245,"question_id":40605171,"body_markdown":"    private WebDriverTest(String os, String version, String browser) {\r\n     super();\r\n     this.os= os;\r\n     this.version= version;\r\n     this.browser= browser;\r\n    }\r\n\r\nshould be\r\n\r\n    public WebDriverTest(String os, String version, String browser) {\r\n     super();\r\n     this.os= os;\r\n     this.version= version;\r\n     this.browser= browser;\r\n    }\r\n\r\n\r\n","title":"java.lang.Exception: Test class should have exactly one public constructor","body":"<pre><code>private WebDriverTest(String os, String version, String browser) {\n super();\n this.os= os;\n this.version= version;\n this.browser= browser;\n}\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>public WebDriverTest(String os, String version, String browser) {\n super();\n this.os= os;\n this.version= version;\n this.browser= browser;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479199920,"creation_date":1479199920,"answer_id":40605521,"question_id":40605171,"body_markdown":"Point to rememeber while writing JUnit is that  while execution it calls constructor of test class before executing test method. You can verify it by putting a System.out.println message in constructor itself\r\n\r\nHere in your code you have defined your constructor as private so the test framework will not be able to instantiate your test class for test methods execution change the scope to public.\r\n\r\n    public WebDriverTest(String os, String version, String browser) {\r\n     super();\r\n     this.os= os;\r\n     this.version= version;\r\n     this.browser= browser;\r\n    }\r\n\r\n","title":"java.lang.Exception: Test class should have exactly one public constructor","body":"<p>Point to rememeber while writing JUnit is that  while execution it calls constructor of test class before executing test method. You can verify it by putting a System.out.println message in constructor itself</p>\n\n<p>Here in your code you have defined your constructor as private so the test framework will not be able to instantiate your test class for test methods execution change the scope to public.</p>\n\n<pre><code>public WebDriverTest(String os, String version, String browser) {\n super();\n this.os= os;\n this.version= version;\n this.browser= browser;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588202074,"creation_date":1588202074,"answer_id":61513273,"question_id":40605171,"body_markdown":"I got this error while trying to run the unit test in Eclipse, and it turned out that the problem was Eclipse. Running it from the command line using gradle returned a different error - that *another* unit test was invalid. Fixing the other invalid test fixed this error. Thanks a lot, Eclipse!","title":"java.lang.Exception: Test class should have exactly one public constructor","body":"<p>I got this error while trying to run the unit test in Eclipse, and it turned out that the problem was Eclipse. Running it from the command line using gradle returned a different error - that <em>another</em> unit test was invalid. Fixing the other invalid test fixed this error. Thanks a lot, Eclipse!</p>\n"},{"tags":[],"owner":{"account_id":21804021,"reputation":1,"user_id":16102447,"display_name":"Dhanashree K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667478474,"creation_date":1667478474,"answer_id":74303089,"question_id":40605171,"body_markdown":"Test class must be public or if it has a constructor, it must be public for the wiring to work.","title":"java.lang.Exception: Test class should have exactly one public constructor","body":"<p>Test class must be public or if it has a constructor, it must be public for the wiring to work.</p>\n"}],"owner":{"account_id":8855691,"reputation":51,"user_id":6613534,"display_name":"Pooja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12009,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1667478474,"creation_date":1479198622,"question_id":40605171,"body_markdown":"I&#39;ve following junit test \r\n\r\n    package test.java.com.unit;\r\n    import com.saucelabs.common.SauceOnDemandAuthentication;\r\n    import com.saucelabs.common.SauceOnDemandSessionIdProvider;\r\n    import com.saucelabs.junit.Parallelized;\r\n    import com.saucelabs.junit.SauceOnDemandTestWatcher;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.TestName;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Parameterized;\r\n    import org.openqa.selenium.Platform;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.remote.CapabilityType;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\n    import java.net.URL;\r\n    import java.util.LinkedList;\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n\r\n    @RunWith(Parallelized.class)\r\n    public class WebDriverTest implements SauceOnDemandSessionIdProvider {\r\n\r\n\r\n    public SauceOnDemandAuthentication authentication = new SauceOnDemandAuthentication(&quot;USER_NAME&quot;, &quot;ACCESS_KEY&quot;);\r\n\r\n    private String browser;\r\n    private String os;\r\n    private String version;\r\n\r\n    public @Rule SauceOnDemandTestWatcher resultReportingTestWatcher = new SauceOnDemandTestWatcher(this, authentication);\r\n\r\n    public @Rule TestName testName = new TestName();\r\n\r\n    private WebDriverTest(String os, String version, String browser) {\r\n     super();\r\n     this.os= os;\r\n     this.version= version;\r\n     this.browser= browser;\r\n    }\r\n\r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    @Parameterized.Parameters\r\n    public static LinkedList browsersStrings() throws Exception {\r\n    LinkedList browsers = new LinkedList();\r\n     browsers.add(new String[]{Platform.XP.toString(), &quot;26&quot;, &quot;firefox&quot;});\r\n     browsers.add(new String[]{Platform.WIN8.toString(), &quot;10&quot;, &quot;internet explorer&quot;});\r\n      browsers.add(new String[]{Platform.MAC.toString(), &quot;5&quot;, &quot;safari&quot;});\r\n     browsers.add(new String[]{Platform.MAC.toString(), &quot;7&quot;, &quot;iphone&quot;});\r\n    browsers.add(new String[]{Platform.LINUX.toString(), &quot;30&quot;, &quot;chrome&quot;});\r\n     browsers.add(new String[]{Platform.ANDROID.toString(), &quot;4.0&quot;, &quot;android&quot;});\r\n    return browsers;\r\n    }\r\n    private WebDriver driver;\r\n    private String sessionId;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(CapabilityType.BROWSER_NAME, browser);\r\n    capabilities.setCapability(CapabilityType.VERSION, version);\r\n    capabilities.setCapability(CapabilityType.PLATFORM,  Platform.valueOf(os));\r\n\r\n    if(browser.equalsIgnoreCase(&quot;android&quot;))\r\n    {\r\n     capabilities.setCapability(&quot;device-type&quot;, &quot;tablet&quot;);\r\n      capabilities.setCapability(&quot;device-orientation&quot;, &quot;portrait&quot;);\r\n    }\r\n    else if(browser.equalsIgnoreCase(&quot;iphone&quot;))\r\n    {\r\n      capabilities.setCapability(&quot;device-orientation&quot;, &quot;portrait&quot;);\r\n    }\r\n\r\n    String name = testName.getMethodName() + &quot;: &quot;+ browser+ &quot; &quot;+ version+ &quot; &quot;+ Platform.valueOf(os);\r\n    capabilities.setCapability(&quot;name&quot;,name);\r\n    this.driver= new RemoteWebDriver(new URL(&quot;http://&quot;+ authentication.getUsername() + &quot;:&quot;+ authentication.getAccessKey() + &quot;@ondemand.saucelabs.com:80/wd/hub&quot;),capabilities);\r\n    this.sessionId= ((RemoteWebDriver)driver).getSessionId().toString();\r\n\r\n    }\r\n\r\n    @Override\r\n    public String getSessionId() {\r\n    return sessionId;\r\n    }\r\n\r\n    @Test\r\n    public void webDriver() throws Exception {\r\n    // Simple test -just go to the site and verify the title.\r\n     driver.get(&quot;https://www.google.com/&quot;);\r\n     assertEquals(&quot;To Do List&quot;, driver.getTitle());\r\n    }\r\n\r\n    @After\r\n    public void tearDown() throws Exception {\r\n     driver.quit(); }   }\r\n\r\nwhich is throwing \r\n\r\n    java.lang.Exception: Test class should have exactly one public constructor\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.validateOnlyOneConstructor(BlockJUnit4ClassRunner.java:158)\r\n    \tat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.validateConstructor(BlockJUnit4ClassRunnerWithParameters.java:88)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:127)\r\n    \tat org.junit.runners.ParentRunner.validate(ParentRunner.java:416)\r\n    \tat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)\r\n    \tat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.&lt;init&gt;(BlockJUnit4ClassRunnerWithParameters.java:27)\r\n    \tat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParametersFactory.createRunnerForTestWithParameters(BlockJUnit4ClassRunnerWithParametersFactory.java:16)\r\n    \tat org.junit.runners.Parameterized.createRunnersForParameters(Parameterized.java:313)\r\n    \tat org.junit.runners.Parameterized.&lt;init&gt;(Parameterized.java:248)\r\n    \tat com.saucelabs.junit.Parallelized.&lt;init&gt;(Parallelized.java:88)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    \r\n    exception while running test. Can someone help finding the solution.","title":"java.lang.Exception: Test class should have exactly one public constructor","body":"<p>I've following junit test </p>\n\n<pre><code>package test.java.com.unit;\nimport com.saucelabs.common.SauceOnDemandAuthentication;\nimport com.saucelabs.common.SauceOnDemandSessionIdProvider;\nimport com.saucelabs.junit.Parallelized;\nimport com.saucelabs.junit.SauceOnDemandTestWatcher;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TestName;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\nimport org.openqa.selenium.Platform;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.CapabilityType;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\nimport java.net.URL;\nimport java.util.LinkedList;\n\nimport static org.junit.Assert.assertEquals;\n\n@RunWith(Parallelized.class)\npublic class WebDriverTest implements SauceOnDemandSessionIdProvider {\n\n\npublic SauceOnDemandAuthentication authentication = new SauceOnDemandAuthentication(\"USER_NAME\", \"ACCESS_KEY\");\n\nprivate String browser;\nprivate String os;\nprivate String version;\n\npublic @Rule SauceOnDemandTestWatcher resultReportingTestWatcher = new SauceOnDemandTestWatcher(this, authentication);\n\npublic @Rule TestName testName = new TestName();\n\nprivate WebDriverTest(String os, String version, String browser) {\n super();\n this.os= os;\n this.version= version;\n this.browser= browser;\n}\n\n@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n@Parameterized.Parameters\npublic static LinkedList browsersStrings() throws Exception {\nLinkedList browsers = new LinkedList();\n browsers.add(new String[]{Platform.XP.toString(), \"26\", \"firefox\"});\n browsers.add(new String[]{Platform.WIN8.toString(), \"10\", \"internet explorer\"});\n  browsers.add(new String[]{Platform.MAC.toString(), \"5\", \"safari\"});\n browsers.add(new String[]{Platform.MAC.toString(), \"7\", \"iphone\"});\nbrowsers.add(new String[]{Platform.LINUX.toString(), \"30\", \"chrome\"});\n browsers.add(new String[]{Platform.ANDROID.toString(), \"4.0\", \"android\"});\nreturn browsers;\n}\nprivate WebDriver driver;\nprivate String sessionId;\n\n@Before\npublic void setUp() throws Exception {\n\nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(CapabilityType.BROWSER_NAME, browser);\ncapabilities.setCapability(CapabilityType.VERSION, version);\ncapabilities.setCapability(CapabilityType.PLATFORM,  Platform.valueOf(os));\n\nif(browser.equalsIgnoreCase(\"android\"))\n{\n capabilities.setCapability(\"device-type\", \"tablet\");\n  capabilities.setCapability(\"device-orientation\", \"portrait\");\n}\nelse if(browser.equalsIgnoreCase(\"iphone\"))\n{\n  capabilities.setCapability(\"device-orientation\", \"portrait\");\n}\n\nString name = testName.getMethodName() + \": \"+ browser+ \" \"+ version+ \" \"+ Platform.valueOf(os);\ncapabilities.setCapability(\"name\",name);\nthis.driver= new RemoteWebDriver(new URL(\"http://\"+ authentication.getUsername() + \":\"+ authentication.getAccessKey() + \"@ondemand.saucelabs.com:80/wd/hub\"),capabilities);\nthis.sessionId= ((RemoteWebDriver)driver).getSessionId().toString();\n\n}\n\n@Override\npublic String getSessionId() {\nreturn sessionId;\n}\n\n@Test\npublic void webDriver() throws Exception {\n// Simple test -just go to the site and verify the title.\n driver.get(\"https://www.google.com/\");\n assertEquals(\"To Do List\", driver.getTitle());\n}\n\n@After\npublic void tearDown() throws Exception {\n driver.quit(); }   }\n</code></pre>\n\n<p>which is throwing </p>\n\n<pre><code>java.lang.Exception: Test class should have exactly one public constructor\n    at org.junit.runners.BlockJUnit4ClassRunner.validateOnlyOneConstructor(BlockJUnit4ClassRunner.java:158)\n    at org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.validateConstructor(BlockJUnit4ClassRunnerWithParameters.java:88)\n    at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:127)\n    at org.junit.runners.ParentRunner.validate(ParentRunner.java:416)\n    at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)\n    at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)\n    at org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.&lt;init&gt;(BlockJUnit4ClassRunnerWithParameters.java:27)\n    at org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParametersFactory.createRunnerForTestWithParameters(BlockJUnit4ClassRunnerWithParametersFactory.java:16)\n    at org.junit.runners.Parameterized.createRunnersForParameters(Parameterized.java:313)\n    at org.junit.runners.Parameterized.&lt;init&gt;(Parameterized.java:248)\n    at com.saucelabs.junit.Parallelized.&lt;init&gt;(Parallelized.java:88)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n\nexception while running test. Can someone help finding the solution.\n</code></pre>\n"},{"tags":["java","datetime","datetime-format","datediff"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667498889,"post_id":74302811,"comment_id":131186930,"body_markdown":"A possibly simpler way is to add 10 minutes to the earlier date-time and see if the result is after the other one.","body":"A possibly simpler way is to add 10 minutes to the earlier date-time and see if the result is after the other one."}],"answers":[{"tags":[],"owner":{"account_id":26817936,"reputation":24,"user_id":20407672,"display_name":"user20407672"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667478467,"creation_date":1667478467,"answer_id":74303087,"question_id":74302811,"body_markdown":"    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime now = LocalDateTime.now();\r\n    String db_share_time = &quot;2022-05-12 12:15:39&quot;;\r\n    LocalDateTime from = LocalDateTime.from(dtf.parse(db_share_time));\r\n    Duration between = Duration.between(from, now);\r\n    System.out.println(between.toMinutes());","title":"How can I get the difference between my two datetime data in Java?","body":"<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nLocalDateTime now = LocalDateTime.now();\nString db_share_time = &quot;2022-05-12 12:15:39&quot;;\nLocalDateTime from = LocalDateTime.from(dtf.parse(db_share_time));\nDuration between = Duration.between(from, now);\nSystem.out.println(between.toMinutes());\n</code></pre>\n"}],"owner":{"account_id":26087345,"reputation":7,"user_id":19784706,"display_name":"Kaan Tuğberk Avlamaz"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1667492396,"accepted_answer_id":74303087,"answer_count":1,"score":-3,"last_activity_date":1667478467,"creation_date":1667477250,"question_id":74302811,"body_markdown":"There are 2 data as below. I will subtract these data from each other and check if there is a 10-minute difference between them. How can I do this in java?\r\n\r\n\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \r\n        LocalDateTime now = LocalDateTime.now(); \r\n\t\tString db_share_time=&quot;2022-05-12 12:15:39&quot;;\r\n\r\n\t\tSystem.out.println(dtf.format(dtf.parse(db_share_time)));\r\n\t\tSystem.out.println(dtf.format(now));\r\n```\r\n\tOutput:\r\n\t2022-05-12 12:15:39\r\n\t2022-11-03 14:42:28\r\n","title":"How can I get the difference between my two datetime data in Java?","body":"<p>There are 2 data as below. I will subtract these data from each other and check if there is a 10-minute difference between them. How can I do this in java?</p>\n<pre><code>    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \n    LocalDateTime now = LocalDateTime.now(); \n    String db_share_time=&quot;2022-05-12 12:15:39&quot;;\n\n    System.out.println(dtf.format(dtf.parse(db_share_time)));\n    System.out.println(dtf.format(now));\n</code></pre>\n<pre><code>    Output:\n    2022-05-12 12:15:39\n    2022-11-03 14:42:28\n</code></pre>\n"},{"tags":["java","vaadin","dataprovider"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1667476359,"post_id":74302467,"comment_id":131178157,"body_markdown":"Where is your collection comming from? Is it database backend, or...","body":"Where is your collection comming from? Is it database backend, or..."},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1667476549,"post_id":74302467,"comment_id":131178230,"body_markdown":"@Andr&#233;Schild a database","body":"@Andr&#233;Schild a database"},{"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"score":0,"creation_date":1667477491,"post_id":74302467,"comment_id":131178552,"body_markdown":"@spozzi Are you sure the data is stored in the database?","body":"@spozzi Are you sure the data is stored in the database?"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1667478070,"post_id":74302467,"comment_id":131178728,"body_markdown":"@gidravlic Now that you say it like that no. I am new to this and I am trying to learn. I made an edit to show how i created my dataProvider","body":"@gidravlic Now that you say it like that no. I am new to this and I am trying to learn. I made an edit to show how i created my dataProvider"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1667480778,"post_id":74302467,"comment_id":131179754,"body_markdown":"@gidravlic thank you! thank you! thank you! I managed to fix it so that the grid takes it&#39;s values from the DB instead of a dataProvider. Thanks for the little help!","body":"@gidravlic thank you! thank you! thank you! I managed to fix it so that the grid takes it&#39;s values from the DB instead of a dataProvider. Thanks for the little help!"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667478021,"creation_date":1667475601,"question_id":74302467,"body_markdown":"I am using a DataProvider to keep my grid up to date. `.refreshItem(item)` works perfectly fine for modifying existing items. My issue starts when I need to introduce new items in my grid. To do so I use a form that when save is pressed calls `dataProvider.refreshAll()` unfortunately this seems to do nothing I need to refresh the page manually in order to see the new item.\r\n\r\nMy `dataProvider` gets its data from a DB as follows:\r\n\r\n    var technologyList = technologyService.findAllTechnologies();\r\n\r\n    dataProvider = DataProvider.ofCollection(technologyList);\r\n\r\n","title":"dataProvider does not refresh when adding new item","body":"<p>I am using a DataProvider to keep my grid up to date. <code>.refreshItem(item)</code> works perfectly fine for modifying existing items. My issue starts when I need to introduce new items in my grid. To do so I use a form that when save is pressed calls <code>dataProvider.refreshAll()</code> unfortunately this seems to do nothing I need to refresh the page manually in order to see the new item.</p>\n<p>My <code>dataProvider</code> gets its data from a DB as follows:</p>\n<pre><code>var technologyList = technologyService.findAllTechnologies();\n\ndataProvider = DataProvider.ofCollection(technologyList);\n</code></pre>\n"},{"tags":["java","web-scraping","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":1,"creation_date":1667500713,"post_id":74292270,"comment_id":131187466,"body_markdown":"Please open an issue for HtmlUnit (https://github.com/HtmlUnit/htmlunit) and i will try to help.\nIs the URL you are using public?","body":"Please open an issue for HtmlUnit (<a href=\"https://github.com/HtmlUnit/htmlunit\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit</a>) and i will try to help. Is the URL you are using public?"},{"owner":{"account_id":9323654,"reputation":375,"user_id":6921674,"display_name":"Martin"},"score":1,"creation_date":1667565225,"post_id":74292270,"comment_id":131202130,"body_markdown":"Great thank you.  The new issue can be found here: https://github.com/HtmlUnit/htmlunit/issues/518","body":"Great thank you.  The new issue can be found here: <a href=\"https://github.com/HtmlUnit/htmlunit/issues/518\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit/issues/518</a>"}],"owner":{"account_id":9323654,"reputation":375,"user_id":6921674,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667477795,"creation_date":1667405107,"question_id":74292270,"body_markdown":"I have a HtmlUnit &quot;script&quot; that has been running for months, but started to fail about a week ago. Some changes were most probably made on the backend of the web site targeted by my script, but I don&#39;t have all the details unfortunately.\r\n\r\nBasically the script throws an exception on the first attempt to access the main page.  The code looks like this:\r\n\r\n    try (final WebClient webClient = new WebClient())\r\n    {\r\n        webClient.getOptions().setRedirectEnabled(true);\r\n        webClient.getCookieManager().setCookiesEnabled(true);\r\n        HtmlPage loginPage = webClient.getPage(&quot;https://example.com/&quot;);\r\n    }\r\n\r\nThe exception thrown:\r\n\r\n    com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 421 Misdirected Request for https://example.com/\r\n\r\nI am able to open that same page with curl using this command:\r\n\r\n    curl -L https://example.com\r\n\r\nSame thing when I try with [OKHttp client][1], it works and causes no error.\r\n\r\nSince I could not find a solution with HtmlUnit, I have tried generate the redirected url using HttpClient:\r\n\r\n    private static Optional&lt;String&gt; getRedirectUrl() throws Exception\r\n    {\r\n        final HttpClient client = HttpClient.newBuilder()\r\n            .version(HttpClient.Version.HTTP_2)\r\n            .followRedirects(HttpClient.Redirect.NEVER)\r\n            .build();\r\n    \r\n        final HttpResponse&lt;String&gt; response = client.send(HttpRequest.newBuilder(new URI(EXAMPLE_SITE)).GET().build(), HttpResponse.BodyHandlers.ofString());\r\n    \r\n        return response.headers().firstValue(&quot;location&quot;);\r\n    } \r\n\r\nBut then I get a 403 Forbidden error when I attempt to access this redirected url using HtmlUnit (it works if I open the redirected URL in a standard browser).\r\n\r\nI am wondering if there are any limitations with HtmlUnit that I am not aware of? \r\n\r\n  [1]: https://square.github.io/okhttp/","title":"Why do I get a 421 Misdirected Request error with HtmlUnit and not with curl, OKHttp and standard browsers?","body":"<p>I have a HtmlUnit &quot;script&quot; that has been running for months, but started to fail about a week ago. Some changes were most probably made on the backend of the web site targeted by my script, but I don't have all the details unfortunately.</p>\n<p>Basically the script throws an exception on the first attempt to access the main page.  The code looks like this:</p>\n<pre><code>try (final WebClient webClient = new WebClient())\n{\n    webClient.getOptions().setRedirectEnabled(true);\n    webClient.getCookieManager().setCookiesEnabled(true);\n    HtmlPage loginPage = webClient.getPage(&quot;https://example.com/&quot;);\n}\n</code></pre>\n<p>The exception thrown:</p>\n<pre><code>com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 421 Misdirected Request for https://example.com/\n</code></pre>\n<p>I am able to open that same page with curl using this command:</p>\n<pre><code>curl -L https://example.com\n</code></pre>\n<p>Same thing when I try with <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OKHttp client</a>, it works and causes no error.</p>\n<p>Since I could not find a solution with HtmlUnit, I have tried generate the redirected url using HttpClient:</p>\n<pre><code>private static Optional&lt;String&gt; getRedirectUrl() throws Exception\n{\n    final HttpClient client = HttpClient.newBuilder()\n        .version(HttpClient.Version.HTTP_2)\n        .followRedirects(HttpClient.Redirect.NEVER)\n        .build();\n\n    final HttpResponse&lt;String&gt; response = client.send(HttpRequest.newBuilder(new URI(EXAMPLE_SITE)).GET().build(), HttpResponse.BodyHandlers.ofString());\n\n    return response.headers().firstValue(&quot;location&quot;);\n} \n</code></pre>\n<p>But then I get a 403 Forbidden error when I attempt to access this redirected url using HtmlUnit (it works if I open the redirected URL in a standard browser).</p>\n<p>I am wondering if there are any limitations with HtmlUnit that I am not aware of?</p>\n"},{"tags":["java","jackson","jackson2"],"comments":[{"owner":{"account_id":13520725,"reputation":88,"user_id":9754061,"display_name":"J. Doe"},"score":0,"creation_date":1553798335,"post_id":55404706,"comment_id":97529915,"body_markdown":"You want to check if the user inputs a name only containing letters?","body":"You want to check if the user inputs a name only containing letters?"},{"owner":{"account_id":13520725,"reputation":88,"user_id":9754061,"display_name":"J. Doe"},"score":0,"creation_date":1553798569,"post_id":55404706,"comment_id":97530036,"body_markdown":"@OamarKanji In computing, Jackson is a high-performance JSON processor for Java. Its developers extol the combination of fast, correct, lightweight, and ergonomic attributes of the library. -Wikipedia","body":"@OamarKanji In computing, Jackson is a high-performance JSON processor for Java. Its developers extol the combination of fast, correct, lightweight, and ergonomic attributes of the library. -Wikipedia"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1553799401,"post_id":55404706,"comment_id":97530497,"body_markdown":"@OamarKanji Jackson is a well-known JSON library for Java: https://github.com/FasterXML/jackson","body":"@OamarKanji Jackson is a well-known JSON library for Java: <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1553799568,"post_id":55404706,"comment_id":97530612,"body_markdown":"@MS90 Seems you misread the question. Jackson is *parsing* the JSON text and mapping the number value to the string field, and OP don&#39;t want the type conversion, i.e. for the number to be converted to a string. Basically, OP wants to treat the JSON text as being invalid.","body":"@MS90 Seems you misread the question. Jackson is <i>parsing</i> the JSON text and mapping the number value to the string field, and OP don&#39;t want the type conversion, i.e. for the number to be converted to a string. Basically, OP wants to treat the JSON text as being invalid."},{"owner":{"account_id":6847010,"reputation":1486,"user_id":5265472,"accept_rate":88,"display_name":"LunaticJape"},"score":0,"creation_date":1553799828,"post_id":55404706,"comment_id":97530750,"body_markdown":"Because the data type in your `Student` class is `String`, you can change it to `int`.","body":"Because the data type in your <code>Student</code> class is <code>String</code>, you can change it to <code>int</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1553800367,"post_id":55404706,"comment_id":97531058,"body_markdown":"@MS90 OP wants `name` to be `String`, and want to make sure that when *parsing/deserializing* JSON, the value is a JSON String, e.g. `&quot;4567&quot;`, not a JSON number, e.g. `4567`. Jackson converts the value from `int` to `String`, being a nice helpful library, but OP want it to fail. --- *&quot;if he wants to deserliaze content he would not have any problem whatsoever&quot;* OP issue is that it *doesn&#39;t* fail. OP *wants* it to a fail. OP wants it to be a problem.","body":"@MS90 OP wants <code>name</code> to be <code>String</code>, and want to make sure that when <i>parsing/deserializing</i> JSON, the value is a JSON String, e.g. <code>&quot;4567&quot;</code>, not a JSON number, e.g. <code>4567</code>. Jackson converts the value from <code>int</code> to <code>String</code>, being a nice helpful library, but OP want it to fail. --- <i>&quot;if he wants to deserliaze content he would not have any problem whatsoever&quot;</i> OP issue is that it <i>doesn&#39;t</i> fail. OP <i>wants</i> it to a fail. OP wants it to be a problem."},{"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"score":0,"creation_date":1553800602,"post_id":55404706,"comment_id":97531187,"body_markdown":"@Andreas But why did he serialized it as an int in the first place? There is no logic in this code at all. Instead of fixing what initially cause all of this mess we are adding more trouble for him sometime later. His only problem and issue is a code in serialization it in the first place.","body":"@Andreas But why did he serialized it as an int in the first place? There is no logic in this code at all. Instead of fixing what initially cause all of this mess we are adding more trouble for him sometime later. His only problem and issue is a code in serialization it in the first place."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1553800830,"post_id":55404706,"comment_id":97531320,"body_markdown":"@MS90 Check your assumptions. OP didn&#39;t serialized it as an int. OP is parsing JSON of unknown origin, and wants **strict parsing**, so that it fails if the JSON value type is incorrect. Why did you think that JSON text was created by Jackson? To paraphrase, question just says, &quot;I have this JSON, to be parsed into this object, and I want it to fail parsing, since the type is wrong&quot; *(&quot;How this can behavior can **changes to throw an exception** ?&quot;)*.","body":"@MS90 Check your assumptions. OP didn&#39;t serialized it as an int. OP is parsing JSON of unknown origin, and wants <b>strict parsing</b>, so that it fails if the JSON value type is incorrect. Why did you think that JSON text was created by Jackson? To paraphrase, question just says, &quot;I have this JSON, to be parsed into this object, and I want it to fail parsing, since the type is wrong&quot; <i>(&quot;How this can behavior can <b>changes to throw an exception</b> ?&quot;)</i>."},{"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"score":0,"creation_date":1553801220,"post_id":55404706,"comment_id":97531527,"body_markdown":"If he is parsing JSON of unknown origin then he for sure must follow the logic of the code he is about to parse. There is a reason creators of such JSON serialized that field as an int? @Andreas","body":"If he is parsing JSON of unknown origin then he for sure must follow the logic of the code he is about to parse. There is a reason creators of such JSON serialized that field as an int? @Andreas"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1553801426,"post_id":55404706,"comment_id":97531629,"body_markdown":"@MS90 What if OP is the &quot;author&quot; of the JSON schema, and some other idiot created the JSON wrong? Or OP simply implemented code matching a shared schema, and did it right, i.e. it&#39;s supposed to be a string (it is a `name` value after all). You must live in a small world if you cannot envision that sharing of data can go wrong, and that you want/need strict parsing to prevent accidental misinterpretation of data. JSON is not only a storage format, where you read/write your own data, it is also an exchange format, for sharing data between disparate systems (e.g. REST Web Service).","body":"@MS90 What if OP is the &quot;author&quot; of the JSON schema, and some other idiot created the JSON wrong? Or OP simply implemented code matching a shared schema, and did it right, i.e. it&#39;s supposed to be a string (it is a <code>name</code> value after all). You must live in a small world if you cannot envision that sharing of data can go wrong, and that you want/need strict parsing to prevent accidental misinterpretation of data. JSON is not only a storage format, where you read/write your own data, it is also an exchange format, for sharing data between disparate systems (e.g. REST Web Service)."},{"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"score":0,"creation_date":1553801933,"post_id":55404706,"comment_id":97531862,"body_markdown":"Agree, but highly unlikely that he would pick some JSON for his project from some &quot;idiot&quot; and now he wants to enlighten the world with his logic of how to deserialize it. Anyway, even the name of the field &quot;name&quot; implicit that it should be of type String, not to mention all other reasons why his approach and your pursue would be wrong with all this. I live in a very small world, there is no point of telling me that, but he must know what he is doing and apparently he doesn&#39;t know. If someone 10 years ago would tell me &quot;Go after logic in your coding&quot; I would save myself days and days of wrong a","body":"Agree, but highly unlikely that he would pick some JSON for his project from some &quot;idiot&quot; and now he wants to enlighten the world with his logic of how to deserialize it. Anyway, even the name of the field &quot;name&quot; implicit that it should be of type String, not to mention all other reasons why his approach and your pursue would be wrong with all this. I live in a very small world, there is no point of telling me that, but he must know what he is doing and apparently he doesn&#39;t know. If someone 10 years ago would tell me &quot;Go after logic in your coding&quot; I would save myself days and days of wrong a"},{"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"score":0,"creation_date":1553802009,"post_id":55404706,"comment_id":97531893,"body_markdown":"approaches and implementations. @Andreas He has a chance right here and right now. Don&#39;t  encourage him to go other way.","body":"approaches and implementations. @Andreas He has a chance right here and right now. Don&#39;t  encourage him to go other way."},{"owner":{"account_id":806553,"reputation":421,"user_id":896020,"accept_rate":10,"display_name":"era"},"score":1,"creation_date":1553834411,"post_id":55404706,"comment_id":97541087,"body_markdown":"Thanks @Andreas for all the clarifications. It&#39;s detail out the need. Above JSON schema is a part of REST API exposed to a client. In the API (Swagger) &#39;name&#39; parameter marked as String. But now client sending int for it and asking from our side (from API) to fail.","body":"Thanks @Andreas for all the clarifications. It&#39;s detail out the need. Above JSON schema is a part of REST API exposed to a client. In the API (Swagger) &#39;name&#39; parameter marked as String. But now client sending int for it and asking from our side (from API) to fail."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":2,"creation_date":1553863573,"post_id":55404706,"comment_id":97554380,"body_markdown":"There is similar bug on [GitHub](https://github.com/FasterXML/jackson-databind/issues/796) where you can find solution with default deserialiser.","body":"There is similar bug on <a href=\"https://github.com/FasterXML/jackson-databind/issues/796\" rel=\"nofollow noreferrer\">GitHub</a> where you can find solution with default deserialiser."}],"answers":[{"tags":[],"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553869748,"creation_date":1553798515,"answer_id":55404772,"question_id":55404706,"body_markdown":"Custom deserializer registered for `java.lang.String` should definitely work and let you prevent conversion. Deserializers will directly see content via `JsonParser` so they can detect underlying token type.\r\n\r\nThis will help you:\r\n\r\n    public class ForceStringDeserializer extends JsonDeserializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            if (jsonParser.getCurrentToken() == JsonToken.VALUE_NUMBER_INT) {\r\n                throw deserializationContext.wrongTokenException(jsonParser, JsonToken.VALUE_STRING, &quot;Attempted to parse int to string but this is forbidden&quot;);\r\n            }\r\n            return jsonParser.getValueAsString();\r\n        }\r\n    }\r\n\r\nYou can find more info [here][1].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/796","title":"Stop Jackson reading numbers as String","body":"<p>Custom deserializer registered for <code>java.lang.String</code> should definitely work and let you prevent conversion. Deserializers will directly see content via <code>JsonParser</code> so they can detect underlying token type.</p>\n\n<p>This will help you:</p>\n\n<pre><code>public class ForceStringDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        if (jsonParser.getCurrentToken() == JsonToken.VALUE_NUMBER_INT) {\n            throw deserializationContext.wrongTokenException(jsonParser, JsonToken.VALUE_STRING, \"Attempted to parse int to string but this is forbidden\");\n        }\n        return jsonParser.getValueAsString();\n    }\n}\n</code></pre>\n\n<p>You can find more info <a href=\"https://github.com/FasterXML/jackson-databind/issues/796\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":19825532,"reputation":27,"user_id":14521163,"display_name":"useless9276"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667477782,"creation_date":1667477782,"answer_id":74302937,"question_id":55404706,"body_markdown":"add to application.properties \r\n\r\n    spring.jackson.mapper.allow-coercion-of-scalars=false\r\n\r\nor if you configure object maper like bean\r\n\r\n    objectMapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false);","title":"Stop Jackson reading numbers as String","body":"<p>add to application.properties</p>\n<pre><code>spring.jackson.mapper.allow-coercion-of-scalars=false\n</code></pre>\n<p>or if you configure object maper like bean</p>\n<pre><code>objectMapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false);\n</code></pre>\n"}],"owner":{"account_id":806553,"reputation":421,"user_id":896020,"accept_rate":10,"display_name":"era"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2614,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1667477782,"creation_date":1553798231,"question_id":55404706,"body_markdown":"Jackson reads input numbers as Strings. As an example below Student class read name 4567 as a String. \r\n\r\nex: input\r\n```\r\n{\r\nname: 4567\r\n...\r\n}\r\n```\r\n\r\nJava class\r\n```\r\nClass Student {\r\n\r\nString name;\r\n...\r\n}\r\n```\r\n\r\nJackson is parsing the JSON text and mapping the number value to the string field, and I don&#39;t want the type conversion, i.e. for the number to be converted to a string. In this scenario Jackson converts the value from int (4567) to String(&quot;4567&quot;).\r\nHow this behavior can changes to throw an exception if other type provided to fail ?","title":"Stop Jackson reading numbers as String","body":"<p>Jackson reads input numbers as Strings. As an example below Student class read name 4567 as a String. </p>\n\n<p>ex: input</p>\n\n<pre><code>{\nname: 4567\n...\n}\n</code></pre>\n\n<p>Java class</p>\n\n<pre><code>Class Student {\n\nString name;\n...\n}\n</code></pre>\n\n<p>Jackson is parsing the JSON text and mapping the number value to the string field, and I don't want the type conversion, i.e. for the number to be converted to a string. In this scenario Jackson converts the value from int (4567) to String(\"4567\").\nHow this behavior can changes to throw an exception if other type provided to fail ?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":295399,"reputation":19908,"user_id":599792,"accept_rate":75,"display_name":"Gareth McCaughan"},"score":2,"creation_date":1461256290,"post_id":36775518,"comment_id":61127858,"body_markdown":"Related but not quite duplicate: http://stackoverflow.com/questions/27606185/arg-max-in-java-8-streams (where the concern is code brevity rather than efficiency, and I think the recommended solution still ends up calling the equivalent of `coolnessIndex` repeatedly).","body":"Related but not quite duplicate: <a href=\"http://stackoverflow.com/questions/27606185/arg-max-in-java-8-streams\" title=\"arg max in java 8 streams\">stackoverflow.com/questions/27606185/arg-max-in-java-8-strea&zwnj;&#8203;ms</a> (where the concern is code brevity rather than efficiency, and I think the recommended solution still ends up calling the equivalent of <code>coolnessIndex</code> repeatedly)."},{"owner":{"account_id":295399,"reputation":19908,"user_id":599792,"accept_rate":75,"display_name":"Gareth McCaughan"},"score":0,"creation_date":1461256500,"post_id":36775518,"comment_id":61128008,"body_markdown":"I don&#39;t believe there is anything equivalent to this in the Java streams API. You could implement your own version of `maxByAttribute` (someone else has done something of the sort [here](https://gist.github.com/mapio/57299694ef94cc88dddb) but I haven&#39;t looked at their code), or you could use `map` to get a stream of pairs (`s`,`coolnessIndex(s)`) and then `max` those -- but AIUI Java doesn&#39;t have a handy pair class so you&#39;d end up with a lot of boilerplate code, not to mention all the extra memory allocations.","body":"I don&#39;t believe there is anything equivalent to this in the Java streams API. You could implement your own version of <code>maxByAttribute</code> (someone else has done something of the sort <a href=\"https://gist.github.com/mapio/57299694ef94cc88dddb\" rel=\"nofollow noreferrer\">here</a> but I haven&#39;t looked at their code), or you could use <code>map</code> to get a stream of pairs (<code>s</code>,<code>coolnessIndex(s)</code>) and then <code>max</code> those -- but AIUI Java doesn&#39;t have a handy pair class so you&#39;d end up with a lot of boilerplate code, not to mention all the extra memory allocations."},{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1461262658,"post_id":36775518,"comment_id":61131384,"body_markdown":"You may group by the string-&gt;coolness results in a map and then choose the coolest string. See https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-","body":"You may group by the string-&gt;coolness results in a map and then choose the coolest string. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":7766867,"reputation":1369,"user_id":5877791,"accept_rate":100,"display_name":"Jan Pomik&#225;lek"},"score":0,"creation_date":1461700048,"post_id":36775518,"comment_id":61315453,"body_markdown":"After more searching I found the same problem discussed here: http://stackoverflow.com/questions/32878398/efficiency-of-the-way-comparator-works. I like the answer from bayou.io, in which he offers an elegant generic solution using a cache function.","body":"After more searching I found the same problem discussed here: <a href=\"http://stackoverflow.com/questions/32878398/efficiency-of-the-way-comparator-works\" title=\"efficiency of the way comparator works\">stackoverflow.com/questions/32878398/&hellip;</a>. I like the answer from bayou.io, in which he offers an elegant generic solution using a cache function."}],"answers":[{"tags":[],"owner":{"account_id":3983739,"reputation":144,"user_id":3285000,"display_name":"kensei62"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1622652509,"creation_date":1461258805,"answer_id":36776356,"question_id":36775518,"body_markdown":"How about using two streams, one to create a map with the pre-calculated values and a second using the map&#39;s entry set to find the max value:\r\n```java\r\nString coolestString = stringList\r\n        .stream()\r\n        .collect(Collectors.toMap(Function.identity(), Test::coolnessIndex))\r\n        .entrySet()\r\n        .stream()\r\n        .max((s1, s2) -&gt; Integer.compare(s1.getValue(), s2.getValue()))\r\n        .orElse(null)\r\n        .getKey();\r\n```\r\n","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>How about using two streams, one to create a map with the pre-calculated values and a second using the map's entry set to find the max value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String coolestString = stringList\n        .stream()\n        .collect(Collectors.toMap(Function.identity(), Test::coolnessIndex))\n        .entrySet()\n        .stream()\n        .max((s1, s2) -&gt; Integer.compare(s1.getValue(), s2.getValue()))\n        .orElse(null)\n        .getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25259,"reputation":1385,"user_id":64824,"accept_rate":29,"display_name":"GregA100k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622651168,"creation_date":1461261278,"answer_id":36777049,"question_id":36775518,"body_markdown":"This is a reduction problem.  Reducing a list down to a specific value.  In general reduce works down the list operating on a partial solution and an item in the list.  In this case, that would mean comparing the previous &#39;winning&#39; value to the new value from the list which will calculate the expensive operation twice on each comparison.\r\n\r\nAccording to https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html an alternative is to use collect instead of reduce.\r\n\r\nA custom [consumer][1] class will allow keeping track of the expensive operations as it reduces the list.  Consumer can get around the multiple calls to the expensive calculation by working with mutable state.\r\n```java\r\nclass Cooler implements Consumer&lt;String&gt; {\r\n    String coolestString = &quot;&quot;;\r\n    int coolestValue = 0;\r\n\r\n    public String coolest() {\r\n        return coolestString;\r\n    }\r\n\r\n    @Override\r\n    public void accept(String arg0) {\r\n        combine(arg0, expensive(arg0));\r\n    }\r\n\r\n    private void combine(String other, int exp) {\r\n        if (coolestValue &lt; exp) {\r\n            coolestString = other;\r\n            coolestValue = exp;\r\n        }\r\n    }\r\n\r\n    public void combine(Cooler other) {\r\n        combine(other.coolestString, other.coolestValue);\r\n    }\r\n}\r\n```\r\nThis class accepts a string and if it is cooler than the previous winner, it replaces it and saves the expensive calculated value.\r\n```java\r\nCooler cooler = Stream.of(&quot;java&quot;, &quot;php&quot;, &quot;clojure&quot;, &quot;c&quot;, &quot;lisp&quot;)\r\n        .collect(Cooler::new, Cooler::accept, Cooler::combine);\r\nSystem.out.println(cooler.coolest());\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\r\n","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>This is a reduction problem.  Reducing a list down to a specific value.  In general reduce works down the list operating on a partial solution and an item in the list.  In this case, that would mean comparing the previous 'winning' value to the new value from the list which will calculate the expensive operation twice on each comparison.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html</a> an alternative is to use collect instead of reduce.</p>\n<p>A custom <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">consumer</a> class will allow keeping track of the expensive operations as it reduces the list.  Consumer can get around the multiple calls to the expensive calculation by working with mutable state.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Cooler implements Consumer&lt;String&gt; {\n    String coolestString = &quot;&quot;;\n    int coolestValue = 0;\n\n    public String coolest() {\n        return coolestString;\n    }\n\n    @Override\n    public void accept(String arg0) {\n        combine(arg0, expensive(arg0));\n    }\n\n    private void combine(String other, int exp) {\n        if (coolestValue &lt; exp) {\n            coolestString = other;\n            coolestValue = exp;\n        }\n    }\n\n    public void combine(Cooler other) {\n        combine(other.coolestString, other.coolestValue);\n    }\n}\n</code></pre>\n<p>This class accepts a string and if it is cooler than the previous winner, it replaces it and saves the expensive calculated value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cooler cooler = Stream.of(&quot;java&quot;, &quot;php&quot;, &quot;clojure&quot;, &quot;c&quot;, &quot;lisp&quot;)\n        .collect(Cooler::new, Cooler::accept, Cooler::combine);\nSystem.out.println(cooler.coolest());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461263559,"creation_date":1461263559,"answer_id":36777768,"question_id":36775518,"body_markdown":"I would create a local class (a class defined inside a method—rare, but perfectly legal), and map your objects to that, so the expensive attribute is computed exactly once for each:\r\n\r\n    class IndexedString {\r\n        final String string;\r\n        final int index;\r\n\r\n        IndexedString(String s) {\r\n            this.string = Objects.requireNonNull(s);\r\n            this.index = coolnessIndex(s);\r\n        }\r\n\r\n        String getString() {\r\n            return string;\r\n        }\r\n\r\n        int getIndex() {\r\n            return index;\r\n        }\r\n    }\r\n\r\n    String coolestString = stringList\r\n        .stream()\r\n        .map(IndexedString::new)\r\n        .max(Comparator.comparingInt(IndexedString::getIndex))\r\n        .map(IndexedString::getString)\r\n        .orElse(null);\r\n","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>I would create a local class (a class defined inside a method—rare, but perfectly legal), and map your objects to that, so the expensive attribute is computed exactly once for each:</p>\n\n<pre><code>class IndexedString {\n    final String string;\n    final int index;\n\n    IndexedString(String s) {\n        this.string = Objects.requireNonNull(s);\n        this.index = coolnessIndex(s);\n    }\n\n    String getString() {\n        return string;\n    }\n\n    int getIndex() {\n        return index;\n    }\n}\n\nString coolestString = stringList\n    .stream()\n    .map(IndexedString::new)\n    .max(Comparator.comparingInt(IndexedString::getIndex))\n    .map(IndexedString::getString)\n    .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461265547,"creation_date":1461265038,"answer_id":36778222,"question_id":36775518,"body_markdown":"You can utilize the idea of _collecting_ the results from the stream appropriately. The constraint of expensive coolness calculation function makes you consider calling that function exactly once for each element of the stream.\r\n\r\nJava 8 provides the `collect` method on the `Stream` and a variety of ways in which you can use collectors. It appears that if you used the `TreeMap` to collect your results, you can retain the expressiveness and at the same time remain considerate of efficiency:\r\n\r\n    public class Expensive {\r\n        static final Random r = new Random();\r\n        public static void main(String[] args) {\r\n            Map.Entry&lt;Integer, String&gt; e =\r\n            Stream.of(&quot;larry&quot;, &quot;moe&quot;, &quot;curly&quot;, &quot;iggy&quot;)\r\n                    .collect(Collectors.toMap(Expensive::coolness,\r\n                                              Function.identity(),\r\n                                              (a, b) -&gt; a,\r\n                                              () -&gt; new TreeMap&lt;&gt;\r\n                                              ((x, y) -&gt; Integer.compare(y, x))\r\n                            ))\r\n                    .firstEntry();\r\n            System.out.println(&quot;coolest stooge name: &quot; + e.getKey() + &quot;, coolness: &quot; + e.getValue());\r\n        }\r\n    \r\n        public static int coolness(String s) {\r\n            // simulation of a call that takes time.\r\n            int x = r.nextInt(100);\r\n            System.out.println(x);\r\n            return x;\r\n        }\r\n    }\r\n\r\nThis code prints the `stooge` with maximum coolness and the `coolness` method is called exactly once for each `stooge`. The `BinaryOperator` that works as the `mergeFunction` (`(a, b) -&gt;a`) can be further improved. ","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>You can utilize the idea of <em>collecting</em> the results from the stream appropriately. The constraint of expensive coolness calculation function makes you consider calling that function exactly once for each element of the stream.</p>\n\n<p>Java 8 provides the <code>collect</code> method on the <code>Stream</code> and a variety of ways in which you can use collectors. It appears that if you used the <code>TreeMap</code> to collect your results, you can retain the expressiveness and at the same time remain considerate of efficiency:</p>\n\n<pre><code>public class Expensive {\n    static final Random r = new Random();\n    public static void main(String[] args) {\n        Map.Entry&lt;Integer, String&gt; e =\n        Stream.of(\"larry\", \"moe\", \"curly\", \"iggy\")\n                .collect(Collectors.toMap(Expensive::coolness,\n                                          Function.identity(),\n                                          (a, b) -&gt; a,\n                                          () -&gt; new TreeMap&lt;&gt;\n                                          ((x, y) -&gt; Integer.compare(y, x))\n                        ))\n                .firstEntry();\n        System.out.println(\"coolest stooge name: \" + e.getKey() + \", coolness: \" + e.getValue());\n    }\n\n    public static int coolness(String s) {\n        // simulation of a call that takes time.\n        int x = r.nextInt(100);\n        System.out.println(x);\n        return x;\n    }\n}\n</code></pre>\n\n<p>This code prints the <code>stooge</code> with maximum coolness and the <code>coolness</code> method is called exactly once for each <code>stooge</code>. The <code>BinaryOperator</code> that works as the <code>mergeFunction</code> (<code>(a, b) -&gt;a</code>) can be further improved. </p>\n"},{"tags":[],"owner":{"account_id":3500616,"reputation":1957,"user_id":2927457,"display_name":"gustf"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1461267996,"creation_date":1461267996,"answer_id":36779106,"question_id":36775518,"body_markdown":"Here&#39;s a variant using an `Object[]` as a tuple, not the prettiest code but concise\r\n\r\n    String coolestString = stringList\r\n            .stream()\r\n            .map(s -&gt; new Object[] {s, coolnessIndex(s)})\r\n            .max(Comparator.comparingInt(a -&gt; (int)a[1]))\r\n            .map(a -&gt; (String)a[0])\r\n            .orElse(null);","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>Here's a variant using an <code>Object[]</code> as a tuple, not the prettiest code but concise</p>\n\n<pre><code>String coolestString = stringList\n        .stream()\n        .map(s -&gt; new Object[] {s, coolnessIndex(s)})\n        .max(Comparator.comparingInt(a -&gt; (int)a[1]))\n        .map(a -&gt; (String)a[0])\n        .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7766867,"reputation":1369,"user_id":5877791,"accept_rate":100,"display_name":"Jan Pomik&#225;lek"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1461700590,"creation_date":1461700590,"answer_id":36874571,"question_id":36775518,"body_markdown":"Thanks everyone for suggestions. At last I found the solution I like the most at https://stackoverflow.com/questions/32878398/efficiency-of-the-way-comparator-works -- the answer from bayou.io:\r\n\r\nHave a general purpose `cache` method:\r\n\r\n    public static &lt;K,V&gt; Function&lt;K,V&gt; cache(Function&lt;K,V&gt; f, Map&lt;K,V&gt; cache)\r\n    {\r\n        return k -&gt; cache.computeIfAbsent(k, f);\r\n    }\r\n    \r\n    public static &lt;K,V&gt; Function&lt;K,V&gt; cache(Function&lt;K,V&gt; f)\r\n    {\r\n        return cache(f, new IdentityHashMap&lt;&gt;());\r\n    }\r\n\r\nThis could then be used as follows:\r\n\r\n    String coolestString = stringList\r\n            .stream()\r\n            .max(Comparator.comparing(cache(CoolUtil::coolnessIndex)))\r\n            .orElse(null);","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>Thanks everyone for suggestions. At last I found the solution I like the most at <a href=\"https://stackoverflow.com/questions/32878398/efficiency-of-the-way-comparator-works\">Efficiency of the way comparator works</a> -- the answer from bayou.io:</p>\n\n<p>Have a general purpose <code>cache</code> method:</p>\n\n<pre><code>public static &lt;K,V&gt; Function&lt;K,V&gt; cache(Function&lt;K,V&gt; f, Map&lt;K,V&gt; cache)\n{\n    return k -&gt; cache.computeIfAbsent(k, f);\n}\n\npublic static &lt;K,V&gt; Function&lt;K,V&gt; cache(Function&lt;K,V&gt; f)\n{\n    return cache(f, new IdentityHashMap&lt;&gt;());\n}\n</code></pre>\n\n<p>This could then be used as follows:</p>\n\n<pre><code>String coolestString = stringList\n        .stream()\n        .max(Comparator.comparing(cache(CoolUtil::coolnessIndex)))\n        .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1667477739,"creation_date":1490343593,"answer_id":42994547,"question_id":36775518,"body_markdown":"    Stream&lt;String&gt; stringStream = stringList.stream();\r\n    String coolest = stringStream.reduce((a,b)-&gt; \r\n        coolnessIndex(a) &gt; coolnessIndex(b) ? a:b;\r\n    ).get()\r\n\r\nif calling `coolnessIndex` is expensive we can use `distinct` so it&#39;s called only for distinct elements (assuming that the coolnesIndex is the same for equal elements)\r\n\r\n\r\n    Stream&lt;String&gt; stringStream = stringList.stream().distinct();\r\n    String coolest = stringStream.reduce((a,b)-&gt; \r\n        coolnessIndex(a) &gt; coolnessIndex(b) ? a:b;\r\n    ).get()\r\n\r\n\r\n[Stream&lt;T&gt; distinct()][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--","title":"Java Stream: find an element with a min/max value of an attribute","body":"<pre><code>Stream&lt;String&gt; stringStream = stringList.stream();\nString coolest = stringStream.reduce((a,b)-&gt; \n    coolnessIndex(a) &gt; coolnessIndex(b) ? a:b;\n).get()\n</code></pre>\n<p>if calling <code>coolnessIndex</code> is expensive we can use <code>distinct</code> so it's called only for distinct elements (assuming that the coolnesIndex is the same for equal elements)</p>\n<pre><code>Stream&lt;String&gt; stringStream = stringList.stream().distinct();\nString coolest = stringStream.reduce((a,b)-&gt; \n    coolnessIndex(a) &gt; coolnessIndex(b) ? a:b;\n).get()\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\">Stream distinct()</a></p>\n"},{"tags":[],"owner":{"account_id":13088717,"reputation":622,"user_id":9456918,"display_name":"Paul Janssens"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622655797,"creation_date":1520429520,"answer_id":49153207,"question_id":36775518,"body_markdown":"just create your (object,metric) pairs first:\r\n```java\r\npublic static &lt;T&gt; Optional&lt;T&gt; maximizeOver(List&lt;T&gt; ts, Function&lt;T, Integer&gt; f) {\r\n    return ts.stream().map(t -&gt; Pair.pair(t, f.apply(t)))\r\n            .max((p1, p2) -&gt; Integer.compare(p1.second(), p2.second()))\r\n            .map(Pair::first);\r\n}\r\n```\r\n(those are com.googlecode.totallylazy.Pair&#39;s)","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>just create your (object,metric) pairs first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Optional&lt;T&gt; maximizeOver(List&lt;T&gt; ts, Function&lt;T, Integer&gt; f) {\n    return ts.stream().map(t -&gt; Pair.pair(t, f.apply(t)))\n            .max((p1, p2) -&gt; Integer.compare(p1.second(), p2.second()))\n            .map(Pair::first);\n}\n</code></pre>\n<p>(those are com.googlecode.totallylazy.Pair's)</p>\n"},{"tags":[],"owner":{"account_id":2363133,"reputation":600,"user_id":2069400,"display_name":"George Forman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596248811,"creation_date":1596248811,"answer_id":63201174,"question_id":36775518,"body_markdown":"If speed/overhead is important, you don&#39;t want to use Stream.max(Comparator) which recomputes the score many times for the winning object; the cache solution above works, but with substantial O(N) overhead.  The decorator pattern takes more memory allocation/GC overhead.\r\n\r\n**Here&#39;s a beautiful, reusable solution for your utility library** &amp; Java 15:\r\n\r\n    /** return argmin item, else null if none.  NAN scores are skipped */\r\n    public static &lt;T&gt; T argmin(Stream&lt;T&gt; stream, ToDoubleFunction&lt;T&gt; scorer) {\r\n        Double min = null;\r\n        T argmin = null;\r\n        for (T p: (Iterable&lt;T&gt;) stream::iterator) {\r\n            double score = scorer.applyAsDouble(p);\r\n            if (min==null || min &gt; score) {\r\n                min = score;\r\n                argmin = p;\r\n            }\r\n        }\r\n        return argmin;\r\n    }\r\n\r\n","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>If speed/overhead is important, you don't want to use Stream.max(Comparator) which recomputes the score many times for the winning object; the cache solution above works, but with substantial O(N) overhead.  The decorator pattern takes more memory allocation/GC overhead.</p>\n<p><strong>Here's a beautiful, reusable solution for your utility library</strong> &amp; Java 15:</p>\n<pre><code>/** return argmin item, else null if none.  NAN scores are skipped */\npublic static &lt;T&gt; T argmin(Stream&lt;T&gt; stream, ToDoubleFunction&lt;T&gt; scorer) {\n    Double min = null;\n    T argmin = null;\n    for (T p: (Iterable&lt;T&gt;) stream::iterator) {\n        double score = scorer.applyAsDouble(p);\n        if (min==null || min &gt; score) {\n            min = score;\n            argmin = p;\n        }\n    }\n    return argmin;\n}\n</code></pre>\n"}],"owner":{"account_id":7766867,"reputation":1369,"user_id":5877791,"accept_rate":100,"display_name":"Jan Pomik&#225;lek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50998,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":36874571,"answer_count":9,"score":37,"last_activity_date":1667477739,"creation_date":1461256066,"question_id":36775518,"body_markdown":"I have a stream of objects and I would like to find the one with a maximal value of some attribute that&#39;s expensive to calculate.\r\n\r\nAs a specific simple example, say that we have a list of strings and we want to find the coolest one, given a `coolnessIndex` function.\r\n\r\nThe following should work:\r\n\r\n    String coolestString = stringList\r\n            .stream()\r\n            .max((s1, s2) -&gt; Integer.compare(coolnessIndex(s1), coolnessIndex(s2)))\r\n            .orElse(null);\r\n\r\nNow, there are two problems with this. First, assuming the `coolnessIndex` is expensive to calculate, this probably won&#39;t be very efficient. I suppose the `max` method will need to use the comparator repeatedly, which in turn will call the `coolnessIndex` repeatedly and at the end it will be called more than once for each string.\r\n\r\nSecond, having to provide the comparator leads to some redundancy in the code. I would much prefer syntax like this:\r\n\r\n    String coolestString = stringList\r\n            .stream()\r\n            .maxByAttribute(s -&gt; coolnessIndex(s))\r\n            .orElse(null);\r\n\r\nHowever, I haven&#39;t been able to find a matching method in the `Stream` API. This surprises me, since finding min/max by an attribute seems like a common pattern. I wonder if there&#39;s a better way than using the comparator (other than a for loop).","title":"Java Stream: find an element with a min/max value of an attribute","body":"<p>I have a stream of objects and I would like to find the one with a maximal value of some attribute that's expensive to calculate.</p>\n\n<p>As a specific simple example, say that we have a list of strings and we want to find the coolest one, given a <code>coolnessIndex</code> function.</p>\n\n<p>The following should work:</p>\n\n<pre><code>String coolestString = stringList\n        .stream()\n        .max((s1, s2) -&gt; Integer.compare(coolnessIndex(s1), coolnessIndex(s2)))\n        .orElse(null);\n</code></pre>\n\n<p>Now, there are two problems with this. First, assuming the <code>coolnessIndex</code> is expensive to calculate, this probably won't be very efficient. I suppose the <code>max</code> method will need to use the comparator repeatedly, which in turn will call the <code>coolnessIndex</code> repeatedly and at the end it will be called more than once for each string.</p>\n\n<p>Second, having to provide the comparator leads to some redundancy in the code. I would much prefer syntax like this:</p>\n\n<pre><code>String coolestString = stringList\n        .stream()\n        .maxByAttribute(s -&gt; coolnessIndex(s))\n        .orElse(null);\n</code></pre>\n\n<p>However, I haven't been able to find a matching method in the <code>Stream</code> API. This surprises me, since finding min/max by an attribute seems like a common pattern. I wonder if there's a better way than using the comparator (other than a for loop).</p>\n"},{"tags":["java","spring","spring-boot","split","apache-camel"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667477949,"post_id":74302858,"comment_id":131178695,"body_markdown":"can you try splitting to two routes, bean:testprocess to direct:abcqueue,  direct:abcqueue to activemq:testQueue?","body":"can you try splitting to two routes, bean:testprocess to direct:abcqueue,  direct:abcqueue to activemq:testQueue?"},{"owner":{"account_id":26649210,"reputation":1,"user_id":20263748,"display_name":"Niveditha N"},"score":0,"creation_date":1667536837,"post_id":74302858,"comment_id":131194419,"body_markdown":"@JishnuPrathap Already tried this, it is still not able to save the unprocessed inflight messages once jvm restarts","body":"@JishnuPrathap Already tried this, it is still not able to save the unprocessed inflight messages once jvm restarts"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667541495,"post_id":74302858,"comment_id":131195100,"body_markdown":"try posting in camel nabble website, camel community is pretty active there.","body":"try posting in camel nabble website, camel community is pretty active there."}],"owner":{"account_id":26649210,"reputation":1,"user_id":20263748,"display_name":"Niveditha N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667477483,"creation_date":1667477483,"question_id":74302858,"body_markdown":"I have a route like below \r\n```\r\n&lt;route id=&quot;XYZ&quot;&gt;\r\n&lt;from uri=&quot;file://{{env:TEST}}/FOLDER?exclude=.*filepart&amp;amp;delay={{delay}}&amp;amp;delete=true&amp;amp;readLock=changed&amp;amp;readLockCheckInterval={{readLockCheckInterval}}&amp;amp;readLockMinAge={{readLockMinAge}}&amp;amp;initialDelay={{initialDelay}}&quot; /&gt;\r\n&lt;to uri=&quot;bean:testprocess&quot; /&gt;\r\n&lt;split&gt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;method ref=&quot;MethodA&quot; method=&quot;split&quot; /&gt;\r\n&lt;to uri=&quot;activemq:testQueue&quot; /&gt;\r\n&lt;/split&gt;\r\n&lt;/route&gt;\r\n```\t\r\nI have 2k items in a file to be split, when 500 items are written to testQueue , jvm crashes. How to start from 501 item and write to queue. Currently application is processing 2k items all over again instead of 1500. Kindly suggest \r\n\r\n\r\nTried camel gracefulshutodown strategy to process the pending inflight exchanges, but no use. \r\n\r\n```\r\nDefaultShutdownStrategy strategy = new DefaultShutdownStrategy();\r\n        strategy.setTimeout(1000000000);\r\n        LOGGER.info(&quot;shutdown strategy invoked&quot;);\r\n        LOGGER.info(strategy.isLogInflightExchangesOnTimeout());\r\n```\r\n","title":"How to process messages from where it failed when jvm crashes in middle of camel processing","body":"<p>I have a route like below</p>\n<pre><code>&lt;route id=&quot;XYZ&quot;&gt;\n&lt;from uri=&quot;file://{{env:TEST}}/FOLDER?exclude=.*filepart&amp;amp;delay={{delay}}&amp;amp;delete=true&amp;amp;readLock=changed&amp;amp;readLockCheckInterval={{readLockCheckInterval}}&amp;amp;readLockMinAge={{readLockMinAge}}&amp;amp;initialDelay={{initialDelay}}&quot; /&gt;\n&lt;to uri=&quot;bean:testprocess&quot; /&gt;\n&lt;split&gt;                                                     &lt;method ref=&quot;MethodA&quot; method=&quot;split&quot; /&gt;\n&lt;to uri=&quot;activemq:testQueue&quot; /&gt;\n&lt;/split&gt;\n&lt;/route&gt;\n</code></pre>\n<p>I have 2k items in a file to be split, when 500 items are written to testQueue , jvm crashes. How to start from 501 item and write to queue. Currently application is processing 2k items all over again instead of 1500. Kindly suggest</p>\n<p>Tried camel gracefulshutodown strategy to process the pending inflight exchanges, but no use.</p>\n<pre><code>DefaultShutdownStrategy strategy = new DefaultShutdownStrategy();\n        strategy.setTimeout(1000000000);\n        LOGGER.info(&quot;shutdown strategy invoked&quot;);\n        LOGGER.info(strategy.isLogInflightExchangesOnTimeout());\n</code></pre>\n"},{"tags":["python","java","android","api","kotlin"],"comments":[{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1667391058,"post_id":74288852,"comment_id":131154885,"body_markdown":"Here look at this: https://stackoverflow.com/questions/2801116/converting-a-view-to-bitmap-without-displaying-it-in-android","body":"Here look at this: <a href=\"https://stackoverflow.com/questions/2801116/converting-a-view-to-bitmap-without-displaying-it-in-android\" title=\"converting a view to bitmap without displaying it in android\">stackoverflow.com/questions/2801116/&hellip;</a>"},{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1667391225,"post_id":74288852,"comment_id":131154940,"body_markdown":"Does this answer your question? [Converting a view to Bitmap without displaying it in Android?](https://stackoverflow.com/questions/2801116/converting-a-view-to-bitmap-without-displaying-it-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2801116/converting-a-view-to-bitmap-without-displaying-it-in-android\">Converting a view to Bitmap without displaying it in Android?</a>"},{"owner":{"account_id":26025924,"reputation":1,"user_id":19732840,"display_name":"Yug Mewada"},"score":0,"creation_date":1667391559,"post_id":74288852,"comment_id":131155050,"body_markdown":"Hello Zeeshan Ali,\nYes you are right, I want to do what you exactly said for","body":"Hello Zeeshan Ali, Yes you are right, I want to do what you exactly said for"}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667392343,"creation_date":1667392343,"answer_id":74289212,"question_id":74288852,"body_markdown":"Follow the method \r\n\r\n````\r\nprivate Uri saveImageExternal(Bitmap image) {\r\n    //TODO - Should be processed in another thread\r\n    Uri uri = null;\r\n    try {\r\n        File file = new File(getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;to-share.png&quot;);\r\n        FileOutputStream stream = new FileOutputStream(file);\r\n        image.compress(Bitmap.CompressFormat.PNG, 90, stream);\r\n        stream.close();\r\n        uri = Uri.fromFile(file);\r\n    } catch (Execption e) {\r\n        Log.d(TAG, &quot;IOException while trying to write file for sharing: &quot; + e.getMessage());\r\n    }\r\n    return uri;\r\n}\r\n\r\nprivate void shareImageUri(Uri uri){\r\n    Intent intent = new Intent(android.content.Intent.ACTION_SEND);\r\n    intent.putExtra(Intent.EXTRA_STREAM, uri);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    intent.setType(&quot;image/png&quot;);\r\n    startActivity(intent);\r\n}\r\n\r\n\r\n\r\n````\r\n\r\nSo Call \r\n````\r\nUri uri  = saveImageExternal(bitmap);\r\nshareImageUri(uri);\r\n\r\n````\r\nDon&#39;t Forget to add in manifest and Request The Permission\r\n````\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;18&quot;/&gt;\r\n\r\n````","title":"I want to generate any view of android phone as an image and also share that generated image via whatsapp, skype and mail","body":"<p>Follow the method</p>\n<pre><code>private Uri saveImageExternal(Bitmap image) {\n    //TODO - Should be processed in another thread\n    Uri uri = null;\n    try {\n        File file = new File(getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;to-share.png&quot;);\n        FileOutputStream stream = new FileOutputStream(file);\n        image.compress(Bitmap.CompressFormat.PNG, 90, stream);\n        stream.close();\n        uri = Uri.fromFile(file);\n    } catch (Execption e) {\n        Log.d(TAG, &quot;IOException while trying to write file for sharing: &quot; + e.getMessage());\n    }\n    return uri;\n}\n\nprivate void shareImageUri(Uri uri){\n    Intent intent = new Intent(android.content.Intent.ACTION_SEND);\n    intent.putExtra(Intent.EXTRA_STREAM, uri);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    intent.setType(&quot;image/png&quot;);\n    startActivity(intent);\n}\n\n\n\n</code></pre>\n<p>So Call</p>\n<pre><code>Uri uri  = saveImageExternal(bitmap);\nshareImageUri(uri);\n\n</code></pre>\n<p>Don't Forget to add in manifest and Request The Permission</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;18&quot;/&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26025924,"reputation":1,"user_id":19732840,"display_name":"Yug Mewada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667477396,"creation_date":1667469484,"answer_id":74301107,"question_id":74288852,"body_markdown":"Here i get the final solution of my question if anybody wants to implement this functionality in their application \r\nThank you people those who posted their suggestion and interest.\r\n\r\nThis code i have tested in Android version 9,10,11 and 7      \r\n\r\n    private fun scanFile(path: String) {\r\n            try {\r\n                MediaScannerConnection.scanFile(context, arrayOf(path), null) { path, uri -&gt;\r\n                    Log.d(\r\n                        &quot;Tag&quot;,\r\n                        &quot;Scan finished. You can view the image in the gallery now.&quot;\r\n                    )\r\n                }\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n    \r\n        private fun shareInvoice(){\r\n            val file1 = File(\r\n                context?.getExternalFilesDir(Environment.DIRECTORY_PICTURES)?.path,\r\n                Common.APP_DIRECTORY\r\n            )\r\n            if (!file1.exists()) {\r\n                file1.mkdirs()\r\n            }\r\n    \r\n            val fileName = file1.absolutePath + &quot;/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;\r\n            val bitmap =  binding.sectionScreenShot.getBitmapFromView()\r\n    \r\n            try {\r\n                val fos = FileOutputStream(File(fileName))\r\n                bitmap?.compress(Bitmap.CompressFormat.JPEG, 100, fos)\r\n                fos.flush()\r\n                fos.close()\r\n                showMessage(getString(R.string.message_invoice_generated))\r\n                scanFile(fileName)\r\n    \r\n                val uriForFile = FileProvider.getUriForFile(requireContext(),\r\n                    requireContext().applicationContext.packageName + &quot;.provider&quot;,\r\n                    File(fileName))\r\n    \r\n                val share `enter code here`= Intent(Intent.ACTION_SEND)\r\n                share.type = &quot;image/jpg&quot;\r\n                share.putExtra(Intent.EXTRA_STREAM, uriForFile)\r\n                lifecycleScope.launch {\r\n                    delay(1000)\r\n                    startActivity(Intent.createChooser(share, &quot;Share Invoice&quot;))\r\n                }\r\n    \r\n            } catch (e: Exception) {\r\n                Log.e(&quot;FOS TAG&quot;, &quot;shareInvoice:$e&quot;)\r\n            }\r\n        }","title":"I want to generate any view of android phone as an image and also share that generated image via whatsapp, skype and mail","body":"<p>Here i get the final solution of my question if anybody wants to implement this functionality in their application\nThank you people those who posted their suggestion and interest.</p>\n<p>This code i have tested in Android version 9,10,11 and 7</p>\n<pre><code>private fun scanFile(path: String) {\n        try {\n            MediaScannerConnection.scanFile(context, arrayOf(path), null) { path, uri -&gt;\n                Log.d(\n                    &quot;Tag&quot;,\n                    &quot;Scan finished. You can view the image in the gallery now.&quot;\n                )\n            }\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n    }\n\n    private fun shareInvoice(){\n        val file1 = File(\n            context?.getExternalFilesDir(Environment.DIRECTORY_PICTURES)?.path,\n            Common.APP_DIRECTORY\n        )\n        if (!file1.exists()) {\n            file1.mkdirs()\n        }\n\n        val fileName = file1.absolutePath + &quot;/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;\n        val bitmap =  binding.sectionScreenShot.getBitmapFromView()\n\n        try {\n            val fos = FileOutputStream(File(fileName))\n            bitmap?.compress(Bitmap.CompressFormat.JPEG, 100, fos)\n            fos.flush()\n            fos.close()\n            showMessage(getString(R.string.message_invoice_generated))\n            scanFile(fileName)\n\n            val uriForFile = FileProvider.getUriForFile(requireContext(),\n                requireContext().applicationContext.packageName + &quot;.provider&quot;,\n                File(fileName))\n\n            val share `enter code here`= Intent(Intent.ACTION_SEND)\n            share.type = &quot;image/jpg&quot;\n            share.putExtra(Intent.EXTRA_STREAM, uriForFile)\n            lifecycleScope.launch {\n                delay(1000)\n                startActivity(Intent.createChooser(share, &quot;Share Invoice&quot;))\n            }\n\n        } catch (e: Exception) {\n            Log.e(&quot;FOS TAG&quot;, &quot;shareInvoice:$e&quot;)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26025924,"reputation":1,"user_id":19732840,"display_name":"Yug Mewada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667477396,"creation_date":1667390629,"question_id":74288852,"body_markdown":"Here is my code can anybody suggest me what to do also NOTE: My app only supports from android 6 to 10 devices only so suggest me accordingly\r\n\r\n```\r\nprivate fun shareInvoice(){\r\n\r\n    binding.consLayout1.isDrawingCacheEnabled = true\r\n    binding.consLayout1.buildDrawingCache()\r\n    binding.consLayout1.drawingCacheQuality = View.DRAWING_CACHE_QUALITY_HIGH\r\n    val bitmap:Bitmap = binding.consLayout1.drawingCache\r\n\r\n    val sdf = SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;, Locale.getDefault())\r\n    val root = Environment.getExternalStorageDirectory().absoluteFile\r\n    val file = File(root,&quot;/Pictures&quot;)\r\n    val imageName = &quot;ServiceInvoice_${businessName}_${sdf.format(System.currentTimeMillis())}&quot;\r\n    val myFile = File(file,imageName)\r\n\r\n    if (myFile.exists()){\r\n        myFile.delete()\r\n    }\r\n\r\n    try {\r\n        val fos = FileOutputStream(myFile)\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG,100, fos)\r\n        fos.flush()\r\n        fos.close()\r\n        showMessage(&quot;Invoice generated successfully&quot;)\r\n        binding.consLayout1.isDrawingCacheEnabled = false\r\n\r\n        Log.e(&quot;INVOICE TAG&quot;, &quot;shareInvoice:$myFile&quot;)\r\n\r\n    }catch (e:Exception){\r\n        Log.e(&quot;FOS TAG&quot;, &quot;shareInvoice:$e&quot;)\r\n    }\r\n}\r\n```\r\n","title":"I want to generate any view of android phone as an image and also share that generated image via whatsapp, skype and mail","body":"<p>Here is my code can anybody suggest me what to do also NOTE: My app only supports from android 6 to 10 devices only so suggest me accordingly</p>\n<pre><code>private fun shareInvoice(){\n\n    binding.consLayout1.isDrawingCacheEnabled = true\n    binding.consLayout1.buildDrawingCache()\n    binding.consLayout1.drawingCacheQuality = View.DRAWING_CACHE_QUALITY_HIGH\n    val bitmap:Bitmap = binding.consLayout1.drawingCache\n\n    val sdf = SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;, Locale.getDefault())\n    val root = Environment.getExternalStorageDirectory().absoluteFile\n    val file = File(root,&quot;/Pictures&quot;)\n    val imageName = &quot;ServiceInvoice_${businessName}_${sdf.format(System.currentTimeMillis())}&quot;\n    val myFile = File(file,imageName)\n\n    if (myFile.exists()){\n        myFile.delete()\n    }\n\n    try {\n        val fos = FileOutputStream(myFile)\n        bitmap.compress(Bitmap.CompressFormat.JPEG,100, fos)\n        fos.flush()\n        fos.close()\n        showMessage(&quot;Invoice generated successfully&quot;)\n        binding.consLayout1.isDrawingCacheEnabled = false\n\n        Log.e(&quot;INVOICE TAG&quot;, &quot;shareInvoice:$myFile&quot;)\n\n    }catch (e:Exception){\n        Log.e(&quot;FOS TAG&quot;, &quot;shareInvoice:$e&quot;)\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","microservices","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667477261,"creation_date":1667477261,"answer_id":74302814,"question_id":74227914,"body_markdown":"Can you try this\r\n\r\n```\r\n.authorizeRequests(auth -&gt; {\r\n            auth.anyRequest().authenticated();\r\n          })\r\n          .authorizeRequests()\r\n          .antMatchers(&quot;/authenticate/signup&quot;,&quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;)\r\n          .permitAll()\r\n          .and()\r\n```\r\n\r\n&gt; WARNING: If you are configuring WebSecurity to ignore requests, consider using permitAll via HttpSecurity#authorizeHttpRequests instead. See the configure Javadoc for additional details.\r\n\r\nhttps://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Spring Cloud Auth Service Issue (Full authentication is required to access this resource)","body":"<p>Can you try this</p>\n<pre><code>.authorizeRequests(auth -&gt; {\n            auth.anyRequest().authenticated();\n          })\n          .authorizeRequests()\n          .antMatchers(&quot;/authenticate/signup&quot;,&quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;)\n          .permitAll()\n          .and()\n</code></pre>\n<blockquote>\n<p>WARNING: If you are configuring WebSecurity to ignore requests, consider using permitAll via HttpSecurity#authorizeHttpRequests instead. See the configure Javadoc for additional details.</p>\n</blockquote>\n<p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667477261,"creation_date":1666902231,"question_id":74227914,"body_markdown":"I have a problem about creating a user in auth service through api gateway or not. \r\n\r\nWhen I make a request from auth service to `&quot;/authenticate/signup&quot;` , I got the error message named `&quot;Full authentication is required to access this resource&quot;`.\r\n\r\nWhen I make a request to the same url `&quot;/authenticate/signup&quot;` through api gateway, I got a message named `&quot;Could not send request&quot;`.\r\n\r\nHow can I fix the issue.\r\n\r\nWhere is the problem in auth service and api gateway?\r\n\r\nI implemented this process through jwt token and refresh token.\r\n\r\nHere is the project link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer","title":"Spring Cloud Auth Service Issue (Full authentication is required to access this resource)","body":"<p>I have a problem about creating a user in auth service through api gateway or not.</p>\n<p>When I make a request from auth service to <code>&quot;/authenticate/signup&quot;</code> , I got the error message named <code>&quot;Full authentication is required to access this resource&quot;</code>.</p>\n<p>When I make a request to the same url <code>&quot;/authenticate/signup&quot;</code> through api gateway, I got a message named <code>&quot;Could not send request&quot;</code>.</p>\n<p>How can I fix the issue.</p>\n<p>Where is the problem in auth service and api gateway?</p>\n<p>I implemented this process through jwt token and refresh token.</p>\n<p>Here is the project link : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667476215,"post_id":74302125,"comment_id":131178107,"body_markdown":"can you add error stack trace, als can you try int inputSecretKey = 128 and check?","body":"can you add error stack trace, als can you try int inputSecretKey = 128 and check?"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667474705,"creation_date":1667474705,"answer_id":74302287,"question_id":74302125,"body_markdown":"The second parameter of your `decrypt` method must be the cipherText not the input:\r\n\r\n        String plainText = decrypt(&quot;AES/CBC/PKCS5Padding&quot;, cipherText\r\n                , secretKey1, IV);\r\n\r\nBTW: Take care of java naming conventions. Variable names should start with lower case character","title":"Java AES Encryption and Decryption: javax.crypto.IllegalBlockSizeException","body":"<p>The second parameter of your <code>decrypt</code> method must be the cipherText not the input:</p>\n<pre><code>    String plainText = decrypt(&quot;AES/CBC/PKCS5Padding&quot;, cipherText\n            , secretKey1, IV);\n</code></pre>\n<p>BTW: Take care of java naming conventions. Variable names should start with lower case character</p>\n"}],"owner":{"account_id":5454160,"reputation":15,"user_id":4338139,"display_name":"C.Farron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74302287,"answer_count":1,"score":0,"last_activity_date":1667477253,"creation_date":1667473716,"question_id":74302125,"body_markdown":"newbie in Java AES! I am exploring and following the tutorial of [baeldung]( https://www.baeldung.com/java-aes-encryption-decryption) and I got this error while seeing it for myself for 256 key length:\r\n**Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Message must be a multiple of the block size without padding**\r\n\r\nI have the below:\r\n**main Method**\r\n`\r\n```\r\npublic static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\r\n\t\tSystem.out.println(&quot;Encrypt/Decrypt a string&quot;);\r\n\t\t//3 params for AES algo: (1) input data, (2) secret key, (3) and IV\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tString inputKey;\r\n\t\tint inputSecretKey = 256;\r\n\t\tIvParameterSpec IV;\r\n\t\t\r\n\t\t\r\n\t\t//step 1: input\r\n\t\tSystem.out.print(&quot;Input: &quot;);\r\n\t\tinputKey = scanner.nextLine();\r\n\t\t\r\n\t\t//step 2: generate secret key\r\n\r\n\t\tSystem.out.println(&quot;Generating secret key with size &quot;+inputSecretKey);\r\n\t\tSecretKey secretKey1 = generateKey(inputSecretKey);\r\n\t\t\r\n\t\t//step 3: generate IV\r\n\t\tIV = generateIv();\r\n\t\t\r\n\t\t//step 4: print\r\n\t\tString cipherText = encrypt(&quot;AES/CBC/PKCS5Padding&quot;, inputKey, secretKey1, IV);\r\n\t\tString plainText = decrypt(&quot;AES/CBC/PKCS5Padding&quot;, inputKey, secretKey1, IV);\r\n\t\tAssertions.assertEquals(inputKey, plainText);\r\n\t\tSystem.out.println(&quot;Encrypted: &quot;+cipherText+&quot; [size : &quot;+cipherText.length()+&quot;]&quot;);\r\n\t\tSystem.out.println(&quot;Decrypted: &quot;+plainText+&quot; [size : &quot;+plainText.length()+&quot;]&quot;);\r\n\t\t\r\n\t\t\r\n\t\tscanner.close();\r\n\t\t\r\n\t}\r\n```\r\n`\r\n\r\n**generateKey Method**\r\n`\r\n```\r\npublic static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n\t\tKeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n\t\tkeyGen.init(n);\r\n\t\tSecretKey key = keyGen.generateKey();\r\n\t    return key;\r\n\t}\r\n```\r\n`\r\n\r\n**generateIv Method**\r\n`\r\n```\r\npublic static IvParameterSpec generateIv() {\r\n\t    byte[] iv = new byte[16];\r\n\t    new SecureRandom().nextBytes(iv);\r\n\t    return new IvParameterSpec(iv);\r\n\t}\r\n```\r\n`\r\n\r\n\r\n**encrypt Method**\r\n`\r\n```\r\npublic static String encrypt(String algorithm, String input, SecretKey key,\r\n\t\t    IvParameterSpec iv) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n\t\t    InvalidAlgorithmParameterException, InvalidKeyException,\r\n\t\t    BadPaddingException, IllegalBlockSizeException {\r\n\t\t    \r\n\t\t    Cipher cipher = Cipher.getInstance(algorithm);\r\n\t\t    cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n\t\t    byte[] cipherText = cipher.doFinal(input.getBytes());\r\n\t\t    return Base64.getEncoder()\r\n\t\t        .encodeToString(cipherText);\r\n\t}\r\n```\r\n`\r\n\r\n**decrypt Method** (I included which specific line is eclipse pointing me at)\r\n`\r\n```\r\npublic static String decrypt(String algorithm, String cipherText, SecretKey key,\r\n\t\t    IvParameterSpec iv) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n\t\t    InvalidAlgorithmParameterException, InvalidKeyException,\r\n\t\t    BadPaddingException, IllegalBlockSizeException {\r\n\t\t    \r\n\t\t    Cipher cipher = Cipher.getInstance(algorithm);\r\n\t\t    cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n\t\t    byte[] plainText = cipher.doFinal(Base64.getDecoder()\r\n\t\t        .decode(cipherText)); //&lt;-------- GETTING ERROR IN THIS LINE\r\n\t\t    return new String(plainText);\r\n\t\t}\r\n```\r\n`\r\n\r\n\r\n\r\n\r\nI tried searching but I think no one has encountered this yet. The only thing I understood is AES/CBC/PKCS5Padding stands for algorithm/mode/padding. I did find [this](https://stackoverflow.com/questions/10935068/what-are-the-cipher-padding-strings-in-java) though I am not sure what to use. I am quite confused on what I should change in the code and the root cause of the error.\r\n\r\nI am trying inputs like &quot;hello&quot; or &quot;dFet4Q2fi&quot; if that helps.\r\n","title":"Java AES Encryption and Decryption: javax.crypto.IllegalBlockSizeException","body":"<p>newbie in Java AES! I am exploring and following the tutorial of <a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">baeldung</a> and I got this error while seeing it for myself for 256 key length:\n<strong>Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Message must be a multiple of the block size without padding</strong></p>\n<p>I have the below:\n<strong>main Method</strong>\n`</p>\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\n        System.out.println(&quot;Encrypt/Decrypt a string&quot;);\n        //3 params for AES algo: (1) input data, (2) secret key, (3) and IV\n        Scanner scanner = new Scanner(System.in);\n        String inputKey;\n        int inputSecretKey = 256;\n        IvParameterSpec IV;\n        \n        \n        //step 1: input\n        System.out.print(&quot;Input: &quot;);\n        inputKey = scanner.nextLine();\n        \n        //step 2: generate secret key\n\n        System.out.println(&quot;Generating secret key with size &quot;+inputSecretKey);\n        SecretKey secretKey1 = generateKey(inputSecretKey);\n        \n        //step 3: generate IV\n        IV = generateIv();\n        \n        //step 4: print\n        String cipherText = encrypt(&quot;AES/CBC/PKCS5Padding&quot;, inputKey, secretKey1, IV);\n        String plainText = decrypt(&quot;AES/CBC/PKCS5Padding&quot;, inputKey, secretKey1, IV);\n        Assertions.assertEquals(inputKey, plainText);\n        System.out.println(&quot;Encrypted: &quot;+cipherText+&quot; [size : &quot;+cipherText.length()+&quot;]&quot;);\n        System.out.println(&quot;Decrypted: &quot;+plainText+&quot; [size : &quot;+plainText.length()+&quot;]&quot;);\n        \n        \n        scanner.close();\n        \n    }\n</code></pre>\n<p>`</p>\n<p><strong>generateKey Method</strong>\n`</p>\n<pre><code>public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGen.init(n);\n        SecretKey key = keyGen.generateKey();\n        return key;\n    }\n</code></pre>\n<p>`</p>\n<p><strong>generateIv Method</strong>\n`</p>\n<pre><code>public static IvParameterSpec generateIv() {\n        byte[] iv = new byte[16];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n</code></pre>\n<p>`</p>\n<p><strong>encrypt Method</strong>\n`</p>\n<pre><code>public static String encrypt(String algorithm, String input, SecretKey key,\n            IvParameterSpec iv) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n            \n            Cipher cipher = Cipher.getInstance(algorithm);\n            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n            byte[] cipherText = cipher.doFinal(input.getBytes());\n            return Base64.getEncoder()\n                .encodeToString(cipherText);\n    }\n</code></pre>\n<p>`</p>\n<p><strong>decrypt Method</strong> (I included which specific line is eclipse pointing me at)\n`</p>\n<pre><code>public static String decrypt(String algorithm, String cipherText, SecretKey key,\n            IvParameterSpec iv) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n            \n            Cipher cipher = Cipher.getInstance(algorithm);\n            cipher.init(Cipher.DECRYPT_MODE, key, iv);\n            byte[] plainText = cipher.doFinal(Base64.getDecoder()\n                .decode(cipherText)); //&lt;-------- GETTING ERROR IN THIS LINE\n            return new String(plainText);\n        }\n</code></pre>\n<p>`</p>\n<p>I tried searching but I think no one has encountered this yet. The only thing I understood is AES/CBC/PKCS5Padding stands for algorithm/mode/padding. I did find <a href=\"https://stackoverflow.com/questions/10935068/what-are-the-cipher-padding-strings-in-java\">this</a> though I am not sure what to use. I am quite confused on what I should change in the code and the root cause of the error.</p>\n<p>I am trying inputs like &quot;hello&quot; or &quot;dFet4Q2fi&quot; if that helps.</p>\n"},{"tags":["java","math","integer","numbers"],"comments":[{"owner":{"account_id":6448488,"reputation":51502,"user_id":4996248,"accept_rate":82,"display_name":"John Coleman"},"score":1,"creation_date":1667435551,"post_id":74296887,"comment_id":131169261,"body_markdown":"I don&#39;t see the relevance of arrays to the problem. Why don&#39;t you want it to depend on the number of digits?","body":"I don&#39;t see the relevance of arrays to the problem. Why don&#39;t you want it to depend on the number of digits?"},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667438628,"post_id":74296887,"comment_id":131169652,"body_markdown":"@JohnColeman it can but if  it do so, i have a different case for every number of digits which is inefficient isn&#39;t it? Most of the Solutions for the problem i saw are done with arrays.","body":"@JohnColeman it can but if  it do so, i have a different case for every number of digits which is inefficient isn&#39;t it? Most of the Solutions for the problem i saw are done with arrays."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1667450193,"post_id":74296887,"comment_id":131171225,"body_markdown":"How are you going to use the results? For example, what to do with `9876543 =&gt; 09 87 65 43`?","body":"How are you going to use the results? For example, what to do with <code>9876543 =&gt; 09 87 65 43</code>?"},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667469164,"post_id":74296887,"comment_id":131175673,"body_markdown":"@JohnColeman i want to do it without Math Library (Java is the programming language)","body":"@JohnColeman i want to do it without Math Library (Java is the programming language)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1667470941,"post_id":74296887,"comment_id":131176312,"body_markdown":"Why not simply turn the number into a string, and then loop over that string, and fetch substrings?","body":"Why not simply turn the number into a string, and then loop over that string, and fetch substrings?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1667471701,"post_id":74296887,"comment_id":131176585,"body_markdown":"And thing is: what have you tried before? You see, this community is about helping people to solve their problems/homework themselves. To me, it rather looks like you basically gave us your (homework) requirements, and now expect others to do the work for you. That is not a good way to learn programming. You learn programming by programming.","body":"And thing is: what have you tried before? You see, this community is about helping people to solve their problems/homework themselves. To me, it rather looks like you basically gave us your (homework) requirements, and now expect others to do the work for you. That is not a good way to learn programming. You learn programming by programming."}],"answers":[{"tags":[],"owner":{"account_id":6448488,"reputation":51502,"user_id":4996248,"accept_rate":82,"display_name":"John Coleman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667477023,"creation_date":1667477023,"answer_id":74302767,"question_id":74296887,"body_markdown":"Here is a convert to string, slice, and convert back approach:\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public static void main(String[] args)\r\n    {\r\n       ArrayList&lt;Integer&gt; pairs = new ArrayList&lt;Integer&gt;();\r\n       int n = 1234567;\r\n       String s = Integer.toString(n);\r\n       int start = 0;\r\n       if(s.length() % 2 == 1)\r\n       {\r\n           start = 1;\r\n           pairs.add(Integer.parseInt(s.substring(0,1)));\r\n       }\r\n       for(int i = start; i &lt; s.length()-1; i+=2)\r\n       {\r\n           pairs.add(Integer.parseInt(s.substring(i,i+2)));  \r\n       }\r\n       //test:\r\n       for(int p : pairs)\r\n       {\r\n           System.out.println(p);\r\n       }\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    23\r\n    45\r\n    67\r\n\r\n","title":"How can i split an integer number into a group of two without using arrays?","body":"<p>Here is a convert to string, slice, and convert back approach:</p>\n<pre><code>import java.util.ArrayList;\n\npublic static void main(String[] args)\n{\n   ArrayList&lt;Integer&gt; pairs = new ArrayList&lt;Integer&gt;();\n   int n = 1234567;\n   String s = Integer.toString(n);\n   int start = 0;\n   if(s.length() % 2 == 1)\n   {\n       start = 1;\n       pairs.add(Integer.parseInt(s.substring(0,1)));\n   }\n   for(int i = start; i &lt; s.length()-1; i+=2)\n   {\n       pairs.add(Integer.parseInt(s.substring(i,i+2)));  \n   }\n   //test:\n   for(int p : pairs)\n   {\n       System.out.println(p);\n   }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n23\n45\n67\n</code></pre>\n"}],"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667477023,"creation_date":1667434155,"question_id":74296887,"body_markdown":"I want to split a integer number in groups of two without using arrays and math library, eg 1245 into 12 and 45 and 123 into 01 and 23. I thought about /100 and % 100, eg 2330 =&gt; 23 30 but that method depends on the number of digits...\r\n\r\nI expect to get  groups of two","title":"How can i split an integer number into a group of two without using arrays?","body":"<p>I want to split a integer number in groups of two without using arrays and math library, eg 1245 into 12 and 45 and 123 into 01 and 23. I thought about /100 and % 100, eg 2330 =&gt; 23 30 but that method depends on the number of digits...</p>\n<p>I expect to get  groups of two</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19901859,"reputation":1,"user_id":14581683,"display_name":"Raghu Ballu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604558161,"creation_date":1604558161,"answer_id":64692273,"question_id":64692040,"body_markdown":"\r\n\r\n// reading the complete line for the integer \r\n// and converting it to an integer\r\n\r\n    int i=Integer.parseInt(scan.nextLine());\r\n    double d= Double.parseDouble(scan.nextLine());\r\n    String name= scan.nextLine();\r\n\r\n\r\n","title":"How do I take input and print the whole string in java?","body":"<p>// reading the complete line for the integer\n// and converting it to an integer</p>\n<pre><code>int i=Integer.parseInt(scan.nextLine());\ndouble d= Double.parseDouble(scan.nextLine());\nString name= scan.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19731794,"reputation":13,"user_id":14447095,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604563296,"creation_date":1604563296,"answer_id":64693253,"question_id":64692040,"body_markdown":"Another simple way to input string using scanner is this:\r\n\r\n    String s=scan.next();\r\n    System.out.println(s);\r\n","title":"How do I take input and print the whole string in java?","body":"<p>Another simple way to input string using scanner is this:</p>\n<pre><code>String s=scan.next();\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21676362,"reputation":1,"user_id":15993268,"display_name":"ANSHIKA NIGAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667476548,"creation_date":1667411272,"answer_id":74293613,"question_id":64692040,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n    String s = sc.nextLine();\r\n\tSystem.out.print(s);","title":"How do I take input and print the whole string in java?","body":"<pre><code>Scanner sc = new Scanner(System.in);\nString s = sc.nextLine();\nSystem.out.print(s);\n</code></pre>\n"}],"owner":{"account_id":15778874,"reputation":1,"user_id":11385895,"display_name":"Mudit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1667476548,"creation_date":1604556639,"question_id":64692040,"body_markdown":"```\r\npackage fresher;\r\nimport java.util.Scanner;\r\n\r\npublic class Fresher {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        int i=scan.nextInt();\r\n        double d= scan.nextDouble();\r\n        String name= scan.nextLine();\r\n        \r\n        System.out.println(name);\r\n        System.out.println(i);\r\n        System.out.println(d);\r\n    }\r\n}\r\n```\r\nthe above code is only accepting int and double input and without accepting string input it prints int and double","title":"How do I take input and print the whole string in java?","body":"<pre><code>package fresher;\nimport java.util.Scanner;\n\npublic class Fresher {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        int i=scan.nextInt();\n        double d= scan.nextDouble();\n        String name= scan.nextLine();\n        \n        System.out.println(name);\n        System.out.println(i);\n        System.out.println(d);\n    }\n}\n</code></pre>\n<p>the above code is only accepting int and double input and without accepting string input it prints int and double</p>\n"},{"tags":["java","generics","inheritance","polymorphism"],"comments":[{"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"score":22,"creation_date":1272638691,"post_id":2745265,"comment_id":2774532,"body_markdown":"And a totally unrelated grammar question that&#39;s bothering me now - should my title be &quot;why *aren&#39;t* Java&#39;s generics&quot; or &quot;why *isn&#39;t* Java&#39;s generics&quot;?? Is &quot;generics&quot; plural because of the s or singular because it&#39;s one entity?","body":"And a totally unrelated grammar question that&#39;s bothering me now - should my title be &quot;why <i>aren&#39;t</i> Java&#39;s generics&quot; or &quot;why <i>isn&#39;t</i> Java&#39;s generics&quot;?? Is &quot;generics&quot; plural because of the s or singular because it&#39;s one entity?"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":28,"creation_date":1272642206,"post_id":2745265,"comment_id":2775023,"body_markdown":"generics as done in Java are a very poor form of parametric polymorphism.  Don&#39;t put too much into faith into them (like I used to), because one day you&#39;ll hit hard their pathetic limitations:  *Surgeon extends Handable&lt;Scalpel&gt;, Handable&lt;Sponge&gt;*   KABOOM! Does *not* compute [TM].  There&#39;s your Java generics limitation.  Any OOA/OOD can be translated fine into Java (and MI can be done very nicely using Java interfaces) but generics just don&#39;t cut it.  They&#39;re fine for &quot;collections&quot; and procedural programming that said (which is what most Java programmers do anyway so...).","body":"generics as done in Java are a very poor form of parametric polymorphism.  Don&#39;t put too much into faith into them (like I used to), because one day you&#39;ll hit hard their pathetic limitations:  <i>Surgeon extends Handable&lt;Scalpel&gt;, Handable&lt;Sponge&gt;</i>   KABOOM! Does <i>not</i> compute [TM].  There&#39;s your Java generics limitation.  Any OOA/OOD can be translated fine into Java (and MI can be done very nicely using Java interfaces) but generics just don&#39;t cut it.  They&#39;re fine for &quot;collections&quot; and procedural programming that said (which is what most Java programmers do anyway so...)."},{"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"score":8,"creation_date":1354619709,"post_id":2745265,"comment_id":18815146,"body_markdown":"Super class of List&lt;Dog&gt; is not List&lt;Animal&gt; but List&lt;?&gt; (i.e list of unknown type) . Generics erases type information in compiled code. This is done so that code which is using generics(java 5 &amp; above) is compatible with earlier versions of java without generics.","body":"Super class of List&lt;Dog&gt; is not List&lt;Animal&gt; but List&lt;?&gt; (i.e list of unknown type) . Generics erases type information in compiled code. This is done so that code which is using generics(java 5 &amp; above) is compatible with earlier versions of java without generics."},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":5,"creation_date":1443811992,"post_id":2745265,"comment_id":53655685,"body_markdown":"Related SO question - [Whats the use of saying &lt;? extends SomeObject&gt; instead of &lt;SomeObject&gt;](http://stackoverflow.com/questions/17834145/whats-the-use-of-saying-extends-someobject-instead-of-someobject/17834223)","body":"Related SO question - <a href=\"http://stackoverflow.com/questions/17834145/whats-the-use-of-saying-extends-someobject-instead-of-someobject/17834223\">Whats the use of saying &lt;? extends SomeObject&gt; instead of &lt;SomeObject&gt;</a>"},{"owner":{"account_id":4407551,"reputation":1343,"user_id":3591480,"display_name":"Teng-pao Yu"},"score":0,"creation_date":1465028606,"post_id":2745265,"comment_id":62738110,"body_markdown":"Just like to add that there is actually an Official Java Tutorial concerning this topic: https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html","body":"Just like to add that there is actually an Official Java Tutorial concerning this topic: <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/subtype.html</a>"},{"owner":{"account_id":1280204,"reputation":5191,"user_id":1234478,"accept_rate":100,"display_name":"dantiston"},"score":10,"creation_date":1496121506,"post_id":2745265,"comment_id":75516118,"body_markdown":"@froadie since nobody seemed to respond... it should definitely be &quot;why aren&#39;t Java&#39;s generics...&quot;. The other issue is that &quot;generic&quot; is actually an adjective, and so &quot;generics&quot; is referring to a dropped plural noun modified by &quot;generic&quot;. You could say &quot;that function is a generic&quot;, but that would be more cumbersome than saying &quot;that function is generic&quot;. However, it&#39;s a bit cumbersome to say &quot;Java has generic functions and classes&quot;, instead of just &quot;Java has generics&quot;. As someone who wrote their master&#39;s thesis on adjectives, I think you&#39;ve stumbled upon a very interesting question!","body":"@froadie since nobody seemed to respond... it should definitely be &quot;why aren&#39;t Java&#39;s generics...&quot;. The other issue is that &quot;generic&quot; is actually an adjective, and so &quot;generics&quot; is referring to a dropped plural noun modified by &quot;generic&quot;. You could say &quot;that function is a generic&quot;, but that would be more cumbersome than saying &quot;that function is generic&quot;. However, it&#39;s a bit cumbersome to say &quot;Java has generic functions and classes&quot;, instead of just &quot;Java has generics&quot;. As someone who wrote their master&#39;s thesis on adjectives, I think you&#39;ve stumbled upon a very interesting question!"},{"owner":{"account_id":3093339,"reputation":9944,"user_id":2619038,"accept_rate":100,"display_name":"NoName"},"score":1,"creation_date":1499664456,"post_id":2745265,"comment_id":76982364,"body_markdown":"`List&lt;A&gt;` has no relationship with `List&lt;B&gt;` regardless of  the relationship between class A and B.","body":"<code>List&lt;A&gt;</code> has no relationship with <code>List&lt;B&gt;</code> regardless of  the relationship between class A and B."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1504630363,"post_id":2745265,"comment_id":79080116,"body_markdown":"@dantiston Generics could be viewed as a collective singular, in which case &quot;isn&#39;t&quot; works just fine.","body":"@dantiston Generics could be viewed as a collective singular, in which case &quot;isn&#39;t&quot; works just fine."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1528589515,"post_id":2745265,"comment_id":88565952,"body_markdown":"@SyntaxT3rr0r In your example, my goto solution would be making a super-interface of `Scalpel` and `Sponge` (probably named something like `SurgeonItem`) then declaring `Surgeon extends Handable&lt;SurgeonItem&gt;`.","body":"@SyntaxT3rr0r In your example, my goto solution would be making a super-interface of <code>Scalpel</code> and <code>Sponge</code> (probably named something like <code>SurgeonItem</code>) then declaring <code>Surgeon extends Handable&lt;SurgeonItem&gt;</code>."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1615356459,"post_id":2745265,"comment_id":117662406,"body_markdown":"@rai.skumar `List&lt;?&gt;` isn&#39;t the only effective supertype of `List&lt;Dog&gt;`.  Other examples are `List&lt;? extends Dog&gt;` and `List&lt;? super Dog&gt;`.  Also, any variant of the four (`&lt;Dog&gt;`, `&lt;? super Dog&gt;`, `&lt;? extends Dog&gt;`, `&lt;?&gt;`) applied to a supertype of `List` apply as well: `Collection&lt;Dog&gt;`, `Iterable&lt;? super Dog&gt;`, etc..  Anywhere you have a reference to any of those you can also pass in a `List&lt;Dog&gt;`.  Also `List&lt;? extends Animal&gt;` and `List&lt;? super Chihuahua&gt;`.","body":"@rai.skumar <code>List&lt;?&gt;</code> isn&#39;t the only effective supertype of <code>List&lt;Dog&gt;</code>.  Other examples are <code>List&lt;? extends Dog&gt;</code> and <code>List&lt;? super Dog&gt;</code>.  Also, any variant of the four (<code>&lt;Dog&gt;</code>, <code>&lt;? super Dog&gt;</code>, <code>&lt;? extends Dog&gt;</code>, <code>&lt;?&gt;</code>) applied to a supertype of <code>List</code> apply as well: <code>Collection&lt;Dog&gt;</code>, <code>Iterable&lt;? super Dog&gt;</code>, etc..  Anywhere you have a reference to any of those you can also pass in a <code>List&lt;Dog&gt;</code>.  Also <code>List&lt;? extends Animal&gt;</code> and <code>List&lt;? super Chihuahua&gt;</code>."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1617971584,"post_id":2745265,"comment_id":118466977,"body_markdown":"Related: [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Related: <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":1057,"is_accepted":true,"score":1054,"last_activity_date":1472108234,"creation_date":1272638646,"answer_id":2745301,"question_id":2745265,"body_markdown":"No, a `List&lt;Dog&gt;` is *not* a `List&lt;Animal&gt;`. Consider what you can do with a `List&lt;Animal&gt;` - you can add *any* animal to it... including a cat. Now, can you logically add a cat to a litter of puppies? Absolutely not.\r\n\r\n    // Illegal code - because otherwise life would be Bad\r\n    List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); // ArrayList implements List\r\n    List&lt;Animal&gt; animals = dogs; // Awooga awooga\r\n    animals.add(new Cat());\r\n    Dog dog = dogs.get(0); // This should be safe, right?\r\n\r\nSuddenly you have a *very* confused cat.\r\n\r\nNow, you *can&#39;t* add a `Cat` to a `List&lt;? extends Animal&gt;` because you don&#39;t know it&#39;s a `List&lt;Cat&gt;`. You can retrieve a value and know that it will be an `Animal`, but you can&#39;t add arbitrary animals. The reverse is true for `List&lt;? super Animal&gt;` - in that case you can add an `Animal` to it safely, but you don&#39;t know anything about what might be retrieved from it, because it could be a `List&lt;Object&gt;`.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>No, a <code>List&lt;Dog&gt;</code> is <em>not</em> a <code>List&lt;Animal&gt;</code>. Consider what you can do with a <code>List&lt;Animal&gt;</code> - you can add <em>any</em> animal to it... including a cat. Now, can you logically add a cat to a litter of puppies? Absolutely not.</p>\n\n<pre><code>// Illegal code - because otherwise life would be Bad\nList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); // ArrayList implements List\nList&lt;Animal&gt; animals = dogs; // Awooga awooga\nanimals.add(new Cat());\nDog dog = dogs.get(0); // This should be safe, right?\n</code></pre>\n\n<p>Suddenly you have a <em>very</em> confused cat.</p>\n\n<p>Now, you <em>can't</em> add a <code>Cat</code> to a <code>List&lt;? extends Animal&gt;</code> because you don't know it's a <code>List&lt;Cat&gt;</code>. You can retrieve a value and know that it will be an <code>Animal</code>, but you can't add arbitrary animals. The reverse is true for <code>List&lt;? super Animal&gt;</code> - in that case you can add an <code>Animal</code> to it safely, but you don't know anything about what might be retrieved from it, because it could be a <code>List&lt;Object&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":44612,"reputation":28559,"user_id":1385039,"accept_rate":74,"display_name":"Michael Ekstrand"},"down_vote_count":0,"up_vote_count":111,"is_accepted":false,"score":111,"last_activity_date":1541892708,"creation_date":1272638687,"answer_id":2745306,"question_id":2745265,"body_markdown":"What you are looking for is called *[covariant type][1] parameters*. This means that if one type of object can be substituted for another in a method (for instance, `Animal` can be replaced with `Dog`), the same applies to expressions using those objects (so `List&lt;Animal&gt;` could be replaced with `List&lt;Dog&gt;`). The problem is that covariance is not safe for mutable lists in general.  Suppose you have a `List&lt;Dog&gt;`, and it is being used as a `List&lt;Animal&gt;`.  What happens when you try to add a Cat to this `List&lt;Animal&gt;` which is really a `List&lt;Dog&gt;`?  Automatically allowing type parameters to be covariant breaks the type system.\r\n\r\nIt would be useful to add syntax to allow type parameters to be specified as covariant, which avoids the `? extends Foo` in method declarations, but that does add additional complexity.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>What you are looking for is called <em><a href=\"https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"noreferrer\">covariant type</a> parameters</em>. This means that if one type of object can be substituted for another in a method (for instance, <code>Animal</code> can be replaced with <code>Dog</code>), the same applies to expressions using those objects (so <code>List&lt;Animal&gt;</code> could be replaced with <code>List&lt;Dog&gt;</code>). The problem is that covariance is not safe for mutable lists in general.  Suppose you have a <code>List&lt;Dog&gt;</code>, and it is being used as a <code>List&lt;Animal&gt;</code>.  What happens when you try to add a Cat to this <code>List&lt;Animal&gt;</code> which is really a <code>List&lt;Dog&gt;</code>?  Automatically allowing type parameters to be covariant breaks the type system.</p>\n\n<p>It would be useful to add syntax to allow type parameters to be specified as covariant, which avoids the <code>? extends Foo</code> in method declarations, but that does add additional complexity.</p>\n"},{"tags":[],"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1429384889,"creation_date":1272638760,"answer_id":2745319,"question_id":2745265,"body_markdown":"The reason a `List&lt;Dog&gt;` is not a `List&lt;Animal&gt;`, is that, for example, you can insert a `Cat` into a `List&lt;Animal&gt;`, but not into a `List&lt;Dog&gt;`... you can use wildcards to make generics more extensible where possible; for example, reading from  a `List&lt;Dog&gt;` is the similar to reading from a `List&lt;Animal&gt;` -- but not writing.\r\n\r\nThe &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html&quot;&gt;Generics in the Java Language&lt;/a&gt; and the &lt;a href=&quot;http://java.sun.com/docs/books/tutorial/java/generics/index.html&quot;&gt;Section on Generics from the Java Tutorials&lt;/a&gt; have a very good, in-depth explanation as to why some things are or are not polymorphic or permitted with generics.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The reason a <code>List&lt;Dog&gt;</code> is not a <code>List&lt;Animal&gt;</code>, is that, for example, you can insert a <code>Cat</code> into a <code>List&lt;Animal&gt;</code>, but not into a <code>List&lt;Dog&gt;</code>... you can use wildcards to make generics more extensible where possible; for example, reading from  a <code>List&lt;Dog&gt;</code> is the similar to reading from a <code>List&lt;Animal&gt;</code> -- but not writing.</p>\n\n<p>The <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"noreferrer\">Generics in the Java Language</a> and the <a href=\"http://java.sun.com/docs/books/tutorial/java/generics/index.html\" rel=\"noreferrer\">Section on Generics from the Java Tutorials</a> have a very good, in-depth explanation as to why some things are or are not polymorphic or permitted with generics.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1502818429,"creation_date":1272639045,"answer_id":2745357,"question_id":2745265,"body_markdown":"I would say the whole point of Generics is that it doesn&#39;t allow that. Consider the situation with arrays, which do allow that type of covariance:\r\n\r\n      Object[] objects = new String[10];\r\n      objects[0] = Boolean.FALSE;\r\n\r\nThat code compiles fine, but throws a runtime error (`java.lang.ArrayStoreException: java.lang.Boolean` in the second line). It is not typesafe. The point of Generics is to add the compile time type safety, otherwise you could just stick with a plain class without generics.\r\n\r\nNow there are times where you need to be more flexible and that is what the `? super Class` and `? extends Class` are for. The former is when you need to insert into a type `Collection` (for example), and the latter is for when you need to read from it, in a type safe manner. But the only way to do both at the same time is to have a specific type.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>I would say the whole point of Generics is that it doesn't allow that. Consider the situation with arrays, which do allow that type of covariance:</p>\n\n<pre><code>  Object[] objects = new String[10];\n  objects[0] = Boolean.FALSE;\n</code></pre>\n\n<p>That code compiles fine, but throws a runtime error (<code>java.lang.ArrayStoreException: java.lang.Boolean</code> in the second line). It is not typesafe. The point of Generics is to add the compile time type safety, otherwise you could just stick with a plain class without generics.</p>\n\n<p>Now there are times where you need to be more flexible and that is what the <code>? super Class</code> and <code>? extends Class</code> are for. The former is when you need to insert into a type <code>Collection</code> (for example), and the latter is for when you need to read from it, in a type safe manner. But the only way to do both at the same time is to have a specific type.</p>\n"},{"tags":[],"owner":{"account_id":2065755,"reputation":713,"user_id":1841293,"accept_rate":0,"display_name":"Hitesh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1530606897,"creation_date":1354617807,"answer_id":13701101,"question_id":2745265,"body_markdown":"The basis logic for such behavior is that `Generics` follow a mechanism of type erasure. So at run time you have no way if identifying the type of `collection` unlike `arrays` where there is no such erasure process. So coming back to your question...\r\n\r\nSo suppose there is a method as given below:\r\n\r\n    add(List&lt;Animal&gt;){\r\n        //You can add List&lt;Dog or List&lt;Cat&gt; and this will compile as per rules of polymorphism\r\n    }\r\n\r\nNow if java allows caller to add List of type Animal to this method then you might add wrong thing into collection and at run time too it will run due to type erasure. While in case of arrays you will get a run time exception for such scenarios...\r\n\r\nThus in essence this behavior is implemented so that one cannot add wrong thing into collection. Now  I believe type erasure exists so as to give compatibility with legacy java without generics....\r\n","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The basis logic for such behavior is that <code>Generics</code> follow a mechanism of type erasure. So at run time you have no way if identifying the type of <code>collection</code> unlike <code>arrays</code> where there is no such erasure process. So coming back to your question...</p>\n\n<p>So suppose there is a method as given below:</p>\n\n<pre><code>add(List&lt;Animal&gt;){\n    //You can add List&lt;Dog or List&lt;Cat&gt; and this will compile as per rules of polymorphism\n}\n</code></pre>\n\n<p>Now if java allows caller to add List of type Animal to this method then you might add wrong thing into collection and at run time too it will run due to type erasure. While in case of arrays you will get a run time exception for such scenarios...</p>\n\n<p>Thus in essence this behavior is implemented so that one cannot add wrong thing into collection. Now  I believe type erasure exists so as to give compatibility with legacy java without generics....</p>\n"},{"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1640549168,"creation_date":1364627682,"answer_id":15716048,"question_id":2745265,"body_markdown":"A point I think should be added to what [other](https://stackoverflow.com/a/2745301/1593077) [answers](https://stackoverflow.com/a/2745319/1593077) mention is that while\r\n\r\n&gt; `List&lt;Dog&gt;` isn&#39;t-a `List&lt;Animal&gt;` **in Java**\r\n\r\nit is also true that\r\n\r\n&gt; A list of dogs is-a list of animals **in English** (under a reasonable interpretation)\r\n\r\nThe way the OP&#39;s intuition works - which is completely valid of course - is the latter sentence. However, if we apply this intuition we get a language that is not Java-esque in its type system: Suppose our language does allow adding a cat to our list of dogs. What would that mean? It would mean that the list ceases to be a list of dogs, and remains merely a list of animals. And a list of mammals, and a list of quadrapeds.\r\n\r\nTo put it another way: A `List&lt;Dog&gt;` in Java does not mean &quot;a list of dogs&quot; in English, it means &quot;a list of dogs and nothing other than dogs&quot;.\r\n\r\nMore generally, **OP&#39;s intuition lends itself towards a language in which operations on objects can change their type**, or rather, an object&#39;s type(s) is a (dynamic) function of its value. ","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>A point I think should be added to what <a href=\"https://stackoverflow.com/a/2745301/1593077\">other</a> <a href=\"https://stackoverflow.com/a/2745319/1593077\">answers</a> mention is that while</p>\n<blockquote>\n<p><code>List&lt;Dog&gt;</code> isn't-a <code>List&lt;Animal&gt;</code> <strong>in Java</strong></p>\n</blockquote>\n<p>it is also true that</p>\n<blockquote>\n<p>A list of dogs is-a list of animals <strong>in English</strong> (under a reasonable interpretation)</p>\n</blockquote>\n<p>The way the OP's intuition works - which is completely valid of course - is the latter sentence. However, if we apply this intuition we get a language that is not Java-esque in its type system: Suppose our language does allow adding a cat to our list of dogs. What would that mean? It would mean that the list ceases to be a list of dogs, and remains merely a list of animals. And a list of mammals, and a list of quadrapeds.</p>\n<p>To put it another way: A <code>List&lt;Dog&gt;</code> in Java does not mean &quot;a list of dogs&quot; in English, it means &quot;a list of dogs and nothing other than dogs&quot;.</p>\n<p>More generally, <strong>OP's intuition lends itself towards a language in which operations on objects can change their type</strong>, or rather, an object's type(s) is a (dynamic) function of its value.</p>\n"},{"tags":[],"owner":{"account_id":5374286,"reputation":1172,"user_id":4350148,"accept_rate":12,"display_name":"dan b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510045981,"creation_date":1418642090,"answer_id":27482801,"question_id":2745265,"body_markdown":"The [answer][1]  as well as other answers are correct. I am  going to add to those answers with a solution that I think will be helpful.  I think this comes up often in programming. One thing to note is that for Collections (Lists, Sets, etc.) the main issue is adding to the Collection. That is where things break down.  Even removing is OK.  \r\n\r\nIn most cases, we can use `Collection&lt;? extends T&gt;` rather then `Collection&lt;T&gt;` and that should be the first choice.  However, I am finding cases where it is not easy to do that.  It is up for debate as to whether that is always the best thing to do.  I am presenting here a class DownCastCollection&lt;T&gt; that can take convert a `Collection&lt;? extends T&gt;` to a `Collection&lt;T&gt;` (we can define similar classes for List, Set, NavigableSet,..) to be used when using the standard approach is very inconvenient.  Below is an example of how to use it (we could also use `Collection&lt;? extends Object&gt;` in this case, but I am keeping it simple to illustrate using DownCastCollection.\r\n\r\n    /**Could use Collection&lt;? extends Object&gt; and that is the better choice. \r\n    * But I am doing this to illustrate how to use DownCastCollection. **/\r\n\r\n\tpublic static void print(Collection&lt;Object&gt; col){  \r\n\t\tfor(Object obj : col){\r\n\t\tSystem.out.println(obj);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args){\r\n\t  ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t  list.addAll(Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;));\r\n\t  print(new DownCastCollection&lt;Object&gt;(list));\r\n\t}\r\n\r\nNow the class:\r\n\r\n    import java.util.AbstractCollection;\r\n    import java.util.Collection;\r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n\r\n    public class DownCastCollection&lt;E&gt; extends AbstractCollection&lt;E&gt; implements Collection&lt;E&gt; {\r\n\tprivate Collection&lt;? extends E&gt; delegate;\r\n\t\r\n\tpublic DownCastCollection(Collection&lt;? extends E&gt; delegate) {\r\n\t\tsuper();\r\n\t\tthis.delegate = delegate;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int size() {\r\n\t\treturn delegate ==null ? 0 : delegate.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmpty() {\r\n\t\treturn delegate==null || delegate.isEmpty();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean contains(Object o) {\r\n\t\tif(isEmpty()) return false;\r\n\t\treturn delegate.contains(o);\r\n\t}\r\n\tprivate class MyIterator implements Iterator&lt;E&gt;{\r\n\t\tIterator&lt;? extends E&gt; delegateIterator;\r\n\t\t\r\n\t\tprotected MyIterator() {\r\n\t\t\tsuper();\r\n\t\t\tthis.delegateIterator = delegate == null ? null :delegate.iterator();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn delegateIterator != null &amp;&amp; delegateIterator.hasNext();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic  E next() {\r\n\t\t\tif(!hasNext()) throw new NoSuchElementException(&quot;The iterator is empty&quot;);\r\n\t\t\treturn delegateIterator.next();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void remove() {\r\n\t\t\tdelegateIterator.remove();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic Iterator&lt;E&gt; iterator() {\r\n\t\treturn new MyIterator();\r\n\t}\r\n\r\n\t\r\n\r\n\t@Override\r\n\tpublic boolean add(E e) {\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean remove(Object o) {\r\n\t\tif(delegate == null) return false;\r\n\t\treturn delegate.remove(o);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean containsAll(Collection&lt;?&gt; c) {\r\n\t\tif(delegate==null) return false;\r\n\t\treturn delegate.containsAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean addAll(Collection&lt;? extends E&gt; c) {\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean removeAll(Collection&lt;?&gt; c) {\r\n\t\tif(delegate == null) return false;\r\n\t\treturn delegate.removeAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean retainAll(Collection&lt;?&gt; c) {\r\n\t\tif(delegate == null) return false;\r\n\t\treturn delegate.retainAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void clear() {\r\n\t\tif(delegate == null) return;\r\n\t\t\tdelegate.clear();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2745301/4350148","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The <a href=\"https://stackoverflow.com/a/2745301/4350148\">answer</a>  as well as other answers are correct. I am  going to add to those answers with a solution that I think will be helpful.  I think this comes up often in programming. One thing to note is that for Collections (Lists, Sets, etc.) the main issue is adding to the Collection. That is where things break down.  Even removing is OK.  </p>\n\n<p>In most cases, we can use <code>Collection&lt;? extends T&gt;</code> rather then <code>Collection&lt;T&gt;</code> and that should be the first choice.  However, I am finding cases where it is not easy to do that.  It is up for debate as to whether that is always the best thing to do.  I am presenting here a class DownCastCollection that can take convert a <code>Collection&lt;? extends T&gt;</code> to a <code>Collection&lt;T&gt;</code> (we can define similar classes for List, Set, NavigableSet,..) to be used when using the standard approach is very inconvenient.  Below is an example of how to use it (we could also use <code>Collection&lt;? extends Object&gt;</code> in this case, but I am keeping it simple to illustrate using DownCastCollection.</p>\n\n<pre><code>/**Could use Collection&lt;? extends Object&gt; and that is the better choice. \n* But I am doing this to illustrate how to use DownCastCollection. **/\n\npublic static void print(Collection&lt;Object&gt; col){  \n    for(Object obj : col){\n    System.out.println(obj);\n    }\n}\npublic static void main(String[] args){\n  ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n  list.addAll(Arrays.asList(\"a\",\"b\",\"c\"));\n  print(new DownCastCollection&lt;Object&gt;(list));\n}\n</code></pre>\n\n<p>Now the class:</p>\n\n<pre><code>import java.util.AbstractCollection;\nimport java.util.Collection;\nimport java.util.Iterator;\nimport java.util.NoSuchElementException;\n\npublic class DownCastCollection&lt;E&gt; extends AbstractCollection&lt;E&gt; implements Collection&lt;E&gt; {\nprivate Collection&lt;? extends E&gt; delegate;\n\npublic DownCastCollection(Collection&lt;? extends E&gt; delegate) {\n    super();\n    this.delegate = delegate;\n}\n\n@Override\npublic int size() {\n    return delegate ==null ? 0 : delegate.size();\n}\n\n@Override\npublic boolean isEmpty() {\n    return delegate==null || delegate.isEmpty();\n}\n\n@Override\npublic boolean contains(Object o) {\n    if(isEmpty()) return false;\n    return delegate.contains(o);\n}\nprivate class MyIterator implements Iterator&lt;E&gt;{\n    Iterator&lt;? extends E&gt; delegateIterator;\n\n    protected MyIterator() {\n        super();\n        this.delegateIterator = delegate == null ? null :delegate.iterator();\n    }\n\n    @Override\n    public boolean hasNext() {\n        return delegateIterator != null &amp;&amp; delegateIterator.hasNext();\n    }\n\n    @Override\n    public  E next() {\n        if(!hasNext()) throw new NoSuchElementException(\"The iterator is empty\");\n        return delegateIterator.next();\n    }\n\n    @Override\n    public void remove() {\n        delegateIterator.remove();\n\n    }\n\n}\n@Override\npublic Iterator&lt;E&gt; iterator() {\n    return new MyIterator();\n}\n\n\n\n@Override\npublic boolean add(E e) {\n    throw new UnsupportedOperationException();\n}\n\n@Override\npublic boolean remove(Object o) {\n    if(delegate == null) return false;\n    return delegate.remove(o);\n}\n\n@Override\npublic boolean containsAll(Collection&lt;?&gt; c) {\n    if(delegate==null) return false;\n    return delegate.containsAll(c);\n}\n\n@Override\npublic boolean addAll(Collection&lt;? extends E&gt; c) {\n    throw new UnsupportedOperationException();\n}\n\n@Override\npublic boolean removeAll(Collection&lt;?&gt; c) {\n    if(delegate == null) return false;\n    return delegate.removeAll(c);\n}\n\n@Override\npublic boolean retainAll(Collection&lt;?&gt; c) {\n    if(delegate == null) return false;\n    return delegate.retainAll(c);\n}\n\n@Override\npublic void clear() {\n    if(delegate == null) return;\n        delegate.clear();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1423949166,"creation_date":1423949166,"answer_id":28520504,"question_id":2745265,"body_markdown":"The answers given here didn&#39;t fully convince me. So instead, I make another example.\r\n\r\n    public void passOn(Consumer&lt;Animal&gt; consumer, Supplier&lt;Animal&gt; supplier) {\r\n        consumer.accept(supplier.get());\r\n    }\r\n\r\nsounds fine, doesn&#39;t it? But you can only pass `Consumer`s and `Supplier`s for `Animal`s. If you have a `Mammal` consumer, but a `Duck` supplier, they should not fit although both are animals. In order to disallow this, additional restrictions have been added.\r\n\r\nInstead of the above, we have to define relationships between the types we use.\r\n\r\nE. g.,\r\n\r\n    public &lt;A extends Animal&gt; void passOn(Consumer&lt;A&gt; consumer, Supplier&lt;? extends A&gt; supplier) {\r\n        consumer.accept(supplier.get());\r\n    }\r\n\r\nmakes sure that we can only use a supplier which provides us the right type of object for the consumer.\r\n\r\nOTOH, we could as well do\r\n\r\n    public &lt;A extends Animal&gt; void passOn(Consumer&lt;? super A&gt; consumer, Supplier&lt;A&gt; supplier) {\r\n        consumer.accept(supplier.get());\r\n    }\r\n\r\nwhere we go the other way: we define the type of the `Supplier` and restrict that it can be put into the `Consumer`.\r\n\r\nWe even can do\r\n\r\n    public &lt;A extends Animal&gt; void passOn(Consumer&lt;? super A&gt; consumer, Supplier&lt;? extends A&gt; supplier) {\r\n        consumer.accept(supplier.get());\r\n    }\r\n\r\nwhere, having the intuitive relations `Life` -&gt; `Animal` -&gt; `Mammal` -&gt; `Dog`, `Cat` etc., we could even put a `Mammal` into a `Life` consumer, but not a `String` into a `Life` consumer.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The answers given here didn't fully convince me. So instead, I make another example.</p>\n\n<pre><code>public void passOn(Consumer&lt;Animal&gt; consumer, Supplier&lt;Animal&gt; supplier) {\n    consumer.accept(supplier.get());\n}\n</code></pre>\n\n<p>sounds fine, doesn't it? But you can only pass <code>Consumer</code>s and <code>Supplier</code>s for <code>Animal</code>s. If you have a <code>Mammal</code> consumer, but a <code>Duck</code> supplier, they should not fit although both are animals. In order to disallow this, additional restrictions have been added.</p>\n\n<p>Instead of the above, we have to define relationships between the types we use.</p>\n\n<p>E. g.,</p>\n\n<pre><code>public &lt;A extends Animal&gt; void passOn(Consumer&lt;A&gt; consumer, Supplier&lt;? extends A&gt; supplier) {\n    consumer.accept(supplier.get());\n}\n</code></pre>\n\n<p>makes sure that we can only use a supplier which provides us the right type of object for the consumer.</p>\n\n<p>OTOH, we could as well do</p>\n\n<pre><code>public &lt;A extends Animal&gt; void passOn(Consumer&lt;? super A&gt; consumer, Supplier&lt;A&gt; supplier) {\n    consumer.accept(supplier.get());\n}\n</code></pre>\n\n<p>where we go the other way: we define the type of the <code>Supplier</code> and restrict that it can be put into the <code>Consumer</code>.</p>\n\n<p>We even can do</p>\n\n<pre><code>public &lt;A extends Animal&gt; void passOn(Consumer&lt;? super A&gt; consumer, Supplier&lt;? extends A&gt; supplier) {\n    consumer.accept(supplier.get());\n}\n</code></pre>\n\n<p>where, having the intuitive relations <code>Life</code> -> <code>Animal</code> -> <code>Mammal</code> -> <code>Dog</code>, <code>Cat</code> etc., we could even put a <code>Mammal</code> into a <code>Life</code> consumer, but not a <code>String</code> into a <code>Life</code> consumer.</p>\n"},{"tags":[],"owner":{"account_id":1896502,"reputation":5964,"user_id":1713345,"accept_rate":17,"display_name":"Renato Probst"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1593111970,"creation_date":1454015464,"answer_id":35072113,"question_id":2745265,"body_markdown":"If you are sure that the list items are subclasses of that given super type, you can cast the list using this approach:\r\n\r\n    (List&lt;Animal&gt;) (List&lt;?&gt;) dogs\r\n\r\nThis is usefull when you want to pass the list inside of a constructor or iterate over it.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>If you are sure that the list items are subclasses of that given super type, you can cast the list using this approach:</p>\n<pre><code>(List&lt;Animal&gt;) (List&lt;?&gt;) dogs\n</code></pre>\n<p>This is usefull when you want to pass the list inside of a constructor or iterate over it.</p>\n"},{"tags":[],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456578001,"creation_date":1456578001,"answer_id":35670100,"question_id":2745265,"body_markdown":"Lets take the example from JavaSE [tutorial][1] \r\n\r\n    public abstract class Shape {\r\n        public abstract void draw(Canvas c);\r\n    }\r\n    \r\n    public class Circle extends Shape {\r\n        private int x, y, radius;\r\n        public void draw(Canvas c) {\r\n            ...\r\n        }\r\n    }\r\n    \r\n    public class Rectangle extends Shape {\r\n        private int x, y, width, height;\r\n        public void draw(Canvas c) {\r\n            ...\r\n        }\r\n    }\r\n\r\nSo why a list of dogs (circles) should not be considered implicitly a list of animals (shapes) is because of this situation:\r\n\r\n    // drawAll method call\r\n    drawAll(circleList);\r\n    \r\n    \r\n    public void drawAll(List&lt;Shape&gt; shapes) {\r\n       shapes.add(new Rectangle());    \r\n    }\r\n\r\nSo Java &quot;architects&quot; had 2 options which address this problem:\r\n\r\n1. do not consider that a subtype is implicitly it&#39;s supertype, and give a compile error, like it happens now\r\n\r\n2. consider the subtype to be it&#39;s supertype and restrict at compile the &quot;add&quot; method (so in the drawAll method, if a list of circles, subtype of shape, would be passed, the compiler should detected that and restrict you with compile error into doing that).\r\n\r\nFor obvious reasons, that chose the first way. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>Lets take the example from JavaSE <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow\">tutorial</a> </p>\n\n<pre><code>public abstract class Shape {\n    public abstract void draw(Canvas c);\n}\n\npublic class Circle extends Shape {\n    private int x, y, radius;\n    public void draw(Canvas c) {\n        ...\n    }\n}\n\npublic class Rectangle extends Shape {\n    private int x, y, width, height;\n    public void draw(Canvas c) {\n        ...\n    }\n}\n</code></pre>\n\n<p>So why a list of dogs (circles) should not be considered implicitly a list of animals (shapes) is because of this situation:</p>\n\n<pre><code>// drawAll method call\ndrawAll(circleList);\n\n\npublic void drawAll(List&lt;Shape&gt; shapes) {\n   shapes.add(new Rectangle());    \n}\n</code></pre>\n\n<p>So Java \"architects\" had 2 options which address this problem:</p>\n\n<ol>\n<li><p>do not consider that a subtype is implicitly it's supertype, and give a compile error, like it happens now</p></li>\n<li><p>consider the subtype to be it's supertype and restrict at compile the \"add\" method (so in the drawAll method, if a list of circles, subtype of shape, would be passed, the compiler should detected that and restrict you with compile error into doing that).</p></li>\n</ol>\n\n<p>For obvious reasons, that chose the first way. </p>\n"},{"tags":[],"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1506715303,"creation_date":1506714930,"answer_id":46496077,"question_id":2745265,"body_markdown":"To understand the problem it&#39;s useful to make comparison to arrays.\r\n\r\n`List&lt;Dog&gt;` is **not** subclass of `List&lt;Animal&gt;`.&lt;br&gt;\r\n**But** `Dog[]` **is** subclass of `Animal[]`.\r\n\r\n\r\n\r\n**Arrays are [reifiable][1] and covariant**. &lt;br&gt;[Reifiable][1] means their type information is fully available at runtime. &lt;br&gt;Therefore arrays provide runtime type safety but not compile-time type safety.\r\n\r\n        // All compiles but throws ArrayStoreException at runtime at last line\r\n\t\tDog[] dogs = new Dog[10];\r\n\t\tAnimal[] animals = dogs; // compiles\r\n\t\tanimals[0] = new Cat(); // throws ArrayStoreException at runtime\r\n\r\nIt&#39;s vice versa for generics:&lt;br&gt;\r\n**Generics are [erased][2] and invariant**. &lt;br&gt;Therefore generics can&#39;t provide runtime type safety, but they provide compile-time type safety. &lt;br&gt;In the code below if generics were covariant it will be possible to make [heap pollution][3] at line 3.\r\n\r\n\t\tList&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Animal&gt; animals = dogs; // compile-time error, otherwise heap pollution\r\n\t\tanimals.add(new Cat());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\r\n  [3]: https://en.wikipedia.org/wiki/Heap_pollution","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>To understand the problem it's useful to make comparison to arrays.</p>\n\n<p><code>List&lt;Dog&gt;</code> is <strong>not</strong> subclass of <code>List&lt;Animal&gt;</code>.<br>\n<strong>But</strong> <code>Dog[]</code> <strong>is</strong> subclass of <code>Animal[]</code>.</p>\n\n<p><strong>Arrays are <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\" rel=\"noreferrer\">reifiable</a> and covariant</strong>. <br><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\" rel=\"noreferrer\">Reifiable</a> means their type information is fully available at runtime. <br>Therefore arrays provide runtime type safety but not compile-time type safety.</p>\n\n<pre><code>    // All compiles but throws ArrayStoreException at runtime at last line\n    Dog[] dogs = new Dog[10];\n    Animal[] animals = dogs; // compiles\n    animals[0] = new Cat(); // throws ArrayStoreException at runtime\n</code></pre>\n\n<p>It's vice versa for generics:<br>\n<strong>Generics are <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"noreferrer\">erased</a> and invariant</strong>. <br>Therefore generics can't provide runtime type safety, but they provide compile-time type safety. <br>In the code below if generics were covariant it will be possible to make <a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"noreferrer\">heap pollution</a> at line 3.</p>\n\n<pre><code>    List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\n    List&lt;Animal&gt; animals = dogs; // compile-time error, otherwise heap pollution\n    animals.add(new Cat());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2238583,"reputation":31529,"user_id":1974224,"accept_rate":82,"display_name":"Cristik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519976923,"creation_date":1519976923,"answer_id":49064767,"question_id":2745265,"body_markdown":"We should also take in consideration how the compiler threats the generic classes: in &quot;instantiates&quot; a different type whenever we fill the generic arguments.\r\n\r\nThus we have `ListOfAnimal`, `ListOfDog`, `ListOfCat`, etc, which are distinct classes that end up being &quot;created&quot; by the compiler when we specify the generic arguments. And this is a flat hierarchy (actually regarding to `List` is not a hierarchy at all).\r\n\r\nAnother argument why covariance doesn&#39;t make sense in case of generic classes is the fact that at base all classes are the same - are `List` instances. Specialising a `List` by filling the generic argument doesn&#39;t extend the class, it just makes it work for that particular generic argument.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>We should also take in consideration how the compiler threats the generic classes: in \"instantiates\" a different type whenever we fill the generic arguments.</p>\n\n<p>Thus we have <code>ListOfAnimal</code>, <code>ListOfDog</code>, <code>ListOfCat</code>, etc, which are distinct classes that end up being \"created\" by the compiler when we specify the generic arguments. And this is a flat hierarchy (actually regarding to <code>List</code> is not a hierarchy at all).</p>\n\n<p>Another argument why covariance doesn't make sense in case of generic classes is the fact that at base all classes are the same - are <code>List</code> instances. Specialising a <code>List</code> by filling the generic argument doesn't extend the class, it just makes it work for that particular generic argument.</p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522263371,"creation_date":1522263371,"answer_id":49542174,"question_id":2745265,"body_markdown":"The problem has been well-identified. But there&#39;s a solution; make *doSomething* generic:\r\n\r\n    &lt;T extends Animal&gt; void doSomething&lt;List&lt;T&gt; animals) {\r\n    }\r\n\r\nnow you can call doSomething with either List&amp;lt;Dog&gt; or List&amp;lt;Cat&gt; or List&amp;lt;Animal&gt;.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The problem has been well-identified. But there's a solution; make <em>doSomething</em> generic:</p>\n\n<pre><code>&lt;T extends Animal&gt; void doSomething&lt;List&lt;T&gt; animals) {\n}\n</code></pre>\n\n<p>now you can call doSomething with either List&lt;Dog> or List&lt;Cat> or List&lt;Animal>.</p>\n"},{"tags":[],"owner":{"account_id":10199974,"reputation":1149,"user_id":7530589,"display_name":"G&#246;rkem M&#252;layim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525356022,"creation_date":1525356022,"answer_id":50156929,"question_id":2745265,"body_markdown":"Subtyping is [invariant][1] for parameterized types. Even tough the class `Dog` is a subtype of `Animal`, the parameterized type `List&lt;Dog&gt;` is not a subtype of `List&lt;Animal&gt;`. In contrast, [covariant][1] subtyping is used by arrays, so the array\r\ntype `Dog[]` is a subtype of `Animal[]`.\r\n\r\nInvariant subtyping ensures that the type constraints enforced by Java are not violated. Consider the following code given by @Jon Skeet:\r\n\r\n    List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(1);\r\n    List&lt;Animal&gt; animals = dogs;\r\n    animals.add(new Cat()); // compile-time error\r\n    Dog dog = dogs.get(0);\r\n\r\nAs stated by @Jon Skeet, this code is illegal, because otherwise it would violate the type constraints by returning a cat when a dog expected.\r\n\r\nIt is instructive to compare the above to analogous code for arrays.\r\n\r\n    Dog[] dogs = new Dog[1];\r\n    Object[] animals = dogs;\r\n    animals[0] = new Cat(); // run-time error\r\n    Dog dog = dogs[0];\r\n\r\nThe code is legal. However, throws an [array store exception][2].\r\nAn array carries its type at run-time this way JVM can enforce\r\ntype safety of covariant subtyping. \r\n\r\nTo understand this further let&#39;s look at the bytecode generated by `javap` of the class below:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Demonstration {\r\n        public void normal() {\r\n            List normal = new ArrayList(1);\r\n            normal.add(&quot;lorem ipsum&quot;);\r\n        }\r\n    \r\n        public void parameterized() {\r\n            List&lt;String&gt; parameterized = new ArrayList&lt;&gt;(1);\r\n            parameterized.add(&quot;lorem ipsum&quot;);\r\n        }\r\n    }\r\n\r\nUsing the command `javap -c Demonstration`, this shows the following Java bytecode:\r\n\r\n    Compiled from &quot;Demonstration.java&quot;\r\n    public class Demonstration {\r\n      public Demonstration();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public void normal();\r\n        Code:\r\n           0: new           #2                  // class java/util/ArrayList\r\n           3: dup\r\n           4: iconst_1\r\n           5: invokespecial #3                  // Method java/util/ArrayList.&quot;&lt;init&gt;&quot;:(I)V\r\n           8: astore_1\r\n           9: aload_1\r\n          10: ldc           #4                  // String lorem ipsum\r\n          12: invokeinterface #5,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z\r\n          17: pop\r\n          18: return\r\n    \r\n      public void parameterized();\r\n        Code:\r\n           0: new           #2                  // class java/util/ArrayList\r\n           3: dup\r\n           4: iconst_1\r\n           5: invokespecial #3                  // Method java/util/ArrayList.&quot;&lt;init&gt;&quot;:(I)V\r\n           8: astore_1\r\n           9: aload_1\r\n          10: ldc           #4                  // String lorem ipsum\r\n          12: invokeinterface #5,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z\r\n          17: pop\r\n          18: return\r\n    }\r\n\r\nObserve that the translated code of method bodies are identical. Compiler replaced each parameterized type by its [erasure][3]. This property is crucial meaning that it did not break backwards compatibility.\r\n\r\nIn conclusion, run-time safety is not possible for parameterized types, since compiler replaces each parameterized type by its erasure. This makes parameterized types are nothing more than syntactic sugar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8481301/covariance-invariance-and-contravariance-explained-in-plain-english\r\n  [2]: https://stackoverflow.com/questions/12369957/dealing-with-an-arraystoreexception\r\n  [3]: https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>Subtyping is <a href=\"https://stackoverflow.com/questions/8481301/covariance-invariance-and-contravariance-explained-in-plain-english\">invariant</a> for parameterized types. Even tough the class <code>Dog</code> is a subtype of <code>Animal</code>, the parameterized type <code>List&lt;Dog&gt;</code> is not a subtype of <code>List&lt;Animal&gt;</code>. In contrast, <a href=\"https://stackoverflow.com/questions/8481301/covariance-invariance-and-contravariance-explained-in-plain-english\">covariant</a> subtyping is used by arrays, so the array\ntype <code>Dog[]</code> is a subtype of <code>Animal[]</code>.</p>\n\n<p>Invariant subtyping ensures that the type constraints enforced by Java are not violated. Consider the following code given by @Jon Skeet:</p>\n\n<pre><code>List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(1);\nList&lt;Animal&gt; animals = dogs;\nanimals.add(new Cat()); // compile-time error\nDog dog = dogs.get(0);\n</code></pre>\n\n<p>As stated by @Jon Skeet, this code is illegal, because otherwise it would violate the type constraints by returning a cat when a dog expected.</p>\n\n<p>It is instructive to compare the above to analogous code for arrays.</p>\n\n<pre><code>Dog[] dogs = new Dog[1];\nObject[] animals = dogs;\nanimals[0] = new Cat(); // run-time error\nDog dog = dogs[0];\n</code></pre>\n\n<p>The code is legal. However, throws an <a href=\"https://stackoverflow.com/questions/12369957/dealing-with-an-arraystoreexception\">array store exception</a>.\nAn array carries its type at run-time this way JVM can enforce\ntype safety of covariant subtyping. </p>\n\n<p>To understand this further let's look at the bytecode generated by <code>javap</code> of the class below:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Demonstration {\n    public void normal() {\n        List normal = new ArrayList(1);\n        normal.add(\"lorem ipsum\");\n    }\n\n    public void parameterized() {\n        List&lt;String&gt; parameterized = new ArrayList&lt;&gt;(1);\n        parameterized.add(\"lorem ipsum\");\n    }\n}\n</code></pre>\n\n<p>Using the command <code>javap -c Demonstration</code>, this shows the following Java bytecode:</p>\n\n<pre><code>Compiled from \"Demonstration.java\"\npublic class Demonstration {\n  public Demonstration();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: return\n\n  public void normal();\n    Code:\n       0: new           #2                  // class java/util/ArrayList\n       3: dup\n       4: iconst_1\n       5: invokespecial #3                  // Method java/util/ArrayList.\"&lt;init&gt;\":(I)V\n       8: astore_1\n       9: aload_1\n      10: ldc           #4                  // String lorem ipsum\n      12: invokeinterface #5,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z\n      17: pop\n      18: return\n\n  public void parameterized();\n    Code:\n       0: new           #2                  // class java/util/ArrayList\n       3: dup\n       4: iconst_1\n       5: invokespecial #3                  // Method java/util/ArrayList.\"&lt;init&gt;\":(I)V\n       8: astore_1\n       9: aload_1\n      10: ldc           #4                  // String lorem ipsum\n      12: invokeinterface #5,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z\n      17: pop\n      18: return\n}\n</code></pre>\n\n<p>Observe that the translated code of method bodies are identical. Compiler replaced each parameterized type by its <a href=\"https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java\">erasure</a>. This property is crucial meaning that it did not break backwards compatibility.</p>\n\n<p>In conclusion, run-time safety is not possible for parameterized types, since compiler replaces each parameterized type by its erasure. This makes parameterized types are nothing more than syntactic sugar.</p>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532095933,"creation_date":1532095933,"answer_id":51444478,"question_id":2745265,"body_markdown":"another solution is to build a new list\r\n\r\n    List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); \r\n    List&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;(dogs);\r\n    animals.add(new Cat());","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>another solution is to build a new list</p>\n\n<pre><code>List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); \nList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;(dogs);\nanimals.add(new Cat());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574223687,"creation_date":1574223687,"answer_id":58946641,"question_id":2745265,"body_markdown":"Further to the answer by Jon Skeet, which uses this example code:\r\n\r\n    // Illegal code - because otherwise life would be Bad\r\n    List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); // ArrayList implements List\r\n    List&lt;Animal&gt; animals = dogs; // Awooga awooga\r\n    animals.add(new Cat());\r\n    Dog dog = dogs.get(0); // This should be safe, right?\r\n\r\nAt the deepest level, the problem here is that `dogs` and `animals` share a reference. That means that one way to make this work would be to copy the entire list, which would break reference equality:\r\n\r\n    // This code is fine\r\n    List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\r\n    dogs.add(new Dog());\r\n    List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(dogs); // Copy list\r\n    animals.add(new Cat());\r\n    Dog dog = dogs.get(0);   // This is fine now, because it does not return the Cat\r\n\r\nAfter calling `List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(dogs);`, you cannot subsequently directly assign `animals` to either `dogs` or `cats`:\r\n\r\n    // These are both illegal\r\n    dogs = animals;\r\n    cats = animals;\r\n\r\ntherefore you can&#39;t put the wrong subtype of `Animal` into the list, because there is no wrong subtype -- any object of subtype `? extends Animal` can be added to `animals`.\r\n\r\nObviously, this changes the semantics, since the lists `animals` and `dogs` are no longer shared, so adding to one list does not add to the other (which is exactly what you want, to avoid the problem that a `Cat` could be added to a list that is only supposed to contain `Dog` objects). Also, copying the entire list can be inefficient. However, this does solve the type equivalence problem, by breaking reference equality.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>Further to the answer by Jon Skeet, which uses this example code:</p>\n\n<pre><code>// Illegal code - because otherwise life would be Bad\nList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); // ArrayList implements List\nList&lt;Animal&gt; animals = dogs; // Awooga awooga\nanimals.add(new Cat());\nDog dog = dogs.get(0); // This should be safe, right?\n</code></pre>\n\n<p>At the deepest level, the problem here is that <code>dogs</code> and <code>animals</code> share a reference. That means that one way to make this work would be to copy the entire list, which would break reference equality:</p>\n\n<pre><code>// This code is fine\nList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\ndogs.add(new Dog());\nList&lt;Animal&gt; animals = new ArrayList&lt;&gt;(dogs); // Copy list\nanimals.add(new Cat());\nDog dog = dogs.get(0);   // This is fine now, because it does not return the Cat\n</code></pre>\n\n<p>After calling <code>List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(dogs);</code>, you cannot subsequently directly assign <code>animals</code> to either <code>dogs</code> or <code>cats</code>:</p>\n\n<pre><code>// These are both illegal\ndogs = animals;\ncats = animals;\n</code></pre>\n\n<p>therefore you can't put the wrong subtype of <code>Animal</code> into the list, because there is no wrong subtype -- any object of subtype <code>? extends Animal</code> can be added to <code>animals</code>.</p>\n\n<p>Obviously, this changes the semantics, since the lists <code>animals</code> and <code>dogs</code> are no longer shared, so adding to one list does not add to the other (which is exactly what you want, to avoid the problem that a <code>Cat</code> could be added to a list that is only supposed to contain <code>Dog</code> objects). Also, copying the entire list can be inefficient. However, this does solve the type equivalence problem, by breaking reference equality.</p>\n"},{"tags":[],"owner":{"account_id":245033,"reputation":4773,"user_id":518287,"accept_rate":35,"display_name":"Yttrill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604203348,"creation_date":1604203348,"answer_id":64628556,"question_id":2745265,"body_markdown":"The issue has been correctly identified as related to variance but the details are not correct. A purely functional list is a covariant data functor, which means if a type Sub is a subtype of Super, then a list of Sub is definitely a subtype of a list of Super.\r\n\r\nHowever mutability of a list is not the basic problem here. The problem is mutability in general. The problem is well known, and is called the Covariance Problem, it was first identified I think by Castagna, and it completely and utterly destroys object orientation as a general paradigm. It is based on previously established variance rules established by Cardelli and Reynolds.\r\n\r\nSomewhat oversimplifying, lets consider assignment of an object B of type T to an object A of type T as a mutation. This is without loss of generality: a mutation of A can be written A = f (A) where f: T -&gt; T. The problem, of course, is that whilst functions are covariant in their codomain, they&#39;re contravariant in their domain, but with assignments the domain and codomain are the same, so assignment is invariant!\r\n\r\nIt follows, generalising, that subtypes cannot be mutated. But with object orientation mutation is fundamental, hence object orientation is intrinsically flawed.\r\n\r\nHere&#39;s a simple example: in a purely functional setting a symmetric matrix is clearly a matrix, it is a subtype, no problem. Now lets add to matrix the ability to set a single element at coordinates (x,y) with the rule no other element changes. Now symmetric matrix is no longer a subtype, if you change (x,y) you have also changed (y,x). The functional operation is delta: Sym -&gt; Mat, if you change one element of a symmetric matrix you get a general non-symmetric matrix back. Therefore if you included a &quot;change one element&quot; method in Mat, Sym is not a subtype. In fact .. there are almost certainly NO proper subtypes.\r\n\r\nTo put all this in easier terms: if you have a general data type with a wide range of mutators which leverage its generality you can be certain any proper subtype cannot possibly support all those mutations: if it could, it would be just as general as the supertype, contrary to the specification of &quot;proper&quot; subtype.\r\n\r\nThe fact Java prevents subtyping mutable lists fails to address the real issue: why are you using object oriented rubbish like Java when it was discredited several decades ago?? \r\n\r\nIn any case there&#39;s a reasonable discussion here:\r\n\r\nhttps://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>The issue has been correctly identified as related to variance but the details are not correct. A purely functional list is a covariant data functor, which means if a type Sub is a subtype of Super, then a list of Sub is definitely a subtype of a list of Super.</p>\n<p>However mutability of a list is not the basic problem here. The problem is mutability in general. The problem is well known, and is called the Covariance Problem, it was first identified I think by Castagna, and it completely and utterly destroys object orientation as a general paradigm. It is based on previously established variance rules established by Cardelli and Reynolds.</p>\n<p>Somewhat oversimplifying, lets consider assignment of an object B of type T to an object A of type T as a mutation. This is without loss of generality: a mutation of A can be written A = f (A) where f: T -&gt; T. The problem, of course, is that whilst functions are covariant in their codomain, they're contravariant in their domain, but with assignments the domain and codomain are the same, so assignment is invariant!</p>\n<p>It follows, generalising, that subtypes cannot be mutated. But with object orientation mutation is fundamental, hence object orientation is intrinsically flawed.</p>\n<p>Here's a simple example: in a purely functional setting a symmetric matrix is clearly a matrix, it is a subtype, no problem. Now lets add to matrix the ability to set a single element at coordinates (x,y) with the rule no other element changes. Now symmetric matrix is no longer a subtype, if you change (x,y) you have also changed (y,x). The functional operation is delta: Sym -&gt; Mat, if you change one element of a symmetric matrix you get a general non-symmetric matrix back. Therefore if you included a &quot;change one element&quot; method in Mat, Sym is not a subtype. In fact .. there are almost certainly NO proper subtypes.</p>\n<p>To put all this in easier terms: if you have a general data type with a wide range of mutators which leverage its generality you can be certain any proper subtype cannot possibly support all those mutations: if it could, it would be just as general as the supertype, contrary to the specification of &quot;proper&quot; subtype.</p>\n<p>The fact Java prevents subtyping mutable lists fails to address the real issue: why are you using object oriented rubbish like Java when it was discredited several decades ago??</p>\n<p>In any case there's a reasonable discussion here:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)</a></p>\n"},{"tags":[],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607097162,"creation_date":1607096002,"answer_id":65146340,"question_id":2745265,"body_markdown":"I see that the question has already been answered a number of times, just want to put in my inputs on the same question.\r\n\r\nLets us go ahead and create a simplified Animal class hierarchy.\r\n\r\n```\r\nabstract class Animal {\r\n    void eat() {\r\n        System.out.println(&quot;animal eating&quot;);\r\n    }\r\n}\r\n\r\nclass Dog extends Animal {\r\n    void bark() { }\r\n}\r\n\r\nclass Cat extends Animal {\r\n    void meow() { }\r\n}\r\n```\r\nNow let us have a look at our old friend Arrays, which we know support polymorphism implicitly-\r\n\r\n```\r\nclass TestAnimals {\r\n    public static void main(String[] args) {\r\n        Animal[] animals = {new Dog(), new Cat(), new Dog()};\r\n        Dog[] dogs = {new Dog(), new Dog(), new Dog()};\r\n        takeAnimals(animals);\r\n        takeAnimals(dogs);\r\n    }\r\n\r\n    public void takeAnimals(Animal[] animals) {\r\n        for(Animal a : animals) {\r\n            System.out.println(a.eat());\r\n        }\r\n    }   \r\n}\r\n```\r\nThe class compiles fine and when we run the above class we get the output \r\n```\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\n```\r\nThe point to note here is that the takeAnimals() method is defined to take anything which is of type Animal, it can take an array of type Animal and it can take an array of Dog as well because Dog-is-a-Animal. So this is Polymorphism in action.\r\n\r\nLet us now use this same approach with generics,\r\n\r\nNow say we tweak our code a little bit and use ArrayLists instead of Arrays -\r\n```\r\nclass TestAnimals {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\r\n        animals.add(new Dog());\r\n        animals.add(new Cat());\r\n        animals.add(new Dog());\r\n        takeAnimals(animals);\r\n    }\r\n\r\n    public void takeAnimals(ArrayList&lt;Animal&gt; animals) {\r\n        for(Animal a : animals) {\r\n            System.out.println(a.eat());\r\n        }\r\n    }   \r\n}\r\n```\r\n\r\nThe class above will compile and will produce the output - \r\n```\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\nanimal eating\r\n```\r\nSo we know this works, now lets tweak this class a little bit to use Animal type polymorphically -\r\n```\r\nclass TestAnimals {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\r\n        animals.add(new Dog());\r\n        animals.add(new Cat());\r\n        animals.add(new Dog());\r\n\r\n        ArrayList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\r\n        takeAnimals(animals);\r\n        takeAnimals(dogs);\r\n    }\r\n\r\n    public void takeAnimals(ArrayList&lt;Animal&gt; animals) {\r\n        for(Animal a : animals) {\r\n            System.out.println(a.eat());\r\n        }\r\n    }   \r\n}\r\n```\r\n\r\nLooks like there should be no problem in compiling the above class as the takeAnimals() method is designed to take any ArrayList of type Animal and Dog-is-a-Animal so it should not be a deal breaker here.\r\n\r\nBut, unfortunately the compiler throws an error and doesn&#39;t allow us to pass a Dog ArrayList to a variable expecting Animal ArrayList. \r\n\r\nYou ask why?\r\n\r\nBecause just imagine, if JAVA were to allow the Dog ArrayList - dogs - to be put into the Animal ArrayList - animals - and then inside the takeAnimals() method somebody does something like - \r\n```\r\nanimals.add(new Cat());\r\n```\r\nthinking that this should be doable because ideally it is an Animal ArrayList and you should be in a position to add any cat to it as Cat-is-also-a-Animal, but in real you passed a Dog type ArrayList to it.\r\n\r\nSo, now you must be thinking the the same should have happened with the Arrays as well. You are right in thinking so.\r\n\r\nIf somebody tries to do the same thing with Arrays then Arrays are also going to throw an error but Arrays handle this error at runtime whereas ArrayLists handle this error at compile time.","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>I see that the question has already been answered a number of times, just want to put in my inputs on the same question.</p>\n<p>Lets us go ahead and create a simplified Animal class hierarchy.</p>\n<pre><code>abstract class Animal {\n    void eat() {\n        System.out.println(&quot;animal eating&quot;);\n    }\n}\n\nclass Dog extends Animal {\n    void bark() { }\n}\n\nclass Cat extends Animal {\n    void meow() { }\n}\n</code></pre>\n<p>Now let us have a look at our old friend Arrays, which we know support polymorphism implicitly-</p>\n<pre><code>class TestAnimals {\n    public static void main(String[] args) {\n        Animal[] animals = {new Dog(), new Cat(), new Dog()};\n        Dog[] dogs = {new Dog(), new Dog(), new Dog()};\n        takeAnimals(animals);\n        takeAnimals(dogs);\n    }\n\n    public void takeAnimals(Animal[] animals) {\n        for(Animal a : animals) {\n            System.out.println(a.eat());\n        }\n    }   \n}\n</code></pre>\n<p>The class compiles fine and when we run the above class we get the output</p>\n<pre><code>animal eating\nanimal eating\nanimal eating\nanimal eating\nanimal eating\nanimal eating\n</code></pre>\n<p>The point to note here is that the takeAnimals() method is defined to take anything which is of type Animal, it can take an array of type Animal and it can take an array of Dog as well because Dog-is-a-Animal. So this is Polymorphism in action.</p>\n<p>Let us now use this same approach with generics,</p>\n<p>Now say we tweak our code a little bit and use ArrayLists instead of Arrays -</p>\n<pre><code>class TestAnimals {\n    public static void main(String[] args) {\n        ArrayList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\n        animals.add(new Dog());\n        animals.add(new Cat());\n        animals.add(new Dog());\n        takeAnimals(animals);\n    }\n\n    public void takeAnimals(ArrayList&lt;Animal&gt; animals) {\n        for(Animal a : animals) {\n            System.out.println(a.eat());\n        }\n    }   \n}\n</code></pre>\n<p>The class above will compile and will produce the output -</p>\n<pre><code>animal eating\nanimal eating\nanimal eating\nanimal eating\nanimal eating\nanimal eating\n</code></pre>\n<p>So we know this works, now lets tweak this class a little bit to use Animal type polymorphically -</p>\n<pre><code>class TestAnimals {\n    public static void main(String[] args) {\n        ArrayList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\n        animals.add(new Dog());\n        animals.add(new Cat());\n        animals.add(new Dog());\n\n        ArrayList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\n        takeAnimals(animals);\n        takeAnimals(dogs);\n    }\n\n    public void takeAnimals(ArrayList&lt;Animal&gt; animals) {\n        for(Animal a : animals) {\n            System.out.println(a.eat());\n        }\n    }   \n}\n</code></pre>\n<p>Looks like there should be no problem in compiling the above class as the takeAnimals() method is designed to take any ArrayList of type Animal and Dog-is-a-Animal so it should not be a deal breaker here.</p>\n<p>But, unfortunately the compiler throws an error and doesn't allow us to pass a Dog ArrayList to a variable expecting Animal ArrayList.</p>\n<p>You ask why?</p>\n<p>Because just imagine, if JAVA were to allow the Dog ArrayList - dogs - to be put into the Animal ArrayList - animals - and then inside the takeAnimals() method somebody does something like -</p>\n<pre><code>animals.add(new Cat());\n</code></pre>\n<p>thinking that this should be doable because ideally it is an Animal ArrayList and you should be in a position to add any cat to it as Cat-is-also-a-Animal, but in real you passed a Dog type ArrayList to it.</p>\n<p>So, now you must be thinking the the same should have happened with the Arrays as well. You are right in thinking so.</p>\n<p>If somebody tries to do the same thing with Arrays then Arrays are also going to throw an error but Arrays handle this error at runtime whereas ArrayLists handle this error at compile time.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667476000,"creation_date":1652249415,"answer_id":72196150,"question_id":2745265,"body_markdown":"Others have done a decent job of explaining why you cannot just cast a list of descendant to list of superclass.\r\n\r\nHowever, many people visit this question looking for a solution.  \r\n\r\nSo, the solution to this problem since Java version 10 is as follows:\r\n\r\n(Note: S = superclass)\r\n\r\n    List&lt;S&gt; supers = List.copyOf( descendants );\r\n\r\nThis function will do a cast if it is perfectly safe to do so, or a copy if a cast would not be safe.\r\n\r\nFor an in-depth explanation (which takes into consideration the potential pitfalls mentioned by other answers here) see related question and my 2022 answer to it: https://stackoverflow.com/a/72195980/773113","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>Others have done a decent job of explaining why you cannot just cast a list of descendant to list of superclass.</p>\n<p>However, many people visit this question looking for a solution.</p>\n<p>So, the solution to this problem since Java version 10 is as follows:</p>\n<p>(Note: S = superclass)</p>\n<pre><code>List&lt;S&gt; supers = List.copyOf( descendants );\n</code></pre>\n<p>This function will do a cast if it is perfectly safe to do so, or a copy if a cast would not be safe.</p>\n<p>For an in-depth explanation (which takes into consideration the potential pitfalls mentioned by other answers here) see related question and my 2022 answer to it: <a href=\"https://stackoverflow.com/a/72195980/773113\">https://stackoverflow.com/a/72195980/773113</a></p>\n"}],"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138281,"favorite_count":0,"down_vote_count":2,"up_vote_count":902,"accepted_answer_id":2745301,"answer_count":19,"score":900,"last_activity_date":1667476000,"creation_date":1272638379,"question_id":2745265,"body_markdown":"I&#39;m a bit confused about how Java generics handle inheritance / polymorphism.\r\n\r\nAssume the following hierarchy -\r\n\r\n**Animal** (Parent)\r\n\r\n**Dog** - **Cat** (Children)\r\n\r\nSo suppose I have a method `doSomething(List&lt;Animal&gt; animals)`. By all the rules of inheritance and polymorphism, I would assume that a `List&lt;Dog&gt;` *is* a `List&lt;Animal&gt;` and a `List&lt;Cat&gt;` *is* a `List&lt;Animal&gt;` - and so either one could be passed to this method. Not so. If I want to achieve this behavior, I have to explicitly tell the method to accept a list of any subclass of Animal by saying `doSomething(List&lt;? extends Animal&gt; animals)`. \r\n\r\nI understand that this is Java&#39;s behavior. My question is *why*? Why is polymorphism generally implicit, but when it comes to generics it must be specified?\r\n","title":"Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?","body":"<p>I'm a bit confused about how Java generics handle inheritance / polymorphism.</p>\n\n<p>Assume the following hierarchy -</p>\n\n<p><strong>Animal</strong> (Parent)</p>\n\n<p><strong>Dog</strong> - <strong>Cat</strong> (Children)</p>\n\n<p>So suppose I have a method <code>doSomething(List&lt;Animal&gt; animals)</code>. By all the rules of inheritance and polymorphism, I would assume that a <code>List&lt;Dog&gt;</code> <em>is</em> a <code>List&lt;Animal&gt;</code> and a <code>List&lt;Cat&gt;</code> <em>is</em> a <code>List&lt;Animal&gt;</code> - and so either one could be passed to this method. Not so. If I want to achieve this behavior, I have to explicitly tell the method to accept a list of any subclass of Animal by saying <code>doSomething(List&lt;? extends Animal&gt; animals)</code>. </p>\n\n<p>I understand that this is Java's behavior. My question is <em>why</em>? Why is polymorphism generally implicit, but when it comes to generics it must be specified?</p>\n"},{"tags":["java","arrays","rest","cxf"],"answers":[{"tags":[],"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667475595,"creation_date":1667475595,"answer_id":74302465,"question_id":74294274,"body_markdown":"The problem was that OLP (in contrast to JBoss) used chunked transfer. The server that we called did not support that. Chunked transfer was now enabled on the other server, and now everything works.","title":"Apache CXF: sending a byte array","body":"<p>The problem was that OLP (in contrast to JBoss) used chunked transfer. The server that we called did not support that. Chunked transfer was now enabled on the other server, and now everything works.</p>\n"}],"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74302465,"answer_count":1,"score":0,"last_activity_date":1667475595,"creation_date":1667414835,"question_id":74294274,"body_markdown":"We are sending a byte array to a REST API we do not control.\r\nThe REST API requires the byte array to be sent as the body.\r\n\r\nThe code is as follows:\r\n\r\n        String path = &quot;/dokumente/angebote/{angebotsId}/unterlagen/{dokumentId}&quot;;\r\n        WebTarget target = createWebTarget().path(path).resolveTemplate(&quot;angebotsId&quot;, angebotsId).resolveTemplate(&quot;dokumentId&quot;, documentType);\r\n\r\n        try (ResponseHandler handler = new ResponseHandler(\r\n                target.request(document.getMimeType()).header(&quot;Content-Type&quot;, document.getMimeType())\r\n                        .post(Entity.entity(MY_BYTE_ARRAY))) {\r\n\r\n            Response response = handler.getResponse();\r\n\r\n        ...\r\n        }\r\n\r\nThis has worked well so far, we have been using JBoss and RestEasy. We have now migrated our application to OpenLiberty, which means that Apache CXF will be used as JAX-RS implementation. \r\n\r\nAnd since the migration, the implementation does not work anymore. We found out that if we use a wrapper class like that:\r\n\r\n     MyWrapper myByteArrayWrapper = new MyWrapper();\r\n     myByteArrayWrapper.setData(MY_BYTE_ARRAY)); \r\n     .post(Entity.entity(myByteArrayWrapper))\r\n\r\nthen Apache CXF will successfully transfer the byte array, but this does not comply to the API definition of the service we are calling.\r\n\r\nHas anybody succeeded in getting a byte[] upload running with Apache CXF?","title":"Apache CXF: sending a byte array","body":"<p>We are sending a byte array to a REST API we do not control.\nThe REST API requires the byte array to be sent as the body.</p>\n<p>The code is as follows:</p>\n<pre><code>    String path = &quot;/dokumente/angebote/{angebotsId}/unterlagen/{dokumentId}&quot;;\n    WebTarget target = createWebTarget().path(path).resolveTemplate(&quot;angebotsId&quot;, angebotsId).resolveTemplate(&quot;dokumentId&quot;, documentType);\n\n    try (ResponseHandler handler = new ResponseHandler(\n            target.request(document.getMimeType()).header(&quot;Content-Type&quot;, document.getMimeType())\n                    .post(Entity.entity(MY_BYTE_ARRAY))) {\n\n        Response response = handler.getResponse();\n\n    ...\n    }\n</code></pre>\n<p>This has worked well so far, we have been using JBoss and RestEasy. We have now migrated our application to OpenLiberty, which means that Apache CXF will be used as JAX-RS implementation.</p>\n<p>And since the migration, the implementation does not work anymore. We found out that if we use a wrapper class like that:</p>\n<pre><code> MyWrapper myByteArrayWrapper = new MyWrapper();\n myByteArrayWrapper.setData(MY_BYTE_ARRAY)); \n .post(Entity.entity(myByteArrayWrapper))\n</code></pre>\n<p>then Apache CXF will successfully transfer the byte array, but this does not comply to the API definition of the service we are calling.</p>\n<p>Has anybody succeeded in getting a byte[] upload running with Apache CXF?</p>\n"},{"tags":["java","gradle","jar"],"answers":[{"tags":[],"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667471614,"creation_date":1667471614,"answer_id":74301606,"question_id":74301378,"body_markdown":"Declare the dependencies with `api`, not `implementation`:\r\n\r\n\r\n---\r\n\r\nFrom https://stackoverflow.com/a/44493379/68086:\r\n\r\n&gt; From the [Gradle documentation](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation):\r\n&gt; \r\n&gt; &gt;     dependencies {\r\n&gt; &gt;         api &#39;commons-httpclient:commons-httpclient:3.1&#39;\r\n&gt; &gt;         implementation &#39;org.apache.commons:commons-lang3:3.5&#39;\r\n&gt; &gt;     }\r\n&gt; &gt;\r\n&gt; &gt; Dependencies appearing in the `api` configurations will be\r\n&gt; &gt; transitively exposed to consumers of the library, and as such will\r\n&gt; &gt; appear on the compile classpath of consumers.\r\n&gt; &gt;\r\n&gt; &gt; Dependencies found in the `implementation` configuration will, on the\r\n&gt; &gt; other hand, not be exposed to consumers, and therefore not leak into\r\n&gt; &gt; the consumers&#39; compile classpath. This comes with several benefits:\r\n&gt; &gt;\r\n&gt; &gt; - dependencies do not leak into the compile classpath of consumers anymore, so you will never accidentally depend on a transitive\r\n&gt; &gt; dependency\r\n&gt; &gt; - faster compilation thanks to reduced classpath size\r\n&gt; &gt; - less recompilations when implementation dependencies change: consumers would not need to be recompiled\r\n&gt; &gt; - cleaner publishing: when used in conjunction with the new maven-publish plugin, Java libraries produce POM files that\r\n&gt; &gt; distinguish exactly between what is required to compile against the\r\n&gt; &gt; library and what is required to use the library at runtime (in other\r\n&gt; &gt; words, don&#39;t mix what is needed to compile the library itself and what\r\n&gt; &gt; is needed to compile against the library).\r\n&gt; &gt;\r\n&gt; &gt;**The compile configuration still exists, but should not be used as it will not offer the guarantees that the `api` and `implementation`\r\n&gt; configurations provide.**\r\n","title":"Inheriting library dependencies on the dependent program","body":"<p>Declare the dependencies with <code>api</code>, not <code>implementation</code>:</p>\n<hr />\n<p>From <a href=\"https://stackoverflow.com/a/44493379/68086\">https://stackoverflow.com/a/44493379/68086</a>:</p>\n<blockquote>\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation\" rel=\"nofollow noreferrer\">Gradle documentation</a>:</p>\n<blockquote>\n<pre><code>dependencies {\n    api 'commons-httpclient:commons-httpclient:3.1'\n    implementation 'org.apache.commons:commons-lang3:3.5'\n}\n</code></pre>\n<p>Dependencies appearing in the <code>api</code> configurations will be\ntransitively exposed to consumers of the library, and as such will\nappear on the compile classpath of consumers.</p>\n<p>Dependencies found in the <code>implementation</code> configuration will, on the\nother hand, not be exposed to consumers, and therefore not leak into\nthe consumers' compile classpath. This comes with several benefits:</p>\n<ul>\n<li>dependencies do not leak into the compile classpath of consumers anymore, so you will never accidentally depend on a transitive\ndependency</li>\n<li>faster compilation thanks to reduced classpath size</li>\n<li>less recompilations when implementation dependencies change: consumers would not need to be recompiled</li>\n<li>cleaner publishing: when used in conjunction with the new maven-publish plugin, Java libraries produce POM files that\ndistinguish exactly between what is required to compile against the\nlibrary and what is required to use the library at runtime (in other\nwords, don't mix what is needed to compile the library itself and what\nis needed to compile against the library).</li>\n</ul>\n<p><strong>The compile configuration still exists, but should not be used as it will not offer the guarantees that the <code>api</code> and <code>implementation</code>\nconfigurations provide.</strong></p>\n</blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667475167,"creation_date":1667473068,"answer_id":74301960,"question_id":74301378,"body_markdown":"Add libA as a dependency for libB in the gradle file. Also add libB as a dependency in libC. Also set transitive to true in the gradle configuration of libC so it will fetch transitive dependent libraries. \r\n\r\nCheckout gradle official documention on [declaring dependencies][1] and [transitive dependencies ][2] .\r\n\r\n&gt; A variant of a component can have dependencies on other modules to\r\n&gt; work properly, so-called transitive dependencies. Releases of a module\r\n&gt; hosted on a repository can provide metadata to declare those\r\n&gt; transitive dependencies. By default, Gradle resolves transitive\r\n&gt; dependencies automatically.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_dependencies.html\r\n  [2]: https://docs.gradle.org/current/userguide/dependency_management_terminology.html#:~:text=a%20dependency%20directly.-,Transitive%20dependency,Gradle%20resolves%20transitive%20dependencies%20automatically.","title":"Inheriting library dependencies on the dependent program","body":"<p>Add libA as a dependency for libB in the gradle file. Also add libB as a dependency in libC. Also set transitive to true in the gradle configuration of libC so it will fetch transitive dependent libraries.</p>\n<p>Checkout gradle official documention on <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">declaring dependencies</a> and <a href=\"https://docs.gradle.org/current/userguide/dependency_management_terminology.html#:%7E:text=a%20dependency%20directly.-,Transitive%20dependency,Gradle%20resolves%20transitive%20dependencies%20automatically.\" rel=\"nofollow noreferrer\">transitive dependencies </a> .</p>\n<blockquote>\n<p>A variant of a component can have dependencies on other modules to\nwork properly, so-called transitive dependencies. Releases of a module\nhosted on a repository can provide metadata to declare those\ntransitive dependencies. By default, Gradle resolves transitive\ndependencies automatically.</p>\n</blockquote>\n"}],"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667475167,"creation_date":1667470708,"question_id":74301378,"body_markdown":"I have a library that provides implementation for processing some data and an abstract class that must be extended by the program that is using it to use the data processing stuff.\r\n\r\nThere is also another library, that depends on the first one and also implements the abstract class. I would like to make *both* of the libraries available to the program depending on the second one.\r\n\r\nExample:\r\n\r\n```\r\nlibA/  (no deps)\r\n  DataProcessor.java\r\n  AbstractDataSource.java\r\nlibB/  (depends on libA)\r\n  FilesystemDataSource.java\r\napp/   (depends on libB)\r\n  [here I want to access both DataProcessor and FilesystemDataSource]\r\n```\r\n\r\nI know that I can add both of the libraries as dependencies to the app, but it would be probably easier to maintain when there is not so many items in `build.gradle` files.","title":"Inheriting library dependencies on the dependent program","body":"<p>I have a library that provides implementation for processing some data and an abstract class that must be extended by the program that is using it to use the data processing stuff.</p>\n<p>There is also another library, that depends on the first one and also implements the abstract class. I would like to make <em>both</em> of the libraries available to the program depending on the second one.</p>\n<p>Example:</p>\n<pre><code>libA/  (no deps)\n  DataProcessor.java\n  AbstractDataSource.java\nlibB/  (depends on libA)\n  FilesystemDataSource.java\napp/   (depends on libB)\n  [here I want to access both DataProcessor and FilesystemDataSource]\n</code></pre>\n<p>I know that I can add both of the libraries as dependencies to the app, but it would be probably easier to maintain when there is not so many items in <code>build.gradle</code> files.</p>\n"},{"tags":["java","regex","swing","jtable","rowfilter"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1622406493,"post_id":67765282,"comment_id":119778574,"body_markdown":"You probably wanted to prefix the search string with `(?i)` (case insensitive match) - `(?!)` is a &quot;zero-width negative lookahead&quot; matching nothing.","body":"You probably wanted to prefix the search string with <code>(?i)</code> (case insensitive match) - <code>(?!)</code> is a &quot;zero-width negative lookahead&quot; matching nothing."},{"owner":{"account_id":10135306,"reputation":23,"user_id":7487092,"display_name":"dtomicic"},"score":0,"creation_date":1622406793,"post_id":67765282,"comment_id":119778648,"body_markdown":"I feel so stupid now hah, haven&#39;t even realized. Thanks for the solution.","body":"I feel so stupid now hah, haven&#39;t even realized. Thanks for the solution."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622409282,"creation_date":1622409282,"answer_id":67765879,"question_id":67765282,"body_markdown":"You probably wanted to prefix the search string with `(?i)` (case insensitive match).\r\n\r\n`(?!)` is a &quot;zero-width negative lookahead&quot; matching nothing which will never match if anything follows it.","title":"JTable RowFilter - case insensitive","body":"<p>You probably wanted to prefix the search string with <code>(?i)</code> (case insensitive match).</p>\n<p><code>(?!)</code> is a &quot;zero-width negative lookahead&quot; matching nothing which will never match if anything follows it.</p>\n"},{"tags":[],"owner":{"account_id":15175335,"reputation":21,"user_id":10950243,"display_name":"lawever xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667474962,"creation_date":1667474962,"answer_id":74302350,"question_id":67765282,"body_markdown":"try this\r\n```\r\n    public static RowFilter&lt;Object, Object&gt; getCaseInsensitiveRowFilter(String text, int... indexes) {\r\n        if (com.csii.cide.base.util.StringUtil.isBlank(text)) {\r\n            return null;\r\n        }\r\n        List&lt;RowFilter&lt;Object, Object&gt;&gt; filters = Lists.newArrayList();\r\n        filters.add(RowFilter.regexFilter(text.toUpperCase(), indexes));\r\n        filters.add(RowFilter.regexFilter(text.toLowerCase(), indexes));\r\n        return RowFilter.orFilter(filters);\r\n    }\r\n\r\n```","title":"JTable RowFilter - case insensitive","body":"<p>try this</p>\n<pre><code>    public static RowFilter&lt;Object, Object&gt; getCaseInsensitiveRowFilter(String text, int... indexes) {\n        if (com.csii.cide.base.util.StringUtil.isBlank(text)) {\n            return null;\n        }\n        List&lt;RowFilter&lt;Object, Object&gt;&gt; filters = Lists.newArrayList();\n        filters.add(RowFilter.regexFilter(text.toUpperCase(), indexes));\n        filters.add(RowFilter.regexFilter(text.toLowerCase(), indexes));\n        return RowFilter.orFilter(filters);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":10135306,"reputation":23,"user_id":7487092,"display_name":"dtomicic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67765879,"answer_count":2,"score":0,"last_activity_date":1667474962,"creation_date":1622404542,"question_id":67765282,"body_markdown":"I&#39;m having a problem with a `RowFilter`, I&#39;m trying to make it display data without it being case sensitive.\r\n\r\n    DefaultTableModel table=(DefaultTableModel)tablicaEv.getModel();\r\n    String search=jTextField1.getText();\r\n    TableRowSorter&lt;DefaultTableModel&gt; tr=new TableRowSorter&lt;&gt; (table);\r\n    tablicaEv.setRowSorter(tr);\r\n    tr.setRowFilter(RowFilter.regexFilter(search);\r\n\r\nI tried adding &quot;(?!)&quot; in the `RegexFilter` but that only makes my table not display any data at all when I try searching. What am I doing wrong?","title":"JTable RowFilter - case insensitive","body":"<p>I'm having a problem with a <code>RowFilter</code>, I'm trying to make it display data without it being case sensitive.</p>\n<pre><code>DefaultTableModel table=(DefaultTableModel)tablicaEv.getModel();\nString search=jTextField1.getText();\nTableRowSorter&lt;DefaultTableModel&gt; tr=new TableRowSorter&lt;&gt; (table);\ntablicaEv.setRowSorter(tr);\ntr.setRowFilter(RowFilter.regexFilter(search);\n</code></pre>\n<p>I tried adding &quot;(?!)&quot; in the <code>RegexFilter</code> but that only makes my table not display any data at all when I try searching. What am I doing wrong?</p>\n"},{"tags":["java","com","jacob","ptv-vissim"],"answers":[{"tags":[],"owner":{"account_id":7581461,"reputation":31,"user_id":5752045,"display_name":"Nino Korent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453386744,"creation_date":1453386744,"answer_id":34926504,"question_id":34633315,"body_markdown":"For anyone who might find himself in the same pickle, here&#39;s the answer to my question.\r\n\r\nAfter days of investigating I found out that the student and demo versions of VISSIM do not have COM interface support. Thus, nothing can be done with those versions.\r\n\r\nIf you need COM interface you can ask for it directly from PTV or use the commercial liscenced version. I tried with commercial liscence on my faculty PC and the thing works.\r\n\r\nSo there it is. :) Hope it helps someone.","title":"Jacob Error: Can&#39;t get object clsid from progid","body":"<p>For anyone who might find himself in the same pickle, here's the answer to my question.</p>\n\n<p>After days of investigating I found out that the student and demo versions of VISSIM do not have COM interface support. Thus, nothing can be done with those versions.</p>\n\n<p>If you need COM interface you can ask for it directly from PTV or use the commercial liscenced version. I tried with commercial liscence on my faculty PC and the thing works.</p>\n\n<p>So there it is. :) Hope it helps someone.</p>\n"}],"owner":{"account_id":7581461,"reputation":31,"user_id":5752045,"display_name":"Nino Korent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34926504,"answer_count":1,"score":1,"last_activity_date":1667474869,"creation_date":1452083760,"question_id":34633315,"body_markdown":"I&#39;m trying to run Vissim 8 (student version) using java and to do that I&#39;m using jacob.\r\nNow I&#39;m not sure what I&#39;m doing wrong because I&#39;m new to jacob.\r\nThis is the code I&#39;m trying to run:\r\n\r\n    import com.jacob.activeX.ActiveXComponent;\r\n    import com.jacob.com.Variant;\r\n\r\n    public class test {\r\n\t public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tActiveXComponent vis = new ActiveXComponent(&quot;Vissim.Vissim&quot;); \r\n\t    vis.setProperty(&quot;Visible&quot;, new Variant(true));\r\n\t }\r\n\r\n    }\r\n\r\nThis is the error I get:\r\n\r\n    Exception in thread &quot;main&quot; com.jacob.com.ComFailException: \r\n    Can&#39;t get object clsid from progid\r\n\tat com.jacob.com.Dispatch.createInstanceNative(Native Method)\r\n\tat com.jacob.com.Dispatch.&lt;init&gt;(Dispatch.java:99)\r\n\tat com.jacob.activeX.ActiveXComponent.&lt;init&gt;(ActiveXComponent.java:58)\r\n\tat test.main(test.java:8)\r\n\r\nIt looks like it can&#39;t find the installed program on registry (like it&#39;s not installed or registered). I tried reinstalling and this did not fix the issue and I&#39;m not sure what to do next and how can I force register VISSIM to my reg.\r\n\r\nI&#39;m in dire need of help. :/ ","title":"Jacob Error: Can&#39;t get object clsid from progid","body":"<p>I'm trying to run Vissim 8 (student version) using java and to do that I'm using jacob.\nNow I'm not sure what I'm doing wrong because I'm new to jacob.\nThis is the code I'm trying to run:</p>\n\n<pre><code>import com.jacob.activeX.ActiveXComponent;\nimport com.jacob.com.Variant;\n\npublic class test {\n public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ActiveXComponent vis = new ActiveXComponent(\"Vissim.Vissim\"); \n    vis.setProperty(\"Visible\", new Variant(true));\n }\n\n}\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>Exception in thread \"main\" com.jacob.com.ComFailException: \nCan't get object clsid from progid\nat com.jacob.com.Dispatch.createInstanceNative(Native Method)\nat com.jacob.com.Dispatch.&lt;init&gt;(Dispatch.java:99)\nat com.jacob.activeX.ActiveXComponent.&lt;init&gt;(ActiveXComponent.java:58)\nat test.main(test.java:8)\n</code></pre>\n\n<p>It looks like it can't find the installed program on registry (like it's not installed or registered). I tried reinstalling and this did not fix the issue and I'm not sure what to do next and how can I force register VISSIM to my reg.</p>\n\n<p>I'm in dire need of help. :/ </p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1366050494,"post_id":16022117,"comment_id":22853691,"body_markdown":"You have a misconception of how `jsp`s work and how they **should** be used. Take a look at the wiki for both [`jsp`](http://stackoverflow.com/tags/jsp/info) and [`servlets`](http://stackoverflow.com/tags/servlets/info)","body":"You have a misconception of how <code>jsp</code>s work and how they <b>should</b> be used. Take a look at the wiki for both <a href=\"http://stackoverflow.com/tags/jsp/info\"><code>jsp</code></a> and <a href=\"http://stackoverflow.com/tags/servlets/info\"><code>servlets</code></a>"},{"owner":{"account_id":1220006,"reputation":1472,"user_id":1186817,"accept_rate":79,"display_name":"Ravi Jain"},"score":1,"creation_date":1366050704,"post_id":16022117,"comment_id":22853788,"body_markdown":"How come a main method in a web application!","body":"How come a main method in a web application!"}],"answers":[{"tags":[],"owner":{"account_id":1024679,"reputation":109,"user_id":1034258,"display_name":"elopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366073223,"creation_date":1366050527,"answer_id":16022253,"question_id":16022117,"body_markdown":"You can use `&lt;form&gt;` tags and `&lt;input type=&#39;hidden&#39;&gt;` with an `&lt;input type=&#39;submit&#39;&gt;` button, in the form you will specify the method to send and to where send the data.\r\n\r\nOr you can store in POJOs and store in session and recover it with a servlet.\r\n\r\nOr use Ajax with an XmlHttpRequest.","title":"Passing a variable from JSP to Java","body":"<p>You can use <code>&lt;form&gt;</code> tags and <code>&lt;input type='hidden'&gt;</code> with an <code>&lt;input type='submit'&gt;</code> button, in the form you will specify the method to send and to where send the data.</p>\n\n<p>Or you can store in POJOs and store in session and recover it with a servlet.</p>\n\n<p>Or use Ajax with an XmlHttpRequest.</p>\n"},{"tags":[],"owner":{"account_id":49695,"reputation":620,"user_id":148088,"accept_rate":50,"display_name":"Fernando M. Pinheiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366072548,"creation_date":1366050692,"answer_id":16022299,"question_id":16022117,"body_markdown":"You are not calling the `main` method. In your JSP you are calling only the static `getSequence` that, by the way, only returns the value.\r\n\r\nI think you have a project concept problem: why your web (JSP) app has a main class?\r\n\r\nI think you should adapt:\r\n\r\nStart.jsp:\r\n\r\n    &lt;%@ page import=&quot;org.dypbbi.nirmiti.ProtModMain %&gt; \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n            &lt;title&gt;NIRMITI&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Please wait...&lt;/h1&gt;\r\n            &lt;%\r\n            String seq=request.getParameter(&quot;s&quot;);\r\n            ProtModMain protModMain = new ProtModMain();\r\n            ObjectFactory myFactory = protModMain.createFactory(seq);\r\n            //do whatever you want with your factory ;)\r\n            %&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nProtModMain.java:\r\n\r\n    package org.dypbbi.nirmiti;\r\n    public class ProtModMain {\r\n    \r\n        public ObjectFactory createFactory(final String sequence) {\r\n            return new ObjectFactory(sequence);\r\n        }\r\n    }\r\n\r\nThis way you will be calling the methods you intended to.","title":"Passing a variable from JSP to Java","body":"<p>You are not calling the <code>main</code> method. In your JSP you are calling only the static <code>getSequence</code> that, by the way, only returns the value.</p>\n\n<p>I think you have a project concept problem: why your web (JSP) app has a main class?</p>\n\n<p>I think you should adapt:</p>\n\n<p>Start.jsp:</p>\n\n<pre><code>&lt;%@ page import=\"org.dypbbi.nirmiti.ProtModMain %&gt; \n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n        &lt;title&gt;NIRMITI&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Please wait...&lt;/h1&gt;\n        &lt;%\n        String seq=request.getParameter(\"s\");\n        ProtModMain protModMain = new ProtModMain();\n        ObjectFactory myFactory = protModMain.createFactory(seq);\n        //do whatever you want with your factory ;)\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>ProtModMain.java:</p>\n\n<pre><code>package org.dypbbi.nirmiti;\npublic class ProtModMain {\n\n    public ObjectFactory createFactory(final String sequence) {\n        return new ObjectFactory(sequence);\n    }\n}\n</code></pre>\n\n<p>This way you will be calling the methods you intended to.</p>\n"},{"tags":[],"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667474861,"creation_date":1366200299,"answer_id":16059521,"question_id":16022117,"body_markdown":"You need to set the parameter to the request using **_`request.setAttribute(&quot;&lt;name&gt;&quot;,&lt;value&gt;)`_**. Then you can get it in the Java file using **_`request.getAttribute(&quot;&lt;name&gt;&quot;)`_**.\r\n\r\nReference - Oracle Docs - [HttpServletRequest](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html)","title":"Passing a variable from JSP to Java","body":"<p>You need to set the parameter to the request using <strong><em><code>request.setAttribute(&quot;&lt;name&gt;&quot;,&lt;value&gt;)</code></em></strong>. Then you can get it in the Java file using <strong><em><code>request.getAttribute(&quot;&lt;name&gt;&quot;)</code></em></strong>.</p>\n<p>Reference - Oracle Docs - <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html\" rel=\"nofollow noreferrer\">HttpServletRequest</a></p>\n"}],"owner":{"account_id":1366706,"reputation":31,"user_id":1302991,"accept_rate":30,"display_name":"kuks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667474861,"creation_date":1366050045,"question_id":16022117,"body_markdown":"I am trying to pass a string variable called `seq` from a [JSP][1] to a Java program, and pass it on to the another Java program by passing the string as an argument to its object. I am somehow getting stuck.\r\n\r\n**Start.jsp:**\r\n\r\n    &lt;%@ page import=&quot;org.dypbbi.nirmiti.ProtModMain %&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n            &lt;title&gt;NIRMITI&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Please wait...&lt;/h1&gt;\r\n            &lt;%\r\n                String seq=request.getParameter(&quot;s&quot;);\r\n                ProtModMain.getSequence(seq);\r\n            %&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n**ProtModMain.java:**\r\n\r\n    package org.dypbbi.nirmiti;\r\n    public class ProtModMain {\r\n        String sequence=&quot;&quot;;\r\n\r\n        public static String getSequence(String str)\r\n        {\r\n            return str;\r\n        }\r\n\r\n\r\n        public static void main(String args[])throws Exception\r\n        {\r\n          ProtModMain MainObj = new ProtModMain();\r\n          sequence = MainObj.getSequence();\r\n          new ObjectFactory(sequence);\r\n        }\r\n    }\r\n\r\nStart.jsp will retrieve the string value from the [HTML][2]. It passes the string to `ProtModMain` class via the method `getSequence`. I now need to use the string value to pass it to other classes that require it, so I intend to pass it a parameter to the `ObjectFactory` object. But before that, I need to call the `getSequence` method in the `ProtModMain` class so that I can pass the value. I am not understanding how to call the `getSequence` method in the main method of `ProtModMain` class.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaServer_Pages\r\n  [2]: http://en.wikipedia.org/wiki/HTML\r\n","title":"Passing a variable from JSP to Java","body":"<p>I am trying to pass a string variable called <code>seq</code> from a <a href=\"http://en.wikipedia.org/wiki/JavaServer_Pages\" rel=\"nofollow\">JSP</a> to a Java program, and pass it on to the another Java program by passing the string as an argument to its object. I am somehow getting stuck.</p>\n\n<p><strong>Start.jsp:</strong></p>\n\n<pre><code>&lt;%@ page import=\"org.dypbbi.nirmiti.ProtModMain %&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n        &lt;title&gt;NIRMITI&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Please wait...&lt;/h1&gt;\n        &lt;%\n            String seq=request.getParameter(\"s\");\n            ProtModMain.getSequence(seq);\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>ProtModMain.java:</strong></p>\n\n<pre><code>package org.dypbbi.nirmiti;\npublic class ProtModMain {\n    String sequence=\"\";\n\n    public static String getSequence(String str)\n    {\n        return str;\n    }\n\n\n    public static void main(String args[])throws Exception\n    {\n      ProtModMain MainObj = new ProtModMain();\n      sequence = MainObj.getSequence();\n      new ObjectFactory(sequence);\n    }\n}\n</code></pre>\n\n<p>Start.jsp will retrieve the string value from the <a href=\"http://en.wikipedia.org/wiki/HTML\" rel=\"nofollow\">HTML</a>. It passes the string to <code>ProtModMain</code> class via the method <code>getSequence</code>. I now need to use the string value to pass it to other classes that require it, so I intend to pass it a parameter to the <code>ObjectFactory</code> object. But before that, I need to call the <code>getSequence</code> method in the <code>ProtModMain</code> class so that I can pass the value. I am not understanding how to call the <code>getSequence</code> method in the main method of <code>ProtModMain</code> class.</p>\n"},{"tags":["java","hibernate","jpa","concurrency","transactions"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1428788929,"post_id":29574630,"comment_id":47314984,"body_markdown":"This is *exactly* the situation standard transaction management is intended to handle.","body":"This is <i>exactly</i> the situation standard transaction management is intended to handle."},{"owner":{"account_id":1570422,"reputation":267,"user_id":1458226,"accept_rate":75,"display_name":"CodeBender"},"score":0,"creation_date":1428818367,"post_id":29574630,"comment_id":47320778,"body_markdown":"Is standard transaction enough to handle the problem? I thought I needed to apply lock. =)","body":"Is standard transaction enough to handle the problem? I thought I needed to apply lock. =)"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1667474642,"creation_date":1428788344,"answer_id":29583372,"question_id":29574630,"body_markdown":"You can also use [optimistic locking][1] and prevent possible [lost updates][2].\r\n\r\nWith optimistic locking, if two users have loaded the same entity with a quantity of `1`, and one user has just made a purchase and decremented the quantity counter, then the second user won&#39;t be able to UPDATE the product entity since his `Product` version doesn&#39;t match the one that was found in the database at the moment when the entity was read.\r\n\r\nIf the entity `version` changes, then the `UPDATE` statement that tries to match the old `version` will return a `0` when the `executeUpdate` method of the `PreparedStatement` is called. That&#39;s when Hibernate will detect the stale state situation and throw an `OptimisticLockException`.\r\n\r\nThe Spring `TransactionInterceptor` will catch the `OptimisticLockException`, and the associated transaction will be rolled back.\r\n\r\nThe optimistic locking approach scales better than pessimistic locking, and it also works on multi-request logical transactions.\r\n\r\n\r\n  [1]: http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\r\n  [2]: http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/","title":"How to avoid race conditions on product sales with JPA and Hibernate","body":"<p>You can also use <a href=\"http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\" rel=\"nofollow noreferrer\">optimistic locking</a> and prevent possible <a href=\"http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/\" rel=\"nofollow noreferrer\">lost updates</a>.</p>\n<p>With optimistic locking, if two users have loaded the same entity with a quantity of <code>1</code>, and one user has just made a purchase and decremented the quantity counter, then the second user won't be able to UPDATE the product entity since his <code>Product</code> version doesn't match the one that was found in the database at the moment when the entity was read.</p>\n<p>If the entity <code>version</code> changes, then the <code>UPDATE</code> statement that tries to match the old <code>version</code> will return a <code>0</code> when the <code>executeUpdate</code> method of the <code>PreparedStatement</code> is called. That's when Hibernate will detect the stale state situation and throw an <code>OptimisticLockException</code>.</p>\n<p>The Spring <code>TransactionInterceptor</code> will catch the <code>OptimisticLockException</code>, and the associated transaction will be rolled back.</p>\n<p>The optimistic locking approach scales better than pessimistic locking, and it also works on multi-request logical transactions.</p>\n"}],"owner":{"account_id":1570422,"reputation":267,"user_id":1458226,"accept_rate":75,"display_name":"CodeBender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29583372,"answer_count":1,"score":2,"last_activity_date":1667474642,"creation_date":1428731903,"question_id":29574630,"body_markdown":"I am using Java Spring Framework and Hibernate. I am doing a e-commerce web application where public user is able to purchase product from the web app. Each product will have a quantity count. \r\n\r\n**Issue**\r\n\r\nI want to prevent the scenario where two concurrent users purchase the same product is left with quantity value 1. In this case, only the first user should get to purchase the product while the second user should receive a &quot;no stock available&quot; message.\r\n\r\n**Workflow**\r\n\r\nI intend to decrement the quantity count and then send the purchase information to the payment gateway. If payment gateway encounters payment issue, I will increment the quantity count. The lock will be released before purchase info is sent to payment gateway.\r\n\r\nSo my question is, \r\n\r\n1) I would like to confirm [this answer][1] on pessimistic locking does help solves my issue.\r\n\r\n2) Is my workflow ok? Is there a better way to do this?\r\n\r\n  [1]: https://stackoverflow.com/questions/16159396/how-to-enable-lockmodetype-pessimistic-write-when-looking-up-entities-with-sprin","title":"How to avoid race conditions on product sales with JPA and Hibernate","body":"<p>I am using Java Spring Framework and Hibernate. I am doing a e-commerce web application where public user is able to purchase product from the web app. Each product will have a quantity count. </p>\n\n<p><strong>Issue</strong></p>\n\n<p>I want to prevent the scenario where two concurrent users purchase the same product is left with quantity value 1. In this case, only the first user should get to purchase the product while the second user should receive a \"no stock available\" message.</p>\n\n<p><strong>Workflow</strong></p>\n\n<p>I intend to decrement the quantity count and then send the purchase information to the payment gateway. If payment gateway encounters payment issue, I will increment the quantity count. The lock will be released before purchase info is sent to payment gateway.</p>\n\n<p>So my question is, </p>\n\n<p>1) I would like to confirm <a href=\"https://stackoverflow.com/questions/16159396/how-to-enable-lockmodetype-pessimistic-write-when-looking-up-entities-with-sprin\">this answer</a> on pessimistic locking does help solves my issue.</p>\n\n<p>2) Is my workflow ok? Is there a better way to do this?</p>\n"},{"tags":["java","mysql","servlets"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1667473962,"post_id":74302026,"comment_id":131177429,"body_markdown":"Can you provide more information, like the relevant part of your code and reproduction steps?","body":"Can you provide more information, like the relevant part of your code and reproduction steps?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667474277,"post_id":74302026,"comment_id":131177505,"body_markdown":"Do you close everything (Connection/PreparedStatement/ResultSet)? Open things is general the problem for intermittent failures.","body":"Do you close everything (Connection/PreparedStatement/ResultSet)? Open things is general the problem for intermittent failures."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1667482077,"post_id":74302026,"comment_id":131180309,"body_markdown":"Please show your code and describe what debug steps you took to isolate the error.","body":"Please show your code and describe what debug steps you took to isolate the error."},{"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"score":0,"creation_date":1667824374,"post_id":74302026,"comment_id":131252340,"body_markdown":"We had 2 pages, on 1st page submit data stored in db and then retrieve id and pass it to jsp and then on submit of that jsp id is sent to controller and then we are retrieveing data from that id. in latter part of code we generate new id if that id don&#39;t found and delete previous id. We had print logs just after  data gets stored in db by retrieveing it and in 2nd jsp we also retrieved the data by id but onsubmit when it reaches controller it is not able to retrieve data by id. then next time after some validation when delete method gets called we retrieved the data by idand it gets retrieved.","body":"We had 2 pages, on 1st page submit data stored in db and then retrieve id and pass it to jsp and then on submit of that jsp id is sent to controller and then we are retrieveing data from that id. in latter part of code we generate new id if that id don&#39;t found and delete previous id. We had print logs just after  data gets stored in db by retrieveing it and in 2nd jsp we also retrieved the data by id but onsubmit when it reaches controller it is not able to retrieve data by id. then next time after some validation when delete method gets called we retrieved the data by idand it gets retrieved."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1667827628,"post_id":74302026,"comment_id":131253533,"body_markdown":"I don&#39;t see how we can help here with only your description and no code. Try to debug your code and if this is not possible because the bug is not reproducible you can only add extensive logging and check the relevant parts of your code for possible bugs like forgotten transaction commits, unclosed files, unlogged exceptions etc.","body":"I don&#39;t see how we can help here with only your description and no code. Try to debug your code and if this is not possible because the bug is not reproducible you can only add extensive logging and check the relevant parts of your code for possible bugs like forgotten transaction commits, unclosed files, unlogged exceptions etc."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1667827857,"post_id":74302026,"comment_id":131253619,"body_markdown":"If the error comes only sporadic maybe it is a concurrency issue. E.g. all access to objects stored in the servlet session should be threadsafe. But this is only guessing.","body":"If the error comes only sporadic maybe it is a concurrency issue. E.g. all access to objects stored in the servlet session should be threadsafe. But this is only guessing."},{"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"score":0,"creation_date":1667992659,"post_id":74302026,"comment_id":131298550,"body_markdown":"I have checked all statements and connections and resultsets are closed. But I don&#39;t understand threadsafe servlet session if something relates to that is faulty then we should not retrieve id or other user order id. But that is not the case.","body":"I have checked all statements and connections and resultsets are closed. But I don&#39;t understand threadsafe servlet session if something relates to that is faulty then we should not retrieve id or other user order id. But that is not the case."}],"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667473851,"creation_date":1667473300,"question_id":74302026,"body_markdown":"I have a wierd problem in an application. I pass an id of table row from jsp to servlet. On jsp load I tried to fetch data by id and print in log file. It is getting printed. \r\n\r\nBut when on submit I pass that id to controller and try to fetch same data with passed id it is not finding anything and returning null. data exists in database I have queried the database and found the data. We are using mysql version 5.6.51. \r\n\r\nAnd this issue is intermitent. Some time only this occurs most of the time it is able to retrieve data from database in controller.Thank you in advance.\r\n","title":"Data is not getting fetched by id in controller but it is getting fetched in jsp that calls controller","body":"<p>I have a wierd problem in an application. I pass an id of table row from jsp to servlet. On jsp load I tried to fetch data by id and print in log file. It is getting printed.</p>\n<p>But when on submit I pass that id to controller and try to fetch same data with passed id it is not finding anything and returning null. data exists in database I have queried the database and found the data. We are using mysql version 5.6.51.</p>\n<p>And this issue is intermitent. Some time only this occurs most of the time it is able to retrieve data from database in controller.Thank you in advance.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667462655,"post_id":74299663,"comment_id":131173487,"body_markdown":"What did you have configured in the preferences _Java &gt; Installed JREs_? Pointing the Eclipse Installer to a Java installed on your system instead of using Java as part of Eclipse is not recommended and independent of the Java(s) you want to use in your projects.","body":"What did you have configured in the preferences <i>Java &gt; Installed JREs</i>? Pointing the Eclipse Installer to a Java installed on your system instead of using Java as part of Eclipse is not recommended and independent of the Java(s) you want to use in your projects."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1667462656,"post_id":74299663,"comment_id":131173488,"body_markdown":"2 points to check - Check installed JREs, make sure the paths are correct, Check your project JRE lib definition in buildpath, if its same or different.","body":"2 points to check - Check installed JREs, make sure the paths are correct, Check your project JRE lib definition in buildpath, if its same or different."},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1667470075,"post_id":74299663,"comment_id":131175999,"body_markdown":"Added &quot;Installed JREs&quot;. The Run Configuration is Pointing to the configured jdk17.","body":"Added &quot;Installed JREs&quot;. The Run Configuration is Pointing to the configured jdk17."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667470947,"post_id":74299663,"comment_id":131176316,"body_markdown":"That looks OK, it is not at all clear where &quot;openjdk17&quot; is coming from - does that nanme occur on any of the tabs of the run configuration (or anywhere else!)","body":"That looks OK, it is not at all clear where &quot;openjdk17&quot; is coming from - does that nanme occur on any of the tabs of the run configuration (or anywhere else!)"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1667473671,"post_id":74299663,"comment_id":131177324,"body_markdown":"Added the Link to open JDK.","body":"Added the Link to open JDK."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1667474009,"post_id":74299663,"comment_id":131177446,"body_markdown":"I&#39;m not asking where you downloaded it from, I am wondering where the launch is finding the string &quot;openjdk17&quot; as it doesn&#39;t appear in anything you have shown us.","body":"I&#39;m not asking where you downloaded it from, I am wondering where the launch is finding the string &quot;openjdk17&quot; as it doesn&#39;t appear in anything you have shown us."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667475715,"post_id":74299663,"comment_id":131177931,"body_markdown":"What greg-449 says. Better choose an _Execution environment_ instead of a specific _Runtime JRE_ (using a specific _Runtime JRE_ makes only sense when having more than one JRE for that Java version).","body":"What greg-449 says. Better choose an <i>Execution environment</i> instead of a specific <i>Runtime JRE</i> (using a specific <i>Runtime JRE</i> makes only sense when having more than one JRE for that Java version)."},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1667487141,"post_id":74299663,"comment_id":131182440,"body_markdown":"This &quot;openjdk17&quot; was part of the launch configuration file but not visible in the GUI. Changing it to jdk17 solved the problem.","body":"This &quot;openjdk17&quot; was part of the launch configuration file but not visible in the GUI. Changing it to jdk17 solved the problem."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667495604,"post_id":74299663,"comment_id":131185872,"body_markdown":"With _Execution environment_ (which is the default) instead of a specific _Runtime JRE_ you would not have such an issue (again).","body":"With <i>Execution environment</i> (which is the default) instead of a specific <i>Runtime JRE</i> you would not have such an issue (again)."}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667473647,"creation_date":1667462147,"question_id":74299663,"body_markdown":"I&#39;m having dificulties to start an RCP Application in Eclipse (2022-09).\r\n\r\nI pointed the installer to my open JDK installation (https://jdk.java.net/java-se-ri/17) at C:\\software\\jdk-17. I&#39;m using this JDK for maven, java on the command line an also for IntelliJ without any problems.\r\n\r\nAlso Eclipse can import and compile my RCP Application consisting of ~20 Pluginsand without problems. No red dots, everything fine.\r\n\r\nBut as soon I&#39;m starting my RCP application, I get a &quot;Cannot locate JRE definition: &quot;openjdk17&quot;. Launch aborted.&quot; error.\r\n\r\nThis is my configuration:\r\n[![enter image description here][1]][1]\r\n\r\nAny ideas what&#39;s missing?\r\n\r\n**Edit**: Requested &quot;Installed JREs&quot;\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ielU7.png\r\n  [2]: https://i.stack.imgur.com/yDOyR.png","title":"Eclipse is not accepting openjdk as JRE","body":"<p>I'm having dificulties to start an RCP Application in Eclipse (2022-09).</p>\n<p>I pointed the installer to my open JDK installation (<a href=\"https://jdk.java.net/java-se-ri/17\" rel=\"nofollow noreferrer\">https://jdk.java.net/java-se-ri/17</a>) at C:\\software\\jdk-17. I'm using this JDK for maven, java on the command line an also for IntelliJ without any problems.</p>\n<p>Also Eclipse can import and compile my RCP Application consisting of ~20 Pluginsand without problems. No red dots, everything fine.</p>\n<p>But as soon I'm starting my RCP application, I get a &quot;Cannot locate JRE definition: &quot;openjdk17&quot;. Launch aborted.&quot; error.</p>\n<p>This is my configuration:\n<a href=\"https://i.stack.imgur.com/ielU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ielU7.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas what's missing?</p>\n<p><strong>Edit</strong>: Requested &quot;Installed JREs&quot;\n<a href=\"https://i.stack.imgur.com/yDOyR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDOyR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1667300380,"post_id":74267714,"comment_id":131130806,"body_markdown":"This should help: https://thorben-janssen.com/fetching-dtos-with-to-many-association/","body":"This should help: <a href=\"https://thorben-janssen.com/fetching-dtos-with-to-many-association/\" rel=\"nofollow noreferrer\">thorben-janssen.com/fetching-dtos-with-to-many-association</a>"},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1667473100,"post_id":74267714,"comment_id":131177120,"body_markdown":"Thanks for the suggestion. But I&#39;m trying to keep the queries inside the JPA repository and I didn&#39;t find how to use transpormer this way.","body":"Thanks for the suggestion. But I&#39;m trying to keep the queries inside the JPA repository and I didn&#39;t find how to use transpormer this way."}],"answers":[{"tags":[],"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667473342,"creation_date":1667473342,"answer_id":74302038,"question_id":74267714,"body_markdown":"I&#39; managed to solve by return the result as **Tuple** (withou collect). And then mapping using grouping (Java/Parallel Stream).\r\n\r\nThe mapping cost a lot of CPU, but It&#39;s better than it was. \r\n\r\nWith my amount of test data: It was taking 13 seconds and now 1.\r\n","title":"JPQL/JPA Collect alternative","body":"<p>I' managed to solve by return the result as <strong>Tuple</strong> (withou collect). And then mapping using grouping (Java/Parallel Stream).</p>\n<p>The mapping cost a lot of CPU, but It's better than it was.</p>\n<p>With my amount of test data: It was taking 13 seconds and now 1.</p>\n"}],"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74302038,"answer_count":1,"score":0,"last_activity_date":1667473342,"creation_date":1667241071,"question_id":74267714,"body_markdown":"I&#39;m using projection to query some data and mapping the result.\r\n\r\nBut, the resulting query extract a lot of data/columns I don&#39;t need and then the framework convert it.\r\n\r\nThat is costing a lot of performance and this &quot;mapping&quot; process is taking about 5 minutes.\r\n\r\nI&#39;m looking for alternatives and if stop using projection and use a DTO constructos, this 5 minutes becomes 200ms.\r\n\r\nBut, one of the fields I need is a primary key of a child entity.\r\n\r\nIs there any alternative for the collect from (ORACLE) for JPQL?\r\n\r\nSomething like (the code bellow is incomplete, just to explain what I need, you can infer that, right?):\r\n\r\n```\r\nselect new dto(id, name, collect(child.id)) from.... group by id, name\r\n```\r\n\r\nresulting in collection of the class\r\n```\r\nclass dto (\r\n   String id,\r\n   String name,\r\n   Collection&lt;String&gt; childIds\r\n)\r\n```","title":"JPQL/JPA Collect alternative","body":"<p>I'm using projection to query some data and mapping the result.</p>\n<p>But, the resulting query extract a lot of data/columns I don't need and then the framework convert it.</p>\n<p>That is costing a lot of performance and this &quot;mapping&quot; process is taking about 5 minutes.</p>\n<p>I'm looking for alternatives and if stop using projection and use a DTO constructos, this 5 minutes becomes 200ms.</p>\n<p>But, one of the fields I need is a primary key of a child entity.</p>\n<p>Is there any alternative for the collect from (ORACLE) for JPQL?</p>\n<p>Something like (the code bellow is incomplete, just to explain what I need, you can infer that, right?):</p>\n<pre><code>select new dto(id, name, collect(child.id)) from.... group by id, name\n</code></pre>\n<p>resulting in collection of the class</p>\n<pre><code>class dto (\n   String id,\n   String name,\n   Collection&lt;String&gt; childIds\n)\n</code></pre>\n"},{"tags":["java","spring-boot","gremlin","amazon-neptune"],"comments":[{"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"score":1,"creation_date":1667396831,"post_id":74289255,"comment_id":131157061,"body_markdown":"Why not just `valueMap()` or `elementMap()` and return a map (or list of maps) that you could then map to your custom Objects?","body":"Why not just <code>valueMap()</code> or <code>elementMap()</code> and return a map (or list of maps) that you could then map to your custom Objects?"},{"owner":{"account_id":559023,"reputation":358,"user_id":921394,"accept_rate":71,"display_name":"Victor"},"score":0,"creation_date":1667413222,"post_id":74289255,"comment_id":131163581,"body_markdown":"Thanks Tailor. I have tried and this way I get the properties but not ID nor label.\n\nId is not very important but I need to get the vertices labels","body":"Thanks Tailor. I have tried and this way I get the properties but not ID nor label.  Id is not very important but I need to get the vertices labels"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":1,"creation_date":1667432637,"post_id":74289255,"comment_id":131168860,"body_markdown":"`elementMap()` will always contain the ID and label. `valueMap` will if invoked as `valueMap(true)` or `valueMap().with(WithOptions.tokens)`","body":"<code>elementMap()</code> will always contain the ID and label. <code>valueMap</code> will if invoked as <code>valueMap(true)</code> or <code>valueMap().with(WithOptions.tokens)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667473038,"creation_date":1667473038,"answer_id":74301953,"question_id":74289255,"body_markdown":"Currently, as of 3.6.x, properties are not returned on graph elements and you must therefore transform a `Vertex` or `Edge` to a `Map` with steps like `project()`, `elementMap()`, etc. If you are interested, the reasons and history for this design decision are described [here][1]. \r\n\r\nTo get the ID and label from a `Map`, note that the keys for these values are not `String` but of type `T` so you would want to access them as `T.id` or `T.label` respectively.\r\n\r\nFinally, there is work currently underway for 3.7.x to allow you to shape the properties returned in graph element so eventually you would be able to work directly with Vertex and Edge instances and their properties.\r\n\r\n\r\n  [1]: https://lists.apache.org/thread/xltcon4zxnwq4fyw2r2126syyrqm8spy","title":"Empty vertex properties with Java and Gremlin","body":"<p>Currently, as of 3.6.x, properties are not returned on graph elements and you must therefore transform a <code>Vertex</code> or <code>Edge</code> to a <code>Map</code> with steps like <code>project()</code>, <code>elementMap()</code>, etc. If you are interested, the reasons and history for this design decision are described <a href=\"https://lists.apache.org/thread/xltcon4zxnwq4fyw2r2126syyrqm8spy\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To get the ID and label from a <code>Map</code>, note that the keys for these values are not <code>String</code> but of type <code>T</code> so you would want to access them as <code>T.id</code> or <code>T.label</code> respectively.</p>\n<p>Finally, there is work currently underway for 3.7.x to allow you to shape the properties returned in graph element so eventually you would be able to work directly with Vertex and Edge instances and their properties.</p>\n"}],"owner":{"account_id":559023,"reputation":358,"user_id":921394,"accept_rate":71,"display_name":"Victor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74301953,"answer_count":1,"score":1,"last_activity_date":1667473038,"creation_date":1667392544,"question_id":74289255,"body_markdown":"I&#39;m writing a database adapter to work with Amazon Neptune database in Spring Boot. \r\nI want to return a custom datatype instead of Vertex, or list of Vertex in search cases.\r\nSo when I execute a search I have to map found vertices to my custom class.\r\n\r\nFor the step I&#39;m in (just writing Vertex data into console) I just need to get each node&#39;s Id, label and properties but I always get empty properties.\r\n\r\nI have this sample graph:\r\n\r\n[![sample data graph](https://i.stack.imgur.com/kEsl4.png)](https://i.stack.imgur.com/kEsl4.png)\r\n\r\nI&#39;m calling the method using key = &quot;city&quot;, value = &quot;Malaga&quot;. This returns two nodes.\r\n\r\nApproach 1:\r\n\r\n```\r\npublic void queryNodesByProperty(String key, String value) throws Exception {\r\n    if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\r\n\r\n    List&lt;TreeNode&gt; result = g.V().has(key,value).toList().stream().map(e-&gt;{\r\n\r\n        System.out.println(e.id());    //works\r\n        System.out.println(e.label()); //works\r\n        System.out.println(e.properties());        //returns java.util.Collections$EmptyIterator\r\n        System.out.println(e.property(&quot;name&quot;));    //returns empty\r\n        System.out.println(e.properties().next()); //Throws NoSuchElementException\r\n            \r\n        //I will call my mapper here\r\n        return TreeNodeMapper.getTreeNode(e);\r\n    }).collect(Collectors.toList());\r\n}\r\n```\r\n\r\nApproach 2:\r\nFor now on, I just try to output data\r\n\r\n```\r\npublic void queryNodesByProperty(String key, String value) throws Exception {\r\n        if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\r\n\r\n        Stream&lt;Vertex&gt; s = g.V().has(key,value).toStream();\r\n        s.forEach(v -&gt; {\r\n            System.out.println(v.id());    //works\r\n            System.out.println(v.label()); //works\r\n            System.out.println(v.property(&quot;city&quot;)); //returns vp[empty]\r\n            System.out.println(v.keys()); //returns []\r\n        });\r\n    }\r\n```\r\n\r\nApproach 3:\r\nJust output data\r\n```\r\npublic void queryNodesByProperty(String key, String value) throws Exception {\r\n        if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\r\n\r\n        List &lt;Vertex&gt; l = g.V().has(key,value).toList();\r\n        l.forEach(v -&gt; {\r\n            System.out.println(v.id());    //works\r\n            System.out.println(v.label()); //works\r\n            System.out.println(v.property(&quot;city&quot;)); //returns vp[empty]\r\n            System.out.println(v.keys()); //returns []\r\n        });\r\n    }\r\n```\r\n\r\nAny help appreciated. Thanks!\r\n\r\n\r\n----------\r\n\r\n** ****UPDATE**** **\r\n\r\nAs @taylor-riggan and @kelvin-lawrence suggested I updated my code to iterate the result of elementMap() instead of trying to iterate vertices collection.\r\n\r\n```\r\nList&lt;Map&lt;Object,Object&gt;&gt; ln = g.V().has(key,value).elementMap().toList();\r\nSystem.out.println(ln);\r\nln.forEach(ve-&gt;{\r\n    System.out.println(ve.get(&quot;id&quot;));\r\n    System.out.println(ve.get(&quot;label&quot;));\r\n    System.out.println(ve.get(&quot;area&quot;));\r\n});\r\n```\r\nThis outputs:\r\n```\r\n[{id=30c21e3b-31fa-2e27-43b5-7ea2e78545b6, label=Person, name=Peter, town=Marbella, city=Malaga, area=Andalucia}, {id=b4c21e3b-32a8-972a-8623-26fa165e63e3, label=Person, name=Victor, town=Torremolinos, city=Malaga, area=Andalucia}]\r\nnull\r\nnull\r\nAndalucia\r\nnull\r\nnull\r\nAndalucia\r\n```\r\nAs you said, id and label are present in each element, but when I try to get the value I still get null. That is what took me to experiment iterating vertices.\r\n\r\nI see this when I debug the code and inspect the map for an element:\r\n[![map inspection][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W2gM1.png\r\n\r\nSo id and label keys are somehow &quot;special&quot; and cannot get them using .get(&quot;id&quot;)\r\n\r\nHow can i get those values?\r\n\r\nThanks","title":"Empty vertex properties with Java and Gremlin","body":"<p>I'm writing a database adapter to work with Amazon Neptune database in Spring Boot.\nI want to return a custom datatype instead of Vertex, or list of Vertex in search cases.\nSo when I execute a search I have to map found vertices to my custom class.</p>\n<p>For the step I'm in (just writing Vertex data into console) I just need to get each node's Id, label and properties but I always get empty properties.</p>\n<p>I have this sample graph:</p>\n<p><a href=\"https://i.stack.imgur.com/kEsl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kEsl4.png\" alt=\"sample data graph\" /></a></p>\n<p>I'm calling the method using key = &quot;city&quot;, value = &quot;Malaga&quot;. This returns two nodes.</p>\n<p>Approach 1:</p>\n<pre><code>public void queryNodesByProperty(String key, String value) throws Exception {\n    if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\n\n    List&lt;TreeNode&gt; result = g.V().has(key,value).toList().stream().map(e-&gt;{\n\n        System.out.println(e.id());    //works\n        System.out.println(e.label()); //works\n        System.out.println(e.properties());        //returns java.util.Collections$EmptyIterator\n        System.out.println(e.property(&quot;name&quot;));    //returns empty\n        System.out.println(e.properties().next()); //Throws NoSuchElementException\n            \n        //I will call my mapper here\n        return TreeNodeMapper.getTreeNode(e);\n    }).collect(Collectors.toList());\n}\n</code></pre>\n<p>Approach 2:\nFor now on, I just try to output data</p>\n<pre><code>public void queryNodesByProperty(String key, String value) throws Exception {\n        if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\n\n        Stream&lt;Vertex&gt; s = g.V().has(key,value).toStream();\n        s.forEach(v -&gt; {\n            System.out.println(v.id());    //works\n            System.out.println(v.label()); //works\n            System.out.println(v.property(&quot;city&quot;)); //returns vp[empty]\n            System.out.println(v.keys()); //returns []\n        });\n    }\n</code></pre>\n<p>Approach 3:\nJust output data</p>\n<pre><code>public void queryNodesByProperty(String key, String value) throws Exception {\n        if(key == null || key.trim().length() == 0) throw new Exception(&quot;Key cannot be empty&quot;);\n\n        List &lt;Vertex&gt; l = g.V().has(key,value).toList();\n        l.forEach(v -&gt; {\n            System.out.println(v.id());    //works\n            System.out.println(v.label()); //works\n            System.out.println(v.property(&quot;city&quot;)); //returns vp[empty]\n            System.out.println(v.keys()); //returns []\n        });\n    }\n</code></pre>\n<p>Any help appreciated. Thanks!</p>\n<hr />\n<p>** <strong><strong>UPDATE</strong></strong> **</p>\n<p>As @taylor-riggan and @kelvin-lawrence suggested I updated my code to iterate the result of elementMap() instead of trying to iterate vertices collection.</p>\n<pre><code>List&lt;Map&lt;Object,Object&gt;&gt; ln = g.V().has(key,value).elementMap().toList();\nSystem.out.println(ln);\nln.forEach(ve-&gt;{\n    System.out.println(ve.get(&quot;id&quot;));\n    System.out.println(ve.get(&quot;label&quot;));\n    System.out.println(ve.get(&quot;area&quot;));\n});\n</code></pre>\n<p>This outputs:</p>\n<pre><code>[{id=30c21e3b-31fa-2e27-43b5-7ea2e78545b6, label=Person, name=Peter, town=Marbella, city=Malaga, area=Andalucia}, {id=b4c21e3b-32a8-972a-8623-26fa165e63e3, label=Person, name=Victor, town=Torremolinos, city=Malaga, area=Andalucia}]\nnull\nnull\nAndalucia\nnull\nnull\nAndalucia\n</code></pre>\n<p>As you said, id and label are present in each element, but when I try to get the value I still get null. That is what took me to experiment iterating vertices.</p>\n<p>I see this when I debug the code and inspect the map for an element:\n<a href=\"https://i.stack.imgur.com/W2gM1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2gM1.png\" alt=\"map inspection\" /></a></p>\n<p>So id and label keys are somehow &quot;special&quot; and cannot get them using .get(&quot;id&quot;)</p>\n<p>How can i get those values?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","spring-boot","jpa","pessimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667472792,"creation_date":1667472792,"answer_id":74301906,"question_id":74278392,"body_markdown":"I worked on something similar recently. This is how i&#39;ve accomplished it.\r\n\r\n1. I created a separate table in which i hold the latest value without having to use the `findMax` function. So in your case, everytime you add a new `series` you&#39;ll add a new enty in the `series_counter` table\r\n\r\n```\r\nseries_counter\r\nseries_id | current_counter\r\n```\r\n\r\n 2. whenever you&#39;re trying to fetch the latest value, you&#39;ll have something like this\r\n\r\n```\r\n@Transaction\r\npublic doBusinessLogic(Long seriesId) {\r\n    var latestCounter = seriesCounterRepo.fetchLatest(seriesId)\r\n    \r\n    Series series = new Series(..);\r\n    series.setCurrentCounter = latestCounter;\r\n    seriesRepo.save(series)\r\n    latestCounter.incrementValue();\r\n}\r\n\r\npublic interface SeriesCounterRepo .. {\r\n\r\n  @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n  @Transactional // when i didn&#39;t add this, i got some errors, but i don&#39;t remember exactly though\r\n  public SeriesCounter fetchLatest(Long seriesId)\r\n\r\n}\r\n\r\n\r\nclass SeriesCounter {\r\n\r\n      private Long id;\r\n      private Long currentCounter;\r\n\r\n\r\n    public incrementValue() {\r\n        currentCounter++;\r\n    }\r\n}\r\n```\r\n Some explanations:\r\n\r\n1. Given it will run into a transaction if any of the line throw an exception, the changes won&#39;t be commited to the db\r\n2. when another call comes and tries to fetch the same row, it will block until the above transaction finishes.  \r\n","title":"Generate sequence number without gaps by multiple app instances","body":"<p>I worked on something similar recently. This is how i've accomplished it.</p>\n<ol>\n<li>I created a separate table in which i hold the latest value without having to use the <code>findMax</code> function. So in your case, everytime you add a new <code>series</code> you'll add a new enty in the <code>series_counter</code> table</li>\n</ol>\n<pre><code>series_counter\nseries_id | current_counter\n</code></pre>\n<ol start=\"2\">\n<li>whenever you're trying to fetch the latest value, you'll have something like this</li>\n</ol>\n<pre><code>@Transaction\npublic doBusinessLogic(Long seriesId) {\n    var latestCounter = seriesCounterRepo.fetchLatest(seriesId)\n    \n    Series series = new Series(..);\n    series.setCurrentCounter = latestCounter;\n    seriesRepo.save(series)\n    latestCounter.incrementValue();\n}\n\npublic interface SeriesCounterRepo .. {\n\n  @Lock(LockModeType.PESSIMISTIC_WRITE)\n  @Transactional // when i didn't add this, i got some errors, but i don't remember exactly though\n  public SeriesCounter fetchLatest(Long seriesId)\n\n}\n\n\nclass SeriesCounter {\n\n      private Long id;\n      private Long currentCounter;\n\n\n    public incrementValue() {\n        currentCounter++;\n    }\n}\n</code></pre>\n<p>Some explanations:</p>\n<ol>\n<li>Given it will run into a transaction if any of the line throw an exception, the changes won't be commited to the db</li>\n<li>when another call comes and tries to fetch the same row, it will block until the above transaction finishes.</li>\n</ol>\n"}],"owner":{"account_id":9497608,"reputation":61,"user_id":7060018,"display_name":"Peter F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74301906,"answer_count":1,"score":0,"last_activity_date":1667472792,"creation_date":1667317471,"question_id":74278392,"body_markdown":"I want to write the device number generator which consists of SERIES and incremented NUMBER. When specific the SERIES reach max which is allowed to them then next SERIES will be in use starting with NUMBER 1 eg. \r\n\r\n```\r\nSERIES|MAX_NUM|CURRENT_NUM\r\nAA|3|1\r\nAA|3|2\r\nAA|3|3\r\nBB|2|1\r\nBB|2|2\r\nCC|5|1\r\n....\r\n```\r\n\r\nIhave multiple module instances which needs to generate this device number and the most important thing is that this NUMBER cannot contains gaps (what in pk db sequence is possible in case of rollback). We need ensure that there are no gaps during incrementation.\r\n\r\nIs there any other solution than locking record by pessimistic lock in PESSIMISTIC_WRITE mode? In such case if I have 3 records in db eg:\r\n\r\n```\r\nAA|4|1\r\nAA|4|2\r\nAA|4|3\r\n```\r\nand I will do execute findMax() method to find the max NUMBER (in that case row AA|4|3) I suppose that this row will be locked for READ/WRITE/UPDATE. Then after incrementation the new record will be added and lock will be relesed for record AA|4|3. But what in case when during this executing findMax() other thread will try to query for max() NUMBER? It will be wait for release or the NUMBER 2 will be returned due to the locking AA|4|3?\r\n\r\nI&#39;m trying to understand locking mechanism. \r\nI&#39;m working on PostgreSQL. \r\n\r\nThanks in advance!\r\n","title":"Generate sequence number without gaps by multiple app instances","body":"<p>I want to write the device number generator which consists of SERIES and incremented NUMBER. When specific the SERIES reach max which is allowed to them then next SERIES will be in use starting with NUMBER 1 eg.</p>\n<pre><code>SERIES|MAX_NUM|CURRENT_NUM\nAA|3|1\nAA|3|2\nAA|3|3\nBB|2|1\nBB|2|2\nCC|5|1\n....\n</code></pre>\n<p>Ihave multiple module instances which needs to generate this device number and the most important thing is that this NUMBER cannot contains gaps (what in pk db sequence is possible in case of rollback). We need ensure that there are no gaps during incrementation.</p>\n<p>Is there any other solution than locking record by pessimistic lock in PESSIMISTIC_WRITE mode? In such case if I have 3 records in db eg:</p>\n<pre><code>AA|4|1\nAA|4|2\nAA|4|3\n</code></pre>\n<p>and I will do execute findMax() method to find the max NUMBER (in that case row AA|4|3) I suppose that this row will be locked for READ/WRITE/UPDATE. Then after incrementation the new record will be added and lock will be relesed for record AA|4|3. But what in case when during this executing findMax() other thread will try to query for max() NUMBER? It will be wait for release or the NUMBER 2 will be returned due to the locking AA|4|3?</p>\n<p>I'm trying to understand locking mechanism.\nI'm working on PostgreSQL.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","junit","spring-test","testcase"],"comments":[{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1667472535,"post_id":74301799,"comment_id":131176908,"body_markdown":"change the scope to `test` and try","body":"change the scope to <code>test</code> and try"},{"owner":{"account_id":15056800,"reputation":127,"user_id":10866845,"display_name":"divyanshu gupta"},"score":0,"creation_date":1667472670,"post_id":74301799,"comment_id":131176964,"body_markdown":"tried this but got the same response","body":"tried this but got the same response"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667472641,"creation_date":1667472641,"answer_id":74301853,"question_id":74301799,"body_markdown":"You miss the servlet api in your claspath.\r\nAdd:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom\r\n\r\n","title":"getting NoClassDefFoundError: javax/servlet/ServletException error while running sprringboot test cases","body":"<p>You miss the servlet api in your claspath.\nAdd:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your pom</p>\n"}],"owner":{"account_id":15056800,"reputation":127,"user_id":10866845,"display_name":"divyanshu gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74301853,"answer_count":1,"score":0,"last_activity_date":1667472641,"creation_date":1667472417,"question_id":74301799,"body_markdown":"I am using the following dependency for spring test and it is getting failed to load the application context while running.\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;version&gt;2.1.8.RELEASE&lt;/version&gt;--&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;!--&lt;scope&gt;compile&lt;/scope&gt;--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nInside some of the cases I am using \r\n\r\n    @Autowired\r\n        AutowireCapableBeanFactory beanFactory;\r\n\r\nand getting the mentioned error while running test cases\r\n\r\n    java.lang.NoClassDefFoundError: javax/servlet/ServletException\r\n\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\tat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:587)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletException\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 29 more","title":"getting NoClassDefFoundError: javax/servlet/ServletException error while running sprringboot test cases","body":"<p>I am using the following dependency for spring test and it is getting failed to load the application context while running.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;2.1.8.RELEASE&lt;/version&gt;--&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;!--&lt;scope&gt;compile&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Inside some of the cases I am using</p>\n<pre><code>@Autowired\n    AutowireCapableBeanFactory beanFactory;\n</code></pre>\n<p>and getting the mentioned error while running test cases</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/ServletException\n\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:587)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667467019,"post_id":74300500,"comment_id":131174871,"body_markdown":"If you want to match literals just put them into your regex, e.g. `10\\.1(\\.\\d+)*` should match `10.1`, `10.1.0` etc. Also note that you probably need a couple of different options to match for some of your requirements, e.g. `10\\.(1\\d+|[2-9]\\d*)` should match `10.2`, `10.10` etc. but not `10.1`.","body":"If you want to match literals just put them into your regex, e.g. <code>10\\.1(\\.\\d+)*</code> should match <code>10.1</code>, <code>10.1.0</code> etc. Also note that you probably need a couple of different options to match for some of your requirements, e.g. <code>10\\.(1\\d+|[2-9]\\d*)</code> should match <code>10.2</code>, <code>10.10</code> etc. but not <code>10.1</code>."},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1667467893,"post_id":74300500,"comment_id":131175175,"body_markdown":"First regular expression should also match 10.2 or 11.0 or 11.1.1.0 or 12.0 or 12.1.0.1 and so on along with the string 10.1","body":"First regular expression should also match 10.2 or 11.0 or 11.1.1.0 or 12.0 or 12.1.0.1 and so on along with the string 10.1"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667468079,"post_id":74300500,"comment_id":131175246,"body_markdown":"Sure, just build the expression accordingly. I merely provided some hints assuming that at the moment 10.1 would be the &quot;turning point&quot; but eventually that might change - so I&#39;m trying to help you learn how to write those expressions yourself :)","body":"Sure, just build the expression accordingly. I merely provided some hints assuming that at the moment 10.1 would be the &quot;turning point&quot; but eventually that might change - so I&#39;m trying to help you learn how to write those expressions yourself :)"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667468457,"post_id":74300500,"comment_id":131175406,"body_markdown":"Wouldn&#39;t it be simpler to first use a regexp to parse the input string into an array of `int`s, and then using integer arithmetic to check the other constraints?","body":"Wouldn&#39;t it be simpler to first use a regexp to parse the input string into an array of <code>int</code>s, and then using integer arithmetic to check the other constraints?"},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1667468868,"post_id":74300500,"comment_id":131175570,"body_markdown":"Are you sure you want to solve this problem only via Regular Expressions ?","body":"Are you sure you want to solve this problem only via Regular Expressions ?"},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1667469524,"post_id":74300500,"comment_id":131175807,"body_markdown":"I don&#39;t necessarily have to use Regular Expressions, any hint on what&#39;s the other way to achieve this?","body":"I don&#39;t necessarily have to use Regular Expressions, any hint on what&#39;s the other way to achieve this?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667470112,"creation_date":1667470112,"answer_id":74301238,"question_id":74300500,"body_markdown":"Not really feasible as &quot;4&quot; &lt; &quot;10&quot; and such. Better work on ints.\r\n\r\n    class Version implements Comparable&lt;Version&gt; {\r\n        final int[] parts;\r\n        Version(String vs) {\r\n            parts = Stream.of(vs.split(&quot;\\\\.&quot;)).mapToInt(Integer::parseInt).toArray();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return Arrays.stream(parts)\r\n                .map(Integer::toString)\r\n                .collect(Collectors.joining(&quot;.&quot;));\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Version other) {\r\n            return Arrays.compare(parts, other.parts);\r\n        }\r\n        ...\r\n    }\r\n\r\n    Version version1 = new Version(&quot;10.0.1&quot;);\r\n    Version version2 = new Version(&quot;1.2.1&quot;);\r\n    if (version1.compareTo(version2) &lt;= 0) {\r\n        System.out.printf(&quot;%s &lt;= %s%n&quot;, version1, version2);\r\n    }\r\n\r\nThere is a coding principle on which this approach is based:\r\n\r\n&gt; Do not use primitive types immediately for a specific quantity/entity.\r\n&gt; Wrap it in a value class.","title":"Java regular expression to match specific integer values separated by a dot delimiter","body":"<p>Not really feasible as &quot;4&quot; &lt; &quot;10&quot; and such. Better work on ints.</p>\n<pre><code>class Version implements Comparable&lt;Version&gt; {\n    final int[] parts;\n    Version(String vs) {\n        parts = Stream.of(vs.split(&quot;\\\\.&quot;)).mapToInt(Integer::parseInt).toArray();\n    }\n\n    @Override\n    public String toString() {\n        return Arrays.stream(parts)\n            .map(Integer::toString)\n            .collect(Collectors.joining(&quot;.&quot;));\n    }\n\n    @Override\n    public int compareTo(Version other) {\n        return Arrays.compare(parts, other.parts);\n    }\n    ...\n}\n\nVersion version1 = new Version(&quot;10.0.1&quot;);\nVersion version2 = new Version(&quot;1.2.1&quot;);\nif (version1.compareTo(version2) &lt;= 0) {\n    System.out.printf(&quot;%s &lt;= %s%n&quot;, version1, version2);\n}\n</code></pre>\n<p>There is a coding principle on which this approach is based:</p>\n<blockquote>\n<p>Do not use primitive types immediately for a specific quantity/entity.\nWrap it in a value class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667472474,"creation_date":1667471697,"answer_id":74301628,"question_id":74300500,"body_markdown":"There is another way to convert each `&quot;.&quot;` separated number to a fixed length string. For example, `&quot;1.2.3.4&quot;` becomes `&quot;0001000200030004&quot;` if the maximum number of digits for each number is 4. Use `&quot;****&quot;` if there are no numbers. (`&quot;****&quot;` is less than `&quot;0000&quot;`) For example, `&quot;11.2&quot;` becomes `&quot;00110002********&quot;`.\r\nYou can compare strings thus converted with `String.compare()`.\r\n\r\nAn example of sorting by converted numbers is shown below.\r\n\r\n\r\n    static final int NUMBER_SIZE = 4;\r\n    static final String UNDEF_NUMBER = &quot;*&quot;.repeat(NUMBER_SIZE);\r\n    static final Pattern VERSION_PAT = Pattern.compile(\r\n        &quot;(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?)?&quot;);\r\n\r\n    static String fixed(String s) {\r\n        return s == null ? UNDEF_NUMBER : &quot;0&quot;.repeat(NUMBER_SIZE - s.length()) + s;\r\n    }\r\n\r\n    public static String normalize(String version) {\r\n        Matcher m = VERSION_PAT.matcher(version);\r\n        if (!m.matches())\r\n            throw new IllegalArgumentException(&quot;version&quot;);\r\n        return fixed(m.group(1)) + fixed(m.group(2))\r\n             + fixed(m.group(3)) + fixed(m.group(4));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] versions = {\r\n            &quot;10.1&quot;, &quot;10.1.0&quot;, &quot;10.2&quot;, &quot;10.3&quot;, &quot;10.1.0.0&quot;, &quot;10.1.1.0&quot;,\r\n            &quot;10.2.1.0&quot;, &quot;10.2.1.1&quot;, &quot;10.2.0&quot;, &quot;10.3.0&quot;, &quot;11.1.1.0&quot;,\r\n            &quot;10.0&quot;, &quot;9.1&quot;, &quot;9.2&quot;, &quot;9.1.1.0&quot;, &quot;9.1.2.0&quot;\r\n        };\r\n        record Pair(String version, String normalized) {}\r\n        Arrays.stream(versions)\r\n            .map(version -&gt; new Pair(version, normalize(version)))\r\n            .sorted(Comparator.comparing(Pair::normalized))\r\n            .forEach(pair -&gt; System.out.printf(&quot;%16s : %s%n&quot;, pair.version, pair.normalized));\r\n    }\r\n\r\noutput:\r\n\r\n             9.1 : 00090001********\r\n         9.1.1.0 : 0009000100010000\r\n         9.1.2.0 : 0009000100020000\r\n             9.2 : 00090002********\r\n            10.0 : 00100000********\r\n            10.1 : 00100001********\r\n          10.1.0 : 001000010000****\r\n        10.1.0.0 : 0010000100000000\r\n        10.1.1.0 : 0010000100010000\r\n            10.2 : 00100002********\r\n          10.2.0 : 001000020000****\r\n        10.2.1.0 : 0010000200010000\r\n        10.2.1.1 : 0010000200010001\r\n            10.3 : 00100003********\r\n          10.3.0 : 001000030000****\r\n        11.1.1.0 : 0011000100010000\r\n\r\n\r\n","title":"Java regular expression to match specific integer values separated by a dot delimiter","body":"<p>There is another way to convert each <code>&quot;.&quot;</code> separated number to a fixed length string. For example, <code>&quot;1.2.3.4&quot;</code> becomes <code>&quot;0001000200030004&quot;</code> if the maximum number of digits for each number is 4. Use <code>&quot;****&quot;</code> if there are no numbers. (<code>&quot;****&quot;</code> is less than <code>&quot;0000&quot;</code>) For example, <code>&quot;11.2&quot;</code> becomes <code>&quot;00110002********&quot;</code>.\nYou can compare strings thus converted with <code>String.compare()</code>.</p>\n<p>An example of sorting by converted numbers is shown below.</p>\n<pre><code>static final int NUMBER_SIZE = 4;\nstatic final String UNDEF_NUMBER = &quot;*&quot;.repeat(NUMBER_SIZE);\nstatic final Pattern VERSION_PAT = Pattern.compile(\n    &quot;(\\\\d+)\\\\.(\\\\d+)(?:\\\\.(\\\\d+)(?:\\\\.(\\\\d+))?)?&quot;);\n\nstatic String fixed(String s) {\n    return s == null ? UNDEF_NUMBER : &quot;0&quot;.repeat(NUMBER_SIZE - s.length()) + s;\n}\n\npublic static String normalize(String version) {\n    Matcher m = VERSION_PAT.matcher(version);\n    if (!m.matches())\n        throw new IllegalArgumentException(&quot;version&quot;);\n    return fixed(m.group(1)) + fixed(m.group(2))\n         + fixed(m.group(3)) + fixed(m.group(4));\n}\n\npublic static void main(String[] args) {\n    String[] versions = {\n        &quot;10.1&quot;, &quot;10.1.0&quot;, &quot;10.2&quot;, &quot;10.3&quot;, &quot;10.1.0.0&quot;, &quot;10.1.1.0&quot;,\n        &quot;10.2.1.0&quot;, &quot;10.2.1.1&quot;, &quot;10.2.0&quot;, &quot;10.3.0&quot;, &quot;11.1.1.0&quot;,\n        &quot;10.0&quot;, &quot;9.1&quot;, &quot;9.2&quot;, &quot;9.1.1.0&quot;, &quot;9.1.2.0&quot;\n    };\n    record Pair(String version, String normalized) {}\n    Arrays.stream(versions)\n        .map(version -&gt; new Pair(version, normalize(version)))\n        .sorted(Comparator.comparing(Pair::normalized))\n        .forEach(pair -&gt; System.out.printf(&quot;%16s : %s%n&quot;, pair.version, pair.normalized));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>         9.1 : 00090001********\n     9.1.1.0 : 0009000100010000\n     9.1.2.0 : 0009000100020000\n         9.2 : 00090002********\n        10.0 : 00100000********\n        10.1 : 00100001********\n      10.1.0 : 001000010000****\n    10.1.0.0 : 0010000100000000\n    10.1.1.0 : 0010000100010000\n        10.2 : 00100002********\n      10.2.0 : 001000020000****\n    10.2.1.0 : 0010000200010000\n    10.2.1.1 : 0010000200010001\n        10.3 : 00100003********\n      10.3.0 : 001000030000****\n    11.1.1.0 : 0011000100010000\n</code></pre>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667472474,"creation_date":1667466611,"question_id":74300500,"body_markdown":"Basically I&#39;m trying to implement three regular expressions as specified below -\r\n1) First regular expression should match at the least the literal string 10.1 or any string like 10.1.0.0 or 10.1.1.0 or 10.2.1.0 or 10.2.1.1 and so on but it should at the least match 10.1 or any higher versions. I tried the following regular expression \r\n``` \\d+\\.\\d+(\\.\\d+\\.\\d+)* ```\r\nbut this matches even lower versions such as 9.1.1.0 or 9.1 and so on.\r\n\r\n2) Second regular expression should match anything higher than the string literal 10.1 but not 10.1 but it should match any other string like 10.2 or 10.3 or 10.1.0.0 or 10.1.1.0 or 10.2.1.0 or 10.2.1.1 or 10.2 or 10.3 or 11.1.1.0 or 11.1 and so on. Tried the following but did not match the expectation ``` (\\\\d+)\\\\.(\\\\d+)(.*) ```\r\n\r\n3) Third regular expression should match anything lower than the string literal 10.1 but not 10.1 but it should match any other string like 10.0 or 9.1 or 9.2 or 9.1.1.0 or 9.1 or 9.1.2.0.\r\n\r\nBasically how do I match the literal string like 10.1 followed by any optional numbers separated by a dot and how do I match anything higher or lower than the literal string like in my 1st, 2nd and 3rd points?\r\n\r\nI&#39;m still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.","title":"Java regular expression to match specific integer values separated by a dot delimiter","body":"<p>Basically I'm trying to implement three regular expressions as specified below -</p>\n<ol>\n<li><p>First regular expression should match at the least the literal string 10.1 or any string like 10.1.0.0 or 10.1.1.0 or 10.2.1.0 or 10.2.1.1 and so on but it should at the least match 10.1 or any higher versions. I tried the following regular expression\n<code>\\d+\\.\\d+(\\.\\d+\\.\\d+)*</code>\nbut this matches even lower versions such as 9.1.1.0 or 9.1 and so on.</p>\n</li>\n<li><p>Second regular expression should match anything higher than the string literal 10.1 but not 10.1 but it should match any other string like 10.2 or 10.3 or 10.1.0.0 or 10.1.1.0 or 10.2.1.0 or 10.2.1.1 or 10.2 or 10.3 or 11.1.1.0 or 11.1 and so on. Tried the following but did not match the expectation <code>(\\\\d+)\\\\.(\\\\d+)(.*)</code></p>\n</li>\n<li><p>Third regular expression should match anything lower than the string literal 10.1 but not 10.1 but it should match any other string like 10.0 or 9.1 or 9.2 or 9.1.1.0 or 9.1 or 9.1.2.0.</p>\n</li>\n</ol>\n<p>Basically how do I match the literal string like 10.1 followed by any optional numbers separated by a dot and how do I match anything higher or lower than the literal string like in my 1st, 2nd and 3rd points?</p>\n<p>I'm still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.</p>\n"},{"tags":["java","spring-webflow"],"comments":[{"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"score":0,"creation_date":1667471754,"post_id":74301528,"comment_id":131176605,"body_markdown":"@rptmat57 can you please guide how to use exception handler ?","body":"@rptmat57 can you please guide how to use exception handler ?"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1667478274,"post_id":74301528,"comment_id":131178803,"body_markdown":"Not sure this is a separate question from https://stackoverflow.com/q/74071028/796761. And it doesn&#39;t look like you&#39;ve tried creating a custom FlowHandlerAdapter and adding a handleException() method to it?","body":"Not sure this is a separate question from <a href=\"https://stackoverflow.com/q/74071028/796761\">stackoverflow.com/q/74071028/796761</a>. And it doesn&#39;t look like you&#39;ve tried creating a custom FlowHandlerAdapter and adding a handleException() method to it?"},{"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"score":0,"creation_date":1667539465,"post_id":74301528,"comment_id":131194797,"body_markdown":"its in git i have in the following url https://github.com/prparamesh/spring/","body":"its in git i have in the following url <a href=\"https://github.com/prparamesh/spring/\" rel=\"nofollow noreferrer\">github.com/prparamesh/spring</a>"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1667568455,"post_id":74301528,"comment_id":131203263,"body_markdown":"And? Can you tell if it&#39;s loaded? If it&#39;s being called? If it&#39;s trying to redirect? Also, note the version you currently have only looks for the SnapshotNotFound, not the one where you use an improperly formatted execution key. Also, looking at your source, name the bean &quot;register&quot; to match the name of the flow.","body":"And? Can you tell if it&#39;s loaded? If it&#39;s being called? If it&#39;s trying to redirect? Also, note the version you currently have only looks for the SnapshotNotFound, not the one where you use an improperly formatted execution key. Also, looking at your source, name the bean &quot;register&quot; to match the name of the flow."}],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667472326,"creation_date":1667471300,"question_id":74301528,"body_markdown":"I have similar code inline with this [repo][1], in case of normal exception I&#39;m able to redirect to the designated page as expected using global exception as follows\r\n\r\n    &lt;global-transitions&gt;\r\n    &lt;transition on-exception=&quot;java.lang.Exception&quot; to=&quot;.. &quot;/&gt;\r\n    &lt;/global-transitions&gt;\r\n\r\nWhile in case of an invalid url example following is invalid url\r\n\r\n[![enter image description here][2]][2]\r\n\r\nwhich has thrown the following exception\r\n\r\n    org.springframework.webflow.execution.repository.snapshot.SnapshotNotFoundException\r\n\r\nas following\r\n\r\n    2022-11-03 15:14:18.930  INFO 22779 --- [nio-9090-exec-6] o.s.b.f.s.DefaultListableBeanFactory     : Replacing scope &#39;request&#39; from [org.springframework.web.context.request.RequestScope@1c23aec5] to [org.springframework.web.context.request.RequestScope@7e2b9574]\r\n    2022-11-03 15:14:27.517 ERROR 22779 --- [nio-9090-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.webflow.execution.repository.FlowExecutionRestorationFailureException: A problem occurred restoring the flow execution with key &#39;e1s12&#39;] with root cause\r\n    \r\n    org.springframework.webflow.execution.repository.snapshot.SnapshotNotFoundException: No flow execution snapshot could be found with id &#39;12&#39;; perhaps the snapshot has been removed? \r\n    \tat org.springframework.webflow.execution.repository.impl.SimpleFlowExecutionSnapshotGroup.getSnapshot(SimpleFlowExecutionSnapshotGroup.java:73) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.execution.repository.impl.DefaultFlowExecutionRepository.getFlowExecution(DefaultFlowExecutionRepository.java:111) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n\r\nin case of invalid url like following\r\n\r\n    http://localhost:9090/register;jsessionid=4716C2F2C2D33D27FE69402F0037D9AC?execution=e1sD\r\n\r\nit will throw another exception as following\r\n\r\n    2022-11-03 15:37:17.092 ERROR 22779 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]: Servlet. service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.webflow.execution.repository.BadlyFormattedFlowExecutionKeyException: Badly formatted flow execution key &#39;e1sD&#39;, the expected format is &#39;e&lt;executionId&gt;s&lt;snapshotId&gt;&#39;] with root cause\r\n    \r\n    java.lang.NumberFormatException: For input string: &quot;D&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68) ~[na:na]\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:652) ~[na:na]\r\n    \tat java.base/java.lang.Integer.valueOf(Integer.java:983) ~[na:na]\r\n    \tat org.springframework.webflow.execution.repository.support.AbstractFlowExecutionRepository.parseSnapshotId(AbstractFlowExecutionRepository.java:219) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.execution.repository.support.AbstractFlowExecutionRepository.parseFlowExecutionKey(AbstractFlowExecutionRepository.java:120) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:163) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\nHow to navigate to a designated page on similar unhandled exception.\r\nI found couple of answers but not able to successfully implement and resolve. Can anybody help?\r\n\r\nFollowing is my [code][3] in git \r\n\r\nApplication.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\nWebFlowWithMvcConfig.java\r\n\r\n    package com.example.demo.config;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Description;\r\n    import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n    import org.springframework.webflow.config.AbstractFlowConfiguration;\r\n    import org.springframework.webflow.definition.registry.FlowDefinitionRegistry;\r\n    import org.springframework.webflow.engine.builder.ViewFactoryCreator;\r\n    import org.springframework.webflow.engine.builder.support.FlowBuilderServices;\r\n    import org.springframework.webflow.executor.FlowExecutor;\r\n    import org.springframework.webflow.mvc.builder.MvcViewFactoryCreator;\r\n    import org.springframework.webflow.mvc.servlet.FlowHandlerAdapter;\r\n    import org.springframework.webflow.mvc.servlet.FlowHandlerMapping;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    import org.thymeleaf.spring5.webflow.view.AjaxThymeleafViewResolver;\r\n    import org.thymeleaf.spring5.webflow.view.FlowAjaxThymeleafView;\r\n    import org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\n    \r\n    @Configuration\r\n    public class WebFlowWithMvcConfig extends AbstractFlowConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate LocalValidatorFactoryBean localValidatorFacotryBean;\r\n    \r\n    \t@Bean\r\n    \tpublic FlowDefinitionRegistry flowRegistry() {\r\n    \t\treturn getFlowDefinitionRegistryBuilder() //\r\n    \t\t\t\t.setBasePath(&quot;classpath:flows&quot;) //\r\n    \t\t\t\t.addFlowLocationPattern(&quot;/**/*-flow.xml&quot;) //\r\n    \t\t\t\t.setFlowBuilderServices(this.flowBuilderServices()) //\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FlowExecutor flowExecutor() {\r\n    \t\treturn getFlowExecutorBuilder(this.flowRegistry()) //\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FlowBuilderServices flowBuilderServices() {\r\n    \t\treturn getFlowBuilderServicesBuilder() //\r\n    \t\t\t\t.setViewFactoryCreator(this.mvcViewFactoryCreator()) // Important!\r\n    \t\t\t\t.setValidator(this.localValidatorFacotryBean).build();\r\n    \t}\r\n    \t// ----------------------------------------------------------\r\n    \r\n    \t@Bean\r\n    \tpublic FlowHandlerMapping flowHandlerMapping() {\r\n    \t\tFlowHandlerMapping handlerMapping = new FlowHandlerMapping();\r\n    \t\thandlerMapping.setOrder(-1);\r\n    \t\thandlerMapping.setFlowRegistry(this.flowRegistry());\r\n    \t\treturn handlerMapping;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FlowHandlerAdapter flowHandlerAdapter() {\r\n    \t\tFlowHandlerAdapter handlerAdapter = new FlowHandlerAdapter();\r\n    \t\thandlerAdapter.setFlowExecutor(this.flowExecutor());\r\n    \t\thandlerAdapter.setSaveOutputToFlashScopeOnRedirect(true);\r\n    \t\treturn handlerAdapter;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ViewFactoryCreator mvcViewFactoryCreator() {\r\n    \t\tMvcViewFactoryCreator factoryCreator = new MvcViewFactoryCreator();\r\n    \t\tfactoryCreator.setViewResolvers(Collections.singletonList(this.thymeleafViewResolver()));\r\n    \t\tfactoryCreator.setUseSpringBeanBinding(true);\r\n    \t\treturn factoryCreator;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Description(&quot;Thymeleaf AJAX view resolver for Spring WebFlow&quot;)\r\n    \tpublic AjaxThymeleafViewResolver thymeleafViewResolver() {\r\n    \t\tAjaxThymeleafViewResolver viewResolver = new AjaxThymeleafViewResolver();\r\n    \t\tviewResolver.setViewClass(FlowAjaxThymeleafView.class);\r\n    \t\tviewResolver.setTemplateEngine(this.templateEngine());\r\n    \t\tviewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \t\treturn viewResolver;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Description(&quot;Thymeleaf template resolver serving HTML 5&quot;)\r\n    \tpublic ClassLoaderTemplateResolver templateResolver() {\r\n    \t\tClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n    \t\ttemplateResolver.setPrefix(&quot;templates/&quot;);\r\n    \t\ttemplateResolver.setCacheable(false);\r\n    \t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n    \t\ttemplateResolver.setTemplateMode(&quot;HTML5&quot;);\r\n    \t\ttemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \t\treturn templateResolver;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Description(&quot;Thymeleaf template engine with Spring integration&quot;)\r\n    \tpublic SpringTemplateEngine templateEngine() {\r\n    \t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n    \t\ttemplateEngine.setTemplateResolver(this.templateResolver());\r\n    \t\treturn templateEngine;\r\n    \t}\r\n    }\r\n\r\nHomeController.java\r\n\r\n    package com.example.demo.controllers;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    @Controller\r\n    public class HomeController {\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n    \tpublic String index(Model model) {\r\n    \t\tmodel.addAttribute(&quot;message&quot;, &quot;Hello, world!&quot;);\r\n    \t\treturn &quot;index&quot;;\r\n    \t}\r\n    }\r\n\r\nRegisterHandler.java\r\n\r\n    package com.example.demo.handlers;\r\n    \r\n    import org.springframework.binding.message.MessageBuilder;\r\n    import org.springframework.binding.message.MessageContext;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.example.demo.models.BillingInfo;\r\n    import com.example.demo.models.PersonalInfo;\r\n    import com.example.demo.models.RegisterModel;\r\n    \r\n    @Component\r\n    public class RegisterHandler {\r\n    \r\n    \tpublic RegisterModel init() {\r\n    \t\treturn new RegisterModel();\r\n    \t}\r\n    \r\n    \tpublic void addPersonalInfo(RegisterModel registerModel, PersonalInfo personalInfo) {\r\n    \t\tregisterModel.setPersonalInfo(personalInfo);\r\n    \t}\r\n    \r\n    \tpublic void addBillingInfo(RegisterModel registerModel, BillingInfo billingInfo) {\r\n    \t\tregisterModel.setBillingInfo(billingInfo);\r\n    \t}\r\n    \r\n    \tpublic String saveAll(RegisterModel registerModel, MessageContext error) {\r\n    \t\tString transitionValue = &quot;success&quot;;\r\n    \r\n    \t\t// XXX Save model in database or somewhere else...\r\n    \t\terror.addMessage(new MessageBuilder(). //\r\n    \t\t\t\terror() //\r\n    \t\t\t\t.source(&quot;registration&quot;) //\r\n    \t\t\t\t.defaultText( //\r\n    \t\t\t\t\t\tString.format(&quot;Couldn&#39;t register user with username: %s!&quot;,\r\n    \t\t\t\t\t\t\t\tregisterModel.getPersonalInfo().getUsername())) //\r\n    \t\t\t\t.build());\r\n    \t\ttransitionValue = &quot;failure&quot;;\r\n    \r\n    \t\treturn transitionValue;\r\n    \t}\r\n    \r\n    \tpublic String validatePersonalInfo(PersonalInfo personalInfo, MessageContext error) {\r\n    \t\tString transitionValue = &quot;success&quot;;\r\n    \r\n    \t\t// Checking that username is not equal to &#39;Vakho&#39; :d XXX do whatever you want!\r\n    \t\tif (personalInfo.getUsername().equalsIgnoreCase(&quot;Vakho&quot;)) {\r\n    \t\t\terror.addMessage(new MessageBuilder(). //\r\n    \t\t\t\t\terror() //\r\n    \t\t\t\t\t.source(&quot;username&quot;) //\r\n    \t\t\t\t\t.defaultText(&quot;You are not allowed to use Vakho as the username!&quot;) //\r\n    \t\t\t\t\t.build());\r\n    \r\n    \t\t\ttransitionValue = &quot;failure&quot;;\r\n    \t\t}\r\n    \r\n    \t\t// Checking if password matched the confirm password\r\n    \t\tif (!personalInfo.getPassword().equals(personalInfo.getConfirmPassword())) {\r\n    \t\t\terror.addMessage(new MessageBuilder(). //\r\n    \t\t\t\t\terror() //\r\n    \t\t\t\t\t.source(&quot;confirmPassword&quot;) //\r\n    \t\t\t\t\t.defaultText(&quot;Password doesn&#39;t match up the confirm password!&quot;) //\r\n    \t\t\t\t\t.build());\r\n    \r\n    \t\t\ttransitionValue = &quot;failure&quot;;\r\n    \t\t}\r\n    \t\treturn transitionValue;\r\n    \t}\r\n    }\r\n\r\n\r\nBillingInfo.java\r\n\r\n    package com.example.demo.models;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.validation.constraints.NotBlank;\r\n    \r\n    public class BillingInfo implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String address;\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    }\r\n\r\nPersonalInfo.java\r\n\r\n    package com.example.demo.models;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    import java.util.Base64;\r\n    \r\n    import javax.validation.constraints.NotBlank;\r\n    \r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    public class PersonalInfo implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate byte[] imageContent;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String username;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String password;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String confirmPassword;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String firstname;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String lastname;\r\n    \r\n    \tpublic byte[] getImageContent() {\r\n    \t\treturn imageContent;\r\n    \t}\r\n    \r\n    \tpublic String getImageBase64() {\r\n    \t\treturn Base64.getEncoder().encodeToString(imageContent);\r\n    \t}\r\n    \r\n    \tpublic void setImage(MultipartFile image) throws IOException {\r\n    \t\tthis.imageContent = image.getBytes();\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getConfirmPassword() {\r\n    \t\treturn confirmPassword;\r\n    \t}\r\n    \r\n    \tpublic void setConfirmPassword(String confirmPassword) {\r\n    \t\tthis.confirmPassword = confirmPassword;\r\n    \t}\r\n    \r\n    \tpublic String getFirstname() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \tpublic void setFirstname(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \r\n    \tpublic String getLastname() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \tpublic void setLastname(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    }\r\n\r\n\r\nRegisterModel.java\r\n\r\n    package com.example.demo.models;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public class RegisterModel implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate PersonalInfo personalInfo;\r\n    \tprivate BillingInfo billingInfo;\r\n    \r\n    \tpublic PersonalInfo getPersonalInfo() {\r\n    \t\treturn personalInfo;\r\n    \t}\r\n    \r\n    \tpublic void setPersonalInfo(PersonalInfo personalInfo) {\r\n    \t\tthis.personalInfo = personalInfo;\r\n    \t}\r\n    \r\n    \tpublic BillingInfo getBillingInfo() {\r\n    \t\treturn billingInfo;\r\n    \t}\r\n    \r\n    \tpublic void setBillingInfo(BillingInfo billingInfo) {\r\n    \t\tthis.billingInfo = billingInfo;\r\n    \t}\r\n    }\r\n\r\nsignup-flow.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;flow xmlns=&quot;http://www.springframework.org/schema/webflow&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/webflow\r\n                              http://www.springframework.org/schema/webflow/spring-webflow.xsd&quot;&gt;\r\n    \r\n    \t&lt;var name=&quot;personalInfo&quot; class=&quot;com.example.demo.models.PersonalInfo&quot; /&gt;\r\n    \t&lt;var name=&quot;billingInfo&quot; class=&quot;com.example.demo.models.BillingInfo&quot; /&gt;\r\n    \t\r\n    \t&lt;!-- returning and adding inside flow registerModel instance --&gt;\r\n    \t&lt;on-start&gt;\r\n    \t\t&lt;evaluate expression=&quot;registerHandler.init()&quot;\r\n    \t\t\tresult=&quot;flowScope.registerModel&quot; /&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t&lt;/on-start&gt;\r\n    \r\n    \t&lt;!-- is the start state --&gt;\r\n    \t&lt;view-state id=&quot;personal&quot; view=&quot;flows/register/signup-personal&quot; model=&quot;personalInfo&quot;&gt;\r\n    \t\t&lt;transition on=&quot;billing&quot; to=&quot;validatePersonal&quot; /&gt;\r\n    \t\t&lt;on-exit&gt;\r\n    \t\t\t&lt;evaluate expression=&quot;registerHandler.addPersonalInfo(flowScope.registerModel, personalInfo)&quot;&gt;&lt;/evaluate&gt;\r\n    \t\t&lt;/on-exit&gt;\r\n    \t&lt;/view-state&gt;\r\n    \t&lt;action-state id=&quot;validatePersonal&quot;&gt;\r\n    \t\t&lt;evaluate expression=&quot;registerHandler.validatePersonalInfo(personalInfo, messageContext)&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;success&quot; to=&quot;billing&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;failure&quot; to=&quot;personal&quot; /&gt;\r\n    \t&lt;/action-state&gt;\r\n    \r\n    \t&lt;view-state id=&quot;billing&quot; view=&quot;flows/register/signup-billing&quot; model=&quot;billingInfo&quot;&gt;\r\n    \t\t&lt;transition on=&quot;personal&quot; to=&quot;personal&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;confirm&quot; to=&quot;confirm&quot; /&gt;\r\n    \t\t&lt;on-exit&gt;\r\n    \t\t\t&lt;evaluate expression=&quot;registerHandler.addBillingInfo(flowScope.registerModel, billingInfo)&quot;&gt;&lt;/evaluate&gt;\r\n    \t\t&lt;/on-exit&gt;\r\n    \t&lt;/view-state&gt;\r\n    \t&lt;view-state id=&quot;confirm&quot; view=&quot;flows/register/signup-confirm&quot; model=&quot;flowScope.registerModel&quot;&gt;\r\n    \t\t&lt;transition on=&quot;personal&quot; to=&quot;personal&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;billing&quot; to=&quot;billing&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;submit&quot; to=&quot;submit&quot; /&gt;\r\n    \t&lt;/view-state&gt;\r\n    \r\n    \t&lt;action-state id=&quot;submit&quot;&gt;\r\n    \t\t&lt;evaluate expression=&quot;registerHandler.saveAll(flowScope.registerModel, messageContext)&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;success&quot; to=&quot;success&quot; /&gt;\r\n    \t\t&lt;transition on=&quot;failure&quot; to=&quot;confirm&quot; /&gt;\r\n    \t&lt;/action-state&gt;\r\n    \t&lt;!-- end state --&gt;\r\n    \t&lt;end-state id=&quot;success&quot; view=&quot;flows/register/signup-success&quot; /&gt;\r\n    \t&lt;end-state id=&quot;home&quot; view=&quot;externalRedirect:contextRelative:/&quot; /&gt;\r\n    \t&lt;!-- Global Transition --&gt;\r\n    \t&lt;global-transitions&gt;\r\n    \t\t &lt;transition on=&quot;home&quot; to=&quot;home&quot; validate=&quot;false&quot; /&gt; \r\n    \t&lt;/global-transitions&gt;\r\n    &lt;/flow&gt;\r\n\r\nAnd this is the project structure\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI came across the answer of dbreaux but I&#39;m not able to implement the same\r\n\r\n\r\n  [1]: https://github.com/vakho10/Java-Spring-Boot-with-Web-Flow-and-Thymeleaf\r\n  [2]: https://i.stack.imgur.com/UYhFX.png\r\n  [3]: https://github.com/prparamesh/spring/\r\n  [4]: https://i.stack.imgur.com/xZTdh.png","title":"Spring Web Flow How to handle flow exception ( org.springframework.webflow.execution.repository.snapshot.SnapshotNotFoundException ) and redirect?","body":"<p>I have similar code inline with this <a href=\"https://github.com/vakho10/Java-Spring-Boot-with-Web-Flow-and-Thymeleaf\" rel=\"nofollow noreferrer\">repo</a>, in case of normal exception I'm able to redirect to the designated page as expected using global exception as follows</p>\n<pre><code>&lt;global-transitions&gt;\n&lt;transition on-exception=&quot;java.lang.Exception&quot; to=&quot;.. &quot;/&gt;\n&lt;/global-transitions&gt;\n</code></pre>\n<p>While in case of an invalid url example following is invalid url</p>\n<p><a href=\"https://i.stack.imgur.com/UYhFX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYhFX.png\" alt=\"enter image description here\" /></a></p>\n<p>which has thrown the following exception</p>\n<pre><code>org.springframework.webflow.execution.repository.snapshot.SnapshotNotFoundException\n</code></pre>\n<p>as following</p>\n<pre><code>2022-11-03 15:14:18.930  INFO 22779 --- [nio-9090-exec-6] o.s.b.f.s.DefaultListableBeanFactory     : Replacing scope 'request' from [org.springframework.web.context.request.RequestScope@1c23aec5] to [org.springframework.web.context.request.RequestScope@7e2b9574]\n2022-11-03 15:14:27.517 ERROR 22779 --- [nio-9090-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.webflow.execution.repository.FlowExecutionRestorationFailureException: A problem occurred restoring the flow execution with key 'e1s12'] with root cause\n\norg.springframework.webflow.execution.repository.snapshot.SnapshotNotFoundException: No flow execution snapshot could be found with id '12'; perhaps the snapshot has been removed? \n    at org.springframework.webflow.execution.repository.impl.SimpleFlowExecutionSnapshotGroup.getSnapshot(SimpleFlowExecutionSnapshotGroup.java:73) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.execution.repository.impl.DefaultFlowExecutionRepository.getFlowExecution(DefaultFlowExecutionRepository.java:111) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n</code></pre>\n<p>in case of invalid url like following</p>\n<pre><code>http://localhost:9090/register;jsessionid=4716C2F2C2D33D27FE69402F0037D9AC?execution=e1sD\n</code></pre>\n<p>it will throw another exception as following</p>\n<pre><code>2022-11-03 15:37:17.092 ERROR 22779 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]: Servlet. service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.webflow.execution.repository.BadlyFormattedFlowExecutionKeyException: Badly formatted flow execution key 'e1sD', the expected format is 'e&lt;executionId&gt;s&lt;snapshotId&gt;'] with root cause\n\njava.lang.NumberFormatException: For input string: &quot;D&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68) ~[na:na]\n    at java.base/java.lang.Integer.parseInt(Integer.java:652) ~[na:na]\n    at java.base/java.lang.Integer.valueOf(Integer.java:983) ~[na:na]\n    at org.springframework.webflow.execution.repository.support.AbstractFlowExecutionRepository.parseSnapshotId(AbstractFlowExecutionRepository.java:219) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.execution.repository.support.AbstractFlowExecutionRepository.parseFlowExecutionKey(AbstractFlowExecutionRepository.java:120) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:163) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n</code></pre>\n<p>How to navigate to a designated page on similar unhandled exception.\nI found couple of answers but not able to successfully implement and resolve. Can anybody help?</p>\n<p>Following is my <a href=\"https://github.com/prparamesh/spring/\" rel=\"nofollow noreferrer\">code</a> in git</p>\n<p>Application.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>WebFlowWithMvcConfig.java</p>\n<pre><code>package com.example.demo.config;\n\nimport java.util.Collections;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Description;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.webflow.config.AbstractFlowConfiguration;\nimport org.springframework.webflow.definition.registry.FlowDefinitionRegistry;\nimport org.springframework.webflow.engine.builder.ViewFactoryCreator;\nimport org.springframework.webflow.engine.builder.support.FlowBuilderServices;\nimport org.springframework.webflow.executor.FlowExecutor;\nimport org.springframework.webflow.mvc.builder.MvcViewFactoryCreator;\nimport org.springframework.webflow.mvc.servlet.FlowHandlerAdapter;\nimport org.springframework.webflow.mvc.servlet.FlowHandlerMapping;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.webflow.view.AjaxThymeleafViewResolver;\nimport org.thymeleaf.spring5.webflow.view.FlowAjaxThymeleafView;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\n\n@Configuration\npublic class WebFlowWithMvcConfig extends AbstractFlowConfiguration {\n\n    @Autowired\n    private LocalValidatorFactoryBean localValidatorFacotryBean;\n\n    @Bean\n    public FlowDefinitionRegistry flowRegistry() {\n        return getFlowDefinitionRegistryBuilder() //\n                .setBasePath(&quot;classpath:flows&quot;) //\n                .addFlowLocationPattern(&quot;/**/*-flow.xml&quot;) //\n                .setFlowBuilderServices(this.flowBuilderServices()) //\n                .build();\n    }\n\n    @Bean\n    public FlowExecutor flowExecutor() {\n        return getFlowExecutorBuilder(this.flowRegistry()) //\n                .build();\n    }\n\n    @Bean\n    public FlowBuilderServices flowBuilderServices() {\n        return getFlowBuilderServicesBuilder() //\n                .setViewFactoryCreator(this.mvcViewFactoryCreator()) // Important!\n                .setValidator(this.localValidatorFacotryBean).build();\n    }\n    // ----------------------------------------------------------\n\n    @Bean\n    public FlowHandlerMapping flowHandlerMapping() {\n        FlowHandlerMapping handlerMapping = new FlowHandlerMapping();\n        handlerMapping.setOrder(-1);\n        handlerMapping.setFlowRegistry(this.flowRegistry());\n        return handlerMapping;\n    }\n\n    @Bean\n    public FlowHandlerAdapter flowHandlerAdapter() {\n        FlowHandlerAdapter handlerAdapter = new FlowHandlerAdapter();\n        handlerAdapter.setFlowExecutor(this.flowExecutor());\n        handlerAdapter.setSaveOutputToFlashScopeOnRedirect(true);\n        return handlerAdapter;\n    }\n\n    @Bean\n    public ViewFactoryCreator mvcViewFactoryCreator() {\n        MvcViewFactoryCreator factoryCreator = new MvcViewFactoryCreator();\n        factoryCreator.setViewResolvers(Collections.singletonList(this.thymeleafViewResolver()));\n        factoryCreator.setUseSpringBeanBinding(true);\n        return factoryCreator;\n    }\n\n    @Bean\n    @Description(&quot;Thymeleaf AJAX view resolver for Spring WebFlow&quot;)\n    public AjaxThymeleafViewResolver thymeleafViewResolver() {\n        AjaxThymeleafViewResolver viewResolver = new AjaxThymeleafViewResolver();\n        viewResolver.setViewClass(FlowAjaxThymeleafView.class);\n        viewResolver.setTemplateEngine(this.templateEngine());\n        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return viewResolver;\n    }\n\n    @Bean\n    @Description(&quot;Thymeleaf template resolver serving HTML 5&quot;)\n    public ClassLoaderTemplateResolver templateResolver() {\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n        templateResolver.setPrefix(&quot;templates/&quot;);\n        templateResolver.setCacheable(false);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(&quot;HTML5&quot;);\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    @Description(&quot;Thymeleaf template engine with Spring integration&quot;)\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(this.templateResolver());\n        return templateEngine;\n    }\n}\n</code></pre>\n<p>HomeController.java</p>\n<pre><code>package com.example.demo.controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\npublic class HomeController {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;message&quot;, &quot;Hello, world!&quot;);\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>RegisterHandler.java</p>\n<pre><code>package com.example.demo.handlers;\n\nimport org.springframework.binding.message.MessageBuilder;\nimport org.springframework.binding.message.MessageContext;\nimport org.springframework.stereotype.Component;\n\nimport com.example.demo.models.BillingInfo;\nimport com.example.demo.models.PersonalInfo;\nimport com.example.demo.models.RegisterModel;\n\n@Component\npublic class RegisterHandler {\n\n    public RegisterModel init() {\n        return new RegisterModel();\n    }\n\n    public void addPersonalInfo(RegisterModel registerModel, PersonalInfo personalInfo) {\n        registerModel.setPersonalInfo(personalInfo);\n    }\n\n    public void addBillingInfo(RegisterModel registerModel, BillingInfo billingInfo) {\n        registerModel.setBillingInfo(billingInfo);\n    }\n\n    public String saveAll(RegisterModel registerModel, MessageContext error) {\n        String transitionValue = &quot;success&quot;;\n\n        // XXX Save model in database or somewhere else...\n        error.addMessage(new MessageBuilder(). //\n                error() //\n                .source(&quot;registration&quot;) //\n                .defaultText( //\n                        String.format(&quot;Couldn't register user with username: %s!&quot;,\n                                registerModel.getPersonalInfo().getUsername())) //\n                .build());\n        transitionValue = &quot;failure&quot;;\n\n        return transitionValue;\n    }\n\n    public String validatePersonalInfo(PersonalInfo personalInfo, MessageContext error) {\n        String transitionValue = &quot;success&quot;;\n\n        // Checking that username is not equal to 'Vakho' :d XXX do whatever you want!\n        if (personalInfo.getUsername().equalsIgnoreCase(&quot;Vakho&quot;)) {\n            error.addMessage(new MessageBuilder(). //\n                    error() //\n                    .source(&quot;username&quot;) //\n                    .defaultText(&quot;You are not allowed to use Vakho as the username!&quot;) //\n                    .build());\n\n            transitionValue = &quot;failure&quot;;\n        }\n\n        // Checking if password matched the confirm password\n        if (!personalInfo.getPassword().equals(personalInfo.getConfirmPassword())) {\n            error.addMessage(new MessageBuilder(). //\n                    error() //\n                    .source(&quot;confirmPassword&quot;) //\n                    .defaultText(&quot;Password doesn't match up the confirm password!&quot;) //\n                    .build());\n\n            transitionValue = &quot;failure&quot;;\n        }\n        return transitionValue;\n    }\n}\n</code></pre>\n<p>BillingInfo.java</p>\n<pre><code>package com.example.demo.models;\n\nimport java.io.Serializable;\n\nimport javax.validation.constraints.NotBlank;\n\npublic class BillingInfo implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @NotBlank\n    private String address;\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n}\n</code></pre>\n<p>PersonalInfo.java</p>\n<pre><code>package com.example.demo.models;\n\nimport java.io.IOException;\nimport java.io.Serializable;\nimport java.util.Base64;\n\nimport javax.validation.constraints.NotBlank;\n\nimport org.springframework.web.multipart.MultipartFile;\n\npublic class PersonalInfo implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private byte[] imageContent;\n\n    @NotBlank\n    private String username;\n\n    @NotBlank\n    private String password;\n\n    @NotBlank\n    private String confirmPassword;\n\n    @NotBlank\n    private String firstname;\n\n    @NotBlank\n    private String lastname;\n\n    public byte[] getImageContent() {\n        return imageContent;\n    }\n\n    public String getImageBase64() {\n        return Base64.getEncoder().encodeToString(imageContent);\n    }\n\n    public void setImage(MultipartFile image) throws IOException {\n        this.imageContent = image.getBytes();\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getConfirmPassword() {\n        return confirmPassword;\n    }\n\n    public void setConfirmPassword(String confirmPassword) {\n        this.confirmPassword = confirmPassword;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n}\n</code></pre>\n<p>RegisterModel.java</p>\n<pre><code>package com.example.demo.models;\n\nimport java.io.Serializable;\n\npublic class RegisterModel implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private PersonalInfo personalInfo;\n    private BillingInfo billingInfo;\n\n    public PersonalInfo getPersonalInfo() {\n        return personalInfo;\n    }\n\n    public void setPersonalInfo(PersonalInfo personalInfo) {\n        this.personalInfo = personalInfo;\n    }\n\n    public BillingInfo getBillingInfo() {\n        return billingInfo;\n    }\n\n    public void setBillingInfo(BillingInfo billingInfo) {\n        this.billingInfo = billingInfo;\n    }\n}\n</code></pre>\n<p>signup-flow.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;flow xmlns=&quot;http://www.springframework.org/schema/webflow&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/webflow\n                          http://www.springframework.org/schema/webflow/spring-webflow.xsd&quot;&gt;\n\n    &lt;var name=&quot;personalInfo&quot; class=&quot;com.example.demo.models.PersonalInfo&quot; /&gt;\n    &lt;var name=&quot;billingInfo&quot; class=&quot;com.example.demo.models.BillingInfo&quot; /&gt;\n    \n    &lt;!-- returning and adding inside flow registerModel instance --&gt;\n    &lt;on-start&gt;\n        &lt;evaluate expression=&quot;registerHandler.init()&quot;\n            result=&quot;flowScope.registerModel&quot; /&gt;\n            \n            \n    &lt;/on-start&gt;\n\n    &lt;!-- is the start state --&gt;\n    &lt;view-state id=&quot;personal&quot; view=&quot;flows/register/signup-personal&quot; model=&quot;personalInfo&quot;&gt;\n        &lt;transition on=&quot;billing&quot; to=&quot;validatePersonal&quot; /&gt;\n        &lt;on-exit&gt;\n            &lt;evaluate expression=&quot;registerHandler.addPersonalInfo(flowScope.registerModel, personalInfo)&quot;&gt;&lt;/evaluate&gt;\n        &lt;/on-exit&gt;\n    &lt;/view-state&gt;\n    &lt;action-state id=&quot;validatePersonal&quot;&gt;\n        &lt;evaluate expression=&quot;registerHandler.validatePersonalInfo(personalInfo, messageContext)&quot; /&gt;\n        &lt;transition on=&quot;success&quot; to=&quot;billing&quot; /&gt;\n        &lt;transition on=&quot;failure&quot; to=&quot;personal&quot; /&gt;\n    &lt;/action-state&gt;\n\n    &lt;view-state id=&quot;billing&quot; view=&quot;flows/register/signup-billing&quot; model=&quot;billingInfo&quot;&gt;\n        &lt;transition on=&quot;personal&quot; to=&quot;personal&quot; /&gt;\n        &lt;transition on=&quot;confirm&quot; to=&quot;confirm&quot; /&gt;\n        &lt;on-exit&gt;\n            &lt;evaluate expression=&quot;registerHandler.addBillingInfo(flowScope.registerModel, billingInfo)&quot;&gt;&lt;/evaluate&gt;\n        &lt;/on-exit&gt;\n    &lt;/view-state&gt;\n    &lt;view-state id=&quot;confirm&quot; view=&quot;flows/register/signup-confirm&quot; model=&quot;flowScope.registerModel&quot;&gt;\n        &lt;transition on=&quot;personal&quot; to=&quot;personal&quot; /&gt;\n        &lt;transition on=&quot;billing&quot; to=&quot;billing&quot; /&gt;\n        &lt;transition on=&quot;submit&quot; to=&quot;submit&quot; /&gt;\n    &lt;/view-state&gt;\n\n    &lt;action-state id=&quot;submit&quot;&gt;\n        &lt;evaluate expression=&quot;registerHandler.saveAll(flowScope.registerModel, messageContext)&quot; /&gt;\n        &lt;transition on=&quot;success&quot; to=&quot;success&quot; /&gt;\n        &lt;transition on=&quot;failure&quot; to=&quot;confirm&quot; /&gt;\n    &lt;/action-state&gt;\n    &lt;!-- end state --&gt;\n    &lt;end-state id=&quot;success&quot; view=&quot;flows/register/signup-success&quot; /&gt;\n    &lt;end-state id=&quot;home&quot; view=&quot;externalRedirect:contextRelative:/&quot; /&gt;\n    &lt;!-- Global Transition --&gt;\n    &lt;global-transitions&gt;\n         &lt;transition on=&quot;home&quot; to=&quot;home&quot; validate=&quot;false&quot; /&gt; \n    &lt;/global-transitions&gt;\n&lt;/flow&gt;\n</code></pre>\n<p>And this is the project structure</p>\n<p><a href=\"https://i.stack.imgur.com/xZTdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZTdh.png\" alt=\"enter image description here\" /></a></p>\n<p>I came across the answer of dbreaux but I'm not able to implement the same</p>\n"},{"tags":["java","amazon-web-services","jdbc","amazon-athena"],"answers":[{"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667471385,"creation_date":1667456828,"answer_id":74298830,"question_id":74298635,"body_markdown":"Your SQL is wrong. The ? is a placeholder, don&#39;t use &#39; &#39; parcel.\r\n\r\nThis is correct:\r\n\r\n    &quot;INSERT INTO default.bjhfhj VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;\r\n\r\nYou should know how to use a placeholder for preparedStatement.\r\n\r\n====\r\n\r\nTry this:\r\n\r\n 1. Modify the sql like this to insert only one field, and make sure that the insterted value is of the type required by the field. \r\n\r\n    &quot;insert into t_user (id) values (?)&quot;\r\n\r\n 2. Use this method to set value\r\n\r\n    query.setParameter(0, someVarId);\r\n\r\nAnd if that doesn&#39;t work,I can&#39;t help you also.I am sorry.","title":"Amazon Athena - insert Query error &quot;[Simba][JDBC](10940) Invalid parameter index: 1.&quot;","body":"<p>Your SQL is wrong. The ? is a placeholder, don't use ' ' parcel.</p>\n<p>This is correct:</p>\n<pre><code>&quot;INSERT INTO default.bjhfhj VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;\n</code></pre>\n<p>You should know how to use a placeholder for preparedStatement.</p>\n<p>====</p>\n<p>Try this:</p>\n<ol>\n<li><p>Modify the sql like this to insert only one field, and make sure that the insterted value is of the type required by the field.</p>\n<p>&quot;insert into t_user (id) values (?)&quot;</p>\n</li>\n<li><p>Use this method to set value</p>\n<p>query.setParameter(0, someVarId);</p>\n</li>\n</ol>\n<p>And if that doesn't work,I can't help you also.I am sorry.</p>\n"}],"owner":{"account_id":12925980,"reputation":3,"user_id":9346701,"display_name":"CrazyCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667471896,"creation_date":1667455084,"question_id":74298635,"body_markdown":"I have been trying to export from my machine to Athena DB using a prepared statement. Query given \r\n\r\n    &quot;INSERT INTO &quot;default&quot;.&quot;bjhfhj&quot; VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;)&quot;\r\n\r\nCode:\r\n\r\n    preparedStatement= dbConnection.prepareStatement(insertQuery.toString());\r\n    preparedStatement.setString(1, &quot;&lt;colValue&gt;&quot;);\r\n\r\nFor this piece of code, I&#39;m getting the error `&quot;[Simba][JDBC](10940) Invalid parameter index: 1.&quot;`\r\n\r\nStack trace :\r\n\r\n```\r\ncom.simba.athena.exceptions.ExceptionConverter.toSQLException(Unknown Source)\r\ncom.simba.athena.jdbc.common.SPreparedStatement.checkValidParameterIndex(Unknown Source)\r\ncom.simba.athena.jdbc.common.SPreparedStatement.setString(Unknown Source)\r\n```\r\n\r\nexact java code:\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    \r\n    public class AmazonAthena {\r\n        public static void main(String[] args) {\r\n            String connection_URL = &quot;jdbc:awsathena://athena.&lt;AWSREGION&gt;.amazonaws.com:443;User=&lt;ACCESS_KEY&gt;;Password=&lt;SECRET_KEY&gt;;S3OutputLocation=&lt;S3_OUTPUT_LOCATION&gt;;&quot;;\r\n            Connection connection = null;\r\n            try {\r\n                Class.forName(&quot;com.simba.athena.jdbc.Driver&quot;);\r\n                connection = DriverManager.getConnection(connection_URL);\r\n                PreparedStatement preparedStatement= connection.prepareStatement(&quot;INSERT INTO \\&quot;dataprepdb\\&quot;.\\&quot;bjhfhj\\&quot; VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;);\r\n                String value = &quot;dhv&quot;;\r\n                for (int i=0;i&lt;20;i++){\r\n                    preparedStatement.setString(i+1,value+i);\r\n                }\r\n                preparedStatement.executeUpdate();\r\n    \r\n            } catch (SQLException | ClassNotFoundException e) {\r\n                System.out.printf(&quot;error&quot;);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHow can I fix this?","title":"Amazon Athena - insert Query error &quot;[Simba][JDBC](10940) Invalid parameter index: 1.&quot;","body":"<p>I have been trying to export from my machine to Athena DB using a prepared statement. Query given</p>\n<pre><code>&quot;INSERT INTO &quot;default&quot;.&quot;bjhfhj&quot; VALUES ('?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?')&quot;\n</code></pre>\n<p>Code:</p>\n<pre><code>preparedStatement= dbConnection.prepareStatement(insertQuery.toString());\npreparedStatement.setString(1, &quot;&lt;colValue&gt;&quot;);\n</code></pre>\n<p>For this piece of code, I'm getting the error <code>&quot;[Simba][JDBC](10940) Invalid parameter index: 1.&quot;</code></p>\n<p>Stack trace :</p>\n<pre><code>com.simba.athena.exceptions.ExceptionConverter.toSQLException(Unknown Source)\ncom.simba.athena.jdbc.common.SPreparedStatement.checkValidParameterIndex(Unknown Source)\ncom.simba.athena.jdbc.common.SPreparedStatement.setString(Unknown Source)\n</code></pre>\n<p>exact java code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\npublic class AmazonAthena {\n    public static void main(String[] args) {\n        String connection_URL = &quot;jdbc:awsathena://athena.&lt;AWSREGION&gt;.amazonaws.com:443;User=&lt;ACCESS_KEY&gt;;Password=&lt;SECRET_KEY&gt;;S3OutputLocation=&lt;S3_OUTPUT_LOCATION&gt;;&quot;;\n        Connection connection = null;\n        try {\n            Class.forName(&quot;com.simba.athena.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(connection_URL);\n            PreparedStatement preparedStatement= connection.prepareStatement(&quot;INSERT INTO \\&quot;dataprepdb\\&quot;.\\&quot;bjhfhj\\&quot; VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;);\n            String value = &quot;dhv&quot;;\n            for (int i=0;i&lt;20;i++){\n                preparedStatement.setString(i+1,value+i);\n            }\n            preparedStatement.executeUpdate();\n\n        } catch (SQLException | ClassNotFoundException e) {\n            System.out.printf(&quot;error&quot;);\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","push-notification","onesignal"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1564037221,"post_id":57195738,"comment_id":100900281,"body_markdown":"I have no idea of what onesignal is, but my guess is that it expects an object in contents, not a string","body":"I have no idea of what onesignal is, but my guess is that it expects an object in contents, not a string"},{"owner":{"account_id":3242308,"reputation":1499,"user_id":3751213,"display_name":"j809"},"score":0,"creation_date":1564042043,"post_id":57195738,"comment_id":100902809,"body_markdown":"Not very sure about the working of oneSignal, but the JSON string seems malformed. Currently missing a closing braces. Should it be `&quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot;}&quot;` ?","body":"Not very sure about the working of oneSignal, but the JSON string seems malformed. Currently missing a closing braces. Should it be <code>&quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot;}&quot;</code> ?"},{"owner":{"account_id":14738417,"reputation":470,"user_id":10758321,"display_name":"钟智强"},"score":0,"creation_date":1643001504,"post_id":57195738,"comment_id":125214981,"body_markdown":"You can refer examples in postman https://gold-space-33090.postman.co/workspace/My-Workspace~be95e5cd-fd73-491a-802d-365281a88028/collection/9448291-4239c054-ecff-4af6-8ec8-d54487fdd1a1?ctx=documentation","body":"You can refer examples in postman <a href=\"https://gold-space-33090.postman.co/workspace/My-Workspace~be95e5cd-fd73-491a-802d-365281a88028/collection/9448291-4239c054-ecff-4af6-8ec8-d54487fdd1a1?ctx=documentation\" rel=\"nofollow noreferrer\">gold-space-33090.postman.co/workspace/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15313314,"reputation":884,"user_id":11047953,"display_name":"Rodrigo Gomez-Palacio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564618833,"creation_date":1564618833,"answer_id":57300362,"question_id":57195738,"body_markdown":"Make sure you format the JSON string correctly, e.g:\r\n\r\n`{&quot;en&quot;: &quot;English Message&quot;, &quot;es&quot;: &quot;Spanish Message&quot;}`\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://documentation.onesignal.com/reference#section-content-language","title":"Getting an error in one signal push notification : contents must be key/value collections by language code","body":"<p>Make sure you format the JSON string correctly, e.g:</p>\n\n<p><code>{\"en\": \"English Message\", \"es\": \"Spanish Message\"}</code></p>\n\n<p><a href=\"https://documentation.onesignal.com/reference#section-content-language\" rel=\"nofollow noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":12988183,"reputation":181,"user_id":9388319,"display_name":"Micheal Shoyemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667471785,"creation_date":1667471785,"answer_id":74301650,"question_id":57195738,"body_markdown":"Format the contents value with json_decode i.e you format this &quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot; with json_decode e.g\r\n\r\n    $content = json_decode(&quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot;);\r\n\r\n","title":"Getting an error in one signal push notification : contents must be key/value collections by language code","body":"<p>Format the contents value with json_decode i.e you format this &quot;{&quot;en&quot;: &quot;English Message&quot; with json_decode e.g</p>\n<pre><code>$content = json_decode(&quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot;);\n</code></pre>\n"}],"owner":{"account_id":16384104,"reputation":33,"user_id":11834410,"display_name":"Nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57300362,"answer_count":2,"score":3,"last_activity_date":1667471785,"creation_date":1564036641,"question_id":57195738,"body_markdown":"I&#39;m trying to set as a simple message to the contents field in onesignal request body. And I&#39;m getting an error message **&quot;contents must be key/value collections by language code&quot;**.\r\n\r\n```\r\nObjectNode jsonMessage = Json.newObject();\r\njsonMessage.put(&quot;contents&quot;, &quot;{\\&quot;en\\&quot;: \\&quot;English Message\\&quot;&quot;);\r\n```\r\n\r\n&gt;Push Response******** {&quot;errors&quot;:[&quot;contents must be key/value collections by language code&quot;]}","title":"Getting an error in one signal push notification : contents must be key/value collections by language code","body":"<p>I'm trying to set as a simple message to the contents field in onesignal request body. And I'm getting an error message <strong>\"contents must be key/value collections by language code\"</strong>.</p>\n\n<pre><code>ObjectNode jsonMessage = Json.newObject();\njsonMessage.put(\"contents\", \"{\\\"en\\\": \\\"English Message\\\"\");\n</code></pre>\n\n<blockquote>\n  <p>Push Response******** {\"errors\":[\"contents must be key/value collections by language code\"]}</p>\n</blockquote>\n"},{"tags":["java","multithreading","static","lazy-initialization"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1316022199,"post_id":7420504,"comment_id":8968714,"body_markdown":"Err, the video is 57 minutes long. It&#39;s certainly interesting, but you could perhaps tell us where in the video this particular topic is discussed.","body":"Err, the video is 57 minutes long. It&#39;s certainly interesting, but you could perhaps tell us where in the video this particular topic is discussed."},{"owner":{"account_id":54888,"reputation":101101,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":2,"creation_date":1316022306,"post_id":7420504,"comment_id":8968745,"body_markdown":"Look from 43rd min to 48th min, this 5 mins discusses about Static Lazy Initialization.","body":"Look from 43rd min to 48th min, this 5 mins discusses about Static Lazy Initialization."}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316021911,"creation_date":1316021911,"answer_id":7420579,"question_id":7420504,"body_markdown":"A reference would be good here, for sure. They both have the same basic idea: Why allocate resources (memory, cpu) if you don&#39;t have to? Instead, defer allocation of those resources until they&#39;re actually needed. This can be good in intensive environments to avoid waste, but can be very bad if you need the results right now and cannot wait. Adding a &quot;lazy but prudent&quot; system is very difficult (one that detects downtime and runs these lazy calculations when it gets free time.)\r\n\r\nHere&#39;s an example of lazy initialization.\r\n\r\n    class Lazy {\r\n    \r\n        String value;\r\n        int computed;\r\n    \r\n        Lazy(String s) { this.value = s; }\r\n    \r\n        int compute() {\r\n            if(computed == 0) computed = value.length();\r\n            return computed;\r\n        }\r\n    \r\n    }\r\n\r\nHere&#39;s static lazy initializtion\r\n\r\n\r\n    class StaticLazy {\r\n    \r\n        private StaticLazy staticLazy;\r\n        static StaticLazy getInstance() {\r\n            if(staticLazy == null) staticLazy = new StaticLazy();\r\n            return staticLazy;\r\n        }\r\n    }\r\n","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>A reference would be good here, for sure. They both have the same basic idea: Why allocate resources (memory, cpu) if you don't have to? Instead, defer allocation of those resources until they're actually needed. This can be good in intensive environments to avoid waste, but can be very bad if you need the results right now and cannot wait. Adding a \"lazy but prudent\" system is very difficult (one that detects downtime and runs these lazy calculations when it gets free time.)</p>\n\n<p>Here's an example of lazy initialization.</p>\n\n<pre><code>class Lazy {\n\n    String value;\n    int computed;\n\n    Lazy(String s) { this.value = s; }\n\n    int compute() {\n        if(computed == 0) computed = value.length();\n        return computed;\n    }\n\n}\n</code></pre>\n\n<p>Here's static lazy initializtion</p>\n\n<pre><code>class StaticLazy {\n\n    private StaticLazy staticLazy;\n    static StaticLazy getInstance() {\n        if(staticLazy == null) staticLazy = new StaticLazy();\n        return staticLazy;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":326511,"reputation":28843,"user_id":648313,"accept_rate":100,"display_name":"Volo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316101627,"creation_date":1316022523,"answer_id":7420709,"question_id":7420504,"body_markdown":"I think the author in the presentation refers to the fact that a static field would be initialized only once in a thread-safe way at the first use of the class which contains that field (this is guaranteed by JMM):\r\n\r\n    class StaticLazyExample1 {\r\n\r\n       static Helper helper = new Helper();\r\n\r\n       static Helper getHelper() {\r\n          return helper;\r\n       }\r\n    }\r\n\r\nHere `helper` field would be initialized upon first usage of `StaticLazyExample1` class (i.e. upon constructor or static method call)\r\n\r\nThere is also Initialization On Demand Holder idiom, which is based on static lazy initialization:\r\n    \r\n    class StaticLazyExample2 {\r\n\r\n      private static class LazyHolder {\r\n        public static Helper instance = new Helper();\r\n      }\r\n\r\n      public static Helper getHelper() {\r\n        return LazyHolder.instance;\r\n      }\r\n    }\r\n\r\nHere a `Helper` instance would be created only upon first call to `StaticLazyExample2.getHelper()` static method. This code is guaranteed to be thread-safe and correct because of the initialization guarantees for static fields; if a field is set in a static initializer, it is guaranteed to be made visible, correctly, to any thread that accesses that class.\r\n\r\n**UPDATE**\r\n\r\n&gt; What is the difference between both types of initialization?\r\n\r\nThe static lazy initialization provides efficient thread safe lazy initialization of the **static** fields and has zero synchronization overhead.\r\nOn the other hand if you would like to lazily initialize a **non-static** field, you should write something like this:\r\n\r\n    class LazyInitExample1 {\r\n\r\n      private Helper instance;\r\n    \r\n      public synchronized Helper getHelper() {\r\n        if (instance == null) instance == new Helper();\r\n        return instance;\r\n      }\r\n    }\r\n\r\nOr use Double-Cheked Locking idiom:\r\n\r\n    class LazyInitExample2 {\r\n    \r\n        private volatile Helper helper;\r\n\r\n        public Helper getHelper() {\r\n          if (helper == null) {\r\n              synchronized (this) {\r\n                  if (helper == null) helper = new Helper();\r\n              }\r\n          }\r\n          return helper;\r\n        }\r\n    }\r\n\r\nShould I mention they both require explicit synchronization and carry additional timing overhead comparing to static lazy initialization?","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>I think the author in the presentation refers to the fact that a static field would be initialized only once in a thread-safe way at the first use of the class which contains that field (this is guaranteed by JMM):</p>\n\n<pre><code>class StaticLazyExample1 {\n\n   static Helper helper = new Helper();\n\n   static Helper getHelper() {\n      return helper;\n   }\n}\n</code></pre>\n\n<p>Here <code>helper</code> field would be initialized upon first usage of <code>StaticLazyExample1</code> class (i.e. upon constructor or static method call)</p>\n\n<p>There is also Initialization On Demand Holder idiom, which is based on static lazy initialization:</p>\n\n<pre><code>class StaticLazyExample2 {\n\n  private static class LazyHolder {\n    public static Helper instance = new Helper();\n  }\n\n  public static Helper getHelper() {\n    return LazyHolder.instance;\n  }\n}\n</code></pre>\n\n<p>Here a <code>Helper</code> instance would be created only upon first call to <code>StaticLazyExample2.getHelper()</code> static method. This code is guaranteed to be thread-safe and correct because of the initialization guarantees for static fields; if a field is set in a static initializer, it is guaranteed to be made visible, correctly, to any thread that accesses that class.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>What is the difference between both types of initialization?</p>\n</blockquote>\n\n<p>The static lazy initialization provides efficient thread safe lazy initialization of the <strong>static</strong> fields and has zero synchronization overhead.\nOn the other hand if you would like to lazily initialize a <strong>non-static</strong> field, you should write something like this:</p>\n\n<pre><code>class LazyInitExample1 {\n\n  private Helper instance;\n\n  public synchronized Helper getHelper() {\n    if (instance == null) instance == new Helper();\n    return instance;\n  }\n}\n</code></pre>\n\n<p>Or use Double-Cheked Locking idiom:</p>\n\n<pre><code>class LazyInitExample2 {\n\n    private volatile Helper helper;\n\n    public Helper getHelper() {\n      if (helper == null) {\n          synchronized (this) {\n              if (helper == null) helper = new Helper();\n          }\n      }\n      return helper;\n    }\n}\n</code></pre>\n\n<p>Should I mention they both require explicit synchronization and carry additional timing overhead comparing to static lazy initialization?</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1498579939,"creation_date":1316022576,"answer_id":7420714,"question_id":7420504,"body_markdown":"Well both implementations can be static so that is the first misunderstanding.  The presenter in this video is explaining how you can exploit the thread-safety of class initialization.\r\n\r\nClass initialization is inherently thread-safe and if you can have an object initialized on class initialization the object creation too are thread-safe.\r\n\r\nHere is an example of a thread-safe statically initialized object\r\n\r\n    public class MySingletonClass{\r\n      \r\n       private MySingletonClass(){\r\n    \r\n       }\r\n       public static MySingletonClass getInstance(){\r\n             return IntiailizationOnDemandClassholder.instance;\r\n       }\r\n       \r\n       private static class IntiailizationOnDemandClassHolder{\r\n             private static final MySingletonClass instance = new MySingletonClass();\r\n    \r\n       }\r\n     \r\n    }\r\n\r\nWhat is important to know here, MySingletonClass instance variable will never be created and or initialized until `getInstance()` is invoked.  And again since class initialization is thread-safe the `instance` variable of `IntiailizationOnDemandClassholder`  will be loaded safely, once and is visible to all threads.\r\n\r\nTo answer your edit depends on your other type of implementation.  If you want to do double-checked-locking your instance variable would need to be volatile.  If you do not want DCL then you will need to synchronize access each time to your variable.  Here are the two examples:\r\n\r\n    public class DCLLazySingleton{\r\n      private static volatile DCLLazySingleton instance;\r\n     \r\n      public static DCLLazySingleton getInstace(){\r\n         if(instance == null){\r\n            synchronized(DCLLazySingleton.class){\r\n                if(instance == null)\r\n                    instance=new DCLLazySingleton();\r\n            }\r\n         } \r\n         return instance;\r\n    }\r\n\r\nand \r\n\r\n    public class ThreadSafeLazySingleton{\r\n       private static ThreadSafeLazySingleton instance;\r\n\r\n      public static ThreadSafeLazySingleton getInstance(){\r\n         synchronized(ThreadSafeLazySingleton.class){\r\n            if(instance == null){\r\n                instance = new ThreadSafeLazySingleton();\r\n            }\r\n            return instance;\r\n         } \r\n\r\n    }\r\n\r\nThe last example requires a lock acquisition on every request of the instance.  The second example requires a volatile-read on each access (may be cheap or not, depends on the CPU).\r\n\r\nThe first example will always lock once regardless of the CPU.  Not only that but each read will be a normal without any need to worry about thread-safety.  I personally like the first example I have listed.","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>Well both implementations can be static so that is the first misunderstanding.  The presenter in this video is explaining how you can exploit the thread-safety of class initialization.</p>\n\n<p>Class initialization is inherently thread-safe and if you can have an object initialized on class initialization the object creation too are thread-safe.</p>\n\n<p>Here is an example of a thread-safe statically initialized object</p>\n\n<pre><code>public class MySingletonClass{\n\n   private MySingletonClass(){\n\n   }\n   public static MySingletonClass getInstance(){\n         return IntiailizationOnDemandClassholder.instance;\n   }\n\n   private static class IntiailizationOnDemandClassHolder{\n         private static final MySingletonClass instance = new MySingletonClass();\n\n   }\n\n}\n</code></pre>\n\n<p>What is important to know here, MySingletonClass instance variable will never be created and or initialized until <code>getInstance()</code> is invoked.  And again since class initialization is thread-safe the <code>instance</code> variable of <code>IntiailizationOnDemandClassholder</code>  will be loaded safely, once and is visible to all threads.</p>\n\n<p>To answer your edit depends on your other type of implementation.  If you want to do double-checked-locking your instance variable would need to be volatile.  If you do not want DCL then you will need to synchronize access each time to your variable.  Here are the two examples:</p>\n\n<pre><code>public class DCLLazySingleton{\n  private static volatile DCLLazySingleton instance;\n\n  public static DCLLazySingleton getInstace(){\n     if(instance == null){\n        synchronized(DCLLazySingleton.class){\n            if(instance == null)\n                instance=new DCLLazySingleton();\n        }\n     } \n     return instance;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class ThreadSafeLazySingleton{\n   private static ThreadSafeLazySingleton instance;\n\n  public static ThreadSafeLazySingleton getInstance(){\n     synchronized(ThreadSafeLazySingleton.class){\n        if(instance == null){\n            instance = new ThreadSafeLazySingleton();\n        }\n        return instance;\n     } \n\n}\n</code></pre>\n\n<p>The last example requires a lock acquisition on every request of the instance.  The second example requires a volatile-read on each access (may be cheap or not, depends on the CPU).</p>\n\n<p>The first example will always lock once regardless of the CPU.  Not only that but each read will be a normal without any need to worry about thread-safety.  I personally like the first example I have listed.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316037835,"creation_date":1316037835,"answer_id":7423547,"question_id":7420504,"body_markdown":"It is worth noting that the simplest thread safe static lazy initialisation is to use an `enum` This works because initialisation of static fields is thread safe and classes are lazily loaded anyway.\r\n\r\n    enum ThreadSafeLazyLoadedSingleton {\r\n        INSTANCE;\r\n    }\r\n\r\nA class which uses a lazy loaded value is String.  The hashCode is only computed the first time it is used.  After that the cached hashCode is used.\r\n\r\nI don&#39;t think you can say that one is better than the other because they are not really interchangeable. ","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>It is worth noting that the simplest thread safe static lazy initialisation is to use an <code>enum</code> This works because initialisation of static fields is thread safe and classes are lazily loaded anyway.</p>\n\n<pre><code>enum ThreadSafeLazyLoadedSingleton {\n    INSTANCE;\n}\n</code></pre>\n\n<p>A class which uses a lazy loaded value is String.  The hashCode is only computed the first time it is used.  After that the cached hashCode is used.</p>\n\n<p>I don't think you can say that one is better than the other because they are not really interchangeable. </p>\n"},{"tags":[],"owner":{"account_id":4187,"reputation":53594,"user_id":6210,"accept_rate":50,"display_name":"MSN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316038924,"creation_date":1316038924,"answer_id":7423715,"question_id":7420504,"body_markdown":"The distinction is the mechanism you implement the lazy initialization. By `Static Lazy Initialization` I assume the presenter means [this solution][1] which relies on the JVM being compliant with any version of Java ([see 12.4 Initialization of Classes and Interfaces, of the Java Language Specification][2]).\r\n\r\n`Lazy Initialization` probably means lazy initialization described in many other answers to this question. Such initialization mechanisms make assumptions about the JVM that are not thread-safe until Java 5 (as Java 5 has a real memory model specification).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Singleton_pattern#The_solution_of_Bill_Pugh\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/execution.html#44557","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>The distinction is the mechanism you implement the lazy initialization. By <code>Static Lazy Initialization</code> I assume the presenter means <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern#The_solution_of_Bill_Pugh\" rel=\"nofollow\">this solution</a> which relies on the JVM being compliant with any version of Java (<a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#44557\" rel=\"nofollow\">see 12.4 Initialization of Classes and Interfaces, of the Java Language Specification</a>).</p>\n\n<p><code>Lazy Initialization</code> probably means lazy initialization described in many other answers to this question. Such initialization mechanisms make assumptions about the JVM that are not thread-safe until Java 5 (as Java 5 has a real memory model specification).</p>\n"},{"tags":[],"owner":{"account_id":20020975,"reputation":1,"user_id":14675937,"display_name":"Pavan Kumar Bandaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667471579,"creation_date":1667471579,"answer_id":74301596,"question_id":7420504,"body_markdown":"1. Lazy loading is just a fancy name given to the process of initializing a class when it’s actually needed.\r\n\r\n2. In simple words, Lazy loading is a software design pattern where the initialization of an object occurs only when it is actually needed and not before to preserve simplicity of usage and improve performance.\r\n\r\n3. Lazy loading is essential when the cost of object creation is very high and the use of the object is very rare. So this is the scenario where it’s worth implementing lazy loading.The fundamental idea of lazy loading is to load object/data when needed.\r\n\r\nSource: https://www.geeksforgeeks.org/lazy-loading-design-pattern/","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<ol>\n<li><p>Lazy loading is just a fancy name given to the process of initializing a class when it’s actually needed.</p>\n</li>\n<li><p>In simple words, Lazy loading is a software design pattern where the initialization of an object occurs only when it is actually needed and not before to preserve simplicity of usage and improve performance.</p>\n</li>\n<li><p>Lazy loading is essential when the cost of object creation is very high and the use of the object is very rare. So this is the scenario where it’s worth implementing lazy loading.The fundamental idea of lazy loading is to load object/data when needed.</p>\n</li>\n</ol>\n<p>Source: <a href=\"https://www.geeksforgeeks.org/lazy-loading-design-pattern/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/lazy-loading-design-pattern/</a></p>\n"}],"owner":{"account_id":54888,"reputation":101101,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21870,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":7420714,"answer_count":6,"score":13,"last_activity_date":1667471728,"creation_date":1316021629,"question_id":7420504,"body_markdown":"I am going through Java Memory Model video presentation and author is saying it is better to use `Static Lazy Initialization` compared to `Lazy Initialization` and I do not clear understand what he wants to say. \r\n\r\nI wanted to reach to community and would appreciate if someone can explain difference between `Static Lazy Initialization` and `Lazy Initialization` with simple java code example. \r\n\r\nReference: [Advanced Programming Topics - Java Memory Model][1]\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=1FX4zco0ziY","title":"Threading : Lazy Initialization vs Static Lazy Initialization","body":"<p>I am going through Java Memory Model video presentation and author is saying it is better to use <code>Static Lazy Initialization</code> compared to <code>Lazy Initialization</code> and I do not clear understand what he wants to say. </p>\n\n<p>I wanted to reach to community and would appreciate if someone can explain difference between <code>Static Lazy Initialization</code> and <code>Lazy Initialization</code> with simple java code example. </p>\n\n<p>Reference: <a href=\"http://www.youtube.com/watch?v=1FX4zco0ziY\">Advanced Programming Topics - Java Memory Model</a></p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1475339848,"post_id":39795463,"comment_id":66909331,"body_markdown":"Try Closing and then Opening the project.","body":"Try Closing and then Opening the project."},{"owner":{"account_id":8336126,"reputation":183,"user_id":6263022,"accept_rate":29,"display_name":"aleksandar"},"score":3,"creation_date":1475350538,"post_id":39795463,"comment_id":66912838,"body_markdown":"I solved the issue by manually deleting the error in eclipse and rebuilding the project. Squelching the error this way seems to have worked. The project builds and runs without errors.","body":"I solved the issue by manually deleting the error in eclipse and rebuilding the project. Squelching the error this way seems to have worked. The project builds and runs without errors."}],"answers":[{"tags":[],"owner":{"account_id":132300,"reputation":2222,"user_id":332897,"accept_rate":76,"display_name":"Enrique San Mart&#237;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652484152,"creation_date":1513682988,"answer_id":47886030,"question_id":39795463,"body_markdown":"Like is in the comments, I solved this issue closing and opening the project.\r\n\r\nThe problem was when I shared the project as a git project, then, eclipse change the project from:\r\n\r\n    &lt;eclipse-ws&gt;/&lt;my-project&gt;\r\n\r\nto:\r\n\r\n    &lt;user&gt;/git/&lt;my-project&gt;\r\n\r\nBut the classpath is still configured to the workspace path, closing and opening the project solve this problem. :)\r\n\r\nThanks to aleksandar for the answer in the comments.","title":"The container &#39;Web App Libraries&#39; references non existing library &#39;C:\\work\\WebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar&#39;","body":"<p>Like is in the comments, I solved this issue closing and opening the project.</p>\n<p>The problem was when I shared the project as a git project, then, eclipse change the project from:</p>\n<pre><code>&lt;eclipse-ws&gt;/&lt;my-project&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;user&gt;/git/&lt;my-project&gt;\n</code></pre>\n<p>But the classpath is still configured to the workspace path, closing and opening the project solve this problem. :)</p>\n<p>Thanks to aleksandar for the answer in the comments.</p>\n"}],"owner":{"account_id":8336126,"reputation":183,"user_id":6263022,"accept_rate":29,"display_name":"aleksandar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667471632,"creation_date":1475250779,"question_id":39795463,"body_markdown":"I have seen similar bugs with &quot;Maven Libraries&quot; but this is for &quot;Web App Libraries&quot;.\r\n\r\nThis is the story: I had the jar in question that I added to the application as an `External Jar` on the location specified. Then I removed it from the Build Path and deleted it from `C:\\workWebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar`.\r\n\r\nOn opening Eclipse I get the error: `The container &#39;Web App Libraries&#39; references non existing library &#39;C:\\work\\WebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar&#39;`\r\n\r\nI went to `Project -&gt; Properties -&gt; Build Path` and looked at both jars and `Web App Libraries`... this jar is not in the list of jars.\r\n\r\nI tried to right-click and `Refresh` the project.\r\n\r\nI tried to `Clean` and `Build` the project again.\r\n\r\nNone of it worked.\r\n\r\nHow can I tell Eclipse to stop looking for this jar!?\r\n","title":"The container &#39;Web App Libraries&#39; references non existing library &#39;C:\\work\\WebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar&#39;","body":"<p>I have seen similar bugs with \"Maven Libraries\" but this is for \"Web App Libraries\".</p>\n\n<p>This is the story: I had the jar in question that I added to the application as an <code>External Jar</code> on the location specified. Then I removed it from the Build Path and deleted it from <code>C:\\workWebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar</code>.</p>\n\n<p>On opening Eclipse I get the error: <code>The container 'Web App Libraries' references non existing library 'C:\\work\\WebRoot\\WEB-INF\\lib\\google-collections-1.0-rc4.jar'</code></p>\n\n<p>I went to <code>Project -&gt; Properties -&gt; Build Path</code> and looked at both jars and <code>Web App Libraries</code>... this jar is not in the list of jars.</p>\n\n<p>I tried to right-click and <code>Refresh</code> the project.</p>\n\n<p>I tried to <code>Clean</code> and <code>Build</code> the project again.</p>\n\n<p>None of it worked.</p>\n\n<p>How can I tell Eclipse to stop looking for this jar!?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1667467375,"post_id":74300647,"comment_id":131174991,"body_markdown":"what have you tried, actually? and how would a &#39;Z&#39; have to be incremented?","body":"what have you tried, actually? and how would a &#39;Z&#39; have to be incremented?"},{"owner":{"account_id":26394490,"reputation":1,"user_id":20045850,"display_name":"Anuj Verma"},"score":0,"creation_date":1667467536,"post_id":74300647,"comment_id":131175044,"body_markdown":"I take the ASCII value and increment it by 1","body":"I take the ASCII value and increment it by 1"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1667467591,"post_id":74300647,"comment_id":131175065,"body_markdown":"could you show your actual code, your actual in- and output?","body":"could you show your actual code, your actual in- and output?"},{"owner":{"account_id":16025918,"reputation":4676,"user_id":11566161,"display_name":"Shri Hari L"},"score":0,"creation_date":1667467782,"post_id":74300647,"comment_id":131175133,"body_markdown":"Include your code in the question","body":"Include your code in the question"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1667471581,"post_id":74300647,"comment_id":131176539,"body_markdown":"Please update the question to show your work","body":"Please update the question to show your work"}],"answers":[{"tags":[],"owner":{"account_id":25887068,"reputation":3,"user_id":19614984,"display_name":"Tushar Kawade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667470963,"creation_date":1667470963,"answer_id":74301437,"question_id":74300647,"body_markdown":"You can increment character by taking its ASCII values\r\n\r\n\t\t\t\r\n    String input=&quot;hello&quot;;\r\n    int ascii=input.charAt(0);\r\n    ascii++;\r\n    char temp = (char)ascii;\r\n\r\n\r\n\r\n**function to reverse a string :**\r\n\r\n\t\r\n\r\n    public String rev(String input)\r\n    \t{\r\n    \t\tString output=new String();\r\n    \t\tfor(int i=input.length()-1;i&gt;=0;i--)\r\n    \t\t\toutput=output+input.charAt(i);\r\n    \t\treturn output;\r\n    \t}\r\n\r\n**function to increment a character by one:**\r\n\r\n    public String modifyString(String input)\r\n    \t{\r\n    \t\tString str =&quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;input.length();i++)\r\n    \t\t{\r\n    \t\t\tint ascii=input.charAt(i);\r\n    \t\t\t\r\n    \r\n    \t\t\tif(ascii==122)\r\n    \t\t\t{\r\n    \t\t\t\tascii=97;\r\n    \t\t\t}\r\n    \t\t\telse if(ascii==90)\r\n    \t\t\t{\r\n    \t\t\t\tascii=65;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tascii++;\r\n    \t\t\t}\r\n    \t\t\tchar temp = (char) ascii;\r\n    \t\t\t\t\t\r\n    \t\t\tstr =str+ (char)ascii;\r\n    \t\t\t\r\n    \t\t\t\r\n    \r\n    \t\t}\r\n    \t\treturn str;\r\n    \t}\r\n\r\n\r\n\r\n\r\n\r\n","title":"I have to reverse a string and increment each character by 1, input - ABDEF output - GFECB","body":"<p>You can increment character by taking its ASCII values</p>\n<pre><code>String input=&quot;hello&quot;;\nint ascii=input.charAt(0);\nascii++;\nchar temp = (char)ascii;\n</code></pre>\n<p><strong>function to reverse a string :</strong></p>\n<pre><code>public String rev(String input)\n    {\n        String output=new String();\n        for(int i=input.length()-1;i&gt;=0;i--)\n            output=output+input.charAt(i);\n        return output;\n    }\n</code></pre>\n<p><strong>function to increment a character by one:</strong></p>\n<pre><code>public String modifyString(String input)\n    {\n        String str =&quot;&quot;;\n        for(int i=0;i&lt;input.length();i++)\n        {\n            int ascii=input.charAt(i);\n            \n\n            if(ascii==122)\n            {\n                ascii=97;\n            }\n            else if(ascii==90)\n            {\n                ascii=65;\n            }\n            else\n            {\n                ascii++;\n            }\n            char temp = (char) ascii;\n                    \n            str =str+ (char)ascii;\n            \n            \n\n        }\n        return str;\n    }\n</code></pre>\n"}],"owner":{"account_id":26394490,"reputation":1,"user_id":20045850,"display_name":"Anuj Verma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667470963,"creation_date":1667467325,"question_id":74300647,"body_markdown":"I have to reverse a string and increment each character by 1,\r\ninput - ABDEF \r\noutput - GFECB \r\n\r\nI have tried it out but I&#39;m not getting  how to increment the character","title":"I have to reverse a string and increment each character by 1, input - ABDEF output - GFECB","body":"<p>I have to reverse a string and increment each character by 1,\ninput - ABDEF\noutput - GFECB</p>\n<p>I have tried it out but I'm not getting  how to increment the character</p>\n"},{"tags":["java","android","android-gridlayout"],"comments":[{"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"score":0,"creation_date":1667466369,"post_id":74300204,"comment_id":131174658,"body_markdown":"try `android:gravity=&quot;right&quot;` instead `app:layout_gravity=&quot;right&quot;`","body":"try <code>android:gravity=&quot;right&quot;</code> instead <code>app:layout_gravity=&quot;right&quot;</code>"},{"owner":{"account_id":8483128,"reputation":351,"user_id":6362238,"accept_rate":75,"display_name":"JamesL"},"score":0,"creation_date":1667466506,"post_id":74300204,"comment_id":131174706,"body_markdown":"@Omkar thanks but it does not produce the result I&#39;m expecting. The two columns are equal but the blue `TextView` fills the column horizontally. I need it to stay aligned to the right.","body":"@Omkar thanks but it does not produce the result I&#39;m expecting. The two columns are equal but the blue <code>TextView</code> fills the column horizontally. I need it to stay aligned to the right."},{"owner":{"account_id":8483128,"reputation":351,"user_id":6362238,"accept_rate":75,"display_name":"JamesL"},"score":0,"creation_date":1667468399,"post_id":74300204,"comment_id":131175380,"body_markdown":"@Omkar Why &quot;3&quot; and not &quot;4&quot; ?  :)","body":"@Omkar Why &quot;3&quot; and not &quot;4&quot; ?  :)"}],"answers":[{"tags":[],"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667470838,"creation_date":1667466744,"answer_id":74300526,"question_id":74300204,"body_markdown":"try below code this may result what you expected\r\n\r\n   \r\n\r\n     &lt;androidx.gridlayout.widget.GridLayout android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:background=&quot;#00FF00&quot;\r\n        app:columnCount=&quot;2&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:text=&quot;Cell 0&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;#FF0000&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            app:layout_column=&quot;1&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            android:gravity=&quot;right&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Cell 1&quot;\r\n                android:background=&quot;#0000FF&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/apdj3.png","title":"Android GridLayout: How to align child view to right with its column width proportional","body":"<p>try below code this may result what you expected</p>\n<pre><code> &lt;androidx.gridlayout.widget.GridLayout android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;#00FF00&quot;\n    app:columnCount=&quot;2&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;TextView\n        android:text=&quot;Cell 0&quot;\n        android:layout_width=&quot;0dp&quot;\n        app:layout_column=&quot;0&quot;\n        app:layout_columnWeight=&quot;1&quot;\n        android:background=&quot;#FF0000&quot; /&gt;\n\n    &lt;LinearLayout\n        app:layout_column=&quot;1&quot;\n        android:layout_width=&quot;0dp&quot;\n        app:layout_columnWeight=&quot;1&quot;\n        android:gravity=&quot;right&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Cell 1&quot;\n            android:background=&quot;#0000FF&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.gridlayout.widget.GridLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/apdj3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/apdj3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8483128,"reputation":351,"user_id":6362238,"accept_rate":75,"display_name":"JamesL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667470838,"creation_date":1667465019,"question_id":74300204,"body_markdown":"I have a Grid with two columns, each with a label. I want the label on the 2nd column to align to the right:\r\n\r\n    &lt;androidx.gridlayout.widget.GridLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#00FF00&quot;\r\n        app:columnCount=&quot;2&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:text=&quot;Cell 0&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            android:background=&quot;#FF0000&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:text=&quot;Cell 1&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            app:layout_gravity=&quot;right&quot;\r\n            android:background=&quot;#0000FF&quot;/&gt;\r\n\r\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I make the 1st column to be **equal** to the 2nd column, like in the mockup below?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried setting `android:gravity=&quot;right&quot;` but it solves half of the problem. Columns are equal in width, but the blue label fills the column:\r\n\r\n```\r\n        &lt;TextView\r\n            android:text=&quot;Cell 1&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:background=&quot;#0000FF&quot;/&gt;\r\n```\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe way GridLayout computes the width of a proportionally sized column is very weird. It appears it takes into account the width of the child view. The documentation does not help in describing how the `layout_columnWeight` works exactly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/keYZT.png\r\n  [2]: https://i.stack.imgur.com/LQdV8.png\r\n  [3]: https://i.stack.imgur.com/k3InQ.png","title":"Android GridLayout: How to align child view to right with its column width proportional","body":"<p>I have a Grid with two columns, each with a label. I want the label on the 2nd column to align to the right:</p>\n<pre><code>&lt;androidx.gridlayout.widget.GridLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#00FF00&quot;\n    app:columnCount=&quot;2&quot;&gt;\n\n    &lt;TextView\n        android:text=&quot;Cell 0&quot;\n        app:layout_column=&quot;0&quot;\n        app:layout_columnWeight=&quot;1&quot;\n        android:background=&quot;#FF0000&quot; /&gt;\n\n    &lt;TextView\n        android:text=&quot;Cell 1&quot;\n        app:layout_column=&quot;1&quot;\n        app:layout_columnWeight=&quot;1&quot;\n        app:layout_gravity=&quot;right&quot;\n        android:background=&quot;#0000FF&quot;/&gt;\n\n&lt;/androidx.gridlayout.widget.GridLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/keYZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/keYZT.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I make the 1st column to be <strong>equal</strong> to the 2nd column, like in the mockup below?</p>\n<p><a href=\"https://i.stack.imgur.com/LQdV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LQdV8.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried setting <code>android:gravity=&quot;right&quot;</code> but it solves half of the problem. Columns are equal in width, but the blue label fills the column:</p>\n<pre><code>        &lt;TextView\n            android:text=&quot;Cell 1&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_columnWeight=&quot;1&quot;\n            android:gravity=&quot;right&quot;\n            android:background=&quot;#0000FF&quot;/&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/k3InQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k3InQ.png\" alt=\"enter image description here\" /></a></p>\n<p>The way GridLayout computes the width of a proportionally sized column is very weird. It appears it takes into account the width of the child view. The documentation does not help in describing how the <code>layout_columnWeight</code> works exactly.</p>\n"},{"tags":["java","spring-boot","docker","rest","jdbc"],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667470799,"creation_date":1667470799,"answer_id":74301405,"question_id":74296824,"body_markdown":"I recently came across something similar though not exactly as you describe it.\r\n\r\nI was using entity manager to do some querying but the query was failing and i wasn&#39;t closing the connection on that entity manager, thus leaving the transaction hanging. \r\n\r\nAre you testing on your local environment? If you do, install pg admin if you don&#39;t have it already and with the `Databases` selected, press on `Dashboard` and if something similar happens to you, you&#39;ll see it there. Also don&#39;t forget, while testing, to press the `refresh` button on the right side\r\n\r\n![refresh button][1]\r\n\r\n![dashboard][2]. I didn&#39;t see this at first and it took me some time to see what&#39;s going on\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wmfyl.png\r\n  [2]: https://i.stack.imgur.com/TcBbq.png","title":"Springboot app in docker container unable to acquire JDBC connection after some time on one instance","body":"<p>I recently came across something similar though not exactly as you describe it.</p>\n<p>I was using entity manager to do some querying but the query was failing and i wasn't closing the connection on that entity manager, thus leaving the transaction hanging.</p>\n<p>Are you testing on your local environment? If you do, install pg admin if you don't have it already and with the <code>Databases</code> selected, press on <code>Dashboard</code> and if something similar happens to you, you'll see it there. Also don't forget, while testing, to press the <code>refresh</code> button on the right side</p>\n<p><img src=\"https://i.stack.imgur.com/Wmfyl.png\" alt=\"refresh button\" /></p>\n<p><img src=\"https://i.stack.imgur.com/TcBbq.png\" alt=\"dashboard\" />. I didn't see this at first and it took me some time to see what's going on</p>\n"}],"owner":{"account_id":26812013,"reputation":19,"user_id":20402486,"display_name":"Josh Majumber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667470799,"creation_date":1667433536,"question_id":74296824,"body_markdown":"I&#39;m experiencing a problem and have difficulty isolating the cause or even know where to look for it. I have a REST api service developed using Springboot and connected to a Postgres db and I run it on docker containers. There are multiple instances deployed, up to 10, all with the same configuration. After some time, say a few days, one of the instances will give these errors if you call any API that calls a JPA method that forms a connection to the database:\r\n\r\n```\r\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms\r\norg.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC connection...\r\n... some long stack trace that eventually reaches this ...\r\n```\r\n\r\nThis loops on forever until I manually restart the container, all the other instances work fine. I can ping the health endpoint of this instance via /actuator/health and the status will say &#39;UP&#39;. If I deploy 4 instances, 1 of them throws this error, 3 of them continue working. If I have 10 instances, 1 will throw this error, 9 will continue to work. There are no alarming issues regarding memory or CPU usage. I have tried increasing memory, which doesn&#39;t help, the instances never use above ~450 mb of memory.\r\nI thought that maybe connections are never being destroyed which will lead to preventing new connections to be formed. But that would not explain why the other instances can still operate normally after days/weeks+\r\nSince this is only happening on one instance but nothing is giving me hints, I have trouble finding the root cause of this problem.","title":"Springboot app in docker container unable to acquire JDBC connection after some time on one instance","body":"<p>I'm experiencing a problem and have difficulty isolating the cause or even know where to look for it. I have a REST api service developed using Springboot and connected to a Postgres db and I run it on docker containers. There are multiple instances deployed, up to 10, all with the same configuration. After some time, say a few days, one of the instances will give these errors if you call any API that calls a JPA method that forms a connection to the database:</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms\norg.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC connection...\n... some long stack trace that eventually reaches this ...\n</code></pre>\n<p>This loops on forever until I manually restart the container, all the other instances work fine. I can ping the health endpoint of this instance via /actuator/health and the status will say 'UP'. If I deploy 4 instances, 1 of them throws this error, 3 of them continue working. If I have 10 instances, 1 will throw this error, 9 will continue to work. There are no alarming issues regarding memory or CPU usage. I have tried increasing memory, which doesn't help, the instances never use above ~450 mb of memory.\nI thought that maybe connections are never being destroyed which will lead to preventing new connections to be formed. But that would not explain why the other instances can still operate normally after days/weeks+\nSince this is only happening on one instance but nothing is giving me hints, I have trouble finding the root cause of this problem.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667470361,"post_id":74301279,"comment_id":131176095,"body_markdown":"just don&#39;t replace if the original is a &quot; &quot;","body":"just don&#39;t replace if the original is a &quot; &quot;"}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667470592,"creation_date":1667470592,"answer_id":74301355,"question_id":74301279,"body_markdown":"Your cypher implementation is explicitly skipping spaces:\r\n\r\n```\r\nif (message.charAt(i) == &#39; &#39;) continue;\r\n```\r\n\r\nInstead of skipping them, you can reinsert them into the output:\r\n\r\n```\r\nif (message.charAt(i) == &#39; &#39;) {\r\n    encryptedMessage += &#39; &#39;;\r\n    continue;\r\n}\r\n```","title":"Want to keep spaces between words when encrypting in Java using Caesar Cipher","body":"<p>Your cypher implementation is explicitly skipping spaces:</p>\n<pre><code>if (message.charAt(i) == ' ') continue;\n</code></pre>\n<p>Instead of skipping them, you can reinsert them into the output:</p>\n<pre><code>if (message.charAt(i) == ' ') {\n    encryptedMessage += ' ';\n    continue;\n}\n</code></pre>\n"}],"owner":{"account_id":26816524,"reputation":15,"user_id":20406430,"display_name":"Kamen Georgiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74301355,"answer_count":1,"score":-1,"last_activity_date":1667470592,"creation_date":1667470277,"question_id":74301279,"body_markdown":"When typing a message (e.g. I love Java) the encrypted version comes out without the spaces. So if a input shift value to be 0, the output will be ilovejava, but I want to keep the spaces between the words.\r\nCan you please help me and thank you.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CaesarCipherHW\r\n{\r\n    public static final String Alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a message: &quot;); //prompts the user to enter the message that will be encrypted/decrypted\r\n        String message = sc.nextLine();\r\n        message = message.toLowerCase(); //converts the message to lower case characters only\r\n\r\n        System.out.println(&quot;Enter shift value (between 0-25): &quot;); //prompts user to enter the value by which each character will be shifted\r\n        int shift = sc.nextInt();\r\n\r\n        System.out.println(&quot;1- Encrypt&quot; +\r\n                            &quot;\\n2- Decrypt&quot; +\r\n                            &quot;\\n3- Exit&quot; +\r\n                            &quot;\\nChoose your option: &quot;); //ask user to choose what the program will execute\r\n\r\n    }\r\n\r\n     public static class CaesarCipher\r\n    {\r\n        String cipher(String message, int shift)\r\n        {\r\n            String encryptedMessage = &quot;&quot;; //variable to store encrypted message\r\n\r\n            for (int i = 0; i &lt; message.length(); i++) //use for loop to go through all the letters in the\r\n                                                        // message that are also contained in the alphabet variable\r\n            {\r\n                if (message.charAt(i) == &#39; &#39;) continue;\r\n\r\n                int charPos = Alphabet.indexOf(message.charAt(i)); //find index of each letter in the alphabet\r\n                int encryptPos = (shift + charPos) % 26; //find which index of the Alphabet to use to encrypt the letter in the message\r\n\r\n                if (encryptPos &lt; 0)\r\n                {\r\n                    encryptPos = Alphabet.length() + encryptPos;\r\n                }\r\n\r\n                char replaceChar = Alphabet.charAt(encryptPos); //use encryptPos variable to replace each letter in the message\r\n\r\n                encryptedMessage += replaceChar; //add the encrypted character to the variable that stores the encrypted string\r\n\r\n\r\n            }\r\n\r\n            return encryptedMessage;\r\n        }\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n","title":"Want to keep spaces between words when encrypting in Java using Caesar Cipher","body":"<p>When typing a message (e.g. I love Java) the encrypted version comes out without the spaces. So if a input shift value to be 0, the output will be ilovejava, but I want to keep the spaces between the words.\nCan you please help me and thank you.</p>\n<pre><code>import java.util.Scanner;\n\npublic class CaesarCipherHW\n{\n    public static final String Alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a message: &quot;); //prompts the user to enter the message that will be encrypted/decrypted\n        String message = sc.nextLine();\n        message = message.toLowerCase(); //converts the message to lower case characters only\n\n        System.out.println(&quot;Enter shift value (between 0-25): &quot;); //prompts user to enter the value by which each character will be shifted\n        int shift = sc.nextInt();\n\n        System.out.println(&quot;1- Encrypt&quot; +\n                            &quot;\\n2- Decrypt&quot; +\n                            &quot;\\n3- Exit&quot; +\n                            &quot;\\nChoose your option: &quot;); //ask user to choose what the program will execute\n\n    }\n\n     public static class CaesarCipher\n    {\n        String cipher(String message, int shift)\n        {\n            String encryptedMessage = &quot;&quot;; //variable to store encrypted message\n\n            for (int i = 0; i &lt; message.length(); i++) //use for loop to go through all the letters in the\n                                                        // message that are also contained in the alphabet variable\n            {\n                if (message.charAt(i) == ' ') continue;\n\n                int charPos = Alphabet.indexOf(message.charAt(i)); //find index of each letter in the alphabet\n                int encryptPos = (shift + charPos) % 26; //find which index of the Alphabet to use to encrypt the letter in the message\n\n                if (encryptPos &lt; 0)\n                {\n                    encryptPos = Alphabet.length() + encryptPos;\n                }\n\n                char replaceChar = Alphabet.charAt(encryptPos); //use encryptPos variable to replace each letter in the message\n\n                encryptedMessage += replaceChar; //add the encrypted character to the variable that stores the encrypted string\n\n\n            }\n\n            return encryptedMessage;\n        }\n    }\n\n    \n}\n</code></pre>\n"},{"tags":["java","cmd","jar","executable-jar"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1667469507,"post_id":74301079,"comment_id":131175799,"body_markdown":"by either stopping the process currently using that port, or by assigning another port to your server","body":"by either stopping the process currently using that port, or by assigning another port to your server"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667469515,"post_id":74301079,"comment_id":131175803,"body_markdown":"A server port can only be opened once at a time. There&#39;s already an application running that blocks this port. It is very likely that your webserver is still running from a previous run. If you don&#39;t know how to shut it down: reboot your machine.","body":"A server port can only be opened once at a time. There&#39;s already an application running that blocks this port. It is very likely that your webserver is still running from a previous run. If you don&#39;t know how to shut it down: reboot your machine."}],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667469825,"creation_date":1667469825,"answer_id":74301183,"question_id":74301079,"body_markdown":"Change your program to bind on a different port or kill the existing process running on that port.\r\n\r\n    Run lsof -i :7081 This will display details of process that is listening on port 7081.\r\n    copy the process ID \r\n    Run kill -9 &lt;ProcessID&gt; example kill -9 321321","title":"web server failed to start port 7081 was already in use","body":"<p>Change your program to bind on a different port or kill the existing process running on that port.</p>\n<pre><code>Run lsof -i :7081 This will display details of process that is listening on port 7081.\ncopy the process ID \nRun kill -9 &lt;ProcessID&gt; example kill -9 321321\n</code></pre>\n"}],"owner":{"account_id":24215380,"reputation":367,"user_id":18171350,"display_name":"Nidew"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1667477663,"accepted_answer_id":74301183,"answer_count":1,"score":-3,"last_activity_date":1667469825,"creation_date":1667469386,"question_id":74301079,"body_markdown":"identify and stop on port 7081 or configure this application to listen on another port.\r\n\r\nhow to correct this error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/07vy8.png","title":"web server failed to start port 7081 was already in use","body":"<p>identify and stop on port 7081 or configure this application to listen on another port.</p>\n<p>how to correct this error.</p>\n<p><a href=\"https://i.stack.imgur.com/07vy8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/07vy8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1667405380,"post_id":74290810,"comment_id":131160567,"body_markdown":"to implement security you&#39;ll need to pass your user service class (a single class) to the `AuthenticationManagerBuilder.userDetailsService` method, so having 2 service classes isn&#39;t going to work. While it&#39;s unusual for an application of this kind to be used by both doctors and patients, it can certainly be done by assigning different roles to users of different types. The downside is that your entity class (User) and the corresponding database table won&#39;t be optimally used (null values as you mentioned) and the business logic could be more complex given different user types.","body":"to implement security you&#39;ll need to pass your user service class (a single class) to the <code>AuthenticationManagerBuilder.userDetailsService</code> method, so having 2 service classes isn&#39;t going to work. While it&#39;s unusual for an application of this kind to be used by both doctors and patients, it can certainly be done by assigning different roles to users of different types. The downside is that your entity class (User) and the corresponding database table won&#39;t be optimally used (null values as you mentioned) and the business logic could be more complex given different user types."}],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667469691,"creation_date":1667469691,"answer_id":74301150,"question_id":74290810,"body_markdown":"From my pov both doctors and patients are `Users` so it would be easier to extract the common code to a user class as you did in option B but not entirely.\r\n\r\n```\r\nclass User {\r\n    private Long id;\r\n    private String name;\r\n    private String surname;\r\n    private UserType type; // DOCTOR / PATIENT\r\n} \r\n\r\nclass Doctor {\r\n    \r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;, nullable = false)\r\n    private User user;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n    name = &quot;doctor_pacients&quot;, \r\n    joinColumns = @JoinColumn(name = &quot;doctor_id&quot;), \r\n    inverseJoinColumns = @JoinColumn(name = &quot;pactient_id&quot;))\r\n    Set&lt;Patients&gt; pacients;\r\n}\r\n\r\nclass Patient {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;, nullable = false)\r\n    private User user;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n    name = &quot;pactients_medicines&quot;, \r\n    joinColumns = @JoinColumn(name = &quot;pacient_id&quot;), \r\n    inverseJoinColumns = @JoinColumn(name = &quot;medicine_id&quot;))\r\n    Set&lt;Medicine&gt; medicines;\r\n\r\n    @ManyToMany(mappedBy = &quot;pacients&quot;, fetch = FetchType.LAZY)\r\n    Set&lt;Doctor&gt; doctors;\r\n}\r\n\r\n\r\nclass Medicine {\r\n    private Long id;\r\n    private String name;\r\n    \r\n    @ManyToMany(mappedBy = &quot;medicines&quot;, fetch = FetchType.LAZY)\r\n    Set&lt;Patient&gt; patients;\r\n}\r\n```\r\n\r\nNow, for the permissions part we need we can use the `userType` to fetch the right entity and do some logic\r\n\r\n\r\nEdit: But there is a case where a doctor can also be a patient but given we have a relationship of both Doctor/Patient with the User entity, we can try and ask both tables (Doctors/Patients) and depending on the context, we given them the OK or not to do a certain operation\r\n","title":"Spring Boot - Doctor-Patient relation","body":"<p>From my pov both doctors and patients are <code>Users</code> so it would be easier to extract the common code to a user class as you did in option B but not entirely.</p>\n<pre><code>class User {\n    private Long id;\n    private String name;\n    private String surname;\n    private UserType type; // DOCTOR / PATIENT\n} \n\nclass Doctor {\n    \n    @Id\n    private Long id;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;, nullable = false)\n    private User user;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n    name = &quot;doctor_pacients&quot;, \n    joinColumns = @JoinColumn(name = &quot;doctor_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;pactient_id&quot;))\n    Set&lt;Patients&gt; pacients;\n}\n\nclass Patient {\n    @Id\n    private Long id;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;, nullable = false)\n    private User user;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n    name = &quot;pactients_medicines&quot;, \n    joinColumns = @JoinColumn(name = &quot;pacient_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;medicine_id&quot;))\n    Set&lt;Medicine&gt; medicines;\n\n    @ManyToMany(mappedBy = &quot;pacients&quot;, fetch = FetchType.LAZY)\n    Set&lt;Doctor&gt; doctors;\n}\n\n\nclass Medicine {\n    private Long id;\n    private String name;\n    \n    @ManyToMany(mappedBy = &quot;medicines&quot;, fetch = FetchType.LAZY)\n    Set&lt;Patient&gt; patients;\n}\n</code></pre>\n<p>Now, for the permissions part we need we can use the <code>userType</code> to fetch the right entity and do some logic</p>\n<p>Edit: But there is a case where a doctor can also be a patient but given we have a relationship of both Doctor/Patient with the User entity, we can try and ask both tables (Doctors/Patients) and depending on the context, we given them the OK or not to do a certain operation</p>\n"}],"owner":{"account_id":11970210,"reputation":95,"user_id":8758901,"display_name":"Kmopsuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74301150,"answer_count":1,"score":0,"last_activity_date":1667469691,"creation_date":1667399126,"question_id":74290810,"body_markdown":"I would like to create application to manage `Doctor-Patient` relations. `Patient` should be able to add `Medicine` information. We can assign `Doctor` to `Patient` and `Patient` to `Doctor`. I implemented `a)` case described below, but i have some problems creating `Security` for signing in.\r\n\r\nMy ideas:\r\n\r\na) One table for `Doctor` and another for `Patient`, connect them with `@ManyToMany`. But the question is how to manage `Security` (Login/Register) in this case? Use different endpoints?\r\n\r\n#### Doctor.java\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    public class Doctor {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String surname;\r\n\r\n        // Some @ManyToMany, but problem with security\r\n    }\r\n\r\n#### Patient.java\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    public class Patient {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String surname;\r\n\r\n        @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.PERSIST)\r\n        private List&lt;Medicine&gt; medicineList = new ArrayList&lt;&gt;();\r\n\r\n        // @ManyToMany with Doctor\r\n\r\n        public void addDoctor(Doctor doctor) {\r\n            // connect\r\n        }\r\n\r\n        public void addMedicine(Medicine medicine) {\r\n            // add medicine class\r\n        }\r\n\r\n    }\r\n\r\n\r\nb) One table `User` with roles. But there is another problem that in this case table `User` for type `Doctor` will have many null fields (e.g. mentionted `Medicines`) and i need controller for that to serve only for user type `Patient`. Another question how to implement Service for that? Can i create `PatientService` and `DoctorService`, that each manage users with predefined type?\r\n\r\n#### User.java\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    @Table(name = &quot;MYUSERS&quot;)\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String surname;\r\n\r\n        // Some role management\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(nullable = false)\r\n        private RoleType roleType;\r\n\r\n        @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.PERSIST)\r\n        private List&lt;Medicine&gt; medicineList = new ArrayList&lt;&gt;();\r\n\r\n        @ManyToMany(cascade = CascadeType.ALL)\r\n        private Set&lt;User&gt; doctorList = new HashSet&lt;&gt;();\r\n\r\n        @ManyToMany(cascade = CascadeType.ALL, mappedBy = &quot;doctorList&quot;)\r\n        private Set&lt;User&gt; patientList = new HashSet&lt;&gt;();\r\n\r\n        public void addPatient(User patient) {\r\n            patientList.add(patient);\r\n            patient.doctorList.add(this);\r\n        }\r\n\r\n        public void addDoctor(User doctor) {\r\n            doctorList.add(doctor);\r\n            doctor.patientList.add(doctor);\r\n        }\r\n\r\n        public void addMedicine(Medicine medicine) {\r\n            // add medicine class (ONLY FOR PATIENT)\r\n        }\r\n\r\n    }\r\n\r\nWhich of the two solutions is better? \r\n\r\n","title":"Spring Boot - Doctor-Patient relation","body":"<p>I would like to create application to manage <code>Doctor-Patient</code> relations. <code>Patient</code> should be able to add <code>Medicine</code> information. We can assign <code>Doctor</code> to <code>Patient</code> and <code>Patient</code> to <code>Doctor</code>. I implemented <code>a)</code> case described below, but i have some problems creating <code>Security</code> for signing in.</p>\n<p>My ideas:</p>\n<p>a) One table for <code>Doctor</code> and another for <code>Patient</code>, connect them with <code>@ManyToMany</code>. But the question is how to manage <code>Security</code> (Login/Register) in this case? Use different endpoints?</p>\n<h4>Doctor.java</h4>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class Doctor {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String surname;\n\n    // Some @ManyToMany, but problem with security\n}\n</code></pre>\n<h4>Patient.java</h4>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class Patient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String surname;\n\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;Medicine&gt; medicineList = new ArrayList&lt;&gt;();\n\n    // @ManyToMany with Doctor\n\n    public void addDoctor(Doctor doctor) {\n        // connect\n    }\n\n    public void addMedicine(Medicine medicine) {\n        // add medicine class\n    }\n\n}\n</code></pre>\n<p>b) One table <code>User</code> with roles. But there is another problem that in this case table <code>User</code> for type <code>Doctor</code> will have many null fields (e.g. mentionted <code>Medicines</code>) and i need controller for that to serve only for user type <code>Patient</code>. Another question how to implement Service for that? Can i create <code>PatientService</code> and <code>DoctorService</code>, that each manage users with predefined type?</p>\n<h4>User.java</h4>\n<pre><code>@Entity\n@Setter\n@Getter\n@Table(name = &quot;MYUSERS&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String surname;\n\n    // Some role management\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    private RoleType roleType;\n\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;Medicine&gt; medicineList = new ArrayList&lt;&gt;();\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    private Set&lt;User&gt; doctorList = new HashSet&lt;&gt;();\n\n    @ManyToMany(cascade = CascadeType.ALL, mappedBy = &quot;doctorList&quot;)\n    private Set&lt;User&gt; patientList = new HashSet&lt;&gt;();\n\n    public void addPatient(User patient) {\n        patientList.add(patient);\n        patient.doctorList.add(this);\n    }\n\n    public void addDoctor(User doctor) {\n        doctorList.add(doctor);\n        doctor.patientList.add(doctor);\n    }\n\n    public void addMedicine(Medicine medicine) {\n        // add medicine class (ONLY FOR PATIENT)\n    }\n\n}\n</code></pre>\n<p>Which of the two solutions is better?</p>\n"},{"tags":["java","pdf","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1461057163,"creation_date":1461057163,"answer_id":36713864,"question_id":36712642,"body_markdown":"Your issue is that you think `PDPageContentStream.newLineAtOffset` uses absolute coordinates. This is not the case, it uses relative coordinates, cf. the JavaDocs:\r\n\r\n    /**\r\n     * The Td operator.\r\n     * Move to the start of the next line, offset from the start of the current line by (tx, ty).\r\n     *\r\n     * @param tx The x translation.\r\n     * @param ty The y translation.\r\n     * @throws IOException If there is an error writing to the stream.\r\n     * @throws IllegalStateException If the method was not allowed to be called at this time.\r\n     */\r\n    public void newLineAtOffset(float tx, float ty) throws IOException\r\n\r\nSo your additional lines are way off the visible page area.\r\n\r\nThus, you might want to something like this:\r\n\r\n    ...\r\n    contents.beginText();\r\n    contents.setFont(font, 12);\r\n    contents.newLineAtOffset(100, 700);\r\n    // Loop to create 25 lines of text\r\n    for (int i = 0; i &lt; 25; i++) {\r\n        contents.showText(message + &quot; &quot; + Integer.toString(i));\r\n        System.out.println(message + &quot; &quot; + Integer.toString(i));\r\n        contents.newLineAtOffset(0, -15);\r\n    }\r\n    contents.endText();\r\n    ...\r\n\r\nHere you start at 100, 700 and move down for each line by 15.","title":"pdfBox add different lines to pdf","body":"<p>Your issue is that you think <code>PDPageContentStream.newLineAtOffset</code> uses absolute coordinates. This is not the case, it uses relative coordinates, cf. the JavaDocs:</p>\n\n<pre><code>/**\n * The Td operator.\n * Move to the start of the next line, offset from the start of the current line by (tx, ty).\n *\n * @param tx The x translation.\n * @param ty The y translation.\n * @throws IOException If there is an error writing to the stream.\n * @throws IllegalStateException If the method was not allowed to be called at this time.\n */\npublic void newLineAtOffset(float tx, float ty) throws IOException\n</code></pre>\n\n<p>So your additional lines are way off the visible page area.</p>\n\n<p>Thus, you might want to something like this:</p>\n\n<pre><code>...\ncontents.beginText();\ncontents.setFont(font, 12);\ncontents.newLineAtOffset(100, 700);\n// Loop to create 25 lines of text\nfor (int i = 0; i &lt; 25; i++) {\n    contents.showText(message + \" \" + Integer.toString(i));\n    System.out.println(message + \" \" + Integer.toString(i));\n    contents.newLineAtOffset(0, -15);\n}\ncontents.endText();\n...\n</code></pre>\n\n<p>Here you start at 100, 700 and move down for each line by 15.</p>\n"},{"tags":[],"owner":{"account_id":8356750,"reputation":3326,"user_id":6276704,"accept_rate":44,"display_name":"Tigerware"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465762937,"creation_date":1465752832,"answer_id":37777156,"question_id":36712642,"body_markdown":"In addition to mkl&#39;s answer you could also create a new text operation for each line. Doing that will enable you to use absolute coordinates.\r\n\r\n    ...\r\n    contents.setFont(font, 12);\r\n    // Loop to create 25 lines of text\r\n    for (int i = 0; i &lt; 25; i++) {\r\n        int ty = 700 + y * 15;\r\n        contents.beginText();\r\n        contents.newLineAtOffset(100, ty);\r\n        contents.showText(message + &quot; &quot; + Integer.toString(i));\r\n        System.out.println(message + &quot; &quot; + Integer.toString(i))\r\n        contents.endText();\r\n    }\r\n    ...\r\nWhether you need this or not depends on your usecase.  \r\nFor example I wanted to write some text right aligned. In that case it was easier to use absolute position, so I created a helper method like this:\r\n\r\n    public static void showTextRightAligned(PDPageContentStream contentStream, PDType1Font font, int fontsize, float rightX, float topY, String text) throws IOException\r\n    {\r\n        float textWidth = fontsize * font.getStringWidth(text) / 1000;\r\n        float leftX = rightX - textWidth;\r\n        contentStream.beginText();\r\n        contentStream.newLineAtOffset(leftX, topY);\r\n        contentStream.showText(text);\r\n        contentStream.endText();\r\n    }","title":"pdfBox add different lines to pdf","body":"<p>In addition to mkl's answer you could also create a new text operation for each line. Doing that will enable you to use absolute coordinates.</p>\n\n<pre><code>...\ncontents.setFont(font, 12);\n// Loop to create 25 lines of text\nfor (int i = 0; i &lt; 25; i++) {\n    int ty = 700 + y * 15;\n    contents.beginText();\n    contents.newLineAtOffset(100, ty);\n    contents.showText(message + \" \" + Integer.toString(i));\n    System.out.println(message + \" \" + Integer.toString(i))\n    contents.endText();\n}\n...\n</code></pre>\n\n<p>Whether you need this or not depends on your usecase.<br>\nFor example I wanted to write some text right aligned. In that case it was easier to use absolute position, so I created a helper method like this:</p>\n\n<pre><code>public static void showTextRightAligned(PDPageContentStream contentStream, PDType1Font font, int fontsize, float rightX, float topY, String text) throws IOException\n{\n    float textWidth = fontsize * font.getStringWidth(text) / 1000;\n    float leftX = rightX - textWidth;\n    contentStream.beginText();\n    contentStream.newLineAtOffset(leftX, topY);\n    contentStream.showText(text);\n    contentStream.endText();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17499038,"reputation":1,"user_id":18388883,"display_name":"uma kant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667469424,"creation_date":1667153252,"answer_id":74255555,"question_id":36712642,"body_markdown":"You could do something like this:\r\n\r\n```\r\ncontentStream.beginText();\r\ncontentStream.newLineAtOffset(20,750);\r\n//This begins the cursor at top right \r\ncontentStream.setFont(PDType1Font.TIMES_ROMAN,8);\r\n \r\nfor (String readList : resultList) {\r\n    contentStream.showText(readList);\r\n    contentStream.newLineAtOffset(0,-12);\r\n    //This will move cursor down by 12pts on every run of loop\r\n}\r\n```","title":"pdfBox add different lines to pdf","body":"<p>You could do something like this:</p>\n<pre><code>contentStream.beginText();\ncontentStream.newLineAtOffset(20,750);\n//This begins the cursor at top right \ncontentStream.setFont(PDType1Font.TIMES_ROMAN,8);\n \nfor (String readList : resultList) {\n    contentStream.showText(readList);\n    contentStream.newLineAtOffset(0,-12);\n    //This will move cursor down by 12pts on every run of loop\n}\n</code></pre>\n"}],"owner":{"account_id":8184828,"reputation":51,"user_id":6160930,"accept_rate":0,"display_name":"De Macamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10629,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667469424,"creation_date":1461054195,"question_id":36712642,"body_markdown":"I&#39;m looking into generating a pdf-document. At the moment I&#39;m trying out different approaches. I want to get more than one line in a pdf-document. Using a [HelloWorld][1] code example I came up with ...\r\n\r\n    package org.apache.pdfbox.examples.pdmodel;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    \r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    \r\n    /**\r\n     * Creates a &quot;Hello World&quot; PDF using the built-in Helvetica font.\r\n     *\r\n     * The example is taken from the PDF file format specification.\r\n     */\r\n    public final class HelloWorld\r\n    {\r\n        private HelloWorld()\r\n        {\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException\r\n        {\r\n    \r\n            String filename = &quot;line.pdf&quot;;\r\n            String message = &quot;line&quot;;\r\n            \r\n            PDDocument doc = new PDDocument();\r\n            try\r\n            {\r\n                PDPage page = new PDPage();\r\n                doc.addPage(page);\r\n                \r\n                PDFont font = PDType1Font.HELVETICA_BOLD;\r\n    \r\n                PDPageContentStream contents = new PDPageContentStream(doc, page);\r\n                contents.beginText();\r\n                contents.setFont(font, 12);\r\n                // Loop to create 25 lines of text\r\n                for (int y = 0; y&lt; 25; y++) {\r\n                \tint ty = 700 + y * 15;\r\n                \tcontents.newLineAtOffset(100, ty);\r\n                \t//contents.newLineAtOffset(125, ty);\r\n                \t//contents.showText(Integer.toString(i));\r\n                \tcontents.showText(message + &quot; &quot; + Integer.toString(i));\r\n                \tSystem.out.println(message + &quot; &quot; + Integer.toString(i));\r\n                }\r\n                contents.endText();\r\n                contents.close();\r\n                \r\n                doc.save(filename);\r\n            }\r\n            finally\r\n            {\r\n                doc.close();\r\n                System.out.println(&quot;HelloWorld finished after &#39;doc.close()&#39;.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBut looking at my resulting document I only see &quot;line 0&quot; once, and no other lines. What am I doing wrong?\r\n\r\n![PDF document with only one line][2]\r\n\r\n\r\n  [1]: https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/HelloWorld.java?view=log\r\n  [2]: http://i.stack.imgur.com/Jqkx0.png","title":"pdfBox add different lines to pdf","body":"<p>I'm looking into generating a pdf-document. At the moment I'm trying out different approaches. I want to get more than one line in a pdf-document. Using a <a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/HelloWorld.java?view=log\" rel=\"nofollow noreferrer\">HelloWorld</a> code example I came up with ...</p>\n\n<pre><code>package org.apache.pdfbox.examples.pdmodel;\n\nimport java.io.IOException;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\n\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\n\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\n/**\n * Creates a \"Hello World\" PDF using the built-in Helvetica font.\n *\n * The example is taken from the PDF file format specification.\n */\npublic final class HelloWorld\n{\n    private HelloWorld()\n    {\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n\n        String filename = \"line.pdf\";\n        String message = \"line\";\n\n        PDDocument doc = new PDDocument();\n        try\n        {\n            PDPage page = new PDPage();\n            doc.addPage(page);\n\n            PDFont font = PDType1Font.HELVETICA_BOLD;\n\n            PDPageContentStream contents = new PDPageContentStream(doc, page);\n            contents.beginText();\n            contents.setFont(font, 12);\n            // Loop to create 25 lines of text\n            for (int y = 0; y&lt; 25; y++) {\n                int ty = 700 + y * 15;\n                contents.newLineAtOffset(100, ty);\n                //contents.newLineAtOffset(125, ty);\n                //contents.showText(Integer.toString(i));\n                contents.showText(message + \" \" + Integer.toString(i));\n                System.out.println(message + \" \" + Integer.toString(i));\n            }\n            contents.endText();\n            contents.close();\n\n            doc.save(filename);\n        }\n        finally\n        {\n            doc.close();\n            System.out.println(\"HelloWorld finished after 'doc.close()'.\");\n        }\n    }\n}\n</code></pre>\n\n<p>But looking at my resulting document I only see \"line 0\" once, and no other lines. What am I doing wrong?</p>\n\n<p><img src=\"https://i.stack.imgur.com/Jqkx0.png\" alt=\"PDF document with only one line\"></p>\n"},{"tags":["java","string","stream","time-complexity","reverse"],"comments":[{"owner":{"account_id":1782943,"reputation":25459,"user_id":1625187,"accept_rate":88,"display_name":"Evg"},"score":0,"creation_date":1644643022,"post_id":71089044,"comment_id":125666822,"body_markdown":"[How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1644643570,"post_id":71089044,"comment_id":125666889,"body_markdown":"FYI: The solution can be written in 4 or so lines using `std::istringstream`, and `std::stack&lt;std::string&gt;`.  There is no need to check for spaces.  As a matter of fact, maybe that&#39;s what the question is looking for in terms of an answer, i.e. usage of a stack data structure.","body":"FYI: The solution can be written in 4 or so lines using <code>std::istringstream</code>, and <code>std::stack&lt;std::string&gt;</code>.  There is no need to check for spaces.  As a matter of fact, maybe that&#39;s what the question is looking for in terms of an answer, i.e. usage of a stack data structure."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1644644127,"post_id":71089044,"comment_id":125666946,"body_markdown":"Also, I won&#39;t post this as an answer, since it doesn&#39;t look anything like your attempt (which to me is very convoluted, given the actual simplicity of the solution if using the proper data structures), but [this is an example](http://coliru.stacked-crooked.com/a/d9704c28f6900e98).  Now, to figure out your code requires you to debug the code, and then posting your results of your debugging in the question.","body":"Also, I won&#39;t post this as an answer, since it doesn&#39;t look anything like your attempt (which to me is very convoluted, given the actual simplicity of the solution if using the proper data structures), but <a href=\"http://coliru.stacked-crooked.com/a/d9704c28f6900e98\" rel=\"nofollow noreferrer\">this is an example</a>.  Now, to figure out your code requires you to debug the code, and then posting your results of your debugging in the question."}],"answers":[{"tags":[],"owner":{"account_id":11334812,"reputation":14889,"user_id":9666018,"display_name":"A M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644708171,"creation_date":1644652988,"answer_id":71090035,"question_id":71089044,"body_markdown":"You have only one small typo in your code.\r\n\r\nThe line \r\n```\r\n        string word = s.substr(i,j-1);\r\n```\r\n\r\nshould be \r\n```\r\nstd::string word = s.substr(i, j - i);\r\n```\r\n\r\nSo you mixed up i with 1.\r\n\r\nNo big deal.\r\n\r\n```\r\n#include &lt;string&gt;\r\n#include &lt;iostream&gt;\r\n\r\nstd::string reverseWords(std::string s) {\r\n    std::string ans;\r\n    int i = 0;\r\n    int n = s.size();\r\n    while (i &lt; n)\r\n    {\r\n        while (i &lt; n and s[i] == &#39; &#39;)\r\n            i++;\r\n        if (i &gt;= n)\r\n            break;\r\n        int j = i + 1;\r\n        while (j &lt; n and s[j] != &#39; &#39;)\r\n            j++;\r\n        std::string word = s.substr(i, j - i);\r\n        if (ans.size() == 0)\r\n            ans = word;\r\n        else\r\n            ans = word + &quot; &quot; + ans;\r\n        i = j + 1;\r\n\r\n    }\r\n    return ans;\r\n}\r\nint main() {\r\n    std::cout &lt;&lt; reverseWords(&quot;ab cd ef&quot;);\r\n}\r\n```","title":"i stuck in leetcode problem 151. Reverse Words in a String","body":"<p>You have only one small typo in your code.</p>\n<p>The line</p>\n<pre><code>        string word = s.substr(i,j-1);\n</code></pre>\n<p>should be</p>\n<pre><code>std::string word = s.substr(i, j - i);\n</code></pre>\n<p>So you mixed up i with 1.</p>\n<p>No big deal.</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nstd::string reverseWords(std::string s) {\n    std::string ans;\n    int i = 0;\n    int n = s.size();\n    while (i &lt; n)\n    {\n        while (i &lt; n and s[i] == ' ')\n            i++;\n        if (i &gt;= n)\n            break;\n        int j = i + 1;\n        while (j &lt; n and s[j] != ' ')\n            j++;\n        std::string word = s.substr(i, j - i);\n        if (ans.size() == 0)\n            ans = word;\n        else\n            ans = word + &quot; &quot; + ans;\n        i = j + 1;\n\n    }\n    return ans;\n}\nint main() {\n    std::cout &lt;&lt; reverseWords(&quot;ab cd ef&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26566331,"reputation":21,"user_id":20193299,"display_name":"Srinivas Jakhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667469358,"creation_date":1667213034,"answer_id":74262075,"question_id":71089044,"body_markdown":"java script solution:\r\n\r\n```js\r\nreturn str.split(&#39; &#39;).filter(s=&gt;s!==&#39; &#39;).reverse().join(&#39; &#39;)\r\n```","title":"i stuck in leetcode problem 151. Reverse Words in a String","body":"<p>java script solution:</p>\n<pre class=\"lang-js prettyprint-override\"><code>return str.split(' ').filter(s=&gt;s!==' ').reverse().join(' ')\n</code></pre>\n"}],"owner":{"account_id":22801563,"reputation":23,"user_id":16954148,"display_name":"3090_Shubham Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71090035,"answer_count":2,"score":0,"last_activity_date":1667469358,"creation_date":1644641047,"question_id":71089044,"body_markdown":"Given an input string s, reverse the order of the words.\r\nA word is defined as a sequence of non-space characters. The words in s will be separated by at least one space.\r\nReturn a string of the words in reverse order concatenated by a single space.\r\n\r\n\r\n```java\r\nclass Solution {\r\n\r\npublic:\r\n\r\n    string reverseWords(string s) {\r\n        string ans;\r\n        int i =0;\r\n        int n = s.size();\r\n        while(i&lt;n)\r\n        {\r\n            while(i&lt;n and s[i]==&#39; &#39;)\r\n                i++;\r\n            if(i&gt;=n)\r\n                break;\r\n            int j =i+1;\r\n            while(j&lt;n and s[j]!=&#39; &#39;)\r\n                j++;\r\n            string word = s.substr(i,j-1);\r\n            if(ans.size()==0)\r\n                ans = word;\r\n            else\r\n                ans = word + &quot; &quot;+ ans;\r\n            i = j+1;\r\n            \r\n        }\r\n        return ans;\r\n    }\r\n};\r\n```\r\nExpected output-&quot;blue is sky the&quot;\r\nmy output-&quot;blue is blue sky is th&quot;\r\n ","title":"i stuck in leetcode problem 151. Reverse Words in a String","body":"<p>Given an input string s, reverse the order of the words.\nA word is defined as a sequence of non-space characters. The words in s will be separated by at least one space.\nReturn a string of the words in reverse order concatenated by a single space.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\npublic:\n\n    string reverseWords(string s) {\n        string ans;\n        int i =0;\n        int n = s.size();\n        while(i&lt;n)\n        {\n            while(i&lt;n and s[i]==' ')\n                i++;\n            if(i&gt;=n)\n                break;\n            int j =i+1;\n            while(j&lt;n and s[j]!=' ')\n                j++;\n            string word = s.substr(i,j-1);\n            if(ans.size()==0)\n                ans = word;\n            else\n                ans = word + &quot; &quot;+ ans;\n            i = j+1;\n            \n        }\n        return ans;\n    }\n};\n</code></pre>\n<p>Expected output-&quot;blue is sky the&quot;\nmy output-&quot;blue is blue sky is th&quot;</p>\n"},{"tags":["java","android","kotlin","format","string-formatting"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1551974828,"post_id":55048137,"comment_id":96846455,"body_markdown":"Is this a hard requirement? Most electronic timers and timer apps do include at least the minutes, even if zero.","body":"Is this a hard requirement? Most electronic timers and timer apps do include at least the minutes, even if zero."},{"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"score":0,"creation_date":1551974910,"post_id":55048137,"comment_id":96846504,"body_markdown":"It is a hard requirement I&#39;m afraid. The client saw such a solution in a few timer apps and he wants the same thing.","body":"It is a hard requirement I&#39;m afraid. The client saw such a solution in a few timer apps and he wants the same thing."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1551974974,"post_id":55048137,"comment_id":96846554,"body_markdown":"In that case you&#39;re probably going to need conditional logic to select from different formats or concatenate only the relevant fields.","body":"In that case you&#39;re probably going to need conditional logic to select from different formats or concatenate only the relevant fields."},{"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"score":0,"creation_date":1551975021,"post_id":55048137,"comment_id":96846579,"body_markdown":"I will do so if I must. Yet I hope there is a more elegant solution.","body":"I will do so if I must. Yet I hope there is a more elegant solution."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1551975037,"post_id":55048137,"comment_id":96846589,"body_markdown":"So you need a formatting pattern or code?","body":"So you need a formatting pattern or code?"},{"owner":{"account_id":297646,"reputation":17903,"user_id":603270,"accept_rate":98,"display_name":"shkschneider"},"score":0,"creation_date":1551975037,"post_id":55048137,"comment_id":96846590,"body_markdown":"Just check if it&#39;s &gt; 1min or &gt; 1h and change the format string accordingly?","body":"Just check if it&#39;s &gt; 1min or &gt; 1h and change the format string accordingly?"},{"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"score":0,"creation_date":1551976684,"post_id":55048137,"comment_id":96847562,"body_markdown":"@forpas I know how to do it with code. I seek an elegant solution.","body":"@forpas I know how to do it with code. I seek an elegant solution."},{"owner":{"account_id":6625604,"reputation":14876,"user_id":5115932,"accept_rate":72,"display_name":"Bryan"},"score":0,"creation_date":1551978891,"post_id":55048137,"comment_id":96848802,"body_markdown":"@MichałPowłoka How is code not an &quot;elegant solution&quot;? I don&#39;t think any solution in XML alone (which I don&#39;t think is possible) will be any more elegant.","body":"@MichałPowłoka How is code not an &quot;elegant solution&quot;? I don&#39;t think any solution in XML alone (which I don&#39;t think is possible) will be any more elegant."}],"answers":[{"tags":[],"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551978451,"creation_date":1551978451,"answer_id":55049332,"question_id":55048137,"body_markdown":"So far I haven&#39;t found any elegant in my opinion solution and I do it like that.\r\n\r\nI have three formatting strings, one for each situation:\r\n\r\n    &lt;string name=&quot;time_hours_minutes_seconds_formatter&quot; translatable=&quot;false&quot;&gt;%02d:%02d:%02d&lt;/string&gt;\r\n    &lt;string name=&quot;time_minutes_seconds_formatter&quot; translatable=&quot;false&quot;&gt;%02d:%02d&lt;/string&gt;\r\n    &lt;string name=&quot;time_seconds_formatter&quot; translatable=&quot;false&quot;&gt;%02d&lt;/string&gt;\r\n\r\nThen, manually I format it using function (in Kotlin):\r\n\r\n        private fun formatTime(millis: Long): String {\r\n        val hours = TimeUnit.MILLISECONDS.toHours(millis) % 24\r\n        val minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60\r\n        val seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60\r\n\r\n        return when {\r\n            hours == 0L &amp;&amp; minutes == 0L -&gt; String.format(\r\n                resources.getString(R.string.time_seconds_formatter), seconds\r\n            )\r\n\r\n            hours == 0L &amp;&amp; minutes &gt; 0L -&gt; String.format(\r\n                resources.getString(R.string.time_minutes_seconds_formatter), minutes, seconds\r\n            )\r\n\r\n            else -&gt; resources.getString(R.string.time_hours_minutes_seconds_formatter, hours, minutes, seconds)\r\n        }\r\n    }","title":"Java/Kotlin/Android - format time (hh:mm:ss) and remove unnecessary zeros from the beginning","body":"<p>So far I haven't found any elegant in my opinion solution and I do it like that.</p>\n\n<p>I have three formatting strings, one for each situation:</p>\n\n<pre><code>&lt;string name=\"time_hours_minutes_seconds_formatter\" translatable=\"false\"&gt;%02d:%02d:%02d&lt;/string&gt;\n&lt;string name=\"time_minutes_seconds_formatter\" translatable=\"false\"&gt;%02d:%02d&lt;/string&gt;\n&lt;string name=\"time_seconds_formatter\" translatable=\"false\"&gt;%02d&lt;/string&gt;\n</code></pre>\n\n<p>Then, manually I format it using function (in Kotlin):</p>\n\n<pre><code>    private fun formatTime(millis: Long): String {\n    val hours = TimeUnit.MILLISECONDS.toHours(millis) % 24\n    val minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60\n    val seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60\n\n    return when {\n        hours == 0L &amp;&amp; minutes == 0L -&gt; String.format(\n            resources.getString(R.string.time_seconds_formatter), seconds\n        )\n\n        hours == 0L &amp;&amp; minutes &gt; 0L -&gt; String.format(\n            resources.getString(R.string.time_minutes_seconds_formatter), minutes, seconds\n        )\n\n        else -&gt; resources.getString(R.string.time_hours_minutes_seconds_formatter, hours, minutes, seconds)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6625604,"reputation":14876,"user_id":5115932,"accept_rate":72,"display_name":"Bryan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1603824156,"creation_date":1551979257,"answer_id":55049571,"question_id":55048137,"body_markdown":"String resources are meant for displaying actual text in a way that is easily localizable. They aren&#39;t meant for formatting dates and times; that&#39;s what [`DateUtils`][1] is for.\r\n\r\n&gt; This class contains various date-related utilities for creating text\r\n&gt; for things like elapsed time and date ranges, strings for days of the\r\n&gt; week and months, and AM/PM text etc.\r\n\r\nWhich comes with a convenient [`formatElapsedTime()`][2] method that formats a duration as you would expect.\r\n\r\n&gt; Formats an elapsed time in the form &quot;MM:SS&quot; or &quot;H:MM:SS&quot;…\r\n\r\nUnfortunately the last format you mentioned (which only displays seconds) is fairly uncommon, therefore unsupported by `DateUtils`. Though this can be easily remedied with the following function.\r\n\r\n    fun formatDuration(seconds: Long): String = if (seconds &lt; 60) {\r\n        seconds.toString()\r\n    } else {\r\n        DateUtils.formatElapsedTime(seconds)\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/text/format/DateUtils\r\n  [2]: https://developer.android.com/reference/android/text/format/DateUtils.html#formatElapsedTime(long)","title":"Java/Kotlin/Android - format time (hh:mm:ss) and remove unnecessary zeros from the beginning","body":"<p>String resources are meant for displaying actual text in a way that is easily localizable. They aren't meant for formatting dates and times; that's what <a href=\"https://developer.android.com/reference/android/text/format/DateUtils\" rel=\"noreferrer\"><code>DateUtils</code></a> is for.</p>\n<blockquote>\n<p>This class contains various date-related utilities for creating text\nfor things like elapsed time and date ranges, strings for days of the\nweek and months, and AM/PM text etc.</p>\n</blockquote>\n<p>Which comes with a convenient <a href=\"https://developer.android.com/reference/android/text/format/DateUtils.html#formatElapsedTime(long)\" rel=\"noreferrer\"><code>formatElapsedTime()</code></a> method that formats a duration as you would expect.</p>\n<blockquote>\n<p>Formats an elapsed time in the form &quot;MM:SS&quot; or &quot;H:MM:SS&quot;…</p>\n</blockquote>\n<p>Unfortunately the last format you mentioned (which only displays seconds) is fairly uncommon, therefore unsupported by <code>DateUtils</code>. Though this can be easily remedied with the following function.</p>\n<pre><code>fun formatDuration(seconds: Long): String = if (seconds &lt; 60) {\n    seconds.toString()\n} else {\n    DateUtils.formatElapsedTime(seconds)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6781853,"reputation":316,"user_id":5221795,"display_name":"heqingbao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659006091,"creation_date":1659005475,"answer_id":73151606,"question_id":55048137,"body_markdown":"Like this\r\n\r\n    android.text.format.DateUtils.formatElapsedTime(...)\r\n\r\nfor kotlin:\r\n\r\n    import java.util.Formatter\r\n\r\n    fun formatDurationTime(durationSeconds: Long): String {\r\n        var hours = 0L\r\n        var minutes = 0L\r\n        var seconds = durationSeconds\r\n        if (seconds &gt;= 3600) {\r\n            hours = seconds / 3600\r\n            seconds -= hours * 3600\r\n        }\r\n        if (seconds &gt;= 60) {\r\n            minutes = seconds / 60\r\n            seconds -= minutes * 60\r\n        }\r\n        return Formatter().format(&quot;%1\\$02d:%2\\$02d:%3\\$02d&quot;, hours, minutes, seconds).toString()\r\n    }","title":"Java/Kotlin/Android - format time (hh:mm:ss) and remove unnecessary zeros from the beginning","body":"<p>Like this</p>\n<pre><code>android.text.format.DateUtils.formatElapsedTime(...)\n</code></pre>\n<p>for kotlin:</p>\n<pre><code>import java.util.Formatter\n\nfun formatDurationTime(durationSeconds: Long): String {\n    var hours = 0L\n    var minutes = 0L\n    var seconds = durationSeconds\n    if (seconds &gt;= 3600) {\n        hours = seconds / 3600\n        seconds -= hours * 3600\n    }\n    if (seconds &gt;= 60) {\n        minutes = seconds / 60\n        seconds -= minutes * 60\n    }\n    return Formatter().format(&quot;%1\\$02d:%2\\$02d:%3\\$02d&quot;, hours, minutes, seconds).toString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9549730,"reputation":133,"user_id":7094285,"display_name":"Donato Wolfisberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667469354,"creation_date":1667469354,"answer_id":74301065,"question_id":55048137,"body_markdown":"You could use kotlin Duration with toComponents to get the individual parts.\r\n\r\n    fun formatDurationTime(durationSeconds: Long) =\r\n        durationSeconds.seconds.toComponents { hours, minutes, seconds, _ -&gt;\r\n            String.format(\r\n                Locale.getDefault(),\r\n                &quot;%02d:%02d:%02d&quot;,\r\n                hours,\r\n                minutes,\r\n                seconds,\r\n            )\r\n        }","title":"Java/Kotlin/Android - format time (hh:mm:ss) and remove unnecessary zeros from the beginning","body":"<p>You could use kotlin Duration with toComponents to get the individual parts.</p>\n<pre><code>fun formatDurationTime(durationSeconds: Long) =\n    durationSeconds.seconds.toComponents { hours, minutes, seconds, _ -&gt;\n        String.format(\n            Locale.getDefault(),\n            &quot;%02d:%02d:%02d&quot;,\n            hours,\n            minutes,\n            seconds,\n        )\n    }\n</code></pre>\n"}],"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11721,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":55049571,"answer_count":4,"score":8,"last_activity_date":1667469354,"creation_date":1551974713,"question_id":55048137,"body_markdown":"My application displays time left in such format hh:mm:ss, for example, 01:05:45 what stands for one hour 5 minutes and 45 seconds.\r\n\r\nWhen hours or minutes are zero I would like not to display them. Currently, if 45 seconds are remaining my timer will show &#39;00:00:45&#39;. The expected result is just &#39;45&#39;.\r\n\r\nI need some kind of Java/Kotlin/Android method to produce the following outputs:\r\n\r\n - 1 hour 13 minutes and 10 seconds  ==&gt;  01:13:10 \r\n - 0 hours 13 minutes and 10 seconds  ==&gt; 13:10 \r\n - 3 hours 0 minutes and 16 seconds  ==&gt; 03:00:16 \r\n - 0 hour 0 minutes and 5 seconds  ==&gt;  5\r\n\r\nCurrently I use such string as a formatter:\r\n\r\n    &lt;string name=&quot;time_default_formatter&quot; translatable=&quot;false&quot;&gt;%02d:%02d:%02d&lt;/string&gt;\r\n\r\nI tried to manually replace string &quot;00:&quot; with &quot;&quot; but it fails when it comes to a 3rd example. Also, I think standard formatting should provide something like that but I keep failing to find it.\r\n\r\nEdit: I can do it in code. The thing is I am looking for an elegant solution.","title":"Java/Kotlin/Android - format time (hh:mm:ss) and remove unnecessary zeros from the beginning","body":"<p>My application displays time left in such format hh:mm:ss, for example, 01:05:45 what stands for one hour 5 minutes and 45 seconds.</p>\n\n<p>When hours or minutes are zero I would like not to display them. Currently, if 45 seconds are remaining my timer will show '00:00:45'. The expected result is just '45'.</p>\n\n<p>I need some kind of Java/Kotlin/Android method to produce the following outputs:</p>\n\n<ul>\n<li>1 hour 13 minutes and 10 seconds  ==>  01:13:10 </li>\n<li>0 hours 13 minutes and 10 seconds  ==> 13:10 </li>\n<li>3 hours 0 minutes and 16 seconds  ==> 03:00:16 </li>\n<li>0 hour 0 minutes and 5 seconds  ==>  5</li>\n</ul>\n\n<p>Currently I use such string as a formatter:</p>\n\n<pre><code>&lt;string name=\"time_default_formatter\" translatable=\"false\"&gt;%02d:%02d:%02d&lt;/string&gt;\n</code></pre>\n\n<p>I tried to manually replace string \"00:\" with \"\" but it fails when it comes to a 3rd example. Also, I think standard formatting should provide something like that but I keep failing to find it.</p>\n\n<p>Edit: I can do it in code. The thing is I am looking for an elegant solution.</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667110905,"post_id":74250949,"comment_id":131090524,"body_markdown":"Please add a minimal, runnable example which illustrates your problem","body":"Please add a minimal, runnable example which illustrates your problem"},{"owner":{"account_id":15811413,"reputation":38,"user_id":11408361,"display_name":"Park-se-jin"},"score":0,"creation_date":1667112348,"post_id":74250949,"comment_id":131090685,"body_markdown":"@tgdavies    i was add picture, and remove some arguments of the method.\nthanks for your comment.","body":"@tgdavies    i was add picture, and remove some arguments of the method. thanks for your comment."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667113724,"post_id":74250949,"comment_id":131090840,"body_markdown":"It&#39;s also no clear whether you want a 16 bit image or a 16 colour (4-bit) image.","body":"It&#39;s also no clear whether you want a 16 bit image or a 16 colour (4-bit) image."},{"owner":{"account_id":15811413,"reputation":38,"user_id":11408361,"display_name":"Park-se-jin"},"score":0,"creation_date":1667114040,"post_id":74250949,"comment_id":131090878,"body_markdown":"@tgdavies Thanks. i edit for to be output description to result.. i want get 16 color image. I&#39;m trying, but it&#39;s not easy.","body":"@tgdavies Thanks. i edit for to be output description to result.. i want get 16 color image. I&#39;m trying, but it&#39;s not easy."}],"answers":[{"tags":[],"owner":{"account_id":15811413,"reputation":38,"user_id":11408361,"display_name":"Park-se-jin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667469335,"creation_date":1667204075,"answer_id":74260415,"question_id":74250949,"body_markdown":"This has been resolved with the &#39;Image4J&#39; library.\r\n\r\nexample:\r\n\r\n```\r\nimport net.sf.image4j.util.ConvertUtil;\r\n\r\nBufferedImage resultImg = ConvertUtil.convert4( (BufferedImage) sourceImg );\r\n```","title":"how to convert 24 bit bmp file to 16 color bmp file in java","body":"<p>This has been resolved with the 'Image4J' library.</p>\n<p>example:</p>\n<pre><code>import net.sf.image4j.util.ConvertUtil;\n\nBufferedImage resultImg = ConvertUtil.convert4( (BufferedImage) sourceImg );\n</code></pre>\n"}],"owner":{"account_id":15811413,"reputation":38,"user_id":11408361,"display_name":"Park-se-jin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667469335,"creation_date":1667110684,"question_id":74250949,"body_markdown":"I am currently in a situation where I have to convert the image files to Java.\r\n\r\nDuring data communication, the bmp file was created and transmitted using the existing usage method, but due to a new problem, the bmp file format needs to be added and transmitted.\r\n\r\nIn the traditional method, the bmp file was created using Buffered Image and ImageIO\r\nIn this way, we have confirmed that a 24 bit bmp file is being created.\r\n\r\nDuring bmp file generation, the file must be created using 16 colors\r\n\r\nWe have confirmed that you can change the format to the desired format using IndexColorModel.\r\n\r\nThere was a problem using IndexColorModel.\r\n\r\n    \r\n\t\t\t\t\r\n\tpublic static BufferedImage changeFormat( BufferedImage img )   {\r\n\t\tBufferedImage convertImage = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tbyte[] reds = {\r\n\t\t\t\t\t\t(byte)0x00, (byte)0xff, (byte)0x00, (byte)0x00 };\r\n\t\t\t\tbyte[] greens = {\r\n\t\t\t\t\t\t(byte)0x00, (byte)0x00, (byte)0xff, (byte)0x00 };\r\n\t\t\t\tbyte[] blues = {\r\n\t\t\t\t\t\t(byte)0x00, (byte)0x00, (byte)0x00, (byte)0xff };\r\n\r\n\t\t        IndexColorModel icm = new IndexColorModel(4, 4, reds, greens, blues);\r\n\r\n\t\t\t\tconvertImage = new BufferedImage ( \r\n\t\t\t\t\t\t\t\t\t\t\t\timg.getWidth()\r\n\t\t\t\t\t\t\t\t\t\t\t\t, img.getHeight()\r\n\t\t\t\t\t\t\t\t\t\t\t\t, BufferedImage.TYPE_BYTE_INDEXED\r\n\t\t\t\t\t\t\t\t\t\t\t\t, icm\r\n\t\t\t\t\t);\r\n\t\t\t\t\r\n\r\n\t        Graphics2D graphics2D = convertImage.createGraphics();\r\n\t        graphics2D.drawImage(img, 0, 0, null);\r\n\t        graphics2D.dispose();\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn convertImage;\r\n\t}\r\n\t\r\n\r\n\r\nWe used the above source code to designate the IndexColorModel,\r\nA new image is created according to the image size, the right half has disappeared, the left image is stretched, and the extended part has a black background.\r\n\r\nThe image size is 32&#215;16 (width&#215;length).\r\n\r\nHow do I get a complete image file?\r\n\r\ninput Image : [![input Image][1]][1] (24 Bit BMP Image)\r\n\r\noutput Image: [![output Image][2]][2]( 16Color BMP Image)\r\n\r\nImage results to be output : [![Image results to be output][3]][3] (16 Color  BMP Image)\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZaDE.png\r\n  [2]: https://i.stack.imgur.com/at4HE.png\r\n  [3]: https://i.stack.imgur.com/wMQR6.png","title":"how to convert 24 bit bmp file to 16 color bmp file in java","body":"<p>I am currently in a situation where I have to convert the image files to Java.</p>\n<p>During data communication, the bmp file was created and transmitted using the existing usage method, but due to a new problem, the bmp file format needs to be added and transmitted.</p>\n<p>In the traditional method, the bmp file was created using Buffered Image and ImageIO\nIn this way, we have confirmed that a 24 bit bmp file is being created.</p>\n<p>During bmp file generation, the file must be created using 16 colors</p>\n<p>We have confirmed that you can change the format to the desired format using IndexColorModel.</p>\n<p>There was a problem using IndexColorModel.</p>\n<pre><code>public static BufferedImage changeFormat( BufferedImage img )   {\n    BufferedImage convertImage = null;\n    \n    try {\n            \n            byte[] reds = {\n                    (byte)0x00, (byte)0xff, (byte)0x00, (byte)0x00 };\n            byte[] greens = {\n                    (byte)0x00, (byte)0x00, (byte)0xff, (byte)0x00 };\n            byte[] blues = {\n                    (byte)0x00, (byte)0x00, (byte)0x00, (byte)0xff };\n\n            IndexColorModel icm = new IndexColorModel(4, 4, reds, greens, blues);\n\n            convertImage = new BufferedImage ( \n                                            img.getWidth()\n                                            , img.getHeight()\n                                            , BufferedImage.TYPE_BYTE_INDEXED\n                                            , icm\n                );\n            \n\n        Graphics2D graphics2D = convertImage.createGraphics();\n        graphics2D.drawImage(img, 0, 0, null);\n        graphics2D.dispose();\n        \n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n    return convertImage;\n}\n</code></pre>\n<p>We used the above source code to designate the IndexColorModel,\nA new image is created according to the image size, the right half has disappeared, the left image is stretched, and the extended part has a black background.</p>\n<p>The image size is 32×16 (width×length).</p>\n<p>How do I get a complete image file?</p>\n<p>input Image : <a href=\"https://i.stack.imgur.com/yZaDE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZaDE.png\" alt=\"input Image\" /></a> (24 Bit BMP Image)</p>\n<p>output Image: <a href=\"https://i.stack.imgur.com/at4HE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/at4HE.png\" alt=\"output Image\" /></a>( 16Color BMP Image)</p>\n<p>Image results to be output : <a href=\"https://i.stack.imgur.com/wMQR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMQR6.png\" alt=\"Image results to be output\" /></a> (16 Color  BMP Image)</p>\n"},{"tags":["java","android","c++","qt"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667467133,"post_id":74300326,"comment_id":131174908,"body_markdown":"The first error is obvious: There is no such `setFlags` method. There is only [one that returns the Intent](https://developer.android.com/reference/android/content/Intent#setFlags(int)).","body":"The first error is obvious: There is no such <code>setFlags</code> method. There is only <a href=\"https://developer.android.com/reference/android/content/Intent#setFlags(int)\" rel=\"nofollow noreferrer\">one that returns the Intent</a>."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667467181,"post_id":74300326,"comment_id":131174931,"body_markdown":"For the second question: It is very unusual that `android.src` appears in your class name. What does your directory tree look like?","body":"For the second question: It is very unusual that <code>android.src</code> appears in your class name. What does your directory tree look like?"},{"owner":{"account_id":26739707,"reputation":1,"user_id":20340685,"display_name":"Lithium"},"score":0,"creation_date":1667467933,"post_id":74300326,"comment_id":131175191,"body_markdown":"thank you for your help, it is as follows: \n\nMyQtProject/\n├─ MyQtProject.pro\n├─ Headers/\n├─ Sources/\n├─ Resources/\n├─ Other files/\n│  ├─ android/\n│  │  ├─ src/\n│  │  │  ├─ ScytheStudio/\n│  │  │  │  ├─ MainActivity.java","body":"thank you for your help, it is as follows:   MyQtProject/ ├─ MyQtProject.pro ├─ Headers/ ├─ Sources/ ├─ Resources/ ├─ Other files/ │  ├─ android/ │  │  ├─ src/ │  │  │  ├─ ScytheStudio/ │  │  │  │  ├─ MainActivity.java"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667467992,"post_id":74300326,"comment_id":131175216,"body_markdown":"That&#39;s unreadable in a comment, mate. Edit your question.","body":"That&#39;s unreadable in a comment, mate. Edit your question."},{"owner":{"account_id":26739707,"reputation":1,"user_id":20340685,"display_name":"Lithium"},"score":0,"creation_date":1667468561,"post_id":74300326,"comment_id":131175442,"body_markdown":"sorry, check the question again","body":"sorry, check the question again"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667469274,"post_id":74300326,"comment_id":131175709,"body_markdown":"Right. If I read that correctly, the name of your Activity class is `ScytheStudio.MainActivity` without the `android.src` prefix. Although in a regular Android application that would be hosted under `android/src/java` but I do not know how Qt handles these things.","body":"Right. If I read that correctly, the name of your Activity class is <code>ScytheStudio.MainActivity</code> without the <code>android.src</code> prefix. Although in a regular Android application that would be hosted under <code>android&#47;src&#47;java</code> but I do not know how Qt handles these things."},{"owner":{"account_id":26739707,"reputation":1,"user_id":20340685,"display_name":"Lithium"},"score":0,"creation_date":1667469861,"post_id":74300326,"comment_id":131175936,"body_markdown":"thank you for your effort, i&#39;ve modified `runApplication` function to be : `runApplication(&quot;ScytheStudio&quot;,&quot;MainActivity&quot;); `\n\nand modified the activity name in the manifiest to be : – \n`&lt;activity android:name=&quot;.ScytheStudio.MainActivity&quot;`\n\nand still got the same error","body":"thank you for your effort, i&#39;ve modified <code>runApplication</code> function to be : <code>runApplication(&quot;ScytheStudio&quot;,&quot;MainActivity&quot;); </code>  and modified the activity name in the manifiest to be : –  <code>&lt;activity android:name=&quot;.ScytheStudio.MainActivity&quot;</code>  and still got the same error"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667810678,"post_id":74300326,"comment_id":131247638,"body_markdown":"You probably ought to remove the dot. [*However, if the first character in the name value is a period, the app&#39;s namespace (from the module-level build.gradle file&#39;s namespace property) is prefixed to the name.*](https://developer.android.com/guide/topics/manifest/activity-element)","body":"You probably ought to remove the dot. <a href=\"https://developer.android.com/guide/topics/manifest/activity-element\" rel=\"nofollow noreferrer\"><i>However, if the first character in the name value is a period, the app&#39;s namespace (from the module-level build.gradle file&#39;s namespace property) is prefixed to the name.</i></a>"},{"owner":{"account_id":4160650,"reputation":632,"user_id":3410835,"display_name":"K Pradeep Kumar Reddy"},"score":0,"creation_date":1680786562,"post_id":74300326,"comment_id":133959102,"body_markdown":"did you find solution to this issue ? If yes, please share the answer.","body":"did you find solution to this issue ? If yes, please share the answer."}],"owner":{"account_id":26739707,"reputation":1,"user_id":20340685,"display_name":"Lithium"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667469323,"creation_date":1667465723,"question_id":74300326,"body_markdown":"i am working on a cross-platform mobile application using qt/qml, and it has a fingerprint authentication, i&#39;ve decided that i will deal with the authentication part natively, for the android app i am trying to call a java activity (that contain the authentication prompt) through QJniObject features, i&#39;ve tried many times with no hope \r\n\r\nhere is the source code of my simple trial ,\r\n\r\n**MainActivity.java**\r\n\r\n```\r\npackage ScytheStudio;\r\n\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.biometric.BiometricManager;\r\nimport androidx.biometric.BiometricPrompt;\r\nimport androidx.core.content.ContextCompat;\r\nimport android.os.Bundle;\r\nimport java.util.concurrent.Executor;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    public String showFingerPrint(){\r\n        BiometricPrompt biometricPrompt;\r\n        BiometricPrompt.PromptInfo promptInfo;\r\n\r\n        BiometricManager biometricManager = BiometricManager.from(this);\r\n\r\n        Executor executor = ContextCompat.getMainExecutor(this);\r\n        biometricPrompt = new BiometricPrompt(MainActivity.this,executor,new BiometricPrompt.AuthenticationCallback(){});\r\n\r\n\r\n        promptInfo = new BiometricPrompt.PromptInfo.Builder().setTitle(&quot;Hello&quot;)\r\n                .setDescription(&quot;useFingerPrint to login&quot;).setDeviceCredentialAllowed(true).build();\r\n\r\n        biometricPrompt.authenticate(promptInfo);\r\n\r\n        return &quot;&quot;;\r\n\r\n        }\r\n}\r\n```\r\n\r\n\r\n**backedn.cpp**\r\n\r\n```\r\n#include &quot;backedn.h&quot;\r\n\r\n\r\nbackedn::backedn(QObject *parent)\r\n    : QObject{parent}\r\n{\r\n\r\n}\r\n\r\nvoid backedn::testFn()\r\n{\r\n    if(QJniObject::isClassAvailable(&quot;ScytheStudio/MainActivity&quot;)) {\r\n\r\n          runApplication(&quot;android/src/ScytheStudio&quot;,&quot;MainActivity&quot;);\r\n\r\n    }\r\n    else {\r\n        qDebug() &lt;&lt; &quot;SOME JAVA CLASS UNAVAIABLE!&quot;;\r\n    }\r\n}\r\n\r\nvoid backedn::runApplication(const QString &amp;packageName, const QString &amp;className)\r\n{\r\n    qDebug() &lt;&lt; &quot;Start app: &quot; &lt;&lt;packageName &lt;&lt;&quot;, &quot;&lt;&lt;className;\r\n    QJniObject activity = QJniObject(QNativeInterface::QAndroidApplication::context());   //activity is valid\r\n\r\n    if ( activity.isValid() )\r\n    {\r\n        // Equivalent to Jave code: &#39;Intent intent = new Intent();&#39;\r\n        QJniObject intent(&quot;android/content/Intent&quot;,&quot;()V&quot;);\r\n\r\n        if ( intent.isValid() )\r\n        {\r\n            QJniObject jPackageName = QJniObject::fromString(packageName);\r\n            QJniObject jClassName = QJniObject::fromString(className);\r\n\r\n            if ( jPackageName.isValid() &amp;&amp; jClassName.isValid() )\r\n            {\r\n                qDebug() &lt;&lt; &quot;Valid True&quot;;\r\n\r\n                // Equivalent to Jave code: &#39;intent.setClassName(&quot;com.android.settings&quot;, &quot;com.android.settings.DevelopmentSettings&quot;);&#39;\r\n                intent.callObjectMethod(&quot;setClassName&quot;,\r\n                                        &quot;(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;&quot;,\r\n                                        jPackageName.object&lt;jstring&gt;(),jClassName.object&lt;jstring&gt;());\r\n\r\n                    qDebug() &lt;&lt; &quot;phase 3&quot;;\r\n\r\n                jint flag = QJniObject::getStaticField&lt;jint&gt;(\r\n                            &quot;android/content/Intent&quot;,\r\n                            &quot;FLAG_ACTIVITY_NEW_TASK&quot;);\r\n\r\n                intent.callObjectMethod(&quot;setFlags&quot;, &quot;(I)V&quot;,flag);\r\n                qDebug() &lt;&lt; &quot;phase 4&quot;;\r\n                // Equivalent to Jave code: &#39;startActivity(intent);&#39;\r\n                QJniEnvironment env;\r\n                activity.callMethod&lt;void&gt;(&quot;startActivity&quot;,&quot;(Landroid/content/Intent;)V&quot;, intent.object&lt;jobject&gt;());\r\n\r\n                if (env-&gt;ExceptionCheck()) {\r\n                    qDebug() &lt;&lt; &quot;Intent not found!&quot;;\r\n                    env-&gt;ExceptionClear(); // TODO: stupid method! Remove this!\r\n                }\r\n            } else {\r\n                qDebug() &lt;&lt; &quot;Action is not valid&quot;;\r\n            }\r\n        } else {\r\n            qDebug() &lt;&lt; &quot;Intent is not valid&quot;;\r\n        }\r\n    } else {\r\n        qDebug() &lt;&lt; &quot;Activity is not valid&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**main.qml**\r\n\r\n```\r\nimport QtQuick 2.12\r\nimport QtQuick.Window 2.12\r\nimport QtQuick.Controls 2.0\r\nimport Token 1.0\r\n\r\n\r\nWindow {\r\n    width: 640\r\n    height: 480\r\n    visible: true\r\n    title: qsTr(&quot;Hello World&quot;)\r\n\r\n    TokenBack{\r\n    id:myclass\r\n    }\r\n\r\n    Button{\r\n        text:&quot;hello&quot;\r\n        width:50\r\n        height:50\r\n\r\n        onClicked: {\r\n            myclass.testFn()\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**AndroidManifest.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;org.qtproject.example&quot; android:installLocation=&quot;auto&quot; android:versionCode=&quot;-- %%INSERT_VERSION_CODE%% --&quot; android:versionName=&quot;-- %%INSERT_VERSION_NAME%% --&quot;&gt;\r\n    &lt;!-- %%INSERT_PERMISSIONS --&gt;\r\n    &lt;!-- %%INSERT_FEATURES --&gt;\r\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:smallScreens=&quot;true&quot;/&gt;\r\n    &lt;application android:name=&quot;org.qtproject.qt.android.bindings.QtApplication&quot; android:hardwareAccelerated=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:allowNativeHeapPointerTagging=&quot;false&quot; android:allowBackup=&quot;true&quot; android:fullBackupOnly=&quot;false&quot;&gt;\r\n        &lt;activity android:name=&quot;org.qtproject.qt.android.bindings.QtActivity&quot; android:configChanges=&quot;orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:launchMode=&quot;singleTop&quot; android:screenOrientation=&quot;unspecified&quot; android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;-- %%INSERT_APP_LIB_NAME%% --&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;android.app.arguments&quot; android:value=&quot;-- %%INSERT_APP_ARGUMENTS%% --&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;android.app.extract_android_style&quot; android:value=&quot;minimal&quot;/&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.android.src.ScytheStudio.MainActivity&quot; android:exported=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:screenOrientation=&quot;unspecified&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;gudamechi&quot;/&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\n**Output**\r\n\r\n\r\n```\r\nD libgudamechi_arm64-v8a.so: Start app:  &quot;android/src/ScytheStudio&quot; ,  &quot;MainActivity&quot;\r\nD libgudamechi_arm64-v8a.so: Valid True\r\nD libgudamechi_arm64-v8a.so: phase 3\r\nW System.err: java.lang.NoSuchMethodError: no non-static method &quot;Landroid/content/Intent;.setFlags(I)V&quot;\r\nW System.err: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW System.err: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:622)\r\nW System.err: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW System.err: \tat java.lang.Thread.run(Thread.java:923)\r\nD libgudamechi_arm64-v8a.so: phase 4\r\nI Timeline: Timeline: Activity_launch_request time:404494513\r\nW System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {android/src/ScytheStudio/MainActivity}; have you declared this activity in your AndroidManifest.xml?\r\nW System.err: \tat android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2067)\r\nW System.err: \tat android.app.Instrumentation.execStartActivity(Instrumentation.java:1729)\r\nW System.err: \tat android.app.Activity.startActivityForResult(Activity.java:5436)\r\nW System.err: \tat android.app.Activity.startActivityForResult(Activity.java:5394)\r\nW System.err: \tat android.app.Activity.startActivity(Activity.java:5780)\r\nW System.err: \tat android.app.Activity.startActivity(Activity.java:5733)\r\nW System.err: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW System.err: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:622)\r\nW System.err: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW System.err: \tat java.lang.Thread.run(Thread.java:923)\r\nI project.exampl: ProcessProfilingInfo new_methods=480 is saved saved_to_disk=1 resolve_classes_delay=8000\r\nW libEGL  : EGLNativeWindowType 0x7415128010 disconnect failed\r\n```\r\n\r\n**Project Tree**\r\n```\r\nMyQtProject/\r\n├─ MyQtProject.pro\r\n├─ Headers/\r\n├─ Sources/\r\n├─ Resources/\r\n├─ Other files/\r\n│  ├─ android/\r\n│  │  ├─ src/\r\n│  │  │  ├─ ScytheStudio/\r\n│  │  │  │  ├─ MainActivity.java\r\n\r\n```\r\n\r\n\r\n\r\n[Project tree image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pAUFC.png","title":"Problem in running android activities in qt/qml through QJniObject","body":"<p>i am working on a cross-platform mobile application using qt/qml, and it has a fingerprint authentication, i've decided that i will deal with the authentication part natively, for the android app i am trying to call a java activity (that contain the authentication prompt) through QJniObject features, i've tried many times with no hope</p>\n<p>here is the source code of my simple trial ,</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package ScytheStudio;\n\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.biometric.BiometricManager;\nimport androidx.biometric.BiometricPrompt;\nimport androidx.core.content.ContextCompat;\nimport android.os.Bundle;\nimport java.util.concurrent.Executor;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    public String showFingerPrint(){\n        BiometricPrompt biometricPrompt;\n        BiometricPrompt.PromptInfo promptInfo;\n\n        BiometricManager biometricManager = BiometricManager.from(this);\n\n        Executor executor = ContextCompat.getMainExecutor(this);\n        biometricPrompt = new BiometricPrompt(MainActivity.this,executor,new BiometricPrompt.AuthenticationCallback(){});\n\n\n        promptInfo = new BiometricPrompt.PromptInfo.Builder().setTitle(&quot;Hello&quot;)\n                .setDescription(&quot;useFingerPrint to login&quot;).setDeviceCredentialAllowed(true).build();\n\n        biometricPrompt.authenticate(promptInfo);\n\n        return &quot;&quot;;\n\n        }\n}\n</code></pre>\n<p><strong>backedn.cpp</strong></p>\n<pre><code>#include &quot;backedn.h&quot;\n\n\nbackedn::backedn(QObject *parent)\n    : QObject{parent}\n{\n\n}\n\nvoid backedn::testFn()\n{\n    if(QJniObject::isClassAvailable(&quot;ScytheStudio/MainActivity&quot;)) {\n\n          runApplication(&quot;android/src/ScytheStudio&quot;,&quot;MainActivity&quot;);\n\n    }\n    else {\n        qDebug() &lt;&lt; &quot;SOME JAVA CLASS UNAVAIABLE!&quot;;\n    }\n}\n\nvoid backedn::runApplication(const QString &amp;packageName, const QString &amp;className)\n{\n    qDebug() &lt;&lt; &quot;Start app: &quot; &lt;&lt;packageName &lt;&lt;&quot;, &quot;&lt;&lt;className;\n    QJniObject activity = QJniObject(QNativeInterface::QAndroidApplication::context());   //activity is valid\n\n    if ( activity.isValid() )\n    {\n        // Equivalent to Jave code: 'Intent intent = new Intent();'\n        QJniObject intent(&quot;android/content/Intent&quot;,&quot;()V&quot;);\n\n        if ( intent.isValid() )\n        {\n            QJniObject jPackageName = QJniObject::fromString(packageName);\n            QJniObject jClassName = QJniObject::fromString(className);\n\n            if ( jPackageName.isValid() &amp;&amp; jClassName.isValid() )\n            {\n                qDebug() &lt;&lt; &quot;Valid True&quot;;\n\n                // Equivalent to Jave code: 'intent.setClassName(&quot;com.android.settings&quot;, &quot;com.android.settings.DevelopmentSettings&quot;);'\n                intent.callObjectMethod(&quot;setClassName&quot;,\n                                        &quot;(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;&quot;,\n                                        jPackageName.object&lt;jstring&gt;(),jClassName.object&lt;jstring&gt;());\n\n                    qDebug() &lt;&lt; &quot;phase 3&quot;;\n\n                jint flag = QJniObject::getStaticField&lt;jint&gt;(\n                            &quot;android/content/Intent&quot;,\n                            &quot;FLAG_ACTIVITY_NEW_TASK&quot;);\n\n                intent.callObjectMethod(&quot;setFlags&quot;, &quot;(I)V&quot;,flag);\n                qDebug() &lt;&lt; &quot;phase 4&quot;;\n                // Equivalent to Jave code: 'startActivity(intent);'\n                QJniEnvironment env;\n                activity.callMethod&lt;void&gt;(&quot;startActivity&quot;,&quot;(Landroid/content/Intent;)V&quot;, intent.object&lt;jobject&gt;());\n\n                if (env-&gt;ExceptionCheck()) {\n                    qDebug() &lt;&lt; &quot;Intent not found!&quot;;\n                    env-&gt;ExceptionClear(); // TODO: stupid method! Remove this!\n                }\n            } else {\n                qDebug() &lt;&lt; &quot;Action is not valid&quot;;\n            }\n        } else {\n            qDebug() &lt;&lt; &quot;Intent is not valid&quot;;\n        }\n    } else {\n        qDebug() &lt;&lt; &quot;Activity is not valid&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>main.qml</strong></p>\n<pre><code>import QtQuick 2.12\nimport QtQuick.Window 2.12\nimport QtQuick.Controls 2.0\nimport Token 1.0\n\n\nWindow {\n    width: 640\n    height: 480\n    visible: true\n    title: qsTr(&quot;Hello World&quot;)\n\n    TokenBack{\n    id:myclass\n    }\n\n    Button{\n        text:&quot;hello&quot;\n        width:50\n        height:50\n\n        onClicked: {\n            myclass.testFn()\n\n        }\n\n    }\n}\n\n\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;org.qtproject.example&quot; android:installLocation=&quot;auto&quot; android:versionCode=&quot;-- %%INSERT_VERSION_CODE%% --&quot; android:versionName=&quot;-- %%INSERT_VERSION_NAME%% --&quot;&gt;\n    &lt;!-- %%INSERT_PERMISSIONS --&gt;\n    &lt;!-- %%INSERT_FEATURES --&gt;\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:smallScreens=&quot;true&quot;/&gt;\n    &lt;application android:name=&quot;org.qtproject.qt.android.bindings.QtApplication&quot; android:hardwareAccelerated=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:allowNativeHeapPointerTagging=&quot;false&quot; android:allowBackup=&quot;true&quot; android:fullBackupOnly=&quot;false&quot;&gt;\n        &lt;activity android:name=&quot;org.qtproject.qt.android.bindings.QtActivity&quot; android:configChanges=&quot;orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:launchMode=&quot;singleTop&quot; android:screenOrientation=&quot;unspecified&quot; android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;-- %%INSERT_APP_LIB_NAME%% --&quot;/&gt;\n            &lt;meta-data android:name=&quot;android.app.arguments&quot; android:value=&quot;-- %%INSERT_APP_ARGUMENTS%% --&quot;/&gt;\n            &lt;meta-data android:name=&quot;android.app.extract_android_style&quot; android:value=&quot;minimal&quot;/&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.android.src.ScytheStudio.MainActivity&quot; android:exported=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:screenOrientation=&quot;unspecified&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;gudamechi&quot;/&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>D libgudamechi_arm64-v8a.so: Start app:  &quot;android/src/ScytheStudio&quot; ,  &quot;MainActivity&quot;\nD libgudamechi_arm64-v8a.so: Valid True\nD libgudamechi_arm64-v8a.so: phase 3\nW System.err: java.lang.NoSuchMethodError: no non-static method &quot;Landroid/content/Intent;.setFlags(I)V&quot;\nW System.err:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW System.err:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:622)\nW System.err:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW System.err:   at java.lang.Thread.run(Thread.java:923)\nD libgudamechi_arm64-v8a.so: phase 4\nI Timeline: Timeline: Activity_launch_request time:404494513\nW System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {android/src/ScytheStudio/MainActivity}; have you declared this activity in your AndroidManifest.xml?\nW System.err:   at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2067)\nW System.err:   at android.app.Instrumentation.execStartActivity(Instrumentation.java:1729)\nW System.err:   at android.app.Activity.startActivityForResult(Activity.java:5436)\nW System.err:   at android.app.Activity.startActivityForResult(Activity.java:5394)\nW System.err:   at android.app.Activity.startActivity(Activity.java:5780)\nW System.err:   at android.app.Activity.startActivity(Activity.java:5733)\nW System.err:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW System.err:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:622)\nW System.err:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW System.err:   at java.lang.Thread.run(Thread.java:923)\nI project.exampl: ProcessProfilingInfo new_methods=480 is saved saved_to_disk=1 resolve_classes_delay=8000\nW libEGL  : EGLNativeWindowType 0x7415128010 disconnect failed\n</code></pre>\n<p><strong>Project Tree</strong></p>\n<pre><code>MyQtProject/\n├─ MyQtProject.pro\n├─ Headers/\n├─ Sources/\n├─ Resources/\n├─ Other files/\n│  ├─ android/\n│  │  ├─ src/\n│  │  │  ├─ ScytheStudio/\n│  │  │  │  ├─ MainActivity.java\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pAUFC.png\" rel=\"nofollow noreferrer\">Project tree image</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1424278485,"post_id":28582893,"comment_id":45485174,"body_markdown":"There is no way in Java to recursively import all subpackages.","body":"There is no way in Java to recursively import all subpackages."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1435148017,"post_id":28582893,"comment_id":50077038,"body_markdown":"[There is not really such a thing as a _sub_ package](http://stackoverflow.com/questions/7847568/relation-between-package-and-a-sub-package-in-java)","body":"<a href=\"http://stackoverflow.com/questions/7847568/relation-between-package-and-a-sub-package-in-java\">There is not really such a thing as a <i>sub</i> package</a>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1424260160,"creation_date":1424260160,"answer_id":28582913,"question_id":28582893,"body_markdown":"There is no such thing as sub-package in java.\r\n\r\n`java.util.stream` is not a sub-pacakge of `java.util`.\r\n\r\nTherefore `import java.util.*` doesn&#39;t import the classes of `java.util.stream`.\r\n\r\nTo import all the built in classes, you have to import them one package at a time. It&#39;s a better practice, though, to only import the classes that you actually need.","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>There is no such thing as sub-package in java.</p>\n\n<p><code>java.util.stream</code> is not a sub-pacakge of <code>java.util</code>.</p>\n\n<p>Therefore <code>import java.util.*</code> doesn't import the classes of <code>java.util.stream</code>.</p>\n\n<p>To import all the built in classes, you have to import them one package at a time. It's a better practice, though, to only import the classes that you actually need.</p>\n"},{"tags":[],"owner":{"account_id":962030,"reputation":13691,"user_id":986169,"accept_rate":75,"display_name":"giorashc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424260342,"creation_date":1424260342,"answer_id":28582987,"question_id":28582893,"body_markdown":"Using a wildcard when importing classes may clutter your classes namespace so if you&#39;ll have a class named `ClassA` in more then one import (e.g. import `com.example1.*` and import `com.example2.*` where `ClassA` is defined in both and you need only the implementation in `com.example1`) you will have a conflict so only import what you really need to use.\r\n\r\nMost IDEs allows you to easily organize your imports so only the classes that you really need to use will be imported ","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>Using a wildcard when importing classes may clutter your classes namespace so if you'll have a class named <code>ClassA</code> in more then one import (e.g. import <code>com.example1.*</code> and import <code>com.example2.*</code> where <code>ClassA</code> is defined in both and you need only the implementation in <code>com.example1</code>) you will have a conflict so only import what you really need to use.</p>\n\n<p>Most IDEs allows you to easily organize your imports so only the classes that you really need to use will be imported </p>\n"},{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424260411,"creation_date":1424260411,"answer_id":28583006,"question_id":28582893,"body_markdown":"It is not like what you think, consider when you want to use `ChannelHandler` interface you could do either `import io.netty.channel.*;` or `import io.netty.channel.ChannelHandler;` but you cant use `import io.netty.*;` and that why you cant `import java.*;`","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>It is not like what you think, consider when you want to use <code>ChannelHandler</code> interface you could do either <code>import io.netty.channel.*;</code> or <code>import io.netty.channel.ChannelHandler;</code> but you cant use <code>import io.netty.*;</code> and that why you cant <code>import java.*;</code></p>\n"},{"tags":[],"owner":{"account_id":3265019,"reputation":9,"user_id":2749681,"display_name":"Alok kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424260466,"creation_date":1424260466,"answer_id":28583025,"question_id":28582893,"body_markdown":"You can import java.util.* it work fine but when you import specific class instead of all class it take less time in importing but if you are importing too many classes from same package you can import all classes using package.* and it takes less time for jvm to fetch instead of taking one by one.\r\n\r\n**By convention you can use import package.* if you are using too many classes from same package.**","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>You can import java.util.* it work fine but when you import specific class instead of all class it take less time in importing but if you are importing too many classes from same package you can import all classes using package.* and it takes less time for jvm to fetch instead of taking one by one.</p>\n\n<p><strong>By convention you can use import package.* if you are using too many classes from same package.</strong></p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424260600,"creation_date":1424260600,"answer_id":28583074,"question_id":28582893,"body_markdown":"Why? Because Java by design is divided into different packages. This way you can&#39;t pollute your namespace with all the classes that exist, and you have to actually specify what classes in which namespace you intend to use.\r\n\r\nIn java, packages don&#39;t relate to each other - there is no hierarchy (even if it would look like it), just flat names of packages.\r\n\r\nAs to how you could circumvent that, I&#39;d think the only way would be to iterate all packages and generate your java code based on that iteration. There is no straight way to do it.","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>Why? Because Java by design is divided into different packages. This way you can't pollute your namespace with all the classes that exist, and you have to actually specify what classes in which namespace you intend to use.</p>\n\n<p>In java, packages don't relate to each other - there is no hierarchy (even if it would look like it), just flat names of packages.</p>\n\n<p>As to how you could circumvent that, I'd think the only way would be to iterate all packages and generate your java code based on that iteration. There is no straight way to do it.</p>\n"},{"tags":[],"owner":{"account_id":5133083,"reputation":1697,"user_id":4112645,"display_name":"PeterK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424260809,"creation_date":1424260809,"answer_id":28583155,"question_id":28582893,"body_markdown":"As you can read in this [link][1] on Oracle docs, under the heading **Apparent Hierarchies of Packages**:\r\n\r\n&gt; At first, packages appear to be hierarchical, but they are not. For\r\n&gt; example, the Java API includes a `java.awt` package, a `java.awt.color`\r\n&gt; package, a `java.awt.font` package, and many others that begin with\r\n&gt; `java.awt`. However, the `java.awt.color` package, the `java.awt.font`\r\n&gt; package, and other `java.awt.xxxx` packages are not included in the\r\n&gt; `java.awt` package. The prefix `java.awt` (the Java Abstract Window\r\n&gt; Toolkit) is used for a number of related packages to make the\r\n&gt; relationship evident, but not to show inclusion.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>As you can read in this <a href=\"http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\" rel=\"nofollow\">link</a> on Oracle docs, under the heading <strong>Apparent Hierarchies of Packages</strong>:</p>\n\n<blockquote>\n  <p>At first, packages appear to be hierarchical, but they are not. For\n  example, the Java API includes a <code>java.awt</code> package, a <code>java.awt.color</code>\n  package, a <code>java.awt.font</code> package, and many others that begin with\n  <code>java.awt</code>. However, the <code>java.awt.color</code> package, the <code>java.awt.font</code>\n  package, and other <code>java.awt.xxxx</code> packages are not included in the\n  <code>java.awt</code> package. The prefix <code>java.awt</code> (the Java Abstract Window\n  Toolkit) is used for a number of related packages to make the\n  relationship evident, but not to show inclusion.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5805876,"reputation":80,"user_id":4578508,"display_name":"Rahul Chaubey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1424264523,"creation_date":1424262705,"answer_id":28583761,"question_id":28582893,"body_markdown":"Because `import some.example.Type;` is only to import types not the packages. `import some.example.*;` means you&#39;re importing all the Types contained inside `some.example` package not the other packages inside it.\r\n\r\nThis is because import means the code of that file will be available for your program at run time and package itself doesn&#39;t contain any code. It contains files which have the code.\r\n\r\nThat&#39;s why you can&#39;t import all the built-in code in a single import statement. At max you can import in a single statement is all the code available in different files within a package and you know the way `import some.example.*;`","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<p>Because <code>import some.example.Type;</code> is only to import types not the packages. <code>import some.example.*;</code> means you're importing all the Types contained inside <code>some.example</code> package not the other packages inside it.</p>\n\n<p>This is because import means the code of that file will be available for your program at run time and package itself doesn't contain any code. It contains files which have the code.</p>\n\n<p>That's why you can't import all the built-in code in a single import statement. At max you can import in a single statement is all the code available in different files within a package and you know the way <code>import some.example.*;</code></p>\n"}],"owner":{"account_id":5006468,"reputation":55,"user_id":4023986,"display_name":"R S Muthu Kumaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4319,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28583761,"answer_count":7,"score":4,"last_activity_date":1667469308,"creation_date":1424260084,"question_id":28582893,"body_markdown":"    import java.*;\r\n\r\nWhy cannot I do this import? Instead of importing all classes in a particular sub-package of the package &#39;java&#39;, I tried to import all the sub-packages under the the &#39;java&#39; package.\r\n\r\nHow can I import all the built-in classes?\r\n    ","title":"What about using import java.* for using all sub-packages under the package &#39;java&#39;?","body":"<pre><code>import java.*;\n</code></pre>\n<p>Why cannot I do this import? Instead of importing all classes in a particular sub-package of the package 'java', I tried to import all the sub-packages under the the 'java' package.</p>\n<p>How can I import all the built-in classes?</p>\n"},{"tags":["java","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661241405,"creation_date":1661241405,"answer_id":73455041,"question_id":73454362,"body_markdown":"You can define specific url like this;\r\n\r\n    server.servlet.context-path=/graphql-custom\r\n\r\nSo, if you want to add multiple url;\r\n\r\n    &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;graphql&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/internal&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;graphql&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/external&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"How can i expose 2 endpoints on spring boot graphql","body":"<p>You can define specific url like this;</p>\n<pre><code>server.servlet.context-path=/graphql-custom\n</code></pre>\n<p>So, if you want to add multiple url;</p>\n<pre><code>&lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;graphql&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/internal&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;graphql&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/external&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":1118930,"reputation":149,"user_id":1107660,"accept_rate":75,"display_name":"Domen Petrič"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667469304,"creation_date":1661237805,"question_id":73454362,"body_markdown":"\r\nI am using following library for spring boot project:\r\n\r\n`implementation &#39;com.graphql-java:graphql-spring-boot-starter:5.0.2&#39;`\r\n\r\nBy default it exposes one endopoint on &quot;/graphql&quot;, but due to nature of my application i would like to expose 2 endpoints. One on &quot;/internal&quot; and another on &quot;/external&quot;. How can i do that?\r\n\r\nI found a [similar question][1] for an older version of library that wont work with the new one.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62202051/is-there-a-way-to-expose-2-graphql-endpoints-using-spring-boot-starter-app-graph","title":"How can i expose 2 endpoints on spring boot graphql","body":"<p>I am using following library for spring boot project:</p>\n<p><code>implementation 'com.graphql-java:graphql-spring-boot-starter:5.0.2'</code></p>\n<p>By default it exposes one endopoint on &quot;/graphql&quot;, but due to nature of my application i would like to expose 2 endpoints. One on &quot;/internal&quot; and another on &quot;/external&quot;. How can i do that?</p>\n<p>I found a <a href=\"https://stackoverflow.com/questions/62202051/is-there-a-way-to-expose-2-graphql-endpoints-using-spring-boot-starter-app-graph\">similar question</a> for an older version of library that wont work with the new one.</p>\n"},{"tags":["java","jackson","jsonschema","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1465467429,"creation_date":1465467429,"answer_id":37723129,"question_id":37722152,"body_markdown":"this is a java issue somewhat I believe. If you debug your program, your Double will always be displayed scientifically, so what we&#39;ll want is to force it into a String. This can be achieved in Java in multiple ways, and you can look it up here:\r\n\r\nhttps://stackoverflow.com/questions/16098046/how-to-print-double-value-without-scientific-notation-using-java\r\n\r\nIn terms of your specific question about Jackson, I&#39;ve written up some code for you: \r\n\r\n    public class ObjectMapperTest {\r\n    \r\n    \tpublic static void main(String[] args) throws JsonProcessingException {\r\n    \r\n    \t\tIntegerSchema schema = new IntegerSchema();\r\n    \t\tschema.type = &quot;Int&quot;;\r\n    \t\tschema.max = 10200000000d;\r\n    \t\tschema.min = 100d;\r\n    \r\n    \t\tObjectMapper m = new ObjectMapper();\r\n    \t\t\r\n    \t\tSystem.out.println(m.writeValueAsString(schema));\r\n    \r\n    \t}\r\n    \r\n    \tpublic static class IntegerSchema {\r\n    \r\n    \t\t@JsonProperty\r\n    \t\tString type;\r\n    \t\t@JsonProperty\r\n    \t\tdouble min;\r\n    \t\t@JsonProperty\r\n    \t\t@JsonSerialize(using=MyDoubleDesirializer.class)\r\n    \t\tdouble max;\r\n    \t}\r\n    \t\r\n    \tpublic static class MyDoubleDesirializer extends JsonSerializer&lt;Double&gt; {\r\n    \r\n    \r\n    \t\t@Override\r\n    \t\tpublic void serialize(Double value, JsonGenerator gen, SerializerProvider serializers)\r\n    \t\t\t\tthrows IOException, JsonProcessingException {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\r\n    \t\t\tBigDecimal d = new BigDecimal(value);\r\n    \t\t\tgen.writeNumber(d.toPlainString());\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nThe trick is to register a custom Serializer for your Double value. This way, you can control what you want. \r\n\r\nI am using the BigDecimal value to create a String representation of your Double. The output then becomes (for the specific example):\r\n\r\n    {&quot;type&quot;:&quot;Int&quot;,&quot;min&quot;:100.0,&quot;max&quot;:10200000000}\r\n\r\nI hope that solves your problem.\r\n\r\nArtur","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p>this is a java issue somewhat I believe. If you debug your program, your Double will always be displayed scientifically, so what we'll want is to force it into a String. This can be achieved in Java in multiple ways, and you can look it up here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16098046/how-to-print-double-value-without-scientific-notation-using-java\">How to print double value without scientific notation using Java?</a></p>\n\n<p>In terms of your specific question about Jackson, I've written up some code for you: </p>\n\n<pre><code>public class ObjectMapperTest {\n\n    public static void main(String[] args) throws JsonProcessingException {\n\n        IntegerSchema schema = new IntegerSchema();\n        schema.type = \"Int\";\n        schema.max = 10200000000d;\n        schema.min = 100d;\n\n        ObjectMapper m = new ObjectMapper();\n\n        System.out.println(m.writeValueAsString(schema));\n\n    }\n\n    public static class IntegerSchema {\n\n        @JsonProperty\n        String type;\n        @JsonProperty\n        double min;\n        @JsonProperty\n        @JsonSerialize(using=MyDoubleDesirializer.class)\n        double max;\n    }\n\n    public static class MyDoubleDesirializer extends JsonSerializer&lt;Double&gt; {\n\n\n        @Override\n        public void serialize(Double value, JsonGenerator gen, SerializerProvider serializers)\n                throws IOException, JsonProcessingException {\n            // TODO Auto-generated method stub\n\n            BigDecimal d = new BigDecimal(value);\n            gen.writeNumber(d.toPlainString());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>The trick is to register a custom Serializer for your Double value. This way, you can control what you want. </p>\n\n<p>I am using the BigDecimal value to create a String representation of your Double. The output then becomes (for the specific example):</p>\n\n<pre><code>{\"type\":\"Int\",\"min\":100.0,\"max\":10200000000}\n</code></pre>\n\n<p>I hope that solves your problem.</p>\n\n<p>Artur</p>\n"},{"tags":[],"owner":{"account_id":13765079,"reputation":175,"user_id":9933830,"display_name":"binh phung"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1528866848,"creation_date":1528866848,"answer_id":50829468,"question_id":37722152,"body_markdown":"[Feature.WRITE_BIGDECIMAL_AS_PLAIN][1]\r\nset this for your Object Mapper\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonGenerator.Feature.html","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p><a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonGenerator.Feature.html\" rel=\"noreferrer\">Feature.WRITE_BIGDECIMAL_AS_PLAIN</a>\nset this for your Object Mapper</p>\n"},{"tags":[],"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1608885468,"creation_date":1608885468,"answer_id":65446563,"question_id":37722152,"body_markdown":"I know I am answering late, but something I faced may help other\r\n\r\nWhile converting a BigDecimal I have faced below is working \r\n\r\n    mapper = mapper.setNodeFactory(JsonNodeFactory.withExactBigDecimals(true));\r\n\r\nwhile this is not working for me \r\n\r\n    mapper.configure(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p>I know I am answering late, but something I faced may help other</p>\n<p>While converting a BigDecimal I have faced below is working</p>\n<pre><code>mapper = mapper.setNodeFactory(JsonNodeFactory.withExactBigDecimals(true));\n</code></pre>\n<p>while this is not working for me</p>\n<pre><code>mapper.configure(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1512967,"reputation":11,"user_id":1414623,"display_name":"user1414623"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611352314,"creation_date":1611352314,"answer_id":65853234,"question_id":37722152,"body_markdown":"If you are using ValueToTree then no need of any factory settings. only problem with ValueToTree is it is converting as TextNode (String Fromat), So if you have any logic based on ObjectNodes it will not work ","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p>If you are using ValueToTree then no need of any factory settings. only problem with ValueToTree is it is converting as TextNode (String Fromat), So if you have any logic based on ObjectNodes it will not work</p>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613636062,"creation_date":1613636062,"answer_id":66256000,"question_id":37722152,"body_markdown":"**Update for** `Jakson 2.9.10`:\r\n\r\nProperty `WRITE_BIGDECIMAL_AS_PLAIN` replaced to `com.fasterxml.jackson.core.JsonGenerator`. You could use:\r\n\r\n \r\n\r\n    mapper.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p><strong>Update for</strong> <code>Jakson 2.9.10</code>:</p>\n<p>Property <code>WRITE_BIGDECIMAL_AS_PLAIN</code> replaced to <code>com.fasterxml.jackson.core.JsonGenerator</code>. You could use:</p>\n<pre><code>mapper.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18307535,"reputation":1,"user_id":13331072,"display_name":"Sakrof"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667469182,"creation_date":1667216531,"answer_id":74262744,"question_id":37722152,"body_markdown":"You should use \r\n\r\n```\r\nmapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS, true);\r\n```\r\n\r\nTo avoid scientific notation on floating numbers.\r\n\r\nYou can find an example below.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS, true);\r\n\r\nString test =&quot;{\\&quot;doubleValue\\&quot; : 0.00001}&quot;;\r\n\r\ntry {\r\n    System.out.println(mapper.readTree(test).toPrettyString());\r\n} catch (JsonProcessingException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\n{\r\n    &quot;doubleValue&quot; : 0.00001\r\n}\r\n```\r\n","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p>You should use</p>\n<pre><code>mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS, true);\n</code></pre>\n<p>To avoid scientific notation on floating numbers.</p>\n<p>You can find an example below.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS, true);\n\nString test =&quot;{\\&quot;doubleValue\\&quot; : 0.00001}&quot;;\n\ntry {\n    System.out.println(mapper.readTree(test).toPrettyString());\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output</p>\n<pre><code>{\n    &quot;doubleValue&quot; : 0.00001\n}\n</code></pre>\n"}],"owner":{"account_id":1220613,"reputation":1242,"user_id":1187334,"accept_rate":53,"display_name":"Abhij"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33828,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1667469182,"creation_date":1465464981,"question_id":37722152,"body_markdown":"I am using a library com.fasterxml.jackson library for JsonSchema, \r\nI am creating an IntegerSchema object, when I set range for integer schema using below code:\r\n\r\n    main(){\r\n         IntegerSchema intSchema = new IntegerSchema();\r\n         // setMaximum accepts Double object \r\n         intSchema.setMaximum(new Double(102000000));\r\n         // setMaximum accepts Double object\r\n         intSchema.setMinimum(new Double(100));\r\n        \r\n         printJsonSchema(intSchema);\r\n    }\r\n\r\n\r\n    public void printJsonSchema(JsonSchema schema){\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                logger.info(mapper.writeValueAsString(schema));\r\n            } catch (JsonProcessingException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n    }\r\n\r\nWhen I convert IntegerSchema to string using ObjectMapper getting below response:\r\n\r\n    {&quot;type&quot;:&quot;integer&quot;,&quot;maximum&quot;:1.02E8,&quot;minimum&quot;:100.0}\r\nmaximum and minimum values are getting converted to scientific notation.\r\n\r\nBut I need output in non scientific notation as below:\r\n\r\n    {&quot;type&quot;:&quot;integer&quot;,&quot;maximum&quot;:102000000,&quot;minimum&quot;:100}\r\n\r\nI cannot change IntegerSchema class.\r\n\r\nPlease suggest how to get the required output without extending IntegerSchema class?\r\n\r\nThanks in advance","title":"set Jackson ObjectMapper class not to use scientific notation for double","body":"<p>I am using a library com.fasterxml.jackson library for JsonSchema,\nI am creating an IntegerSchema object, when I set range for integer schema using below code:</p>\n<pre><code>main(){\n     IntegerSchema intSchema = new IntegerSchema();\n     // setMaximum accepts Double object \n     intSchema.setMaximum(new Double(102000000));\n     // setMaximum accepts Double object\n     intSchema.setMinimum(new Double(100));\n    \n     printJsonSchema(intSchema);\n}\n\n\npublic void printJsonSchema(JsonSchema schema){\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            logger.info(mapper.writeValueAsString(schema));\n        } catch (JsonProcessingException e) {\n            throw new IllegalStateException(e);\n        }\n}\n</code></pre>\n<p>When I convert IntegerSchema to string using ObjectMapper getting below response:</p>\n<pre><code>{&quot;type&quot;:&quot;integer&quot;,&quot;maximum&quot;:1.02E8,&quot;minimum&quot;:100.0}\n</code></pre>\n<p>maximum and minimum values are getting converted to scientific notation.</p>\n<p>But I need output in non scientific notation as below:</p>\n<pre><code>{&quot;type&quot;:&quot;integer&quot;,&quot;maximum&quot;:102000000,&quot;minimum&quot;:100}\n</code></pre>\n<p>I cannot change IntegerSchema class.</p>\n<p>Please suggest how to get the required output without extending IntegerSchema class?</p>\n<p>Thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9081,"page":911,"page_size":100}
